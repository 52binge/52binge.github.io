<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  <title>Auckland New Zealand</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="Everyone should not forget his dream">
<meta property="og:type" content="website">
<meta property="og:title" content="Auckland New Zealand">
<meta property="og:url" content="http:&#x2F;&#x2F;iequa.com&#x2F;page&#x2F;7&#x2F;index.html">
<meta property="og:site_name" content="Auckland New Zealand">
<meta property="og:description" content="Everyone should not forget his dream">
<meta property="og:locale" content="en">
<meta name="twitter:card" content="summary">
  
  
    <link rel="icon" href="/css/images/favicon.ico">
  
  <link href="/webfonts/ptserif/main.css" rel='stylesheet' type='text/css'>
  <link href="/webfonts/source-code-pro/main.css" rel="stylesheet" type="text/css">
  <link rel="stylesheet" href="/css/style.css">
  

</head>

<body>
  <div id="container">
    <!-- blair add baidu tongji start... @2017.10.03 -->
<script>
var _hmt = _hmt || [];
(function() {
  var hm = document.createElement("script");
  hm.src = "https://hm.baidu.com/hm.js?8864dc75a81a27b7e44c00138af95d66";
  var s = document.getElementsByTagName("script")[0]; 
  s.parentNode.insertBefore(hm, s);
})();
</script>
<!-- blair add baidu tongji end ! @2017.10.03 -->

<header id="header">
  <div id="header-outer" class="outer">
    <div id="header-inner" class="inner">
      <a id="main-nav-toggle" class="nav-icon" href="javascript:;" target="_blank" rel="noopener"></a>
      <a id="logo" class="logo" href="/"></a>
      <nav id="main-nav">
        
          <a class="main-nav-link" href="/ai1">AI</a>
        
          <a class="main-nav-link" href="/tensorflow">TF/Keras</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
          <a class="main-nav-link" href="/categories">Categories</a>
        
          <a class="main-nav-link" href="/about">About</a>
        
      </nav>
      <nav id="sub-nav">
        <div id="search-form-wrap">
          <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="http://iequa.com"></form>
        </div>
      </nav>
    </div>
  </div>
</header>

    <br>
    <section id="main" class="outer">
      <article id="post-ml/ensumble-boosting-1" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <myh11 itemprop="name">
      <a class="article-title-index" href="/2018/04/07/ml/ensumble-boosting-1/"><strong>Ensemble Learning (part1)</strong></a>
      <small class=article-date-index>&nbsp; 2018-04-07</small>
      <!--<a>
      <div = post.date  </div>
      </a>-->
      <br>
      <br> <!-- blair add -->
    </myh11>
  


      </header>
    
    <div class="article-meta">
      <!--<a href="/2018/04/07/ml/ensumble-boosting-1/" class="article-date">
  <time datetime="2018-04-07T08:08:21.000Z" itemprop="datePublished">2018-04-07</time>
</a>-->
      <!--
  <div class="article-category-index">
    <a class="article-category-index-link" href="/categories/machine-learning/">machine-learning</a>
  </div>

-->
      <!--
      
        <div class="article-comment-link-wrap">
          <a href="http://iequa.com/2018/04/07/ml/ensumble-boosting-1/#disqus_thread" class="article-comment-link">Comments</a>
        </div>
      
      -->
    </div>
	
    <div class="article-entry" itemprop="articleBody">
      
        <p>Ensemble learningï¼ˆé›†æˆå­¦ä¹ ï¼‰ï¼šæ˜¯ç›®å‰æœºå™¨å­¦ä¹ çš„ä¸€å¤§çƒ­é—¨æ–¹å‘ï¼Œæ‰€è°“é›†æˆå­¦ä¹ ç®€å•ç†è§£å°±æ˜¯æŒ‡é‡‡ç”¨å¤šä¸ªåˆ†ç±»å™¨å¯¹æ•°æ®é›†è¿›è¡Œé¢„æµ‹ï¼Œä»è€Œæé«˜æ•´ä½“åˆ†ç±»å™¨çš„æ³›åŒ–èƒ½åŠ›ã€‚</p>
<p>&lt;!-- more --&gt;</p>
<ol>
<li>Bootstraping</li>
<li>Baggingã€Boostingã€Stacking</li>
</ol>
<h2>Bootstraping</h2>
<p>Bootstrapingçš„åç§°æ¥è‡ªæˆè¯­ â€œpull up by your own bootstrapsâ€ï¼Œæ„æ€æ˜¯ä¾é ä½ è‡ªå·±çš„èµ„æºï¼Œå®ƒæ˜¯ä¸€ç§æœ‰æ”¾å›çš„æŠ½æ ·æ–¹æ³•.</p>
<blockquote>
<p>æ³¨:Bootstrapæœ¬ä¹‰æ˜¯æŒ‡é«˜é´å­å£åé¢çš„æ‚¬æŒ‚ç‰©ã€å°ç¯ã€å¸¦å­ï¼Œæ˜¯ç©¿é´å­æ—¶ç”¨æ‰‹å‘ä¸Šæ‹‰çš„å·¥å…·ã€‚â€œpull up by your own bootstrapsâ€å³â€œé€šè¿‡æ‹‰é´å­è®©è‡ªå·±ä¸Š å‡â€ï¼Œæ„æ€æ˜¯â€œä¸å¯èƒ½å‘ç”Ÿçš„äº‹æƒ…â€ã€‚åæ¥æ„æ€å‘ ç”Ÿäº†è½¬å˜ï¼Œéšå–»â€œä¸éœ€è¦å¤–ç•Œå¸®åŠ©ï¼Œä»…ä¾é è‡ªèº«åŠ› é‡è®©è‡ªå·±å˜å¾—æ›´å¥½â€</p>
</blockquote>
<p>bootstraping çš„æ€æƒ³å’Œæ­¥éª¤å¦‚ä¸‹ï¼š</p>
<p>ä¸¾ä¸ªğŸŒ°ï¼šæˆ‘è¦ç»Ÿè®¡é±¼å¡˜é‡Œé¢çš„é±¼çš„æ¡æ•°ï¼Œæ€ä¹ˆç»Ÿè®¡å‘¢ï¼Ÿå‡è®¾é±¼å¡˜æ€»å…±æœ‰é±¼1000æ¡ï¼Œæˆ‘æ˜¯å¼€äº†ä¸Šå¸è§†è§’çš„ï¼Œä½†æ˜¯ä½ æ˜¯ä¸çŸ¥é“é‡Œé¢æœ‰å¤šå°‘ã€‚</p>
<p>æ­¥éª¤ï¼š</p>
<ol>
<li>æ‰¿åŒ…é±¼å¡˜ï¼Œä¸è®©åˆ«äººæé±¼(è§„å®šæ€»ä½“åˆ†å¸ƒä¸å˜)ã€‚</li>
<li>è‡ªå·±æé±¼ï¼Œæ100æ¡ï¼Œéƒ½æ‰“ä¸Šæ ‡ç­¾(æ„é€ æ ·æœ¬)</li>
<li>æŠŠé±¼æ”¾å›é±¼å¡˜ï¼Œä¼‘æ¯ä¸€æ™š(ä½¿ä¹‹æ··å…¥æ•´ä¸ªé±¼ç¾¤ï¼Œç¡®ä¿ä¹‹åæŠ½æ ·éšæœº)</li>
<li>å¼€å§‹æé±¼ï¼Œæ¯æ¬¡æ100æ¡ï¼Œæ•°ä¸€ä¸‹ï¼Œè‡ªå·±æ˜¨å¤©æ ‡è®°çš„é±¼æœ‰å¤šå°‘æ¡ï¼Œå æ¯”å¤šå°‘(ä¸€æ¬¡é‡é‡‡æ ·å–åˆ†å¸ƒ)ã€‚</li>
<li>é‡å¤3ï¼Œ4æ­¥éª¤næ¬¡ã€‚å»ºç«‹åˆ†å¸ƒã€‚</li>
</ol>
<blockquote>
<p>å‡è®¾ä¸€ä¸‹ï¼Œç¬¬ä¸€æ¬¡é‡æ–°æ•é±¼100æ¡ï¼Œå‘ç°é‡Œé¢æœ‰æ ‡è®°çš„é±¼12æ¡ï¼Œè®°ä¸‹ä¸º12%ï¼Œæ”¾å›å»ï¼Œå†æ•é±¼100æ¡ï¼Œå‘ç°æ ‡è®°çš„ä¸º9æ¡ï¼Œè®°ä¸‹9%ï¼Œé‡å¤é‡å¤å¥½å¤šæ¬¡ä¹‹åï¼Œå‡è®¾å–ç½®ä¿¡åŒºé—´95%ï¼Œä½ ä¼šå‘ç°ï¼Œæ¯æ¬¡æ•é±¼å¹³å‡åœ¨10æ¡å·¦å³æœ‰æ ‡è®°ï¼Œæ‰€ä»¥ï¼Œæˆ‘ä»¬å¯ä»¥å¤§è‡´æ¨æµ‹å‡ºé±¼å¡˜æœ‰1000æ¡å·¦å³ã€‚å…¶å®æ˜¯ä¸€ä¸ªå¾ˆç®€å•çš„ç±»ä¼¼äºä¸€ä¸ªæ¯”ä¾‹é—®é¢˜ã€‚è¿™ä¹Ÿæ˜¯å› ä¸ºæå‡ºè€…Efronç»™ç»Ÿè®¡å­¦é¡¶çº§æœŸåˆŠæŠ•ç¨¿çš„æ—¶å€™è¢«æ‹’ç»çš„ç†ç”±--&quot;å¤ªç®€å•&quot;ã€‚è¿™ä¹Ÿå°±è§£é‡Šäº†ï¼Œä¸ºä»€ä¹ˆåœ¨å°æ ·æœ¬çš„æ—¶å€™ï¼Œbootstrapæ•ˆæœè¾ƒå¥½ï¼Œä½ è¿™æ ·æƒ³ï¼Œå¦‚æœæˆ‘æƒ³ç»Ÿè®¡å¤§æµ·é‡Œæœ‰å¤šå°‘é±¼ï¼Œä½ æ ‡è®°100000æ¡ä¹Ÿæ²¡ç”¨å•Šï¼Œå› ä¸ºå®é™…æ•°é‡å¤ªè¿‡åºå¤§ï¼Œä½ å–çš„æ ·æœ¬ç›¸æ¯”äºå¤ªè¿‡æ¸ºå°ï¼Œæœ€å®é™…çš„å°±æ˜¯ï¼Œä½ ä¸‹æ¬¡å†æ•100000çš„æ—¶å€™ï¼Œå‘ç°ä¸€æ¡éƒ½æ²¡æœ‰æ ‡è®°ï¼Œï¼Œï¼Œè¿™TMå°±å°´å°¬äº†ã€‚ã€‚</p>
</blockquote>
<p><strong>Bootstrap ç»å…¸è¯­å½•</strong></p>
<blockquote>
<p>Bootstrapæ˜¯ç°ä»£ç»Ÿè®¡å­¦è¾ƒä¸ºæµè¡Œçš„ä¸€ç§ç»Ÿè®¡æ–¹æ³•ï¼Œåœ¨å°æ ·æœ¬æ—¶æ•ˆæœå¾ˆå¥½ã€‚é€šè¿‡æ–¹å·®çš„ä¼°è®¡å¯ä»¥æ„é€ ç½®ä¿¡åŒºé—´ç­‰ï¼Œå…¶è¿ç”¨èŒƒå›´å¾—åˆ°è¿›ä¸€æ­¥å»¶ä¼¸ã€‚
å°±æ˜¯ä¸€ä¸ªåœ¨è‡ªèº«æ ·æœ¬é‡é‡‡æ ·çš„æ–¹æ³•æ¥ä¼°è®¡çœŸå®åˆ†å¸ƒçš„é—®é¢˜</p>
</blockquote>
<blockquote>
<p>å½“æˆ‘ä»¬ä¸çŸ¥é“æ ·æœ¬åˆ†å¸ƒçš„æ—¶å€™ï¼Œbootstrapæ–¹æ³•æœ€æœ‰ç”¨ã€‚</p>
</blockquote>
<h2>Ensemble learning</h2>
<p>äº†è§£ boosting å’Œ bagging ä¹‹å‰ï¼Œå…ˆäº†è§£ä¸€ä¸‹ä»€ä¹ˆæ˜¯ ensembleï¼Œä¸€å¥è¯ï¼Œä¸‰ä¸ªè‡­çš®åŒ é¡¶ä¸ªè¯¸è‘›äº®ï¼Œä¸€ç®­æ˜“æŠ˜åç®­éš¾æŠ˜ï¼Œåƒé‡Œä¹‹å ¤æºƒäºèšç©´ â€¦ğŸ˜„ğŸ˜„ğŸ˜„ ï¼Œåœ¨åˆ†ç±»çš„è¡¨ç°ä¸Šå°±æ˜¯ï¼Œå¤šä¸ªå¼±åˆ†ç±»å™¨ç»„åˆå˜æˆå¼ºåˆ†ç±»å™¨ã€‚</p>
<p>&lt;img src=&quot;/images/ml/ensumble/ml-ensemble-1.png&quot; width=&quot;500&quot; /&gt;</p>
<blockquote>
<p>å‡è®¾å„å¼±åˆ†ç±»å™¨é—´å…·æœ‰ä¸€å®šå·®å¼‚æ€§ï¼ˆå¦‚ä¸åŒçš„ç®—æ³•ï¼Œæˆ–ç›¸åŒç®—æ³•ä¸åŒå‚æ•°é…ç½®ï¼‰ï¼Œè¿™ä¼šå¯¼è‡´ç”Ÿæˆçš„åˆ†ç±»å†³ç­–è¾¹ç•Œä¸åŒï¼Œä¹Ÿå°±æ˜¯è¯´å®ƒä»¬åœ¨å†³ç­–æ—¶ä¼šçŠ¯ä¸åŒçš„é”™è¯¯ã€‚å°†å®ƒä»¬ç»“åˆåèƒ½å¾—åˆ°æ›´åˆç†çš„è¾¹ç•Œï¼Œå‡å°‘æ•´ä½“é”™è¯¯ï¼Œå®ç°æ›´å¥½çš„åˆ†ç±»æ•ˆæœã€‚</p>
</blockquote>
<h3>Bagging (bootstrap aggregation)</h3>
<blockquote>
<p>baggingï¼šä»è®­ç»ƒé›†ä»è¿›è¡Œå­æŠ½æ ·ç»„æˆæ¯ä¸ªåŸºæ¨¡å‹æ‰€éœ€è¦çš„å­è®­ç»ƒé›†ï¼Œå¯¹æ‰€æœ‰åŸºæ¨¡å‹é¢„æµ‹çš„ç»“æœè¿›è¡Œç»¼åˆäº§ç”Ÿæœ€ç»ˆçš„é¢„æµ‹ç»“æœ,è‡³äºä¸ºä»€ä¹ˆå«bootstrap aggregationï¼Œå› ä¸ºå®ƒæŠ½å–è®­ç»ƒæ ·æœ¬çš„æ—¶å€™é‡‡ç”¨çš„å°±æ˜¯bootstrapçš„æ–¹æ³•ï¼</p>
</blockquote>
<p>Bagging ç­–ç•¥è¿‡ç¨‹ ğŸ˜„ :</p>
<ol>
<li>ä»æ ·æœ¬é›†ä¸­é‡é‡‡æ ·(æœ‰é‡å¤çš„)é€‰å‡ºnä¸ªæ ·æœ¬</li>
<li>åœ¨æ‰€æœ‰å±æ€§ä¸Šï¼Œå¯¹è¿™nä¸ªæ ·æœ¬å»ºç«‹åˆ†ç±»å™¨ (ID3ã€C4.5ã€CARTã€SVMã€Logisticå›å½’ç­‰)</li>
<li>é‡å¤ä»¥ä¸Šä¸¤æ­¥mæ¬¡ï¼Œå³è·å¾—äº†mä¸ªåˆ†ç±»å™¨</li>
<li>å°†æ•°æ®æ”¾åœ¨è¿™mä¸ªåˆ†ç±»å™¨ä¸Šï¼Œæœ€åæ ¹æ®è¿™mä¸ªåˆ†ç±»å™¨çš„æŠ•ç¥¨ç»“æœï¼Œå†³å®šæ•°æ®å±äºå“ªä¸€ç±».</li>
<li>æŠ•ç¥¨æœºåˆ¶ (å¤šæ•°æœä»å°‘æ•°, æ°‘ä¸»æ”¿æ²») çœ‹åˆ°åº•åˆ†åˆ°å“ªä¸€ç±»(åˆ†ç±»é—®é¢˜)</li>
</ol>
<p>&lt;img src=&quot;/images/ml/ensumble/ml-ensemble-2-bagging.jpeg&quot; width=&quot;600&quot; /&gt;</p>
<p><strong>Bagging ä»£è¡¨ç®—æ³• - Random Forest</strong></p>
<p>éšæœºæ£®æ—ï¼Œå®ƒä¸ä»…å¯ä»¥ç”¨æ¥åšåˆ†ç±»ï¼Œä¹Ÿå¯ç”¨æ¥åšå›å½’å³é¢„æµ‹ï¼Œä¸€èˆ¬éšæœºæ£®æ—æœºç”±å¤šä¸ªå†³ç­–æ ‘æ„æˆï¼Œç›¸æ¯”äºå•ä¸ªå†³ç­–æ ‘ç®—æ³•ï¼Œå®ƒåˆ†ç±»ã€é¢„æµ‹æ•ˆæœæ›´å¥½ï¼Œä¸å®¹æ˜“å‡ºç°è¿‡åº¦æ‹Ÿåˆçš„æƒ…å†µã€‚</p>
<p>1.è®­ç»ƒæ ·æœ¬é€‰æ‹©æ–¹é¢çš„Randomï¼š</p>
<blockquote>
<p>Bootstrapæ–¹æ³•éšæœºé€‰æ‹©å­æ ·æœ¬</p>
</blockquote>
<p>2.ç‰¹å¾é€‰æ‹©æ–¹é¢çš„Randomï¼š</p>
<blockquote>
<p>å±æ€§é›†ä¸­éšæœºé€‰æ‹©kä¸ªå±æ€§ï¼Œæ¯ä¸ªæ ‘èŠ‚ç‚¹åˆ†è£‚æ—¶ï¼Œä»è¿™éšæœºçš„kä¸ªå±æ€§ï¼Œé€‰æ‹©æœ€ä¼˜çš„(å¦‚ä½•é€‰æ‹©æœ€ä¼˜åˆæœ‰å„ç§æœ€å¤§å¢ç›Šçš„æ–¹æ³•ï¼Œä¸åœ¨æœ¬æ–‡è®¨è®ºèŒƒå›´å†…)ã€‚</p>
</blockquote>
<p><strong>å†³ç­–æ ‘</strong></p>
<p>å†³ç­–æ ‘å¯¹è®­ç»ƒæ ·æœ¬æœ‰è‰¯å¥½çš„åˆ†ç±»èƒ½åŠ›ï¼Œåªè¦æˆ‘ä»¬çš„å±‚æ•°ä¸åŠ é™åˆ¶ï¼Œæˆ‘ä»¬ç”šè‡³å¯ä»¥æŠŠå®ƒåˆ†çš„æ²¡æœ‰ä»»ä½•è¯¯å·®ï¼Œè¿™æ ·å¯èƒ½å¯¼è‡´ä½ çš„æ³›åŒ–èƒ½åŠ›å¾ˆå¼±ã€‚ ç¼“è§£çš„æ–¹æ³•å°±æ˜¯ 1. å‰ªæ 2. éšæœºæ£®æ—</p>
<p>å‰ªæ æˆ‘è¿˜æ²¡ç”¨è¿‡ï¼Œæ‰€ä»¥æˆ‘ä»¬çœ‹å¸¸ç”¨çš„ éšæœºæ£®æ— Romdom Forest</p>
<p>å†³ç­–æ ‘ ï¼š ç‰¹å¾é€‰æ‹©</p>
<ol>
<li>ID3 ä»…å…·æœ‰æ•™å­¦ä»·å€¼</li>
<li>gini ç³»æ•°ï¼Œä½œä¸ºæŒ‡æ ‡æ¯”è¾ƒå¤šï¼Œåœ¨å®è·µå½“ä¸­</li>
</ol>
<p><strong>Random Forest æ„é€ æµç¨‹</strong></p>
<p>&lt;img src=&quot;/images/ml/ensumble/ml-ensemble-3-bagging.jpeg&quot; width=&quot;600&quot; /&gt;</p>
<blockquote>
<ol>
<li>ç”¨ Random(è®­ç»ƒæ ·æœ¬ç”¨Bootstrapæ–¹æ³•ï¼Œé€‰æ‹©åˆ†ç¦»å¶å­èŠ‚ç‚¹ç”¨ä¸Šé¢çš„2)çš„æ–¹å¼æ„é€ ä¸€æ£µå†³ç­–æ ‘(CART)</li>
<li>ç”¨1çš„æ–¹æ³•æ„é€ å¾ˆå¤šå†³ç­–æ ‘, ä¸å‰ªæ, è®¸å¤šå†³ç­–æ ‘æ„æˆä¸€ç‰‡æ£®æ—ï¼Œå†³ç­–æ ‘ä¹‹é—´æ²¡æœ‰è”ç³»</li>
<li>æµ‹è¯•æ•°æ®è¿›å…¥æ¯ä¸€æ£µå†³ç­–æ ‘ï¼Œæ¯æ£µæ ‘åšå‡ºè‡ªå·±çš„åˆ¤æ–­ï¼Œç„¶åæŠ•ç¥¨é€‰å‡ºæœ€ç»ˆæ‰€å±ç±»åˆ«(é»˜è®¤æ¯æ£µæ ‘æƒé‡ä¸€è‡´)</li>
</ol>
</blockquote>
<p><strong>Random Forest ä¼˜ç‚¹</strong></p>
<blockquote>
<ol>
<li>ä¸å®¹æ˜“å‡ºç°è¿‡æ‹Ÿåˆï¼Œå› ä¸ºé€‰æ‹©è®­ç»ƒæ ·æœ¬çš„æ—¶å€™å°±ä¸æ˜¯å…¨éƒ¨æ ·æœ¬ã€‚</li>
<li>æ—¢å¯å¤„ç†å±æ€§ä¸ºç¦»æ•£å€¼çš„é‡ï¼Œæ¯”å¦‚ID3ç®—æ³•æ¥æ„é€ æ ‘ï¼Œä¹Ÿå¯ä»¥å¤„ç†å±æ€§ä¸ºè¿ç»­å€¼çš„é‡ï¼Œæ¯”å¦‚C4.5ç®—æ³•æ¥æ„é€ æ ‘</li>
<li>å¯¹äºé«˜ç»´æ•°æ®é›†çš„å¤„ç†èƒ½åŠ›ä»¤äººå…´å¥‹ï¼Œå®ƒå¯ä»¥å¤„ç†æˆåƒä¸Šä¸‡çš„è¾“å…¥å˜é‡ï¼Œå¹¶ç¡®å®šæœ€é‡è¦çš„å˜é‡ï¼Œå› æ­¤è¢«è®¤ä¸ºæ˜¯ä¸€ä¸ªä¸é”™çš„é™ç»´æ–¹æ³•ã€‚è¯¥æ¨¡å‹èƒ½å¤Ÿè¾“å‡ºå˜é‡çš„é‡è¦æ€§ç¨‹åº¦ï¼Œè¿™æ˜¯ä¸€ä¸ªéå¸¸ä¾¿åˆ©çš„åŠŸèƒ½ã€‚</li>
<li>åˆ†ç±»ä¸å¹³è¡¡çš„æƒ…å†µæ—¶ï¼Œéšæœºæ£®æ—èƒ½å¤Ÿæä¾›å¹³è¡¡æ•°æ®é›†è¯¯å·®çš„æœ‰æ•ˆæ–¹æ³•</li>
</ol>
</blockquote>
<p><strong>Random Forest ç¼ºç‚¹</strong></p>
<blockquote>
<ol>
<li>éšæœºæ£®æ—åœ¨è§£å†³å›å½’é—®é¢˜æ—¶å¹¶æ²¡æœ‰åƒå®ƒåœ¨åˆ†ç±»ä¸­è¡¨ç°çš„é‚£ä¹ˆå¥½ï¼Œè¿™æ˜¯å› ä¸ºå®ƒå¹¶ä¸èƒ½ç»™å‡ºä¸€ä¸ªè¿ç»­å‹çš„è¾“å‡ºã€‚å½“è¿›è¡Œå›å½’æ—¶ï¼Œéšæœºæ£®æ—ä¸èƒ½å¤Ÿä½œå‡ºè¶…è¶Šè®­ç»ƒé›†æ•°æ®èŒƒå›´çš„é¢„æµ‹ï¼Œè¿™å¯èƒ½å¯¼è‡´åœ¨å¯¹æŸäº›è¿˜æœ‰ç‰¹å®šå™ªå£°çš„æ•°æ®è¿›è¡Œå»ºæ¨¡æ—¶å‡ºç°è¿‡åº¦æ‹Ÿåˆã€‚</li>
<li>å¯¹äºè®¸å¤šç»Ÿè®¡å»ºæ¨¡è€…æ¥è¯´ï¼Œéšæœºæ£®æ—ç»™äººçš„æ„Ÿè§‰åƒæ˜¯ä¸€ä¸ªé»‘ç›’å­â€”â€”ä½ å‡ ä¹æ— æ³•æ§åˆ¶æ¨¡å‹å†…éƒ¨çš„è¿è¡Œï¼Œåªèƒ½åœ¨ä¸åŒçš„å‚æ•°å’Œéšæœºç§å­ä¹‹é—´è¿›è¡Œå°è¯•ã€‚</li>
</ol>
</blockquote>
<blockquote>
<p>ä¼˜ç¼ºç‚¹ï¼Œéœ€è¦ä¸æ°ç¥å•†è®¨å†?</p>
</blockquote>
<h2>Reference article</h2>
<ul>
<li><a href="https://www.jianshu.com/p/708dff71df3a" target="_blank" rel="noopener">Baggingï¼ˆBootstrap aggregatingï¼‰ã€éšæœºæ£®æ—ï¼ˆrandom forestsï¼‰ã€AdaBoost</a></li>
<li><a href="https://blog.csdn.net/xlinsist/article/details/51475345" target="_blank" rel="noopener">Bootstrap(è‡ªåŠ©æ³•)ï¼ŒBaggingï¼ŒBoosting(æå‡)</a></li>
</ul>

      
    </div>
	
    <!--
	
    -->
    <!--
    
      <footer class="article-footer">
      </footer>
    
    -->
  </div>
  
</article>



    
      <article id="post-English/english-cindy-listening-duoyi" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <myh11 itemprop="name">
      <a class="article-title-index" href="/2018/01/28/English/english-cindy-listening-duoyi/"><strong>ä¸€èˆ¬è‹±æ–‡è½åŠ›ç·´ç¿’æ–¹æ³•</strong></a>
      <small class=article-date-index>&nbsp; 2018-01-28</small>
      <!--<a>
      <div = post.date  </div>
      </a>-->
      <br>
      <br> <!-- blair add -->
    </myh11>
  


      </header>
    
    <div class="article-meta">
      <!--<a href="/2018/01/28/English/english-cindy-listening-duoyi/" class="article-date">
  <time datetime="2018-01-28T14:47:16.000Z" itemprop="datePublished">2018-01-28</time>
</a>-->
      <!--
  <div class="article-category-index">
    <a class="article-category-index-link" href="/categories/English/">English</a>
  </div>

-->
      <!--
      
        <div class="article-comment-link-wrap">
          <a href="http://iequa.com/2018/01/28/English/english-cindy-listening-duoyi/#disqus_thread" class="article-comment-link">Comments</a>
        </div>
      
      -->
    </div>
	
    <div class="article-entry" itemprop="articleBody">
      
        <p>å¤šç›Š ä»¥åŠ ä¸€èˆ¬è‹±æ–‡è½åŠ›åŠ å¼· | å’ŒCindyå­¸è‹±æ–‡ ç¬”è®°</p>
<p>&lt;!-- more --&gt;</p>
<h2>ç·´ç¿’è½åŠ›</h2>
<p>Useful Websites</p>
<ul>
<li>
<p><a href="http://www.newsinlevels.com/" target="_blank" rel="noopener">News In Levels</a></p>
</li>
<li>
<p><a href="https://umano.me/" target="_blank" rel="noopener">Umano</a></p>
</li>
<li>
<p><a href="http://lyricstraining.com/" target="_blank" rel="noopener">Lyrics Training</a></p>
</li>
</ul>
<p>Listen to Music</p>
<ul>
<li>
<p><a href="http://lyricstraining.com/" target="_blank" rel="noopener">Lyrics Training</a></p>
</li>
<li>
<p><a href="https://www.youtube.com/results?search_query=Taylor+Swift" target="_blank" rel="noopener">Taylor Swiftã€Miley Cyrusã€Blake Shelton...</a></p>
</li>
</ul>
<p>Sitcom and Movies</p>
<ul>
<li>
<p><a href="http://www.livesinabox.com/friends/scripts.shtml" target="_blank" rel="noopener">Friends</a></p>
</li>
<li>
<p><a href="https://www.springfieldspringfield.co.uk/episode_scripts.php?tv-show=how-i-met-your-mother" target="_blank" rel="noopener">How I met your Mother</a></p>
</li>
<li>
<p><a href="http://www.imsdb.com/scripts/Titanic.html" target="_blank" rel="noopener">Titanic</a></p>
</li>
<li>
<p><a href="https://www.springfieldspringfield.co.uk/movie_script.php?movie=the-hobbit-an-unexpected-journey" target="_blank" rel="noopener">Hobbit</a></p>
</li>
</ul>
<h2>Reference</h2>
<ul>
<li><a href="https://www.youtube.com/watch?v=D8gdg1zdM7U" target="_blank" rel="noopener">å¤šç›Š è‹±æ–‡è½åŠ›åŠ å¼· å’ŒCindyå­¸è‹±æ–‡</a></li>
</ul>

      
    </div>
	
    <!--
	
    -->
    <!--
    
      <footer class="article-footer">
      </footer>
    
    -->
  </div>
  
</article>



    
      <article id="post-python/language/py-language-13-copy" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <myh11 itemprop="name">
      <a class="article-title-index" href="/2018/01/24/python/language/py-language-13-copy/"><strong>Python copy &amp; deepcopy</strong></a>
      <small class=article-date-index>&nbsp; 2018-01-24</small>
      <!--<a>
      <div = post.date  </div>
      </a>-->
      <br>
      <br> <!-- blair add -->
    </myh11>
  


      </header>
    
    <div class="article-meta">
      <!--<a href="/2018/01/24/python/language/py-language-13-copy/" class="article-date">
  <time datetime="2018-01-24T07:00:21.000Z" itemprop="datePublished">2018-01-24</time>
</a>-->
      <!--
  <div class="article-category-index">
    <a class="article-category-index-link" href="/categories/python/">python</a>
  </div>

-->
      <!--
      
        <div class="article-comment-link-wrap">
          <a href="http://iequa.com/2018/01/24/python/language/py-language-13-copy/#disqus_thread" class="article-comment-link">Comments</a>
        </div>
      
      -->
    </div>
	
    <div class="article-entry" itemprop="articleBody">
      
        <p>å¯¹è±¡çš„èµ‹å€¼ï¼Œæ‹·è´ï¼ˆæ·±/æµ…æ‹·è´ï¼‰ä¹‹é—´æ˜¯æœ‰å·®å¼‚çš„ï¼Œå¦‚æœä½¿ç”¨ä¸å½“ï¼Œå¯èƒ½äº§ç”Ÿæ„å¤–çš„ç»“æœ.</p>
<p>&lt;!-- more --&gt;</p>
<h2>id</h2>
<p>ä»€ä¹ˆæ˜¯<code>id</code>ï¼Ÿä¸€ä¸ªå¯¹è±¡çš„<code>id</code>å€¼åœ¨<code>CPython</code>è§£é‡Šå™¨é‡Œå°±ä»£è¡¨å®ƒåœ¨å†…å­˜ä¸­çš„`åœ°å€</p>
<p><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> copy</span><br><span class="line">a=[<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>]</span><br><span class="line">b=a</span><br><span class="line"></span><br><span class="line">print(id(a))</span><br><span class="line"></span><br><span class="line">print(id(b))</span><br><span class="line"></span><br><span class="line">print(id(a)==id(b))    <span class="comment">#é™„å€¼åï¼Œä¸¤è€…çš„idç›¸åŒï¼Œä¸ºtrueã€‚</span></span><br><span class="line"></span><br><span class="line">b[<span class="number">0</span>]=<span class="number">222222</span>  <span class="comment"># æ­¤æ—¶ï¼Œæ”¹å˜bçš„ç¬¬ä¸€ä¸ªå€¼ï¼Œä¹Ÿä¼šå¯¼è‡´aå€¼æ”¹å˜ã€‚</span></span><br><span class="line">print(a,b)</span><br></pre></td></tr></table></figure></p>
<pre><code>4449594888
4449594888
True
[222222, 2, 3] [222222, 2, 3]
</code></pre>
<h2>æµ…æ‹·è´</h2>
<p>å½“ä½¿ç”¨æµ…æ‹·è´æ—¶ï¼Œpython åªæ˜¯æ‹·è´äº†æœ€å¤–å›´çš„å¯¹è±¡æœ¬èº«ï¼Œå†…éƒ¨çš„å…ƒç´ éƒ½åªæ˜¯æ‹·è´äº†ä¸€ä¸ªå¼•ç”¨è€Œå·²</p>
<p><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> copy</span><br><span class="line"></span><br><span class="line">a=[<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>]</span><br><span class="line">c=copy.copy(a)  <span class="comment">#æ‹·è´äº†açš„å¤–å›´å¯¹è±¡æœ¬èº«,</span></span><br><span class="line">print(id(c))</span><br><span class="line"></span><br><span class="line">print(id(a)==id(c))  <span class="comment">#id æ”¹å˜ ä¸ºfalse</span></span><br><span class="line"></span><br><span class="line">c[<span class="number">1</span>]=<span class="number">22222</span>   <span class="comment">#æ­¤æ—¶ï¼Œæˆ‘å»æ”¹å˜cçš„ç¬¬äºŒä¸ªå€¼æ—¶ï¼Œaä¸ä¼šè¢«æ”¹å˜ã€‚</span></span><br><span class="line">print(a,c)</span><br><span class="line"><span class="comment"># [1, 2, 3] [1, 22222, 3] #aå€¼ä¸å˜,cçš„ç¬¬äºŒä¸ªå€¼å˜äº†ï¼Œè¿™å°±æ˜¯copyå’Œâ€˜==â€™çš„ä¸åŒ</span></span><br></pre></td></tr></table></figure></p>
<pre><code>4449594440
False
[1, 2, 3] [1, 22222, 3]
</code></pre>
<h2>æ·±æ‹·è´</h2>
<p><code>deepcopy</code> å¯¹å¤–å›´å’Œå†…éƒ¨å…ƒç´ éƒ½è¿›è¡Œäº†æ‹·è´å¯¹è±¡æœ¬èº«ï¼Œè€Œä¸æ˜¯å¯¹è±¡çš„å¼•ç”¨</p>
<p><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment">#copy.copy()</span></span><br><span class="line"></span><br><span class="line">a=[<span class="number">1</span>,<span class="number">2</span>,[<span class="number">3</span>,<span class="number">4</span>]]  <span class="comment">#ç¬¬ä¸‰ä¸ªå€¼ä¸ºåˆ—è¡¨[3,4],å³å†…éƒ¨å…ƒç´ </span></span><br><span class="line">d=copy.copy(a) <span class="comment">#æµ…æ‹·è´aä¸­çš„[3ï¼Œ4]å†…éƒ¨å…ƒç´ çš„å¼•ç”¨ï¼Œéå†…éƒ¨å…ƒç´ å¯¹è±¡çš„æœ¬èº«</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>id(a)==id(d)</span><br><span class="line"><span class="literal">False</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>id(a[<span class="number">2</span>])==id(d[<span class="number">2</span>])</span><br><span class="line"><span class="literal">True</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>a[<span class="number">2</span>][<span class="number">0</span>]=<span class="number">3333</span>  <span class="comment">#æ”¹å˜aä¸­å†…éƒ¨åŸå±åˆ—è¡¨ä¸­çš„ç¬¬ä¸€ä¸ªå€¼</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>d             <span class="comment">#è¿™æ—¶dä¸­çš„åˆ—è¡¨å…ƒç´ ä¹Ÿä¼šè¢«æ”¹å˜</span></span><br><span class="line">[<span class="number">1</span>, <span class="number">2</span>, [<span class="number">3333</span>, <span class="number">4</span>]]</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">#copy.deepcopy()</span></span><br><span class="line"></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>e=copy.deepcopy(a) <span class="comment">#eä¸ºæ·±æ‹·è´äº†a</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>a[<span class="number">2</span>][<span class="number">0</span>]=<span class="number">333</span> <span class="comment">#æ”¹å˜aä¸­å†…éƒ¨å…ƒç´ åˆ—è¡¨ç¬¬ä¸€ä¸ªçš„å€¼</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>e</span><br><span class="line">[<span class="number">1</span>, <span class="number">2</span>, [<span class="number">3333</span>, <span class="number">4</span>]] <span class="comment">#å› ä¸ºæ—¶æ·±æ‹·è´ï¼Œè¿™æ—¶eä¸­å†…éƒ¨å…ƒç´ []åˆ—è¡¨çš„å€¼ä¸ä¼šå› ä¸ºaä¸­çš„å€¼æ”¹å˜è€Œæ”¹å˜</span></span><br><span class="line">&gt;&gt;&gt;</span><br></pre></td></tr></table></figure></p>
<h2>Reference</h2>
<ul>
<li><a href="https://docs.python.org/" target="_blank" rel="noopener">docs.python.org</a></li>
<li><a href="https://morvanzhou.github.io/" target="_blank" rel="noopener">python morvanzhou</a></li>
<li><a href="https://www.liaoxuefeng.com/" target="_blank" rel="noopener">python liaoxuefeng</a></li>
</ul>

      
    </div>
	
    <!--
	
    -->
    <!--
    
      <footer class="article-footer">
      </footer>
    
    -->
  </div>
  
</article>



    
      <article id="post-python/language/py-language-12-try-exception" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <myh11 itemprop="name">
      <a class="article-title-index" href="/2018/01/24/python/language/py-language-12-try-exception/"><strong>Python try â€¦ except â€¦ as â€¦</strong></a>
      <small class=article-date-index>&nbsp; 2018-01-24</small>
      <!--<a>
      <div = post.date  </div>
      </a>-->
      <br>
      <br> <!-- blair add -->
    </myh11>
  


      </header>
    
    <div class="article-meta">
      <!--<a href="/2018/01/24/python/language/py-language-12-try-exception/" class="article-date">
  <time datetime="2018-01-24T06:02:21.000Z" itemprop="datePublished">2018-01-24</time>
</a>-->
      <!--
  <div class="article-category-index">
    <a class="article-category-index-link" href="/categories/python/">python</a>
  </div>

-->
      <!--
      
        <div class="article-comment-link-wrap">
          <a href="http://iequa.com/2018/01/24/python/language/py-language-12-try-exception/#disqus_thread" class="article-comment-link">Comments</a>
        </div>
      
      -->
    </div>
	
    <div class="article-entry" itemprop="articleBody">
      
        <p>try:, except ... as ...:</p>
<p>&lt;!-- more --&gt;</p>
<h2>é”™è¯¯å¤„ç†</h2>
<p>è¾“å‡ºé”™è¯¯ï¼š<code>try:, except ... as ...</code>: çœ‹å¦‚ä¸‹ä»£ç </p>
<p><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">try</span>:</span><br><span class="line">    file=open(<span class="string">'eeee.txt'</span>,<span class="string">'r'</span>)  <span class="comment">#ä¼šæŠ¥é”™çš„ä»£ç </span></span><br><span class="line"><span class="keyword">except</span> Exception <span class="keyword">as</span> e:  <span class="comment"># å°†æŠ¥é”™å­˜å‚¨åœ¨ e ä¸­</span></span><br><span class="line">    print(e)</span><br></pre></td></tr></table></figure></p>
<pre><code>[Errno 2] No such file or directory: 'eeee.txt'
</code></pre>
<p><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">try</span>:</span><br><span class="line">    file=open(<span class="string">'eeee.txt'</span>,<span class="string">'r+'</span>)</span><br><span class="line"><span class="keyword">except</span> Exception <span class="keyword">as</span> e:</span><br><span class="line">    print(e)</span><br><span class="line">    response = input(<span class="string">'do you want to create a new file:'</span>)</span><br><span class="line">    <span class="keyword">if</span> response==<span class="string">'y'</span>:</span><br><span class="line">        file=open(<span class="string">'eeee.txt'</span>,<span class="string">'w'</span>)</span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        <span class="keyword">pass</span></span><br><span class="line"><span class="keyword">else</span>:</span><br><span class="line">    file.write(<span class="string">'ssss'</span>)</span><br><span class="line">    file.close()</span><br></pre></td></tr></table></figure></p>
<pre><code>[Errno 2] No such file or directory: 'eeee.txt'
do you want to create a new file:y
</code></pre>
<h2>Reference</h2>
<ul>
<li><a href="https://docs.python.org/" target="_blank" rel="noopener">docs.python.org</a></li>
<li><a href="https://morvanzhou.github.io/" target="_blank" rel="noopener">python morvanzhou</a></li>
<li><a href="https://www.liaoxuefeng.com/" target="_blank" rel="noopener">python liaoxuefeng</a></li>
</ul>

      
    </div>
	
    <!--
	
    -->
    <!--
    
      <footer class="article-footer">
      </footer>
    
    -->
  </div>
  
</article>



    
      <article id="post-python/language/py-language-11-zip-lambda-map" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <myh11 itemprop="name">
      <a class="article-title-index" href="/2018/01/24/python/language/py-language-11-zip-lambda-map/"><strong>Python å‡½æ•°å¼ç¼–ç¨‹ zipã€lambdaã€map...</strong></a>
      <small class=article-date-index>&nbsp; 2018-01-24</small>
      <!--<a>
      <div = post.date  </div>
      </a>-->
      <br>
      <br> <!-- blair add -->
    </myh11>
  


      </header>
    
    <div class="article-meta">
      <!--<a href="/2018/01/24/python/language/py-language-11-zip-lambda-map/" class="article-date">
  <time datetime="2018-01-24T06:00:21.000Z" itemprop="datePublished">2018-01-24</time>
</a>-->
      <!--
  <div class="article-category-index">
    <a class="article-category-index-link" href="/categories/python/">python</a>
  </div>

-->
      <!--
      
        <div class="article-comment-link-wrap">
          <a href="http://iequa.com/2018/01/24/python/language/py-language-11-zip-lambda-map/#disqus_thread" class="article-comment-link">Comments</a>
        </div>
      
      -->
    </div>
	
    <div class="article-entry" itemprop="articleBody">
      
        <p>zipã€lambdaã€map...</p>
<p>&lt;!-- more --&gt;</p>
<h2>zip</h2>
<p><code>zip</code> å‡½æ•°æ¥å—ä»»æ„å¤šä¸ªï¼ˆåŒ…æ‹¬0ä¸ªå’Œ1ä¸ªï¼‰åºåˆ—ä½œä¸ºå‚æ•°ï¼Œåˆå¹¶åè¿”å›ä¸€ä¸ªtupleåˆ—è¡¨</p>
<p><figure class="highlight python"><table><tr><td class="code"><pre><span class="line">a=[<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>]</span><br><span class="line">b=[<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>]</span><br><span class="line">ab=zip(a,b)</span><br><span class="line">print(list(ab))  <span class="comment">#éœ€è¦åŠ listæ¥å¯è§†åŒ–è¿™ä¸ªåŠŸèƒ½</span></span><br></pre></td></tr></table></figure></p>
<pre><code>[(1, 4), (2, 5), (3, 6)]
</code></pre>
<p><figure class="highlight python"><table><tr><td class="code"><pre><span class="line">a=[<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>]</span><br><span class="line">b=[<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>]</span><br><span class="line">ab=zip(a,b)</span><br><span class="line"></span><br><span class="line">print(list(ab))</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> i,j <span class="keyword">in</span> zip(a,b):</span><br><span class="line">     print(i/<span class="number">2</span>,j*<span class="number">2</span>)</span><br></pre></td></tr></table></figure></p>
<pre><code>[(1, 4), (2, 5), (3, 6)]
0.5 8
1.0 10
1.5 12
</code></pre>
<h2>lambda</h2>
<p><code>lambda</code> å®šä¹‰ä¸€ä¸ªç®€å•çš„å‡½æ•°ï¼Œå®ç°ç®€åŒ–ä»£ç çš„åŠŸèƒ½ï¼Œçœ‹ä»£ç ä¼šæ›´å¥½ç†è§£ã€‚</p>
<p><code>fun = lambda x,y : x+y</code>, å†’å·å‰çš„<code>x</code>,<code>y</code>ä¸ºè‡ªå˜é‡ï¼Œå†’å·å<code>x+y</code>ä¸ºå…·ä½“è¿ç®—</p>
<p><figure class="highlight python"><table><tr><td class="code"><pre><span class="line">fun= <span class="keyword">lambda</span> x,y:x+y</span><br><span class="line">x=int(input(<span class="string">'x='</span>))    <span class="comment">#è¿™é‡Œè¦å®šä¹‰intæ•´æ•°ï¼Œå¦åˆ™ä¼šé»˜è®¤ä¸ºå­—ç¬¦ä¸²</span></span><br><span class="line">y=int(input(<span class="string">'y='</span>))</span><br><span class="line">print(fun(x,y))</span><br></pre></td></tr></table></figure></p>
<pre><code>x=4
y=6
10
</code></pre>
<h2>map</h2>
<p><code>map</code> æ˜¯æŠŠ <code>å‡½æ•°</code> å’Œ <code>å‚æ•°</code> ç»‘å®šåœ¨ä¸€èµ·.</p>
<p><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">fun</span><span class="params">(x,y)</span>:</span></span><br><span class="line">	<span class="keyword">return</span> (x+y)</span><br><span class="line"></span><br><span class="line">print(list(map(fun,[<span class="number">1</span>],[<span class="number">2</span>])))</span><br><span class="line"></span><br><span class="line">list(map(fun,[<span class="number">1</span>,<span class="number">2</span>],[<span class="number">3</span>,<span class="number">4</span>]))</span><br></pre></td></tr></table></figure></p>
<pre><code>[3]
[4, 6]
</code></pre>
<h2>Reference</h2>
<ul>
<li><a href="https://docs.python.org/" target="_blank" rel="noopener">docs.python.org</a></li>
<li><a href="https://morvanzhou.github.io/" target="_blank" rel="noopener">python morvanzhou</a></li>
<li><a href="https://www.liaoxuefeng.com/" target="_blank" rel="noopener">python liaoxuefeng</a></li>
</ul>

      
    </div>
	
    <!--
	
    -->
    <!--
    
      <footer class="article-footer">
      </footer>
    
    -->
  </div>
  
</article>



    
      <article id="post-python/matplotlib/py-matplotlib-9-bar" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <myh11 itemprop="name">
      <a class="article-title-index" href="/2018/01/24/python/matplotlib/py-matplotlib-9-bar/"><strong>Matplotlib Bar</strong></a>
      <small class=article-date-index>&nbsp; 2018-01-24</small>
      <!--<a>
      <div = post.date  </div>
      </a>-->
      <br>
      <br> <!-- blair add -->
    </myh11>
  


      </header>
    
    <div class="article-meta">
      <!--<a href="/2018/01/24/python/matplotlib/py-matplotlib-9-bar/" class="article-date">
  <time datetime="2018-01-24T05:20:21.000Z" itemprop="datePublished">2018-01-24</time>
</a>-->
      <!--
  <div class="article-category-index">
    <a class="article-category-index-link" href="/categories/python/">python</a>
  </div>

-->
      <!--
      
        <div class="article-comment-link-wrap">
          <a href="http://iequa.com/2018/01/24/python/matplotlib/py-matplotlib-9-bar/#disqus_thread" class="article-comment-link">Comments</a>
        </div>
      
      -->
    </div>
	
    <div class="article-entry" itemprop="articleBody">
      
        <p>ä¸Šç¯‡å­¦ä¹ äº†å¦‚ä½• plot Scatterï¼Œä»Šå¤©æˆ‘ä»¬è®²è¿°å¦‚ä½• plot <code>Bar</code></p>
<p>&lt;!-- more --&gt;</p>
<p>ä»Šæ—¥ç›®æ ‡ : æŸ±çŠ¶å›¾åˆ†æˆä¸Šä¸‹ä¸¤éƒ¨åˆ†ï¼Œæ¯ä¸€ä¸ªæŸ±ä½“ä¸Šéƒ½æœ‰ç›¸åº”çš„æ•°å€¼æ ‡æ³¨ï¼Œå¹¶ä¸”å–æ¶ˆåæ ‡è½´çš„æ˜¾ç¤º.</p>
<h2>ç”ŸæˆåŸºæœ¬å›¾å½¢</h2>
<p>å‘ä¸Šå‘ä¸‹ç”Ÿæˆ<code>12ä¸ªæ•°æ®</code>ï¼Œ<code>X</code> ä¸º [0,11] çš„æ•´æ•° ï¼Œ<code>Y</code>æ˜¯å‡åŒ€åˆ†å¸ƒçš„éšæœºæ•°æ®ã€‚ ä½¿ç”¨çš„å‡½æ•°æ˜¯<code>plt.bar</code>ï¼Œå‚æ•°ä¸º<code>X</code>å’Œ<code>Y</code>ï¼š</p>
<p><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"></span><br><span class="line">n = <span class="number">12</span></span><br><span class="line"></span><br><span class="line">X = np.arange(n)</span><br><span class="line"></span><br><span class="line">Y1 = (<span class="number">1</span> - X / float(n)) * np.random.uniform(<span class="number">0.5</span>, <span class="number">1.0</span>, n)</span><br><span class="line">Y2 = (<span class="number">1</span> - X / float(n)) * np.random.uniform(<span class="number">0.5</span>, <span class="number">1.0</span>, n)</span><br><span class="line"></span><br><span class="line">plt.bar(X, +Y1)</span><br><span class="line">plt.bar(X, -Y2)</span><br><span class="line"></span><br><span class="line">plt.xlim(<span class="number">-.5</span>, n)</span><br><span class="line">plt.xticks(())</span><br><span class="line"></span><br><span class="line">plt.ylim(<span class="number">-1.25</span>, <span class="number">1.25</span>)</span><br><span class="line">plt.yticks(())</span><br><span class="line"></span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure></p>
<p>&lt;div class=&quot;limg1&quot;&gt;
&lt;img src=&quot;/images/python/matplotlib-9-bar-1-output_1_0.png&quot; height=&quot;100&quot; width=&quot;550&quot; /&gt;
&lt;/div&gt;</p>
<h2>åŠ é¢œè‰²å’Œæ•°æ®</h2>
<p>ç”¨<code>facecolor</code>è®¾ç½®ä¸»ä½“é¢œè‰²ï¼Œ<code>edgecolor</code>è®¾ç½®è¾¹æ¡†é¢œè‰²ä¸ºç™½è‰²ï¼Œ</p>
<p><figure class="highlight python"><table><tr><td class="code"><pre><span class="line">plt.bar(X, +Y1, facecolor=<span class="string">'#9999ff'</span>, edgecolor=<span class="string">'white'</span>)</span><br><span class="line">plt.bar(X, -Y2, facecolor=<span class="string">'#ff9999'</span>, edgecolor=<span class="string">'white'</span>)</span><br><span class="line"></span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure></p>
<p>&lt;div class=&quot;limg1&quot;&gt;
&lt;img src=&quot;/images/python/matplotlib-9-bar-2-output_3_0.png&quot; height=&quot;100&quot; width=&quot;550&quot; /&gt;
&lt;/div&gt;</p>
<p>æ¥ä¸‹æ¥æˆ‘ä»¬ç”¨å‡½æ•°<code>plt.text</code>åˆ†åˆ«åœ¨æŸ±ä½“ä¸Šæ–¹ï¼ˆä¸‹æ–¹ï¼‰åŠ ä¸Šæ•°å€¼ï¼Œç”¨<code>%.2f</code>ä¿ç•™ä¸¤ä½å°æ•°ï¼Œæ¨ªå‘å±…ä¸­å¯¹é½<code>ha='center'</code>ï¼Œçºµå‘åº•éƒ¨ï¼ˆé¡¶éƒ¨ï¼‰å¯¹é½<code>va='bottom'</code>ï¼š</p>
<p><figure class="highlight python"><table><tr><td class="code"><pre><span class="line">plt.bar(X, +Y1, facecolor=<span class="string">'#9999ff'</span>, edgecolor=<span class="string">'white'</span>)</span><br><span class="line">plt.bar(X, -Y2, facecolor=<span class="string">'#ff9999'</span>, edgecolor=<span class="string">'white'</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> x, y <span class="keyword">in</span> zip(X, Y1):</span><br><span class="line">    <span class="comment"># ha: horizontal alignment</span></span><br><span class="line">    <span class="comment"># va: vertical alignment</span></span><br><span class="line">    plt.text(x + <span class="number">0.4</span>, y + <span class="number">0.05</span>, <span class="string">'%.2f'</span> % y, ha=<span class="string">'center'</span>, va=<span class="string">'bottom'</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> x, y <span class="keyword">in</span> zip(X, Y2):</span><br><span class="line">    <span class="comment"># ha: horizontal alignment</span></span><br><span class="line">    <span class="comment"># va: vertical alignment</span></span><br><span class="line">    plt.text(x + <span class="number">0.4</span>, -y - <span class="number">0.05</span>, <span class="string">'%.2f'</span> % y, ha=<span class="string">'center'</span>, va=<span class="string">'top'</span>)</span><br><span class="line">    </span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure></p>
<p>&lt;div class=&quot;limg1&quot;&gt;
&lt;img src=&quot;/images/python/matplotlib-9-bar-3-output_5_0.png&quot; height=&quot;100&quot; width=&quot;550&quot; /&gt;
&lt;/div&gt;</p>
<h2>Reference</h2>
<ul>
<li><a href="https://matplotlib.org/" target="_blank" rel="noopener">matplotlib.org</a></li>
<li><a href="https://matplotlib.org/contents.html" target="_blank" rel="noopener">matplotlib docs</a></li>
<li><a href="https://morvanzhou.github.io" target="_blank" rel="noopener">morvanzhou</a></li>
</ul>

      
    </div>
	
    <!--
	
    -->
    <!--
    
      <footer class="article-footer">
      </footer>
    
    -->
  </div>
  
</article>



    
      <article id="post-python/matplotlib/py-matplotlib-8-scatter" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <myh11 itemprop="name">
      <a class="article-title-index" href="/2018/01/24/python/matplotlib/py-matplotlib-8-scatter/"><strong>Matplotlib Scatter</strong></a>
      <small class=article-date-index>&nbsp; 2018-01-24</small>
      <!--<a>
      <div = post.date  </div>
      </a>-->
      <br>
      <br> <!-- blair add -->
    </myh11>
  


      </header>
    
    <div class="article-meta">
      <!--<a href="/2018/01/24/python/matplotlib/py-matplotlib-8-scatter/" class="article-date">
  <time datetime="2018-01-24T03:08:21.000Z" itemprop="datePublished">2018-01-24</time>
</a>-->
      <!--
  <div class="article-category-index">
    <a class="article-category-index-link" href="/categories/python/">python</a>
  </div>

-->
      <!--
      
        <div class="article-comment-link-wrap">
          <a href="http://iequa.com/2018/01/24/python/matplotlib/py-matplotlib-8-scatter/#disqus_thread" class="article-comment-link">Comments</a>
        </div>
      
      -->
    </div>
	
    <div class="article-entry" itemprop="articleBody">
      
        <p>ä¸Šç¯‡å­¦ä¹ äº†å¦‚ä½• plot çº¿ï¼Œä»Šå¤©å­¦ä¹ å¦‚ä½• plot <code>Scatter</code> æ•£ç‚¹å›¾</p>
<p>&lt;!-- more --&gt;</p>
<p>å¼•å…¥æ¨¡å—<code>numpy</code>ç”¨æ¥äº§ç”Ÿä¸€äº›éšæœºæ•°æ®ã€‚ç”Ÿæˆ<code>1024</code>ä¸ªå‘ˆæ ‡å‡†æ­£æ€åˆ†å¸ƒçš„äºŒç»´æ•°æ®ç»„ (å¹³å‡æ•°æ˜¯<code>0</code>ï¼Œæ–¹å·®ä¸º<code>1</code>) ä½œä¸ºä¸€ä¸ªæ•°æ®é›†ï¼Œå¹¶å›¾åƒåŒ–è¿™ä¸ªæ•°æ®é›†ã€‚æ¯ä¸€ä¸ªç‚¹çš„é¢œè‰²å€¼ç”¨<code>T</code>æ¥è¡¨ç¤ºï¼š</p>
<p><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"></span><br><span class="line">n = <span class="number">1024</span>    <span class="comment"># data size</span></span><br><span class="line"></span><br><span class="line">X = np.random.normal(<span class="number">0</span>, <span class="number">1</span>, n) <span class="comment"># æ¯ä¸€ä¸ªç‚¹çš„Xå€¼</span></span><br><span class="line">Y = np.random.normal(<span class="number">0</span>, <span class="number">1</span>, n) <span class="comment"># æ¯ä¸€ä¸ªç‚¹çš„Yå€¼</span></span><br><span class="line"></span><br><span class="line">T = np.arctan2(Y,X) <span class="comment"># for color value</span></span><br></pre></td></tr></table></figure></p>
<p>æ•°æ®é›†ç”Ÿæˆå®Œæ¯•ï¼Œç°åœ¨æ¥ç”¨ <code>scatter</code> <code>plot</code> è¿™ä¸ªç‚¹é›†</p>
<p>è¾“å…¥<code>X</code>å’Œ<code>Y</code>ä½œä¸ºlocationï¼Œ<code>size=75</code>ï¼Œé¢œè‰²ä¸º<code>T</code>ï¼Œ<code>color map</code> ç”¨é»˜è®¤å€¼ï¼Œé€æ˜åº¦<code>alpha</code> ä¸º 50%ã€‚ xè½´æ˜¾ç¤ºèŒƒå›´å®šä½(-1.5ï¼Œ1.5)ï¼Œå¹¶ç”¨<code>xtick()</code> å‡½æ•°æ¥éšè—<code>x</code>åæ ‡è½´ï¼Œ<code>y</code>è½´åŒç†ï¼š</p>
<p><figure class="highlight python"><table><tr><td class="code"><pre><span class="line">plt.scatter(X, Y, s=<span class="number">75</span>, c=T, alpha=<span class="number">.5</span>)</span><br><span class="line"></span><br><span class="line">plt.xlim(<span class="number">-1.5</span>, <span class="number">1.5</span>)</span><br><span class="line">plt.xticks(())  <span class="comment"># ignore xticks</span></span><br><span class="line">plt.ylim(<span class="number">-1.5</span>, <span class="number">1.5</span>)</span><br><span class="line">plt.yticks(())  <span class="comment"># ignore yticks</span></span><br><span class="line"></span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure></p>
<p>&lt;div class=&quot;limg1&quot;&gt;
&lt;img src=&quot;/images/python/matplotlib-8-scatter-1.png&quot; height=&quot;100&quot; width=&quot;700&quot; /&gt;
&lt;/div&gt;</p>
<h2>Reference</h2>
<ul>
<li><a href="https://matplotlib.org/" target="_blank" rel="noopener">matplotlib.org</a></li>
<li><a href="https://matplotlib.org/contents.html" target="_blank" rel="noopener">matplotlib docs</a></li>
<li><a href="https://morvanzhou.github.io" target="_blank" rel="noopener">morvanzhou</a></li>
</ul>

      
    </div>
	
    <!--
	
    -->
    <!--
    
      <footer class="article-footer">
      </footer>
    
    -->
  </div>
  
</article>



    
      <article id="post-python/matplotlib/py-matplotlib-7-tick" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <myh11 itemprop="name">
      <a class="article-title-index" href="/2018/01/23/python/matplotlib/py-matplotlib-7-tick/"><strong>Matplotlib Tick bbox</strong></a>
      <small class=article-date-index>&nbsp; 2018-01-23</small>
      <!--<a>
      <div = post.date  </div>
      </a>-->
      <br>
      <br> <!-- blair add -->
    </myh11>
  


      </header>
    
    <div class="article-meta">
      <!--<a href="/2018/01/23/python/matplotlib/py-matplotlib-7-tick/" class="article-date">
  <time datetime="2018-01-23T09:08:21.000Z" itemprop="datePublished">2018-01-23</time>
</a>-->
      <!--
  <div class="article-category-index">
    <a class="article-category-index-link" href="/categories/python/">python</a>
  </div>

-->
      <!--
      
        <div class="article-comment-link-wrap">
          <a href="http://iequa.com/2018/01/23/python/matplotlib/py-matplotlib-7-tick/#disqus_thread" class="article-comment-link">Comments</a>
        </div>
      
      -->
    </div>
	
    <div class="article-entry" itemprop="articleBody">
      
        <p>å›¾ä¸­çš„å†…å®¹è¾ƒå¤šï¼Œå¯é€šè¿‡è®¾ç½®ç›¸å…³å†…å®¹çš„<code>é€æ˜åº¦</code>æ¥ä½¿å›¾ç‰‡æ›´æ˜“äºè§‚å¯Ÿï¼Œä¹Ÿå³æ˜¯æœ¬èŠ‚ä¸­çš„<code>bbox</code>å‚æ•°è®¾ç½®æ¥è°ƒèŠ‚å›¾åƒä¿¡æ¯.</p>
<p>&lt;!-- more --&gt;</p>
<h2>ç”Ÿæˆå›¾å½¢</h2>
<p><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"></span><br><span class="line">x = np.linspace(<span class="number">-3</span>, <span class="number">3</span>, <span class="number">50</span>)</span><br><span class="line">y = <span class="number">0.1</span>*x</span><br><span class="line"></span><br><span class="line">plt.figure()</span><br><span class="line"><span class="comment"># åœ¨ plt 2.0.2 æˆ–æ›´é«˜çš„ç‰ˆæœ¬ä¸­, è®¾ç½® zorder ç»™ plot åœ¨ z è½´æ–¹å‘æ’åº</span></span><br><span class="line">plt.plot(x, y, linewidth=<span class="number">10</span>, zorder=<span class="number">1</span>)</span><br><span class="line">plt.ylim(<span class="number">-2</span>, <span class="number">2</span>)</span><br><span class="line"></span><br><span class="line">ax = plt.gca()</span><br><span class="line"></span><br><span class="line">ax.spines[<span class="string">'right'</span>].set_color(<span class="string">'none'</span>)</span><br><span class="line">ax.spines[<span class="string">'top'</span>].set_color(<span class="string">'none'</span>)</span><br><span class="line"></span><br><span class="line">ax.xaxis.set_ticks_position(<span class="string">'bottom'</span>)</span><br><span class="line">ax.spines[<span class="string">'bottom'</span>].set_position((<span class="string">'data'</span>, <span class="number">0</span>))</span><br><span class="line"></span><br><span class="line">ax.yaxis.set_ticks_position(<span class="string">'left'</span>)</span><br><span class="line">ax.spines[<span class="string">'left'</span>].set_position((<span class="string">'data'</span>, <span class="number">0</span>))</span><br><span class="line"></span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure></p>
<p>&lt;div class=&quot;limg1&quot;&gt;
&lt;img src=&quot;/images/python/matplotlib-7-tick-output_1_0.png&quot; height=&quot;100&quot; width=&quot;700&quot; /&gt;
&lt;/div&gt;</p>
<h2>è°ƒæ•´åæ ‡ bbox</h2>
<p>ç„¶åå¯¹è¢«é®æŒ¡çš„å›¾åƒè°ƒèŠ‚ç›¸å…³é€æ˜åº¦ï¼Œæœ¬ä¾‹ä¸­è®¾ç½® xè½´ å’Œ yè½´ çš„åˆ»åº¦æ•°å­—è¿›è¡Œé€æ˜åº¦è®¾ç½®</p>
<p>å…¶ä¸­<code>label.set_fontsize(12)</code>é‡æ–°è°ƒèŠ‚å­—ä½“å¤§å°ï¼Œ<code>bbox</code>è®¾ç½®ç›®çš„å†…å®¹çš„é€æ˜åº¦ç›¸å…³å‚æ•°ï¼Œ<code>facecolor</code>è°ƒèŠ‚ <code>box</code> å‰æ™¯è‰²ï¼Œ<code>edgecolor</code> è®¾ç½®è¾¹æ¡†ï¼Œ æœ¬å¤„è®¾ç½®è¾¹æ¡†ä¸ºæ— ï¼Œ<code>alpha</code>è®¾ç½®é€æ˜åº¦.</p>
<p><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">for</span> label <span class="keyword">in</span> ax.get_xticklabels() + ax.get_yticklabels():</span><br><span class="line">    label.set_fontsize(<span class="number">12</span>)</span><br><span class="line">    <span class="comment"># åœ¨ plt 2.0.2 æˆ–æ›´é«˜çš„ç‰ˆæœ¬ä¸­, è®¾ç½® zorder ç»™ plot åœ¨ z è½´æ–¹å‘æ’åº</span></span><br><span class="line">    label.set_bbox(dict(facecolor=<span class="string">'white'</span>, edgecolor=<span class="string">'None'</span>, alpha=<span class="number">0.7</span>, zorder=<span class="number">2</span>))</span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure></p>
<p>&lt;div class=&quot;limg1&quot;&gt;
&lt;img src=&quot;/images/python/matplotlib-7-tick-output_3_0.png&quot; height=&quot;100&quot; width=&quot;700&quot; /&gt;
&lt;/div&gt;</p>
<h2>Reference</h2>
<ul>
<li><a href="https://matplotlib.org/" target="_blank" rel="noopener">matplotlib.org</a></li>
<li><a href="https://matplotlib.org/contents.html" target="_blank" rel="noopener">matplotlib docs</a></li>
<li><a href="https://morvanzhou.github.io" target="_blank" rel="noopener">morvanzhou</a></li>
</ul>

      
    </div>
	
    <!--
	
    -->
    <!--
    
      <footer class="article-footer">
      </footer>
    
    -->
  </div>
  
</article>



    
      <article id="post-python/matplotlib/py-matplotlib-6-Annotation" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <myh11 itemprop="name">
      <a class="article-title-index" href="/2018/01/23/python/matplotlib/py-matplotlib-6-Annotation/"><strong>Matplotlib Annotation</strong></a>
      <small class=article-date-index>&nbsp; 2018-01-23</small>
      <!--<a>
      <div = post.date  </div>
      </a>-->
      <br>
      <br> <!-- blair add -->
    </myh11>
  


      </header>
    
    <div class="article-meta">
      <!--<a href="/2018/01/23/python/matplotlib/py-matplotlib-6-Annotation/" class="article-date">
  <time datetime="2018-01-23T08:38:21.000Z" itemprop="datePublished">2018-01-23</time>
</a>-->
      <!--
  <div class="article-category-index">
    <a class="article-category-index-link" href="/categories/python/">python</a>
  </div>

-->
      <!--
      
        <div class="article-comment-link-wrap">
          <a href="http://iequa.com/2018/01/23/python/matplotlib/py-matplotlib-6-Annotation/#disqus_thread" class="article-comment-link">Comments</a>
        </div>
      
      -->
    </div>
	
    <div class="article-entry" itemprop="articleBody">
      
        <p>å½“å›¾çº¿ä¸­æŸäº›ç‰¹æ®Šåœ°æ–¹éœ€è¦æ ‡æ³¨æ—¶ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨ <code>annotation</code>.</p>
<p>matplotlib ä¸­çš„ <code>annotation</code> æœ‰ä¸¤ç§æ–¹æ³•ï¼Œ ä¸€ç§æ˜¯ç”¨ plt é‡Œé¢çš„ <code>annotate</code>ï¼Œä¸€ç§æ˜¯ç›´æ¥ç”¨ plt é‡Œé¢çš„ <code>text</code> æ¥å†™æ ‡æ³¨.</p>
<p>&lt;!-- more --&gt;</p>
<h2>ç”»å‡ºåŸºæœ¬å›¾</h2>
<p>é¦–å…ˆï¼Œæˆ‘ä»¬åœ¨åæ ‡è½´ä¸­ç»˜åˆ¶ä¸€æ¡ç›´çº¿.</p>
<p><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"></span><br><span class="line">x = np.linspace(<span class="number">-3</span>, <span class="number">3</span>, <span class="number">50</span>)</span><br><span class="line">y = <span class="number">2</span>*x + <span class="number">1</span></span><br><span class="line"></span><br><span class="line">plt.figure(num=<span class="number">1</span>, figsize=(<span class="number">8</span>, <span class="number">5</span>),)</span><br><span class="line">plt.plot(x, y,)</span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure></p>
<p>&lt;div class=&quot;limg1&quot;&gt;
&lt;img src=&quot;/images/python/matplotlib-6-annotation-output_1_0.png&quot; height=&quot;100&quot; width=&quot;500&quot; /&gt;
&lt;/div&gt;</p>
<h2>ç§»åŠ¨åæ ‡</h2>
<p><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"></span><br><span class="line">x = np.linspace(<span class="number">-3</span>, <span class="number">3</span>, <span class="number">50</span>)</span><br><span class="line">y = <span class="number">2</span>*x + <span class="number">1</span></span><br><span class="line"></span><br><span class="line">plt.figure(num=<span class="number">1</span>, figsize=(<span class="number">8</span>, <span class="number">5</span>),)</span><br><span class="line">plt.plot(x, y,)</span><br><span class="line"></span><br><span class="line"><span class="comment"># ç§»åŠ¨åæ ‡</span></span><br><span class="line">ax = plt.gca()</span><br><span class="line">ax.spines[<span class="string">'right'</span>].set_color(<span class="string">'none'</span>)</span><br><span class="line">ax.spines[<span class="string">'top'</span>].set_color(<span class="string">'none'</span>)</span><br><span class="line"></span><br><span class="line">ax.xaxis.set_ticks_position(<span class="string">'bottom'</span>)</span><br><span class="line">ax.spines[<span class="string">'bottom'</span>].set_position((<span class="string">'data'</span>, <span class="number">0</span>))</span><br><span class="line"></span><br><span class="line">ax.yaxis.set_ticks_position(<span class="string">'left'</span>)</span><br><span class="line">ax.spines[<span class="string">'left'</span>].set_position((<span class="string">'data'</span>, <span class="number">0</span>))</span><br><span class="line"></span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure></p>
<p>&lt;div class=&quot;limg1&quot;&gt;
&lt;img src=&quot;/images/python/matplotlib-6-annotation-output_3_0.png&quot; height=&quot;100&quot; width=&quot;550&quot; /&gt;
&lt;/div&gt;</p>
<p>ç„¶åæ ‡æ³¨å‡ºç‚¹<code>(x0, y0)</code>çš„ä½ç½®ä¿¡æ¯. ç”¨ <code>plt.plot([x0, x0,], [0, y0,], 'k--', linewidth=2.5)</code> ç”»å‡ºä¸€æ¡å‚ç›´äºxè½´çš„è™šçº¿.</p>
<p><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"></span><br><span class="line">x = np.linspace(<span class="number">-3</span>, <span class="number">3</span>, <span class="number">50</span>)</span><br><span class="line">y = <span class="number">2</span>*x + <span class="number">1</span></span><br><span class="line"></span><br><span class="line">plt.figure(num=<span class="number">1</span>, figsize=(<span class="number">8</span>, <span class="number">5</span>),)</span><br><span class="line">plt.plot(x, y,)</span><br><span class="line"></span><br><span class="line"><span class="comment"># ç§»åŠ¨åæ ‡</span></span><br><span class="line">ax = plt.gca()</span><br><span class="line">ax.spines[<span class="string">'right'</span>].set_color(<span class="string">'none'</span>)</span><br><span class="line">ax.spines[<span class="string">'top'</span>].set_color(<span class="string">'none'</span>)</span><br><span class="line"></span><br><span class="line">ax.xaxis.set_ticks_position(<span class="string">'bottom'</span>)</span><br><span class="line">ax.spines[<span class="string">'bottom'</span>].set_position((<span class="string">'data'</span>, <span class="number">0</span>))</span><br><span class="line"></span><br><span class="line">ax.yaxis.set_ticks_position(<span class="string">'left'</span>)</span><br><span class="line">ax.spines[<span class="string">'left'</span>].set_position((<span class="string">'data'</span>, <span class="number">0</span>))</span><br><span class="line"></span><br><span class="line">x0 = <span class="number">1</span></span><br><span class="line">y0 = <span class="number">2</span>*x0 + <span class="number">1</span></span><br><span class="line"></span><br><span class="line"><span class="comment">###   plt.plot([x0, x0,], [0, y0,], 'k--', linewidth=2.5) ç”»å‡ºä¸€æ¡å‚ç›´äºxè½´çš„è™šçº¿.  ###</span></span><br><span class="line"></span><br><span class="line">plt.plot([x0, x0,], [<span class="number">0</span>, y0,], <span class="string">'k--'</span>, linewidth=<span class="number">2.5</span>)</span><br><span class="line"><span class="comment"># set dot styles</span></span><br><span class="line">plt.scatter([x0, ], [y0, ], s=<span class="number">50</span>, color=<span class="string">'b'</span>)</span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure></p>
<p>&lt;div class=&quot;limg1&quot;&gt;
&lt;img src=&quot;/images/python/matplotlib-6-annotation-output_5_0.png&quot; height=&quot;100&quot; width=&quot;550&quot; /&gt;
&lt;/div&gt;</p>
<h2>åŠ æ³¨é‡Š annotate</h2>
<p>æ¥ä¸‹æ¥æˆ‘ä»¬å°±å¯¹<code>(x0, y0)</code>è¿™ä¸ªç‚¹è¿›è¡Œæ ‡æ³¨.</p>
<p><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"></span><br><span class="line">x = np.linspace(<span class="number">-4</span>, <span class="number">4</span>, <span class="number">50</span>)</span><br><span class="line">y = <span class="number">2</span>*x + <span class="number">1</span></span><br><span class="line"></span><br><span class="line">plt.figure(num=<span class="number">1</span>, figsize=(<span class="number">10</span>, <span class="number">6</span>),)</span><br><span class="line">plt.plot(x, y,)</span><br><span class="line"></span><br><span class="line"><span class="comment"># ç§»åŠ¨åæ ‡</span></span><br><span class="line">ax = plt.gca()</span><br><span class="line">ax.spines[<span class="string">'right'</span>].set_color(<span class="string">'none'</span>)</span><br><span class="line">ax.spines[<span class="string">'top'</span>].set_color(<span class="string">'none'</span>)</span><br><span class="line"></span><br><span class="line">ax.xaxis.set_ticks_position(<span class="string">'bottom'</span>)</span><br><span class="line">ax.spines[<span class="string">'bottom'</span>].set_position((<span class="string">'data'</span>, <span class="number">0</span>))</span><br><span class="line"></span><br><span class="line">ax.yaxis.set_ticks_position(<span class="string">'left'</span>)</span><br><span class="line">ax.spines[<span class="string">'left'</span>].set_position((<span class="string">'data'</span>, <span class="number">0</span>))</span><br><span class="line"></span><br><span class="line">x0 = <span class="number">1</span></span><br><span class="line">y0 = <span class="number">2</span>*x0 + <span class="number">1</span></span><br><span class="line">plt.plot([x0, x0,], [<span class="number">0</span>, y0,], <span class="string">'k--'</span>, linewidth=<span class="number">2.5</span>)</span><br><span class="line"><span class="comment"># set dot styles</span></span><br><span class="line">plt.scatter([x0, ], [y0, ], s=<span class="number">50</span>, color=<span class="string">'b'</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">############## æ·»åŠ æ³¨é‡Š annotate ###############</span></span><br><span class="line"></span><br><span class="line">plt.annotate(<span class="string">r'$2x+1=%s$'</span> % y0, xy=(x0, y0), xycoords=<span class="string">'data'</span>, xytext=(+<span class="number">30</span>, <span class="number">-30</span>),</span><br><span class="line">             textcoords=<span class="string">'offset points'</span>, fontsize=<span class="number">16</span>,</span><br><span class="line">             arrowprops=dict(arrowstyle=<span class="string">'-&gt;'</span>, connectionstyle=<span class="string">"arc3,rad=.2"</span>))</span><br><span class="line"></span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure></p>
<p>&lt;div class=&quot;limg1&quot;&gt;
&lt;img src=&quot;/images/python/matplotlib-6-annotation-output_7_0.png&quot; height=&quot;100&quot; width=&quot;550&quot; /&gt;
&lt;/div&gt;</p>
<p>å…¶ä¸­å‚æ•° <code>xycoords='data'</code> æ˜¯è¯´åŸºäºæ•°æ®çš„å€¼æ¥é€‰ä½ç½®, <code>xytext=(+30, -30)</code> å’Œ <code>textcoords='offset points'</code> å¯¹äºæ ‡æ³¨ä½ç½®çš„æè¿° å’Œ <code>xy</code> åå·®å€¼, <code>arrowprops</code>æ˜¯å¯¹å›¾ä¸­ç®­å¤´ç±»å‹çš„ä¸€äº›è®¾ç½®.</p>
<h2>åŠ æ³¨é‡Š text</h2>
<p><figure class="highlight python"><table><tr><td class="code"><pre><span class="line">plt.text(<span class="number">-3.7</span>, <span class="number">3</span>, <span class="string">r'$This\ is\ the\ some\ text. \mu\ \sigma_i\ \alpha_t$'</span>,</span><br><span class="line">         fontdict=&#123;<span class="string">'size'</span>: <span class="number">16</span>, <span class="string">'color'</span>: <span class="string">'r'</span>&#125;)</span><br></pre></td></tr></table></figure></p>
<pre><code>Text(-3.7,3,'$This\\ is\\ the\\ some\\ text. \\mu\\ \\sigma_i\\ \\alpha_t$')
</code></pre>
<p>å…¶ä¸­<code>-3.7, 3,</code>æ˜¯é€‰å–textçš„ä½ç½®, ç©ºæ ¼éœ€è¦ç”¨åˆ°è½¬å­—ç¬¦<code>\</code> ,<code>fontdict</code>è®¾ç½®æ–‡æœ¬å­—ä½“.</p>
<p><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"></span><br><span class="line">x = np.linspace(<span class="number">-4</span>, <span class="number">4</span>, <span class="number">50</span>)</span><br><span class="line">y = <span class="number">2</span>*x + <span class="number">1</span></span><br><span class="line"></span><br><span class="line">plt.figure(num=<span class="number">1</span>, figsize=(<span class="number">10</span>, <span class="number">6</span>),)</span><br><span class="line">plt.plot(x, y,)</span><br><span class="line"></span><br><span class="line"><span class="comment"># ç§»åŠ¨åæ ‡</span></span><br><span class="line">ax = plt.gca()</span><br><span class="line">ax.spines[<span class="string">'right'</span>].set_color(<span class="string">'none'</span>)</span><br><span class="line">ax.spines[<span class="string">'top'</span>].set_color(<span class="string">'none'</span>)</span><br><span class="line"></span><br><span class="line">ax.xaxis.set_ticks_position(<span class="string">'bottom'</span>)</span><br><span class="line">ax.spines[<span class="string">'bottom'</span>].set_position((<span class="string">'data'</span>, <span class="number">0</span>))</span><br><span class="line"></span><br><span class="line">ax.yaxis.set_ticks_position(<span class="string">'left'</span>)</span><br><span class="line">ax.spines[<span class="string">'left'</span>].set_position((<span class="string">'data'</span>, <span class="number">0</span>))</span><br><span class="line"></span><br><span class="line">x0 = <span class="number">1</span></span><br><span class="line">y0 = <span class="number">2</span>*x0 + <span class="number">1</span></span><br><span class="line">plt.plot([x0, x0,], [<span class="number">0</span>, y0,], <span class="string">'k--'</span>, linewidth=<span class="number">2.5</span>)</span><br><span class="line"><span class="comment"># set dot styles</span></span><br><span class="line">plt.scatter([x0, ], [y0, ], s=<span class="number">50</span>, color=<span class="string">'b'</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">############## æ·»åŠ æ³¨é‡Š annotate ###############</span></span><br><span class="line"></span><br><span class="line">plt.annotate(<span class="string">r'$2x+1=%s$'</span> % y0, xy=(x0, y0), xycoords=<span class="string">'data'</span>, xytext=(+<span class="number">30</span>, <span class="number">-30</span>),</span><br><span class="line">             textcoords=<span class="string">'offset points'</span>, fontsize=<span class="number">16</span>,</span><br><span class="line">             arrowprops=dict(arrowstyle=<span class="string">'-&gt;'</span>, connectionstyle=<span class="string">"arc3,rad=.2"</span>))</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">############# æ·»åŠ æ³¨é‡Š text #################</span></span><br><span class="line"></span><br><span class="line">plt.text(<span class="number">-3.7</span>, <span class="number">3</span>, <span class="string">r'$This\ is\ the\ some\ text. \mu\ \sigma_i\ \alpha_t$'</span>,</span><br><span class="line">         fontdict=&#123;<span class="string">'size'</span>: <span class="number">16</span>, <span class="string">'color'</span>: <span class="string">'r'</span>&#125;)</span><br><span class="line"></span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure></p>
<p>&lt;div class=&quot;limg1&quot;&gt;
&lt;img src=&quot;/images/python/matplotlib-6-annotation-output_11_0.png&quot; height=&quot;100&quot; width=&quot;500&quot; /&gt;
&lt;/div&gt;</p>
<h2>Reference</h2>
<ul>
<li><a href="https://matplotlib.org/" target="_blank" rel="noopener">matplotlib.org</a></li>
<li><a href="https://matplotlib.org/contents.html" target="_blank" rel="noopener">matplotlib docs</a></li>
<li><a href="https://morvanzhou.github.io" target="_blank" rel="noopener">morvanzhou</a></li>
</ul>

      
    </div>
	
    <!--
	
    -->
    <!--
    
      <footer class="article-footer">
      </footer>
    
    -->
  </div>
  
</article>



    
      <article id="post-python/matplotlib/py-matplotlib-5-legend" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <myh11 itemprop="name">
      <a class="article-title-index" href="/2018/01/23/python/matplotlib/py-matplotlib-5-legend/"><strong>Matplotlib Legend</strong></a>
      <small class=article-date-index>&nbsp; 2018-01-23</small>
      <!--<a>
      <div = post.date  </div>
      </a>-->
      <br>
      <br> <!-- blair add -->
    </myh11>
  


      </header>
    
    <div class="article-meta">
      <!--<a href="/2018/01/23/python/matplotlib/py-matplotlib-5-legend/" class="article-date">
  <time datetime="2018-01-23T07:30:21.000Z" itemprop="datePublished">2018-01-23</time>
</a>-->
      <!--
  <div class="article-category-index">
    <a class="article-category-index-link" href="/categories/python/">python</a>
  </div>

-->
      <!--
      
        <div class="article-comment-link-wrap">
          <a href="http://iequa.com/2018/01/23/python/matplotlib/py-matplotlib-5-legend/#disqus_thread" class="article-comment-link">Comments</a>
        </div>
      
      -->
    </div>
	
    <div class="article-entry" itemprop="articleBody">
      
        <p>matplotlib ä¸­çš„ <code>legend</code> å›¾ä¾‹å°±æ˜¯ä¸ºäº†å±•ç¤ºå‡ºæ¯ä¸ªæ•°æ®å¯¹åº”çš„<code>å›¾åƒåç§°</code>,å¯è¯»æ€§æ›´å¥½.</p>
<p>&lt;!-- more --&gt;</p>
<h2>æ·»åŠ å›¾ä¾‹ legend</h2>
<p><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"></span><br><span class="line">x = np.linspace(<span class="number">-3</span>, <span class="number">3</span>, <span class="number">50</span>)</span><br><span class="line">y1 = <span class="number">2</span>*x + <span class="number">1</span></span><br><span class="line">y2 = x**<span class="number">2</span></span><br><span class="line"></span><br><span class="line">plt.figure()</span><br><span class="line"><span class="comment">#set x limits</span></span><br><span class="line">plt.xlim((<span class="number">-1</span>, <span class="number">2</span>))</span><br><span class="line">plt.ylim((<span class="number">-2</span>, <span class="number">3</span>))</span><br><span class="line"></span><br><span class="line"><span class="comment"># set new sticks</span></span><br><span class="line">new_sticks = np.linspace(<span class="number">-1</span>, <span class="number">2</span>, <span class="number">5</span>)</span><br><span class="line">plt.xticks(new_sticks)</span><br><span class="line"><span class="comment"># set tick labels</span></span><br><span class="line">plt.yticks([<span class="number">-2</span>, <span class="number">-1.8</span>, <span class="number">-1</span>, <span class="number">1.22</span>, <span class="number">3</span>],</span><br><span class="line">           [<span class="string">r'$really\ bad$'</span>, <span class="string">r'$bad$'</span>, <span class="string">r'$normal$'</span>, <span class="string">r'$good$'</span>, <span class="string">r'$really\ good$'</span>])</span><br></pre></td></tr></table></figure></p>
<pre><code>([&lt;matplotlib.axis.YTick at 0x1195c3358&gt;,
  &lt;matplotlib.axis.YTick at 0x112681080&gt;,
  &lt;matplotlib.axis.YTick at 0x1195ce710&gt;,
  &lt;matplotlib.axis.YTick at 0x1195f5240&gt;,
  &lt;matplotlib.axis.YTick at 0x1195fc550&gt;],
 &lt;a list of 5 Text yticklabel objects&gt;)
</code></pre>
<p>å¯¹å›¾ä¸­çš„ä¸¤æ¡çº¿ç»˜åˆ¶å›¾ä¾‹ï¼Œé¦–å…ˆæˆ‘ä»¬è®¾ç½®ä¸¤æ¡çº¿çš„ç±»å‹ç­‰ä¿¡æ¯ï¼ˆè“è‰²å®çº¿ä¸çº¢è‰²è™šçº¿).</p>
<p><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment"># set line syles</span></span><br><span class="line">l1, = plt.plot(x, y1, label=<span class="string">'linear line'</span>)</span><br><span class="line">l2, = plt.plot(x, y2, color=<span class="string">'red'</span>, linewidth=<span class="number">1.0</span>, linestyle=<span class="string">'--'</span>, label=<span class="string">'square line'</span>)</span><br></pre></td></tr></table></figure></p>
<p>éœ€è¦æ³¨æ„çš„æ˜¯ <code>l1,</code> <code>l2,</code> è¦ä»¥<code>é€—å·</code>ç»“å°¾, å› ä¸º <code>plt.plot()</code> è¿”å›çš„æ˜¯ä¸€ä¸ªlist.</p>
<p><code>legend</code> å°†è¦æ˜¾ç¤ºçš„ä¿¡æ¯æ¥è‡ªäºä¸Šé¢ä»£ç ä¸­çš„ <code>label</code>. æ‰€ä»¥æˆ‘ä»¬åªéœ€è¦ç®€å•å†™ä¸€ä¸‹ä»£ç , <code>plt</code> å°±èƒ½è‡ªåŠ¨çš„ä¸ºæˆ‘ä»¬æ·»åŠ å›¾ä¾‹.</p>
<p><figure class="highlight python"><table><tr><td class="code"><pre><span class="line">plt.legend(loc=<span class="string">'upper right'</span>)</span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure></p>
<p>&lt;div class=&quot;limg1&quot;&gt;
&lt;img src=&quot;/images/python/matplotlib-5-legend-1.png&quot; height=&quot;100&quot; width=&quot;650&quot; /&gt;
&lt;/div&gt;</p>
<p>å‚æ•° <code>loc='upper right'</code> è¡¨ç¤ºå›¾ä¾‹å°†æ·»åŠ åœ¨å›¾ä¸­çš„å³ä¸Šè§’.</p>
<h2>è°ƒæ•´ä½ç½®å’Œåç§°</h2>
<p>å¦‚æœæˆ‘ä»¬æƒ³å•ç‹¬ä¿®æ”¹ä¹‹å‰çš„ <code>label</code> ä¿¡æ¯, ç»™ä¸åŒç±»å‹çš„çº¿æ¡è®¾ç½®å›¾ä¾‹ä¿¡æ¯. æˆ‘ä»¬å¯ä»¥åœ¨ <code>plt.legend</code> è¾“å…¥æ›´å¤šå‚æ•°. å¦‚æœä»¥ä¸‹é¢è¿™ç§å½¢å¼æ·»åŠ  <code>legend</code>, æˆ‘ä»¬éœ€è¦ç¡®ä¿, åœ¨ä¸Šé¢çš„ä»£ç  <code>plt.plot(x, y2, label='linear line')</code> å’Œ <code>plt.plot(x, y1, label='square line')</code> ä¸­æœ‰ç”¨å˜é‡ l1 å’Œ l2 åˆ†åˆ«å­˜å‚¨èµ·æ¥.</p>
<p><figure class="highlight python"><table><tr><td class="code"><pre><span class="line">plt.legend(handles=[l1, l2], labels=[<span class="string">'up'</span>, <span class="string">'down'</span>],  loc=<span class="string">'best'</span>)</span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure></p>
<p>&lt;div class=&quot;limg1&quot;&gt;
&lt;img src=&quot;/images/python/matplotlib-5-legend-2.png&quot; height=&quot;100&quot; width=&quot;650&quot; /&gt;
&lt;/div&gt;</p>
<p>è¿™æ ·æˆ‘ä»¬å°±èƒ½åˆ†åˆ«é‡æ–°è®¾ç½®çº¿æ¡å¯¹åº”çš„ <code>label</code> äº†.</p>
<p>å…¶ä¸­â€™locâ€™å‚æ•°æœ‰å¤šç§ï¼Œâ€™bestâ€™è¡¨ç¤ºè‡ªåŠ¨åˆ†é…æœ€ä½³ä½ç½®ï¼Œå…¶ä½™çš„å¦‚ä¸‹ï¼š</p>
<p><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="string">'best'</span> : <span class="number">0</span>,          </span><br><span class="line"><span class="string">'upper right'</span>  : <span class="number">1</span>,</span><br><span class="line"><span class="string">'upper left'</span>   : <span class="number">2</span>,</span><br><span class="line"><span class="string">'lower left'</span>   : <span class="number">3</span>,</span><br><span class="line"><span class="string">'lower right'</span>  : <span class="number">4</span>,</span><br><span class="line"><span class="string">'right'</span>        : <span class="number">5</span>,</span><br><span class="line"><span class="string">'center left'</span>  : <span class="number">6</span>,</span><br><span class="line"><span class="string">'center right'</span> : <span class="number">7</span>,</span><br><span class="line"><span class="string">'lower center'</span> : <span class="number">8</span>,</span><br><span class="line"><span class="string">'upper center'</span> : <span class="number">9</span>,</span><br><span class="line"><span class="string">'center'</span>       : <span class="number">10</span>,</span><br></pre></td></tr></table></figure></p>
<h2>Reference</h2>
<ul>
<li><a href="https://matplotlib.org/" target="_blank" rel="noopener">matplotlib.org</a></li>
<li><a href="https://matplotlib.org/contents.html" target="_blank" rel="noopener">matplotlib docs</a></li>
<li><a href="https://morvanzhou.github.io" target="_blank" rel="noopener">morvanzhou</a></li>
</ul>

      
    </div>
	
    <!--
	
    -->
    <!--
    
      <footer class="article-footer">
      </footer>
    
    -->
  </div>
  
</article>



    
      <article id="post-python/matplotlib/py-matplotlib-4-coordinate_axis" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <myh11 itemprop="name">
      <a class="article-title-index" href="/2018/01/23/python/matplotlib/py-matplotlib-4-coordinate_axis/"><strong>Matplotlib Coordinate axis</strong></a>
      <small class=article-date-index>&nbsp; 2018-01-23</small>
      <!--<a>
      <div = post.date  </div>
      </a>-->
      <br>
      <br> <!-- blair add -->
    </myh11>
  


      </header>
    
    <div class="article-meta">
      <!--<a href="/2018/01/23/python/matplotlib/py-matplotlib-4-coordinate_axis/" class="article-date">
  <time datetime="2018-01-23T06:08:21.000Z" itemprop="datePublished">2018-01-23</time>
</a>-->
      <!--
  <div class="article-category-index">
    <a class="article-category-index-link" href="/categories/python/">python</a>
  </div>

-->
      <!--
      
        <div class="article-comment-link-wrap">
          <a href="http://iequa.com/2018/01/23/python/matplotlib/py-matplotlib-4-coordinate_axis/#disqus_thread" class="article-comment-link">Comments</a>
        </div>
      
      -->
    </div>
	
    <div class="article-entry" itemprop="articleBody">
      
        <p>å¦‚ä½•ç§»åŠ¨ matplotlib ä¸­ axis åæ ‡è½´çš„ä½ç½®.</p>
<p>&lt;!-- more --&gt;</p>
<h2>è®¾ç½®åå­—å’Œä½ç½®</h2>
<p><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br></pre></td></tr></table></figure></p>
<p>ä½¿ç”¨ <code>np.linspace</code> å®šä¹‰ <code>x</code> ï¼šèŒƒå›´æ˜¯(-3,3);ä¸ªæ•°æ˜¯50.<br>
ä»¿çœŸä¸€ç»´æ•°æ®ç»„(<code>x</code> ,<code>y1</code>)è¡¨ç¤ºæ›²çº¿1.  ä»¿çœŸä¸€ç»´æ•°æ®ç»„(<code>x</code> ,<code>y2</code>)è¡¨ç¤ºæ›²çº¿2.</p>
<p><figure class="highlight python"><table><tr><td class="code"><pre><span class="line">x = np.linspace(<span class="number">-3</span>, <span class="number">3</span>, <span class="number">50</span>)</span><br><span class="line">y1 = <span class="number">2</span>*x + <span class="number">1</span></span><br><span class="line">y2 = x**<span class="number">2</span></span><br></pre></td></tr></table></figure></p>
<p>ä½¿ç”¨<code>plt.figure</code>å®šä¹‰ä¸€ä¸ªå›¾åƒçª—å£.</p>
<p>ä½¿ç”¨<code>plt.plot</code>ç”»(<code>x</code> ,<code>y2</code>)æ›²çº¿. ä½¿ç”¨<code>plt.plot</code>ç”»(<code>x</code> ,<code>y1</code>)æ›²çº¿ï¼Œæ›²çº¿çš„é¢œè‰²å±æ€§(<code>color</code>)ä¸ºçº¢è‰²; æ›²çº¿çš„å®½åº¦(<code>linewidth</code>) ä¸º 1.0; æ›²çº¿çš„ç±»å‹(<code>linestyle</code>)ä¸ºè™šçº¿.</p>
<p>ä½¿ç”¨<code>plt.xlim</code>è®¾ç½®<code>x</code>åæ ‡è½´èŒƒå›´: (-1, 2); ä½¿ç”¨<code>plt.ylim</code>è®¾ç½®<code>y</code>åæ ‡è½´èŒƒå›´: (-2, 3);</p>
<p><figure class="highlight python"><table><tr><td class="code"><pre><span class="line">plt.figure()</span><br><span class="line">plt.plot(x, y2)</span><br><span class="line">plt.plot(x, y1, color=<span class="string">'red'</span>, linewidth=<span class="number">1.0</span>, linestyle=<span class="string">'--'</span>)</span><br><span class="line">plt.xlim((<span class="number">-1</span>, <span class="number">2</span>))</span><br><span class="line">plt.ylim((<span class="number">-2</span>, <span class="number">3</span>))</span><br></pre></td></tr></table></figure></p>
<pre><code>(-2, 3)
</code></pre>
<p>ä½¿ç”¨<code>np.linspace</code>å®šä¹‰èŒƒå›´ä»¥åŠä¸ªæ•°ï¼šèŒƒå›´æ˜¯(-1,2);ä¸ªæ•°æ˜¯5.</p>
<p>ä½¿ç”¨<code>plt.xticks</code>è®¾ç½®<code>x</code>è½´åˆ»åº¦ï¼šèŒƒå›´æ˜¯(-1,2);ä¸ªæ•°æ˜¯5.<br>
ä½¿ç”¨<code>plt.yticks</code>è®¾ç½®<code>y</code>è½´åˆ»åº¦ä»¥åŠåç§°: åˆ»åº¦ä¸º[-2, -1.8, -1, 1.22, 3]; å¯¹åº”åˆ»åº¦çš„åç§°ä¸º[â€˜really badâ€™,â€™badâ€™,â€™normalâ€™,â€™goodâ€™, â€˜really goodâ€™].</p>
<p><figure class="highlight python"><table><tr><td class="code"><pre><span class="line">new_ticks = np.linspace(<span class="number">-1</span>, <span class="number">2</span>, <span class="number">5</span>)</span><br><span class="line">plt.xticks(new_ticks)</span><br><span class="line">plt.yticks([<span class="number">-2</span>, <span class="number">-1.8</span>, <span class="number">-1</span>, <span class="number">1.22</span>, <span class="number">3</span>],[<span class="string">'$really\ bad$'</span>, <span class="string">'$bad$'</span>, <span class="string">'$normal$'</span>, <span class="string">'$good$'</span>, <span class="string">'$really\ good$'</span>])</span><br></pre></td></tr></table></figure></p>
<table>
<thead>
<tr>
<th>function</th>
<th>desc</th>
<th>è®¾ç½®æ•ˆæœ</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>plt.gca</code></td>
<td>è·å–å½“å‰åæ ‡è½´ä¿¡æ¯</td>
<td>-</td>
</tr>
<tr>
<td><code>.spines</code></td>
<td>è®¾ç½®è¾¹æ¡†</td>
<td>å³ä¾§è¾¹æ¡† &amp; ä¸Šè¾¹æ¡†</td>
</tr>
<tr>
<td><code>.set_color</code></td>
<td>è®¾ç½®è¾¹æ¡†é¢œè‰²</td>
<td>é»˜è®¤ç™½è‰²</td>
</tr>
</tbody>
</table>
<p><figure class="highlight python"><table><tr><td class="code"><pre><span class="line">ax = plt.gca()</span><br><span class="line">ax.spines[<span class="string">'right'</span>].set_color(<span class="string">'none'</span>)</span><br><span class="line">ax.spines[<span class="string">'top'</span>].set_color(<span class="string">'none'</span>)</span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure></p>
<p>&lt;div class=&quot;limg1&quot;&gt;
&lt;img src=&quot;/images/python/matplotlib-4-ax-4_1.png&quot; height=&quot;100&quot; width=&quot;700&quot; /&gt;
&lt;/div&gt;</p>
<h2>è°ƒæ•´åæ ‡è½´</h2>
<p>ä½¿ç”¨ <code>.xaxis.set_ticks_position</code>è®¾ç½®<code>x</code>åæ ‡åˆ»åº¦æ•°å­—æˆ–åç§°çš„ä½ç½®ï¼š<code>bottom</code>.ï¼ˆæ‰€æœ‰ä½ç½®ï¼š<code>top</code>ï¼Œ<code>bottom</code>ï¼Œ<code>both</code>ï¼Œ<code>default</code>ï¼Œ<code>none</code>ï¼‰<br>
ä½¿ç”¨ <code>.spines</code> è®¾ç½®è¾¹æ¡†ï¼š<code>x</code>è½´ï¼›<br>
ä½¿ç”¨ <code>.set_position</code> è®¾ç½®è¾¹æ¡†ä½ç½®ï¼š<code>y=0</code> çš„ä½ç½®ï¼›ï¼ˆä½ç½®æ‰€æœ‰å±æ€§ï¼š<code>outward</code>ï¼Œ<code>axes</code>ï¼Œ<code>data</code>ï¼‰</p>
<p><figure class="highlight python"><table><tr><td class="code"><pre><span class="line">ax.xaxis.set_ticks_position(<span class="string">'bottom'</span>)</span><br><span class="line"></span><br><span class="line">ax.spines[<span class="string">'bottom'</span>].set_position((<span class="string">'data'</span>, <span class="number">0</span>))</span><br><span class="line"></span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure></p>
<p>&lt;div class=&quot;limg1&quot;&gt;
&lt;img src=&quot;/images/python/matplotlib-4-ax-4_2.png&quot; height=&quot;100&quot; width=&quot;700&quot; /&gt;
&lt;/div&gt;</p>
<p>ä½¿ç”¨<code>.yaxis.set_ticks_position</code>è®¾ç½®<code>y</code>åæ ‡åˆ»åº¦æ•°å­—æˆ–åç§°çš„ä½ç½®ï¼š<code>left</code>.ï¼ˆæ‰€æœ‰ä½ç½®ï¼š<code>left</code>ï¼Œ<code>right</code>ï¼Œ<code>both</code>ï¼Œ<code>default</code>ï¼Œ<code>none</code>ï¼‰</p>
<p><figure class="highlight python"><table><tr><td class="code"><pre><span class="line">ax.yaxis.set_ticks_position(<span class="string">'left'</span>)</span><br></pre></td></tr></table></figure></p>
<p>ä½¿ç”¨<code>.spines</code>è®¾ç½®è¾¹æ¡†ï¼š<code>y</code>è½´;<br>
ä½¿ç”¨<code>.set_position</code>è®¾ç½®è¾¹æ¡†ä½ç½®ï¼š<code>x=0</code>çš„ä½ç½®ï¼›ï¼ˆä½ç½®æ‰€æœ‰å±æ€§ï¼š<code>outward</code>ï¼Œ<code>axes</code>ï¼Œ<code>data</code>ï¼‰<br>
ä½¿ç”¨<code>plt.show</code>æ˜¾ç¤ºå›¾åƒ.</p>
<p><figure class="highlight python"><table><tr><td class="code"><pre><span class="line">ax.spines[<span class="string">'left'</span>].set_position((<span class="string">'data'</span>,<span class="number">0</span>))</span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure></p>
<p>&lt;div class=&quot;limg1&quot;&gt;
&lt;img src=&quot;/images/python/matplotlib-4-ax-4_3.png&quot; height=&quot;100&quot; width=&quot;700&quot; /&gt;
&lt;/div&gt;</p>
<h2>Reference</h2>
<ul>
<li><a href="https://matplotlib.org/" target="_blank" rel="noopener">matplotlib.org</a></li>
<li><a href="https://matplotlib.org/contents.html" target="_blank" rel="noopener">matplotlib docs</a></li>
<li><a href="https://morvanzhou.github.io" target="_blank" rel="noopener">morvanzhou</a></li>
</ul>

      
    </div>
	
    <!--
	
    -->
    <!--
    
      <footer class="article-footer">
      </footer>
    
    -->
  </div>
  
</article>



    
      <article id="post-python/language/py-language-14-pickle" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <myh11 itemprop="name">
      <a class="article-title-index" href="/2018/01/19/python/language/py-language-14-pickle/"><strong>pickle</strong></a>
      <small class=article-date-index>&nbsp; 2018-01-19</small>
      <!--<a>
      <div = post.date  </div>
      </a>-->
      <br>
      <br> <!-- blair add -->
    </myh11>
  


      </header>
    
    <div class="article-meta">
      <!--<a href="/2018/01/19/python/language/py-language-14-pickle/" class="article-date">
  <time datetime="2018-01-19T05:00:21.000Z" itemprop="datePublished">2018-01-19</time>
</a>-->
      <!--
  <div class="article-category-index">
    <a class="article-category-index-link" href="/categories/python/">python</a>
  </div>

-->
      <!--
      
        <div class="article-comment-link-wrap">
          <a href="http://iequa.com/2018/01/19/python/language/py-language-14-pickle/#disqus_thread" class="article-comment-link">Comments</a>
        </div>
      
      -->
    </div>
	
    <div class="article-entry" itemprop="articleBody">
      
        <p>Python è¯­è¨€ç‰¹å®šçš„åºåˆ—åŒ–æ¨¡å—æ˜¯pickleï¼Œä½†å¦‚æœè¦æŠŠåºåˆ—åŒ–æå¾—æ›´é€šç”¨ã€æ›´ç¬¦åˆWebæ ‡å‡†ï¼Œå¯ä»¥ä½¿ç”¨jsonæ¨¡å—</p>
<p>&lt;!-- more --&gt;</p>
<p>pickle æ˜¯ä¸€ä¸ª python ä¸­, å‹ç¼©/ä¿å­˜/æå– æ–‡ä»¶çš„æ¨¡å—. æœ€ä¸€èˆ¬çš„ä½¿ç”¨æ–¹å¼éå¸¸ç®€å•.</p>
<h2>pickle ä¿å­˜</h2>
<p>å­—å…¸å’Œåˆ—è¡¨éƒ½æ˜¯èƒ½è¢«ä¿å­˜çš„.</p>
<p><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> pickle</span><br><span class="line"></span><br><span class="line">a_dict = &#123;<span class="string">'da'</span>: <span class="number">111</span>, <span class="number">2</span>: [<span class="number">23</span>,<span class="number">1</span>,<span class="number">4</span>], <span class="string">'23'</span>: &#123;<span class="number">1</span>:<span class="number">2</span>,<span class="string">'d'</span>:<span class="string">'sad'</span>&#125;&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment"># pickle a variable to a file</span></span><br><span class="line">file = open(<span class="string">'pickle_example.pickle'</span>, <span class="string">'wb'</span>)</span><br><span class="line">pickle.dump(a_dict, file)</span><br><span class="line">file.close()</span><br></pre></td></tr></table></figure></p>
<p><code>pickle.dump</code> ä½ è¦ä¿å­˜çš„ä¸œè¥¿å»è¿™ä¸ªæ‰“å¼€çš„ <code>file</code>.</p>
<p>æœ€åå…³é—­ <code>file</code> ä½ å°±ä¼šå‘ç°ä½ çš„æ–‡ä»¶ç›®å½•é‡Œå¤šäº†ä¸€ä¸ª <code>pickle_example.pickle</code> æ–‡ä»¶, è¿™å°±æ˜¯é‚£ä¸ªå­—å…¸äº†.</p>
<h2>pickle æå–</h2>
<p><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment"># reload a file to a variable</span></span><br><span class="line"><span class="keyword">with</span> open(<span class="string">'pickle_example.pickle'</span>, <span class="string">'rb'</span>) <span class="keyword">as</span> file:</span><br><span class="line">    a_dict1 =pickle.load(file)</span><br><span class="line"></span><br><span class="line">print(a_dict1)</span><br></pre></td></tr></table></figure></p>
<pre><code>{'da': 111, 2: [23, 1, 4], '23': {1: 2, 'd': 'sad'}}
</code></pre>
<h2>Reference</h2>
<ul>
<li><a href="https://docs.python.org/" target="_blank" rel="noopener">docs.python.org</a></li>
<li><a href="https://morvanzhou.github.io/" target="_blank" rel="noopener">python morvanzhou</a></li>
<li><a href="https://www.liaoxuefeng.com/" target="_blank" rel="noopener">python liaoxuefeng</a></li>
</ul>

      
    </div>
	
    <!--
	
    -->
    <!--
    
      <footer class="article-footer">
      </footer>
    
    -->
  </div>
  
</article>



    
      <article id="post-python/sklearn/py-sklearn-7-save-model" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <myh11 itemprop="name">
      <a class="article-title-index" href="/2018/01/10/python/sklearn/py-sklearn-7-save-model/"><strong>Sklearn Save Model</strong></a>
      <small class=article-date-index>&nbsp; 2018-01-10</small>
      <!--<a>
      <div = post.date  </div>
      </a>-->
      <br>
      <br> <!-- blair add -->
    </myh11>
  


      </header>
    
    <div class="article-meta">
      <!--<a href="/2018/01/10/python/sklearn/py-sklearn-7-save-model/" class="article-date">
  <time datetime="2018-01-10T05:17:21.000Z" itemprop="datePublished">2018-01-10</time>
</a>-->
      <!--
  <div class="article-category-index">
    <a class="article-category-index-link" href="/categories/python/">python</a>
  </div>

-->
      <!--
      
        <div class="article-comment-link-wrap">
          <a href="http://iequa.com/2018/01/10/python/sklearn/py-sklearn-7-save-model/#disqus_thread" class="article-comment-link">Comments</a>
        </div>
      
      -->
    </div>
	
    <div class="article-entry" itemprop="articleBody">
      
        <p>æˆ‘ä»¬è®­ç»ƒå¥½äº†ä¸€ä¸ª <code>Model</code> ä»¥åæ€»éœ€è¦ä¿å­˜å’Œå†æ¬¡é¢„æµ‹, æ‰€ä»¥ä¿å­˜å’Œè¯»å–æˆ‘ä»¬çš„sklearn modelä¹Ÿæ˜¯åŒæ ·é‡è¦çš„ä¸€æ­¥ã€‚<br>
è¿™æ¬¡ä¸»è¦ä»‹ç»ä¸¤ç§ä¿å­˜Modelçš„æ¨¡å— <code>pickle</code> ä¸ <code>joblib</code></p>
<p>&lt;!-- more --&gt;</p>
<h2>pickle ä¿å­˜</h2>
<p>é¦–å…ˆç®€å•å»ºç«‹ä¸è®­ç»ƒä¸€ä¸ª <code>SVC</code> Model</p>
<p><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">from</span> sklearn <span class="keyword">import</span> svm</span><br><span class="line"><span class="keyword">from</span> sklearn <span class="keyword">import</span> datasets</span><br><span class="line"></span><br><span class="line">clf = svm.SVC()</span><br><span class="line">iris = datasets.load_iris()</span><br><span class="line">X, y = iris.data, iris.target</span><br><span class="line">clf.fit(X,y)</span><br></pre></td></tr></table></figure></p>
<pre><code>SVC(C=1.0, cache_size=200, class_weight=None, coef0=0.0,
  decision_function_shape='ovr', degree=3, gamma='auto', kernel='rbf',
  max_iter=-1, probability=False, random_state=None, shrinking=True,
  tol=0.001, verbose=False)
</code></pre>
<p>ä½¿ç”¨ <code>pickle</code> æ¥ä¿å­˜ä¸è¯»å–è®­ç»ƒå¥½çš„ <code>Model</code></p>
<p><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> pickle <span class="comment">#pickleæ¨¡å—</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#ä¿å­˜Model(æ³¨:saveæ–‡ä»¶å¤¹è¦é¢„å…ˆå»ºç«‹ï¼Œå¦åˆ™ä¼šæŠ¥é”™)</span></span><br><span class="line"><span class="keyword">with</span> open(<span class="string">'save/clf.pickle'</span>, <span class="string">'wb'</span>) <span class="keyword">as</span> f:</span><br><span class="line">    pickle.dump(clf, f)</span><br><span class="line"></span><br><span class="line"><span class="comment">#è¯»å–Model</span></span><br><span class="line"><span class="keyword">with</span> open(<span class="string">'save/clf.pickle'</span>, <span class="string">'rb'</span>) <span class="keyword">as</span> f:</span><br><span class="line">    clf2 = pickle.load(f)</span><br><span class="line">    <span class="comment">#æµ‹è¯•è¯»å–åçš„Model</span></span><br><span class="line">    print(clf2.predict(X[<span class="number">0</span>:<span class="number">1</span>]))</span><br><span class="line"></span><br><span class="line"><span class="comment"># [0]</span></span><br></pre></td></tr></table></figure></p>
<pre><code>[0]
</code></pre>
<h2>joblib ä¿å­˜</h2>
<p><code>joblib</code> æ˜¯ sklearnçš„å¤–éƒ¨æ¨¡å—</p>
<p><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">from</span> sklearn.externals <span class="keyword">import</span> joblib <span class="comment">#jbolibæ¨¡å—</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#ä¿å­˜Model(æ³¨:saveæ–‡ä»¶å¤¹è¦é¢„å…ˆå»ºç«‹ï¼Œå¦åˆ™ä¼šæŠ¥é”™)</span></span><br><span class="line">joblib.dump(clf, <span class="string">'save/clf.pkl'</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">#è¯»å–Model</span></span><br><span class="line">clf3 = joblib.load(<span class="string">'save/clf.pkl'</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">#æµ‹è¯•è¯»å–åçš„Model</span></span><br><span class="line">print(clf3.predict(X[<span class="number">0</span>:<span class="number">1</span>]))</span><br><span class="line"></span><br><span class="line"><span class="comment"># [0]</span></span><br></pre></td></tr></table></figure></p>
<pre><code>[0]
</code></pre>
<p><code>joblib</code> åœ¨ä½¿ç”¨ä¸Šæ¯”è¾ƒå®¹æ˜“ï¼Œè¯»å–é€Ÿåº¦ä¹Ÿç›¸å¯¹<code>pickle</code>å¿«</p>
<h2>Reference</h2>
<ul>
<li><a href="http://scikit-learn.org/" target="_blank" rel="noopener">scikit-learn.org</a></li>
<li><a href="http://scikit-learn.org/stable/tutorial/basic/tutorial.html" target="_blank" rel="noopener">scikit-learn docs</a></li>
<li><a href="https://morvanzhou.github.io" target="_blank" rel="noopener">scikit-learn morvanzhou</a></li>
</ul>

      
    </div>
	
    <!--
	
    -->
    <!--
    
      <footer class="article-footer">
      </footer>
    
    -->
  </div>
  
</article>



    
      <article id="post-python/sklearn/py-sklearn-6-cross-validation-3" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <myh11 itemprop="name">
      <a class="article-title-index" href="/2018/01/09/python/sklearn/py-sklearn-6-cross-validation-3/"><strong>Sklearn Cross-validation 3</strong></a>
      <small class=article-date-index>&nbsp; 2018-01-09</small>
      <!--<a>
      <div = post.date  </div>
      </a>-->
      <br>
      <br> <!-- blair add -->
    </myh11>
  


      </header>
    
    <div class="article-meta">
      <!--<a href="/2018/01/09/python/sklearn/py-sklearn-6-cross-validation-3/" class="article-date">
  <time datetime="2018-01-09T07:17:21.000Z" itemprop="datePublished">2018-01-09</time>
</a>-->
      <!--
  <div class="article-category-index">
    <a class="article-category-index-link" href="/categories/python/">python</a>
  </div>

-->
      <!--
      
        <div class="article-comment-link-wrap">
          <a href="http://iequa.com/2018/01/09/python/sklearn/py-sklearn-6-cross-validation-3/#disqus_thread" class="article-comment-link">Comments</a>
        </div>
      
      -->
    </div>
	
    <div class="article-entry" itemprop="articleBody">
      
        <p>äº¤å‰éªŒè¯(cross validation)è®©æˆ‘ä»¬çŸ¥é“åœ¨æœºå™¨å­¦ä¹ ä¸­éªŒè¯æ˜¯æœ‰å¤šä¹ˆçš„é‡è¦, è¿™ä¸€æ¬¡çš„ sklearn ä¸­æˆ‘ä»¬ç”¨åˆ°äº†<code>sklearn.learning_curve</code>å½“ä¸­çš„å¦å¤–ä¸€ç§, å«åš<code>validation_curve</code>,ç”¨è¿™ä¸€ç§æ›²çº¿æˆ‘ä»¬å°±èƒ½æ›´åŠ ç›´è§‚çœ‹å‡ºæ”¹å˜æ¨¡å‹ä¸­çš„å‚æ•°çš„æ—¶å€™æœ‰æ²¡æœ‰è¿‡æ‹Ÿåˆ(overfitting)çš„é—®é¢˜äº†. è¿™ä¹Ÿæ˜¯å¯ä»¥è®©æˆ‘ä»¬æ›´å¥½çš„é€‰æ‹©å‚æ•°çš„æ–¹æ³•.</p>
<p>&lt;!-- more --&gt;</p>
<h2>validation_curve æ£€è§†è¿‡æ‹Ÿåˆ</h2>
<p>éªŒè¯<code>SVC</code>ä¸­çš„ä¸€ä¸ªå‚æ•° <code>gamma</code> åœ¨ä»€ä¹ˆèŒƒå›´å†…èƒ½ä½¿ <code>model</code> äº§ç”Ÿå¥½çš„ç»“æœ. ä»¥åŠè¿‡æ‹Ÿåˆå’Œ <code>gamma</code> å–å€¼çš„å…³ç³».</p>
<p><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">from</span> sklearn.learning_curve <span class="keyword">import</span> validation_curve <span class="comment">#validation_curveæ¨¡å—</span></span><br><span class="line"><span class="keyword">from</span> sklearn.datasets <span class="keyword">import</span> load_digits </span><br><span class="line"><span class="keyword">from</span> sklearn.svm <span class="keyword">import</span> SVC </span><br><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt </span><br><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"></span><br><span class="line"><span class="comment">#digitsæ•°æ®é›†</span></span><br><span class="line">digits = load_digits()</span><br><span class="line">X = digits.data</span><br><span class="line">y = digits.target</span><br><span class="line"></span><br><span class="line"><span class="comment">#å»ºç«‹å‚æ•°æµ‹è¯•é›†</span></span><br><span class="line">param_range = np.logspace(<span class="number">-6</span>, <span class="number">-2.3</span>, <span class="number">5</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">#ä½¿ç”¨validation_curveå¿«é€Ÿæ‰¾å‡ºå‚æ•°å¯¹æ¨¡å‹çš„å½±å“</span></span><br><span class="line">train_loss, test_loss = validation_curve(</span><br><span class="line">    SVC(), X, y, param_name=<span class="string">'gamma'</span>, param_range=param_range, cv=<span class="number">10</span>, scoring=<span class="string">'mean_squared_error'</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">#å¹³å‡æ¯ä¸€è½®çš„å¹³å‡æ–¹å·®</span></span><br><span class="line">train_loss_mean = -np.mean(train_loss, axis=<span class="number">1</span>)</span><br><span class="line">test_loss_mean = -np.mean(test_loss, axis=<span class="number">1</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">#å¯è§†åŒ–å›¾å½¢</span></span><br><span class="line">plt.plot(param_range, train_loss_mean, <span class="string">'o-'</span>, color=<span class="string">"r"</span>,</span><br><span class="line">         label=<span class="string">"Training"</span>)</span><br><span class="line">plt.plot(param_range, test_loss_mean, <span class="string">'o-'</span>, color=<span class="string">"g"</span>,</span><br><span class="line">        label=<span class="string">"Cross-validation"</span>)</span><br><span class="line"></span><br><span class="line">plt.xlabel(<span class="string">"gamma"</span>)</span><br><span class="line">plt.ylabel(<span class="string">"Loss"</span>)</span><br><span class="line">plt.legend(loc=<span class="string">"best"</span>)</span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure></p>
<p>&lt;div class=&quot;limg1&quot;&gt;
&lt;img src=&quot;/images/python/sklearn-6-cross-validation-3-output_1_1.png&quot; width=&quot;400&quot; /&gt;
&lt;/div&gt;</p>
<p>ç”±å›¾ä¸­å¯ä»¥æ˜æ˜¾çœ‹åˆ° <code>gamma</code> å€¼å¤§äº <code>0.001</code>ï¼Œæ¨¡å‹å°±ä¼šæœ‰è¿‡æ‹Ÿåˆ(<code>Overfitting</code>)çš„é—®é¢˜ã€‚</p>
<h2>Reference</h2>
<ul>
<li><a href="http://scikit-learn.org/" target="_blank" rel="noopener">scikit-learn.org</a></li>
<li><a href="http://scikit-learn.org/stable/tutorial/basic/tutorial.html" target="_blank" rel="noopener">scikit-learn docs</a></li>
<li><a href="https://morvanzhou.github.io" target="_blank" rel="noopener">scikit-learn morvanzhou</a></li>
</ul>

      
    </div>
	
    <!--
	
    -->
    <!--
    
      <footer class="article-footer">
      </footer>
    
    -->
  </div>
  
</article>



    
      <article id="post-python/sklearn/py-sklearn-6-cross-validation-2" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <myh11 itemprop="name">
      <a class="article-title-index" href="/2018/01/09/python/sklearn/py-sklearn-6-cross-validation-2/"><strong>Sklearn Cross-validation 2</strong></a>
      <small class=article-date-index>&nbsp; 2018-01-09</small>
      <!--<a>
      <div = post.date  </div>
      </a>-->
      <br>
      <br> <!-- blair add -->
    </myh11>
  


      </header>
    
    <div class="article-meta">
      <!--<a href="/2018/01/09/python/sklearn/py-sklearn-6-cross-validation-2/" class="article-date">
  <time datetime="2018-01-09T02:17:21.000Z" itemprop="datePublished">2018-01-09</time>
</a>-->
      <!--
  <div class="article-category-index">
    <a class="article-category-index-link" href="/categories/python/">python</a>
  </div>

-->
      <!--
      
        <div class="article-comment-link-wrap">
          <a href="http://iequa.com/2018/01/09/python/sklearn/py-sklearn-6-cross-validation-2/#disqus_thread" class="article-comment-link">Comments</a>
        </div>
      
      -->
    </div>
	
    <div class="article-entry" itemprop="articleBody">
      
        <p>Sklearn ä¸­çš„ <code>learning curve</code> å¯ä»¥å¾ˆç›´è§‚çš„çœ‹å‡ºæˆ‘ä»¬çš„ <code>model</code> å­¦ä¹ çš„è¿›åº¦, å¯¹æ¯”å‘ç°æœ‰æ²¡æœ‰ <code>overfitting</code> çš„é—®é¢˜. ç„¶åæˆ‘ä»¬å¯ä»¥å¯¹æˆ‘ä»¬çš„ <code>model</code> è¿›è¡Œè°ƒæ•´, å…‹æœ <code>overfitting</code> çš„é—®é¢˜.</p>
<p>&lt;!-- more --&gt;</p>
<h2>Learning curve æ£€è§†è¿‡æ‹Ÿåˆ</h2>
<p>åŠ è½½å¯¹åº”æ¨¡å—:</p>
<p><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">from</span> sklearn.learning_curve <span class="keyword">import</span> learning_curve <span class="comment">#å­¦ä¹ æ›²çº¿æ¨¡å—</span></span><br><span class="line"><span class="keyword">from</span> sklearn.datasets <span class="keyword">import</span> load_digits <span class="comment">#digitsæ•°æ®é›†</span></span><br><span class="line"><span class="keyword">from</span> sklearn.svm <span class="keyword">import</span> SVC <span class="comment">#Support Vector Classifier</span></span><br><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt <span class="comment">#å¯è§†åŒ–æ¨¡å—</span></span><br><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br></pre></td></tr></table></figure></p>
<p>åŠ è½½digitsæ•°æ®é›†ï¼Œå…¶åŒ…å«çš„æ˜¯æ‰‹å†™ä½“çš„æ•°å­—ï¼Œä»0åˆ°9ã€‚<br>
æ•°æ®é›†æ€»å…±æœ‰1797ä¸ªæ ·æœ¬ï¼Œæ¯ä¸ªæ ·æœ¬ç”±64ä¸ªç‰¹å¾ç»„æˆï¼Œ åˆ†åˆ«ä¸ºå…¶æ‰‹å†™ä½“å¯¹åº”çš„8Ã—8åƒç´ è¡¨ç¤ºï¼Œæ¯ä¸ªç‰¹å¾å–å€¼0~16ã€‚</p>
<p><figure class="highlight python"><table><tr><td class="code"><pre><span class="line">digits = load_digits()</span><br><span class="line">X = digits.data</span><br><span class="line">y = digits.target</span><br><span class="line"></span><br><span class="line"><span class="comment">#print(len(X[0]))</span></span><br></pre></td></tr></table></figure></p>
<p>è§‚å¯Ÿæ ·æœ¬ç”±å°åˆ°å¤§çš„å­¦ä¹ æ›²çº¿å˜åŒ–, é‡‡ç”¨KæŠ˜äº¤å‰éªŒè¯ <code>cv=10</code>, é€‰æ‹©å¹³å‡æ–¹å·®æ£€è§†æ¨¡å‹æ•ˆèƒ½ <code>scoring='mean_squared_error'</code>, æ ·æœ¬ç”±å°åˆ°å¤§åˆ†æˆ5è½®æ£€è§†å­¦ä¹ æ›²çº¿(<code>10%</code>, <code>25%</code>, <code>50%</code>, <code>75%</code>, <code>100%</code>):</p>
<p><figure class="highlight python"><table><tr><td class="code"><pre><span class="line">train_sizes, train_loss, test_loss = learning_curve(</span><br><span class="line">    SVC(gamma=<span class="number">0.001</span>), X, y, cv=<span class="number">10</span>, scoring=<span class="string">'mean_squared_error'</span>,</span><br><span class="line">    train_sizes=[<span class="number">0.1</span>, <span class="number">0.25</span>, <span class="number">0.5</span>, <span class="number">0.75</span>, <span class="number">1</span>])</span><br><span class="line"></span><br><span class="line"><span class="comment">#å¹³å‡æ¯ä¸€è½®æ‰€å¾—åˆ°çš„å¹³å‡æ–¹å·®(å…±5è½®ï¼Œåˆ†åˆ«ä¸ºæ ·æœ¬10%ã€25%ã€50%ã€75%ã€100%)</span></span><br><span class="line">train_loss_mean = -np.mean(train_loss, axis=<span class="number">1</span>)</span><br><span class="line">test_loss_mean = -np.mean(test_loss, axis=<span class="number">1</span>)</span><br></pre></td></tr></table></figure></p>
<p>å¯è§†åŒ–å›¾å½¢:</p>
<p><figure class="highlight python"><table><tr><td class="code"><pre><span class="line">plt.plot(train_sizes, train_loss_mean, <span class="string">'o-'</span>, color=<span class="string">"r"</span>,</span><br><span class="line">         label=<span class="string">"Training"</span>)</span><br><span class="line">plt.plot(train_sizes, test_loss_mean, <span class="string">'o-'</span>, color=<span class="string">"g"</span>,</span><br><span class="line">        label=<span class="string">"Cross-validation"</span>)</span><br><span class="line"></span><br><span class="line">plt.xlabel(<span class="string">"Training examples"</span>)</span><br><span class="line">plt.ylabel(<span class="string">"Loss"</span>)</span><br><span class="line">plt.legend(loc=<span class="string">"best"</span>)</span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure></p>
<p>&lt;div class=&quot;limg1&quot;&gt;
&lt;img src=&quot;/images/python/sklearn-6-cross-validation-2-output_7_0.png&quot; width=&quot;400&quot; /&gt;
&lt;/div&gt;</p>
<h2>Reference</h2>
<ul>
<li><a href="http://scikit-learn.org/" target="_blank" rel="noopener">scikit-learn.org</a></li>
<li><a href="http://scikit-learn.org/stable/tutorial/basic/tutorial.html" target="_blank" rel="noopener">scikit-learn docs</a></li>
<li><a href="https://morvanzhou.github.io" target="_blank" rel="noopener">scikit-learn morvanzhou</a></li>
</ul>

      
    </div>
	
    <!--
	
    -->
    <!--
    
      <footer class="article-footer">
      </footer>
    
    -->
  </div>
  
</article>



    
      <nav id="page-nav">
        <a class="extend prev" rel="prev" href="/page/6/">&amp;laquo; Prev</a><a class="page-number" href="/">1</a><span class="space">&hellip;</span><a class="page-number" href="/page/5/">5</a><a class="page-number" href="/page/6/">6</a><span class="page-number current">7</span><a class="page-number" href="/page/8/">8</a><a class="page-number" href="/page/9/">9</a><span class="space">&hellip;</span><a class="page-number" href="/page/18/">18</a><a class="extend next" rel="next" href="/page/8/">Next &amp;raquo;</a>
      </nav>
    

</section>
    <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      &copy; 2019 Blair Chan&nbsp;
      Powered by <a href="http://hexo.io/" target="_blank">Hexo</a>, theme by <a href="http://github.com/52binge/hexo-theme-blairos" target="_blank" rel="noopener">blairos</a>
    </div>
  </div>
</footer>

<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js"],
    jax: ["input/TeX"],
    tex2jax: {
      inlineMath: [ ['$','$'], ['\\(','\\)'] ],
      displayMath: [ ['$$','$$']],
      processEscapes: true
    }
  });
</script>
<script type="text/javascript" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS_HTML,http://myserver.com/MathJax/config/local/local.js">
</script>

    
<script type="text/javascript"> <!-- add by blair 0724 type=text/javascript -->
  var disqus_shortname = 'blairos-sn';
  
  (function(){
    var dsq = document.createElement('script');
    dsq.type = 'text/javascript';
    dsq.async = true;
    dsq.src = '//' + disqus_shortname + '.disqus.com/count.js';
    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
  })();
</script>


<script src="/js/jquery.min.js"></script>


  <link rel="stylesheet" href="/fancybox/jquery.fancybox.css">
  <script src="/fancybox/jquery.fancybox.pack.js"></script>


<script src="/js/script.js"></script>

  </div>
</body>
</html>
