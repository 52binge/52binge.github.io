<?xml version="1.0" encoding="utf-8"?>
<search>
  
  
    
    <entry>
      <title><![CDATA[Tensorboard å¯è§†åŒ–å¥½å¸®æ‰‹ 2]]></title>
      <url>http://iequa.com/2018/09/12/tensorflow-4-2-tensorboard2/</url>
      <content type="html"><![CDATA[<p>ä¸Šä¸€ç¯‡è®²åˆ°äº† å¦‚ä½•å¯è§†åŒ–TesorBoradæ•´ä¸ªç¥ç»ç½‘ç»œç»“æ„çš„è¿‡ç¨‹ã€‚ å…¶å®tensorboardè¿˜å¯ä»¥å¯è§†åŒ–è®­ç»ƒè¿‡ç¨‹( biaseå˜åŒ–è¿‡ç¨‹) , è¿™èŠ‚é‡ç‚¹è®²ä¸€ä¸‹å¯è§†åŒ–è®­ç»ƒè¿‡ç¨‹çš„å›¾æ ‡æ˜¯å¦‚ä½•åšçš„ ã€‚è¯·çœ‹ä¸‹å›¾, è¿™æ˜¯å¦‚ä½•åšåˆ°çš„å‘¢ï¼Ÿ</p>
<a id="more"></a>
<p>åœ¨histogramsé‡Œé¢æˆ‘ä»¬è¿˜å¯ä»¥çœ‹åˆ°æ›´å¤šçš„layersçš„å˜åŒ–:</p>
<h2 id="åˆ¶ä½œè¾“å…¥æº"><a href="#åˆ¶ä½œè¾“å…¥æº" class="headerlink" title="åˆ¶ä½œè¾“å…¥æº"></a>åˆ¶ä½œè¾“å…¥æº</h2><h2 id="åœ¨-layer-ä¸­ä¸º-Weights-biases-è®¾ç½®å˜åŒ–å›¾è¡¨"><a href="#åœ¨-layer-ä¸­ä¸º-Weights-biases-è®¾ç½®å˜åŒ–å›¾è¡¨" class="headerlink" title="åœ¨ layer ä¸­ä¸º Weights, biases è®¾ç½®å˜åŒ–å›¾è¡¨"></a>åœ¨ layer ä¸­ä¸º Weights, biases è®¾ç½®å˜åŒ–å›¾è¡¨</h2><h2 id="è®¾ç½®lossçš„å˜åŒ–å›¾"><a href="#è®¾ç½®lossçš„å˜åŒ–å›¾" class="headerlink" title="è®¾ç½®lossçš„å˜åŒ–å›¾"></a>è®¾ç½®lossçš„å˜åŒ–å›¾</h2><h2 id="ç»™æ‰€æœ‰è®­ç»ƒå›¾åˆå¹¶"><a href="#ç»™æ‰€æœ‰è®­ç»ƒå›¾åˆå¹¶" class="headerlink" title="ç»™æ‰€æœ‰è®­ç»ƒå›¾åˆå¹¶"></a>ç»™æ‰€æœ‰è®­ç»ƒå›¾åˆå¹¶</h2><h2 id="è®­ç»ƒæ•°æ®"><a href="#è®­ç»ƒæ•°æ®" class="headerlink" title="è®­ç»ƒæ•°æ®"></a>è®­ç»ƒæ•°æ®</h2><h2 id="åœ¨-tensorboard-ä¸­æŸ¥çœ‹æ•ˆæœ"><a href="#åœ¨-tensorboard-ä¸­æŸ¥çœ‹æ•ˆæœ" class="headerlink" title="åœ¨ tensorboard ä¸­æŸ¥çœ‹æ•ˆæœ"></a>åœ¨ tensorboard ä¸­æŸ¥çœ‹æ•ˆæœ</h2><h2 id="Reference"><a href="#Reference" class="headerlink" title="Reference"></a>Reference</h2><ul>
<li><a href="https://www.tensorflow.org/" target="_blank" rel="external">tensorflow.org</a></li>
<li><a href="https://morvanzhou.github.io/tutorials/machine-learning/tensorflow/" target="_blank" rel="external">è«çƒ¦Python</a></li>
</ul>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[Tensorboard å¯è§†åŒ–å¥½å¸®æ‰‹ 1]]></title>
      <url>http://iequa.com/2018/09/12/tensorflow-4-1-tensorboard1/</url>
      <content type="html"><![CDATA[<p>å­¦ä¼šç”¨ Tensorflow è‡ªå¸¦çš„ tensorboard å»å¯è§†åŒ–æˆ‘ä»¬æ‰€å»ºé€ å‡ºæ¥çš„ç¥ç»ç½‘ç»œæ˜¯ä¸€ä¸ªå¾ˆå¥½çš„å­¦ä¹ ç†è§£æ–¹å¼. ç”¨æœ€ç›´è§‚çš„æµç¨‹å›¾å‘Šè¯‰ä½ , ä½ çš„ç¥ç»ç½‘ç»œæ˜¯é•¿æ€æ ·,æœ‰åŠ©äºä½ å‘ç°ç¼–ç¨‹ä¸­é—´çš„é—®é¢˜å’Œç–‘é—®.</p>
<a id="more"></a>
<h2 id="æ•ˆæœ"><a href="#æ•ˆæœ" class="headerlink" title="æ•ˆæœ"></a>æ•ˆæœ</h2><p>è¿™æ¬¡æˆ‘ä»¬ä¼šä»‹ç»å¦‚ä½•å¯è§†åŒ–ç¥ç»ç½‘ç»œã€‚å› ä¸ºå¾ˆå¤šæ—¶å€™æˆ‘ä»¬éƒ½æ˜¯åšå¥½äº†ä¸€ä¸ªç¥ç»ç½‘ç»œï¼Œä½†æ˜¯æ²¡æœ‰ä¸€ä¸ªå›¾åƒå¯ä»¥å±•ç¤ºç»™å¤§å®¶çœ‹ã€‚</p>
<p><strong>TensorFlow</strong> çš„å¯è§†åŒ–å·¥å…· <strong>Tensorboard</strong> : é€šè¿‡ä½¿ç”¨è¿™ä¸ªå·¥å…·æˆ‘ä»¬å¯ä»¥å¾ˆç›´è§‚çš„çœ‹åˆ°æ•´ä¸ªç¥ç»ç½‘ç»œçš„ç»“æ„ã€æ¡†æ¶ã€‚ </p>
<p>ä»Šå¤©è¦æ˜¾ç¤ºçš„ç¥ç»ç½‘ç»œå·®ä¸å¤šæ˜¯è¿™æ ·å­çš„</p>
<p><img src="/images/tensorflow/tf-4.1_1.png" width="600"></p>
<p>åŒæ—¶æˆ‘ä»¬ä¹Ÿå¯ä»¥å±•å¼€çœ‹æ¯ä¸ªlayerä¸­çš„ä¸€äº›å…·ä½“çš„ç»“æ„ï¼š</p>
<p><img src="/images/tensorflow/tf-4.1_2.png" width="600"></p>
<p>å¥½ï¼Œé€šè¿‡é˜…è¯»ä»£ç å’Œä¹‹å‰çš„å›¾ç‰‡æˆ‘ä»¬å¤§æ¦‚çŸ¥é“äº†æ­¤å¤„æ˜¯æœ‰:</p>
<blockquote>
<ul>
<li>ä¸€ä¸ªè¾“å…¥å±‚ï¼ˆ<strong>inputs</strong>ï¼‰</li>
<li>ä¸€ä¸ªéšå«å±‚ï¼ˆ<strong>layer</strong>ï¼‰</li>
<li>ä¸€ä¸ªè¾“å‡ºå±‚ï¼ˆ<strong>output</strong>ï¼‰ </li>
</ul>
</blockquote>
<p>ç°åœ¨å¯ä»¥çœ‹çœ‹å¦‚ä½•è¿›è¡Œå¯è§†åŒ–.</p>
<h2 id="æ­å»ºå›¾çº¸"><a href="#æ­å»ºå›¾çº¸" class="headerlink" title="æ­å»ºå›¾çº¸"></a>æ­å»ºå›¾çº¸</h2><p>é¦–å…ˆä» <code>Input</code> å¼€å§‹ï¼š</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment"># define placeholder for inputs to network</span></span><br><span class="line">xs = tf.placeholder(tf.float32, [<span class="keyword">None</span>, <span class="number">1</span>])</span><br><span class="line">ys = tf.placeholder(tf.float32, [<span class="keyword">None</span>, <span class="number">1</span>])</span><br></pre></td></tr></table></figure>
<p>å¯¹äº input æˆ‘ä»¬è¿›è¡Œå¦‚ä¸‹ä¿®æ”¹ï¼š é¦–å…ˆï¼Œå¯ä»¥ä¸º<code>xs</code>æŒ‡å®šåç§°ä¸º<code>x_in</code>, <code>ys</code> åŒæ ·ã€‚ :</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">xs= tf.placeholder(tf.float32, [<span class="keyword">None</span>, <span class="number">1</span>],name=<span class="string">'x_in'</span>)</span><br><span class="line">ys= tf.placeholder(tf.loat32, [<span class="keyword">None</span>, <span class="number">1</span>],name=<span class="string">'y_in'</span>)</span><br></pre></td></tr></table></figure>
<p>è¿™é‡ŒæŒ‡å®šçš„åç§°å°†æ¥ä¼šåœ¨å¯è§†åŒ–çš„å›¾å±‚ <code>inputs</code> ä¸­æ˜¾ç¤ºå‡ºæ¥</p>
<p>ä½¿ç”¨ <code>with tf.name_scope(&#39;inputs&#39;)</code> å¯ä»¥å°† <code>xs</code> å’Œ <code>ys</code> åŒ…å«è¿›æ¥ï¼Œå½¢æˆä¸€ä¸ªå¤§çš„å›¾å±‚ï¼Œå›¾å±‚çš„åå­—å°±æ˜¯ <code>with tf.name_scope()</code> æ–¹æ³•é‡Œçš„å‚æ•°</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">with</span> tf.name_scope(<span class="string">'inputs'</span>):</span><br><span class="line">    <span class="comment"># define placeholder for inputs to network</span></span><br><span class="line">    xs = tf.placeholder(tf.float32, [<span class="keyword">None</span>, <span class="number">1</span>])</span><br><span class="line">    ys = tf.placeholder(tf.float32, [<span class="keyword">None</span>, <span class="number">1</span>])</span><br></pre></td></tr></table></figure>
<p>æ¥ä¸‹æ¥å¼€å§‹ç¼–è¾‘ <code>layer</code> ï¼Œ è¯·çœ‹ç¼–è¾‘å‰çš„ç¨‹åºç‰‡æ®µ ï¼š</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">add_layer</span><span class="params">(inputs, in_size, out_size, activation_function=None)</span>:</span></span><br><span class="line">    <span class="comment"># add one more layer and return the output of this layer</span></span><br><span class="line">    Weights = tf.Variable(tf.random_normal([in_size, out_size]))</span><br><span class="line">    biases = tf.Variable(tf.zeros([<span class="number">1</span>, out_size]) + <span class="number">0.1</span>)</span><br><span class="line">    Wx_plus_b = tf.add(tf.matmul(inputs, Weights), biases)</span><br><span class="line">    <span class="keyword">if</span> activation_function <span class="keyword">is</span> <span class="keyword">None</span>:</span><br><span class="line">        outputs = Wx_plus_b</span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        outputs = activation_function(Wx_plus_b, )</span><br><span class="line">    <span class="keyword">return</span> outputs</span><br></pre></td></tr></table></figure>
<h3 id="2-1-ç¼–è¾‘å-add-layer"><a href="#2-1-ç¼–è¾‘å-add-layer" class="headerlink" title="2.1 ç¼–è¾‘å add_layer"></a>2.1 ç¼–è¾‘å add_layer</h3><p><font color="green"><strong>ç¼–è¾‘åï¼Œ è¿™é‡Œçš„åå­—åº”è¯¥å« layer, ä¸‹é¢æ˜¯ç¼–è¾‘åçš„</strong></font>:</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">add_layer</span><span class="params">(inputs, in_size, out_size, activation_function=None)</span>:</span></span><br><span class="line">    <span class="comment"># add one more layer and return the output of this layer</span></span><br><span class="line">    <span class="keyword">with</span> tf.name_scope(<span class="string">'layer'</span>):</span><br><span class="line">        Weights= tf.Variable(tf.random_normal([in_size, out_size]))</span><br><span class="line">        <span class="comment"># and so on...</span></span><br></pre></td></tr></table></figure>
<p>åœ¨å®šä¹‰å®Œå¤§çš„æ¡†æ¶layerä¹‹åï¼ŒåŒæ—¶ä¹Ÿéœ€è¦å®šä¹‰æ¯ä¸€ä¸ªâ€™æ¡†æ¶â€˜é‡Œé¢çš„å°éƒ¨ä»¶ï¼š(Weights biases å’Œ activation function): ç°åœ¨ç°å¯¹ <code>Weights</code> å®šä¹‰ï¼š å®šä¹‰çš„æ–¹æ³•åŒä¸Šï¼Œå¯ä»¥ä½¿ç”¨<code>tf.name.scope()</code> æ–¹æ³•ï¼ŒåŒæ—¶ä¹Ÿå¯ä»¥åœ¨ <code>Weights</code> ä¸­æŒ‡å®šåç§° <code>W</code> ã€‚ å³ä¸ºï¼š</p>
<p>æ¥ç€ç»§ç»­å®šä¹‰ <code>biases</code> ï¼Œ å®šä¹‰æ–¹å¼åŒä¸Šã€‚</p>
<p><code>activation_function</code> çš„è¯ï¼Œå¯ä»¥æš‚æ—¶å¿½ç•¥ã€‚å› ä¸ºå½“ä½ è‡ªå·±é€‰æ‹©ç”¨ tensorflow ä¸­çš„æ¿€åŠ±å‡½æ•°ï¼ˆactivation functionï¼‰çš„æ—¶å€™ï¼Œtensorflowä¼šé»˜è®¤æ·»åŠ åç§°ã€‚ æœ€ç»ˆï¼Œlayerå½¢å¼å¦‚ä¸‹ï¼š</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">add_layer</span><span class="params">(inputs, in_size, out_size, activation_function=None)</span>:</span></span><br><span class="line">    <span class="comment"># add one more layer and return the output of this layer</span></span><br><span class="line">    <span class="keyword">with</span> tf.name_scope(<span class="string">'layer'</span>):</span><br><span class="line">        <span class="keyword">with</span> tf.name_scope(<span class="string">'weights'</span>):</span><br><span class="line">            Weights = tf.Variable(</span><br><span class="line">            tf.random_normal([in_size, out_size]), </span><br><span class="line">            name=<span class="string">'W'</span>)</span><br><span class="line">        <span class="keyword">with</span> tf.name_scope(<span class="string">'biases'</span>):</span><br><span class="line">            biases = tf.Variable(</span><br><span class="line">            tf.zeros([<span class="number">1</span>, out_size]) + <span class="number">0.1</span>, </span><br><span class="line">            name=<span class="string">'b'</span>)</span><br><span class="line">        <span class="keyword">with</span> tf.name_scope(<span class="string">'Wx_plus_b'</span>):</span><br><span class="line">            Wx_plus_b = tf.add(</span><br><span class="line">            tf.matmul(inputs, Weights), </span><br><span class="line">            biases)</span><br><span class="line">        <span class="keyword">if</span> activation_function <span class="keyword">is</span> <span class="keyword">None</span>:</span><br><span class="line">            outputs = Wx_plus_b</span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            outputs = activation_function(Wx_plus_b, )</span><br><span class="line">        <span class="keyword">return</span> outputs</span><br></pre></td></tr></table></figure>
<p>æ•ˆæœå¦‚ä¸‹ï¼šï¼ˆæœ‰æ²¡æœ‰çœ‹è§åˆšæ‰å®šä¹‰ layer é‡Œé¢çš„â€œå†…éƒ¨æ„ä»¶â€å‘¢ï¼Ÿï¼‰</p>
<p><img src="/images/tensorflow/tf-4.1_4.png" width="600"></p>
<p>æœ€åç¼–è¾‘ <code>loss</code> éƒ¨åˆ†ï¼šå°† <code>with tf.name_scope()</code> æ·»åŠ åœ¨ <code>loss</code> ä¸Šæ–¹ï¼Œå¹¶ä¸ºå®ƒèµ·åä¸º <code>loss</code></p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment"># the error between prediciton and real data</span></span><br><span class="line"><span class="keyword">with</span> tf.name_scope(<span class="string">'loss'</span>):</span><br><span class="line">    loss = tf.reduce_mean(</span><br><span class="line">    tf.reduce_sum(</span><br><span class="line">    tf.square(ys - prediction),</span><br><span class="line">    eduction_indices=[<span class="number">1</span>]</span><br><span class="line">    ))</span><br></pre></td></tr></table></figure>
<p>è¿™å¥è¯å°±æ˜¯â€œç»˜åˆ¶â€ loss äº†ï¼Œ å¦‚ä¸‹ï¼š</p>
<p><img src="/images/tensorflow/tf-4.1_5.png" width="600"></p>
<p>ä½¿ç”¨ <code>with tf.name_scope()</code> å†æ¬¡å¯¹ <code>train_step</code> éƒ¨åˆ†è¿›è¡Œç¼–è¾‘, å¦‚ä¸‹ï¼š</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">with</span> tf.name_scope(<span class="string">'train'</span>):</span><br><span class="line">    train_step = tf.train.GradientDescentOptimizer(<span class="number">0.1</span>).minimize(loss)</span><br></pre></td></tr></table></figure>
<p>æˆ‘ä»¬éœ€è¦ä½¿ç”¨ <code>tf.summary.FileWriter()</code> å°†ä¸Šé¢â€˜ç»˜ç”»â€™å‡ºçš„å›¾ä¿å­˜åˆ°ä¸€ä¸ªç›®å½•ä¸­ï¼Œä»¥æ–¹ä¾¿åæœŸåœ¨æµè§ˆå™¨ä¸­å¯ä»¥æµè§ˆã€‚ è¿™ä¸ªæ–¹æ³•ä¸­çš„ç¬¬äºŒä¸ªå‚æ•°éœ€è¦ä½¿ç”¨ <code>sess.graph</code> ï¼Œ å› æ­¤æˆ‘ä»¬éœ€è¦æŠŠè¿™å¥è¯æ”¾åœ¨è·å– <code>session</code> çš„åé¢ã€‚ è¿™é‡Œçš„ <code>graph</code> æ˜¯å°†å‰é¢å®šä¹‰çš„æ¡†æ¶ä¿¡æ¯æ”¶é›†èµ·æ¥ï¼Œç„¶åæ”¾åœ¨ <code>logs/</code> ç›®å½•ä¸‹é¢ã€‚</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">sess = tf.Session() <span class="comment"># get session</span></span><br><span class="line"><span class="comment"># tf.train.SummaryWriter soon be deprecated, use following</span></span><br><span class="line">writer = tf.summary.FileWriter(<span class="string">"logs/"</span>, sess.graph)</span><br></pre></td></tr></table></figure>
<p>æœ€ååœ¨ä½ çš„terminalï¼ˆç»ˆç«¯ï¼‰ä¸­ ï¼Œä½¿ç”¨ä»¥ä¸‹å‘½ä»¤</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">tensorboard --logdir logs</span><br></pre></td></tr></table></figure>
<p>åŒæ—¶å°†ç»ˆç«¯ä¸­è¾“å‡ºçš„ç½‘å€å¤åˆ¶åˆ°æµè§ˆå™¨ä¸­ï¼Œä¾¿å¯ä»¥çœ‹åˆ°ä¹‹å‰å®šä¹‰çš„è§†å›¾æ¡†æ¶äº†ã€‚</p>
<p>tensorboard è¿˜æœ‰å¾ˆå¤šå…¶ä»–çš„å‚æ•°ï¼Œå¸Œæœ›å¤§å®¶å¯ä»¥å¤šå¤šäº†è§£, å¯ä»¥ä½¿ç”¨ tensorboard â€“help æŸ¥çœ‹tensorboardçš„è¯¦ç»†å‚æ•° æœ€ç»ˆçš„å…¨éƒ¨ä»£ç åœ¨è¿™é‡Œ</p>
<h2 id="å¯èƒ½ä¼šé‡åˆ°çš„é—®é¢˜"><a href="#å¯èƒ½ä¼šé‡åˆ°çš„é—®é¢˜" class="headerlink" title="å¯èƒ½ä¼šé‡åˆ°çš„é—®é¢˜"></a>å¯èƒ½ä¼šé‡åˆ°çš„é—®é¢˜</h2><p>(1) ä¸ Tensorboard å…¼å®¹çš„æµè§ˆå™¨æ˜¯ â€œGoogle Chromeâ€. ä½¿ç”¨å…¶ä»–çš„æµè§ˆå™¨ä¸ä¿è¯æ‰€æœ‰å†…å®¹éƒ½èƒ½æ­£å¸¸æ˜¾ç¤º.</p>
<p>(2) è¯·ä½¿ç”¨ <a href="http://localhost:6006" target="_blank" rel="external">http://localhost:6006</a>, å¤§å¤šæ•°æœ‹å‹éƒ½æ˜¯è¿™ä¸ªé—®é¢˜.</p>
<p>(3) è¯·ç¡®ä¿ä½ çš„ tensorboard æŒ‡ä»¤æ˜¯åœ¨ä½ çš„ logs æ–‡ä»¶æ ¹ç›®å½•æ‰§è¡Œçš„. å¦‚æœåœ¨å…¶ä»–ç›®å½•ä¸‹, æ¯”å¦‚ <code>Desktop</code> ç­‰, å¯èƒ½ä¸ä¼šæˆåŠŸçœ‹åˆ°å›¾. æ¯”å¦‚åœ¨ä¸‹é¢è¿™ä¸ªç›®å½•, ä½ è¦ cd åˆ° <code>project</code> è¿™ä¸ªåœ°æ–¹æ‰§è¡Œ <code>/project &gt; tensorboard --logdir logs</code></p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">- project</span><br><span class="line">   - logs</span><br><span class="line">   model.py</span><br><span class="line">   env.py</span><br></pre></td></tr></table></figure>
<blockquote>
<p>æœ‰çš„æœ‹å‹ä½¿ç”¨ anaconda ä¸‹çš„ python3.5 çš„è™šæ‹Ÿç¯å¢ƒ, å¦‚æœä½ è¾“å…¥ tensorboard çš„æŒ‡ä»¤, å‡ºç°æŠ¥é”™: <code>&quot;tensorboard&quot; is not recognized as an internal or external command...</code></p>
<p>è§£å†³æ–¹æ³•çš„å…³é”®å°±æ˜¯éœ€è¦æ¿€æ´»TensorFlow. ç®¡ç†å‘˜æ¨¡å¼æ‰“å¼€ Anaconda Prompt, è¾“å…¥ activate tensorflow, æ¥ç€æŒ‰ç…§ä¸Šé¢çš„æµç¨‹æ‰§è¡Œ tensorboard æŒ‡ä»¤.</p>
</blockquote>
<h2 id="Reference"><a href="#Reference" class="headerlink" title="Reference"></a>Reference</h2><ul>
<li><a href="https://www.tensorflow.org/" target="_blank" rel="external">tensorflow.org</a></li>
<li><a href="https://morvanzhou.github.io/tutorials/machine-learning/tensorflow/" target="_blank" rel="external">è«çƒ¦Python</a></li>
<li><a href="https://github.com/MorvanZhou/tutorials/blob/master/tensorflowTUT/tf14_tensorboard/full_code.py" target="_blank" rel="external">è«çƒ¦ä»£ç  tf14_tensorboard/full_code.py</a></li>
</ul>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[åŠ é€Ÿç¥ç»ç½‘ç»œè®­ç»ƒ (Speed Up Training)]]></title>
      <url>http://iequa.com/2018/09/12/tensorflow-3-4-A-speed-up-learning/</url>
      <content type="html"><![CDATA[<p>æ€ä¹ˆæ ·åŠ é€Ÿä½ çš„ç¥ç»ç½‘ç»œè®­ç»ƒè¿‡ç¨‹. Speed Up Training</p>
<a id="more"></a>
<p>å­¦ä¹ èµ„æ–™:</p>
<ul>
<li>cs231n å„ç§ Optimizer çš„å¯¹æ¯” <a href="http://cs231n.github.io/neural-networks-3/" target="_blank" rel="external">é“¾æ¥</a> (è‹±æ–‡)</li>
<li>Tensorflow çš„å¯ç”¨ Optimizer <a href="https://www.tensorflow.org/api_guides/python/train" target="_blank" rel="external">é“¾æ¥</a></li>
<li>Improving DNN (week2) Optimization Algorithm <a href="/2018/07/21/deeplearning-ai-Improving-Deep-Neural-Networks-week2/#3-Momentum">é“¾æ¥</a></li>
</ul>
<p>åŒ…æ‹¬ä»¥ä¸‹å‡ ç§æ¨¡å¼:</p>
<blockquote>
<ul>
<li>Stochastic Gradient Descent (SGD)</li>
<li>Momentum</li>
<li>AdaGrad</li>
<li>RMSProp</li>
<li>Adam</li>
</ul>
</blockquote>
<p><img src="/images/tensorflow/tf-3.4-speedup1.png" width="600"></p>
<p>è¶Šå¤æ‚çš„ç¥ç»ç½‘ç»œ , è¶Šå¤šçš„æ•°æ® , æˆ‘ä»¬éœ€è¦åœ¨è®­ç»ƒç¥ç»ç½‘ç»œçš„è¿‡ç¨‹ä¸ŠèŠ±è´¹çš„æ—¶é—´ä¹Ÿå°±è¶Šå¤š. åŸå› å¾ˆç®€å•, å°±æ˜¯å› ä¸ºè®¡ç®—é‡å¤ªå¤§äº†. å¯æ˜¯å¾€å¾€æœ‰æ—¶å€™ä¸ºäº†è§£å†³å¤æ‚çš„é—®é¢˜, å¤æ‚çš„ç»“æ„å’Œå¤§æ•°æ®åˆæ˜¯ä¸èƒ½é¿å…çš„, æ‰€ä»¥æˆ‘ä»¬éœ€è¦å¯»æ‰¾ä¸€äº›æ–¹æ³•, è®©ç¥ç»ç½‘ç»œèªæ˜èµ·æ¥, å¿«èµ·æ¥.</p>
<h2 id="1-Stochastic-Gradient-Descent-SGD"><a href="#1-Stochastic-Gradient-Descent-SGD" class="headerlink" title="1. Stochastic Gradient Descent (SGD)"></a>1. Stochastic Gradient Descent (SGD)</h2><p><img src="/images/tensorflow/tf-3.4-speedup2.png" width="600"></p>
<p>æ‰€ä»¥, æœ€åŸºç¡€çš„æ–¹æ³•å°±æ˜¯ SGD å•¦, æƒ³åƒçº¢è‰²æ–¹å—æ˜¯æˆ‘ä»¬è¦è®­ç»ƒçš„ data, å¦‚æœç”¨æ™®é€šçš„è®­ç»ƒæ–¹æ³•, å°±éœ€è¦é‡å¤ä¸æ–­çš„æŠŠæ•´å¥—æ•°æ®æ”¾å…¥ç¥ç»ç½‘ç»œ <strong>NN</strong> è®­ç»ƒ, è¿™æ ·æ¶ˆè€—çš„è®¡ç®—èµ„æºä¼šå¾ˆå¤§.</p>
<p>æˆ‘ä»¬æ¢ä¸€ç§æ€è·¯, å¦‚æœæŠŠè¿™äº›æ•°æ®æ‹†åˆ†æˆå°æ‰¹å°æ‰¹çš„, ç„¶åå†åˆ†æ‰¹ä¸æ–­æ”¾å…¥ NN ä¸­è®¡ç®—, è¿™å°±æ˜¯æˆ‘ä»¬å¸¸è¯´çš„ SGD çš„æ­£ç¡®æ‰“å¼€æ–¹å¼äº†. æ¯æ¬¡ä½¿ç”¨æ‰¹æ•°æ®, è™½ç„¶ä¸èƒ½åæ˜ æ•´ä½“æ•°æ®çš„æƒ…å†µ, ä¸è¿‡å´å¾ˆå¤§ç¨‹åº¦ä¸ŠåŠ é€Ÿäº† NN çš„è®­ç»ƒè¿‡ç¨‹, è€Œä¸”ä¹Ÿä¸ä¼šä¸¢å¤±å¤ªå¤šå‡†ç¡®ç‡.å¦‚æœè¿ç”¨ä¸Šäº† SGD, ä½ è¿˜æ˜¯å«Œè®­ç»ƒé€Ÿåº¦æ…¢, é‚£æ€ä¹ˆåŠ?</p>
<p><img src="/images/tensorflow/tf-3.4-speedup3.png" width="400"></p>
<p>æ²¡é—®é¢˜, äº‹å®è¯æ˜, SGD å¹¶ä¸æ˜¯æœ€å¿«é€Ÿçš„è®­ç»ƒæ–¹æ³•, çº¢è‰²çš„çº¿æ˜¯ SGD, ä½†å®ƒåˆ°è¾¾å­¦ä¹ ç›®æ ‡çš„æ—¶é—´æ˜¯åœ¨è¿™äº›æ–¹æ³•ä¸­æœ€é•¿çš„ä¸€ç§. æˆ‘ä»¬è¿˜æœ‰å¾ˆå¤šå…¶ä»–çš„é€”å¾„æ¥åŠ é€Ÿè®­ç»ƒ.</p>
<h2 id="2-Momentum-æ›´æ–°æ–¹æ³•"><a href="#2-Momentum-æ›´æ–°æ–¹æ³•" class="headerlink" title="2. Momentum æ›´æ–°æ–¹æ³•"></a>2. Momentum æ›´æ–°æ–¹æ³•</h2><p><img src="/images/tensorflow/tf-3.4-speedup4.png" width="650"></p>
<p>å¤§å¤šæ•°å…¶ä»–é€”å¾„æ˜¯åœ¨æ›´æ–°ç¥ç»ç½‘ç»œå‚æ•°é‚£ä¸€æ­¥ä¸ŠåŠ¨åŠ¨æ‰‹è„š. ä¼ ç»Ÿçš„å‚æ•° W çš„æ›´æ–°æ˜¯æŠŠåŸå§‹çš„ W ç´¯åŠ ä¸Šä¸€ä¸ªè´Ÿçš„å­¦ä¹ ç‡(learning rate) ä¹˜ä»¥æ ¡æ­£å€¼ (dx). è¿™ç§æ–¹æ³•å¯èƒ½ä¼šè®©å­¦ä¹ è¿‡ç¨‹æ›²æŠ˜æ— æ¯”, çœ‹èµ·æ¥åƒ å–é†‰çš„äººå›å®¶æ—¶, æ‘‡æ‘‡æ™ƒæ™ƒèµ°äº†å¾ˆå¤šå¼¯è·¯.</p>
<p><img src="/images/tensorflow/tf-3.4-speedup5.png" width="650"></p>
<p>æ‰€ä»¥æˆ‘ä»¬æŠŠè¿™ä¸ªäººä»å¹³åœ°ä¸Šæ”¾åˆ°äº†ä¸€ä¸ªæ–œå¡ä¸Š, åªè¦ä»–<strong><code>å¾€ä¸‹å¡çš„æ–¹å‘èµ°ä¸€ç‚¹ç‚¹, ç”±äºå‘ä¸‹çš„æƒ¯æ€§</code></strong>, ä»–ä¸è‡ªè§‰åœ°å°±ä¸€ç›´å¾€ä¸‹èµ°, èµ°çš„å¼¯è·¯ä¹Ÿå˜å°‘äº†. è¿™å°±æ˜¯ Momentum å‚æ•°æ›´æ–°. å¦å¤–ä¸€ç§åŠ é€Ÿæ–¹æ³•å« <strong>AdaGrad</strong>.</p>
<h2 id="3-AdaGrad-æ›´æ–°æ–¹æ³•"><a href="#3-AdaGrad-æ›´æ–°æ–¹æ³•" class="headerlink" title="3. AdaGrad æ›´æ–°æ–¹æ³•"></a>3. AdaGrad æ›´æ–°æ–¹æ³•</h2><p><img src="/images/tensorflow/tf-3.4-speedup6.png" width="650"></p>
<p>è¿™ç§æ–¹æ³•æ˜¯åœ¨å­¦ä¹ ç‡ä¸Šé¢åŠ¨æ‰‹è„š, ä½¿å¾—æ¯ä¸€ä¸ªå‚æ•°æ›´æ–°éƒ½ä¼šæœ‰è‡ªå·±ä¸ä¼—ä¸åŒçš„å­¦ä¹ ç‡, ä»–çš„ä½œç”¨å’Œ momentum ç±»ä¼¼, ä¸è¿‡ä¸æ˜¯ç»™å–é†‰é…’çš„äººå®‰æ’å¦ä¸€ä¸ªä¸‹å¡, è€Œæ˜¯ç»™ä»–ä¸€åŒä¸å¥½èµ°è·¯çš„é‹å­, ä½¿å¾—ä»–ä¸€æ‘‡æ™ƒç€èµ°è·¯å°±è„šç–¼, é‹å­æˆä¸ºäº†èµ°å¼¯è·¯çš„é˜»åŠ›, é€¼ç€ä»–å¾€å‰ç›´ç€èµ°. ä»–çš„æ•°å­¦å½¢å¼æ˜¯è¿™æ ·çš„. æ¥ä¸‹æ¥åˆæœ‰ä»€ä¹ˆæ–¹æ³•å‘¢? å¦‚æœæŠŠä¸‹å¡å’Œä¸å¥½èµ°è·¯çš„é‹å­åˆå¹¶èµ·æ¥, æ˜¯ä¸æ˜¯æ›´å¥½å‘¢? æ²¡é”™, è¿™æ ·æˆ‘ä»¬å°±æœ‰äº† RMSProp æ›´æ–°æ–¹æ³•.</p>
<h2 id="4-RMSProp-æ›´æ–°æ–¹æ³•"><a href="#4-RMSProp-æ›´æ–°æ–¹æ³•" class="headerlink" title="4. RMSProp æ›´æ–°æ–¹æ³•"></a>4. RMSProp æ›´æ–°æ–¹æ³•</h2><p><img src="/images/tensorflow/tf-3.4-speedup7.png" width="650"></p>
<p>æœ‰äº† momentum çš„æƒ¯æ€§åŸåˆ™ , åŠ ä¸Š adagrad çš„å¯¹é”™è¯¯æ–¹å‘çš„é˜»åŠ›, æˆ‘ä»¬å°±èƒ½åˆå¹¶æˆè¿™æ ·. è®© RMSPropåŒæ—¶å…·å¤‡ä»–ä»¬ä¸¤ç§æ–¹æ³•çš„ä¼˜åŠ¿. ä¸è¿‡ç»†å¿ƒçš„åŒå­¦ä»¬è‚¯å®šçœ‹å‡ºæ¥äº†, ä¼¼ä¹åœ¨ RMSProp ä¸­å°‘äº†äº›ä»€ä¹ˆ. åŸæ¥æ˜¯æˆ‘ä»¬è¿˜æ²¡æŠŠ Momentumåˆå¹¶å®Œå…¨, RMSProp è¿˜ç¼ºå°‘äº† momentum ä¸­çš„ è¿™ä¸€éƒ¨åˆ†. æ‰€ä»¥, æˆ‘ä»¬åœ¨ Adam æ–¹æ³•ä¸­è¡¥ä¸Šäº†è¿™ç§æƒ³æ³•.</p>
<h2 id="5-Adam-æ›´æ–°æ–¹æ³•"><a href="#5-Adam-æ›´æ–°æ–¹æ³•" class="headerlink" title="5. Adam æ›´æ–°æ–¹æ³•"></a>5. Adam æ›´æ–°æ–¹æ³•</h2><p><img src="/images/tensorflow/tf-3.4-speedup8.png" width="650"></p>
<p>è®¡ç®—m æ—¶æœ‰ momentum ä¸‹å¡çš„å±æ€§, è®¡ç®— v æ—¶æœ‰ adagrad é˜»åŠ›çš„å±æ€§, ç„¶åå†æ›´æ–°å‚æ•°æ—¶ æŠŠ m å’Œ V éƒ½è€ƒè™‘è¿›å». å®éªŒè¯æ˜, å¤§å¤šæ•°æ—¶å€™, ä½¿ç”¨ adam éƒ½èƒ½åˆå¿«åˆå¥½çš„è¾¾åˆ°ç›®æ ‡, è¿…é€Ÿæ”¶æ•›. æ‰€ä»¥è¯´, åœ¨åŠ é€Ÿç¥ç»ç½‘ç»œè®­ç»ƒçš„æ—¶å€™, ä¸€ä¸ªä¸‹å¡, ä¸€åŒç ´é‹å­, åŠŸä¸å¯æ²¡.</p>
<h2 id="Reference"><a href="#Reference" class="headerlink" title="Reference"></a>Reference</h2><ul>
<li><a href="https://www.tensorflow.org/" target="_blank" rel="external">tensorflow.org</a></li>
<li><a href="https://morvanzhou.github.io/tutorials/machine-learning/tensorflow/" target="_blank" rel="external">è«çƒ¦Python</a></li>
</ul>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[numpy.random.normal å‡½æ•°]]></title>
      <url>http://iequa.com/2018/09/11/py-numpy-9-numpy.random.normal/</url>
      <content type="html"><![CDATA[<p>numpy.random.normal å‡½æ•°ï¼Œæœ‰ä¸‰ä¸ªå‚æ•°ï¼ˆ<strong>loc, scale, size</strong>ï¼‰ï¼Œä»£è¡¨ç”Ÿæˆçš„é«˜æ–¯åˆ†å¸ƒéšæœºæ•°çš„å‡å€¼ã€æ–¹å·®ä»¥åŠè¾“å‡ºçš„ size. </p>
<a id="more"></a>
<p>ä¾‹å­ï¼š</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">np.random.normal(<span class="number">0</span>, <span class="number">0.05</span>, (<span class="number">7</span>,<span class="number">1</span>)).astype(np.float32)</span><br></pre></td></tr></table></figure>
<p>Output :</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">array([[-0.05229944],</span><br><span class="line">       [ 0.01754326],</span><br><span class="line">       [ 0.01764081],</span><br><span class="line">       [-0.03058357],</span><br><span class="line">       [-0.05406121],</span><br><span class="line">       [-0.07284269],</span><br><span class="line">       [ 0.00289147]], dtype=float32)</span><br></pre></td></tr></table></figure>
<p><strong>Scipy Help</strong>: <strong>numpy.random.normal</strong></p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">Parameters:	</span><br><span class="line">loc : float <span class="keyword">or</span> array_like of floats</span><br><span class="line">Mean (â€œcentreâ€) of the distribution.</span><br><span class="line"></span><br><span class="line">scale : float <span class="keyword">or</span> array_like of floats</span><br><span class="line">Standard deviation (spread <span class="keyword">or</span> â€œwidthâ€) of the distribution.</span><br><span class="line"></span><br><span class="line">size : int <span class="keyword">or</span> tuple of ints, optional</span><br><span class="line">Output shape. If the given shape <span class="keyword">is</span>, e.g., (m, n, k), then m * n * k samples are drawn. If size <span class="keyword">is</span> <span class="keyword">None</span> (default), a single value <span class="keyword">is</span> returned <span class="keyword">if</span> loc <span class="keyword">and</span> scale are both scalars. Otherwise, np.broadcast(loc, scale).size samples are drawn.</span><br><span class="line"></span><br><span class="line">Returns:	</span><br><span class="line">out : ndarray <span class="keyword">or</span> scalar</span><br><span class="line">Drawn samples <span class="keyword">from</span> the parameterized normal distribution.</span><br></pre></td></tr></table></figure>
<h2 id="Reference"><a href="#Reference" class="headerlink" title="Reference"></a>Reference</h2><ul>
<li><a href="https://docs.scipy.org/doc/numpy/reference/generated/numpy.random.normal.html" target="_blank" rel="external">numpy.random.normal</a></li>
</ul>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[ä¾‹å­3 ç»“æœå¯è§†åŒ–]]></title>
      <url>http://iequa.com/2018/09/11/tensorflow-3-3-visualize-result/</url>
      <content type="html"><![CDATA[<p>æ„å»ºå›¾å½¢ï¼Œç”¨æ•£ç‚¹å›¾æè¿°çœŸå®æ•°æ®ä¹‹é—´çš„å…³ç³»ã€‚ ï¼ˆæ³¨æ„ï¼š<code>plt.ion()</code> ç”¨äºè¿ç»­æ˜¾ç¤ºã€‚ï¼‰</p>
<a id="more"></a>
<h2 id="matplotlib-å¯è§†åŒ–"><a href="#matplotlib-å¯è§†åŒ–" class="headerlink" title="matplotlib å¯è§†åŒ–"></a>matplotlib å¯è§†åŒ–</h2><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> tensorflow <span class="keyword">as</span> tf</span><br><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">x_data = np.linspace(<span class="number">-1</span>,<span class="number">1</span>,<span class="number">300</span>, dtype=np.float32)[:, np.newaxis]</span><br><span class="line">noise = np.random.normal(<span class="number">0</span>, <span class="number">0.05</span>, x_data.shape).astype(np.float32)</span><br><span class="line">y_data = np.square(x_data) - <span class="number">0.5</span> + noise</span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment"># plot the real data</span></span><br><span class="line">fig = plt.figure()</span><br><span class="line">ax = fig.add_subplot(<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>)</span><br><span class="line">ax.scatter(x_data, y_data)</span><br><span class="line"><span class="comment"># plt.ion() # æ‰“å¼€äº¤äº’æ¨¡å¼. æœ¬æ¬¡è¿è¡Œè¯·æ³¨é‡Šï¼Œå…¨å±€è¿è¡Œä¸è¦æ³¨é‡Š, </span></span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure>
<p>æ•£ç‚¹å›¾çš„ç»“æœä¸ºï¼š</p>
<p><img src="/images/tensorflow/tf-3.3_1_1.png" width="450"></p>
<p>æ¯éš” 50 æ¬¡ è®­ç»ƒåˆ·æ–°ä¸€æ¬¡å›¾å½¢ï¼Œç”¨çº¢è‰²ã€å®½åº¦ä¸º 5 çš„çº¿æ¥æ˜¾ç¤ºæˆ‘ä»¬çš„é¢„æµ‹æ•°æ®å’Œè¾“å…¥ä¹‹é—´çš„å…³ç³»ï¼Œå¹¶æš‚åœ 0.1sã€‚</p>
<p>æœ€åï¼Œæœºå™¨å­¦ä¹ çš„ç»“æœä¸ºï¼š</p>
<p><img src="/images/tensorflow/tf-3.3_2.png" width="450"></p>
<h2 id="Reference"><a href="#Reference" class="headerlink" title="Reference"></a>Reference</h2><ul>
<li><a href="https://www.tensorflow.org/" target="_blank" rel="external">tensorflow.org</a></li>
<li><a href="https://morvanzhou.github.io/tutorials/machine-learning/tensorflow/" target="_blank" rel="external">è«çƒ¦Python</a></li>
<li><a href="https://blog.csdn.net/M_Z_G_Y/article/details/80309446" target="_blank" rel="external">Pythonå…¥é—¨ï¼šmatplotlibä¸­ion()å’Œioff()çš„ä½¿ç”¨</a></li>
</ul>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[numpy.newaxis è½¬å˜çŸ©é˜µçš„å½¢ç‹€]]></title>
      <url>http://iequa.com/2018/09/11/py-numpy-9-newaxis/</url>
      <content type="html"><![CDATA[<p>æœ‰ä¸€å€‹<strong>ä¸€ç¶­é™£åˆ— x1</strong>ï¼Œæˆ‘åˆ†åˆ¥æƒ³è¦æŠŠå®ƒè®Šæˆä¸€å€‹ 3*1 çš„çŸ©é™£ <strong>x2</strong>ï¼Œä»¥åŠ 1*3 çš„çŸ©é™£ <strong>x3</strong>ï¼Œä½œæ³•å¦‚ä¸‹ã€‚</p>
<a id="more"></a>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"></span><br><span class="line">x1 = np.array([<span class="number">10</span>, <span class="number">20</span>, <span class="number">30</span>], float)</span><br><span class="line"></span><br><span class="line"><span class="comment"># æœ‰ä¸€å€‹ä¸€ç¶­é™£åˆ—x1ï¼Œæˆ‘åˆ†åˆ¥æƒ³è¦æŠŠå®ƒè®Šæˆä¸€å€‹ 3*1 çš„çŸ©é™£x2ï¼Œä»¥åŠ 1*3 çš„çŸ©é™£x3ï¼Œä½œæ³•å¦‚ä¸‹ã€‚</span></span><br><span class="line"></span><br><span class="line">print(<span class="string">"shape of x1 is "</span>, x1.shape)</span><br><span class="line">print(x1)</span><br><span class="line"></span><br><span class="line">print(<span class="string">"-------------"</span>)</span><br><span class="line"></span><br><span class="line">x2 = x1[:, np.newaxis]</span><br><span class="line">print(<span class="string">"shape of x2 is "</span>, x2.shape)</span><br><span class="line">print(x2)</span><br><span class="line"></span><br><span class="line">print(<span class="string">"-------------"</span>)</span><br><span class="line"></span><br><span class="line">x3 = x1[np.newaxis, :]</span><br><span class="line">print(<span class="string">"shape of x3 is "</span>, x3.shape)</span><br><span class="line">print(x3)</span><br></pre></td></tr></table></figure>
<p>output:</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">shape of x1 is  (3,)</span><br><span class="line">[ 10.  20.  30.]</span><br><span class="line">-------------</span><br><span class="line">shape of x2 is  (3, 1)</span><br><span class="line">[[ 10.]</span><br><span class="line"> [ 20.]</span><br><span class="line"> [ 30.]]</span><br><span class="line">-------------</span><br><span class="line">shape of x3 is  (1, 3)</span><br><span class="line">[[ 10.  20.  30.]]</span><br></pre></td></tr></table></figure>
<h2 id="Reference"><a href="#Reference" class="headerlink" title="Reference"></a>Reference</h2><ul>
<li><a href="http://www.ben-do.github.io/2016/09/15/change-shape-of-matrix-by-numpy/" target="_blank" rel="external">åˆ©ç”¨numpyçš„newaxisè½‰è®ŠçŸ©é™£çš„å½¢ç‹€</a></li>
</ul>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[ä¾‹å­3 å»ºé€ ç¥ç»ç½‘ç»œ]]></title>
      <url>http://iequa.com/2018/09/11/tensorflow-3-2-create-NN/</url>
      <content type="html"><![CDATA[<p>è¿™æ¬¡æåˆ°äº†æ€æ ·å»ºé€ ä¸€ä¸ªå®Œæ•´çš„ç¥ç»ç½‘ç»œ, åŒ…æ‹¬æ·»åŠ  <strong>ç¥ç»å±‚</strong>, <strong>è®¡ç®—è¯¯å·®</strong>, <strong>è®­ç»ƒæ­¥éª¤</strong>, åˆ¤æ–­æ˜¯å¦åœ¨å­¦ä¹ .</p>
<a id="more"></a>
<h2 id="add-layer-åŠŸèƒ½"><a href="#add-layer-åŠŸèƒ½" class="headerlink" title="add_layer åŠŸèƒ½"></a>add_layer åŠŸèƒ½</h2><p>é¦–å…ˆï¼Œæˆ‘ä»¬å¯¼å…¥æœ¬æ¬¡æ‰€éœ€çš„æ¨¡å—</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> tensorflow <span class="keyword">as</span> tf</span><br><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br></pre></td></tr></table></figure>
<p>æ„é€ æ·»åŠ ä¸€ä¸ªç¥ç»å±‚çš„å‡½æ•°</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">add_layer</span><span class="params">(inputs, in_size, out_size, activation_function=None)</span>:</span></span><br><span class="line">    Weights = tf.Variable(tf.random_normal([in_size, out_size]))</span><br><span class="line">    biases = tf.Variable(tf.zeros([<span class="number">1</span>, out_size]) + <span class="number">0.1</span>)</span><br><span class="line">    Wx_plus_b = tf.matmul(inputs, Weights) + biases</span><br><span class="line">    <span class="keyword">if</span> activation_function <span class="keyword">is</span> <span class="keyword">None</span>:</span><br><span class="line">        outputs = Wx_plus_b</span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        outputs = activation_function(Wx_plus_b)</span><br><span class="line">    <span class="keyword">return</span> outputs</span><br></pre></td></tr></table></figure>
<h2 id="å¯¼å…¥æ•°æ®"><a href="#å¯¼å…¥æ•°æ®" class="headerlink" title="å¯¼å…¥æ•°æ®"></a>å¯¼å…¥æ•°æ®</h2><p>æ„å»ºæ‰€éœ€çš„æ•°æ®ã€‚ è¿™é‡Œçš„ <code>x_data</code> å’Œ <code>y_data</code> å¹¶ä¸æ˜¯ä¸¥æ ¼çš„ä¸€å…ƒäºŒæ¬¡å‡½æ•°çš„å…³ç³»ï¼Œå› ä¸ºæˆ‘ä»¬å¤šåŠ äº†ä¸€ä¸ª <code>noise</code>, è¿™æ ·çœ‹èµ·æ¥ä¼šæ›´åƒçœŸå®æƒ…å†µ</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">x_data = np.linspace(<span class="number">-1</span>,<span class="number">1</span>,<span class="number">300</span>, dtype=np.float32)[:, np.newaxis]</span><br><span class="line">noise = np.random.normal(<span class="number">0</span>, <span class="number">0.05</span>, x_data.shape).astype(np.float32)</span><br><span class="line">y_data = np.square(x_data) - <span class="number">0.5</span> + noise</span><br></pre></td></tr></table></figure>
<p>åˆ©ç”¨å ä½ç¬¦å®šä¹‰æˆ‘ä»¬æ‰€éœ€çš„ç¥ç»ç½‘ç»œçš„è¾“å…¥ã€‚ <code>tf.placeholder()</code> å°±æ˜¯ä»£è¡¨å ä½ç¬¦ï¼Œè¿™é‡Œçš„ <code>None</code> ä»£è¡¨æ— è®ºè¾“å…¥æœ‰å¤šå°‘éƒ½å¯ä»¥ï¼Œå› ä¸ºè¾“å…¥åªæœ‰ä¸€ä¸ªç‰¹å¾ï¼Œæ‰€ä»¥è¿™é‡Œæ˜¯ <code>1</code>ã€‚</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">xs = tf.placeholder(tf.float32, [<span class="keyword">None</span>, <span class="number">1</span>])</span><br><span class="line">ys = tf.placeholder(tf.float32, [<span class="keyword">None</span>, <span class="number">1</span>])</span><br></pre></td></tr></table></figure>
<p>æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬å°±å¯ä»¥å¼€å§‹å®šä¹‰ç¥ç»å±‚äº†ã€‚ é€šå¸¸ç¥ç»å±‚éƒ½åŒ…æ‹¬ <strong>input</strong>è¾“å…¥å±‚ã€<strong>hide</strong>éšè—å±‚ å’Œ <strong>output</strong>è¾“å‡ºå±‚ã€‚è¿™é‡Œçš„è¾“å…¥å±‚åªæœ‰ä¸€ä¸ªå±æ€§ï¼Œ æ‰€ä»¥æˆ‘ä»¬å°±åªæœ‰ä¸€ä¸ªè¾“å…¥ï¼›éšè—å±‚æˆ‘ä»¬å¯ä»¥è‡ªå·±å‡è®¾ï¼Œè¿™é‡Œæˆ‘ä»¬å‡è®¾éšè—å±‚æœ‰<strong>10</strong>ä¸ªç¥ç»å…ƒï¼› è¾“å‡ºå±‚å’Œè¾“å…¥å±‚çš„ç»“æ„æ˜¯ä¸€æ ·çš„ï¼Œæ‰€ä»¥æˆ‘ä»¬çš„è¾“å‡ºå±‚ä¹Ÿæ˜¯åªæœ‰ä¸€å±‚ã€‚ æ‰€ä»¥ï¼Œæˆ‘ä»¬æ„å»ºçš„æ˜¯â€”â€”è¾“å…¥å±‚1ä¸ªã€éšè—å±‚10ä¸ªã€è¾“å‡ºå±‚1ä¸ªçš„ç¥ç»ç½‘ç»œã€‚</p>
<h2 id="æ­å»ºç½‘ç»œ"><a href="#æ­å»ºç½‘ç»œ" class="headerlink" title="æ­å»ºç½‘ç»œ"></a>æ­å»ºç½‘ç»œ</h2><p>ä¸‹é¢ï¼Œæˆ‘ä»¬å¼€å§‹å®šä¹‰ <strong>hide</strong>éšè—å±‚, åˆ©ç”¨ä¹‹å‰çš„ <code>add_layer()</code> å‡½æ•°ï¼Œè¿™é‡Œä½¿ç”¨ Tensorflow è‡ªå¸¦çš„æ¿€åŠ±å‡½æ•° <code>tf.nn.relu</code>ã€‚</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">l1 = add_layer(xs, <span class="number">1</span>, <span class="number">10</span>, activation_function=tf.nn.relu)</span><br></pre></td></tr></table></figure>
<p>æ¥ç€ï¼Œå®šä¹‰è¾“å‡ºå±‚ã€‚æ­¤æ—¶çš„è¾“å…¥å°±æ˜¯éšè—å±‚çš„è¾“å‡º â€”â€” <code>l1</code>ï¼Œè¾“å…¥æœ‰<strong>10</strong>å±‚ï¼ˆéšè—å±‚çš„è¾“å‡ºå±‚ï¼‰ï¼Œè¾“å‡ºæœ‰ <strong>1</strong> å±‚ã€‚</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">prediction = add_layer(l1, <span class="number">10</span>, <span class="number">1</span>, activation_function=<span class="keyword">None</span>)</span><br></pre></td></tr></table></figure>
<p>è®¡ç®—é¢„æµ‹å€¼ <code>prediction</code> å’Œ çœŸå®å€¼çš„è¯¯å·®ï¼Œå¯¹äºŒè€…å·®çš„å¹³æ–¹æ±‚å’Œå†å–å¹³å‡ã€‚</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">loss = tf.reduce_mean(tf.reduce_sum(tf.square(ys - prediction),</span><br><span class="line">                     reduction_indices=[<span class="number">1</span>]))</span><br></pre></td></tr></table></figure>
<p>æ¥ä¸‹æ¥ï¼Œæ˜¯å¾ˆå…³é”®çš„ä¸€æ­¥ï¼Œå¦‚ä½•è®©æœºå™¨å­¦ä¹ æå‡å®ƒçš„å‡†ç¡®ç‡ã€‚<code>tf.train.GradientDescentOptimizer()</code> ä¸­çš„å€¼é€šå¸¸éƒ½å°äº <code>1</code>ï¼Œè¿™é‡Œå–çš„æ˜¯ <code>0.1</code>ï¼Œä»£è¡¨ä»¥ <code>0.1</code> çš„æ•ˆç‡æ¥æœ€å°åŒ–è¯¯å·® <code>loss</code>ã€‚</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">train_step = tf.train.GradientDescentOptimizer(<span class="number">0.1</span>).minimize(loss)</span><br></pre></td></tr></table></figure>
<p>ä½¿ç”¨å˜é‡æ—¶ï¼Œéƒ½è¦å¯¹å®ƒè¿›è¡Œåˆå§‹åŒ–ï¼Œè¿™æ˜¯å¿…ä¸å¯å°‘çš„ã€‚</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment"># init = tf.initialize_all_variables() # tf é©¬ä¸Šå°±è¦åºŸå¼ƒè¿™ç§å†™æ³•</span></span><br><span class="line">init = tf.global_variables_initializer()  <span class="comment"># æ›¿æ¢æˆè¿™æ ·å°±å¥½</span></span><br></pre></td></tr></table></figure>
<p>å®šä¹‰ <code>Session</code>ï¼Œå¹¶ç”¨ <code>Session</code> æ¥æ‰§è¡Œ <code>init</code> åˆå§‹åŒ–æ­¥éª¤ã€‚ ï¼ˆæ³¨æ„ï¼šåœ¨ <code>tensorflow</code> ä¸­ï¼Œåªæœ‰session.run()æ‰ä¼šæ‰§è¡Œæˆ‘ä»¬å®šä¹‰çš„è¿ç®—ã€‚ï¼‰</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">sess = tf.Session()</span><br><span class="line">sess.run(init)</span><br></pre></td></tr></table></figure>
<h2 id="è®­ç»ƒ"><a href="#è®­ç»ƒ" class="headerlink" title="è®­ç»ƒ"></a>è®­ç»ƒ</h2><p>ä¸‹é¢ï¼Œè®©æœºå™¨å¼€å§‹å­¦ä¹ ã€‚</p>
<p>æ¯”å¦‚è¿™é‡Œï¼Œæˆ‘ä»¬è®©æœºå™¨å­¦ä¹ 1000æ¬¡ã€‚æœºå™¨å­¦ä¹ çš„å†…å®¹æ˜¯ <code>train_step</code>, ç”¨ <code>Session</code> æ¥ <code>run</code> æ¯ä¸€æ¬¡ training çš„æ•°æ®ï¼Œé€æ­¥æå‡ç¥ç»ç½‘ç»œçš„é¢„æµ‹å‡†ç¡®æ€§ã€‚ (æ³¨æ„ï¼šå½“è¿ç®—è¦ç”¨åˆ° <code>placeholder</code> æ—¶ï¼Œå°±éœ€è¦ <code>feed_dict</code> è¿™ä¸ªå­—å…¸æ¥æŒ‡å®šè¾“å…¥ã€‚)</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> range(<span class="number">1000</span>):</span><br><span class="line">    <span class="comment"># training</span></span><br><span class="line">    sess.run(train_step, feed_dict=&#123;xs: x_data, ys: y_data&#125;)</span><br></pre></td></tr></table></figure>
<p>æ¯50æ­¥æˆ‘ä»¬è¾“å‡ºä¸€ä¸‹æœºå™¨å­¦ä¹ çš„è¯¯å·®ã€‚</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">if</span> i % <span class="number">50</span> == <span class="number">0</span>:</span><br><span class="line">    <span class="comment"># to see the step improvement</span></span><br><span class="line">    print(sess.run(loss, feed_dict=&#123;xs: x_data, ys: y_data&#125;))</span><br></pre></td></tr></table></figure>
<p>åœ¨ç”µè„‘ä¸Šè¿è¡Œæœ¬æ¬¡ä»£ç çš„ç»“æœä¸ºï¼š</p>
<p>0.0587868<br>0.00416427<br>0.00312624<br>0.00291327<br>0.00282026<br>0.0027577<br>0.00270546<br>0.00266943<br>0.00265278<br>0.00263559</p>
<p>é€šè¿‡ä¸Šå›¾å¯ä»¥çœ‹å‡ºï¼Œè¯¯å·®åœ¨é€æ¸å‡å°ï¼Œè¿™è¯´æ˜æœºå™¨å­¦ä¹ æ˜¯æœ‰ç§¯æçš„æ•ˆæœçš„</p>
<h2 id="Reference"><a href="#Reference" class="headerlink" title="Reference"></a>Reference</h2><ul>
<li><a href="https://www.tensorflow.org/" target="_blank" rel="external">tensorflow.org</a></li>
<li><a href="https://morvanzhou.github.io/tutorials/machine-learning/tensorflow/" target="_blank" rel="external">è«çƒ¦Python</a></li>
<li><a href="https://www.tensorflow.org/api_guides/python/nn" target="_blank" rel="external">Tensorflow æä¾›çš„ä¸€äº› æ¿€åŠ±å‡½æ•°</a></li>
<li><a href="http://www.ben-do.github.io/2016/09/15/change-shape-of-matrix-by-numpy/" target="_blank" rel="external">åˆ©ç”¨numpyçš„newaxisè½‰è®ŠçŸ©é™£çš„å½¢ç‹€</a></li>
</ul>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[ä¾‹å­3 æ·»åŠ å±‚ def add_layer()]]></title>
      <url>http://iequa.com/2018/09/09/tensorflow-3-1-add-layer/</url>
      <content type="html"><![CDATA[<p>åœ¨ Tensorflow é‡Œå®šä¹‰ä¸€ä¸ª <strong>æ·»åŠ å±‚çš„å‡½æ•°</strong> å¯ä»¥å¾ˆå®¹æ˜“çš„ <strong>æ·»åŠ ç¥ç»å±‚</strong>, ä¸ºä¹‹åçš„æ·»åŠ çœä¸‹ä¸å°‘æ—¶é—´.</p>
<a id="more"></a>
<h2 id="å®šä¹‰-add-layer"><a href="#å®šä¹‰-add-layer" class="headerlink" title="å®šä¹‰ add_layer()"></a>å®šä¹‰ add_layer()</h2><p>ç¥ç»å±‚é‡Œå¸¸è§çš„å‚æ•°é€šå¸¸æœ‰ <code>weights</code>ã€<code>biases</code> å’Œæ¿€åŠ±å‡½æ•°ã€‚</p>
<p>é¦–å…ˆï¼Œæˆ‘ä»¬éœ€è¦å¯¼å…¥ <code>tensorflow</code> æ¨¡å—ã€‚</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> tensorflow <span class="keyword">as</span> tf</span><br></pre></td></tr></table></figure>
<p>ç„¶åå®šä¹‰æ·»åŠ ç¥ç»å±‚çš„å‡½æ•° <code>def add_layer()</code>, å®ƒæœ‰å››ä¸ªå‚æ•°ï¼šè¾“å…¥å€¼ã€è¾“å…¥çš„å¤§å°ã€è¾“å‡ºçš„å¤§å°å’Œæ¿€åŠ±å‡½æ•°ï¼Œæˆ‘ä»¬è®¾å®šé»˜è®¤çš„æ¿€åŠ±å‡½æ•°æ˜¯ <code>None</code>ã€‚</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">add_layer</span><span class="params">(inputs, in_size, out_size, activation_function=None)</span>:</span></span><br></pre></td></tr></table></figure>
<p>æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬å¼€å§‹å®šä¹‰ <code>weights</code> å’Œ <code>biases</code>ã€‚</p>
<p>å› ä¸ºåœ¨ç”Ÿæˆåˆå§‹å‚æ•°æ—¶ï¼Œéšæœºå˜é‡(<strong>normal distribution</strong>)ä¼šæ¯”å…¨éƒ¨ä¸º0è¦å¥½å¾ˆå¤šï¼Œæ‰€ä»¥æˆ‘ä»¬è¿™é‡Œçš„ <code>weights</code> ä¸ºä¸€ä¸ª <code>in_size</code> è¡Œ, <code>out_size</code> åˆ—çš„éšæœºå˜é‡çŸ©é˜µã€‚</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">Weights = tf.Variable(tf.random_normal([in_size, out_size]))</span><br></pre></td></tr></table></figure>
<p>åœ¨æœºå™¨å­¦ä¹ ä¸­ï¼Œ<code>biases</code> çš„æ¨èå€¼ä¸ä¸º0ï¼Œæ‰€ä»¥æˆ‘ä»¬è¿™é‡Œæ˜¯åœ¨0å‘é‡çš„åŸºç¡€ä¸ŠåˆåŠ äº†0.1ã€‚</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">biases = tf.Variable(tf.zeros([<span class="number">1</span>, out_size]) + <span class="number">0.1</span>)</span><br></pre></td></tr></table></figure>
<p>ä¸‹é¢ï¼Œæˆ‘ä»¬å®šä¹‰Wx_plus_b, å³ç¥ç»ç½‘ç»œæœªæ¿€æ´»çš„å€¼ã€‚å…¶ä¸­ï¼Œtf.matmul()æ˜¯çŸ©é˜µçš„ä¹˜æ³•ã€‚</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">Wx_plus_b = tf.matmul(inputs, Weights) + biases</span><br></pre></td></tr></table></figure>
<p>å½“ <code>activation_function</code> â€”â€”æ¿€åŠ±å‡½æ•°ä¸º <code>None</code> æ—¶ï¼Œè¾“å‡ºå°±æ˜¯å½“å‰çš„é¢„æµ‹å€¼â€”â€”<code>Wx_plus_b</code>ï¼Œä¸ä¸º <code>None</code> æ—¶ï¼Œå°±æŠŠ <code>Wx_plus_b</code> ä¼ åˆ° <code>activation_function()</code> å‡½æ•°ä¸­å¾—åˆ°è¾“å‡ºã€‚</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">if</span> activation_function <span class="keyword">is</span> <span class="keyword">None</span>:</span><br><span class="line">        outputs = Wx_plus_b</span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        outputs = activation_function(Wx_plus_b)</span><br></pre></td></tr></table></figure>
<p>æœ€åï¼Œè¿”å›è¾“å‡ºï¼Œæ·»åŠ ä¸€ä¸ªç¥ç»å±‚çš„å‡½æ•°â€”â€”<code>def add_layer()</code>å°±å®šä¹‰å¥½äº†ã€‚</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">return</span> outputs</span><br></pre></td></tr></table></figure>
<h2 id="Reference"><a href="#Reference" class="headerlink" title="Reference"></a>Reference</h2><ul>
<li><a href="https://www.tensorflow.org/" target="_blank" rel="external">tensorflow.org</a></li>
<li><a href="https://morvanzhou.github.io/tutorials/machine-learning/tensorflow/" target="_blank" rel="external">è«çƒ¦Python</a></li>
<li><a href="https://www.tensorflow.org/api_guides/python/nn" target="_blank" rel="external">Tensorflow æä¾›çš„ä¸€äº› æ¿€åŠ±å‡½æ•°</a></li>
</ul>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[CNN (week4) - Face recognition & Neural style transfer]]></title>
      <url>http://iequa.com/2018/09/08/deeplearning-ai-Convolutional-Neural-Networks-week4/</url>
      <content type="html"><![CDATA[<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js"],
    jax: ["input/TeX"],
    tex2jax: {
      inlineMath: [ ['$','$'], ['\\(','\\)'] ],
      displayMath: [ ['$$','$$']],
      processEscapes: true
    }
  });
</script>
<script type="text/javascript" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS_HTML,http://myserver.com/MathJax/config/local/local.js">
</script>

<p>Face recognition &amp; Neural style transfer èƒ½å¤Ÿåœ¨å›¾åƒã€è§†é¢‘ä»¥åŠå…¶ä»– 2D æˆ– 3D æ•°æ®ä¸Šåº”ç”¨è¿™äº›ç®—æ³•ã€‚</p>
<a id="more"></a>
<h2 id="1-What-is-face-recognition"><a href="#1-What-is-face-recognition" class="headerlink" title="1. What is face recognition?"></a>1. What is face recognition?</h2><p>è¿™ä¸€èŠ‚ä¸­çš„äººè„¸è¯†åˆ«æŠ€æœ¯çš„æ¼”ç¤ºçš„ç¡®å¾ˆNBâ€¦, æ¼”æŠ€ä¸é”™ï¼ŒğŸ˜„</p>
<p><img src="/images/deeplearning/C4W4-1_1.png" width="750"></p>
<h2 id="2-One-Shot-Learning"><a href="#2-One-Shot-Learning" class="headerlink" title="2. One Shot Learning"></a>2. One Shot Learning</h2><p>ä½œä¸ºè€æ¿å¸Œæœ›ä¸æ—¶ä¿±è¿›ï¼Œæ‰€ä»¥æƒ³ä½¿ç”¨äººè„¸è¯†åˆ«æŠ€æœ¯æ¥å®ç°æ‰“å¡ã€‚</p>
<p>å‡å¦‚æˆ‘ä»¬å…¬å¸åªæœ‰4ä¸ªå‘˜å·¥ï¼ŒæŒ‰ç…§ä¹‹å‰çš„æ€è·¯æˆ‘ä»¬è®­ç»ƒçš„ç¥ç»ç½‘ç»œæ¨¡å‹åº”è¯¥å¦‚ä¸‹ï¼š</p>
<p><img src="/images/deeplearning/C4W4-2.jpg" width="550"></p>
<blockquote>
<p>å¦‚å›¾ç¤ºï¼Œè¾“å…¥ä¸€å¼ å›¾åƒï¼Œç»è¿‡CNNï¼Œæœ€åå†é€šè¿‡ Softmax è¾“å‡º 5 ä¸ªå¯èƒ½å€¼çš„å¤§å° (4ä¸ªå‘˜å·¥ä¸­çš„ä¸€ä¸ªï¼Œæˆ–è€…éƒ½ä¸æ˜¯ï¼Œæ‰€ä»¥å…±5ç§å¯èƒ½æ€§)ã€‚</p>
<p>çœ‹èµ·æ¥å¥½åƒæ²¡ä»€ä¹ˆæ¯›ç—…ï¼Œä½†æ˜¯æˆ‘ä»¬è¦ç›¸ä¿¡æˆ‘ä»¬çš„å…¬å¸ä¼šè¶Šæ¥è¶Šå¥½å•Šï¼Œæ‰€ä»¥éš¾é“å…¬å¸æ¯å¢åŠ ä¸€ä¸ªäººå°±è¦é‡æ–°è®­ç»ƒ<strong>CNN</strong> åŠ æœ€åä¸€å±‚çš„è¾“å‡ºæ•°é‡å— ï¼Ÿ</p>
</blockquote>
<p><strong>one-shotï¼š</strong></p>
<p>è¿™æ˜¾ç„¶æœ‰é—®é¢˜ï¼Œæ‰€ä»¥æœ‰äººæå‡ºäº†ä¸€æ¬¡å­¦ä¹ (one-shot)ï¼Œæ›´å…·ä½“åœ°è¯´æ˜¯é€šè¿‡ä¸€ä¸ªå‡½æ•°æ¥æ±‚å‡ºè¾“å…¥å›¾åƒä¸æ•°æ®åº“ä¸­çš„å›¾åƒçš„å·®å¼‚åº¦ï¼Œç”¨ $d(img1,img2)$ è¡¨ç¤ºã€‚</p>
<p><img src="/images/deeplearning/C4W4-3_1.png" width="750"></p>
<p>å¦‚ä¸Šå›¾ç¤ºï¼Œå¦‚æœä¸¤ä¸ªå›¾åƒä¹‹é—´çš„å·®å¼‚åº¦ä¸å¤§äºæŸä¸€ä¸ªé˜ˆå€¼ <strong>Ï„</strong>ï¼Œé‚£ä¹ˆåˆ™è®¤ä¸ºä¸¤å¼ å›¾åƒæ˜¯åŒä¸€ä¸ªäººã€‚åä¹‹ï¼Œäº¦ç„¶ã€‚</p>
<blockquote>
<p>ä¸‹ä¸€å°èŠ‚ä»‹ç»äº†å¦‚ä½•è®¡ç®—å·®å€¼ã€‚</p>
</blockquote>
<h2 id="3-Siamese-Network"><a href="#3-Siamese-Network" class="headerlink" title="3. Siamese Network"></a>3. Siamese Network</h2><p>æ³¨æ„ï¼šä¸‹å›¾ä¸­ä¸¤ä¸ªç½‘ç»œå‚æ•°æ˜¯ä¸€æ ·çš„ã€‚</p>
<p>å…ˆçœ‹ä¸Šé¢çš„ç½‘ç»œã€‚è®°è¾“å…¥å›¾åƒä¸º $x^{(1)}$ï¼Œç»è¿‡å·ç§¯å±‚ï¼Œæ± åŒ–å±‚ å’Œ å…¨è¿æ¥å±‚ åå¾—åˆ°äº†ç®­å¤´æ‰€æŒ‡ä½ç½®çš„æ•°æ® (ä¸€èˆ¬åé¢è¿˜ä¼šæ¥ä¸Š $softmax$ å±‚ï¼Œä½†åœ¨è¿™é‡Œæš‚æ—¶ä¸ç”¨ç®¡)ï¼Œå‡è®¾æœ‰ <strong>128</strong> ä¸ªèŠ‚ç‚¹ï¼Œè¯¥å±‚ç”¨ $f(x^{(1)})$ è¡¨ç¤ºï¼Œå¯ä»¥ç†è§£ä¸ºè¾“å…¥ $x^{(1)}$ çš„ç¼–ç ã€‚</p>
<p>é‚£ä¹ˆä¸‹ä¸€ä¸ªç½‘ç»œåŒç†ï¼Œä¸å†èµ˜è¿°ã€‚</p>
<p>å› æ­¤ä¸Šä¸€èŠ‚ä¸­æ‰€è¯´çš„å·®å¼‚åº¦å‡½æ•°å³ä¸º</p>
<p>$$<br>d(x^{(1)},x^{(2)})=||f(x^{(1)})-f(x^{(2)})||^2<br>$$</p>
<p><img src="/images/deeplearning/C4W4-4_1.png" width="750"></p>
<p>é—®é¢˜çœ‹èµ·æ¥å¥½åƒè§£å†³äº†ï¼Œä½†æ„Ÿè§‰è¿˜æ¼äº†ç‚¹ä»€ä¹ˆã€‚ã€‚<strong>ç¥ç»ç½‘ç»œçš„å‚æ•°å’‹ç¡®å®šå•Šï¼Ÿä¹Ÿå°±æ˜¯è¯´ $f(x^{(i)})$ çš„å‚æ•°æ€ä¹ˆè®¡ç®—å‘¢ï¼Ÿ</strong></p>
<p>é¦–å…ˆå¯ä»¥å¾ˆæ˜ç¡®çš„æ˜¯å¦‚æœä¸¤ä¸ªå›¾åƒæ˜¯åŒä¸€ä¸ªäººï¼Œé‚£æ‰€å¾—åˆ°çš„å‚æ•°åº”è¯¥ä½¿å¾— $||f(x^{(1)})-f(x^{(2)})||^2$ çš„å€¼è¾ƒå°ï¼Œåä¹‹è¾ƒå¤§ã€‚</p>
<p><img src="/images/deeplearning/C4W4-5_1.png" width="750"></p>
<h2 id="4-Triplet-Loss"><a href="#4-Triplet-Loss" class="headerlink" title="4. Triplet Loss"></a>4. Triplet Loss</h2><h3 id="4-1-Learning-Objective"><a href="#4-1-Learning-Objective" class="headerlink" title="4.1 Learning Objective"></a>4.1 Learning Objective</h3><p>è¿™é‡Œé¦–å…ˆä»‹ç»ä¸€ä¸ªä¸‰å…ƒç»„ï¼Œå³ <strong>(Anchor, Positive, Negative)ï¼Œç®€å†™ä¸º(A,P,N)</strong></p>
<table>
<thead>
<tr>
<th style="text-align:center">(A,P,N)</th>
<th style="text-align:center">ä¸‰å…ƒç»„ å„ä¸ªå«ä¹‰</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">Anchor</td>
<td style="text-align:center">å¯ä»¥ç†è§£ä¸ºç”¨äºè¯†åˆ«çš„å›¾åƒ ï¼ˆé”šï¼‰</td>
</tr>
<tr>
<td style="text-align:center">Positive</td>
<td style="text-align:center">è¡¨ç¤ºæ˜¯è¿™ä¸ªäºº</td>
</tr>
<tr>
<td style="text-align:center">Negative</td>
<td style="text-align:center">è¡¨ç¤ºä¸æ˜¯åŒä¸€ä¸ªäºº</td>
</tr>
</tbody>
</table>
<p>ç”±ä¸Šä¸€èŠ‚ä¸­çš„æ€è·¯ï¼Œæˆ‘ä»¬å¯ä»¥å¾—åˆ°å¦‚ä¸‹ä¸ç­‰å¼ï¼š</p>
<blockquote>
<p>$d(A,P)\leqq d(A,N)$, å³ $||f(A)-f(P)||^2-||f(A)-f(N)||^2\leqq0$ (å¦‚ä¸‹å›¾ç¤º)</p>
</blockquote>
<p><img src="/images/deeplearning/C4W4-6_1.png" width="750"></p>
<p>ä½†æ˜¯è¿™æ ·å­˜åœ¨ä¸€ä¸ªé—®é¢˜ï¼Œå³å¦‚æœç¥ç»ç½‘ç»œä»€ä¹ˆéƒ½æ²¡å­¦åˆ°ï¼Œè¿”å›çš„å€¼æ˜¯0ï¼Œä¹Ÿå°±æ˜¯è¯´å¦‚æœ $f(x)=\vec{0}$ çš„è¯ï¼Œé‚£ä¹ˆè¿™ä¸ªä¸ç­‰å¼æ˜¯å§‹ç»ˆæˆç«‹çš„ã€‚(å¦‚ä¸‹å›¾ç¤º)</p>
<p><img src="/images/deeplearning/C4W4-7_1.png" width="750"></p>
<p>ä¸ºäº†é¿å…ä¸Šè¿°ç‰¹æ®Šæƒ…å†µï¼Œä¸”å·¦è¾¹å€¼å¿…é¡»å°äº0ï¼Œæ‰€ä»¥åœ¨å³è¾¹å‡å»ä¸€ä¸ªå˜é‡<strong>Î±</strong>ï¼Œä½†æŒ‰ç…§æƒ¯ä¾‹æ˜¯åŠ ä¸Šä¸€ä¸ªå€¼ï¼Œæ‰€ä»¥å°†<strong>Î±</strong>åŠ åœ¨å·¦è¾¹ã€‚</p>
<p><img src="/images/deeplearning/C4W4-8_1.png" width="750"></p>
<p><img src="/images/deeplearning/C4W4-9_1.png" width="750"></p>
<p>ç»¼ä¸Šï¼Œæ‰€å¾—åˆ°çš„å‚æ•°éœ€è¦æ»¡è¶³å¦‚ä¸‹ä¸ç­‰å¼</p>
<p>$$<br>||f(A)-f(P)||^2-||f(A)-f(N)||^2+Î±\leqq0<br>$$</p>
<h3 id="4-2-Lost-function"><a href="#4-2-Lost-function" class="headerlink" title="4.2 Lost function"></a>4.2 Lost function</h3><p>ä»‹ç»å®Œä¸‰å…ƒç»„åï¼Œæˆ‘ä»¬å¯ä»¥å¯¹å•ä¸ªå›¾åƒå®šä¹‰å¦‚ä¸‹çš„æŸå¤±å‡½æ•°(å¦‚ä¸‹å›¾ç¤º)</p>
<p>$$<br>L(A,P,N)=max(||f(A)-f(P)||^2-||f(A)-f(N)||^2+Î±,0)<br>$$</p>
<blockquote>
<p>è§£é‡Šä¸€ä¸‹ä¸ºä»€ä¹ˆç”¨<strong>max</strong>å‡½æ•°ï¼Œå› ä¸ºå¦‚æœåªè¦æ»¡è¶³ $||f(A)-f(P)||^2-||f(A)-f(N)||^2+Î±\leqq0$ï¼Œæˆ‘ä»¬å°±è®¤ä¸ºå·²ç»æ­£ç¡®è¯†åˆ«å‡ºäº†å›¾åƒä¸­çš„äººï¼Œæ‰€ä»¥å¯¹äºè¯¥å›¾åƒçš„æŸå¤±å€¼æ˜¯ 0.</p>
</blockquote>
<p><img src="/images/deeplearning/C4W4-10_1.png" width="750"></p>
<p>æ‰€ä»¥æ€»çš„æŸå¤±å‡½æ•°æ˜¯ : $J=\sum{L(A^{(i)},P^{(i)},N^{(i)})}$</p>
<p>è¦æ³¨æ„çš„æ˜¯ä½¿ç”¨è¿™ç§æ–¹æ³•è¦ä¿è¯æ¯ä¸€ä¸ªäººä¸æ­¢æœ‰ä¸€å¼ å›¾åƒï¼Œå¦åˆ™æ— æ³•è®­ç»ƒã€‚å¦å¤–è¦æ³¨æ„ä¸å‰é¢çš„ <strong>One-shot</strong> åŒºåˆ†å¼€æ¥ï¼Œè¿™é‡Œæ˜¯åœ¨è®­ç»ƒæ¨¡å‹ï¼Œæ‰€ä»¥è®­ç»ƒé›†çš„æ•°é‡è¦å¤šä¸€äº›ï¼Œæ¯ä¸ªäººè¦æœ‰å¤šå¼ ç…§ç‰‡ã€‚è€ŒOne-shotæ˜¯è¿›è¡Œæµ‹è¯•äº†ï¼Œæ‰€ä»¥åªéœ€ä¸€å¼ ç”¨äºè¾“å…¥çš„ç…§ç‰‡å³å¯ã€‚</p>
<h3 id="4-3-Choosing-the-triplets-A-P-N"><a href="#4-3-Choosing-the-triplets-A-P-N" class="headerlink" title="4.3 Choosing the triplets(A,P,N)"></a>4.3 Choosing the triplets(A,P,N)</h3><p>è¿˜æœ‰ä¸€ä¸ªå¾ˆé‡è¦çš„é—®é¢˜å°±æ˜¯å¦‚ä½•é€‰æ‹©ä¸‰å…ƒç»„ <strong>(A,P,N)</strong>ã€‚å› ä¸ºå®é™…ä¸Šè¦æ»¡è¶³ä¸ç­‰å¼ $d(A,P)+Î±\leqq d(A,N)$ æ˜¯æ¯”è¾ƒç®€å•çš„,å³åªè¦å°† Negative é€‰æ‹©çš„æ¯”è¾ƒæç«¯ä¾¿å¯ï¼Œæ¯”å¦‚ Anchor æ˜¯ä¸€ä¸ªå°å¥³å­©ï¼Œè€Œ Negative é€‰æ‹©ä¸€ä¸ªè€å¤§çˆ·ã€‚</p>
<p>æ‰€ä»¥è¿˜åº”è¯¥å°½é‡æ»¡è¶³ $d(A,N)\approx{d(A,N)}$</p>
<p><img src="/images/deeplearning/C4W4-11_1.png" width="750"></p>
<h2 id="5-Face-Verification-and-Binary-Classification"><a href="#5-Face-Verification-and-Binary-Classification" class="headerlink" title="5. Face Verification and Binary Classification"></a>5. Face Verification and Binary Classification</h2><p>é€šè¿‡ä»¥ä¸Šå†…å®¹ï¼Œæˆ‘ä»¬å¯ä»¥ç¡®å®šä¸‹å›¾ä¸­çš„ç½‘ç»œçš„å‚æ•°äº†ï¼Œé‚£ä¹ˆç°åœ¨å¼€å§‹è¿›è¡Œé¢éƒ¨éªŒè¯äº†ã€‚</p>
<p><strong>ä¸Šé¢çš„æ˜¯æµ‹è¯•å›¾ï¼Œä¸‹é¢çš„æ˜¯æ•°æ®åº“ä¸­çš„ä¸€å¼ ç…§ç‰‡</strong></p>
<p>å’Œä¹‹å‰ä¸€æ ·å‡è®¾ $f(x^{(i)})$ æœ‰ 128ä¸ªèŠ‚ç‚¹ï¼Œä¹‹åè¿™ä¸¤ä¸ªæ•°æ®ä½œä¸ºè¾“å…¥æ•°æ®è¾“å…¥åˆ°åé¢çš„é€»è¾‘å›å½’æ¨¡å‹ä¸­å»ï¼Œå³</p>
<p>$$<br>\hat{y} = Ïƒ(\sum_{k=1}^{128}w_i|f(x^{(i)})_k-f(x^{(j)})_k|+b_i)<br>$$</p>
<p>è‹¥ $\hat{y}=1$, ä¸ºåŒä¸€äººã€‚åä¹‹ï¼Œä¸æ˜¯ã€‚</p>
<p>å¦‚ä¸‹å›¾ç¤ºï¼Œç»¿è‰²ä¸‹åˆ’çº¿éƒ¨åˆ†å¯ä»¥ç”¨å…¶ä»–å…¬å¼æ›¿æ¢ï¼Œå³æœ‰</p>
<p>$$<br>\hat{y}=Ïƒ(\sum_{k=1}^{128}w_i \frac{(f(x^{(i)})_k-f(x^{(j)})_k)^2}{f(x^{(i)})_k+f(x^{(j)})_k}+b_i)<br>$$</p>
<p><img src="/images/deeplearning/C4W4-12_1.png" width="750"></p>
<p>å½“ç„¶æ•°æ®åº“ä¸­çš„å›¾åƒä¸ç”¨æ¯æ¬¡æ¥ä¸€å¼ éœ€è¦éªŒè¯çš„å›¾åƒéƒ½é‡æ–°è®¡ç®—ï¼Œå…¶å®å¯ä»¥æå‰è®¡ç®—å¥½ï¼Œå°†ç»“æœä¿å­˜èµ·æ¥ï¼Œè¿™æ ·å°±å¯ä»¥åŠ å¿«è¿ç®—çš„é€Ÿåº¦äº†ã€‚</p>
<p><img src="/images/deeplearning/C4W4-13_1.png" width="750"></p>
<h2 id="6-What-is-neural-style-transfer"><a href="#6-What-is-neural-style-transfer" class="headerlink" title="6. What is neural style transfer?"></a>6. What is neural style transfer?</h2><p><img src="/images/deeplearning/C4W4-14_1.png" width="750"></p>
<h2 id="7-What-are-deep-ConvNets-learning"><a href="#7-What-are-deep-ConvNets-learning" class="headerlink" title="7. What are deep ConvNets learning?"></a>7. What are deep ConvNets learning?</h2><p><img src="/images/deeplearning/C4W4-15_1.png" width="750"></p>
<blockquote>
<p>ç¬¬ä¸€å±‚åªèƒ½çœ‹åˆ°å°éƒ¨åˆ†å·ç§¯ç¥ç».</p>
<p>ä½ é€‰æ‹©ä¸€ä¸ªéšè—å•å…ƒï¼Œå‘ç°æœ‰9ä¸ªå›¾ç‰‡ï¼Œæœ€å¤§åŒ–äº†å•å…ƒæ¿€æ´»ï¼Œä½ å¯èƒ½æ‰¾åˆ°ç±»ä¼¼è¿™æ ·çš„å›¾ç‰‡æµ…å±‚åŒºåŸŸ.</p>
</blockquote>
<p><img src="/images/deeplearning/C4W4-16_1.png" width="750"></p>
<h2 id="8-Cost-Function"><a href="#8-Cost-Function" class="headerlink" title="8. Cost Function"></a>8. Cost Function</h2><p>å¦‚ä¸‹å›¾ç¤ºï¼š</p>
<p><img src="/images/deeplearning/C4W4-17_1.png" width="750"></p>
<p>å·¦ä¸Šè§’çš„åŒ…å« Content çš„å›¾ç‰‡ç®€ç§°ä¸º Cï¼Œå³ä¸Šè§’åŒ…å« Style çš„ç®€ç§° Sï¼ŒäºŒè€…èåˆåå¾—åˆ°çš„å›¾ç‰‡ç®€ç§°ä¸º Gã€‚</p>
<p>æˆ‘ä»¬çŸ¥é“è®¡ç®—é—®é¢˜é¡»æ˜¯æœ‰é™çš„ï¼Œæ‰€ä»¥èåˆçš„æ ‡å‡†æ˜¯ä»€ä¹ˆï¼Ÿä¹Ÿå°±æ˜¯è¯´ Content çš„ä¿ç•™ç¨‹åº¦å’Œ Style çš„è¿ç”¨ç¨‹åº¦å¦‚ä½•å–èˆå‘¢ï¼Ÿ</p>
<p>æ­¤æ—¶å¼•å…¥æŸå¤±å‡½æ•°ï¼Œå¹¶å¯¹å…¶è¿›è¡Œæœ€ä¼˜åŒ–ï¼Œè¿™æ ·ä¾¿å¯å¾—åˆ°æœ€ä¼˜è§£ã€‚</p>
<p>$$<br>J(G)=Î±J_{Content}(C,G)+Î²J_{Style}(S,G)<br>$$</p>
<blockquote>
<p>$J(G)$ å®šä¹‰ç”¨æ¥ç”Ÿæˆå›¾åƒçš„å¥½åï¼Œ$J_{Content}(C,G)$ è¡¨ç¤º å›¾åƒ$C$ å’Œ å›¾åƒ$G$ ä¹‹é—´çš„å·®å¼‚ï¼Œ$J_{Style}(S,G)$ åŒç†ã€‚</p>
</blockquote>
<p><strong>è®¡ç®—è¿‡ç¨‹ç¤ºä¾‹</strong>ï¼š</p>
<blockquote>
<p>éšæœºåˆå§‹åŒ–å›¾åƒ $G$ï¼Œå‡è®¾ä¸º 100*100*3 ï¼ˆmaybe 500*500*3ï¼‰ (å¦‚ä¸‹å›¾å³è¾¹å››ä¸ªå›¾åƒæœ€ä¸Šé¢é‚£ä¸ªæ‰€ç¤º)</p>
<p>ä½¿ç”¨æ¢¯åº¦ä¸‹é™ä¸æ–­ä¼˜åŒ– $J(G)$ã€‚ (ä¼˜åŒ–è¿‡ç¨‹å¦‚ä¸‹å›¾å³è¾¹ä¸‹é¢3ä¸ªå›¾åƒæ‰€ç¤º)</p>
</blockquote>
<p><img src="/images/deeplearning/C4W4-18_1.png" width="750"></p>
<blockquote>
<p>ä¸‹é¢ä¸€å°èŠ‚å°†å…·ä½“ä»‹ç» <strong>Cost Function</strong> çš„è®¡ç®—ã€‚</p>
</blockquote>
<h2 id="9-Content-Cost-Function"><a href="#9-Content-Cost-Function" class="headerlink" title="9. Content Cost Function"></a>9. Content Cost Function</h2><p>é¦–å…ˆå‡è®¾æˆ‘ä»¬ä½¿ç”¨ <strong>ç¬¬ $l$ å±‚</strong> éšè—å±‚ æ¥è®¡ç®— $J_{Content}(C,G)$ï¼Œæ³¨æ„è¿™é‡Œçš„ <strong>$l$</strong> ä¸€èˆ¬å–åœ¨ä¸­é—´å±‚ï¼Œè€Œä¸æ˜¯æœ€å‰é¢çš„å±‚ï¼Œæˆ–è€…æœ€åå±‚</p>
<blockquote>
<p>åŸå› å¦‚ä¸‹ï¼š</p>
<ul>
<li>å‡å¦‚å–<strong>ç¬¬1å±‚</strong>ï¼Œé‚£ä¹ˆå¾—åˆ°çš„ $G$ å›¾åƒ å°†ä¼šä¸ å›¾åƒ$C$ åƒç´ çº§åˆ«çš„ç›¸ä¼¼ï¼Œè¿™æ˜¾ç„¶ä¸è¡Œã€‚</li>
<li>å‡å¦‚å–å¾ˆæ·±å±‚ï¼Œé‚£ä¹ˆè¯¥å±‚å·²ç»æå–å‡ºäº†æ¯”è¾ƒé‡è¦çš„ç‰¹å¾ï¼Œä¾‹å¦‚ å›¾åƒ$C$ ä¸­æœ‰ä¸€æ¡ç‹—ï¼Œé‚£ä¹ˆå¾—åˆ°çš„ å›¾åƒ$G$ ä¼šè¿‡åº¦çš„ä¿ç•™è¿™ä¸ªç‰¹å¾ã€‚</li>
</ul>
</blockquote>
<ul>
<li>ç„¶åä½¿ç”¨é¢„å…ˆè®­ç»ƒå¥½çš„å·ç§¯ç¥ç»ç½‘ç»œï¼Œå¦‚ VGGç½‘ç»œã€‚è¿™æ ·æˆ‘ä»¬å°±å¯ä»¥å¾—åˆ° å›¾åƒ$C$ å’Œ å›¾åƒ$G$ åœ¨ç¬¬$l$å±‚çš„æ¿€æ´»å‡½æ•°å€¼ï¼Œåˆ†åˆ«è®°ä¸º $a^{[l][C]},a^{[l][G]}$</li>
<li>å†…å®¹æŸå¤±å‡½æ•° $J_{Content}(C,G) = \frac{1}{2} || a^{[l][C]} - a^{[l][G]} ||^2$</li>
</ul>
<p><img src="/images/deeplearning/C4W4-19_1.png" width="750"></p>
<h2 id="10-Style-Cost-Function"><a href="#10-Style-Cost-Function" class="headerlink" title="10. Style Cost Function"></a>10. Style Cost Function</h2><h3 id="10-1-ä»€ä¹ˆæ˜¯â€œé£æ ¼â€"><a href="#10-1-ä»€ä¹ˆæ˜¯â€œé£æ ¼â€" class="headerlink" title="10.1 ä»€ä¹ˆæ˜¯â€œé£æ ¼â€"></a>10.1 ä»€ä¹ˆæ˜¯â€œé£æ ¼â€</h3><p>è¦è®¡ç®—é£æ ¼æŸå¤±å‡½æ•°ï¼Œæˆ‘ä»¬é¦–å…ˆéœ€è¦çŸ¥é“â€œé£æ ¼(Style)â€æ˜¯ä»€ä¹ˆã€‚</p>
<p>æˆ‘ä»¬ä½¿ç”¨ $l$ å±‚çš„æ¿€æ´»æ¥åº¦é‡â€œStyleâ€ï¼Œå°†â€œStyleâ€å®šä¹‰ä¸ºé€šé“é—´æ¿€æ´»å€¼ä¹‹é—´çš„<strong>ç›¸å…³ç³»æ•°</strong>ã€‚(<strong>Define style as correlation between activation across channels</strong>)</p>
<p><img src="/images/deeplearning/C4W4-20_1.png" width="750"></p>
<p>é‚£ä¹ˆæˆ‘ä»¬å¦‚ä½•è®¡ç®—è¿™ä¸ªæ‰€è°“çš„ç›¸å…³ç³»æ•°å‘¢ï¼Ÿ</p>
<p>ä¸‹å›¾æ˜¯æˆ‘ä»¬ä»ä¸Šå›¾ä¸­æ‰€æ ‡è¯†çš„ç¬¬ $l$ å±‚ï¼Œä¸ºæ–¹ä¾¿è¯´æ˜ï¼Œå‡è®¾åªæœ‰ 5 å±‚é€šé“ã€‚</p>
<p><img src="/images/deeplearning/C4W4-21_1.png" width="350"></p>
<p>å¦‚ä¸Šå›¾ç¤ºï¼Œçº¢è‰²é€šé“å’Œé»„è‰²é€šé“å¯¹åº”ä½ç½®éƒ½æœ‰æ¿€æ´»é¡¹ï¼Œè€Œæˆ‘ä»¬è¦æ±‚çš„ä¾¿æ˜¯å®ƒä»¬ä¹‹é—´çš„<strong>ç›¸å…³ç³»æ•°</strong>ã€‚</p>
<p>ä½†æ˜¯ä¸ºä»€ä¹ˆè¿™ä¹ˆæ±‚å‡ºæ¥æ˜¯æœ‰æ•ˆçš„å‘¢ï¼Ÿä¸ºä»€ä¹ˆå®ƒä»¬èƒ½å¤Ÿåæ˜ å‡ºé£æ ¼å‘¢ï¼Ÿ</p>
<p>ç»§ç»­å¾€ä¸‹çœ‹â†“</p>
<h3 id="10-2-å›¾åƒé£æ ¼çš„ç›´è§‚ç†è§£"><a href="#10-2-å›¾åƒé£æ ¼çš„ç›´è§‚ç†è§£" class="headerlink" title="10.2 å›¾åƒé£æ ¼çš„ç›´è§‚ç†è§£"></a>10.2 å›¾åƒé£æ ¼çš„ç›´è§‚ç†è§£</h3><p>å¦‚å›¾é£æ ¼å›¾åƒæœ‰ <strong>5</strong> å±‚é€šé“ï¼Œä¸”è¯¥å›¾åƒçš„å¯è§†åŒ–ç‰¹å¾å¦‚ <font color="blue">å·¦ä¸‹è§’å›¾</font> æ‰€ç¤ºã€‚</p>
<p><img src="/images/deeplearning/C4W4-22_1.png" width="800"></p>
<p>å…¶ä¸­çº¢è‰²é€šé“å¯è§†åŒ–ç‰¹å¾å¦‚å›¾ä¸­<strong>ç®­å¤´</strong>æ‰€æŒ‡æ˜¯<strong>å‚ç›´æ¡çº¹</strong>ï¼Œè€Œ<strong>é»„è‰²é€šé“çš„ç‰¹å¾åˆ™æ˜¯æ©˜è‰²èƒŒæ™¯</strong>ã€‚<br><!--<img src="/images/deeplearning/C4W4-22_2.png" width="750" />
--><br>é‚£ä¹ˆé€šè¿‡è®¡ç®—è¿™ä¸¤å±‚é€šé“çš„ç›¸å…³ç³»æ•°æœ‰ä»€ä¹ˆç”¨å‘¢ï¼Ÿ</p>
<blockquote>
<p>å…¶å®å¾ˆå¥½ç†è§£ï¼Œå¦‚æœ<strong>äºŒè€…ç›¸å…³ç³»æ•°æ€§å¼ºï¼Œé‚£ä¹ˆå¦‚æœå‡ºç°æ©˜è‰²èƒŒæ™¯ï¼Œé‚£ä¹ˆå°±åº”è¯¥å¾ˆå¤§æ¦‚ç‡å‡ºç°å‚ç›´æ¡çº¹</strong>ã€‚åä¹‹ï¼Œäº¦ç„¶ã€‚</p>
</blockquote>
<h3 id="10-3-é£æ ¼ç›¸å…³ç³»æ•°çŸ©é˜µ"><a href="#10-3-é£æ ¼ç›¸å…³ç³»æ•°çŸ©é˜µ" class="headerlink" title="10.3 é£æ ¼ç›¸å…³ç³»æ•°çŸ©é˜µ"></a>10.3 é£æ ¼ç›¸å…³ç³»æ•°çŸ©é˜µ</h3><p>ä»¤ $a_{i,j,k}^{[l]}$ è¡¨ç¤º <strong>(i,j,k)</strong> çš„æ¿€æ´»é¡¹ï¼Œå…¶ä¸­ <strong>i,j,k</strong> åˆ†åˆ«è¡¨ç¤ºé«˜åº¦å€¼(H)ï¼Œå®½åº¦å€¼(W) åŠ æ‰€åœ¨é€šé“å±‚æ¬¡(C)ã€‚</p>
<p>é£æ ¼çŸ©é˜µ(ä¹Ÿç§°ä¸ºâ€œ<strong>Gram Matrix</strong>â€)ç”¨ $G^{[l]}$ è¡¨ç¤ºï¼Œå…¶å¤§å°ä¸º $n_c^{l]}*n_c^{l]}$.</p>
<p>å› æ­¤é£æ ¼å›¾åƒçš„é£æ ¼çŸ©é˜µä¸ºï¼š</p>
<p>$$<br>G_{kkâ€™}^{<a href="S">l</a>}=\sum_{i=1}^{n_H^{[l]}}\sum_{j=1}^{n_W^{[l]}}a_{i,j,k}^{<a href="S">l</a>}a_{i,j,kâ€™}^{<a href="S">l</a>}<br>$$</p>
<p>ç”Ÿæˆå›¾åƒçš„ç›¸å…³ç³»æ•°çŸ©é˜µ</p>
<p>$$<br>G_{kkâ€™}^{<a href="G">l</a>}=\sum_{i=1}^{n_H^{[l]}}\sum_{j=1}^{n_W^{[l]}}a_{i,j,k}^{<a href="G">l</a>}a_{i,j,kâ€™}^{<a href="G">l</a>}<br>$$</p>
<p><img src="/images/deeplearning/C4W4-23_1.png" width="750"></p>
<h3 id="10-4-é£æ ¼æŸå¤±å‡½æ•°"><a href="#10-4-é£æ ¼æŸå¤±å‡½æ•°" class="headerlink" title="10.4 é£æ ¼æŸå¤±å‡½æ•°"></a>10.4 é£æ ¼æŸå¤±å‡½æ•°</h3><p><img src="/images/deeplearning/C4W4-24_1.png" width="750"></p>
<p>ç¬¬ $l$ å±‚çš„é£æ ¼æŸå¤±å‡½æ•°ä¸ºï¼š</p>
<p>$$<br>J_{Style}^{[l]} (S, G) = \frac {1} { (2n_H^{[l]} n_W^{[l]} n_C^{[l]})^2 } \sum_{k}\sum_{kâ€™} (G_{kkâ€™}^{[l](S)} - G_{kkâ€™}^{[l](G)})<br>$$</p>
<p>æ€»çš„é£æ ¼æŸå¤±å‡½æ•°ï¼š</p>
<p>$$<br>J_{Style}(S,G) = \sum_{l}Î»^{[l]}J_{Style}C4^{[l]}(S,G)<br>$$</p>
<h2 id="11-1D-and-3D-Generalizations"><a href="#11-1D-and-3D-Generalizations" class="headerlink" title="11. 1D and 3D Generalizations"></a>11. 1D and 3D Generalizations</h2><p>1D generalizations of models</p>
<p><img src="/images/deeplearning/C4W4-25_1.png" width="750"></p>
<p>3D generalizations of models</p>
<p><img src="/images/deeplearning/C4W4-26_1.png" width="750"></p>
<blockquote>
<p>åŒ»å­¦å›¾åƒ ä¸ è§†é¢‘æ£€æµ‹ éƒ½æ˜¯ 3D çš„.</p>
</blockquote>
<h2 id="Reference"><a href="#Reference" class="headerlink" title="Reference"></a>Reference</h2><ul>
<li><a href="https://study.163.com/my#/smarts" target="_blank" rel="external">ç½‘æ˜“äº‘è¯¾å ‚ - deeplearning</a></li>
<li><a href="http://www.cnblogs.com/marsggbo/p/7470989.html" target="_blank" rel="external">DeepLearning.aiå­¦ä¹ ç¬”è®°æ±‡æ€»</a></li>
</ul>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[Activation Function æ¿€åŠ±å‡½æ•°]]></title>
      <url>http://iequa.com/2018/09/07/tensorflow-2-6-B-activation-function/</url>
      <content type="html"><![CDATA[<p><a href="https://www.tensorflow.org/api_guides/python/nn" target="_blank" rel="external">Tensorflow æä¾›çš„ä¸€äº› Activation Function</a></p>
<a id="more"></a>
<p>æ¿€åŠ±å‡½æ•°è¿è¡Œæ—¶æ¿€æ´»ç¥ç»ç½‘ç»œä¸­æŸä¸€éƒ¨åˆ†ç¥ç»å…ƒï¼Œå°†æ¿€æ´»ä¿¡æ¯å‘åä¼ å…¥ä¸‹ä¸€å±‚çš„ç¥ç»ç³»ç»Ÿã€‚</p>
<p>æ¿€åŠ±å‡½æ•°çš„å®è´¨æ˜¯éçº¿æ€§æ–¹ç¨‹ã€‚ Tensorflow çš„ç¥ç»ç½‘ç»œ é‡Œé¢å¤„ç†è¾ƒä¸ºå¤æ‚çš„é—®é¢˜æ—¶éƒ½ä¼šéœ€è¦è¿ç”¨ activation function ã€‚ </p>
<p>ä¸‹é¢æ˜¯ä¸€ä¸ª TensorFlow æ­å»ºçš„ ç®€å•ç‰ˆç¥ç»ç½‘ç»œ æ•°æ®æµå›¾ :</p>
<p><img src="/images/tensorflow/tf-2.6-active6_1.png" width="550"></p>
<p>Layer2 å±•å¼€éƒ¨åˆ†ï¼ŒLayer1 å‡ºæ¥çš„æ•°æ®ï¼Œå†è¾“å…¥åˆ° Layer2 ä¸­</p>
<p><img src="/images/tensorflow/tf-2.6-active7.jpg" width="550"></p>
<blockquote>
<p>è¯¦ç»†ä»‹ç»è¯·å‰å¾€ <a href="/2018/09/07/tensorflow-2-6-A-activation-function/">Whatâ€™s Activation Function</a></p>
</blockquote>
<h2 id="Reference"><a href="#Reference" class="headerlink" title="Reference"></a>Reference</h2><ul>
<li><a href="https://www.tensorflow.org/" target="_blank" rel="external">tensorflow.org</a></li>
<li><a href="https://morvanzhou.github.io/tutorials/machine-learning/tensorflow/" target="_blank" rel="external">è«çƒ¦Python</a></li>
<li><a href="https://www.tensorflow.org/api_guides/python/nn" target="_blank" rel="external">Tensorflow æä¾›çš„ä¸€äº› æ¿€åŠ±å‡½æ•°</a></li>
</ul>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[What's Activation Function]]></title>
      <url>http://iequa.com/2018/09/07/tensorflow-2-6-A-activation-function/</url>
      <content type="html"><![CDATA[<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js"],
    jax: ["input/TeX"],
    tex2jax: {
      inlineMath: [ ['$','$'], ['\\(','\\)'] ],
      displayMath: [ ['$$','$$']],
      processEscapes: true
    }
  });
</script>
<script type="text/javascript" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS_HTML,http://myserver.com/MathJax/config/local/local.js">
</script>

<p>ç°ä»£ç¥ç»ç½‘ç»œä¸­ å¿…ä¸å¯å°‘çš„ä¸€ä¸ªç»„æˆéƒ¨åˆ†, æ¿€åŠ±å‡½æ•°, activation function.</p>
<a id="more"></a>
<p>æœ¬æ–‡å¤§éƒ¨åˆ†å†…å®¹è½¬è½½è‡ª <a href="https://morvanzhou.github.io/tutorials/machine-learning/tensorflow/" target="_blank" rel="external">è«çƒ¦Python /Tensorflow-Tutorial</a></p>
<h2 id="éçº¿æ€§æ–¹ç¨‹"><a href="#éçº¿æ€§æ–¹ç¨‹" class="headerlink" title="éçº¿æ€§æ–¹ç¨‹"></a>éçº¿æ€§æ–¹ç¨‹</h2><p>æˆ‘ä»¬ä¸ºä»€ä¹ˆè¦ä½¿ç”¨æ¿€åŠ±å‡½æ•°? ç”¨ç®€å•çš„è¯­å¥æ¥æ¦‚æ‹¬. å°±æ˜¯å› ä¸º, <span style="TEXT-DECORATION: underline"><strong>ç°å®å¹¶æ²¡æœ‰æˆ‘ä»¬æƒ³è±¡çš„é‚£ä¹ˆç¾å¥½</strong></span>ã€‚æ¿€åŠ±å‡½æ•°ä¹Ÿå°±æ˜¯ä¸ºäº†è§£å†³æˆ‘ä»¬æ—¥å¸¸ç”Ÿæ´»ä¸­ <strong>ä¸èƒ½ç”¨çº¿æ€§æ–¹ç¨‹æ‰€æ¦‚æ‹¬çš„é—®é¢˜</strong>. </p>
<p><img src="/images/tensorflow/tf-2.6-active1.png" alt="Linear function and Nonlinear function"></p>
<p>è¯´åˆ°çº¿æ€§æ–¹ç¨‹, æˆ‘ä»¬ä¸å¾—ä¸æåˆ°å¦å¤–ä¸€ç§æ–¹ç¨‹, éçº¿æ€§æ–¹ç¨‹ (nonlinear function). æˆ‘ä»¬å‡è®¾, å¥³ç”Ÿé•¿å¾—è¶Šæ¼‚äº®, è¶Šå¤šç”·ç”Ÿçˆ±. è¿™å°±å¯ä»¥è¢«å½“åšä¸€ä¸ªçº¿æ€§é—®é¢˜. ä½†æ˜¯å¦‚æœæˆ‘ä»¬å‡è®¾è¿™ä¸ªåœºæ™¯æ˜¯å‘ç”Ÿåœ¨æ ¡å›­é‡Œ. æ ¡å›­é‡Œçš„ç”·ç”Ÿæ•°æ˜¯æœ‰é™çš„, å¥³ç”Ÿå†æ¼‚äº®, ä¹Ÿä¸å¯èƒ½ä¼šæœ‰æ— ç©·å¤šçš„ç”·ç”Ÿå–œæ¬¢å¥¹. æ‰€ä»¥è¿™å°±å˜æˆäº†ä¸€ä¸ªéçº¿æ€§é—®é¢˜.å†è¯´..å¥³ç”Ÿä¹Ÿä¸å¯èƒ½æ˜¯æ— ç©·æ¼‚äº®çš„. è¿™ä¸ªé—®é¢˜æˆ‘ä»¬ä»¥åæœ‰æ—¶é—´ç§ä¸‹è®¨è®º.</p>
<p><img src="/images/tensorflow/tf-2.6-active2.png" alt="Linear function -&gt; Activation Function"></p>
<p>ç„¶åæˆ‘ä»¬å°±å¯ä»¥æ¥è®¨è®ºå¦‚ä½•åœ¨ç¥ç»ç½‘ç»œä¸­è¾¾æˆæè¿°éçº¿æ€§çš„ä»»åŠ¡äº†. æˆ‘ä»¬å¯ä»¥æŠŠæ•´ä¸ªç½‘ç»œç®€åŒ–æˆè¿™æ ·ä¸€ä¸ªå¼å­. $Y = WX$, $W$ å°±æ˜¯æˆ‘ä»¬è¦æ±‚çš„å‚æ•°, $y$ æ˜¯é¢„æµ‹å€¼, $x$ æ˜¯è¾“å…¥å€¼. ç”¨è¿™ä¸ªå¼å­, æˆ‘ä»¬å¾ˆå®¹æ˜“å°±èƒ½æè¿°åˆšåˆšçš„é‚£ä¸ªçº¿æ€§é—®é¢˜, å› ä¸º $W$ æ±‚å‡ºæ¥å¯ä»¥æ˜¯ä¸€ä¸ªå›ºå®šçš„æ•°. ä¸è¿‡è¿™ä¼¼ä¹å¹¶ä¸èƒ½è®©è¿™æ¡ç›´çº¿å˜å¾—æ‰­èµ·æ¥ , æ¿€åŠ±å‡½æ•°è§çŠ¶, æ‹”åˆ€ç›¸åŠ©, ç«™å‡ºæ¥è¯´é“: â€œè®©æˆ‘æ¥æ°å¼¯å®ƒ!â€.</p>
<h2 id="æ¿€åŠ±å‡½æ•°"><a href="#æ¿€åŠ±å‡½æ•°" class="headerlink" title="æ¿€åŠ±å‡½æ•°"></a>æ¿€åŠ±å‡½æ•°</h2><p><img src="/images/tensorflow/tf-2.6-active3.png" alt="Activation Function"></p>
<blockquote>
<p>è¿™é‡Œçš„ AF å°±æ˜¯æŒ‡æ¿€åŠ±å‡½æ•°. æ¿€åŠ±å‡½æ•°æ‹¿å‡ºè‡ªå·±æœ€æ“…é•¿çš„â€æ°å¼¯åˆ©å™¨â€, å¥—åœ¨åŸå‡½æ•°ä¸Šç”¨åŠ›ä¸€æ‰­, åŸæ¥çš„ $WX$ ç»“æœå°±è¢«æ‰­å¼¯äº†.</p>
<p>å…¶å®è¿™ä¸ª AF, æ°å¼¯åˆ©å™¨, ä¹Ÿä¸æ˜¯ä»€ä¹ˆè§¦ä¸å¯åŠçš„ä¸œè¥¿. å®ƒå…¶å®å°±æ˜¯å¦å¤–ä¸€ä¸ªéçº¿æ€§å‡½æ•°. æ¯”å¦‚è¯´<code>relu, sigmoid, tanh</code>. å°†è¿™äº›æ°å¼¯åˆ©å™¨åµŒå¥—åœ¨åŸæœ‰çš„ç»“æœä¹‹ä¸Š, å¼ºè¡ŒæŠŠåŸæœ‰çš„çº¿æ€§ç»“æœç»™æ‰­æ›²äº†. ä½¿å¾—è¾“å‡ºç»“æœ $y$ ä¹Ÿæœ‰äº†éçº¿æ€§çš„ç‰¹å¾. ä¸¾ä¸ªä¾‹å­, æ¯”å¦‚æˆ‘ä½¿ç”¨äº† <code>relu</code> è¿™ä¸ªæ°å¼¯åˆ©å™¨, å¦‚æœæ­¤æ—¶ $Wx$ çš„ç»“æœæ˜¯ 1, $y$ è¿˜å°†æ˜¯ 1, ä¸è¿‡ $WX$ ä¸º -1 çš„æ—¶å€™, $y$ ä¸å†æ˜¯ -1, è€Œä¼šæ˜¯ 0.</p>
</blockquote>
<p><img src="/images/tensorflow/tf-2.6-active5.jpg" width="550"></p>
<blockquote>
<p>ä½ ç”šè‡³å¯ä»¥åˆ›é€ è‡ªå·±çš„æ¿€åŠ±å‡½æ•°æ¥å¤„ç†è‡ªå·±çš„é—®é¢˜, ä¸è¿‡è¦ç¡®ä¿çš„æ˜¯è¿™äº›æ¿€åŠ±å‡½æ•°å¿…é¡»æ˜¯å¯ä»¥å¾®åˆ†çš„, å› ä¸ºåœ¨ backpropagation è¯¯å·®åå‘ä¼ é€’çš„æ—¶å€™, åªæœ‰è¿™äº›å¯å¾®åˆ†çš„æ¿€åŠ±å‡½æ•°æ‰èƒ½æŠŠè¯¯å·®ä¼ é€’å›å».</p>
</blockquote>
<h2 id="å¸¸ç”¨é€‰æ‹©"><a href="#å¸¸ç”¨é€‰æ‹©" class="headerlink" title="å¸¸ç”¨é€‰æ‹©"></a>å¸¸ç”¨é€‰æ‹©</h2><p><img src="/images/tensorflow/tf-2.6-active4.png" alt="Activation Function"></p>
<p>æƒ³è¦æ°å½“ä½¿ç”¨è¿™äº›æ¿€åŠ±å‡½æ•°, è¿˜æ˜¯æœ‰çªé—¨çš„. æ¯”å¦‚å½“ä½ çš„ç¥ç»ç½‘ç»œå±‚åªæœ‰ä¸¤ä¸‰å±‚, ä¸æ˜¯å¾ˆå¤šçš„æ—¶å€™, å¯¹äºéšè—å±‚, ä½¿ç”¨ä»»æ„çš„æ¿€åŠ±å‡½æ•°, éšä¾¿æ°å¼¯æ˜¯å¯ä»¥çš„, ä¸ä¼šæœ‰ç‰¹åˆ«å¤§çš„å½±å“. ä¸è¿‡, å½“ä½ ä½¿ç”¨ç‰¹åˆ«å¤šå±‚çš„ç¥ç»ç½‘ç»œ, åœ¨æ°å¼¯çš„æ—¶å€™, ç©ç©ä¸å¾—éšæ„é€‰æ‹©åˆ©å™¨. å› ä¸ºè¿™ä¼šæ¶‰åŠåˆ°æ¢¯åº¦çˆ†ç‚¸, æ¢¯åº¦æ¶ˆå¤±çš„é—®é¢˜. å› ä¸ºæ—¶é—´çš„å…³ç³», æˆ‘ä»¬å¯èƒ½ä¼šåœ¨ä»¥åæ¥å…·ä½“è°ˆè°ˆè¿™ä¸ªé—®é¢˜.</p>
<p>æœ€åæˆ‘ä»¬è¯´è¯´, åœ¨å…·ä½“çš„ä¾‹å­ä¸­, æˆ‘ä»¬é»˜è®¤é¦–é€‰çš„æ¿€åŠ±å‡½æ•°æ˜¯å“ªäº›. åœ¨å°‘é‡å±‚ç»“æ„ä¸­, æˆ‘ä»¬å¯ä»¥å°è¯•å¾ˆå¤šç§ä¸åŒçš„æ¿€åŠ±å‡½æ•°. åœ¨å·ç§¯ç¥ç»ç½‘ç»œ Convolutional neural networks çš„å·ç§¯å±‚ä¸­, æ¨èçš„æ¿€åŠ±å‡½æ•°æ˜¯ <code>relu</code>. åœ¨å¾ªç¯ç¥ç»ç½‘ç»œä¸­ Recurrent neural networks, æ¨èçš„æ˜¯ <code>tanh</code> æˆ–è€…æ˜¯ <code>relu</code> (è¿™ä¸ªå…·ä½“æ€ä¹ˆé€‰, æˆ‘ä¼šåœ¨ä»¥å å¾ªç¯ç¥ç»ç½‘ç»œ çš„ä»‹ç»ä¸­åœ¨è¯¦ç»†è®²è§£).</p>
<h2 id="Reference"><a href="#Reference" class="headerlink" title="Reference"></a>Reference</h2><ul>
<li><a href="https://www.tensorflow.org/" target="_blank" rel="external">tensorflow.org</a></li>
<li><a href="https://morvanzhou.github.io/tutorials/machine-learning/tensorflow/" target="_blank" rel="external">è«çƒ¦Python</a></li>
<li><a href="https://github.com/MorvanZhou/Tensorflow-Tutorial" target="_blank" rel="external">Tensorflow æä¾›çš„ä¸€äº› æ¿€åŠ±å‡½æ•°</a></li>
</ul>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[Placeholder ä¼ å…¥å€¼]]></title>
      <url>http://iequa.com/2018/09/07/tensorflow-2-5-placeholde/</url>
      <content type="html"><![CDATA[<p>placeholder æ˜¯ Tensorflow ä¸­çš„å ä½ç¬¦ï¼Œæš‚æ—¶å‚¨å­˜å˜é‡.</p>
<a id="more"></a>
<p>Tensorflow å¦‚æœæƒ³è¦ä»å¤–éƒ¨ä¼ å…¥data, é‚£å°±éœ€è¦ç”¨åˆ° <code>tf.placeholder()</code>, ç„¶åä»¥è¿™ç§å½¢å¼ä¼ è¾“æ•°æ® <code>sess.run(**, feed_dict={input: **})</code>.</p>
<p>ä¸¾ä¸ªğŸŒ°:</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> tensorflow <span class="keyword">as</span> tf</span><br><span class="line"></span><br><span class="line"><span class="comment">#åœ¨ Tensorflow ä¸­éœ€è¦å®šä¹‰ placeholder çš„ type ï¼Œä¸€èˆ¬ä¸º float32 å½¢å¼</span></span><br><span class="line">input1 = tf.placeholder(tf.float32)</span><br><span class="line">input2 = tf.placeholder(tf.float32)</span><br><span class="line"></span><br><span class="line"><span class="comment"># mul = multiply æ˜¯å°†input1å’Œinput2 åšä¹˜æ³•è¿ç®—ï¼Œå¹¶è¾“å‡ºä¸º output </span></span><br><span class="line">ouput = tf.multiply(input1, input2)</span><br></pre></td></tr></table></figure>
<p>æ¥ä¸‹æ¥, ä¼ å€¼çš„å·¥ä½œäº¤ç»™äº† <code>sess.run()</code> , éœ€è¦ä¼ å…¥çš„å€¼æ”¾åœ¨äº† <code>feed_dict={}</code> å¹¶ä¸€ä¸€å¯¹åº”æ¯ä¸€ä¸ª <code>input</code>. <code>placeholder</code> ä¸ <code>feed_dict={}</code> æ˜¯ç»‘å®šåœ¨ä¸€èµ·å‡ºç°çš„ã€‚</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">with</span> tf.Session() <span class="keyword">as</span> sess:</span><br><span class="line">    print(sess.run(ouput, feed_dict=&#123;input1: [<span class="number">7.</span>], input2: [<span class="number">2.</span>]&#125;))</span><br><span class="line"><span class="comment"># [ 14.]</span></span><br></pre></td></tr></table></figure>
<h2 id="Reference"><a href="#Reference" class="headerlink" title="Reference"></a>Reference</h2><ul>
<li><a href="https://www.tensorflow.org/" target="_blank" rel="external">tensorflow.org</a></li>
<li><a href="https://morvanzhou.github.io/tutorials/machine-learning/tensorflow/" target="_blank" rel="external">è«çƒ¦Python</a></li>
</ul>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[Variable å˜é‡]]></title>
      <url>http://iequa.com/2018/09/07/tensorflow-2-4-variable/</url>
      <content type="html"><![CDATA[<p>åœ¨ Tensorflow ä¸­ä½¿ç”¨ Variableã€‚ åœ¨ Tensorflow ä¸­ï¼Œå®šä¹‰äº†æŸå­—ç¬¦ä¸²æ˜¯å˜é‡ï¼Œå®ƒæ‰æ˜¯å˜é‡ï¼Œè¿™ä¸€ç‚¹æ˜¯ä¸ Python æ‰€ä¸åŒçš„ã€‚</p>
<a id="more"></a>
<p>å®šä¹‰è¯­æ³•ï¼š <code>state = tf.Variable()</code></p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> tensorflow <span class="keyword">as</span> tf</span><br><span class="line"></span><br><span class="line">state = tf.Variable(<span class="number">0</span>, name=<span class="string">'counter'</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># å®šä¹‰å¸¸é‡ one</span></span><br><span class="line">one = tf.constant(<span class="number">1</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># å®šä¹‰åŠ æ³•æ­¥éª¤ (æ³¨: æ­¤æ­¥å¹¶æ²¡æœ‰ç›´æ¥è®¡ç®—)</span></span><br><span class="line">new_value = tf.add(state, one)</span><br><span class="line"></span><br><span class="line"><span class="comment"># å°† State æ›´æ–°æˆ new_value</span></span><br><span class="line">update = tf.assign(state, new_value)</span><br></pre></td></tr></table></figure>
<p>å¦‚æœä½ åœ¨ Tensorflow ä¸­è®¾å®šäº†å˜é‡ï¼Œé‚£ä¹ˆåˆå§‹åŒ–å˜é‡æ˜¯æœ€é‡è¦çš„ï¼ï¼æ‰€ä»¥å®šä¹‰äº†å˜é‡ä»¥å, ä¸€å®šè¦å®šä¹‰ <code>init = tf.initialize_all_variables()</code>.</p>
<p>åˆ°è¿™é‡Œå˜é‡è¿˜æ˜¯æ²¡æœ‰è¢«æ¿€æ´»ï¼Œéœ€è¦å†åœ¨ <code>sess</code> é‡Œ, <code>sess.run(init)</code> , æ¿€æ´» <code>init</code> è¿™ä¸€æ­¥.</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment"># å¦‚æœå®šä¹‰ Variable, å°±ä¸€å®šè¦ initialize</span></span><br><span class="line"><span class="comment"># init = tf.initialize_all_variables() # tf é©¬ä¸Šå°±è¦åºŸå¼ƒè¿™ç§å†™æ³•</span></span><br><span class="line">init = tf.global_variables_initializer()  <span class="comment"># æ›¿æ¢æˆè¿™æ ·å°±å¥½</span></span><br><span class="line"> </span><br><span class="line"><span class="comment"># ä½¿ç”¨ Session</span></span><br><span class="line"><span class="keyword">with</span> tf.Session() <span class="keyword">as</span> sess:</span><br><span class="line">    sess.run(init)</span><br><span class="line">    print(sess.run(new_value))</span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> range(<span class="number">3</span>):</span><br><span class="line">        sess.run(update) <span class="comment"># ç›¸å½“äºè¿è¡Œäº†ä¸€é tf.assign(state, new_value+100)ï¼Œ å› ä¸ºè¿™æ˜¯ update</span></span><br><span class="line">        print(sess.run(state))</span><br><span class="line">    print(<span class="string">"Sess Hello !"</span>)</span><br></pre></td></tr></table></figure>
<blockquote>
<p>æ³¨æ„ï¼šç›´æ¥ print(state) ä¸èµ·ä½œç”¨ï¼ï¼</p>
<p>ä¸€å®šè¦æŠŠ <code>sess</code> çš„æŒ‡é’ˆæŒ‡å‘ <code>state</code> å†è¿›è¡Œ <code>print</code> æ‰èƒ½å¾—åˆ°æƒ³è¦çš„ç»“æœï¼</p>
</blockquote>
<h2 id="Reference"><a href="#Reference" class="headerlink" title="Reference"></a>Reference</h2><ul>
<li><a href="https://www.tensorflow.org/" target="_blank" rel="external">tensorflow.org</a></li>
<li><a href="https://morvanzhou.github.io/tutorials/machine-learning/tensorflow/" target="_blank" rel="external">è«çƒ¦Python</a></li>
<li><a href="https://github.com/MorvanZhou/Tensorflow-Tutorial" target="_blank" rel="external">æ–°ç‰ˆå¯è§†åŒ–æ•™å­¦ä»£ç </a></li>
</ul>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[Session ä¼šè¯æ§åˆ¶]]></title>
      <url>http://iequa.com/2018/09/06/tensorflow-2-3-session/</url>
      <content type="html"><![CDATA[<p>Session æ˜¯ Tensorflow ä¸ºäº†æ§åˆ¶,å’Œè¾“å‡ºæ–‡ä»¶çš„æ‰§è¡Œè¯­å¥. è¿è¡Œ session.run() å¯ä»¥è·å¾—ä½ è¦å¾—çŸ¥çš„è¿ç®—ç»“æœ.</p>
<a id="more"></a>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> tensorflow <span class="keyword">as</span> tf</span><br><span class="line"></span><br><span class="line">a = tf.constant([<span class="number">1.0</span>, <span class="number">2.0</span>], name=<span class="string">"a"</span>)</span><br><span class="line">b = tf.constant([<span class="number">2.0</span>, <span class="number">3.0</span>], name=<span class="string">"b"</span>) <span class="comment"># a, b å®šä¹‰ä¸º 2 ä¸ªå¸¸é‡ å‘é‡</span></span><br><span class="line"></span><br><span class="line">result = a + b</span><br><span class="line"></span><br><span class="line">sess = tf.Session()</span><br><span class="line"></span><br><span class="line">sess.run(result) <span class="comment"># array([ 3.,  5.], dtype=float32)</span></span><br></pre></td></tr></table></figure>
<blockquote>
<p>è¦è¾“å‡ºç›¸åŠ å¾—åˆ°çš„ç»“æœï¼Œä¸èƒ½ç®€å•åœ°ç›´æ¥è¾“å‡º resultï¼Œè€Œéœ€è¦å…ˆç”Ÿæˆä¸€ä¸ª Sessionï¼Œå¹¶é€šè¿‡è¿™ä¸ª Session æ¥è®¡ç®—ç»“æœã€‚</p>
</blockquote>
<p>ğŸŒ°ğŸŒ°ğŸŒ°</p>
<p>  è¿™æ¬¡éœ€è¦åŠ è½½ Tensorflow ï¼Œç„¶åå»ºç«‹ä¸¤ä¸ª <code>matrix</code> , è¾“å‡ºä¸¤ä¸ª <code>matrix</code> çŸ©é˜µç›¸ä¹˜çš„ç»“æœã€‚</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> tensorflow <span class="keyword">as</span> tf</span><br><span class="line"></span><br><span class="line"><span class="comment"># create two matrixes</span></span><br><span class="line"></span><br><span class="line">matrix1 = tf.constant([[<span class="number">3</span>,<span class="number">3</span>]])</span><br><span class="line">matrix2 = tf.constant([[<span class="number">2</span>],</span><br><span class="line">                       [<span class="number">2</span>]])</span><br><span class="line">product = tf.matmul(matrix1,matrix2)</span><br></pre></td></tr></table></figure>
<p>æˆ‘ä»¬ä¼šè¦ä½¿ç”¨ <code>Session</code> æ¥æ¿€æ´» <code>product</code> å¹¶å¾—åˆ°è®¡ç®—ç»“æœ. æœ‰ä¸¤ç§å½¢å¼ä½¿ç”¨ä¼šè¯æ§åˆ¶ <code>Session</code> ã€‚</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment"># method 1</span></span><br><span class="line">sess = tf.Session()</span><br><span class="line">result = sess.run(product)</span><br><span class="line">print(result) <span class="comment"># [[12]]</span></span><br><span class="line">sess.close()</span><br><span class="line"><span class="comment"># [[12]]</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># method 2</span></span><br><span class="line"><span class="keyword">with</span> tf.Session() <span class="keyword">as</span> sess:</span><br><span class="line">    result2 = sess.run(product)</span><br><span class="line">    print(result2)</span><br><span class="line"><span class="comment"># [[12]]</span></span><br></pre></td></tr></table></figure>
<p>ä»¥ä¸Šå°±æ˜¯æˆ‘ä»¬ä»Šå¤©æ‰€å­¦çš„ä¸¤ç§ <code>Session</code> æ‰“å¼€æ¨¡å¼ã€‚</p>
<p>è®©æˆ‘ä»¬å­¦ä¹ ä¸‹ä¸€èŠ‚ â€” Tensorflow ä¸­çš„ Variableã€‚</p>
<h2 id="Reference"><a href="#Reference" class="headerlink" title="Reference"></a>Reference</h2><ul>
<li><a href="https://www.tensorflow.org/" target="_blank" rel="external">tensorflow.org</a></li>
<li><a href="https://morvanzhou.github.io/tutorials/machine-learning/tensorflow/" target="_blank" rel="external">è«çƒ¦Python</a></li>
<li><a href="https://github.com/MorvanZhou/Tensorflow-Tutorial" target="_blank" rel="external">æ–°ç‰ˆå¯è§†åŒ–æ•™å­¦ä»£ç </a></li>
</ul>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[å¦‚ä½•æ‹¿ç£ç£è­·ç…§ï¼Ÿ]]></title>
      <url>http://iequa.com/2018/09/05/life_taiwan_passport/</url>
      <content type="html"><![CDATA[<p>ç½‘ä¸Šå…³äºå¤§é™†å±…æ°‘æ¢å°æ¹¾æŠ¤ç…§ä¼—è¯´çº·çº­, ç°æˆ‘æ•´ç†ä¸‹ç½‘è·¯ä¸Šçš„æ–‡ç« ï¼Œè®°å½•ä¸‹é€šè¿‡ä»€ä¹ˆé€”å¾„å¯ä»¥æ‹¿åˆ°å°æ¹¾æŠ¤ç…§ï¼Ÿ</p>
<a id="more"></a>
<p><strong>ä¸­åæ°‘å›½(å°æ¹¾) æŠ¤ç…§æ¡ä¾‹æ–½è¡Œç»†åˆ™ç¬¬18æ¡è¯´åˆ°:</strong></p>
<p>åœ¨æµ·å¤–ä¹‹å¤§é™†åœ°åŒºäººæ°‘ï¼Œç¬¦åˆä¸‹åˆ—æƒ…å½¢è€…ï¼Œå¾—ç»é©»å¤–é¦†å¤„è½¬è¯·ä¸»ç®¡ æœºå…³ä¾æœ¬æ¡ä¾‹ç¬¬ä¹æ¡ä½†ä¹¦è§„å®šè®¸å¯åï¼ŒæŒç”¨æ™®é€šæŠ¤ç…§ï¼š </p>
<blockquote>
<ol>
<li>å·²å–å¾—å½“åœ°æ°¸ä¹…å±…ç•™æƒ;å½“åœ°æ— æ°¸ä¹…å±…ç•™åˆ¶åº¦ï¼Œé¡»å–å¾—é•¿æœŸå±…ç•™èµ„æ ¼ä¸”èƒ½ç»§ç»­å»¶é•¿å±…ç•™è€…ã€‚ </li>
<li>æ—…å±…æµ·å¤–å››å¹´ä»¥ä¸Š;æˆ–å·²å–å¾—è¯¥å±…ç•™æƒå›½å®¶è¿ç»­ä½æ»¡äºŒå¹´ä»¥ä¸Š;</li>
<li>æˆ–ä¸ºå°æ¹¾åœ°åŒºäººæ°‘ä¹‹é…å¶ç»“å©šå·²æ»¡äºŒå¹´æˆ–å·²ç”Ÿæœ‰å­å¥³.</li>
</ol>
<p>å…¶ç”³è¯·çš„ä¸­åæ°‘å›½æµ·å¤–æŠ¤ç…§æœ‰æ•ˆæœŸä¸º3å¹´ã€‚ï¼ˆè¿™ç‚¹è¿˜ä¸ç¡®å®šï¼‰</p>
</blockquote>
<p>ä¸¾ä¸ªğŸŒ°: </p>
<blockquote>
<p>  æŸæŸæ˜¯æ‹¿äº†ç¾å›½ç»¿å¡ï¼Œç„¶åæŠŠå¤§é™†æŠ¤ç…§é€å»å°æ¹¾â€ç»æµæ–‡åŒ–äº¤æµä¸­å¿ƒâ€é”€æ¯åï¼Œç”³è¯·å°æ¹¾æŠ¤ç…§ï¼Œç„¶åå‘ä¸­å›½å¤§ä½¿é¦†ç”³è¯·äº†å°èƒè¯ï¼Œä¸­åæ°‘äººå…±å’Œå›½æŠ¤ç…§ï¼ˆè¡¥å‘ï¼‰ã€‚ ä½†æ˜¯æ—…æ¸¸ä»€ä¹ˆçš„ï¼Œç”šè‡³å»ä¸­å›½å¤§ä½¿é¦†ï¼Œæˆ‘éƒ½ç”¨å°æ¹¾æŠ¤ç…§ã€‚ç‰¹åˆ«æ˜¯å¤§ä½¿é¦†ï¼Œå·¥ä½œäººå‘˜çœŸæ˜¯æŠŠåŒèƒå½“ç‹—çœ‹å¾…å•Šã€‚ã€‚ é™¤éä½ æ˜¯æ¸¯æ¾³å°åŒèƒæˆ–è€…å¤–å›½äººã€‚ çˆ±å›½ï¼ŒåŸæ¥åªæ˜¯å•ç›¸æ€ã€‚</p>
</blockquote>
<h2 id="å†°ç³–è‘«èŠ¦å¨ƒ"><a href="#å†°ç³–è‘«èŠ¦å¨ƒ" class="headerlink" title="å†°ç³–è‘«èŠ¦å¨ƒ"></a>å†°ç³–è‘«èŠ¦å¨ƒ</h2><p>é—œæ–¼å¤§é™¸å±…æ°‘ç”³è«‹ä¸­è¯æ°‘åœ‹è­·ç…§çš„å•é¡Œ:</p>
<ol>
<li>ä¾ä¸­è¯æ°‘åœ‹è­·ç…§æ¢ä¾‹ç¬¬ä¹æ¢è¦å®šï¼šã€Œæ™®é€šè­·ç…§ä¹‹é©ç”¨å°è±¡ç‚ºå…·æœ‰ä¸­è¯æ°‘åœ‹åœ‹ç±è€…ã€‚ä½†å…·æœ‰å¤§é™¸åœ°å€äººæ°‘ã€é¦™æ¸¯å±…æ°‘ã€æ¾³é–€å±…æ°‘èº«åˆ†æˆ–æŒæœ‰å¤§é™¸åœ°å€æ‰€ç™¼è­·ç…§è€…ï¼Œéç¶“ä¸»ç®¡æ©Ÿé—œè¨±å¯ï¼Œä¸é©ç”¨ä¹‹ã€‚ã€</li>
<li>å…¶æ¬¡ï¼Œæ ¹æ“šå°ç£åœ°å€èˆ‡å¤§é™¸åœ°å€äººæ°‘é—œä¿‚æ¢ä¾‹(ä»¥ä¸‹ç°¡ç¨±å…©å²¸æ¢ä¾‹)ç¬¬ä¸‰æ¢åŠå…¶æ–½è¡Œç´°å‰‡ç¬¬ä¸ƒæ¢ä¹‹è¦å®šï¼šå¤§é™¸åœ°å€äººæ°‘æ—…å±…æµ·å¤–å››å¹´ä»¥ä¸Šè€Œä¸”å–å¾—å¤–åœ‹åœ‹ç±ï¼Œä¸å±¬æ–¼å…©å²¸æ¢ä¾‹æ‰€ç¨±ä¹‹å¤§é™¸åœ°å€äººæ°‘ã€‚å› æ­¤å¯ä»¥ä»¥å¤–åœ‹äººçš„èº«åˆ†ï¼Œä¾åœ‹ç±æ³•çš„è¦å®šå‘å…§æ”¿éƒ¨ç”³è«‹æ­¸åŒ–ä¸­è¯æ°‘åœ‹åœ‹ç±ï¼Œå€˜ç²æ ¸å¯ï¼Œå°±å¯ç”³è«‹ä¸­è¯æ°‘åœ‹è­·ç…§ã€‚</li>
<li>å¦å¤–ï¼Œä¾å…©å²¸æ¢ç¬¬ä¹æ¢ä¹‹ä¸€è¦å®šï¼Œå°ç£åœ°å€äººæ°‘ä¸å¾—åœ¨å¤§é™¸åœ°å€è¨­æœ‰æˆ¶ç±æˆ–é ˜ç”¨å¤§é™¸åœ°å€è­·ç…§ï¼Œé•åè€…å–ªå¤±å°ç£åœ°å€äººæ°‘èº«åˆ†ä¸¦è¨»éŠ·å…¶åœ¨å°æˆ¶ç±ï¼Œå…¶ä¸­è¯æ°‘åœ‹è­·ç…§äº¦å°‡è¢«è¨»éŠ·ã€‚ä¹Ÿå°±æ˜¯èªªå…©å²¸äººæ°‘èº«åˆ†å…·å–®ä¸€æ€§ï¼Œä¸å¾—å…¼å…·å…©å²¸é›™é‡èº«åˆ†ã€‚æº–æ­¤ï¼Œä¸€èˆ¬å¤§é™¸åœ°å€äººæ°‘æ‡‰ä¾ã€Œå¤§é™¸åœ°å€äººæ°‘åœ¨å°ç£åœ°å€ä¾è¦ªå±…ç•™é•·æœŸå±…ç•™æˆ–å®šå±…è¨±å¯è¾¦æ³•ã€çš„è¦å®šï¼Œå‘å…§æ”¿éƒ¨ç”³è«‹åœ¨å°ç£åœ°å€å±…ç•™åŠå®šå±…ç²å¾—è¨±å¯å¾Œï¼Œå¾…èº«åˆ†è½‰ç‚ºå°ç£åœ°å€æœ‰æˆ¶ç±åœ‹æ°‘ä¹‹å¾Œï¼Œå°±å¯ç”³è«‹ä¸­è¯æ°‘åœ‹è­·ç…§ã€‚</li>
<li>æµ·å¤–ä¹‹å¤§é™¸åœ°å€äººæ°‘åœ¨èº«åˆ†å°šæœªè½‰æ›ç‚ºå°ç£åœ°å€äººæ°‘ä¹‹å‰ï¼Œå¦‚æœæƒ³ä¾è­·ç…§æ¢ä¾‹æ–½è¡Œç´°å‰‡ç¬¬åå…«æ¢è¦å®šç”³ä¸­è¯æ°‘åœ‹è­·ç…§ï¼Œé™¤é ˆç¬¦åˆè©²æ¢ä¾‹ç¬¬ä¸€é …ç¬¬ä¸€æ¬¾åŠç¬¬äºŒæ¬¾è¦å®šæƒ…å½¢å¤–ï¼Œå¦é ˆå…·å‚™ç¬¬ä¸‰æ¬¾ã€Œæ”¿ æ²»ã€ç¶“æ¿Ÿã€ç¤¾æœƒã€æ•™è‚²ã€ç§‘æŠ€ã€æ–‡åŒ–ã€é«”è‚²ã€åƒ‘å‹™ã€å®—æ•™æˆ–äººé“ã€ä¹‹ç‰¹æ®Šè€ƒé‡ï¼Œä¾‹å¦‚æ›¾ç²å¥§é‹æ¯”è³½å‰ä¸‰åå¯ä»£è¡¨æˆ‘åœ‹åƒåŠ åœ‹éš›é«”è‚²ç«¶è³½ã€ç‚ºè«¾è²çˆ¾çå¾—ä¸»ç­‰ã€‚è¬è¬é ˜å‹™çµ„</li>
</ol>
<h2 id="Reference"><a href="#Reference" class="headerlink" title="Reference"></a>Reference</h2><ul>
<li><a href="http://blog.renren.com/share/242960035/11109454021" target="_blank" rel="external">ã€å°æ¹¾ã€æ•™æµ·å¤–çš„å¤§é™†äººæ€ä¹ˆæ‹¿å°æ¹¾æŠ¤ç…§<del>~</del>~~~ï¼ˆè½¬å¤©æ¶¯ï¼‰</a></li>
<li><a href="https://www.zhihu.com/question/20026810" target="_blank" rel="external">å¦‚ä½•æ‹¿å°æ¹¾æŠ¤ç…§ï¼Ÿ</a></li>
</ul>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[æ·±åº¦å­¦ä¹ ä¸è®¡ç®—æœºè§†è§‰ - å†å²å›é¡¾ä¸ä»‹ç»]]></title>
      <url>http://iequa.com/2018/09/01/deeplearning-CS231n-P1/</url>
      <content type="html"><![CDATA[<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js"],
    jax: ["input/TeX"],
    tex2jax: {
      inlineMath: [ ['$','$'], ['\\(','\\)'] ],
      displayMath: [ ['$$','$$']],
      processEscapes: true
    }
  });
</script>
<script type="text/javascript" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS_HTML,http://myserver.com/MathJax/config/local/local.js">
</script>

<p>1966å¹´æ˜¯è®¡ç®—æœºè§†è§‰çš„è¯ç”Ÿå¹´</p>
<p>CVPRã€ICCV</p>
<a id="more"></a>
<p>ç¬¬ä¸€é¢†æ‚Ÿ : Hubel å’Œ Wiesel  ä»ç®€å•çš„å½¢çŠ¶å¼€å§‹<br>ç¬¬äºŒé¢†æ‚Ÿ : David Marr ã€Šè§†è§‰ã€‹ è§†è§‰æ˜¯åˆ†å±‚çš„</p>
<p>æ·±åº¦å­¦ä¹ æ¶æ„çš„åŸºçŸ³</p>
<p>æ„ŸçŸ¥åˆ†ç»„</p>
<p>ImageNet</p>
<p>2012å¹´æ˜¯å†å²æ€§æ—¶åˆ»çš„ä¸€å¹´ï¼Œæå‡ºäº† CNN .</p>
<p>ImageNet ç«èµ› 2010å¹´ å¼€å§‹ä¸¾åŠç«èµ›<br>ImageNet ç«èµ› 2012å¹´ 7å±‚ CNN è·èƒœ<br>ImageNet ç«èµ› 2015å¹´ 151å±‚ CNN è·èƒœï¼Œ MS æ·±åº¦æ®‹å·®ç½‘ç»œ.</p>
<p>è®¡ç®—æœºè§†è§‰æ™ºèƒ½æ¯”ç‰©ä½“è¯†åˆ«è¦æ›´ä¸ºä»»é‡è€Œé“è¿œ</p>
<p>è®¡ç®—æœºè§†è§‰çš„æ„¿æ™¯æ˜¯ ï¼š å¯ä»¥çœ‹å›¾è®²æ•…äº‹</p>
<h2 id="Reference"><a href="#Reference" class="headerlink" title="Reference"></a>Reference</h2><ul>
<li><a href="https://study.163.com/my#/smarts" target="_blank" rel="external">ç½‘æ˜“äº‘è¯¾å ‚ - deeplearning</a></li>
<li><a href="http://www.cnblogs.com/marsggbo/p/7470989.html" target="_blank" rel="external">DeepLearning.aiå­¦ä¹ ç¬”è®°æ±‡æ€»</a></li>
<li><a href="https://zhuanlan.zhihu.com/p/21353567" target="_blank" rel="external">æ–¯å¦ç¦CS231Nè¯¾ç¨‹å­¦ä¹ ç¬”è®°ï¼ˆä¸€ï¼‰.è¯¾ç¨‹ç®€ä»‹ä¸å‡†å¤‡</a></li>
<li><a href="https://blog.csdn.net/tMb8Z9Vdm66wH68VX1/article/details/78537000" target="_blank" rel="external">æé£é£CS231n2017è¯¾ç¨‹åŒè¯­å­—å¹•ç‰ˆä¸Šçº¿ !ï¼ˆé™„è¯¾ç¨‹é“¾æ¥ï¼‰</a></li>
</ul>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[Convolutional Neural Networks (week3) - Object detection]]></title>
      <url>http://iequa.com/2018/09/01/deeplearning-ai-Convolutional-Neural-Networks-week3/</url>
      <content type="html"><![CDATA[<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js"],
    jax: ["input/TeX"],
    tex2jax: {
      inlineMath: [ ['$','$'], ['\\(','\\)'] ],
      displayMath: [ ['$$','$$']],
      processEscapes: true
    }
  });
</script>
<script type="text/javascript" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS_HTML,http://myserver.com/MathJax/config/local/local.js">
</script>

<p>çŸ¥é“å¦‚ä½•å°†å·ç§¯ç½‘ç»œåº”ç”¨åˆ°è§†è§‰æ£€æµ‹å’Œè¯†åˆ«ä»»åŠ¡ã€‚ çŸ¥é“å¦‚ä½•ä½¿ç”¨ç¥ç»é£æ ¼è¿ç§»ç”Ÿæˆè‰ºæœ¯ã€‚</p>
<a id="more"></a>
<h2 id="1-Object-Localization"><a href="#1-Object-Localization" class="headerlink" title="1. Object Localization"></a>1. Object Localization</h2><p>è¿™ä¸€å°èŠ‚è§†é¢‘ä¸»è¦ä»‹ç»äº†æˆ‘ä»¬åœ¨å®ç°ç›®æ ‡å®šä½æ—¶æ ‡ç­¾è¯¥å¦‚ä½•å®šä¹‰</p>
<p><img src="/images/deeplearning/C4W3-1_1.png" width="750"></p>
<p>è¾“å‡º softmax çš„åŒæ—¶ï¼Œåœ¨è¾“å‡º4ä¸ªå€¼ $b_x,b_y,b_w,b_h$, è¾¹ç•Œæ¡†çš„å…·ä½“ä½ç½® ï¼ˆå›¾ç‰‡å·¦ä¸Šè§’åæ ‡ä¸º (0, 0)ï¼Œ å³ä¸‹è§’ä¸º (1, 1) )</p>
<blockquote>
<p>åœ¨ä¸Šé¢çš„ä¾‹å­ä¸­ï¼Œ$b_x$ çš„å€¼å¤§çº¦ä¸º 0.5ï¼Œ$b_y$ çš„å€¼å¤§çº¦ä¸º 0.7ï¼Œæœ€ä½³ä½ç½®.</p>
</blockquote>
<p><strong>how we define the target label $y$ for this as a supervised learning task.</strong></p>
<p><img src="/images/deeplearning/C4W3-2_1.png" width="750"></p>
<blockquote>
<p>ä¸Šå›¾å·¦ä¸‹è§’ç»™å‡ºäº†æŸå¤±å‡½æ•°çš„è®¡ç®—å…¬å¼ (è¿™é‡Œä½¿ç”¨çš„æ˜¯å¹³æ–¹å·®)</p>
<p>æ³¨æ„: æˆ‘ä»¬å‡è®¾å›¾åƒä¸­å­˜åœ¨è¿™ä¸‰è€… (<strong>pedestrian</strong>ï¼Œ<strong>car</strong>ï¼Œ<strong>motorcycles</strong>) ä¸­çš„ä¸€ç§ æˆ–è€… éƒ½ä¸å­˜åœ¨ï¼Œæ‰€ä»¥å…±æœ‰å››ç§å¯èƒ½.</p>
</blockquote>
<p>$P_c=1$ <strong>è¡¨ç¤ºæœ‰ä¸‰è€…ä¸­çš„ä¸€ç§</strong></p>
<ul>
<li><p>$C_1=1$ è¡¨ç¤ºæœ‰ pedestrianï¼Œåä¹‹æ²¡æœ‰</p>
</li>
<li><p>$C_2=1$ è¡¨ç¤ºæœ‰ car</p>
</li>
<li><p>$C_3=1$ è¡¨ç¤ºæœ‰ motorcycles</p>
</li>
</ul>
<p>$b_*$ <strong>ç”¨äºæ ‡è¯†æ‰€è¯†åˆ«é£Ÿç‰©çš„ä½ç½®</strong></p>
<ul>
<li><p>$b_x,b_y$: è¡¨ç¤ºè¯†åˆ«ç‰©ä½“çš„ä¸­å¿ƒåæ ‡</p>
</li>
<li><p>$b_w,b_h$: è¡¨ç¤ºè¯†åˆ«ç‰©ä½“çš„å®½å’Œé«˜</p>
</li>
</ul>
<p><img src="/images/deeplearning/C4W3-3.png" width="450"></p>
<blockquote>
<p>æ³¨æ„: $P_c=0$ è¡¨ç¤ºä¸‰è€…éƒ½æ²¡æœ‰ï¼Œæ‰€ä»¥æ­¤æ—¶ $C_*,b_*$ çš„å€¼æˆ‘ä»¬å¹¶ä¸åœ¨ä¹äº†.</p>
<p>ä¸ºäº†è®©å¤§å®¶ä¾¿äºäº†è§£å¯¹è±¡å®šä½çš„ç»†èŠ‚ï¼Œè¿™é‡Œæˆ‘ç”¨å¹³æ–¹è¯¯å·®ç®€åŒ–äº†æè¿°è¿‡ç¨‹. (å®é™…åº”ç”¨ä¸­ $P_c$ æ›´å¤šæ˜¯åº”ç”¨é€»è¾‘å›å½’å‡½æ•°)</p>
</blockquote>
<h2 id="2-Landmark-Detection"><a href="#2-Landmark-Detection" class="headerlink" title="2. Landmark Detection"></a>2. Landmark Detection</h2><p>ç‰¹å¾ç‚¹æ£€æµ‹ï¼Œè¿™ä¸€èŠ‚çš„å†…å®¹å’Œä¸Šä¸€èŠ‚æ„Ÿè§‰å¾ˆç±»ä¼¼.</p>
<p><img src="/images/deeplearning/C4W3-4_1.png" width="750"></p>
<blockquote>
<p>è¦è¾“å‡ºçœ¼è§’çš„ä½ç½®ï¼Œä½ å¯ä»¥è®©ç¥ç»ç½‘ç»œè¾“å‡ºçš„æœ€åä¸€å±‚ï¼Œå¤šè¾“å‡º 2 ä¸ªæ•°å­— $l_x, l_y$.</p>
<p>å‡è®¾ è„¸éƒ¨ æœ‰ 64 ä¸ªç‰¹å¾ç‚¹. å…·ä½“åšæ³•æ˜¯å‡†å¤‡ä¸€ä¸ª CNN å’Œ ä¸€äº›å…³é”®ç‰¹å¾é›†. å°†äººè„¸å›¾ç‰‡è¾“å…¥ CNN. è¾“å‡º 1 æˆ–è€… 0. </p>
<p>1 è¡¨ç¤ºæœ‰ äººè„¸ã€‚ è¿™é‡Œä¸€å…±æœ‰ <strong>128 + 1</strong> ä¸ªè¾“å‡ºå•å…ƒï¼Œå› ä¸ºæœ‰ 64 ä¸ªç‰¹å¾ 64 * 2ï¼Œ æ¥å®ç°å¯¹äººè„¸çš„æ£€æµ‹å’Œå®šä½.</p>
<p>Snapchat åº”ç”¨ï¼ŒAR (Augmented Reality) å¢å¼ºç°å® Filter æœ‰æ‰€äº†è§£ï¼ŒSnapchat Filter å®ç°äº†åœ¨äººè„¸ä¸Šç”»çš‡å†  è¿˜æœ‰ä¸€äº›å…¶ä»–æ•ˆæœã€‚æ£€æµ‹è„¸éƒ¨ç‰¹å¾ä¹Ÿæ˜¯è®¡ç®—æœºå›¾å½¢å­¦çš„å…³é”®æ„é€ æ¨¡å—.</p>
<p>æœ€åä¸€ä¸ªä¾‹å­æ˜¯ï¼Œæ£€æµ‹äººä½“å§¿æ€.</p>
</blockquote>
<h2 id="3-Object-Detection"><a href="#3-Object-Detection" class="headerlink" title="3. Object Detection"></a>3. Object Detection</h2><p>å‡è®¾ä½ æƒ³æ„é€ ä¸€ä¸ªæ±½è½¦æ£€æµ‹ç®—æ³•:</p>
<ol>
<li>é¦–å…ˆï¼Œåˆ›å»ºä¸€ä¸ªæ ‡ç­¾è®­ç»ƒé›† Training Setï¼Œ ä¹Ÿå°±æ˜¯ $x$ å’Œ $y$</li>
<li>é€‰å®šä¸€ä¸ªå¤§å°ç¡®å®šçš„çª—å£ï¼Œè¾“å…¥ CNNï¼ŒCNN å¼€å§‹é¢„æµ‹çº¢è‰²æ–¹æ¡†ä¸­æ˜¯å¦æœ‰æ±½è½¦.</li>
<li>ç„¶åï¼Œæ»‘åŠ¨çª—å£ç»§ç»­, çº¢è‰²æ–¹æ¡†ç¨å‘å³æ»‘åŠ¨ä¹‹åçš„åŒºåŸŸ, å¤„ç†ä¸‹ä¸€ä¸ªï¼Œè¾“å…¥ CNN..</li>
<li>ä¾æ¬¡é‡å¤æ“ä½œ.., çŸ¥é“è¿™ä¸ªçº¢è‰²çš„çª—å£æ»‘è¿‡æ¯ä¸€ä¸ªè§’è½ã€‚</li>
<li>å¦‚æœä¸Šé¢åˆ°æœ€åè§’è½è¿˜æ˜¯æ²¡æœ‰æ£€æµ‹åˆ°æ±½è½¦ï¼Œ é‚£ä¹ˆé€‰ç”¨æ›´å¤§çš„çª—å£ï¼Œç„¶åè¿˜æ˜¯ä»¥å›ºå®šæ­¥é•¿..ä¾æ¬¡é‡å¤..æ»‘è¿‡..æ£€æµ‹</li>
</ol>
<p>è¿™ä¸ªç®—æ³•å«åš : <strong>æ»‘åŠ¨çª—å£ç›®æ ‡æ£€æµ‹</strong></p>
<p><img src="/images/deeplearning/C4W3-5_1.png" width="750"></p>
<p>ç›®æ ‡æ£€æµ‹å¸¸ä½¿ç”¨çš„æ˜¯æ»‘åŠ¨çª—å£æŠ€æœ¯æ£€æµ‹ï¼Œå³ä½¿ç”¨ä¸€å®šå¤§å°çš„çª—å£æŒ‰ç…§æŒ‡å®šçš„æ­¥é•¿å¯¹å›¾åƒè¿›è¡Œéå†</p>
<p><img src="/images/deeplearning/C4W3-6.jpg" width="750"></p>
<p>å› ä¸ºå›¾åƒä¸­è½¦è¾†çš„å¤§å°æˆ‘ä»¬æ˜¯ä¸çŸ¥é“çš„ï¼Œæ‰€ä»¥å¯ä»¥æ›´æ”¹çª—å£å¤§å°ï¼Œä»è€Œè¯†åˆ«å¹¶å®šä½å‡ºè½¦è¾†çš„ä½ç½®ã€‚</p>
<p><img src="/images/deeplearning/C4W3-7_1.png" width="750"></p>
<p><img src="/images/deeplearning/C4W3-8_1.png" width="750"></p>
<blockquote>
<p><strong>æ»‘åŠ¨çª—å£ç›®æ ‡æ£€æµ‹</strong> ç®—æ³•çš„ç¼ºç‚¹å°±æ˜¯è®¡ç®—æˆæœ¬çš„é—®é¢˜.</p>
<ol>
<li>å¦‚æœä½ æŠŠçª—å£è°ƒå¤§ï¼Œæ˜¾ç„¶ä¼šå‡å°‘è¾“å…¥CNNçš„çª—å£ä¸ªæ•°ï¼Œä½†æ˜¯ç²—ç²’åº¦å¯èƒ½ä¼šå½±å“æ€§èƒ½.</li>
<li>å¦‚æœé‡‡ç”¨å°ç²’åº¦ï¼Œé‚£ä¹ˆè¾“å…¥ç»™CNNçš„çª—å£ä¸ªæ•°å°±ä¼šç‰¹åˆ«å¤šã€‚è¿™æ„å‘³ç€è¶…é«˜è®¡ç®—æˆæœ¬.</li>
</ol>
<p>äººä»¬é€šå¸¸é‡‡ç”¨æ›´ç®€å•çš„åˆ†ç±»å™¨åšå¯¹è±¡æ£€æµ‹. æ¯”å¦‚ç®€å•çš„çº¿æ€§åˆ†ç±»å™¨. è®¡ç®—æˆæœ¬å°±ä¼šå¾ˆä½. æ»‘åŠ¨çª—å£ç®—æ³•è¡¨ç°è‰¯å¥½. ç„¶è€Œ CNN è¿è¡Œå•ä¸ªåˆ†ç±»ä»»åŠ¡çš„æˆæœ¬ç¡®é«˜å¾—å¤šã€‚ è¿™æ ·çš„æ»‘åŠ¨çª—å£å¤ªæ…¢äº†ã€‚</p>
<p>åº†å¹¸çš„æ˜¯ï¼Œäººä»¬å·²ç»æ‰¾åˆ°äº†æ–¹æ³•è§£å†³è®¡ç®—æˆæœ¬ï¼Œä¸‹ä¸€èŠ‚è§.</p>
</blockquote>
<h2 id="4-Convolutional-Implementation-of-Sliding-Windows"><a href="#4-Convolutional-Implementation-of-Sliding-Windows" class="headerlink" title="4. Convolutional Implementation of Sliding Windows"></a>4. Convolutional Implementation of Sliding Windows</h2><blockquote>
<p>æ³¨æ„ï¼šè¯¥èŠ‚è§†é¢‘çš„ä¾‹å­å’Œä¸Šä¸€èŠ‚ä¸€æ ·ï¼Œéƒ½æ˜¯è¯†åˆ«å›¾åƒä¸­æ˜¯å¦æœ‰ pedestrianï¼Œcarï¼Œmotorcyclesï¼Œbackgroundï¼Œæ‰€ä»¥æœ€åè¾“å‡ºyæ˜¯ 4ä¸ªèŠ‚ç‚¹</p>
</blockquote>
<h3 id="4-1-å…¨è¿æ¥å±‚â†’å·ç§¯å±‚"><a href="#4-1-å…¨è¿æ¥å±‚â†’å·ç§¯å±‚" class="headerlink" title="4.1 å…¨è¿æ¥å±‚â†’å·ç§¯å±‚"></a>4.1 å…¨è¿æ¥å±‚â†’å·ç§¯å±‚</h3><p>åœ¨ä»‹ç»å·ç§¯æ»‘åŠ¨çª—å£ä¹‹å‰æˆ‘ä»¬é¦–å…ˆè¦çŸ¥é“å¦‚ä½•æŠŠç¥ç»ç½‘ç»œçš„<strong>å…¨è¿æ¥å±‚</strong>è½¬åŒ–æˆ<strong>å·ç§¯å±‚</strong>ï¼Œä¸‹é¢æ˜¯ä½¿ç”¨äº†å…¨è¿æ¥å±‚çš„ç½‘ç»œç»“æ„</p>
<p><img src="/images/deeplearning/C4W3-9_1.png" width="750"></p>
<p>é‚£ä¹ˆå¦‚ä½•å°†<strong>å…¨è¿æ¥å±‚è½¬åŒ–æˆå·ç§¯å±‚</strong>å‘¢ï¼Ÿå¦‚ä¸‹å›¾ç¤º</p>
<p><img src="/images/deeplearning/C4W3-10_1.png" width="750"></p>
<p>æˆ‘ä»¬å¯ä»¥çœ‹åˆ°ç»è¿‡ Max Pooling ä¹‹åçš„æ•°æ®å¤§å°æ˜¯ (5, 5, 16), ç¬¬ä¸€ä¸ªFCå±‚æ˜¯ 400 ä¸ªèŠ‚ç‚¹ã€‚æˆ‘ä»¬å¯ä»¥ä½¿ç”¨ 400 ä¸ª 5*5 çš„è¿‡æ»¤å™¨è¿›è¡Œå·ç§¯è¿ç®—ï¼Œéšåæˆ‘ä»¬å°±å¾—åˆ°äº† (1, 1, 400) çš„çŸ©é˜µã€‚</p>
<p>ç¬¬äºŒä¸ª FCå±‚ ä¹Ÿæ˜¯ 400 ä¸ªèŠ‚ç‚¹ï¼Œç”±ä¹‹å‰çš„ 1*1 è¿‡æ»¤å™¨çš„ç‰¹ç‚¹ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨ 400 ä¸ª 1*1 çš„è¿‡æ»¤å™¨ï¼Œä¹Ÿå¯ä»¥å¾—åˆ° (1,1,400) çš„çŸ©é˜µã€‚è‡³æ­¤ï¼Œæˆ‘ä»¬å·²ç»æˆåŠŸå°†å…¨è¿æ¥å±‚è½¬åŒ–æˆäº†å·ç§¯å±‚ã€‚</p>
<blockquote>
<p>ä»¥ä¸Šå°±æ˜¯ç”¨å·ç§¯å±‚ä»£æ›¿å…¨è¿æ¥å±‚çš„è¿‡ç¨‹ï¼Œ ä¸‹é¢å†çœ‹å¦‚ä½•é€šè¿‡å·ç§¯å®ç°æ»‘åŠ¨çª—å£å¯¹è±¡æ£€æµ‹ç®—æ³•ï¼Œå€Ÿé‰´ OverFeat Paperã€‚</p>
</blockquote>
<h3 id="4-2-å·ç§¯æ»‘åŠ¨çª—å£å®ç°"><a href="#4-2-å·ç§¯æ»‘åŠ¨çª—å£å®ç°" class="headerlink" title="4.2 å·ç§¯æ»‘åŠ¨çª—å£å®ç°"></a>4.2 å·ç§¯æ»‘åŠ¨çª—å£å®ç°</h3><p>ç›®æ ‡æ£€æµ‹ä¸€èŠ‚ä¸­ä»‹ç»äº†æ»‘åŠ¨çª—å£ã€‚è¦å®ç°çª—å£éå†ï¼Œé‚£ä¹ˆå°±éœ€è¦å¾ˆå¤§çš„è®¡ç®—é‡ï¼ŒBut å¤§ç¥ä»¬è‡ªç„¶å·²ç»æœ‰äº†è§£å†³åŠæ³•ã€‚</p>
<p>æ³¨æ„: ä¸‹é¢çš„ç¬¬ä¸€å¹…å›¾ï¼ŒAndrew Ng ä¸ºäº†æ–¹ä¾¿åªèŠ±äº†å¹³é¢å›¾ï¼Œå°±æ²¡æœ‰ç”»å‡º3Dçš„æ•ˆæœäº†ã€‚</p>
<p><strong>é¦–å…ˆæˆ‘ä»¬å…ˆçœ‹ä¸‹å›¾ï¼Œè¿™å°±æ˜¯ä¸Šé¢æåˆ°çš„å°†å…¨è¿æ¥å±‚è½¬åŒ–æˆå·ç§¯å±‚çš„ç¤ºæ„å›¾:</strong></p>
<p><img src="/images/deeplearning/C4W3-11_1.png" width="750"></p>
<p>ä¸‹é¢ï¼Œå‡è®¾æˆ‘ä»¬çš„æµ‹è¯•å›¾å¤§å°æ˜¯ 16*16ï¼Œå¹¶ä»¤æ»‘åŠ¨çª—å£å¤§å°æ˜¯ 14*14 çš„ (ä¸ºäº†æ–¹ä¾¿ç†è§£ï¼Œä¸‹å›¾ç”¨è“è‰²æ¸…æ¥šåœ°è¡¨æ˜äº† 14*14 çª—å£çš„å¤§å°), æ­¥é•¿æ˜¯ 2ï¼Œæ‰€ä»¥è¿™ä¸ªæµ‹è¯•å›¾å¯ä»¥è¢«çª—å£åˆ’åˆ†æˆ 4 ä¸ªéƒ¨åˆ†ã€‚éšåå’Œä¸Šé¢æ‰§è¡Œä¸€æ ·çš„æ“ä½œï¼Œæœ€åå¯ä»¥å¾—åˆ° (2,2,4) çš„çŸ©é˜µï¼ˆè¿™æ ·å‘ç°å¾ˆå¤šè®¡ç®—éƒ¨åˆ†æ˜¯é‡å¤çš„ï¼‰ï¼Œæ­¤æ—¶æˆ‘ä»¬ä¸éš¾çœ‹å‡º<strong>æµ‹è¯•å›¾è¢«æ»‘åŠ¨çª—å£é€‰å–çš„å·¦ä¸Šè§’éƒ¨åˆ†å¯¹åº”çš„ç»“æœä¹Ÿæ˜¯è¾“å‡ºçŸ©é˜µçš„å·¦ä¸Šè§’éƒ¨åˆ†ï¼Œå…¶ä»–3ä¸ªéƒ¨åˆ†åŒç†</strong>ã€‚</p>
<p><img src="/images/deeplearning/C4W3-12_1.png" width="750"></p>
<blockquote>
<p>æ‰€ä»¥è¿™è¯´æ˜äº†ä»€ä¹ˆï¼Ÿ</p>
<p>è¯´æ˜æˆ‘ä»¬æ²¡æœ‰å¿…è¦ç”¨æ»‘åŠ¨çª—å£æˆªå–ä¸€éƒ¨åˆ†ï¼Œç„¶åå¸¦å…¥å·ç§¯ç½‘ç»œè¿ç®—ã€‚ç›¸åæˆ‘ä»¬å¯ä»¥æ•´ä½“è¿›è¡Œè¿ç®—ï¼Œè¿™æ ·é€Ÿåº¦å°±å¿«å¾ˆå¤šäº†ã€‚</p>
</blockquote>
<p>ä¸‹å›¾å¾ˆæ¸…æ¥šçš„å±•ç¤ºäº†å·ç§¯æ»‘åŠ¨çª—å£çš„å®ç°ã€‚æˆ‘ä»¬å¯ä»¥çœ‹åˆ°å›¾ç‰‡è¢«åˆ’åˆ†æˆäº† 64 å—</p>
<p><img src="/images/deeplearning/C4W3-13_1.png" width="750"></p>
<p><img src="/images/deeplearning/C4W3-14_1.png" width="750"></p>
<blockquote>
<p>ç›®å‰è¿™ä¸ªç®—æ³•è¿˜æœ‰ä¸€ä¸ªç¼ºç‚¹ï¼Œå°±æ˜¯è¾¹ç•Œæ¡†çš„ä½ç½®å¯èƒ½ä¸å¤Ÿå‡†ç¡®ï¼Œä¸‹ä¸€èŠ‚ï¼Œæˆ‘ä»¬å°†å­¦ä¹ è§£å†³è¿™ä¸ªç¼ºç‚¹ã€‚</p>
</blockquote>
<h2 id="5-Bounding-Box-Predictions"><a href="#5-Bounding-Box-Predictions" class="headerlink" title="5. Bounding Box Predictions"></a>5. Bounding Box Predictions</h2><p>ä¸Šé¢ä»‹ç»çš„æ»‘åŠ¨çª—å£æ–¹æ³•å­˜åœ¨ä¸€ä¸ªé—®é¢˜å°±æ˜¯å¾ˆå¤šæƒ…å†µä¸‹æ»‘åŠ¨çª—å£å¹¶ä¸èƒ½å¾ˆå¥½çš„åˆ‡å‰²å‡ºè½¦ä½“ï¼Œå¦‚ä¸‹å›¾ç¤ºï¼š</p>
<p><img src="/images/deeplearning/C4W3-15.png" width="400"></p>
<blockquote>
<p>ä¸Šé¢ä¸­çš„è“è‰²æ¡†å¯èƒ½æ˜¯æ»‘åŠ¨çª—å£çš„æ—¶å€™ï¼Œæœ€ä½³çš„åŒ¹é…ä½ç½®äº†ï¼Œä½†æ˜¯å…¶å®æˆ‘ä»¬äººçœ‹åï¼Œå…¶å®å¾ˆæ˜æ˜¾å‘ç°ï¼Œè¿™å¹¶ä¸æ˜¯ï¼Œè¿™å°±æ˜¯æˆ‘ä»¬è¦è§£å†³çš„é—®é¢˜æ‰€åœ¨. å…¶å®æœ€ä½³çš„åŒ¹é…ä½ç½®åº”è¯¥æ˜¯çº¢è‰²çš„æ¡†ï¼Œç¨å¾®æœ‰ç‚¹é•¿æ–¹å½¢ï¼Œé•¿å®½æ¯”æœ‰ç‚¹å‘æ°´å¹³æ–¹å‘å»¶ä¼¸.</p>
<p>ä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œå°±æœ‰äº† <strong>YOLO (you only look once)</strong> ç®—æ³•ï¼Œå³åªéœ€è¦è®¡ç®—ä¸€æ¬¡ä¾¿å¯ç¡®å®šéœ€è¦è¯†åˆ«ç‰©ä½“çš„ä½ç½®çš„å¤§å°ã€‚</p>
</blockquote>
<p><strong>åŸç†å¦‚ä¸‹ï¼š</strong></p>
<p>é¦–å…ˆå°†å›¾åƒåˆ’åˆ†æˆ 3*3 (å³9ä»½)ï¼Œæ¯ä¸€ä»½æœ€åç”±ä¸€ä¸ªå‘é‡è¡¨ç¤ºï¼Œè¿™ä¸ªå‘é‡åœ¨æœ¬æ–‡æœ€å‰é¢ä»‹ç»è¿‡ï¼Œå³</p>
<p>$$<br>y=[P_c,b_x,b_y,b_h,b_w,c_1,c_2,c_3]<br>$$</p>
<p><img src="/images/deeplearning/C4W3-16.png" width="450"></p>
<blockquote>
<p>å¦‚æœä¸€ä¸ªæ ¼å­ä¸­æœ‰ä¸¤ä¸ªå¯¹è±¡ï¼Œé‚£ä¹ˆå°±å½“åšè¿™ä¸ªæ ¼å­ä¸­ä¸å­˜åœ¨å¯¹è±¡. æŒ‰ç…§ $P_c = 0$ å¤„ç†. </p>
<p>(å¦‚æœæ˜¯ 19 * 19 çš„æƒ…å†µï¼Œä¸¤ä¸ªå¯¹è±¡çš„ä¸­ç‚¹åˆ†é…åˆ°ä¸€ä¸ªæ ¼å­çš„æƒ…å†µï¼Œå…¶å®ç‰¹åˆ«ä½)</p>
</blockquote>
<p>å› ä¸ºæœ‰ 9 ä»½ï¼Œæ‰€ä»¥æœ€åè¾“å‡ºçŸ©é˜µå¤§å°æ˜¯ (3,3,8) , å¦‚ä¸‹å›¾ç¤ºï¼š</p>
<p><img src="/images/deeplearning/C4W3-17_1.png" width="750"></p>
<p>é‚£ä¹ˆå¦‚ä½•æ„å»ºå·ç§¯ç½‘ç»œå‘¢ï¼Ÿ</p>
<p>è¾“å…¥çŸ©é˜µæ˜¯ (100, 100, 3), ç„¶åæ˜¯ Convï¼ŒMaxpool å±‚ï¼Œâ€¦â€¦ï¼Œæœ€ååªè¦ç¡®ä¿è¾“å‡ºçŸ©é˜µå¤§å°æ˜¯ (3,3,8) å³å¯ã€‚</p>
<p><img src="/images/deeplearning/C4W3-18_1.png" width="750"></p>
<blockquote>
<p>è¿™æ˜¯ä¸€ä¸ªå·ç§¯å®ç°ï¼Œä½ å¹¶æ²¡æœ‰åœ¨ 3 * 3 ç½‘æ ¼ä¸Šè·‘ 9 æ¬¡ç®—æ³•ï¼Œ19 * 19 åŒæ ·ä½ ä¸éœ€è¦ç½‘æ ¼ä¸Šè·‘ 361 æ¬¡ï¼Œç›¸åè¿™æ˜¯å•æ¬¡å·ç§¯çš„å®ç°ï¼Œä½†ä½ <strong>ä½¿ç”¨äº†ä¸€ä¸ªå·ç§¯ç½‘ç»œ</strong>ï¼Œæœ‰å¾ˆå¤šå…±äº«è®¡ç®—æ­¥éª¤ï¼Œæ¯”å¦‚åœ¨å¤„ç†è¿™ 3 * 3 è®¡ç®—ä¸­å¾ˆå¤šè®¡ç®—æ­¥éª¤æ˜¯å…±äº«çš„. æ‰€ä»¥è¿™ä¸ªç®—æ³•çš„æ•ˆç‡å¾ˆé«˜.</p>
<p>YOLO ç®—æ³•æœ‰ä¸€ä¸ªå¥½å¤„æ˜¯ï¼Œå®ƒçš„è®¡ç®—ç‰¹åˆ«å¿«ï¼Œå¯ä»¥è¾¾åˆ°å®æ—¶è¯†åˆ«ã€‚</p>
</blockquote>
<p><strong>ä¸‹å›¾æ˜¯ä»¥å³è¾¹çš„è½¦è¾†ä½œä¸ºç¤º</strong>ä¾‹ä»‹ç»è¯¥è½¦è¾†æ‰€åœ¨æ¡†çš„è¾“å‡ºçŸ©é˜µ</p>
<blockquote>
<ul>
<li>å¾ˆæ˜¾ç„¶ $P_c=1$</li>
<li>ç„¶å $b_x,b_y$ çš„å€¼æ˜¯å³è¾¹è½¦è¾†çš„ä¸­å¿ƒç‚¹ç›¸å¯¹äºè¯¥æ¡†çš„ä½ç½®,æ‰€ä»¥å®ƒä»¬çš„å€¼æ˜¯ä¸€å®šå°äº 1 çš„ï¼Œæˆ‘ä»¬å¯ä»¥å¾ˆå®¹æ˜“çš„å¾—åˆ°è¿‘ä¼¼å€¼ $b_x=0.4, b_y=0.3$</li>
<li>$b_h,b_w$ çš„å€¼åŒç†ä¹Ÿæ˜¯è½¦è¾†çš„å®½é«˜ç›¸å¯¹äºå…¶æ‰€åœ¨æ¡†çš„æ¯”ä¾‹ï¼Œä½†æ˜¯è¦æ³¨æ„çš„æ˜¯è¿™ä¸¤ä¸ªå€¼æ˜¯å¯ä»¥å¤§äº 1 çš„ï¼Œå› ä¸ºæœ‰å¯èƒ½éƒ¨åˆ†è½¦èº«åœ¨æ¡†å¤–ã€‚ä½†æ˜¯ä¹Ÿå¯ä»¥ä½¿ç”¨ sigmoidå‡½æ•° å°†å€¼æ§åˆ¶åœ¨ 1 ä»¥å†…ã€‚</li>
</ul>
</blockquote>
<p><img src="/images/deeplearning/C4W3-19_1.png" width="750"></p>
<blockquote>
<p>è¿™é‡Œæˆ‘ç”¨ 3 * 3 çš„ç½‘æ ¼è¯´æ˜ï¼Œåœ¨å®è·µä¸­å¯èƒ½ 19 * 19 çš„ç½‘æ ¼ä¼šç²¾ç»†çš„å¤š.</p>
<p>é¿å…æŠŠ å¤šä¸ª å¯¹è±¡åˆ†é…åˆ°åŒä¸€ä¸ªæ ¼å­ä¸­ï¼Œè§‚å¯Ÿè¿™ä¸ªå¯¹è±¡çš„ä¸­ç‚¹ï¼Œç„¶åå°†å›¾åƒå¯¹è±¡åˆ†é…åˆ°å…¶ä¸­ç‚¹æ‰€åœ¨çš„æ ¼å­. 19 * 19 çš„ç½‘æ ¼, ä¸¤ä¸ªå¯¹è±¡çš„ä¸­ç‚¹å¤„äºåŒä¸€ä¸ªæ ¼å­çš„æ¦‚ç‡ä¼šæ›´ä½.</p>
<p>ä¸Šé¢å´å¤§å¤§ç»™å‡ºçš„æ˜¯ä¸€ä¸ªåˆç†çš„çº¦å®šï¼Œä½¿ç”¨èµ·æ¥åº”è¯¥æ²¡ä»€ä¹ˆé—®é¢˜. å…¶å®è¿˜æœ‰å…¶ä»–æ›´å¤æ‚çš„å‚æ•°åŒ–å½¢å¼.</p>
<p>YOLO çš„è®ºæ–‡æ˜¯ç›¸å¯¹éš¾åº¦è¾ƒé«˜çš„è®ºæ–‡, Andrew Ng çœ‹çš„æ—¶å€™ä¹Ÿçœ‹ä¸æ‡‚å¾ˆå¤š.</p>
</blockquote>
<h2 id="6-Intersection-Over-Union"><a href="#6-Intersection-Over-Union" class="headerlink" title="6. Intersection Over Union"></a>6. Intersection Over Union</h2><p>å¦‚ä½•è¯„ä»·å¯¹è±¡æ£€æµ‹ç®—æ³•å‘¢ï¼ŒIOU äº¤å¹¶æ¯”å‡½æ•°å¯ä»¥ç”¨æ¥è¯„ä»·å¯¹è±¡æ£€æµ‹ç®—æ³•ã€‚</p>
<p>å‰é¢è¯´åˆ°äº†å®ç°ç›®æ ‡å®šä½æ—¶å¯èƒ½å­˜åœ¨ <strong>æ»‘åŠ¨çª—å£</strong> ä¸ <strong>çœŸå®è¾¹æ¡†</strong> å­˜åœ¨å‡ºå…¥ï¼Œå¦‚ä¸‹å›¾ç¤ºï¼š</p>
<p><img src="/images/deeplearning/C4W3-20.jpg" width="340"></p>
<blockquote>
<p>çº¢è‰²æ¡†æ˜¯è½¦èº«è¾¹ç•Œï¼Œç´«è‰²æ¡†æ˜¯æ»‘åŠ¨çª—å£ï¼Œé‚£ä¹ˆæ­¤çª—å£è¿”å›çš„å€¼æ˜¯æœ‰è½¦è¿˜æ˜¯æ— è½¦å‘¢ï¼Ÿ</p>
<p>ä¸ºäº†è§£å†³ä¸Šé¢çš„é—®é¢˜å¼•å…¥äº†äº¤å¹¶æ¯”(IoU)ï¼Œä¹Ÿå°±æ˜¯ä¸¤ä¸ªæ¡†ä¹‹é—´çš„äº¤é›†ä¸å¹¶é›†ä¹‹æ¯”ï¼Œä¾æ®è¿™ä¸ªå€¼å¯ä»¥è¯„ä»·å®šä½ç®—æ³•æ˜¯å¦ç²¾å‡†ã€‚</p>
</blockquote>
<p><img src="/images/deeplearning/C4W3-21_1.png" width="750"></p>
<blockquote>
<p>ä¸Šå›¾é»„è‰²åŒºåŸŸè¡¨ç¤ºç´«è‰²æ¡†å’Œçº¢è‰²æ¡†çš„äº¤é›†ï¼Œç»¿è‰²åŒºåŸŸè¡¨ç¤ºç´«è‰²æ¡†å’Œçº¢è‰²æ¡†çš„å¹¶é›†ï¼Œäº¤å¹¶æ¯”(IoU)å°±ç­‰äº é»„è‰²åŒºåŸŸå¤§å° æ¯”ä¸Š ç»¿è‰²åŒºåŸŸå¤§å°ã€‚</p>
<p>å¦‚æœ $IoU\geq0.5$ï¼Œåˆ™è¡¨ç¤ºç´«è‰²æ¡†ä¸­æœ‰è½¦è¾†ï¼Œåä¹‹æ²¡æœ‰ã€‚</p>
<p>å½“ç„¶ 0.5 è¿™ä¸ªé˜ˆå€¼æ˜¯äººä¸ºè®¾å®šçš„ï¼Œæ²¡æœ‰æ·±å…¥çš„ç§‘å­¦æ¢ç©¶ï¼Œæ‰€ä»¥å¦‚æœå¸Œæœ›ç»“æœæ›´åŠ ç²¾ç¡®ï¼Œä¹Ÿå¯ä»¥ç”¨ 0.6 æˆ– 0.7 è®¾ä¸ºé˜ˆå€¼ï¼Œä½†æ˜¯ä¸å»ºè®®ç”¨å°äº 0.5 çš„é˜ˆå€¼ã€‚</p>
<p>ä¸‹ä¸€èŠ‚è®¨è®ºè¿™ä¸ª Non-max Suppression å·¥å…·ï¼Œå¯ä»¥è®© YOLO å·¥ä½œçš„æ›´å¥½</p>
</blockquote>
<h2 id="7-Non-max-Suppression"><a href="#7-Non-max-Suppression" class="headerlink" title="7. Non-max Suppression"></a>7. Non-max Suppression</h2><blockquote>
<p><strong>éæå¤§å€¼æŠ‘åˆ¶å¯ä»¥ç¡®ä¿ä½ å¯¹æ¯ä¸ªå¯¹è±¡åªæ£€æµ‹ä¸€æ¬¡</strong>ã€‚</p>
</blockquote>
<p>ç®—æ³•å¤§è‡´æ€è·¯</p>
<p>å‰é¢ Bounding Box ä¸€èŠ‚ä¸­ä»‹ç»åˆ°å°†å›¾ç‰‡åˆ’åˆ†æˆè‹¥å¹²ç­‰åˆ†ï¼Œä¾‹å¦‚ 3*3ï¼Œé‚£ä¹ˆä¸€å…±å°±æœ‰9å—ï¼Œå¦‚ä¸‹å›¾ç¤ºï¼Œæˆ‘ä»¬å¯ä»¥å¾ˆæ¸…æ¥šçš„çœ‹åˆ°ç¬¬äºŒè¡Œç¬¬ä¸€å—å’Œç¬¬ä¸‰å—éƒ½æœ‰è½¦ï¼Œæ‰€ä»¥å¯ä»¥æ ‡å‡ºä¸€ä¸ªä¸­å¿ƒç‚¹åæ ‡ $(b_x,b_y)$ï¼Œè¿™æ ·æˆ‘ä»¬å°±èƒ½é€šè¿‡æœ€ç»ˆçš„è¾“å‡ºç»“æœçŸ¥é“è¿™ä¸¤ä¸ªæ¡†ä¸­æœ‰è½¦ã€‚</p>
<p><img src="/images/deeplearning/C4W3-22_1.png" width="550"></p>
<p>ä½†æ˜¯å¦‚æœæˆ‘ä»¬åˆ’åˆ†çš„æ•°é‡å˜å¤šä¹‹åå‘¢ï¼Ÿå¦‚ä¸‹å›¾ç¤ºåˆ’åˆ†æˆäº† 19*19ï¼Œå›¾ä¸­æ ‡å‡ºçš„ 3 ä¸ªé»„æ¡†å’Œ 3 ä¸ªç»¿æ¡†æœ€ç»ˆç»“æœéƒ½ä¼šéƒ½ä¼šè¿”å›[$P_x=1,b_x=,b_y=â€¦â€¦$]ï¼Œä½†æ˜¯æœ€åæˆ‘ä»¬è¯¥ä¿¡è°çš„å‘¢ï¼Ÿæ˜¯è¿™ä¸‰ä¸ªæ¡†çœŸçš„æœ‰è½¦ï¼Œè€Œä¸”è¿˜ä¸æ˜¯åŒä¸€è¾†è½¦ï¼Ÿè¿˜æ˜¯åªæ˜¯åŒä¸€è¾†è½¦ï¼Ÿæ‰€ä»¥å°±æœ‰äº†éæå¤§å€¼æŠ‘åˆ¶æ¥è§£å†³è¿™ä¸ªé—®é¢˜ã€‚</p>
<p><img src="/images/deeplearning/C4W3-23_1.png" width="550"></p>
<blockquote>
<p>Non-max Suppression åšçš„å°±æ˜¯æ¸…ç†è¿™äº›æ£€æµ‹ç»“æœï¼Œè¿™æ ·ä¸€è¾†è½¦åªæ£€æµ‹ä¸€æ¬¡ï¼Œè€Œä¸æ˜¯æ¯è¾†è½¦éƒ½å‡ºå‘å¤šæ¬¡æ£€æµ‹ã€‚</p>
</blockquote>
<p>å…¶æ€è·¯å¤§è‡´å¦‚ä¸‹ (ä¸ºäº†æ–¹ä¾¿è¯´æ˜å’Œç†è§£ï¼Œæˆ‘ä»¬ä¸ä½¿ç”¨ 19*19 çš„æ–¹æ¡†)ï¼š</p>
<p>é¦–å…ˆæ¯ä¸ªæ¡†ä¼šå¯¹æ˜¯å¦æœ‰ç›®æ ‡è¿”å›ä¸€ä¸ª $P_c$ çš„æ¦‚ç‡å€¼ (ä¹Ÿå¯ä»¥æ˜¯ $P_c*C_1*C_2*C_3$ çš„æ¦‚ç‡ä¹‹ç§¯)ï¼Œå¦‚ä¸‹å›¾ç¤ºï¼š</p>
<p><img src="/images/deeplearning/C4W3-24.png" width="550"></p>
<p>ç„¶åæ‰¾åˆ° $P_c$ æœ€å¤§çš„ä¸€ä¸ªæ¡†ï¼Œæ˜¾ç„¶ 0.9 çš„æ¡†æœ‰è½¦çš„æ¦‚ç‡æœ€å¤§ï¼Œæ‰€ä»¥è¯¥è¾¹æ¡†é¢œè‰²é«˜äº®</p>
<p><img src="/images/deeplearning/C4W3-25.jpg" width="550"></p>
<p><strong>ç„¶åç®—æ³•éå†å…¶ä»–è¾¹æ¡†ï¼Œæ‰¾å‡ºä¸ä¸Šä¸€ä¸ªè¾¹æ¡†çš„äº¤å¹¶æ¯”å¤§äº 0.5 çš„è¾¹æ¡†</strong>ï¼Œå¾ˆæ˜¾ç„¶å³è¾¹å‰©ä½™ä¸¤ä¸ªè¾¹æ¡†ç¬¦åˆæ¡ä»¶ï¼Œæ‰€ä»¥è¿™ä¸¤ä¸ªè¾¹æ¡†å˜æš—</p>
<p><img src="/images/deeplearning/C4W3-26.jpg" width="550"></p>
<p>å·¦è¾¹çš„è½¦åŒç†ï¼Œä¸åŠ èµ˜è¿°</p>
<p><img src="/images/deeplearning/C4W3-27.jpg" width="550"></p>
<p>ä¸‹é¢ç»“åˆä¸€ä¸ªä¾‹å­æ€»ç»“ä¸€ä¸‹ <strong>éæå¤§å€¼æŠ‘åˆ¶</strong> ç®—æ³•çš„å®ç°æ­¥éª¤ï¼š</p>
<p>åœ¨è¿™é‡Œå‡è®¾åªéœ€è¦è¯†åˆ«å®šä½è½¦è¾†å³å¯ï¼Œæ‰€ä»¥è¾“å‡ºæ ¼å¼ä¸º $P_c,b_x,b_y,b_h,b_w$</p>
<p><img src="/images/deeplearning/C4W3-28.png" width="750"></p>
<p>è¿™ä¸ªä¾‹å­ä¸­å°†å›¾åƒåˆ’åˆ†æˆ 19*19 æ–¹æ ¼ï¼Œå‡è®¾æ¯ä¸ªæ–¹æ ¼éƒ½å·²ç»è®¡ç®—å‡º $P_c$ çš„æ¦‚ç‡å€¼</p>
<blockquote>
<ol>
<li>å»æ‰æ‰€æœ‰æ»¡è¶³ $P_c â‰¤ 0.6$ çš„æ–¹æ ¼ (0.6ä¹Ÿå¯ä»¥è¿›è¡Œäººä¸ºä¿®æ”¹)</li>
<li>å¯¹å‰©ä¸‹çš„æ–¹æ ¼è¿›è¡Œå¦‚ä¸‹å¾ªç¯æ“ä½œï¼š</li>
</ol>
<ul>
<li>ä»å‰©ä¸‹çš„æ–¹æ ¼ä¸­é€‰å– $P_c$ æœ€å¤§çš„ä¸€ä¸ªä½œä¸ºé¢„æµ‹å€¼è¾“å‡ºï¼Œå‡è®¾è¿™ä¸ªæ–¹æ ¼ä¸º $A$</li>
<li>å°†ä¸ $A$ æ–¹æ ¼äº¤å¹¶æ¯”å¤§äº 0.5 çš„å‰”é™¤</li>
</ul>
</blockquote>
<h2 id="8-Anchor-Boxes"><a href="#8-Anchor-Boxes" class="headerlink" title="8. Anchor Boxes"></a>8. Anchor Boxes</h2><p>å‰é¢ä»‹ç»äº†é‚£ä¹ˆå¤šï¼Œéƒ½åªæ˜¯è¯†åˆ«å•ä¸ªç‰©ä½“ï¼Œå¦‚æœè¦åŒæ—¶è¯†åˆ«å¤šä¸ªç‰©ä½“è¯¥æ€ä¹ˆåŠå‘¢ï¼Ÿè€Œä¸”è¯†åˆ«çš„ä¸åŒç‰©ä½“çš„ä¸­å¿ƒç‚¹åœ¨åŒä¸€ä¸ªæ¡†ä¸­åˆè¯¥æ€ä¹ˆå‘¢ (å¦‚ä¸‹å›¾ç¤ºï¼Œäººå’Œè½¦çš„ä¸­å¿ƒéƒ½åœ¨çº¢ç‚¹ä½ç½®ï¼Œå¤„äºåŒä¸€ä¸ªæ¡†ä¸­)ï¼Ÿè¿™æ—¶å°±éœ€è¦ä½¿ç”¨ <strong>Anchor Boxes</strong> äº†ã€‚</p>
<p><img src="/images/deeplearning/C4W3-29.jpg" width="400"></p>
<p>Anchor Boxes æ€è·¯æ˜¯å¯¹äºä¸åŒç‰©ä½“äº‹å…ˆé‡‡ç”¨ä¸åŒçš„æ¡†ï¼Œä¾‹å¦‚äººç›¸å¯¹äºè½¦å±äºç˜¦é«˜çš„ï¼Œæ‰€ä»¥ä½¿ç”¨ä¸‹å›¾ä¸­çš„ <strong>Anchor Box 1</strong>ï¼Œç›¸åè½¦è¾†å°±ä½¿ç”¨<strong> Anchor Box 2</strong>.</p>
<p>ä¹‹å‰çš„è¾“å‡ºå€¼çš„æ ¼å¼éƒ½æ˜¯ $y=[P_x,b_x,b]_y,b_h,b_w,C_1,C_2,C_3]$ï¼Œæœ€åè¾“å‡ºçš„çŸ©é˜µå¤§å°(ä»¥è¯¥å›¾ä¸ºä¾‹) æ˜¯ (3,3,8), ä½†æ˜¯è¿™æ ·åªèƒ½ç¡®å®šä¸€ä¸ªç‰©ä½“ã€‚</p>
<p>æ‰€ä»¥ä¸ºäº†åŒæ—¶æ£€æµ‹ä¸åŒç‰©ä½“ï¼Œå¾ˆè‡ªç„¶çš„æˆ‘ä»¬å¯ä»¥é‡å¤è¾“å‡ºè¿™ä¸ªä¸Šé¢çš„å€¼å³å¯ï¼Œå³ $y = [P_x, b_x, b_y, b_h, b_w, C_1, C_2, C_3, P_x, b_x, b_y, b_h, b_w, C_1, C_2, C_3]$, æ‰€ä»¥è¾“å‡ºçŸ©é˜µæ˜¯ (3,3,16), ä¹Ÿå¯ä»¥æ˜¯(3,3,2,8)ã€‚</p>
<blockquote>
<p>è¦æ³¨æ„çš„æ˜¯æˆ‘ä»¬éœ€è¦æå‰è®¾å®šå¥½è¾“å‡ºå€¼å‰é¢çš„å€¼å¯¹åº” <strong>Anchor Box 1</strong>ï¼Œåé¢çš„å¯¹åº” <strong>Anchor Box 2</strong>.</p>
<p>ä¾‹å¦‚æˆ‘ä»¬å¾—åˆ°äº†å›¾ä¸­äººçš„è¾¹æ¡†ä¿¡æ¯å€¼ï¼Œç„¶åç»è¿‡è®¡ç®—å‘ç°å…¶è¾¹æ¡†ä¸ Anchor Box 1æ›´ä¸ºæ¥è¿‘ï¼Œæ‰€ä»¥æœ€åå°†äººçš„è¾¹æ¡†ä¿¡æ¯å¯¹åº”åœ¨å‰é¢ï¼ŒåŒç†è½¦è¾†è¾¹æ¡†ä¿¡æ¯å¯¹åº”åœ¨åé¢ã€‚</p>
</blockquote>
<p><img src="/images/deeplearning/C4W3-30_1.png" width="750"></p>
<p>æ€»ç»“èµ·æ¥ <strong>Anchor Box</strong>ç®—æ³• å’Œ ä¹‹å‰çš„ç®—æ³•åŒºåˆ«å¦‚ä¸‹ï¼š</p>
<p><strong>ä¹‹å‰çš„ç®—æ³•ï¼š</strong></p>
<blockquote>
<p>å¯¹äºè®­ç»ƒé›†å›¾åƒä¸­çš„æ¯ä¸ªå¯¹è±¡ï¼Œéƒ½æ ¹æ®é‚£ä¸ªå¯¹è±¡çš„ä¸­ç‚¹ä½ç½®åˆ†é…åˆ°å¯¹åº”çš„æ ¼å­ä¸­,æ‰€ä»¥åœ¨ä¸Šé¢çš„ç¤ºä¾‹ä¸­è¾“å‡ºyå°±æ˜¯(3,3,8)</p>
</blockquote>
<p><strong>Anchor Boxes ç®—æ³•</strong></p>
<blockquote>
<p>ç°åœ¨æ¯ä¸ªå¯¹è±¡éƒ½å’Œä¹‹å‰ä¸€æ ·åˆ†é…åˆ°åŒä¸€ä¸ªæ ¼å­ä¸­, å³å¯¹è±¡ä¸­å¿ƒæ‰€åœ¨çš„æ ¼å­ã€‚ä¸åŒçš„æ˜¯ä¹Ÿéœ€è¦åˆ†é…åˆ°å’Œå¯¹è±¡å½¢çŠ¶äº¤å¹¶æ¯”æœ€é«˜çš„ <strong>Anchor Box</strong>ã€‚</p>
</blockquote>
<p>ä¾‹å¦‚ä¸‹å›¾ä¸­çš„çº¢è‰²æ¡†ä¸ä»…è¦åˆ†é…åˆ°å…¶ä¸­å¿ƒæ‰€åœ¨çš„å›¾åƒä¸Šçš„æ ¼å­ä¸­ï¼Œè€Œä¸”è¿˜éœ€è¦åˆ†é…åˆ°ä¸å…¶äº¤å¹¶æ¯”æœ€å¤§çš„ <strong>Anchor Box</strong> ä¸­ï¼Œå³ç«–æ¡çš„ç´«è‰²æ–¹æ ¼ã€‚</p>
<p><img src="/images/deeplearning/C4W3-31_1.png" width="750"></p>
<p>å›åˆ°æœ¬å°èŠ‚æœ€å¼€å§‹çš„ä¾‹å­ï¼Œæœ€åçš„è¾“å‡ºå€¼å¦‚ä¸‹å›¾ç¤ºï¼š</p>
<p>å›¾ä¸­äººçš„å¯¹åº” <strong>Anchor Box 1</strong>ï¼Œ è¾“å‡ºå€¼å¯¹åº”å›¾ä¸­çš„é»„è‰²å­—ä½“ï¼›è½¦è¾†åŒç†ï¼Œå¯¹åº”ç»¿è‰²å­—ä½“</p>
<p><img src="/images/deeplearning/C4W3-32_1.png" width="750"></p>
<blockquote>
<p>å¦‚æœä¸¤ä¸ªå¯¹è±¡æ‰€åœ¨ä¸€ä¸ªæ ¼å­ï¼Œä¸”ä¸¤ä¸ªå¯¹è±¡åœˆå‡ºæ¥çš„æ¡†ä¹Ÿæ˜¯ä¸€æ ·çš„ï¼Œè¿™ç§æƒ…å†µéå¸¸éå¸¸å°‘è§ï¼Œæˆ‘ä»¬ç”¨å…¶ä»–æ–¹æ³•æ¥ç‰¹æ®Šå¤„ç†.</p>
</blockquote>
<h2 id="9-YOLO-Algorithm"><a href="#9-YOLO-Algorithm" class="headerlink" title="9. YOLO Algorithm"></a>9. YOLO Algorithm</h2><p><img src="/images/deeplearning/C4W3-33_1.png" width="750"></p>
<p><img src="/images/deeplearning/C4W3-34_1.png" width="750"></p>
<p><img src="/images/deeplearning/C4W3-35_1.png" width="750"></p>
<blockquote>
<p>YOLO Algorithm, that also encompasses many of the best ideas across the entire computer vision literature the relate to object detection.</p>
<p>YOLO è®¡ç®—æœºè§†è§‰å¯¹è±¡æ£€æµ‹é¢†åŸŸæ–‡çŒ®ä¸­æœ€ç²¾å¦™çš„æ€è·¯ã€‚</p>
</blockquote>
<h2 id="10-Region-Proposals-Optional"><a href="#10-Region-Proposals-Optional" class="headerlink" title="10. Region Proposals (Optional)"></a>10. Region Proposals (Optional)</h2><p>å€™é€‰åŒºåŸŸï¼Œè¿™äº›ç›®å‰å·¥ä½œå…¶å®ç”¨çš„å¾ˆå°‘ï¼Œä½†æ˜¯è¿˜æ˜¯éå¸¸æœ‰æ„ä¹‰çš„ï¼Œæ‰€ä»¥æˆ‘ä½œä¸ºå¯é€‰è§†é¢‘å¯å­¦ä¹ .â€‹â€‹â€‹â€‹</p>
<p><img src="/images/deeplearning/C4W3-36_1.png" width="750"> </p>
<p>å´å¤§å¤§è®¤ä¸º YOLO è¿™ç§åªçœ‹ä¸€æ¬¡çš„ç®—æ³•ï¼Œé•¿è¿œè€Œè¨€æ˜¯CVé¢†åŸŸæ›´æœ‰å¸Œæœ›çš„æ–¹å‘</p>
<h2 id="Reference"><a href="#Reference" class="headerlink" title="Reference"></a>Reference</h2><ul>
<li><a href="https://study.163.com/my#/smarts" target="_blank" rel="external">ç½‘æ˜“äº‘è¯¾å ‚ - deeplearning</a></li>
<li><a href="http://www.cnblogs.com/marsggbo/p/7470989.html" target="_blank" rel="external">DeepLearning.aiå­¦ä¹ ç¬”è®°æ±‡æ€»</a></li>
</ul>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[Convolutional Neural Networks (week2) - deep CNN]]></title>
      <url>http://iequa.com/2018/08/24/deeplearning-ai-Convolutional-Neural-Networks-week2/</url>
      <content type="html"><![CDATA[<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js"],
    jax: ["input/TeX"],
    tex2jax: {
      inlineMath: [ ['$','$'], ['\\(','\\)'] ],
      displayMath: [ ['$$','$$']],
      processEscapes: true
    }
  });
</script>
<script type="text/javascript" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS_HTML,http://myserver.com/MathJax/config/local/local.js">
</script>

<p>ç†è§£å¦‚ä½•æ­å»ºä¸€ä¸ªç¥ç»ç½‘ç»œï¼ŒåŒ…æ‹¬æœ€æ–°çš„å˜ä½“ï¼Œä¾‹å¦‚æ®‹ä½™ç½‘ç»œã€‚</p>
<a id="more"></a>
<h2 id="1-Why-look-at-case-studies"><a href="#1-Why-look-at-case-studies" class="headerlink" title="1. Why look at case studies?"></a>1. Why look at case studies?</h2><p>é€šè¿‡ä»–äººçš„å®ä¾‹å¯ä»¥æ›´å¥½çš„ç†è§£å¦‚ä½•æ„å»ºå·ç§¯ç¥ç»ç½‘ç»œï¼Œæœ¬å‘¨è¯¾ç¨‹ä¸»è¦ä¼šä»‹ç»å¦‚ä¸‹ç½‘ç»œ</p>
<ul>
<li>LeNet-5</li>
<li>AlexNet</li>
<li>VGG</li>
<li>ResNet (æœ‰152å±‚)</li>
<li>Inception</li>
</ul>
<h2 id="2-Classic-networks"><a href="#2-Classic-networks" class="headerlink" title="2. Classic networks"></a>2. Classic networks</h2><h3 id="2-1-LeNet-5"><a href="#2-1-LeNet-5" class="headerlink" title="2.1 LeNet-5"></a>2.1 LeNet-5</h3><p>è¯¥ç½‘ç»œ 1980s æå‡ºï¼Œä¸»è¦é’ˆå¯¹ç°åº¦å›¾åƒè®­ç»ƒçš„ï¼Œç”¨äºè¯†åˆ«æ‰‹å†™æ•°å­—ã€‚</p>
<p><img src="/images/deeplearning/C4W2-1_1.png" width="750"></p>
<blockquote>
<ol>
<li>å½“æ—¶å¾ˆå°‘ç”¨åˆ° Paddingï¼Œæ‰€ä»¥çœ‹åˆ°éšç€ç½‘ç»œå±‚æ¬¡å¢åŠ ï¼Œå›¾åƒçš„é«˜åº¦å’Œå®½åº¦éƒ½æ˜¯é€æ¸å‡å°çš„ï¼Œæ·±åº¦åˆ™ä¸æ–­å¢åŠ .</li>
<li>å½“æ—¶äººä»¬ä¼šæ›´å€¾å‘äºä½¿ç”¨ Average Poolingï¼Œä½†æ˜¯ç°åœ¨åˆ™æ›´æ¨èä½¿ç”¨ Max Pooling.</li>
<li>æœ€åçš„é¢„æµ‹æ²¡æœ‰ä½¿ç”¨ softmaxï¼Œè€Œæ˜¯ä½¿ç”¨äº†ä¸€èˆ¬çš„æ–¹æ³•.</li>
</ol>
<p>è®ºæ–‡ä¸­ä½ ä¼šå‘ç°ï¼Œè¿‡å»äººä»¬ä½¿ç”¨ Sigmoidå‡½æ•° å’Œ Tanhå‡½æ•°ï¼Œè€Œä¸æ˜¯ ReLuï¼Œ è¿™ç§ç½‘è·¯ç»“æ„çš„ç‰¹åˆ«ä¹‹å¤„è¿˜åœ¨äºå„ç½‘ç»œå±‚ä¹‹é—´æ˜¯æœ‰å…³è”çš„.</p>
</blockquote>
<h3 id="2-2-AlexNet"><a href="#2-2-AlexNet" class="headerlink" title="2.2 AlexNet"></a>2.2 AlexNet</h3><p>AlexNet å…¶å®å’Œ LetNet-5 æœ‰å¾ˆå¤šç›¸ä¼¼çš„åœ°æ–¹ï¼Œå¦‚å¤§è‡´çš„ç½‘ç»œç»“æ„ã€‚ä¸åŒçš„åœ°æ–¹ä¸»è¦æœ‰å¦‚ä¸‹ï¼š</p>
<p><img src="/images/deeplearning/C4W2-2_1.png" width="750"></p>
<ul>
<li>æ¿€æ´»å‡½æ•°ä½¿ç”¨çš„æ˜¯ <strong>Relu</strong>ï¼Œæœ€åä¸€å±‚ä½¿ç”¨çš„æ˜¯ <strong>Softmax</strong></li>
<li>å‚æ•°æ›´å¤šï¼Œæœ‰6000ä¸‡ä¸ªå‚æ•°ï¼Œè€Œ LeNet-5 åªæœ‰6ä¸‡ä¸ªå·¦å³</li>
<li>ä½¿ç”¨ Max Pooling</li>
</ul>
<blockquote>
<p>Local Response Normalization å±€éƒ¨å“åº”å½’ä¸€åŒ– - LRNå±‚ï¼Œä¸é‡è¦åˆ’æ‰.</p>
<p>è¿™ç¯‡è®ºæ–‡ä¹‹åï¼Œæ·±åº¦å­¦ä¹ é€æ¸åœ¨ CV æ–¹é¢çš„å…³æ³¨ï¼Œä¸æ—¥ä¿±å¢. </p>
<p>AlexNet æ¯”è¾ƒå¤æ‚ï¼ŒåŒ…å«å¤§é‡è¶…å‚æ•°.</p>
</blockquote>
<h3 id="2-3-VGG-16"><a href="#2-3-VGG-16" class="headerlink" title="2.3 VGG-16"></a>2.3 VGG-16</h3><p><img src="/images/deeplearning/C4W2-3_1.png" width="750"></p>
<p>è¿™ä¸ªç½‘ç»œå¤ªç‰›äº†ï¼Œå› ä¸ºå®ƒæœ‰å°†è¿‘ 1.38äº¿ä¸ªå‚æ•°ï¼Œå³ä½¿æ”¾åˆ°ç°åœ¨ä¹Ÿæ˜¯ä¸€ä¸ªå¾ˆå¤§çš„ç½‘ç»œï¼Œä½†æ˜¯è¿™ä¸ªç½‘ç»œçš„ç»“æ„å¹¶ä¸å¤æ‚ã€‚ä¸‹é¢ä¸»è¦ä»‹ç»ä¸€ä¸‹ä¸Šå›¾ç½‘ç»œã€‚</p>
<p>é¦–å…ˆè¯¥ç½‘ç»œä½¿ç”¨çš„æ˜¯ Sameå·ç§¯ï¼Œå³ä¿è¯é«˜åº¦å’Œå®½åº¦ä¸å˜ï¼Œå¦å¤–å› ä¸ºæ€»å…±æœ‰16å±‚å·ç§¯æ“ä½œï¼Œæ‰€ä»¥å°±ä¸æŠŠæ¯ä¸€å±‚éƒ½ç”¨å›¾åƒçš„æ–¹å¼è¡¨ç°å‡ºæ¥äº†ï¼Œä¾‹å¦‚ [CONV 64 X2] è¡¨ç¤ºçš„æ˜¯ç”¨ 64ä¸ª è¿‡æ»¤å™¨è¿›è¡Œ Sameå·ç§¯ æ“ä½œ2æ¬¡ï¼Œå³å³ä¸Šè§’æ‰€ç”»çš„ç¤ºæ„å›¾ï¼Œ(224,224,3) -&gt; (224,224,64) -&gt; (224,224,64)</p>
<blockquote>
<p><strong>Andrew Ng</strong> : æˆ‘æœ€å–œæ¬¢å®ƒçš„ä¸€ç‚¹æ˜¯ï¼Œéšç€ç½‘ç»œçš„åŠ æ·±ï¼Œå›¾åƒçš„ Height å’Œ Width éƒ½åœ¨ä»¥ä¸€å®šçš„è§„å¾‹ä¸æ–­ç¼©å°ï¼Œæ¯æ¬¡æ± åŒ–ä¹‹ååˆšå¥½ç¼©å°ä¸€åŠï¼Œè€Œä¿¡é“æ•°é‡åœ¨ä¸æ–­å¢åŠ . è€Œåˆšå¥½ä¹Ÿæ˜¯åœ¨æ¯ç»„å·ç§¯æ“ä½œåå¢åŠ ä¸€å€. ä¹Ÿå°±æ˜¯è¯´ ï¼š å›¾åƒç¼©å°çš„æ¯”ä¾‹å’Œä¿¡é“å¢åŠ çš„æ¯”ä¾‹æ˜¯æœ‰è§„å¾‹çš„.</p>
<p>ä¸Šé¢ä¸‰ä¸ªæ˜¯æ¯”è¾ƒç»å…¸çš„ç½‘ç»œï¼Œå¯é˜…è¯»å…¶è®ºæ–‡ï¼ŒNg<strong>å´å¤§å¸ˆ</strong> å»ºè®®çš„é˜…è¯»é¡ºåºæ˜¯ AlexNet-&gt;VGG-&gt;LeNetã€‚</p>
</blockquote>
<h2 id="3-Residual-Network-ResNets"><a href="#3-Residual-Network-ResNets" class="headerlink" title="3. Residual Network (ResNets)"></a>3. Residual Network (ResNets)</h2><p>ResNets å‘æ˜è€…æ˜¯ ä½•æºæ˜ã€å¼ ç¿”å®‡ã€ä»»å°‘å¿ã€å­™å‰‘</p>
<p>å´å¤§å¸ˆè¡¨ç¤º â€œéå¸¸æ·±çš„ç½‘ç»œæ˜¯å¾ˆéš¾è®­ç»ƒçš„ï¼Œå› ä¸ºå­˜åœ¨æ¢¯åº¦æ¶ˆå¤±å’Œæ¢¯åº¦çˆ†ç‚¸çš„é—®é¢˜â€ï¼Œä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œå¼•å…¥äº† <strong>Skip Connection</strong> (è·³è¿œé“¾æ¥)ï¼Œæ®‹å·®ç½‘ç»œæ­£æ˜¯ä½¿ç”¨äº†è¿™ä¸ªæ–¹æ³•ã€‚</p>
<h3 id="3-1-æ®‹å·®å—-Residual-Block"><a href="#3-1-æ®‹å·®å—-Residual-Block" class="headerlink" title="3.1 æ®‹å·®å— (Residual Block)"></a>3.1 æ®‹å·®å— (Residual Block)</h3><p>é¦–å…ˆä»‹ç»ç»„æˆæ®‹å·®ç½‘ç»œçš„å•å…ƒï¼šæ®‹å·®å—(<strong>Residual Block</strong>)ï¼Œå¦‚ä¸‹å›¾ç¤ºï¼š</p>
<p><img src="/images/deeplearning/C4W2-4.png" width="550"></p>
<p>æ®‹å·®å—æ˜¯ç”±ä¸¤å±‚ç½‘ç»œèŠ‚ç‚¹ç»„æˆçš„, $a^{[l]}$ ç»è¿‡çº¿æ€§å˜åŒ–ï¼Œå†é€šè¿‡Reluæ¿€æ´»å‡½æ•°åå¾—åˆ° $a^{[l+1]}$ï¼Œ $a^{[l+2]}$ ä¹ŸåŒç†ï¼Œå…·ä½“è¿‡ç¨‹å¦‚ä¸‹å›¾ç¤ºï¼š</p>
<p><img src="/images/deeplearning/C4W2-5_1.png" width="750"></p>
<p>ç‰¹åˆ«æ³¨æ„ä¸Šå›¾ä¸­çš„<strong>ç´«è‰²çº¿</strong>è¿æ¥ï¼Œ$a^{[{l}]}$ é€šè¿‡è¿™æ¡çº¿ç›´æ¥å°†æ•°æ®ä¼ é€’ç»™ $a^{[l+2]}$ï¼Œ æ‰€ä»¥ $a^{[l+2]}=g(z^{[l+1]}+a^{[l]})$ ï¼Œè¿™æ¡ç´«è‰²çº¿ä¹Ÿå«ä½œ<strong>short cut</strong>(æˆ–skip connection)</p>
<h3 id="3-2-æ®‹å·®ç½‘ç»œ"><a href="#3-2-æ®‹å·®ç½‘ç»œ" class="headerlink" title="3.2 æ®‹å·®ç½‘ç»œ"></a>3.2 æ®‹å·®ç½‘ç»œ</h3><p><img src="/images/deeplearning/C4W2-6_1.png" width="750"></p>
<p>å¦‚å›¾ç¤ºï¼Œæ®‹å·®ç½‘ç»œæ¯ä¸¤å±‚ç½‘ç»œèŠ‚ç‚¹ç»„æˆä¸€ä¸ªæ®‹å·®å—ï¼Œè¿™ä¹Ÿå°±æ˜¯å…¶ä¸æ™®é€šç½‘ç»œ(Plain Network)çš„å·®åˆ«ã€‚</p>
<p>éšç€ç½‘ç»œæ·±åº¦çš„åŠ æ·±ï¼Œä¼˜åŒ–ç®—æ³•ä¼šè¶Šæ¥è¶Šéš¾è®­ç»ƒï¼Œè®­ç»ƒé”™è¯¯ä¼šè¶Šæ¥è¶Šå¤šï¼Œä½†æ˜¯æœ‰äº† ResNets å°±ä¸ä¸€æ ·äº†. ä¹Ÿå¯ä»¥åœ¨ä¸€å®šç¨‹åº¦ä¸Šç¼“è§£æ¢¯åº¦æ¶ˆå¤±å’Œæ¢¯åº¦çˆ†ç‚¸é—®é¢˜. å¦ä¸€è§’åº¦ï¼Œç½‘ç»œè¶Šæ·±ä¼šæ¯”è¾ƒè‡ƒè‚¿ï¼Œä½†æ˜¯ ResNet ç¡®å®åœ¨è®­ç»ƒæ·±åº¦ç½‘ç»œæ–¹é¢éå¸¸æœ‰æ•ˆ.</p>
<p>ç»“åˆä¹‹å‰çš„è¯¾ç¨‹æˆ‘ä»¬çŸ¥é“å¦‚æœä½¿ç”¨æ™®é€šç½‘ç»œè®­ç»ƒæ¨¡å‹ï¼Œè®­ç»ƒè¯¯å·®ä¼šéšç€ç½‘ç»œå±‚æ¬¡åŠ æ·±å…ˆå‡å°ï¼Œè€Œåä¼šå¼€å§‹å¢åŠ ï¼Œè€Œæ®‹å·®ç½‘ç»œåˆ™ä¸ä¼šæœ‰è¿™ç§æƒ…å†µï¼Œåè€Œå®ƒä¼šéšç€å±‚æ¬¡å¢åŠ ï¼Œè¯¯å·®ä¹Ÿä¼šè¶Šæ¥è¶Šå°ï¼Œè¿™ä¸ç†è®ºç›¸ç¬¦ã€‚</p>
<h2 id="4-Why-ResNets-work"><a href="#4-Why-ResNets-work" class="headerlink" title="4. Why ResNets work"></a>4. Why ResNets work</h2><p>å´å¤§è¡¨ç¤º: ç½‘ç»œåœ¨è®­ç»ƒé›†ä¸Šè¡¨ç°å¥½ï¼Œæ‰èƒ½ Hold-out äº¤å‰éªŒè¯é›† æˆ– devé›†ã€æµ‹è¯•é›†ä¸Šè¡¨ç°å¥½ï¼Œæ‰€ä»¥è®­ç»ƒé›†ä¸Šè¡¨ç°å¥½æ˜¯ç¬¬ä¸€æ­¥.</p>
<p>ä¸ºäº†ç›´è§‚è§£é‡Šæ®‹å·®ç½‘ç»œä¸ºä»€ä¹ˆæœ‰ç”¨ï¼Œå‡è®¾æˆ‘ä»¬å·²ç»é€šè¿‡ä¸€ä¸ªå¾ˆå¤§çš„ç¥ç»ç½‘ç»œå¾—åˆ°äº† $a^{[l]}$ã€‚ è€Œç°åœ¨æˆ‘ä»¬åˆéœ€è¦æ·»åŠ ä¸¤å±‚ç½‘ç»œè¿›å»ï¼Œæˆ‘ä»¬çœ‹çœ‹å¦‚æœæ·»åŠ çš„æ˜¯æ®‹å·®å—ä¼šæœ‰ä»€ä¹ˆæ•ˆæœã€‚å¦‚ä¸‹å›¾ç¤ºï¼š</p>
<p><img src="/images/deeplearning/C4W2-7.jpg" width="650"></p>
<p>ç”± <strong>æ®‹å·®å—Residual Block</strong> çš„ç‰¹ç‚¹æˆ‘ä»¬çŸ¥é“ $a^{[l+2]}=g(z^{[l+1]}+a^{[l]})=g(W^{[l+1]}a^{[l]}+b^{[l+1]}+a^{[l]})$</p>
<p>æˆ‘ä»¬å…ˆè€ƒè™‘ä¸€ä¸ªæç«¯æƒ…å†µï¼Œå³ $W^{[l+1]}=0,b^{[l+1]}=0$ï¼Œ é‚£ä¹ˆ $a^{[l+2]}=g(a^{[l]})=a^{[l]}$ <strong>(å› ä¸ºæ¿€æ´»å‡½æ•°æ˜¯Relu)</strong>ï¼Œæ‰€ä»¥åœ¨æ·»åŠ äº†é¢å¤–çš„ä¸¤å±‚ç½‘ç»œåï¼Œå³ä½¿æœ€åæƒ…å†µä¹Ÿæ˜¯ä¿æŒå’Œä¹‹å‰ç»“æœä¸€æ ·ã€‚(è€Œå¦‚æœåªæ˜¯<strong>åŠ ä¸Šæ™®é€šçš„ä¸¤å±‚ç½‘ç»œ</strong>ï¼Œå¯èƒ½ç»“æœä¼šæ›´å¥½ï¼Œä½†æ˜¯ä¹Ÿå¾ˆæœ‰å¯èƒ½ç»“æœä¼šè¶Šæ¥è¶Šç³Ÿç³•, å› ä¸ºæ™®é€šç½‘ç»œå°±ç®—æ˜¯é€‰æ‹©ç”¨æ¥å­¦ä¹ æ’ç­‰å‡½æ•°çš„å‚æ•°éƒ½å¾ˆå›°éš¾)ï¼Œæ®‹å·®ç½‘ç»œèµ·ä½œç”¨çš„ä¸»è¦åŸå› æ˜¯è¿™äº›æ®‹å·®å—å­¦ä¹ æ’ç­‰å‡½æ•°éå¸¸å®¹æ˜“, è¿™ä¹Ÿå°±æ˜¯ä¸ºä»€ä¹ˆæ®‹å·®ç½‘ç»œèƒ½å¤Ÿä¿è¯æ·±åº¦ç½‘ç»œä¾æ—§æœ‰ç”¨çš„åŸå› äº†ã€‚</p>
<blockquote>
<p><strong>æ³¨æ„</strong> ï¼š å„å±‚ç½‘ç»œçš„<strong>ç»´åº¦</strong>ï¼Œå› ä¸º $a^{[l+2]}=g(z^{[l+1]}+a^{[l]})$, é‚£ä¹ˆå°±è¦æ±‚ $z^{[l+1]}$ è¦å’Œ $a^{[l]}$ ä¿æŒç›¸åŒçš„ç»´åº¦æ‰€ä»¥æ®‹å·®ç½‘ç»œä½¿ç”¨çš„æ˜¯<strong>Sameå·ç§¯</strong>ã€‚</p>
<p>ä½†æ˜¯å¦‚æœå”¯ç‹¬ä¸ä¸€æ ·ä¹Ÿæ²¡å…³ç³»ï¼Œå¯ä»¥ç»™ $a^{[l]}$ ä¹˜ä¸Šä¸€ä¸ª $W_s$ æ¥ä¿æŒç›¸åŒç»´åº¦ã€‚ $W_s$ çš„å€¼å¯ä»¥é€šè¿‡å­¦ä¹ è·å¾—</p>
<p>æ™®é€šç½‘ç»œ å’Œ ResNets å¸¸ç”¨çš„ç»“æ„æ˜¯ Conv -&gt; Conv -&gt; Conv -&gt; Pool -&gt; Conv -&gt; Conv -&gt; Conv -&gt; Pool ä¾æ¬¡é‡å¤ä¹‹.. ç›´åˆ°æœ‰ä¸€ä¸ªé€šè¿‡ Softmax è¿›è¡Œé¢„æµ‹çš„å…¨è¿æ¥å±‚.</p>
</blockquote>
<h2 id="5-in-Network-and-1Ã—1-convolutions"><a href="#5-in-Network-and-1Ã—1-convolutions" class="headerlink" title="5. in Network and 1Ã—1 convolutions"></a>5. in Network and 1Ã—1 convolutions</h2><p>$1 * 1$ å·ç§¯ä¹çœ‹èµ·æ¥å¥½åƒå¾ˆæ²¡ç”¨ï¼Œå¦‚ä¸‹å›¾ä¸Šï¼Œâ€‹ä½†æ˜¯å¦‚æœè¿™ä¸ª $1 * 1$ çš„å·ç§¯æœ‰æ·±åº¦å‘¢ï¼Ÿâ€‹</p>
<p><img src="/images/deeplearning/C4W2-8.png" width="750"></p>
<p>è¯´ä¸ªæ›´åŠ ç›´è§‚çš„ç†è§£å°±æ˜¯ä½¿ç”¨ $1*1$ å·ç§¯å¯ä»¥å¾ˆæ–¹ä¾¿çš„å‡å°‘æ·±åº¦ï¼Œè€Œä¸æ”¹å˜é«˜åº¦å’Œå®½åº¦ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºï¼š</p>
<p><img src="/images/deeplearning/C4W2-9.png" width="700"></p>
<p>åªéœ€è¦ç”¨ 32 ä¸ª ($1*1*192$) çš„ Filter å³å¯, å¦‚æœä¸ç”¨ $1 * 1$ å·ç§¯ï¼Œä¾‹å¦‚é‡‡ç”¨ $2*2$ å·ç§¯,è¦æƒ³å®ç°åªæ”¹å˜æ·±åº¦ï¼Œé‚£ä¹ˆè¿˜éœ€è¦ä½¿ç”¨ paddingï¼Œç›¸æ¯”èµ·æ¥æ›´åŠ éº»çƒ¦äº†.</p>
<h2 id="6-Inception-network-motivation"><a href="#6-Inception-network-motivation" class="headerlink" title="6. Inception network motivation"></a>6. Inception network motivation</h2><p><img src="/images/deeplearning/C4W2-10.jpg" width="700"></p>
<p>å¦‚ä¸Šå›¾ç¤ºï¼Œæˆ‘ä»¬ä½¿ç”¨äº†å„ç§è¿‡æ»¤å™¨ï¼Œä¹Ÿæ˜¯ç”¨äº† Max Poolingã€‚ä½†æ˜¯è¿™äº›å¹¶ä¸éœ€è¦äººå·¥çš„é€‰æ‹©å…¶ä¸ªæ•°ï¼Œè¿™äº›éƒ½å¯ä»¥é€šè¿‡å­¦ä¹ æ¥ç¡®å®šä¸‹æ¥ã€‚æ‰€ä»¥è¿™ç§æ–¹æ³•å¾ˆå¥½çš„å¸®åŠ©æˆ‘ä»¬é€‰æ‹©ä½•ç§ <strong>Filter</strong> çš„é—®é¢˜ï¼Œè¿™ä¹Ÿå°±æ˜¯ <strong>Inception</strong>ç½‘ç»œã€‚</p>
<h3 id="6-1-è®¡ç®—æˆæœ¬"><a href="#6-1-è®¡ç®—æˆæœ¬" class="headerlink" title="6.1 è®¡ç®—æˆæœ¬"></a>6.1 è®¡ç®—æˆæœ¬</h3><p>æ³¨æ„éšä¹‹è€Œæ¥çš„è®¡ç®—æˆæœ¬ï¼Œå°¤å…¶æ˜¯ $5*5$ çš„ Filterï¼Œä¸‹é¢ä»¥è¿™ä¸ª Filter ä¸¾ä¾‹è¿›è¡Œè¯´æ˜ï¼š</p>
<p><img src="/images/deeplearning/C4W2-11.jpg" width="700"></p>
<p>å¦‚ä¸Šå›¾ç¤ºï¼Œä½¿ç”¨ 32 ä¸ª $(5*5*192)$ çš„ <strong>Filter</strong>ï¼Œå¯¹ $(28,28,192)$ è¿›è¡Œ Sameå·ç§¯ è¿ç®—å¾—åˆ° $(28,28,32)$ çš„è¾“å‡ºçŸ©é˜µï¼Œè¯¥å·ç§¯éœ€è¦æ‰§è¡Œçš„ä¹˜æ³•è¿ç®—æœ‰å¤šå°‘æ¬¡å‘¢ï¼Ÿ</p>
<p>è¾“å‡ºçŸ©é˜µä¸­çš„ä¸€ä¸ªæ•°æ®æ˜¯ç»è¿‡ $(5*5*192)$ æ¬¡ä¹˜æ³•å¾—åˆ°çš„ï¼Œé‚£ä¹ˆæ€»å…±çš„ä¹˜æ³•è¿ç®—æ¬¡æ•°åˆ™æ˜¯ $(5*5*192*28*28*32=1.2)$ äº¿</p>
<h3 id="6-2-ç“¶é¢ˆå±‚-Bottleneck-layer"><a href="#6-2-ç“¶é¢ˆå±‚-Bottleneck-layer" class="headerlink" title="6.2 ç“¶é¢ˆå±‚(Bottleneck layer)"></a>6.2 ç“¶é¢ˆå±‚(Bottleneck layer)</h3><p>ä¸Šé¢è¿ç®—æ¬¡æ•°å¤šå¤§1.2äº¿æ¬¡ï¼Œè¿ç®—é‡ç›¸å½“å¤§ï¼Œå› æ­¤æœ‰å¦ä¸€ç§ç½‘ç»œç»“æ„å¯¹æ­¤è¿›è¡Œä¼˜åŒ–ï¼Œä¸”å¯ä»¥è¾¾åˆ°åŒæ ·æ•ˆæœï¼Œå³é‡‡ç”¨ 1 * 1 å·ç§¯</p>
<p><img src="/images/deeplearning/C4W2-12.png" width="700"></p>
<p>å¦‚å›¾ç¤ºè¿›è¡Œäº†ä¸¤æ¬¡å·ç§¯ï¼Œæˆ‘ä»¬è®¡ç®—ä¸€ä¸‹æ€»å…±çš„ä¹˜æ³•æ¬¡æ•°ã€‚</p>
<p>ç¬¬ä¸€æ¬¡å·ç§¯ï¼š28 * 28 * 16 * 192 = 2.4 million<br>ç¬¬äºŒæ¬¡å·ç§¯ï¼š28 * 28 * 32 * 5 * 5 * 16 = 10 million<br>æ€»å…±ä¹˜æ³•æ¬¡æ•°æ˜¯ 12.4 millionï¼Œè¿™ä¸ä¸Šé¢ç›´æ¥ç”¨ 5 * 5 Filter çš„è¿ç®—æ¬¡æ•°æ•´æ•´å°‘äº†åå€ã€‚</p>
<h2 id="7-Inception-network"><a href="#7-Inception-network" class="headerlink" title="7. Inception network"></a>7. Inception network</h2><p><img src="/images/deeplearning/C4W2-12_1.png" width="750"></p>
<p><img src="/images/deeplearning/C4W2-13_1.png" width="750"></p>
<blockquote>
<p>ä¸ºäº†å¯ä»¥é˜²æ­¢è¿‡æ‹Ÿåˆï¼Œè¿˜æœ‰ä¸ªç‰¹åˆ«çš„ inception networkï¼Œæ˜¯ä¸€ä¸ª Google å‘˜å·¥å¼€å‘çš„å«åš GoogLeNetï¼Œè¿™ä¸ªåå­—æ˜¯ä¸ºäº†å‘ LeNet è‡´æ•¬. è¿™æ ·éå¸¸å¥½ï¼Œæ·±åº¦å­¦ä¹ çš„ç ”ç©¶äººå‘˜å¦‚ä½•é‡è§†åä½œï¼Œæ·±åº¦å­¦ä¹ å·¥ä½œè€…å¯¹å½¼æ­¤çš„å·¥ä½œæˆæœï¼Œéƒ½æœ‰ä¸€ç§å¼ºçƒˆçš„æ•¬æ„.</p>
</blockquote>
<h2 id="8-Using-open-source-impl"><a href="#8-Using-open-source-impl" class="headerlink" title="8. Using open-source impl"></a>8. Using open-source impl</h2><p>Practical advice for using ConvNets</p>
<h2 id="9-Transfer-Learning"><a href="#9-Transfer-Learning" class="headerlink" title="9. Transfer Learning"></a>9. Transfer Learning</h2><p>ç®€å•è¯´å°±æ˜¯åœ¨ä»–äººçš„åŸºç¡€ä¸Šå®ç°è‡ªå·±æƒ³è¦çš„æ¨¡å‹ï¼Œä¸¾ä¸ªğŸŒ°ï¼Œå‡å¦‚æˆ‘ä»¬ç°åœ¨éœ€è¦è¯†åˆ«å®¶é‡Œå…»çš„ä¸¤åªçŒ«ï¼Œåˆ†åˆ«å« <strong>å°èŠ±</strong> å’Œ <strong>å°ç™½</strong>ï¼Œä½†æ˜¯æˆ‘ä»¬åªæœ‰æ¯”è¾ƒå°‘çš„å›¾ç‰‡ã€‚å¹¸è¿çš„æ˜¯ç½‘ä¸Šå·²ç»æœ‰ä¸€ä¸ªå·²ç»è®­ç»ƒå¥½çš„æ¨¡å‹ï¼Œæ˜¯ç”¨æ¥åŒºåˆ†1000ä¸ªä¸åŒäº‹ç‰©çš„(åŒ…æ‹¬çŒ«)ï¼Œå…¶ç½‘ç»œæ¨¡å‹å¦‚ä¸‹ï¼š</p>
<p><img src="/images/deeplearning/C4W2-15.png" width="750"></p>
<p>æˆ‘ä»¬çš„éœ€æ±‚æ˜¯æœ€åç»“æœæœ‰ä¸‰ç§ï¼šæ˜¯ <strong>å°èŠ±</strong>ï¼Œor <strong>å°ç™½</strong>ï¼Œor <strong>éƒ½ä¸æ˜¯</strong>ã€‚â€‹æ‰€ä»¥éœ€è¦å¯¹ <strong>softmax</strong> åšå¦‚ä¸‹å›¾ä¿®æ”¹.</p>
<p>ç”±äºæ•°æ®è¾ƒå°‘ï¼Œæ‰€ä»¥å¯ä»¥å¯¹ä»–äººçš„æ¨¡å‹çš„å‰é¢çš„ç»“æ„ä¸­çš„å‚æ•°è¿›è¡Œå†»ç»“ï¼Œå³ <strong>æƒé‡ weight</strong> å’Œ <strong>åå·® bias</strong> ä¸åšæ”¹åŠ¨ã€‚</p>
<p><img src="/images/deeplearning/C4W2-16.png" width="750"></p>
<p>â€‹å½“ç„¶ï¼Œå¦‚æœæˆ‘ä»¬æœ‰ä¸€å®šé‡çš„æ•°æ®ï¼Œé‚£ä¹ˆ <strong>freeze</strong> çš„èŒƒå›´ä¹Ÿå¯ä»¥éšä¹‹å‡å°‘ï¼Œå³æ‹¿æ¥è®­ç»ƒçš„å±‚æ¬¡å¯ä»¥å¢å¤š<br>â€‹<br>â€‹<img src="/images/deeplearning/C4W2-17.png" width="750"></p>
<blockquote>
<p>you find that for a lot of computer vision applications, you just do much better if you download someone elseâ€™s open source weights and use that as initialization for your problem.</p>
<p>I think that computer vision is one where transfer learning is something that you should almost always do. ï¼ˆunless you actually have a very very large data set..ï¼‰</p>
</blockquote>
<h2 id="10-Data-augmentation"><a href="#10-Data-augmentation" class="headerlink" title="10. Data augmentation"></a>10. Data augmentation</h2><h3 id="10-1-Common-augmentation"><a href="#10-1-Common-augmentation" class="headerlink" title="10.1 Common augmentation"></a>10.1 Common augmentation</h3><ul>
<li>æ—‹è½¬(rotation)</li>
<li>ä¿®å‰ª(shearing)</li>
<li>å±€éƒ¨å˜å½¢(local warping)</li>
<li>é•œåƒ(mirroring)</li>
</ul>
<p>â€‹<img src="/images/deeplearning/C4W2-18.jpg" width="750"></p>
<blockquote>
<p>ä»¥ä¸Šä»‹ç»çš„æ–¹æ³•ï¼ŒåŒæ—¶ä½¿ç”¨å¹¶æ²¡æœ‰ä»€ä¹ˆåå¤„ï¼Œä½†æ˜¯åœ¨å®è·µä¸­ï¼Œå› ä¸ºå¤ªå¤æ‚äº†ï¼Œæ‰€ä»¥ä½¿ç”¨çš„å¾ˆå°‘ã€‚</p>
<p>æ›´ç»å¸¸ä½¿ç”¨çš„æ–¹æ³•å¯èƒ½ä¸‹é¢è¦ä»‹ç»çš„ <strong>Color shifting</strong> ã€‚</p>
</blockquote>
<h3 id="10-2-Color-shifting"><a href="#10-2-Color-shifting" class="headerlink" title="10.2 Color shifting"></a>10.2 Color shifting</h3><p>æˆ‘ä»¬éƒ½çŸ¥é“å›¾åƒæ˜¯ç”± <strong>RGB</strong> ä¸‰ç§é¢œè‰²æ„æˆçš„ï¼Œæ‰€ä»¥è¯¥æ•°æ®æ‰©å……æ–¹æ³•å¸¸é‡‡ç”¨ <strong>PCA color augmentation</strong>ï¼Œå³å‡å¦‚ä¸€ä¸ªå›¾ç‰‡çš„ <strong>R</strong> å’Œ <strong>G</strong> æˆåˆ†è¾ƒå¤šï¼Œé‚£ä¹ˆè¯¥ç®—æ³•åˆ™ <strong>R,G</strong> çš„å€¼ä¼šå‡å°‘å¾ˆå¤šï¼Œè€Œ B çš„å€¼å˜åŒ–ä¼šå°‘ä¸€äº›ï¼Œæ‰€ä»¥ä½¿å¾—æ€»ä½“çš„é¢œè‰²ä¿æŒä¸€è‡´.</p>
<p>â€‹<img src="/images/deeplearning/C4W2-19_2.png" width="750"></p>
<blockquote>
<p>å¦‚æœä½ çœ‹ä¸æ‡‚è¿™äº›ï¼Œé‚£ä¹ˆæ²¡å…³ç³»ï¼Œå¯ä»¥çœ‹çœ‹ AlexNet è®ºæ–‡ä¸­çš„ç»†èŠ‚ï¼Œä½ ä¹Ÿèƒ½æ‰¾åˆ° PCA é¢œè‰²å¢å¼ºçš„å¼€æºå®ç°æ–¹æ³•.</p>
</blockquote>
<h2 id="11-The-state-of-CV"><a href="#11-The-state-of-CV" class="headerlink" title="11. The state of CV"></a>11. The state of CV</h2><p>â€‹<img src="/images/deeplearning/C4W2-21_1.png" width="750"></p>
<p>â€‹<img src="/images/deeplearning/C4W2-22_1.png" width="750"></p>
<p>â€‹<img src="/images/deeplearning/C4W2-23_1.png" width="750"><br>â€‹</p>
<h2 id="Reference"><a href="#Reference" class="headerlink" title="Reference"></a>Reference</h2><ul>
<li><a href="https://study.163.com/my#/smarts" target="_blank" rel="external">ç½‘æ˜“äº‘è¯¾å ‚ - deeplearning</a></li>
<li><a href="http://www.cnblogs.com/marsggbo/p/7470989.html" target="_blank" rel="external">DeepLearning.aiå­¦ä¹ ç¬”è®°æ±‡æ€»</a></li>
</ul>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[Tensorflow ä¾‹å­2]]></title>
      <url>http://iequa.com/2018/08/24/tensorflow-2-2-example2/</url>
      <content type="html"><![CDATA[<p>Tensorflow æ˜¯éå¸¸é‡è§†ç»“æ„çš„, æˆ‘ä»¬å»ºç«‹å¥½äº†ç¥ç»ç½‘ç»œçš„ç»“æ„, æ‰èƒ½å°†æ•°å­—æ”¾è¿›å», è¿è¡Œè¿™ä¸ªç»“æ„.</p>
<a id="more"></a>
<p>è¿™ä¸ªä¾‹å­ç®€å•çš„é˜è¿°äº† tensorflow å½“ä¸­å¦‚ä½•ç”¨ä»£ç æ¥è¿è¡Œæˆ‘ä»¬æ­å»ºçš„ç»“æ„.</p>
<h2 id="1-åˆ›å»ºæ•°æ®"><a href="#1-åˆ›å»ºæ•°æ®" class="headerlink" title="1. åˆ›å»ºæ•°æ®"></a>1. åˆ›å»ºæ•°æ®</h2><p>é¦–å…ˆ, æˆ‘ä»¬è¿™æ¬¡éœ€è¦åŠ è½½ tensorflow å’Œ numpy ä¸¤ä¸ªæ¨¡å—, å¹¶ä¸”ä½¿ç”¨ numpy æ¥åˆ›å»ºæˆ‘ä»¬çš„æ•°æ®.</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> tensorflow <span class="keyword">as</span> tf</span><br><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"></span><br><span class="line"><span class="comment"># create data</span></span><br><span class="line">x_data = np.random.rand(<span class="number">100</span>).astype(np.float32)</span><br><span class="line">y_data = x_data*<span class="number">0.1</span> + <span class="number">0.3</span></span><br></pre></td></tr></table></figure>
<p>æ¥ç€, æˆ‘ä»¬ç”¨ <code>tf.Variable</code> æ¥åˆ›å»ºæè¿° <code>y</code> çš„å‚æ•°. æˆ‘ä»¬å¯ä»¥æŠŠ <code>y_data = x_data*0.1 + 0.3</code> æƒ³è±¡æˆ <code>y=Weights * x + biases</code>, ç„¶åç¥ç»ç½‘ç»œä¹Ÿå°±æ˜¯å­¦ç€æŠŠ Weights å˜æˆ 0.1, biases å˜æˆ 0.3.</p>
<h2 id="2-æ­å»ºæ¨¡å‹"><a href="#2-æ­å»ºæ¨¡å‹" class="headerlink" title="2. æ­å»ºæ¨¡å‹"></a>2. æ­å»ºæ¨¡å‹</h2><figure class="highlight python"><table><tr><td class="code"><pre><span class="line">Weights = tf.Variable(tf.random_uniform([<span class="number">1</span>], <span class="number">-1.0</span>, <span class="number">1.0</span>))</span><br><span class="line">biases = tf.Variable(tf.zeros([<span class="number">1</span>]))</span><br><span class="line"></span><br><span class="line">y = Weights*x_data + biases</span><br></pre></td></tr></table></figure>
<h2 id="3-è®¡ç®—è¯¯å·®"><a href="#3-è®¡ç®—è¯¯å·®" class="headerlink" title="3. è®¡ç®—è¯¯å·®"></a>3. è®¡ç®—è¯¯å·®</h2><p>æ¥ç€å°±æ˜¯è®¡ç®— <code>y</code> å’Œ <code>y_data</code> çš„è¯¯å·®:</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">loss = tf.reduce_mean(tf.square(y-y_data))</span><br></pre></td></tr></table></figure>
<h2 id="4-ä¼ æ’­è¯¯å·®"><a href="#4-ä¼ æ’­è¯¯å·®" class="headerlink" title="4. ä¼ æ’­è¯¯å·®"></a>4. ä¼ æ’­è¯¯å·®</h2><p>åå‘ä¼ é€’è¯¯å·®çš„å·¥ä½œå°±æ•™ç»™ <code>optimizer</code> äº†, æˆ‘ä»¬ä½¿ç”¨çš„è¯¯å·®ä¼ é€’æ–¹æ³•æ˜¯æ¢¯åº¦ä¸‹é™æ³•: Gradient Descent </p>
<p>ç„¶åæˆ‘ä»¬ä½¿ç”¨ <code>optimizer</code> æ¥è¿›è¡Œå‚æ•°çš„æ›´æ–°.</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">optimizer = tf.train.GradientDescentOptimizer(<span class="number">0.5</span>)</span><br><span class="line">train = optimizer.minimize(loss)</span><br></pre></td></tr></table></figure>
<h2 id="5-è®­ç»ƒ"><a href="#5-è®­ç»ƒ" class="headerlink" title="5. è®­ç»ƒ"></a>5. è®­ç»ƒ</h2><p>åˆ°ç›®å‰ä¸ºæ­¢, æˆ‘ä»¬åªæ˜¯å»ºç«‹äº†ç¥ç»ç½‘ç»œçš„ç»“æ„, è¿˜æ²¡æœ‰ä½¿ç”¨è¿™ä¸ªç»“æ„. </p>
<p>åœ¨ä½¿ç”¨è¿™ä¸ªç»“æ„ä¹‹å‰, æˆ‘ä»¬å¿…é¡»å…ˆåˆå§‹åŒ–æ‰€æœ‰ä¹‹å‰å®šä¹‰çš„ <code>Variable</code>,  æ‰€ä»¥è¿™ä¸€æ­¥æ˜¯å¾ˆé‡è¦çš„!</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">init = tf.global_variables_initializer()  <span class="comment"># æ›¿æ¢æˆè¿™æ ·å°±å¥½</span></span><br></pre></td></tr></table></figure>
<p>æ¥ç€,æˆ‘ä»¬å†åˆ›å»ºä¼šè¯ <code>Session</code>. æˆ‘ä»¬ä¼šåœ¨ä¸‹ä¸€èŠ‚ä¸­è¯¦ç»†è®²è§£ Session. æˆ‘ä»¬ç”¨ <code>Session</code> æ¥æ‰§è¡Œ <code>init</code> åˆå§‹åŒ–æ­¥éª¤. å¹¶ä¸”, ç”¨ <code>Session</code> æ¥ <code>run</code> æ¯ä¸€æ¬¡ training çš„æ•°æ®. é€æ­¥æå‡ç¥ç»ç½‘ç»œçš„é¢„æµ‹å‡†ç¡®æ€§.</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">sess = tf.Session()</span><br><span class="line">sess.run(init)          <span class="comment"># Very important</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> step <span class="keyword">in</span> range(<span class="number">201</span>):</span><br><span class="line">    sess.run(train)</span><br><span class="line">    <span class="keyword">if</span> step % <span class="number">20</span> == <span class="number">0</span>:</span><br><span class="line">        print(step, sess.run(Weights), sess.run(biases))</span><br></pre></td></tr></table></figure>
<h2 id="6-Reference"><a href="#6-Reference" class="headerlink" title="6. Reference"></a>6. Reference</h2><ul>
<li><a href="https://www.tensorflow.org/" target="_blank" rel="external">tensorflow.org</a></li>
<li><a href="https://morvanzhou.github.io/tutorials/machine-learning/tensorflow/" target="_blank" rel="external">è«çƒ¦Python</a></li>
</ul>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[Tensorflow å¤„ç†ç»“æ„]]></title>
      <url>http://iequa.com/2018/08/24/tensorflow-2-1-structure/</url>
      <content type="html"><![CDATA[<p>Tensorflow é¦–å…ˆè¦å®šä¹‰ç¥ç»ç½‘ç»œçš„ç»“æ„, ç„¶åå†æŠŠæ•°æ®æ”¾å…¥ç»“æ„å½“ä¸­å»è¿ç®— å’Œ training.</p>
<a id="more"></a>
<h2 id="è®¡ç®—å›¾"><a href="#è®¡ç®—å›¾" class="headerlink" title="è®¡ç®—å›¾"></a>è®¡ç®—å›¾</h2><p><img src="/images/tensorflow/tf-1-why.gif" width="400"></p>
<p>å› ä¸º TensorFlow æ˜¯é‡‡ç”¨æ•°æ®æµå›¾ï¼ˆ<strong>dataã€€flowã€€graphs</strong>ï¼‰æ¥è®¡ç®—, æ‰€ä»¥é¦–å…ˆæˆ‘ä»¬å¾—åˆ›å»ºä¸€ä¸ª<strong>æ•°æ®æµå›¾</strong>, ç„¶åå†å°†æˆ‘ä»¬çš„æ•°æ®ï¼ˆæ•°æ®ä»¥å¼ é‡(<strong>tensor</strong>)çš„å½¢å¼å­˜åœ¨ï¼‰æ”¾åœ¨æ•°æ®æµå›¾ä¸­è®¡ç®—. </p>
<blockquote>
<ul>
<li>Nodes åœ¨å›¾ä¸­è¡¨ç¤ºæ•°å­¦æ“ä½œ</li>
<li>Edges åœ¨å›¾ä¸­åˆ™è¡¨ç¤ºåœ¨èŠ‚ç‚¹é—´ç›¸äº’è”ç³»çš„å¤šç»´æ•°æ®æ•°ç»„ï¼Œå³å¼ é‡ï¼ˆtensorï¼‰</li>
</ul>
</blockquote>
<p>è®­ç»ƒæ¨¡å‹æ—¶ <strong>tensor</strong> ä¼šä¸æ–­çš„ä»æ•°æ®æµå›¾ä¸­çš„ä¸€ä¸ªèŠ‚ç‚¹ <strong>flow</strong> åˆ°å¦ä¸€èŠ‚ç‚¹, è¿™å°±æ˜¯ TensorFlow åå­—çš„ç”±æ¥.</p>
<h2 id="Tensor-å¼ é‡æ„ä¹‰"><a href="#Tensor-å¼ é‡æ„ä¹‰" class="headerlink" title="Tensor å¼ é‡æ„ä¹‰"></a>Tensor å¼ é‡æ„ä¹‰</h2><p><strong>å¼ é‡ï¼ˆTensor)</strong>: å¼ é‡æœ‰å¤šç§. </p>
<ul>
<li>é›¶é˜¶å¼ é‡ä¸º çº¯é‡æˆ–æ ‡é‡ (scalar) ä¹Ÿå°±æ˜¯ä¸€ä¸ªæ•°å€¼. æ¯”å¦‚ <code>[1]</code></li>
<li>ä¸€é˜¶å¼ é‡ä¸º å‘é‡ (vector), æ¯”å¦‚ ä¸€ç»´çš„ <code>[1, 2, 3]</code></li>
<li>äºŒé˜¶å¼ é‡ä¸º çŸ©é˜µ (matrix), æ¯”å¦‚ äºŒç»´çš„ <code>[[1, 2, 3],[4, 5, 6],[7, 8, 9]]</code></li>
</ul>
<blockquote>
<p>ä»¥æ­¤ç±»æ¨, è¿˜æœ‰ ä¸‰é˜¶ ä¸‰ç»´çš„ â€¦</p>
</blockquote>
<h2 id="Reference"><a href="#Reference" class="headerlink" title="Reference"></a>Reference</h2><ul>
<li><a href="https://www.tensorflow.org/" target="_blank" rel="external">tensorflow.org</a></li>
</ul>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[Tensorflow ç¥ç»ç½‘ç»œåœ¨å¹²å˜› ?]]></title>
      <url>http://iequa.com/2018/08/24/tensorflow-1-2-NN-what-do/</url>
      <content type="html"><![CDATA[<p>æœºå™¨å­¦ä¹  å…¶å®å°±æ˜¯è®©ç”µè„‘ä¸æ–­çš„å°è¯•æ¨¡æ‹Ÿå·²çŸ¥çš„æ•°æ®. </p>
<p>ä»–èƒ½çŸ¥é“è‡ªå·±æ‹Ÿåˆçš„æ•°æ®ç¦»çœŸå®çš„æ•°æ®å·®è·æœ‰å¤šè¿œ, ç„¶åä¸æ–­åœ°æ”¹è¿›è‡ªå·±æ‹Ÿåˆçš„å‚æ•°,æé«˜æ‹Ÿåˆçš„ç›¸ä¼¼åº¦.</p>
<a id="more"></a>
<h2 id="æ‹Ÿåˆæ›²çº¿"><a href="#æ‹Ÿåˆæ›²çº¿" class="headerlink" title="æ‹Ÿåˆæ›²çº¿"></a>æ‹Ÿåˆæ›²çº¿</h2><p>æœ¬ä¾‹ä¸­è“è‰²ç¦»æ•£ç‚¹æ˜¯æˆ‘ä»¬çš„æ•°æ®ç‚¹, çº¢çº¿æ˜¯é€šè¿‡ç¥ç»ç½‘ç»œç®—æ³•æ‹Ÿåˆå‡ºæ¥çš„æ›²çº¿</p>
<p><img src="/images/tensorflow/tf-1.2_1.png" width="500"></p>
<p>å®ƒæ˜¯å¯¹æˆ‘ä»¬æ•°æ®ç‚¹çš„ä¸€ä¸ªè¿‘ä¼¼è¡¨è¾¾. å¯ä»¥çœ‹å‡º, åœ¨å¼€å§‹é˜¶æ®µ, çº¢çº¿çš„è¡¨è¾¾èƒ½åŠ›ä¸å¼º, è¯¯å·®å¾ˆå¤§. ä¸è¿‡é€šè¿‡ä¸æ–­çš„å­¦ä¹ , é¢„æµ‹è¯¯å·®å°†ä¼šè¢«é™ä½. æ‰€ä»¥å­¦ä¹ åˆ°åæ¥. çº¢çº¿ä¹Ÿèƒ½è¿‘ä¼¼è¡¨è¾¾å‡ºæ•°æ®çš„æ ·å­.</p>
<p><img src="/images/tensorflow/tf-1.2_2.png" width="500"></p>
<h2 id="æ‹Ÿåˆå‚æ•°"><a href="#æ‹Ÿåˆå‚æ•°" class="headerlink" title="æ‹Ÿåˆå‚æ•°"></a>æ‹Ÿåˆå‚æ•°</h2><p>å¦‚æœçº¢è‰²æ›²çº¿çš„è¡¨è¾¾å¼ä¸ºï¼š<code>y = a*x + b</code> å…¶ä¸­ <code>x</code> ä»£è¡¨ <code>inputs</code>, <code>y</code> ä»£è¡¨ <code>outputs</code>, <code>a</code> å’Œ <code>b</code> æ˜¯ç¥ç»ç½‘ç»œè®­ç»ƒçš„å‚æ•°. æ¨¡å‹è®­ç»ƒå¥½äº†ä»¥å, <code>a</code> å’Œ <code>b</code> çš„å€¼å°†ä¼šè¢«ç¡®å®š, æ¯”å¦‚ <code>a=0.5</code>, <code>b=2</code>, å½“æˆ‘ä»¬å†è¾“å…¥ <code>x=3</code> æ—¶, æˆ‘ä»¬çš„æ¨¡å‹å°±ä¼šè¾“å‡º <code>0.5*3 + 2</code> çš„ç»“æœ. æ¨¡å‹é€šè¿‡å­¦ä¹ æ•°æ®, å¾—åˆ°èƒ½è¡¨è¾¾æ•°æ®çš„å‚æ•°, ç„¶åå¯¹æˆ‘ä»¬å¦å¤–ç»™çš„æ•°æ®æ‰€ä½œå‡ºé¢„æµ‹.</p>
<h2 id="Reference"><a href="#Reference" class="headerlink" title="Reference"></a>Reference</h2><ul>
<li><a href="https://www.tensorflow.org/" target="_blank" rel="external">tensorflow.org</a></li>
<li><a href="https://morvanzhou.github.io/tutorials/machine-learning/tensorflow/" target="_blank" rel="external">è«çƒ¦Python</a></li>
</ul>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[Convolutional Neural Networks (week1) - CNN]]></title>
      <url>http://iequa.com/2018/08/21/deeplearning-ai-Convolutional-Neural-Networks-week1/</url>
      <content type="html"><![CDATA[<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js"],
    jax: ["input/TeX"],
    tex2jax: {
      inlineMath: [ ['$','$'], ['\\(','\\)'] ],
      displayMath: [ ['$$','$$']],
      processEscapes: true
    }
  });
</script>
<script type="text/javascript" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS_HTML,http://myserver.com/MathJax/config/local/local.js">
</script>

<ul>
<li>ç†è§£å¦‚ä½•æ­å»ºä¸€ä¸ªç¥ç»ç½‘ç»œï¼ŒåŒ…æ‹¬æœ€æ–°çš„å˜ä½“ï¼Œä¾‹å¦‚æ®‹ä½™ç½‘ç»œã€‚</li>
<li>çŸ¥é“å¦‚ä½•å°†å·ç§¯ç½‘ç»œåº”ç”¨åˆ°è§†è§‰æ£€æµ‹å’Œè¯†åˆ«ä»»åŠ¡ã€‚</li>
<li>çŸ¥é“å¦‚ä½•ä½¿ç”¨ç¥ç»é£æ ¼è¿ç§»ç”Ÿæˆè‰ºæœ¯ã€‚</li>
<li>èƒ½å¤Ÿåœ¨å›¾åƒã€è§†é¢‘ä»¥åŠå…¶ä»–2Dæˆ–3Dæ•°æ®ä¸Šåº”ç”¨è¿™äº›ç®—æ³•ã€‚</li>
</ul>
<a id="more"></a>
<h2 id="1-Computer-vision"><a href="#1-Computer-vision" class="headerlink" title="1. Computer vision"></a>1. Computer vision</h2><p><img src="/images/deeplearning/C4W1-1_1.png" width="700"></p>
<p><img src="/images/deeplearning/C4W1-2_1.png" width="700"></p>
<blockquote>
<p>å¦‚å›¾ç¤ºï¼Œä¹‹å‰è¯¾ç¨‹ä¸­ä»‹ç»çš„éƒ½æ˜¯ 64 * 64 * 3çš„å›¾åƒ (<strong>3 ä»£è¡¨</strong>:å› ä¸ºæ¯ä¸ªå›¾ç‰‡éƒ½æœ‰3ä¸ªé¢œè‰²é€šé“ channels, 12288 So $X$, <strong>the input features has dimension 12288</strong>)ï¼Œè€Œä¸€æ—¦å›¾åƒè´¨é‡å¢åŠ ï¼Œä¾‹å¦‚å˜æˆ 1000 * 1000 * 3 çš„æ—¶å€™é‚£ä¹ˆæ­¤æ—¶çš„ç¥ç»ç½‘ç»œçš„è®¡ç®—é‡ä¼šå·¨å¤§ï¼Œæ˜¾ç„¶è¿™ä¸ç°å®ã€‚æ‰€ä»¥éœ€è¦å¼•å…¥å…¶ä»–çš„æ–¹æ³•æ¥è§£å†³è¿™ä¸ªé—®é¢˜.</p>
</blockquote>
<h2 id="2-Edge-detection-example"><a href="#2-Edge-detection-example" class="headerlink" title="2. Edge detection example"></a>2. Edge detection example</h2><p>ä½¿ç”¨è¾¹ç¼˜æ£€æµ‹ä½œä¸ºå…¥é—¨æ ·ä¾‹, you see how the convolution operation works.</p>
<p><img src="/images/deeplearning/C4W1-3_1.png" width="700"></p>
<blockquote>
<p>è¾¹ç¼˜æ£€æµ‹å¯ä»¥æ˜¯å‚ç›´è¾¹ç¼˜æ£€æµ‹ï¼Œä¹Ÿå¯ä»¥æ˜¯æ°´å¹³è¾¹ç¼˜æ£€æµ‹ï¼Œå¦‚ä¸Šå›¾æ‰€ç¤º.</p>
</blockquote>
<p>è‡³äºç®—æ³•å¦‚ä½•å®ç°ï¼Œä¸‹é¢ä¸¾ä¸€ä¸ªæ¯”è¾ƒç›´è§‚çš„ä¾‹å­ï¼š</p>
<p><img src="/images/deeplearning/C4W1-4_1.png" width="700"></p>
<blockquote>
<p>å¯ä»¥å¾ˆæ˜æ˜¾çš„çœ‹å‡ºåŸæ¥ 6 * 6 çš„çŸ©é˜µæœ‰æ˜æ˜¾çš„å‚ç›´è¾¹ç¼˜ï¼Œé€šè¿‡ 3 * 3 çš„è¿‡æ»¤å™¨ <strong>filter</strong> (ä¹Ÿå«åš â€œæ ¸â€)å·ç§¯ä¹‹åï¼Œä»ç„¶ä¿ç•™äº†åŸæ¥çš„å‚ç›´è¾¹ç¼˜ç‰¹å¾ï¼Œè™½ç„¶è¿™ä¸ªè¾¹ç¼˜è²Œä¼¼æœ‰ç‚¹ç²—ï¼Œè¿™æ˜¯å› ä¸ºæ•°æ®ä¸å¤Ÿå¤§çš„åŸå› ï¼Œå¦‚æœè¾“å…¥æ•°æ®å¾ˆå¤§çš„è¯è¿™ä¸ªä¸æ˜¯å¾ˆæ˜æ˜¾äº†.</p>
<p>å…³äºç”¨ç¼–ç¨‹è¯­è¨€å®ç°ï¼špython / tensorflow / keras ç­‰ï¼Œéƒ½æœ‰ä¸€äº›å‡½æ•°æ¥å®ç°å·ç§¯è¿ç®—.</p>
</blockquote>
<h2 id="3-More-edge-detection"><a href="#3-More-edge-detection" class="headerlink" title="3. More edge detection"></a>3. More edge detection</h2><p><img src="/images/deeplearning/C4W1-5_1.png" width="700"></p>
<p>é™¤äº†ä¸Šé¢çš„å‚ç›´ï¼Œæ°´å¹³è¾¹ç¼˜æ£€æµ‹ï¼Œå…¶å®ä¹Ÿå¯ä»¥æ£€æµ‹åˆé¢œè‰²è¿‡åº¦å˜åŒ–ï¼Œä¾‹å¦‚æ˜¯äº®å˜æš—ï¼Œè¿˜æ˜¯æš—å˜äº®ï¼Ÿ</p>
<p><img src="/images/deeplearning/C4W1-5_2.png" width="600"></p>
<p><strong>åœ¨è®¡ç®—æœºè§†è§‰çš„å†å²ä¸Šï¼Œå±‚æ›¾ç»å…¬å¹³çš„äº‰è®ºè¿‡å“ªäº›ä»€ä¹ˆæ ·çš„ <code>filter</code> æ•°å­—ç»„åˆæ‰æ˜¯æœ€å¥½çš„:
</strong></p>
<blockquote>
<p><strong>ä¸‹é¢æ˜¯ä¸€äº›å¸¸è§çš„è¿‡æ»¤å™¨ï¼Œç¬¬äºŒä¸ªæ˜¯<code>Sobel filter</code>ï¼Œå…·æœ‰è¾ƒå¼ºçš„é²æ£’æ€§ï¼Œç¬¬ä¸‰ä¸ªæ˜¯<code>Schoss filter</code>.</strong></p>
</blockquote>
<p><img src="/images/deeplearning/C4W1-6_1.png" width="700"></p>
<table>
<thead>
<tr>
<th style="text-align:center">Filter</th>
<th style="text-align:center">desc</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">Sobel Filter</td>
<td style="text-align:center">it puts a little bit more weight to the central row <br> å¢åŠ äº†ä¸­é—´ä¸€è¡Œçš„æƒé‡</td>
</tr>
<tr>
<td style="text-align:center">Schoss Filter</td>
<td style="text-align:center">å®é™…å®ƒä¹Ÿæ˜¯ä¸€ç§å‚ç›´è¾¹ç¼˜æ£€æµ‹ <br> ç¿»è½¬90åº¦ï¼Œå®ƒå°±å˜ä¸ºæ°´å¹³è¾¹ç¼˜æ£€æµ‹ </td>
</tr>
<tr>
<td style="text-align:center">Other Filter</td>
<td style="text-align:center">9ä¸ªå‚æ•°ä¹Ÿå¯ä»¥é€šè¿‡å­¦ä¹ (åå‘ä¼ æ’­)çš„æ–¹å¼è·å¾— </td>
</tr>
</tbody>
</table>
<blockquote>
<p>å…¶å®è¿‡æ»¤å™¨çš„9ä¸ªå‚æ•°ä¹Ÿå¯ä»¥é€šè¿‡å­¦ä¹ (åå‘ä¼ æ’­)çš„æ–¹å¼è·å¾—ï¼Œè™½ç„¶æ¯”è¾ƒè´¹åŠ²ï¼Œä½†æ˜¯å¯èƒ½ä¼šå­¦åˆ°å¾ˆå¤šå…¶ä»–é™¤äº†å‚ç›´ï¼Œæ°´å¹³çš„è¾¹ç¼˜ç‰¹å¾ï¼Œä¾‹å¦‚  45Â°ï¼Œ70Â° ç­‰å„ç§ç‰¹å¾.</p>
</blockquote>
<h2 id="4-Padding"><a href="#4-Padding" class="headerlink" title="4. Padding"></a>4. Padding</h2><blockquote>
<p><strong>ç”±å‰é¢çš„ä¾‹å­, å·ç§¯çš„æ–¹æ³•ï¼Œæœ‰2ä¸ªç¼ºç‚¹:</strong></p>
<ol>
<li><p>æ¯ç»è¿‡ä¸€æ¬¡å·ç§¯è®¡ç®—ï¼ŒåŸæ•°æ®éƒ½ä¼šå‡å°ï¼Œä½†æœ‰æ—¶æˆ‘ä»¬å¹¶ä¸å¸Œæœ›è¿™æ ·ã€‚ä¸¾ä¸ªæ¯”è¾ƒæç«¯çš„ä¾‹å­ï¼šå‡è®¾åŸæ•°æ®æ˜¯ 30 * 30 çš„ä¸€åªçŒ«çš„å›¾åƒï¼Œç»è¿‡10æ¬¡å·ç§¯ (è¿‡æ»¤å™¨æ˜¯3 * 3) åï¼Œæœ€åå›¾åƒåªå‰©ä¸‹äº† 10 * 10 äº† ğŸ˜³ğŸ˜³</p>
</li>
<li><p>ç”±å·ç§¯çš„è®¡ç®—æ–¹æ³•å¯çŸ¥ï¼Œå›¾åƒè¾¹ç¼˜ç‰¹å¾è®¡ç®—æ¬¡æ•°æ˜¾ç„¶å°‘äºå›¾åƒä¸­é—´ä½ç½®çš„åƒç´ ç‚¹ï¼Œå¦‚ä¸‹å›¾ç¤º (ç»¿è‰²çš„ä½ç½®æ˜æ˜¾æ˜¯å†·å®«), å›¾åƒè¾¹ç¼˜çš„å¤§éƒ¨åˆ†ä¿¡æ¯éƒ½ä¸¢å¤±äº†.</p>
</li>
</ol>
</blockquote>
<h3 id="4-1-è¿ç”¨-Padding-çš„åŸå› "><a href="#4-1-è¿ç”¨-Padding-çš„åŸå› " class="headerlink" title="4.1 è¿ç”¨ Padding çš„åŸå› "></a>4.1 è¿ç”¨ Padding çš„åŸå› </h3><p><img src="/images/deeplearning/C4W1-7_1.png" width="500"></p>
<p>åŸæ¥çš„ 6 * 6 å¡«å……åå˜æˆäº† 8 * 8ï¼Œæ­¤æ—¶åœ¨ç»è¿‡ä¸€æ¬¡å·ç§¯å¾—åˆ°çš„ä»æ—§æ˜¯ 6 * 6 çš„çŸ©é˜µã€‚</p>
<p>ä¸‹é¢æ€»ç»“ä¸€ä¸‹å·ç§¯ä¹‹åå¾—åˆ°çŸ©é˜µå¤§å°çš„è®¡ç®—æ–¹æ³•ï¼Œå‡è®¾ï¼š</p>
<table>
<thead>
<tr>
<th style="text-align:center">Title</th>
<th style="text-align:center">Size</th>
<th style="text-align:center">desc</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">åŸæ•°æ®</td>
<td style="text-align:center">$n * n$</td>
<td style="text-align:center">çŸ©é˜µ $n * n$ </td>
</tr>
<tr>
<td style="text-align:center">Filter</td>
<td style="text-align:center">$f * f$</td>
<td style="text-align:center">è¿‡æ»¤å™¨</td>
</tr>
<tr>
<td style="text-align:center">Padding</td>
<td style="text-align:center">$p * p$</td>
<td style="text-align:center">å¡«å……æ•°é‡</td>
</tr>
<tr>
<td style="text-align:center"></td>
<td style="text-align:center"></td>
<td style="text-align:center"></td>
</tr>
<tr>
<td style="text-align:center"><strong>ç»¼ä¸Šï¼š</strong></td>
<td style="text-align:center"><strong>$n+2p-f+1$</strong></td>
<td style="text-align:center">å¾—åˆ°çš„çŸ©é˜µå¤§å°</td>
</tr>
</tbody>
</table>
<blockquote>
<p>padding åï¼Œè™½ç„¶è¾¹ç¼˜åƒç´ ç‚¹ä»æ—§è®¡ç®—çš„æ¯”è¾ƒå°‘ï¼Œä½†æ˜¯è¿™ä¸ªç¼ºç‚¹è‡³å°‘ä¸€å®šç¨‹åº¦ä¸Šè¢«å‰Šå¼±äº†.</p>
</blockquote>
<h3 id="4-2-å¦‚ä½•-padding-çš„å¤§å°"><a href="#4-2-å¦‚ä½•-padding-çš„å¤§å°" class="headerlink" title="4.2 å¦‚ä½• padding çš„å¤§å°"></a>4.2 å¦‚ä½• padding çš„å¤§å°</h3><table>
<thead>
<tr>
<th style="text-align:center">Type</th>
<th style="text-align:center">desc</th>
<th style="text-align:center">Size</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">Valid convolutions</td>
<td style="text-align:center">ä¸æ·»åŠ  padding</td>
<td style="text-align:center">$n - f + 1$</td>
</tr>
<tr>
<td style="text-align:center">Same convolutions</td>
<td style="text-align:center">Pad so that output size is the same as the input size. <br><br> ä¿æŒåŸå›¾åƒçŸ©é˜µçš„å¤§å°</td>
<td style="text-align:center">æ»¡è¶³ $n+2p-f+1 = n$ <br><br> å³ $p=\frac{f-1}{2}$, ä¸ºäº†æ»¡è¶³ä¸Šå¼ï¼Œ$f$ ä¸€èˆ¬å¥‡æ•°</td>
</tr>
</tbody>
</table>
<h2 id="5-Strided-convolutions"><a href="#5-Strided-convolutions" class="headerlink" title="5. Strided convolutions"></a>5. Strided convolutions</h2><p>è¿‡æ»¤å™¨ çºµå‘ã€æ¨ªå‘ éƒ½éœ€è¦æŒ‰ æ­¥é•¿ $S$ æ¥ç§»åŠ¨ï¼Œå¦‚å›¾ç¤º:</p>
<p><img src="/images/deeplearning/C4W1-8_1.png" width="700"></p>
<p>ç»“åˆä¹‹å‰çš„å†…å®¹ï¼Œè¾“å‡ºçŸ©é˜µå¤§å°è®¡ç®—å…¬å¼æ–¹æ³•ä¸ºï¼Œå‡è®¾ï¼š</p>
<table>
<thead>
<tr>
<th style="text-align:center">Title</th>
<th style="text-align:center">Size</th>
<th style="text-align:center">desc</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">åŸæ•°æ®</td>
<td style="text-align:center">$n * n$</td>
<td style="text-align:center">çŸ©é˜µ $n * n$ </td>
</tr>
<tr>
<td style="text-align:center">Filter</td>
<td style="text-align:center">$f * f$</td>
<td style="text-align:center">è¿‡æ»¤å™¨</td>
</tr>
<tr>
<td style="text-align:center">Padding</td>
<td style="text-align:center">$p * p$</td>
<td style="text-align:center">å¡«å……æ•°é‡</td>
</tr>
<tr>
<td style="text-align:center">Stride</td>
<td style="text-align:center">$s * s$</td>
<td style="text-align:center">æ­¥é•¿</td>
</tr>
<tr>
<td style="text-align:center"></td>
<td style="text-align:center"></td>
<td style="text-align:center"></td>
</tr>
<tr>
<td style="text-align:center"><strong>ç»¼ä¸Šï¼š</strong></td>
<td style="text-align:center">å¾—åˆ°çš„çŸ©é˜µå¤§å°æ˜¯</td>
<td style="text-align:center"><strong>âŒŠ$\frac{n+2p-f}{s}$âŒ‹ * âŒŠ$\frac{n+2p-f}{s}$âŒ‹</strong></td>
</tr>
</tbody>
</table>
<blockquote>
<p>âŒŠâŒ‹: å‘ä¸‹å–æ•´ç¬¦å· âŒŠ59/60âŒ‹ = 0</p>
<p>âŒˆâŒ‰: å‘ä¸Šå–æ•´ç¬¦å· âŒˆ59/60âŒ‰ = 1</p>
</blockquote>
<h2 id="6-Convolutions-Over-Volumes"><a href="#6-Convolutions-Over-Volumes" class="headerlink" title="6. Convolutions Over Volumes"></a>6. Convolutions Over Volumes</h2><p>è¿™ä¸€èŠ‚ç”¨ç«‹ä½“å·ç§¯æ¥è§£é‡Š</p>
<p><img src="/images/deeplearning/C4W1-9_1.png" width="700"></p>
<blockquote>
<p><strong>å¦‚å›¾</strong>:</p>
<ul>
<li>è¾“å…¥çŸ©é˜µæ˜¯ $6 * 6 * 3$ (height * width * channels), è¿‡æ»¤å™¨æ˜¯ $3 * 3 * 3$ï¼Œè®¡ç®—æ–¹æ³•æ˜¯ä¸€ä¸€å¯¹åº”ç›¸ä¹˜ç›¸åŠ </li>
<li>æœ€åå¾—åˆ° $4 * 4$ çš„äºŒç»´çŸ©é˜µ.</li>
</ul>
<p>æœ‰æ—¶å¯èƒ½éœ€è¦æ£€æµ‹ æ°´å¹³è¾¹ç¼˜ æˆ– å‚ç›´è¾¹ç¼˜ï¼Œæˆ– å…¶ä»–ç‰¹å¾ï¼Œæ‰€ä»¥æˆ‘ä»¬å¯ä»¥ä½¿ç”¨å¤šä¸ªè¿‡æ»¤å™¨ã€‚ä¸Šå›¾åˆ™ä½¿ç”¨äº†ä¸¤ä¸ªè¿‡æ»¤å™¨ (é»„è‰²å’Œæ©˜é»„è‰²)ï¼Œå¾—åˆ°çš„ç‰¹å¾çŸ©é˜µå¤§å°ä¸º $4 * 4 * 2$.</p>
<p><strong>Filter</strong> æ•°å­—ç»„åˆå‚æ•°çš„é€‰æ‹©ä¸åŒï¼Œä½ å¯ä»¥å¾—åˆ°ä¸åŒçš„ç‰¹å¾æ£€æµ‹å™¨.</p>
</blockquote>
<h2 id="7-One-Layer-of-CNN-Example"><a href="#7-One-Layer-of-CNN-Example" class="headerlink" title="7. One Layer of CNN Example"></a>7. One Layer of CNN Example</h2><p><img src="/images/deeplearning/C4W1-10_1.png" width="700"></p>
<p>å¦‚å›¾ç¤ºå¾—åˆ° <strong>$4 * 4$</strong> çš„çŸ©é˜µåè¿˜éœ€è¦åŠ ä¸Šä¸€ä¸ªåå·® <strong>$b_n$</strong> (Python å¹¿æ’­æœºåˆ¶)ï¼Œä¹‹åè¿˜è¦è¿›è¡Œéçº¿æ€§è½¬æ¢ï¼Œå³ç”¨ ReLU å‡½æ•°.</p>
<p><img src="/images/deeplearning/C4W1-10_2.png" width="700"></p>
<p>å› æ­¤å‡å¦‚åœ¨æŸä¸€å·ç§¯å±‚ä¸­ä½¿ç”¨äº† 10 ä¸ª <strong>$3 * 3$</strong> çš„ <strong>Filter</strong> è¿‡æ»¤å™¨ï¼Œé‚£ä¹ˆä¸€å…±æœ‰ $(3*3+1)*10=280$ ä¸ªå‚æ•°.</p>
<p><img src="/images/deeplearning/C4W1-11_1.png" width="700"></p>
<p>ä¸‹é¢æ€»ç»“äº†å„é¡¹å‚æ•°çš„å¤§å°å’Œè¡¨ç¤ºæ–¹æ³•ï¼š</p>
<table>
<thead>
<tr>
<th style="text-align:center">Title</th>
<th style="text-align:center">Formula</th>
<th style="text-align:center">desc </th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center"><strong>è¾“å…¥çŸ©é˜µ</strong></td>
<td style="text-align:center">$n_H^{l-1} * n_W^{l-1} * n_c^{l-1}$</td>
<td style="text-align:center">$height * width * channels = 6 * 6 * 3$</td>
</tr>
<tr>
<td style="text-align:center">è¿‡æ»¤å™¨å¤§å°</td>
<td style="text-align:center">$f^{[l]}$</td>
<td style="text-align:center"></td>
</tr>
<tr>
<td style="text-align:center">Padding</td>
<td style="text-align:center">$p^{[l]}$</td>
<td style="text-align:center"></td>
</tr>
<tr>
<td style="text-align:center">Stride</td>
<td style="text-align:center">$s^l$</td>
<td style="text-align:center">æ­¥é•¿</td>
</tr>
<tr>
<td style="text-align:center">Each Filter is</td>
<td style="text-align:center">$f^{l} * f^{l} * n_c^{[l-1]}$</td>
<td style="text-align:center">$3 * 3 * 3$  ,  $n_c^{[l-1]} = 3$ <br><br> æ¯ä¸€å·ç§¯å±‚çš„è¿‡æ»¤å™¨çš„é€šé“çš„å¤§å° = è¾“å…¥å±‚çš„é€šé“å¤§å° $n_c^{[l-1]}$</td>
</tr>
<tr>
<td style="text-align:center">Activations æ¿€æ´»å‡½æ•°</td>
<td style="text-align:center">$a^{l}$ = $n_H^{l} * n_W^{l} * n_c^{l}$</td>
<td style="text-align:center">$A^{l}$ = $m * n_H^{l} * n_W^{l} * n_c^{l}$ï¼Œ($m$ä¸ªä¾‹å­)</td>
</tr>
<tr>
<td style="text-align:center">æƒé‡ weight</td>
<td style="text-align:center">$f^{l} * f^{l} * n_c^{[l-1]} * n_c^{[l]}$</td>
<td style="text-align:center">$Filter * è¿‡æ»¤å™¨ä¸ªæ•°$ <br><br> è¿‡æ»¤å™¨çš„ä¸ªæ•° = è¾“å‡ºå±‚çš„é€šé“çš„å¤§å° $n_c^{l}$</td>
</tr>
<tr>
<td style="text-align:center">åå·® bias</td>
<td style="text-align:center">$1 * 1 * 1 * n_c^{[l]}$</td>
<td style="text-align:center"></td>
</tr>
<tr>
<td style="text-align:center"></td>
<td style="text-align:center"></td>
<td style="text-align:center"></td>
</tr>
<tr>
<td style="text-align:center"><strong>è¾“å‡ºçŸ©é˜µ</strong></td>
<td style="text-align:center">$n_H^{l} * n_W^{l} * n_c^{l}$</td>
<td style="text-align:center">$height * width * channels$</td>
</tr>
<tr>
<td style="text-align:center">Output</td>
<td style="text-align:center">$n_{H/W}^{[l]}=[\frac{n_{H/W}^{[l-1]}+2p^{[l]}-f^{[l]}}{s^{[l]}}+1]$</td>
<td style="text-align:center">è¾“å‡ºå±‚ä¸è¾“å…¥å±‚è®¡ç®—å…¬å¼</td>
</tr>
</tbody>
</table>
<h2 id="8-A-Simple-Convolution-Network"><a href="#8-A-Simple-Convolution-Network" class="headerlink" title="8. A Simple Convolution Network"></a>8. A Simple Convolution Network</h2><p><img src="/images/deeplearning/C4W1-12_1.png" width="750"></p>
<p>ä¸Šå›¾ç®€å•ä»‹ç»äº†å·ç§¯ç½‘ç»œçš„è®¡ç®—è¿‡ç¨‹ï¼Œéœ€è¦å†ä»‹ç»çš„ä¸€ç‚¹æ˜¯æœ€åä¸€å±‚çš„å…¨è¿æ¥å±‚ï¼Œå³å°† $7 * 7 * 40$ çš„è¾“å‡ºçŸ©é˜µå±•å¼€ï¼Œå¾—åˆ° $1960$ ä¸ªèŠ‚ç‚¹ï¼Œç„¶åå†é‡‡ç”¨ <strong>Softmax</strong> æ¥è¿›è¡Œé¢„æµ‹.</p>
<blockquote>
<p>ä¸€èˆ¬çš„ <strong>CNN</strong> ä¸­ï¼Œæ¯ä¸€å±‚çŸ©é˜µçš„ <strong>height</strong> å’Œ <strong>width</strong> æ˜¯é€æ¸å‡å°çš„ï¼Œè€Œ <strong>channel</strong> åˆ™æ˜¯å¢åŠ çš„ ($n_c$ åœ¨å¢åŠ ï¼Œ$n_H$ å’Œ $n_W$ åœ¨å‡å°‘).</p>
</blockquote>
<p><strong>CNN ä¸­å¸¸è§çš„ 3 ç§ç±»å‹çš„ layerï¼š</strong></p>
<ol>
<li>Convolution (Conv å·ç§¯å±‚)</li>
<li>Pooling (Pool æ± åŒ–å±‚)</li>
<li>Fully connected (FC å…¨è¿æ¥å±‚)</li>
</ol>
<h2 id="9-Pooling-Layers"><a href="#9-Pooling-Layers" class="headerlink" title="9. Pooling Layers"></a>9. Pooling Layers</h2><p>ä½¿ç”¨æ± åŒ–å±‚æ¥ç¼©å‡æ¨¡å‹çš„å¤§å°ï¼Œæé«˜è®¡ç®—é€Ÿåº¦ï¼ŒåŒæ—¶æé«˜æå–ç‰¹å¾çš„é²æ£’æ€§.</p>
<p><img src="/images/deeplearning/C4W1-13_1.png" width="700"></p>
<p><strong><font color="wathet">æœ€å¤§æ± åŒ–çš„ç›´è§‚ç†è§£</font>:</strong></p>
<p>ä½ å¯ä»¥æŠŠä¸Šé¢ $4 * 4$ è¾“å…¥çœ‹åšæ˜¯æŸäº›ç‰¹å¾çš„é›†åˆ (ä¹Ÿè®¸ä¸æ˜¯)ï¼Œä¹Ÿå°±æ˜¯ç¥ç»ç½‘ç»œä¸­æŸä¸€å±‚çš„åæ¿€æ´»å€¼ï¼Œæ•°å­—å¤§æ„å‘³ç€å¯èƒ½æå–äº†æŸäº›ç‰¹å®šç‰¹å¾. å·¦ä¸Šè±¡é™å…·æœ‰è¿™ä¸ªç‰¹å¾ï¼Œå¯èƒ½æ˜¯ä¸€ä¸ªå‚ç›´è¾¹ç¼˜. or maybe an eyeï¼Œ æ˜¾ç„¶å·¦ä¸Šè±¡é™å…·æœ‰è¿™ä¸ªç‰¹å¾.</p>
<p>æœ€å¤§åŒ–æ“ä½œçš„åŠŸèƒ½å°±æ˜¯åªè¦åœ¨ä»»ä½•ä¸€ä¸ªè±¡é™å†…æå–åˆ°æŸä¸ªç‰¹å¾ï¼Œå®ƒå°±ä¼šä¿ç•™åœ¨æœ€å¤§æ± åŒ–çš„è¾“å‡ºé‡Œ. æœ€å¤§åŒ–æ“ä½œçš„å®é™…ä½œç”¨å°±æ˜¯ï¼šå¦‚æœåœ¨ <strong>Filter</strong> ä¸­æå–åˆ°æŸä¸ªç‰¹å¾ é‚£ä¹ˆä¿ç•™å…¶æœ€å¤§å€¼. å¦‚æœæ²¡æœ‰æå–åˆ°è¿™ä¸ªç‰¹å¾ï¼Œæ¯”å¦‚è¯´ å³ä¸Šè±¡é™ ä¸­ï¼Œé‚£ä¹ˆå…¶æœ€å¤§å€¼ä¹Ÿè¿˜æ˜¯å¾ˆå°. </p>
<blockquote>
<p><code>Max Pooling</code> çš„è¶…çº§å‚æ•° $f=2 / 3$ï¼Œ$s=2$ æ˜¯æœ€å¸¸ç”¨çš„ï¼Œæ•ˆæœç›¸å½“äºé«˜åº¦å’Œå®½åº¦ç¼©å‡ä¸€åŠ. <code>Max Pooling</code> å¾ˆå°‘ç”¨ paddingï¼Œ by far, is $p = 0$ï¼ŒAverage Pooling è¿™ä¸ªç”¨çš„ä¸å¤šï¼Œè¿™ä¸ªä¹Ÿä¼šåŠ å…¥æ›´å¤šçš„è®¡ç®—é‡.</p>
</blockquote>
<h2 id="10-A-CNN-Example"><a href="#10-A-CNN-Example" class="headerlink" title="10. A CNN Example"></a>10. A CNN Example</h2><p>åœ¨ Andrew Ng çš„è¯¾ä»¶ä¸­å°† Conv layer å’Œ Pooling layer åˆå¹¶åœ¨ä¸€èµ·è§†ä¸ºä¸€å±‚ï¼Œå› ä¸ºæ± åŒ–å±‚æ²¡æœ‰å‚æ•° (å› ä¸ºæ± åŒ–å±‚çš„è¿‡æ»¤å™¨ æ— å‚æ•°ï¼Œæœ‰è¶…å‚æ•°ï¼Œè€Œä¸”å…¶å¤§å°å¯ä»¥äº‹å…ˆç¡®å®šå¥½)ã€‚ ä½†æ˜¯åœ¨å…¶ä»–æ–‡çŒ®ä¸­æœ‰å¯èƒ½ä¼šæŠŠæ± åŒ–å±‚ç®—æˆå•ç‹¬çš„å±‚ï¼Œæ‰€ä»¥è§†æƒ…å†µè€Œå®šã€‚</p>
<p><img src="/images/deeplearning/C4W1-14_1.png" width="750"></p>
<p><img src="/images/deeplearning/C4W1-15.jpg" width="750"></p>
<blockquote>
<p>æ± åŒ–å±‚å‚æ•°ä¸ªæ•°ä¸º 0ï¼Œå·ç§¯å±‚å‚æ•°ä¸ªæ•°ä¸€èˆ¬å¤šï¼Œ<strong>fully connected layer</strong> å…¨è¿æ¥å±‚ å‚æ•°å¾ˆå¤š.</p>
</blockquote>
<h2 id="11-Why-Convolutions"><a href="#11-Why-Convolutions" class="headerlink" title="11. Why Convolutions ?"></a>11. Why Convolutions ?</h2><p><img src="/images/deeplearning/C4W1-16_1.png" width="750"></p>
<p>å·ç§¯ ç›¸æ¯”äº FCå…¨è¿æ¥ çš„å¥½å¤„æœ€ç›´è§‚çš„å°±æ˜¯ä½¿ç”¨çš„å‚æ•°æ›´å°‘ï¼Œ<strong>å‚æ•°å…±äº«</strong> å’Œ <strong>ç¨€ç–è¿æ¥</strong>ï¼š</p>
<h3 id="11-1-Parameter-sharing"><a href="#11-1-Parameter-sharing" class="headerlink" title="11.1 Parameter sharing"></a>11.1 Parameter sharing</h3><p>ç‰¹å¾æ£€æµ‹å¦‚å‚ç›´è¾¹ç¼˜æ£€æµ‹å¦‚æœé€‚ç”¨äºå›¾ç‰‡çš„æŸä¸ªåŒºåŸŸï¼Œé‚£ä¹ˆå®ƒä¹Ÿå¯èƒ½é€‚ç”¨äºå›¾ç‰‡çš„å…¶ä»–åŒºåŸŸï¼Œä¹Ÿå°±æ˜¯è¯´å¦‚æœä½ ç”¨ä¸€ä¸ª $3 * 3$ çš„ Filter æ£€æµ‹å‚ç›´è¾¹ç¼˜. é‚£ä¹ˆå›¾ç‰‡çš„å·¦ä¸Šè§’åŒºåŸŸä»¥åŠæ—è¾¹çš„å„ä¸ªåŒºåŸŸéƒ½å¯ä»¥ä½¿ç”¨è¿™ä¸ª $3 * 3$ çš„è¿‡æ»¤å™¨. æ¯ä¸ªç‰¹å¾æ£€æµ‹å™¨ä»¥åŠè¾“å‡ºéƒ½å¯ä»¥åœ¨è¾“å…¥å›¾ç‰‡çš„ä¸åŒåŒºåŸŸä¸­ä½¿ç”¨åŒæ ·çš„å‚æ•°ï¼Œä»¥ä¾¿æå–å‚ç›´è¾¹ç¼˜æˆ–å…¶ä»–ç‰¹å¾ï¼Œå®ƒä¸ä»…é€‚ç”¨äºè¾¹ç¼˜ç‰¹å¾è¿™æ ·çš„ä½é˜¶ç‰¹å¾ï¼ŒåŒæ ·é€‚ç”¨äºé«˜é˜¶ç‰¹å¾. ä¾‹å¦‚ï¼šæå–è„¸ä¸Šçš„çœ¼ç› ç­‰æˆ–è€…å…¶ä»–å¯¹è±¡. è¿™ç§æ˜¯æ•´å¼ å›¾ç‰‡å…±äº«ç‰¹å¾æ£€æµ‹å™¨ æå–æ•ˆæœä¹Ÿå¾ˆå¥½</p>
<p><img src="/images/deeplearning/C4W1-17_1.png" width="750"></p>
<h3 id="11-2-Sparsity-of-Connections"><a href="#11-2-Sparsity-of-Connections" class="headerlink" title="11.2 Sparsity of Connections"></a>11.2 Sparsity of Connections</h3><p>å³è¾¹å›¾ çš„è¾¹ç¼˜ï¼Œä»…ä¸ 36 ä¸ªè¾“å…¥ç‰¹å¾ä¸­çš„ 9 ä¸ªç›¸è¿æ¥, è€Œä¸”å…¶ä»–åƒç´ å€¼éƒ½ä¸ä¼šå¯¹è¾“å‡ºäº§ç”Ÿä»»ä½•å½±å“, è¿™å°±æ˜¯ç¨€ç–è¿æ¥çš„æ¦‚å¿µ. æŸä¸ªè¾“å‡ºç‚¹ï¼Œçœ‹ä¸Šå»åªæœ‰è¿™ 9 ä¸ªè¾“å…¥ç‰¹å¾ä¸è¾“å‡ºç›¸è¿æ¥. å…¶ä»–åƒç´ å¯¹è¾“å‡ºæ²¡æœ‰ä»»ä½•å½±å“. ç¥ç»ç½‘ç»œå¯ä»¥é€šè¿‡è¿™ä¸¤ç§æœºåˆ¶å‡å°‘å‚æ•°. ä»¥ä¾¿äºæˆ‘ä»¬ç”¨æ›´å°çš„è®­ç»ƒé›†è®­ç»ƒå®ƒï¼Œä»è€Œé¢„é˜²è¿‡åº¦æ‹Ÿåˆ. (å·ç§¯æœ‰ä¸€ä¸ªå¹³ç§»ä¸å˜å±æ€§)</p>
<p>ç»¼ä¸Šè¿™äº›å°±æ˜¯å·ç§¯ç¥ç»ç½‘ç»œ CNN è¡¨ç°è‰¯å¥½çš„åŸå› .</p>
<p><img src="/images/deeplearning/C4W1-18_1.png" width="750"></p>
<h2 id="Reference"><a href="#Reference" class="headerlink" title="Reference"></a>Reference</h2><ul>
<li><a href="https://study.163.com/my#/smarts" target="_blank" rel="external">ç½‘æ˜“äº‘è¯¾å ‚ - deeplearning</a></li>
<li><a href="http://www.cnblogs.com/marsggbo/p/7470989.html" target="_blank" rel="external">DeepLearning.aiå­¦ä¹ ç¬”è®°æ±‡æ€»</a></li>
<li><a href="https://zhuanlan.zhihu.com/p/31657315" target="_blank" rel="external">CNNå…¥é—¨è®²è§£ï¼šå·ç§¯å±‚æ˜¯å¦‚ä½•æå–ç‰¹å¾çš„ï¼Ÿ</a></li>
</ul>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[Chatbot èŠå¤©æœºå™¨äºº]]></title>
      <url>http://iequa.com/2018/08/16/chatbot-j3/</url>
      <content type="html"><![CDATA[<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js"],
    jax: ["input/TeX"],
    tex2jax: {
      inlineMath: [ ['$','$'], ['\\(','\\)'] ],
      displayMath: [ ['$$','$$']],
      processEscapes: true
    }
  });
</script>
<script type="text/javascript" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS_HTML,http://myserver.com/MathJax/config/local/local.js">
</script>

<p>Open Domain å¹¿åŸŸ (ä»€ä¹ˆéƒ½èƒ½èŠ)<br>Closed Domain åœ¨ä¸€ä¸ªä¸“ä¸šçš„é¢†åŸŸèƒ½èŠ</p>
<a id="more"></a>
<p>æœºå™¨äººç¬¬ä¸€è¯¾</p>
<p>Open Domain å¹¿åŸŸ (ä»€ä¹ˆéƒ½èƒ½èŠ)<br>Closed Domain åœ¨ä¸€ä¸ªä¸“ä¸šçš„é¢†åŸŸèƒ½èŠ</p>
<p>Retrieval-Based äººè®¾</p>
<p>Generative-Based æ•°æ®é©±åŠ¨ã€éäººè®¾</p>
<p>Generative-AI. SIRIã€BaiduåŠ©æ‰‹ã€å¾ˆå¤šå¤§å‚çš„ç©æ³•ï¼Œè‡ªå¸¦å…¨èƒ½ï¼Œç›®å‰è¡¨ç°è¿˜ä¸æ˜¯å¾ˆå¥½.</p>
<p>æœºå™¨å­¦ä¹ ç¬¬äºŒè¯¾</p>
<p>keras.io ç«çš„ä¸èƒ½å†ç«äº†</p>
<p>gensim è¿™ä¸ªåº“æ˜¯ word2vec æœ€å¥½çš„åº“</p>
<p>Auto-Encoder ä¸šç•Œæœ€å¤è€çš„ï¼Œæ·±åº¦å­¦ä¹ çš„ç®—æ³•åŸºç¡€ï¼Œæ€ç»´æ˜¯æ·±åº¦å­¦ä¹ çš„åŸºçŸ³. æ•ˆæœå¹¶ä¸æ˜¯å¾ˆå¥½. åœ¨é™ç»´çš„é¢†åŸŸåº”ç”¨æ¯”è¾ƒå¤š.</p>
<ul>
<li>Data-specific (åœ¨çŒ«å’Œç‹—ä¸Šé£èµ·çš„ï¼Œä¸èƒ½ç”¨åœ¨è½¦ä¸Š)</li>
<li>Lossy</li>
<li>Learn from examples</li>
</ul>
<hr>
<p>å…³äºèŠå¤©æœºå™¨äººçš„æ€è€ƒ 1.å·¥ç¨‹è€ƒé‡<br>2.æœºå™¨å­¦ä¹ è§’åº¦è€ƒè™‘<br> é¢„å¤‡çŸ¥è¯† 1.æ£€ç´¢ä¸åŒ¹é…<br>2.åˆ†ç±»ä¸æœ´ç´ è´å¶æ–¯<br> chatterbot 1.æ¶æ„ä¸ä½¿ç”¨æ–¹æ³• 2.æºç åˆ†æ</p>
<p>â€“</p>
<p>æ•°æ®é©±åŠ¨çš„æ„ä¹‰æ˜¯</p>
<p>ç®—æ³•è¶Šç®€å•ï¼Œè§£é‡Šæ€§è¶Šå¥½</p>
<p>æ•°æ®é‡è¶³å¤Ÿå¤§ï¼Œè¦†ç›–çš„çœŸå®ä¸–ç•Œçš„å¤§éƒ¨åˆ†åœºæ™¯</p>
<p>open domoin å¼€æ”¾å¼<br>å…·ä½“æŸä¸€ä»»åŠ¡çš„</p>
<p>ChatterBotæ˜¯ä¸€ä¸ªåŸºäºæœºå™¨å­¦ä¹ çš„èŠå¤©æœºå™¨äººå¼•æ“ï¼Œæ„å»ºåœ¨pythonä¸Šï¼Œä¸»è¦ç‰¹ ç‚¹æ˜¯å¯ä»¥è‡ªå¯ä»¥ä»å·²æœ‰çš„å¯¹è¯ä¸­è¿›è¡Œå­¦(jiyi)ä¹ (pipei)ã€‚</p>
<p>åœºæ™¯åˆ†ç±»æœ€ç®€å•çš„æ˜¯ æœ´ç´ è´å¶æ–¯</p>
<p>trainer=â€™chatterbot.trainers.ListTrainerâ€™ ç»™æˆ‘çš„è®­ç»ƒæ˜¯ä¸€ä¸ªåˆ—è¡¨</p>
<h2 id="Chatbotçš„æ·±åº¦å­¦ä¹ -4"><a href="#Chatbotçš„æ·±åº¦å­¦ä¹ -4" class="headerlink" title="Chatbotçš„æ·±åº¦å­¦ä¹  4"></a>Chatbotçš„æ·±åº¦å­¦ä¹  4</h2><p>é¢„æµ‹ä¸€å¥è¯</p>
<p>æˆ‘çˆ±åŒ—äº¬å¤©å®‰é—¨</p>
<p>åˆ°äº†æ¯ä¸ªä½ç½®ï¼Œéƒ½æ˜¯é¢„æµ‹ä¸‹ä¸€ä¸ªè¯, softmax 4Wä¸ªè¯çš„ å“ªä¸€ä¸ªï¼Œæ¦‚ç‡å‘é‡.</p>
<p>$X_t$ æ˜¯æ—¶é—´tå¤„çš„è¾“å…¥ (æˆªæ­¢å½“å‰ä½ç½®ï¼Œæ•è·çš„æ‰€æœ‰æ•è·çš„ä¿¡æ¯)</p>
<p>$O_t$ æ˜¯æ¦‚ç‡å‘é‡</p>
<p>åŒå‘RNNï¼Œå°±æ˜¯ ä»å‰å¾€å å’Œ ä»åå¾€å‰ éƒ½èƒ½æ•æ‰åˆ°ä¿¡æ¯.</p>
<p>æ·±å±‚åŒå‘RNNï¼Œ</p>
<p>æ²¿ç€æ—¶é—´è½´åšä¸€ä¸ªæŸå¤±å€¼ï¼Œå’Œæ ‡å‡†ç­”æ¡ˆä¹‹é—´çš„å·®è·</p>
<p>BPTT æ²¿ç€æ—¶é—´è½´çš„åå‘ä¼ æ’­ã€‚</p>
<p>å›¾ç‰‡ä¿¡æ¯åªåœ¨ç¬¬ä¸€æ¬¡çŒå…¥å°±å¥½äº†</p>
<h3 id="LSTM"><a href="#LSTM" class="headerlink" title="LSTM"></a>LSTM</h3><p>Understanding LSTM Networks, colah, 2015</p>
<p>ä¼ é€å¸¦</p>
<h3 id="çœ‹å›¾è¯´è¯"><a href="#çœ‹å›¾è¯´è¯" class="headerlink" title="çœ‹å›¾è¯´è¯"></a>çœ‹å›¾è¯´è¯</h3><p>loss</p>
<p>CNN è¿™è¾¹æ˜¯ç›´æ¥å–çš„ä¸€ä¸ªç¥ç»ç½‘ç»œ</p>
<blockquote>
<p>ä¸è¦é™·å…¥ç»†èŠ‚</p>
</blockquote>
<p>æ¥çœ‹çœ‹Tensorflowçš„å®ç°</p>
<h3 id="åº”è¯¥æ€ä¹ˆåš"><a href="#åº”è¯¥æ€ä¹ˆåš" class="headerlink" title="åº”è¯¥æ€ä¹ˆåš"></a>åº”è¯¥æ€ä¹ˆåš</h3><p>åŒ¹é…æœ¬èº«æ˜¯ä¸€ä¸ªæ¨¡ç³Šçš„åœºæ™¯</p>
<p>å¯ä»¥è½¬åŒ–ä¸ºåˆ†ç±»é—®é¢˜</p>
<p>microsoft çš„å¯¹è¯è¯­æ–™åº“éå¸¸å¤§ï¼Œä¸åŒçš„åœºæ™¯ æŠ½å–ä¸åŒçš„ç±»ç›®æ•°æ®</p>
<p>ä»¥ä¸åŒçš„æ¦‚ç‡æŠ½å–è´Ÿæ ·æœ¬</p>
<blockquote>
<p>å¥½å•Šï¼Œéšä¾¿ï¼Œå¯ä»¥ï¼Œè¿™ç§ç­”æ¡ˆæ˜¯æ²¡æœ‰æ„ä¹‰çš„</p>
</blockquote>
<p>queryçš„å¹³å‡é•¿åº¦ä¸º86ä¸ªwordï¼Œè€Œresponseçš„å¹³å‡é•¿åº¦ä¸º17ä¸ª word</p>
<h3 id="ç¥ç»ç½‘ç»œå»ºæ¨¡"><a href="#ç¥ç»ç½‘ç»œå»ºæ¨¡" class="headerlink" title="ç¥ç»ç½‘ç»œå»ºæ¨¡"></a>ç¥ç»ç½‘ç»œå»ºæ¨¡</h3><p>ä¸ç®¡ç½‘ç»œç»“æ„å¦‚ä½•ï¼Œä½ æŠ“ä½æœ€å¥½çš„ loss function</p>
<p>100 W æ ·æœ¬ï¼Œ50W+ï¼Œ 50W-ï¼Œ è¿™æ ·çš„æ•°æ®é›†</p>
<p>æˆ‘ä»¬æ‹¿æ¥åšè®­ç»ƒï¼Œè¿™æ ·çš„ç½‘ç»œç»“æ„ï¼Œä¸ç®¡å¦‚ä½•æ­å»ºï¼Œéƒ½ä¸è¦å¤ªæ‹…å¿ƒï¼Œä½ å°±æŠ“ä½ loss functionï¼Œä½ çš„æŸå¤±å‡½æ•°ç”± c å’Œ r å†³å®šçš„ã€‚ c å’Œ r æ˜¯ç”±äºä¸Šé¢çš„ç»“æ„äº§ç”Ÿçš„ï¼Œæ‰€ä»¥æˆ‘ä»¬å°±å¯ä»¥ç”¨ BPTT åšè®­ç»ƒäº†. </p>
<p>Query å’Œ Respon éƒ½æ˜¯æˆ‘ä»¬åˆ†è¯åç”¨çš„ word embmmingï¼ŒçŒå…¥ RNN ä¸­ï¼Œæˆ‘ä»¬æŠŠ LSTM é¡ºç€æ•æ‰ä¸‹æ¥ï¼Œå½“åšé—®é¢˜å’Œå›ç­”ï¼Œä¸¤ä¸ªæ•æ‰çš„ä¿¡æ¯æ¥åšåŒ¹é…ï¼Œæˆ‘æ‰¾äº†ä¸ªå‚æ•° Mï¼Œæ¥åš c å’Œ r çš„åŒ¹é…ã€‚ M æ˜¯ä¸€å®šçš„ï¼ŒåŒ¹é…ç¨‹åº¦å’Œæ–¹å¼ä¸€è‡´.</p>
<p>M åˆå§‹åŒ–çš„æ—¶å€™å¯ä»¥ç”± radom æ˜¯ç”Ÿæˆ. M ä¹‹åæ˜¯å¯ä»¥é€šè¿‡è®­ç»ƒåšæ›´æ–°çš„.</p>
<p>åŸä½œè€…ç»™çš„ä»£ç æ˜¯ TF çš„è€ç‰ˆæœ¬ï¼Œæˆ‘ç”±ç»™ä¿®æ­£äº†ä¸€ä¸‹ï¼Œç°åœ¨ 1.0 ä¸Šå¯ä»¥è·‘äº†.</p>
<p>ç®€å•è¿‡ä¸‹ä»£ç </p>
<p>åˆ†æ­¥éª¤è¿›è¡Œ</p>
<ol>
<li>æ•°æ®é¢„å¤„ç† tfrecords ï¼ˆTFå¯ä»¥è‡ªåŠ¨è¯»è¿›å»çš„æ ¼å¼ï¼‰</li>
<li>1</li>
</ol>
<h2 id="7æœˆ-ç¬¬5è¯¾"><a href="#7æœˆ-ç¬¬5è¯¾" class="headerlink" title="7æœˆ ç¬¬5è¯¾"></a>7æœˆ ç¬¬5è¯¾</h2><p>æ–‡æœ¬ç›´æ¥æ”¾å…¥å†…å­˜å¤ªå¤§äº†ï¼Œæ‰€ä»¥æˆ‘ä»¬ç›´æ¥è½¬æˆ TF å¯ä»¥ç›´æ¥è¯»çš„å½¢å¼ tfrecords æ ¼å¼ç»“å°¾</p>
<p>å¯ä»¥ç”¨ TF è‡ªå¸¦çš„ä¸œè¥¿ load æ•°æ®</p>
<p>GPU èµ„æºæ˜¯å¾ˆè´µçš„</p>
<p>é€Ÿåº¦æ–¹é¢ ï¼š</p>
<ol>
<li>è¯»æ•°æ®çš„é€Ÿåº¦</li>
<li>GPU çš„è¿ç®—é€Ÿåº¦</li>
</ol>
<blockquote>
<p>æˆ‘ä»¬å°½å¿«è¯»å¾—å¿«ï¼Œä½†æ˜¯è¯»æ•°æ®å¤ªå¿«äº†ï¼ŒGPU å¤„ç†å°±è·Ÿä¸ä¸Šï¼Œ ç„¶åå¯ä»¥è·Ÿé˜Ÿåˆ—ï¼ŒTF å®Œæˆ</p>
</blockquote>
<p>çœ‹ä¸‹ä»£ç </p>
<p>ä»£ç åˆ†ä¸ºå‡ ä¸ªç¯èŠ‚</p>
<p>ç¬¬ä¸€éƒ¨åˆ†</p>
<p>  scripts/prepare_data.py<br>   å°†æˆ‘çš„ trainã€valid csv éƒ½è½¬æ¢æˆ tfrecords çš„æ ¼å¼</p>
<p>   æœ€å°çš„è¯é¢‘æ˜¯ 5  ä¸è¦äº†ï¼Œé•¿åº¦è¶…è¿‡ 160 ä¹Ÿä¸è¦äº†.</p>
<p>   tokenizer æ–‡æœ¬åˆ†è¯</p>
<p>   è‡ªå¸¦æ•°æ®è½¬åŒ–ï¼Œå› ä¸º TF è‡ªå¸¦äº†å¾ˆå¤šä¸œè¥¿</p>
<p>   vocab_processor æ–‡æœ¬è½¬å˜å‘é‡</p>
<p>   transform</p>
<p>   å¬è¯¾åˆ° 1:41:00</p>
<p>ç¬¬äºŒéƒ¨åˆ†</p>
<p>  models</p>
<p>ç¬¬ä¸‰éƒ¨åˆ†</p>
<p>  è¯„ä»·</p>
<h2 id="12-Reference"><a href="#12-Reference" class="headerlink" title="12. Reference"></a>12. Reference</h2><ul>
<li><a href="https://study.163.com/my#/smarts" target="_blank" rel="external">ç½‘æ˜“äº‘è¯¾å ‚ - deeplearning</a></li>
<li><a href="http://www.cnblogs.com/marsggbo/p/7470989.html" target="_blank" rel="external">DeepLearning.aiå­¦ä¹ ç¬”è®°æ±‡æ€»</a></li>
<li><a href="https://www.ctolib.com/Yukong-Deeplearning-ai-Solutions.html" target="_blank" rel="external">deeplearning.aiæ·±åº¦å­¦ä¹ è¯¾ç¨‹å­—å¹•ç¿»è¯‘é¡¹ç›®</a></li>
<li><a href="https://blog.csdn.net/Jerr__y/article/details/53749693" target="_blank" rel="external">seq2seqå­¦ä¹ ç¬”è®°</a></li>
</ul>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[Sequence Models (week3) - Attention mechanism]]></title>
      <url>http://iequa.com/2018/08/14/deeplearning-ai-Sequence-Models-week3/</url>
      <content type="html"><![CDATA[<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js"],
    jax: ["input/TeX"],
    tex2jax: {
      inlineMath: [ ['$','$'], ['\\(','\\)'] ],
      displayMath: [ ['$$','$$']],
      processEscapes: true
    }
  });
</script>
<script type="text/javascript" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS_HTML,http://myserver.com/MathJax/config/local/local.js">
</script>

<p>èƒ½å¤Ÿå°†åºåˆ—æ¨¡å‹åº”ç”¨åˆ°è‡ªç„¶è¯­è¨€é—®é¢˜ã€éŸ³é¢‘åº”ç”¨ ç­‰ï¼ŒåŒ…æ‹¬æ–‡å­—åˆæˆã€è¯­éŸ³è¯†åˆ«å’ŒéŸ³ä¹åˆæˆã€‚</p>
<a id="more"></a>
<h2 id="1-Basic-models"><a href="#1-Basic-models" class="headerlink" title="1. Basic models"></a>1. Basic models</h2><p>å‡è®¾éœ€è¦ç¿»è¯‘ä¸‹é¢è¿™å¥è¯</p>
<blockquote>
<p>â€œç®€å°†è¦åœ¨9æœˆè®¿é—®ä¸­å›½â€</p>
</blockquote>
<p>æˆ‘ä»¬å¸Œæœ›å¾—åˆ°çš„ç»“æœæ˜¯</p>
<blockquote>
<p>â€œ<strong>Jane is visiting China in September</strong>â€</p>
</blockquote>
<p>åœ¨è¿™ä¸ªä¾‹å­ä¸­è¾“å…¥çš„æ•°é‡æ˜¯10ä¸ªä¸­æ–‡æ±‰å­—ï¼Œè¾“å‡ºä¸º6ä¸ªå•è¯ï¼Œ $T_x$ ä¸ $T_y$ æ•°é‡ä¸ä¸€è‡´ï¼Œå°±éœ€è¦ç”¨åˆ° Sequence to sequence model <strong>RNN</strong></p>
<p><img src="/images/deeplearning/C5W3-1.jpg" width="750"></p>
<p>ç±»ä¼¼çš„ä¾‹å­è¿˜æœ‰ç”¨æœºå™¨ä¸ºä¸‹é¢è¿™å¼ å›¾ç‰‡ç”Ÿæˆæè¿°</p>
<p><img src="/images/deeplearning/C5W3-2.png" width="600"></p>
<p>åªéœ€è¦å°†encoderéƒ¨åˆ†ç”¨ä¸€ä¸ªCNNæ¨¡å‹æ›¿æ¢å°±å¯ä»¥äº†ï¼Œæ¯”å¦‚AlexNetï¼Œå°±å¯ä»¥å¾—åˆ°â€œä¸€åªï¼ˆå¯çˆ±çš„ï¼‰çŒ«èººåœ¨æ¥¼æ¢¯ä¸Šâ€</p>
<h2 id="2-Picking-the-most-likely-sentence"><a href="#2-Picking-the-most-likely-sentence" class="headerlink" title="2. Picking the most likely sentence"></a>2. Picking the most likely sentence</h2><p>ä¸‹é¢å°†ä¹‹å‰å­¦ä¹ çš„è¯­è¨€æ¨¡å‹å’Œæœºå™¨ç¿»è¯‘æ¨¡å‹åšä¸€ä¸ªå¯¹æ¯”, Pä¸ºæ¦‚ç‡</p>
<p>è¯­è¨€æ¨¡å‹:</p>
<p><img src="/images/deeplearning/C5W3-3.png" width="700"></p>
<p>æœºå™¨ç¿»è¯‘æ¨¡å‹:</p>
<p><img src="/images/deeplearning/C5W3-4.png" width="750"></p>
<p>å¯ä»¥çœ‹åˆ°ï¼Œæœºå™¨ç¿»è¯‘æ¨¡å‹çš„ååŠéƒ¨åˆ†å…¶å®å°±æ˜¯è¯­è¨€æ¨¡å‹ï¼ŒAndrew å°†å…¶ç§°ä¹‹ä¸ºâ€œæ¡ä»¶è¯­è¨€æ¨¡å‹â€ï¼Œåœ¨è¯­è¨€æ¨¡å‹ä¹‹å‰æœ‰ä¸€ ä¸ªæ¡ä»¶ä¹Ÿå°±æ˜¯è¢«ç¿»è¯‘çš„å¥å­:</p>
<p>$$<br>P(y^{<1>},â€¦,y^{&lt;{T_y}&gt;}|x^{<1>},â€¦,x^{&lt;{T_x}&gt;})<br>$$</1></1></p>
<blockquote>
<p>ä½†æ˜¯æˆ‘ä»¬çŸ¥é“ç¿»è¯‘æ˜¯æœ‰å¾ˆå¤šç§æ–¹å¼çš„ï¼ŒåŒä¸€å¥è¯å¯ä»¥ç¿»è¯‘æˆå¾ˆå¤šä¸åŒçš„å¥å­ï¼Œé‚£ä¹ˆæˆ‘ä»¬å¦‚ä½•åˆ¤æ–­å“ªä¸€ä¸ªå¥å­æ˜¯æœ€å¥½çš„å‘¢ï¼Ÿ</p>
<p>è¿˜æ˜¯ç¿»è¯‘ä¸Šé¢é‚£å¥è¯ï¼Œæœ‰å¦‚ä¸‹å‡ ç§ç¿»è¯‘ç»“æœï¼š</p>
<ul>
<li>â€œJane is visiting China in September.â€</li>
<li>â€œJane is going to visit China in September.â€</li>
<li>â€œIn September, Jane will visit Chinaâ€</li>
<li>â€œJaneâ€™s Chinese friend welcomed her in September.â€</li>
<li>â€¦.</li>
</ul>
<p>ä¸è¯­è¨€æ¨¡å‹ä¸åŒçš„æ˜¯ï¼Œæœºå™¨æ¨¡å‹åœ¨è¾“å‡ºéƒ¨åˆ†ä¸å†ä½¿ç”¨softmaxéšæœºåˆ†å¸ƒçš„å½¢å¼è¿›è¡Œå–æ ·ï¼Œå› ä¸ºå¾ˆå®¹æ˜“å¾—åˆ°ä¸€ä¸ªä¸å‡†ç¡®çš„ç¿»è¯‘ï¼Œå–è€Œä»£ä¹‹çš„æ˜¯ä½¿ç”¨ <code>Beam Search</code> åšæœ€ä¼˜åŒ–çš„é€‰æ‹©ã€‚è¿™ä¸ªæ–¹æ³•ä¼šåœ¨åä¸‹ä¸€å°èŠ‚ä»‹ç»ï¼Œåœ¨æ­¤ä¹‹å‰å…ˆä»‹ç»ä¸€ä¸‹<strong>è´ªå©ªæœç´¢(Greedy Search)</strong>åŠå…¶å¼Šç«¯ï¼Œè¿™æ ·æ‰èƒ½æ›´å¥½åœ°äº†è§£Beam Searchçš„ä¼˜ç‚¹ã€‚</p>
</blockquote>
<h3 id="2-1-Greedy-Search"><a href="#2-1-Greedy-Search" class="headerlink" title="2.1 Greedy Search"></a>2.1 Greedy Search</h3><p>å¾—åˆ°æœ€å¥½çš„ç¿»è¯‘ç»“æœï¼Œè½¬æ¢æˆæ•°å­¦å…¬å¼å°±æ˜¯:</p>
<p>$$<br>argmax P(y^{<1>},â€¦,y^{&lt;{T_y}&gt;}|x^{<1>},â€¦,x^{&lt;{T_x}&gt;})<br>$$</1></1></p>
<p>é‚£ä¹ˆè´ªå©ªæœç´¢æ˜¯ä»€ä¹ˆå‘¢ï¼Ÿ</p>
<p>é€šä¿—è§£é‡Šå°±æ˜¯æ¯æ¬¡è¾“å‡ºçš„é‚£ä¸ªéƒ½å¿…é¡»æ˜¯æœ€å¥½çš„ã€‚è¿˜æ˜¯ä»¥ç¿»è¯‘é‚£å¥è¯ä¸ºä¾‹ã€‚</p>
<p>ç°åœ¨å‡è®¾é€šè¿‡è´ªå©ªæœç´¢å·²ç»ç¡®å®šæœ€å¥½çš„ç¿»è¯‘çš„å‰ä¸¤ä¸ªå•è¯æ˜¯ï¼šâ€Jane is â€œ</p>
<p>ç„¶åå› ä¸ºâ€goingâ€è¿™ä¸ªå•è¯å‡ºç°é¢‘ç‡è¾ƒé«˜å’Œå…¶å®ƒåŸå› ï¼Œæ‰€ä»¥æ ¹æ®è´ªå©ªç®—æ³•å¾—å‡ºæ­¤æ—¶ç¬¬ä¸‰ä¸ªå•è¯çš„æœ€å¥½ç»“æœæ˜¯â€goingâ€ã€‚</p>
<p>æ‰€ä»¥æ®è´ªå©ªç®—æ³•æœ€åçš„ç¿»è¯‘ç»“æœå¯èƒ½æ˜¯ä¸‹å›¾ä¸­çš„ç¬¬äºŒä¸ªå¥å­ï¼Œä½†ç¬¬ä¸€å¥å¯èƒ½ä¼šæ›´å¥½(ä¸æœæ°”çš„è¯ï¼Œæˆ‘ä»¬å°±å‡è®¾ç¬¬ä¸€å¥æ›´å¥½).</p>
<p><img src="/images/deeplearning/C5W3-5.png" width="700"></p>
<p>æ‰€ä»¥è´ªå©ªæœç´¢çš„ç¼ºç‚¹æ˜¯å±€éƒ¨æœ€ä¼˜å¹¶ä¸ä»£è¡¨å…¨å±€æœ€ä¼˜ï¼Œå°±å¥½åƒäº”é»‘ï¼Œä¸€é˜Ÿéƒ½æ˜¯å¾ˆç‰›é€¼çš„ï¼Œä½†æ˜¯å„ä¸ªéƒ½å¤ªä¼˜ç§€ï¼Œå°±æ˜¾å¾—æ²¡é‚£ä¹ˆä¼˜ç§€äº†ï¼Œè€Œå¦ä¸€é˜Ÿè™½ç„¶è¯´ä¸æ˜¯æ¯ä¸ªéƒ½æ˜¯æœ€ä¼˜ç§€ï¼Œä½†æ˜¯å‡‘åœ¨ä¸€èµ·å°±æ˜¯èƒ½carryå…¨åœºã€‚</p>
<p>æ›´å½¢è±¡çš„ç†è§£å¯èƒ½å°±æ˜¯è´ªå©ªæœç´¢æ›´åŠ çŸ­è§†ï¼Œçœ‹çš„ä¸é•¿è¿œï¼Œè€Œä¸”ä¹Ÿæ›´åŠ è€—æ—¶ã€‚å‡è®¾å­—å…¸ä¸­å…±æœ‰10000ä¸ªå•è¯ï¼Œå¦‚æœä½¿ç”¨è´ªå©ªæœç´¢ï¼Œé‚£ä¹ˆå¯èƒ½çš„ç»„åˆæœ‰1000010ç§ï¼Œæ‰€ä»¥è¿˜æ˜¯æŒºææ€–çš„2333~~</p>
<h2 id="3-Beam-Search"><a href="#3-Beam-Search" class="headerlink" title="3. Beam Search"></a>3. Beam Search</h2><p><strong>Beam Search</strong> æ˜¯greedy searchçš„åŠ å¼ºç‰ˆæœ¬ï¼Œé¦–å…ˆè¦é¢„è®¾ä¸€ä¸ªå€¼ beam widthï¼Œè¿™é‡Œç­‰äº <code>3</code> (å¦‚æœç­‰äº<strong>1</strong>å°±æ˜¯<strong>greedy search</strong>)ã€‚ç„¶ååœ¨æ¯ä¸€æ­¥ä¿å­˜æœ€ä½³çš„3ä¸ªç»“æœè¿›è¡Œä¸‹ä¸€æ­¥çš„é€‰æ‹©ï¼Œä»¥æ­¤ç›´åˆ°é‡åˆ°å¥å­çš„ç»ˆç»“ç¬¦.</p>
<h3 id="3-1-æ­¥éª¤ä¸€"><a href="#3-1-æ­¥éª¤ä¸€" class="headerlink" title="3.1 æ­¥éª¤ä¸€"></a>3.1 æ­¥éª¤ä¸€</h3><p>å¦‚ä¸‹å›¾ç¤ºï¼Œå› ä¸ºbeam width=3ï¼Œæ‰€ä»¥æ ¹æ®è¾“å…¥çš„éœ€è¦ç¿»è¯‘çš„å¥å­é€‰å‡º 3 ä¸ª $y^{<1>}$æœ€å¯èƒ½çš„è¾“å‡ºå€¼ï¼Œå³é€‰å‡º$P(y^{<1>}|x)$æœ€å¤§çš„å‰3ä¸ªå€¼ã€‚å‡è®¾åˆ†åˆ«æ˜¯â€inâ€,â€janeâ€,â€septemberâ€</1></1></p>
<p><img src="/images/deeplearning/C5W3-6_1.png" width="700"></p>
<h3 id="3-2-æ­¥éª¤äºŒ"><a href="#3-2-æ­¥éª¤äºŒ" class="headerlink" title="3.2 æ­¥éª¤äºŒ"></a>3.2 æ­¥éª¤äºŒ</h3><p>ä»¥â€<strong>in</strong>â€œä¸ºä¾‹è¿›è¡Œè¯´æ˜ï¼Œå…¶ä»–åŒç†.</p>
<p>å¦‚ä¸‹å›¾ç¤ºï¼Œåœ¨ç»™å®šè¢«ç¿»è¯‘å¥å­ $x$ å’Œç¡®å®š $y^{<1>}$ = â€œ<strong>in</strong>â€œ çš„æ¡ä»¶ä¸‹ï¼Œä¸‹ä¸€ä¸ªè¾“å‡ºå€¼çš„æ¡ä»¶æ¦‚ç‡æ˜¯ $P(y^{<2>}|x,â€inâ€)$ã€‚æ­¤æ—¶éœ€è¦ä» 10000 ç§å¯èƒ½ä¸­æ‰¾å‡ºæ¡ä»¶æ¦‚ç‡æœ€é«˜çš„å‰ 3 ä¸ª.</2></1></p>
<p>åˆç”±å…¬å¼ $P(y^{<1>},y^{<2>}|x)=P(y^{<1>}|x) P(y^{<2>}|x, y^{<1>})$, æˆ‘ä»¬æ­¤æ—¶å·²ç»å¾—åˆ°äº†ç»™å®šè¾“å…¥æ•°æ®ï¼Œå‰ä¸¤ä¸ªè¾“å‡ºå€¼çš„è¾“å‡ºæ¦‚ç‡æ¯”è¾ƒå¤§çš„ç»„åˆäº†.</1></2></1></2></1></p>
<p><img src="/images/deeplearning/C5W3-7_1.png" width="700"></p>
<p>å¦å¤– 2 ä¸ªå•è¯ä¹ŸåšåŒæ ·çš„è®¡ç®—</p>
<p><img src="/images/deeplearning/C5W3-8_1.png" width="700"></p>
<p>æ­¤æ—¶æˆ‘ä»¬å¾—åˆ°äº† 9 ç»„ $P(y^{<1>},y^{<2>}|x)$, æ­¤æ—¶æˆ‘ä»¬å†ä»è¿™ 9ç»„ ä¸­é€‰å‡ºæ¦‚ç‡å€¼æœ€é«˜çš„å‰ 3 ä¸ªã€‚å¦‚ä¸‹å›¾ç¤ºï¼Œå‡è®¾æ˜¯è¿™3ä¸ªï¼š</2></1></p>
<ul>
<li>â€œin septemberâ€</li>
<li>â€œjane isâ€</li>
<li>â€œjane visitsâ€</li>
</ul>
<p><img src="/images/deeplearning/C5W3-9_1.png" width="550"></p>
<h3 id="3-3-æ­¥éª¤ä¸‰"><a href="#3-3-æ­¥éª¤ä¸‰" class="headerlink" title="3.3 æ­¥éª¤ä¸‰"></a>3.3 æ­¥éª¤ä¸‰</h3><p>ç»§ç»­æ­¥éª¤2çš„è¿‡ç¨‹ï¼Œæ ¹æ® $P(y^{<3>}|x,y^{<1>},y^{<2>})$ é€‰å‡º $P(y^{<1>},y^{<2>},y^{<3>}|x)$ æœ€å¤§çš„å‰3ä¸ªç»„åˆ.</3></2></1></2></1></3></p>
<p>åé¢é‡å¤ä¸Šè¿°æ­¥éª¤å¾—å‡ºç»“æœ.</p>
<h3 id="3-4-æ€»ç»“"><a href="#3-4-æ€»ç»“" class="headerlink" title="3.4 æ€»ç»“"></a>3.4 æ€»ç»“</h3><p>æ€»ç»“ä¸€ä¸‹ä¸Šé¢çš„æ­¥éª¤å°±æ˜¯ï¼š</p>
<blockquote>
<ul>
<li><p>(1). ç»è¿‡ encoder ä»¥åï¼Œdecoder ç»™å‡ºæœ€æœ‰å¯èƒ½çš„ä¸‰ä¸ªå¼€å¤´è¯ä¾æ¬¡ä¸º â€œinâ€, â€œjaneâ€, â€œseptemberâ€<br>$$P(y^{<1>}|x)$$</1></p>
</li>
<li><p>(2). ç»è¿‡å°†ç¬¬ä¸€æ­¥å¾—åˆ°çš„å€¼è¾“å…¥åˆ°ç¬¬äºŒæ­¥ä¸­ï¼Œæœ€æœ‰å¯èƒ½çš„ä¸‰ä¸ªç¿»è¯‘ä¸º â€œin septemberâ€, â€œjane isâ€, â€œjane visitsâ€ </p>
</li>
</ul>
<p>$$P(y^{<2>}|x,y^{<1>})$$</1></2></p>
<p>(è¿™é‡Œï¼Œseptemberå¼€å¤´çš„å¥å­ç”±äºæ¦‚ç‡æ²¡æœ‰å…¶ä»–çš„å¯èƒ½æ€§å¤§ï¼Œå·²ç»å¤±å»äº†ä½œä¸ºå¼€å¤´è¯èµ„æ ¼)</p>
<ul>
<li>(3). ç»§ç»­è¿™ä¸ªè¿‡ç¨‹â€¦ </li>
</ul>
<p>$$P(y^{<3>}|x,y^{<1>},y^{<2>})$$</2></1></3></p>
</blockquote>
<p><img src="/images/deeplearning/C5W3-10_1.png" width="750"></p>
<h2 id="4-Refinements-to-beam-search"><a href="#4-Refinements-to-beam-search" class="headerlink" title="4. Refinements to beam search"></a>4. Refinements to beam search</h2><p>$$<br>P(y^{<1>},â€¦.,P(y^{T_y})|x)=P(y^{<1>}|x)P(y^{<2>}|x,y^{<1>})â€¦P(y^{&lt;{T_y}&gt;}|x,y^{<1>},â€¦y^{&lt;{T_y-1}&gt;})<br>$$</1></1></2></1></1></p>
<p>æ‰€ä»¥è¦æ»¡è¶³ $argmax P(y^{<1>},â€¦.,P(y^{T_y})|x)$, ä¹Ÿå°±ç­‰åŒäºè¦æ»¡è¶³</1></p>
<p>$$<br>argmax \prod_{t=1}^{T_y}P(y^{&lt;{t}&gt;}|x,y^{<1>},â€¦y^{&lt;{t-1}&gt;})<br>$$</1></p>
<p>ä½†æ˜¯ä¸Šé¢çš„å…¬å¼å­˜åœ¨ä¸€ä¸ªé—®é¢˜ï¼Œå› ä¸ºæ¦‚ç‡éƒ½æ˜¯å°äº1çš„ï¼Œç´¯ä¹˜ä¹‹åä¼šè¶Šæ¥è¶Šå°ï¼Œå¯èƒ½å°åˆ°è®¡ç®—æœºæ— æ³•ç²¾ç¡®å­˜å‚¨ï¼Œæ‰€ä»¥å¯ä»¥å°†å…¶è½¬å˜æˆ log å½¢å¼ï¼ˆå› ä¸º log æ˜¯å•è°ƒé€’å¢çš„ï¼Œæ‰€ä»¥å¯¹æœ€ç»ˆç»“æœä¸ä¼šæœ‰å½±å“ï¼‰ï¼Œå…¶å…¬å¼å¦‚ä¸‹ï¼š</p>
<p>$$<br>argmax \sum_{t=1}^{T_y}logP(y^{&lt;{t}&gt;}|x,y^{<1>},â€¦y^{&lt;{t-1}&gt;})<br>$$</1></p>
<blockquote>
<p>Butï¼ï¼ï¼ä¸Šè¿°å…¬å¼ä»ç„¶å­˜åœ¨bugï¼Œè§‚å¯Ÿå¯ä»¥çŸ¥é“ï¼Œæ¦‚ç‡å€¼éƒ½æ˜¯å°äº1çš„ï¼Œé‚£ä¹ˆlogä¹‹åéƒ½æ˜¯è´Ÿæ•°ï¼Œæ‰€ä»¥ä¸ºäº†ä½¿å¾—æœ€åçš„å€¼æœ€å¤§ï¼Œé‚£ä¹ˆåªè¦ä¿è¯ç¿»è¯‘çš„å¥å­è¶ŠçŸ­ï¼Œé‚£ä¹ˆå€¼å°±è¶Šå¤§ï¼Œæ‰€ä»¥å¦‚æœä½¿ç”¨è¿™ä¸ªå…¬å¼ï¼Œé‚£ä¹ˆæœ€åç¿»è¯‘çš„å¥å­é€šå¸¸éƒ½æ˜¯æ¯”è¾ƒçŸ­çš„å¥å­ï¼Œè¿™æ˜¾ç„¶ä¸è¡Œã€‚</p>
</blockquote>
<p>æ‰€ä»¥æˆ‘ä»¬å¯ä»¥é€šè¿‡å½’ä¸€åŒ–çš„æ–¹å¼æ¥çº æ­£ï¼Œå³ä¿è¯å¹³å‡åˆ°æ¯ä¸ªå•è¯éƒ½èƒ½å¾—åˆ°æœ€å¤§å€¼ã€‚å…¶å…¬å¼å¦‚ä¸‹ï¼š</p>
<p>$$<br>argmax \frac{1}{T_y}\sum_{t=1}^{T_y}logP(y^{&lt;{t}&gt;}|x,y^{<1>},â€¦y^{&lt;{t-1}&gt;})<br>$$</1></p>
<p>é€šè¿‡å½’ä¸€åŒ–çš„ç¡®èƒ½å¾ˆå¥½çš„è§£å†³ä¸Šè¿°é—®é¢˜ï¼Œä½†æ˜¯åœ¨å®é™…è¿ç”¨ä¸­ï¼Œä¼šé¢å¤–æ·»åŠ ä¸€ä¸ªå‚æ•° $Î±$, å…¶å¤§å°ä»‹äº 0 å’Œ 1 ä¹‹é—´ï¼Œå…¬å¼å¦‚ä¸‹:</p>
<p>$$<br>argmax \frac{1}{T_y^Î±}\sum_{t=1}^{T_y}logP(y^{&lt;{t}&gt;}|x,y^{<1>},â€¦y^{&lt;{t-1}&gt;})<br>$$</1></p>
<p><img src="/images/deeplearning/C5W3-11_1.png" width="700"></p>
<blockquote>
<p>$T_y$ ä¸ºè¾“å‡ºå¥å­ä¸­å•è¯çš„ä¸ªæ•°ï¼Œ$Î±$ æ˜¯ä¸€ä¸ªè¶…å‚æ•° (å¯ä»¥è®¾ç½®ä¸º 0.7)</p>
<p>$Î±$ == 1. åˆ™ä»£è¡¨ å®Œå…¨ç”¨å¥å­é•¿åº¦å½’ä¸€åŒ–<br>$Î±$ == 0. åˆ™ä»£è¡¨ æ²¡æœ‰å½’ä¸€åŒ–<br>$Î±$ == 0~1. åˆ™ä»£è¡¨ åœ¨ å¥å­é•¿åº¦å½’ä¸€åŒ– ä¸ æ²¡æœ‰å½’ä¸€åŒ– ä¹‹é—´çš„æŠ˜ä¸­ç¨‹åº¦.</p>
<p>beam width = B = 3~<strong>10</strong>~100 æ˜¯ä¼šæœ‰ä¸€ä¸ªæ˜æ˜¾çš„å¢é•¿ï¼Œä½†æ˜¯ B ä» 1000 ~ 3000 æ˜¯å¹¶æ²¡æœ‰ä¸€ä¸ªæ˜æ˜¾å¢é•¿çš„.</p>
</blockquote>
<h2 id="5-Error-analysis-on-beam-search"><a href="#5-Error-analysis-on-beam-search" class="headerlink" title="5. Error analysis on beam search"></a>5. Error analysis on beam search</h2><p>ä»”ç»†æƒ³æƒ³ <strong>beam search</strong>ï¼Œæˆ‘ä»¬ä¼šå‘ç°å…¶å®å®ƒæ˜¯è¿‘ä¼¼æœç´¢ï¼Œä¹Ÿå°±æ˜¯è¯´å¯èƒ½ä½¿ç”¨è¿™ç§æ–¹æ³•æœ€ç»ˆå¾—åˆ°çš„ç»“æœå¹¶ä¸æ˜¯æœ€å¥½çš„ã€‚å½“ç„¶ä¹Ÿæœ‰å¯èƒ½æ˜¯å› ä¸ºä½¿ç”¨çš„ <strong>RNN</strong> æ¨¡å‹æœ‰ç¼ºé™·å¯¼è‡´ç»“æœä¸æ˜¯æœ€å¥½çš„ã€‚</p>
<p><strong>æ‰€ä»¥æˆ‘ä»¬å¦‚ä½•åˆ¤æ–­è¯¯å·®æ˜¯å‡ºåœ¨å“ªä¸ªåœ°æ–¹å‘¢ï¼Ÿ</strong></p>
<blockquote>
<p>è¿˜æ˜¯ä»¥ç¿»è¯‘è¿™å¥è¯ä¸ºä¾‹ï¼šâ€œ<strong>ç®€åœ¨9æœˆè®¿é—®ä¸­å›½</strong>â€ã€‚</p>
<ul>
<li>å‡è®¾æŒ‰ç…§äººç±»çš„ä¹ æƒ¯ç¿»è¯‘æˆè‹±æ–‡æ˜¯â€œJane visits China in September.â€,è¯¥ç»“æœç”¨ $y^*$ è¡¨ç¤ºã€‚</li>
<li>å‡è®¾é€šè¿‡ç®—æ³•å¾—å‡ºçš„ç¿»è¯‘ç»“æœæ˜¯ï¼šâ€œJane visited China in September.â€,è¯¥ç»“æœç”¨ $\hat{y}$ è¡¨ç¤ºã€‚</li>
</ul>
<p>è¦åˆ¤æ–­è¯¯å·®å‡ºåœ¨å“ªï¼Œåªéœ€è¦æ¯”è¾ƒ $P(y^*|x)$ å’Œ $P(\hat{y}|x)$ çš„å¤§å°å³å¯.</p>
</blockquote>
<p>ä¸‹é¢åˆ†ä¸¤ç§æƒ…å†µè®¨è®ºï¼š</p>
<p><img src="/images/deeplearning/C5W3-12_1.png" width="750"></p>
<blockquote>
<p>RNN å®é™…ä¸Šæ˜¯ encode å’Œ decode çš„è¿‡ç¨‹.</p>
</blockquote>
<p>ä¸¤ç§æƒ…å†µï¼š</p>
<p>(1). $<br>P(y^*|x)&gt;P(\hat{y}|x)<br>$</p>
<p>ä¸Šé¢çš„ä¸ç­‰å¼çš„å«ä¹‰æ˜¯ beam search æœ€åé€‰å‡ºçš„ç»“æœä¸å¦‚äººç±»ï¼Œä¹Ÿå°±æ˜¯ beam search å¹¶æ²¡æœ‰é€‰å‡ºæœ€å¥½çš„ç»“æœï¼Œæ‰€ä»¥é—®é¢˜å‡ºåœ¨ beam search</p>
<p>(2). $<br>P(y^*|x)â‰¤P(\hat{y}|x)<br>$</p>
<p>ä¸Šé¢ä¸ç­‰å¼è¡¨ç¤º beam search æœ€åé€‰å‡ºçš„ç»“æœè¦æ¯”äººç±»çš„æ›´å¥½ï¼Œä¹Ÿå°±æ˜¯è¯´ beam search å·²ç»é€‰å‡ºäº†æœ€å¥½çš„ç»“æœï¼Œä½†æ˜¯æ¨¡å‹å¯¹å„ä¸ªç»„åˆçš„é¢„æµ‹æ¦‚ç‡å€¼å¹¶ä¸ç¬¦åˆäººç±»çš„é¢„æœŸï¼Œæ‰€ä»¥ RNNæ¨¡å‹ at fault.</p>
<blockquote>
<p>ä¸Šé¢å·²ç»ä»‹ç»äº†è¯¯å·®åˆ†æçš„æ–¹å¼ï¼Œä½†æ—¶ä»…å‡­ä¸€æ¬¡è¯¯å·®åˆ†æå°±åˆ¤å®šè°è¯¥èƒŒé”…è‚¯å®šä¹Ÿä¸è¡Œï¼Œæ‰€ä»¥è¿˜éœ€è¦è¿›è¡Œå¤šæ¬¡è¯¯å·®åˆ†æå¤šæ¬¡ã€‚</p>
<p>å¦‚ä¸‹å›¾ç¤ºå·²ç»è¿›è¡Œäº†å¤šæ¬¡çš„è¯¯å·®åˆ†æï¼Œæ¯æ¬¡åˆ†æä¹‹åéƒ½åˆ¤å®šäº†é”…è¯¥è°èƒŒï¼Œæœ€åè®¡ç®—å‡ºbeam searchå’Œæ¨¡å‹èƒŒé”…çš„æ¯”ä¾‹ï¼Œæ ¹æ®æ¯”ä¾‹ä½œå‡ºç›¸åº”çš„è°ƒæ•´ã€‚</p>
<p>ä¾‹å¦‚:</p>
<ul>
<li>å¦‚æœ beam search æ›´é«˜ï¼Œå¯ä»¥ç›¸åº”è°ƒæ•´ beam width.</li>
<li>å¦‚æœæ¨¡å‹èƒŒé”…æ¯”ä¾‹æ›´é«˜ï¼Œé‚£ä¹ˆå¯ä»¥è€ƒè™‘å¢åŠ æ­£åˆ™åŒ–ï¼Œå¢åŠ æ•°æ®ç­‰æ“ä½œ.</li>
</ul>
</blockquote>
<p><img src="/images/deeplearning/C5W3-13_1.png" width="750"></p>
<h2 id="6-Bleu-score-optional"><a href="#6-Bleu-score-optional" class="headerlink" title="6. Bleu score (optional)"></a>6. Bleu score (optional)</h2><p>ä¸»è¦ä»‹ç»äº†å¦‚ä½•ç»™æœºå™¨ç¿»è¯‘ç»“æœæ‰“åˆ†ï¼Œå› ä¸ºæ˜¯é€‰ä¿®å†…å®¹, æ‰€ä»¥ balabalaâ€¦</p>
<h2 id="7-Attention-model-intuition"><a href="#7-Attention-model-intuition" class="headerlink" title="7. Attention model intuition"></a>7. Attention model intuition</h2><p>ä¹‹å‰ä»‹ç»çš„RNNç¿»è¯‘æ¨¡å‹å­˜åœ¨ä¸€ä¸ªå¾ˆæ˜æ˜¾çš„é—®é¢˜å°±æ˜¯:</p>
<blockquote>
<p>æœºå™¨ç¿»è¯‘çš„ç¿»è¯‘è¿‡ç¨‹æ˜¯é¦–å…ˆå°†æ‰€æœ‰éœ€è¦ç¿»è¯‘çš„å¥å­è¾“å…¥åˆ° <strong>Encoder</strong> ä¸­ï¼Œä¹‹åå†é€šè¿‡ <strong>Decoder</strong> è¾“å‡ºç¿»è¯‘è¯­å¥.</p>
</blockquote>
<h3 id="7-1-Why-Attention-model"><a href="#7-1-Why-Attention-model" class="headerlink" title="7.1 Why Attention model"></a>7.1 Why Attention model</h3><p>å¦‚ä¸‹å›¾ç¤ºæœºå™¨ç®—æ³•å°†æ³•è¯­ç¿»è¯‘æˆè‹±è¯­çš„æ¨¡å‹.</p>
<p><img src="/images/deeplearning/C5W3-14_1.png" width="750"></p>
<p>æœºå™¨ç¿»è¯‘ä¸äººç±»çš„ç¿»è¯‘è¿‡ç¨‹ä¸å¤ªç›¸åŒã€‚å› ä¸ºäººç±»ç¿»è¯‘ä¸€èˆ¬æ˜¯é€å¥ç¿»è¯‘ï¼Œæˆ–è€…æ˜¯è®²ä¸€æ®µå¾ˆé•¿çš„å¥å­åˆ†è§£å¼€æ¥è¿›è¡Œç¿»è¯‘ã€‚</p>
<p>æ‰€ä»¥ä¸Šè¿°æ¨¡å‹çš„ç¿»è¯‘ç»“æœçš„Bleuè¯„åˆ†ä¸è¢«ç¿»è¯‘å¥å­çš„é•¿çŸ­æœ‰å¾ˆå¤§å…³ç³»ï¼Œå¥å­è¾ƒçŸ­æ—¶ï¼Œæ¨¡å‹å¯èƒ½æ— æ³•æ•æ‰åˆ°å…³é”®ä¿¡æ¯ï¼Œæ‰€ä»¥ç¿»è¯‘ç»“æœä¸æ˜¯å¾ˆé«˜ï¼›ä½†æ˜¯å½“å¥å­è¿‡é•¿æ—¶ï¼Œæ¨¡å‹åˆæŠ“ä¸åˆ°é‡ç‚¹ç­‰åŸå› ä½¿å¾—ç»“æœä¹Ÿä¸æ˜¯å¾ˆé«˜ã€‚</p>
<p><img src="/images/deeplearning/C5W3-15_1.png" width="750"></p>
<blockquote>
<p>â€‹è§ä¸Šå›¾ï¼Œå¦‚æœæœºå™¨èƒ½åƒäººä¸€æ ·é€å¥æˆ–è€…æ¯æ¬¡å°†æ³¨æ„åŠ›åªé›†ä¸­åœ¨ä¸€å°éƒ¨åˆ†è¿›è¡Œç¿»è¯‘ï¼Œé‚£ä¹ˆç¿»è¯‘ç»“æœå°†ä¸å—å¥å­é•¿åº¦çš„å½±å“ã€‚ä¸‹å›¾ä¸­çš„ç»¿è‰²çº¿å³ä¸ºä½¿ç”¨äº†æ³¨æ„åŠ›æ¨¡å‹åçš„ç¿»è¯‘å¥å­å¾—åˆ†ã€‚</p>
</blockquote>
<h3 id="7-2-Attention-model-intro"><a href="#7-2-Attention-model-intro" class="headerlink" title="7.2 Attention model intro"></a>7.2 Attention model intro</h3><p>ä¸‹å›¾å±•ç¤ºäº†æ™®é€šçš„ç¿»è¯‘æ¨¡å‹åŒå‘ RNN ç»“æ„ï¼Œè¯¥ç»“æ„å¯æ ¹æ®è¾“å…¥ $x^{&lt;{t}&gt;}$ ç›´æ¥å¾—åˆ°è¾“å‡º $y^{&lt;{t}&gt;}$.</p>
<p><img src="/images/deeplearning/C5W3-16_1.png" width="750"></p>
<p>æ³¨æ„åŠ›æ¨¡å‹åœ¨æ­¤åŸºç¡€ä¸Šåšè¿›ä¸€æ­¥å¤„ç†ã€‚</p>
<p>ä¸ºé¿å…è¯¯è§£ï¼Œä½¿ç”¨å¦ä¸€ä¸ªç¬¦å· $s$ æ¥è¡¨ç¤ºèŠ‚ç‚¹ã€‚</p>
<p>å¦‚ä¸‹å›¾ç¤ºï¼Œæ ¹æ®ä¸‹é¢ä¸€å±‚çš„ åŒå‘RNN è®¡ç®—ç»“æœå¯å¾—åˆ°èŠ‚ç‚¹ $s^{<1>}$ ä¸å…¶ä»–èŠ‚ç‚¹æƒé‡ $Î±^{<1,1>},Î±^{<1,2>},â€¦$ é€šè¿‡è¿™äº›æƒé‡å¯ä»¥çŸ¥é“è¯¥èŠ‚ç‚¹ä¸å…¶ä»–èŠ‚ç‚¹çš„ç›¸å…³è”ç¨‹åº¦ï¼Œä»è€Œå¯ä»¥è¾¾åˆ°å°†æ³¨æ„åŠ›é›†ä¸­åˆ°éƒ¨åˆ†åŒºåŸŸçš„æ•ˆæœã€‚</1,2></1,1></1></p>
<p><img src="/images/deeplearning/C5W3-17_1.png" width="750"></p>
<p>â€‹å…¶ä»–èŠ‚ç‚¹åŒç†ã€‚æ•´ä¸ªæ³¨æ„åŠ›æ¨¡å‹ç»“æ„å¦‚ä¸‹å›¾ç¤º</p>
<p><img src="/images/deeplearning/C5W3-18_1.png" width="750"></p>
<h2 id="8-Attention-model"><a href="#8-Attention-model" class="headerlink" title="8. Attention model"></a>8. Attention model</h2><p>ç‰¹åˆ«è¦åŒºåˆ† $a$ (å­—æ¯a) å’Œ $Î±$ (alpha)ã€‚å‰è€…è¡¨ç¤ºç‰¹å¾èŠ‚ç‚¹ï¼Œåè€…è¡¨ç¤ºæ³¨æ„åŠ›æƒé‡ã€‚</p>
<h3 id="8-1-å‚æ•°ä»‹ç»"><a href="#8-1-å‚æ•°ä»‹ç»" class="headerlink" title="8.1 å‚æ•°ä»‹ç»"></a>8.1 å‚æ•°ä»‹ç»</h3><p>å¦‚ä¸‹å›¾ç¤ºï¼Œæ³¨æ„åŠ›æ¨¡å‹é‡‡ç”¨åŒå‘RNNç»“æ„ï¼Œæ‰€ä»¥æ¯ä¸ªèŠ‚ç‚¹æœ‰ä¸¤ä¸ªå€¼ï¼Œç”¨ $\overrightarrow{a}^{&lt;{tâ€™}&gt;},\overleftarrow{a}^{&lt;{tâ€™}&gt;}$ è¡¨ç¤ºï¼Œä¸ºäº†ä½¿å…¬å¼æ›´ç®€åŒ–ï¼Œä»¤ $a^{&lt;{tâ€™}&gt;}=(\overrightarrow{a}^{&lt;{tâ€™}&gt;},\overleftarrow{a}^{&lt;{tâ€™}&gt;})$ ã€‚å…¶ä¸­ $tâ€™$ è¡¨ç¤ºè¾“å…¥æ•°æ®çš„ç´¢å¼•ã€‚</p>
<p><img src="/images/deeplearning/C5W3-19_1.png" width="750"></p>
<p>ä¸Šä¸€èŠ‚å·²ç»ä»‹ç»äº†æ³¨æ„åŠ›æƒé‡ $Î±^{&lt;{t,tâ€™}&gt;}$ï¼Œä»¥ç¬¬ä¸€ä¸ªèŠ‚ç‚¹ä¸ºä¾‹ï¼Œå®ƒçš„æƒé‡å€¼å¯ä»¥ç”¨ $Î±^{&lt;{1,tâ€™}&gt;}$ è¡¨ç¤ºï¼Œä¸”æ‰€æœ‰æƒé‡å€¼æ»¡è¶³ $\sum{Î±^{&lt;{1,tâ€™}&gt;}}=1$</p>
<p>æ‰€æœ‰æƒé‡ä¸å¯¹åº”èŠ‚ç‚¹çš„çº¿æ€§ä¹‹å’Œç”¨ $c^{&lt;{tâ€™}&gt;}$ è¡¨ç¤ºï¼ˆä¸ºæ–¹ä¾¿ä¹¦å†™ï¼Œç”¨ $c$ è¡¨ç¤ºï¼‰,$c$ è¡¨ç¤º contextï¼Œå³ä¸Šä¸‹æ–‡å˜é‡.</p>
<p>è¿˜æ˜¯ä»¥ç¬¬ä¸€ä¸ªèŠ‚ç‚¹ä¸ºä¾‹ï¼Œcçš„è®¡ç®—å…¬å¼å¦‚ä¸‹ï¼š</p>
<p>$$<br>c^{<1>}=\sum_{tâ€™}Î±^{&lt;{1,tâ€™}&gt;}a^{&lt;{tâ€™}&gt;}<br>$$</1></p>
<p><img src="/images/deeplearning/C5W3-20_1.png" width="750"></p>
<h3 id="8-2-æ³¨æ„åŠ›æƒå€¼è®¡ç®—å…¬å¼"><a href="#8-2-æ³¨æ„åŠ›æƒå€¼è®¡ç®—å…¬å¼" class="headerlink" title="8.2 æ³¨æ„åŠ›æƒå€¼è®¡ç®—å…¬å¼"></a>8.2 æ³¨æ„åŠ›æƒå€¼è®¡ç®—å…¬å¼</h3><p>$$<br>\alpha^{&lt;{t,tâ€™}&gt;}=\frac{exp(e^{&lt;{t,tâ€™}&gt;})}{\sum_{tâ€™â€™=1}^{T_x}{exp(e^{t,tâ€™â€™})}}<br>$$</p>
<p>ä¸Šé¢å…¬å¼ä¸­çš„ $e^{&lt;{t,tâ€™}&gt;}$ è®¡ç®—å›¾å¦‚ä¸‹ï¼š</p>
<p>å…¶ä¸­ $s^{&lt;{t-1}&gt;}$ è¡¨ç¤ºä¸Šä¸€ä¸ªçŠ¶æ€çš„å€¼, $a^{&lt;{tâ€™}&gt;}$ è¡¨ç¤ºç¬¬ $tâ€™$ ä¸ªç‰¹å¾èŠ‚ç‚¹.</p>
<p><img src="/images/deeplearning/C5W3-21_1.png" width="500"></p>
<blockquote>
<p><strong>Andrew Ng</strong> å¹¶æ²¡æœ‰è¯¦ç»†çš„ä»‹ç»ä¸Šé¢çš„ç½‘ç»œï¼Œåªæ˜¯ä¸€ç¬”å¸¦è¿‡ï¼Œè¯´åå‘ä¼ æ’­å’Œæ¢¯åº¦ä¸‹é™ä¼šè‡ªåŠ¨å­¦ä¹ ï¼Œemmmã€‚ã€‚é‚£å°±è¿™æ ·å§ã€‚</p>
<p>ç»“åˆä¸‹å›¾å¯ä»¥ç‹¬è‡ªå‚è€ƒä¸€ä¸‹ä¸Šé¢çš„å…¬å¼æ˜¯ä»€ä¹ˆæ„æ€.</p>
</blockquote>
<p><img src="/images/deeplearning/C5W3-22_1.png" width="600"></p>
<h3 id="8-3-å¤§æ•°æ®æ–‡æ‘˜"><a href="#8-3-å¤§æ•°æ®æ–‡æ‘˜" class="headerlink" title="8.3 å¤§æ•°æ®æ–‡æ‘˜"></a>8.3 å¤§æ•°æ®æ–‡æ‘˜</h3><p>ä¸‹é¢çš„ç¬”è®°æ˜¯ã€Šå¤§æ•°æ®æ–‡æ‘˜ã€‹çš„ç¬”è®°ï¼Œæ„Ÿè§‰ä»–å†™çš„æ¸…æ¥šä¸€äº›:</p>
<p>é€šè¿‡ä¹‹å‰çš„å­¦ä¹ å¯ä»¥çœ‹åˆ°æœºå™¨ç¿»è¯‘æ˜¯å°†æ‰€æœ‰è¦ç¿»è¯‘çš„å†…å®¹ç»Ÿä¸€è¾“å…¥ç„¶åå†å¼€å§‹ç”Ÿæˆç»“æœï¼Œä½†è¿™æ ·æœ‰ä¸€ä¸ªå¼Šç«¯å°±æ˜¯åœ¨å¥å­ç‰¹åˆ«é•¿çš„æ—¶å€™åé¢çš„å†…å®¹æœ‰çš„æ—¶å€™æ— æ³•ç¿»è¯‘çš„ç‰¹åˆ«çš„å‡†ç¡®ã€‚é€šè¿‡æ­å»ºattention modelå¯ä»¥è§£å†³è¿™ä¸ªé—®é¢˜:</p>
<p><img src="/images/deeplearning/C5W3-23_1.png" width="800"></p>
<p>å¦‚å›¾æ‰€ç¤ºï¼Œè¿™æ˜¯ä¸€ä¸ªåŒå‘çš„RNNï¼Œå¹¶ä¸”åœ¨æ™®é€šRNN çš„åŸºç¡€ä¸Šå¢åŠ  attentionå±‚ï¼Œå°†é˜¶æ®µæ€§çš„è¾“å…¥éƒ¨åˆ†è½¬åŒ–ä¸ºè¾“å‡ºï¼Œè¿™æ ·çš„æ–¹å¼ä¹Ÿæ›´ç¬¦åˆäººç±»çš„ç¿»è¯‘è¿‡ç¨‹ã€‚</p>
<p>è®©æˆ‘ä»¬æ‹¿å‡ºç»†èŠ‚éƒ¨åˆ†ä»”ç»†çš„ç†è§£ä¸€ä¸‹ï¼Œé¦–å…ˆæ˜¯<strong>attention</strong>å±‚ï¼Œä¹Ÿå°±æ˜¯ä¸‹å›¾ä¸­$context^{&lt;{t}&gt;}$ ï¼Œæ¯ä¸€ä¸ªattentionå•å…ƒæ¥å— ä¸‰ä¸ªå•è¯çš„è¾“å…¥æ‰€ä»¥ä¹Ÿç§°ä½œè¯­å¢ƒå•å…ƒï¼ˆcontextï¼‰ï¼Œ Î±æ˜¯æ¯å•ä¸ªè¾“å…¥è¯åœ¨è¯­å¢ƒå•å…ƒä¸­å å¾—æƒé‡ã€‚å¯¹æ¯ä¸€ä¸ªè¯­å¢ƒå•å…ƒt æ¥è¯´ï¼Œå› ä¸ºÎ±æ˜¯é€šè¿‡softmaxå†³å®šçš„ï¼Œæ‰€ä»¥ $\sum_{i=1}^{T_x}Î±^{t,i}=1$. è¿™é‡Œå†³å®šç»ˆæ¯ä¸€ä¸ªå•è¯å å¾—è¯­å¢ƒæƒé‡ä»ç„¶æ˜¯é€šè¿‡ä¸€ ä¸ªå°å‹çš„ç¥ç»ç½‘ç»œæ¥è¿›è¡Œè®¡ç®—å¹¶ä¸”åå¾—åˆ°çš„ã€‚ </p>
<p><img src="/images/deeplearning/C5W3-24_1.png" width="800"></p>
<p>è¾“å‡ºçš„ $context^{&lt;{t}&gt;}$ è¿›å…¥åˆ°ä¸‹ä¸€å±‚Post LSTM è¿™ä¸€æ­¥å°±å’Œä¹‹å‰å­¦ä¹ è¿‡çš„é‚£æ ·å­ï¼Œå°†å‰ä¸€æ­¥çš„è¾“å‡ºä¸è¿™ä¸€æ­¥ç»è¿‡é‡é‡åˆ†æçš„è¾“å…¥ç»¼åˆåˆ°ä¸€èµ·äº§ç”Ÿè¿™ä¸€æ­¥çš„è¾“å‡ºã€‚</p>
<p>è®©æˆ‘ä»¬è¯„ä¼°ä¸€ä¸‹attention modelï¼š ç”±äºç»“æ„çš„å¤æ‚ï¼Œè®¡ç®—é‡ä¸æ—¶é—´æ¯”æ™®é€šçš„è¯­è¨€æ¨¡å‹è¦å¤šå’Œæ…¢è®¸å¤šã€‚ä¸è¿‡å¯¹äºæœºå™¨ç¿»è¯‘æ¥è¯´ï¼Œç”±äºæ¯ä¸€å¥è¯å¹¶ä¸ä¼šç‰¹åˆ«ç‰¹æ¯”çš„é•¿ï¼Œæ‰€ä»¥æœ‰çš„æ—¶å€™ç¨å¾®æ…¢ä¸€ç‚¹ä¹Ÿä¸æ˜¯å®Œå…¨æ— æ³•æ¥å—.</p>
<blockquote>
<p>ä¸€ä¸ªé‡è¦ attention model åº”ç”¨å°±æ˜¯è¯­éŸ³è¯†åˆ«ï¼Œäººé€šè¿‡éº¦å…‹é£è¾“å…¥ä¸€å¥è¯è®©æœºå™¨æ¥ç¿»è¯‘è¾“å…¥çš„å†…å®¹ï¼Œæ¥çœ‹ä¸€ä¸‹æ˜¯å¦‚ä½•å®ç°çš„</p>
</blockquote>
<h2 id="9-Speech-recognition"><a href="#9-Speech-recognition" class="headerlink" title="9. Speech recognition"></a>9. Speech recognition</h2><p>ä¸€èˆ¬è¯­éŸ³è¯†åˆ«è¿‡ç¨‹æ˜¯å¦‚ä¸‹å›¾ç¤ºçš„ï¼Œå³é¦–å…ˆå°†åŸéŸ³é¢‘ (é»‘ç™½çš„ï¼Œçºµè½´è¡¨ç¤ºæŒ¯å¹…) è½¬åŒ–æˆçºµè½´ä¸ºé¢‘ç‡çš„éŸ³è°±å›¾ï¼Œå¹¶ä¸”é€šè¿‡äººå·¥é¢„å…ˆè®¾å®šçš„éŸ³ç´ (phonemes)å†æ¥è¯†åˆ«.</p>
<p><img src="/images/deeplearning/C5W3-25_1.png" width="750"></p>
<p>å½“äººå¯¹ç€éº¦å…‹é£å½•å…¥ä¸€å¥è¯ï¼Œéº¦å…‹é£è®°å½•ä¸‹æ¥çš„æ˜¯ç©ºæ°”ç»†å¾®çš„éœ‡åŠ¨çš„å¼ºåº¦ï¼Œä»¥åŠé¢‘ç‡ã€‚äººè€³åœ¨å¬åˆ°ä¸€å¥è¯çš„æ—¶å€™å…¶ å®åšçš„æ˜¯ç±»ä¼¼çš„å¤„ç†ã€‚åœ¨æ·±åº¦å­¦ä¹ æ²¡æœ‰ç‰¹åˆ«æµè¡Œä¹‹å‰ï¼Œæ¯”è¾ƒæµè¡Œçš„æ˜¯ç”¨éŸ³èŠ‚åšè¯­éŸ³è¯†åˆ«ï¼Œä½†ç°åœ¨å› ä¸ºæœ‰äº†å¼ºå¤§çš„ <strong>attention model</strong>ï¼Œå¾—åˆ°çš„ç»“æœåˆ«éŸ³èŠ‚çš„æ•ˆæœæ›´å¥½ã€‚</p>
<p><img src="/images/deeplearning/C5W3-26_1.png" width="750"></p>
<p>CTC(connectionist temporal classiï¬cation)æ˜¯ä¹‹å‰è¾ƒä¸ºå¸¸ç”¨çš„æ–¹æ³•ã€‚</p>
<p>å…·ä½“åŸç†å¦‚ä¸‹ï¼š</p>
<p>å‡è®¾æ¯ç§’éŸ³é¢‘å¯ä»¥æå–å‡º100ä¸ªç‰¹å¾å€¼ï¼Œé‚£ä¹ˆå‡è®¾10ç§’çš„éŸ³é¢‘å°±æœ‰1000ä¸ªç‰¹å¾å€¼ï¼Œé‚£ä¹ˆè¾“å‡ºå€¼ä¹Ÿæœ‰1000ä¸ªï¼Œä½†æ˜¯è¯´å‡ºçš„è¯å¹¶æ²¡æœ‰è¿™ä¹ˆå¤šå•Šï¼Œé‚£è¯¥æ€ä¹ˆå¤„ç†å‘¢ï¼Ÿ</p>
<p>æ–¹æ³•å¾ˆç®€å•ï¼Œåªéœ€è¦æŠŠâ€œ<em>â€è¿›è¡Œå‹ç¼©å³å¯ï¼Œæ³¨æ„éœ€è¦å°† â€œ</em>â€œå’Œç©ºé¢åŒºåˆ†å¼€æ¥ï¼Œå› ä¸ºç©ºæ ¼ä¹Ÿæ˜¯å ä¸€ä¸ªå­—ç¬¦çš„ã€‚</p>
<p><img src="/images/deeplearning/C5W3-27_1.png" width="750"></p>
<h2 id="10-Trigger-word-detection"><a href="#10-Trigger-word-detection" class="headerlink" title="10. Trigger word detection"></a>10. Trigger word detection</h2><p><img src="/images/deeplearning/C5W3-28_1.png" width="700"></p>
<p>å‡è®¾ä¸‹å›¾å¼è®­ç»ƒé›†ä¸­çš„ä¸€æ®µéŸ³é¢‘ï¼Œå…¶ä¸­åŒ…å«äº†ä¸¤æ¬¡å”¤é†’è¯:</p>
<p><img src="/images/deeplearning/C5W3-29_1.png" width="750"></p>
<p>æ­å»ºä¸€ä¸ªattention modelï¼Œåœ¨å¬åˆ°å”¤é†’è¯ä¹‹å‰ä¸€ç›´è¾“å‡ºçš„æ˜¯ 0ï¼Œåœ¨å¬åˆ°å”¤é†’è¯ä»¥åè¾“å‡º 1ï¼Œä½†å› ä¸ºä¸€ä¸ªå”¤é†’è¯ä¼šæŒç»­åŠç§’å·¦å³æ‰€ä»¥æˆ‘ä»¬ä¹Ÿä¸ä»…ä»…åªè¾“å‡ºä¸€æ¬¡ 1ï¼Œè€Œæ˜¯å°†è¾“å‡ºçš„ 1 æŒç»­ä¸€æ®µæ—¶é—´ï¼Œé€šè¿‡è¿™æ ·çš„æ–¹å¼è®­ç»ƒå‡ºçš„ RNN å°±å¯ä»¥å¾ˆ æœ‰æ•ˆçš„æ£€æµ‹åˆ°å”¤é†’è¯äº†ã€‚</p>
<h2 id="11-Summary-and-thank-you"><a href="#11-Summary-and-thank-you" class="headerlink" title="11. Summary and thank you"></a>11. Summary and thank you</h2><p>ç»ˆäºå­¦å®Œäº†ã€‚è™½ç„¶å¹¶ä¸èƒ½è¯´æ˜ä»€ä¹ˆ~~~233333</p>
<p>æ„Ÿè°¢å´æ©è¾¾å’Œä»–çš„å›¢é˜Ÿç»™æˆ‘ä»¬å¸¦æ¥è¿™ä¹ˆå¥½çš„æ•™ç¨‹</p>
<h2 id="Reference"><a href="#Reference" class="headerlink" title="Reference"></a>Reference</h2><ul>
<li><a href="https://study.163.com/my#/smarts" target="_blank" rel="external">ç½‘æ˜“äº‘è¯¾å ‚ - deeplearning</a></li>
<li><a href="http://www.cnblogs.com/marsggbo/p/7470989.html" target="_blank" rel="external">DeepLearning.aiå­¦ä¹ ç¬”è®°æ±‡æ€»</a></li>
<li><a href="https://www.ctolib.com/Yukong-Deeplearning-ai-Solutions.html" target="_blank" rel="external">deeplearning.aiæ·±åº¦å­¦ä¹ è¯¾ç¨‹å­—å¹•ç¿»è¯‘é¡¹ç›®</a></li>
<li><a href="https://blog.csdn.net/Jerr__y/article/details/53749693" target="_blank" rel="external">seq2seqå­¦ä¹ ç¬”è®°</a></li>
</ul>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[Sequence Models (week2) - NLP - Word Embeddings]]></title>
      <url>http://iequa.com/2018/08/02/deeplearning-ai-Sequence-Models-week2/</url>
      <content type="html"><![CDATA[<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js"],
    jax: ["input/TeX"],
    tex2jax: {
      inlineMath: [ ['$','$'], ['\\(','\\)'] ],
      displayMath: [ ['$$','$$']],
      processEscapes: true
    }
  });
</script>
<script type="text/javascript" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS_HTML,http://myserver.com/MathJax/config/local/local.js">
</script>

<p>èƒ½å¤Ÿå°†åºåˆ—æ¨¡å‹åº”ç”¨åˆ°è‡ªç„¶è¯­è¨€é—®é¢˜ä¸­ï¼ŒåŒ…æ‹¬æ–‡å­—åˆæˆã€‚</p>
<a id="more"></a>
<h2 id="1-Word-Representation"><a href="#1-Word-Representation" class="headerlink" title="1. Word Representation"></a>1. Word Representation</h2><p>ä¸Šå‘¨çš„å­¦ä¹ ä¸­ï¼Œå­¦ä¹ äº†å¦‚ä½•ç”¨ç‹¬çƒ­ç¼–ç æ¥ä»£è¡¨ä¸€ä¸ªè¯ï¼Œè¿™ä¸€èŠ‚æˆ‘ä»¬æ¥æ¢ç©¶ä¸€ä¸‹è¯å’Œè¯ä¹‹é—´çš„è”ç³»ã€‚æ¯”å¦‚æœ‰ä¸‹é¢è¿™å¥è¯ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">â€œI want a glass of orange ________â€</span><br></pre></td></tr></table></figure>
<p>å‡å¦‚æˆ‘ä»¬çš„ RNN çš„æ¨¡å‹é€šè¿‡è®­ç»ƒå·²ç»å­¦ä¼šäº†çŸ­è¯­ â€œorange juiceâ€ï¼Œå¹¶å‡†ç¡®çš„é¢„æµ‹äº†è¿™å¥è¯çš„ç©ºæ ¼éƒ¨åˆ†ï¼Œé‚£ä¹ˆå¦‚æœé‡åˆ°äº†å¦ä¸€å¥è¯æ—¶ï¼Œæ¯”å¦‚ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">â€œI want a glass of apple _________â€</span><br></pre></td></tr></table></figure>
<p>æ˜¯å¦éœ€è¦ä»å¤´å­¦ä¹ çŸ­è¯­ â€œapple juiceâ€ å‘¢ï¼Ÿèƒ½å¦é€šè¿‡æ„å»º â€œ<code>apple</code>â€ ä¸ â€œ<code>orange</code>â€ çš„è”ç³»è®©å®ƒä¸éœ€è¦é‡å­¦å°±èƒ½è¿›è¡Œåˆ¤æ–­å‘¢ï¼Ÿ</p>
<blockquote>
<p>èƒ½å¦é€šè¿‡æ„å»º â€œappleâ€ ä¸ â€œorangeâ€ çš„è”ç³»è®©å®ƒä¸éœ€è¦é‡å­¦å°±èƒ½è¿›è¡Œåˆ¤æ–­å‘¢ï¼Ÿ<br>æ‰€ä»¥ä¸‹é¢ç»™å‡ºäº†ä¸€ç§æ”¹è¿›çš„è¡¨ç¤ºæ–¹æ³•ï¼Œç§°ä¹‹ä¸ºâ€œè¯åµŒå…¥(<strong>Word Embedding</strong>)â€</p>
</blockquote>
<h3 id="1-1-è¯æ±‡çš„ç‰¹æ€§"><a href="#1-1-è¯æ±‡çš„ç‰¹æ€§" class="headerlink" title="1.1 è¯æ±‡çš„ç‰¹æ€§"></a>1.1 è¯æ±‡çš„ç‰¹æ€§</h3><p>å•è¯ä¸å•è¯ä¹‹é—´æ˜¯æœ‰å¾ˆå¤šå…±æ€§çš„ï¼Œæˆ–åœ¨æŸä¸€ç‰¹æ€§ä¸Šç›¸è¿‘ï¼Œæ¯”å¦‚â€œè‹¹æœâ€å’Œâ€œæ©™å­â€éƒ½æ˜¯æ°´æœï¼›æˆ–è€…åœ¨æŸä¸€ç‰¹æ€§ä¸Šç›¸åï¼Œæ¯”å¦‚â€œçˆ¶äº²â€åœ¨æ€§åˆ«ä¸Šæ˜¯ç”·æ€§ï¼Œâ€œæ¯äº²â€åœ¨æ€§åˆ«ä¸Šæ˜¯å¥³æ€§ï¼Œé€šè¿‡æ„å»ºä»–ä»¬å…¶ä¸­çš„è”ç³»å¯ä»¥å°†åœ¨ä¸€ä¸ªå•è¯å­¦ä¹ åˆ°çš„å†…å®¹åº”ç”¨åˆ°å…¶ä»–çš„å•è¯ä¸Šæ¥æé«˜æ¨¡å‹çš„å­¦ä¹ çš„æ•ˆç‡ï¼Œè¿™é‡Œç”¨ä¸€ä¸ªç®€åŒ–çš„è¡¨æ ¼è¯´æ˜:</p>
<table>
<thead>
<tr>
<th style="text-align:center"></th>
<th style="text-align:center">Man (5391)</th>
<th style="text-align:center">Woman (9853)</th>
<th style="text-align:center">Apple (456)</th>
<th style="text-align:center">Orange (6257)</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">æ€§åˆ«</td>
<td style="text-align:center">-1</td>
<td style="text-align:center">1</td>
<td style="text-align:center">0</td>
<td style="text-align:center">0.1</td>
</tr>
<tr>
<td style="text-align:center">å¹´é¾„</td>
<td style="text-align:center">0.01</td>
<td style="text-align:center">0.02</td>
<td style="text-align:center">-0.01</td>
<td style="text-align:center">0.00</td>
</tr>
<tr>
<td style="text-align:center">é£Ÿç‰©</td>
<td style="text-align:center">0.04</td>
<td style="text-align:center">0.01</td>
<td style="text-align:center">0.95</td>
<td style="text-align:center">0.97</td>
</tr>
<tr>
<td style="text-align:center">é¢œè‰²</td>
<td style="text-align:center">0.03</td>
<td style="text-align:center">0.01</td>
<td style="text-align:center">0.70</td>
<td style="text-align:center">0.30</td>
</tr>
</tbody>
</table>
<p>åœ¨è¡¨æ ¼ä¸­å¯ä»¥çœ‹åˆ°ä¸åŒçš„è¯è¯­å¯¹åº”ç€ä¸åŒçš„ç‰¹æ€§æœ‰ä¸åŒçš„ç³»æ•°å€¼ï¼Œä»£è¡¨ç€è¿™ä¸ªè¯è¯­ä¸å½“å‰ç‰¹æ€§çš„å…³ç³»ã€‚æ‹¬å·é‡Œçš„æ•°å­—ä»£è¡¨è¿™ä¸ªå•è¯åœ¨ç‹¬çƒ­ç¼–ç ä¸­çš„ä½ç½®ï¼Œå¯ä»¥ç”¨è¿™ä¸ªæ•°å­—ä»£è¡¨è¿™ä¸ªå•è¯æ¯”å¦‚ Man = ï¼ŒMançš„ç‰¹æ€§ç”¨ ï¼Œä¹Ÿå°±æ˜¯é‚£ä¸€çºµåˆ—ã€‚</p>
<p>åœ¨å®é™…çš„åº”ç”¨ä¸­ï¼Œç‰¹æ€§çš„æ•°é‡è¿œä¸æ­¢4ç§ï¼Œå¯èƒ½æœ‰å‡ ç™¾ç§ï¼Œç”šè‡³æ›´å¤šã€‚å¯¹äºå•è¯â€œorangeâ€å’Œâ€œappleâ€æ¥è¯´ä»–ä»¬ä¼šå…±äº«å¾ˆå¤šçš„ç‰¹æ€§ï¼Œæ¯”å¦‚éƒ½æ˜¯æ°´æœï¼Œéƒ½æ˜¯åœ†å½¢ï¼Œéƒ½å¯ä»¥åƒï¼Œä¹Ÿæœ‰äº›ä¸åŒçš„ç‰¹æ€§æ¯”å¦‚é¢œè‰²ä¸åŒï¼Œå‘³é“ä¸åŒï¼Œä½†å› ä¸ºè¿™äº›ç‰¹æ€§è®©RNNæ¨¡å‹ç†è§£äº†ä»–ä»¬çš„å…³ç³»ï¼Œä¹Ÿå°±å¢åŠ äº†é€šè¿‡å­¦ä¹ ä¸€ä¸ªå•è¯å»é¢„æµ‹å¦ä¸€ä¸ªçš„å¯èƒ½æ€§ã€‚</p>
<blockquote>
<p>è¿™é‡Œè¿˜ä»‹ç»äº†ä¸€ä¸ª <code>t-SNE</code> ç®—æ³•ï¼Œå› ä¸ºè¯æ€§è¡¨æœ¬èº«æ˜¯ä¸€ä¸ªå¾ˆé«˜ç»´åº¦çš„ç©ºé—´ï¼Œé€šè¿‡è¿™ä¸ªç®—æ³•å‹ç¼©åˆ°äºŒç»´çš„å¯è§†åŒ–å¹³é¢ä¸Šï¼Œæ¯ä¸€ä¸ªå•è¯ åµŒå…¥ å±äºè‡ªå·±çš„ä¸€ä¸ªä½ç½®ï¼Œç›¸ä¼¼çš„å•è¯ç¦»çš„è¿‘ï¼Œæ²¡æœ‰å…±æ€§çš„å•è¯ç¦»å¾—è¿œï¼Œè¿™ä¸ªå°±æ˜¯ â€œWord Embeddingsâ€ çš„æ¦‚å¿µ.</p>
</blockquote>
<p><img src="/images/deeplearning/C5W2-2.png" width="500"></p>
<blockquote>
<p>ä¸Šå›¾é€šè¿‡èšç±»å°†è¯æ€§ç›¸ç±»ä¼¼çš„å•è¯åœ¨äºŒç»´ç©ºé—´èšä¸ºä¸€ç±».</p>
</blockquote>
<h2 id="2-Using-Word-Embeddings"><a href="#2-Using-Word-Embeddings" class="headerlink" title="2. Using Word Embeddings"></a>2. Using Word Embeddings</h2><p>å…ˆä¸‹ä¸€ä¸ªéæ­£è§„å®šä¹‰ â€œè¯åµŒ - æè¿°äº†è¯æ€§ç‰¹å¾çš„æ€»é‡ï¼Œä¹Ÿæ˜¯åœ¨é«˜ç»´è¯æ€§ç©ºé—´ä¸­åµŒå…¥çš„ä½ç½®ï¼Œæ‹¥æœ‰è¶Šå¤šå…±æ€§çš„è¯ï¼Œè¯åµŒç¦»å¾—è¶Šè¿‘ï¼Œåä¹‹åˆ™è¶Šè¿œâ€ã€‚å€¼å¾—æ³¨æ„çš„æ˜¯ï¼Œè¡¨è¾¾è¿™ä¸ªâ€œä½ç½®â€ï¼Œéœ€è¦ä½¿ç”¨æ‰€æœ‰è®¾å®šçš„è¯æ€§ç‰¹å¾ï¼Œå‡å¦‚æœ‰300ä¸ªç‰¹å¾ï¼ˆæ€§åˆ«ï¼Œé¢œè‰²ï¼Œâ€¦ï¼‰ï¼Œé‚£ä¹ˆè¯åµŒçš„ç©ºé—´ç»´åº¦å°±æ˜¯300.</p>
<h3 id="2-1-ä½¿ç”¨è¯åµŒä¸‰æ­¥"><a href="#2-1-ä½¿ç”¨è¯åµŒä¸‰æ­¥" class="headerlink" title="2.1 ä½¿ç”¨è¯åµŒä¸‰æ­¥"></a>2.1 ä½¿ç”¨è¯åµŒä¸‰æ­¥</h3><ol>
<li>è·å¾—è¯åµŒï¼šè·å¾—çš„æ–¹å¼å¯ä»¥é€šè¿‡è®­ç»ƒå¤§çš„æ–‡æœ¬é›†æˆ–è€…ä¸‹è½½å¾ˆå¤šå¼€æºçš„è¯åµŒåº“</li>
<li>åº”ç”¨è¯åµŒï¼šå°†è·å¾—çš„è¯åµŒåº”ç”¨åœ¨æˆ‘ä»¬çš„è®­ç»ƒä»»åŠ¡ä¸­</li>
<li>å¯é€‰ï¼šé€šè¿‡æˆ‘ä»¬çš„è®­ç»ƒä»»åŠ¡æ›´æ–°è¯åµŒåº“ï¼ˆå¦‚æœè®­ç»ƒé‡å¾ˆå°å°±ä¸è¦æ›´æ–°äº†ï¼‰</li>
</ol>
<h3 id="2-2-è¯åµŒå®ç”¨åœºæ™¯"><a href="#2-2-è¯åµŒå®ç”¨åœºæ™¯" class="headerlink" title="2.2 è¯åµŒå®ç”¨åœºæ™¯"></a>2.2 è¯åµŒå®ç”¨åœºæ™¯</h3><table>
<thead>
<tr>
<th style="text-align:center">No.</th>
<th style="text-align:center">sencentce</th>
<th style="text-align:center">replace word</th>
<th style="text-align:center">target</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">1</td>
<td style="text-align:center">Sally Johnson is an <code>orange</code> farmer.</td>
<td style="text-align:center">orange</td>
<td style="text-align:center">Sally Johnson</td>
</tr>
<tr>
<td style="text-align:center">2</td>
<td style="text-align:center">Robert Lin is an <code>apple</code> farmer.</td>
<td style="text-align:center">apple</td>
<td style="text-align:center">Robert Lin</td>
</tr>
<tr>
<td style="text-align:center">3</td>
<td style="text-align:center">Robert Lin is a <code>durian cultivator</code>.</td>
<td style="text-align:center">durian cultivator</td>
<td style="text-align:center">Robert Lin</td>
</tr>
</tbody>
</table>
<blockquote>
<p>æˆ‘ä»¬ç»§ç»­æ›¿æ¢ï¼Œæˆ‘ä»¬å°†apple farmeræ›¿æ¢æˆä¸å¤ªå¸¸è§çš„durian cultivator(æ¦´è²ç¹æ®–å‘˜)ã€‚æ­¤æ—¶è¯åµŒå…¥ä¸­å¯èƒ½å¹¶æ²¡æœ‰durianè¿™ä¸ªè¯ï¼Œcultivatorä¹Ÿæ˜¯ä¸å¸¸ç”¨çš„è¯æ±‡ã€‚è¿™ä¸ªæ—¶å€™æ€ä¹ˆåŠå‘¢ï¼Ÿæˆ‘ä»¬å¯ä»¥ç”¨åˆ°è¿ç§»å­¦ä¹ </p>
</blockquote>
<p><strong>è¯åµŒå…¥è¿ç§»å­¦ä¹ æ­¥éª¤å¦‚ä¸‹ï¼š</strong></p>
<blockquote>
<ol>
<li>å­¦ä¹ å«æœ‰å¤§é‡æ–‡æœ¬è¯­æ–™åº“çš„è¯åµŒå…¥(ä¸€èˆ¬å«æœ‰10äº¿åˆ°1000äº¿å•è¯)ï¼Œæˆ–è€…ä¸‹è½½é¢„è®­ç»ƒå¥½çš„è¯åµŒå…¥</li>
<li>å°†å­¦åˆ°çš„è¯åµŒå…¥è¿ç§»åˆ°ç›¸å¯¹è¾ƒå°è§„æ¨¡çš„è®­ç»ƒé›†(ä¾‹å¦‚10ä¸‡è¯æ±‡).</li>
<li>(å¯é€‰) è¿™ä¸€æ­¥éª¤å°±æ˜¯å¯¹æ–°çš„æ•°æ®è¿›è¡Œfine-tuneã€‚</li>
</ol>
</blockquote>
<h2 id="3-Properties-of-Word-Embeddings"><a href="#3-Properties-of-Word-Embeddings" class="headerlink" title="3. Properties of Word Embeddings"></a>3. Properties of Word Embeddings</h2><p><strong>å‡è®¾æœ‰å¦‚ä¸‹çš„é—®é¢˜ï¼š</strong></p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&quot;Man&quot; -&gt; &quot;Woman&quot; é‚£ä¹ˆ &quot;King&quot; -&gt; ï¼Ÿ</span><br></pre></td></tr></table></figure>
<p>è¿™ä¸ªé—®é¢˜è¢«ç§°ä½œè¯æ±‡çš„ç±»æ¯”é—®é¢˜ï¼Œé€šè¿‡ç ”ç©¶è¯åµŒçš„ç‰¹å¾å¯ä»¥è§£å†³è¿™æ ·çš„é—®é¢˜.</p>
<p><img src="/images/deeplearning/C5W2-3_1.png" width="750"></p>
<p>æ•°å­¦çš„è¡¨è¾¾å¼ä¸ºï¼š</p>
<p>$$<br>e_{man} - e_{woman} \, \approx \, e_{king}-e_w<br>$$</p>
<p>$e_w$ æ˜¯ä»€ä¹ˆå‘¢ï¼Ÿ åœ¨é«˜çº¬åº¦ç©ºé—´ä¸­ï¼ˆ300Dï¼‰</p>
<p>$$<br>argmax_w \;\, Similarity(e_w, e_{king}-e_{man}+e_{woman})<br>$$</p>
<p>è¿™ä¸ªå…¬å¼ç›¸å½“äºåœ¨ç®—ä¸¤ä¸ªå‘é‡(vector)çš„cosç›¸ä¼¼åº¦</p>
<p>$$<br>Similarity(u,v) = \frac {u^Tv} {||u||_2||v||_2}<br>$$</p>
<blockquote>
<p>å½“ç„¶ä¹Ÿå¯ä»¥ç”¨å…¶ä»–è·ç¦»å…¬å¼, ä½†æ˜¯å¤šæ•°æ˜¯ç”¨è¿™ä¸ªä½™å¼¦ç›¸ä¼¼åº¦.</p>
</blockquote>
<p>å¦‚ä¸‹å›¾ç”¨å‡ ä½•æ–¹å¼èƒ½å¤Ÿæ›´å®¹æ˜“ç†è§£ï¼Œå³åªè¦æ‰¾åˆ°ä¸å‘é‡ $\vec{AB}$ æœ€æ¥è¿‘å¹³è¡Œçš„å‘é‡ $\vec{CD}$ å³å¯.</p>
<p><img src="/images/deeplearning/C5W2-4_1.png" width="750"></p>
<h2 id="4-Embedding-Matrix"><a href="#4-Embedding-Matrix" class="headerlink" title="4. Embedding Matrix"></a>4. Embedding Matrix</h2><p>è¿™ä¸€èŠ‚ä¸­ä¸»è¦è®²äº†è¯åµŒçŸ©é˜µçš„shapeï¼Œå¦‚æœè¯åµŒï¼ˆè¯æ€§ç‰¹å¾çš„æ€»é‡ï¼‰æ˜¯300ï¼Œç‹¬çƒ­ç¼–ç çš„é•¿åº¦æ˜¯10000ï¼Œé‚£ä¹ˆè¯åµŒçŸ©é˜µçš„çš„shapeå°±æ˜¯ <code>300 * 10000</code> ã€‚æ‰€ä»¥å°±æœ‰äº†ä¸‹é¢çš„å¼å­ï¼š</p>
<blockquote>
<p>è¯åµŒçŸ©é˜µ * å•è¯çš„ç‹¬çƒ­ç¼–ç  = å•è¯çš„è¯åµŒ</p>
<p>(300, 10000) * (10000, 1) = (300, 1)</p>
</blockquote>
<h2 id="5-Learning-Word-Embeddings"><a href="#5-Learning-Word-Embeddings" class="headerlink" title="5. Learning Word Embeddings"></a>5. Learning Word Embeddings</h2><p>å¯ä»¥é€šè¿‡è®­ç»ƒç¥ç»ç½‘ç»œçš„æ–¹å¼æ„å»ºè¯åµŒè¡¨ <code>E</code> .</p>
<p>ä¸‹å›¾å±•ç¤ºäº†é¢„æµ‹å•è¯çš„æ–¹æ³•ï¼Œå³ç»™å‡ºç¼ºå°‘ä¸€ä¸ªå•è¯çš„å¥å­ï¼š</p>
<p>â€œ<strong>I want a glass of orange ___</strong>â€</p>
<blockquote>
<p>è®¡ç®—æ–¹æ³•æ˜¯å°†å·²çŸ¥å•è¯çš„ç‰¹å¾å‘é‡éƒ½ä½œä¸ºè¾“å…¥æ•°æ®é€åˆ°ç¥ç»ç½‘ç»œä¸­å»ï¼Œç„¶åç»è¿‡ä¸€ç³»åˆ—è®¡ç®—åˆ°è¾¾ Softmaxåˆ†ç±»å±‚ï¼Œåœ¨è¯¥ä¾‹ä¸­è¾“å‡ºèŠ‚ç‚¹æ•°ä¸º10000ä¸ªã€‚ç»è¿‡è®¡ç®—juiceæ¦‚ç‡æœ€é«˜ï¼Œæ‰€ä»¥é¢„æµ‹ä¸º</p>
<p>â€œI want a glass of orange <code>juice</code>â€</p>
</blockquote>
<p><img src="/images/deeplearning/C5W2-5_1.png" width="750"></p>
<p>åœ¨è¿™ä¸ªè®­ç»ƒæ¨¡å¼ä¸­ï¼Œæ˜¯é€šè¿‡å…¨éƒ¨çš„å•è¯å»é¢„æµ‹æœ€åä¸€ä¸ªå•è¯ç„¶ååå‘ä¼ æ’­æ›´æ–°è¯åµŒè¡¨ $E$</p>
<blockquote>
<p>å‡è®¾è¦é¢„æµ‹çš„å•è¯ä¸º $W$ï¼Œè¯åµŒè¡¨ä»ç„¶ä¸º $E$ï¼Œéœ€è¦æ³¨æ„çš„æ˜¯è®­ç»ƒè¯åµŒè¡¨å’Œé¢„æµ‹ $W$ æ˜¯ä¸¤ä¸ªä¸åŒçš„ä»»åŠ¡ã€‚</p>
<p>å¦‚æœä»»åŠ¡æ˜¯é¢„æµ‹ $W$ï¼Œæœ€ä½³æ–¹æ¡ˆæ˜¯ä½¿ç”¨ $W$ å‰é¢ $n$ ä¸ªå•è¯æ„å»ºè¯­å¢ƒã€‚</p>
<p>å¦‚æœä»»åŠ¡æ˜¯è®­ç»ƒ $E$ï¼Œé™¤äº†ä½¿ç”¨ $W$ å‰å…¨éƒ¨å•è¯è¿˜å¯ä»¥é€šè¿‡ï¼šå‰åå„4ä¸ªå•è¯ã€å‰é¢å•ç‹¬çš„ä¸€ä¸ªè¯ã€å‰é¢è¯­å¢ƒä¸­éšæœºçš„ä¸€ä¸ªè¯ï¼ˆè¿™ä¸ªæ–¹å¼ä¹Ÿå«åš Skip Gram ç®—æ³•ï¼‰ï¼Œè¿™äº›æ–¹æ³•éƒ½èƒ½æä¾›å¾ˆå¥½çš„ç»“æœã€‚</p>
</blockquote>
<h2 id="6-Word2Vec"><a href="#6-Word2Vec" class="headerlink" title="6. Word2Vec"></a>6. Word2Vec</h2><p>è§†é¢‘ä¸­ä¸€ç›´æ²¡æœ‰ç»™ Word2Vec ä¸‹ä¸€ä¸ªæ˜ç¡®çš„å®šä¹‰ï¼Œæˆ‘ä»¬å†æ¬¡ä¸‹ä¸€ä¸ªéæ­£å¼å®šä¹‰ä¾¿äºç†è§£:</p>
<p>â€œ<strong>word2vec</strong>â€ æ˜¯æŒ‡å°†è¯è¯­ word å˜æˆå‘é‡vector çš„è¿‡ç¨‹ï¼Œè¿™ä¸€è¿‡ç¨‹é€šå¸¸é€šè¿‡æµ…å±‚çš„ç¥ç»ç½‘ç»œå®Œæˆï¼Œä¾‹å¦‚ CBOW æˆ–è€…skip gramï¼Œè¿™ä¸€è¿‡ç¨‹åŒæ ·å¯ä»¥è§†ä¸ºæ„å»ºè¯åµŒè¡¨ $E$ çš„è¿‡ç¨‹â€ã€‚</p>
<h3 id="6-1-Skip-grams"><a href="#6-1-Skip-grams" class="headerlink" title="6.1 Skip-grams"></a>6.1 Skip-grams</h3><p>è¿™é‡Œç€é‡ä»‹ç»äº†<strong>skip gram model</strong>ï¼Œè¿™æ˜¯ä¸€ä¸ªç”¨ä¸€ä¸ªéšæœºè¯é¢„æµ‹å…¶ä»–è¯çš„æ–¹æ³•ã€‚æ¯”å¦‚ä¸‹é¢è¿™å¥è¯ä¸­</p>
<blockquote>
<p>â€œI want a glass of orange juice.â€</p>
</blockquote>
<p>æˆ‘ä»¬å¯ä»¥é€‰ <strong>orange</strong>ä½œä¸ºéšæœºè¯ c(<strong>Context</strong>)ï¼Œé€šè¿‡è®¾ç½®çª—å£å€¼ä¾‹å¦‚å‰å 5 ä¸ªå•è¯ä»¥ç›‘ç£å­¦ä¹ çš„æ–¹å¼å»é¢„æµ‹å…¶ä¸­çš„è¯t(<strong>Target</strong>) ä¾‹å¦‚ â€œjuice, glass, a, ofâ€ ä½†éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œè¿™ä¸ªè¿‡ç¨‹ä»ç„¶æ˜¯ä¸ºäº†æ­å»ºï¼ˆæ›´æ–°ï¼‰è¯åµŒè¡¨ $E$ è€Œä¸æ˜¯ä¸ºäº†çœŸæ­£<br>çš„å»é¢„æµ‹ï¼Œæ‰€ä»¥å¦‚æœé¢„æµ‹æ•ˆæœä¸å¥½å¹¶ä¸ç”¨æ‹…å¿ƒï¼Œè¡¨è¾¾å¼ï¼š</p>
<p>$$<br>O_{c}\rightarrow E \rightarrow e_{c} \rightarrow \underset{Softmax}{Output} \rightarrow \hat{y}<br>$$</p>
<p><strong>Softmax</strong>å…¬å¼ä¸º(å‡è®¾è¾“å‡ºèŠ‚ç‚¹æ•°ä¸º10000)ï¼š</p>
<p>$$<br>p(t|c)=\frac{e^{Î¸_t^Te_c}}{\sum_{j=1}^{10000}e^{Î¸_j^Te_c}}<br>$$</p>
<blockquote>
<p>$Î¸_t$ è¡¨ç¤ºä¸$t$æœ‰å…³çš„å‚æ•°</p>
</blockquote>
<p>æŸå¤±å‡½æ•°ï¼š</p>
<p>$$<br>l(\hat{y},y)=\sum_{i=1}^{10000}y_ilog\hat{y_i}<br>$$</p>
<p><img src="/images/deeplearning/C5W2-6_1.png" width="750"></p>
<p>åœ¨skip gramä¸­æœ‰ä¸€ä¸ªä¸è¶³æ˜¯ <strong>softmax</strong> ä½œä¸ºæ¿€æ´»å‡½æ•°éœ€è¦çš„è¿ç®—é‡å¤ªå¤§ï¼Œåœ¨ä¸Šé™ä¸º10000ä¸ªå•è¯çš„è¯åº“ä¸­å°±å·²ç»æ¯”è¾ƒæ…¢äº†ã€‚ä¸€ç§è¡¥æ•‘çš„åŠæ³•æ˜¯ç”¨ä¸€ä¸ªå®ƒçš„å˜ç§ â€œ<strong>Hierachical Softmax</strong> (åˆ†å±‚çš„Softmax)â€ï¼Œé€šè¿‡ç±»ä¼¼äºŒå‰æ ‘çš„æ–¹æ³•æé«˜è®­ç»ƒçš„æ•ˆç‡</p>
<p>ä¾‹å¦‚ä¸€äº›å¸¸è§çš„å•è¯ï¼Œå¦‚<strong>the</strong>ã€<strong>of</strong>ç­‰å°±å¯ä»¥åœ¨å¾ˆæµ…çš„å±‚æ¬¡å¾—åˆ°ï¼Œè€Œåƒ<strong>durian</strong>è¿™ç§å°‘ç”¨çš„å•è¯åˆ™åœ¨è¾ƒæ·±çš„å±‚æ¬¡å¾—åˆ°</p>
<p><img src="/images/deeplearning/C5W2-7_1.png" width="750"></p>
<h2 id="7-Negative-Sampling-è´Ÿé‡‡æ ·"><a href="#7-Negative-Sampling-è´Ÿé‡‡æ ·" class="headerlink" title="7. Negative Sampling è´Ÿé‡‡æ ·"></a>7. Negative Sampling è´Ÿé‡‡æ ·</h2><p>å¯¹äºskip gram modelè€Œè¨€ï¼Œè¿˜è¦è§£å†³çš„ä¸€ä¸ªé—®é¢˜æ˜¯å¦‚ä½•å–æ ·ï¼ˆé€‰æ‹©ï¼‰æœ‰æ•ˆçš„éšæœºè¯ $c$ å’Œç›®æ ‡è¯ $t$ å‘¢ï¼Ÿå¦‚æœçœŸçš„æŒ‰ç…§è‡ªç„¶éšæœºåˆ†å¸ƒçš„æ–¹å¼å»é€‰æ‹©ï¼Œå¯èƒ½ä¼šå¤§é‡é‡å¤çš„é€‰æ‹©åˆ°å‡ºç°æ¬¡æ•°é¢‘ç‡å¾ˆé«˜çš„å•è¯æ¯”å¦‚è¯´ â€œthe, of, a, it, I, â€¦â€ é‡å¤çš„è®­ç»ƒè¿™æ ·çš„å•è¯æ²¡æœ‰ç‰¹åˆ«å¤§çš„æ„ä¹‰.</p>
<p>å¦‚ä½•æœ‰æ•ˆçš„å»è®­ç»ƒé€‰å®šçš„è¯å¦‚ orange å‘¢ï¼Ÿåœ¨è®¾ç½®è®­ç»ƒé›†æ—¶å¯ä»¥é€šè¿‡â€œè´Ÿå–æ ·â€çš„æ–¹æ³•, ä¸‹è¡¨ä¸­ç¬¬ä¸€è¡Œæ˜¯é€šè¿‡å’Œä¸Šé¢ä¸€æ ·çš„çª—å£æ³•å¾—åˆ°çš„â€œæ­£â€ï¼ˆ1ï¼‰ç»“æœï¼Œå…¶ä»–ä¸‰è¡Œæ˜¯ä»å­—å…¸ä¸­éšæœºå¾—åˆ°çš„è¯è¯­ï¼Œç»“æœä¸ºâ€œè´Ÿâ€ï¼ˆ0ï¼‰ã€‚é€šè¿‡è¿™æ ·çš„è´Ÿå–æ ·æ³•å¯ä»¥æ›´æœ‰æ•ˆåœ°å»è®­ç»ƒ skip gram model.</p>
<table>
<thead>
<tr>
<th style="text-align:center">context</th>
<th style="text-align:center">word</th>
<th style="text-align:center">target?</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">orange</td>
<td style="text-align:center">juice</td>
<td style="text-align:center">1</td>
</tr>
<tr>
<td style="text-align:center">orange</td>
<td style="text-align:center">king</td>
<td style="text-align:center">0</td>
</tr>
<tr>
<td style="text-align:center">orange</td>
<td style="text-align:center">book</td>
<td style="text-align:center">0</td>
</tr>
<tr>
<td style="text-align:center">orange</td>
<td style="text-align:center">the</td>
<td style="text-align:center">0</td>
</tr>
</tbody>
</table>
<p><img src="/images/deeplearning/C5W2-8_1.png" width="700"></p>
<p>è´Ÿå–æ ·çš„ä¸ªæ•° <strong>k</strong> ç”±æ•°æ®é‡çš„å¤§å°è€Œå®šï¼Œä¸Šè¿°ä¾‹å­ä¸­ä¸º3. å®é™…ä¸­æ•°æ®é‡å¤§åˆ™ k = 2 ~ 5ï¼Œæ•°æ®é‡å°åˆ™å¯ä»¥ç›¸å¯¹å¤§ä¸€äº› k = 5 ~ 20</p>
<blockquote>
<p>é€šè¿‡è´Ÿå–æ ·ï¼Œæˆ‘ä»¬çš„ç¥ç»ç½‘ç»œè®­ç»ƒä» <strong>softmax</strong> é¢„æµ‹æ¯ä¸ªè¯å‡ºç°çš„é¢‘ç‡å˜æˆäº†ç»å…¸ binary logistic regression é—®é¢˜ï¼Œæ¦‚ç‡å…¬å¼ç”¨ <strong>sigmoid</strong> ä»£æ›¿ <strong>softmax</strong> ä»è€Œå¤§å¤§æé«˜äº†é€Ÿåº¦.</p>
</blockquote>
<p>$$<br>x_1=(orange, juice) \rightarrow y_1=1 \\<br>x_2=(orange, king) \rightarrow y_2=0 \\<br>â€¦ \\<br>P(y=1|c,t)=\sigma(\theta_t^Te_c)<br>$$</p>
<p>æœ€åæˆ‘ä»¬é€šè¿‡ä¸€ä¸ªå¹¶æ²¡æœ‰è¢«ç†è®ºéªŒè¯ä½†æ˜¯å®é™…æ•ˆæœå¾ˆå¥½çš„æ–¹å¼æ¥ç¡®å®šæ¯ä¸ªè¢«è´Ÿé€‰æ ·é€‰ä¸­çš„æ¦‚ç‡ä¸ºï¼š</p>
<p>$$<br>P(w_i)=\frac{f(w_i^{\frac{3}{4}})} {\sum_{j=1}^{10000}f(w_j^{\frac{3}{4}})}<br>$$</p>
<p><img src="/images/deeplearning/C5W2-9_1.png" width="750"></p>
<h2 id="8-GloVe-Word-Vectors"><a href="#8-GloVe-Word-Vectors" class="headerlink" title="8. GloVe Word Vectors"></a>8. GloVe Word Vectors</h2><p>GloVe(Global vectors for word representation)è™½ä¸åƒWord2Vecæ¨¡å‹é‚£æ ·æµè¡Œï¼Œä½†æ˜¯å®ƒä¹Ÿæœ‰è‡ªèº«çš„ä¼˜ç‚¹ï¼Œå³ç®€å•.</p>
<h2 id="9-Sentiment-Classification"><a href="#9-Sentiment-Classification" class="headerlink" title="9. Sentiment Classification"></a>9. Sentiment Classification</h2><p>å¹³æ—¶ä¸Šæ·˜å®æˆ‘ä»¬éƒ½ä¼šå¯¹ä¹°çš„ä¸œè¥¿ç»™å‡ºæ–‡å­—è¯„ä»·å’Œå¯¹åº”çš„æ˜Ÿçº§è¯„ä»·ï¼Œå¦‚ä¸‹å›¾ç¤ºã€‚</p>
<p>å•†å®¶å¯ä»¥é€šè¿‡å¯¹è¿™äº›æ•°æ®æ¥æ„å»ºä¸€ä¸ªæƒ…ç»ªåˆ†ç±»å™¨ï¼Œä»è€Œå¯ä»¥åœ¨ä¸€äº›ç¤¾äº¤å¹³å°ä¸Šå¦‚å¾®åšã€QQç­‰å¤§å®¶çš„æ–‡å­—è¯„è®ºç„¶åå¯¹åº”è¾“å‡ºç›¸åº”çš„æ˜Ÿçº§ç­‰çº§ï¼Œè¿™æ ·å°±å¯ä»¥æ›´å®¹æ˜“çŸ¥é“è‡ªå®¶åº—æ˜¯è’¸è’¸æ—¥ä¸Šè¿˜æ˜¯æ—¥è½è¥¿å±±äº†,heheheã€‚</p>
<p><img src="/images/deeplearning/C5W2-10_1.png" width="750"></p>
<p>å¯ä»¥çœ‹åˆ°ä¸‹å›¾ä¸­çš„æ¨¡å‹å…ˆå°†è¯„è¯­ä¸­å„ä¸ªå•è¯é€šè¿‡ è¯åµŒè¡¨(æ•°æ®é‡ä¸€èˆ¬æ¯”è¾ƒå¤§ï¼Œä¾‹å¦‚æœ‰100Billionçš„å•è¯æ•°) è½¬åŒ–æˆå¯¹åº”çš„ç‰¹å¾å‘é‡ï¼Œç„¶åå¯¹æ‰€æœ‰çš„å•è¯å‘é‡åšæ±‚å’Œæˆ–è€…åšå¹³å‡ï¼Œç„¶åæ„å»ºSoftmaxåˆ†ç±»å™¨ï¼Œæœ€åè¾“å‡ºæ˜Ÿçº§è¯„çº§ã€‚</p>
<p><img src="/images/deeplearning/C5W2-11_1.png" width="750"></p>
<p>ä½†æ˜¯ä¸Šé¢çš„æ¨¡å‹å­˜åœ¨ä¸€ä¸ªé—®é¢˜ï¼Œä¸€èˆ¬è€Œè¨€å¦‚æœè¯„è¯­ä¸­æœ‰åƒâ€goodã€excellentâ€è¿™æ ·çš„å•è¯ï¼Œä¸€èˆ¬éƒ½æ˜¯æ˜Ÿçº§è¯„åˆ†è¾ƒé«˜çš„è¯„è¯­ï¼Œä½†æ˜¯è¯¥æ¨¡å‹å¯¹ä¸‹é¢è¿™å¥è¯„è¯­å°±æ˜¾å¾—æ— èƒ½ä¸ºåŠ›äº†ï¼š</p>
<p>â€œ<strong>Completely lacking in good taste, good service, and good ambience</strong>.â€</p>
<p>è¯¥è¯„è¯­ä¸­å‡ºç°å¤§é‡çš„goodï¼Œå¦‚æœç›´æ¥åšæ±‚å’Œæˆ–è€…å¹³å‡è¿ç®—ï¼Œç»è¿‡åˆ†ç±»å™¨å¾—åˆ°çš„è¾“å‡ºå¾ˆå¤§æ¦‚ç‡ä¸Šæ˜¯é«˜æ˜Ÿçº§è¯„åˆ†çš„ï¼Œä½†è¿™æ˜¾ç„¶ä¸è¯¥è¯„è¯­çš„æœ¬æ„ä¸ç¬¦.</p>
<p><img src="/images/deeplearning/C5W2-12_1.png" width="750"></p>
<p>ä¹‹æ‰€ä»¥ä¸Šé¢çš„æ¨¡å‹å­˜åœ¨é‚£æ ·çš„ç¼ºç‚¹ï¼Œå°±æ˜¯å› ä¸ºå®ƒæ²¡æœ‰æŠŠå•è¯çš„æ—¶åºè€ƒè™‘è¿›å»ï¼Œæ‰€ä»¥æˆ‘ä»¬å¯ä»¥ä½¿ç”¨RNNæ„å»ºæ¨¡å‹æ¥è§£å†³è¿™ç§é—®é¢˜ã€‚RNNæ¨¡å‹å¦‚ä¸‹å›¾ç¤ºï¼š</p>
<p><img src="/images/deeplearning/C5W2-13_1.png" width="750"></p>
<p>å¦å¤–ä½¿ç”¨RNNæ¨¡å‹è¿˜æœ‰å¦ä¸€ä¸ªå¥½å¤„ï¼Œå‡è®¾æµ‹è¯•é›†ä¸­çš„è¯„è¯­æ˜¯è¿™æ ·çš„</p>
<p>â€œCompletely absent of good taste, good service, and good ambience.â€</p>
<p>è¯¥è¯„è¯­åªæ˜¯å°†<strong>lacking in</strong>æ›¿æ¢æˆäº†<strong>absent of</strong>ï¼Œè€Œä¸”æˆ‘ä»¬å³ä½¿å‡è®¾<strong>absent</strong>å¹¶æ²¡æœ‰å‡ºç°åœ¨è®­ç»ƒé›†ä¸­ï¼Œä½†æ˜¯å› ä¸ºè¯åµŒè¡¨å¾ˆåºå¤§ï¼Œæ‰€ä»¥è¯åµŒè¡¨ä¸­åŒ…å«<strong>absent</strong>ï¼Œæ‰€ä»¥ç®—æ³•ä¾æ—§å¯ä»¥çŸ¥é“<strong>absent</strong>å’Œ<strong>lacking</strong>æœ‰ç›¸ä¼¼ä¹‹å¤„ï¼Œæœ€åè¾“å‡ºçš„ç»“æœä¹Ÿä¾ç„¶å¯ä»¥ä¿æŒæ­£ç¡®ã€‚</p>
<p><img src="/images/deeplearning/C5W2-14_1.png" width="750"></p>
<h2 id="10-Debiasing-Word-Embeddings"><a href="#10-Debiasing-Word-Embeddings" class="headerlink" title="10. Debiasing Word Embeddings"></a>10. Debiasing Word Embeddings</h2><p>ç°å¦‚ä»Šæœºå™¨å­¦ä¹ å·²ç»è¢«ç”¨åˆ°äº†å¾ˆå¤šé¢†åŸŸï¼Œä¾‹å¦‚é“¶è¡Œè´·æ¬¾å†³ç­–ï¼Œç®€å†ç­›é€‰ã€‚ä½†æ˜¯å› ä¸ºæœºå™¨æ˜¯å‘äººä»¬å­¦ä¹ ï¼Œæ‰€ä»¥å¥½çš„åçš„éƒ½ä¼šå­¦åˆ°. å› ä¸º <strong>RNN</strong> é€šå¸¸æ˜¯é€šè¿‡å¤§é‡çš„ç½‘ç»œæ•°æ®æ–‡æœ¬é›†è¿›è¡Œè®­ç»ƒå¾—åˆ°çš„ï¼Œæ‰€ä»¥å¾ˆå¤šæ—¶å€™æ–‡æœ¬é›†ä¸­çš„åè§ä¼šåæ˜ åœ¨è¯åµŒä»¥åŠæœ€ç»ˆ çš„ç»“æœä¸­ï¼Œä¾‹å¦‚</p>
<blockquote>
<p>å½“è¯´åˆ°Manï¼šç¨‹åºå‘˜çš„æ—¶å€™ï¼Œç®—æ³•å¾—å‡ºWomanï¼šå®¶åº­ä¸»å¦‡ï¼Œè¿™æ˜¾ç„¶å­˜åœ¨åè§ã€‚</p>
<p>åˆå¦‚Manï¼šDoctorï¼Œç®—æ³•è®¤ä¸ºWomanï¼šNurseã€‚è¿™æ˜¾ç„¶ä¹Ÿå­˜åœ¨å…¶å®å’Œåè§ã€‚</p>
</blockquote>
<p>è¿™ç§å¸¦æœ‰åè§çš„ç»“æœæ˜¯åº”è¯¥å°½åŠ›é¿å…çš„ï¼Œè¿™ç±»åè§å¤§é‡å­˜åœ¨äºç½‘ç»œæ•°æ®æ–‡æœ¬ä¸­ï¼ŒåŒ…æ‹¬ æ€§åˆ«åè§ï¼Œç§æ—åè§ï¼Œå¹´é¾„åè§ï¼Œç­‰ç­‰â€¦ äººç±»åœ¨è¿™æ–¹é¢å·²ç»åšçš„ä¸å¯¹äº†ï¼Œæ‰€ä»¥æœºå™¨åº”å½“åšå‡ºç›¸åº”çš„è°ƒæ•´æ¥å‡å°‘æ­§è§†.  </p>
<p><strong>ç»™è¯åµŒå»åè§ä¸»è¦åˆ†ä¸‰æ­¥</strong>(åœ¨è¯åµŒçš„é«˜ç»´ç©ºé—´ä¸­å®Œæˆ):</p>
<ol>
<li>æ‰¾åˆ°åè§çš„æ–¹å‘(ç¡®å®šåè§çš„xï¼Œyè½´)</li>
<li>å°†éå®šä¹‰åŒ–çš„è¯å¹³ç§»åˆ°x=0(çˆ¶äº²ï¼Œæ¯äº²è¿™ç±»è¯å°±æ˜¯å®šä¹‰åŒ–çš„è¯ï¼Œæœ¬èº«å°±å¸¦æœ‰äº†æ€§åˆ«çš„æš—ç¤º) </li>
<li>ä½¿å®šä¹‰åŒ–çš„è¯æ®ç¦»ç§»åŠ¨çš„è¯è·ç¦»ç›¸ç­‰</li>
</ol>
<blockquote>
<p>So word embeddings can reflect the gender, ethnicity, age, sexual, orientation, and other biases of the text used to train the model. One that Iâ€™m especially passionate about is bias relating to socioeconomic status. I think that every person, whether you come from a wealthy family, or a low income family, or anywhere in between, I think everyone should have a great opportunities.</p>
</blockquote>
<p><img src="/images/deeplearning/C5W2-15_1.png" width="750"></p>
<p>ä¸‹é¢å°†ä¸»è¦ä»æ€§åˆ«æ­§è§†ä¸Šæ¥ä¸¾ä¾‹è¯´æ˜å¦‚ä½•è®©æœºå™¨å­¦ä¹ æ¶ˆé™¤åè§ã€‚</p>
<p>ä¸‹å›¾å±•ç¤ºäº†ä¸€äº›å•è¯ï¼Œä½ å¯ä»¥åœ¨å¿ƒé‡Œå…ˆæƒ³æƒ³ä½ çœ‹åˆ°è¿™äº›å•è¯çš„ç¬¬ä¸€æ—¶é—´è®¤ä¸ºä»–ä»¬æ‰€å¯¹åº”çš„æ€§åˆ«æ˜¯ä»€ä¹ˆå§~~~</p>
<p><img src="/images/deeplearning/C5W2-16_1.png" width="450"></p>
<h3 id="1-è¯†åˆ«åè§æ–¹å‘"><a href="#1-è¯†åˆ«åè§æ–¹å‘" class="headerlink" title="1. è¯†åˆ«åè§æ–¹å‘"></a>1. è¯†åˆ«åè§æ–¹å‘</h3><p>å› ä¸ºè¯¥ä¾‹å­æ˜¯ä»¥æ¶ˆé™¤æ€§åˆ«æ­§è§†ä¸ºç›®çš„ï¼Œæ‰€ä»¥æˆ‘ä»¬éœ€è¦è®¡ç®—å‡ºå›¾ä¸­è¿™äº›å•è¯ä¹‹é—´çš„è·ç¦»çš„å¹³å‡å€¼ï¼Œè¿›è€Œä½œä¸ºåè§æ–¹å‘(bias direction)</p>
<p>$$<br>e_{he}-e_{she} \\<br>e_{boy}-e_{girl} \\<br>e_{grandmother}-e_{grandfather}<br>$$</p>
<p>å°†ä¸Šé¢æ‰€æ±‚åšå¹³å‡è¿ç®—ï¼Œå¾—åˆ°çš„å‘é‡æ–¹å‘å³ä¸ºåè§æ–¹å‘</p>
<p>ä¸ºæ–¹ä¾¿ç†è§£ï¼Œå·²åœ¨å›¾ä¸­ç”»å‡ºåè§æ–¹å‘ï¼Œå…¶ä½™299D(é™¤genderä»¥å¤–çš„å…¶ä»–å•è¯ç‰¹å¾)å‘é‡ä¸åè§æ–¹å‘æ­£äº¤ï¼Œä¹Ÿåœ¨ä¸‹å›¾ä¸­ç”»å‡º.</p>
<p><img src="/images/deeplearning/C5W2-17_1.png" width="700"></p>
<h3 id="2-è¯æ€§ä¸­å’Œ"><a href="#2-è¯æ€§ä¸­å’Œ" class="headerlink" title="2. è¯æ€§ä¸­å’Œ"></a>2. è¯æ€§ä¸­å’Œ</h3><p>åƒâ€œ <strong>boy, girl</strong> â€è¿™ç±»è¯åœ¨æ€§åˆ«è¯æ€§ä¸Šæ˜¯å¾ˆæ˜ç¡®çš„ï¼Œè€Œä¸”ä¸å­˜åœ¨æ­§è§†ï¼Œæ‰€ä»¥æ— éœ€ä¸­å’Œ(Neutralize).</p>
<p>è€Œå›¾ä¸­çš„ <strong>babysisterã€doctor</strong> åˆ™éœ€è¦ä¸­å’Œï¼Œå…·ä½“æ–¹æ³•å°±æ˜¯å°†è¯¥è¯åƒéåè§æ–¹å‘æŠ•å½±å¾—åˆ°ä¸€ä¸ªæ–°çš„åæ ‡.</p>
<p><img src="/images/deeplearning/C5W2-18_1.png" width="700"></p>
<h3 id="3-å•è¯å¯¹ç­‰è·ç¦»åŒ–"><a href="#3-å•è¯å¯¹ç­‰è·ç¦»åŒ–" class="headerlink" title="3. å•è¯å¯¹ç­‰è·ç¦»åŒ–"></a>3. å•è¯å¯¹ç­‰è·ç¦»åŒ–</h3><p>å¦‚ä¸‹å›¾ç¤ºï¼Œè™½ç„¶ <strong>babysister</strong> ä¸­å’ŒåŒ–ï¼Œä½†æ˜¯å®ƒè¿˜æ˜¯ç¦» <strong>grandmother</strong> æ›´è¿‘ï¼Œæ‰€ä»¥ä¾æ—§å¸¦æœ‰åè§</p>
<p><img src="/images/deeplearning/C5W2-19_1.png" width="700"></p>
<p>æ‰€ä»¥æˆ‘ä»¬è¿˜éœ€è¦å°†grandmotherã€grandfatherè¿™ç±»ä¸æ€§åˆ«æœ‰å…³çš„å¯¹åº”è¯ç­‰è·åˆ†å¸ƒåœ¨éåè§æ–¹å‘çš„ä¸¤ä¾§(çº¢è‰²å‰ªå¤´è¡¨ç¤ºç§»åŠ¨æ–¹å‘ï¼Œçº¢è‰²ç‚¹è¡¨ç¤ºç§»åŠ¨åçš„æ–°åæ ‡)ï¼Œå¦‚ä¸‹å›¾ç¤ºã€‚</p>
<p><img src="/images/deeplearning/C5W2-20_1.png" width="700"></p>
<h2 id="11-Reference"><a href="#11-Reference" class="headerlink" title="11. Reference"></a>11. Reference</h2><ul>
<li><a href="https://study.163.com/my#/smarts" target="_blank" rel="external">ç½‘æ˜“äº‘è¯¾å ‚ - deeplearning</a></li>
<li><a href="http://www.cnblogs.com/marsggbo/p/7470989.html" target="_blank" rel="external">DeepLearning.aiå­¦ä¹ ç¬”è®°æ±‡æ€»</a></li>
<li><a href="https://www.ctolib.com/Yukong-Deeplearning-ai-Solutions.html" target="_blank" rel="external">deeplearning.aiæ·±åº¦å­¦ä¹ è¯¾ç¨‹å­—å¹•ç¿»è¯‘é¡¹ç›®</a></li>
<li><a href="https://blog.csdn.net/Jerr__y/article/details/53749693" target="_blank" rel="external">seq2seqå­¦ä¹ ç¬”è®°</a></li>
</ul>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[Sequence Models (week1) - Recurrent Neural Networks]]></title>
      <url>http://iequa.com/2018/07/26/deeplearning-ai-Sequence-Models-week1/</url>
      <content type="html"><![CDATA[<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js"],
    jax: ["input/TeX"],
    tex2jax: {
      inlineMath: [ ['$','$'], ['\\(','\\)'] ],
      displayMath: [ ['$$','$$']],
      processEscapes: true
    }
  });
</script>
<script type="text/javascript" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS_HTML,http://myserver.com/MathJax/config/local/local.js">
</script>

<p>è¿™æ¬¡æˆ‘ä»¬è¦å­¦ä¹ ä¸“é¡¹è¯¾ç¨‹ä¸­ç¬¬äº”é—¨è¯¾ <strong>Sequence Models</strong>.</p>
<p><strong>ç¬¬ä¸€å‘¨:  Recurrent Neural Networks</strong> å·²è¢«è¯æ˜åœ¨æ—¶é—´æ•°æ®ä¸Šè¡¨ç°å¥½ï¼Œå®ƒæœ‰å‡ ä¸ªå˜ä½“ï¼ŒåŒ…æ‹¬ LSTMã€GRU å’ŒåŒå‘ç¥ç»ç½‘ç»œ.</p>
<a id="more"></a>
<h2 id="1-Why-sequence-models"><a href="#1-Why-sequence-models" class="headerlink" title="1. Why sequence models?"></a>1. Why sequence models?</h2><p>ä¸ºä»€ä¹ˆè¦å­¦ä¹ åºåˆ—æ¨¡å‹å‘¢? åºåˆ—æ¨¡å‹, æ™®éç§°ä¸º RNN (é€’å½’ç¥ç»ç½‘ç»œ - Recurrent Neural Network), åšä¸ºæ·±åº¦å­¦ä¹ ä¸­éå¸¸é‡è¦çš„ä¸€ç¯ï¼Œæœ‰ç€æ¯”æ™®é€šç¥ç»ç½‘ç»œæ›´å¹¿çš„å®½åº¦ä¸æ›´å¤šçš„å¯èƒ½æ€§ï¼Œå…¶åº”ç”¨é¢†åŸŸåŒ…æ‹¬ä½†ä¸é™äºâ€œè¯­éŸ³è¯†åˆ«â€ï¼Œ â€œNLPâ€ï¼Œ â€œDNAåºåˆ—åˆ†æâ€ï¼Œâ€œMachine Translationâ€ï¼Œ â€œè§†é¢‘åŠ¨ä½œåˆ†æâ€ï¼Œç­‰ç­‰â€¦ æœ‰è¿™æ ·ä¸€ç§è¯´æ³•ï¼Œä¹Ÿè®¸å¹¶ä¸ä¸¥è°¨ï¼Œä½†æœ‰åŠ©äºæˆ‘ä»¬ç†è§£RNNï¼Œå¤§æ„æ˜¯è¿™æ ·çš„:</p>
<blockquote>
<p>æ™®é€šç¥ç»ç½‘ç»œå¤„ç†çš„æ˜¯ä¸€ç»´çš„æ•°æ®ï¼ŒCNN å¤„ç†çš„æ˜¯äºŒç»´çš„æ•°æ®ï¼ŒRNN å¤„ç†çš„æ˜¯ä¸‰ç»´çš„æ•°æ®</p>
<p>æœ€ç›´è§‚çš„ç†è§£æ˜¯åœ¨ CNN å¯¹å›¾ç‰‡çš„åˆ†æåŸºç¡€ä¸Šï¼ŒRNN å¯ä»¥å¯¹è§†é¢‘è¿›è¡Œåˆ†æï¼Œè¿™é‡Œä¹Ÿå°±å¼•å…¥äº†ç¬¬ä¸‰ç»´â€œæ—¶é—´â€çš„æ¦‚å¿µ</p>
</blockquote>
<p><img src="/images/deeplearning/C5W1-1_1.png" width="700"></p>
<p>è¿™ä¸€å°èŠ‚é€šè¿‡ä¸€ä¸ªå°ä¾‹å­ä¸ºæˆ‘ä»¬æ‰“å¼€åºåˆ—æ¨¡å‹çš„å¤§é—¨ï¼Œä¾‹å­å¦‚ä¸‹:</p>
<blockquote>
<p>ç»™å‡ºè¿™æ ·ä¸€ä¸ªå¥å­ â€œHarry Potter and Herminone Granger invented a new spell.â€(å“ˆåˆ©æ³¢ç‰¹ä¸èµ«æ•æ ¼å…°æ°å‘æ˜äº† ä¸€ä¸ªæ–°çš„å’’è¯­ã€‚)ï¼Œ æˆ‘ä»¬çš„ä»»åŠ¡æ˜¯åœ¨è¿™ä¸ªå¥å­ä¸­å‡†ç¡®çš„å®šä½åˆ°äººå Harry Potter å’Œ Herminone Granger. ç”¨æ·±åº¦å­¦ä¹ çš„è¯­è¨€æ¥æè¿°å¦‚ä¸‹å›¾ - æ¯ä¸€ä¸ªå•è¯å¯¹åº”ä¸€ä¸ªè¾“å‡º 0 æˆ–è€… 1ï¼Œ1 ä»£è¡¨ç€æ˜¯äººåï¼Œ0 ä»£è¡¨ä¸æ˜¯ã€‚</p>
</blockquote>
<p><img src="/images/deeplearning/C5W1-2_2.png" width="750"></p>
<blockquote>
<p>æ¥ä¸‹æ¥æˆ‘ä»¬è¦è§£å†³çš„ä¸€ä¸ªé—®é¢˜æ˜¯<code>å¦‚ä½•æ‰èƒ½ä»£è¡¨ä¸€ä¸ªå•è¯?</code>ï¼Œæ¯”å¦‚æˆ‘ä»¬ä¾‹å­ä¸­çš„ â€œHarryâ€ï¼Œè¿™é‡Œæˆ‘ä»¬ä»‹ç»ä¸€ç§æ–°çš„ç¼–ç æ–¹å¼ï¼Œ å°±æ˜¯ç”¨å¦ä¸€ç§æ–¹å¼æ¥ä»£è¡¨æ¯ä¸€ä¸ªå•è¯ - ç‹¬çƒ­ç¼–ç ï¼ˆ<strong>One-Hot Encoding</strong>ï¼‰ã€‚ å…·ä½“æµç¨‹æ˜¯è¿™æ ·ï¼Œå‡è®¾æˆ‘ä»¬æœ‰ 10000 ä¸ªå¸¸ç”¨è¯ï¼Œä¸ºå…¶æ„å»ºä¸€ä¸ª10000*1 çš„çŸ©é˜µ(column matrix)ï¼Œå‡å¦‚ç¬¬ä¸€ä¸ªè¯æ˜¯è‹¹æœ(apple), é‚£ä¹ˆå¯¹åº”çš„ç¬¬ä¸€ä¸ªä½ç½®ä¸º 1ï¼Œå…¶ä»–éƒ½ä¸º 0ï¼Œæ‰€ä»¥ç§°ä¹‹ä¸ºç‹¬çƒ­ã€‚è¿™æ ·æ¯ä¸ªå•è¯éƒ½æœ‰å¯¹åº”çš„çŸ©é˜µè¿›è¡Œè¡¨ç¤ºï¼Œå¦‚æœè¿™ä¸ªè¯æ²¡æœ‰å‡ºç°åœ¨æˆ‘ä»¬çš„å­—å…¸ä¸­ï¼Œé‚£ä¹ˆæˆ‘ä»¬å¯ä»¥ç»™ä¸€ä¸ªç‰¹æ®Šçš„ç¬¦å·ä»£æ›¿ï¼Œå¸¸ç”¨çš„æ˜¯ <unk> (unknown)</unk></p>
</blockquote>
<h2 id="2-Notation"><a href="#2-Notation" class="headerlink" title="2. Notation"></a>2. Notation</h2><p>ä¸ºäº†åé¢æ–¹ä¾¿è¯´æ˜ï¼Œå…ˆå°†ä¼šç”¨åˆ°çš„æ•°å­¦ç¬¦å·è¿›è¡Œä»‹ç». ä»¥ä¸‹å›¾ä¸ºä¾‹ï¼Œå‡å¦‚æˆ‘ä»¬éœ€è¦å®šä½ä¸€å¥è¯ä¸­äººåå‡ºç°çš„ä½ç½®.</p>
<p><img src="/images/deeplearning/C5W1-2_1.png" width="750"></p>
<blockquote>
<ul>
<li>çº¢è‰²æ¡†ä¸­çš„ä¸ºè¾“å…¥ã€è¾“å‡ºå€¼ã€‚å¯ä»¥çœ‹åˆ°äººåè¾“å‡ºç”¨ 1 è¡¨ç¤ºï¼Œåä¹‹ç”¨ 0 è¡¨ç¤ºï¼›</li>
<li><p>ç»¿è‰²æ¡†ä¸­çš„ $x^{&lt; t >}$,$y^{&lt; t >}$ è¡¨ç¤ºå¯¹åº”çº¢è‰²æ¡†ä¸­çš„è¾“å…¥è¾“å‡ºå€¼çš„æ•°å­¦è¡¨ç¤ºï¼Œæ³¨æ„ä» 1 å¼€å§‹.</p>
</li>
<li><p>ç°è‰²æ¡†ä¸­çš„ $T_x,T_y$ åˆ†åˆ«è¡¨ç¤ºè¾“å…¥è¾“å‡ºåºåˆ—çš„é•¿åº¦ï¼Œåœ¨è¯¥ä¾‹ä¸­ï¼Œ$T_x=9,T_y=9$</p>
</li>
<li><p>é»„è‰²æ¡†ä¸­ $X^{(i)&lt; t >}$ ä¸Šçš„è¡¨ç¤º<strong>ç¬¬ $i$ ä¸ªè¾“å…¥æ ·æœ¬çš„ç¬¬ $t$ ä¸ªè¾“å…¥å€¼</strong>ï¼Œ$T_x^{ (i) }$ åˆ™è¡¨ç¤ºç¬¬ <strong>$i$</strong> ä¸ªè¾“å…¥æ ·æœ¬çš„é•¿åº¦ã€‚è¾“å‡º <strong>$y$</strong> ä¹ŸåŒç†.</p>
</li>
</ul>
</blockquote>
<p>è¾“å…¥å€¼ä¸­æ¯ä¸ªå•è¯ä½¿ç”¨ <strong>One-Hot</strong> æ¥è¡¨ç¤ºã€‚å³é¦–å…ˆä¼šæ„å»ºä¸€ä¸ªå­—å…¸(Dictionary), å‡è®¾è¯¥ä¾‹ä¸­çš„å­—å…¸ç»´åº¦æ˜¯ 10000*1 (å¦‚å›¾ç¤º)ã€‚ç¬¬ä¸€ä¸ªå•è¯ â€œHarryâ€ çš„æ•°å­¦è¡¨ç¤ºå½¢å¼å³ä¸º [0,0,0,â€¦â€¦,1 (åœ¨ç¬¬4075ä½) ,0,â€¦â€¦,0]ï¼Œå…¶ä»–å•è¯åŒç†ã€‚</p>
<p>ä½†æ˜¯å¦‚æœæŸä¸€ä¸ªå•è¯å¹¶æ²¡æœ‰è¢«åŒ…å«åœ¨å­—å…¸ä¸­æ€ä¹ˆåŠå‘¢ï¼Ÿæ­¤æ—¶æˆ‘ä»¬å¯ä»¥æ·»åŠ ä¸€ä¸ªæ–°çš„æ ‡è®°ï¼Œä¹Ÿå°±æ˜¯ä¸€ä¸ªå«åš Unknown Word çš„ä¼ªé€ å•è¯ï¼Œç”¨ &lt;<strong>UNK</strong>&gt; è¡¨ç¤ºã€‚å…·ä½“çš„ç»†èŠ‚ä¼šåœ¨åé¢ä»‹ç»ã€‚</p>
<p><img src="/images/deeplearning/C5W1-3_1.png" width="750"></p>
<h2 id="3-Recurrent-Neural-Network-Model"><a href="#3-Recurrent-Neural-Network-Model" class="headerlink" title="3. Recurrent Neural Network Model"></a>3. Recurrent Neural Network Model</h2><p>åœ¨ä»‹ç» RNN ä¹‹å‰ï¼Œé¦–å…ˆè§£é‡Šä¸€ä¸‹ä¸ºä»€ä¹ˆä¹‹å‰çš„æ ‡å‡†ç½‘ç»œä¸å†é€‚ç”¨äº†ã€‚å› ä¸ºå®ƒæœ‰ä¸¤ä¸ªç¼ºç‚¹ï¼š</p>
<ul>
<li>è¾“å…¥å’Œè¾“å‡ºçš„é•¿åº¦ä¸å°½ç›¸åŒ</li>
<li>æ— æ³•å…±äº«ä»å…¶ä»–ä½ç½®å­¦æ¥çš„ç‰¹å¾<blockquote>
<p>ä¾‹å¦‚ä¸Šä¸€èŠ‚ä¸­çš„ <strong>Harry</strong> è¿™ä¸ªè¯æ˜¯ç”¨ $x^{<1>}$ è¡¨ç¤ºçš„ï¼Œç½‘ç»œä»è¯¥ä½ç½®å­¦ä¹ äº†å®ƒæ˜¯ä¸€ä¸ªäººåã€‚ä½†æˆ‘ä»¬å¸Œæœ›æ— è®º <strong>Harry</strong> åœ¨å“ªä¸ªä½ç½®å‡ºç°ç½‘ç»œéƒ½èƒ½è¯†åˆ«å‡ºè¿™æ˜¯ä¸€ä¸ªäººåçš„ä¸€éƒ¨åˆ†ï¼Œè€Œæ ‡å‡†ç½‘ç»œæ— æ³•åšåˆ°è¿™ä¸€ç‚¹.</1></p>
</blockquote>
</li>
</ul>
<p><img src="/images/deeplearning/C5W1-4_1.png" width="750"></p>
<blockquote>
<p>è¾“å…¥å±‚ï¼Œæ¯”å¦‚æ¯ä¸ª $x^{<1>}$ éƒ½æ˜¯ä¸€ä¸ª 1000 ç»´çš„å‘é‡ï¼Œè¿™æ ·è¾“å…¥å±‚å¾ˆåºå¤§, é‚£ä¹ˆç¬¬ä¸€å±‚çš„æƒé‡çŸ©é˜µå°±æœ‰ç€å·¨å¤§çš„å‚æ•°.</1></p>
</blockquote>
<h3 id="3-1-RNN-ç»“æ„"><a href="#3-1-RNN-ç»“æ„" class="headerlink" title="3.1 RNN ç»“æ„"></a>3.1 RNN ç»“æ„</h3><p><img src="/images/deeplearning/C5W1-50_1.png" width="550"></p>
<p>è¿˜æ˜¯ä»¥è¯†åˆ«äººåä¸ºä¾‹,ç¬¬ä¸€ä¸ªå•è¯ $x^{<1>}$ è¾“å…¥ç¥ç»ç½‘ç»œå¾—åˆ°è¾“å‡º $y^{<1>}$</1></1></p>
<p><img src="/images/deeplearning/C5W1-5_1.png" width="90"></p>
<p>åŒç†, ç”± $x^{<2>}$ å°†å¾—åˆ° $y^{<2>}$,ä»¥æ­¤ç±»æ¨ã€‚ä½†æ˜¯è¿™å°±æ˜¯ä¼ ç»Ÿç½‘ç»œå­˜åœ¨çš„é—®é¢˜ï¼Œå³å•è¯ä¹‹é—´æ²¡æœ‰è”ç³»</2></2></p>
<p><img src="/images/deeplearning/C5W1-6_1.png" width="90"></p>
<p>ä¸ºäº†å°†å•è¯ä¹‹é—´å…³è”èµ·æ¥ï¼Œæ‰€ä»¥å°†å‰ä¸€å±‚çš„ç»“æœä¹Ÿä½œä¸ºä¸‹ä¸€å±‚çš„è¾“å…¥æ•°æ®ã€‚å¦‚ä¸‹å›¾ç¤º</p>
<p><img src="/images/deeplearning/C5W1-7_1.png" width="250"></p>
<p>æ•´ä½“çš„ RNN ç»“æ„æœ‰ä¸¤ç§è¡¨ç¤ºå½¢å¼ï¼Œå¦‚ä¸‹å›¾ç¤º, å·¦è¾¹æ˜¯å®Œæ•´çš„è¡¨è¾¾å½¢å¼ï¼Œæ³¨æ„ç¬¬ä¸€å±‚çš„ $a^{<0>}$ ä¸€èˆ¬è®¾ç½®ä¸º 0å‘é‡.</0></p>
<p><img src="/images/deeplearning/C5W1-8_1.png" width="750"></p>
<blockquote>
<p>è¦å¼€å§‹æ•´ä¸ªæµç¨‹, éœ€è¦ç¼–é€ ä¸€ä¸ªæ¿€æ´»å€¼, è¿™é€šå¸¸æ˜¯ 0å‘é‡, æœ‰äº›ç ”ç©¶äººå‘˜ä¼šç”¨å…¶ä»–æ–¹æ³•éšæœºåˆå§‹åŒ– $a^{<0>}=\vec{0}$. ä¸è¿‡ä½¿ç”¨ 0å‘é‡ï¼Œä½œä¸º 0æ—¶åˆ» çš„ä¼ªæ¿€æ´»å€¼ æ˜¯æœ€å¸¸è§çš„é€‰æ‹©. å› æ­¤æˆ‘ä»¬æŠŠå®ƒè¾“å…¥ç¥ç»ç½‘ç»œ.</0></p>
<p>(å³è¾¹çš„ç¤ºæ„å›¾æ˜¯ RNN çš„ç®€å†™ç¤ºæ„å›¾)</p>
</blockquote>
<hr>
<p>ä»‹ç»å®Œç»“æ„ä¹‹åï¼Œæˆ‘ä»¬è¿˜éœ€è¦çŸ¥é“ç½‘ç»œä¸­å‚æ•°çš„è¡¨è¾¾æ–¹å¼åŠå…¶å«ä¹‰ã€‚å¦‚ä¸‹å›¾ç¤ºï¼Œ$x^{&lt;{i}&gt;}$ åˆ°ç½‘ç»œçš„å‚æ•°ç”¨ $W_{ax}$ è¡¨ç¤ºï¼Œ$a^{&lt;{i}&gt;}$ åˆ°ç½‘ç»œçš„å‚æ•°ç”¨ $W_{aa}$ è¡¨ç¤ºï¼Œ$y^{&lt;{i}&gt;}$ åˆ°ç½‘ç»œçš„å‚æ•°ç”¨ $W_{ya}$ è¡¨ç¤ºï¼Œå…·ä½“å«ä¹‰å°†åœ¨ä¸‹é¢è¿›è¡Œè¯´æ˜.</p>
<p><img src="/images/deeplearning/C5W1-9_1.png" width="750"></p>
<blockquote>
<p>$x^{<1>}$ é€šè¿‡ç½‘ç»œå¯ä»¥ä¼ é€’åˆ° $y^{<3>}$</3></1></p>
<p>ä½†æ˜¯è¿™å­˜åœ¨ä¸€ä¸ªé—®é¢˜ï¼Œå³æ¯ä¸ªè¾“å‡ºåªä¸å‰é¢çš„è¾“å…¥æœ‰å…³ï¼Œè€Œä¸åé¢çš„æ— å…³ã€‚è¿™ä¸ªé—®é¢˜ä¼šåœ¨åç»­å†…å®¹ä¸­è¿›è¡Œæ”¹è¿›. </p>
<p>ä¸¾ä¸ªğŸŒ°: He said, â€œTeddy Roosevelt was a great President.â€</p>
<p>å¯¹äºè¿™å¥è¯ï¼ŒåªçŸ¥é“ <strong>He said</strong> å‰é¢ä¸¤ä¸ªè¯ï¼Œæ¥åˆ¤æ–­ Teddy æ˜¯å¦æ˜¯äººåæ˜¯ä¸å¤Ÿçš„ï¼Œè¿˜éœ€åé¢çš„ä¿¡æ¯.ï¼ˆBRNN å¯å¤„ç†è¿™é—®é¢˜ï¼‰</p>
</blockquote>
<h3 id="3-2-RNN-Forward-Propagation"><a href="#3-2-RNN-Forward-Propagation" class="headerlink" title="3.2 RNN Forward Propagation"></a>3.2 RNN Forward Propagation</h3><p>çœ‹ RNN Forward Propagation ä¹‹å‰ï¼Œå…ˆçœ‹ä¸‹åŸºæœ¬çš„æ ‡å‡†ç½‘ç»œ</p>
<p><img src="/images/deeplearning/C1W3-1_1.png" width="750"></p>
<p><img src="/images/deeplearning/C1W3-4_1.png" width="750"></p>
<p>RNN åœ¨æ­£å‘ä¼ æ’­çš„è¿‡ç¨‹ä¸­å¯ä»¥çœ‹åˆ° <code>a</code> çš„å€¼éšç€æ—¶é—´çš„æ¨ç§»è¢«ä¼ æ’­äº†å‡ºå»ï¼Œä¹Ÿå°±ä¸€å®šç¨‹åº¦ä¸Šä¿å­˜äº†å•è¯ä¹‹é—´çš„ç‰¹æ€§:</p>
<p><img src="/images/deeplearning/C5W1-10_1.png" width="750"></p>
<blockquote>
<p>$a^{<0>}=\vec{0}$</0></p>
<p>$a^{<1>}=g_1(W_{aa}a^{<0>}+W_{ax}x^{<1>}+b_a)$</1></0></1></p>
<p>$y^{<1>}=g_2(W_{ya}a^{<1>}+b_y)$</1></1></p>
<p>$a^{&lt;{t}&gt;}=g_1(W_{aa}a^{&lt;{t-1}&gt;}+W_{ax}x^{&lt;{t}&gt;}+b_a)$</p>
<p>$y^{&lt;{t}&gt;}=g_2(W_{ya}a^{&lt;{t}&gt;}+b_y)$</p>
<p>æ¿€æ´»å‡½æ•°ï¼š<strong>$g_1$</strong> ä¸€èˆ¬ä¸º <strong><code>tanh</code>å‡½æ•°</strong> (æˆ–è€…æ˜¯ <strong><code>Relu</code>å‡½æ•°</strong>)ï¼Œ<strong>$g_2$</strong> ä¸€èˆ¬æ˜¯ <strong><code>Sigmod</code>å‡½æ•°</strong>.</p>
<p>æ³¨æ„: å‚æ•°çš„ä¸‹æ ‡æ˜¯æœ‰é¡ºåºå«ä¹‰çš„ï¼Œå¦‚ $W_{ax}$ ä¸‹æ ‡çš„ç¬¬ä¸€ä¸ªå‚æ•°è¡¨ç¤ºè¦è®¡ç®—çš„é‡çš„ç±»å‹ï¼Œå³è¦è®¡ç®— $a$ çŸ¢é‡ï¼Œç¬¬äºŒä¸ªå‚æ•°è¡¨ç¤ºè¦è¿›è¡Œä¹˜æ³•è¿ç®—çš„æ•°æ®ç±»å‹ï¼Œå³éœ€è¦ä¸ $x$ çŸ¢é‡åšè¿ç®—ã€‚å¦‚ $W_{ax} x^{t}\rightarrow{a}$</p>
</blockquote>
<p><img src="/images/deeplearning/C5W1-19_1.png" width="750"></p>
<p><strong>Tx</strong> ï¼Œ <strong>Ty</strong> æ˜¯æ—¶é—´å•ä½, è¿™é‡Œç»Ÿç§°ä¸ºâ€œæ—¶åˆ»â€ï¼Œåœ¨è¿™ä¾‹å­ä¸­å¯¹åº”ä¸åŒæ—¶åˆ»æ˜¯è¾“å…¥çš„ç¬¬å‡ ä¸ªå•è¯ï¼Œ <strong>x</strong> æ˜¯â€œè¾“å…¥å€¼â€ï¼Œä¾‹å­ä¸­æ˜¯å½“å‰æ—¶åˆ»çš„å•è¯ï¼ˆä»¥ç‹¬çƒ­ç¼–ç çš„å½¢å¼ï¼‰ï¼Œ <strong>y</strong> æ˜¯â€œè¾“å‡ºå€¼â€ <strong>0</strong> æˆ–è€… <strong>1</strong>ï¼Œ <strong>a</strong> ç§°ä¸ºæ¿€æ´»å€¼ç”¨äºå°†å‰ä¸€ä¸ªå•å…ƒçš„è¾“å‡ºç»“æœä¼ é€’åˆ°ä¸‹ä¸€ä¸ªå•å…ƒï¼Œ <strong>Wax</strong> <strong>Way</strong> <strong>Waa</strong> æ˜¯ä¸åŒçš„â€œæƒé‡çŸ©é˜µâ€ä¹Ÿå°±æ˜¯æˆ‘ä»¬ç¥ç»ç½‘ç»œ update çš„å€¼ã€‚æ¯ä¸€ä¸ªå•å…ƒæœ‰ä¸¤ä¸ªè¾“å…¥ï¼Œ$a^{&lt;{T_x-1}&gt;}$ å’Œ <strong>x</strong> ï¼Œæœ‰ä¸¤ä¸ªè¾“å‡º $a^{&lt;{T_x}&gt;}$ å’Œ <strong>y</strong> . å›¾ä¸­æ²¡æœ‰å‡ºç°çš„ g æ˜¯â€œæ¿€æ´»å‡½æ•°â€ã€‚</p>
<table>
<thead>
<tr>
<th style="text-align:center">ç¬¦å·</th>
<th style="text-align:center">åå­—</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">$x$</td>
<td style="text-align:center">è¾“å…¥å€¼</td>
</tr>
<tr>
<td style="text-align:center">$a$</td>
<td style="text-align:center">æ¿€æ´»å€¼</td>
</tr>
<tr>
<td style="text-align:center">$T_x$, $T_y$</td>
<td style="text-align:center">$x$,$y$ æ—¶åˆ»</td>
</tr>
<tr>
<td style="text-align:center">Wax, Way, Waa</td>
<td style="text-align:center">æƒé‡çŸ©é˜µ</td>
</tr>
</tbody>
</table>
<h3 id="3-3-Simplified-RNN-notation"><a href="#3-3-Simplified-RNN-notation" class="headerlink" title="3.3 Simplified RNN notation"></a>3.3 Simplified RNN notation</h3><p>ä¸‹é¢å°†å¯¹å¦‚ä¸‹å…¬å¼è¿›è¡ŒåŒ–ç®€ï¼š</p>
<p><img src="/images/deeplearning/C5W1-11_1.png" width="400"></p>
<p><strong>1. ç®€åŒ– $a^{&lt;{t}&gt;}$</strong></p>
<p>$$<br>\begin{align}<br>a^{&lt;{t}&gt;}&amp;= g(W_{aa}a^{&lt;{t-1}&gt;}+W_{ax}x^{&lt;{t}&gt;}+b_a) \notag \\<br>&amp;= g(W_a [a^{&lt;{t-1}&gt;},x^{&lt;{t}&gt;}]^{T}+b_a) \notag<br>\end{align}<br>$$</p>
<p><img src="/images/deeplearning/C5W1-12_1.png" width="750"></p>
<blockquote>
<p>æ³¨æ„ï¼Œå…¬å¼ä¸­ä½¿ç”¨äº†ä¸¤ä¸ªçŸ©é˜µè¿›è¡ŒåŒ–ç®€ï¼Œåˆ†åˆ«æ˜¯ $W_a$ å’Œ $[a^{&lt;{t-1}&gt;},x^{&lt;{t}&gt;}]^T$ (ä½¿ç”¨è½¬ç½®ç¬¦å·æ›´æ˜“ç†è§£),ä¸‹é¢åˆ†åˆ«è¿›è¡Œè¯´æ˜ï¼š</p>
</blockquote>
<p>$W_a = [ W_{aa}, W_{ax} ]$, å‡è®¾ $W_{aa}$ æ˜¯ (100,100) çš„çŸ©é˜µï¼Œ$W_{ax}$ æ˜¯ (100,10000) çš„çŸ©é˜µ,é‚£ä¹ˆ $W$ åˆ™æ˜¯ (100,10100) çš„çŸ©é˜µ.</p>
<p><img src="/images/deeplearning/C5W1-13_1.png" width="550"></p>
<p>$[a^{&lt;{t-1}&gt;},x^{&lt;{t}&gt;}]^T$ æ˜¯ä¸‹å›¾ç¤ºæ„:</p>
<p><img src="/images/deeplearning/C5W1-14_1.png" width="550"></p>
<p>æ•… $W_a [a^{&lt;{t-1}&gt;},x^{&lt;{t}&gt;}]^{T}$ çŸ©é˜µè®¡ç®—å¦‚ä¸‹å›¾ç¤º:</p>
<p><img src="/images/deeplearning/C5W1-15_1.png" width="550"></p>
<p><strong>2. ç®€åŒ– $y^{&lt;{t}&gt;}$</strong></p>
<p><img src="/images/deeplearning/C5W1-16_1.png" width="550"></p>
<p>è¯¥èŠ‚PPTå†…å®¹ï¼š</p>
<p><img src="/images/deeplearning/C5W1-17_1.png" width="750"></p>
<p>å†å›é¡¾ä¸‹å¹²å‡€çš„å‰å‘ä¼ æ’­æ¦‚è§ˆå›¾:</p>
<p><img src="/images/deeplearning/C5W1-20_1.png" width="750"></p>
<h2 id="4-Backpropagation-through-time"><a href="#4-Backpropagation-through-time" class="headerlink" title="4. Backpropagation through time"></a>4. Backpropagation through time</h2><p>RNN çš„åå‘ä¼ æ’­é€šå¸¸éƒ½ç”±ç±»ä¼¼ Tensorflowã€Torch ä¹‹ç±»çš„åº“æˆ–è€…æ¡†æ¶å¸®ä½ å®Œæˆï¼Œä¸è¿‡æ„Ÿå®˜ä¸Šå’Œæ™®é€šç¥ç»ç½‘ç»œç±»ä¼¼ï¼Œç®—æ¢¯åº¦å€¼ç„¶åæ›´æ–°æƒé‡çŸ©é˜µ.</p>
<p>ä½†æ˜¯ä¸‹é¢è¿™é‡Œä¾ç„¶ä¼šå¯¹<strong>åå‘ä¼ æ’­</strong>è¿›è¡Œè¯¦ç»†çš„ä»‹ç»ï¼Œè·Ÿç€ä¸‹é¢ä¸€å¼ ä¸€å¼ çš„å›¾ç‰‡èµ°èµ·æ¥ ğŸ˜„ğŸ˜„:</p>
<h3 id="4-1-æ•´ä½“æ„Ÿå—"><a href="#4-1-æ•´ä½“æ„Ÿå—" class="headerlink" title="4.1 æ•´ä½“æ„Ÿå—"></a>4.1 æ•´ä½“æ„Ÿå—</h3><p>é¦–å…ˆå†å›é¡¾ä¸€ä¸‹ RNN çš„æ•´ä½“ç»“æ„:</p>
<p><img src="/images/deeplearning/C5W1-20_1.png" width="750"></p>
<p>è¦è¿›è¡Œåå‘ä¼ æ’­ï¼Œé¦–å…ˆéœ€è¦å‰å‘ä¼ æ’­ï¼Œä¼ æ’­æ–¹å‘å¦‚è“è‰²ç®­å¤´æ‰€ç¤ºï¼Œå…¶æ¬¡å†æŒ‰ç…§çº¢è‰²ç®­å¤´è¿›è¡Œåå‘ä¼ æ’­</p>
<p><img src="/images/deeplearning/C5W1-18_1.png" width="750"></p>
<h3 id="4-2-å‰å‘ä¼ æ’­"><a href="#4-2-å‰å‘ä¼ æ’­" class="headerlink" title="4.2 å‰å‘ä¼ æ’­"></a>4.2 å‰å‘ä¼ æ’­</h3><p>é¦–å…ˆç»™å‡ºæ‰€æœ‰è¾“å…¥æ•°æ®ï¼Œå³ä» $x^{<1>}$ åˆ° $x^{&lt;{T_x}&gt;}$, $T_x$ è¡¨ç¤ºè¾“å…¥æ•°æ®çš„æ•°é‡.</1></p>
<p><img src="/images/deeplearning/C5W1-21_1.png" width="650"></p>
<p>åˆå§‹åŒ–å‚æ•° $W_a$, $b_a$ï¼Œå°†è¾“å…¥æ•°æ®è¾“å…¥ç½‘ç»œå¾—åˆ°å¯¹åº”çš„ $a^{&lt;{t}&gt;}$</p>
<p><img src="/images/deeplearning/C5W1-22_1.png" width="650"></p>
<p>å†é€šè¿‡ä¸åˆå§‹åŒ–å‚æ•° $W_y$, $b_y$ å¾—åˆ° $y^{&lt;{t}&gt;}$</p>
<p><img src="/images/deeplearning/C5W1-23_1.png" width="650"></p>
<h3 id="4-3-æŸå¤±å‡½æ•°å®šä¹‰"><a href="#4-3-æŸå¤±å‡½æ•°å®šä¹‰" class="headerlink" title="4.3 æŸå¤±å‡½æ•°å®šä¹‰"></a>4.3 æŸå¤±å‡½æ•°å®šä¹‰</h3><p>è¦è¿›è¡Œåå‘ä¼ æ’­ï¼Œå¿…é¡»å¾—æœ‰æŸå¤±å‡½æ•°å˜›ï¼Œæ‰€ä»¥æˆ‘ä»¬å°†æŸå¤±å‡½æ•°å®šä¹‰å¦‚ä¸‹ï¼š</p>
<p><strong>æ¯ä¸ªèŠ‚ç‚¹çš„æŸå¤±å‡½æ•°:</strong></p>
<p>$$<br>L^{&lt;{t}&gt;}(\hat{y}^{&lt;{t}&gt;},y^{&lt;{t}&gt;})=y^{&lt;{t}&gt;}log(y^{&lt;{t}&gt;})-(1-y^{&lt;{t}&gt;})log(1-\hat{y}^{&lt;{t}&gt;})<br>$$</p>
<p><strong>æ•´ä¸ªç½‘ç»œçš„æŸå¤±å‡½æ•°:</strong></p>
<p>$$<br>L(\hat{y}^{&lt;{t}&gt;},y^{&lt;{t}&gt;)}) = \sum_{t=1}^{T_y}L^{&lt;{t}&gt;}(\hat{y}^{&lt;{t}&gt;},y^{&lt;{t}&gt;})<br>$$</p>
<p><img src="/images/deeplearning/C5W1-24_1.png" width="750"></p>
<h3 id="4-4-åå‘ä¼ æ’­"><a href="#4-4-åå‘ä¼ æ’­" class="headerlink" title="4.4 åå‘ä¼ æ’­"></a>4.4 åå‘ä¼ æ’­</h3><p><img src="/images/deeplearning/C5W1-25_1.png" width="750"></p>
<h3 id="4-5-æ•´ä¸ªæµç¨‹å›¾"><a href="#4-5-æ•´ä¸ªæµç¨‹å›¾" class="headerlink" title="4.5 æ•´ä¸ªæµç¨‹å›¾"></a>4.5 æ•´ä¸ªæµç¨‹å›¾</h3><p><img src="/images/deeplearning/C5W1-26_1.png" width="750"></p>
<h2 id="5-Different-types-of-RNNs"><a href="#5-Different-types-of-RNNs" class="headerlink" title="5. Different types of RNNs"></a>5. Different types of RNNs</h2><p><strong>RNN çš„ä¸åŒåº”ç”¨é¢†åŸŸ:</strong></p>
<p>åºåˆ—æ¨¡å‹å¯¹è¾“å…¥ä¸è¾“å‡ºçš„é•¿åº¦æ²¡æœ‰è¦æ±‚ï¼Œåœ¨å¸¸è§çš„ä¾‹å­ä¸­ï¼Œæœºå™¨ç¿»è¯‘å°±æ˜¯å¤šä¸ªè¾“å…¥ä¸å¤šä¸ªè¾“å‡ºï¼Œç®€ç§°â€œå¤šå¯¹å¤šâ€ï¼Œ è¯­éŸ³è¯†åˆ«å¯è§†ä¸ºâ€œå•å¯¹å¤šâ€ï¼Œ å®ƒçš„åä¾‹æ˜¯éŸ³ä¹ç”Ÿæˆ-â€œå¤šå¯¹å•â€ã€‚è¯¾ç¨‹ä¸­ä»‹ç»äº†å¤šç§å¯èƒ½çš„ RNN æ¨¡å¼ï¼Œæˆ‘ä»¬ç”¨ä¸‹é¢ä¸€å¼ å›¾æ¦‚æ‹¬ï¼š</p>
<p><img src="/images/deeplearning/C5W1-27_1.png" width="800"></p>
<p>RNN ä¸åŒçš„ç»“æ„ç»™äº†æˆ‘ä»¬æ›´å¤šçš„å¯èƒ½æ€§.</p>
<h2 id="6-Language-model-and-sequence-generation"><a href="#6-Language-model-and-sequence-generation" class="headerlink" title="6. Language model and sequence generation"></a>6. Language model and sequence generation</h2><p>è¯­è¨€æ¨¡å‹å’Œåºåˆ—ç”Ÿæˆ</p>
<h3 id="6-1-ä»€ä¹ˆæ˜¯è¯­è¨€æ¨¡å‹"><a href="#6-1-ä»€ä¹ˆæ˜¯è¯­è¨€æ¨¡å‹" class="headerlink" title="6.1 ä»€ä¹ˆæ˜¯è¯­è¨€æ¨¡å‹"></a>6.1 ä»€ä¹ˆæ˜¯è¯­è¨€æ¨¡å‹</h3><p>å‡¡äº‹å¼€å¤´ä¸¾ä¸ªğŸŒ°ï¼Œä¸€åˆ‡éƒ½å¥½è¯´ï¼š</p>
<p>å‡è®¾ä¸€ä¸ªè¯­éŸ³è¯†åˆ«ç³»ç»Ÿå¬ä¸€å¥è¯å¾—åˆ°äº†å¦‚ä¸‹ä¸¤ç§é€‰æ‹©ï¼Œä½œä¸ºæ­£å¸¸äººè‚¯å®šä¼šé€‰æ‹©ç¬¬äºŒç§ã€‚ä½†æ˜¯æœºå™¨æ‰å¦‚ä½•åšåˆ¤æ–­å‘¢ï¼Ÿ</p>
<p><img src="/images/deeplearning/C5W1-28_1.png" width="600"></p>
<p>æ­¤æ—¶å°±éœ€è¦é€šè¿‡è¯­è¨€æ¨¡å‹æ¥é¢„æµ‹æ¯å¥è¯çš„æ¦‚ç‡ï¼š</p>
<p><img src="/images/deeplearning/C5W1-29_1.png" width="600"></p>
<h3 id="6-2-å¦‚ä½•ä½¿ç”¨-RNN-æ„å»ºè¯­è¨€æ¨¡å‹"><a href="#6-2-å¦‚ä½•ä½¿ç”¨-RNN-æ„å»ºè¯­è¨€æ¨¡å‹" class="headerlink" title="6.2 å¦‚ä½•ä½¿ç”¨ RNN æ„å»ºè¯­è¨€æ¨¡å‹"></a>6.2 å¦‚ä½•ä½¿ç”¨ RNN æ„å»ºè¯­è¨€æ¨¡å‹</h3><ol>
<li>é¦–å…ˆæˆ‘ä»¬éœ€è¦ä¸€ä¸ªå¾ˆå¤§çš„è¯­æ–™åº“ (<strong>Corpus</strong>)</li>
<li>å°†æ¯ä¸ªå•è¯å­—ç¬¦åŒ– (<strong>Tokenize</strong>ï¼Œ<strong>å³ä½¿ç”¨One-shotç¼–ç </strong>) å¾—åˆ°è¯å…¸,ï¼Œå‡è®¾æœ‰ 10000 ä¸ªå•è¯</li>
<li>è¿˜éœ€è¦æ·»åŠ ä¸¤ä¸ªç‰¹æ®Šçš„å•è¯<blockquote>
<ul>
<li>end of sentence. ç»ˆæ­¢ç¬¦ï¼Œè¡¨ç¤ºå¥å­ç»“æŸ.<br><img src="/images/deeplearning/C5W1-30_1.png" width="600"></li>
<li>UNknown, ä¹‹å‰çš„ç¬”è®°å·²ä»‹ç»è¿‡<br><img src="/images/deeplearning/C5W1-31_1.png" width="600"></li>
</ul>
</blockquote>
</li>
</ol>
<h3 id="6-3-æ„å»ºè¯­è¨€æ¨¡å‹ç¤ºä¾‹"><a href="#6-3-æ„å»ºè¯­è¨€æ¨¡å‹ç¤ºä¾‹" class="headerlink" title="6.3 æ„å»ºè¯­è¨€æ¨¡å‹ç¤ºä¾‹"></a>6.3 æ„å»ºè¯­è¨€æ¨¡å‹ç¤ºä¾‹</h3><p>å‡è®¾è¦å¯¹è¿™å¥è¯è¿›è¡Œå»ºæ¨¡ï¼š<strong>Cats average 15 hours of sleep a day. <eos></eos></strong></p>
<p><strong>1. åˆå§‹åŒ–</strong></p>
<blockquote>
<p>è¿™ä¸€æ­¥æ¯”è¾ƒç‰¹æ®Šï¼Œå³ $x^{<1>}$ å’Œ $a^{<0>}$ éƒ½éœ€è¦åˆå§‹åŒ–ä¸º $\vec{0}$ .<br>æ­¤æ—¶ $\hat{y}^{<1>}$ å°†ä¼šå¯¹ç¬¬ä¸€ä¸ªå­—å¯èƒ½å‡ºç°çš„æ¯ä¸€ä¸ªå¯èƒ½è¿›è¡Œæ¦‚ç‡çš„åˆ¤æ–­,å³ $\hat{y}^{<1>}=[p(a),â€¦,p(cats),â€¦]$.</1></1></0></1></p>
<p>å½“ç„¶åœ¨æœ€å¼€å§‹çš„æ—¶å€™æ²¡æœ‰ä»»ä½•çš„ä¾æ®ï¼Œå¯èƒ½å¾—åˆ°çš„æ˜¯å®Œå…¨ä¸ç›¸å¹²çš„å­—ï¼Œå› ä¸ºåªæ˜¯æ ¹æ®åˆå§‹çš„å€¼å’Œæ¿€æ´»å‡½æ•°åšå‡ºçš„å–æ ·ã€‚</p>
<p><img src="/images/deeplearning/C5W1-32_1.png" width="500"></p>
</blockquote>
<p><strong>2. å°†çœŸå®å€¼ä½œä¸ºè¾“å…¥å€¼:</strong></p>
<blockquote>
<p>ä¹‹æ‰€ä»¥å°†çœŸå®å€¼ä½œä¸ºè¾“å…¥å€¼å¾ˆå¥½ç†è§£ï¼Œå¦‚æœæˆ‘ä»¬ä¸€ç›´ä¼ é”™è¯¯çš„å€¼ï¼Œå°†æ°¸è¿œä¹Ÿæ— æ³•å¾—åˆ°å­—ä¸å­—ä¹‹é—´çš„å…³ç³»</p>
</blockquote>
<p>å¦‚ä¸‹å›¾ç¤ºï¼Œå°† $y^{<1>}$ æ‰€è¡¨ç¤ºçš„çœŸå®å€¼ Cats ä½œä¸ºè¾“å…¥ï¼Œå³ $x^{<2>}=y^{<1>}$ å¾—åˆ° $\hat{y}^{<2>}$</2></1></2></1></p>
<p>æ­¤æ—¶çš„ $\hat{y}^{<2>}=[p(a|cats),â€¦,p(average|cats),â€¦]$</2></p>
<p>åŒç†æœ‰ $\hat{y}^{<3>}=[p(a|cats\, average),â€¦,p(average|cats\,average),â€¦]$</3></p>
<p>å¦å¤–è¾“å…¥å€¼æ»¡è¶³ï¼š $x^{&lt;{t}&gt;}=y^{&lt;{t-1}&gt;}$</p>
<p><img src="/images/deeplearning/C5W1-33_1.png" width="600"></p>
<p><strong>3. è®¡ç®—å‡ºæŸå¤±å€¼:</strong></p>
<p>ä¸‹å›¾ç»™å‡ºäº†æ„å»ºæ¨¡å‹çš„è¿‡ç¨‹ä»¥åŠæŸå¤±å€¼è®¡ç®—å…¬å¼:</p>
<p><img src="/images/deeplearning/C5W1-34_1.png" width="700"></p>
<blockquote>
<p>éšç€è®­ç»ƒçš„æ¬¡æ•°çš„å¢å¤šï¼Œæˆ–è€…å¸¸ç”¨è¯å‡ºç°çš„é¢‘ç‡çš„å¢å¤šï¼Œè¯­è¨€æ¨¡å‹ä¾¿æ…¢æ…¢çš„ä¼šå¼€å§‹æŒæ¡ç®€å•çš„è¯è¯­æ¯”å¦‚â€œå¹³å‡â€ï¼Œâ€œæ¯å¤©â€ï¼Œâ€œå°æ—¶â€ã€‚ä¸€ä¸ªå®Œå–„çš„è¯­è¨€æ¨¡å‹çœ‹åˆ°ç±»ä¼¼â€œ 10 ä¸ªå°â€çš„æ—¶å€™ï¼Œåº”è¯¥å°±èƒ½å‡†ç¡®çš„åˆ¤å®šä¸‹ä¸€ä¸ªå­—æ˜¯â€œæ—¶â€ã€‚</p>
<p>ï¼ˆå½“ç„¶ä¹Ÿè®¸å®é™…æƒ…å†µæ˜¯â€œ 10 ä¸ªå°æœ‹å‹â€ï¼Œæ‰€ä»¥é€šå¸¸ä¼šæœ‰æ›´å¤šçš„åˆ¤æ–­å› ç´ ï¼Œè¿™é‡Œåªæ˜¯ä¸€ä¸ªä¾‹å­ï¼‰</p>
</blockquote>
<h2 id="7-Sampling-novel-sequences"><a href="#7-Sampling-novel-sequences" class="headerlink" title="7. Sampling novel sequences"></a>7. Sampling novel sequences</h2><p>å½“è®­ç»ƒå¾—åˆ°äº†ä¸€ä¸ªæ¨¡å‹ä¹‹åï¼Œå¦‚æƒ³çŸ¥é“è¿™ä¸ª<strong>æ¨¡å‹å­¦åˆ°äº†äº›ä»€ä¹ˆ</strong>ï¼Œä¸€ä¸ªéæ­£å¼çš„æ–¹æ³•å°±æ˜¯å¯¹æ–°åºåˆ—è¿›è¡Œé‡‡æ ·ã€‚å…·ä½“æ–¹æ³•å¦‚ä¸‹ï¼š</p>
<p>åœ¨æ¯ä¸€æ­¥è¾“å‡º $\hat{y}$ æ—¶ï¼Œé€šå¸¸ä½¿ç”¨ softmax ä½œä¸ºæ¿€æ´»å‡½æ•°ï¼Œç„¶åæ ¹æ®è¾“å‡ºçš„åˆ†å¸ƒï¼Œéšæœºé€‰æ‹©ä¸€ä¸ªå€¼ï¼Œä¹Ÿå°±æ˜¯å¯¹åº”çš„ä¸€ä¸ªå­— æˆ– è‹±æ–‡å•è¯ã€‚ ç„¶åå°†è¿™ä¸ªå€¼ä½œä¸ºä¸‹ä¸€ä¸ªå•å…ƒçš„ $x$ è¾“å…¥è¿›å» (å³ $x^{&lt;{t}&gt;}=\hat{y}^{&lt;{t-1}&gt;}$, ç›´åˆ°æˆ‘ä»¬è¾“å‡ºäº†ç»ˆç»“ç¬¦ï¼Œæˆ–è€…è¾“å‡ºé•¿åº¦è¶…è¿‡äº†æå‰çš„é¢„è®¾å€¼ n æ‰åœæ­¢é‡‡æ ·.</p>
<p>ä¸Šè¿°æ­¥éª¤å…·ä½“å¦‚å›¾ç¤ºï¼š</p>
<p><img src="/images/deeplearning/C5W1-35_1.png" width="700"></p>
<p>ä¸‹å›¾ç»™å‡ºäº†é‡‡æ ·ä¹‹åå¾—åˆ°çš„æ•ˆæœï¼š</p>
<blockquote>
<ul>
<li>å·¦è¾¹æ˜¯å¯¹è®­ç»ƒå¾—åˆ°æ–°é—»ä¿¡æ¯æ¨¡å‹è¿›è¡Œé‡‡æ ·å¾—åˆ°çš„å†…å®¹ï¼›</li>
<li>å³è¾¹æ˜¯èå£«æ¯”äºšæ¨¡å‹é‡‡æ ·å¾—åˆ°çš„å†…å®¹.</li>
</ul>
</blockquote>
<p><img src="/images/deeplearning/C5W1-36_1.png" width="750"></p>
<h2 id="8-Vanishing-gradients-with-RNNs"><a href="#8-Vanishing-gradients-with-RNNs" class="headerlink" title="8. Vanishing gradients with RNNs"></a>8. Vanishing gradients with RNNs</h2><blockquote>
<p>ç°åœ¨ä½ å·²ç»å­¦ä¼šäº† åŸºæœ¬çš„ RNN å¦‚ä½•åº”ç”¨åœ¨ æ¯”å¦‚ è¯­è¨€æ¨¡å‹ è¿˜æœ‰ å¦‚ä½•ç”¨åå‘ä¼ æ’­æ¥è®­ç»ƒä½ çš„ RNN æ¨¡å‹, ä½†æ˜¯è¿˜æœ‰ä¸€ä¸ªé—®é¢˜å°±æ˜¯ æ¢¯åº¦æ¶ˆå¤± ä¸ æ¢¯åº¦çˆ†ç‚¸ é—®é¢˜.</p>
<p>ç›®å‰è¿™ç§åŸºæœ¬çš„ RNN ä¹Ÿä¸æ“…é•¿æ•è·è¿™ç§é•¿æœŸä¾èµ–æ•ˆåº”. </p>
<p>æ¢¯åº¦çˆ†ç‚¸å¯ä»¥ç”¨æ¢¯åº¦æ¶ˆå‡è§£å†³ã€æ¢¯åº¦æ¶ˆå¤±å°±æœ‰ç‚¹éº»çƒ¦äº†ï¼Œéœ€è¦ç”¨ GRU æ¥è§£å†³.</p>
</blockquote>
<p><strong>RNN çš„æ¢¯åº¦æ¶ˆå¤±ã€çˆ†ç‚¸é—®é¢˜:</strong></p>
<p>æ¢¯åº¦å€¼åœ¨ RNN ä¸­ä¹Ÿå¯èƒ½å› ä¸ºåå‘ä¼ æ’­çš„å±‚æ¬¡å¤ªå¤šå¯¼è‡´è¿‡å° æˆ– è¿‡å¤§</p>
<blockquote>
<ul>
<li>å½“æ¢¯åº¦å€¼è¿‡å°çš„æ—¶å€™ï¼Œç¥ç»ç½‘ç»œå°†æ— æ³•æœ‰æ•ˆåœ°è°ƒæ•´è‡ªå·±çš„æƒé‡çŸ©é˜µå¯¼è‡´è®­ç»ƒæ•ˆæœä¸ä½³ï¼Œç§°ä¹‹ä¸º<strong>â€œæ¢¯åº¦æ¶ˆå¤±é—®é¢˜â€(gradient vanishing problem)</strong>ï¼›</li>
<li>è¿‡å¤§æ—¶å¯èƒ½ç›´æ¥å½±å“åˆ°ç¨‹åºçš„è¿ä½œå› ä¸ºç¨‹åºå·²ç»æ— æ³•å­˜å‚¨é‚£ä¹ˆå¤§çš„å€¼ï¼Œç›´æ¥è¿”å› NaN ï¼Œç§°ä¹‹ä¸º<strong>â€œæ¢¯åº¦çˆ†ç‚¸é—®é¢˜â€(gradient exploding problem)</strong></li>
</ul>
</blockquote>
<p>å½“æ¢¯åº¦å€¼è¿‡å¤§çš„æ—¶å€™æœ‰ä¸€ä¸ªæ¯”è¾ƒç®€ä¾¿çš„è§£å†³æ–¹æ³•ï¼Œæ¯æ¬¡å°†è¿”å›çš„æ¢¯åº¦å€¼è¿›è¡Œæ£€æŸ¥ï¼Œå¦‚æœè¶…å‡ºäº†é¢„å®šçš„èŒƒå›´ï¼Œåˆ™æ‰‹åŠ¨è®¾ç½®ä¸ºèŒƒå›´çš„è¾¹ç•Œå€¼.</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">if (gradient &gt; max) &#123;</span><br><span class="line">    gradient = max</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>ä½†æ¢¯åº¦å€¼è¿‡å°çš„è§£å†³æ–¹æ¡ˆè¦ç¨å¾®å¤æ‚ä¸€ç‚¹ï¼Œæ¯”å¦‚ä¸‹é¢ä¸¤å¥è¯ï¼š</p>
<blockquote>
<p>â€œThe <strong>cat</strong>ï¼Œwhich already ate appleï¼Œyogurtï¼Œbananaï¼Œâ€¦, <strong>was</strong> full.â€<br>â€œThe <strong>cats</strong>ï¼Œwhich already ate appleï¼Œyogurtï¼Œbananaï¼Œâ€¦, <strong>were</strong> full.â€</p>
</blockquote>
<p>é‡ç‚¹æ ‡å‡ºçš„ <strong>cat(s)</strong> å’Œ be åŠ¨è¯ï¼ˆ<strong>was, were</strong>ï¼‰ æ˜¯æœ‰å¾ˆé‡è¦çš„å…³è”çš„ï¼Œä½†æ˜¯ä¸­é—´éš”äº†ä¸€ä¸ª which å¼•å¯¼çš„å®šè¯­ä»å¥ï¼Œå¯¹äºå‰é¢æ‰€ä»‹ç»çš„åŸºç¡€çš„ RNNç½‘ç»œ å¾ˆéš¾å­¦ä¹ åˆ°è¿™ä¸ªä¿¡æ¯ï¼Œå°¤å…¶æ˜¯å½“å‡ºç°æ¢¯åº¦æ¶ˆå¤±æ—¶ï¼Œè€Œä¸”è¿™ç§æƒ…å†µå¾ˆå®¹æ˜“å‘ç”Ÿ.</p>
<p>æˆ‘ä»¬çŸ¥é“ä¸€æ—¦ç¥ç»ç½‘ç»œå±‚æ¬¡å¾ˆå¤šæ—¶ï¼Œåå‘ä¼ æ’­å¾ˆéš¾å½±å“å‰é¢å±‚æ¬¡çš„å‚æ•°ã€‚æ‰€ä»¥ä¸ºäº† <strong>è§£å†³æ¢¯åº¦æ¶ˆå¤±</strong> é—®é¢˜ï¼Œæå‡ºäº† <strong>GRU</strong>å•å…ƒï¼Œä¸‹é¢ä¸€èŠ‚å…·ä½“ä»‹ç».</p>
<blockquote>
<p>å°†åœ¨æ¥ä¸‹æ¥çš„ä¸¤ä¸ªç« èŠ‚ä»‹ç»ä¸¤ç§æ–¹æ³•æ¥è§£å†³ <strong>æ¢¯åº¦è¿‡å°</strong> é—®é¢˜ï¼Œç›®æ ‡æ˜¯å½“ä¸€äº›é‡è¦çš„å•è¯ç¦»å¾—å¾ˆè¿œçš„æ—¶å€™ï¼Œæ¯”å¦‚ä¾‹å­ä¸­çš„ â€œ<strong>cat</strong>â€ å’Œ â€œ<strong>was</strong>â€ï¼Œèƒ½è®©è¯­è¨€æ¨¡å‹å‡†ç¡®çš„è¾“å‡ºå•æ•°äººç§°è¿‡å»æ—¶çš„ â€œ<strong>was</strong>â€ï¼Œè€Œä¸æ˜¯ â€œ<strong>is</strong>â€ æˆ–è€… â€œ<strong>were</strong>â€. ä¸¤ä¸ªæ–¹æ³•éƒ½å°†å¼•å…¥â€œè®°å¿†â€çš„æ¦‚å¿µï¼Œä¹Ÿå°±æ˜¯ä¸º RNN èµ‹äºˆä¸€ä¸ªè®°å¿†çš„åŠŸèƒ½.</p>
</blockquote>
<h2 id="9-GRU-Gated-Recurrent-Unit"><a href="#9-GRU-Gated-Recurrent-Unit" class="headerlink" title="9. GRU - Gated Recurrent Unit"></a>9. GRU - Gated Recurrent Unit</h2><p>GRUï¼ˆGated Recurrent Unitï¼‰æ˜¯ä¸€ç§ç”¨æ¥è§£å†³æ¢¯åº¦å€¼è¿‡å°çš„æ–¹æ³•ï¼Œé¦–å…ˆæ¥çœ‹ä¸‹åœ¨ä¸€ä¸ªæ—¶åˆ»ä¸‹çš„ RNNå•å…ƒï¼Œæ¿€æ´»å‡½æ•°ä¸º tanh</p>
<h3 id="9-1-å›é¡¾æ™®é€š-RNNå•å…ƒ-çš„ç»“æ„"><a href="#9-1-å›é¡¾æ™®é€š-RNNå•å…ƒ-çš„ç»“æ„" class="headerlink" title="9.1 å›é¡¾æ™®é€š RNNå•å…ƒ çš„ç»“æ„"></a>9.1 å›é¡¾æ™®é€š RNNå•å…ƒ çš„ç»“æ„</h3><p>å¦‚å›¾ç¤ºï¼Œè¾“å…¥æ•°æ®ä¸º $a^{&lt;{t-1}&gt;}$ å’Œ $x^{&lt;{t}&gt;}$, ä¸å‚æ•° $W_a$ è¿›è¡Œçº¿æ€§è¿ç®—åå†ä½¿ç”¨ $tanh$ å‡½æ•° è½¬åŒ–å¾—åˆ° $a^{&lt;{t}&gt;}$. å½“ç„¶å†ä½¿ç”¨ softmax å‡½æ•°å¤„ç†å¯ä»¥å¾—åˆ°é¢„æµ‹å€¼.</p>
<p><img src="/images/deeplearning/C5W1-37_1.png" width="750"></p>
<h3 id="9-2-GRUç»“æ„"><a href="#9-2-GRUç»“æ„" class="headerlink" title="9.2 GRUç»“æ„"></a>9.2 GRUç»“æ„</h3><p><strong>è®°å¿†ç»†èƒ:</strong></p>
<p>åœ¨ GRUä¸­ ä¼šç”¨åˆ° â€œè®°å¿†ç»†èƒ(Memory cell)â€ è¿™ä¸ªæ¦‚å¿µ, æˆ‘ä»¬ç”¨å˜é‡<code>C</code>è¡¨ç¤ºã€‚è¿™ä¸ªè®°å¿†ç»†èƒæä¾›äº†è®°å¿†åŠŸèƒ½ï¼Œä¾‹å¦‚å®ƒèƒ½å¤Ÿå¸®åŠ©è®°ä½ cat å¯¹åº” was, cats å¯¹åº” were.</p>
<p>è€Œåœ¨ $t$ æ—¶åˆ»ï¼Œè®°å¿†ç»†èƒæ‰€åŒ…å«çš„å€¼å…¶å®å°±æ˜¯ Activation function å€¼ï¼Œå³ $c^{&lt;{t}&gt;}=a^{&lt;{t}&gt;}$</p>
<blockquote>
<p>æ³¨æ„ï¼šåœ¨è¿™é‡Œä¸¤ä¸ªå˜é‡çš„å€¼è™½ç„¶ä¸€æ ·ï¼Œä½†æ˜¯å«ä¹‰ä¸åŒã€‚</p>
<p>å¦å¤–åœ¨ä¸‹èŠ‚å°†ä»‹ç»çš„ LSTM ä¸­ï¼ŒäºŒè€…å€¼çš„å¤§å°æœ‰å¯èƒ½æ˜¯ä¸ä¸€æ ·çš„ï¼Œæ‰€ä»¥æœ‰å¿…è¦ä½¿ç”¨è¿™ä¸¤ç§å˜é‡è¿›è¡ŒåŒºåˆ†</p>
</blockquote>
<p>ä¸ºäº†æ›´æ–°è®°å¿†ç»†èƒçš„å€¼ï¼Œæˆ‘ä»¬å¼•å…¥ $\tilde{c}$ æ¥ä½œä¸ºå€™é€‰å€¼ä»è€Œæ¥æ›´æ–° $c^{&lt;{t}&gt;}$ï¼Œå…¶å…¬å¼ä¸ºï¼š</p>
<p>$$<br>\tilde{c}=tanh(W_c [c^{&lt;{t-1}&gt;}, x^{&lt;{t}&gt;}]+b_c)<br>$$</p>
<p><strong>æ›´æ–°é—¨ (update gate):</strong></p>
<p>æ›´æ–°é—¨æ˜¯ GRU çš„æ ¸å¿ƒæ¦‚å¿µï¼Œå®ƒçš„ä½œç”¨æ˜¯ç”¨äºåˆ¤æ–­æ˜¯å¦éœ€è¦è¿›è¡Œæ›´æ–°.</p>
<p>æ›´æ–°é—¨ç”¨ $\Gamma_u$ è¡¨ç¤ºï¼Œå…¶å…¬å¼ä¸ºï¼š</p>
<p>$$<br>\Gamma_u=Ïƒ(W_u [c^{&lt;{t-1}&gt;}, x^{&lt;{t}&gt;}]+b_u)<br>$$</p>
<p><img src="/images/deeplearning/C5W1-38_1.png" width="550"></p>
<p>å¦‚ä¸Šå›¾ç¤ºï¼Œ$\Gamma_u$ å€¼çš„å¤§å°å¤§å¤šåˆ†å¸ƒåœ¨ 0 æˆ–è€… 1ï¼Œæ‰€ä»¥å¯ä»¥å°†å…¶å€¼çš„å¤§å°ç²—ç•¥çš„è§†ä¸º 0 æˆ–è€… 1ã€‚è¿™å°±æ˜¯ä¸ºä»€ä¹ˆæˆ‘ä»¬å°±å¯ä»¥å°†å…¶ç†è§£ä¸ºä¸€æ‰‡é—¨ï¼Œå¦‚æœ $\Gamma_u=1$ , å°±è¡¨ç¤ºæ­¤æ—¶éœ€è¦æ›´æ–°å€¼ï¼Œåä¹‹ä¸ç”¨.</p>
<p><strong>$t$ æ—¶åˆ»è®°å¿†ç»†èƒ:</strong></p>
<p>æœ‰äº†æ›´æ–°é—¨å…¬å¼åï¼Œæˆ‘ä»¬åˆ™å¯ä»¥ç»™å‡º $t$ æ—¶åˆ» <code>Memory cell</code> çš„å€¼çš„è®¡ç®—å…¬å¼äº†:</p>
<p>$$<br>c^{&lt;{t}&gt;} =  \Gamma_u * \tilde{c} + (1-\Gamma_u) * c^{&lt;{t-1}&gt;}<br>$$</p>
<blockquote>
<p>æ³¨æ„ï¼šä¸Šé¢å…¬å¼ä¸­çš„ * è¡¨ç¤ºå…ƒç´ ä¹‹é—´è¿›è¡Œä¹˜æ³•è¿ç®—ï¼Œè€Œå…¶ä»–å…¬å¼æ˜¯ çŸ©é˜µè¿ç®—</p>
</blockquote>
<p>å…¬å¼å¾ˆå¥½ç†è§£ï¼Œå¦‚æœ $\Gamma_u=1$ï¼Œé‚£ä¹ˆ $t$ æ—¶åˆ» è®°å¿†ç»†èƒçš„å€¼å°±ç­‰äºå€™é€‰å€¼ $\tilde{c}$, åä¹‹ç­‰äºå‰ä¸€æ—¶åˆ»è®°å¿†ç»†èƒçš„å€¼.</p>
<p>ä¸‹å›¾ç»™å‡ºäº†è¯¥å…¬å¼å¾ˆç›´è§‚çš„è§£é‡Šï¼š</p>
<p>åœ¨è¯»åˆ° â€œcatâ€ çš„æ—¶å€™ ï¼Œå…¶ä»–æ—¶å€™ä¸€ç›´ä¸º 0ï¼ŒçŸ¥é“è¦ è¾“å‡º â€œwasâ€ çš„æ—¶åˆ»æˆ‘ä»¬ä»ç„¶çŸ¥é“ â€œcatâ€ çš„å­˜åœ¨ï¼Œä¹Ÿå°±çŸ¥é“å®ƒä¸ºå•æ•°äº†</p>
<p><img src="/images/deeplearning/C5W1-39_1.png" width="550"></p>
<p><strong>GRU ç»“æ„ç¤ºæ„å›¾</strong></p>
<p><img src="/images/deeplearning/C5W1-40_1.png" width="550"></p>
<h3 id="9-3-å®Œæ•´ç‰ˆ-GRU"><a href="#9-3-å®Œæ•´ç‰ˆ-GRU" class="headerlink" title="9.3 å®Œæ•´ç‰ˆ GRU"></a>9.3 å®Œæ•´ç‰ˆ GRU</h3><p>ä¸Šç®€åŒ–äº†çš„ GRUï¼Œåœ¨å®Œæ•´ç‰ˆä¸­è¿˜å­˜åœ¨å¦ä¸€ä¸ªç¬¦å· ï¼Œè¿™ç¬¦å·çš„æ„ä¹‰æ˜¯æ§åˆ¶ $\tilde{c}$ å’Œ $c^{&lt;{t-1}&gt;}$ ä¹‹é—´çš„è”ç³»å¼ºå¼±ï¼Œå®Œæ•´ç‰ˆå…¬å¼å¦‚ä¸‹ï¼š</p>
<p><img src="/images/deeplearning/C5W1-41_1.png" width="550"></p>
<blockquote>
<p>æ³¨æ„ï¼Œå®Œæ•´å…¬å¼ä¸­å¤šå‡ºäº†ä¸€ä¸ª $\Gamma_r$, è¿™ä¸ªç¬¦å·çš„ä½œç”¨æ˜¯æ§åˆ¶ $\tilde{c}^{&lt;{t}&gt;}$ å’Œ $c^{&lt;{t}&gt;}$ ä¹‹é—´è”ç³»çš„å¼ºå¼±.</p>
</blockquote>
<h2 id="10-LSTMï¼ˆlong-short-term-memoryï¼‰unit"><a href="#10-LSTMï¼ˆlong-short-term-memoryï¼‰unit" class="headerlink" title="10. LSTMï¼ˆlong short term memoryï¼‰unit"></a>10. LSTMï¼ˆlong short term memoryï¼‰unit</h2><p>ä»‹ç»å®Œ GRU åï¼Œå†ä»‹ç» LSTM ä¼šæ›´åŠ å®¹æ˜“ç†è§£ã€‚ä¸‹å›¾æ˜¯äºŒè€…å…¬å¼å¯¹æ¯”ï¼š</p>
<p>GRU åªæœ‰ä¸¤ä¸ªé—¨ï¼Œè€Œ LSTM æœ‰ä¸‰ä¸ªé—¨ï¼Œåˆ†åˆ«æ˜¯æ›´æ–°é—¨ $\Gamma_u$ (æ˜¯å¦éœ€è¦æ›´æ–°ä¸º $\tilde{c}^{&lt;{t}&gt;}$ï¼Œé—å¿˜é—¨ $\Gamma_f$ (æ˜¯å¦éœ€è¦ä¸¢å¼ƒä¸Šä¸€ä¸ªæ—¶åˆ»çš„å€¼)ï¼Œè¾“å‡ºé—¨ $\Gamma_o$ (æ˜¯å¦éœ€è¦è¾“å‡ºæœ¬æ—¶åˆ»çš„å€¼)</p>
<p><img src="/images/deeplearning/C5W1-42_1.png" width="650"></p>
<p><img src="/images/deeplearning/C5W1-43_1.png" width="650"></p>
<p>è™½ç„¶ LSTM æ¯” GRU æ›´å¤æ‚ï¼Œä½†æ˜¯å®ƒæ¯” GRU æ›´æ—©æå‡ºå“‡ğŸ˜„ã€‚å¦å¤–ä¸€èˆ¬è€Œè¨€ LSTM çš„è¡¨ç°è¦æ›´å¥½ï¼Œä½†æ˜¯è®¡ç®—é‡æ›´å¤§ï¼Œæ¯•ç«Ÿå¤šäº†ä¸€ä¸ªé—¨å˜›ã€‚è€Œ GRU å®é™…ä¸Šæ˜¯å¯¹ LSTM çš„ç®€åŒ–ï¼Œå®ƒçš„è¡¨ç°ä¹Ÿä¸é”™ï¼Œèƒ½å¤Ÿæ›´å¥½åœ°æ‰©å±•åˆ°æ·±å±‚ç½‘ç»œã€‚æ‰€ä»¥äºŒè€…å„æœ‰ä¼˜åŠ¿ã€‚</p>
<p>ä¸‹å›¾æ˜¯ LSTM çš„ç»“æ„ç¤ºæ„å›¾ï¼š</p>
<p><img src="/images/deeplearning/C5W1-44_1.png" width="700"></p>
<h2 id="11-Bidirectional-RNN"><a href="#11-Bidirectional-RNN" class="headerlink" title="11. Bidirectional RNN"></a>11. Bidirectional RNN</h2><p>å‰é¢ä»‹ç»çš„éƒ½æ˜¯å•å‘çš„ RNN ç»“æ„ï¼Œåœ¨å¤„ç†æŸäº›é—®é¢˜ä¸Šå¾—åˆ°çš„æ•ˆæœä¸å°½äººæ„</p>
<p>å¦‚ä¸‹é¢ä¸¤å¥è¯ï¼Œæˆ‘ä»¬è¦ä»ä¸­æ ‡å‡ºäººåï¼š</p>
<blockquote>
<p><code>He</code> said, â€œTeddy Roosevelt was a great Presidentâ€.<br><code>He</code> said, â€œTeddy bears are on saleâ€.</p>
</blockquote>
<ol>
<li>ç¬¬ä¸€å¥ä¸­çš„ Teddy Roosevelt æ˜¯äººå</li>
<li>ç¬¬äºŒå¥ä¸­çš„ Teddy bears æ˜¯æ³°è¿ªç†Šï¼ŒåŒæ ·éƒ½æ˜¯å•è¯ <strong>Teddy</strong> å¯¹åº”çš„è¾“å‡ºåœ¨ç¬¬ä¸€å¥ä¸­åº”è¯¥æ˜¯ 1ï¼Œç¬¬äºŒå¥ä¸­åº”è¯¥æ˜¯ 0</li>
</ol>
<p>åƒè¿™æ ·çš„ä¾‹å­å¦‚æœæƒ³è®©æˆ‘ä»¬çš„åºåˆ—æ¨¡å‹æ˜ç™½å°±éœ€è¦å€ŸåŠ©ä¸åŒçš„ç»“æ„æ¯”å¦‚ - åŒå‘é€’å½’ç¥ç»ç½‘ç»œ(Bidirectional RNN).<br>è¯¥ç¥ç»ç½‘ç»œé¦–å…ˆä»æ­£é¢ç†è§£ä¸€éè¿™å¥è¯ï¼Œå†ä»åæ–¹å‘ç†è§£ä¸€é.</p>
<p>åŒå‘é€’å½’ç¥ç»ç½‘ç»œç»“æ„å¦‚ä¸‹ï¼š</p>
<p><img src="/images/deeplearning/C5W1-45_1.png" width="750"></p>
<p>ä¸‹å›¾æ‘˜è‡ªå¤§æ•°æ®æ–‡æ‘˜æ•´ç†</p>
<p><img src="/images/deeplearning/C5W1-46_1.png" width="750"></p>
<h2 id="12-Deep-RNNs"><a href="#12-Deep-RNNs" class="headerlink" title="12. Deep RNNs"></a>12. Deep RNNs</h2><p>æ·±å±‚ï¼Œé¡¾åæ€ä¹‰å°±æ˜¯å±‚æ¬¡å¢åŠ ã€‚å¦‚ä¸‹å›¾æ˜¯æ·±å±‚å¾ªç¯ç¥ç»ç½‘ç»œçš„ç¤ºæ„å›¾</p>
<p>æ¨ªå‘è¡¨ç¤ºæ—¶é—´å±•å¼€ï¼Œçºµå‘åˆ™æ˜¯å±‚æ¬¡å±•å¼€ã€‚</p>
<p><img src="/images/deeplearning/C5W1-47_1.png" width="750"></p>
<p>æ³¨æ„æ¿€æ´»å€¼çš„è¡¨è¾¾å½¢å¼æœ‰æ‰€æ”¹å˜ï¼Œä»¥ $a^{[1]<0>}$ ä¸ºä¾‹è¿›è¡Œè§£é‡Šï¼š</0></p>
<ul>
<li><a href="https://study.163.com/my#/smarts" target="_blank" rel="external">1</a> è¡¨ç¤ºç¬¬ä¸€å±‚</li>
<li><0> è¡¨ç¤ºç¬¬ä¸€ä¸ªæ¿€æ´»å€¼</0></li>
</ul>
<p>å¦å¤–å„ä¸ªæ¿€æ´»å€¼çš„è®¡ç®—å…¬å¼ä¹Ÿç•¥æœ‰ä¸åŒï¼Œä»¥ $a^{[2]<3>}$ ä¸ºä¾‹ï¼Œå…¶è®¡ç®—å…¬å¼å¦‚ä¸‹ï¼š</3></p>
<p><img src="/images/deeplearning/C5W1-48_1.png" width="550"></p>
<h2 id="13-Reference"><a href="#13-Reference" class="headerlink" title="13. Reference"></a>13. Reference</h2><ul>
<li><a href="https://study.163.com/my#/smarts" target="_blank" rel="external">ç½‘æ˜“äº‘è¯¾å ‚ - deeplearning</a></li>
<li><a href="http://www.cnblogs.com/marsggbo/tag/DeepLearning/" target="_blank" rel="external">DeepLearning.ai å­¦ä¹ ç¬”è®°æ±‡æ€»</a></li>
<li><a href="https://github.com/theBigDataDigest/Andrew-Ng-deeplearning-part-5-Course-notes-in-Chinese/blob/master/Andrew-Ng-deeplearning.ai-part-5-Course%20notes.pdf" target="_blank" rel="external">å¤§æ•°æ®æ–‡æ‘˜ DeepLearning.ai å­¦ä¹ ç¬”è®°</a></li>
<li><a href="https://kulbear.github.io/pdf/sequence-models.pdf" target="_blank" rel="external">Sequence Models è‹±æ–‡ç‰ˆç¬”è®°</a></li>
</ul>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[Structured Machine Learning Projects (week2) - ML Strategy 2]]></title>
      <url>http://iequa.com/2018/07/25/deeplearning-ai-Structured-Machine-Learning-Projects-week2/</url>
      <content type="html"><![CDATA[<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js"],
    jax: ["input/TeX"],
    tex2jax: {
      inlineMath: [ ['$','$'], ['\\(','\\)'] ],
      displayMath: [ ['$$','$$']],
      processEscapes: true
    }
  });
</script>
<script type="text/javascript" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS_HTML,http://myserver.com/MathJax/config/local/local.js">
</script>

<p>å¦‚ä½•è¿›è¡Œ è¯¯å·®åˆ†æã€æ ‡æ³¨é”™è¯¯æ•°æ®ã€å®šä½æ•°æ®ä¸åŒ¹é…åå·®ä¸æ–¹å·®</p>
<p>çŸ¥é“å¦‚ä½•åº”ç”¨ç«¯åˆ°ç«¯å­¦ä¹ ã€è¿ç§»å­¦ä¹ ä»¥åŠå¤šä»»åŠ¡å­¦ä¹ </p>
<a id="more"></a>
<h2 id="1-Carrying-out-error-analysis"><a href="#1-Carrying-out-error-analysis" class="headerlink" title="1. Carrying out error analysis"></a>1. Carrying out error analysis</h2><blockquote>
<p>å¾ˆå¤šæ—¶å€™æˆ‘ä»¬å‘ç°è®­ç»ƒå‡ºæ¥çš„æ¨¡å‹æœ‰è¯¯å·®åï¼Œå°±ä¼šä¸€è‚¡è„‘çš„æƒ³ç€æ³•å­å»å‡å°‘è¯¯å·®ã€‚æƒ³æ³•å›ºç„¶å¥½ï¼Œä½†æ˜¯æœ‰ç‚¹ headlong ã€‚ã€‚</p>
<p>è¿™èŠ‚è§†é¢‘ä¸­ Andrew Ng ä»‹ç»äº†ä¸€ä¸ªæ¯”è¾ƒç§‘å­¦çš„æ–¹æ³•ï¼Œå…·ä½“çš„çœ‹ä¸‹é¢çš„ä¾‹å­</p>
</blockquote>
<p>è¿˜æ˜¯ä»¥çŒ«åˆ†ç±»å™¨ä¸ºä¾‹ï¼Œå‡è®¾æˆ‘ä»¬çš„æ¨¡å‹è¡¨ç°çš„è¿˜ä¸é”™ï¼Œä½†æ˜¯ä¾æ—§å­˜åœ¨è¯¯å·®ï¼Œé¢„æµ‹åé”™è¯¯æ ‡è®°çš„æ•°æ®ä¸­æœ‰ä¸€éƒ¨åˆ†ç‹—å›¾ç‰‡è¢«é”™è¯¯çš„æ ‡è®°æˆäº†çŒ«ã€‚è¿™ä¸ªæ—¶å€™æŒ‰ç…§ä¸€èˆ¬çš„æ€è·¯å¯èƒ½æ˜¯æƒ³é€šè¿‡è®­ç»ƒå‡ºç‹—åˆ†ç±»å™¨æ¨¡å‹æ¥æé«˜çŒ«åˆ†ç±»å™¨ï¼Œæˆ–è€…å…¶ä»–çš„åŠæ³•ï¼Œåæ­£å°±æ˜¯è¦è®©åˆ†ç±»å™¨æ›´å¥½åœ°åŒºåˆ†ç‹—å’ŒçŒ«ã€‚</p>
<p>ä½†æ˜¯ç°åœ¨çš„é—®é¢˜æ˜¯ï¼Œå‡å¦‚é”™è¯¯åˆ†ç±»çš„100ä¸ªæ ·æœ¬ä¸­ï¼Œåªæœ‰5ä¸ªç‹—æ ·æœ¬è¢«é”™è¯¯çš„æ ‡è®°æˆäº†çŒ«ï¼Œé‚£ä¹ˆä½ è´¹å°½åƒè¾›ä¸‡è‹¦ä¹Ÿæœ€å¤šåªèƒ½æé«˜ä¸€ä¸¢ä¸¢çš„å‡†ç¡®åº¦ã€‚æ‰€ä»¥å¯¹è¯¯å·®è¿›è¡Œåˆ†æå°±æ˜¾å¾—æ¯”è¾ƒé‡è¦ï¼Œè€Œä¸”å¯ä»¥å¸®åŠ©æˆ‘ä»¬åœ¨æœªæ¥çš„å·¥ä½œä¸­æŒ‡æ˜ä¼˜åŒ–æ–¹å‘ï¼ŒèŠ‚çœæ—¶é—´ã€‚å…·ä½“çš„æ–¹æ³•æŒ‰å´å¤§å¤§çš„è¯´æ³•æ˜¯å¯ä»¥äººå·¥çš„å¯¹é”™è¯¯æ ‡è®°çš„æ ·æœ¬è¿›è¡Œå†å¤„ç†ã€åˆ†æã€‚</p>
<p>ä¸‹é¢ä»¥ä¸€ä¸ªä¾‹å­æ¥ä»‹ç»ä¸€ä¸‹æ“ä½œæ­¥éª¤</p>
<p><strong>1. äººå·¥æ ‡è®°</strong></p>
<blockquote>
<p>å°†é”™è¯¯æ ‡è®°æ ·æœ¬ä»¥è¡¨æ ¼çš„å½¢å¼åˆ—ä¸¾å‡ºæ¥ï¼Œç„¶åäººå·¥çš„æ ‡è®°å¤„æ ·æœ¬çš„åˆ†ç±»ï¼Œç»Ÿè®¡å„åˆ†ç±»(æˆ–è€…è¯´é”™è¯¯æ ‡è®°çš„åŸå› )æ‰€å æ¯”ä¾‹.</p>
</blockquote>
<table>
<thead>
<tr>
<th style="text-align:center">Image</th>
<th style="text-align:center">Dog</th>
<th style="text-align:center">Great cats(å¤§å‹çŒ«ç§‘åŠ¨ç‰©ï¼Œå¦‚ç‹®å­)</th>
<th style="text-align:center">Blurry(å›¾ç‰‡æ¨¡ç³Š)</th>
<th style="text-align:center">Comments</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">1</td>
<td style="text-align:center">âˆš</td>
<td style="text-align:center"></td>
<td style="text-align:center"></td>
<td style="text-align:center"></td>
</tr>
<tr>
<td style="text-align:center">2</td>
<td style="text-align:center"></td>
<td style="text-align:center">âˆš</td>
<td style="text-align:center"></td>
<td style="text-align:center">çœ¯ç€çœ¼</td>
</tr>
<tr>
<td style="text-align:center">3</td>
<td style="text-align:center"></td>
<td style="text-align:center">âˆš</td>
<td style="text-align:center">âˆš</td>
<td style="text-align:center">åœ¨åŠ¨ç‰©å›­ï¼Œä¸”ä¸‹ç€é›¨</td>
</tr>
<tr>
<td style="text-align:center">â€¦â€¦</td>
<td style="text-align:center"></td>
<td style="text-align:center"></td>
<td style="text-align:center"></td>
<td style="text-align:center"></td>
</tr>
<tr>
<td style="text-align:center">% of total</td>
<td style="text-align:center">8%</td>
<td style="text-align:center">43%</td>
<td style="text-align:center">61%</td>
<td style="text-align:center">-</td>
</tr>
</tbody>
</table>
<blockquote>
<p>æ³¨æ„:ä¸Šé¢çš„åˆ†ç±»å¹¶ä¸æ˜¯äº’ç›¸ç‹¬ç«‹çš„ï¼Œåªæ˜¯ä¸¾ä¸ªä¾‹å­ã€‚ã€‚ã€‚æŠ„ä¸‹ Andrew Ng çš„PPT</p>
</blockquote>
<p><strong>2. åˆ†æè¯¯å·®</strong></p>
<p>ä¸Šé¢çš„ç»“æœå¯ä»¥çŸ¥é“ï¼Œè¯¯å·®æ ·æœ¬ä¸­åªæœ‰8%æ˜¯ç‹—ç‹—çš„å›¾ç‰‡ï¼Œè€Œ43%æ˜¯å¤§å‹çŒ«ç§‘åŠ¨ç‰©ï¼Œ61%æ˜¯å› ä¸ºå›¾ç‰‡æ¨¡ç³Šã€‚å¾ˆæ˜¾ç„¶æ­¤æ—¶ä½ å³ä½¿ç”¨æ¯•ç”Ÿæ‰€å­¦å»ä¼˜åŒ–åŒºåˆ«ç‹—å’ŒçŒ«çš„ç®—æ³•ï¼Œæ•´ä¸ªæ¨¡å‹çš„å‡†ç¡®ç‡æå‡çš„ç©ºé—´ä¹Ÿè¿œä¸å¦‚åä¸¤ä¸ªç‰¹å¾é«˜ã€‚æ‰€ä»¥å¦‚æœäººæ‰‹å¤Ÿçš„è¯ï¼Œä¹Ÿæ˜¯å¯ä»¥é€‰æ‹©å‡ ä¸ªç‰¹å¾è¿›è¡Œä¼˜åŒ–çš„ã€‚</p>
<h2 id="2-Cleaning-up-Incorrectly-labeled-data"><a href="#2-Cleaning-up-Incorrectly-labeled-data" class="headerlink" title="2. Cleaning up Incorrectly labeled data"></a>2. Cleaning up Incorrectly labeled data</h2><p>æœºå™¨é¢„æµ‹å¯èƒ½ä¼šå‡ºé”™ï¼Œé‚£ä¹ˆäººå½“ç„¶ä¹Ÿæœ‰å¯èƒ½ä¼šå‡ºé”™ã€‚æ‰€ä»¥å¦‚æœè®­ç»ƒé›†å’ŒéªŒè¯é›†ä¸­è®¤ä¸ºæ·»åŠ çš„æ ‡ç­¾Yå‡ºç°è¯¯å·®è¯¥æ€ä¹ˆå¤„ç†å‘¢ï¼Ÿ</p>
<p><img src="/images/deeplearning/C3W2-2_1.png" width="700"></p>
<p>è¿™é‡Œåˆ†ä¸¤ç§æƒ…å†µï¼š</p>
<p><strong>1.éšæœºè¯¯å·®</strong></p>
<p>è¿™ç§æƒ…å†µæ¯”è¾ƒå¥½ï¼Œå› ä¸ºå¦‚æœäººä¸ºè¯¯å·®æ¯”è¾ƒæ¥è¿‘éšæœºè¯¯å·®ï¼Œé‚£ä¹ˆå¯ä»¥çä¸€åªçœ¼é—­ä¸€åªçœ¼ï¼Œå› ä¸ºæ·±åº¦å­¦ä¹ ç®—æ³•å¯¹äºéšæœºè¯¯å·®è¿˜æ˜¯æœ‰ä¸€å®šçš„å¥å£®æ€§çš„</p>
<p><strong>2.ééšæœºè¯¯å·®</strong></p>
<p>PS:ä¸çŸ¥é“æœ‰æ²¡æœ‰ééšæœºè¯¯å·®è¿™ä¸ªè¯ã€‚ã€‚æˆ‘åªæ˜¯ä¸ºäº†è¡Œæ–‡æ–¹ä¾¿å–çš„ä¸€ä¸ªåå­—ã€‚</p>
<p>å¯¹äº<strong>éšæœºè¯¯å·®</strong>æ­£å¸¸äººå¯èƒ½éƒ½ä¼šé—®â€œwhatï¼Ÿæˆ‘æ€ä¹ˆçŸ¥é“æ˜¯ä¸æ˜¯æ¥è¿‘éšæœºè¯¯å·®â€ï¼Œæ‰€ä»¥è§†é¢‘é‡Œ Andrew Ng ä¹Ÿç»™å’±ä»¬æä¾›äº†ä¸€ä¸ªæ–¹æ³•ï¼Œè¿™ä¸ªæ–¹æ³•å’Œä¸Šä¸€èŠ‚ä¸­çš„è¡¨æ ¼æ³•ä¸€æ ·ä¸€æ ·çš„ï¼š</p>
<table>
<thead>
<tr>
<th style="text-align:center">Image</th>
<th style="text-align:center">Dog</th>
<th style="text-align:center">Great cats(å¤§å‹çŒ«ç§‘åŠ¨ç‰©ï¼Œå¦‚ç‹®å­)</th>
<th style="text-align:center">Blurry(å›¾ç‰‡æ¨¡ç³Š)</th>
<th style="text-align:center">Incorrectly labeled</th>
<th style="text-align:center">Comments</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">1</td>
<td style="text-align:center">âˆš</td>
<td style="text-align:center"></td>
<td style="text-align:center"></td>
<td style="text-align:center"></td>
<td style="text-align:center"></td>
</tr>
<tr>
<td style="text-align:center">2</td>
<td style="text-align:center"></td>
<td style="text-align:center">âˆš</td>
<td style="text-align:center"></td>
<td style="text-align:center">âˆš</td>
<td style="text-align:center">åªæ˜¯ä¸€åªæ‰‹ç”»çš„çš„çŒ«ï¼Œä¸æ˜¯çœŸçš„çŒ«</td>
</tr>
<tr>
<td style="text-align:center">3</td>
<td style="text-align:center"></td>
<td style="text-align:center"></td>
<td style="text-align:center"></td>
<td style="text-align:center">âˆš</td>
<td style="text-align:center">èƒŒæ™¯çš„è§’è½é‡Œæœ‰ä¸€åªçŒ«</td>
</tr>
<tr>
<td style="text-align:center">â€¦â€¦</td>
<td style="text-align:center"></td>
<td style="text-align:center"></td>
<td style="text-align:center"></td>
<td style="text-align:center"></td>
<td style="text-align:center"></td>
</tr>
<tr>
<td style="text-align:center">% of total</td>
<td style="text-align:center">8%</td>
<td style="text-align:center">43%</td>
<td style="text-align:center">61%</td>
<td style="text-align:center">6%</td>
<td style="text-align:center"></td>
</tr>
</tbody>
</table>
<p>æœ‰äº†ä¸Šé¢è¿™ä¸ªè¡¨æ ¼ï¼Œé‚£ä¹ˆé—®é¢˜æ¥äº†ï¼Œæ­¤æ—¶æˆ‘è¿˜éœ€è¦ä¿®æ­£è¿™6%æ ‡è®°é”™è¯¯çš„æ ·æœ¬å—ï¼Ÿè¿˜æ˜¯ä¸¾ä¸ªä¾‹å­ï¼š</p>
<p>å‡è®¾æˆ‘ä»¬æœ‰å¦‚ä¸‹æ•°æ®ï¼š</p>
<blockquote>
<ul>
<li>æ€»ä½“éªŒè¯é›†è¯¯å·®ï¼š10%</li>
<li>ç”±äººå·¥é”™è¯¯æ ‡è®°å¼•èµ·çš„é”™è¯¯æ ·æœ¬æ¯”ä¾‹ï¼š 0.6%</li>
<li>ç”±å…¶ä»–åŸå› å¼•èµ·çš„é”™è¯¯æ ·æœ¬æ¯”ä¾‹ï¼š10%-0.6%=9.4%</li>
</ul>
<p>æ‰€ä»¥è¿™ç§æƒ…å†µä¸‹æˆ‘ä»¬åº”è¯¥é›†ä¸­ç²¾åŠ›æ‰¾å‡ºå¼•èµ·9.4%è¯¯å·®çš„åŸå› ï¼Œå¹¶è¿›è¡Œä¿®æ­£ï¼Œå½“ç„¶å¦‚æœæœ‰ä½™åŠ›ä¹Ÿè¿˜æ˜¯å¯ä»¥ä¼‘æ•´ä¸€ä¸‹äººå·¥é”™è¯¯æ ‡è®°çš„æ•°æ®çš„ã€‚</p>
<p>å‡å¦‚ä½ é€šè¿‡ä¼˜åŒ–ç®—æ³•ï¼Œå‡å°‘äº†å› å…¶ä»–åŸå› å¼•èµ·çš„è¯¯å·®ï¼Œå¹¶ä¸”ä½¿å¾—æ€»ä½“éªŒè¯é›†è¯¯å·®é™åˆ°äº†2%ï¼Œæ­¤æ—¶æˆ‘ä»¬å†åˆ†æä¸€ä¸‹ï¼š</p>
<p>å¾ˆæ˜¾ç„¶ï¼Œå› ä¸ºå¹¶æ²¡æœ‰å¯¹äººå·¥è¯¯å·®è¿›è¡Œä¼˜åŒ–ï¼Œ<strong>æ‰€ä»¥ç”±äººå·¥é”™è¯¯æ ‡è®°å¼•èµ·çš„é”™è¯¯æ ·æœ¬æ¯”ä¾‹ä¾æ—§æ˜¯0.6%(è¿™ä¸ªæ•°æ®å¯èƒ½æœ‰ç‚¹ä¸èƒ½ç†è§£ï¼Œè¦æ³¨æ„è¿™ä¸ª0.6%æ˜¯ç›¸å¯¹äºæ•´ä½“éªŒè¯é›†è€Œè¨€çš„ï¼Œæ‰€ä»¥ä¸ä¼šå˜)</strong>, é‚£ä¹ˆäººå·¥è¯¯å·®åœ¨æ€»è¯¯å·®ä¸­æ‰€å çš„æ¯”ä¾‹åˆ™è¾¾åˆ°äº†0.6%/2%=30%,ç›¸æ¯”äºä¹‹å‰çš„6%å½±å“åŠ›æ‰“äº†ä¸å°å“¦ï¼Œæ‰€ä»¥æ­¤æ—¶åˆ™åº”è¯¥è€ƒè™‘å¯¹äººå·¥è¯¯å·®åŠ¨æ‰‹äº†.</p>
</blockquote>
<h2 id="3-Build-your-first-system-quickly-then-iterate"><a href="#3-Build-your-first-system-quickly-then-iterate" class="headerlink" title="3. Build your first system quickly, then iterate"></a>3. Build your first system quickly, then iterate</h2><p>è¿˜æ˜¯æœ‰ä¸€ä¸ªæ­¥éª¤æµç¨‹çš„ï¼š</p>
<blockquote>
<ol>
<li>å»ºç«‹è®­ç»ƒé›†ï¼ŒéªŒè¯é›†ï¼Œæµ‹è¯•é›†</li>
<li>è¿…é€Ÿæ­å»ºåˆå§‹åŒ–ç³»ç»Ÿ</li>
<li>ä½¿ç”¨å‰é¢æåˆ°çš„Bias/Varianceåˆ†æå’Œè¯¯å·®åˆ†ææ¥ç¡®å®šæ¥ä¸‹æ¥çš„ä¼˜åŒ–æ–¹å‘</li>
</ol>
</blockquote>
<h2 id="4-Training-and-testing-on-different-distributions"><a href="#4-Training-and-testing-on-different-distributions" class="headerlink" title="4. Training and testing on different distributions"></a>4. Training and testing on different distributions</h2><p><img src="/images/deeplearning/C3W2-3_1.png" width="700"></p>
<h2 id="5-Bias-and-Variance-with-mismatched-data-distributions"><a href="#5-Bias-and-Variance-with-mismatched-data-distributions" class="headerlink" title="5. Bias and Variance with mismatched data distributions"></a>5. Bias and Variance with mismatched data distributions</h2><p><img src="/images/deeplearning/C3W2-4_1.png" width="700"></p>
<p>å¯¹ä¸Šé¢çš„PPTæˆªå›¾è¿›è¡Œè§£é‡Šï¼š</p>
<p><strong>å·¦è¾¹:</strong></p>
<blockquote>
<p>é¦–å…ˆè¿˜æ˜¯ä»¥å–µå’ªåˆ†ç±»å™¨ä½œä¸ºä¾‹å­ï¼Œå‡è®¾äººç±»çš„è¯¯å·®æ¥è¿‘è´å¶æ–¯è¯¯å·®0%ã€‚è€Œè®­ç»ƒé›†è¯¯å·®å’Œå¼€å‘é›†è¯¯å·®åˆ†åˆ«ä¸º1%å’Œ10%ï¼ŒäºŒè€…ç›¸å·®9%ï¼Œè€Œä¸”<strong>å¦‚æœä¸¤ä¸ªæ•°æ®é›†æ¥è‡ªåŒä¸€ä¸ªåˆ†å¸ƒ</strong>ï¼Œé‚£ä¹ˆæˆ‘ä»¬å°±å¯ä»¥è¯´æ¨¡å‹è®­ç»ƒç»“æœæ–¹å·®è¾ƒå¤§ã€‚<br><strong>ä½†æ˜¯å½“ä¸¤ä¸ªæ•°æ®é›†æ¥è‡ªä¸åŒçš„åˆ†å¸ƒæ—¶ï¼Œæˆ‘ä»¬å°±ä¸èƒ½å¾—å‡ºä¸Šé¢çš„ç»“è®ºäº†</strong>ã€‚å¦å¤–ï¼Œè¿™9%çš„æ–¹å·®å¯èƒ½æœ‰ä¸¤ä¸ªåŸå› å¯¼è‡´çš„.</p>
<ol>
<li>æ˜¯æˆ‘ä»¬è‡ªå·±å®ç°çš„ä»£ç æœ‰é—®é¢˜</li>
<li>æ˜¯æ•°æ®åˆ†å¸ƒä¸åŒï¼Œæ‰€ä»¥ä½ å¾ˆéš¾ç¡®å®šå“ªä¸ªæ˜¯æ›´ä¸»è¦çš„åŸå› .</li>
</ol>
<p>å› æ­¤ä¸ºäº†æ‰¾å‡ºæ˜¯å“ªä¸ªåŸå› æˆ‘ä»¬åšå¦‚ä¸‹çš„äº‹æƒ…ï¼š</p>
<p>  åˆ›å»º<strong>Training-dev set(è®­ç»ƒ-å¼€å‘é›†)</strong>ï¼Œå…¶å®å°±æ˜¯ä»åŸæ¥çš„è®­ç»ƒé›†ä¸­æŠ½å–ä¸€éƒ¨åˆ†æ•°æ®å‡ºæ¥ï¼Œä½†æ˜¯ä¸å–‚ç»™æ¨¡å‹ã€‚ï¼ˆå¦‚ä¸Šå›¾æ‰€ç¤ºï¼‰</p>
</blockquote>
<p><strong>å³è¾¹:</strong></p>
<p>é‚£æ€ä¹ˆæ“ä½œå‘¢ï¼Ÿå¾ˆç®€å•ï¼Œä¸‹é¢ä»¥å‡ ä¸ªä¾‹å­æ¥è¯´æ˜ï¼š</p>
<blockquote>
<p>1.å› ä¸ºTraining-dev set(è®­ç»ƒ-å¼€å‘é›†)å’ŒTraining setåŒåˆ†å¸ƒï¼Œæ‰€ä»¥å‡è®¾è®­ç»ƒå‡ºæ¥çš„ç»“æœå¦‚ä¸‹ï¼š </p>
<ul>
<li>training error: 1%</li>
<li>training-dev error: 9%</li>
<li>dev error: 10%</li>
</ul>
<p>æ­¤æ—¶å¯ä»¥çœ‹åˆ°æ¥è‡ªåŒåˆ†å¸ƒæ•°æ®çš„è®­ç»ƒè¯¯å·®å’Œè®­ç»ƒ-å¼€å‘è¯¯å·®å­˜åœ¨è¾ƒå¤§çš„æ–¹å·®ï¼Œæ‰€ä»¥æˆ‘ä»¬å°±å¯ä»¥ç¡®å®šè‚¯å®šæ˜¯æˆ‘ä»¬æ»´ä»£ç è¿˜éœ€è¦å®Œå–„.</p>
<p>2.å‡è®¾è®­ç»ƒå‡ºæ¥çš„ç»“æœå¦‚ä¸‹ï¼š</p>
<ul>
<li>training error: 1%</li>
<li>training-dev error: 1.5%</li>
<li>dev error: 10%</li>
</ul>
<p>æ­¤æ—¶å°±å¯ä»¥è¯´ä¸æ˜¯æˆ‘ç¨‹åºå‘˜çš„é—®é¢˜äº†ï¼Œè€Œæ˜¯å‘ç”Ÿäº†data mismatch(æ•°æ®ä¸åŒ¹é…é—®é¢˜)</p>
</blockquote>
<p><strong>ä¸Šå›¾å³ä¸‹è§’ï¼š</strong></p>
<blockquote>
<p>1.å‡è®¾äººç±»çš„è¯¯å·®æ¥è¿‘è´å¶æ–¯è¯¯å·®0ï¼Œä¸”è®­ç»ƒè¯¯å·®å¦‚ä¸‹ï¼š</p>
<ul>
<li>training error: 10%</li>
<li>training-dev error: 11%</li>
<li>dev error: 12%</li>
</ul>
<p>æ­¤æ—¶æˆ‘ä»¬ä¼šè®¤ä¸ºæ¨¡å‹ä¸äººç±»è¯¯å·®ç›¸æ¯”å­˜åœ¨è¾ƒå¤§çš„åå·®ã€‚æ‰€ä»¥å°±æœç€ <strong>å‡å°åå·®çš„æ–¹å‘åŠªåŠ›</strong> å§å°‘å¹´.</p>
<p>2.åŒæ ·å‡è®¾äººç±»çš„è¯¯å·®æ¥è¿‘è´å¶æ–¯è¯¯å·®0ï¼Œä¸”è®­ç»ƒè¯¯å·®å¦‚ä¸‹ï¼š</p>
<p>training error: 10%<br>training-dev error: 11%<br>dev error: 20%</p>
<p>æ­¤æ—¶æˆ‘ä»¬ä¼šè®¤ä¸ºå­˜åœ¨ä¸¤ä¸ªé—®é¢˜ï¼š</p>
<ol>
<li>é«˜åå·®</li>
<li>æ•°æ®ä¸åŒ¹é…é—®é¢˜</li>
</ol>
<p>ç¥ç¦ä½ ï¼Œç»§ç»­ä¿®æ”¹ä»£ç å§..</p>
</blockquote>
<h2 id="6-Addressing-data-mismatch"><a href="#6-Addressing-data-mismatch" class="headerlink" title="6. Addressing data mismatch"></a>6. Addressing data mismatch</h2><p><img src="/images/deeplearning/C3W2-5_1.png" width="700"></p>
<blockquote>
<p>è™½ç„¶æˆ‘ä»¬ä½¿ç”¨æ•°æ®åˆæˆå·²ç»åœ¨è¯­éŸ³è¯†åˆ«æ–¹é¢å–å¾—äº†ä¸é”™çš„æ•ˆæœæå‡</p>
<p>å¯ä»¥ä½¿ç”¨æ•°æ®åˆæˆï¼Œä½†æ˜¯è¦æ³¨æ„ä½ çš„ç¥ç»ç½‘ç»œå¯èƒ½è¿‡æ‹Ÿåˆï¼Œè¿‡åˆ†å­¦ä¹ äº†ä½ è¿™å°éƒ¨åˆ†æ•°æ®é›†äº†ã€‚</p>
</blockquote>
<h2 id="7-Transfer-learning"><a href="#7-Transfer-learning" class="headerlink" title="7. Transfer learning"></a>7. Transfer learning</h2><p>ç®€å•çš„è§£é‡Šå°±æ˜¯å‡å¦‚æˆ‘ä»¬ä¹‹å‰è®­ç»ƒå¥½äº†ä¸€ä¸ªå–µå’ªåˆ†ç±»å™¨ï¼Œåæ¥æˆ‘ä»¬æœ‰äº†æ–°ä»»åŠ¡ â€” åšä¸€ä¸ªæµ·è±šåˆ†ç±»å™¨ï¼Œé‚£ä¹ˆå°±å¯ä»¥å°†ä¹‹å‰åˆ›å»ºçš„å–µå’ªåˆ†ç±»å™¨æ¨¡å‹è¿ç”¨åˆ°æ–°ä»»åŠ¡ä¸­å»</p>
<p>ä¸¾ä¸ªæ —å­ï¼Œå‡è®¾æˆ‘ä»¬å¯¹ä¿¡å·ç¯çš„çº¢ã€ç»¿ç¯è¿›è¡Œäº†å¤§é‡æ•°æ®çš„å­¦ä¹ ï¼Œç°åœ¨æœ‰äº†æ–°ä»»åŠ¡ï¼Œå³éœ€è¦è¯†åˆ«é»„ç¯,æ­¤æ—¶æˆ‘ä»¬å°±ä¸éœ€è¦ä»å¤´æ­å»ºæ¨¡å‹ï¼Œæˆ‘ä»¬å¯ä»¥ç»§ç»­ä½¿ç”¨çº¢ç»¿ç¯ç½‘ç»œæ¡†æ¶ï¼Œåªéœ€ä¿®æ”¹ç¥ç»ç½‘ç»œæœ€åä¸€å±‚ï¼Œå³è¾“å‡ºå±‚ï¼Œç„¶åç”¨å·²ç»è®­ç»ƒå¥½çš„æƒé‡å‚æ•°åˆå§‹åŒ–è¿™ä¸ªæ¨¡å‹ï¼Œå¯¹é»„ç¯æ•°æ®è¿›è¡Œè®­ç»ƒå­¦ä¹ ã€‚</p>
<p>ä¸ºä»€ä¹ˆå¯ä»¥è¿™ä¹ˆåšå‘¢ï¼Ÿå› ä¸ºå°½ç®¡æœ€åçš„æ ‡ç­¾ä¸ä¸€è‡´ï¼Œä½†æ˜¯ä¹‹å‰å­¦ä¹ çš„çº¢ç»¿ç¯æ¨¡å‹å·²ç»æ•æ‰å’Œå­¦ä¹ äº†å¾ˆå¤šæœ‰ç”¨çš„ç‰¹å¾å’Œç»†èŠ‚ï¼Œè¿™å¯¹äºé»„ç¯çš„å­¦ä¹ ååˆ†æœ‰å¸®åŠ©ï¼Œè€Œä¸”è¿™ä¹ˆåšä¹Ÿå¯ä»¥å¤§å¤§çš„åŠ å¿«æ¨¡å‹çš„æ„å»ºé€Ÿåº¦ã€‚</p>
<blockquote>
<p><strong>æƒ³å°†<code>A</code>æ¨¡å‹è¿ç”¨åˆ°<code>B</code>æ¨¡å‹, ä¸€èˆ¬æ¥è¯´æ˜¯æœ‰æ¡ä»¶é™åˆ¶çš„ï¼Œå¦‚ä¸‹ï¼š</strong> </p>
<ol>
<li>A å’Œ B éœ€è¦æœ‰ç›¸ç±»ä¼¼çš„è¾“å…¥æ•°æ®é›†ï¼Œä¾‹å¦‚è¦ä¹ˆéƒ½æ˜¯å›¾åƒè¯†åˆ«ï¼Œè¦ä¹ˆæ˜¯è¯­éŸ³è¯†åˆ«</li>
<li>A çš„æ•°æ®é›†è¦è¶³å¤Ÿå¤šï¼Œå³è¿œå¤šäºB</li>
<li>A ä¸­å­¦åˆ°ä¸€äº› <strong>low level features</strong> è¦å¯¹ B æœ‰æ‰€å¸®åŠ©</li>
</ol>
</blockquote>
<h2 id="8-Multi-task-learning"><a href="#8-Multi-task-learning" class="headerlink" title="8. Multi-task learning"></a>8. Multi-task learning</h2><p>åœ¨ <strong>Transfer learning</strong> ä¸­ï¼Œæ•´ä¸ªè¿‡ç¨‹æ˜¯ä¸²è¡Œçš„ï¼Œå³å’±ä»¬é¦–å…ˆå¾—å®ç°Aæ¨¡å‹ï¼Œç„¶ååœ¨è¿ç”¨åˆ°Bæ¨¡å‹ã€‚</p>
<p>åœ¨ <strong>Multi-task learning</strong> ä¸­ï¼Œå¯ä»¥æ˜¯åŒæ—¶å¼€å§‹å­¦ä¹ .</p>
<blockquote>
<p><strong>ä¸¾ä¸ªğŸŒ°ï¼š</strong></p>
<p>ç°åœ¨å¾ˆç«çš„æ— äººé©¾é©¶æ±½è½¦ï¼Œåœ¨è¡Œé©¶è·¯ä¸Šéœ€è¦è¯†åˆ«å¾ˆå¤šç±»å‹çš„ç‰©ä½“ï¼Œå¦‚è¡Œäººã€çº¢ç»¿ç¯ã€æŒ‡è·¯æ ‡å¿—ç­‰ç­‰ï¼Œæ‰€ä»¥æ­¤æ—¶å¯ä»¥ä½¿ç”¨ <strong>Multi-task learning</strong> æ¥å®ç°ã€‚ç¥ç»ç½‘ç»œç¤ºæ„å›¾å¦‚ä¸‹ï¼š</p>
</blockquote>
<p><img src="/images/deeplearning/C3W2-6_2.png" width="750"></p>
<blockquote>
<p>å¦‚å›¾ç¤ºï¼Œæœ€åçš„ $\hat{y}$ æ˜¯ä¸€ä¸ªæœ‰4å…ƒç´ çš„å‘é‡ï¼Œå‡è®¾åˆ†åˆ«æ˜¯è¡Œäººã€æ±½è½¦ã€åœè½¦æ ‡å¿—ã€ä¿¡å·ç¯ã€‚å¦‚æœè¯†åˆ«å‡ºå›¾ç‰‡ä¸­æœ‰å“ªä¸€ä¸ªå…ƒç´ ï¼Œå¯¹åº”ä½ç½®åˆ™è¾“å‡º1ã€‚</p>
<p><strong>æ³¨æ„</strong>ï¼šè¿™è¦ä¸softmaxè¿›è¡ŒåŒºåˆ†ï¼Œsoftmax åªæ˜¯ä¸€æ¬¡è¯†åˆ«ä¸€ç§ç‰©ä½“ï¼Œæ¯”å¦‚è¯´è¯†åˆ«å‡ºæ˜¯è¡Œäººï¼Œåˆ™è¾“å‡º[1,0,0,0],è€Œä¸ä¼šè¯´åŒæ—¶è¯†åˆ«å‡ºè¡Œäººå’Œä¿¡å·ç¯.</p>
</blockquote>
<p><strong>é€‚ç”¨æƒ…å†µï¼š</strong></p>
<p><img src="/images/deeplearning/C3W2-7_1.png" width="750"></p>
<blockquote>
<p>æœ€åï¼ŒAndrew Ng è¯´åœ¨å®é™…ä¸­è¿ç§»å­¦ä¹ ä½¿ç”¨é¢‘ç‡è¦è¿œé«˜äºå¤šä»»åŠ¡å­¦ä¹ ï¼Œæœ‰ä¸ªä¾‹å¤–å°±æ˜¯è§†è§‰æ£€æµ‹é¡¹ç›®ä¸­å¤šä»»åŠ¡å­¦ä¹ æ¯”è¾ƒå¤š.</p>
</blockquote>
<h2 id="9-End-to-end-deep-learning"><a href="#9-End-to-end-deep-learning" class="headerlink" title="9. End-to-end deep learning"></a>9. End-to-end deep learning</h2><p>é¦–å…ˆä»¥ç°åœ¨å¹¿æ³›ä½¿ç”¨çš„äººè„¸è¯†åˆ«æŠ€æœ¯è§£é‡Šä¸€ä¸‹ä»€ä¹ˆæ˜¯ç«¯åˆ°ç«¯çš„æ·±åº¦å­¦ä¹ .</p>
<p><strong>What is end-to-end learning?</strong></p>
<blockquote>
<p>å‡å¦‚å’±ä»¬èµ°è¿›ä¸€ä¸ªæ‘„åƒå¤´ï¼Œæœ€å¼€å§‹ç¦»å¾—è¾ƒè¿œçš„æ—¶å€™æ‘„åƒå¤´æ•æ‰åˆ°çš„æ˜¯æˆ‘ä»¬çš„å…¨èº«ï¼Œæ­¤æ—¶ç³»ç»Ÿä¸ä¼šå°†è¿™ç§ç…§ç‰‡å–‚ç»™æ¨¡å‹ï¼Œè€Œæ˜¯é€šè¿‡ç®—æ³•æ‰¾åˆ°äººè„¸çš„ä½ç½®ï¼Œç„¶ååˆ‡å‰²æ”¾å¤§ï¼Œæœ€åå–‚ç»™æ¨¡å‹è¿›è¡Œè¯†åˆ«.</p>
</blockquote>
<p><img src="/images/deeplearning/C3W2-8_1.png" width="700"></p>
<blockquote>
<p><strong>æ€»ç»“èµ·æ¥å°±æ˜¯ï¼š</strong></p>
<ol>
<li>æ‰¾äººè„¸ä½ç½®</li>
<li>å°†äººè„¸å›¾åƒåˆ‡å‰²æ”¾å¤§ï¼Œå¹¶å–‚ç»™æ¨¡å‹</li>
</ol>
<p>Notes: ç«¯åˆ°ç«¯çš„æ·±åº¦å­¦ä¹ å…¶å®å°±ä¸æ˜¯åƒå°†é—®é¢˜ç»†åˆ†åŒ–ï¼Œæµæ°´çº¿åŒ–ï¼Œæ¯ä¸ªæ­¥éª¤å„å¸å…¶èŒï¼Œä¸‹ä¸€å±‚ä¾èµ–ä¸Šä¸€å±‚</p>
<p>And you need a large data set before the end-to-end approach really shines. ï¼ˆä½ éœ€è¦å¤§é‡çš„æ•°æ®ï¼Œç«¯åˆ°ç«¯çš„æ·±åº¦å­¦ä¹ ï¼Œæ‰èƒ½å‘æŒ¥è€€çœ¼çš„å…‰èŠ’.ï¼‰</p>
</blockquote>
<h2 id="10-Reference"><a href="#10-Reference" class="headerlink" title="10. Reference"></a>10. Reference</h2><ul>
<li><a href="https://study.163.com/my#/smarts" target="_blank" rel="external">ç½‘æ˜“äº‘è¯¾å ‚ - deeplearning</a></li>
<li><a href="http://www.cnblogs.com/marsggbo/p/7470989.html" target="_blank" rel="external">DeepLearning.aiå­¦ä¹ ç¬”è®°æ±‡æ€»</a></li>
</ul>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[Structured Machine Learning Projects (week1) - ML Strategy 1]]></title>
      <url>http://iequa.com/2018/07/24/deeplearning-ai-Structured-Machine-Learning-Projects-week1/</url>
      <content type="html"><![CDATA[<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js"],
    jax: ["input/TeX"],
    tex2jax: {
      inlineMath: [ ['$','$'], ['\\(','\\)'] ],
      displayMath: [ ['$$','$$']],
      processEscapes: true
    }
  });
</script>
<script type="text/javascript" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS_HTML,http://myserver.com/MathJax/config/local/local.js">
</script>

<p>è¿™æ¬¡æˆ‘ä»¬è¦å­¦ä¹ ä¸“é¡¹è¯¾ç¨‹ä¸­ç¬¬ä¸‰é—¨è¯¾ <strong>Structured Machine Learning Projects</strong></p>
<p>å­¦å®Œè¿™é—¨è¯¾ä¹‹åï¼Œä½ å°†ä¼š:</p>
<blockquote>
<ul>
<li>ç†è§£å¦‚ä½•è¯Šæ–­æœºå™¨å­¦ä¹ ç³»ç»Ÿä¸­çš„é”™è¯¯</li>
<li>èƒ½å¤Ÿä¼˜å…ˆå‡å°è¯¯å·®æœ€æœ‰æ•ˆçš„æ–¹å‘</li>
<li>ç†è§£å¤æ‚MLè®¾å®šï¼Œä¾‹å¦‚è®­ç»ƒ/æµ‹è¯•é›†ä¸åŒ¹é…ï¼Œæ¯”è¾ƒå¹¶/æˆ–è¶…è¿‡äººçš„è¡¨ç°</li>
<li>çŸ¥é“å¦‚ä½•åº”ç”¨ç«¯åˆ°ç«¯å­¦ä¹ ã€è¿ç§»å­¦ä¹ ä»¥åŠå¤šä»»åŠ¡å­¦ä¹ </li>
</ul>
</blockquote>
<p>å¾ˆå¤šå›¢é˜Ÿæµªè´¹æ•°æœˆç”šè‡³æ•°å¹´æ¥ç†è§£è¿™é—¨è¯¾æ‰€æ•™æˆçš„å‡†åˆ™ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œè¿™é—¨ä¸¤å‘¨çš„è¯¾å¯ä»¥ä¸ºä½ èŠ‚çº¦æ•°æœˆçš„æ—¶é—´</p>
<a id="more"></a>
<h2 id="1-Why-ML-Strategy"><a href="#1-Why-ML-Strategy" class="headerlink" title="1. Why ML Strategy?"></a>1. Why ML Strategy?</h2><p><img src="/images/deeplearning/C3W1-1_1.png" width="700"></p>
<blockquote>
<p>å¦‚ä¸Šå›¾ç¤ºï¼Œå‡å¦‚æˆ‘ä»¬åœ¨æ„å»ºä¸€ä¸ªå–µå’ªåˆ†ç±»å™¨ï¼Œæ•°æ®é›†å°±æ˜¯ä¸Šé¢å‡ ä¸ªå›¾ï¼Œè®­ç»ƒä¹‹åå‡†ç¡®ç‡è¾¾åˆ°90%ã€‚è™½ç„¶çœ‹èµ·æ¥æŒºé«˜çš„ï¼Œä½†æ˜¯è¿™æ˜¾ç„¶å¹¶ä¸å…·ä¸€èˆ¬æ€§ï¼Œå› ä¸ºæ•°æ®é›†å¤ªå°‘äº†ã€‚é‚£ä¹ˆæ­¤æ—¶å¯ä»¥æƒ³åˆ°çš„MLç­–ç•¥æœ‰å“ªäº›å‘¢ï¼Ÿæ€»ç»“å¦‚ä¸Šå›¾ä¸­ <strong><code>Ideas</code></strong>.</p>
</blockquote>
<h2 id="2-Orthogonalization"><a href="#2-Orthogonalization" class="headerlink" title="2. Orthogonalization"></a>2. Orthogonalization</h2><blockquote>
<p>Orthogonalization [É”:Î¸É’É¡É™nÉ™laÉªâ€™zeÉªÊƒn] æ­£äº¤åŒ–</p>
</blockquote>
<p><img src="/images/deeplearning/C3W1-2_1.png" width="600"></p>
<blockquote>
<p>And when I train a neural networkï¼ŒI tend not to use early shopping.</p>
<p>å› ä¸º Early Stroppingï¼Œè¿™ä¸ªæŒ‰é’®èƒ½åŒæ—¶å½±å“ä¸¤ä»¶äº‹æƒ…. å°±åƒä¸€ä¸ªæŒ‰é’®åŒæ—¶å½±å“ç”µè§†æœºçš„å®½åº¦å’Œé«˜åº¦. å¦‚æœä½ æœ‰æ›´å¤šçš„æ­£äº¤åŒ–(Orthogonalization)çš„æ‰‹æ®µï¼Œç”¨è¿™äº›æ‰‹æ®µè°ƒç½‘ç»œä¼šç®€å•ä¸å°‘.<br>When a supervised learning system is design, these are the 4 assumptions that needs to be true and orthogonal.</p>
</blockquote>
<p><img src="/images/deeplearning/C3W1-3_1.png" width="600"></p>
<table>
<thead>
<tr>
<th style="text-align:center">No.</th>
<th style="text-align:center">strategy</th>
<th style="text-align:center">solutions</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">1.</td>
<td style="text-align:center">Fit training set well in cost function</td>
<td style="text-align:center">If it doesnâ€™t fit well, the use of a bigger neural network or switching to a better optimization algorithm might help.</td>
</tr>
<tr>
<td style="text-align:center">2.</td>
<td style="text-align:center">Fit development set well on cost function</td>
<td style="text-align:center">If it doesnâ€™t fit well, regularization or using bigger training set might help.</td>
</tr>
<tr>
<td style="text-align:center">3.</td>
<td style="text-align:center">Fit test set well on cost function</td>
<td style="text-align:center">If it doesnâ€™t fit well, the use of a bigger development set might help</td>
</tr>
<tr>
<td style="text-align:center">4.</td>
<td style="text-align:center">Performs well in real world</td>
<td style="text-align:center">If it doesnâ€™t perform well, the development test set is not set correctly or the cost function is not evaluating the right thing</td>
</tr>
</tbody>
</table>
<h2 id="3-Single-number-evaluation-metric"><a href="#3-Single-number-evaluation-metric" class="headerlink" title="3. Single number evaluation metric"></a>3. Single number evaluation metric</h2><p><img src="/images/deeplearning/C3W1-4_1.png" width="700"></p>
<blockquote>
<p>å¤§è‡´çš„æ€æƒ³å°±æ˜¯é¦–å…ˆæŒ‰ç…§å•ä¸€æ•°å­—è¯„ä¼°æŒ‡æ ‡å¯¹æ¨¡å‹è¿›è¡Œè¯„ä»·å’Œä¼˜åŒ–ã€‚ä»¥ç²¾ç¡®ç‡å’Œå¬å›ç‡ä¸ºä¾‹ï¼Œè¿™äºŒè€…ä¸€èˆ¬æ¥è¯´æ˜¯ä¸€ä¸ªä¸å¯å…¼å¾—çš„æŒ‡æ ‡ï¼Œæ‰€ä»¥ä¸ºäº†æ›´å¥½çš„è¡¡é‡æ¨¡å‹çš„å¥½åï¼Œå¼•å…¥F1ç®—æ³•æ¥ç»¼åˆç²¾ç¡®ç‡å’Œå¬å›ç‡å¯¹æ¨¡å‹è¿›è¡Œè¯„ä¼°.</p>
</blockquote>
<!--<img src="/images/deeplearning/C3W1-6_1.png" width="700" />
-->
<p><img src="/images/deeplearning/C3W1-7_1.png" width="700"></p>
<p><a href="https://www.cnblogs.com/techengin/p/8962024.html" target="_blank" rel="external">Ref: sklearnä¸­ F1-micro ä¸ F1-macroåŒºåˆ«å’Œè®¡ç®—åŸç†</a></p>
<h2 id="4-Satisficing-and-optimizing-metrics"><a href="#4-Satisficing-and-optimizing-metrics" class="headerlink" title="4. Satisficing and optimizing metrics"></a>4. Satisficing and optimizing metrics</h2><p>Itâ€™s not always easy into a single real number evaluation metric</p>
<p><img src="/images/deeplearning/C3W1-9_1.png" width="750"></p>
<blockquote>
<p>So more generally, if you have N metrics that you care about, itâ€™s sometimes reasonable to pick one of them to be optimizing. So you want to do as well as is possible on that one. And then N minus 1 to be satisficing.</p>
<p>æ»¡è¶³å’Œä¼˜åŒ–æŒ‡æ ‡æ˜¯å¾ˆé‡è¦çš„</p>
</blockquote>
<h2 id="5-Train-dev-test-distributions"><a href="#5-Train-dev-test-distributions" class="headerlink" title="5. Train/dev/test distributions"></a>5. Train/dev/test distributions</h2><p><img src="/images/deeplearning/C3W1-10_1.png" width="700"></p>
<p><strong>Training, development and test distributions</strong></p>
<blockquote>
<p>Setting up the training, development and test sets have a huge impact on productivity. It is important to<br>choose the development and test sets from the same distribution and it must be taken randomly from all<br>the data.</p>
</blockquote>
<p><strong>Guideline</strong></p>
<blockquote>
<p>Choose a development set and test set to reflect data you expect to get in the future and consider important to do well.</p>
</blockquote>
<p><strong>æ‰€ä»¥ä¸ºäº†å®ç°æœä»åŒä¸€åˆ†å¸ƒï¼Œæˆ‘ä»¬å¯ä»¥è¿™æ ·åš:</strong></p>
<blockquote>
<p>é¦–å…ˆå°†æ‰€æœ‰å›½å®¶å’Œåœ°åŒºçš„æ•°æ®æ‰“æ•£ï¼Œæ··åˆ, æŒ‰ç…§ä¸€å®šçš„æ¯”ä¾‹å°†ä¸Šé¢æ··åˆæ‰“æ•£åçš„æ•°æ®åˆ’åˆ†ä¸º <strong>development and test sets</strong></p>
</blockquote>
<h2 id="6-Size-of-dev-and-test-sets"><a href="#6-Size-of-dev-and-test-sets" class="headerlink" title="6. Size of dev and test sets"></a>6. Size of dev and test sets</h2><p><img src="/images/deeplearning/C3W1-11_1.png" width="750"></p>
<h2 id="7-When-to-change-dev-test-sets-and-metrics"><a href="#7-When-to-change-dev-test-sets-and-metrics" class="headerlink" title="7. When to change dev/test sets and metrics"></a>7. When to change dev/test sets and metrics</h2><p><strong>ä¸¾ä¸ªğŸŒ°:</strong> å‡è®¾ç°åœ¨ä¸€ä¸ªå…¬å¸åœ¨åšä¸€ä¸ªå–µå’ªå›¾ç‰‡æ¨é€æœåŠ¡ï¼ˆå³ç»™ç”¨æˆ·æ¨é€å–µå’ªçš„ç…§ç‰‡ï¼‰ï¼Œéƒ¨ç½²çš„æœ‰ä¸¤ä¸ªç®—æ³•:</p>
<blockquote>
<ul>
<li>ç®—æ³•A: å–µå’ªå›¾ç‰‡è¯†åˆ«è¯¯å·®æ˜¯3%ï¼Œä½†æ˜¯å¯èƒ½ä¼šä¸€ä¸å°å¿ƒå°±ç»™ç”¨æˆ·å‘äº†ä¸€äº›å°‘å„¿ä¸å®œçš„å›¾ç‰‡</li>
<li>ç®—æ³•Bï¼šè¯¯å·®æ˜¯5%ï¼Œä½†æ˜¯ä¸ä¼šç»™ç”¨æˆ·æ¨é€ä¸å¥åº·çš„å›¾ç‰‡</li>
</ul>
<p>æ‰€ä»¥å¯¹äºæŠ€æœ¯äººå‘˜æ¥è¯´å¯èƒ½å¸Œæœ›å‡†ç¡®æ€§é«˜ä¸€äº›çš„ç®—æ³•Aï¼Œè€Œç”¨æˆ·å¯èƒ½ä¼šéå¸¸åœ¨æ„ä½ ç»™ä»–æ¨é€äº†æŸäº›ä¸æƒ³çœ‹çš„ä¸œè¥¿, ä¹Ÿè®¸æ›´å–œæ¬¢ç®—æ³•Bã€‚æ‰€ä»¥æ€»çš„æ¥è¯´å°±æ˜¯æ ¹æ®å®é™…éœ€è¦æ¥ æ”¹å˜å¼€å‘/æµ‹è¯•é›†åˆæŒ‡æ ‡.</p>
</blockquote>
<p><img src="/images/deeplearning/C3W1-12_1.png" width="750"></p>
<h2 id="8-Why-human-level-performance"><a href="#8-Why-human-level-performance" class="headerlink" title="8. Why human-level performance?"></a>8. Why human-level performance?</h2><p><img src="/images/deeplearning/C3W1-14_1.png" width="750"></p>
<blockquote>
<p>å¦‚å›¾ç¤ºï¼š</p>
<ul>
<li>è“è‰²è™šçº¿ï¼šè¡¨ç¤ºäººç±»è¯†åˆ«çš„å‡†ç¡®ç‡</li>
<li>ç´«è‰²æ›²çº¿ï¼šè¡¨ç¤ºæœºå™¨å­¦ä¹ ä¸æ–­è®­ç»ƒè¿‡ç¨‹ä¸­å‡†ç¡®ç‡çš„å˜åŒ–</li>
<li>ç»¿è‰²è™šçº¿ï¼šè¡¨ç¤ºæœ€é«˜çš„å‡†ç¡®ç‡ï¼Œå³100%</li>
</ul>
<p>å…¶ä¸­ç´«è‰²æ›²çº¿åœ¨æœ«å°¾æ”¶æ•›åä¸ç»¿è‰²è™šçº¿ä¹‹é—´çš„å·®è·ç§°ä¸ºè´å¶æ–¯ä¼˜åŒ–è¯¯å·®(Bayse Optima Error)</p>
</blockquote>
<!--<img src="/images/deeplearning/C3W1-13_1.png" width="750" />-->
<p>å› æ­¤åœ¨å®é™…æ“ä½œè¿‡ç¨‹ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥ä»¥äººç±»å‡†ç¡®ç‡ä¸ºæŒ‡æ ‡æ¥è¯„åˆ¤æˆ‘ä»¬è®­ç»ƒçš„æ¨¡å‹å¥½åç¨‹åº¦</p>
<p><img src="/images/deeplearning/C3W1-15_1.png" width="750"></p>
<h2 id="9-Avoidable-bias"><a href="#9-Avoidable-bias" class="headerlink" title="9. Avoidable bias"></a>9. Avoidable bias</h2><p><img src="/images/deeplearning/C3W1-16_1.png" width="750"></p>
<blockquote>
<p>Humans error ä¸ Training Error ä¹‹é—´çš„å·®è·æˆ‘ä»¬æˆä¸º Avoidable bias<br>Training Error ä¸ Dev Error ä¹‹é—´çš„å·®è·æˆ‘ä»¬æˆä¸º Variance</p>
</blockquote>
<h2 id="10-Understanding-human-level-performance"><a href="#10-Understanding-human-level-performance" class="headerlink" title="10. Understanding human-level performance"></a>10. Understanding human-level performance</h2><p><img src="/images/deeplearning/C3W1-18_1.png" width="750"></p>
<blockquote>
<p><strong>è§£é‡Šè¯´æ˜ Example 1</strong>:</p>
<p>å‡å¦‚ä¸€ä¸ªåŒ»é™¢éœ€è¦å¯¹ä¸€ä¸ªåŒ»å­¦å½±åƒè¿›è¡Œåˆ†ç±»è¯†åˆ«ï¼Œæ™®é€šäººï¼Œæ™®é€šåŒ»ç”Ÿï¼Œæœ‰ç»éªŒçš„åŒ»ç”Ÿå’Œä¸€ç¾¤æœ‰ç»éªŒçš„åŒ»ç”Ÿè¯†åˆ«é”™è¯¯ç‡åˆ†åˆ«ä¸º3%ï¼Œ1%ï¼Œ0.7%ï¼Œ0.5%ã€‚ä¸Šä¸€èŠ‚ä¸­æåˆ°è¿‡Human Errorï¼Œé‚£æ­¤æ—¶çš„è¯¥å¦‚ä½•ç¡®å®šHuman Errorå‘¢ï¼Ÿä½ å¯èƒ½ä¼šè¯´å–å¹³å‡å€¼ï¼Œåªèƒ½è¯´Too Naiveï¼å½“ç„¶æ˜¯å–æœ€å¥½çš„ç»“æœå•¦ï¼Œä¹Ÿå°±æ˜¯ç”±ä¸€ç¾¤ç»éªŒä¸°å¯Œçš„åŒ»ç”Ÿç»„æˆçš„å›¢ä½“å¾—åˆ°çš„ç»“æœä½œä¸ºHuman Errorã€‚å¦å¤–è´å¶æ–¯è¯¯å·®ä¸€å®šå°äº0.5%ã€‚</p>
</blockquote>
<p><img src="/images/deeplearning/C3W1-19_1.png" width="750"></p>
<blockquote>
<p><strong>è§£é‡Šè¯´æ˜ Example 2</strong>:</p>
<p>è¿˜æ˜¯ä»¥åŒ»å­¦å½±åƒåˆ†ç±»è¯†åˆ«ä¸ºä¾‹ï¼Œå‡å¦‚ç°åœ¨åˆ†æˆäº†ä¸‰ç§æƒ…å†µï¼š</p>
<p>Scenario A<br>è®©ä¸‰ç±»äººç¾¤æ¥åˆ’åˆ†åå¾—åˆ°çš„è¯¯å·®åˆ†åˆ«ä¸º1%ï¼Œ0.7%ï¼Œ0.5%ï¼Œè€Œè®­ç»ƒé›†å’Œæµ‹è¯•é›†è¯¯å·®åˆ†åˆ«ä¸º5%ï¼Œ6%ã€‚å¾ˆæ˜¾ç„¶æ­¤æ—¶çš„Avoidable Bias=4%~4.5%ï¼ŒVariance=1%ï¼Œbiasæ˜æ˜¾å¤§äºvarianceï¼Œæ‰€ä»¥æ­¤æ—¶åº”è¯¥å°†é‡å¿ƒæ”¾åˆ°å‡å°biasä¸Šå»ã€‚</p>
<p>Scenario Bayse<br>åŒç†æ­¤æƒ…å†µä¸‹çš„Avoidable Bias=0%~0.5%ï¼ŒVariance=4%ï¼Œæ‰€ä»¥éœ€è¦å‡å°varianceã€‚</p>
<p>Scenario C<br>Avoidable Bias=0.2%ï¼ŒVariance=0.1%ï¼ŒäºŒè€…ç›¸å·®æ— å‡ ï¼Œä½†æ˜¯æ­¤æ—¶è®­ç»ƒçš„æ¨¡å‹å‡†ç¡®ç‡è¿˜æ˜¯ä¸åŠäººç±»ï¼Œæ‰€ä»¥æ²¡åŠæ³•å’±ä»¬è¿˜å¾—ç»§ç»­ä¼˜åŒ–ï¼Œéƒ½è¯´æªæ‰“å‡ºå¤´é¸Ÿï¼Œæ‰€ä»¥ç»§ç»­ä¼˜åŒ–bias~</p>
</blockquote>
<h2 id="11-Surpassing-human-level-performance"><a href="#11-Surpassing-human-level-performance" class="headerlink" title="11. Surpassing human-level performance"></a>11. Surpassing human-level performance</h2><p><img src="/images/deeplearning/C3W1-20_1.png" width="750"></p>
<blockquote>
<p><strong>Scenario A</strong></p>
<ul>
<li>Avoidable Bias=0.1%ï¼ŒVariance=0.2%ï¼Œæ‰€ä»¥æ­¤æ—¶åº”è¯¥å°†é‡å¿ƒæ”¾åˆ°å‡å°Varianceä¸Šå»</li>
</ul>
<p><strong>Scenario B</strong></p>
<ul>
<li>Avoidable Bias=-0.2%ï¼ŒVariance=0.1%.ä¹ä¸€çœ‹å¯èƒ½ä¼šæœ‰ç‚¹ä¸çŸ¥æ‰€æªï¼Œè€Œä¸”è®­ç»ƒé›†å‡†ç¡®åº¦ä¹Ÿè¶…è¿‡äº†äººçš„æœ€å¥½æˆç»©ï¼Œä¸çŸ¥é“åº”è¯¥é€‰æ‹©ä¼˜åŒ–å“ªä¸€é¡¹äº†ï¼Œæˆ–è€…è¯´è¿™æ˜¯ä¸æ˜¯å°±è¯´æ˜å¯ä»¥ä¸ç”¨å†ä¼˜åŒ–äº†å‘¢ï¼Ÿ</li>
</ul>
<p>ï¼ˆè¿˜æ˜¯å¯ä»¥ç»§ç»­ä¼˜åŒ–çš„ã€‚ä¸å¯å¦è®¤åœ¨å›¾åƒè¯†åˆ«æ–¹é¢äººç±»çš„ç¡®å…¶ä¼˜äºæœºå™¨çš„æ–¹é¢ï¼Œä½†æ˜¯åœ¨å…¶ä»–æ–¹é¢ï¼Œå¦‚åœ¨çº¿å¹¿å‘Šæ¨é€ï¼Œè´·æ¬¾ç”³è¯·è¯„æµ‹ç­‰æ–¹é¢æœºå™¨äººè¦è¿œè¿œæ¯”äººç±»ä¼˜ç§€ï¼Œæ‰€ä»¥å¦‚æœæ˜¯åœ¨ä¸Šé¢è¯¾ä»¶ä¸­æåˆ°çš„ä¸€äº›é¢†åŸŸï¼Œå³ä½¿æœºå™¨å‡†ç¡®åº¦è¶…è¿‡äº†äººç±»ï¼Œä¹Ÿè¿˜æœ‰å¾ˆå¤§çš„ä¼˜åŒ–ç©ºé—´ã€‚å…·ä½“æ€ä¹ˆä¼˜åŒ–ã€‚ã€‚ã€‚ä»¥åå†æ¢ç´¢ã€‚ã€‚ã€‚ï¼‰</p>
</blockquote>
<h2 id="12-Improving-your-model-performance"><a href="#12-Improving-your-model-performance" class="headerlink" title="12. Improving your model performance"></a>12. Improving your model performance</h2><p><img src="/images/deeplearning/C3W1-21_1.png" width="750"></p>
<h2 id="13-Reference"><a href="#13-Reference" class="headerlink" title="13. Reference"></a>13. Reference</h2><ul>
<li><a href="https://study.163.com/my#/smarts" target="_blank" rel="external">ç½‘æ˜“äº‘è¯¾å ‚ - deeplearning</a></li>
<li><a href="http://www.cnblogs.com/marsggbo/p/7470989.html" target="_blank" rel="external">DeepLearning.aiå­¦ä¹ ç¬”è®°æ±‡æ€»</a></li>
<li><a href="http://www.cnblogs.com/marsggbo/p/7681619.html" target="_blank" rel="external">DeepLearning.aiå­¦ä¹ ç¬”è®°ï¼ˆä¸‰ï¼‰ç»“æ„åŒ–æœºå™¨å­¦ä¹ é¡¹ç›®â€“week1 æœºå™¨å­¦ä¹ ç­–ç•¥</a></li>
</ul>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[Improving DNN (week3) - Hyperparameterã€Batch Regularization]]></title>
      <url>http://iequa.com/2018/07/23/deeplearning-ai-Improving-Deep-Neural-Networks-week3/</url>
      <content type="html"><![CDATA[<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js"],
    jax: ["input/TeX"],
    tex2jax: {
      inlineMath: [ ['$','$'], ['\\(','\\)'] ],
      displayMath: [ ['$$','$$']],
      processEscapes: true
    }
  });
</script>
<script type="text/javascript" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS_HTML,http://myserver.com/MathJax/config/local/local.js">
</script>

<p>Hyperparameter Tuning processã€Normalizing Activations in a network</p>
<p>Fitting Batch Norm into a neural networkã€Why does Batch Norm work?ã€Batch Norm at test time</p>
<p>Softmax regressionã€TensorFlow</p>
<a id="more"></a>
<h2 id="1-Hyperparameter-Tuning-process"><a href="#1-Hyperparameter-Tuning-process" class="headerlink" title="1. Hyperparameter Tuning process"></a>1. Hyperparameter Tuning process</h2><p>æ­£å¸¸æƒ…å†µæœ‰å¦‚ä¸‹è¶…å‚æ•°:</p>
<table>
<thead>
<tr>
<th style="text-align:center">Hyperparameter</th>
<th style="text-align:center">Desc</th>
<th style="text-align:center">Importance level</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center"><font color="red">Î±</font></td>
<td style="text-align:center">æœ€é‡è¦</td>
<td style="text-align:center">1</td>
</tr>
<tr>
<td style="text-align:center"><font color="orange">hidden units</font></td>
<td style="text-align:center"></td>
<td style="text-align:center">2</td>
</tr>
<tr>
<td style="text-align:center"><font color="orange">mini-batch size</font></td>
<td style="text-align:center"></td>
<td style="text-align:center">2</td>
</tr>
<tr>
<td style="text-align:center"><font color="orange">Î²</font></td>
<td style="text-align:center"></td>
<td style="text-align:center">2</td>
</tr>
<tr>
<td style="text-align:center"><font color="purple">layers</font></td>
<td style="text-align:center"></td>
<td style="text-align:center">3</td>
</tr>
<tr>
<td style="text-align:center"><font color="purple">learning rate decay</font></td>
<td style="text-align:center"></td>
<td style="text-align:center">3</td>
</tr>
<tr>
<td style="text-align:center">$Î²_1,Î²_2,Îµ$</td>
<td style="text-align:center">æœ€ä¸é‡è¦</td>
<td style="text-align:center">4</td>
</tr>
</tbody>
</table>
<blockquote>
<p>é¢œè‰²è¡¨ç¤ºé‡è¦æ€§ï¼Œä»¥åŠè°ƒè¯•è¿‡ç¨‹ä¸­å¯èƒ½ä¼šéœ€è¦ä¿®æ”¹çš„ç¨‹åº¦.</p>
</blockquote>
<h3 id="é‚£ä¹ˆå¦‚ä½•é€‰æ‹©è¶…å‚æ•°çš„å€¼å‘¢ï¼Ÿ"><a href="#é‚£ä¹ˆå¦‚ä½•é€‰æ‹©è¶…å‚æ•°çš„å€¼å‘¢ï¼Ÿ" class="headerlink" title="é‚£ä¹ˆå¦‚ä½•é€‰æ‹©è¶…å‚æ•°çš„å€¼å‘¢ï¼Ÿ:"></a>é‚£ä¹ˆå¦‚ä½•é€‰æ‹©è¶…å‚æ•°çš„å€¼å‘¢ï¼Ÿ:</h3><ul>
<li>é¦–å…ˆæ˜¯ç²—ç•¥åœ°éšæœºåœ°å¯»æ‰¾æœ€ä¼˜å‚æ•°</li>
</ul>
<p><img src="/images/deeplearning/C2W3-1_1.png" width="700"></p>
<p><strong>å»ºè®®ä½¿ç”¨å›¾å³çš„æ–¹å¼ï¼ŒåŸå› å¦‚ä¸‹ï¼š</strong></p>
<blockquote>
<p>å¯¹äºå›¾å·¦çš„è¶…å‚æ•°åˆ†å¸ƒè€Œè¨€ï¼Œå¯èƒ½ä¼šä½¿å¾—å‚è€ƒæ€§é™ä½ï¼Œæˆ‘ä»¬å‡è®¾è¶…å‚1æ˜¯å­¦ä¹ ç‡Î±ï¼Œè¶…å‚2æ˜¯Îµï¼Œæ ¹æ®week2ä¸­Adamç®—æ³•çš„ä»‹ç»ï¼Œæˆ‘ä»¬çŸ¥é“Îµçš„ä½œç”¨å‡ ä¹å¯ä»¥å¿½ç•¥ï¼Œæ‰€ä»¥å¯¹äºå›¾å·¦25ä¸­å‚æ•°åˆ†å¸ƒæ¥è¯´ï¼Œå…¶æœ¬è´¨åªæœ‰5ç§å‚æ•°åˆ†å¸ƒã€‚è€Œå³è¾¹åˆ™æ˜¯25ç§éšæœºåˆ†å¸ƒï¼Œæ›´èƒ½å¸®åŠ©æˆ‘ä»¬é€‰æ‹©åˆé€‚çš„è¶…å‚æ•°.</p>
</blockquote>
<p><strong>å…¶æ¬¡åœ¨ä¸Šé¢æ‰¾åˆ°çš„æœ€ä¼˜å‚æ•°åˆ†å¸ƒå‘¨å›´å†éšæœºåœ°å¯»æ‰¾æœ€æœ‰å‚æ•°</strong></p>
<p><img src="/images/deeplearning/C2W3-2_1.png" width="700"></p>
<h2 id="2-Using-an-appropriate-scale-to-pick-hyperparameters"><a href="#2-Using-an-appropriate-scale-to-pick-hyperparameters" class="headerlink" title="2. Using an appropriate scale to pick hyperparameters"></a>2. Using an appropriate scale to pick hyperparameters</h2><p>ä¸Šä¸€èŠ‚æåˆ°çš„çš„éšæœºé‡‡æ ·è™½ç„¶èƒ½å¸®åŠ©æˆ‘ä»¬å¯»æ‰¾æœ€ä¼˜å‚æ•°åˆ†å¸ƒï¼Œä½†æ˜¯è¿™æœ‰ç‚¹åƒå¤§æµ·æé’ˆï¼Œå¦‚æœèƒ½å¤ŸæŒ‡å‡ºå‚æ•°å–å€¼çš„èŒƒå›´ï¼Œç„¶åå†å»å¯»æ‰¾æœ€ä¼˜çš„å‚æ•°åˆ†å¸ƒå²‚ä¸æ˜¯æ›´åŠ çš„ç¾æ»‹æ»‹ï¼Ÿé‚£å¦‚ä½•ä¸ºè¶…å‚æ•°é€‰æ‹©åˆé€‚çš„èŒƒå›´å‘¢ï¼Ÿ</p>
<blockquote>
<p>$n^{[l]}=50,â€¦â€¦,100$</p>
<p>$layers=2~4$</p>
<p>$Î±=0.0001ï¼Œâ€¦â€¦,1$</p>
</blockquote>
<p>æ­¤æ—¶æ³¨æ„: å¦‚æŒ‰ç…§çº¿æ€§åˆ’åˆ†çš„è¯(å¦‚ä¸‹å›¾)ï¼Œé‚£ä¹ˆéšæœºé‡‡æ ·çš„å€¼ 90% çš„æ•°æ®æ¥è‡ª [0.1,1] è¿™ä¸ªåŒºé—´, è¿™æ˜¾ç„¶ä¸ä¸å¤ªç¬¦åˆéšæœºæ€§.</p>
<p><img src="/images/deeplearning/C2W3-3_1.png" width="700"></p>
<blockquote>
<p>æ‰€ä»¥ä¸ºäº†æ”¹è¿›è¿™ä¸€é—®é¢˜ï¼Œæˆ‘ä»¬éœ€è¦å°†åŒºé—´å¯¹æ•°åŒ–æ¥é‡‡æ ·.</p>
<p><strong>ä¸¾ä¸ªğŸŒ°ï¼š</strong> æˆ‘ä»¬å°† [0.0001,1] è½¬åŒ–æˆå››ä¸ªåŒºé—´ [0.0001,0.001], [0.001,0.01], [0.01,0.1], [0.1,1], å†è½¬åŒ–æˆå¯¹æ•°å°±æ˜¯ [-4,-3], [-3,-2], [-2,-1], [-1,0].</p>
<p>($10^{âˆ’4}=0.0001$ï¼Œå…¶ä»–åŒç†å–æŒ‡æ•°).</p>
</blockquote>
<p>ç„¶åæˆ‘ä»¬å¯ä»¥ç”¨ Python ä¸­æä¾›çš„æ–¹æ³•æ¥å®ç°éšæœºé‡‡æ ·ï¼š</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">r = <span class="number">-4</span>*np.random.rand() <span class="comment"># rand()è¡¨ç¤ºåœ¨[0,1]ä¸Šå‡åŒ€é‡‡æ ·, æœ€åçš„é‡‡æ ·åŒºé—´æ˜¯[-4, 0]</span></span><br><span class="line">a = pow(<span class="number">10</span>, r)</span><br></pre></td></tr></table></figure>
<p><img src="/images/deeplearning/C2W3-4_1.png" width="700"></p>
<p><strong>$Î²=0.9,â€¦â€¦,0.999$</strong></p>
<p>åŒç†è¿™é‡Œä¹Ÿä¸èƒ½ä½¿ç”¨çº¿æ€§è½´æ¥é‡‡æ ·æ•°æ®ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡å¯¹ <strong>1-Î²=0.1,â€¦â€¦,0.001</strong> æ¥é—´æ¥é‡‡æ ·ã€‚è½¬åŒ–æˆ [0.1, 0.01], [0.01,0.001], è½¬åŒ–æˆå¯¹æ•°æŒ‡æ•° [-1,-2],[-2,-3]ã€‚</p>
<p>å³: $râˆˆ[-3,-1], 1-Î²=10^r, Î²=1-10^r$</p>
<blockquote>
<p>å½“ Î² æ¥è¿‘ 1 æ—¶, Î² å°±ä¼šå¯¹ç»†å¾®çš„å˜åŒ–å˜å¾—å¾ˆæ•æ„Ÿ.</p>
<p>for example : 0.999, 0.9995 =&gt; 1000 -&gt; 2000</p>
<p>æ‰€ä»¥ä½ éœ€è¦æ›´åŠ å¯†é›†çš„å–å€¼ï¼Œåœ¨ Î² æ¥è¿‘ 1 çš„æ—¶å€™.</p>
</blockquote>
<h2 id="3-Hyperparameters-tuning-in-practice-Pandas-vs-Caviar"><a href="#3-Hyperparameters-tuning-in-practice-Pandas-vs-Caviar" class="headerlink" title="3. Hyperparameters tuning in practice: Pandas vs Caviar"></a>3. Hyperparameters tuning in practice: Pandas vs Caviar</h2><p><img src="/images/deeplearning/C2W3-5_1.png" width="700"></p>
<p><strong>Babysitting one model:</strong></p>
<p>è¿™ç§æ–¹æ³•é€‚ç”¨äºæœ‰è¶³å¤Ÿçš„æ•°æ®é›†ï¼Œä½†æ˜¯ GPUï¼ŒCPU èµ„æºæœ‰é™çš„æƒ…å†µï¼Œæ‰€ä»¥å¯èƒ½åªèƒ½è®­ç»ƒä¸€ä¸ªæ¨¡å‹ï¼Œç„¶åæ¯å¤©å¯¹æ¨¡å‹åšæŸä¸€é¡¹è¶…å‚æ•°çš„ä¿®æ”¹ï¼ŒæŸ¥çœ‹æ•ˆæœæ˜¯å¦å˜å¾—æ›´å¥½.</p>
<blockquote>
<p>ä¾‹å¦‚ç¬¬ä¸€å¤©ä»¤æ‰€æœ‰è¶…å‚æ•°éšæœºåˆå§‹åŒ–ã€‚åˆ°äº†ç¬¬äºŒå¤©å‘ç°æ•ˆæœè¿˜ä¸é”™ï¼Œæ­¤æ—¶å¯ä»¥å»å¢åŠ å­¦ä¹ ç‡(ä¹Ÿå¯ä»¥ä¿®æ”¹å…¶ä»–å‚æ•°)ã€‚â€¦â€¦ï¼Œåˆ°äº†æŸä¸€å¤©åŠ å…¥ä¿®æ”¹äº†mini-batch sizeï¼Œç»“æœæ•ˆæœæ˜æ˜¾å‡å¼±ï¼Œè¿™æ—¶åˆ™éœ€è¦é‡æ–°æ¢å¤åˆ°å‰ä¸€å¤©çš„çŠ¶æ€ã€‚</p>
<p>æ€»çš„æ¥è¯´è¿™ä¸€è¿‡ç¨‹å°±åƒç†ŠçŒ«ä¸€æ ·ï¼Œåªç…§é¡¾ä¸€ä¸ªå®å®ï¼Œå¤šçš„ç…§é¡¾ä¸è¿‡æ¥.</p>
</blockquote>
<p><strong>Train many models in parallel:</strong></p>
<blockquote>
<p>è¿™ç§æ–¹æ³•é€‚ç”¨äºè´¢å¤§æ°”ç²—çš„æƒ…å†µï¼Œå³å¹¶è¡Œè®­ç»ƒå¤šä¸ªæ¨¡å‹ï¼Œæœ€åé€‰å‡ºæ•ˆæœæœ€å¥½çš„ä¸€ä¸ªå³å¯ã€‚è¿™å°±åƒé±¼å­é…±ä¸€æ ·ï¼Œä¸€ä¸‹ç”Ÿå¤šå¤§ä¸€äº¿çš„å­©å­.</p>
</blockquote>
<h2 id="4-Normalizing-Activations-in-a-network"><a href="#4-Normalizing-Activations-in-a-network" class="headerlink" title="4. Normalizing Activations in a network"></a>4. Normalizing Activations in a network</h2><p>ä¸ä»…è¦å½’ä¸€åŒ–è¾“å…¥æ•°æ® <strong>$X$</strong>,éšè—å±‚çš„æ•°æ®ä¹Ÿæ˜¯è¦å½’ä¸€åŒ–çš„. ä¸€èˆ¬æ¥è¯´éšè—å±‚æ•°æ®æœ‰ $Z$ å’Œ $a$ ä¸¤ç§ï¼ŒAndrew Ng æ¨èå½’ä¸€åŒ– <strong>$z$</strong>.</p>
<blockquote>
<p>Batch å½’ä¸€åŒ– ç”± Sergey loffe å’Œ Christian Szegedy ä¸¤ä½ç ”ç©¶è€…åˆ›é€ .</p>
</blockquote>
<p>Batch å½’ä¸€åŒ–ï¼Œä¼šä½¿ä½ çš„å‚æ•°æœç´¢å˜å¾—å®¹æ˜“, ä½¿ç¥ç»ç½‘ç»œå¯¹è¶…å‚æ•°çš„æœç´¢æ›´åŠ ç¨³å®š. è¿™æ ·ä¹Ÿä¼šä½¿å¾—ä½ å®¹æ˜“è®­ç»ƒæ·±å±‚ç¥ç»ç½‘ç»œã€‚</p>
<p><strong>è¾“å…¥æ•°æ® $X$ å½’ä¸€åŒ–æ–¹æ³•:</strong></p>
<p>$$<br>Î¼=\frac{1}{m}\sum_{i}{x^{(i)}}<br>$$</p>
<p>$$<br>Ïƒ^2=\frac{1}{m}\sum_{i}x^{(i)^2}<br>$$</p>
<p>$$<br>x=\frac{x-Î¼}{Ïƒ^2}<br>$$</p>
<blockquote>
<p>m ä¸º mini-batch ä¸­çš„ mï¼Œ è€Œä¸æ˜¯æ•´ä¸ªè®­ç»ƒé›†</p>
</blockquote>
<p><strong>éšè—å±‚æ•°æ®å½’ä¸€åŒ–æ–¹æ³•:</strong></p>
<p>$$<br>Î¼=\frac{1}{m}\sum_{i}{z^{(i)}-Î¼}<br>$$</p>
<p>$$<br>Ïƒ^2=\frac{1}{m}\sum_{i}(z^{(i)^2}-Î¼)^2<br>$$</p>
<p>$$<br>z^{(i)}_{norm}=\frac{z^{(i)}-Î¼}{\sqrt{Ïƒ^2+Îµ}}<br>$$</p>
<p>ä¸Šé¢çš„å½’ä¸€åŒ–åçš„æ•°æ® $z$ éƒ½æ˜¯æœä»å‡å€¼ä¸º 0ï¼Œæ–¹å·®ä¸º 1 çš„ï¼Œæ˜¾ç„¶è¿™æ ·ä¸èƒ½æ»¡è¶³å’±ä»¬çš„éœ€æ±‚ï¼Œæ‰€ä»¥è¿˜éœ€è¦åšè¿›ä¸€æ­¥å¤„ç†ï¼Œå¦‚ä¸‹ï¼š</p>
<p>$$<br>\tilde{z}^{(i)}=Î³z^{(i)} + Î²<br>$$</p>
<p>ä¸Šå¼ä¸­çš„ $Î³$ å¯ä»¥è®¾ç½®æ–¹å·®ï¼Œ$Î²$ å¯ä»¥è®¾ç½®å‡å€¼.</p>
<blockquote>
<p>ä½ ä¹Ÿè®¸ä¸æƒ³éšå±‚å•å…ƒå€¼å¿…é¡»æ˜¯å¹³å‡å€¼0 å’Œ æ–¹å·®1, æ¯”å¦‚ä½ æœ‰ä¸€ä¸ª sigmoid å‡½æ•°ï¼Œä½ ä¸æƒ³è®©å®ƒçš„å€¼å®Œå…¨é›†ä¸­åœ¨è¿™é‡Œ, ä½ ä¸æƒ³ä½¿ä»–ä»¬å¹³å‡å€¼å’Œæ–¹å·®ä¸€ç›´æ˜¯0å’Œ1ï¼Œ è¿™æ ·å¯ä»¥æ›´å¥½çš„åˆ©ç”¨éçº¿æ€§çš„ Sigmoid å‡½æ•°ï¼Œ è€Œä¸æ˜¯æ‰€æœ‰å€¼éƒ½é›†ä¸­åœ¨çº¿æ€§çš„åŒºåŸŸ, $Î³$ å’Œ $Î²$ å¯ä»¥ç¡®ä¿æ‰€æœ‰çš„ $Z^{(i)}$ å€¼ï¼Œå¯ä»¥æ˜¯ä½ æƒ³èµ‹äºˆçš„ä»»æ„å€¼. æˆ–è€… å®ƒçš„ä½œç”¨æ˜¯ä¿è¯éšè—çš„å•å…ƒå·²ä½¿å‡å€¼å’Œæ–¹å·®æ ‡å‡†åŒ–. é‚£é‡Œå‡å€¼å’Œæ–¹å·®ç”±ä¸¤å‚æ•°æ§åˆ¶. $Î³$ å’Œ $Î²$ å­¦ä¹ ç®—æ³•å¯ä»¥è®¾ç½®ä¸ºä»»ä½•å€¼. æ‰€ä»¥å®ƒçš„çœŸæ­£ä½œç”¨æ˜¯ä½¿å‡å€¼å’Œæ–¹å·®æ ‡å‡†åŒ–. $Z^{(i)}$ æœ‰å›ºå®šçš„å‡å€¼å’Œæ–¹å·®ï¼Œå‡å€¼å’Œæ–¹å·®å¯ä»¥æ˜¯0å’Œ1ï¼Œä¹Ÿå¯ä»¥æ˜¯å…¶ä»–å€¼ï¼Œç”± $Î³$ å’Œ $Î²$ ç¡®å®š.</p>
<p>In practiceï¼Œ normlizing $Z^{[2]}$ is done much more often.</p>
</blockquote>
<h2 id="5-Fitting-Batch-Norm-into-a-neural-network"><a href="#5-Fitting-Batch-Norm-into-a-neural-network" class="headerlink" title="5. Fitting Batch Norm into a neural network"></a>5. Fitting Batch Norm into a neural network</h2><p><strong>adding batch Norm to a network</strong></p>
<p><img src="/images/deeplearning/C2W3-6_1.png" width="750"></p>
<p><strong>working with mini-batches</strong></p>
<p>ä¸€èˆ¬çš„æ–¹æ³•ä¸­</p>
<p>$$<br>z^{[l]}=w^{[l]}a^{[l-1]}+b^{[l]}<br>$$</p>
<p>åœ¨ä¸Šé¢å½’ä¸€åŒ–æ•°æ®è¿‡ç¨‹ä¸­éœ€è¦å‡å»å‡å€¼ï¼Œæ‰€ä»¥ $b^{[l]}$ è¿™ä¸€é¡¹å¯ä»¥çœç•¥æ‰,æ‰€ä»¥å½’ä¸€åŒ–åæ˜¯</p>
<p>$$<br>z_{norm}^{[l]}=w^{[l]}a^{[l-1]}<br>$$</p>
<p>ä¸ºäº†èƒ½å¤Ÿä½¿æ•°æ®åˆ†å¸ƒæ›´åŠ æ»¡è¶³æˆ‘ä»¬çš„è¦æ±‚ï¼Œå¯ä»¥ç”¨å¦‚ä¸‹å…¬å¼</p>
<p>$$<br>\tilde{z}^{[l]}=Î³^{[l]}z_{norm}^{[l]}+Î²^{[l]}<br>$$</p>
<p><strong>Implementing gradient descent</strong></p>
<p>for t= 1,â€¦â€¦,numMinBatches</p>
<ul>
<li>è®¡ç®—åŸºäºç¬¬ $t$ æ‰¹æ•°æ®çš„å‰å‘ä¼ æ’­</li>
<li>åœ¨è®¡ç®—åå‘ä¼ æ’­æ—¶ä½¿ç”¨ $\tilde{z}^{[l]}$, å¾—åˆ° $dw^{[l]},dÎ²^{[l]},dÎ³^{[l]}$</li>
<li>æ›´æ–°å‚æ•°</li>
</ul>
<p>$$<br>w^{[l]}=w^{[l]}-Î±dw^{[l]} \\<br>Î²^{[l]}=Î²^{[l]}-Î±dÎ²^{[l]} \\<br>Î³^{[l]}=Î³^{[l]}-Î±dÎ³^{[l]}<br>$$</p>
<h2 id="6-Why-does-Batch-Norm-work"><a href="#6-Why-does-Batch-Norm-work" class="headerlink" title="6. Why does Batch Norm work?"></a>6. Why does Batch Norm work?</h2><p><strong>åŸå› ä¸€:</strong></p>
<p><strong>batch norm</strong> å¯ä»¥ä½¿å¾—æƒé‡æ¯”ä½ çš„ç½‘ç»œæ›´æ»åæˆ–æ›´æ·±å±‚ï¼Œä¸ºäº†æ›´å¥½åœ°ç†è§£å¯ä»¥çœ‹ä¸‹é¢çš„ä¾‹å­:</p>
<p><img src="/images/deeplearning/C2W3-7_1.png" width="700"></p>
<p>å¦‚ä¸Šå›¾æ‰€ç¤ºï¼Œå‡è®¾æˆ‘ä»¬ç°åœ¨è¦è®¡ç®—ç¬¬ä¸‰å±‚éšè—å±‚çš„å€¼ï¼Œå¾ˆæ˜¾ç„¶è¯¥å±‚çš„è®¡ç®—ç»“æœä¾èµ–ç¬¬äºŒå±‚çš„æ•°æ®ï¼Œä½†æ˜¯ç¬¬äºŒå±‚çš„æ•°æ®å¦‚æœæœªå½’ä¸€åŒ–ä¹‹å‰æ˜¯ä¸å¯çŸ¥çš„ï¼Œåˆ†å¸ƒæ˜¯éšæœºçš„ã€‚è€Œå¦‚æœè¿›è¡Œå½’ä¸€åŒ–åï¼Œå³ $\tilde{z}^{[2]}=Î³^{[2]}z_{norm}^{[2]}+Î²^{[2]}$ å¯ä»¥å°†ç¬¬äºŒå±‚æ•°æ®é™åˆ¶ä¸ºå‡å€¼ä¸º $Î²^{[2]}$, æ–¹å·®ä¸º $Î³^{[2]}$ çš„åˆ†å¸ƒ,æ³¨æ„è¿™ä¸¤ä¸ªå‚æ•°å¹¶ä¸éœ€è¦äººä¸ºè®¾ç½®ï¼Œå®ƒä¼šè‡ªåŠ¨å­¦ä¹ çš„ã€‚æ‰€ä»¥å³ä½¿è¾“å…¥æ•°æ®åƒå˜ä¸‡åŒ–ï¼Œä½†æ˜¯ç»è¿‡å½’ä¸€åŒ–ååˆ†å¸ƒéƒ½æ˜¯å¯ä»¥æ»¡è¶³æˆ‘ä»¬çš„éœ€æ±‚çš„ï¼Œæ›´ç®€å•åœ°è¯´å°±æ˜¯å½’ä¸€åŒ–æ•°æ®å¯ä»¥å‡å¼±å‰å±‚å‚æ•°çš„ä½œç”¨ä¸åå±‚å‚æ•°çš„ä½œç”¨ä¹‹é—´çš„è”ç³»ï¼Œå®ƒä½¿å¾—ç½‘ç»œæ¯å±‚éƒ½å¯ä»¥è‡ªå·±å­¦ä¹ ã€‚</p>
<p><strong>åŸå› äºŒ:</strong></p>
<p>batch norm å¥æ•ˆçš„å¦ä¸€ä¸ªåŸå› åˆ™æ˜¯å®ƒå…·æœ‰æ­£åˆ™åŒ–çš„æ•ˆæœã€‚å…¶ä¸dropoutæœ‰å¼‚æ›²åŒå·¥ä¹‹å¦™ï¼Œæˆ‘ä»¬çŸ¥é“dropoutä¼šéšæœºçš„ä¸¢æ‰ä¸€äº›èŠ‚ç‚¹ï¼Œå³æ•°æ®ï¼Œè¿™æ ·ä½¿å¾—æ¨¡å‹è®­ç»ƒä¸ä¼šè¿‡åˆ†ä¾èµ–æŸä¸€ä¸ªèŠ‚ç‚¹æˆ–æŸä¸€å±‚æ•°æ®ã€‚batch normä¹Ÿæ˜¯å¦‚æ­¤ï¼Œé€šè¿‡å½’ä¸€åŒ–ä½¿å¾—å„å±‚ä¹‹é—´çš„ä¾èµ–æ€§é™ä½ï¼Œå¹¶ä¸”ä¼šç»™æ¯å±‚éƒ½åŠ å…¥ä¸€äº›å™ªå£°ï¼Œä»è€Œè¾¾åˆ°æ­£åˆ™åŒ–çš„ç›®çš„</p>
<blockquote>
<p>Batch å®ƒé™åˆ¶äº†åœ¨å‰å±‚çš„å‚æ•°æ›´æ–°ï¼Œä¼šå½±å“æ•°å€¼åˆ†å¸ƒçš„ç¨‹åº¦ï¼Œç¬¬ä¸‰å±‚çœ‹åˆ°çš„è¿™ç§æƒ…å†µï¼Œå› æ­¤å¾—å­¦ä¹ . <strong>batch å½’ä¸€åŒ–å‡å°‘äº†è¾“å…¥å€¼æ”¹å˜çš„é—®é¢˜</strong>, å®ƒçš„ç¡®æ˜¯è¿™äº›å€¼å˜å¾—æ›´ç¨³å®š. ç¥ç»ç½‘ç»œçš„ä¹‹åå±‚å°±ä¼šæœ‰æ›´åšå®çš„åŸºç¡€. å³ä½¿è¾“å…¥åˆ†å¸ƒæ”¹å˜äº†ä¸€äº›ï¼Œå®ƒä¼šæ”¹å˜å¾—æ›´å°‘ï¼Œå®ƒåšçš„æ˜¯ å½“å‰å±‚ä¿æŒå­¦ä¹ ï¼Œå½“å±‚æ”¹å˜æ—¶ï¼Œè¿«ä½¿åå±‚, é€‚åº”çš„ç¨‹åº¦å‡å°‘äº†ï¼Œä½ å¯ä»¥è¿™æ ·æƒ³ï¼Œå®ƒå‡å¼±äº†å‰å±‚å‚æ•°çš„ä½œç”¨ï¼Œä¸åå±‚å‚æ•°çš„ä½œç”¨ä¹‹é—´çš„è”ç³»ï¼Œå®ƒä½¿å¾—ç½‘ç»œæ¯å±‚éƒ½å¯ä»¥è‡ªå·±å­¦ä¹ . ç¨ç¨ç‹¬ç«‹äºå…¶å®ƒå±‚ï¼Œè¿™æœ‰åŠ©äºåŠ é€Ÿæ•´ä¸ªç½‘ç»œçš„å­¦ä¹ .</p>
<p>batch norm ä¸­æœ‰ä¸€ä¸ªä½œç”¨ï¼Œå¯ä»¥èµ·åˆ°è½»å¾® æ­£åˆ™åŒ– çš„ä½œç”¨. (å› ä¸ºæ·»åŠ çš„å™ªéŸ³å¾ˆå¾®å°ï¼Œæ‰€ä»¥å¹¶ä¸æ˜¯å·¨å¤§çš„æ­£åˆ™åŒ–)ï¼Œ ä½ å¯ä»¥å°† batch norm å’Œ dropout ä¸€èµ·ä½¿ç”¨.</p>
<p>dropout, ä½ åº”ç”¨è¾ƒå¤§çš„ mini-batch æ¯”å¦‚ 512ï¼Œé‚£ä¹ˆå¯ä»¥å‡å°‘å™ªéŸ³ä¹Ÿ, å› æ­¤å‡å°‘äº†æ­£åˆ™åŒ–çš„æ•ˆæœ. è¿™æ˜¯ dropout çš„ä¸€ä¸ªå¥‡æ€ªçš„æ€§è´¨.</p>
<p>batch norm æ˜¯ä¸€ä¸ªæ­£åˆ™åŒ–çš„è§„åˆ™ï¼Œè€Œä¸è¦æŠŠå®ƒå½“åšç›®çš„. ä½†æ˜¯æœ‰æ—¶å€™ï¼Œå®ƒä¼šå¯¹ä½ çš„ç®—æ³•æœ‰é¢å¤–çš„æœŸæœ›å’ŒéæœŸæœ›æ•ˆæœ.</p>
<p>batch norm ä¸€æ¬¡åªèƒ½å¤„ç† ä¸€ä¸ª mini-batch çš„æ•°æ®. å®ƒåœ¨ mini-batch ä¸Šè®¡ç®—æœŸæœ›ä¸æ–¹å·®.</p>
</blockquote>
<h2 id="7-Batch-Norm-at-test-time"><a href="#7-Batch-Norm-at-test-time" class="headerlink" title="7. Batch Norm at test time"></a>7. Batch Norm at test time</h2><p>å‰é¢æåˆ°çš„ batch norm éƒ½æ˜¯åŸºäºè®­ç»ƒé›†çš„ï¼Œä½†æ˜¯åœ¨æµ‹è¯•é›†ä¸Šï¼Œæœ‰æ—¶å€™å¯èƒ½æˆ‘ä»¬çš„æµ‹è¯•æ•°æ®å¾ˆå°‘ï¼Œä¾‹å¦‚åªæœ‰1ä¸ªï¼Œåœ¨è¿™ä¸ªæ—¶å€™è¿›è¡Œå½’ä¸€åŒ–åˆ™æ˜¾å¾—æ²¡å¤šå¤§æ„ä¹‰äº†ã€‚é‚£ä¹ˆè¯¥æ€ä¹ˆåŠå‘¢ï¼Ÿå‡å€¼$Î¼$ å’Œ æ–¹å·®$Ïƒ^2$è¯¥å¦‚ä½•ç¡®å®šå‘¢ï¼Ÿ</p>
<blockquote>
<p>æ–¹æ³•è¿˜æ˜¯æœ‰çš„ï¼Œè€Œä¸”å·²ç»åœ¨ä¸Šé¢æåˆ°è¿‡äº†, å°±æ˜¯ç¬¬ä¸‰èŠ‚æ‰€ä»‹ç»çš„<strong>æŒ‡æ•°åŠ æƒå¹³å‡</strong>å•¦ï¼ŒåŸç†æ˜¯ç±»ä¼¼çš„</p>
</blockquote>
<p>å‡è®¾ä¸€å…±æœ‰å¦‚ä¸‹ $x^1,x^2,â€¦â€¦,x^5000$ çš„æ‰¹é‡æ•°æ®ï¼Œæ¯ç»„mini-batch éƒ½å¾—åˆ°äº†å¯¹åº”çš„å‡å€¼$Î¼$, (æ–¹å·®åŒç†ï¼Œä¸è¯¦ç»†è¯´æ˜äº†)ï¼Œå³ $Î¼^1,Î¼^2,â€¦â€¦,Î¼^5000$, å¦‚æœæµ‹è¯•é›†æ•°æ®å¾ˆå°‘ï¼Œé‚£ä¹ˆå°±å¯ä»¥ä½¿ç”¨æŒ‡æ•°åŠ æƒå¹³å‡çš„æ–¹æ³•æ¥å¾—åˆ°æµ‹è¯•é›†çš„å‡å€¼å’Œæ–¹å·®ã€‚</p>
<p>ä¹‹åå°±æ ¹æ®<strong>æŒ‡æ•°åŠ æƒå¹³å‡</strong>è®¡ç®—å¾—åˆ°çš„å€¼æ¥è®¡ç®—å½’ä¸€åŒ–åçš„è¾“å…¥å€¼å³å¯.</p>
<p><img src="/images/deeplearning/C2W3-8_1.png" width="750"></p>
<blockquote>
<p><strong>Andrew Ng è¯­å½•:</strong></p>
<p>å¦‚æœå°†ä½ çš„ç¥ç»ç½‘ç»œç”¨äº<strong>æµ‹è¯•</strong>ï¼Œä½ éœ€è¦å•ç‹¬ä¼°ç®— $Î¼$ å’Œ $Ïƒ^2$, åœ¨å…¸å‹çš„ Batch å½’ä¸€åŒ–è¿ç”¨ä¸­ï¼Œä½ éœ€è¦ç”¨ä¸€ä¸ªæŒ‡æ•°åŠ æƒå¹³å‡æ¥ä¼°ç®—ï¼Œæ•´ä¸ªå¹³å‡æ•°è¦†ç›–äº†æ‰€æœ‰çš„ mini-batch .</p>
<p>$$<br>z^{(i)}_{norm}=\frac{z^{(i)}-Î¼}{\sqrt{Ïƒ^2+Îµ}}<br>$$</p>
<p>ä¸Šä¸ªå¼å­ $z^{(i)}_{norm}$ ä¸­çš„ï¼Œ$Î¼$, $Ïƒ^2$ æ˜¯ç±»ä¼¼åŠ æƒå¹³å‡å‡ºæ¥çš„å€¼.</p>
<p>æ³¨æ„ï¼šæµ‹è¯•é›†çš„å‡å€¼å’Œæ–¹å·®ç”Ÿæˆçš„æ–¹å¼ä¸ä¸€å®šéå¾—æ˜¯ä¸Šé¢æåˆ°çš„æŒ‡æ•°åŠ æƒå¹³å‡ï¼Œä¹Ÿå¯ä»¥æ˜¯ç®€å•ç²—æš´çš„è®¡ç®—æ‰€æœ‰è®­ç»ƒé›†çš„å‡å€¼å’Œæ–¹å·®ï¼Œè§†é¢‘ä¸­ Andrew Ng è¯´è¿™ä¹Ÿæ˜¯å¯è¡Œçš„.</p>
</blockquote>
<h2 id="8-Softmax-regression"><a href="#8-Softmax-regression" class="headerlink" title="8. Softmax regression"></a>8. Softmax regression</h2><p><img src="/images/deeplearning/C2W3-9_1.png" width="750"></p>
<p>å‡è®¾ç¬¬ $l$ å±‚æœ‰ $z^{[l]}=w^{[l]}a^{[l-1]}+b^{[l]}$, æ¿€æ´»å‡½æ•°ä¸º $a^{[l]}=\frac{e^{z^{[l]}}}{\sum_{j=1}^{n_l}e^{z^{[l]}_j}}$</p>
<p>è¯¥èŠ‚è§†é¢‘ä¸­ Andrew Ng å¹¶æ²¡æœ‰å¾ˆè¯¦ç»†çš„ä»‹ç» softmax çš„åŸç†å’Œå…¬å¼æ¨å¯¼ï¼Œæ„Ÿå…´è¶£çš„å¯ä»¥æˆ³å¦‚ä¸‹é“¾æ¥è¿›è¡Œè¿›ä¸€æ­¥äº†è§£ï¼š</p>
<ul>
<li><a href="http://ufldl.stanford.edu/wiki/index.php/Softmaxå›å½’" target="_blank" rel="external">ufldl: Softmax å›å½’</a></li>
<li><a href="https://zhuanlan.zhihu.com/p/21485970" target="_blank" rel="external">softmax å…¬å¼æ¨å¯¼&amp;ç®—æ³•å®ç°</a></li>
</ul>
<h2 id="9-Trying-a-softmax-classifier"><a href="#9-Trying-a-softmax-classifier" class="headerlink" title="9. Trying a softmax classifier"></a>9. Trying a softmax classifier</h2><blockquote>
<p><a href="http://www.cnblogs.com/marsggbo/p/7467347.html" target="_blank" rel="external">è½¬è½½: å…·ä½“å®è·µé¡¹ç›®å¯å‚è§softmaxåˆ†ç±»ç®—æ³•åŸç†(ç”¨pythonå®ç°)</a></p>
<p>ä¸Šé¢çš„è½¬è½½å®ç° softmax éœ€è¦å†ä»”ç»†ç ”ç©¶.</p>
</blockquote>
<h2 id="10-Deep-learning-frameworks"><a href="#10-Deep-learning-frameworks" class="headerlink" title="10. Deep learning frameworks"></a>10. Deep learning frameworks</h2><p><img src="/images/deeplearning/C2W3-9_1.png" width="750"></p>
<h2 id="11-TensorFlow-Example"><a href="#11-TensorFlow-Example" class="headerlink" title="11. TensorFlow Example"></a>11. TensorFlow Example</h2><p>Andrew Ng æ¼”ç¤ºäº† TensorFlow ä½¿ç”¨æ–¹æ³•.</p>
<blockquote>
<p>æˆ‘æ¨èä¸€ä¸ªæ¯”è¾ƒå¥½çš„ TensorFlow çš„ç»ƒæ‰‹é¡¹ç›®ï¼š<a href="https://github.com/aymericdamien/TensorFlow-Examples" target="_blank" rel="external">TensorFlow Example</a></p>
</blockquote>
<h2 id="12-Reference"><a href="#12-Reference" class="headerlink" title="12. Reference"></a>12. Reference</h2><ul>
<li><a href="https://study.163.com/my#/smarts" target="_blank" rel="external">ç½‘æ˜“äº‘è¯¾å ‚ - deeplearning</a></li>
<li><a href="https://daniellaah.github.io/2017/deeplearning-ai-Improving-Deep-Neural-Networks-week1.html" target="_blank" rel="external">deeplearning.ai ä¸“é¡¹è¯¾ç¨‹äºŒç¬¬ä¸€å‘¨</a></li>
<li><a href="https://www.coursera.org/specializations/deep-learning" target="_blank" rel="external">Coursera - Deep Learning Specialization</a></li>
<li><a href="http://www.cnblogs.com/marsggbo/p/7470989.html" target="_blank" rel="external">DeepLearning.aiå­¦ä¹ ç¬”è®°æ±‡æ€»</a></li>
<li><a href="https://github.com/aymericdamien/TensorFlow-Examples" target="_blank" rel="external">TensorFlow-Examples</a></li>
<li><a href="https://github.com/fengdu78/deeplearning_ai_books" target="_blank" rel="external">å´æ©è¾¾è€å¸ˆçš„æ·±åº¦å­¦ä¹ è¯¾ç¨‹ç¬”è®°åŠèµ„æº</a></li>
</ul>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[Improving Deep Neural Networks (week2) - Optimization Algorithm]]></title>
      <url>http://iequa.com/2018/07/21/deeplearning-ai-Improving-Deep-Neural-Networks-week2/</url>
      <content type="html"><![CDATA[<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js"],
    jax: ["input/TeX"],
    tex2jax: {
      inlineMath: [ ['$','$'], ['\\(','\\)'] ],
      displayMath: [ ['$$','$$']],
      processEscapes: true
    }
  });
</script>
<script type="text/javascript" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS_HTML,http://myserver.com/MathJax/config/local/local.js">
</script>

<p>Mini-batchã€æŒ‡æ•°åŠ æƒå¹³å‡-åå·®ä¿®æ­£ã€Momentumã€RMSpropã€Adamã€å­¦ä¹ ç‡è¡°å‡ã€å±€éƒ¨æœ€ä¼˜</p>
<p>è¿™èŠ‚è¯¾æ¯ä¸€èŠ‚çš„çŸ¥è¯†ç‚¹éƒ½å¾ˆé‡è¦ï¼Œæ‰€ä»¥æœ¬æ¬¡ç¬”è®°å‡ ä¹æ¶µç›–äº†å…¨éƒ¨å°è§†é¢‘è¯¾ç¨‹çš„è®°å½•</p>
<a id="more"></a>
<h2 id="1-Mini-batch"><a href="#1-Mini-batch" class="headerlink" title="1. Mini-batch"></a>1. Mini-batch</h2><blockquote>
<p>éšæœºæ¢¯åº¦ä¸‹é™æ³•çš„ä¸€å¤§ç¼ºç‚¹æ˜¯, ä½ ä¼šå¤±å»æ‰€æœ‰å‘é‡åŒ–å¸¦ç»™ä½ çš„åŠ é€Ÿï¼Œå› ä¸ºä¸€æ¬¡æ€§åªå¤„ç†äº†ä¸€ä¸ªæ ·æœ¬ï¼Œè¿™æ ·æ•ˆç‡è¿‡äºä½ä¸‹, æ‰€ä»¥å®è·µä¸­æœ€å¥½ é€‰æ‹©ä¸å¤§ä¸å° çš„ Mini-batch å°ºå¯¸. å®é™…ä¸Šå­¦ä¹ ç‡è¾¾åˆ°æœ€å¿«ï¼Œä½ ä¼šå‘ç°2ä¸ªå¥½å¤„ï¼Œä½ å¾—åˆ°äº†å¤§é‡å‘é‡åŒ–ï¼Œå¦ä¸€æ–¹é¢ ä½ ä¸éœ€è¦ç­‰å¾…æ•´ä¸ªè®­ç»ƒé›†è¢«å¤„ç†å®Œï¼Œä½ å°±å¯ä»¥å¼€å§‹è¿›è¡Œåç»­å·¥ä½œ.</p>
<p>å®ƒä¸ä¼šæ€»æœç€æœ€å°å€¼é è¿‘ï¼Œä½†å®ƒæ¯”éšæœºæ¢¯åº¦ä¸‹é™è¦æ›´æŒç»­åœ°é è¿‘æœ€å°å€¼çš„æ–¹å‘. å®ƒä¹Ÿä¸ä¸€å®šåœ¨å¾ˆå°çš„èŒƒå›´å†…æ”¶æ•›ï¼Œå¦‚å‡ºç°è¿™ä¸ªé—®é¢˜ï¼Œä½ å¯ä»¥å‡å° å­¦ä¹ ç‡.</p>
<p>æ ·æœ¬é›†æ¯”è¾ƒå°ï¼Œå°±æ²¡å¿…è¦ä½¿ç”¨ mini-batch.</p>
<p><strong>ç»éªŒå€¼</strong> ï¼š å¦‚æœ m &lt;= 2000, å¯ä»¥ä½¿ç”¨ batchï¼Œ ä¸ç„¶æ ·æœ¬æ•°ç›® m è¾ƒå¤§ï¼Œä¸€èˆ¬ mini-batch å¤§å°è®¾ç½®ä¸º 64 or 128 or.. or 512..</p>
</blockquote>
<p><strong>ç®—æ³•åˆæ­¥</strong></p>
<blockquote>
<p>å¯¹æ•´ä¸ªè®­ç»ƒé›†è¿›è¡Œæ¢¯åº¦ä¸‹é™æ³•çš„æ—¶å€™ï¼Œæˆ‘ä»¬å¿…é¡»å¤„ç†æ•´ä¸ªè®­ç»ƒæ•°æ®é›†ï¼Œç„¶åæ‰èƒ½è¿›è¡Œä¸€æ­¥æ¢¯åº¦ä¸‹é™ï¼Œå³æ¯ä¸€æ­¥æ¢¯åº¦ä¸‹é™æ³•éœ€è¦å¯¹æ•´ä¸ªè®­ç»ƒé›†è¿›è¡Œä¸€æ¬¡å¤„ç†ï¼Œå¦‚æœè®­ç»ƒæ•°æ®é›†å¾ˆå¤§çš„æ—¶å€™ï¼Œå¦‚æœ‰ 500ä¸‡ æˆ– 5000ä¸‡ çš„è®­ç»ƒæ•°æ®ï¼Œå¤„ç†é€Ÿåº¦å°±ä¼šæ¯”è¾ƒæ…¢ã€‚</p>
<p>ä½†æ˜¯å¦‚æœæ¯æ¬¡å¤„ç†è®­ç»ƒæ•°æ®çš„ä¸€éƒ¨åˆ†å³è¿›è¡Œæ¢¯åº¦ä¸‹é™æ³•ï¼Œåˆ™æˆ‘ä»¬çš„ç®—æ³•é€Ÿåº¦ä¼šæ‰§è¡Œçš„æ›´å¿«ã€‚è€Œå¤„ç†çš„è¿™äº›ä¸€å°éƒ¨åˆ†è®­ç»ƒå­é›†å³ç§°ä¸º Mini-batchã€‚</p>
</blockquote>
<p><img src="/images/deeplearning/C2W2-1_1.png" width="700"></p>
<blockquote>
<p>å¦‚å›¾ï¼Œä»¥ 1000 ä¸ºå•ä½ï¼Œå°†æ•°æ®åˆ’åˆ†ï¼Œä»¤ $x^{\{1\}}=\{x^{(1)},x^{(2)}â€¦â€¦x^{(1000)}\}$, ä¸€èˆ¬ç”¨ $x^{ \{ t \} }$, $y^{ \{t\} }$ è¡¨ç¤ºåˆ’åˆ†åçš„ mini-batch.</p>
<p>æ³¨æ„åŒºåˆ†è¯¥ç³»åˆ—æ•™å­¦è§†é¢‘çš„ç¬¦å·æ ‡è®°ï¼š</p>
<ul>
<li>å°æ‹¬å·() è¡¨ç¤ºå…·ä½“çš„æŸä¸€ä¸ªå…ƒç´ ï¼ŒæŒ‡ä¸€ä¸ªå…·ä½“çš„å€¼ï¼Œä¾‹å¦‚ $x^{(i)}$</li>
<li>ä¸­æ‹¬å·[] è¡¨ç¤ºç¥ç»ç½‘ç»œä¸­çš„æŸä¸€å±‚, ä¾‹å¦‚ $Z^{[l]}$</li>
<li>å¤§æ‹¬å·{} è¡¨ç¤ºå°†æ•°æ®ç»†åˆ†åçš„ä¸€ä¸ªé›†åˆ, ä¾‹å¦‚ $x^{\{1\}} = \{x^{(1)},x^{(2)}â€¦â€¦x^{(1000)}\}$</li>
</ul>
</blockquote>
<p><strong>ç®—æ³•æ ¸å¿ƒ</strong></p>
<p><img src="/images/deeplearning/C2W2-2_1.png" width="700"></p>
<blockquote>
<p>å‡è®¾æˆ‘ä»¬æœ‰ 5,000,000 ä¸ªæ•°æ®ï¼Œæ¯ 1000 ä½œä¸ºä¸€ä¸ªé›†åˆï¼Œè®¡å…¥ä¸Šé¢æ‰€æåˆ°çš„ $x^{\{1\}}=\{x^{(1)},x^{(2)}â€¦â€¦x^{(5000)}\},â€¦â€¦$</p>
<ol>
<li>éœ€è¦è¿­ä»£è¿è¡Œ 5000æ¬¡ ç¥ç»ç½‘ç»œè¿ç®—.</li>
<li>æ¯ä¸€æ¬¡è¿­ä»£å…¶å®ä¸ä¹‹å‰ç¬”è®°ä¸­æ‰€æåˆ°çš„è®¡ç®—è¿‡ç¨‹ä¸€æ ·ï¼Œé¦–å…ˆæ˜¯å‰å‘ä¼ æ’­ï¼Œä½†æ˜¯æ¯æ¬¡è®¡ç®—çš„æ•°é‡æ˜¯ 1000.</li>
<li>è®¡ç®—æŸå¤±å‡½æ•°ï¼Œå¦‚æœæœ‰ Regularization ï¼Œåˆ™è®°å¾—åŠ ä¸Š Regularization Item</li>
<li>Backward propagation</li>
</ol>
<p>æ³¨æ„ï¼Œmini-batch ç›¸æ¯”äºä¹‹å‰ä¸€æ¬¡æ€§è®¡ç®—æ‰€æœ‰æ•°æ®ä¸ä»…é€Ÿåº¦å¿«ï¼Œè€Œä¸”åå‘ä¼ æ’­éœ€è¦è®¡ç®— 5000æ¬¡ï¼Œæ‰€ä»¥æ•ˆæœä¹Ÿæ›´å¥½.</p>
</blockquote>
<p>epoch</p>
<blockquote>
<ul>
<li>å¯¹äºæ™®é€šçš„æ¢¯åº¦ä¸‹é™æ³•ï¼Œä¸€ä¸ª epoch åªèƒ½è¿›è¡Œä¸€æ¬¡æ¢¯åº¦ä¸‹é™ï¼›</li>
<li>å¯¹äº Mini-batch æ¢¯åº¦ä¸‹é™æ³•ï¼Œä¸€ä¸ª epoch å¯ä»¥è¿›è¡Œ Mini-batch çš„ä¸ªæ•°æ¬¡æ¢¯åº¦ä¸‹é™;</li>
</ul>
<p><strong>epoch</strong> : å½“ä¸€ä¸ª<code>å®Œæ•´çš„æ•°æ®é›†</code>é€šè¿‡äº†ç¥ç»ç½‘ç»œä¸€æ¬¡å¹¶ä¸”è¿”å›äº†ä¸€æ¬¡ï¼Œè¿™ä¸ªè¿‡ç¨‹ç§°ä¸ºä¸€ä¸ª epochã€‚</p>
<p>æ¯”å¦‚å¯¹äºä¸€ä¸ªæœ‰ 2000 ä¸ªè®­ç»ƒæ ·æœ¬çš„æ•°æ®é›†ã€‚å°† 2000 ä¸ªæ ·æœ¬åˆ†æˆå¤§å°ä¸º 500 çš„ batchï¼Œé‚£ä¹ˆå®Œæˆä¸€ä¸ª epoch éœ€è¦ 4 ä¸ª iterationã€‚</p>
</blockquote>
<h3 id="ä¸åŒ-size-å¤§å°çš„æ¯”è¾ƒ"><a href="#ä¸åŒ-size-å¤§å°çš„æ¯”è¾ƒ" class="headerlink" title="ä¸åŒ size å¤§å°çš„æ¯”è¾ƒ"></a>ä¸åŒ size å¤§å°çš„æ¯”è¾ƒ</h3><p>æ™®é€šçš„ batch æ¢¯åº¦ä¸‹é™æ³• å’Œ Mini-batchæ¢¯åº¦ä¸‹é™æ³• ä»£ä»·å‡½æ•°çš„å˜åŒ–è¶‹åŠ¿ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºï¼š</p>
<p><img src="/images/deeplearning/C2W2-3_1.png" width="700"></p>
<p><strong>Batchæ¢¯åº¦ä¸‹é™</strong> ï¼ˆå¦‚ä¸‹å›¾ä¸­è“è‰²ï¼‰:</p>
<blockquote>
<ul>
<li>å¯¹æ‰€æœ‰ m ä¸ªè®­ç»ƒæ ·æœ¬æ‰§è¡Œä¸€æ¬¡æ¢¯åº¦ä¸‹é™ï¼Œæ¯ä¸€æ¬¡è¿­ä»£æ—¶é—´è¾ƒé•¿ï¼›</li>
<li>Cost function æ€»æ˜¯å‘å‡å°çš„æ–¹å‘ä¸‹é™ã€‚</li>
</ul>
<p>è¯´æ˜: mini-batch size = mï¼Œæ­¤æ—¶å³ä¸º Batch gradient descent $(x^,y^)=(X,Y)$</p>
</blockquote>
<p><strong>éšæœºæ¢¯åº¦ä¸‹é™</strong> ï¼ˆå¦‚ä¸‹å›¾ä¸­ç´«è‰²ï¼‰:</p>
<blockquote>
<p>-å¯¹æ¯ä¸€ä¸ªè®­ç»ƒæ ·æœ¬æ‰§è¡Œä¸€æ¬¡æ¢¯åº¦ä¸‹é™ï¼Œä½†æ˜¯ä¸¢å¤±äº†å‘é‡åŒ–å¸¦æ¥çš„è®¡ç®—åŠ é€Ÿï¼›</p>
<ul>
<li>Cost function æ€»ä½“çš„è¶‹åŠ¿å‘æœ€å°å€¼çš„æ–¹å‘ä¸‹é™ï¼Œä½†æ˜¯æ— æ³•åˆ°è¾¾å…¨å±€æœ€å°å€¼ç‚¹ï¼Œå‘ˆç°æ³¢åŠ¨çš„å½¢å¼.</li>
</ul>
<p>è¯´æ˜: mini-batch size = 1ï¼Œæ­¤æ—¶å³ä¸º Stochastic gradient descent $(x^{\{t\}},y^{\{t\}})=(x^{(i)},y^{(i)})$</p>
</blockquote>
<p><strong>Mini-batchæ¢¯åº¦ä¸‹é™</strong> ï¼ˆå¦‚ä¸‹å›¾ä¸­ç»¿è‰²ï¼‰:</p>
<blockquote>
<ul>
<li>é€‰ä¸€ä¸ª $1&lt;size&lt;m$ çš„åˆé€‚çš„ size è¿›è¡Œ Mini-batch æ¢¯åº¦ä¸‹é™ï¼Œå¯å®ç°å¿«é€Ÿå­¦ä¹ ï¼Œä¹Ÿåº”ç”¨äº†å‘é‡åŒ–å¸¦æ¥çš„å¥½å¤„</li>
<li>Cost function çš„ä¸‹é™å¤„äºå‰ä¸¤è€…ä¹‹é—´</li>
</ul>
</blockquote>
<p><img src="/images/deeplearning/C2W2-4_1.png" width="700"></p>
<h3 id="Mini-batch-å¤§å°çš„é€‰æ‹©"><a href="#Mini-batch-å¤§å°çš„é€‰æ‹©" class="headerlink" title="Mini-batch å¤§å°çš„é€‰æ‹©"></a>Mini-batch å¤§å°çš„é€‰æ‹©</h3><blockquote>
<ul>
<li>å¦‚æœè®­ç»ƒæ ·æœ¬çš„å¤§å°æ¯”è¾ƒå°æ—¶ï¼Œå¦‚ $mâ©½2000$ æ—¶ â€” é€‰æ‹© batch æ¢¯åº¦ä¸‹é™æ³•ï¼›</li>
<li>å¦‚æœè®­ç»ƒæ ·æœ¬çš„å¤§å°æ¯”è¾ƒå¤§æ—¶ï¼Œå…¸å‹çš„å¤§å°ä¸ºï¼š$2^{6}ã€2^{7}ã€\cdotsã€2^{10}$</li>
<li>Mini-batch çš„å¤§å°è¦ç¬¦åˆ CPU/GPU å†…å­˜ï¼Œ è¿ç®—èµ·æ¥ä¼šæ›´å¿«ä¸€äº›.</li>
</ul>
</blockquote>
<h2 id="2-Exponentially-weighted-averages"><a href="#2-Exponentially-weighted-averages" class="headerlink" title="2. Exponentially weighted averages"></a>2. Exponentially weighted averages</h2><p>ä¸ºäº†ç†è§£åé¢ä¼šæåˆ°çš„å„ç§ä¼˜åŒ–ç®—æ³•ï¼Œæˆ‘ä»¬éœ€è¦ç”¨åˆ°æŒ‡æ•°åŠ æƒå¹³å‡ï¼Œåœ¨ç»Ÿè®¡å­¦ä¸­ä¹Ÿå«åšæŒ‡æ•°åŠ æƒç§»åŠ¨å¹³å‡.</p>
<p>æŒ‡æ•°åŠ æƒå¹³å‡çš„å…³é”®å‡½æ•°ï¼š </p>
<p>$$<br>v_{t} = \beta v_{t-1}+(1-\beta)\theta_{t}<br>$$</p>
<p>é¦–å…ˆæˆ‘ä»¬å‡è®¾æœ‰ä¸€å¹´çš„æ¸©åº¦æ•°æ®ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤º</p>
<p><img src="/images/deeplearning/C2W2-5_0.jpg" width="500"></p>
<p>æˆ‘ä»¬ç°åœ¨éœ€è¦è®¡ç®—å‡ºä¸€ä¸ªæ¸©åº¦è¶‹åŠ¿æ›²çº¿ï¼Œè®¡ç®—æ–¹æ³•(<code>æŒ‡æ•°åŠ æƒå¹³å‡å®ç°</code>)å¦‚ä¸‹ï¼š</p>
<p>$$<br>v_{0} =0 \\<br>v_{1}= \beta v_{0}+(1-\beta)\theta_{1} \\<br>v_{2}= \beta v_{1}+(1-\beta)\theta_{2} \\<br>v_{3}= \beta v_{2}+(1-\beta)\theta_{3} \\<br>\ldots<br>$$</p>
<blockquote>
<p>ä¸Šé¢çš„ $Î¸_t$ è¡¨ç¤ºç¬¬ $t$ å¤©çš„æ¸©åº¦ï¼ŒÎ² æ˜¯å¯è°ƒèŠ‚çš„å‚æ•°ï¼Œ$V_t$ è¡¨ç¤º $\frac{1}{1-Î²}$ å¤©çš„æ¯æ—¥æ¸©åº¦</p>
</blockquote>
<!--ä¸‹å›¾æ˜¯ä¸€ä¸ªå…³äºå¤©æ•°å’Œæ¸©åº¦çš„æ•£ç‚¹å›¾ï¼š
<img src="/images/deeplearning/C2W2-5_1.png" width="600" />
-->
<h3 id="å½“-Î²-0-9ã€0-98ã€0-5-çš„æƒ…å†µ"><a href="#å½“-Î²-0-9ã€0-98ã€0-5-çš„æƒ…å†µ" class="headerlink" title="å½“ Î²=0.9ã€0.98ã€0.5 çš„æƒ…å†µ"></a>å½“ Î²=0.9ã€0.98ã€0.5 çš„æƒ…å†µ</h3><p>å½“ Î²=0.9 æ—¶ï¼ŒæŒ‡æ•°åŠ æƒå¹³å‡æœ€åçš„ç»“æœå¦‚ä¸‹å›¾ä¸­<strong>çº¢è‰²</strong>çº¿æ‰€ç¤ºï¼›</p>
<p><img src="/images/deeplearning/C2W2-5_2.jpg" width="600"></p>
<p>å½“ Î²=0.98 æ—¶ï¼ŒæŒ‡æ•°åŠ æƒå¹³å‡æœ€åçš„ç»“æœå¦‚ä¸‹å›¾ä¸­<strong>ç»¿è‰²</strong>çº¿æ‰€ç¤º, ç»¿çº¿ç›¸æ¯”è¾ƒçº¢çº¿è¦å¹³æ»‘ä¸€äº›ï¼Œæ˜¯å› ä¸ºå¯¹è¿‡å»æ¸©åº¦çš„æƒé‡æ›´å¤§ï¼Œæ‰€ä»¥å½“å¤©å¤©æ°”æ¸©åº¦çš„å½±å“é™ä½ï¼Œåœ¨æ¸©åº¦å˜åŒ–æ—¶ï¼Œé€‚åº”å¾—æ›´ç¼“æ…¢ä¸€äº›ï¼›</p>
<p><img src="/images/deeplearning/C2W2-5_3.jpg" width="600"></p>
<p>å½“ Î²=0.5 æ—¶ï¼ŒæŒ‡æ•°åŠ æƒå¹³å‡æœ€åçš„ç»“æœå¦‚ä¸‹å›¾ä¸­<strong>é»„è‰²</strong>çº¿æ‰€ç¤ºï¼›</p>
<p><img src="/images/deeplearning/C2W2-5_4.jpg" width="600"></p>
<!--<img src="/images/deeplearning/C2W2-6_1.png" width="700" />
-->
<blockquote>
<p> Notes: The most common value for $\beta$ is 0.9.</p>
</blockquote>
<h3 id="ç†è§£æŒ‡æ•°åŠ æƒå¹³å‡"><a href="#ç†è§£æŒ‡æ•°åŠ æƒå¹³å‡" class="headerlink" title="ç†è§£æŒ‡æ•°åŠ æƒå¹³å‡"></a>ç†è§£æŒ‡æ•°åŠ æƒå¹³å‡</h3><p>ä¾‹å­ï¼Œå½“ Î²=0.9 æ—¶ï¼š </p>
<p>$$<br>v_{100} = 0.9v_{99}+0.1\theta_{100} \\ v_{99} = 0.9v_{98}+0.1\theta_{99} \\ v_{98} = 0.9v_{97}+0.1\theta_{98} \\<br>\ldots<br>$$</p>
<p>å±•å¼€ï¼š</p>
<p>$$<br>v_{100}=0.1\theta_{100}+0.9(0.1\theta_{99}+0.9(0.1\theta_{98}+0.9v_{97})) \\ v_{100}=0.1\theta_{100}+0.1\times0.9\theta_{99}+0.1\times(0.9)^{2}\theta_{98}+0.1\times(0.9)^{3}\theta_{97}+\cdots<br>$$</p>
<p>ä¸Šå¼ä¸­æ‰€æœ‰ $Î¸$ å‰é¢çš„ç³»æ•°ç›¸åŠ èµ·æ¥ä¸º 1 æˆ–è€… æ¥è¿‘äº 1ï¼Œç§°ä¹‹ä¸ºåå·®ä¿®æ­£.</p>
<blockquote>
<p>æ€»ä½“æ¥è¯´å­˜åœ¨ï¼Œ$(1-\varepsilon)^{1/\varepsilon}=\dfrac{1}{e}$, åœ¨æˆ‘ä»¬çš„ä¾‹å­ä¸­ï¼Œ$1-\varepsilon=\beta=0.9$, å³ $0.9^{10}\approx 0.35\approx\dfrac{1}{e}$ . ç›¸å½“äºå¤§çº¦10å¤©åï¼Œç³»æ•°çš„å³°å€¼ï¼ˆè¿™é‡Œæ˜¯0.1ï¼‰ä¸‹é™åˆ°åŸæ¥çš„ $\dfrac{1}{e}$ï¼Œåªå…³æ³¨äº†è¿‡å»10å¤©çš„å¤©æ°”.</p>
</blockquote>
<h3 id="æŒ‡æ•°åŠ æƒå¹³å‡çš„åå·®ä¿®æ­£-Bias-correction"><a href="#æŒ‡æ•°åŠ æƒå¹³å‡çš„åå·®ä¿®æ­£-Bias-correction" class="headerlink" title="æŒ‡æ•°åŠ æƒå¹³å‡çš„åå·®ä¿®æ­£ Bias correction"></a>æŒ‡æ•°åŠ æƒå¹³å‡çš„åå·®ä¿®æ­£ Bias correction</h3><p>åœ¨æˆ‘ä»¬æ‰§è¡ŒæŒ‡æ•°åŠ æƒå¹³å‡çš„å…¬å¼æ—¶ï¼Œå½“ Î²=0.98 æ—¶ï¼Œå¾—åˆ°çš„å¹¶ä¸æ˜¯å›¾ä¸­çš„<strong>ç»¿è‰²</strong>æ›²çº¿ï¼Œè€Œæ˜¯ä¸‹å›¾ä¸­çš„<strong>ç´«è‰²</strong>æ›²çº¿ï¼Œå…¶èµ·ç‚¹æ¯”è¾ƒä½ã€‚</p>
<p><img src="/images/deeplearning/C2W2-7.png" width="650"></p>
<p><strong>åŸå› </strong>ï¼š </p>
<blockquote>
<p>$$<br>v_{0}=0\\v_{1}=0.98v_{0}+0.02\theta_{1}=0.02\theta_{1}\\v_{2}=0.98v_{1}+0.02\theta_{2}=0.98\times0.02\theta_{1}+0.02\theta_{2}=0.0196\theta_{1}+0.02\theta_{2}<br>$$</p>
<p>å¦‚æœç¬¬ä¸€å¤©çš„å€¼ä¸ºå¦‚40ï¼Œåˆ™å¾—åˆ°çš„ v1=0.02Ã—40=0.8ï¼Œåˆ™å¾—åˆ°çš„å€¼è¦è¿œå°äºå®é™…å€¼ï¼Œåé¢å‡ å¤©çš„æƒ…å†µä¹Ÿä¼šç”±äºåˆå€¼å¼•èµ·çš„å½±å“ï¼Œå‡ä½äºå®é™…å‡å€¼.</p>
</blockquote>
<p><strong>åå·®ä¿®æ­£</strong>ï¼š </p>
<blockquote>
<p>ä½¿ç”¨ $\dfrac{v_{t}}{1-\beta^{t}}$</p>
<ul>
<li>å½“ t=2 æ—¶ï¼š</li>
</ul>
<p>$$<br>1-\beta^{t}=1-(0.98)^{2}=0.0396<br>$$</p>
<p>$$<br>\dfrac{v_{2}}{0.0396}=\dfrac{0.0196\theta_{1}+0.02\theta_{2}}{0.0396}<br>$$</p>
<p>åå·®ä¿®æ­£å¾—åˆ°äº†ç»¿è‰²çš„æ›²çº¿ï¼Œåœ¨å¼€å§‹çš„æ—¶å€™ï¼Œèƒ½å¤Ÿå¾—åˆ°æ¯”ç´«è‰²æ›²çº¿æ›´å¥½çš„è®¡ç®—å¹³å‡çš„æ•ˆæœã€‚éšç€ t é€æ¸å¢å¤§ï¼Œ$\beta^{t}$ æ¥è¿‘äº 0ï¼Œæ‰€ä»¥åé¢ç»¿è‰²çš„æ›²çº¿å’Œç´«è‰²çš„æ›²çº¿é€æ¸é‡åˆäº†.</p>
<p>è™½ç„¶å­˜åœ¨è¿™ç§é—®é¢˜ï¼Œä½†æ˜¯åœ¨å®é™…è¿‡ç¨‹ä¸­ï¼Œä¸€èˆ¬ä¼šå¿½ç•¥å‰æœŸå‡å€¼åå·®çš„å½±å“</p>
</blockquote>
<p><strong>åå·®ä¿®æ­£ ä¸¾ä¸ªğŸŒ°, ä»¥ä¾¿äºå¤§å®¶ç†è§£:</strong></p>
<blockquote>
<p>é¦–å…ˆæˆ‘ä»¬å‡è®¾çš„æ˜¯ $Î²=0.98, V_0=0$, ç„¶åç”± $V_t=Î²V_{t-1}+(1-Î²)Î¸_t$ å¯çŸ¥</p>
<ul>
<li><p>$V_1=0.98V_0+0.02Î¸_1=0.02Î¸_1$</p>
</li>
<li><p>$V_2=0.98V_1+0.02Î¸_2=0.0196Î¸_1+0.02Î¸_2$</p>
</li>
</ul>
<p>å½“è¿›è¡ŒæŒ‡æ•°åŠ æƒå¹³å‡è®¡ç®—æ—¶ï¼Œç¬¬ä¸€ä¸ªå€¼ $v_0$ è¢«åˆå§‹åŒ–ä¸º 0ï¼Œè¿™æ ·å°†åœ¨å‰æœŸçš„è¿ç®—ç”¨äº§ç”Ÿä¸€å®šçš„åå·®ã€‚ä¸ºäº†çŸ«æ­£åå·®ï¼Œéœ€è¦åœ¨æ¯ä¸€æ¬¡è¿­ä»£åè¿›è¡Œåå·®ä¿®æ­£ï¼ˆBias Correctionï¼‰</p>
<p>å‡è®¾ $Î¸_1=40â„ƒ$,é‚£ä¹ˆ $V_1=0.02*40=0.8â„ƒ$ï¼Œè¿™æ˜¾ç„¶ç›¸å·®å¤ªå¤§ï¼ŒåŒç†å¯¹äºåé¢çš„æ¸©åº¦çš„è®¡ç®—ä¹Ÿåªä¼šæ˜¯å˜å·®è¶Šæ¥è¶Šå¤§. æ‰€ä»¥æˆ‘ä»¬éœ€è¦è¿›è¡Œåå·®ä¿®æ­£ï¼Œå…·ä½“æ–¹æ³•å¦‚ä¸‹ï¼š</p>
<p>$$<br>V_t=\frac{Î²V_{t-1}+(1-Î²)Î¸_t}{1-Î²^t}<br>$$</p>
<p>æ³¨æ„ ï¼šï¼ï¼ï¼ä¸Šé¢å…¬å¼ä¸­çš„ $V_{t-1}$ æ˜¯æœªä¿®æ­£çš„å€¼.</p>
<p>ä¸ºæ–¹ä¾¿è¯´æ˜ï¼Œä»¤ $Î²=0.98,Î¸_1=40â„ƒ,Î¸_2=39â„ƒ$, åˆ™</p>
<ul>
<li>å½“ $t=1,Î¸_1=40â„ƒ$ æ—¶ï¼Œ$V_1=\frac{0.02*40}{1-0.98}=40$ ,å“‡å“¦, æœ‰æ²¡æœ‰å¾ˆå·§çš„æ„Ÿè§‰ï¼Œå†çœ‹</li>
<li>å½“ $t=2,Î¸_2=39â„ƒ$ æ—¶ï¼Œ$V_2 = \frac{0.98*V_{t-1} + 0.02*Î¸_2}{1-0.98^2}$ $=\frac{0.98*(0 + 0.02*Î¸_1)+0.02*39}{1-0.98^2}=39.49$</li>
</ul>
<p><code>æ³¨æ„ç‚¹</code> : æ‰€ä»¥ï¼Œ<strong>è®°ä½ä½ å¦‚æœç›´æ¥ç”¨ä¿®æ­£åçš„ $V_{tâˆ’1}$ å€¼ä»£å…¥è®¡ç®—å°±å¤§é”™ç‰¹é”™äº†</strong>.</p>
</blockquote>
<h2 id="3-Momentum"><a href="#3-Momentum" class="headerlink" title="3. Momentum"></a>3. Momentum</h2><p>åŠ¨é‡æ¢¯åº¦ä¸‹é™çš„åŸºæœ¬æ€æƒ³å°±æ˜¯<code>è®¡ç®—æ¢¯åº¦çš„æŒ‡æ•°åŠ æƒå¹³å‡æ•°</code>ï¼Œå¹¶åˆ©ç”¨è¯¥æ¢¯åº¦æ¥æ›´æ–°æƒé‡</p>
<h3 id="Momentum-è§£é‡Šç‰ˆ"><a href="#Momentum-è§£é‡Šç‰ˆ" class="headerlink" title="Momentum è§£é‡Šç‰ˆ"></a>Momentum è§£é‡Šç‰ˆ</h3><p>é€šå¸¸æƒ…å†µæˆ‘ä»¬åœ¨è®­ç»ƒæ·±åº¦ç¥ç»ç½‘ç»œçš„æ—¶å€™æŠŠæ•°æ®æ‹†è§£æˆä¸€å°æ‰¹ä¸€å°æ‰¹åœ°è¿›è¡Œè®­ç»ƒï¼Œè¿™å°±æ˜¯æˆ‘ä»¬å¸¸ç”¨çš„ mini-batch SGD è®­ç»ƒç®—æ³•ï¼Œç„¶è€Œè™½ç„¶è¿™ç§ç®—æ³•èƒ½å¤Ÿå¸¦æ¥å¾ˆå¥½çš„è®­ç»ƒé€Ÿåº¦ï¼Œä½†æ˜¯åœ¨åˆ°è¾¾æœ€ä¼˜ç‚¹çš„æ—¶å€™å¹¶ä¸èƒ½å¤Ÿæ€»æ˜¯çœŸæ­£åˆ°è¾¾æœ€ä¼˜ç‚¹ï¼Œè€Œæ˜¯åœ¨æœ€ä¼˜ç‚¹é™„è¿‘å¾˜å¾Šã€‚å¦ä¸€ä¸ªç¼ºç‚¹å°±æ˜¯è¿™ç§ç®—æ³•éœ€è¦æˆ‘ä»¬æŒ‘é€‰ä¸€ä¸ªåˆé€‚çš„å­¦ä¹ ç‡ï¼Œå½“æˆ‘ä»¬é‡‡ç”¨å°çš„å­¦ä¹ ç‡çš„æ—¶å€™ï¼Œä¼šå¯¼è‡´ç½‘ç»œåœ¨è®­ç»ƒçš„æ—¶å€™æ”¶æ•›å¤ªæ…¢ï¼›å½“æˆ‘ä»¬é‡‡ç”¨å¤§çš„å­¦ä¹ ç‡çš„æ—¶å€™ï¼Œä¼šå¯¼è‡´åœ¨è®­ç»ƒè¿‡ç¨‹ä¸­ä¼˜åŒ–çš„å¹…åº¦è·³è¿‡å‡½æ•°çš„èŒƒå›´ï¼Œä¹Ÿå°±æ˜¯å¯èƒ½è·³è¿‡æœ€ä¼˜ç‚¹ã€‚æˆ‘ä»¬æ‰€å¸Œæœ›çš„ä»…ä»…æ˜¯ç½‘ç»œåœ¨ä¼˜åŒ–çš„æ—¶å€™ç½‘ç»œçš„æŸå¤±å‡½æ•°æœ‰ä¸€ä¸ªå¾ˆå¥½çš„æ”¶æ•›é€Ÿåº¦åŒæ—¶åˆä¸è‡³äºæ‘†åŠ¨å¹…åº¦å¤ªå¤§ã€‚</p>
<p>æ‰€ä»¥ Momentum ä¼˜åŒ–å™¨ åˆšå¥½å¯ä»¥è§£å†³æˆ‘ä»¬æ‰€é¢ä¸´çš„é—®é¢˜ï¼Œå®ƒä¸»è¦æ˜¯åŸºäºæ¢¯åº¦çš„ç§»åŠ¨æŒ‡æ•°åŠ æƒå¹³å‡ã€‚å‡è®¾åœ¨å½“å‰çš„è¿­ä»£æ­¥éª¤ç¬¬ t æ­¥ä¸­ï¼Œé‚£ä¹ˆåŸºäº Momentum ä¼˜åŒ–ç®—æ³• å¯ä»¥å†™æˆä¸‹é¢çš„å…¬å¼ï¼š </p>
<p>$$<br>{v_{dw}} = \beta {v_{dw}} + (1 - \beta )dW \\ {v_{db}} = \beta {v_{db}} + (1 - \beta )db \\ W = W - \alpha {v_{dw}} \\ b = b - \alpha {v_{db}}<br>$$</p>
<blockquote>
<p><a href="https://zhuanlan.zhihu.com/p/30743067" target="_blank" rel="external">å¼•ç”¨çŸ¥ä¹æœºå™¨å­¦ä¹ å°èœé¸Ÿçš„æµæ°´è´¦</a> ï¼š</p>
<p>åŠ¨é‡æ¢¯åº¦ä¸‹é™ä¸æ¢¯åº¦ä¸‹é™ç›¸æ¯”ï¼Œå°±æ˜¯å¯¹æ¢¯åº¦ä½¿ç”¨æŒ‡æ•°åŠ æƒå¹³å‡ï¼Œå…¶ä»–çš„éƒ½ä¿å­˜ä¸€è‡´ã€‚</p>
<p>dw ä¸ db è¡¨ç¤ºæœ¬æ¬¡è¿­ä»£çš„æ¢¯åº¦ï¼ŒVdw å’Œ Vdb è¡¨ç¤ºæŒ‡æ•°åŠ æƒå¹³å‡çš„æ¢¯åº¦ã€‚</p>
<p>å¦‚æœä¸ç”¨æŒ‡æ•°åŠ æƒå¹³å‡çš„è¯ï¼Œæ¯æ¬¡è¿­ä»£æ›´æ–°ä½¿ç”¨çš„æ¢¯åº¦éƒ½åªä¸æœ¬æ¬¡è¿­ä»£çš„æ ·æœ¬æœ‰å…³ï¼Œæ¯æ¬¡è¿­ä»£çš„æ ·æœ¬æœ‰å¥½æœ‰åï¼Œä¼šä½¿è¿­ä»£æ¥è¿‘æœ€å°å€¼çš„ä¸æ–­æ³¢åŠ¨ï¼Œå¯¼è‡´ä¸‹é™é€Ÿåº¦æ…¢ã€‚åŠ å…¥æŒ‡æ•°åŠ æƒå¹³å‡åï¼Œæœ¬æ¬¡æ¢¯åº¦å½±å“å‡å°‘ï¼Œæ³¢åŠ¨æƒ…å†µä¹Ÿå°±ä¼šå‡å°ï¼Œç›´è§‚ä¸Šé¢ç†è§£å°±æ˜¯å·¦å³æ³¢åŠ¨æŠµæ¶ˆï¼Œé‚£ä¹ˆä¸‹é™é€Ÿåº¦ä¹Ÿå°±è‡ªç„¶æ›´å¿«ã€‚åŠ¨é‡æ¢¯åº¦ä¸‹é™æ¯”æ¢¯åº¦ä¸‹é™æ”¶æ•›é€Ÿåº¦è¦å¿«ã€‚</p>
<p>ç‰©ç†æ„ä¹‰ç†è§£ï¼šåœ¨ä¸‹é™çš„è¿‡ç¨‹ä¸­ï¼Œ $(1 - \beta )dW$ ç›¸å½“äºåŠ é€Ÿåº¦ï¼Œ $\beta {v_{dw}}$ ç›¸å½“äºæ‘©æ“¦ï¼ŒåŠ é€Ÿåº¦å¯ä»¥æ˜¯ä¸‹é™åŠ å¿«ï¼Œè€Œæ‘©æ“¦ä¸ä¼šè®©åŠ é€Ÿä¸€ç›´è¿›è¡Œä¸‹å»ã€‚ï¼ˆä¸æ˜¯å¾ˆç†è§£ï¼‰</p>
</blockquote>
<hr>
<blockquote>
<p>åœ¨ä¸Šé¢çš„å…¬å¼ä¸­ ${v_{dw}}$ å’Œ ${v_{db}}$ åˆ†åˆ«æ˜¯æŸå¤±å‡½æ•°åœ¨å‰ $tâˆ’1$ è½®è¿­ä»£è¿‡ç¨‹ä¸­ç´¯ç§¯çš„æ¢¯åº¦æ¢¯åº¦åŠ¨é‡ï¼Œ$\beta$ æ˜¯æ¢¯åº¦ç´¯ç§¯çš„ä¸€ä¸ªæŒ‡æ•°ï¼Œè¿™é‡Œæˆ‘ä»¬ä¸€èˆ¬è®¾ç½®å€¼ä¸º 0.9ã€‚æ‰€ä»¥ Momentum ä¼˜åŒ–å™¨ çš„ä¸»è¦æ€æƒ³å°±æ˜¯åˆ©ç”¨äº†ç±»ä¼¼ä¸ç§»åŠ¨æŒ‡æ•°åŠ æƒå¹³å‡çš„æ–¹æ³•æ¥å¯¹ç½‘ç»œçš„å‚æ•°è¿›è¡Œå¹³æ»‘å¤„ç†çš„ï¼Œè®©æ¢¯åº¦çš„æ‘†åŠ¨å¹…åº¦å˜å¾—æ›´å°ã€‚ </p>
<p>dW å’Œ db åˆ†åˆ«æ˜¯æŸå¤±å‡½æ•°åå‘ä¼ æ’­æ—¶å€™æ‰€æ±‚å¾—çš„æ¢¯åº¦ï¼Œä¸‹é¢ä¸¤ä¸ªå…¬å¼æ˜¯ç½‘ç»œæƒé‡å‘é‡å’Œåç½®å‘é‡çš„æ›´æ–°å…¬å¼ï¼ŒÎ± æ˜¯ç½‘ç»œçš„å­¦ä¹ ç‡ã€‚å½“æˆ‘ä»¬ä½¿ç”¨ Momentumä¼˜åŒ–ç®—æ³•çš„æ—¶å€™ï¼Œå¯ä»¥è§£å†³ mini-batch SGD ä¼˜åŒ–ç®—æ³•æ›´æ–°å¹…åº¦æ‘†åŠ¨å¤§çš„é—®é¢˜ï¼ŒåŒæ—¶å¯ä»¥ä½¿å¾—ç½‘ç»œçš„æ”¶æ•›é€Ÿåº¦æ›´å¿«ã€‚</p>
</blockquote>
<h3 id="Momentum-è¯¦ç»†ç‰ˆ"><a href="#Momentum-è¯¦ç»†ç‰ˆ" class="headerlink" title="Momentum è¯¦ç»†ç‰ˆ"></a>Momentum è¯¦ç»†ç‰ˆ</h3><p>åœ¨æˆ‘ä»¬ä¼˜åŒ– Cost function çš„æ—¶å€™ï¼Œä»¥ä¸‹å›¾æ‰€ç¤ºçš„å‡½æ•°å›¾ä¸ºä¾‹ï¼š</p>
<p>é¦–å…ˆä»‹ç»ä¸€ä¸‹ä¸€èˆ¬çš„æ¢¯åº¦ç®—æ³•æ”¶æ•›æƒ…å†µæ˜¯è¿™æ ·çš„</p>
<p><img src="/images/deeplearning/C2W2-8_1.png" width="750"></p>
<blockquote>
<p>å¯ä»¥çœ‹åˆ°ï¼Œåœ¨å‰è¿›çš„é“è·¯ä¸Šååˆ†æ›²æŠ˜ï¼Œèµ°äº†ä¸å°‘å¼¯è·¯ï¼Œåœ¨çºµå‘æˆ‘ä»¬å¸Œæœ›èµ°å¾—æ…¢ä¸€ç‚¹ï¼Œæ¨ªå‘åˆ™å¸Œæœ›èµ°å¾—å¿«ä¸€ç‚¹ï¼Œæ‰€ä»¥æ‰æœ‰äº†åŠ¨é‡æ¢¯åº¦ä¸‹é™ç®—æ³•.</p>
</blockquote>
<p><strong>Momentumç®—æ³•çš„ç¬¬ t æ¬¡è¿­ä»£ï¼š</strong></p>
<blockquote>
<ul>
<li>è®¡ç®—å‡º dw, db</li>
<li>è¿™ä¸ªè®¡ç®—å¼å­ä¸ä¸Šä¸€å±Šæåˆ°çš„æŒ‡æ•°åŠ æƒå¹³å‡æœ‰ç‚¹ç±»ä¼¼ï¼Œå³<br>$ V_{dw}=Î²V_{dw}+(1-Î²)dw \\ V_{db}=Î²V_{db}+(1-Î²)db $</li>
<li>$W=W-Î±V_{dw},b=b-Î±V_{db}$</li>
</ul>
</blockquote>
<p><img src="/images/deeplearning/C2W2-10_1.png" width="600"></p>
<p>æœ€ç»ˆå¾—åˆ°æ”¶æ•›çš„æ•ˆæœå¦‚ä¸‹å›¾çš„çº¢è‰²æ›²çº¿æ‰€ç¤º.</p>
<p><img src="/images/deeplearning/C2W2-9_1.png" width="750"></p>
<p>åœ¨åˆ©ç”¨æ¢¯åº¦ä¸‹é™æ³•æ¥æœ€å°åŒ–è¯¥å‡½æ•°çš„æ—¶å€™ï¼Œæ¯ä¸€æ¬¡è¿­ä»£æ‰€æ›´æ–°çš„ä»£ä»·å‡½æ•°å€¼å¦‚å›¾ä¸­è“è‰²çº¿æ‰€ç¤ºåœ¨ä¸Šä¸‹æ³¢åŠ¨ï¼Œè€Œè¿™ç§å¹…åº¦æ¯”è¾ƒå¤§æ³¢åŠ¨ï¼Œå‡ç¼“äº†æ¢¯åº¦ä¸‹é™çš„é€Ÿåº¦ï¼Œè€Œä¸”æˆ‘ä»¬åªèƒ½ä½¿ç”¨ä¸€ä¸ªè¾ƒå°çš„å­¦ä¹ ç‡æ¥è¿›è¡Œè¿­ä»£.</p>
<p>å¦‚æœç”¨è¾ƒå¤§çš„å­¦ä¹ ç‡ï¼Œç»“æœå¯èƒ½ä¼šå¦‚ç´«è‰²çº¿ä¸€æ ·åç¦»å‡½æ•°çš„èŒƒå›´ï¼Œæ‰€ä»¥ä¸ºäº†é¿å…è¿™ç§æƒ…å†µï¼Œåªèƒ½ç”¨è¾ƒå°çš„å­¦ä¹ ç‡.</p>
<blockquote>
<p>è¯¥ç®—æ³•ä¸­æ¶‰åŠåˆ°çš„è¶…å‚æ•°æœ‰ä¸¤ä¸ªï¼Œåˆ†åˆ«æ˜¯ Î±ï¼ŒÎ²ï¼Œå…¶ä¸­ä¸€èˆ¬ Î²=0.9 æ˜¯æ¯”è¾ƒå¸¸å–çš„å€¼</p>
<ul>
<li>ä¸€èˆ¬å°†å‚æ•°è®¾ä¸º 0.5, 0.9ï¼Œæˆ–è€… 0.99ï¼Œåˆ†åˆ«è¡¨ç¤ºæœ€å¤§é€Ÿåº¦ 2å€ï¼Œ10å€ï¼Œ100å€ äº SGD çš„ç®—æ³•;</li>
<li>é€šè¿‡é€Ÿåº¦vï¼Œæ¥ç§¯ç´¯äº†ä¹‹é—´æ¢¯åº¦æŒ‡æ•°çº§è¡°å‡çš„å¹³å‡ï¼Œå¹¶ä¸”ç»§ç»­å»¶è¯¥æ–¹å‘ç§»åŠ¨;</li>
</ul>
</blockquote>
<p>å†çœ‹çœ‹ç®—æ³•ï¼š </p>
<p><img src="/images/deeplearning/C2W2-11.png" width="700"></p>
<h2 id="4-RMSprop-Root-Mean-Square-Prop"><a href="#4-RMSprop-Root-Mean-Square-Prop" class="headerlink" title="4. RMSprop (Root Mean Square Prop)"></a>4. RMSprop (Root Mean Square Prop)</h2><p>RMSProp ç®—æ³•çš„å…¨ç§°å« Root Mean Square Propï¼Œæ˜¯ Geoffrey E. Hinton åœ¨ Coursera è¯¾ç¨‹ä¸­æå‡ºçš„ä¸€ç§ä¼˜åŒ–ç®—æ³•ï¼Œåœ¨ä¸Šé¢çš„ Momentum ä¼˜åŒ–ç®—æ³•ä¸­ï¼Œè™½ç„¶åˆæ­¥è§£å†³äº†ä¼˜åŒ–ä¸­æ‘†åŠ¨å¹…åº¦å¤§çš„é—®é¢˜ã€‚æ‰€è°“çš„æ‘†åŠ¨å¹…åº¦å°±æ˜¯åœ¨ä¼˜åŒ–ä¸­ç»è¿‡æ›´æ–°ä¹‹åå‚æ•°çš„å˜åŒ–èŒƒå›´ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºï¼Œ<strong>è“è‰²çš„ä¸º Momentum ä¼˜åŒ–ç®—æ³•æ‰€èµ°çš„è·¯çº¿</strong>ï¼Œ<strong>ç»¿è‰²çš„ä¸º RMSProp ä¼˜åŒ–ç®—æ³•æ‰€èµ°çš„è·¯çº¿</strong>ã€‚</p>
<p><img src="/images/deeplearning/C2W2-12_1.png" width="700"></p>
<p>ä¸ºäº†è¿›ä¸€æ­¥ä¼˜åŒ–æŸå¤±å‡½æ•°åœ¨æ›´æ–°ä¸­å­˜åœ¨æ‘†åŠ¨å¹…åº¦è¿‡å¤§çš„é—®é¢˜ï¼Œå¹¶ä¸”è¿›ä¸€æ­¥åŠ å¿«å‡½æ•°çš„æ”¶æ•›é€Ÿåº¦ï¼ŒRMSProp ç®—æ³•å¯¹æƒé‡ W å’Œåç½® b çš„æ¢¯åº¦ä½¿ç”¨äº†å¾®åˆ†å¹³æ–¹åŠ æƒå¹³å‡æ•°ã€‚ </p>
<p>å…¶ä¸­ï¼Œå‡è®¾åœ¨ç¬¬ t è½®è¿­ä»£è¿‡ç¨‹ä¸­ï¼Œå„ä¸ªå…¬å¼å¦‚ä¸‹æ‰€ç¤ºï¼š</p>
<p>$$<br>{s_{dw}} = \beta {s_{dw}} + (1 - \beta )d{W^2} \\<br>{s_{db}} = \beta {s_{db}} + (1 - \beta )d{b^2}<br>$$</p>
<p>$$<br>W = W - \alpha \frac {dW} { \sqrt {s_{dw}} + \varepsilon } \\<br>b = b - \alpha \frac {db} { \sqrt{s_{db}}  + \varepsilon }<br>$$</p>
<blockquote>
<p>è¿™æ ·åšï¼Œèƒ½ç»™ä¿ç•™å¾®åˆ†å¹³æ–¹çš„åŠ æƒå¹³å‡æ•°</p>
<p>ç®—æ³•çš„ä¸»è¦æ€æƒ³å°±ç”¨ä¸Šé¢çš„å…¬å¼è¡¨è¾¾å®Œæ¯•äº†ã€‚åœ¨ä¸Šé¢çš„å…¬å¼ä¸­ ${s_{dw}}$ å’Œ ${s_{db}}$ åˆ†åˆ«æ˜¯æŸå¤±å‡½æ•°åœ¨å‰ tâˆ’1 è½®è¿­ä»£è¿‡ç¨‹ä¸­ç´¯ç§¯çš„æ¢¯åº¦æ¢¯åº¦åŠ¨é‡ï¼ŒÎ² æ˜¯æ¢¯åº¦ç´¯ç§¯çš„ä¸€ä¸ªæŒ‡æ•°ã€‚æ‰€ä¸åŒçš„æ˜¯ï¼ŒRMSProp ç®—æ³•å¯¹æ¢¯åº¦è®¡ç®—äº†<strong>å¾®åˆ†å¹³æ–¹åŠ æƒå¹³å‡æ•°</strong>ã€‚è¿™ç§åšæ³•æœ‰åˆ©äºæ¶ˆé™¤äº†æ‘†åŠ¨å¹…åº¦å¤§çš„æ–¹å‘ï¼Œç”¨æ¥ä¿®æ­£æ‘†åŠ¨å¹…åº¦ï¼Œä½¿å¾—å„ä¸ªç»´åº¦çš„æ‘†åŠ¨å¹…åº¦éƒ½è¾ƒå°ã€‚å¦ä¸€æ–¹é¢ä¹Ÿä½¿å¾—ç½‘ç»œå‡½æ•°æ”¶æ•›æ›´å¿«ã€‚ï¼ˆæ¯”å¦‚å½“ dW æˆ–è€… db ä¸­æœ‰ä¸€ä¸ªå€¼æ¯”è¾ƒå¤§çš„æ—¶å€™ï¼Œé‚£ä¹ˆæˆ‘ä»¬åœ¨æ›´æ–°æƒé‡æˆ–è€…åç½®çš„æ—¶å€™é™¤ä»¥å®ƒä¹‹å‰ç´¯ç§¯çš„æ¢¯åº¦çš„å¹³æ–¹æ ¹ï¼Œè¿™æ ·å°±å¯ä»¥ä½¿å¾—æ›´æ–°å¹…åº¦å˜å°ï¼‰ã€‚ä¸ºäº†é˜²æ­¢åˆ†æ¯ä¸ºé›¶ï¼Œä½¿ç”¨äº†ä¸€ä¸ªå¾ˆå°çš„æ•°å€¼ $\epsilon$ æ¥è¿›è¡Œå¹³æ»‘ï¼Œä¸€èˆ¬å–å€¼ä¸º $10^{-8}$ã€‚</p>
</blockquote>
<h2 id="5-Adam-Adaptive-Moment-Estimation"><a href="#5-Adam-Adaptive-Moment-Estimation" class="headerlink" title="5. Adam (Adaptive Moment Estimation)"></a>5. Adam (Adaptive Moment Estimation)</h2><p>æœ‰äº†ä¸Šé¢ä¸¤ç§ä¼˜åŒ–ç®—æ³•ï¼Œä¸€ç§å¯ä»¥ä½¿ç”¨ç±»ä¼¼äºç‰©ç†ä¸­çš„åŠ¨é‡æ¥ç´¯ç§¯æ¢¯åº¦ï¼Œå¦ä¸€ç§å¯ä»¥ä½¿å¾—æ”¶æ•›é€Ÿåº¦æ›´å¿«åŒæ—¶ä½¿å¾—æ³¢åŠ¨çš„å¹…åº¦æ›´å°ã€‚é‚£ä¹ˆè®²ä¸¤ç§ç®—æ³•ç»“åˆèµ·æ¥æ‰€å–å¾—çš„è¡¨ç°ä¸€å®šä¼šæ›´å¥½ã€‚Adamï¼ˆAdaptive Moment Estimationï¼‰ç®—æ³•æ˜¯å°† Momentumç®—æ³• å’Œ RMSPropç®—æ³• ç»“åˆèµ·æ¥ä½¿ç”¨çš„ä¸€ç§ç®—æ³•ï¼Œæˆ‘ä»¬æ‰€ä½¿ç”¨çš„å‚æ•°åŸºæœ¬å’Œä¸Šé¢è®²çš„ä¸€è‡´ï¼Œåœ¨è®­ç»ƒçš„æœ€å¼€å§‹æˆ‘ä»¬éœ€è¦åˆå§‹åŒ–æ¢¯åº¦çš„ç´¯ç§¯é‡å’Œå¹³æ–¹ç´¯ç§¯é‡ã€‚ </p>
<p>$$<br>{v_{dw}} = 0,{v_{db}} = 0;{s_{dw}} = 0,{s_{db}} = 0<br>$$</p>
<p>å‡è®¾åœ¨è®­ç»ƒçš„ç¬¬ $t$ è½®è®­ç»ƒä¸­ï¼Œæˆ‘ä»¬é¦–å…ˆå¯ä»¥è®¡ç®—å¾—åˆ° Momentum å’Œ RMSProp çš„å‚æ•°æ›´æ–°ï¼š </p>
<p>$$<br>{v_{dw}} = {\beta _1}{v_{dw}} + (1 - {\beta _1})dW \\<br>{v_{db}} = {\beta _1}{v_{db}} + (1 - {\beta _1})db \\<br>{s_{dw}} = {\beta _2}{s_{dw}} + (1 - {\beta _2})d{W^2} \\<br>{s_{db}} = {\beta _2}{s_{db}} + (1 - {\beta _2})d{b^2} \\<br>$$</p>
<p>ç”±äºç§»åŠ¨æŒ‡æ•°å¹³å‡åœ¨è¿­ä»£å¼€å§‹çš„åˆæœŸä¼šå¯¼è‡´å’Œå¼€å§‹çš„å€¼æœ‰è¾ƒå¤§çš„å·®å¼‚ï¼Œæ‰€ä»¥æˆ‘ä»¬éœ€è¦å¯¹ä¸Šé¢æ±‚å¾—çš„å‡ ä¸ªå€¼åšåå·®ä¿®æ­£</p>
<p>$$<br>v_{dw}^c = \frac {v_{dw}} {1 - \beta _1^t} \\<br>v_{db}^c = \frac {v_{db}} {1 - \beta _1^t} \\<br>s_{dw}^c = \frac {s_{dw}} {1 - \beta _2^t} \\<br>s_{db}^c = \frac {s_{db}} {1 - \beta _2^t}<br>$$</p>
<p>é€šè¿‡ä¸Šé¢çš„å…¬å¼ï¼Œæˆ‘ä»¬å°±å¯ä»¥æ±‚å¾—åœ¨ç¬¬ $t$ è½®è¿­ä»£è¿‡ç¨‹ä¸­ï¼Œå‚æ•°æ¢¯åº¦ç´¯ç§¯é‡çš„ä¿®æ­£å€¼ï¼Œä»è€Œæ¥ä¸‹æ¥å°±å¯ä»¥æ ¹æ® Momentum å’Œ RMSProp ç®—æ³•çš„ç»“åˆæ¥å¯¹æƒé‡å’Œåç½®è¿›è¡Œæ›´æ–°.</p>
<p>$$<br>W = W - \alpha \frac {v_{dw}^c} {\sqrt {s_{dw}^c}  + \varepsilon } \\<br>b = b - \alpha \frac {v_{db}^c} {\sqrt {s_{db}^c}  + \varepsilon }<br>$$</p>
<p>ä¸Šé¢çš„æ‰€æœ‰æ­¥éª¤å°±æ˜¯Momentumç®—æ³•å’ŒRMSPropç®—æ³•ç»“åˆèµ·æ¥ä»è€Œå½¢æˆAdamç®—æ³•ã€‚åœ¨Adamç®—æ³•ä¸­ï¼Œå‚æ•° ${\beta_1}$ æ‰€å¯¹åº”çš„å°±æ˜¯Momentumç®—æ³•ä¸­çš„ ${\beta}$ å€¼ï¼Œä¸€èˆ¬å–0.9ï¼Œå‚æ•° ${\beta_2}$ æ‰€å¯¹åº”çš„å°±æ˜¯RMSPropç®—æ³•ä¸­çš„ ${\beta}$ å€¼ï¼Œä¸€èˆ¬æˆ‘ä»¬å–0.999ï¼Œè€Œ $\epsilon$ æ˜¯ä¸€ä¸ªå¹³æ»‘é¡¹ï¼Œæˆ‘ä»¬ä¸€èˆ¬å–å€¼ä¸º ${10^{ - 8}}$ï¼Œè€Œå­¦ä¹ ç‡ $\alpha$ åˆ™éœ€è¦æˆ‘ä»¬åœ¨è®­ç»ƒçš„æ—¶å€™è¿›è¡Œå¾®è°ƒã€‚</p>
<blockquote>
<p>é€šè¿‡ä¸Šé¢çš„ä¸‰ä¸ªç®—æ³•åŸºæœ¬è®²è¿°äº†ç¥ç»ç½‘ç»œä¸­çš„ä¼˜åŒ–å™¨ï¼Œç†è§£äº†è¿™ä¸‰ä¸ªç®—æ³•å…¶ä»–çš„ç®—æ³•ä¹Ÿå°±å¼•åˆƒè€Œè§£äº†.</p>
<p>Adam ä¼˜åŒ–ç®—æ³• æˆ‘ä¼šæ¯«ä¸çŠ¹è±«çš„æ¨èç»™ä½ ï¼Œ å®ƒæ˜¯ Momentum å’Œ RMSprop çš„ç»“åˆ. äº‹å®è¯æ˜ï¼Œå®ƒå…¶å®è§£å†³äº†å¾ˆå¤šé—®é¢˜. </p>
<p>Adam ä¸­çš„è¶…å‚æ•° ${\beta_1}$ ã€${\beta_2}$  ä¸€èˆ¬ä¸éœ€è¦è°ƒæ•´ï¼Œä¸šå†…ç»å¸¸å¾ˆå°‘æœ‰äººä¼šè°ƒæ•´ä»–ä»¬.  $\epsilon$ æ˜¯ä¸€ä¸ªå¹³æ»‘é¡¹ï¼Œä¸€èˆ¬å–å€¼ä¸º ${10^{ - 8}}$, åŸºæœ¬æ›´ä¸éœ€è¦è°ƒæ•´.</p>
</blockquote>
<p>Adaptive Moment Estimation</p>
<blockquote>
<p>${\beta_1}$ ç”¨äºè®¡ç®—è¿™ä¸ªå¾®åˆ† (computing the mean of the derivatives, this is called the first moment).</p>
<p>${\beta_2}$ ç”¨äºè®¡ç®—å¹³æ–¹æ•°çš„æŒ‡æ•°åŠ æƒå¹³å‡æ•° (compute exponentially weighted average of the squares. this is called the second moment)</p>
<p>So that gives rise to the name <code>Adaptive Moment Estimation</code>.</p>
</blockquote>
<h2 id="6-Learning-rate-decay"><a href="#6-Learning-rate-decay" class="headerlink" title="6. Learning rate decay"></a>6. Learning rate decay</h2><p>ä¹‹å‰ç®—æ³•ä¸­æåˆ°çš„å­¦ä¹ ç‡Î±éƒ½æ˜¯ä¸€ä¸ªå¸¸æ•°ï¼Œè¿™æ ·æœ‰å¯èƒ½ä¼šä¸€ä¸ªé—®é¢˜ï¼Œå°±æ˜¯åˆšå¼€å§‹æ”¶æ•›é€Ÿåº¦åˆšåˆšå¥½ï¼Œå¯æ˜¯åœ¨åé¢æ”¶æ•›è¿‡ç¨‹ä¸­å­¦ä¹ ç‡åå¤§ï¼Œå¯¼è‡´ä¸èƒ½å®Œå…¨æ”¶æ•›ï¼Œè€Œæ˜¯åœ¨æœ€ä½ç‚¹æ¥å›æ³¢åŠ¨ã€‚æ‰€ä»¥ä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œéœ€è¦è®©å­¦ä¹ ç‡èƒ½å¤Ÿéšç€è¿­ä»£æ¬¡æ•°çš„å¢åŠ è¿›è¡Œè¡°å‡ï¼Œå¸¸è§çš„è®¡ç®—å…¬å¼æœ‰å¦‚ä¸‹å‡ ç§:</p>
<p>$$<br>Î± = \frac {1} {1+decay_rate*epoch_num} Î±_0<br>$$</p>
<blockquote>
<p>å¯¹æˆ‘è€Œè¨€ï¼Œå­¦ä¹ ç‡è¡°å‡å¹¶ä¸æ˜¯æˆ‘å°è¯•çš„è¦ç‚¹, è®¾ç½®ä¸€ä¸ªå›ºå®šçš„ Î±ï¼Œ ç„¶åå¥½å¥½è°ƒæ•´ï¼Œä¼šæœ‰å¾ˆå¤§å½±å“ï¼Œ å­¦ä¹ ç‡è¡°å‡çš„ç¡®å¤§æœ‰è£¨ç›Š, æœ‰æ—¶å€™å®ƒå¯ä»¥åŠ å¿«è®­ç»ƒ, ä½†è¿™å¹¶ä¸æ˜¯æˆ‘ä¼šç‡å…ˆå°è¯•çš„å†…å®¹. ä¸‹å‘¨æˆ‘ä»¬ä¼šé‡ç‚¹ä»‹ç» å¦‚ä½•ç®¡ç†å’Œé«˜æ•ˆæœç´¢ è¶…å‚æ•°.</p>
<p>For meï¼ŒI would say that learning rate decay usually lower down on the list of things I try. learning rate decay does help. Sometimes it can really help speed up training. it is a little bit lower down my list in terms of the thingsI would try.</p>
</blockquote>
<h2 id="Reference"><a href="#Reference" class="headerlink" title="Reference"></a>Reference</h2><ul>
<li><a href="https://study.163.com/my#/smarts" target="_blank" rel="external">ç½‘æ˜“äº‘è¯¾å ‚ - deeplearning</a></li>
<li><a href="https://blog.csdn.net/u014595019/article/details/52989301" target="_blank" rel="external">æ·±åº¦å­¦ä¹ ç¬”è®°ï¼šä¼˜åŒ–æ–¹æ³•æ€»ç»“(BGD,SGD,Momentum,AdaGrad,RMSProp,Adam)</a></li>
<li><a href="https://blog.csdn.net/BVL10101111/article/details/72614711" target="_blank" rel="external">Deep Learning ä¹‹ æœ€ä¼˜åŒ–æ–¹æ³•</a></li>
<li><a href="https://blog.csdn.net/willduan1/article/details/78070086" target="_blank" rel="external">æ·±åº¦å­¦ä¹ ä¼˜åŒ–ç®—æ³•è§£æ(Momentum, RMSProp, Adam)</a></li>
<li><a href="https://www.jiqizhixin.com/articles/2017-09-25-3" target="_blank" rel="external">æœºå™¨ä¹‹å¿ƒ - ç¥ç»ç½‘ç»œè®­ç»ƒä¸­ï¼Œå‚»å‚»åˆ†ä¸æ¸…Epochã€Batch Sizeå’Œè¿­ä»£</a></li>
</ul>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[Improving Deep Neural Networks (week1) - æ·±åº¦å­¦ä¹ çš„å®ç”¨å±‚é¢]]></title>
      <url>http://iequa.com/2018/07/19/deeplearning-ai-Improving-Deep-Neural-Networks-week1/</url>
      <content type="html"><![CDATA[<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js"],
    jax: ["input/TeX"],
    tex2jax: {
      inlineMath: [ ['$','$'], ['\\(','\\)'] ],
      displayMath: [ ['$$','$$']],
      processEscapes: true
    }
  });
</script>
<script type="text/javascript" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS_HTML,http://myserver.com/MathJax/config/local/local.js">
</script>

<p>è¿™æ¬¡æˆ‘ä»¬è¦å­¦ä¹ ä¸“é¡¹è¯¾ç¨‹ä¸­ç¬¬äºŒé—¨è¯¾ Improving Deep Neural Networks</p>
<p>å­¦å®Œè¿™é—¨è¯¾ä¹‹åï¼Œä½ å°†ä¼š:</p>
<blockquote>
<ul>
<li>èƒ½å¤Ÿé«˜æ•ˆåœ°ä½¿ç”¨ç¥ç»ç½‘ç»œ<strong>é€šç”¨</strong>çš„æŠ€å·§ï¼ŒåŒ…æ‹¬ <code>åˆå§‹åŒ–ã€L2å’Œdropoutæ­£åˆ™åŒ–ã€Batchå½’ä¸€åŒ–ã€æ¢¯åº¦æ£€éªŒ</code>ã€‚</li>
<li>èƒ½å¤Ÿå®ç°å¹¶åº”ç”¨å„ç§<strong>ä¼˜åŒ–</strong>ç®—æ³•ï¼Œä¾‹å¦‚ <code>Mini-batchã€Momentumã€RMSpropã€Adamï¼Œå¹¶æ£€æŸ¥å®ƒä»¬çš„æ”¶æ•›ç¨‹åº¦</code>ã€‚</li>
<li>ç†è§£æ·±åº¦å­¦ä¹ æ—¶ä»£å…³äºå¦‚ä½• <strong>æ„å»ºè®­ç»ƒ/å¼€å‘/æµ‹è¯•é›†</strong> ä»¥åŠ <strong>åå·®/æ–¹å·®åˆ†æ</strong> æœ€æ–°æœ€æœ‰æ•ˆçš„æ–¹æ³•.</li>
<li>èƒ½å¤Ÿç”¨TensorFlowå®ç°ä¸€ä¸ªç¥ç»ç½‘ç»œ</li>
</ul>
</blockquote>
<p>è¿™é—¨è¯¾å°†ä¼šè¯¦å°½åœ°ä»‹ç»æ·±åº¦å­¦ä¹ çš„åŸºæœ¬åŸç†ï¼Œè€Œä¸ä»…ä»…åªè¿›è¡Œç†è®ºæ¦‚è¿°.</p>
<a id="more"></a>
<p>æœ¬å‘¨ä¸»è¦å†…å®¹åŒ…æ‹¬:</p>
<blockquote>
<ol>
<li>Data set partition</li>
<li>Bias / Variance</li>
<li>Regularization</li>
<li>Normalization</li>
<li>Gradient Checking</li>
</ol>
</blockquote>
<h2 id="1-Train-dev-test"><a href="#1-Train-dev-test" class="headerlink" title="1. Train/dev/test"></a>1. Train/dev/test</h2><p>åœ¨ä¸Šä¸€å‘¨çš„å†…å®¹ä¸­, ä»‹ç»äº†ç¥ç»ç½‘ç»œä¸­çš„å¸¸ç”¨ç¬¦å·ä»¥åŠå„ç§å˜é‡çš„ç»´åº¦. ä¸æ¸…æ¥šçš„å¯ä»¥å›é¡¾ä¸Šå‘¨çš„ç¬”è®°å†…å®¹.</p>
<h3 id="1-1-Data-set-partition"><a href="#1-1-Data-set-partition" class="headerlink" title="1.1 Data set partition"></a>1.1 Data set partition</h3><p>åœ¨è®­ç»ƒå®Œä¸€ä¸ªæ¨¡å‹æ—¶, æˆ‘ä»¬éœ€è¦çŸ¥é“è¿™ä¸ªæ¨¡å‹é¢„æµ‹çš„æ•ˆæœ. æ­¤æ—¶å°±éœ€è¦ä¸€ä¸ªé¢å¤–çš„æ•°æ®é›†, æˆ‘ä»¬ç§°ä¸º dev/hold out/validation set, è¿™é‡Œæˆ‘ä»¬å°±ç»Ÿä¸€ç§°ä¹‹ä¸º<code>éªŒè¯é›†</code>. </p>
<blockquote>
<p>å¦‚æœæˆ‘ä»¬éœ€è¦çŸ¥é“æ¨¡å‹æœ€ç»ˆæ•ˆæœçš„æ— åä¼°è®¡, é‚£ä¹ˆæˆ‘ä»¬è¿˜éœ€è¦ä¸€ä¸ªæµ‹è¯•é›†. </p>
<p>åœ¨ä»¥å¾€ä¼ ç»Ÿçš„æœºå™¨å­¦ä¹ ä¸­, æˆ‘ä»¬é€šå¸¸æŒ‰ç…§ 70/30 æ¥æ•°æ®é›†åˆ†ä¸º <code>Train set</code>/<code>Validation set</code>, æˆ–è€…æŒ‰ç…§ 60/20/20 çš„æ¯”ä¾‹åˆ†ä¸º <code>Train/Validation/Test</code>. </p>
<p>ä½†åœ¨ä»Šå¤©æœºå™¨å­¦ä¹ é—®é¢˜ä¸­, æˆ‘ä»¬å¯ç”¨çš„<strong>æ•°æ®é›†çš„é‡çº§éå¸¸å¤§</strong> (ä¾‹å¦‚æœ‰ 100W ä¸ªæ ·æœ¬). è¿™æ—¶æˆ‘ä»¬å°±<strong>ä¸éœ€è¦ç»™éªŒè¯é›†å’Œæµ‹è¯•é›†å¤ªå¤§çš„æ¯”ä¾‹, ä¾‹å¦‚ 98/1/1</strong>.</p>
</blockquote>
<p><img src="/images/deeplearning/C2W1-1_1.png" width="750"></p>
<h3 id="1-2-Data-src-distribution"><a href="#1-2-Data-src-distribution" class="headerlink" title="1.2 Data src distribution"></a>1.2 Data src distribution</h3><p>åœ¨åˆ’åˆ†æ•°æ®é›†ä¸­, æœ‰ä¸€ä¸ªæ¯”è¾ƒå¸¸è§çš„é”™è¯¯å°±æ˜¯ä¸å°å¿ƒä½¿å¾—åœ¨<code>è®­ç»ƒé›†</code>ä¸­çš„æ•°æ®å’Œ<code>éªŒè¯</code>æˆ–<code>æµ‹è¯•</code>é›†ä¸­çš„æ•°æ®æ¥è‡ªäºä¸åŒçš„åˆ†å¸ƒ. ä¾‹å¦‚æˆ‘ä»¬æƒ³è¦åšä¸€ä¸ªçŒ«çš„åˆ†ç±»å™¨, åœ¨åˆ’åˆ†æ•°æ®çš„æ—¶å€™å‘ç°<code>è®­ç»ƒé›†</code>ä¸­çš„å›¾ç‰‡å…¨éƒ½æ˜¯æ¥è‡ªäºç½‘é¡µ, è€Œ<code>éªŒè¯é›†</code>å’Œ<code>æµ‹è¯•é›†</code>ä¸­çš„æ•°æ®å…¨éƒ½æ¥è‡ªäºç”¨æˆ·. è¿™æ˜¯ä¸€ç§å®Œå…¨é”™è¯¯çš„åšæ³•, åœ¨å®é™…ä¸­ä¸€å®šè¦æœç».</p>
<p><img src="/images/deeplearning/C2W1-2_1.png" width="750"></p>
<h2 id="2-Bias-Variance"><a href="#2-Bias-Variance" class="headerlink" title="2. Bias / Variance"></a>2. Bias / Variance</h2><p>å…³äº Bias / Variance ç›¸æ¯”å¤§å®¶éƒ½å¾ˆç†Ÿæ‚‰äº†, åœ¨æœºå™¨å­¦ä¹ çš„è¯¾ç¨‹ä¸­ä¹Ÿå·²ç»å­¦ä¹ åˆ°. ä¸‹é¢ç¥­å‡º Andrew Ng ç»å…¸çš„å›¾ä¾‹è§£é‡Š:</p>
<p><img src="/images/deeplearning/C2W1-3_1.png" width="750"></p>
<p>æˆ‘ä»¬è¯¥å¦‚ä½•å®šä½æ¨¡å‹æ‰€å¤„çš„é—®é¢˜? å¦‚ä¸‹å›¾æ‰€ç¤º, è¿™é‡Œä¸¾äº†å››ä¸­æƒ…å†µä¸‹çš„è®­ç»ƒé›†å’ŒéªŒè¯é›†è¯¯å·®.</p>
<ul>
<li>å½“ è®­ç»ƒè¯¯å·®å¾ˆå°, éªŒè¯è¯¯å·®å¾ˆå¤§æ—¶ ä¸º High Variance</li>
<li>å½“ è®­ç»ƒè¯¯å·® å’Œ éªŒè¯è¯¯å·® æ¥è¿‘ ä¸” éƒ½å¾ˆå¤§ æ—¶ä¸º High Bias</li>
<li>å½“ è®­ç»ƒè¯¯å·®å¾ˆå¤§, éªŒè¯è¯¯å·®æ›´å¤§æ—¶ä¸º High Variance &amp;&amp; High Bias</li>
<li>å½“ è®­ç»ƒè¯¯å·® å’Œ éªŒè¯è¯¯å·®æ¥è¿‘ä¸”éƒ½å¾ˆå°æ—¶ä¸º Low Variance &amp;&amp; Low Bias</li>
</ul>
<p><img src="/images/deeplearning/C2W1-4_1.png" width="750"></p>
<p>å…³äºé«˜æ–¹å·®é«˜åå·®å¯èƒ½æ˜¯ç¬¬ä¸€æ¬¡å¬è¿‡, å¦‚ä¸‹å›¾æ‰€ç¤º, æ•´ä½“ä¸Šæ¨¡å‹å¤„äºé«˜åå·®, ä½†æ˜¯å¯¹äºä¸€äº›å™ªå£°åˆæ‹Ÿåˆåœ°å¾ˆå¥½. æ­¤æ—¶å°±å¤„äºé«˜åå·®é«˜æ–¹å·®çš„çŠ¶æ€.</p>
<p><img src="/images/deeplearning/C2W1-5_1.png" width="750"></p>
<p>å½“æˆ‘ä»¬å­¦ä¼šå®šä½æ¨¡å‹çš„é—®é¢˜å, é‚£ä¹ˆè¯¥æ€æ ·è§£å†³å¯¹åº”çš„é—®é¢˜å‘¢? è§ä¸‹å›¾:</p>
<p><img src="/images/deeplearning/C2W1-6_1.png" width="750"></p>
<blockquote>
<p>è‹¥ <strong>High bias</strong>, æˆ‘ä»¬å¯ä»¥å¢åŠ æ¨¡å‹çš„å¤æ‚åº¦<strong>ä¾‹å¦‚ä½¿ç”¨ä¸€ä¸ªâ€æ›´å¤§â€çš„ç½‘ç»œç»“æ„æˆ–è€…è®­ç»ƒæ›´ä¹…ä¸€ç‚¹</strong>.<br>å¦‚ <strong>High variance</strong>, æˆ‘ä»¬å¯ä»¥æƒ³åŠæ³• <strong>get more data</strong>, æˆ–è€…ä½¿ç”¨æ¥ä¸‹æ¥æˆ‘ä»¬è¦è®²çš„ <code>Regularization</code>.</p>
</blockquote>
<h2 id="3-Regularization"><a href="#3-Regularization" class="headerlink" title="3. Regularization"></a>3. Regularization</h2><p>ä¸ºä»€ä¹ˆæ­£åˆ™åŒ–æ²¡æœ‰åŠ  $\frac{\lambda}{2m} b^2$:</p>
<blockquote>
<p>å› ä¸º $w$ é€šå¸¸æ˜¯ä¸€ä¸ªé«˜ç»´å‚æ•°çŸ¢é‡, å·²ç»å¯ä»¥è¡¨è¾¾ <strong>High bias</strong> çš„é—®é¢˜, $w$ å¯èƒ½å«æœ‰å¾ˆå¤šå‚æ•°ï¼Œæˆ‘ä»¬ä¸å¯èƒ½æ‹Ÿåˆæ‰€æœ‰å‚æ•°, è€Œ $b$ åªæ˜¯å•ä¸ªæ•°å­—, æ‰€ä»¥ $w$ å‡ ä¹è¦†ç›–äº†æ‰€æœ‰å‚æ•°ï¼Œè€Œä¸æ˜¯ $b$, å¦‚æœåŠ äº† $b$ ä¹Ÿæ²¡æœ‰å½±å“ï¼Œå› ä¸º $b$ åªæ˜¯ä¼—å¤šå‚æ•°ä¸­çš„ä¸€ä¸ª.</p>
</blockquote>
<p>å…³äº L1 regularization :</p>
<blockquote>
<p>å¦‚æœç”¨çš„æ˜¯ L1 regularization, then $w$ will end up being sprase ç¨€ç–çš„, ä¹Ÿå°±æ˜¯è¯´ $w$ å‘é‡ä¸­æœ‰å¾ˆå¤š 0. æœ‰äººè¯´è¿™æ ·æœ‰åˆ©äºå‹ç¼©æ¨¡å‹ï¼Œä½†æ˜¯æˆ‘è§‰å¾—ä¸æ˜¯å¾ˆåˆé€‚. è¶Šæ¥è¶Šå¤šçš„äººä½¿ç”¨ L2.</p>
<p>Notes: ä¸ç§°ä¸º:çŸ©é˜µ L2 èŒƒæ•°ï¼Œ æŒ‰ç…§æƒ¯ä¾‹æˆ‘ä»¬ç§°ä¸º: <strong>Frobenius norm of a matrix</strong>, å…¶å®å°±æ˜¯ : çŸ©é˜µ L2 èŒƒæ•°ã€‚</p>
</blockquote>
<h3 id="3-1-L2-regularization"><a href="#3-1-L2-regularization" class="headerlink" title="3.1 L2 regularization"></a>3.1 L2 regularization</h3><blockquote>
<p>L2 regularization ä¸‹çš„ Cost Function å¦‚ä¸‹æ‰€ç¤º, åªéœ€è¦æ·»åŠ æ­£åˆ™é¡¹ <strong>$\frac{\lambda}{2m}\sum_{l=1}^L||w^{[l]}||^2_F$</strong>, å…¶ä¸­ F ä»£è¡¨ Frobenius Norm. åœ¨æ·»åŠ äº†æ­£åˆ™é¡¹ä¹‹å, ç›¸åº”çš„æ¢¯åº¦ä¹Ÿè¦å˜åŒ–, æ‰€ä»¥åœ¨æ›´æ–°å‚æ•°çš„æ—¶å€™éœ€è¦åŠ ä¸Šå¯¹åº”çš„é¡¹. è¿™é‡Œæ³¨æ„ä¸€ç‚¹, æˆ‘ä»¬åªå¯¹å‚æ•° $w$ æ­£åˆ™, è€Œä¸å¯¹ $b$. å› ä¸ºå¯¹äºæ¯ä¸€å±‚æ¥è¯´, $w$ æœ‰å¾ˆé«˜çš„ç»´åº¦, è€Œ $b$ åªæ˜¯ä¸€ä¸ªæ ‡é‡. $w$ å¯¹æ•´ä¸ªæ¨¡å‹çš„å½±å“è¿œå¤§äº $b$.</p>
</blockquote>
<p><img src="/images/deeplearning/C2W1-7_1.png" width="750"></p>
<p>ä¸‹é¢ç»™å‡ºæ·»åŠ  regularization ä¸ºä»€ä¹ˆèƒ½é˜²æ­¢è¿‡æ‹Ÿåˆç»™å‡ºç›´è§‚çš„è§£é‡Š. å¦‚ä¸‹å›¾æ‰€ç¤º:</p>
<blockquote>
<p>å½“æˆ‘ä»¬çš„ Î» æ¯”è¾ƒå¤§çš„æ—¶å€™, æ¨¡å‹å°±ä¼šåŠ å¤§å¯¹ w çš„æƒ©ç½š, è¿™æ ·æœ‰äº› w å°±ä¼šå˜å¾—å¾ˆå° (L2 Regularization ä¹Ÿå«æƒé‡è¡°å‡, <strong>weights decay</strong>). ä»ä¸‹å›¾å·¦è¾¹çš„ç¥ç»ç½‘ç»œæ¥çœ‹, æ•ˆæœå°±æ˜¯æ•´ä¸ªç¥ç»ç½‘ç»œå˜å¾—ç®€å•äº†(ä¸€äº›éšè—å±‚ç”šè‡³ $w$ è¶‹å‘äº 0), ä»è€Œé™ä½äº†è¿‡æ‹Ÿåˆçš„é£é™©.</p>
<p>é‚£äº› éšè—å±‚ å¹¶æ²¡æœ‰è¢«æ¶ˆé™¤ï¼Œåªæ˜¯å½±å“å˜å¾—æ›´å°äº†ï¼Œç¥ç»ç½‘ç»œå˜å¾—ç®€å•äº†.</p>
</blockquote>
<p><img src="/images/deeplearning/C2W1-8_1.png" width="750"></p>
<blockquote>
<p>ä»å¦ä¸€ä¸ªè§’åº¦æ¥çœ‹. ä»¥ tanhæ¿€æ´»å‡½æ•° ä¸ºä¾‹, å½“ $Î»$ å¢åŠ æ—¶, $w$ ä¼šåå°, è¿™æ · $z = wa +b$ ä¹Ÿä¼šåå°, æ­¤æ—¶çš„æ¿€æ´»å‡½æ•°å¤§è‡´æ˜¯çº¿æ€§çš„. è¿™æ ·æ¨¡å‹çš„å¤æ‚åº¦ä¹Ÿå°±é™ä½äº†, å³é™ä½äº†è¿‡æ‹Ÿåˆçš„é£é™©.</p>
<p>å¦‚æœç¥ç»ç½‘ç»œæ¯å±‚éƒ½æ˜¯çº¿æ€§çš„ï¼Œå…¶å®æ•´ä¸ªè¿˜æ˜¯ä¸€ä¸ªçº¿æ€§çš„, å³ä½¿æ˜¯ä¸€ä¸ªå¾ˆæ·±çš„ç½‘ç»œï¼Œå› ä¸ºçº¿æ€§æ¿€æ´»å‡½æ•°çš„ç‰¹å¾ï¼Œæœ€ç»ˆæˆ‘ä»¬åªèƒ½è®¡ç®—çº¿æ€§å‡½æ•°.</p>
</blockquote>
<p><img src="/images/deeplearning/C2W1-9_1.png" width="750"></p>
<h3 id="3-2-Dropout"><a href="#3-2-Dropout" class="headerlink" title="3.2 Dropout"></a>3.2 Dropout</h3><p>dropout ä¹Ÿæ˜¯ä¸€ç§æ­£åˆ™åŒ–çš„æ‰‹æ®µ, åœ¨è®­ç»ƒæ—¶ä»¥ 1-keep_prob éšæœºåœ°â€ä¸¢å¼ƒâ€ä¸€äº›èŠ‚ç‚¹. å¦‚ä¸‹å›¾æ‰€ç¤º.</p>
<p><img src="/images/deeplearning/C2W1-10_1.png" width="600"></p>
<blockquote>
<p>å…·ä½“å¯å‚è€ƒå¦‚ä¸‹å®ç°æ–¹å¼, åœ¨å‰å‘ä¼ æ’­æ—¶å°† $a$ ä¸­çš„æŸäº›å€¼ç½®ä¸º0, ä¸ºäº†ä¿è¯å¤§æ¦‚çš„å¤§å°ä¸å—æ·»åŠ  dropout å½±å“, å†å°†å¤„ç†åçš„ $a$ é™¤ä»¥ keep_prob.</p>
</blockquote>
<p><img src="/images/deeplearning/C2W1-11_1.png" width="750"></p>
<blockquote>
<p>dropout å°†äº§ç”Ÿæ”¶ç¼©æƒé‡çš„å¹³æ–¹èŒƒæ•°çš„æ•ˆæœ, å’Œ L2 ç±»ä¼¼ï¼Œå®æ–½ dropout çš„ç»“æœæ˜¯å®ƒä¼šå‹ç¼©æƒé‡ï¼Œå¹¶å®Œæˆä¸€äº›é¢„é˜²è¿‡æ‹Ÿåˆçš„å¤–å±‚æ­£åˆ™åŒ–ï¼Œäº‹å®è¯æ˜ dropout è¢«æ­£å¼åœ°ä½œä¸ºä¸€ç§æ­£åˆ™åŒ–çš„æ›¿ä»£å½¢å¼</p>
<p>L2 å¯¹ä¸åŒæƒé‡çš„è¡°å‡æ˜¯ä¸åŒçš„ï¼Œå®ƒå–å†³äºå€å¢çš„æ¿€æ´»å‡½æ•°çš„å¤§å°.</p>
<p>dropout çš„åŠŸèƒ½ç±»ä¼¼äº L2 æ­£åˆ™åŒ–. ç”šè‡³ dropout æ›´é€‚ç”¨äºä¸åŒçš„è¾“å…¥èŒƒå›´.</p>
</blockquote>
<p><img src="/images/deeplearning/C2W1-11_2.png" width="700"></p>
<blockquote>
<p>Notes: æ¯ä¸€å±‚çš„ keep_prob å¯èƒ½æ˜¯ä¸åŒçš„, keep_prob å– 1ï¼Œ åˆ™æ˜¯è¯¥å±‚ä¿ç•™æ‰€æœ‰å•å…ƒ. </p>
<p>è¾“å‡ºå±‚çš„ keep_prob ç»å¸¸è®¾ç½®ä¸º 1ï¼Œæœ‰æ—¶å€™ä¹Ÿå¯ä»¥è®¾ç½®ä¸º 1.9 (&gt;1). &lt; 1 é€šå¸¸åœ¨è¾“å‡ºå±‚æ˜¯ä¸å¤ªå¯èƒ½çš„. </p>
<p>è¾“å…¥å±‚çš„ keep_prob ç»å¸¸è®¾ç½®ä¸º 1ï¼Œæœ‰æ—¶å€™ä¹Ÿå¯ä»¥è®¾ç½®ä¸º 0.9ï¼Œ å¦‚æœæ˜¯ 0.5 æ¶ˆå‡ä¸€åŠï¼Œé€šå¸¸æ˜¯ä¸å¯èƒ½çš„.</p>
<p>å…¶ä»– : è®¡ç®—æœºè§†è§‰çš„äººå‘˜éå¸¸é’Ÿæƒ… dropout å‡½æ•°.</p>
<p>Notes: dropout çš„ä¸€å¤§ç¼ºç‚¹å°±æ˜¯ J ä¸ä¼šè¢«æ˜ç¡®å®šä¹‰. æ¯æ¬¡è¿­ä»£éƒ½ä¼šè¢«éšæœºåˆ é™¤ä¸€äº›èŠ‚ç‚¹. å¦‚æœå†ä¸‰æ£€æŸ¥æ¢¯åº¦ä¸‹é™çš„æ€§èƒ½ï¼Œå®é™…ä¸Šæ˜¯å¾ˆéš¾å¤æŸ¥çš„.</p>
<p>å®šä¹‰æ˜ç¡®çš„ä»£ä»·å‡½æ•°ï¼Œæ¯æ¬¡è¿­ä»£éƒ½ä¼šä¸‹é™. å› ä¸º dropout ä½¿å¾— J æ²¡æœ‰è¢«æ˜ç¡®å®šä¹‰ï¼Œæˆ–è€…åœ¨æŸç§ç¨‹åº¦ä¸Šå¾ˆéš¾è®¡ç®—. æ‰€ä»¥æˆ‘ä»¬å¤±å»äº†è°ƒè¯•å·¥å…·ï¼Œæˆ‘é€šå¸¸ä¼šå…³é—­ dropout. keep_prob è®¾ç½®ä¸º 1ï¼Œ è¿è¡Œä»£ç ï¼Œç¡®ä¿ J å‡½æ•°å•è°ƒé€’å‡, ç„¶ååœ¨æ‰“å¼€ dropout, åœ¨ dropout çš„è¿‡ç¨‹ä¸­ï¼Œä»£ç å¹¶æœªå¼•å…¥bug.</p>
</blockquote>
<p>å®ç°ä»£ç (æœªå®Œæˆ)</p>
<h3 id="3-3-Other-Regularization"><a href="#3-3-Other-Regularization" class="headerlink" title="3.3 Other Regularization"></a>3.3 Other Regularization</h3><ul>
<li>Data augmentation</li>
</ul>
<p><img src="/images/deeplearning/C2W1-12_1.png" width="600"></p>
<ul>
<li>Early stopping</li>
</ul>
<p><img src="/images/deeplearning/C2W1-13_1.png" width="600"></p>
<blockquote>
<p>W å¼€å§‹æ˜¯å˜å°çš„ï¼Œä¹‹åä¼šéšç€è¿­ä»£è¶Šæ¥è¶Šå¤§. early stopping å°±æ˜¯åœ¨ä¸­é—´ç‚¹åœæ­¢è¿­ä»£è¿‡ç¨‹.</p>
<p>Notes: </p>
<ol>
<li>early stopping  ç¼ºç‚¹æ˜¯ ææ—©åœæ­¢ï¼Œw æ˜¯é˜²æ­¢äº†è¿‡æ‹Ÿåˆï¼Œä½†æ˜¯ J æ²¡æœ‰è¢«ç»§ç»­ä¸‹é™.</li>
<li>L2 æ­£åˆ™åŒ– çš„ç¼ºç‚¹æ˜¯ï¼Œè¦ç”¨å¤§é‡ç²¾åŠ›æœç´¢åˆé€‚çš„ Î» .</li>
</ol>
<p>æˆ‘ä¸ªäººä¹Ÿæ˜¯æ›´å€¾å‘äºä½¿ç”¨ L2ï¼Œå¦‚æœä½ å¯ä»¥è´Ÿæ‹…å¤§é‡çš„è®¡ç®—ä»£ä»·.</p>
</blockquote>
<h2 id="4-Normalization"><a href="#4-Normalization" class="headerlink" title="4. Normalization"></a>4. Normalization</h2><p><img src="/images/deeplearning/C2W1-14_1.png" width="600"></p>
<blockquote>
<ol>
<li>0 å‡å€¼åŒ– </li>
<li>å½’ä¸€åŒ– æ–¹å·®</li>
</ol>
<p>ä¸Šå›¾2ï¼Œ ç‰¹å¾ x1 çš„æ–¹å·® æ¯” ç‰¹å¾ x2 çš„æ–¹å·® å¤§å¾ˆå¤š<br>ä¸Šå›¾3ï¼Œ ç‰¹å¾ x1 å’Œ ç‰¹å¾ x2 çš„ æ–¹å·® éƒ½æ˜¯ 1</p>
<p>æ³¨æ„: ä¸è®º è®­ç»ƒé›† å’Œ æµ‹è¯•é›†ï¼Œéƒ½æ˜¯é€šè¿‡ç›¸åŒçš„ $\mu$ å’Œ ${\sigma}^2$ å®šä¹‰çš„ç›¸åŒæ•°æ®è½¬æ¢, å…¶ä¸­ $\mu$ å’Œ ${\sigma}^2$ æ˜¯ç”±è®­ç»ƒæ•°æ®è®¡ç®—è€Œæ¥.</p>
</blockquote>
<p><img src="/images/deeplearning/C2W1-15_1.png" width="700"></p>
<h2 id="5-Vanishing-Exploding-gradients"><a href="#5-Vanishing-Exploding-gradients" class="headerlink" title="5. Vanishing/Exploding gradients"></a>5. Vanishing/Exploding gradients</h2><p>Vanishing/Exploding gradients æŒ‡çš„æ˜¯éšç€å‰å‘ä¼ æ’­ä¸æ–­åœ°è¿›è¡Œ, æ¿€æ´»å•å…ƒçš„å€¼ä¼šé€å±‚æŒ‡æ•°çº§åœ°å¢åŠ æˆ–å‡å°, ä»è€Œå¯¼è‡´æ¢¯åº¦æ— é™å¢å¤§æˆ–è€…è¶‹è¿‘äºé›¶, è¿™æ ·ä¼šä¸¥é‡å½±å“ç¥ç»ç½‘ç»œçš„è®­ç»ƒ. å¦‚ä¸‹å›¾.</p>
<p><img src="/images/deeplearning/C2W1-16_1.png" width="750"></p>
<p>ä¸ºäº†ç›´è§‚ç†è§£æ¢¯åº¦æ¶ˆå¤±å’Œæ¢¯åº¦çˆ†ç‚¸ï¼Œæˆ‘ä»¬å‡è®¾æ‰€æœ‰æ¿€æ´»å‡½æ•°ä¸ºçº¿æ€§æ¿€æ´»å‡½æ•°ï¼Œå³ $g(z)=z$ã€‚ å¹¶å‡è®¾å‰ Lâˆ’1 ä¸ªæƒé‡çŸ©é˜µéƒ½ç›¸ç­‰, å³ä¸º $W_{linear}$ï¼Œæ‰€ä»¥å¯ä»¥å¾—åˆ° $y_{hat}=W_{linear}^{L-1}W_{L}X$</p>
<p>å‡è®¾ $W_{linear}$ éƒ½ç­‰äºè¿™ä¸ª: <img src="/images/deeplearning/C2W1-16_2.jpg" alt=""></p>
<p>é‚£ä¹ˆåˆ™æœ‰ $y_{hat}=1.5^{L-1}W_LX$ï¼Œå¾ˆæ˜¾ç„¶å½“ L å¾ˆå¤§æ—¶åˆ™ä¼šå‡ºç°æ¢¯åº¦çˆ†ç‚¸ã€‚</p>
<p>åŒç†è‹¥å°†æƒé‡çš„å€¼è®¾ç½®ä¸ºå°äº1ï¼Œé‚£ä¹ˆåˆ™ä¼šå‡ºç°æ¢¯åº¦æ¶ˆå¤±ã€‚</p>
<blockquote>
<p>ä¸€ä¸ªå¯ä»¥å‡å°è¿™ç§æƒ…å†µå‘ç”Ÿçš„æ–¹æ³•, å°±æ˜¯ç”¨æœ‰æ•ˆçš„å‚æ•°åˆå§‹åŒ– (è¯¥æ–¹æ³•å¹¶ä¸èƒ½å®Œå…¨è§£å†³è¿™ä¸ªé—®é¢˜). ä½†æ˜¯ä¹Ÿæ˜¯æœ‰æ„ä¹‰çš„</p>
</blockquote>
<p><img src="/images/deeplearning/C2W1-17_1.png" width="750"></p>
<blockquote>
<p>è®¾ç½®åˆç†çš„æƒé‡ï¼Œå¸Œæœ›ä½ è®¾ç½®çš„æƒé‡çŸ©é˜µï¼Œæ—¢ä¸ä¼šå¢é•¿è¿‡å¿«ï¼Œä¹Ÿä¸ä¼šä¸‹é™è¿‡å¿«åˆ° 0.</p>
<p>æƒ³æ›´åŠ äº†è§£å¦‚ä½•åˆå§‹åŒ–æƒé‡å¯ä»¥çœ‹ä¸‹è¿™ç¯‡æ–‡ç«  <a href="http://www.cnblogs.com/marsggbo/p/7462682.html" target="_blank" rel="external">ç¥ç»ç½‘ç»œæƒé‡åˆå§‹åŒ–é—®é¢˜</a>ï¼Œå…¶ä¸­å¾ˆè¯¦ç»†çš„ä»‹ç»äº†æƒé‡åˆå§‹åŒ–é—®é¢˜ã€‚</p>
</blockquote>
<h2 id="6-Gradient-checking-implementation"><a href="#6-Gradient-checking-implementation" class="headerlink" title="6. Gradient checking implementation"></a>6. Gradient checking implementation</h2><p><img src="/images/deeplearning/C2W1-18_1.png" width="700"></p>
<p><img src="/images/deeplearning/C2W1-19_1.png" width="700"></p>
<p><img src="/images/deeplearning/C2W1-20_1.png" width="700"></p>
<blockquote>
<p>å¾ˆéš¾ç”¨æ¢¯åº¦æ£€éªŒæ¥åŒé‡æ£€éªŒ dropout çš„è®¡ç®—ï¼Œ æ‰€ä»¥æˆ‘ä¸åŒæ—¶ä½¿ç”¨æ¢¯åº¦æ£€éªŒå’Œ dropoutï¼Œé™¤é dropout keep.prob è®¾ç½®ä¸º 1.</p>
<p>æˆ‘å»ºè®®å…³é—­ dropout ç”¨æ¢¯åº¦æ£€éªŒè¿›è¡ŒåŒé‡æ£€æŸ¥.</p>
<p>åœ¨æ²¡æœ‰ dropout çš„æƒ…å†µä¸‹ï¼Œç¡®ä¿ä½ çš„ç®—æ³•æ˜¯æ­£ç¡®çš„ï¼Œç„¶åå†æ‰“å¼€ dropout.</p>
<p>ç°å®ä¸­ å‡ ä¹ä¸ä¼šå‡ºç°, å½“ w å’Œ b æ¥è¿‘ 0 æ—¶ï¼Œæ¢¯åº¦ä¸‹é™çš„å®æ–½æ˜¯æ­£ç¡®çš„.</p>
</blockquote>
<h2 id="8-Reference"><a href="#8-Reference" class="headerlink" title="8. Reference"></a>8. Reference</h2><ul>
<li><a href="https://study.163.com/my#/smarts" target="_blank" rel="external">ç½‘æ˜“äº‘è¯¾å ‚ - deeplearning</a></li>
<li><a href="https://daniellaah.github.io/2017/deeplearning-ai-Improving-Deep-Neural-Networks-week1.html" target="_blank" rel="external">deeplearning.ai ä¸“é¡¹è¯¾ç¨‹äºŒç¬¬ä¸€å‘¨</a></li>
<li><a href="https://www.coursera.org/specializations/deep-learning" target="_blank" rel="external">Coursera - Deep Learning Specialization</a></li>
<li><a href="http://www.cnblogs.com/marsggbo/p/7470989.html" target="_blank" rel="external">DeepLearning.aiå­¦ä¹ ç¬”è®°æ±‡æ€»</a></li>
</ul>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[Neural Networks and Deep Learning (week4) - Deep Neural Networks]]></title>
      <url>http://iequa.com/2018/07/15/deeplearning-ai-Neural-Networks-and-Deep-Learning-week4/</url>
      <content type="html"><![CDATA[<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js"],
    jax: ["input/TeX"],
    tex2jax: {
      inlineMath: [ ['$','$'], ['\\(','\\)'] ],
      displayMath: [ ['$$','$$']],
      processEscapes: true
    }
  });
</script>
<script type="text/javascript" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS_HTML,http://myserver.com/MathJax/config/local/local.js">
</script>

<p>æœ¬å‘¨é‡ç‚¹ä»»åŠ¡æ˜¯ä½¿ç”¨Pythonè¦å®ç°ä¸€ä¸ªä»»æ„å±‚çš„ç¥ç»ç½‘ç»œ, å¹¶åœ¨catæ•°æ®ä¸Šæµ‹è¯•.</p>
<a id="more"></a>
<h2 id="1-æ·±åº¦ç¥ç»ç½‘ç»œä¸­çš„å¸¸ç”¨ç¬¦å·å›é¡¾"><a href="#1-æ·±åº¦ç¥ç»ç½‘ç»œä¸­çš„å¸¸ç”¨ç¬¦å·å›é¡¾" class="headerlink" title="1. æ·±åº¦ç¥ç»ç½‘ç»œä¸­çš„å¸¸ç”¨ç¬¦å·å›é¡¾"></a>1. æ·±åº¦ç¥ç»ç½‘ç»œä¸­çš„å¸¸ç”¨ç¬¦å·å›é¡¾</h2><p>åœ¨ä¸Šä¸€å‘¨çš„å†…å®¹ä¸­, ä»‹ç»äº†ç¥ç»ç½‘ç»œä¸­çš„å¸¸ç”¨ç¬¦å·ä»¥åŠå„ç§å˜é‡çš„ç»´åº¦. ä¸æ¸…æ¥šçš„å¯ä»¥å›é¡¾ä¸Šå‘¨çš„ç¬”è®°å†…å®¹.</p>
<p><img src="/images/deeplearning/C1W4-1_1.png" width="750"></p>
<p><img src="/images/deeplearning/C1W4-2_1.png" width="750"></p>
<p><img src="/images/deeplearning/C1W4-3_1.png" width="750"></p>
<p><img src="/images/deeplearning/C1W4-4_1.png" width="750"></p>
<p><img src="/images/deeplearning/C1W4-5_1.png" width="750"></p>
<h2 id="2-Intuition-about-deep-representation"><a href="#2-Intuition-about-deep-representation" class="headerlink" title="2. Intuition about deep representation"></a>2. Intuition about deep representation</h2><p>å…³äºæ·±åº¦ç¥ç»ç½‘ç»œç›´è§‚åœ°è§£é‡Šè¿™éƒ¨åˆ†ç¬”è®°æš‚ç•¥, è¯·ç›´æ¥è§‚çœ‹è¯¾ç¨‹è§†é¢‘å†…å®¹: Why deep representation?.</p>
<p><img src="/images/deeplearning/C1W4-6_1.png" width="750"></p>
<p><img src="/images/deeplearning/C1W4-7_1.png" width="750"></p>
<h2 id="3-æ·±åº¦ç¥ç»ç½‘ç»œä¸­çš„å‰å‘-åå‘ä¼ æ’­"><a href="#3-æ·±åº¦ç¥ç»ç½‘ç»œä¸­çš„å‰å‘-åå‘ä¼ æ’­" class="headerlink" title="3. æ·±åº¦ç¥ç»ç½‘ç»œä¸­çš„å‰å‘/åå‘ä¼ æ’­"></a>3. æ·±åº¦ç¥ç»ç½‘ç»œä¸­çš„å‰å‘/åå‘ä¼ æ’­</h2><p>åœ¨ç¬¬ä¸‰å‘¨çš„ç¬”è®°ä¸­è¯¦ç»†ä»‹ç»äº†ç¥ç»ç½‘ç»œçš„å‰å‘/åå‘ä¼ æ’­, è¿™é‡Œå®Œå…¨å¥—ç”¨, åªæ˜¯å¤šäº†å±‚æ•°è€Œå·². </p>
<blockquote>
<p>éœ€è¦å†è¯¦ç»†äº†è§£æ‰‹æ¨çš„åŒå­¦å¯ä»¥ä»”ç»†ç ”ç©¶ä¸Šå‘¨çš„ç¬”è®°å†…å®¹</p>
</blockquote>
<p><img src="/images/deeplearning/C1W4-8_1.png" width="750"></p>
<p><img src="/images/deeplearning/C1W4-9_1.png" width="750"></p>
<p><img src="/images/deeplearning/C1W4-10_1.png" width="750"></p>
<h2 id="4-å‚æ•°ä¸è¶…å‚æ•°"><a href="#4-å‚æ•°ä¸è¶…å‚æ•°" class="headerlink" title="4. å‚æ•°ä¸è¶…å‚æ•°"></a>4. å‚æ•°ä¸è¶…å‚æ•°</h2><p>åœ¨ç¥ç»ç½‘ç»œä¸­å‚æ•°æŒ‡çš„æ˜¯ $W$, $b$, è¿™ä¸¤ä¸ªå‚æ•°æ˜¯é€šè¿‡æ¢¯åº¦ä¸‹é™ç®—æ³•ä¸æ–­ä¼˜åŒ–çš„. è€Œè¶…å‚æ•°æŒ‡çš„æ˜¯å­¦ä¹ ç‡, è¿­ä»£æ¬¡æ•°, å†³å®šç¥ç»ç½‘ç»œç»“æ„çš„å‚æ•°ä»¥åŠæ¿€æ´»å‡½æ•°çš„é€‰æ‹©ç­‰ç­‰, åœ¨åé¢æˆ‘ä»¬è¿˜ä¼šæåˆ° momentum, minibatch size, regularizationç­‰ç­‰. è¿™äº›éƒ½å±äºè¶…å‚æ•°, éœ€è¦æˆ‘ä»¬æ‰‹åŠ¨è®¾å®š.</p>
<p><img src="/images/deeplearning/C1W4-11_1.png" width="750"></p>
<blockquote>
<p>è¿™äº›è¶…å‚æ•°ä¹Ÿå†³å®šäº†æœ€ç»ˆçš„å‚æ•° $W$, $b$. ä¸åŒçš„è¶…å‚æ•°çš„é€‰æ‹©ä¼šå¯¼è‡´æ¨¡å‹å¾ˆå¤§çš„å·®åˆ«. </p>
<p>æ‰€ä»¥è¶…å‚æ•°çš„é€‰æ‹©ä¹Ÿéå¸¸é‡è¦ (åé¢çš„è¯¾ç¨‹ä¼šè®²è§£å¦‚ä½•é€‰æ‹©è¶…å‚æ•°).</p>
</blockquote>
<p><img src="/images/deeplearning/C1W4-12_1.png" width="750"></p>
<h2 id="5-ä½¿ç”¨Pythonå®ç°æ·±åº¦ç¥ç»ç½‘ç»œ"><a href="#5-ä½¿ç”¨Pythonå®ç°æ·±åº¦ç¥ç»ç½‘ç»œ" class="headerlink" title="5. ä½¿ç”¨Pythonå®ç°æ·±åº¦ç¥ç»ç½‘ç»œ"></a>5. ä½¿ç”¨Pythonå®ç°æ·±åº¦ç¥ç»ç½‘ç»œ</h2><p>DeepNeuralNetwork.py</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">sigmoid</span><span class="params">(z)</span>:</span></span><br><span class="line">    <span class="keyword">return</span> <span class="number">1.</span> / (<span class="number">1.</span>+np.exp(-z))</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">relu</span><span class="params">(Z)</span>:</span></span><br><span class="line">    A = np.maximum(<span class="number">0</span>,Z)</span><br><span class="line">    <span class="keyword">return</span> A</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">leaky_relu</span><span class="params">(Z)</span>:</span></span><br><span class="line">    A = np.maximum(<span class="number">0</span>,Z)</span><br><span class="line">    A[Z &lt; <span class="number">0</span>] = <span class="number">0.01</span> * Z</span><br><span class="line">    <span class="keyword">return</span> A</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">DeepNeuralNetwork</span><span class="params">()</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self, layers_dim, activations)</span>:</span></span><br><span class="line">        <span class="comment"># assert (layers_dim[-1] == 1)</span></span><br><span class="line">        <span class="comment"># assert (activations[-1] == 'sigmoid')</span></span><br><span class="line">        <span class="comment"># assert (len(activations) == len(layers_dims)-1)</span></span><br><span class="line">        np.random.seed(<span class="number">1</span>)</span><br><span class="line">        self.layers_dim = layers_dim</span><br><span class="line">        self.__num_layers = len(layers_dim)</span><br><span class="line">        self.activations = activations</span><br><span class="line">        self.input_size = layers_dim[<span class="number">0</span>]</span><br><span class="line">        self.parameters = self.__parameters_initializer(layers_dim)</span><br><span class="line">        self.output_size = layers_dim[<span class="number">-1</span>]</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__parameters_initializer</span><span class="params">(self, layers_dim)</span>:</span></span><br><span class="line">        <span class="comment"># special initialzer with np.sqrt(layers_dims[l-1])</span></span><br><span class="line">        L = len(layers_dim)</span><br><span class="line">        parameters = &#123;&#125;</span><br><span class="line">        <span class="keyword">for</span> l <span class="keyword">in</span> range(<span class="number">1</span>, L):</span><br><span class="line">            parameters[<span class="string">'W'</span>+str(l)] = np.random.randn(layers_dim[l], layers_dim[l<span class="number">-1</span>]) / np.sqrt(layers_dims[l<span class="number">-1</span>])</span><br><span class="line">            parameters[<span class="string">'b'</span>+str(l)] = np.zeros((layers_dim[l], <span class="number">1</span>))</span><br><span class="line">        <span class="keyword">return</span> parameters</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__one_layer_forward</span><span class="params">(self, A_prev, W, b, activation)</span>:</span></span><br><span class="line">        Z = np.dot(W, A_prev) + b</span><br><span class="line">        <span class="keyword">if</span> activation == <span class="string">'sigmoid'</span>:</span><br><span class="line">            A = sigmoid(Z)</span><br><span class="line">        <span class="keyword">if</span> activation == <span class="string">'relu'</span>:</span><br><span class="line">            A = relu(Z)</span><br><span class="line">        <span class="keyword">if</span> activation == <span class="string">'leaky_relu'</span>:</span><br><span class="line">            A = leaky_relu(Z)</span><br><span class="line">        <span class="keyword">if</span> activation == <span class="string">'tanh'</span>:</span><br><span class="line">            A = np.tanh(Z)</span><br><span class="line">        cache = &#123;<span class="string">'Z'</span>: Z, <span class="string">'A'</span>: A&#125;</span><br><span class="line">        <span class="keyword">return</span> A, cache</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__forward_propagation</span><span class="params">(self, X)</span>:</span></span><br><span class="line">        caches = []</span><br><span class="line">        A_prev = X</span><br><span class="line">        caches.append(&#123;<span class="string">'A'</span>: A_prev&#125;)</span><br><span class="line">        <span class="comment"># forward propagation by laryer</span></span><br><span class="line">        <span class="keyword">for</span> l <span class="keyword">in</span> range(<span class="number">1</span>, len(self.layers_dim)):</span><br><span class="line">            W, b = self.parameters[<span class="string">'W'</span>+str(l)], self.parameters[<span class="string">'b'</span>+str(l)]</span><br><span class="line">            A_prev, cache = self.__one_layer_forward(A_prev, W, b, self.activations[l<span class="number">-1</span>])</span><br><span class="line">            caches.append(cache)</span><br><span class="line">        AL = caches[<span class="number">-1</span>][<span class="string">'A'</span>]</span><br><span class="line">        <span class="keyword">return</span> AL, caches</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__compute_cost</span><span class="params">(self, AL, Y)</span>:</span></span><br><span class="line">        m = Y.shape[<span class="number">1</span>]</span><br><span class="line">        cost = -np.sum(Y*np.log(AL) + (<span class="number">1</span>-Y)*np.log(<span class="number">1</span>-AL)) / m</span><br><span class="line">        <span class="keyword">return</span> cost</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">cost_function</span><span class="params">(self, X, Y)</span>:</span></span><br><span class="line">        <span class="comment"># use the result from forward propagation and the label Y to compute cost</span></span><br><span class="line">        <span class="keyword">assert</span> (self.input_size == X.shape[<span class="number">0</span>])</span><br><span class="line">        AL, _ = self.__forward_propagation(X)</span><br><span class="line">        <span class="keyword">return</span> self.__compute_cost(AL, Y)</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">sigmoid_backward</span><span class="params">(self, dA, Z)</span>:</span></span><br><span class="line">        s = sigmoid(Z)</span><br><span class="line">        dZ = dA * s*(<span class="number">1</span>-s)</span><br><span class="line">        <span class="keyword">return</span> dZ</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">relu_backward</span><span class="params">(self, dA, Z)</span>:</span></span><br><span class="line">        dZ = np.array(dA, copy=<span class="keyword">True</span>)</span><br><span class="line">        dZ[Z &lt;= <span class="number">0</span>] = <span class="number">0</span></span><br><span class="line">        <span class="keyword">return</span> dZ</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">leaky_relu_backward</span><span class="params">(self, dA, Z)</span>:</span></span><br><span class="line">        dZ = np.array(dA, copy=<span class="keyword">True</span>)</span><br><span class="line">        dZ[Z &lt;= <span class="number">0</span>] = <span class="number">0.01</span></span><br><span class="line">        <span class="keyword">return</span> dZ</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">tanh_backward</span><span class="params">(self, dA, Z)</span>:</span></span><br><span class="line">        s = np.tanh(Z)</span><br><span class="line">        dZ = <span class="number">1</span> - s*s</span><br><span class="line">        <span class="keyword">return</span> dZ</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__linear_backward</span><span class="params">(self, dZ, A_prev, W)</span>:</span></span><br><span class="line">        <span class="comment"># assert(dZ.shape[0] == W.shape[0])</span></span><br><span class="line">        <span class="comment"># assert(W.shape[1] == A_prev.shape[0])</span></span><br><span class="line">        m = A_prev.shape[<span class="number">1</span>]</span><br><span class="line">        dW = np.dot(dZ, A_prev.T) / m</span><br><span class="line">        db = np.sum(dZ, axis=<span class="number">1</span>, keepdims=<span class="keyword">True</span>) / m</span><br><span class="line">        dA_prev = np.dot(W.T, dZ)</span><br><span class="line">        <span class="keyword">return</span> dA_prev, dW, db</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__activation_backward</span><span class="params">(self, dA, Z, activation)</span>:</span></span><br><span class="line">        <span class="keyword">assert</span> (dA.shape == Z.shape)</span><br><span class="line">        <span class="keyword">if</span> activation == <span class="string">'sigmoid'</span>:</span><br><span class="line">            dZ = self.sigmoid_backward(dA, Z)</span><br><span class="line">        <span class="keyword">if</span> activation == <span class="string">'relu'</span>:</span><br><span class="line">            dZ = self.relu_backward(dA, Z)</span><br><span class="line">        <span class="keyword">if</span> activation == <span class="string">'leaky_relu'</span>:</span><br><span class="line">            dZ = self.leaky_relu_backward(dA, Z)</span><br><span class="line">        <span class="keyword">if</span> activation == <span class="string">'tanh'</span>:</span><br><span class="line">            dZ = self.tanh_backward(dA, Z)</span><br><span class="line">        <span class="keyword">return</span> dZ</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__backward_propagation</span><span class="params">(self, caches, Y)</span>:</span></span><br><span class="line">        m = Y.shape[<span class="number">1</span>]</span><br><span class="line">        L = self.__num_layers</span><br><span class="line">        grads = &#123;&#125;</span><br><span class="line">        <span class="comment"># backward propagate last layer</span></span><br><span class="line">        AL, A_prev = caches[L<span class="number">-1</span>][<span class="string">'A'</span>], caches[L<span class="number">-2</span>][<span class="string">'A'</span>]</span><br><span class="line">        dAL =  - (Y/AL - (<span class="number">1</span>-Y)/(<span class="number">1</span>-AL))</span><br><span class="line">        grads[<span class="string">'dZ'</span>+str(L<span class="number">-1</span>)] = self.__activation_backward(dAL, caches[L<span class="number">-1</span>][<span class="string">'Z'</span>], self.activations[<span class="number">-1</span>])</span><br><span class="line">        grads[<span class="string">'dA'</span>+str(L<span class="number">-2</span>)], \</span><br><span class="line">        grads[<span class="string">'dW'</span>+str(L<span class="number">-1</span>)], \</span><br><span class="line">        grads[<span class="string">'db'</span>+str(L<span class="number">-1</span>)] = self.__linear_backward(grads[<span class="string">'dZ'</span>+str(L<span class="number">-1</span>)],</span><br><span class="line">                                                      A_prev, self.parameters[<span class="string">'W'</span>+str(L<span class="number">-1</span>)])</span><br><span class="line">        <span class="comment"># backward propagate by layer</span></span><br><span class="line">        <span class="keyword">for</span> l <span class="keyword">in</span> reversed(range(<span class="number">1</span>, L<span class="number">-1</span>)):</span><br><span class="line">            grads[<span class="string">'dZ'</span>+str(l)] = self.__activation_backward(grads[<span class="string">'dA'</span>+str(l)],</span><br><span class="line">                                                            caches[l][<span class="string">'Z'</span>],</span><br><span class="line">                                                            self.activations[l<span class="number">-1</span>])</span><br><span class="line">            A_prev = caches[l<span class="number">-1</span>][<span class="string">'A'</span>]</span><br><span class="line">            grads[<span class="string">'dA'</span>+str(l<span class="number">-1</span>)], \</span><br><span class="line">            grads[<span class="string">'dW'</span>+str(l)], \</span><br><span class="line">            grads[<span class="string">'db'</span>+str(l)] = self.__linear_backward(grads[<span class="string">'dZ'</span>+str(l)], A_prev, self.parameters[<span class="string">'W'</span>+str(l)])</span><br><span class="line">        <span class="keyword">return</span> grads</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__update_parameters</span><span class="params">(self, grads, learning_rate)</span>:</span></span><br><span class="line">        <span class="keyword">for</span> l <span class="keyword">in</span> range(<span class="number">1</span>, self.__num_layers):</span><br><span class="line">            <span class="comment"># assert (self.parameters['W'+str(l)].shape == grads['dW'+str(l)].shape)</span></span><br><span class="line">            <span class="comment"># assert (self.parameters['b'+str(l)].shape == grads['db'+str(l)].shape)</span></span><br><span class="line">            self.parameters[<span class="string">'W'</span>+str(l)] -= learning_rate * grads[<span class="string">'dW'</span>+str(l)]</span><br><span class="line">            self.parameters[<span class="string">'b'</span>+str(l)] -= learning_rate * grads[<span class="string">'db'</span>+str(l)]</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">fit</span><span class="params">(self, X, Y, num_iterations, learning_rate, print_cost=False, print_num=<span class="number">100</span>)</span>:</span></span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> range(num_iterations):</span><br><span class="line">            <span class="comment"># forward propagation</span></span><br><span class="line">            AL, caches = self.__forward_propagation(X)</span><br><span class="line">            <span class="comment"># compute cost</span></span><br><span class="line">            cost = self.__compute_cost(AL, Y)</span><br><span class="line">            <span class="comment"># backward propagation</span></span><br><span class="line">            grads = self.__backward_propagation(caches, Y)</span><br><span class="line">            <span class="comment"># update parameters</span></span><br><span class="line">            self.__update_parameters(grads, learning_rate)</span><br><span class="line">            <span class="comment"># print cost</span></span><br><span class="line">            <span class="keyword">if</span> i % print_num == <span class="number">0</span> <span class="keyword">and</span> print_cost:</span><br><span class="line">                    <span class="keyword">print</span> (<span class="string">"Cost after iteration %i: %f"</span> %(i, cost))</span><br><span class="line">        <span class="keyword">return</span> self</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">predict_prob</span><span class="params">(self, X)</span>:</span></span><br><span class="line">        A, _ = self.__forward_propagation(X)</span><br><span class="line">        <span class="keyword">return</span> A</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">predict</span><span class="params">(self, X, threshold=<span class="number">0.5</span>)</span>:</span></span><br><span class="line">        pred_prob = self.predict_prob(X)</span><br><span class="line">        threshold_func = np.vectorize(<span class="keyword">lambda</span> x: <span class="number">1</span> <span class="keyword">if</span> x &gt; threshold <span class="keyword">else</span> <span class="number">0</span>)</span><br><span class="line">        Y_prediction = threshold_func(pred_prob)</span><br><span class="line">        <span class="keyword">return</span> Y_prediction</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">accuracy_score</span><span class="params">(self, X, Y)</span>:</span></span><br><span class="line">        pred = self.predict(X)</span><br><span class="line">        <span class="keyword">return</span> len(Y[pred == Y]) / Y.shape[<span class="number">1</span>]</span><br></pre></td></tr></table></figure>
<p>main.py</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> time</span><br><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"><span class="keyword">import</span> h5py</span><br><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br><span class="line"><span class="keyword">import</span> scipy</span><br><span class="line"><span class="keyword">from</span> PIL <span class="keyword">import</span> Image</span><br><span class="line"><span class="keyword">from</span> scipy <span class="keyword">import</span> ndimage</span><br><span class="line"><span class="keyword">from</span> dnn_app_utils_v2 <span class="keyword">import</span> *</span><br><span class="line"></span><br><span class="line">%matplotlib inline</span><br><span class="line">plt.rcParams[<span class="string">'figure.figsize'</span>] = (<span class="number">5.0</span>, <span class="number">4.0</span>) <span class="comment"># set default size of plots</span></span><br><span class="line">plt.rcParams[<span class="string">'image.interpolation'</span>] = <span class="string">'nearest'</span></span><br><span class="line">plt.rcParams[<span class="string">'image.cmap'</span>] = <span class="string">'gray'</span></span><br><span class="line"></span><br><span class="line">%load_ext autoreload</span><br><span class="line">%autoreload <span class="number">2</span></span><br><span class="line"></span><br><span class="line">np.random.seed(<span class="number">1</span>)</span><br><span class="line"></span><br><span class="line">train_x_orig, train_y, test_x_orig, test_y, classes = load_data()</span><br><span class="line"></span><br><span class="line"><span class="comment"># Explore your dataset</span></span><br><span class="line">m_train = train_x_orig.shape[<span class="number">0</span>]</span><br><span class="line">num_px = train_x_orig.shape[<span class="number">1</span>]</span><br><span class="line">m_test = test_x_orig.shape[<span class="number">0</span>]</span><br><span class="line"></span><br><span class="line"><span class="keyword">print</span> (<span class="string">"Number of training examples: "</span> + str(m_train))</span><br><span class="line"><span class="keyword">print</span> (<span class="string">"Number of testing examples: "</span> + str(m_test))</span><br><span class="line"><span class="keyword">print</span> (<span class="string">"Each image is of size: ("</span> + str(num_px) + <span class="string">", "</span> + str(num_px) + <span class="string">", 3)"</span>)</span><br><span class="line"><span class="keyword">print</span> (<span class="string">"train_x_orig shape: "</span> + str(train_x_orig.shape))</span><br><span class="line"><span class="keyword">print</span> (<span class="string">"train_y shape: "</span> + str(train_y.shape))</span><br><span class="line"><span class="keyword">print</span> (<span class="string">"test_x_orig shape: "</span> + str(test_x_orig.shape))</span><br><span class="line"><span class="keyword">print</span> (<span class="string">"test_y shape: "</span> + str(test_y.shape))</span><br><span class="line"></span><br><span class="line"><span class="comment"># Reshape the training and test examples</span></span><br><span class="line">train_x_flatten = train_x_orig.reshape(train_x_orig.shape[<span class="number">0</span>], <span class="number">-1</span>).T   <span class="comment"># The "-1" makes reshape flatten the remaining dimensions</span></span><br><span class="line">test_x_flatten = test_x_orig.reshape(test_x_orig.shape[<span class="number">0</span>], <span class="number">-1</span>).T</span><br><span class="line"></span><br><span class="line"><span class="comment"># Standardize data to have feature values between 0 and 1.</span></span><br><span class="line">train_x = train_x_flatten/<span class="number">255.</span></span><br><span class="line">test_x = test_x_flatten/<span class="number">255.</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">print</span> (<span class="string">"train_x's shape: "</span> + str(train_x.shape))</span><br><span class="line"><span class="keyword">print</span> (<span class="string">"test_x's shape: "</span> + str(test_x.shape))</span><br><span class="line"><span class="comment"># Please note that the above code is from the programming assignment</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> DeepNeuralNetwork</span><br><span class="line">layers_dims = (<span class="number">12288</span>, <span class="number">20</span>, <span class="number">7</span>, <span class="number">5</span>, <span class="number">1</span>)</span><br><span class="line"><span class="comment"># layers_dims = (12288, 10, 1)</span></span><br><span class="line"><span class="comment"># layers_dims = [12288, 20, 7, 5, 1] #  5-layer model</span></span><br><span class="line">activations = [<span class="string">'relu'</span>, <span class="string">'relu'</span>, <span class="string">'relu'</span>,<span class="string">'sigmoid'</span>]</span><br><span class="line">num_iter = <span class="number">2500</span></span><br><span class="line">learning_rate = <span class="number">0.0075</span></span><br><span class="line"></span><br><span class="line">clf = DeepNeuralNetwork(layers_dims, activations)\</span><br><span class="line">            .fit(train_x, train_y, num_iter, learning_rate, <span class="keyword">True</span>, <span class="number">100</span>)</span><br><span class="line">print(<span class="string">'train accuracy: &#123;:.2f&#125;%'</span>.format(clf.accuracy_score(train_x, train_y)*<span class="number">100</span>))</span><br><span class="line">print(<span class="string">'test accuracy: &#123;:.2f&#125;%'</span>.format(clf.accuracy_score(test_x, test_y)*<span class="number">100</span>))</span><br><span class="line"></span><br><span class="line"><span class="comment"># output</span></span><br><span class="line"><span class="comment"># Cost after iteration 0: 0.771749</span></span><br><span class="line"><span class="comment"># Cost after iteration 100: 0.672053</span></span><br><span class="line"><span class="comment"># Cost after iteration 200: 0.648263</span></span><br><span class="line"><span class="comment"># Cost after iteration 300: 0.611507</span></span><br><span class="line"><span class="comment"># Cost after iteration 400: 0.567047</span></span><br><span class="line"><span class="comment"># Cost after iteration 500: 0.540138</span></span><br><span class="line"><span class="comment"># Cost after iteration 600: 0.527930</span></span><br><span class="line"><span class="comment"># Cost after iteration 700: 0.465477</span></span><br><span class="line"><span class="comment"># Cost after iteration 800: 0.369126</span></span><br><span class="line"><span class="comment"># Cost after iteration 900: 0.391747</span></span><br><span class="line"><span class="comment"># Cost after iteration 1000: 0.315187</span></span><br><span class="line"><span class="comment"># Cost after iteration 1100: 0.272700</span></span><br><span class="line"><span class="comment"># Cost after iteration 1200: 0.237419</span></span><br><span class="line"><span class="comment"># Cost after iteration 1300: 0.199601</span></span><br><span class="line"><span class="comment"># Cost after iteration 1400: 0.189263</span></span><br><span class="line"><span class="comment"># Cost after iteration 1500: 0.161189</span></span><br><span class="line"><span class="comment"># Cost after iteration 1600: 0.148214</span></span><br><span class="line"><span class="comment"># Cost after iteration 1700: 0.137775</span></span><br><span class="line"><span class="comment"># Cost after iteration 1800: 0.129740</span></span><br><span class="line"><span class="comment"># Cost after iteration 1900: 0.121225</span></span><br><span class="line"><span class="comment"># Cost after iteration 2000: 0.113821</span></span><br><span class="line"><span class="comment"># Cost after iteration 2100: 0.107839</span></span><br><span class="line"><span class="comment"># Cost after iteration 2200: 0.102855</span></span><br><span class="line"><span class="comment"># Cost after iteration 2300: 0.100897</span></span><br><span class="line"><span class="comment"># Cost after iteration 2400: 0.092878</span></span><br><span class="line"><span class="comment"># train accuracy: 98.56%</span></span><br><span class="line"><span class="comment"># test accuracy: 80.00%</span></span><br></pre></td></tr></table></figure>
<h2 id="6-æœ¬å‘¨å†…å®¹å›é¡¾"><a href="#6-æœ¬å‘¨å†…å®¹å›é¡¾" class="headerlink" title="6. æœ¬å‘¨å†…å®¹å›é¡¾"></a>6. æœ¬å‘¨å†…å®¹å›é¡¾</h2><ul>
<li>æ·±åº¦ç¥ç»ç½‘ç»œä¸­çš„å‰å‘/åå‘ä¼ æ’­</li>
<li>å‚æ•°ä¸è¶…å‚æ•°</li>
<li>ä½¿ç”¨Pythonå®ç°æ·±åº¦ç¥ç»ç½‘ç»œ</li>
</ul>
<h2 id="7-Reference"><a href="#7-Reference" class="headerlink" title="7. Reference"></a>7. Reference</h2><ul>
<li><a href="https://study.163.com/my#/smarts" target="_blank" rel="external">ç½‘æ˜“äº‘è¯¾å ‚ - deeplearning</a></li>
<li><a href="http://daniellaah.github.io/2017/deeplearning-ai-Neural-Networks-and-Deep-Learning-week4.html" target="_blank" rel="external">deeplearning.ai ä¸“é¡¹è¯¾ç¨‹ä¸€ç¬¬å››å‘¨</a></li>
<li><a href="https://www.coursera.org/specializations/deep-learning" target="_blank" rel="external">Coursera - Deep Learning Specialization</a></li>
</ul>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[Neural Networks and Deep Learning (week3) - Shallow Neural Networks]]></title>
      <url>http://iequa.com/2018/07/14/deeplearning-ai-Neural-Networks-and-Deep-Learning-week3/</url>
      <content type="html"><![CDATA[<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js"],
    jax: ["input/TeX"],
    tex2jax: {
      inlineMath: [ ['$','$'], ['\\(','\\)'] ],
      displayMath: [ ['$$','$$']],
      processEscapes: true
    }
  });
</script>
<script type="text/javascript" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS_HTML,http://myserver.com/MathJax/config/local/local.js">
</script>

<p>æ­£å¼è¿›å…¥ç¥ç»ç½‘ç»œçš„å­¦ä¹ . å½“ç„¶, æˆ‘ä»¬å…ˆä»ç®€å•çš„åªæœ‰ä¸€ä¸ªéšè—å±‚çš„ç¥ç»ç½‘ç»œå¼€å§‹ã€‚</p>
<p>åœ¨å­¦ä¹ å®Œæœ¬å‘¨å†…å®¹ä¹‹å, æˆ‘ä»¬å°†ä¼šä½¿ç”¨ Python å®ç°ä¸€ä¸ªå•ä¸ªéšè—å±‚çš„ç¥ç»ç½‘ç»œã€‚</p>
<a id="more"></a>
<h2 id="1-å¸¸ç”¨ç¬¦å·ä¸åŸºæœ¬æ¦‚å¿µ"><a href="#1-å¸¸ç”¨ç¬¦å·ä¸åŸºæœ¬æ¦‚å¿µ" class="headerlink" title="1. å¸¸ç”¨ç¬¦å·ä¸åŸºæœ¬æ¦‚å¿µ"></a>1. å¸¸ç”¨ç¬¦å·ä¸åŸºæœ¬æ¦‚å¿µ</h2><p><img src="/images/deeplearning/C1W3-1_1.png" width="750"></p>
<blockquote>
<p>è¯¥ç¥ç»ç½‘ç»œå®Œå…¨å¯ä»¥ä½¿ç”¨ä¸Šä¸€å‘¨æ‰€è®²çš„è®¡ç®—å›¾æ¥è¡¨ç¤º, å’Œ $LR$ è®¡ç®—å›¾çš„åŒºåˆ«ä»…ä»…åœ¨äºå¤šäº†ä¸€ä¸ª $z$ å’Œ $a$ çš„è®¡ç®—è€Œå·². </p>
<p>å¦‚æœä½ å·²ç»å®Œå…¨æŒæ¡äº†ä¸Šä¸€å‘¨çš„å†…å®¹, é‚£ä¹ˆå…¶å®ä½ å·²ç»çŸ¥é“äº†ç¥ç»ç½‘ç»œçš„å‰å‘ä¼ æ’­, åå‘ä¼ æ’­(æ¢¯åº¦è®¡ç®—)ç­‰ç­‰.</p>
<p>è¦æ³¨æ„çš„æ˜¯å„ç§å‚æ•°, ä¸­é—´å˜é‡ $(a, z)$ çš„ç»´åº¦é—®é¢˜. å…³äºç¥ç»ç½‘ç»œçš„åŸºæœ¬æ¦‚å¿µ, è¿™é‡Œå°±ä¸èµ˜è¿°äº†. è§ä¸‹å›¾å›é¡¾ä¸€ä¸‹:</p>
</blockquote>
<p><img src="/images/deeplearning/C1W3-2_1.png" width="750"></p>
<h2 id="2-ç¥ç»ç½‘ç»œä¸­çš„å‰å‘ä¼ æ’­"><a href="#2-ç¥ç»ç½‘ç»œä¸­çš„å‰å‘ä¼ æ’­" class="headerlink" title="2. ç¥ç»ç½‘ç»œä¸­çš„å‰å‘ä¼ æ’­"></a>2. ç¥ç»ç½‘ç»œä¸­çš„å‰å‘ä¼ æ’­</h2><blockquote>
<p>æˆ‘ä»¬å…ˆä»¥ä¸€ä¸ªè®­ç»ƒæ ·æœ¬æ¥çœ‹ç¥ç»ç½‘ç»œä¸­çš„å‰å‘ä¼ æ’­.<br>æˆ‘ä»¬åªçœ‹è¿™ä¸ªç¥ç»ç½‘ç»œä¸­çš„è¾“å…¥å±‚å’Œéšè—å±‚çš„ç¬¬ä¸€ä¸ªæ¿€æ´»å•å…ƒ(å¦‚ä¸‹å›¾å³è¾¹æ‰€ç¤º). å…¶å®è¿™å°±æ˜¯ä¸€ä¸ªLogistic Regression. </p>
<ol>
<li>ç¥ç»ç½‘ç»œä¸­è¾“å…¥å±‚å’Œéšè—å±‚ (ä¸çœ‹è¾“å‡ºå±‚), è¿™å°±ä¸å°±æ˜¯å››ä¸ªLRæ”¾åœ¨ä¸€èµ·å—? </li>
<li>åœ¨ LR ä¸­ $z$ å’Œ $a$ çš„è®¡ç®—æˆ‘ä»¬å·²ç»æŒæ¡äº†, é‚£ä¹ˆåœ¨ç¥ç»ç½‘ç»œä¸­ $z$ å’Œ $a$ åˆæ˜¯ä»€ä¹ˆå‘¢? </li>
</ol>
<p><strong>æˆ‘ä»¬è®°éšè—å±‚ç¬¬ä¸€ä¸ª $z$ ä¸º $z_1$, ç¬¬äºŒä¸ª $z$ è®°ä¸º $z_2$ ä»¥æ­¤ç±»æ¨</strong>.<br>åªè¦å°†è¿™å››ä¸ª $z$ çºµå‘å åŠ åœ¨ä¸€èµ·ç§°ä¸ºä¸€ä¸ª<strong><code>åˆ—å‘é‡</code> å³å¯å¾—åˆ°ç¥ç»ç½‘ç»œä¸­è¿™ä¸€å±‚çš„ $z$</strong> ($a$åŒç†).</p>
</blockquote>
<p><img src="/images/deeplearning/C1W3-3_1.png" width="750"></p>
<p>é‚£ä¹ˆè¿™ä¸€å±‚çš„ $w, b$ åˆæ˜¯å¦‚ä½•å¾—åˆ°çš„? åˆ«å¿˜äº†, å¯¹äºå‚æ•° $w$ æ¥è¯´, å®ƒæœ¬èº«å°±æ˜¯ä¸€ä¸ªåˆ—é¡¹é‡, é‚£ä¹ˆå®ƒæ˜¯å¦‚ä½•åšçºµå‘å åŠ çš„å‘¢? æˆ‘ä»¬åªéœ€è¦å°†å…¶è½¬ç½®å˜æˆä¸€ä¸ªæ¨ªå‘é‡, å†çºµå‘å åŠ å³å¯.</p>
<p><img src="/images/deeplearning/C1W3-4_1.png" width="750"></p>
<p>å¾—åˆ°éšè—å±‚çš„ $a$ ä¹‹å, æˆ‘ä»¬å¯ä»¥å°†å…¶è§†ä¸ºè¾“å…¥, ç°åªçœ‹ç¥ç»ç½‘ç»œçš„éšè—å±‚å’Œè¾“å‡ºå±‚, æˆ‘ä»¬å‘ç°è¿™ä¸å°±æ˜¯ä¸ª $LR$ å˜›.</p>
<p><img src="/images/deeplearning/C1W3-5_1.png" width="750"></p>
<p>è¿™é‡Œæ€»ç»“ä¸€ä¸‹å„ç§å˜é‡çš„ç»´åº¦ (æ³¨æ„: è¿™é‡Œæ˜¯é’ˆå¯¹ä¸€ä¸ªè®­ç»ƒæ ·æœ¬æ¥è¯´çš„, $n_L$ ä»£è¡¨çš„ $L$ å±‚çš„èŠ‚ç‚¹ä¸ªæ•°):</p>
<ul>
<li>$w.shape : (n_L, n_{(L-1)})$</li>
<li>$b.shape : (n_L, 1)$</li>
<li>$z.shape : (n_L, 1)$</li>
<li>$a.shape : (n_L, 1)$</li>
</ul>
<p>é‚£ä¹ˆå¦‚æœæœ‰ $m$ ä¸ªè®­ç»ƒæ ·æœ¬è¿™äº›å˜é‡çš„ç»´åº¦åˆæ˜¯æ€æ ·çš„å‘¢. æˆ‘ä»¬æ€è€ƒå“ªäº›å˜é‡çš„ç»´åº¦ä¼šéšç€æ ·æœ¬æ•°çš„å˜åŒ–è€Œå˜åŒ–. $w$ æ˜¯å‚æ•°æ˜¾ç„¶å®ƒçš„ç»´åº¦æ˜¯ä¸ä¼šå˜çš„. è€Œè¾“å…¥æ¯ä¸€ä¸ªæ ·æœ¬éƒ½ä¼šæœ‰ä¸€ä¸ª $z$ å’Œ $a$, è¿˜è®°å¾— $X$ çš„å½¢å¼å—? åŒæ ·åœ°, $Z$ å°±æ˜¯å°†æ¯ä¸ªæ ·æœ¬ç®—å‡ºæ¥çš„ $z$ æ¨ªå‘å åŠ (AåŒç†). å…·ä½“è®¡ç®—è¿‡ç¨‹å¦‚ä¸‹å›¾:</p>
<p><img src="/images/deeplearning/C1W3-6_1.png" width="750"></p>
<p><img src="/images/deeplearning/C1W3-7_1.png" width="750"></p>
<p><img src="/images/deeplearning/C1W3-8_1.png" width="750"></p>
<h2 id="3-ç¥ç»ç½‘ç»œä¸­çš„æ¿€æ´»å‡½æ•°"><a href="#3-ç¥ç»ç½‘ç»œä¸­çš„æ¿€æ´»å‡½æ•°" class="headerlink" title="3. ç¥ç»ç½‘ç»œä¸­çš„æ¿€æ´»å‡½æ•°"></a>3. ç¥ç»ç½‘ç»œä¸­çš„æ¿€æ´»å‡½æ•°</h2><p>å››ç§å¸¸ç”¨çš„æ¿€æ´»å‡½æ•°: Sigmoid, Tanh, ReLU, Leaky ReLU.</p>
<p>å…¶ä¸­ sigmoid æˆ‘ä»¬å·²ç»è§è¿‡äº†, å®ƒçš„è¾“å‡ºå¯ä»¥çœ‹æˆä¸€ä¸ªæ¦‚ç‡å€¼, å¾€å¾€ç”¨åœ¨è¾“å‡ºå±‚. <strong>å¯¹äºä¸­é—´å±‚æ¥è¯´, å¾€å¾€æ˜¯<code>ReLU</code>çš„æ•ˆæœæœ€å¥½.</strong></p>
<blockquote>
<p>Tanh æ•°æ®å¹³å‡å€¼ä¸º 0ï¼Œå…·æœ‰æ•°æ®ä¸­å¿ƒåŒ–çš„æ•ˆæœï¼Œå‡ ä¹åœ¨ä»»ä½•åœºåˆéƒ½ä¼˜äº Sigmoid</p>
</blockquote>
<p><img src="/images/deeplearning/C1W3-9_1.png" width="750"></p>
<p>ä»¥ä¸Šæ¿€æ´»å‡½æ•°çš„å¯¼æ•°è¯·è‡ªè¡Œåœ¨è‰ç¨¿çº¸ä¸Šæ¨å¯¼.</p>
<p><img src="/images/deeplearning/C1W3-10_1.png" width="750"></p>
<blockquote>
<p>derivative of <strong><code>sigmoid</code></strong> activation function</p>
</blockquote>
<p><img src="/images/deeplearning/C1W3-11_1.png" width="750"></p>
<blockquote>
<p>derivative of <strong><code>tanh</code></strong> activation function</p>
</blockquote>
<p><img src="/images/deeplearning/C1W3-12_1.png" width="750"></p>
<blockquote>
<p>derivative of <strong><code>ReLU and Leaky ReLU</code></strong> activation function</p>
</blockquote>
<p>ä¸ºä»€ä¹ˆéœ€è¦æ¿€æ´»å‡½æ•°? å¦‚æœæ²¡æœ‰æ¿€æ´»å‡½æ•°, é‚£ä¹ˆä¸è®ºå¤šå°‘å±‚çš„ç¥ç»ç½‘ç»œéƒ½åªç›¸å½“äºä¸€ä¸ªLR. è¯æ˜å¦‚ä¸‹:</p>
<blockquote>
<p><strong>it turns out that if you use a linear activation function or alternatively if you donâ€™t have an activation function, then no matter how many layers your neural network has, always doing just computing a linear activation function, so you might as well not have any hidden layers.</strong></p>
<p>so unless you throw a non-linearity in there, then youâ€™re not computing more interesting functions.</p>
</blockquote>
<p><img src="/images/deeplearning/C1W3-13_1.png" width="750"></p>
<blockquote>
<p>ä½ å¯ä»¥åœ¨éšè—å±‚ç”¨ tanhï¼Œè¾“å‡ºå±‚ç”¨ sigmoidï¼Œè¯´æ˜ä¸åŒå±‚çš„æ¿€æ´»å‡½æ•°å¯ä»¥ä¸ä¸€æ ·ã€‚</p>
<p>ç°å®æƒ…å†µæ˜¯ : <strong>the tanh is pretty much stricly superior. never use sigmoid</strong></p>
</blockquote>
<p><strong>ReLU</strong> (rectified linear unit çŸ«æ­£çº¿æ€§å•å…ƒ)</p>
<blockquote>
<p>tanh å’Œ sigmoid éƒ½æœ‰ä¸€ä¸ªç¼ºç‚¹ï¼Œå°±æ˜¯ z éå¸¸å¤§æˆ–è€…éå¸¸å°ï¼Œå‡½æ•°çš„æ–œç‡(å¯¼æ•°æ¢¯åº¦)å°±ä¼šéå¸¸å°, æ¢¯åº¦ä¸‹é™å¾ˆæ…¢.</p>
<p><strong>the slope of the function you know ends up being close to zero, and so this can slow down gradient descent</strong></p>
<p><strong>ReLU (rectified linear unit) is well</strong>, z = 0 çš„æ—¶å€™ï¼Œä½ å¯ä»¥ç»™å¯¼æ•°èµ‹å€¼ä¸º 0 or 1ï¼Œè™½ç„¶è¿™ä¸ªç‚¹æ˜¯ä¸å¯å¾®çš„. ä½†<strong>å®ç°</strong>æ²¡æœ‰å½±å“.</p>
<p>è™½ç„¶ z &lt; 0, çš„æ—¶å€™ï¼Œæ–œç‡ä¸º0ï¼Œ ä½†åœ¨å®è·µä¸­ï¼Œæœ‰è¶³å¤Ÿå¤šçš„éšè—å•å…ƒ ä»¤ z &gt; 0, å¯¹å¤§å¤šæ•°è®­ç»ƒæ ·æœ¬æ¥è¯´æ˜¯å¾ˆå¿«çš„.</p>
</blockquote>
<p>Notes:</p>
<blockquote>
<p>so the one place you might use as linear activation function, others usually in the output layer.</p>
</blockquote>
<h2 id="4-ç¥ç»ç½‘ç»œä¸­çš„åå‘ä¼ æ’­-back-propagation"><a href="#4-ç¥ç»ç½‘ç»œä¸­çš„åå‘ä¼ æ’­-back-propagation" class="headerlink" title="4. ç¥ç»ç½‘ç»œä¸­çš„åå‘ä¼ æ’­ back propagation"></a>4. ç¥ç»ç½‘ç»œä¸­çš„åå‘ä¼ æ’­ back propagation</h2><blockquote>
<p>åå‘ä¼ æ’­æœ€ä¸»è¦çš„å°±æ˜¯è®¡ç®—æ¢¯åº¦, åœ¨ä¸Šä¸€å‘¨çš„å†…å®¹ä¸­, æˆ‘ä»¬å·²ç»çŸ¥é“äº†LRæ¢¯åº¦çš„è®¡ç®—. </p>
<p>åŒæ ·çš„æ–¹å¼, æˆ‘ä»¬ä½¿ç”¨<strong>è®¡ç®—å›¾</strong>æ¥è®¡ç®—<strong>ç¥ç»ç½‘ç»œä¸­çš„å„ç§æ¢¯åº¦</strong>.</p>
</blockquote>
<p><img src="/images/deeplearning/C1W3-14.png" width="750"></p>
<p>$$<br>dz^{[2]} = \frac{dL}{dz}= \frac{dL}{da^{[2]}}\frac{da^{[2]}}{dz^{[2]}}=a^{[2]}-y<br>$$</p>
<p>$$<br>dW^{[2]}=\frac{dL}{dW^{[2]}}=\frac{dL}{dz^{[2]}}\frac{dz^{[2]}}{dW^{[2]}}=dz^{[2]}a^{[1]}<br>$$</p>
<p>$$<br>db^{[2]}=\frac{dL}{db^{[2]}}=\frac{dL}{dz^{[2]}}\frac{dz^{[2]}}{db^{[2]}}=dz^{[2]}<br>$$</p>
<blockquote>
<p><strong>backward propagation :</strong></p>
</blockquote>
<p>$$<br>dz^{[1]} = \frac{dL}{dz^{[2]}}\frac{dz^{[2]}}{da^{[1]}}\frac{da^{[1]}}{dz^{[1]}}=W^{[2]T}dz^{[2]}*g^{[1]â€™}(z^{[1]})<br>$$</p>
<p>$$<br>dW^{[1]}=\frac{dL}{dW^{[1]}}=\frac{dL}{dz^{[1]}}\frac{dz^{[1]}}{dW^{[1]}}=dz^{[1]}x^T<br>$$</p>
<p>$$<br>db^{[1]}=\frac{dL}{db^{[1]}}=\frac{dL}{dz^{[1]}}\frac{dz^{[1]}}{db^{[1]}}=dz^{[1]}<br>$$</p>
<blockquote>
<p>Notes: $\frac{dL}{dz^{[2]}} = dz^{[2]}$ ï¼Œ $\frac{dz^{[2]}}{da^{[1]}} = W^{[2]}$ ï¼Œ $\frac{da^{[1]}}{dz^{[1]}}=g^{[1]â€™}(z^{[1]})$</p>
</blockquote>
<p>ä¸‹å›¾å³è¾¹ä¸ºåœ¨$m$ä¸ªè®­ç»ƒæ ·æœ¬ä¸Šçš„å‘é‡åŒ–è¡¨è¾¾:</p>
<p><img src="/images/deeplearning/C1W3-15_1.png" width="750"></p>
<blockquote>
<p>Notes: </p>
<ul>
<li>$n^[0]$ = input features</li>
<li>$n^[1]$ = hidden units</li>
<li>$n^[2]$ = output units</li>
</ul>
</blockquote>
<h2 id="5-ç¥ç»ç½‘ç»œä¸­çš„å‚æ•°åˆå§‹åŒ–"><a href="#5-ç¥ç»ç½‘ç»œä¸­çš„å‚æ•°åˆå§‹åŒ–" class="headerlink" title="5. ç¥ç»ç½‘ç»œä¸­çš„å‚æ•°åˆå§‹åŒ–"></a>5. ç¥ç»ç½‘ç»œä¸­çš„å‚æ•°åˆå§‹åŒ–</h2><p>åœ¨ LR ä¸­æˆ‘ä»¬çš„å‚æ•° $w$ åˆå§‹åŒ–ä¸º 0, å¦‚æœåœ¨ç¥ç»ç½‘ç»œä¸­ä¹Ÿæ˜¯ç”¨ç›¸åŒçš„åˆå§‹åŒ–, é‚£ä¹ˆä¸€ä¸ªéšè—å±‚çš„æ¯ä¸ªèŠ‚ç‚¹éƒ½æ˜¯ç›¸åŒçš„, ä¸è®ºè¿­ä»£å¤šå°‘æ¬¡. è¿™æ˜¾ç„¶æ˜¯ä¸åˆç†çš„, æ‰€ä»¥æˆ‘ä»¬åº”è¯¥<font color="red"> <strong>éšæœºåœ°åˆå§‹åŒ–</strong></font> $w$ ä»è€Œè§£å†³è¿™ä¸ª sysmmetry breaking problem. ç ´åå¯¹ç§°é—®é¢˜</p>
<p><img src="/images/deeplearning/C1W3-16_1.png" width="750"></p>
<blockquote>
<p>å…·ä½“åˆå§‹åŒ–ä»£ç å¯å‚è§ä¸‹å›¾, å…¶ä¸­ <strong>ä¹˜ä»¥ 0.01</strong> æ˜¯ä¸ºäº†è®©å‚æ•° $w$ è¾ƒå°, åŠ é€Ÿæ¢¯åº¦ä¸‹é™ </p>
<p>å¦‚æ¿€æ´»å‡½æ•°ä¸º tanh æ—¶, è‹¥å‚æ•°è¾ƒå¤§åˆ™ $z$ ä¹Ÿè¾ƒå¤§, æ­¤æ—¶çš„æ¢¯åº¦æ¥è¿‘äº 0, æ›´æ–°ç¼“æ…¢. å¦‚ä¸æ˜¯ tanh or sigmoid åˆ™é—®é¢˜ä¸å¤§.</p>
<p>this is a relatively shallow neural network without too many hidden layers, so 0.01 maybe work ok.</p>
<p>finally it turns out that sometimes there can be better constants than 0.01.</p>
</blockquote>
<p><img src="/images/deeplearning/C1W3-17_1.png" width="750"></p>
<blockquote>
<p>$b$ å¹¶æ²¡æœ‰è¿™ä¸ª sysmmetry breaking problem, æ‰€ä»¥å¯ä»¥ $np.zeros((2, 1))$</p>
</blockquote>
<h2 id="6-ç”¨Pythonæ­å»ºç®€å•ç¥ç»ç½‘ç»œ"><a href="#6-ç”¨Pythonæ­å»ºç®€å•ç¥ç»ç½‘ç»œ" class="headerlink" title="6. ç”¨Pythonæ­å»ºç®€å•ç¥ç»ç½‘ç»œ"></a>6. ç”¨Pythonæ­å»ºç®€å•ç¥ç»ç½‘ç»œ</h2><p>ä½¿ç”¨Python+Numpyå®ç°ä¸€ä¸ªç®€å•çš„ç¥ç»ç½‘ç»œ. ä»¥ä¸‹ä¸ºå‚è€ƒä»£ç </p>
<p>SimpleNeuralNetwork.py</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">sigmoid</span><span class="params">(z)</span>:</span></span><br><span class="line">    <span class="keyword">return</span> <span class="number">1.</span> / (<span class="number">1.</span>+np.exp(-z))</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">SimpleNeuralNetwork</span><span class="params">()</span>:</span></span><br><span class="line">    <span class="comment"># simple neural network with one hidden layer</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self, input_size, hidden_layer_size)</span>:</span></span><br><span class="line">        self.paramters = self.__parameter_initailizer(input_size, hidden_layer_size)</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__parameter_initailizer</span><span class="params">(self, n_x, n_h)</span>:</span></span><br><span class="line">        <span class="comment"># W cannot be initialized with zeros</span></span><br><span class="line">        W1 = np.random.randn(n_h, n_x) * <span class="number">0.01</span></span><br><span class="line">        b1 = np.zeros((n_h, <span class="number">1</span>))</span><br><span class="line">        W2 = np.random.randn(<span class="number">1</span>, n_h) * <span class="number">0.01</span></span><br><span class="line">        b2 = np.zeros((<span class="number">1</span>, <span class="number">1</span>))</span><br><span class="line">        <span class="keyword">return</span> &#123;<span class="string">'W1'</span>: W1,<span class="string">'b1'</span>: b1,<span class="string">'W2'</span>: W2,<span class="string">'b2'</span>: b2&#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__forward_propagation</span><span class="params">(self, X)</span>:</span></span><br><span class="line">        W1 = self.paramters[<span class="string">'W1'</span>]</span><br><span class="line">        b1 = self.paramters[<span class="string">'b1'</span>]</span><br><span class="line">        W2 = self.paramters[<span class="string">'W2'</span>]</span><br><span class="line">        b2 = self.paramters[<span class="string">'b2'</span>]</span><br><span class="line">        <span class="comment"># forward propagation</span></span><br><span class="line">        Z1 = np.dot(W1, X) + b1</span><br><span class="line">        A1 = np.tanh(Z1)</span><br><span class="line">        Z2 = np.dot(W2, A1) + b2</span><br><span class="line">        A2 = sigmoid(Z2)</span><br><span class="line">        cache = &#123;<span class="string">'Z1'</span>: Z1,<span class="string">'A1'</span>: A1,<span class="string">'Z2'</span>: Z2,<span class="string">'A2'</span>: A2&#125;</span><br><span class="line">        <span class="keyword">return</span> A2, cache</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__compute_cost</span><span class="params">(self, A2, Y)</span>:</span></span><br><span class="line">        m = A2.shape[<span class="number">1</span>]</span><br><span class="line">        cost = -np.sum(Y*np.log(A2) + (<span class="number">1</span>-Y)*np.log(<span class="number">1</span>-A2)) / m</span><br><span class="line">        <span class="keyword">return</span> cost</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">cost_function</span><span class="params">(self, X, Y)</span>:</span></span><br><span class="line">        <span class="comment"># use the result from forward propagation and the label Y to compute cost</span></span><br><span class="line">        A2, cache = self.__forward_propagation(X)</span><br><span class="line">        cost = self.__compute_cost(A2, Y)</span><br><span class="line">        <span class="keyword">return</span> cost</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__backward_propagation</span><span class="params">(self, cache, Y)</span>:</span></span><br><span class="line">        A1, A2 = cache[<span class="string">'A1'</span>], cache[<span class="string">'A2'</span>]</span><br><span class="line">        W2 = self.paramters[<span class="string">'W2'</span>]</span><br><span class="line">        m = X.shape[<span class="number">1</span>]</span><br><span class="line">        <span class="comment"># backward propagation computes gradients</span></span><br><span class="line">        dZ2 = A2 - Y</span><br><span class="line">        dW2 = np.dot(dZ2, A1.T) / m</span><br><span class="line">        db2 = np.sum(dZ2, axis=<span class="number">1</span>, keepdims=<span class="keyword">True</span>) / m</span><br><span class="line">        dZ1 = np.dot(W2.T, dZ2) * (<span class="number">1</span> - np.power(A1, <span class="number">2</span>))</span><br><span class="line">        dW1 = np.dot(dZ1, X.T) / m</span><br><span class="line">        db1 = np.sum(dZ1, axis=<span class="number">1</span>, keepdims=<span class="keyword">True</span>) / m</span><br><span class="line">        grads = &#123;<span class="string">'dW1'</span>: dW1,<span class="string">'db1'</span>: db1,<span class="string">'dW2'</span>: dW2,<span class="string">'db2'</span>: db2&#125;</span><br><span class="line">        <span class="keyword">return</span> grads</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__update_parameters</span><span class="params">(self, grads, learning_rate)</span>:</span></span><br><span class="line">        self.paramters[<span class="string">'W1'</span>] -= learning_rate * grads[<span class="string">'dW1'</span>]</span><br><span class="line">        self.paramters[<span class="string">'b1'</span>] -= learning_rate * grads[<span class="string">'db1'</span>]</span><br><span class="line">        self.paramters[<span class="string">'W2'</span>] -= learning_rate * grads[<span class="string">'dW2'</span>]</span><br><span class="line">        self.paramters[<span class="string">'b2'</span>] -= learning_rate * grads[<span class="string">'db2'</span>]</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">fit</span><span class="params">(self, X, Y, num_iterations, learning_rate, print_cost=False, print_num=<span class="number">100</span>)</span>:</span></span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> range(num_iterations):</span><br><span class="line">            <span class="comment"># forward propagation</span></span><br><span class="line">            A2, cache = self.__forward_propagation(X)</span><br><span class="line">            <span class="comment"># compute cost</span></span><br><span class="line">            cost = self.cost_function(X, Y)</span><br><span class="line">            <span class="comment"># backward propagation</span></span><br><span class="line">            grads = self.__backward_propagation(cache, Y)</span><br><span class="line">            <span class="comment"># update parameters</span></span><br><span class="line">            self.__update_parameters(grads, learning_rate)</span><br><span class="line">            <span class="comment"># print cost</span></span><br><span class="line">            <span class="keyword">if</span> i % print_num == <span class="number">0</span> <span class="keyword">and</span> print_cost:</span><br><span class="line">                <span class="keyword">print</span> (<span class="string">"Cost after iteration %i: %f"</span> %(i, cost))</span><br><span class="line">        <span class="keyword">return</span> self</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">predict_prob</span><span class="params">(self, X)</span>:</span></span><br><span class="line">        <span class="comment"># result of forward_propagation is the probability</span></span><br><span class="line">        A2, _ = self.__forward_propagation(X)</span><br><span class="line">        <span class="keyword">return</span> A2</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">predict</span><span class="params">(self, X, threshold=<span class="number">0.5</span>)</span>:</span></span><br><span class="line">        pred_prob = self.predict_prob(X)</span><br><span class="line">        threshold_func = np.vectorize(<span class="keyword">lambda</span> x: <span class="number">1</span> <span class="keyword">if</span> x &gt; threshold <span class="keyword">else</span> <span class="number">0</span>)</span><br><span class="line">        Y_prediction = threshold_func(pred_prob)</span><br><span class="line">        <span class="keyword">return</span> Y_prediction</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">accuracy_score</span><span class="params">(self, X, Y)</span>:</span></span><br><span class="line">        pred = self.predict(X)</span><br><span class="line">        <span class="keyword">return</span> len(Y[pred == Y]) / Y.shape[<span class="number">1</span>]</span><br></pre></td></tr></table></figure>
<p>main.py</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment"># Package imports</span></span><br><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br><span class="line"><span class="keyword">from</span> testCases <span class="keyword">import</span> *</span><br><span class="line"><span class="keyword">import</span> sklearn</span><br><span class="line"><span class="keyword">import</span> sklearn.datasets</span><br><span class="line"><span class="keyword">import</span> sklearn.linear_model</span><br><span class="line"><span class="keyword">from</span> planar_utils <span class="keyword">import</span> plot_decision_boundary, sigmoid, load_planar_dataset, load_extra_datasets</span><br><span class="line">%matplotlib inline</span><br><span class="line"></span><br><span class="line">np.random.seed(<span class="number">1</span>) <span class="comment"># set a seed so that the results are consistent</span></span><br><span class="line">X, Y = load_planar_dataset()</span><br><span class="line"><span class="comment"># Please note that the above code is from the programming assignment</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> SimpleNeuralNetwork</span><br><span class="line">np.random.seed(<span class="number">3</span>)</span><br><span class="line">num_iter = <span class="number">10001</span></span><br><span class="line">learning_rate = <span class="number">1.2</span></span><br><span class="line">input_size = X.shape[<span class="number">0</span>]</span><br><span class="line">hidden_layer_size = <span class="number">4</span></span><br><span class="line">clf = SimpleNeuralNetwork(input_size=input_size,</span><br><span class="line">                          hidden_layer_size=hidden_layer_size)\</span><br><span class="line">        .fit(X, Y, num_iter, learning_rate, <span class="keyword">True</span>, <span class="number">1000</span>)</span><br><span class="line">train_acc = clf.accuracy_score(X, Y)</span><br><span class="line">print(<span class="string">'training accuracy: &#123;&#125;%'</span>.format(train_acc*<span class="number">100</span>))</span><br><span class="line"></span><br><span class="line"><span class="comment"># output</span></span><br><span class="line"><span class="comment"># Cost after iteration 0: 0.693162</span></span><br><span class="line"><span class="comment"># Cost after iteration 1000: 0.258625</span></span><br><span class="line"><span class="comment"># Cost after iteration 2000: 0.239334</span></span><br><span class="line"><span class="comment"># Cost after iteration 3000: 0.230802</span></span><br><span class="line"><span class="comment"># Cost after iteration 4000: 0.225528</span></span><br><span class="line"><span class="comment"># Cost after iteration 5000: 0.221845</span></span><br><span class="line"><span class="comment"># Cost after iteration 6000: 0.219094</span></span><br><span class="line"><span class="comment"># Cost after iteration 7000: 0.220628</span></span><br><span class="line"><span class="comment"># Cost after iteration 8000: 0.219400</span></span><br><span class="line"><span class="comment"># Cost after iteration 9000: 0.218482</span></span><br><span class="line"><span class="comment"># Cost after iteration 10000: 0.217738</span></span><br><span class="line"><span class="comment"># training accuracy: 90.5%</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> hidden_layer_size <span class="keyword">in</span> [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">20</span>, <span class="number">50</span>]:</span><br><span class="line">    clf = SimpleNeuralNetwork(input_size=input_size,</span><br><span class="line">                               hidden_layer_size=hidden_layer_size)\</span><br><span class="line">            .fit(X, Y, num_iter, learning_rate, <span class="keyword">False</span>)</span><br><span class="line">    print(<span class="string">'&#123;&#125; hidden units, cost: &#123;&#125;, accuracy: &#123;&#125;%'</span></span><br><span class="line">           .format(hidden_layer_size,</span><br><span class="line">                   clf.cost_function(X, Y),</span><br><span class="line">                   clf.accuracy_score(X, Y)))</span><br><span class="line"><span class="comment"># output</span></span><br><span class="line"><span class="comment"># 1 hidden units, cost: 0.6315593779798304, accuracy: 67.5%</span></span><br><span class="line"><span class="comment"># 2 hidden units, cost: 0.5727606525435293, accuracy: 67.25%</span></span><br><span class="line"><span class="comment"># 3 hidden units, cost: 0.2521014374551156, accuracy: 91.0%</span></span><br><span class="line"><span class="comment"># 4 hidden units, cost: 0.24703039056643344, accuracy: 91.25%</span></span><br><span class="line"><span class="comment"># 5 hidden units, cost: 0.17206481441467936, accuracy: 91.5%</span></span><br><span class="line"><span class="comment"># 20 hidden units, cost: 0.16003869681611513, accuracy: 92.25%</span></span><br><span class="line"><span class="comment"># 50 hidden units, cost: 0.16000569403994763, accuracy: 92.5%</span></span><br></pre></td></tr></table></figure>
<h2 id="7-æœ¬å‘¨å†…å®¹å›é¡¾"><a href="#7-æœ¬å‘¨å†…å®¹å›é¡¾" class="headerlink" title="7. æœ¬å‘¨å†…å®¹å›é¡¾"></a>7. æœ¬å‘¨å†…å®¹å›é¡¾</h2><ul>
<li>å­¦ä¹ äº†ç¥ç»ç½‘ç»œçš„åŸºæœ¬æ¦‚å¿µ</li>
<li>æŒæ¡äº†ç¥ç»ç½‘ç»œä¸­å„ç§å˜é‡çš„ç»´åº¦</li>
<li>æŒæ¡äº†ç¥ç»ç½‘ç»œä¸­çš„å‰å‘ä¼ æ’­ä¸åå‘ä¼ æ’­</li>
<li>äº†è§£äº†ç¥ç»ç½‘ç»œä¸­çš„æ¿€æ´»å‡½æ•°</li>
<li>å­¦ä¹ äº†ç¥ç»ç½‘ç»œä¸­å‚æ•°åˆå§‹åŒ–çš„é‡è¦æ€§</li>
<li>æŒæ¡äº†ä½¿ç”¨Pythonå®ç°ç®€å•çš„ç¥ç»ç½‘ç»œ</li>
</ul>
<h2 id="Reference"><a href="#Reference" class="headerlink" title="Reference"></a>Reference</h2><ul>
<li><a href="https://study.163.com/my#/smarts" target="_blank" rel="external">ç½‘æ˜“äº‘è¯¾å ‚ - deeplearning</a></li>
<li><a href="http://daniellaah.github.io/2017/deeplearning-ai-Neural-Networks-and-Deep-Learning-week3.html" target="_blank" rel="external">deeplearning.ai ä¸“é¡¹è¯¾ç¨‹ä¸€ç¬¬ä¸‰å‘¨</a></li>
<li><a href="https://www.coursera.org/specializations/deep-learning" target="_blank" rel="external">Coursera - Deep Learning Specialization</a></li>
</ul>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[æœºå™¨å­¦ä¹ ä¹‹FMä¸FFMï¼ˆFactorization Machinesï¼‰(not finish)]]></title>
      <url>http://iequa.com/2018/07/12/ml-10-FM-FMM/</url>
      <content type="html"><![CDATA[<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js"],
    jax: ["input/TeX"],
    tex2jax: {
      inlineMath: [ ['$','$'], ['\\(','\\)'] ],
      displayMath: [ ['$$','$$']],
      processEscapes: true
    }
  });
</script>
<script type="text/javascript" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS_HTML,http://myserver.com/MathJax/config/local/local.js">
</script>

<p>å› å­åˆ†è§£æœºï¼ˆFactorization Machineï¼Œç®€ç§°FMï¼‰ï¼Œåˆç§°åˆ†è§£æœºå™¨ã€‚æ˜¯ç”±Konstanzå¤§å­¦ï¼ˆå¾·å›½åº·æ–¯å¦èŒ¨å¤§å­¦ï¼‰Steffen Rendleï¼ˆç°ä»»èŒäºGoogleï¼‰äº2010å¹´æœ€æ—©æå‡ºçš„ï¼Œæ—¨åœ¨è§£å†³å¤§è§„æ¨¡ç¨€ç–æ•°æ®ä¸‹çš„ç‰¹å¾ç»„åˆé—®é¢˜ã€‚</p>
<a id="more"></a>
<p>åœ¨ç³»ç»Ÿä»‹ç»FMä¹‹å‰ï¼Œæˆ‘ä»¬å…ˆäº†è§£ä¸€ä¸‹åœ¨å®é™…åº”ç”¨åœºæ™¯ä¸­ï¼Œç¨€ç–æ•°æ®æ˜¯æ€æ ·äº§ç”Ÿçš„ï¼Ÿ</p>
<h2 id="Reference-article"><a href="#Reference-article" class="headerlink" title="Reference article"></a>Reference article</h2><ul>
<li><a href="https://blog.csdn.net/wyisfish/article/details/79998959" target="_blank" rel="external">æœºå™¨å­¦ä¹ ä¹‹FMä¸FFMï¼ˆFactorization Machinesï¼‰</a></li>
<li><a href="https://www.zhihu.com/question/27043630?from=profile_question_card" target="_blank" rel="external">factorization machineå’Œlogistic regressionçš„åŒºåˆ«ï¼Ÿ</a></li>
<li><a href="http://www.52caml.com/head_first_ml/ml-chapter9-factorization-family/" target="_blank" rel="external">æ·±å…¥æµ…å‡ºMLä¹‹Factorizationå®¶æ—</a></li>
<li><a href="https://www.cnblogs.com/pinard/p/6370127.html" target="_blank" rel="external">åˆ†è§£æœº(Factorization Machines)æ¨èç®—æ³•åŸç†</a></li>
<li><a href="https://plushunter.github.io/2017/07/13/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0%E7%AE%97%E6%B3%95%E7%B3%BB%E5%88%97%EF%BC%8826%EF%BC%89%EF%BC%9A%E5%9B%A0%E5%AD%90%E5%88%86%E8%A7%A3%E6%9C%BA%EF%BC%88FM%EF%BC%89%E4%B8%8E%E5%9C%BA%E6%84%9F%E7%9F%A5%E5%88%86%E8%A7%A3%E6%9C%BA%EF%BC%88FFM%EF%BC%89/" target="_blank" rel="external">æœºå™¨å­¦ä¹ ç®—æ³•ç³»åˆ—ï¼ˆ26ï¼‰ï¼šå› å­åˆ†è§£æœºï¼ˆFMï¼‰ä¸åœºæ„ŸçŸ¥åˆ†è§£æœºï¼ˆFFMï¼‰</a></li>
<li><a href="https://plushunter.github.io/tech-stack/" target="_blank" rel="external">Free Will</a></li>
<li><a href="https://tech.meituan.com/deep_understanding_of_ffm_principles_and_practices.html" target="_blank" rel="external">ç¾å›¢æŠ€æœ¯å›¢é˜Ÿ - æ·±å…¥FFMåŸç†ä¸å®è·µ</a></li>
</ul>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[L1ã€L2 æ­£åˆ™åŒ–å°è®° (not finish)]]></title>
      <url>http://iequa.com/2018/07/11/ml-1-L1-L2/</url>
      <content type="html"><![CDATA[<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js"],
    jax: ["input/TeX"],
    tex2jax: {
      inlineMath: [ ['$','$'], ['\\(','\\)'] ],
      displayMath: [ ['$$','$$']],
      processEscapes: true
    }
  });
</script>
<script type="text/javascript" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS_HTML,http://myserver.com/MathJax/config/local/local.js">
</script>

<ul>
<li>å¥¥å¡å§†å‰ƒåˆ€: åœ¨æ‰€æœ‰å¯èƒ½é€‰æ‹©çš„æ¨¡å‹ä¸­ï¼Œæˆ‘ä»¬åº”è¯¥é€‰æ‹©èƒ½å¤Ÿå¾ˆå¥½çš„è§£é‡Šå·²çŸ¥æ•°æ®å¹¶ä¸”ååˆ†ç®€å•çš„æ¨¡å‹</li>
<li>è´å¶æ–¯ä¼°è®¡: è§„åˆ™åŒ–é¡¹å¯¹åº”äºæ¨¡å‹çš„å…ˆéªŒæ¦‚ç‡</li>
<li>ç»“æ„é£é™©æœ€å°åŒ–: è§„åˆ™åŒ–é¡¹æ˜¯ç»“æ„é£é™©æœ€å°åŒ–ç­–ç•¥çš„å®ç°ï¼Œå³åœ¨ç»éªŒé£é™©ä¸ŠåŠ ä¸€ä¸ªæ­£åˆ™åŒ–é¡¹æˆ–æƒ©ç½šé¡¹</li>
</ul>
<a id="more"></a>
<p>Supervised Learning å°±æ˜¯ â€œminimizeyour error while regularizing your parametersâ€ï¼Œå°±æ˜¯åœ¨è§„åˆ™åŒ–å‚æ•°çš„åŒæ—¶æœ€å°åŒ–è¯¯å·®</p>
<blockquote>
<p><strong>æœ€å°åŒ–è¯¯å·®</strong>æ˜¯ä¸ºäº†è®©æˆ‘ä»¬çš„æ¨¡å‹æ‹Ÿåˆæˆ‘ä»¬çš„è®­ç»ƒæ•°æ®ï¼Œ<strong>regularized parameters</strong>æ˜¯é˜²æ­¢æˆ‘ä»¬çš„æ¨¡å‹<strong>è¿‡åˆ†æ‹Ÿåˆ</strong>æˆ‘ä»¬çš„<strong>è®­ç»ƒæ•°æ®</strong>ã€‚ å› ä¸ºå‚æ•°å¤ªå¤šï¼Œä¼šå¯¼è‡´æˆ‘ä»¬çš„æ¨¡å‹å¤æ‚åº¦ä¸Šå‡ï¼Œå®¹æ˜“è¿‡æ‹Ÿåˆï¼Œä¹Ÿå°±æ˜¯æˆ‘ä»¬çš„è®­ç»ƒè¯¯å·®ä¼šå¾ˆå°ã€‚ä½†è®­ç»ƒè¯¯å·®å°å¹¶ä¸æ˜¯æˆ‘ä»¬çš„æœ€ç»ˆç›®æ ‡ï¼Œæˆ‘ä»¬çš„<strong>ç›®æ ‡æ˜¯å¸Œæœ›æ¨¡å‹çš„æµ‹è¯•è¯¯å·®å°</strong>ï¼Œä¹Ÿå°±æ˜¯èƒ½å‡†ç¡®çš„é¢„æµ‹æ–°çš„æ ·æœ¬ã€‚</p>
<p>æˆ‘ä»¬éœ€è¦<strong>ä¿è¯æ¨¡å‹â€œ<code>ç®€å•</code>â€çš„åŸºç¡€ä¸Šæœ€å°åŒ–è®­ç»ƒè¯¯å·®</strong>ï¼Œ<strong>è¿™æ ·å¾—åˆ°çš„å‚æ•°æ‰å…·æœ‰å¥½çš„æ³›åŒ–æ€§èƒ½ï¼ˆä¹Ÿå°±æ˜¯æµ‹è¯•è¯¯å·®ä¹Ÿå°ï¼‰</strong>.</p>
<p>è€Œæ¨¡å‹<strong>â€œç®€å•â€å°±æ˜¯é€šè¿‡è§„åˆ™å‡½æ•°æ¥å®ç°çš„</strong>ã€‚<strong>regularized item</strong>çš„ä½¿ç”¨è¿˜å¯ä»¥çº¦æŸæˆ‘ä»¬çš„æ¨¡å‹çš„ç‰¹æ€§ã€‚<strong>è¿™æ ·å°±å¯ä»¥å°†äººå¯¹è¿™ä¸ªæ¨¡å‹çš„å…ˆéªŒçŸ¥è¯†èå…¥åˆ°æ¨¡å‹çš„å­¦ä¹ å½“ä¸­</strong>ï¼Œå¼ºè¡Œåœ°è®©å­¦ä¹ åˆ°çš„æ¨¡å‹å…·æœ‰äººæƒ³è¦çš„ç‰¹æ€§ï¼Œä¾‹å¦‚ ç¨€ç–ã€ä½ç§©ã€å¹³æ»‘ ç­‰ç­‰ã€‚</p>
<p>äººçš„å…ˆéªŒæ˜¯éå¸¸é‡è¦çš„ã€‚å‰äººçš„ç»éªŒä¼šè®©ä½ å°‘èµ°å¾ˆå¤šå¼¯è·¯ï¼Œè¿™å°±æ˜¯ä¸ºä»€ä¹ˆæˆ‘ä»¬å¹³æ—¶å­¦ä¹ æœ€å¥½æ‰¾ä¸ªå¤§ç‰›å¸¦å¸¦çš„åŸå› ã€‚ä¸€å¥ç‚¹æ‹¨å¯ä»¥ä¸ºæˆ‘ä»¬æ‹¨å¼€çœ¼å‰ä¹Œäº‘ï¼Œè¿˜æˆ‘ä»¬ä¸€ç‰‡æ™´ç©ºä¸‡é‡Œï¼Œé†é†çŒé¡¶ã€‚å¯¹æœºå™¨å­¦ä¹ ä¹Ÿæ˜¯ä¸€æ ·ï¼Œå¦‚æœè¢«æˆ‘ä»¬äººç¨å¾®ç‚¹æ‹¨ä¸€ä¸‹ï¼Œå®ƒè‚¯å®šèƒ½æ›´å¿«çš„å­¦ä¹ ç›¸åº”çš„ä»»åŠ¡ã€‚åªæ˜¯ç”±äºäººå’Œæœºå™¨çš„äº¤æµç›®å‰è¿˜æ²¡æœ‰é‚£ä¹ˆç›´æ¥çš„æ–¹æ³•ï¼Œç›®å‰åªèƒ½ç”±è§„åˆ™é¡¹æ¥æ‹…å½“äº†.</p>
</blockquote>
<h2 id="Supervised-Learning-ç›®æ ‡å‡½æ•°"><a href="#Supervised-Learning-ç›®æ ‡å‡½æ•°" class="headerlink" title="Supervised Learning ç›®æ ‡å‡½æ•°"></a>Supervised Learning ç›®æ ‡å‡½æ•°</h2><p>$$<br>w^*=argmin_w\sum_iL(y_i,f(x_i;w))+\lambda\Omega(w)<br>$$</p>
<blockquote>
<p>æˆ‘ä»¬ä¸ä»…è¦ä¿è¯è®­ç»ƒè¯¯å·®æœ€å°ï¼Œæˆ‘ä»¬æ›´å¸Œæœ›æˆ‘ä»¬çš„æ¨¡å‹æµ‹è¯•è¯¯å·®å°.</p>
<p>ç¬¬äºŒé¡¹ $\lambda\Omega(w)$ï¼Œä¹Ÿå°±æ˜¯å¯¹å‚æ•°$w$çš„è§„åˆ™åŒ–å‡½æ•° $Î©(w)$ å»çº¦æŸæˆ‘ä»¬çš„æ¨¡å‹å°½é‡çš„ç®€å•.</p>
</blockquote>
<p><strong>ç¬¬ä¸€é¡¹å¯¹åº”æ¨¡å‹çš„è®­ç»ƒæŸå¤±å‡½æ•°:</strong></p>
<blockquote>
<ul>
<li>Square Loss â€“&gt; æœ€å°äºŒä¹˜</li>
<li>Hinge Loss â€“&gt; SVM</li>
<li>Exp Loss â€“&gt; AdaBoost</li>
<li>Log Loss â€“&gt; LR</li>
</ul>
</blockquote>
<p><strong>ç¬¬äºŒé¡¹å¯¹åº”æ¨¡å‹çš„æ­£åˆ™åŒ–é¡¹:</strong> (ä¸€èˆ¬æ˜¯æ¨¡å‹å¤æ‚åº¦çš„å•è°ƒé€’å¢å‡½æ•°)</p>
<blockquote>
<ul>
<li>æ¨¡å‹å‚æ•°å‘é‡çš„èŒƒæ•°ï¼Œä¸åŒçš„é€‰æ‹©å¯¹å‚æ•°çš„çº¦æŸä¸åŒï¼Œå–å¾—çš„æ•ˆæœä¹Ÿä¸åŒ</li>
</ul>
<p>è®ºæ–‡ä¸­å¸¸éƒ½èšé›†åœ¨ï¼šé›¶èŒƒæ•°ã€ä¸€èŒƒæ•°ã€äºŒèŒƒæ•°ã€æ ¸èŒƒæ•°ç­‰ç­‰ã€‚è¿™ä¹ˆå¤šèŒƒæ•°ï¼Œåˆ°åº•å®ƒä»¬è¡¨è¾¾å•¥æ„æ€ï¼Ÿå…·æœ‰å•¥èƒ½åŠ›ï¼Ÿ</p>
</blockquote>
<h2 id="L1-å¯ä»¥å®ç°ç¨€ç–ï¼Œä¸ºä»€ä¹ˆè¦ç¨€ç–ï¼Ÿ"><a href="#L1-å¯ä»¥å®ç°ç¨€ç–ï¼Œä¸ºä»€ä¹ˆè¦ç¨€ç–ï¼Ÿ" class="headerlink" title="L1 å¯ä»¥å®ç°ç¨€ç–ï¼Œä¸ºä»€ä¹ˆè¦ç¨€ç–ï¼Ÿ"></a>L1 å¯ä»¥å®ç°ç¨€ç–ï¼Œä¸ºä»€ä¹ˆè¦ç¨€ç–ï¼Ÿ</h2><p>è®©æˆ‘ä»¬çš„å‚æ•°ç¨€ç–æœ‰ä»€ä¹ˆå¥½å¤„å‘¢ï¼Ÿè¿™é‡Œæ‰¯ä¸¤ç‚¹ï¼š</p>
<p><strong>ç‰¹å¾é€‰æ‹©(Feature Selection)ï¼š</strong></p>
<blockquote>
<p>å¤§å®¶å¯¹<strong>ç¨€ç–è§„åˆ™åŒ–</strong>è¶‹ä¹‹è‹¥é¹œçš„ä¸€ä¸ªå…³é”®åŸå› åœ¨äºå®ƒèƒ½å®ç°ç‰¹å¾çš„è‡ªåŠ¨é€‰æ‹©ã€‚$x_i$ çš„å¤§éƒ¨åˆ†å…ƒç´ ï¼ˆä¹Ÿå°±æ˜¯ç‰¹å¾ï¼‰éƒ½æ˜¯å’Œæœ€ç»ˆçš„è¾“å‡º $y_i$ æ²¡æœ‰å…³ç³»æˆ–è€…ä¸æä¾›ä»»ä½•ä¿¡æ¯çš„ï¼Œåœ¨æœ€å°åŒ–ç›®æ ‡å‡½æ•°çš„æ—¶å€™è€ƒè™‘$x_i$è¿™äº›é¢å¤–çš„ç‰¹å¾ï¼Œè™½ç„¶å¯ä»¥è·å¾—æ›´å°çš„è®­ç»ƒè¯¯å·®ï¼Œ<strong>ä½†åœ¨é¢„æµ‹æ–°çš„æ ·æœ¬æ—¶ï¼Œè¿™äº›æ²¡ç”¨çš„ä¿¡æ¯åè€Œä¼šè¢«è€ƒè™‘ï¼Œä»è€Œå¹²æ‰°äº†å¯¹æ­£ç¡®$y_i$çš„é¢„æµ‹</strong>ã€‚ç¨€ç–è§„åˆ™åŒ–ç®—å­çš„å¼•å…¥å°±æ˜¯ä¸ºäº†å®Œæˆç‰¹å¾è‡ªåŠ¨é€‰æ‹©çš„å…‰è£ä½¿å‘½ï¼Œå®ƒä¼šå­¦ä¹ åœ°å»æ‰è¿™äº›æ²¡æœ‰ä¿¡æ¯çš„ç‰¹å¾ï¼Œä¹Ÿå°±æ˜¯æŠŠè¿™äº›ç‰¹å¾å¯¹åº”çš„æƒé‡ç½®ä¸º0ã€‚</p>
</blockquote>
<p><strong>å¯è§£é‡Šæ€§(Interpretability)ï¼š</strong></p>
<blockquote>
<p>æ¨¡å‹æ›´å®¹æ˜“è§£é‡Šã€‚ä¾‹å¦‚æ‚£æŸç§ç—…çš„æ¦‚ç‡æ˜¯$y$ï¼Œæˆ‘ä»¬æ”¶é›†åˆ°çš„æ•°æ®$x$æ˜¯ 1000 ç»´çš„ï¼Œä¹Ÿå°±æ˜¯æˆ‘ä»¬éœ€è¦å¯»æ‰¾è¿™ 1000ç§ å› ç´ åˆ°åº•æ˜¯æ€ä¹ˆå½±å“æ‚£ä¸Šè¿™ç§ç—…çš„æ¦‚ç‡çš„ã€‚</p>
<p>å‡è®¾æˆ‘ä»¬è¿™ä¸ªæ˜¯ä¸ªå›å½’æ¨¡å‹ï¼š$y=w_1<em>x_1+w_2</em>x_2+w_{1000}*x_{1000}+b$ï¼ˆå½“ç„¶äº†ï¼Œä¸ºäº†è®©$y$é™å®šåœ¨[0,1]çš„èŒƒå›´ï¼Œä¸€èˆ¬è¿˜å¾—åŠ ä¸ªLogisticå‡½æ•°ï¼‰ã€‚</p>
<p>é€šè¿‡å­¦ä¹ ï¼Œå¦‚æœæœ€åå­¦ä¹ åˆ°çš„$w*$å°±åªæœ‰å¾ˆå°‘çš„éé›¶å…ƒç´ ï¼Œä¾‹å¦‚åªæœ‰5ä¸ªéé›¶çš„$w_i$ï¼Œé‚£ä¹ˆæˆ‘ä»¬å°±æœ‰ç†ç”±ç›¸ä¿¡ï¼Œè¿™äº›å¯¹åº”çš„ç‰¹å¾åœ¨æ‚£ç—…åˆ†æä¸Šé¢æä¾›çš„ä¿¡æ¯æ˜¯å·¨å¤§çš„ï¼Œå†³ç­–æ€§çš„ã€‚</p>
<p>æ‚£ä¸æ‚£è¿™ç§ç—…åªå’Œè¿™5ä¸ªå› ç´ æœ‰å…³ï¼Œé‚£åŒ»ç”Ÿå°±å¥½åˆ†æå¤šäº†ã€‚ä½†å¦‚æœ1000ä¸ª$w_i$éƒ½é0ï¼ŒåŒ»ç”Ÿé¢å¯¹è¿™1000ç§å› ç´ ï¼Œç´¯è§‰ä¸çˆ±.</p>
</blockquote>
<h2 id="L2-èŒƒæ•°"><a href="#L2-èŒƒæ•°" class="headerlink" title="L2 èŒƒæ•°"></a>L2 èŒƒæ•°</h2><h3 id="ä¸ºä»€ä¹ˆL2èŒƒæ•°èƒ½å¤Ÿé˜²æ­¢è¿‡æ‹Ÿåˆï¼Ÿ"><a href="#ä¸ºä»€ä¹ˆL2èŒƒæ•°èƒ½å¤Ÿé˜²æ­¢è¿‡æ‹Ÿåˆï¼Ÿ" class="headerlink" title="ä¸ºä»€ä¹ˆL2èŒƒæ•°èƒ½å¤Ÿé˜²æ­¢è¿‡æ‹Ÿåˆï¼Ÿ"></a>ä¸ºä»€ä¹ˆL2èŒƒæ•°èƒ½å¤Ÿé˜²æ­¢è¿‡æ‹Ÿåˆï¼Ÿ</h3><p>é€šè¿‡L2èŒƒæ•°çš„è§„åˆ™é¡¹æœ€å°æ¥ä½¿å‚æ•°å€¼éƒ½è¾ƒå°ã€ç”šè‡³è¶‹äº0(ä½†ä¸ä¼šä¸º0)ï¼Œæ¨¡å‹å‚æ•°å€¼è¶Šå°åˆ™å¯¹åº”çš„ç‰¹å¾å¯¹äºæ¨¡å‹çš„å½±å“å°±æ¯”è¾ƒå°ï¼Œè¿™æ ·ç›¸å½“äºå¯¹è¿™éƒ¨åˆ†æ— å…³ç‰¹å¾åšäº†ä¸€ä¸ªæƒ©ç½šï¼Œå³ä½¿ä»–ä»¬çš„å€¼æ³¢åŠ¨æ¯”è¾ƒå¤§ï¼Œå—é™äºå‚æ•°å€¼å¾ˆå°ï¼Œä¹Ÿä¸ä¼šå¯¹æ¨¡å‹çš„è¾“å‡ºç»“æœé€ æˆå¤ªå¤§å½±å“ï¼Œä¹Ÿå°±ä½¿å¾—æ¨¡å‹ä¸ä¼šä¹ å¾—è¿™éƒ¨åˆ†ç‰¹å¾è€Œå‘ç”Ÿè¿‡æ‹Ÿåˆ</p>
<h3 id="L2èŒƒæ•°çš„å¥½å¤„"><a href="#L2èŒƒæ•°çš„å¥½å¤„" class="headerlink" title="L2èŒƒæ•°çš„å¥½å¤„"></a>L2èŒƒæ•°çš„å¥½å¤„</h3><ul>
<li>å­¦ä¹ ç†è®ºçš„è§’åº¦ï¼šå¯ä»¥é˜²æ­¢è¿‡æ‹Ÿåˆï¼Œæå‡æ¨¡å‹çš„æ³›åŒ–èƒ½åŠ›</li>
<li>ä¼˜åŒ–ã€æ•°å€¼è®¡ç®—çš„è§’åº¦ï¼šL2èŒƒæ•°èƒ½å¤Ÿè®©æˆ‘ä»¬çš„ä¼˜åŒ–æ±‚è§£å˜å¾—ç¨³å®šå’Œå¿«é€Ÿï¼Œæœ‰åŠ©äºå¤„ç†condition numberä¸å¥½çš„æƒ…å†µä¸‹çŸ©é˜µæ±‚é€†å¾ˆå›°éš¾çš„é—®é¢˜</li>
</ul>
<h2 id="Reference-article"><a href="#Reference-article" class="headerlink" title="Reference article"></a>Reference article</h2><ul>
<li>å‘¨å¿—åã€Šæœºå™¨å­¦ä¹ ã€‹</li>
<li><a href="http://izhaoyi.top/2017/09/15/l1-l2/" target="_blank" rel="external">æ‡’æ­»éª†é©¼</a></li>
<li><a href="https://blog.csdn.net/zouxy09/article/details/24971995" target="_blank" rel="external">æœºå™¨å­¦ä¹ ä¸­çš„èŒƒæ•°è§„åˆ™åŒ–ä¹‹ï¼ˆä¸€ï¼‰L0ã€L1ä¸L2èŒƒæ•°</a></li>
<li><a href="https://plushunter.github.io/2017/07/22/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0%E7%AE%97%E6%B3%95%E7%B3%BB%E5%88%97%EF%BC%8828%EF%BC%89%EF%BC%9AL1%E3%80%81L2%E6%AD%A3%E5%88%99%E5%8C%96/" target="_blank" rel="external">æœºå™¨å­¦ä¹ ç®—æ³•ç³»åˆ—ï¼ˆ28ï¼‰ï¼šL1ã€L2æ­£åˆ™åŒ–</a></li>
</ul>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[Neural Networks and Deep Learning (week2) - Neural Networks Basics]]></title>
      <url>http://iequa.com/2018/07/07/deeplearning-ai-Neural-Networks-and-Deep-Learning-week2/</url>
      <content type="html"><![CDATA[<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js"],
    jax: ["input/TeX"],
    tex2jax: {
      inlineMath: [ ['$','$'], ['\\(','\\)'] ],
      displayMath: [ ['$$','$$']],
      processEscapes: true
    }
  });
</script>
<script type="text/javascript" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS_HTML,http://myserver.com/MathJax/config/local/local.js">
</script>

<p>æœ¬å‘¨æˆ‘ä»¬å°†è¦å­¦ä¹  Logistic Regression, å®ƒæ˜¯ç¥ç»ç½‘ç»œçš„åŸºç¡€. </p>
<p>Logistic Regression å¯ä»¥çœ‹æˆæ˜¯ä¸€ç§åªæœ‰è¾“å…¥å±‚å’Œè¾“å‡ºå±‚(æ²¡æœ‰éšè—å±‚)çš„ç¥ç»ç½‘ç»œ. </p>
<a id="more"></a>
<!--## Binary Classification
-->
<!--<img src="/images/deeplearning/C1W2-1.jpg" width="750" />

<img src="/images/deeplearning/C1W2-2.jpg" width="750" />
-->
<h2 id="ä¸€-åŸºæœ¬æ¦‚å¿µå›é¡¾"><a href="#ä¸€-åŸºæœ¬æ¦‚å¿µå›é¡¾" class="headerlink" title="ä¸€. åŸºæœ¬æ¦‚å¿µå›é¡¾"></a>ä¸€. åŸºæœ¬æ¦‚å¿µå›é¡¾</h2><p>è¿™æ¬¡ Andrew ç³»åˆ—è¯¾ç¨‹åœ¨ç¬¦å·ä¸Šæœ‰æ‰€æ”¹åŠ¨ (å’Œæœºå™¨å­¦ä¹ è¯¾ç¨‹ä¸­æœ‰æ‰€åŒºåˆ«, ä¸»è¦æ˜¯ä¸ºäº†åé¢ä»£ç å®ç°æ–¹ä¾¿), å¦‚ä¸‹å›¾æ‰€ç¤º:</p>
<p><img src="/images/deeplearning/C1W2-3_1.jpg" width="700"></p>
<h2 id="1-Notation"><a href="#1-Notation" class="headerlink" title="1. Notation"></a>1. Notation</h2><p>æ›´å¤šå…³äºæœ¬ç³»åˆ—è¯¾ç¨‹çš„ç¬¦å·ç‚¹<a href="http://7xrrje.com1.z0.glb.clouddn.com/deeplearningnotation.pdf" target="_blank" rel="external">è¿™é‡Œ</a>åŒæ ·åœ°, å‚æ•°ä¹Ÿæœ‰æ‰€å˜åŒ– ($bias$ å•ç‹¬æ‹¿å‡ºæ¥ä½œä¸º$b$, è€Œä¸æ˜¯æ·»åŠ  $\theta_0$)</p>
<h2 id="2-Logistic-Regression"><a href="#2-Logistic-Regression" class="headerlink" title="2. Logistic Regression"></a>2. Logistic Regression</h2><p><img src="/images/deeplearning/C1W2-4_1.jpg" width="750"></p>
<ul>
<li>ä¸€ä¸ªæ˜¯ <strong>Loss function</strong>, å³æŸå¤±å‡½æ•°, å®ƒä»£è¡¨äº†å¯¹äºä¸€ä¸ªæ ·æœ¬ä¼°è®¡å€¼ä¸çœŸå®å€¼ä¹‹é—´çš„è¯¯å·®; </li>
<li>ä¸€ä¸ªæ˜¯ <strong>Cost function</strong>, å®ƒä»£è¡¨äº†æ‰€æœ‰æ ·æœ¬lossçš„å¹³å‡å€¼.</li>
</ul>
<p><img src="/images/deeplearning/C1W2-6_1.jpg" width="750"></p>
<h2 id="3-Logistic-Regression-Cost-Function"><a href="#3-Logistic-Regression-Cost-Function" class="headerlink" title="3. Logistic Regression Cost Function"></a>3. Logistic Regression Cost Function</h2><p><img src="/images/deeplearning/C1W2-8_1.jpg" width="750"></p>
<h2 id="4-Gradient-Descent"><a href="#4-Gradient-Descent" class="headerlink" title="4. Gradient Descent"></a>4. Gradient Descent</h2><p><img src="/images/deeplearning/C1W2-9_1.jpg" width="750"></p>
<p><img src="/images/deeplearning/C1W2-10_1.jpg" width="750"></p>
<h2 id="5-Derivatives"><a href="#5-Derivatives" class="headerlink" title="5. Derivatives"></a>5. Derivatives</h2><p><img src="/images/deeplearning/C1W2-11_1.png" width="750"></p>
<p><img src="/images/deeplearning/C1W2-12_1.png" width="750"></p>
<h2 id="7-Computation-Graph"><a href="#7-Computation-Graph" class="headerlink" title="7. Computation Graph"></a>7. Computation Graph</h2><p>ç¥ç»ç½‘ç»œä¸­, forward propagation ç”¨æ¥è®¡ç®—è¾“å‡º, backward propagation ç”¨æ¥è®¡ç®—æ¢¯åº¦, å¾—åˆ°æ¢¯åº¦åå°±å¯æ›´æ–°å¯¹åº”çš„å‚æ•°äº†. </p>
<p><img src="/images/deeplearning/C1W2-13_1.jpg" width="750"></p>
<p>å¦‚ä¸Šå›¾æ‰€ç¤ºé€šè¿‡å‰å‘ä¼ æ’­, æˆ‘ä»¬å¾—åˆ° $J = 33$. </p>
<blockquote>
<p>è¿™é‡Œè¯´æ˜ä¸€ä¸‹, åœ¨åé¢ä»£ç å®ç°ä¸­, è¿™äº›å¯¼æ•°éƒ½å¯ä»¥ç”¨ $dvar$ æ¥è¡¨ç¤º, ä¾‹å¦‚ dw1, db1 ç­‰ç­‰.</p>
</blockquote>
<h2 id="8-Computation-Graph-Derivatives"><a href="#8-Computation-Graph-Derivatives" class="headerlink" title="8. Computation Graph Derivatives"></a>8. Computation Graph Derivatives</h2><p>åå‘ä¼ æ’­æœ¬è´¨ä¸Šå°±æ˜¯é€šè¿‡é“¾å¼æ³•åˆ™ä¸æ–­æ±‚å‡ºå‰é¢å„ä¸ªå˜é‡çš„å¯¼æ•°çš„è¿‡ç¨‹.</p>
<p><img src="/images/deeplearning/C1W2-14_1.png" width="750"></p>
<h2 id="9-Logistic-regression-recap"><a href="#9-Logistic-regression-recap" class="headerlink" title="9. Logistic regression recap"></a>9. Logistic regression recap</h2><p>æœ‰äº†è®¡ç®—å›¾çš„æ¦‚å¿µä¹‹å, æˆ‘ä»¬å°†å…¶è¿ç”¨åˆ° Logistic Regression ä¸Š. </p>
<p><img src="/images/deeplearning/C1W2-16_1.png" width="700"></p>
<p>ä¸Šé¢çš„å¼å­å¯ä»¥ç”¨ä¸‹é¢çš„è®¡ç®—å›¾æ¥è¡¨è¾¾:</p>
<p><img src="/images/deeplearning/C1W2-16_2.png" width="700"></p>
<p>æœ‰äº†ä¸Šé¢çš„å›¾ä¹‹å, æˆ‘ä»¬ç°åœ¨æ¥è®¡ç®—åå‘ä¼ æ’­.</p>
<p>é¦–å…ˆæˆ‘ä»¬æ¥è®¡ç®— $\frac{dL}{da}$:</p>
<p>$$<br>\begin{align} \frac{dL}{da} &amp; = - (\frac{y}{a} - \frac{(1-y)}{(1-a)}) \end{align}<br>$$</p>
<p>é€šè¿‡é“¾å¼æ³•åˆ™, è®¡ç®— $\frac{dL}{dz}$:</p>
<p>$$<br>\begin{align} \frac{dL}{dz} &amp; = \frac{dL}{da}\frac{da}{dz} \\ \\ &amp; = - (\frac{y}{a} - \frac{(1-y)}{(1-a)})\sigma(z)(1-\sigma(z)) \\ \\ &amp; = - (\frac{y}{a} - \frac{(1-y)}{(1-a)})a(1-a)) \\ \\ &amp; = -y(1-a) + (1-y)a \\ \\ &amp; = a - y \end{align}<br>$$</p>
<p>æœ€åè®¡ç®— $\frac{dL}{dw1}, \frac{dL}{dw2}, \frac{dL}{db}$:</p>
<p>$$<br>\frac{dL}{dw_1} = \frac{dL}{dz}\frac{dz}{dw_1} = (a - y)x_1<br>$$</p>
<p>$$<br>\frac{dL}{dw_2} = \frac{dL}{dz}\frac{dz}{dw_2} = (a - y)x_2<br>$$</p>
<p>$$<br>\frac{dL}{db} = \frac{dL}{dz}\frac{dz}{db} = a - y<br>$$</p>
<p>æ€ä¹ˆæ ·? æ˜¯ä¸æ˜¯å¾ˆç®€å•å‘¢? è¿™é‡Œæˆ‘ä»¬æ‰€æœ‰çš„è®¡ç®—éƒ½æ˜¯é’ˆå¯¹ä¸€ä¸ªè®­ç»ƒæ ·æœ¬çš„. å½“ç„¶æˆ‘ä»¬ä¸å¯èƒ½åªæœ‰ä¸€ä¸ªæ ·æœ¬, é‚£ä¹ˆå¯¹äºæ•´ä¸ªè®­ç»ƒé›†, æˆ‘ä»¬åº”è¯¥æ€ä¹ˆåšå‘¢? å…¶å®å¾ˆç®€å•, æˆ‘ä»¬åªéœ€è¦å°† $J(w, b)$ æ‹†å¼€æ¥å†™å°±å¾ˆæ¸…æ™°.</p>
<p>$$<br>J(w, b) = \frac{1}{m}(L(a^{(1)}, y^{(1)}) + L(a^{(2)}, y^{(2)}) + â€¦ + L(a^{(m)}, y^{m)}))<br>$$</p>
<p><img src="/images/deeplearning/C1W2-17_1.jpg" width="750"></p>
<p>å¯¹äºæ¯ä¸€ä¸ªæ ·æœ¬éƒ½æœ‰ä¸€ä¸ªå¯¹åº”çš„ $dz^{(i)}$, è€Œå¯¹äº $dw, db$ æ¥è¯´æ˜¯å¯¹äºæ‰€æœ‰æ±‚å¹³å‡.</p>
<p><img src="/images/deeplearning/C1W2-18_1.png" width="750"></p>
<blockquote>
<p>å¦‚æœç”¨ä»¥ä¸ŠèŠ‚çš„ä¼ªä»£ç æ¥å®ç°æ¢¯åº¦è®¡ç®—çš„è¯, æ•ˆç‡ä¼šéå¸¸ä½. éœ€è¦ä¸¤ä¸ªæ˜¾å¼çš„ for å¾ªç¯.<br>ä¸‹ä¸€èŠ‚ä»‹ç» å‘é‡åŒ–. å‘é‡åŒ–å°±æ˜¯ç”¨æ¥è§£å†³è®¡ç®—æ•ˆç‡é—®é¢˜. </p>
</blockquote>
<h2 id="11-Vectorization"><a href="#11-Vectorization" class="headerlink" title="11. Vectorization"></a>11. Vectorization</h2><p>è¿™æ¬¡çš„æ·±åº¦å­¦ä¹ ç³»åˆ—è¯¾ç¨‹ä½œä¸š, ä¸€å¾‹è¦æ±‚ä½¿ç”¨å‘é‡åŒ–æ¥å®ç°ä»£ç . é…åˆå¼ºå¤§çš„Numpy, å‘é‡åŒ–å…¶å®å¾ˆç®€å•. æ¥çœ‹ä¸€ä¸ªä¾‹å­:</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"><span class="keyword">import</span> time</span><br><span class="line"></span><br><span class="line">x = <span class="number">1000000</span></span><br><span class="line"><span class="comment">#x = 10</span></span><br><span class="line"></span><br><span class="line">a = np.random.rand(x)</span><br><span class="line">b = np.random.rand(x)</span><br><span class="line"></span><br><span class="line">tic = time.time() <span class="comment"># Python time time() è¿”å›å½“å‰æ—¶é—´çš„æ—¶é—´æˆ³ï¼ˆ1970çºªå…ƒåç»è¿‡çš„æµ®ç‚¹ç§’æ•°ï¼‰</span></span><br><span class="line"></span><br><span class="line">c = np.dot(a, b)</span><br><span class="line">toc = time.time()</span><br><span class="line"></span><br><span class="line">print(<span class="string">'Vectorized version:&#123;&#125;ms'</span>.format(<span class="number">1000</span>*(toc-tic)))</span><br><span class="line"></span><br><span class="line">c = <span class="number">0</span></span><br><span class="line">tic = time.time()</span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> range(x):</span><br><span class="line">    c += a[i] * b[i]</span><br><span class="line">toc = time.time()</span><br><span class="line"></span><br><span class="line">print(<span class="string">'For loop:&#123;&#125;ms'</span>.format(<span class="number">1000</span>*(toc-tic)))</span><br></pre></td></tr></table></figure>
<p>è¾“å‡º:</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">Vectorized version:<span class="number">0.881195068359375</span>ms</span><br><span class="line">For loop:<span class="number">363.94405364990234</span>ms</span><br></pre></td></tr></table></figure>
<blockquote>
<p>ä¸¤ä¸ªç‰ˆæœ¬æ•ˆç‡ä¸Šå·®äº†400å¤šå€. ç¥ç»ç½‘ç»œæœ¬èº«è®¡ç®—å°±æ¯”è¾ƒå¤æ‚, åŠ ä¹‹æ·±åº¦å­¦ä¹ è®­ç»ƒæ ·æœ¬å¾€å¾€éƒ½å¾ˆå¤§, æ•ˆç‡å°¤ä¸ºé‡è¦. ä»»ä½•æ—¶å€™éƒ½è¦å°½å¯èƒ½é¿å…ä½¿ç”¨forå¾ªç¯.</p>
</blockquote>
<p>é¦–å…ˆæˆ‘ä»¬è¿›è¡Œç¬¬ä¸€æ­¥ä¼˜åŒ–, å°† $w$ å†™æˆå‘é‡çš„å½¢å¼ $dw=np.zeros((n_x, 1))$, è¿™æ ·å°±çœå»äº†å†…å±‚å…³äº $w$ çš„å¾ªç¯.</p>
<p><img src="/images/deeplearning/C1W2-19_1.png" width="750"></p>
<p>æ¥ä¸‹æ¥æˆ‘ä»¬æ¥çœ‹çœ‹å¦‚ä½•ä¼˜åŒ–å…³äº$m$ä¸ªè®­ç»ƒæ ·æœ¬çš„å¾ªç¯. å›é¡¾ä¸‹ç¬¬ä¸€èŠ‚ä¸­æ‰€è¯´çš„$X$:</p>
<p><img src="/images/deeplearning/C1W2-3_1.jpg" width="600"></p>
<blockquote>
<p>å°†$X$ç”¨å¦‚ä¸Šçš„çŸ©é˜µè¡¨è¾¾å, é€šè¿‡ $W^T+b$ ä¹Ÿå°±å¾—åˆ°äº† $z$ çš„å‘é‡åŒ–è¡¨è¾¾. $a$ çš„å‘é‡åŒ–è¡¨è¾¾ä¹Ÿå°±æ˜¯ $z$ æ¯ä¸ªå…ƒç´ è¿›è¡Œ $\sigma$æ“ä½œäº†.<br>ç®€å•å§. æƒ³è¦æŠŠæ¡ä½å‘é‡åŒ–ä¸€å®šè¦æ¸…æ¥šæ¯ä¸ªå˜é‡çš„ç»´åº¦(å³pythonä»£ç é‡Œndarrayçš„shape), é‚£äº›æ˜¯<strong>çŸ©é˜µæ“ä½œ</strong>, é‚£äº›æ˜¯<strong>element-wise</strong>æ“ä½œç­‰ç­‰. </p>
<p>æŠŠæ¡ä½ä¸Šé¢çš„ä¹‹å, åœ¨ä»£ç å®ç°é‡Œè¿˜è¦æ³¨æ„å“ªé‡Œä¼šäº§ç”Ÿ <code>broadcasting</code>. ä¾‹å¦‚è¿™é‡Œçš„ $b$ å®é™…ä¸Šæ˜¯ä¸€ä¸ªscalar, ä½†åœ¨è¿›è¡Œ $W^T+b$ æ“ä½œçš„æ—¶å€™, $b$ è¢«numpyè‡ªåŠ¨<code>broadcasting</code> æˆå’Œ $W^T$ ç»´åº¦ä¸€æ ·çš„æ¨ªå‘é‡.</p>
</blockquote>
<p><img src="/images/deeplearning/C1W2-20_1.png" width="750"></p>
<blockquote>
<p>æ¥ä¸‹æ¥æˆ‘ä»¬çœ‹ä¸€ä¸‹æ¢¯åº¦çš„å‘é‡åŒ–. å‰é¢æˆ‘ä»¬çŸ¥é“ $dz^{(1)}, dz^{(2)}, â€¦, dz^{(m)}$, è¿™æ ·å¾—åˆ° $dZ$ .</p>
<p>$A$ã€$Y$ çš„å‘é‡åŒ–å‰é¢å·²çŸ¥äº†ï¼Œè¿™æ ·å…³äº $z$ çš„æ¢¯åº¦å¦‚ä¸‹æ‰€ç¤º. æœ‰äº† $dZ$ä¹‹å $db$ å°±å¾ˆç®€å•äº†, å®ƒæ˜¯æ‰€æœ‰ $dZ$ ä¸­å…ƒç´ çš„å‡å€¼. åœ¨pythonä¸­çš„ä»£ç è¡¨ç¤ºä¸º <code>np.mean(dZ)</code> æˆ–è€… <code>1/m * np.sum(a)</code>. $dW$ é€šè¿‡è§‚å¯Ÿå‘é‡çš„ç»´åº¦å¾—åˆ°. $X$ ä¸º $(n, m)$, $dZ$ ä¸º $(1, m)$, è€Œ $dW$ çš„ç»´åº¦å’Œ $W$ çš„ç»´åº¦ä¸€æ ·ä¸º $(n,1)$, è¿™æ ·å°±å¾—åˆ°äº† $dW=\frac{1}{m}XdZ^T$.</p>
<p>db æ˜¯ä¸€ä¸ªå‡å€¼ï¼Ÿ</p>
</blockquote>
<p><img src="/images/deeplearning/C1W2-21_1.png" width="750"></p>
<p>é€šè¿‡ä¸Šé¢çš„åŠªåŠ›, æˆ‘ä»¬å°†ä¹‹å‰forå¾ªç¯çš„ç‰ˆæœ¬æ”¹æˆäº†å®Œå…¨å‘é‡åŒ–çš„è¡¨ç¤º, è¿™æ ·å‘é‡åŒ–å®ç°çš„ä»£ç æ•ˆç‡ä¼šå¤§å¤§æé«˜. </p>
<blockquote>
<p>(æ³¨æ„: ppté‡Œçš„for iter in range(1000) æ˜¯è¿­ä»£æ¬¡æ•°, è¿™ä¸ªå¾ªç¯æ˜¯ä¸å¯é¿å…çš„)</p>
</blockquote>
<p><img src="/images/deeplearning/C1W2-22_1.png" width="750"></p>
<h2 id="ä½¿ç”¨Pythonå®ç°Logistic-Regressionè¿›è¡ŒçŒ«å’ªè¯†åˆ«"><a href="#ä½¿ç”¨Pythonå®ç°Logistic-Regressionè¿›è¡ŒçŒ«å’ªè¯†åˆ«" class="headerlink" title="ä½¿ç”¨Pythonå®ç°Logistic Regressionè¿›è¡ŒçŒ«å’ªè¯†åˆ«"></a>ä½¿ç”¨Pythonå®ç°Logistic Regressionè¿›è¡ŒçŒ«å’ªè¯†åˆ«</h2><p>LogisticRegression.py:</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">sigmoid</span><span class="params">(z)</span>:</span></span><br><span class="line">    <span class="keyword">return</span> <span class="number">1.</span> / (<span class="number">1.</span>+np.exp(-z))</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">LogisticRegression</span><span class="params">()</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self)</span>:</span></span><br><span class="line">        <span class="keyword">pass</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__parameters_initializer</span><span class="params">(self, input_size)</span>:</span></span><br><span class="line">        <span class="comment"># initial parameters with zeros</span></span><br><span class="line">        w = np.zeros((input_size, <span class="number">1</span>), dtype=float)</span><br><span class="line">        b = <span class="number">0.0</span></span><br><span class="line">        <span class="keyword">return</span> w, b</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__forward_propagation</span><span class="params">(self, X)</span>:</span></span><br><span class="line">        m = X.shape[<span class="number">1</span>]</span><br><span class="line">        A = sigmoid(np.dot(self.w.T, X) + self.b)</span><br><span class="line">        <span class="keyword">return</span> A</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__compute_cost</span><span class="params">(self, A, Y)</span>:</span></span><br><span class="line">        m = A.shape[<span class="number">1</span>]</span><br><span class="line">        cost = -np.sum(Y*np.log(A) + (<span class="number">1</span>-Y)*(np.log(<span class="number">1</span>-A))) / m</span><br><span class="line">        <span class="keyword">return</span> cost</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">cost_function</span><span class="params">(self, X, Y)</span>:</span></span><br><span class="line">        <span class="comment"># use the result from forward propagation and the label Y to compute cost</span></span><br><span class="line">        A = self.__forward_propagation(X)</span><br><span class="line">        cost = self.__compute_cost(A, Y)</span><br><span class="line">        <span class="keyword">return</span> cost</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__backward_propagation</span><span class="params">(self, A, X, Y)</span>:</span></span><br><span class="line">        m = X.shape[<span class="number">1</span>]</span><br><span class="line">        <span class="comment"># backward propagation computes gradients</span></span><br><span class="line">        dw = np.dot(X, (A-Y).T) / m</span><br><span class="line">        db = np.sum(A-Y) / m</span><br><span class="line">        grads = &#123;<span class="string">"dw"</span>: dw, <span class="string">"db"</span>: db&#125;</span><br><span class="line">        <span class="keyword">return</span> grads</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__update_parameters</span><span class="params">(self, grads, learning_rate)</span>:</span></span><br><span class="line">        self.w -= learning_rate * grads[<span class="string">'dw'</span>]</span><br><span class="line">        self.b -= learning_rate * grads[<span class="string">'db'</span>]</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">fit</span><span class="params">(self, X, Y, num_iterations, learning_rate, print_cost=False, print_num=<span class="number">100</span>)</span>:</span></span><br><span class="line">        self.w, self.b = self.__parameters_initializer(X.shape[<span class="number">0</span>])</span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> range(num_iterations):</span><br><span class="line">            <span class="comment"># forward_propagation</span></span><br><span class="line">            A = self.__forward_propagation(X)</span><br><span class="line">            <span class="comment"># compute cost</span></span><br><span class="line">            cost = self.__compute_cost(A, Y)</span><br><span class="line">            <span class="comment"># backward_propagation</span></span><br><span class="line">            grads = self.__backward_propagation(A, X, Y)</span><br><span class="line">            dw = grads[<span class="string">"dw"</span>]</span><br><span class="line">            db = grads[<span class="string">"db"</span>]</span><br><span class="line">            <span class="comment"># update parameters</span></span><br><span class="line">            self.__update_parameters(grads, learning_rate)</span><br><span class="line">            <span class="comment"># print cost</span></span><br><span class="line">            <span class="keyword">if</span> i % print_num == <span class="number">0</span> <span class="keyword">and</span> print_cost:</span><br><span class="line">                <span class="keyword">print</span> (<span class="string">"Cost after iteration &#123;&#125;: &#123;:.6f&#125;"</span>.format(i, cost))</span><br><span class="line">        <span class="keyword">return</span> self</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">predict_prob</span><span class="params">(self, X)</span>:</span></span><br><span class="line">        <span class="comment"># result of forward_propagation is the probability</span></span><br><span class="line">        A = self.__forward_propagation(X)</span><br><span class="line">        <span class="keyword">return</span> A</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">predict</span><span class="params">(self, X, threshold=<span class="number">0.5</span>)</span>:</span></span><br><span class="line">        pred_prob = self.predict_prob(X)</span><br><span class="line">        threshold_func = np.vectorize(<span class="keyword">lambda</span> x: <span class="number">1</span> <span class="keyword">if</span> x &gt; threshold <span class="keyword">else</span> <span class="number">0</span>)</span><br><span class="line">        Y_prediction = threshold_func(pred_prob)</span><br><span class="line">        <span class="keyword">return</span> Y_prediction</span><br><span class="line">	</span><br><span class="line">     // åˆ†ç±»å‡†ç¡®ç‡åˆ†æ•°æ˜¯æŒ‡æ‰€æœ‰åˆ†ç±»æ­£ç¡®çš„ç™¾åˆ†æ¯”, åˆ†ç±»å‡†ç¡®ç‡è¿™ä¸€è¡¡é‡åˆ†ç±»å™¨çš„æ ‡å‡†æ¯”è¾ƒå®¹æ˜“ç†è§£</span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">accuracy_score</span><span class="params">(self, X, Y)</span>:</span></span><br><span class="line">        pred = self.predict(X)</span><br><span class="line">        <span class="keyword">return</span> len(Y[pred == Y]) / Y.shape[<span class="number">1</span>]</span><br></pre></td></tr></table></figure>
<p>æœ¬å‘¨è¯¾ç¨‹å‰©ä¸‹éƒ¨åˆ†å››ä¸ªè§†é¢‘åˆ†åˆ«è®²è§£Broadcasting, Numpy Vector, Jupyter Notebookä»¥åŠLogistic Regressionçš„æ¦‚ç‡è§£é‡Š. å¦‚æœå¯¹äºNumpyä»¥åŠJupyter Notebookä¸ç†Ÿæ‚‰çš„åŒå­¦éœ€è¦å¥½å¥½çœ‹çœ‹è¿™ä¸‰ä¸ªè§†é¢‘</p>
<p><strong>Python Broadcasting example:</strong></p>
<p><img src="/images/deeplearning/C1W2-23_1.png" width="500"></p>
<blockquote>
<p>Notes: å¤šä½¿ç”¨ reshape æ¥ä¿è¯ä½ ç”¨çš„å‘é‡æˆ–çŸ©é˜µæ˜¯æ­£ç¡®çš„ï¼Œä¸è¦å®³æ€•ä½¿ç”¨ reshape.</p>
</blockquote>
<p><img src="/images/deeplearning/C1W2-24_1.png" width="400"></p>
<blockquote>
<p>Notes: å¤šä½¿ç”¨ assert(a.shape == (5,1)) </p>
<h2 id="æœ¬å‘¨å†…å®¹å›é¡¾"><a href="#æœ¬å‘¨å†…å®¹å›é¡¾" class="headerlink" title="æœ¬å‘¨å†…å®¹å›é¡¾"></a>æœ¬å‘¨å†…å®¹å›é¡¾</h2></blockquote>
<ul>
<li>äº†è§£äº†æ·±åº¦å­¦ä¹ ç³»åˆ—è¯¾ç¨‹ä¸­ä½¿ç”¨åˆ°çš„å„ç§ç¬¦å·.</li>
<li>å›é¡¾äº†Logistic Regression.</li>
<li>æŒæ¡äº†losså’Œcostçš„åŒºåˆ«ä¸è”ç³».</li>
<li>é‡æ–°è®¤è¯†äº†å‰å‘åå‘ä¼ æ’­, å³è®¡ç®—å›¾.</li>
<li>å­¦ä¹ äº†æ·±åº¦å­¦ä¹ ä¸­å¿…è¦çš„æ±‚å¯¼çŸ¥è¯†.</li>
<li>ç†Ÿæ‚‰äº†Numpy, Jupyter Notebookçš„ä½¿ç”¨</li>
<li>æŒæ¡äº†ä½¿ç”¨Pythonä»¥ç¥ç»ç½‘ç»œçš„æ–¹å¼å®ç°Logistic Regressionæ¨¡å‹, å¹¶ä½¿ç”¨å¼ºå¤§çš„Numpyæ¥å‘é‡åŒ–.</li>
</ul>
<h2 id="Reference"><a href="#Reference" class="headerlink" title="Reference"></a>Reference</h2><ul>
<li><a href="https://study.163.com/my#/smarts" target="_blank" rel="external">ç½‘æ˜“äº‘è¯¾å ‚ - deeplearning</a></li>
<li><a href="http://daniellaah.github.io/2017/deeplearning-ai-Neural-Networks-and-Deep-Learning-week2.html" target="_blank" rel="external">deeplearning.ai ä¸“é¡¹è¯¾ç¨‹ä¸€ç¬¬äºŒå‘¨</a></li>
<li><a href="https://blog.csdn.net/dcrmg/article/details/52416832" target="_blank" rel="external">å‘é‡ç‚¹ä¹˜ï¼ˆå†…ç§¯ï¼‰å’Œå‰ä¹˜ï¼ˆå¤–ç§¯ã€å‘é‡ç§¯ï¼‰æ¦‚å¿µåŠå‡ ä½•æ„ä¹‰è§£è¯»</a></li>
<li><a href="https://zhuanlan.zhihu.com/p/31914064" target="_blank" rel="external">CPUä¼šè¢«GPUæ›¿ä»£å—ï¼ŸSIMDå’ŒSIMTè°æ›´å¥½ï¼Ÿ</a></li>
<li><a href="https://www.cnblogs.com/pinard/p/5970503.html" target="_blank" rel="external">åˆ˜å»ºå¹³Pinard - æ¢¯åº¦ä¸‹é™ï¼ˆGradient Descentï¼‰å°ç»“</a></li>
<li><a href="https://github.com/daniellaah/deeplearning.ai-step-by-step-guide/tree/master/01-Neural-Networks-and-Deep-Learning/week2" target="_blank" rel="external">Github 01-Neural-Networks-and-Deep-Learning/week2</a></li>
</ul>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[æ¨¡å‹è¯„ä¼° Precisionã€Recallã€ROCã€AUC æ€»ç»“]]></title>
      <url>http://iequa.com/2018/07/05/ml-1-roc-auc-summary/</url>
      <content type="html"><![CDATA[<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js"],
    jax: ["input/TeX"],
    tex2jax: {
      inlineMath: [ ['$','$'], ['\\(','\\)'] ],
      displayMath: [ ['$$','$$']],
      processEscapes: true
    }
  });
</script>
<script type="text/javascript" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS_HTML,http://myserver.com/MathJax/config/local/local.js">
</script>

<p>å®é™…ä¸Šéå¸¸ç®€å•ï¼ŒPrecision æ˜¯é’ˆå¯¹æˆ‘ä»¬é¢„æµ‹ç»“æœè€Œè¨€çš„ï¼Œå®ƒè¡¨ç¤ºçš„æ˜¯é¢„æµ‹ä¸ºæ­£çš„æ ·æœ¬ä¸­æœ‰å¤šå°‘æ˜¯å¯¹çš„ã€‚é‚£ä¹ˆé¢„æµ‹ä¸ºæ­£å°±æœ‰ä¸¤ç§å¯èƒ½äº†ï¼Œä¸€ç§å°±æ˜¯æŠŠæ­£ç±»é¢„æµ‹ä¸ºæ­£ç±»(<strong>TP</strong>)ï¼Œå¦ä¸€ç§å°±æ˜¯æŠŠè´Ÿç±»é¢„æµ‹ä¸ºæ­£ç±»(<strong>FP</strong>).</p>
<a id="more"></a>
<p>$$<br>P = TP/(TP+FP)<br>$$</p>
<blockquote>
<p>Precision å‡†å P</p>
</blockquote>
<p>è€Œå¬å›ç‡æ˜¯é’ˆå¯¹æˆ‘ä»¬åŸæ¥çš„æ ·æœ¬è€Œè¨€çš„ï¼Œå®ƒè¡¨ç¤ºçš„æ˜¯æ ·æœ¬ä¸­çš„æ­£ä¾‹æœ‰å¤šå°‘è¢«é¢„æµ‹æ­£ç¡®äº†ã€‚é‚£ä¹Ÿæœ‰ä¸¤ç§å¯èƒ½ï¼Œä¸€ç§æ˜¯æŠŠåŸæ¥çš„æ­£ç±»é¢„æµ‹æˆæ­£ç±»(TP)ï¼Œå¦ä¸€ç§å°±æ˜¯æŠŠåŸæ¥çš„æ­£ç±»é¢„æµ‹ä¸ºè´Ÿç±»(FN).</p>
<p>$$<br>R = TP/(TP+FN)<br>$$</p>
<blockquote>
<p>å¬åŸæ­£</p>
</blockquote>
<p><img src="/images/ml/model/Precision_Recall-1.png" width="300"></p>
<h2 id="ROC-æ›²çº¿"><a href="#ROC-æ›²çº¿" class="headerlink" title="ROC æ›²çº¿"></a>ROC æ›²çº¿</h2><blockquote>
<p>In signal detection theory, a receiver operating characteristic (ROC), or simply ROC curve, is a graphical plot which illustrates the performance of a binary classifier system as its discrimination threshold is varied.</p>
<p>æ¯”å¦‚åœ¨é€»è¾‘å›å½’é‡Œé¢ï¼Œæˆ‘ä»¬ä¼šè®¾ä¸€ä¸ªé˜ˆå€¼ï¼Œå¤§äºè¿™ä¸ªå€¼çš„ä¸ºæ­£ç±»ï¼Œå°äºè¿™ä¸ªå€¼ä¸ºè´Ÿç±»ã€‚å¦‚æœæˆ‘ä»¬å‡å°è¿™ä¸ªé˜€å€¼ï¼Œé‚£ä¹ˆæ›´å¤šçš„æ ·æœ¬ä¼šè¢«è¯†åˆ«ä¸ºæ­£ç±»ã€‚è¿™ä¼šæé«˜æ­£ç±»çš„è¯†åˆ«ç‡ï¼Œä½†åŒæ—¶ä¹Ÿä¼šä½¿å¾—æ›´å¤šçš„è´Ÿç±»è¢«é”™è¯¯è¯†åˆ«ä¸ºæ­£ç±»ã€‚ä¸ºäº†å½¢è±¡åŒ–è¿™ä¸€å˜åŒ–ï¼Œåœ¨æ­¤å¼•å…¥ ROC ï¼ŒROC æ›²çº¿å¯ä»¥ç”¨äºè¯„ä»·ä¸€ä¸ªåˆ†ç±»å™¨å¥½åã€‚</p>
</blockquote>
<p>ROC å…³æ³¨ä¸¤ä¸ªæŒ‡æ ‡ï¼Œ</p>
<blockquote>
<p>ç›´è§‚ä¸Šï¼ŒTPR ä»£è¡¨èƒ½å°†æ­£ä¾‹åˆ†å¯¹çš„æ¦‚ç‡ï¼ŒFPR ä»£è¡¨å°†è´Ÿä¾‹é”™åˆ†ä¸ºæ­£ä¾‹çš„æ¦‚ç‡ã€‚åœ¨ ROC ç©ºé—´ä¸­ï¼Œæ¯ä¸ªç‚¹çš„æ¨ªåæ ‡æ˜¯ FPRï¼Œçºµåæ ‡æ˜¯ TPRï¼Œè¿™ä¹Ÿå°±æç»˜äº†åˆ†ç±»å™¨åœ¨ TPï¼ˆ<code>çœŸæ­£ç‡</code>ï¼‰å’Œ FPï¼ˆ<code>å‡æ­£ç‡</code>ï¼‰é—´çš„ trade-off2ã€‚</p>
</blockquote>
<p><img src="/images/ml/model/ROC.png" width="780"></p>
<blockquote>
<p>ROCæ›²çº¿ï¼Œå¦‚æœä¸º y=x è¡¨ç¤ºæ¨¡å‹çš„é¢„æµ‹èƒ½åŠ›ä¸éšæœºç»“æœæ²¡æœ‰å·®åˆ«.</p>
</blockquote>
<h2 id="AUC"><a href="#AUC" class="headerlink" title="AUC"></a>AUC</h2><p>AUCï¼ˆArea Under Curveï¼‰è¢«å®šä¹‰ä¸ºROCæ›²çº¿ä¸‹çš„é¢ç§¯ï¼Œæ˜¾ç„¶è¿™ä¸ªé¢ç§¯çš„æ•°å€¼ä¸ä¼šå¤§äº 1.</p>
<p>ç”±äºROCæ›²çº¿ä¸€èˆ¬éƒ½å¤„äº $y=x$ è¿™æ¡ç›´çº¿çš„ä¸Šæ–¹ï¼Œæ‰€ä»¥ AUC çš„å–å€¼èŒƒå›´åœ¨ 0.5~1 ä¹‹é—´.</p>
<p>ç®€å•è¯´ï¼šAUCå€¼è¶Šå¤§çš„åˆ†ç±»å™¨ï¼Œæ­£ç¡®ç‡è¶Šé«˜.</p>
<p><img src="/images/ml/model/AUC.png" width="780"></p>
<p>AUCå€¼ä¸ºROCæ›²çº¿æ‰€è¦†ç›–çš„åŒºåŸŸé¢ç§¯ï¼Œæ˜¾ç„¶ï¼ŒAUCè¶Šå¤§ï¼Œåˆ†ç±»å™¨åˆ†ç±»æ•ˆæœè¶Šå¥½ã€‚
ã€€ã€€</p>
<blockquote>
<ul>
<li>AUC = 1ï¼Œæ˜¯å®Œç¾åˆ†ç±»å™¨ï¼Œé‡‡ç”¨è¿™ä¸ªé¢„æµ‹æ¨¡å‹æ—¶ï¼Œä¸ç®¡è®¾å®šä»€ä¹ˆé˜ˆå€¼éƒ½èƒ½å¾—å‡ºå®Œç¾é¢„æµ‹ã€‚ç»å¤§å¤šæ•°é¢„æµ‹çš„åœºåˆï¼Œä¸å­˜åœ¨å®Œç¾åˆ†ç±»å™¨ã€‚</li>
<li>0.5 &lt; AUC &lt; 1ï¼Œä¼˜äºéšæœºçŒœæµ‹ã€‚è¿™ä¸ªåˆ†ç±»å™¨ï¼ˆæ¨¡å‹ï¼‰å¦¥å–„è®¾å®šé˜ˆå€¼çš„è¯ï¼Œèƒ½æœ‰é¢„æµ‹ä»·å€¼ã€‚</li>
<li>AUC = 0.5ï¼Œè·ŸéšæœºçŒœæµ‹ä¸€æ ·ï¼ˆä¾‹ï¼šä¸¢é“œæ¿ï¼‰ï¼Œæ¨¡å‹æ²¡æœ‰é¢„æµ‹ä»·å€¼ã€‚</li>
<li>AUC &lt; 0.5ï¼Œæ¯”éšæœºçŒœæµ‹è¿˜å·®ï¼›ä½†åªè¦æ€»æ˜¯åé¢„æµ‹è€Œè¡Œï¼Œå°±ä¼˜äºéšæœºçŒœæµ‹</li>
</ul>
</blockquote>
<h2 id="Reference-article"><a href="#Reference-article" class="headerlink" title="Reference article"></a>Reference article</h2><ul>
<li><a href="https://blog.csdn.net/qq_36330643/article/details/79522537" target="_blank" rel="external">æ¨¡å‹è¯„ä¼°å‡†ç¡®ç‡ã€å¬å›ç‡ã€ROCæ›²çº¿ã€AUCæ€»ç»“</a></li>
<li><a href="https://zhuanlan.zhihu.com/p/25993786" target="_blank" rel="external">ROCã€AUCã€K-S</a></li>
<li><a href="http://cda.pinggu.org/view/21012.html" target="_blank" rel="external">å…³äºæ¨¡å‹æ£€éªŒçš„ROCå€¼å’ŒKSå€¼çš„å¼‚åŒ_ROCæ›²çº¿å’ŒKSå€¼</a></li>
<li><a href="https://www.cnblogs.com/techengin/p/8962024.html" target="_blank" rel="external">ï¼ˆåŸåˆ›ï¼‰sklearnä¸­ F1-micro ä¸ F1-macroåŒºåˆ«å’Œè®¡ç®—åŸç†</a></li>
<li><a href="https://blog.csdn.net/sinat_28576553/article/details/80258619" target="_blank" rel="external">åˆ†ç±»é—®é¢˜çš„å‡ ä¸ªè¯„ä»·æŒ‡æ ‡ï¼ˆPrecisionã€Recallã€F1-Scoreã€Micro-F1ã€Macro-F1ï¼‰</a></li>
</ul>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[Ensumble é›†æˆå­¦ä¹ å°è®°]]></title>
      <url>http://iequa.com/2018/07/03/ml-9-ensumble-part1/</url>
      <content type="html"><![CDATA[<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js"],
    jax: ["input/TeX"],
    tex2jax: {
      inlineMath: [ ['$','$'], ['\\(','\\)'] ],
      displayMath: [ ['$$','$$']],
      processEscapes: true
    }
  });
</script>
<script type="text/javascript" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS_HTML,http://myserver.com/MathJax/config/local/local.js">
</script>

<p>æœ¬æ–‡ä¸»è¦åŸºäºå‘¨å¿—åã€Šæœºå™¨å­¦ä¹ ã€‹ä¸€ä¹¦ç¬¬å…«ç«  é›†æˆå­¦ä¹ å†…å®¹åšçš„æ•´ç†ç¬”è®°ï¼Œæ­¤å¤–æŸ¥é˜…äº†ç½‘ä¸Šçš„ä¸€äº›åšå®¢å’Œé—®ç­”ç½‘ç«™</p>
<a id="more"></a>
<h2 id="1-Ensumble-æ¦‚å¿µ"><a href="#1-Ensumble-æ¦‚å¿µ" class="headerlink" title="1. Ensumble æ¦‚å¿µ"></a>1. Ensumble æ¦‚å¿µ</h2><p>Ensumble æ˜¯é€šè¿‡æ„å»ºå¹¶ç»“åˆå¤šä¸ª<code>å­¦ä¹ å™¨</code>æ¥å®Œæˆå­¦ä¹ ä»»åŠ¡ã€‚</p>
<blockquote>
<p>æ›¾ç»å¬è¿‡ä¸€å¥è¯ï¼Œâ€Featureä¸ºä¸»ï¼ŒEnsembleä¸ºåâ€ã€‚</p>
</blockquote>
<p>Feature å†³å®šäº†æ¨¡å‹æ•ˆæœçš„ä¸Šé™ï¼Œè€Œ Ensemble å°±æ˜¯è®©ä½ æ›´æ¥è¿‘è¿™ä¸ªä¸Šé™ã€‚</p>
<blockquote>
<p>Ensemble è®²ç©¶â€œå¥½è€Œä¸åŒâ€ï¼Œä¸åŒæ˜¯æŒ‡æ¨¡å‹çš„å­¦ä¹ åˆ°çš„ä¾§é‡é¢ä¸ä¸€æ ·ã€‚</p>
<p>ä¸¾ä¸ªç›´è§‚çš„ä¾‹å­ï¼Œæ¯”å¦‚æ•°å­¦è€ƒè¯•ï¼ŒAçš„å‡½æ•°é¢˜åšçš„æ¯”Bå¥½ï¼ŒBçš„å‡ ä½•é¢˜åšçš„æ¯”Aå¥½ï¼Œé‚£ä¹ˆä»–ä»¬åˆä½œå®Œæˆçš„åˆ†æ•°é€šå¸¸æ¯”ä»–ä»¬å„è‡ªå•ç‹¬å®Œæˆçš„è¦é«˜ã€‚</p>
<p>å¸¸è§çš„Ensembleæ–¹æ³•æœ‰Baggingã€Boostingã€Stackingã€Blending.</p>
<p>Notes:  Stacking ä¸ Blending ç±»ä¼¼ï¼Œ<a href="https://mlwave.com/kaggle-ensembling-guide/" target="_blank" rel="external">åŒºåˆ«å¯å‚è§</a></p>
</blockquote>
<p><strong>ensumble ä¸­çš„ å¥½è€Œä¸åŒ</strong></p>
<blockquote>
<p>å¦‚ä½•ä½¿å¾—é›†æˆå­¦ä¹ æ€§èƒ½æ¯”æœ€å¥½çš„å•ä¸€å­¦ä¹ å™¨æ›´å¥½ï¼Ÿ</p>
<ul>
<li>å‡†ç¡®æ€§</li>
<li>å¤šæ ·æ€§</li>
</ul>
<p>å¥½è€Œä¸åŒ</p>
<p>å¦‚ä½•äº§ç”Ÿå¹¶ç»“åˆ â€œå¥½è€Œä¸åŒâ€ çš„ä¸ªä½“å­¦ä¹ å™¨ ?</p>
</blockquote>
<p>é›†æˆå­¦ä¹ ç ”ç©¶çš„æ ¸å¿ƒ, å½“å‰æŒ‰ç…§ä¸ªä½“å­¦ä¹ å™¨çš„ç”Ÿæˆæ–¹å¼åˆ’åˆ†:</p>
<blockquote>
<p>baggingï¼ˆåŠå…¶å˜ä½“éšæœºæ£®æ—ï¼‰â€” ä¸ªä½“å­¦ä¹ å™¨é—´ä¸å­˜åœ¨å¼ºä¾èµ–å…³ç³»ï¼Œå¯åŒæ—¶ç”Ÿæˆçš„å¹¶è¡ŒåŒ–æ–¹æ³•<br>boosting - ä¸ªä½“å­¦ä¹ å™¨é—´å­˜åœ¨å¼ºä¾èµ–å…³ç³»ï¼Œå¿…é¡»ä¸²è¡Œç”Ÿæˆçš„åºåˆ—åŒ–æ–¹æ³•</p>
</blockquote>
<p>ä»åå·®-æ–¹å·®åˆ†è§£çš„è§’åº¦: </p>
<blockquote>
<p>bagging å…³æ³¨é™ä½æ–¹å·®<br>boosting å…³æ³¨é™ä½åå·®</p>
</blockquote>
<p>ä¹Ÿå¯ä»¥æŒ‰ç…§æœºå™¨å­¦ä¹ æŠ€æ³•çš„ä¸¤å¼ å›¾æ¥ç†è§£</p>
<p><img src="/images/ml/ensumble/under_over.png" width="750"></p>
<p>ç¬¬ä¸€å¹…å›¾(å¯¹åº”boosting)å¯çœ‹ä½œè¿›è¡Œäº†ä¸€ä¸ªç‰¹å¾è½¬æ¢æ¥é˜²æ­¢æ¬ æ‹Ÿåˆï¼Œç¬¬äºŒå¹…å›¾(å¯¹åº”bagging)åˆ™è¿›è¡Œäº†ä¸€ä¸ªæ­£åˆ™åŒ–æ¥é˜²æ­¢è¿‡æ‹Ÿåˆ</p>
<h2 id="2-Boosting"><a href="#2-Boosting" class="headerlink" title="2. Boosting"></a>2. Boosting</h2><blockquote>
<p>é¦–å…ˆä»åˆå§‹è®­ç»ƒé›†è®­ç»ƒå‡ºä¸€ä¸ªåŸºå­¦ä¹ å™¨ï¼Œå†æ ¹æ®åŸºå­¦ä¹ å™¨çš„è¡¨ç°å¯¹è®­ç»ƒæ ·æœ¬åˆ†å¸ƒè¿›è¡Œè°ƒæ•´ï¼Œä½¿å¾—å…ˆå‰åŸºå­¦ä¹ å™¨åšé”™çš„è®­ç»ƒæ ·æœ¬åœ¨åç»­å—åˆ°æ›´å¤šçš„å…³æ³¨ï¼Œç„¶ååŸºäºè°ƒæ•´åçš„æ ·æœ¬åˆ†å¸ƒæ¥è®­ç»ƒä¸‹ä¸€ä¸ªåŸºå­¦ä¹ å™¨ï¼›å¦‚æ­¤é‡å¤è¿›è¡Œï¼Œç›´è‡³åŸºå­¦ä¹ å™¨æ•°ç›®è¾¾åˆ°äº‹å…ˆæŒ‡å®šçš„å€¼T,æœ€ç»ˆå°†è¿™Tä¸ªåŸºå­¦ä¹ å™¨è¿›è¡ŒåŠ æƒç»„åˆ.</p>
</blockquote>
<h3 id="2-1-adaboost"><a href="#2-1-adaboost" class="headerlink" title="2.1 adaboost"></a>2.1 adaboost</h3><blockquote>
<p>æ¨å¯¼æ–¹å¼ï¼ŒåŸºäºâ€œåŠ æ€§æ¨¡å‹â€ï¼Œå³åŸºäºåŸºå­¦ä¹ å™¨çš„çº¿æ€§ç»„åˆ<br>å¦‚ä½•åœ¨æ¯ä¸€è½®ä¿®æ”¹æ ·æœ¬åˆ†å¸ƒ</p>
<ul>
<li>é‡èµ‹æƒæ³•ï¼šåœ¨æ¯ä¸€è½®è®­ç»ƒä¸­ï¼Œæ ¹æ®æ ·æœ¬åˆ†å¸ƒä¸ºæ¯ä¸€ä¸ªè®­ç»ƒæ ·æœ¬é‡æ–°èµ‹äºˆä¸€ä¸ªæƒé‡ï¼ˆæ¯”å¦‚ã€Šæœºå™¨å­¦ä¹ å®æˆ˜ã€‹ä¸€ä¹¦ä¸­å°±æ˜¯åˆ©ç”¨è¿™ç§æ–¹æ³•æ„å»ºæå‡æ ‘ç®—æ³•ï¼Œé€šè¿‡ä¿®æ”¹æƒé‡æ¥è®¡ç®—æ¯ä¸€è½®çš„æŸå¤±ï¼‰</li>
<li>é‡é‡‡æ ·æ³•ï¼šåˆ©ç”¨é‡é‡‡æ ·çš„è®­ç»ƒé›†æ¥å¯¹åŸºå­¦ä¹ å™¨è¿›è¡Œè®­ç»ƒâ€“&gt;é‡å¯åŠ¨ï¼šé¿å…è®­ç»ƒè¿‡ç¨‹è¿‡æ—©åœæ­¢</li>
</ul>
</blockquote>
<p>Notes:</p>
<blockquote>
<p>è¥¿ç“œä¹¦ä¸Šçš„ç®—æ³•è¿˜æåˆ°è®­ç»ƒçš„æ¯ä¸€è½®å¼€å§‹éƒ½è¦æ£€æŸ¥å½“å‰å­¦ä¹ å™¨æ˜¯å¦æ¯”éšæœºçŒœæµ‹å¥½ï¼Œè‹¥æ¡ä»¶ä¸æ»¡è¶³åˆ™æŠ›å¼ƒå½“å‰å­¦ä¹ å™¨ï¼Œè¿™ç§æƒ…å½¢å¯èƒ½ä¼šå¯¼è‡´å­¦ä¹ è¿‡ç¨‹æœªè¾¾åˆ°Tè½®å³åœæ­¢ï¼Œæ‰€ä»¥æœ‰é‡é‡‡æ ·çš„æ–¹æ³•æ¥è¿›è¡Œé‡å¯åŠ¨é¿å…å‡ºç°æ­¤ç§æƒ…å†µï¼›ä½†æ˜¯å¦ä¸€æ–¹é¢ã€Šç»Ÿè®¡å­¦ä¹ æ–¹æ³•ã€‹ä»¥åŠã€Šæœºå™¨å­¦ä¹ å®æˆ˜ã€‹ä¸­çš„ç®—æ³•å¹¶æœªæœ‰è¿™æ¡åˆ¤æ–­è¯­å¥ï¼›</p>
<p>ã€Šæœºå™¨å­¦ä¹ ã€‹ä¸€ä¹¦ä¸­æåˆ°ï¼Œä»ç»Ÿè®¡å­¦çš„å‡ºå‘è®¤ä¸ºAdaBoostå®è´¨ä¸Šæ˜¯åŸºäºåŠ æ€§æ¨¡å‹ï¼ˆåç»­æŒ‡å‡ºè¿™ä¸€è§†è§’é˜é‡Šçš„æ˜¯ä¸€ä¸ªä¸AdaBoostå¾ˆç›¸ä¼¼çš„è¿‡ç¨‹è€Œéå…¶æœ¬èº«ï¼‰ï¼Œä»¥ç±»ä¼¼ç‰›é¡¿è¿­ä»£æ³•æ¥ä¼˜åŒ–æŒ‡æ•°æŸå¤±å‡½æ•°ï¼Œé€šè¿‡å°†è¿­ä»£ä¼˜åŒ–è¿‡ç¨‹æ›¿æ¢ä¸ºå…¶ä»–ä¼˜åŒ–æ–¹æ³•äº§ç”Ÿäº†GradientBoostingã€LPBoostç­‰ï¼›è€Œè¿™é‡Œä¹Ÿæåˆ°æ¯ä¸€ç§å˜ä½“é’ˆå¯¹ä¸åŒçš„é—®é¢˜ï¼ˆå™ªå£°ã€æ•°æ®ä¸å¹³è¡¡ç­‰ï¼‰è€Œæ‹¥æœ‰ä¸åŒçš„æƒé‡æ›´æ–°è§„åˆ™.</p>
</blockquote>
<h3 id="2-2-ç‰¹ç‚¹"><a href="#2-2-ç‰¹ç‚¹" class="headerlink" title="2.2 ç‰¹ç‚¹"></a>2.2 ç‰¹ç‚¹</h3><blockquote>
<p>ä»bias-varianceåˆ†è§£çš„è§’åº¦æ¥çœ‹ï¼ŒBoostingä¸»è¦å…³æ³¨é™ä½ biasï¼Œå› æ­¤Boostingèƒ½åŸºäºæ³›åŒ–æ€§èƒ½ç›¸å½“å¼±çš„å­¦ä¹ å™¨æ„å»ºå‡ºå¾ˆå¼ºçš„é›†æˆï¼ˆä¸baggingä¸åŒï¼‰</p>
</blockquote>
<p>Notes: boosting å¯¹äºå™ªéŸ³æ•°æ®è¾ƒä¸ºæ•æ„Ÿ</p>
<h2 id="3-Bagging-Bootstrap-aggregating"><a href="#3-Bagging-Bootstrap-aggregating" class="headerlink" title="3. Bagging (Bootstrap aggregating )"></a>3. Bagging (Bootstrap aggregating )</h2><p>å‡ºå‘ç‚¹ä¾ç„¶æ˜¯â€œå¥½è€Œä¸åŒâ€</p>
<blockquote>
<ul>
<li>â€œä¸åŒâ€ â€” ä¸åŒåŸºå­¦ä¹ å™¨åŸºäºä¸åŒçš„æ ·æœ¬å­é›†</li>
<li>â€œå¥½â€ â€” ä½¿ç”¨ç›¸äº’æœ‰äº¤å çš„é‡‡æ ·å­é›†</li>
</ul>
</blockquote>
<h3 id="3-1-å·¥ä½œæœºåˆ¶"><a href="#3-1-å·¥ä½œæœºåˆ¶" class="headerlink" title="3.1 å·¥ä½œæœºåˆ¶"></a>3.1 å·¥ä½œæœºåˆ¶</h3><p>åŸºäºè‡ªåŠ©é‡‡æ ·æ³•ï¼ˆbootstrap samplingï¼‰â€” â€œæœ‰æ”¾å›åœ°å…¨æŠ½â€</p>
<blockquote>
<p>ä»è®­ç»ƒé›†ä»è¿›è¡Œ<strong>å­æŠ½æ ·ç»„æˆæ¯ä¸ªåŸºæ¨¡å‹æ‰€éœ€è¦çš„å­è®­ç»ƒé›†</strong>ï¼Œå¯¹æ‰€æœ‰åŸºæ¨¡å‹é¢„æµ‹çš„ç»“æœè¿›è¡Œç»¼åˆäº§ç”Ÿæœ€ç»ˆçš„é¢„æµ‹ç»“æœ,è‡³äºä¸ºä»€ä¹ˆå«bootstrap aggregationï¼Œå› ä¸ºå®ƒæŠ½å–è®­ç»ƒæ ·æœ¬çš„æ—¶å€™é‡‡ç”¨çš„å°±æ˜¯bootstrapçš„æ–¹æ³•ï¼</p>
</blockquote>
<h3 id="3-2-ä¼˜ç‚¹ï¼ˆç›¸å¯¹äºboostingï¼‰"><a href="#3-2-ä¼˜ç‚¹ï¼ˆç›¸å¯¹äºboostingï¼‰" class="headerlink" title="3.2 ä¼˜ç‚¹ï¼ˆç›¸å¯¹äºboostingï¼‰"></a>3.2 ä¼˜ç‚¹ï¼ˆç›¸å¯¹äºboostingï¼‰</h3><ul>
<li>é«˜æ•ˆ - è®­ç»ƒä¸€ä¸ªbaggingé›†æˆä¸ç›´æ¥ä½¿ç”¨åŸºå­¦ä¹ å™¨ç®—æ³•è®­ç»ƒä¸€ä¸ªå­¦ä¹ å™¨çš„å¤æ‚åº¦åŒé˜¶</li>
<li>baggignèƒ½ä¸ç»ä¿®æ”¹åœ°ç”¨äºå¤šåˆ†ç±»ã€å›å½’ä»»åŠ¡ï¼ˆæ ‡å‡†AdaBoostingåªèƒ½é€‚ç”¨äºäºŒåˆ†ç±»ä»»åŠ¡ï¼‰</li>
<li>åŒ…å¤–ä¼°è®¡â€”â€”è‡ªåŠ©é‡‡æ ·è¿‡ç¨‹ä¸­å‰©ä½™çš„æ ·æœ¬å¯ä»¥ä½œä¸ºéªŒè¯é›†æ¥å¯¹æ³›åŒ–æ€§èƒ½è¿›è¡Œâ€œåŒ…å¤–ä¼°è®¡â€</li>
</ul>
<h3 id="3-3-ç‰¹ç‚¹"><a href="#3-3-ç‰¹ç‚¹" class="headerlink" title="3.3 ç‰¹ç‚¹"></a>3.3 ç‰¹ç‚¹</h3><blockquote>
<p>ä»åå·®-æ–¹å·®è§’åº¦çœ‹ï¼ŒBaggingä¸»è¦å…³æ³¨é™ä½æ–¹å·®ï¼Œå› æ­¤å®ƒåœ¨ä¸å‰ªæå†³ç­–æ ‘ã€ç¥ç»ç½‘ç»œç­‰æ˜“å—æ ·æœ¬æ‰°åŠ¨çš„å­¦ä¹ å™¨ä¸Šæ•ˆç”¨æ˜æ˜¾.</p>
</blockquote>
<h2 id="4-Random-Forest-éšæœºæ£®æ—"><a href="#4-Random-Forest-éšæœºæ£®æ—" class="headerlink" title="4. Random Forest éšæœºæ£®æ—"></a>4. Random Forest éšæœºæ£®æ—</h2><p>Bagging çš„ä¸€ä¸ªæ‰©å±•å˜ä½“</p>
<h3 id="4-1-æ¦‚è¿°"><a href="#4-1-æ¦‚è¿°" class="headerlink" title="4.1 æ¦‚è¿°"></a>4.1 æ¦‚è¿°</h3><ul>
<li>ä»¥å†³ç­–æ ‘ä¸ºåŸºå­¦ä¹ å™¨æ„å»ºBaggingé›†æˆ</li>
<li>åœ¨å†³ç­–æ ‘çš„è®­ç»ƒè¿‡ç¨‹ä¸­å¼•å…¥äº†éšæœºå±æ€§é€‰æ‹©</li>
</ul>
<blockquote>
<p>ä¼ ç»Ÿå†³ç­–æ ‘åœ¨é€‰æ‹©åˆ’åˆ†å±æ€§æ—¶æ˜¯åœ¨å½“å‰ç»“ç‚¹çš„å±æ€§é›†åˆä¸­é€‰æ‹©ä¸€ä¸ªæœ€ä¼˜å±æ€§ï¼›è€Œåœ¨éšæœºæ£®æ—ä¸­ï¼Œå¯¹åŸºå†³ç­–æ ‘çš„æ¯ä¸ªèŠ‚ç‚¹ï¼Œ<strong>å…ˆä»è¯¥èŠ‚ç‚¹å±æ€§é›†åˆä¸­éšæœºé€‰æ‹©ä¸€ä¸ªåŒ…å«kä¸ªå±æ€§çš„å­é›†</strong>ï¼Œç„¶åå†ä»è¿™ä¸ªå­é›†ä¸­é€‰æ‹©ä¸€ä¸ªæœ€ä¼˜å±æ€§ç”¨äºåˆ’åˆ†ï¼Œå…¶ä¸­<code>k</code>æ§åˆ¶äº†éšæœºæ€§çš„å¼•å…¥ç¨‹åº¦</p>
</blockquote>
<h3 id="4-2-ç‰¹ç‚¹"><a href="#4-2-ç‰¹ç‚¹" class="headerlink" title="4.2 ç‰¹ç‚¹"></a>4.2 ç‰¹ç‚¹</h3><blockquote>
<ul>
<li>ç®€å•ã€æ˜“äºå®ç°ã€è®¡ç®—å¼€é”€å°</li>
<li>æ ·æœ¬æ‰°åŠ¨+å±æ€§æ‰°åŠ¨</li>
</ul>
</blockquote>
<h3 id="4-3-bagging-vs-éšæœºæ£®æ—"><a href="#4-3-bagging-vs-éšæœºæ£®æ—" class="headerlink" title="4.3 bagging vs. éšæœºæ£®æ—"></a>4.3 bagging vs. éšæœºæ£®æ—</h3><ul>
<li>ä¸¤è€…æ”¶æ•›æ€§ç›¸ä¼¼ï¼Œéšæœºæ£®æ—çš„èµ·å§‹æ€§èƒ½å¾€å¾€ç›¸å¯¹è¾ƒå·®ï¼Œä½†ä¼šæ”¶æ•›åˆ°æ›´ä½çš„æ³›åŒ–è¯¯å·®</li>
<li>éšæœºæ£®æ—çš„è®­ç»ƒæ•ˆç‡å¸¸ä¼˜äºBaggingï¼Œä¸»è¦æ˜¯å†³ç­–æ ‘åˆ’åˆ†å±æ€§æ—¶ï¼ŒåŸå§‹bagginéœ€è¦å¯¹å±æ€§å…¨é›†è¿›è¡Œè€ƒè™‘ï¼Œè€Œ <strong>RF</strong> æ˜¯é’ˆå¯¹ä¸€ä¸ªå­é›†</li>
</ul>
<h2 id="5-ç»“åˆç­–ç•¥"><a href="#5-ç»“åˆç­–ç•¥" class="headerlink" title="5. ç»“åˆç­–ç•¥"></a>5. ç»“åˆç­–ç•¥</h2><h3 id="5-1-å­¦ä¹ å™¨ç»“åˆçš„å¥½å¤„"><a href="#5-1-å­¦ä¹ å™¨ç»“åˆçš„å¥½å¤„" class="headerlink" title="5.1 å­¦ä¹ å™¨ç»“åˆçš„å¥½å¤„"></a>5.1 å­¦ä¹ å™¨ç»“åˆçš„å¥½å¤„</h3><blockquote>
<ul>
<li>ç»Ÿè®¡çš„è§’åº¦ï¼šå‡è®¾ç©ºé—´å¾ˆå¤§æ—¶ï¼Œå¯èƒ½å­˜åœ¨å¤šä¸ªå‡è®¾åœ¨è®­ç»ƒé›†ä¸Šè¾¾åˆ°åŒç­‰æ€§èƒ½ï¼Œä½†å­¦ä¹ å…¶å¯èƒ½è¯¯é€‰å¯¼è‡´æ³›åŒ–æ€§èƒ½ä¸ä½³ï¼Œç»“åˆå¤šä¸ªå­¦ä¹ å™¨å¯ä»¥å‡å°è¯¥é£é™©</li>
<li>è®¡ç®—çš„è§’åº¦ï¼šé™ä½é™·å…¥ç³Ÿç³•å±€éƒ¨æå°ç‚¹çš„é£é™©</li>
<li>è¡¨ç¤ºçš„è§’åº¦ï¼šç»“åˆå¤šä¸ªå­¦ä¹ å™¨å¯æ‰©å¤§å‡è®¾ç©ºé—´ï¼Œå¯¹äºçœŸå®å‡è®¾åœ¨å‡è®¾ç©ºé—´ä¹‹å¤–çš„æƒ…å½¢å¯èƒ½å­¦å¾—æ›´å¥½çš„è¿‘ä¼¼</li>
</ul>
</blockquote>
<h3 id="5-2-ç­–ç•¥"><a href="#5-2-ç­–ç•¥" class="headerlink" title="5.2 ç­–ç•¥"></a>5.2 ç­–ç•¥</h3><p><strong>å¹³å‡æ³•(Averaging)</strong></p>
<blockquote>
<ul>
<li>ç®€å•å¹³å‡æ³•</li>
<li>åŠ æƒå¹³å‡æ³•</li>
</ul>
</blockquote>
<p><strong>æŠ•ç¥¨æ³•(Voting)</strong></p>
<blockquote>
<ul>
<li>å¤šæ•°æŠ•ç¥¨æ³•</li>
<li>åŠ æƒæŠ•ç¥¨æ³•</li>
<li>è‹¥æŒ‰ä¸ªä½“å­¦ä¹ å™¨è¾“å‡ºå€¼ç±»å‹åˆ’åˆ† (ç¡¬æŠ•ç¥¨ï¼šé¢„æµ‹ä¸º0/1 | è½¯æŠ•ç¥¨ï¼šç›¸å½“äºå¯¹åéªŒæ¦‚ç‡çš„ä¸€ä¸ªä¼°è®¡)</li>
</ul>
</blockquote>
<p><strong>å­¦ä¹ æ³•</strong></p>
<blockquote>
<p>Stacking:å…ˆä»åˆå§‹æ•°æ®é›†è®­ç»ƒå‡ºåˆçº§å­¦ä¹ å™¨ï¼Œç„¶åç”Ÿæˆä¸€ä¸ªæ–°çš„æ•°æ®é›†ç”¨äºè®­ç»ƒå…ƒå­¦ä¹ å™¨ï¼Œåœ¨è¿™ä¸ªæ–°æ•°æ®é›†ä¸­ï¼Œåˆçº§å­¦ä¹ å™¨çš„è¾“å‡ºè¢«å½“ä½œæ ·ä¾‹è¾“å…¥ç‰¹å¾ï¼Œè€Œåˆå§‹æ ·æœ¬çš„æ ‡è®°ä»è¢«å½“ä½œæ ·ä¾‹æ ‡è®°ï¼›ä¸€èˆ¬ä½¿ç”¨äº¤å‰éªŒè¯æ³•æˆ–ç•™ä¸€æ³•æ¥ç”¨è®­ç»ƒåˆçº§å­¦ä¹ å™¨æœªä½¿ç”¨çš„æ ·æœ¬æ¥äº§ç”Ÿå…ƒå­¦ä¹ å™¨çš„è®­ç»ƒæ ·æœ¬</p>
</blockquote>
<p><strong>Notes</strong>: å…³äºStacking</p>
<blockquote>
<p>-ã€Šæœºå™¨å­¦ä¹ ã€‹ä½œè€…ä¹ŸæŒ‡å‡ºStackingæœ¬èº«æ˜¯ä¸€ç§è‘—åçš„é›†æˆæ–¹æ³•ï¼Œä¸”æœ‰ä¸å°‘å˜ä½“å’Œç‰¹ä¾‹ï¼Œä½†ä»–è¿™é‡Œæ˜¯ä½œä¸ºä¸€ç§ç‰¹æ®Šçš„ç»“åˆç­–ç•¥çœ‹å¾…</p>
<ul>
<li>å…³äºStackingçš„ç»†èŠ‚è¯¦è¿°ï¼Œ<a href="https://dnc1994.com/2016/04/rank-10-percent-in-first-kaggle-competition/" target="_blank" rel="external">å¦‚ä½•åœ¨ Kaggle é¦–æˆ˜ä¸­è¿›å…¥å‰ 10%</a> ä»¥ä¸€å¹…å›¾æ¥è¯´è¯´æ˜5æŠ˜Stackingçš„è¿‡ç¨‹</li>
<li>æ¨èä¸€ä¸ªPythonçš„å®ç°äº†Stackingé›†æˆçš„åº“mlxtend</li>
</ul>
</blockquote>
<p><img src="/images/ml/ensumble/stacking-1.jpg" width="800"></p>
<p>åŸä½œè€…ä¸¾äº†ä¸€ä¸ª5æŠ˜stackingçš„ä¾‹å­ï¼ŒåŸºæœ¬æ–¹æ³•æ˜¯ï¼Œ</p>
<ul>
<li>æ¯ä¸€æŠ˜å–è®­ç»ƒé›†80%çš„æ•°æ®è®­ç»ƒä¸€ä¸ªåŸºæ¨¡å‹å¹¶å¯¹å‰©ä¸‹çš„20%çš„æ•°æ®è¿›è¡Œé¢„æµ‹ï¼ŒåŒæ—¶å°†è¯¥æ¨¡å‹å¯¹æµ‹è¯•é›†åšå‡ºé¢„æµ‹ï¼Œä¿ç•™è®­ç»ƒå­é›†çš„é¢„æµ‹ç»“æœå’Œæµ‹è¯•é›†çš„é¢„æµ‹ç»“æœ</li>
<li>å°†5æŠ˜çš„è®­ç»ƒå­é›†é¢„æµ‹ç»“æœç»“åˆèµ·æ¥æ„æˆç¬¬äºŒå±‚å…ƒæ¨¡å‹çš„è¾“å…¥ç‰¹å¾è¿›è¡Œè®­ç»ƒå¾—åˆ°å…ƒåˆ†ç±»å™¨</li>
<li>å°†å‰é¢æ¯ä¸€æŠ˜åœ¨æµ‹è¯•é›†é¢„æµ‹å¾—åˆ°çš„ç»“æœå–å‡å€¼ä½œä¸ºæœ€ç»ˆå…ƒåˆ†ç±»å™¨çš„é¢„æµ‹è¾“å…¥(æœ€ç»ˆçš„æµ‹è¯•æ•°æ®)ï¼Œå¹¶ä½¿ç”¨è®­ç»ƒå¥½çš„å…ƒåˆ†ç±»å™¨åœ¨è¯¥æ•°æ®ä¸Šä½œå‡ºæœ€ç»ˆé¢„æµ‹</li>
</ul>
<p>æ­¤å¤–<a href="https://zhuanlan.zhihu.com/p/27424282" target="_blank" rel="external">çŸ¥ä¹ä¸Šçš„ä¸€ç¯‡æ–‡ç« è¿˜æåˆ°</a></p>
<blockquote>
<p>å¯ä»¥å°†Kä¸ªæ¨¡å‹å¯¹Test Dataçš„é¢„æµ‹ç»“æœæ±‚å¹³å‡ï¼Œä¹Ÿå¯ä»¥ç”¨æ‰€æœ‰çš„Train Dataé‡æ–°è®­ç»ƒä¸€ä¸ªæ–°æ¨¡å‹æ¥é¢„æµ‹Test Data</p>
</blockquote>
<h2 id="6-å¤šæ ·æ€§"><a href="#6-å¤šæ ·æ€§" class="headerlink" title="6. å¤šæ ·æ€§"></a>6. å¤šæ ·æ€§</h2><h3 id="6-1-è¯¯å·®-åˆ†æ­§åˆ†è§£"><a href="#6-1-è¯¯å·®-åˆ†æ­§åˆ†è§£" class="headerlink" title="6.1 è¯¯å·®-åˆ†æ­§åˆ†è§£"></a>6.1 è¯¯å·®-åˆ†æ­§åˆ†è§£</h3><ul>
<li>é›†æˆå­¦ä¹ â€œå¥½è€Œä¸åŒâ€çš„ç†è®ºåˆ†æï¼Œè§ã€Šæœºå™¨å­¦ä¹ ã€‹P185~186</li>
<li>å¯»æ‰¾ é›†æˆæ³›åŒ–è¯¯å·®ã€ä¸ªä½“å­¦ä¹ å™¨æ³›åŒ–è¯¯å·®ã€ä¸ªä½“å­¦ä¹ å™¨é—´ çš„åˆ†æ­§ä¸‰è€…ä¹‹é—´çš„å…³ç³»</li>
</ul>
<h3 id="6-2-å¤šæ ·æ€§åº¦é‡"><a href="#6-2-å¤šæ ·æ€§åº¦é‡" class="headerlink" title="6.2 å¤šæ ·æ€§åº¦é‡"></a>6.2 å¤šæ ·æ€§åº¦é‡</h3><blockquote>
<p>å¤šæ ·æ€§åº¦é‡æ˜¯ç”¨äºåº¦é‡é›†æˆä¸­ä¸ªä½“åˆ†ç±»å™¨çš„å¤šæ ·æ€§ï¼Œå³ä¼°ç®—ä¸ªä½“å­¦ä¹ å™¨çš„å¤šæ ·åŒ–ç¨‹åº¦ï¼Œå…¸å‹åšæ³•æ˜¯è€ƒè™‘ä¸ªä½“åˆ†ç±»å™¨çš„ä¸¤ä¸¤ç›¸ä¼¼/ä¸ç›¸ä¼¼æ€§</p>
<p>åº¦é‡æ–¹æ³• {ä¸åˆåº¦é‡ã€ç›¸å…³ç³»æ•°ã€Q-ç»Ÿè®¡é‡ã€k-ç»Ÿè®¡é‡} </p>
<p>Notes: ç›®å‰æˆ‘è¿˜æ²¡æœ‰åšè¿‡è¿™ç§ç±»ä¼¼æµ‹è¯• ğŸ˜¢</p>
</blockquote>
<h3 id="6-3-å¤šæ ·æ€§å¢å¼º"><a href="#6-3-å¤šæ ·æ€§å¢å¼º" class="headerlink" title="6.3 å¤šæ ·æ€§å¢å¼º"></a>6.3 å¤šæ ·æ€§å¢å¼º</h3><p>å¦‚ä½•å¢å¼ºå¤šæ ·æ€§ï¼Ÿâ€” åœ¨å­¦ä¹ è¿‡ç¨‹ä¸­å¼•å…¥éšæœºæ€§</p>
<ol>
<li>æ•°æ®æ ·æœ¬æ‰°åŠ¨</li>
<li>è¾“å…¥å±æ€§æ‰°åŠ¨</li>
<li>è¾“å‡ºè¡¨ç¤ºæ‰°åŠ¨</li>
<li>ç®—æ³•å‚æ•°æ‰°åŠ¨</li>
</ol>
<p><strong>æ•°æ®æ ·æœ¬æ‰°åŠ¨</strong></p>
<blockquote>
<p>ç»™å®šåˆå§‹æ•°æ®é›†ï¼Œå¯ä»ä¸­äº§ç”Ÿä¸åŒçš„æ•°æ®å­é›†ï¼Œå†åˆ©ç”¨ä¸åŒçš„æ•°æ®å­é›†è®­ç»ƒå‡ºä¸åŒçš„ä¸ªä½“å­¦ä¹ å™¨ï¼Œé€šå¸¸åŸºäºé‡‡æ ·æ³•</p>
</blockquote>
<p><strong>è¾“å…¥å±æ€§æ‰°åŠ¨</strong></p>
<blockquote>
<p>ä»åˆå§‹å±æ€§é›†ä¸­æŠ½å–è‹¥å¹²ä¸ªå±æ€§å­é›†ã€åŸºäºæ¯ä¸ªå±æ€§å­é›†è®­ç»ƒä¸€ä¸ªåŸºå­¦ä¹ å™¨ï¼ˆå¦‚éšæœºå­ç©ºé—´ç®—æ³•ï¼‰ï¼Œæœ€åç»“åˆ</p>
</blockquote>
<p><strong>ç®—æ³•å‚æ•°æ‰°åŠ¨</strong></p>
<p>é€šå¸¸å¯ä»¥é€šè¿‡éšæœºè®¾ç½®ä¸åŒçš„å‚æ•°ï¼Œä»è€Œäº§ç”Ÿå·®åˆ«è¾ƒå¤§çš„ä¸ªä½“å­¦ä¹ å™¨ã€‚</p>
<p><strong>Notes:</strong></p>
<blockquote>
<ul>
<li><p>æ•°æ®æ ·æœ¬æ‰°åŠ¨ä¸­ç›¸å¯¹çš„ç¨³å®šåŸºå­¦ä¹ å™¨åŒ…æ‹¬ï¼šçº¿æ€§å­¦ä¹ å™¨ã€æ”¯æŒå‘é‡æœºã€æœ´ç´ è´å¶æ–¯ã€kè¿‘é‚»å­¦ä¹ å™¨ç­‰</p>
</li>
<li><p>è¾“å…¥å±æ€§æ‰°åŠ¨ : æ„Ÿè§‰å…¸å‹çš„æ˜¯ Random Forest å°±åšäº†è¿™ä»¶äº‹.</p>
</li>
<li><p>å¯¹äºç®—æ³•å‚æ•°æ‰°åŠ¨ï¼Œä¸äº¤å‰éªŒè¯åšæ¯”è¾ƒï¼Œäº¤å‰éªŒè¯å¸¸å¸¸æ˜¯åœ¨ä¸åŒå‚æ•°ç»„åˆæ¨¡å‹é‡Œé€‰æ‹©æœ€ä¼˜å‚æ•°ç»„åˆæ¨¡å‹ï¼Œè€Œé›†æˆåˆ™æ˜¯å°†è¿™äº›ä¸åŒå‚æ•°ç»„åˆçš„æ¨¡å‹ç»“åˆèµ·æ¥ï¼Œæ‰€ä»¥é›†æˆå­¦ä¹ æŠ€æœ¯çš„å®é™…è®¡ç®—å¼€é”€å¹¶ä¸æ¯”ä½¿ç”¨å•ä¸€å­¦ä¹ å™¨å¤§å¾ˆå¤š</p>
</li>
</ul>
</blockquote>
<h2 id="Reference-article"><a href="#Reference-article" class="headerlink" title="Reference article"></a>Reference article</h2><ul>
<li>å‘¨å¿—åã€Šæœºå™¨å­¦ä¹ ã€‹</li>
<li><a href="https://mlwave.com/kaggle-ensembling-guide/" target="_blank" rel="external">kaggle-ensembling-guide</a></li>
<li><a href="https://www.quora.com/What-are-the-differences-between-the-three-commonly-ensemble-learning-techniques-stacking-boosting-and-bagging" target="_blank" rel="external">Bagging, Boosting &amp; Stacking</a></li>
<li><a href="https://stats.stackexchange.com/questions/18891/bagging-boosting-and-stacking-in-machine-learning/19053#19053" target="_blank" rel="external">stackexchangeåŠè¯„è®ºåŒº</a></li>
<li><a href="https://dnc1994.com/2016/04/rank-10-percent-in-first-kaggle-competition/" target="_blank" rel="external">å¦‚ä½•åœ¨ Kaggle é¦–æˆ˜ä¸­è¿›å…¥å‰ 10%</a></li>
<li><a href="https://zhuanlan.zhihu.com/p/27424282" target="_blank" rel="external">åˆ†åˆ†é’Ÿå¸¦ä½ æ€å…¥Kaggle Top 1%</a></li>
<li><a href="http://izhaoyi.top/2017/07/03/ensemble/" target="_blank" rel="external">æ‡’æ­»éª†é©¼</a></li>
<li>æœºå™¨å­¦ä¹ æŠ€æ³•</li>
</ul>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[Boosting - Xgboost (not finish)]]></title>
      <url>http://iequa.com/2018/07/03/ml-8-xgboost/</url>
      <content type="html"><![CDATA[<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js"],
    jax: ["input/TeX"],
    tex2jax: {
      inlineMath: [ ['$','$'], ['\\(','\\)'] ],
      displayMath: [ ['$$','$$']],
      processEscapes: true
    }
  });
</script>
<script type="text/javascript" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS_HTML,http://myserver.com/MathJax/config/local/local.js">
</script>

<p>Githubä¸Šå’Œæœºå™¨å­¦ä¹ å·¥å…·åŒ…ï¼ˆå¦‚sklearnï¼‰ä¸­æœ‰å¾ˆå¤šä¼˜ç§€çš„å¼€æºboostingå®ç°ã€‚åœ¨è¿™é‡Œé‡ç‚¹ä»‹ç»<a href="https://weibo.com/u/2397265244?is_all=1" target="_blank" rel="external">@é™ˆå¤©å¥‡æ€ª</a>åŒå­¦çš„ <a href="https://github.com/dmlc/xgboost.git" target="_blank" rel="external">Xgboost</a>.</p>
<p>Kaggleä¸Šçš„è®¸å¤šæ•°æ®æŒ–æ˜ç«èµ›ï¼ŒBoosting ç±»æ–¹æ³•éƒ½å¸®åŠ©å‚èµ›è€…å–å¾—äº†å¥½æˆç»©. å…¶ä¸­å¾ˆå¤šä¼˜ç§€æˆ˜æœéƒ½æ˜¯ç”¨çš„ <a href="https://github.com/dmlc/xgboost.git" target="_blank" rel="external">Xgboost</a>ç¥å™¨</p>
<a id="more"></a>
<p>Xgboost æä¾›äº†Graident Boostingç®—æ³•çš„æ¡†æ¶ï¼Œç»™å‡ºäº†GBDTï¼ŒGBRTï¼ŒGBMå…·ä½“å®ç°ã€‚æä¾›äº†å¤šè¯­è¨€æ¥å£ï¼ˆC++, Python, Java, Rç­‰ï¼‰ï¼Œä¾›å¤§å®¶æ–¹ä¾¿ä½¿ç”¨ã€‚</p>
<p>æœ€æ–°ç‰ˆæœ¬çš„xgboostæ˜¯åŸºäºåˆ†å¸ƒå¼é€šä¿¡åè®®rabitå¼€å‘çš„ï¼Œå¯éƒ¨ç½²åœ¨åˆ†å¸ƒå¼èµ„æºè°ƒåº¦ç³»ç»Ÿä¸Šï¼ˆå¦‚yarnï¼Œs3ç­‰ï¼‰ã€‚æˆ‘ä»¬å®Œå…¨å¯ä»¥åˆ©ç”¨æœ€æ–°ç‰ˆçš„xgbooståœ¨åˆ†å¸ƒå¼ç¯å¢ƒä¸‹è§£å†³åˆ†ç±»ã€é¢„ä¼°ç­‰åœºæ™¯é—®é¢˜ã€‚</p>
<blockquote>
<p>XGBoostæ˜¯DMLCï¼ˆå³åˆ†å¸ƒå¼æœºå™¨å­¦ä¹ ç¤¾åŒºï¼‰ä¸‹é¢çš„ä¸€ä¸ªå­é¡¹ç›®ï¼Œç”±@é™ˆå¤©å¥‡æ€ªï¼Œ@ææ²ç­‰æœºå™¨å­¦ä¹ å¤§ç¥å‘èµ·ã€‚<br>Rabitæ˜¯ä¸€ä¸ªä¸ºåˆ†å¸ƒå¼æœºå™¨å­¦ä¹ æä¾›Allreduceå’ŒBroadcastç¼–ç¨‹èŒƒå¼å’Œå®¹é”™åŠŸèƒ½çš„å¼€æºåº“ï¼ˆä¹Ÿæ˜¯@é™ˆå¤©å¥‡åŒå­¦çš„åˆä¸€ç¥å™¨ï¼‰ã€‚å®ƒä¸»è¦æ˜¯è§£å†³MPIç³»ç»Ÿæœºå™¨ä¹‹é—´æ— å®¹é”™åŠŸèƒ½çš„é—®é¢˜ï¼Œå¹¶ä¸”ä¸»è¦é’ˆå¯¹Allreduceå’ŒBroadcastæ¥å£æä¾›å¯å®¹é”™åŠŸèƒ½ã€‚</p>
</blockquote>
<h3 id="1-Overfitting-è¿‡æ‹Ÿåˆ"><a href="#1-Overfitting-è¿‡æ‹Ÿåˆ" class="headerlink" title="1. Overfitting è¿‡æ‹Ÿåˆ"></a>1. Overfitting è¿‡æ‹Ÿåˆ</h3><p>XGBoosté‡Œå¯ä»¥ä½¿ç”¨ä¸¤ç§æ–¹å¼é˜²æ­¢ Overfitting</p>
<p>ç›´æ¥æ§åˆ¶æ¨¡å‹å¤æ‚åº¦</p>
<ul>
<li><strong>max_depth</strong>,åŸºå­¦ä¹ å™¨çš„æ·±åº¦ï¼Œå¢åŠ è¯¥å€¼ä¼šä½¿åŸºå­¦ä¹ å™¨å˜å¾—æ›´åŠ å¤æ‚ï¼Œè£æ˜“è¿‡æ‹Ÿåˆï¼Œè®¾ä¸º0è¡¨ç¤ºä¸è®¾é™åˆ¶ï¼Œå¯¹äº<code>depth-wise</code>çš„åŸºå­¦ä¹ å™¨å­¦ä¹ æ–¹æ³•éœ€è¦æ§åˆ¶æ·±åº¦</li>
<li><strong>min_child_weight</strong>ï¼Œå­èŠ‚ç‚¹æ‰€éœ€çš„æ ·æœ¬æƒé‡å’Œ(hessian)çš„æœ€å°é˜ˆå€¼ï¼Œè‹¥æ˜¯åŸºå­¦ä¹ å™¨åˆ‡åˆ†åå¾—åˆ°çš„å¶èŠ‚ç‚¹ä¸­æ ·æœ¬æƒé‡å’Œä½äºè¯¥é˜ˆå€¼åˆ™ä¸ä¼šè¿›ä¸€æ­¥åˆ‡åˆ†ï¼Œåœ¨çº¿æ€§æ¨¡å‹ä¸­è¯¥å€¼å°±å¯¹åº”æ¯ä¸ªèŠ‚ç‚¹çš„æœ€å°æ ·æœ¬æ•°ï¼Œè¯¥å€¼è¶Šå¤§æ¨¡å‹çš„å­¦ä¹ çº¦ä¿å®ˆï¼ŒåŒæ ·ç”¨äºé˜²æ­¢æ¨¡å‹è¿‡æ‹Ÿåˆ</li>
<li><strong>gamma</strong>ï¼Œå¶èŠ‚ç‚¹è¿›ä¸€æ­¥åˆ‡åˆ†çš„æœ€å°æŸå¤±ä¸‹é™çš„é˜ˆå€¼(è¶…è¿‡è¯¥å€¼æ‰è¿›ä¸€æ­¥åˆ‡åˆ†)ï¼Œè¶Šå¤§åˆ™æ¨¡å‹å­¦ä¹ è¶Šä¿å®ˆï¼Œç”¨æ¥æ§åˆ¶åŸºå­¦ä¹ å™¨çš„å¤æ‚åº¦(æœ‰ç‚¹LightGBMé‡Œçš„leaf-wiseåˆ‡åˆ†çš„æ„å‘³)</li>
</ul>
<p>ç»™æ¨¡å‹è®­ç»ƒå¢åŠ éšæœºæ€§ä½¿å…¶å¯¹å™ªå£°æ•°æ®æ›´åŠ é²æ£’</p>
<ul>
<li>è¡Œé‡‡æ ·ï¼šsubsample</li>
<li>åˆ—é‡‡æ ·ï¼šcolsample_bytree</li>
<li>æ­¥é•¿ï¼šetaå³shrinkage</li>
</ul>
<h3 id="2-æ•°æ®ç±»åˆ«åˆ†å¸ƒä¸å‡"><a href="#2-æ•°æ®ç±»åˆ«åˆ†å¸ƒä¸å‡" class="headerlink" title="2. æ•°æ®ç±»åˆ«åˆ†å¸ƒä¸å‡"></a>2. æ•°æ®ç±»åˆ«åˆ†å¸ƒä¸å‡</h3><h3 id="3-è°ƒå‚"><a href="#3-è°ƒå‚" class="headerlink" title="3. è°ƒå‚"></a>3. è°ƒå‚</h3><h3 id="4-ä¸€èˆ¬å‚æ•°"><a href="#4-ä¸€èˆ¬å‚æ•°" class="headerlink" title="4. ä¸€èˆ¬å‚æ•°"></a>4. ä¸€èˆ¬å‚æ•°</h3><h3 id="5-åŸºå­¦ä¹ å™¨å‚æ•°"><a href="#5-åŸºå­¦ä¹ å™¨å‚æ•°" class="headerlink" title="5. åŸºå­¦ä¹ å™¨å‚æ•°"></a>5. åŸºå­¦ä¹ å™¨å‚æ•°</h3><h3 id="6-ä»»åŠ¡å‚æ•°"><a href="#6-ä»»åŠ¡å‚æ•°" class="headerlink" title="6. ä»»åŠ¡å‚æ•°"></a>6. ä»»åŠ¡å‚æ•°</h3><h3 id="7-å‘½ä»¤è¡Œå‚æ•°"><a href="#7-å‘½ä»¤è¡Œå‚æ•°" class="headerlink" title="7. å‘½ä»¤è¡Œå‚æ•°"></a>7. å‘½ä»¤è¡Œå‚æ•°</h3><h2 id="Reference-article"><a href="#Reference-article" class="headerlink" title="Reference article"></a>Reference article</h2><ul>
<li><a href="http://www.cnblogs.com/fengfenggirl/p/classsify_decision_tree.html" target="_blank" rel="external">é€—æ¯”ç®—æ³•å·¥ç¨‹å¸ˆ</a></li>
<li><a href="http://www.52caml.com/" target="_blank" rel="external">ç®—æ³•æ‚è´§é“º</a></li>
<li><a href="http://www.cnblogs.com/leoo2sk/archive/2010/09/19/decision-tree.html" target="_blank" rel="external">52caml</a></li>
<li>ã€Šæœºå™¨å­¦ä¹ å¯¼è®ºã€‹</li>
<li>ã€Šç»Ÿè®¡å­¦ä¹ æ–¹æ³•ã€‹</li>
<li><a href="http://izhaoyi.top/2017/06/19/Decision-Tree" target="_blank" rel="external">æ‡’æ­»éª†é©¼</a></li>
</ul>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[å­¦ä¹ ç¬”è®°(å…«) - Boosting]]></title>
      <url>http://iequa.com/2018/06/29/ml-8-gradient-boosting-part1/</url>
      <content type="html"><![CDATA[<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js"],
    jax: ["input/TeX"],
    tex2jax: {
      inlineMath: [ ['$','$'], ['\\(','\\)'] ],
      displayMath: [ ['$$','$$']],
      processEscapes: true
    }
  });
</script>
<script type="text/javascript" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS_HTML,http://myserver.com/MathJax/config/local/local.js">
</script>

<p>æˆ‘ä»¬éœ€è¦å¯¹å¤šä¸ªæ¨¡å‹è¿›è¡Œèåˆä»¥æé«˜æ•ˆæœæ—¶ï¼Œå¸¸å¸¸ä¼šç”¨åˆ° Baggingï¼ŒBoostingï¼ŒStacking ç­‰è¿™å‡ ä¸ªæ¡†æ¶ç®—æ³•.</p>
<p>Boosting æœ‰å¾ˆå¤šç§ï¼Œæ¯”å¦‚ Adaptive Boostingã€Gradient Boostingç­‰ï¼Œè¿™é‡Œä»¥AdaBoostï¼ŒGradient Boosting ä¸ºå…¸å‹.</p>
<a id="more"></a>
<blockquote>
<p>åœ¨åˆ†ç±»é—®é¢˜ä¸­ï¼ŒBoostingé€šè¿‡æ”¹å˜è®­ç»ƒæ ·æœ¬çš„æƒé‡ï¼Œå­¦ä¹ å¤šä¸ªåˆ†ç±»å™¨ï¼Œå¹¶å°†è¿™äº›åˆ†ç±»å™¨è¿›è¡Œçº¿æ€§ç»„åˆï¼Œæé«˜åˆ†ç±»çš„æ€§èƒ½ã€‚</p>
</blockquote>
<p><strong>ä¸‰ä¸ªè‡­çš®åŒ ï¼Œé¡¶ä¸ªè¯¸è‘›äº®</strong></p>
<blockquote>
<p>ğŸŒ°ğŸŒ°ğŸŒ° :</p>
<p>å…³äºboostingï¼Œæœºå™¨å­¦ä¹ æŠ€æ³•ä¸€è¯¾ä¸­å¼€å¤´ä¸¾çš„ä¸€ä¸ªå°å­¦ç”Ÿè®¤è‹¹æœçš„ä¾‹å­æ¯”è¾ƒä¼ ç¥ï¼Œå‡è®¾ç»™å®šä¸€å †æ°´æœï¼Œè®©ä¸€ç¾¤å°å­¦ç”Ÿæ¥è¯†åˆ«å…¶ä¸­çš„è‹¹æœï¼Œé€ä¸ªçš„è¯¢é—®å°å­¦ç”Ÿæ ¹æ®ä»€ä¹ˆæ ·çš„è§„åˆ™æ¥è®¤ä¸ºä¸€ä¸ªæ°´æœæ˜¯è‹¹æœï¼Œæ¯”å¦‚å­¦ç”ŸAè®¤ä¸ºå½¢çŠ¶ä¸ºåœ†çš„æ˜¯è‹¹æœï¼Œç¬¬äºŒä¸ªå­¦ç”Ÿè®¤ä¸ºé¢œè‰²ä¸ºçº¢çš„ä¸ºè‹¹æœç­‰ç­‰ï¼Œé€ä¸€è¯¢é—®å­¦ç”Ÿçš„è¿‡ç¨‹ä¸­ï¼Œæ¯é—®ä¸€ä¸ªå­¦ç”Ÿä¹‹åï¼ŒæŒ‰ç…§ä»–çš„è§„åˆ™å¯¹å½“å‰æ°´æœåˆ†ç±»ï¼Œè®°å½•å…¶ä¸­çš„é”™åˆ†çš„æ°´æœç„¶åè®©ä¸‹ä¸€ä¸ªåŒå­¦é‡ç‚¹æ ¹æ®è¿™äº›è¢«é”™åˆ†çš„æ°´æœæ¥æ‰¾æ‰¾è§„åˆ™ï¼Œè¿™æ ·ä¸€æ­¥ä¸€æ­¥çš„æœ€åå…¨ç­åŒå­¦å¾—åˆ°ä¸€ä¸ªè¾ƒä¸ºå®Œå¤‡çš„è§„åˆ™æ¥åˆ¤å®šå‡ºè‹¹æœ.</p>
<p>ğŸŒ°ğŸŒ°ğŸŒ° æ€»ç»“ :</p>
<p>è¿™ä¸ªè¿‡ç¨‹ä¸­å•ä¸ªå­¦ç”Ÿæ‰®æ¼”çš„è¾ƒè‰²å°±æ˜¯åŸºåˆ†ç±»å™¨ï¼Œæ¯”å¦‚å¸¸ç”¨çš„å†³ç­–æ ‘æ¡©ï¼Œç±»ä¼¼æŸä¸€ç»´çš„çš„æ„ŸçŸ¥æœºï¼Œåœ¨è¯¥ç»´åº¦å°†ç©ºé—´ä¸€åˆ†ä¸ºäºŒçš„åˆ’åˆ†æ ·æœ¬ï¼Œè€Œæ•™å¸ˆçš„è§’è‰²åˆ™æ˜¯åœ¨è¿™ä¸€è¿‡ç¨‹ä¸­ä¸æ–­å¼•å¯¼å­¦ç”Ÿå…³æ³¨è¢«ä¸Šä¸€ä¸ªå­¦ç”Ÿé”™åˆ†çš„æ ·æœ¬æ¥åšå‡ºåˆ¤å®šè§„åˆ™ï¼Œå¹¶æœ€ç»ˆå¾—å‡ºä¸€ä¸ªè¾ƒä¸ºå®Œå¤‡çš„è¾“å‡ºç»“æœ</p>
</blockquote>
<p><strong>Boostingè¯•å›¾è§£å†³è¿™ä¹ˆä¸€ä¸ªé—®é¢˜</strong>ï¼š</p>
<blockquote>
<p>ç”±äºå‘ç°å¼±å­¦ä¹ ç®—æ³•é€šå¸¸æ¯”å‘ç°å¼ºå­¦ä¹ ç®—æ³•å®¹æ˜“ï¼Œæ‰€ä»¥Boostingè¯•å›¾è§£å†³è¿™ä¹ˆä¸€ä¸ªé—®é¢˜ï¼šâ€œå¦‚æœå·²ç»å‘ç°äº†â€˜å¼±å­¦ä¹ ç®—æ³•â€™ï¼Œé‚£ä¹ˆèƒ½å¦å°†å®ƒæå‡ä¸ºâ€˜å¼ºå­¦ä¹ ç®—æ³•â€™ï¼Ÿâ€</p>
<p><strong>æå‡æ–¹æ³•</strong>å°±æ˜¯ä»å¼±å­¦ä¹ ç®—æ³•å‡ºå‘ï¼Œåå¤å­¦ä¹ (æ”¹å˜è®­ç»ƒæ•°æ®çš„æƒå€¼åˆ†å¸ƒ)ï¼Œå¾—åˆ°ä¸€ç³»åˆ—å¼±åˆ†ç±»å™¨ï¼Œç„¶åç»„åˆè¿™äº›å¼±åˆ†ç±»å™¨ï¼Œæ„æˆä¸€ä¸ªå¼ºåˆ†ç±»å™¨ï¼›</p>
</blockquote>
<p><strong>æå‡æ–¹æ³•éœ€è¦è§£å†³çš„ä¸¤ä¸ªé—®é¢˜</strong>ï¼š</p>
<blockquote>
<ul>
<li>åœ¨æ¯ä¸€è½®è®­ç»ƒä¸­ï¼Œå¦‚ä½•æ”¹å˜è®­ç»ƒæ•°æ®çš„æƒå€¼/æ¦‚ç‡åˆ†å¸ƒï¼Ÿ</li>
<li>åœ¨å¾—åˆ°ä¸€ç³»åˆ—å¼±åˆ†ç±»å™¨åï¼Œå¦‚ä½•å°†å¼±åˆ†ç±»å™¨ç»„åˆæˆä¸€ä¸ªå¼ºåˆ†ç±»å™¨ï¼Ÿ</li>
</ul>
</blockquote>
<h2 id="1-AdaBoost-Adaptive-Boosting"><a href="#1-AdaBoost-Adaptive-Boosting" class="headerlink" title="1. AdaBoost: Adaptive Boosting"></a>1. AdaBoost: Adaptive Boosting</h2><h2 id="Reference-article"><a href="#Reference-article" class="headerlink" title="Reference article"></a>Reference article</h2><ul>
<li><a href="http://www.cnblogs.com/fengfenggirl/p/classsify_decision_tree.html" target="_blank" rel="external">é€—æ¯”ç®—æ³•å·¥ç¨‹å¸ˆ</a></li>
<li><a href="http://www.52caml.com/" target="_blank" rel="external">ç®—æ³•æ‚è´§é“º</a></li>
<li><a href="http://www.cnblogs.com/leoo2sk/archive/2010/09/19/decision-tree.html" target="_blank" rel="external">52caml</a></li>
<li>ã€Šæœºå™¨å­¦ä¹ å¯¼è®ºã€‹</li>
<li>ã€Šç»Ÿè®¡å­¦ä¹ æ–¹æ³•ã€‹</li>
<li><a href="http://izhaoyi.top/2017/06/19/Decision-Tree" target="_blank" rel="external">æ‡’æ­»éª†é©¼</a></li>
</ul>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[å­¦ä¹ ç¬”è®°(äº”) - Decision Tree]]></title>
      <url>http://iequa.com/2018/06/27/ml-5-decisionTree-part2/</url>
      <content type="html"><![CDATA[<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js"],
    jax: ["input/TeX"],
    tex2jax: {
      inlineMath: [ ['$','$'], ['\\(','\\)'] ],
      displayMath: [ ['$$','$$']],
      processEscapes: true
    }
  });
</script>
<script type="text/javascript" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS_HTML,http://myserver.com/MathJax/config/local/local.js">
</script>

<p><img src="/images/ml/decision-tree/decision-tree-2.png" width="330" img=""></p>
<a id="more"></a>
<h2 id="1-å†³ç­–æ ‘æ¨¡å‹"><a href="#1-å†³ç­–æ ‘æ¨¡å‹" class="headerlink" title="1. å†³ç­–æ ‘æ¨¡å‹"></a>1. å†³ç­–æ ‘æ¨¡å‹</h2><p>å†³ç­–æ ‘ï¼ˆdecision treeï¼‰æ˜¯ä¸€ä¸ªæ ‘ç»“æ„ï¼ˆå¯ä»¥æ˜¯äºŒå‰æ ‘æˆ–éäºŒå‰æ ‘ï¼‰</p>
<blockquote>
<p>å…³äº ID3 ä¸ C4.5 çš„å…·ä½“è®¡ç®—æµç¨‹ç¤ºä¾‹ï¼Œè¯·å‚è§ <a href="/2016/08/16/ml-5-decisionTree-part1/">desicion tree (part1)</a></p>
</blockquote>
<h3 id="1-1-å®šä¹‰"><a href="#1-1-å®šä¹‰" class="headerlink" title="1.1. å®šä¹‰"></a>1.1. å®šä¹‰</h3><p>åˆ†ç±»å†³ç­–æ ‘æ¨¡å‹æ˜¯ä¸€ç§æè¿°å¯¹å®ä¾‹è¿›è¡Œåˆ†ç±»çš„æ ‘å½¢ç»“æ„ï¼Œå…¶ä¸­åŒ…å«ä¸¤ç§ç±»å‹çš„èŠ‚ç‚¹</p>
<ol>
<li>å†…éƒ¨èŠ‚ç‚¹: è¡¨ç¤ºä¸€ä¸ª featureï¼ˆå±æ€§ï¼‰</li>
<li>å¶èŠ‚ç‚¹: è¡¨ç¤ºä¸€ä¸ª class</li>
</ol>
<blockquote>
<p>ä¸€èˆ¬å†³ç­–æ ‘å¯ä»¥æ ¹æ®ä»¥ä¸‹å››ä¸ªæ–¹é¢åˆ’åˆ†å½’ç±» :</p>
<ol>
<li>åˆ†æ”¯æ•°</li>
<li>åˆ’åˆ†ç­–ç•¥</li>
<li>ç»ˆæ­¢ç­–ç•¥</li>
<li>åŸºåˆ†ç±»å™¨</li>
</ol>
</blockquote>
<h3 id="1-2-if-thenè§„åˆ™é›†åˆ"><a href="#1-2-if-thenè§„åˆ™é›†åˆ" class="headerlink" title="1.2. if-thenè§„åˆ™é›†åˆ"></a>1.2. if-thenè§„åˆ™é›†åˆ</h3><blockquote>
<ol>
<li>ä¸€æ¡ç”±æ ¹èŠ‚ç‚¹åˆ°å¶èŠ‚ç‚¹çš„è·¯å¾„ â€“&gt; <strong>ä¸€æ¡è§„åˆ™</strong></li>
<li>è·¯å¾„ä¸Šå†…éƒ¨èŠ‚ç‚¹çš„ç‰¹å¾ â€“&gt; è§„åˆ™çš„æ¡ä»¶</li>
<li>å¶èŠ‚ç‚¹çš„ç±» â€“&gt; è§„åˆ™çš„ç»“è®º class</li>
<li>æ€§è´¨ï¼šäº’æ–¥ä¸”å®Œå¤‡</li>
</ol>
</blockquote>
<h3 id="1-3-æ¡ä»¶æ¦‚ç‡åˆ†å¸ƒ"><a href="#1-3-æ¡ä»¶æ¦‚ç‡åˆ†å¸ƒ" class="headerlink" title="1.3. æ¡ä»¶æ¦‚ç‡åˆ†å¸ƒ"></a>1.3. æ¡ä»¶æ¦‚ç‡åˆ†å¸ƒ</h3><blockquote>
<p>ç»™å®š feature æ¡ä»¶ä¸‹ class çš„æ¡ä»¶æ¦‚ç‡åˆ†å¸ƒ</p>
</blockquote>
<h2 id="2-å†³ç­–æ ‘çš„å­¦ä¹ "><a href="#2-å†³ç­–æ ‘çš„å­¦ä¹ " class="headerlink" title="2. å†³ç­–æ ‘çš„å­¦ä¹ "></a>2. å†³ç­–æ ‘çš„å­¦ä¹ </h2><p>å†³ç­–æ ‘å­¦ä¹ æœ¬è´¨æ˜¯ä» train datasets ä¸­å½’çº³å‡ºä¸€ç»„åˆ†ç±»è§„åˆ™ï¼Œå¦ä¸€ä¸ªè§’åº¦ï¼Œå­¦ä¹ æ˜¯ç”± train datasets ä¼°è®¡æ¡ä»¶æ¦‚ç‡æ¨¡å‹</p>
<h3 id="2-1-ç›®çš„"><a href="#2-1-ç›®çš„" class="headerlink" title="2.1 ç›®çš„"></a>2.1 ç›®çš„</h3><blockquote>
<p>å¾—åˆ°ä¸€ä¸ªä¸è®­ç»ƒæ•°æ®çŸ›ç›¾è¾ƒå°çš„å†³ç­–æ ‘ï¼ŒåŒæ—¶å…·æœ‰å¾ˆå¥½çš„æ³›åŒ–èƒ½åŠ›</p>
</blockquote>
<h3 id="2-2-ç­–ç•¥"><a href="#2-2-ç­–ç•¥" class="headerlink" title="2.2 ç­–ç•¥"></a>2.2 ç­–ç•¥</h3><blockquote>
<p>ä»¥æŸå¤±å‡½æ•°ï¼ˆé€šå¸¸ä¸ºæ­£åˆ™åŒ–çš„æå¤§ä¼¼ç„¶å‡½æ•°ï¼‰ä¸ºç›®æ ‡å‡½æ•°çš„æœ€å°åŒ–ï¼Œå¹¶åœ¨æŸå¤±å‡½æ•°ç¡®å®šåï¼Œé€‰æ‹©æœ€ä¼˜å†³ç­–æ ‘</p>
</blockquote>
<h3 id="2-3-å­¦ä¹ ç®—æ³•"><a href="#2-3-å­¦ä¹ ç®—æ³•" class="headerlink" title="2.3 å­¦ä¹ ç®—æ³•"></a>2.3 å­¦ä¹ ç®—æ³•</h3><blockquote>
<ol>
<li>ç†è®ºä¸Šï¼š<del>ä»æ‰€æœ‰å¯èƒ½çš„å†³ç­–æ ‘ä¸­é€‰å–æœ€ä¼˜å†³ç­–æ ‘ï¼ŒNPå®Œå…¨é—®é¢˜</del></li>
<li>å®é™…ä¸­ï¼šé‡‡ç”¨å¯å‘å¼æ–¹æ³•ï¼Œè¿‘ä¼¼æ±‚è§£ï¼ˆå¾—åˆ°æ¬¡æœ€ä¼˜å†³ç­–æ ‘ï¼‰â€“&gt; é€’å½’çš„é€‰æ‹©æœ€ä¼˜ç‰¹å¾ï¼Œå¹¶æ ¹æ®è¯¥æœ€ä¼˜ç‰¹å¾å¯¹è®­ç»ƒæ•°æ®è¿›è¡Œåˆ†å‰²ï¼Œä½¿å¾—å¯¹å„ä¸ªå­æ•°æ®é›†æœ‰ä¸€ä¸ªæœ€å¥½çš„åˆ†ç±»çš„è¿‡ç¨‹ã€‚</li>
<li>ä¸»è¦æ­¥éª¤ï¼š (1). ç‰¹å¾é€‰æ‹© (2). å†³ç­–æ ‘çš„ç”Ÿæˆ (3). å†³ç­–æ ‘çš„å‰ªæ</li>
</ol>
</blockquote>
<p>Notes: å†³ç­–æ ‘çš„ç”Ÿæˆå¯¹åº”äºæ¨¡å‹çš„å±€éƒ¨é€‰æ‹©ï¼Œå†³ç­–æ ‘çš„å‰ªæå¯¹åº”äºæ¨¡å‹çš„å…¨å±€é€‰æ‹©ã€‚</p>
<h2 id="3-ç‰¹å¾é€‰æ‹©"><a href="#3-ç‰¹å¾é€‰æ‹©" class="headerlink" title="3. ç‰¹å¾é€‰æ‹©"></a>3. ç‰¹å¾é€‰æ‹©</h2><ul>
<li><p>å®è´¨ ï¼š é€‰å–å¯¹äºè®­ç»ƒæ•°æ®å…·æœ‰åˆ†ç±»èƒ½åŠ›çš„ç‰¹å¾ï¼ˆå†³å®šç”¨å“ªä¸ª <strong>feature</strong> æ¥åˆ’åˆ† <strong>feature space</strong>ï¼‰</p>
</li>
<li><p>å¸¸ç”¨å‡†åˆ™</p>
</li>
</ul>
<blockquote>
<table>
<thead>
<tr>
<th>Algorithm</th>
<th>Feature é€‰æ‹©æ–¹æ³•</th>
<th>Author</th>
</tr>
</thead>
<tbody>
<tr>
<td>ID3</td>
<td>Information gain</td>
<td>Quinlan. 1986</td>
</tr>
<tr>
<td>C4.5</td>
<td>Gain ratio</td>
<td>Quinlan. 1993.</td>
</tr>
<tr>
<td>CART</td>
<td>å›å½’æ ‘ï¼š æœ€å°äºŒä¹˜<br>åˆ†ç±»æ ‘ï¼š åŸºå°¼æŒ‡æ•° Gini index</td>
<td>Breiman. 1984<br>(Classification and Regression Tree åˆ†ç±»ä¸å›å½’æ ‘)</td>
</tr>
</tbody>
</table>
</blockquote>
<h3 id="3-1-ä¿¡æ¯å¢ç›Š-Information-gain"><a href="#3-1-ä¿¡æ¯å¢ç›Š-Information-gain" class="headerlink" title="3.1 ä¿¡æ¯å¢ç›Š Information gain"></a>3.1 ä¿¡æ¯å¢ç›Š Information gain</h3><p>$$<br>g(D, A)=H(D)-H(D|A)<br>$$</p>
<blockquote>
<p>$g(D, A)$å³ä¿¡æ¯å¢ç›Šï¼Œè¡¨ç¤ºå¾—çŸ¥ç‰¹å¾$A$çš„ä¿¡æ¯è€Œä½¿å¾—ç±»$D$çš„ä¿¡æ¯çš„ä¸ç¡®å®šæ€§å‡å°‘çš„ç¨‹åº¦</p>
<p>$H(D)$ ä¸ºé›†åˆ $D$ çš„ä¿¡æ¯ç†µ</p>
<ul>
<li><p>å…¶ä¸­å‡è®¾ $D$ æ˜¯ä¸€ä¸ªå–æœ‰é™ä¸ªå€¼çš„ç¦»æ•£éšæœºå˜é‡ï¼Œæ¦‚ç‡åˆ†å¸ƒä¸º $P(X=x_i)=p_i, i=1, 2,â€¦,n$</p>
</li>
<li><p>ç†µæ˜¯è¡¨ç¤ºéšæœºå˜é‡ä¸ç¡®å®šæ€§çš„åº¦é‡ï¼Œå®šä¹‰ $H(D)=- \sum_{i=1}^n p_ilogp_i$ï¼Œç†µè¶Šå¤§ï¼Œéšæœºå˜é‡çš„ä¸ç¡®å®šæ€§å°±è¶Šå¤§ï¼Œ$0 \leq H(D) \leq logn$</p>
</li>
<li><p>$H(D|A)$ ç»éªŒæ¡ä»¶ç†µåœ¨å·²çŸ¥éšæœºå˜é‡$A$ï¼ˆç‰¹å¾ï¼‰çš„æ¡ä»¶ä¸‹éšæœºå˜é‡ $D$ çš„ä¸ç¡®å®šæ€§$H(D|A)= \sum_{i=1}^{n}p_iH(D|A=a_i)$</p>
</li>
<li><p>ä¸€èˆ¬å°†ç†µ $H(D)$ ä¸æ¡ä»¶ç†µ $H(D|A)$ ä¹‹å·®ç§°ä¸ºäº’ä¿¡æ¯ï¼Œå†³ç­–æ ‘å­¦ä¹ ä¸­çš„ä¿¡æ¯å¢ç›Šç­‰ä»·äºç±»ä¸ç‰¹å¾çš„äº’ä¿¡æ¯</p>
</li>
</ul>
</blockquote>
<p><strong>å°ç»“:</strong></p>
<blockquote>
<ul>
<li><p>ç»™å®šè®­ç»ƒæ•°æ®é›† $D$ å’Œç‰¹å¾ $A$ï¼Œç»éªŒç†µ $H(D)$ è¡¨ç¤ºå¯¹æ•°æ®é›† $D$ è¿›è¡Œåˆ†ç±»çš„ä¸ç¡®å®šæ€§ï¼Œè€Œç»éªŒæ¡ä»¶ç†µ $H(D|A)$ è¡¨ç¤ºåœ¨ç‰¹å¾ $A$ ç»™å®šçš„æ¡ä»¶ä¸‹å¯¹æ•°æ®é›†è¿›è¡Œåˆ†ç±»çš„ä¸ç¡®å®šæ€§ï¼Œå› æ­¤ä¸¤è€…ä¹‹å·®å³<code>ä¿¡æ¯å¢ç›Š</code>è¡¨ç¤ºç”±äºç‰¹å¾ $A$ è€Œä½¿å¾—æ•°æ®é›† $D$ çš„åˆ†ç±»çš„ä¸ç¡®å®šæ€§å‡å°‘çš„ç¨‹åº¦.</p>
</li>
<li><p>å¯¹äºæ•°æ®é›† $D$ è€Œè¨€ï¼Œä¿¡æ¯å¢ç›Šä¾èµ–äºç‰¹å¾ï¼Œ<code>ä¸åŒç‰¹å¾å…·æœ‰ä¸åŒçš„ä¿¡æ¯å¢ç›Šï¼Œä¿¡æ¯å¢ç›Šå¤§çš„ç‰¹å¾å…·æœ‰æ›´å¼ºçš„åˆ†ç±»èƒ½åŠ›</code>ï¼ˆä¹Ÿå°±æ˜¯æˆ‘ä»¬éœ€è¦æŒ‘é€‰çš„ç›®æ ‡ï¼‰</p>
</li>
</ul>
</blockquote>
<h3 id="3-2-ä¿¡æ¯å¢ç›Šæ¯”-Gain-ratio"><a href="#3-2-ä¿¡æ¯å¢ç›Šæ¯”-Gain-ratio" class="headerlink" title="3.2 ä¿¡æ¯å¢ç›Šæ¯” Gain ratio"></a>3.2 ä¿¡æ¯å¢ç›Šæ¯” Gain ratio</h3><blockquote>
<p>ä»¥ä¿¡æ¯å¢ç›Šä½œä¸ºåˆ’åˆ†è®­ç»ƒæ•°æ®é›†çš„ç‰¹å¾ï¼Œå­˜åœ¨åå‘äº<strong>é€‰æ‹©å–å€¼è¾ƒå¤š</strong>çš„ç‰¹å¾çš„é—®é¢˜ï¼Œä½¿ç”¨ä¿¡æ¯å¢ç›Šæ¯”å¯ä»¥å¯¹è¿™é—®é¢˜è¿›è¡Œæ ¡æ­£.</p>
</blockquote>
<p>ç‰¹å¾$A$å¯¹è®­ç»ƒæ•°æ®é›†$D$çš„ä¿¡æ¯å¢ç›Šæ¯”$g_R(D,A)$å®šä¹‰ä¸ºå…¶ä¿¡æ¯å¢ç›Š$g(D,A)$ä¸è®­ç»ƒæ•°æ®é›†$D$å…³äºç‰¹å¾$A$çš„å€¼çš„ç†µ$H_A(D)$ä¹‹æ¯”ï¼š</p>
<p>$$<br>g_R(D,A)= \frac{g(D,A)}{H_A(D)}<br>$$</p>
<p>å…¶ä¸­</p>
<p>$$<br>H_A(D)=- \sum_{i=1}^{n} \frac{|D_{i}|}{|D|}log_2 \frac{|D_{i}|}{|D|}<br>$$</p>
<blockquote>
<p>$n$ ä¸ºç‰¹å¾ $A$ çš„å–å€¼ä¸ªæ•°ï¼Œ$D_i$ è¡¨ç¤ºæ®ç‰¹å¾ $A$ çš„å–å€¼å°† $D$ åˆ†æˆçš„å­é›†</p>
</blockquote>
<h2 id="4-å†³ç­–æ ‘çš„ç”Ÿæˆ"><a href="#4-å†³ç­–æ ‘çš„ç”Ÿæˆ" class="headerlink" title="4. å†³ç­–æ ‘çš„ç”Ÿæˆ"></a>4. å†³ç­–æ ‘çš„ç”Ÿæˆ</h2><h3 id="4-1-ID3"><a href="#4-1-ID3" class="headerlink" title="4.1 ID3"></a>4.1 ID3</h3><p><strong>æ ¸å¿ƒæ€æƒ³:</strong></p>
<blockquote>
<ul>
<li>åœ¨å†³ç­–æ ‘çš„å„ä¸ªç»“ç‚¹ä¸Šåº”ç”¨ä¿¡æ¯å¢ç›Šå‡†åˆ™é€‰æ‹©ç‰¹å¾ï¼Œé€’å½’åœ°æ„å»ºå†³ç­–æ ‘ã€‚</li>
<li>é€’å½’ç»ˆæ­¢æ¡ä»¶ï¼šæ‰€æœ‰ç‰¹å¾çš„ä¿¡æ¯å¢ç›Šï¼ˆè®¾ç½®ä¿¡æ¯å¢ç›Šçš„é˜ˆå€¼æ¥åˆ¤æ–­æ˜¯å¦è¿›ä¸€æ­¥åˆ’åˆ†ï¼‰å‡å¾ˆå°æˆ–æ²¡ç‰¹å¾å¯é€‰ä¸ºæ­¢.</li>
</ul>
<p>ï¼ˆæ¯é€‰ä¸€ä¸ª<code>ç‰¹å¾</code>åˆ™åæœŸåˆ’åˆ†å­æ ‘ä¸å†ä½¿ç”¨å‰é¢ç”¨è¿‡çš„<code>ç‰¹å¾</code>ï¼Œå› ä¸ºå­æ ‘å·²ç»æ˜¯åœ¨è¯¥ç‰¹å¾ä¸‹å±äºåŒä¸€å–å€¼çš„å®ä¾‹é›†åˆï¼‰</p>
</blockquote>
<p><strong>å†³ç­–æ ‘çš„ç”Ÿæˆ:</strong></p>
<blockquote>
<p>è¾“å…¥ï¼šè®­ç»ƒæ•°æ®é›† $D$ å’Œç‰¹å¾é›† $A$ï¼Œé˜ˆå€¼ $Îµ$ï¼›<br>è¾“å‡ºï¼šå†³ç­–æ ‘ $T$</p>
<p> (1) ï¼ˆå¶å­ç»“ç‚¹ï¼‰è‹¥ $D$ ä¸­æ‰€æœ‰å®ä¾‹å±äºåŒä¸€ç±» $C_k$, åˆ™ $T$ ä¸ºå•èŠ‚ç‚¹æ ‘ï¼Œå¹¶å°†ç±»$C_k$ ä½œä¸ºè¯¥ç»“ç‚¹çš„ç±»æ ‡è®°ï¼Œè¿”å› $T$<br> (2) ï¼ˆç»ˆæ­¢æ¡ä»¶ä¹‹æ²¡æœ‰ç‰¹å¾å¯ä¾›é€‰æ‹©ï¼‰ è‹¥ $A=âˆ…$, åˆ™ $T$ä¸ºå•èŠ‚ç‚¹æ ‘ï¼Œå¹¶å°† $D$ ä¸­å®ä¾‹æ•°æœ€å¤§çš„ç±» $C_k$ ä½œä¸ºè¯¥ç»“ç‚¹çš„ class æ ‡è®°ï¼ˆå¤šæ•°è¡¨å†³è§„åˆ™ï¼‰ï¼Œè¿”å› $T$</p>
<p> (3) ï¼ˆè®¡ç®— $A$ ä¸­å„ç‰¹å¾å¯¹ $D$ çš„<strong>ä¿¡æ¯å¢ç›Š</strong>ï¼Œé€‰æ‹©ä¿¡æ¯å¢ç›Šæœ€å¤§çš„ç‰¹å¾ $A_g$<br> (4) ï¼ˆç»ˆæ­¢æ¡ä»¶ä¹‹é˜ˆå€¼) è‹¥ $A_g$ çš„ä¿¡æ¯å¢ç›Šå°äºé˜ˆå€¼ $Îµ$ï¼Œåˆ™ç½® $T$ ä¸ºå•èŠ‚ç‚¹æ ‘ï¼Œå¹¶å°† $D$ ä¸­å®ä¾‹æ•°æœ€å¤§çš„ç±» $C_k$ ä½œä¸ºè¯¥ç»“ç‚¹çš„ç±»æ ‡è®°ï¼Œè¿”å› $T$</p>
<p>(5) å¦åˆ™ï¼Œå¯¹ $A_g$ çš„æ¯ä¸€å¯èƒ½å€¼ $a_i$ï¼Œä¾ $A_g=a_i$ å°† $D$ åˆ’åˆ†ä¸ºè‹¥å¹²éç©ºå­é›† $D_i$ï¼Œå¹¶å°† $D_i$ ä¸­å®ä¾‹æ•°æœ€å¤§çš„ç±»ä½œä¸ºæ ‡è®°æ„å»ºå­èŠ‚ç‚¹ï¼Œè¿”å› $T_i$<br>(6) å¯¹ç¬¬ $i$ ä¸ªå­èŠ‚ç‚¹ï¼Œä»¥ $D_i$ ä¸ºè®­ç»ƒé›†ï¼Œ$A âˆ’ {A_g}$ ä¸ºç‰¹å¾é›†ï¼Œé€’å½’åœ°è°ƒç”¨(1)~(5)å¾—åˆ°å­æ ‘ $T_i$ å¹¶è¿”å›.</p>
</blockquote>
<h3 id="4-2-C4-5"><a href="#4-2-C4-5" class="headerlink" title="4.2 C4.5"></a>4.2 C4.5</h3><p>C4.5ç®—æ³•ä¸ID3ç®—æ³•ç±»ä¼¼ï¼Œä¸åŒä¹‹å¤„åœ¨äºï¼ŒC4.5åœ¨ç”Ÿæˆçš„è¿‡ç¨‹ä¸­ï¼Œç”¨<code>Gain ratio</code>æ¥é€‰æ‹©ç‰¹å¾ã€‚</p>
<blockquote>
<p>Notes: ä¸Šè¿°å†³ç­–æ ‘çš„ç”Ÿæˆç®—æ³•åªæœ‰æ ‘çš„ç”Ÿæˆï¼Œè€Œä¸”æ˜¯é’ˆå¯¹è®­ç»ƒé›†æ„é€ çš„æ ‘ï¼Œå®¹æ˜“äº§ç”Ÿè¿‡æ‹Ÿåˆã€‚</p>
</blockquote>
<h2 id="5-CART-classification-and-regression-tree"><a href="#5-CART-classification-and-regression-tree" class="headerlink" title="5. CART(classification and regression tree)"></a>5. CART(classification and regression tree)</h2><ul>
<li>CART å‡è®¾å†³ç­–æ ‘æ˜¯äºŒå‰æ ‘ï¼Œè€Œ ID3,C4.5 ç”Ÿæˆçš„è¿‡ç¨‹ä¸­å¹¶æ— æ­¤å‡è®¾ï¼Œè¿™ä¹Ÿå¯¼è‡´äº†ä¸¤è€…çš„æ ¹æœ¬ä¸åŒï¼ŒID3,C4.5 æ¯æ¬¡é€‰æ‹©å‡ºæœ€ä½³ç‰¹å¾ä¹‹åï¼Œæ˜¯æŒ‰ç…§è¯¥ç‰¹å¾çš„æ¯ä¸€ä¸ªå–å€¼åˆ’åˆ†å­æ ‘ï¼›</li>
<li>CART åˆ™æ˜¯å¯¹æ¯ä¸€ä¸ªç‰¹å¾ã€æ¯ä¸€ä¸ªç‰¹å¾çš„æ¯ä¸€ä¸ªå–å€¼è®¡ç®—åŸºå°¼æŒ‡æ•°ï¼ˆåˆ†ç±»æ ‘ï¼‰ç„¶åä»æ‰€æœ‰ç‰¹å¾å¯¹åº”çš„å–å€¼è®¡ç®—æ‰€å¾—çš„åŸºå°¼æŒ‡æ•°ä¸­æœ€å°çš„ç‰¹å¾åŠç‰¹å¾å€¼ä½œä¸º<code>åˆ‡åˆ†ç‚¹</code>æ¥åˆ’åˆ†å­æ ‘ï¼Œå¹¶åœ¨è¿™äº›å­ç©ºé—´ä¸Šç¡®å®šé¢„æµ‹çš„æ¦‚ç‡åˆ†å¸ƒï¼Œä¹Ÿå°±æ˜¯åœ¨è¾“å…¥ç»™å®šçš„æ¡ä»¶ä¸‹è¾“å‡ºå¯¹åº”çš„æ¡ä»¶æ¦‚ç‡åˆ†å¸ƒ.</li>
</ul>
<h3 id="5-1-CART-çº¯åº¦åº¦é‡"><a href="#5-1-CART-çº¯åº¦åº¦é‡" class="headerlink" title="5.1 CART çº¯åº¦åº¦é‡"></a>5.1 CART çº¯åº¦åº¦é‡</h3><p>CART ä¸­ç”¨äºé€‰æ‹©å˜é‡çš„ä¸çº¯æ€§åº¦é‡æ˜¯ <strong>Gini index</strong>ï¼›å¦‚æœç›®æ ‡å˜é‡æ˜¯æ ‡ç§°çš„ï¼Œå¹¶ä¸”æ˜¯å…·æœ‰ä¸¤ä¸ªä»¥ä¸Šçš„ç±»åˆ«ï¼Œåˆ™ CART å¯èƒ½è€ƒè™‘å°†ç›®æ ‡ç±»åˆ«åˆå¹¶æˆä¸¤ä¸ªè¶…ç±»åˆ«ï¼ˆåŒåŒ–ï¼‰ï¼›å¦‚æœç›®æ ‡å˜é‡æ˜¯è¿ç»­çš„ï¼Œåˆ™ CART æ‰¾å‡ºä¸€ç»„åŸºäºæ ‘çš„å›å½’æ–¹ç¨‹æ¥é¢„æµ‹ç›®æ ‡å˜é‡ã€‚</p>
<table>
<thead>
<tr>
<th>Algorithm</th>
<th>Feature Selection</th>
<th>Author</th>
</tr>
</thead>
<tbody>
<tr>
<td>CART</td>
<td>å›å½’æ ‘ï¼š æœ€å°äºŒä¹˜<br>åˆ†ç±»æ ‘ï¼š åŸºå°¼æŒ‡æ•° Gini index</td>
<td>Breiman. 1984<br>(Classification and Regression Tree åˆ†ç±»ä¸å›å½’æ ‘)</td>
</tr>
</tbody>
</table>
<h3 id="5-2-CART-æ­¥éª¤"><a href="#5-2-CART-æ­¥éª¤" class="headerlink" title="5.2 CART æ­¥éª¤"></a>5.2 CART æ­¥éª¤</h3><p><code>build decision tree</code>æ—¶é€šå¸¸é‡‡ç”¨è‡ªä¸Šè€Œä¸‹çš„æ–¹æ³•ï¼Œåœ¨æ¯ä¸€æ­¥é€‰æ‹©ä¸€ä¸ªæœ€å¥½çš„å±æ€§æ¥åˆ†è£‚ã€‚ â€œæœ€å¥½â€ çš„å®šä¹‰æ˜¯ä½¿å¾—å­èŠ‚ç‚¹ä¸­çš„è®­ç»ƒé›†å°½é‡çš„çº¯ã€‚ä¸åŒçš„ç®—æ³•ä½¿ç”¨ä¸åŒçš„æŒ‡æ ‡æ¥å®šä¹‰â€æœ€å¥½â€ã€‚</p>
<p><strong>CART</strong> æ˜¯åœ¨ç»™å®šè¾“å…¥éšæœºå˜é‡ $X$ æ¡ä»¶ä¸‹æ±‚å¾—è¾“å‡ºéšæœºå˜é‡ $Y$ çš„æ¡ä»¶æ¦‚ç‡åˆ†å¸ƒçš„å­¦ä¹ æ–¹æ³•ã€‚</p>
<blockquote>
<p>å¯ä»¥çœ‹å‡ºCARTç®—æ³•åœ¨å¶èŠ‚ç‚¹è¡¨ç¤ºä¸Šä¸åŒäºID3ã€C4.5æ–¹æ³•ï¼ŒåäºŒè€…å¶èŠ‚ç‚¹å¯¹åº”æ•°æ®å­é›†é€šè¿‡â€œå¤šæ•°è¡¨å†³â€çš„æ–¹å¼æ¥ç¡®å®šä¸€ä¸ªç±»åˆ«ï¼ˆå›ºå®šä¸€ä¸ªå€¼ï¼‰ï¼›è€ŒCARTç®—æ³•çš„å¶èŠ‚ç‚¹å¯¹åº”ç±»åˆ«çš„æ¦‚ç‡åˆ†å¸ƒã€‚å¦‚æ­¤çœ‹æ¥ï¼Œæˆ‘ä»¬å¯ä»¥å¾ˆå®¹æ˜“åœ°ç”¨ CART æ¥å­¦ä¹ ä¸€ä¸ª <code>multi-label</code> çš„åˆ†ç±»ä»»åŠ¡ã€‚</p>
</blockquote>
<p><strong>CART</strong> ç®—æ³•ä¹Ÿä¸»è¦ç”±ä¸¤æ­¥ç»„æˆ:</p>
<ul>
<li>å†³ç­–æ ‘çš„ç”Ÿæˆï¼šåŸºäºè®­ç»ƒæ•°æ®é›†ç”Ÿæˆä¸€æ£µäºŒåˆ†å†³ç­–æ ‘ï¼›</li>
<li>å†³ç­–æ ‘çš„å‰ªæï¼šç”¨éªŒè¯é›†å¯¹å·²ç”Ÿæˆçš„äºŒå‰å†³ç­–æ ‘è¿›è¡Œå‰ªæï¼Œå‰ªæçš„æ ‡å‡†ä¸ºæŸå¤±å‡½æ•°æœ€å°åŒ–ã€‚</li>
</ul>
<p>ç”±äºåˆ†ç±»æ ‘ä¸å›å½’æ ‘åœ¨é€’å½’åœ°æ„å»ºäºŒå‰å†³ç­–æ ‘çš„è¿‡ç¨‹ä¸­ï¼Œé€‰æ‹©ç‰¹å¾åˆ’åˆ†çš„å‡†åˆ™ä¸åŒã€‚</p>
<ul>
<li>äºŒå‰åˆ†ç±»æ ‘æ„å»ºè¿‡ç¨‹ä¸­é‡‡ç”¨<code>åŸºå°¼æŒ‡æ•°ï¼ˆGini Indexï¼‰</code>ä¸ºç‰¹å¾é€‰æ‹©æ ‡å‡†ï¼›</li>
<li>äºŒå‰å›å½’æ ‘é‡‡ç”¨<code>å¹³æ–¹è¯¯å·®æœ€å°åŒ–</code>ä½œä¸ºç‰¹å¾é€‰æ‹©æ ‡å‡†ã€‚</li>
</ul>
<h3 id="5-3-æ ‘çš„æ„å»º"><a href="#5-3-æ ‘çš„æ„å»º" class="headerlink" title="5.3 æ ‘çš„æ„å»º"></a>5.3 æ ‘çš„æ„å»º</h3><h4 id="5-3-1-äºŒå‰å›å½’æ ‘"><a href="#5-3-1-äºŒå‰å›å½’æ ‘" class="headerlink" title="5.3.1 äºŒå‰å›å½’æ ‘"></a>5.3.1 äºŒå‰å›å½’æ ‘</h4><p>è®¾ $X$, $Y$ åˆ†åˆ«ä¸ºè¾“å…¥å’Œè¾“å‡ºå˜é‡ï¼Œå…¶ä¸­ $Y$ ä¸ºè¿ç»­å˜é‡ï¼Œç»™å®šè®­ç»ƒæ•°æ®é›† $D= \lbrace (x_1, y_1), (x_2, y_2),â€¦,(x_N, y_N) \rbrace$</p>
<blockquote>
<p>å†³ç­–æ ‘çš„ç”Ÿæˆå°±æ˜¯é€’å½’åœ°æ„å»ºäºŒå‰å†³ç­–æ ‘çš„è¿‡ç¨‹ï¼Œå¯¹å›å½’æ ‘ç”¨å¹³æ–¹è¯¯å·®æœ€å°åŒ–å‡†åˆ™ï¼Œå¯¹åˆ†ç±»æ ‘ç”¨åŸºå°¼æŒ‡æ•°æœ€å°åŒ–å‡†åˆ™ï¼Œè¿›è¡Œç‰¹å¾é€‰æ‹©ï¼Œç”ŸæˆäºŒå‰æ ‘</p>
</blockquote>
<p>ä¸€ä¸ªå›å½’æ ‘å¯¹åº”ç€è¾“å…¥ç©ºé—´ï¼ˆå³ç‰¹å¾ç©ºé—´ï¼‰çš„ä¸€ä¸ªåˆ’åˆ†ä»¥åŠåœ¨åˆ’åˆ†çš„å•å…ƒä¸Šçš„è¾“å‡ºå€¼ï¼Œæ‰€ä»¥æˆ‘ä»¬çš„ä¸»è¦ç›®çš„æ˜¯è¦æ„å»ºå›å½’æ ‘ï¼Œä¹Ÿå°±æ˜¯<strong>å¦‚ä½•åˆ’åˆ†è¾“å…¥ç©ºé—´</strong>ï¼Œå› ä¸ºä¸€æ—¦åˆ’åˆ†å¥½è¾“å…¥ç©ºé—´ï¼Œå¦‚å°†è¾“å…¥ç©ºé—´åˆ’åˆ†ä¸º $M$ ä¸ªå•å…ƒ, $R_1, R_2, â€¦ , R_M$ , å¹¶ä¸”åœ¨æ¯ä¸ªå•å…ƒ $R_m$ ä¸Šæœ‰ä¸€ä¸ªå›ºå®šçš„è¾“å‡ºå€¼ $c_m$ï¼Œé‚£ä¹ˆå›å½’æ ‘çš„æ¨¡å‹å°±å¯ä»¥è¡¨ç¤ºä¸º</p>
<p>$$<br>f(x)=\sum_{m=1}^Mc_mI(x \in R_m)<br>$$</p>
<p><strong>æ¦‚å¿µå¼ºè°ƒ</strong></p>
<p><code>é¦–å…ˆè¦å¼ºè°ƒçš„æ˜¯ CARTå‡è®¾å†³ç­–æ ‘æ˜¯äºŒå‰æ ‘ï¼Œå†…éƒ¨ç»“ç‚¹ç‰¹å¾çš„å–å€¼åªæœ‰â€œæ˜¯â€å’Œâ€œå¦â€ï¼Œå·¦åˆ†æ”¯æ˜¯å–å€¼ä¸ºâ€œæ˜¯â€çš„åˆ†æ”¯ï¼Œæœ‰åˆ†æ”¯åˆ™ç›¸åã€‚è¿™æ ·çš„å†³ç­–æ ‘ç­‰ä»·äºé€’å½’åœ°äºŒåˆ†æ¯ä¸ªç‰¹å¾</code>.</p>
<p><strong>æœ€å°äºŒå‰å›å½’æ ‘ç”Ÿæˆç®—æ³•</strong></p>
<blockquote>
<p>è¾“å…¥ï¼šè®­ç»ƒæ•°æ®é›†$D$ï¼›<br>è¾“å‡ºï¼šå›å½’æ ‘ $f(x)$</p>
<p>ç®—æ³•ï¼šåœ¨è®­ç»ƒé›†æ‰€åœ¨çš„è¾“å…¥ç©ºé—´ä¸­ï¼Œé€’å½’åœ°å°†æ¯ä¸ªåŒºåŸŸåˆ’åˆ†ä¸ºä¸¤ä¸ªå­åŒºåŸŸå¹¶å†³å®šæ¯ä¸ªå­åŒºåŸŸä¸Šè¾“å‡ºå€¼ï¼Œæ„å»ºäºŒå‰å†³ç­–æ ‘</p>
</blockquote>
<p>(1). æ‹©æœ€ä¼˜åˆ‡åˆ†å˜é‡$j$ä¸åˆ‡åˆ†ç‚¹$s$ï¼Œæ±‚è§£</p>
<p>$$<br>\min_{j,s}[\min_{c_1} \sum_{x_i\in R_1(j,s)}(y_i-c_1)^2 + \min_{c_2} \sum_{x_i\in R_2(j,s)}(y_i-c_2)^2]<br>$$</p>
<blockquote>
<p>éå†å˜é‡$j$ï¼Œå¯¹å›ºå®šçš„åˆ‡åˆ†å˜é‡$j$æ‰«æåˆ‡åˆ†ç‚¹$s$ï¼Œé€‰æ‹©ä½¿ä¸Šå¼æœ€å°å€¼çš„å¯¹$(j,s)$ã€‚å…¶ä¸­$R_m$æ˜¯è¢«åˆ’åˆ†çš„è¾“å…¥ç©ºé—´ï¼Œ$c_m$æ˜¯ç©ºé—´$R_m$å¯¹åº”çš„å›ºå®šè¾“å‡ºå€¼ã€‚</p>
</blockquote>
<p>(2). ç”¨é€‰å®šçš„å¯¹$(j,s)$åˆ’åˆ†åŒºåŸŸå¹¶å†³å®šç›¸åº”çš„è¾“å‡ºå€¼ï¼š</p>
<p>$$<br>R_1(j,s)=\lbrace x\mid x^{(j)} \le s \rbrace , \quad R_2(j,s)=\lbrace x \mid x^{(j)} \gt s \rbrace<br>$$</p>
<p>$$<br> \hat c_m = {1\over N_m}\sum_{x_i\in R_m(j,s)}y_i , \quad x\in R_m , m=1,2<br>$$</p>
<p>(3). ç»§ç»­å¯¹ä¸¤ä¸ªå­åŒºåŸŸè°ƒç”¨æ­¥éª¤ï¼ˆ1ï¼‰ï¼Œï¼ˆ2ï¼‰ï¼Œç›´è‡³æ»¡è¶³åœæ­¢æ¡ä»¶ã€‚</p>
<p>(4). å°†è¾“å…¥ç©ºé—´åˆ’åˆ†ä¸º$M$ä¸ªåŒºåŸŸ$R_1$,$R_2$ , â€¦ , $R_M$ï¼Œç”Ÿæˆå†³ç­–æ ‘ï¼š</p>
<p>$$<br>f(x) = \sum_{m=1}^M\hat c_m I(x\in R)<br>$$</p>
<p>ä¸¾ä¸ªğŸŒ°ğŸŒ°ğŸŒ°:</p>
<p>è®­ç»ƒæ•°æ®è§ä¸‹è¡¨ï¼Œ$x$ çš„å–å€¼èŒƒå›´ä¸ºåŒºé—´ $[0.5,10.5]$, $y$ çš„å–å€¼èŒƒå›´ä¸ºåŒºé—´$[5.0,10.0]$ ,å­¦ä¹ è¿™ä¸ªå›å½’é—®é¢˜çš„æœ€å°äºŒå‰å›å½’æ ‘ã€‚</p>
<table>
<thead>
<tr>
<th>$x_i$</th>
<th>1</th>
<th>2</th>
<th>3</th>
<th>4</th>
<th>5</th>
<th>6</th>
<th>7</th>
<th>8</th>
<th>9</th>
<th>10</th>
</tr>
</thead>
<tbody>
<tr>
<td>$y_i$</td>
<td>5.56</td>
<td>5.70</td>
<td>5.91</td>
<td>6.40</td>
<td>6.80</td>
<td>7.05</td>
<td>8.90</td>
<td>8.70</td>
<td>9.00</td>
<td>9.05</td>
</tr>
</tbody>
</table>
<p><strong>é¦–å…ˆæ¥çœ‹è¿™ä¸ªä¼˜åŒ–é—®é¢˜</strong></p>
<p>$$<br>\min_{j,s}[\min_{c_1} \sum_{x_i\in R_1(j,s)}(y_i-c_1)^2 + \min_{c_2} \sum_{x_i\in R_2(j,s)}(y_i-c_2)^2]<br>$$</p>
<p>æ±‚è§£è®­ç»ƒæ•°æ®çš„åˆ‡åˆ†ç‚¹s:</p>
<p>$$<br>R_1(j,s)=\lbrace x\mid x^{(j)} \le s \rbrace , \quad R_2(j,s)=\lbrace x \mid x^{(j)} \gt s \rbrace<br>$$</p>
<p>å®¹æ˜“æ±‚å¾—åœ¨ $R_1$,$R_2$ å†…éƒ¨ä½¿å¾—å¹³æ–¹æŸå¤±è¯¯å·®è¾¾åˆ°æœ€å°å€¼çš„ $c_1$,$c_2$ ä¸ºï¼š</p>
<p>$$<br>c_1={1\over N_1}\sum_{x_i \in R_1}y_i , \quad c_2={1\over N_2}\sum_{x_i \in R_2}y_i<br>$$</p>
<p>è¿™é‡Œ $N_1$,$N_2$ æ˜¯ $R_1$,$R_2$çš„æ ·æœ¬ç‚¹æ•°ã€‚</p>
<p>æ±‚è®­ç»ƒæ•°æ®çš„åˆ‡åˆ†ç‚¹ï¼Œæ ¹æ®æ‰€ç»™æ•°æ®ï¼Œè€ƒè™‘å¦‚ä¸‹åˆ‡åˆ†ç‚¹ï¼š</p>
<p>$$1.5,2.5,3.5,4.5,5.5,6.5,7.5,8.5,9.5$$</p>
<p>å¯¹å„åˆ‡åˆ†ç‚¹ï¼Œä¸éš¾æ±‚å‡ºç›¸åº”çš„ $R_1$ , $R_2$ , $c_1$ , $c_2$ åŠ</p>
<p>$$<br>m(s)=\min_{j,s}[\min_{c_1} \sum_{x_i\in R_1(j,s)}(y_i-c_1)^2 + \min_{c_2} \sum_{x_i\in R_2(j,s)}(y_i-c_2)^2]<br>$$</p>
<p>ä¾‹å¦‚ï¼Œå½“ $s=1.5$ æ—¶ï¼Œ$R_1 = \lbrace 1\rbrace$, $R_2 = \lbrace 2, 3 , \ldots , 10\rbrace$, $c_1 = 5.56$, $c_2 = 7.50$, </p>
<p>$$<br>m(s)=\min_{j,s}[\min_{c_1} \sum_{x_i\in R_1(j,s)}(y_i-c_1)^2 + \min_{c_2} \sum_{x_i\in R_2(j,s)}(y_i-c_2)^2] = 0+15.72 = 15.72<br>$$</p>
<p>ç°å°†$s$åŠ$m(s)$çš„è®¡ç®—ç»“æœåˆ—è¡¨å¦‚ä¸‹ï¼š</p>
<table>
<thead>
<tr>
<th>s</th>
<th>1.5</th>
<th>2.5</th>
<th>3.5</th>
<th>4.5</th>
<th>5.5</th>
<th>6.5</th>
<th>7.5</th>
<th>8.5</th>
<th>9.5</th>
</tr>
</thead>
<tbody>
<tr>
<td>m(s)</td>
<td>15.72</td>
<td>12.07</td>
<td>8.36</td>
<td>5.78</td>
<td>3.91</td>
<td>1.93</td>
<td>8.01</td>
<td>11.73</td>
<td>15.74</td>
</tr>
</tbody>
</table>
<p>ç”±ä¸Šè¡¨å¯çŸ¥ï¼Œå½“$x=6.5$çš„æ—¶å€™è¾¾åˆ°æœ€å°å€¼ï¼Œæ­¤æ—¶ $R_1 = \lbrace 1 ,2 , \ldots , 6\rbrace$, $R_2 ={7 ,8 ,9 , 10}$, $c_1 = 6.24$, $c_2 = 8.9$</p>
<p>æ‰€ä»¥å›å½’æ ‘ $T_1(x)$ ä¸ºï¼š</p>
<p>$$<br>T_1(x) =<br>\begin{cases}<br>6.24, &amp; x\lt 6.5 \\<br>8.91, &amp; x \ge 6.5 \\<br>\end{cases}<br>$$</p>
<p>$$<br>f_1(x) = T_1(x)<br>$$</p>
<p>ç”¨ $f_1(x)$ æ‹Ÿåˆè®­ç»ƒæ•°æ®çš„æ®‹å·®è§ä¸‹è¡¨ï¼Œè¡¨ä¸­ $r_{2i} = y_i - f_1(x_i),i=1,2,\ldots , 10$</p>
<table>
<thead>
<tr>
<th>$x_i$</th>
<th>1</th>
<th>2</th>
<th>3</th>
<th>4</th>
<th>5</th>
<th>6</th>
<th>7</th>
<th>8</th>
<th>9</th>
<th>10</th>
</tr>
</thead>
<tbody>
<tr>
<td>$y_i$</td>
<td>-0.68</td>
<td>-0.54</td>
<td>-0.33</td>
<td>0.16</td>
<td>0.56</td>
<td>0.81</td>
<td>-0.01</td>
<td>-0.21</td>
<td>0.09</td>
<td>0.14</td>
</tr>
</tbody>
</table>
<p>ç”¨$f_1(x)$æ‹Ÿåˆè®­ç»ƒæ•°æ®çš„å¹³æ–¹è¯¯å·®ï¼š</p>
<p>$$<br>L(y,f_1(x)) = \sum_{i=1}^{10}(y_i-f_1(x_i))^2 = 1.93<br>$$</p>
<p>ç¬¬2æ­¥æ±‚ $T_2(x)$.æ–¹æ³•ä¸æ±‚ $T_1(x)$ ä¸€æ ·ï¼Œåªæ˜¯æ‹Ÿåˆçš„æ•°æ®æ˜¯ä¸Šè¡¨çš„æ®‹å·®ï¼Œå¯ä»¥å¾—åˆ°ï¼š</p>
<p>$$<br>T_2(x) =<br>\begin{cases}<br>-0.52, &amp; x\lt 3.5 \\<br>0.22, &amp; x \ge 3.5 \\<br>\end{cases}<br>$$</p>
<p>$$<br>f_2(x) = f_1(x) + T_2(x)=<br>\begin{cases}<br>5.72, &amp; x\lt 3.5 \\<br>6.46, &amp; 3.5\le x \lt 6.5 \\<br>9.13, &amp; x\ge 6.5 \\<br>\end{cases}<br>$$</p>
<p>ç”¨$f_2(x)$æ‹Ÿåˆè®­ç»ƒæ•°æ®çš„å¹³æ–¹è¯¯å·®æ˜¯ï¼š</p>
<p>$$<br>L(y,f_2(x)) = \sum_{i=1}^{10}(y_i-f_2(x_i))^2 = 0.79<br>$$</p>
<p>ç»§ç»­æ±‚å¾—</p>
<p>$$<br>T_3(x) =<br>\begin{cases}<br>0.15, &amp; x\lt 6.5 \\<br>-0.22, &amp; x \ge 6.5 \\<br>\end{cases}<br>\quad L(y,f_3(x)) = 0.47 ,<br>$$</p>
<p>$$<br>T_4(x) =<br>\begin{cases}<br>-0.16, &amp; x\lt 4.5 \\<br>0.11, &amp; x \ge 4.5 \\<br>\end{cases}<br>\quad L(y,f_3(x)) = 0.30 ,<br>$$</p>
<p>$$<br>T_5(x) =<br>\begin{cases}<br>0.07, &amp; x\lt 6.5 \\<br>-0.11, &amp; x \ge 6.5 \\<br>\end{cases}<br>\quad L(y,f_3(x)) = 0.23 ,<br>$$</p>
<p>$$<br>T_6(x) =<br>\begin{cases}<br>-0.15, &amp; x\lt 2.5 \<br>0.04, &amp; x \ge 2.5 \<br>\end{cases}<br>$$</p>
<p>$$<br>f_6(x) = f_5(x)+T_6(x) =T_1(x)+ \ldots + T_5(x) + T_6(x)=<br>\begin{cases}<br>5.63, &amp; x\lt 2.5 \\<br>5.82, &amp; 2.5 \le x\lt 3.5 \\<br>6.56, &amp; 3.5 \le x\lt 4.5 \\<br>6.83, &amp; 4.5 \le x\lt 6.5 \\<br>8.95, &amp; x\ge 6.5 \\<br>\end{cases}<br>$$</p>
<p>ç”¨$f_6(x)$æ‹Ÿåˆè®­ç»ƒæ•°æ®çš„å¹³æ–¹æŸå¤±è¯¯å·®æ˜¯</p>
<p>$$<br>L(y,f_6(x)) = \sum_{i=1}^{10}(y_i-f_6(x_i))^2 = 0.71<br>$$</p>
<p>å‡è®¾æ­¤æ—¶å·²ç»æ»¡è¶³è¯¯å·®è¦æ±‚ï¼Œé‚£ä¹ˆ $f(x) = f_6(x)$ å³ä¸ºæ‰€æ±‚çš„å›å½’æ ‘ã€‚</p>
<h4 id="5-3-2-äºŒå‰åˆ†ç±»æ ‘"><a href="#5-3-2-äºŒå‰åˆ†ç±»æ ‘" class="headerlink" title="5.3.2 äºŒå‰åˆ†ç±»æ ‘"></a>5.3.2 äºŒå‰åˆ†ç±»æ ‘</h4><p>äºŒå‰åˆ†ç±»æ ‘ä¸­ç”¨åŸºå°¼æŒ‡æ•°ï¼ˆGini Indexï¼‰ä½œä¸ºæœ€ä¼˜ç‰¹å¾é€‰æ‹©çš„åº¦é‡æ ‡å‡†ã€‚åŸºå°¼æŒ‡æ•°å®šä¹‰å¦‚ä¸‹ï¼š</p>
<p><strong>Gini Index :</strong></p>
<ol>
<li>æ˜¯ä¸€ç§ä¸ç­‰æ€§åº¦é‡ï¼›</li>
<li>é€šå¸¸ç”¨æ¥åº¦é‡æ”¶å…¥ä¸å¹³è¡¡ï¼Œå¯ä»¥ç”¨æ¥åº¦é‡ä»»ä½•ä¸å‡åŒ€åˆ†å¸ƒï¼›</li>
<li>æ˜¯ä»‹äº0~1ä¹‹é—´çš„æ•°ï¼Œ0-å®Œå…¨ç›¸ç­‰ï¼Œ1-å®Œå…¨ä¸ç›¸ç­‰ï¼›</li>
<li>æ€»ä½“å†…åŒ…å«çš„ç±»åˆ«è¶Šæ‚ä¹±ï¼ŒGINIæŒ‡æ•°å°±è¶Šå¤§ï¼ˆè·Ÿç†µçš„æ¦‚å¿µå¾ˆç›¸ä¼¼ï¼‰</li>
</ol>
<p><strong>Gini Index :</strong></p>
<p>åŒæ ·ä»¥åˆ†ç±»ç³»ç»Ÿä¸ºä¾‹ï¼Œæ•°æ®é›† $D$ ä¸­ç±»åˆ« $C$ å¯èƒ½çš„å–å€¼ä¸º$c_1, c_2, \cdots, c_k$ ï¼ˆ$k$æ˜¯ç±»åˆ«æ•°ï¼‰ï¼Œä¸€ä¸ªæ ·æœ¬å±äºç±»åˆ« $c_i$ çš„æ¦‚ç‡ä¸º$p(i)$ã€‚é‚£ä¹ˆæ¦‚ç‡åˆ†å¸ƒçš„ Gini index å…¬å¼è¡¨ç¤ºä¸ºï¼š</p>
<p>$$<br>Gini(D) = 1 - \sum_{i=1}^{k} {p_i}^2    \qquad(fmt.2.1.1)<br>$$</p>
<blockquote>
<p>å…¶ä¸­$p_i = \frac{ç±»åˆ«å±äºc_içš„æ ·æœ¬æ•°}{æ€»æ ·æœ¬æ•°}$ã€‚å¦‚æœæ‰€æœ‰çš„æ ·æœ¬ Category ç›¸åŒï¼Œåˆ™ $p_1 = 1, p_2 = p_3 = \cdots = p_k = 0$ï¼Œåˆ™æœ‰$p_1 = 1, p_2 = p_3 = \cdots = p_k = 0$ï¼Œæ­¤æ—¶æ•°æ®ä¸çº¯åº¦æœ€ä½ã€‚$Gini(D)$ çš„ç‰©ç†å«ä¹‰æ˜¯è¡¨ç¤ºæ•°æ®é›† $D$ çš„ä¸ç¡®å®šæ€§ã€‚æ•°å€¼è¶Šå¤§ï¼Œè¡¨æ˜å…¶ä¸ç¡®å®šæ€§è¶Šå¤§ï¼ˆè¿™ä¸€ç‚¹ä¸ <a href="https://en.wikipedia.org/wiki/Heuristic_(computer_science)" target="_blank" rel="external">Info Entropy</a> ç›¸ä¼¼ï¼‰ã€‚<br>å¦‚æœ $k=2$ï¼ˆäºŒåˆ†ç±»é—®é¢˜ï¼Œç±»åˆ«å‘½åä¸ºæ­£ç±»å’Œè´Ÿç±»ï¼‰ï¼Œè‹¥æ ·æœ¬å±äºæ­£ç±»çš„æ¦‚ç‡æ˜¯ $p$ï¼Œé‚£ä¹ˆå¯¹åº”åŸºå°¼æŒ‡æ•°ä¸ºï¼š</p>
<p>$$<br>\begin{align} Gini(D) &amp; = 1 - [p^2 + {(1-p)}^2] \\ &amp; = \underline {2p (1-p)} \qquad\qquad (fmt.2.1.2)<br>\end{align}<br>$$</p>
</blockquote>
<p>å¦‚æœæ•°æ®é›† $D$ æ ¹æ®ç‰¹å¾ $f$ æ˜¯å¦å–æŸä¸€å¯èƒ½å€¼ $f_âˆ—$ï¼Œå°† $D$ åˆ’åˆ†ä¸º $D_1={(x, y) \in D | f(x) = f_{\ast}}, D_2=D-D_1$ã€‚é‚£ä¹ˆç‰¹å¾ $f$ åœ¨æ•°æ®é›† $D$ ä¸Šçš„ Gini index å®šä¹‰ä¸ºï¼š</p>
<p>$$<br>Gini(D, f=f_{\ast}) = \frac{\vert D_1 \vert}{\vert D \vert} Gini(D_1) + \frac{\vert D_2 \vert}{\vert D \vert} Gini(D_2) \qquad\qquad (fmt.2.1.3)<br>$$</p>
<p>ä»£è¡¨æ€§çš„ä¾‹å­è¯´æ˜ :</p>
<table>
<thead>
<tr>
<th>ID</th>
<th>é˜´æ™´(F)</th>
<th>æ¸©åº¦(F)</th>
<th>æ¹¿åº¦(F)</th>
<th>åˆ®é£(F)</th>
<th>æ˜¯å¦ç©ï¼ˆCï¼‰</th>
</tr>
</thead>
<tbody>
<tr>
<td>1</td>
<td>sunny</td>
<td>hot</td>
<td>high</td>
<td>false</td>
<td>å¦</td>
</tr>
<tr>
<td>2</td>
<td>sunny</td>
<td>hot</td>
<td>high</td>
<td>true</td>
<td>å¦</td>
</tr>
<tr>
<td>3</td>
<td>overcast</td>
<td>hot</td>
<td>high</td>
<td>false</td>
<td>æ˜¯</td>
</tr>
<tr>
<td>4</td>
<td>rainy</td>
<td>mild</td>
<td>high</td>
<td>false</td>
<td>æ˜¯</td>
</tr>
<tr>
<td>5</td>
<td>rainy</td>
<td>cool</td>
<td>normal</td>
<td>false</td>
<td>æ˜¯</td>
</tr>
<tr>
<td>6</td>
<td>rainy</td>
<td>cool</td>
<td>normal</td>
<td>true</td>
<td>å¦</td>
</tr>
<tr>
<td>7</td>
<td>overcast</td>
<td>cool</td>
<td>normal</td>
<td>true</td>
<td>æ˜¯</td>
</tr>
<tr>
<td>8</td>
<td>sunny</td>
<td>mild</td>
<td>high</td>
<td>false</td>
<td>å¦</td>
</tr>
<tr>
<td>9</td>
<td>sunny</td>
<td>cool</td>
<td>normal</td>
<td>false</td>
<td>æ˜¯</td>
</tr>
<tr>
<td>10</td>
<td>rainy</td>
<td>mild</td>
<td>normal</td>
<td>false</td>
<td>æ˜¯</td>
</tr>
<tr>
<td>11</td>
<td>sunny</td>
<td>mild</td>
<td>normal</td>
<td>true</td>
<td>æ˜¯</td>
</tr>
<tr>
<td>12</td>
<td>overcast</td>
<td>mild</td>
<td>high</td>
<td>true</td>
<td>æ˜¯</td>
</tr>
<tr>
<td>13</td>
<td>overcast</td>
<td>hot</td>
<td>normal</td>
<td>false</td>
<td>æ˜¯</td>
</tr>
<tr>
<td>14</td>
<td>rainy</td>
<td>mild</td>
<td>high</td>
<td>true</td>
<td>å¦</td>
</tr>
</tbody>
</table>
<p><strong>ä¸‹å›¾æ˜¯ IG çš„å†³ç­–æ ‘ï¼Œå¹¶ä¸æ˜¯ äºŒåˆ†åˆ†ç±»æ ‘ ${Gini}$ ${index}$ å†³ç­–æ ‘, æ”¾è¿™é‡Œä»…ä»…æ˜¯ä¸ºäº†æ„ŸçŸ¥ä¸€ä¸‹</strong></p>
<p><img src="/images/ml/decision-tree/decision-tree-2.png" width="530" img=""></p>
<p>åœ¨å®é™…æ“ä½œä¸­ï¼Œé€šè¿‡éå†æ‰€æœ‰ç‰¹å¾ï¼ˆå¦‚æœæ˜¯è¿ç»­å€¼ï¼Œéœ€åšç¦»æ•£åŒ–ï¼‰åŠå…¶å–å€¼ï¼Œé€‰æ‹© $Min_{gini-index}$ æ‰€å¯¹åº”çš„ç‰¹å¾å’Œç‰¹å¾å€¼ã€‚</p>
<p>è¿™é‡Œä»ç„¶ä»¥å¤©æ°”æ•°æ®ä¸ºä¾‹ï¼Œç»™å‡ºç‰¹å¾<strong>é˜´æ™´</strong>çš„ Gini index è®¡ç®—è¿‡ç¨‹ã€‚</p>
<blockquote>
<p>(1). å½“ç‰¹å¾â€œé˜´æ™´â€å–å€¼ä¸ºâ€sunnyâ€æ—¶ï¼Œ$D_1 = {1,2,8,9,11}, |D_1|=5$ï¼›$D_2={3,4,5,6,7,10,12,13,14}, |D_2|=9$. æ•°æ®è‡ªå·±å¯¹åº”çš„ç±»åˆ«æ•°åˆ†åˆ«ä¸º $(+2,-3)ã€(+7,-2)$ã€‚å› æ­¤ $Gini(D_1) = 2 \cdot \frac{3}{5} \cdot \frac{2}{5} = \frac{12}{25}$ï¼›$Gini(D_2) = 2 \cdot \frac{7}{9} \cdot \frac{2}{9} = \frac{28}{81}$. å¯¹åº”çš„åŸºå°¼æŒ‡æ•°ä¸ºï¼š<br>$$<br>Gini(C, â€œé˜´æ™´â€=â€sunnyâ€) = \frac{5}{14} Gini(D_1) + \frac{9}{14} Gini(D_2) = \frac{5}{14} \frac{12}{25} + \frac{9}{14} \frac{28}{81} = 0.394 \quad(exp.2.2.1)<br>$$<br>(2). å½“ç‰¹å¾â€œé˜´æ™´â€å–å€¼ä¸ºâ€overcastâ€æ—¶ï¼Œ$D_1 = {2,7,12,13}, |D_1|=4$ï¼›$D_2={1,2,4,5,6,8,9,10,11,14}, |D_2|=10$ã€‚$D_1$ã€$D_2$ æ•°æ®è‡ªå·±å¯¹åº”çš„ç±»åˆ«æ•°åˆ†åˆ«ä¸º $(+4,-0)ã€(+5,-5)$ã€‚å› æ­¤ $Gini(D_1) = 2 \cdot 1 \cdot 0 = 0ï¼›Gini(D_2) = 2 \cdot \frac{5}{10} \cdot \frac{5}{10} = \frac{1}{2}$ å¯¹åº”çš„åŸºå°¼æŒ‡æ•°ä¸ºï¼š<br>$$<br>Gini(C, â€œé˜´æ™´â€=â€overcastâ€) = \frac{4}{14} Gini(D_1) + \frac{10}{14} Gini(D_2) = 0 + \frac{10}{14} \cdot \frac{1}{2} = \frac{5}{14} = 0.357 \quad(exp.2.2.2)<br>$$</p>
<p>(3). å½“ç‰¹å¾â€œé˜´æ™´â€å–å€¼ä¸ºâ€rainyâ€æ—¶ï¼Œ$D_1 = {4,5,6,10,14}, |D_1|=5$; $D_2={1,2,3,7,8,9,11,12,13}, |D_2|=9$ã€‚ $D_1$ã€$D_2$ æ•°æ®è‡ªå·±å¯¹åº”çš„ç±»åˆ«æ•°åˆ†åˆ«ä¸º $(+3,âˆ’2)ã€(+6,âˆ’3)$ã€‚å› æ­¤ $Gini(D_1) = 2 \cdot \frac{3}{5} \cdot \frac{2}{5} = \frac{12}{25}$ï¼›$Gini(D_2) = 2 \cdot \frac{6}{9} \cdot \frac{3}{9} = \frac{4}{9}$ã€‚ å¯¹åº”çš„åŸºå°¼æŒ‡æ•°ä¸ºï¼š<br>$$<br>Gini(C, â€œé˜´æ™´â€=â€rainyâ€) = \frac{5}{14} Gini(D_1) + \frac{9}{14} Gini(D_2) = \frac{5}{14} \frac{12}{25} + \frac{9}{14} \frac{4}{9} = \frac{4}{7} = 0.457 \quad(exp.2.2.3)<br>$$</p>
</blockquote>
<p>å¦‚æœç‰¹å¾â€é˜´æ™´â€æ˜¯æœ€ä¼˜ç‰¹å¾çš„è¯ï¼Œé‚£ä¹ˆç‰¹å¾å–å€¼ä¸ºâ€overcastâ€åº”ä½œä¸ºåˆ’åˆ†èŠ‚ç‚¹ã€‚</p>
<h2 id="6-å†³ç­–æ ‘æ¨¡å‹çš„ä¼˜ç¼ºç‚¹"><a href="#6-å†³ç­–æ ‘æ¨¡å‹çš„ä¼˜ç¼ºç‚¹" class="headerlink" title="6. å†³ç­–æ ‘æ¨¡å‹çš„ä¼˜ç¼ºç‚¹"></a>6. å†³ç­–æ ‘æ¨¡å‹çš„ä¼˜ç¼ºç‚¹</h2><h3 id="6-1-ä¼˜ç‚¹"><a href="#6-1-ä¼˜ç‚¹" class="headerlink" title="6.1 ä¼˜ç‚¹"></a>6.1 ä¼˜ç‚¹</h3><ul>
<li>å¯è§£é‡Šæ€§â€“æ¨¡æ‹Ÿäººç±»å†³ç­–è¿‡ç¨‹</li>
<li>è®­ç»ƒã€é¢„æµ‹æ•ˆç‡è¾ƒé«˜â€“å…³äºå…¶åˆ‡åˆ†æ–¹å¼ï¼Œæ¯æ¬¡æ˜¯åœ¨ä¸€ä¸ªæ¡ä»¶ä¸‹çš„å±€éƒ¨ç©ºé—´åˆ’åˆ†æ ·æœ¬ï¼Œè€Œç±»ä¼¼Adabooståˆ™æ˜¯æ¯æ¬¡åœ¨æ•´ä¸ªç©ºé—´åˆ’åˆ†æ ·æœ¬ï¼Œæ‰€ä»¥å°±å†³ç­–æ ‘è€Œè¨€ç›¸å¯¹é«˜æ•ˆ</li>
<li>é€‚ç”¨äºç±»åˆ«ç±»å‹æ•°æ®â€“decision set(ç©·ä¸¾ç±»åˆ«ç‰¹å¾å€¼ç„¶åæŒ‰ç…§ç‰¹å¾å€¼çš„å­é›†é›†åˆæ¥åˆ’åˆ†æ ·æœ¬)</li>
<li>èƒ½å¤Ÿå¾ˆæ–¹ä¾¿çš„ç”±äºŒåˆ†ç±»æ¨¡å‹è½¬æ¢ä¸ºå¤šåˆ†ç±»æ¨¡å‹â€“ä¸»è¦ä¿®æ”¹ä¸çº¯åº¦è®¡ç®—ä»¥åŠè¿”å›å€¼çš„è®¾ç½®</li>
<li>èƒ½å¤Ÿå¤„ç†ç¼ºå¤±ç‰¹å¾å€¼â€“ç”¨å…¶ä»–çš„ç‰¹å¾å€¼æ¥æ›¿ä»£è¿›è¡Œåˆ’åˆ†(ä¸€èˆ¬è¦æ±‚æ›¿ä»£ç‰¹å¾åˆ’åˆ†ç»“æœæ¥è¿‘ç¼ºå¤±ç‰¹å¾å€¼)</li>
<li>æ˜“äºå®ç°</li>
</ul>
<h3 id="6-2-ç¼ºç‚¹"><a href="#6-2-ç¼ºç‚¹" class="headerlink" title="6.2 ç¼ºç‚¹"></a>6.2 ç¼ºç‚¹</h3><ul>
<li>ç»éªŒå¤šäºç†è®ºï¼Œå¤§å¤šæ•°å†³ç­–æ ‘æ¨¡å‹æ˜¯æ ¹æ®ç»éªŒæ¥åˆ¤æ–­çš„ï¼Œæ•ˆæœå¥½åå°šæ— è¾ƒå¥½çš„ç†è®ºæ”¯æ’‘</li>
</ul>
<h2 id="Reference-article"><a href="#Reference-article" class="headerlink" title="Reference article"></a>Reference article</h2><ul>
<li><a href="http://www.cnblogs.com/fengfenggirl/p/classsify_decision_tree.html" target="_blank" rel="external">é€—æ¯”ç®—æ³•å·¥ç¨‹å¸ˆ</a>ã€<a href="http://www.52caml.com/" target="_blank" rel="external">ç®—æ³•æ‚è´§é“º</a></li>
<li><a href="http://www.cnblogs.com/leoo2sk/archive/2010/09/19/decision-tree.html" target="_blank" rel="external">52caml</a>ã€<a href="http://izhaoyi.top/2017/06/19/Decision-Tree" target="_blank" rel="external">æ‡’æ­»éª†é©¼</a></li>
<li><a href="http://blog.csdn.net/ljp812184246/article/details/47402639" target="_blank" rel="external">å†³ç­–æ ‘ID3ã€C4.5ã€CARTç®—æ³•ï¼šä¿¡æ¯ç†µï¼ŒåŒºåˆ«ï¼Œå‰ªæç†è®ºæ€»ç»“</a></li>
<li><a href="https://www.zybuluo.com/mdeditor" target="_blank" rel="external">Markdown å­¦ä¹ å¥½æ•™æ</a>ã€<a href="https://cethik.vip/2016/09/21/machineCAST/" target="_blank" rel="external">CARTä¹‹å›å½’æ ‘æ„å»º</a></li>
<li>ã€Šæœºå™¨å­¦ä¹ å¯¼è®ºã€‹ã€Šç»Ÿè®¡å­¦ä¹ æ–¹æ³•ã€‹</li>
</ul>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[LR ä¸ SVM çš„å¼‚åŒ]]></title>
      <url>http://iequa.com/2018/06/23/ml-model-lr-vs-svm/</url>
      <content type="html"><![CDATA[<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js"],
    jax: ["input/TeX"],
    tex2jax: {
      inlineMath: [ ['$','$'], ['\\(','\\)'] ],
      displayMath: [ ['$$','$$']],
      processEscapes: true
    }
  });
</script>
<script type="text/javascript" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS_HTML,http://myserver.com/MathJax/config/local/local.js">
</script>

<p>LR å’Œ SVM ä¹‹é—´çš„ç›¸åŒç‚¹å’Œä¸åŒç‚¹, æŸ¥è¯¢äº†ç½‘ç»œä¸Šçš„ä¸€äº›èµ„æ–™ï¼Œç‰¹æ•´ç†æ±‡æ€»å¦‚ä¸‹ : ğŸ˜„</p>
<ol>
<li>LR å’Œ SVM æ”¾åœ¨ä¸€èµ·æ¥è¿›è¡Œæ¯”è¾ƒ, whyï¼Ÿ</li>
<li>LR å’Œ SVM çš„ ç›¸åŒç‚¹å’Œä¸åŒç‚¹?</li>
</ol>
<a id="more"></a>
<h2 id="1-ä¸ºä»€ä¹ˆå°†LRå’ŒSVMæ”¾åœ¨ä¸€èµ·æ¥è¿›è¡Œæ¯”è¾ƒï¼Ÿ"><a href="#1-ä¸ºä»€ä¹ˆå°†LRå’ŒSVMæ”¾åœ¨ä¸€èµ·æ¥è¿›è¡Œæ¯”è¾ƒï¼Ÿ" class="headerlink" title="1. ä¸ºä»€ä¹ˆå°†LRå’ŒSVMæ”¾åœ¨ä¸€èµ·æ¥è¿›è¡Œæ¯”è¾ƒï¼Ÿ"></a>1. ä¸ºä»€ä¹ˆå°†LRå’ŒSVMæ”¾åœ¨ä¸€èµ·æ¥è¿›è¡Œæ¯”è¾ƒï¼Ÿ</h2><p>å›ç­”è¿™ä¸ªé—®é¢˜å…¶å®å°±æ˜¯å›ç­”LRå’ŒSVMæœ‰ä»€ä¹ˆç›¸åŒç‚¹</p>
<h3 id="LR-å’Œ-SVM-éƒ½æ˜¯åˆ†ç±»ç®—æ³•"><a href="#LR-å’Œ-SVM-éƒ½æ˜¯åˆ†ç±»ç®—æ³•" class="headerlink" title="LR å’Œ SVM éƒ½æ˜¯åˆ†ç±»ç®—æ³•"></a>LR å’Œ SVM éƒ½æ˜¯åˆ†ç±»ç®—æ³•</h3><blockquote>
<p>åˆ¤æ–­ä¸€ä¸ªç®—æ³•æ˜¯åˆ†ç±»è¿˜æ˜¯å›å½’ç®—æ³•çš„å”¯ä¸€æ ‡å‡†å°±æ˜¯æ ·æœ¬labelçš„ç±»å‹ï¼Œå¦‚æœlabelæ˜¯ç¦»æ•£çš„ï¼Œå°±æ˜¯åˆ†ç±»ç®—æ³•ï¼Œå¦‚æœlabelæ˜¯è¿ç»­çš„ï¼Œå°±æ˜¯å›å½’ç®—æ³•ã€‚å¾ˆæ˜æ˜¾ï¼ŒLRçš„è®­ç»ƒæ•°æ®çš„labelæ˜¯â€œ0æˆ–è€…1â€ï¼Œå½“ç„¶æ˜¯åˆ†ç±»ç®—æ³•.</p>
</blockquote>
<h3 id="LR-å’Œ-SVM-éƒ½æ˜¯çº¿æ€§åˆ†ç±»ç®—æ³•"><a href="#LR-å’Œ-SVM-éƒ½æ˜¯çº¿æ€§åˆ†ç±»ç®—æ³•" class="headerlink" title="LR å’Œ SVM éƒ½æ˜¯çº¿æ€§åˆ†ç±»ç®—æ³•"></a>LR å’Œ SVM éƒ½æ˜¯çº¿æ€§åˆ†ç±»ç®—æ³•</h3><blockquote>
<p>å¦‚æœä¸è€ƒè™‘æ ¸å‡½æ•°ï¼ŒLRå’ŒSVMéƒ½æ˜¯çº¿æ€§åˆ†ç±»ç®—æ³•ï¼Œä¹Ÿå°±æ˜¯è¯´ä»–ä»¬çš„åˆ†ç±»å†³ç­–é¢éƒ½æ˜¯çº¿æ€§</p>
<p>è¿™é‡Œè¦å…ˆè¯´æ˜ä¸€ç‚¹ï¼Œé‚£å°±æ˜¯LRä¹Ÿæ˜¯å¯ä»¥ç”¨æ ¸å‡½æ•°çš„ï¼Œè‡³äºä¸ºä»€ä¹ˆé€šå¸¸åœ¨SVMä¸­è¿ç”¨æ ¸å‡½æ•°è€Œä¸åœ¨LRä¸­è¿ç”¨ï¼Œåé¢è®²åˆ°ä»–ä»¬ä¹‹é—´åŒºåˆ«çš„æ—¶å€™ä¼šé‡ç‚¹åˆ†æã€‚æ€»ä¹‹ï¼ŒåŸå§‹çš„LRå’ŒSVMéƒ½æ˜¯çº¿æ€§åˆ†ç±»å™¨ï¼Œè¿™ä¹Ÿæ˜¯ä¸ºä»€ä¹ˆé€šå¸¸æ²¡äººé—®ä½ å†³ç­–æ ‘å’ŒLRä»€ä¹ˆåŒºåˆ«ï¼Œå†³ç­–æ ‘å’ŒSVMä»€ä¹ˆåŒºåˆ«ï¼Œä½ è¯´ä¸€ä¸ªéçº¿æ€§åˆ†ç±»å™¨å’Œä¸€ä¸ªçº¿æ€§åˆ†ç±»å™¨æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ</p>
</blockquote>
<h3 id="LR-å’Œ-SVM-éƒ½æ˜¯åˆ¤åˆ«æ¨¡å‹"><a href="#LR-å’Œ-SVM-éƒ½æ˜¯åˆ¤åˆ«æ¨¡å‹" class="headerlink" title="LR å’Œ SVM éƒ½æ˜¯åˆ¤åˆ«æ¨¡å‹"></a>LR å’Œ SVM éƒ½æ˜¯åˆ¤åˆ«æ¨¡å‹</h3><table>
<thead>
<tr>
<th>-</th>
<th style="text-align:center">generative approach</th>
<th style="text-align:center">discriminative approach</th>
</tr>
</thead>
<tbody>
<tr>
<td>å®šä¹‰</td>
<td style="text-align:center">ç”±æ•°æ®å­¦ä¹ è”åˆæ¦‚ç‡åˆ†å¸ƒ$P(X,Y)$ ç„¶å,<br>æ±‚å‡ºåœ¨$X$æƒ…å†µä¸‹ï¼Œ$P(Y)$ä½œä¸ºé¢„æµ‹çš„æ¨¡å‹</td>
<td style="text-align:center">å†³ç­–å‡½æ•°$f(x)$æˆ–æ¡ä»¶æ¦‚ç‡åˆ†å¸ƒ$P(X)$ä½œä¸ºé¢„æµ‹æ¨¡å‹</td>
</tr>
<tr>
<td>ç‰¹ç‚¹</td>
<td style="text-align:center">1. å¯è¿˜åŸå‡º$P(X,Y)$ï¼›<br> 2. å­¦ä¹ æ”¶æ•›é€Ÿåº¦æ›´å¿«ï¼›<br> 3. å­˜åœ¨éšå˜é‡æ—¶ä»å¯ç”¨</td>
<td style="text-align:center">1. ç›´æ¥é¢å¯¹é¢„æµ‹ï¼Œå‡†ç¡®ç‡æ›´é«˜äº›; <br> 2. ä¾¿äºæ•°æ®æŠ½è±¡ï¼Œç‰¹å¾å®šä¹‰ä½¿ç”¨;</td>
</tr>
<tr>
<td>æ¨¡å‹</td>
<td style="text-align:center">native bayesã€hidden markov</td>
<td style="text-align:center">Logistic Regressionã€SVMã€Gradient Boostingã€CRF.. </td>
</tr>
<tr>
<td>Note</td>
<td style="text-align:center">ç»™å®šè¾“å…¥$X$äº§ç”Ÿè¾“å‡º$Y$çš„ç”Ÿæˆå…³ç³»</td>
<td style="text-align:center">å¯¹ç»™å®šçš„è¾“å…¥$X$ï¼Œåº”é¢„æµ‹ä»€ä¹ˆæ ·çš„è¾“å‡º$Y$</td>
</tr>
</tbody>
</table>
<blockquote>
<p><strong>discriminative model</strong> åˆ¤åˆ«æ¨¡å‹ä¸å…³å¿ƒæ•°æ®æ˜¯æ€ä¹ˆç”Ÿæˆçš„ï¼Œå…³å¿ƒä¿¡å·ä¹‹é—´çš„å·®åˆ«ï¼Œåç”¨å·®åˆ«æ¥å¯¹ç»™å®šçš„ä¸€ä¸ªä¿¡å·è¿›è¡Œåˆ†ç±»<br>å¸¸è§çš„åˆ¤åˆ«æ¨¡å‹æœ‰ï¼šKNNã€SVMã€LR</p>
</blockquote>
<h2 id="2-LR-å’Œ-SVM-çš„-ä¸åŒ"><a href="#2-LR-å’Œ-SVM-çš„-ä¸åŒ" class="headerlink" title="2. LR å’Œ SVM çš„ ä¸åŒ"></a>2. LR å’Œ SVM çš„ ä¸åŒ</h2><ol>
<li>Linear SVM å’Œ LR éƒ½æ˜¯çº¿æ€§åˆ†ç±»å™¨</li>
<li>Linear SVM ä¸ç›´æ¥ä¾èµ–æ•°æ®åˆ†å¸ƒï¼Œåˆ†ç±»å¹³é¢ä¸å—ä¸€éƒ¨åˆ†æ ·æœ¬ç‚¹å½±å“ï¼›LRåˆ™å—æ‰€æœ‰æ•°æ®ç‚¹çš„å½±å“ï¼Œå¦‚æœæ•°æ®ä¸åŒç±»åˆ«strongly unbalanceä¸€èˆ¬éœ€è¦å…ˆå¯¹æ•°æ®åšbalancingã€‚</li>
<li>Linear SVM ä¾èµ–æ•°æ®è¡¨è¾¾çš„è·ç¦»æµ‹åº¦ï¼Œæ‰€ä»¥éœ€è¦å¯¹æ•°æ®å…ˆåšnormalizationï¼›LRä¸å—å…¶å½±å“</li>
<li>Linear SVM ä¾èµ–penaltyçš„ç³»æ•°ï¼Œå®éªŒä¸­éœ€è¦åšvalidation</li>
<li>Linear SVM å’Œ LR çš„ performance éƒ½ä¼šæ”¶åˆ°outlierçš„å½±å“ï¼Œå…¶æ•æ„Ÿç¨‹åº¦è€Œè¨€ï¼Œè°æ›´å¥½å¾ˆéš¾ä¸‹æ˜ç¡®ç»“è®º.</li>
</ol>
<h2 id="3-SVM-å’Œ-LR-çš„æ¯”è¾ƒ"><a href="#3-SVM-å’Œ-LR-çš„æ¯”è¾ƒ" class="headerlink" title="3. SVM å’Œ LR çš„æ¯”è¾ƒ"></a>3. SVM å’Œ LR çš„æ¯”è¾ƒ</h2><p>ä¸¤ç§æ–¹æ³•éƒ½æ˜¯å¸¸è§çš„åˆ†ç±»ç®—æ³•ï¼Œä»ç›®æ ‡å‡½æ•°æ¥çœ‹ï¼ŒåŒºåˆ«åœ¨äºé€»è¾‘å›å½’é‡‡ç”¨çš„æ˜¯logistical lossï¼Œsvmé‡‡ç”¨çš„æ˜¯hinge lossã€‚è¿™ä¸¤ä¸ªæŸå¤±å‡½æ•°çš„ç›®çš„éƒ½æ˜¯<strong>å¢åŠ å¯¹åˆ†ç±»å½±å“è¾ƒå¤§çš„æ•°æ®ç‚¹çš„æƒé‡ï¼Œå‡å°‘ä¸åˆ†ç±»å…³ç³»è¾ƒå°çš„æ•°æ®ç‚¹çš„æƒé‡</strong>ã€‚</p>
<p>SVM çš„å¤„ç†æ–¹æ³•æ˜¯åªè€ƒè™‘support vectorsï¼Œä¹Ÿå°±æ˜¯å’Œåˆ†ç±»æœ€ç›¸å…³çš„å°‘æ•°ç‚¹ï¼Œå»å­¦ä¹ åˆ†ç±»å™¨ã€‚è€ŒLRé€šè¿‡éçº¿æ€§æ˜ å°„ï¼Œå¤§å¤§å‡å°äº†ç¦»åˆ†ç±»å¹³é¢è¾ƒè¿œçš„ç‚¹çš„æƒé‡ï¼Œç›¸å¯¹æå‡äº†ä¸åˆ†ç±»æœ€ç›¸å…³çš„æ•°æ®ç‚¹çš„æƒé‡ã€‚ä¸¤è€…çš„æ ¹æœ¬ç›®çš„éƒ½æ˜¯ä¸€æ ·çš„ã€‚æ­¤å¤–ï¼Œæ ¹æ®éœ€è¦ï¼Œä¸¤ä¸ªæ–¹æ³•éƒ½å¯ä»¥å¢åŠ ä¸åŒçš„æ­£åˆ™åŒ–é¡¹ï¼Œå¦‚l1,l2ç­‰ç­‰ã€‚æ‰€ä»¥åœ¨å¾ˆå¤šå®éªŒä¸­ï¼Œä¸¤ç§ç®—æ³•çš„ç»“æœæ˜¯å¾ˆæ¥è¿‘çš„ã€‚</p>
<p>LR ç›¸å¯¹æ¥è¯´æ¨¡å‹æ›´ç®€å•ï¼Œå¥½ç†è§£ï¼Œå®ç°èµ·æ¥ï¼Œç‰¹åˆ«æ˜¯å¤§è§„æ¨¡çº¿æ€§åˆ†ç±»æ—¶æ¯”è¾ƒæ–¹ä¾¿ã€‚è€ŒSVMçš„ç†è§£å’Œä¼˜åŒ–ç›¸å¯¹æ¥è¯´å¤æ‚ä¸€äº›ã€‚ä½†æ˜¯SVMçš„ç†è®ºåŸºç¡€æ›´åŠ ç‰¢å›ºï¼Œæœ‰ä¸€å¥—ç»“æ„åŒ–é£é™©æœ€å°åŒ–çš„ç†è®ºåŸºç¡€ï¼Œè™½ç„¶ä¸€èˆ¬ä½¿ç”¨çš„äººä¸å¤ªä¼šå»å…³æ³¨ã€‚è¿˜æœ‰å¾ˆé‡è¦çš„ä¸€ç‚¹ï¼ŒSVMè½¬åŒ–ä¸ºå¯¹å¶é—®é¢˜åï¼Œåˆ†ç±»åªéœ€è¦è®¡ç®—ä¸å°‘æ•°å‡ ä¸ªæ”¯æŒå‘é‡çš„è·ç¦»ï¼Œè¿™ä¸ªåœ¨è¿›è¡Œå¤æ‚æ ¸å‡½æ•°è®¡ç®—æ—¶ä¼˜åŠ¿å¾ˆæ˜æ˜¾ï¼Œèƒ½å¤Ÿå¤§å¤§ç®€åŒ–æ¨¡å‹å’Œè®¡ç®—é‡ã€‚</p>
<h3 id="LR-amp-SVM-ä¸åŒç‚¹"><a href="#LR-amp-SVM-ä¸åŒç‚¹" class="headerlink" title="LR &amp; SVM ä¸åŒç‚¹"></a>LR &amp; SVM ä¸åŒç‚¹</h3><blockquote>
<p>è¦è¯´æœ‰ä»€ä¹ˆæœ¬è´¨åŒºåˆ«ï¼Œé‚£å°±æ˜¯ä¸¤ä¸ªæ¨¡å‹å¯¹æ•°æ®å’Œå‚æ•°çš„æ•æ„Ÿç¨‹åº¦ä¸åŒ</p>
</blockquote>
<table>
<thead>
<tr>
<th style="text-align:center">model</th>
<th style="text-align:center">desc</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center"><strong>Linear SVM</strong></td>
<td style="text-align:center">æ¯”è¾ƒä¾èµ– penaltyçš„ç³»æ•° å’Œ æ•°æ®è¡¨è¾¾ç©ºé—´çš„æµ‹åº¦</td>
</tr>
<tr>
<td style="text-align:center"><strong>LR(è‡ªå¸¦æ­£åˆ™é¡¹)</strong></td>
<td style="text-align:center">æ¯”è¾ƒä¾èµ–å¯¹å‚æ•°åš L1 regularization çš„ç³»æ•°</td>
</tr>
</tbody>
</table>
<blockquote>
<p>ä½†æ˜¯ç”±äºä»–ä»¬æˆ–å¤šæˆ–å°‘éƒ½æ˜¯çº¿æ€§åˆ†ç±»å™¨ï¼Œæ‰€ä»¥å®é™…ä¸Šå¯¹ä½ç»´åº¦æ•°æ®overfittingçš„èƒ½åŠ›éƒ½æ¯”è¾ƒæœ‰é™ï¼Œç›¸æ¯”ä¹‹ä¸‹å¯¹é«˜ç»´åº¦æ•°æ®ï¼ŒLRçš„è¡¨ç°ä¼šæ›´åŠ ç¨³å®šï¼Œä¸ºä»€ä¹ˆå‘¢ï¼Ÿ</p>
<p>å› ä¸ºLinear SVMåœ¨è®¡ç®—marginæœ‰å¤šâ€œå®½â€çš„æ—¶å€™æ˜¯ä¾èµ–æ•°æ®è¡¨è¾¾ä¸Šçš„è·ç¦»æµ‹åº¦çš„ï¼Œæ¢å¥è¯è¯´å¦‚æœè¿™ä¸ªæµ‹åº¦ä¸å¥½ï¼ˆbadly scaledï¼Œè¿™ç§æƒ…å†µåœ¨é«˜ç»´æ•°æ®å°¤ä¸ºæ˜¾è‘—ï¼‰ï¼Œæ‰€æ±‚å¾—çš„æ‰€è°“Large marginå°±æ²¡æœ‰æ„ä¹‰äº†ï¼Œè¿™ä¸ªé—®é¢˜å³ä½¿æ¢ç”¨kernel trickï¼ˆæ¯”å¦‚ç”¨Gaussian kernelï¼‰ä¹Ÿæ— æ³•å®Œå…¨é¿å…ã€‚</p>
<p>æ‰€ä»¥ä½¿ç”¨<strong>Linear SVM</strong>éƒ½éœ€è¦å…ˆå¯¹æ•°æ®åš<strong>normalization</strong>ï¼Œè€Œæ±‚è§£LRï¼ˆwithout regularizationï¼‰æ—¶åˆ™ä¸éœ€è¦æˆ–è€…ç»“æœä¸æ•æ„Ÿã€‚</p>
<p>æ³¨ï¼šä¸å¸¦æ­£åˆ™åŒ–çš„LRï¼Œå…¶åšnormalizationçš„ç›®çš„æ˜¯ä¸ºäº†æ–¹ä¾¿é€‰æ‹©ä¼˜åŒ–è¿‡ç¨‹çš„èµ·å§‹å€¼ï¼Œä¸ä»£è¡¨æœ€åçš„è§£çš„performanceä¼šè·Ÿnormalizationç›¸å…³ï¼Œè€Œå…¶çº¿æ€§çº¦æŸæ˜¯å¯ä»¥è¢«æ”¾ç¼©çš„ï¼ˆç­‰å¼ä¸¤è¾¹å¯åŒæ—¶ä¹˜ä»¥ä¸€ä¸ªç³»æ•°ï¼‰ï¼Œæ‰€ä»¥åšnormalizationåªæ˜¯ä¸ºäº†æ±‚è§£ä¼˜åŒ–æ¨¡å‹è¿‡ç¨‹ä¸­æ›´å®¹æ˜“é€‰æ‹©åˆå§‹å€¼ã€‚</p>
</blockquote>
<h3 id="loss-function"><a href="#loss-function" class="headerlink" title="loss function"></a>loss function</h3><blockquote>
<p>å…·ä½“åˆ° loss function ä¸Šæ¥çœ‹ï¼Œ LR ç”¨çš„æ˜¯ <code>log-loss</code>, SVM ç”¨çš„æ˜¯ <code>hinge-loss</code>, ä¸¤è€…çš„ç›¸ä¼¼ä¹‹å¤„åœ¨äº loss åœ¨é”™è¯¯åˆ†ç±»çš„æ—¶å€™éƒ½å¾ˆå¤§ï¼Œä½†æ˜¯å¯¹äºæ­£ç¡®åˆ†ç±»çš„ç‚¹ï¼Œhinge-loss å°±ä¸ç®¡äº†ï¼Œè€Œ log-loss è¿˜è¦è€ƒè™‘è¿›å»ã€‚æ­¤å¤–å› ä¸º log-loss åœ¨ mis-classified çš„ç‚¹ä¸Šæ˜¯æŒ‡æ•°çº§å¢é•¿çš„ï¼Œè€Œ hinge-loss æ˜¯çº¿æ€§å¢é•¿ï¼Œæ‰€ä»¥ <strong>LR åœ¨å¶å°”å‡ºç° mis-label çš„æƒ…å†µä¸‹çš„è¡¨ç°ä¼šæ¯”è¾ƒç³Ÿç³•</strong>ã€‚</p>
<p>å¦å¤– regularization åœ¨è¿™é‡Œæ²¡æœ‰åŒºåˆ«ï¼ŒL1/L2 ä¸¤ä¸ªéƒ½èƒ½ç”¨ï¼Œæ•ˆæœä¹Ÿå·®ä¸å¤šã€‚Class imbalance çš„è¯ SVM ä¸€èˆ¬ç”¨ weight è§£å†³ï¼ŒLR å› ä¸ºå¯ä»¥é¢„æµ‹æ¦‚ç‡ï¼Œæ‰€ä»¥ä¹Ÿå¯ä»¥ç›´æ¥å¯¹æœ€åçš„ç»“æœè¿›è¡Œè°ƒæ•´ï¼Œå–ä¸åŒçš„é˜ˆå€¼æ¥è¾¾åˆ°ç†æƒ³çš„æ•ˆæœã€‚</p>
<p>å®è·µä¸­ LR çš„é€Ÿåº¦æ˜æ˜¾æ›´å¿«ï¼Œç»´åº¦å°çš„æ—¶å€™ bias å° ä¹Ÿä¸å®¹æ˜“ overfit. ç›¸å Kernel SVM åœ¨å¤§è§„æ¨¡æ•°æ®é›†çš„æƒ…å†µä¸‹åŸºæœ¬ä¸å®ç”¨ï¼Œä½†æ˜¯å¦‚æœæ•°æ®é›†æœ¬èº«æ¯”è¾ƒå°è€Œä¸”ç»´åº¦é«˜çš„çš„è¯ä¸€èˆ¬ SVM è¡¨ç°æ›´å¥½ã€‚</p>
</blockquote>
<h2 id="4-LR-amp-SVM-é€‰å‹"><a href="#4-LR-amp-SVM-é€‰å‹" class="headerlink" title="4. LR &amp; SVM é€‰å‹"></a>4. LR &amp; SVM é€‰å‹</h2><p>åœ¨Andrew NGçš„è¯¾é‡Œè®²åˆ°è¿‡ï¼š</p>
<ol>
<li>å¦‚æœFeatureçš„æ•°é‡å¾ˆå¤§ï¼Œè·Ÿæ ·æœ¬æ•°é‡å·®ä¸å¤šï¼Œè¿™æ—¶å€™é€‰ç”¨LRæˆ–è€…æ˜¯Linear Kernelçš„SVM</li>
<li>å¦‚æœFeatureçš„æ•°é‡æ¯”è¾ƒå°ï¼Œæ ·æœ¬æ•°é‡ä¸€èˆ¬ï¼Œä¸ç®—å¤§ä¹Ÿä¸ç®—å°ï¼Œé€‰ç”¨SVM+Gaussian Kernel</li>
<li>å¦‚æœFeatureçš„æ•°é‡æ¯”è¾ƒå°ï¼Œè€Œæ ·æœ¬æ•°é‡å¾ˆå¤šï¼Œéœ€è¦æ‰‹å·¥æ·»åŠ ä¸€äº›featureå˜æˆç¬¬ä¸€ç§æƒ…å†µ</li>
</ol>
<h2 id="Reference-article"><a href="#Reference-article" class="headerlink" title="Reference article"></a>Reference article</h2><ul>
<li><a href="https://www.cnblogs.com/zhizhan/p/5038747.html" target="_blank" rel="external">LR ä¸ SVMçš„å¼‚åŒ</a></li>
<li><a href="http://izhaoyi.top/2017/06/02/Note-StatisticalML/" target="_blank" rel="external">æ‡’æ­»éª†é©¼ - ç»Ÿè®¡å­¦ä¹ æ–¹æ³•ç¬”è®°(ä¸€)</a></li>
<li><a href="https://www.zhihu.com/question/24900876" target="_blank" rel="external">çŸ¥ä¹ : æœ€å°äºŒä¹˜ã€æå¤§ä¼¼ç„¶ã€æ¢¯åº¦ä¸‹é™æœ‰ä½•åŒºåˆ«ï¼Ÿ</a></li>
<li><a href="https://www.zhihu.com/question/26768865/answer/139613835" target="_blank" rel="external">çŸ¥ä¹ : Linear SVM å’Œ LR æœ‰ä»€ä¹ˆå¼‚åŒï¼Ÿ</a></li>
<li><a href="http://www.cnblogs.com/peizhe123/p/5674730.html" target="_blank" rel="external">ç™½å¼€æ°´åŠ ç³– SVMä¸LRçš„æ¯”è¾ƒ</a></li>
<li><a href="http://izhaoyi.top/2017/09/03/model-pre/" target="_blank" rel="external">æ‡’æ­»éª†é©¼ - å£è¿°æ¨¡å‹æ•´ç†</a></li>
</ul>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[Support Vecor Machine (å…­éƒ¨æ›²)]]></title>
      <url>http://iequa.com/2018/06/20/ml-svm-1/</url>
      <content type="html"><![CDATA[<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js"],
    jax: ["input/TeX"],
    tex2jax: {
      inlineMath: [ ['$','$'], ['\\(','\\)'] ],
      displayMath: [ ['$$','$$']],
      processEscapes: true
    }
  });
</script>
<script type="text/javascript" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS_HTML,http://myserver.com/MathJax/config/local/local.js">
</script>

<p>Support Vecor Machine, è‡ªä¸€è¯ç”Ÿä¾¿ç”±äºå®ƒè‰¯å¥½çš„åˆ†ç±»æ€§èƒ½å¸­å·äº†æœºå™¨å­¦ä¹ é¢†åŸŸï¼Œå¹¶ç‰¢ç‰¢å‹åˆ¶äº†ç¥ç»ç½‘ç»œé¢†åŸŸå¥½å¤šå¹´ã€‚ å¦‚æœä¸è€ƒè™‘é›†æˆå­¦ä¹ çš„ç®—æ³•ï¼Œä¸è€ƒè™‘ç‰¹å®šçš„è®­ç»ƒæ•°æ®é›†ï¼Œåœ¨åˆ†ç±»ç®—æ³•ä¸­çš„è¡¨ç°SVMè¯´æ˜¯æ’ç¬¬ä¸€ä¼°è®¡æ˜¯æ²¡æœ‰ä»€ä¹ˆå¼‚è®®çš„.</p>
<a id="more"></a>
<h2 id="1-SVM-é—´éš”-Margin"><a href="#1-SVM-é—´éš”-Margin" class="headerlink" title="1. SVM é—´éš” Margin"></a>1. SVM é—´éš” Margin</h2><ol>
<li>æ”¯æŒå‘é‡æœºï¼ˆSVMï¼‰çš„ç›®æ ‡æ˜¯ä»€ä¹ˆï¼Ÿ</li>
<li>ä»€ä¹ˆæ˜¯åˆ†ç¦»è¶…å¹³é¢ï¼Œ Margin</li>
</ol>
<p>è¯¦æƒ…å¯å‚ : <a href="https://blog.csdn.net/han_xiaoyang/article/details/52678373" target="_blank" rel="external">æœºå™¨å­¦ä¹ ç³»åˆ—(13)_SVMç¢ç¢å¿µpart1ï¼šé—´éš”</a></p>
<blockquote>
<p>è®¤è¯†ä¸€ä¸‹SVMä¸­å¾ˆé‡è¦çš„ä¸€ä¸ªæ¦‚å¿µï¼šMarginï¼Œä¹Ÿå°±æ˜¯é—´éš”ã€‚</p>
</blockquote>
<h2 id="2-SVM-å‘é‡ä¸ç©ºé—´è·ç¦»"><a href="#2-SVM-å‘é‡ä¸ç©ºé—´è·ç¦»" class="headerlink" title="2. SVM å‘é‡ä¸ç©ºé—´è·ç¦»"></a>2. SVM å‘é‡ä¸ç©ºé—´è·ç¦»</h2><ol>
<li>ä»å‘é‡åˆ°è·ç¦»è®¡ç®— (å‘é‡å®šä¹‰ã€è®¡ç®—æ–¹å‘å‘é‡ã€å‘é‡çš„å’Œä¸å·®ã€å‘é‡å†…ç§¯ã€å‘é‡æ­£äº¤æŠ•å½±)</li>
<li>SVMçš„è¶…å¹³é¢ (1 è®¡ç®—ç‚¹åˆ°è¶…å¹³é¢è·ç¦»ã€2 è®¡ç®—è¶…å¹³é¢çš„é—´éš”)</li>
</ol>
<p>è¯¦æƒ…å¯å‚ : <a href="https://blog.csdn.net/han_xiaoyang/article/details/52679559" target="_blank" rel="external">æœºå™¨å­¦ä¹ ç³»åˆ—(14)_SVMç¢ç¢å¿µpart2ï¼šSVMä¸­çš„å‘é‡ä¸ç©ºé—´è·ç¦»</a></p>
<blockquote>
<p>å›é¡¾äº†ä¸€ä¸‹å‘é‡ä¸­çš„ä¸€äº›æ¦‚å¿µï¼Œä¾ç”¨å‘é‡çš„çŸ¥è¯†ï¼Œæ€ä¹ˆå¸®åŠ©æˆ‘ä»¬å»è®¡ç®—è¶…å¹³é¢é—´éš”ï¼Œæœ‰å…´è¶£çš„åŒå­¦è¯·æ¥ç€çœ‹part3</p>
<p>$ w^{T}X = 0 $ï¼Œ w</p>
</blockquote>
<h2 id="3-SVM-å¦‚ä½•æ‰¾åˆ°æœ€ä¼˜åˆ†ç¦»è¶…å¹³é¢"><a href="#3-SVM-å¦‚ä½•æ‰¾åˆ°æœ€ä¼˜åˆ†ç¦»è¶…å¹³é¢" class="headerlink" title="3. SVM å¦‚ä½•æ‰¾åˆ°æœ€ä¼˜åˆ†ç¦»è¶…å¹³é¢"></a>3. SVM å¦‚ä½•æ‰¾åˆ°æœ€ä¼˜åˆ†ç¦»è¶…å¹³é¢</h2><ol>
<li>å¦‚ä½•æ‰¾åˆ°æœ€ä¼˜è¶…å¹³é¢</li>
<li>å¦‚ä½•è®¡ç®—ä¸¤è¶…å¹³é¢é—´çš„è·ç¦»</li>
<li>SVMçš„æœ€ä¼˜åŒ–é—®é¢˜æ˜¯ä»€ä¹ˆ</li>
</ol>
<blockquote>
<p>æ‰¾åˆ°ä¸¤ä¸ªå¹³è¡Œè¶…å¹³é¢ï¼Œå¯ä»¥åˆ’åˆ†æ•°æ®å¹¶ä¸”ä¸¤å¹³é¢ä¹‹é—´æ²¡æœ‰æ•°æ®ç‚¹<br>ä¸¤ä¸ªè¶…å¹³é¢ä¹‹é—´çš„è·ç¦»æœ€å¤§åŒ–</p>
</blockquote>
<p>è¯¦æƒ…å¯å‚ : <a href="https://blog.csdn.net/han_xiaoyang/article/details/52683653" target="_blank" rel="external">æœºå™¨å­¦ä¹ ç³»åˆ—(15)_SVMç¢ç¢å¿µpart3ï¼šå¦‚ä½•æ‰¾åˆ°æœ€ä¼˜åˆ†ç¦»è¶…å¹³é¢</a></p>
<h2 id="4-SVM-æ— çº¦æŸæœ€å°åŒ–é—®é¢˜"><a href="#4-SVM-æ— çº¦æŸæœ€å°åŒ–é—®é¢˜" class="headerlink" title="4. SVM æ— çº¦æŸæœ€å°åŒ–é—®é¢˜"></a>4. SVM æ— çº¦æŸæœ€å°åŒ–é—®é¢˜</h2><p>è¯¦æƒ…å¯å‚ : <a href="https://blog.csdn.net/han_xiaoyang/article/details/79079540" target="_blank" rel="external">æœºå™¨å­¦ä¹ ç³»åˆ—(21)_SVMç¢ç¢å¿µpart4ï¼šæ— çº¦æŸæœ€å°åŒ–é—®é¢˜</a></p>
<h2 id="5-SVM-å‡¸å‡½æ•°ä¸ä¼˜åŒ–"><a href="#5-SVM-å‡¸å‡½æ•°ä¸ä¼˜åŒ–" class="headerlink" title="5. SVM å‡¸å‡½æ•°ä¸ä¼˜åŒ–"></a>5. SVM å‡¸å‡½æ•°ä¸ä¼˜åŒ–</h2><p>è¯¦æƒ…å¯å‚ : <a href="https://blog.csdn.net/yaoqiang2011/article/details/79080100" target="_blank" rel="external">æœºå™¨å­¦ä¹ ç³»åˆ—(22)_SVMç¢ç¢å¿µpart5ï¼šå‡¸å‡½æ•°ä¸ä¼˜åŒ–</a></p>
<h2 id="6-SVM-å¯¹å¶å’Œæ‹‰æ ¼æœ—æ—¥ä¹˜å­"><a href="#6-SVM-å¯¹å¶å’Œæ‹‰æ ¼æœ—æ—¥ä¹˜å­" class="headerlink" title="6. SVM å¯¹å¶å’Œæ‹‰æ ¼æœ—æ—¥ä¹˜å­"></a>6. SVM å¯¹å¶å’Œæ‹‰æ ¼æœ—æ—¥ä¹˜å­</h2><p>è¯¦æƒ…å¯å‚ : <a href="https://blog.csdn.net/yaoqiang2011/article/details/79080123" target="_blank" rel="external">æœºå™¨å­¦ä¹ ç³»åˆ—(23)_SVMç¢ç¢å¿µpart6ï¼šå¯¹å¶å’Œæ‹‰æ ¼æœ—æ—¥ä¹˜å­</a></p>
<h2 id="Reference-article"><a href="#Reference-article" class="headerlink" title="Reference article"></a>Reference article</h2>]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[é˜¿æ»´è‹±æ–‡ï½œæœƒè®“ä½ å¢œå…¥æ„›æ²³çš„é›»å½±! æµªæ¼«æ„›æƒ…é›»å½±å°è©åˆ†äº«!]]></title>
      <url>http://iequa.com/2018/05/06/english-RD-moives-1/</url>
      <content type="html"><![CDATA[<p><img src="/images/english/RD-moive-1-0.jpg" width="400"></p>
<a id="more"></a>
<h2 id="1-The-Lucky-One"><a href="#1-The-Lucky-One" class="headerlink" title="1. The Lucky One"></a>1. The Lucky One</h2><p><img src="/images/english/RD-moive-1-2.jpg" width="650"></p>
<h3 id="classical-lines"><a href="#classical-lines" class="headerlink" title="classical lines"></a>classical lines</h3><p><img src="/images/english/RD-moive-1-3.jpg" width="650"></p>
<h2 id="2-Safe-Haven"><a href="#2-Safe-Haven" class="headerlink" title="2. Safe Haven"></a>2. Safe Haven</h2><p><img src="/images/english/RD-moive-1-4.jpg" width="650"></p>
<h3 id="classical-lines-1"><a href="#classical-lines-1" class="headerlink" title="classical lines"></a>classical lines</h3><p><img src="/images/english/RD-moive-1-5.jpg" width="650"></p>
<h2 id="3-The-Choice"><a href="#3-The-Choice" class="headerlink" title="3. The Choice"></a>3. The Choice</h2><p><img src="/images/english/RD-moive-1-6.jpg" width="650"></p>
<h3 id="classical-lines-2"><a href="#classical-lines-2" class="headerlink" title="classical lines"></a>classical lines</h3><p><img src="/images/english/RD-moive-1-7.jpg" width="650"></p>
<p><img src="/images/english/RD-moive-1-8.jpg" width="650"></p>
<h2 id="4-The-Notebook"><a href="#4-The-Notebook" class="headerlink" title="4. The Notebook"></a>4. The Notebook</h2><p><img src="/images/english/RD-moive-1-9.jpg" width="650"></p>
<h3 id="leading-actor-and-actress"><a href="#leading-actor-and-actress" class="headerlink" title="leading actor and actress"></a>leading actor and actress</h3><p><img src="/images/english/RD-moive-1-10.jpg" width="650"></p>
<h3 id="classical-lines-3"><a href="#classical-lines-3" class="headerlink" title="classical lines"></a>classical lines</h3><p><img src="/images/english/RD-moive-1-12.jpg" width="650"></p>
<h3 id="the-wedding"><a href="#the-wedding" class="headerlink" title="the wedding"></a>the wedding</h3><p><img src="/images/english/RD-moive-1-11.jpg" width="650"></p>
<h2 id="Reference"><a href="#Reference" class="headerlink" title="Reference"></a>Reference</h2><ul>
<li><a href="http://nicholassparks.com/" target="_blank" rel="external">Nicholas Sparks</a></li>
</ul>
<div class="video-container"><iframe src="//www.youtube.com/embed/rpizH_ZNIy8" frameborder="0" allowfullscreen></iframe></div>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[äº’è”ç½‘é‡‘èé£æ§ä¸­çš„æ•°æ®ç§‘å­¦ (part3) ï¼š Lending Club çš„æ•°æ®è¯•éªŒï¼ˆæ­£åœ¨æ•´ç†ï¼‰]]></title>
      <url>http://iequa.com/2018/04/23/data-science-internet-finance-3/</url>
      <content type="html"><![CDATA[<p>ç”¨æˆ·å…¨æµç¨‹æ¬ºè¯ˆâ»›é™©è¯„åˆ†ä½“ç³»</p>
<a id="more"></a>
<h2 id="åæ¬ºè¯ˆæ˜¯ä¸€ç§æœºå™¨å­¦ä¹ è¿‡ç¨‹"><a href="#åæ¬ºè¯ˆæ˜¯ä¸€ç§æœºå™¨å­¦ä¹ è¿‡ç¨‹" class="headerlink" title="åæ¬ºè¯ˆæ˜¯ä¸€ç§æœºå™¨å­¦ä¹ è¿‡ç¨‹"></a>åæ¬ºè¯ˆæ˜¯ä¸€ç§æœºå™¨å­¦ä¹ è¿‡ç¨‹</h2><blockquote>
<p>å¯¹äºåšäº’è”ç½‘é‡‘èä¸€èˆ¬æƒ…å†µæ˜¯ æ­£è´Ÿæ ·æœ¬ æ˜¯æåº¦ä¸å¹³è¡¡çš„(æœ€é«˜å¯ä»¥è¾¾åˆ° 100 : 1), è¿™æ ·çš„æƒ…å†µå¯¹äº SVM è¿™ç§åˆ†ç±»å™¨æ˜¯ä¸åˆé€‚çš„ï¼Œæ‰€ä»¥åœ¨åšé‡‘èçš„<strong>è¯„åˆ†å¡æ¨¡å‹</strong> æˆ– <strong>æ¬ºè¯ˆæ¨¡å‹</strong> ä¹Ÿå¥½ï¼Œè¿™æ ·å¯¹ç‰¹å¾çš„å¤„ç† å’Œ æ ·æœ¬çš„éå¹³è¡¡å¤„ç†æ˜¯æ¯”è¾ƒé«˜çš„.</p>
<p>å¥½åç”¨æˆ·çš„å®šä¹‰ï¼Œä¸€èˆ¬æ˜¯æ ¹æ®ç”¨æˆ·çš„è´·åè¡¨ç°ï¼Œæ¥å®šä¹‰å¥½åç”¨æˆ·çš„.</p>
</blockquote>
<p>ä¸¾ä¸ªæ —å­ğŸŒ° :</p>
<blockquote>
<p>ç”¨æˆ·å€Ÿæ¬¾ 5W å…ƒï¼Œå¯èƒ½æ˜¯åˆ†æœŸè¿˜æ¬¾ 12ä¸ªæœˆï¼Œè¿™æ ·æ¯ä¸ªæœˆéƒ½ä¼šè¿˜ä¸€ç¬”å›ºå®šçš„é¢åº¦.</p>
<p><strong>ä¿¡ç”¨é£é™©</strong> : åœ¨æŒºé•¿çš„æ—¶é—´å¯ä»¥æŒ‰æ—¶è¿˜æ¬¾.</p>
<p><strong>æ¬ºè¯ˆé£é™©</strong> : </p>
<ol>
<li>ç”¨æˆ·å¯èƒ½ ç¬¬ 1ã€2 æœŸ æ˜¯è¿˜çš„ï¼Œä¹‹åæ˜¯ä¸è¿˜çš„.<br> (å› ä¸ºä¸­ä»‹ä¹Ÿè¶Šæ¥è¶Šèªæ˜ï¼Œç»™ä»–è‡ªå·±ç•™å‡ºæ—¶é—´ï¼Œèº²é¿å‚¬æ”¶çš„æ‰‹æ®µï¼Œä¹Ÿèº²é¿è¿½è¸ªç­‰ç­‰)</li>
<li>è´·å‰å®¡æ ¸ ï¼ˆè§¦ç¢°åˆ°æ‹’è´·è§„åˆ™ï¼‰</li>
<li>é€ å‡è¡Œä¸º ï¼ˆä¿¡æ¯èµ„æ–™é€ å‡ï¼‰</li>
<li>è°ƒæŸ¥å‘˜ è°ƒæŸ¥å‡ºæ¥æ˜¯ <strong>ä¸­ä»‹</strong> æˆ–è€… <strong>æœ‰æ¬ºè¯ˆé£å‘çš„</strong>ï¼Œè¿›å…¥é»‘åå•çš„.</li>
<li>â€¦</li>
</ol>
<p>æ‰€ä»¥æˆ‘ä»¬åœ¨å®šä¹‰æ¨¡å‹è´Ÿæ ·æœ¬çš„è¯ï¼Œæˆ‘ä»¬å¯èƒ½å®šä¹‰ä¸º m1+ ä¿¡ç”¨é£é™©ã€m3+ (90å¤©ä»¥ä¸Šä¸è¿˜æ¬¾çš„è¯)ï¼Œæˆ‘ä»¬å¯ä»¥å®šä¹‰ä¸ºæ¬ºè¯ˆé£é™©</p>
<p><code>åç”¨æˆ·</code> ï¼š æ¬ºè¯ˆé£é™©ç”¨æˆ·<br><code>å¥½ç”¨æˆ·</code> ï¼š ä¸€å¤©éƒ½ä¸é€¾æœŸè¿˜æ¬¾<br><code>ç°ç”¨æˆ·</code> ï¼š m1+ æœªè¿˜æ¬¾ï¼Œä½†æ˜¯90å¤©ä¹‹å†…å¯ä»¥è¿˜æ¬¾çš„ (ä¸æ”¾åœ¨è®­ç»ƒä¸­ï¼Œå¦åˆ™ä¼šç»™æ¨¡å‹å¸¦æ¥å¾ˆå¤šé¢å¤–çš„ä¿¡æ¯ï¼Œå½±å“æ•ˆæœ)</p>
<p>ç°ç”¨æˆ·ä¸æ”¾åœ¨æ¨¡å‹ä¸­ï¼Œè¿™æ ·è®­ç»ƒå‡ºçš„æ¨¡å‹å¯¹å¥½åç”¨æˆ·çš„åŒºåˆ†ç¨‹åº¦ä¹Ÿè¶Šé«˜.</p>
</blockquote>
<p>é‡‘èæ¨¡å‹ å’Œ CTRé¢„ä¼° ç›¸æ¯”æ˜¯ æœ‰ä¸€ä¸ªå‘¨æœŸæ€§è´¨çš„</p>
<blockquote>
<ol>
<li>å¹¿å‘Šç‚¹å‡»çš„è¯ï¼Œç”¨æˆ·ç‚¹å‡»ï¼Œç«‹é©¬æœ‰ä¸€ä¸ªæ ·æœ¬å‡ºç°</li>
<li>åšé•¿æœŸç°é‡‘è´·ï¼Œé€‰æ‹©æ ·æœ¬æ˜¯é€‰æ‹©åŠå¹´ä¹‹å‰çš„ç”¨æˆ·ï¼Œä½œä¸ºæ ·æœ¬</li>
</ol>
</blockquote>
<h2 id="æ­£è´Ÿæ ·æœ¬"><a href="#æ­£è´Ÿæ ·æœ¬" class="headerlink" title="æ­£è´Ÿæ ·æœ¬"></a>æ­£è´Ÿæ ·æœ¬</h2><p>çœŸå®åœºæ™¯æ­£è´Ÿæ ·æœ¬æ¯”ä¾‹ <code>(10~30) ï¼š1</code> ï¼ˆæˆç†Ÿå¹³å°çš„é£é™©æ˜¯è¶Šæ¥è¶Šå°çš„ï¼Œæ‰€ä»¥æˆ‘ä»¬æ‹¿åˆ°çš„ <code>æ­£è´Ÿæ ·æœ¬æ¯”ä¾‹</code>æ˜¯é€æ­¥å¢åŠ çš„ï¼‰.</p>
<p>æ•°æ®çš„ä¸å¹³è¡¡å¤„ç† ï¼š <strong>é™é‡‡æ ·</strong>ã€<strong>è¿‡é‡‡æ ·</strong>ã€<strong>SMOTE</strong></p>
<ul>
<li><strong>é™é‡‡æ ·</strong> ï¼š æ­£è´Ÿæ ·æœ¬æˆ 3:1ï¼Œ 5:1 æ¥åšä¸€ä¸ªæ¨¡å‹,  åæ ·æœ¬æ˜¯å…¨éƒ¨å–çš„, (ä¸€èˆ¬è¿™ç§æƒ…å†µ åšè¯„åˆ†å¡çš„æ—¶å€™æ˜¯éœ€è¦åšçš„)</li>
<li><strong>è¿‡é‡‡æ ·</strong> ï¼š å®é™…ç”¨çš„ä¸å¤šï¼Œå¦‚æœè´Ÿæ ·æœ¬å®åœ¨æ˜¯è¿‡å°‘ éƒ½ &lt;100 ä¸ªï¼Œ é‚£ä¹ˆå¯ä»¥è€ƒè™‘ å‡ä½æˆ‘ä»¬çš„è§‚å¯Ÿå‘¨æœŸï¼Œ æˆ–è€… æ¬ºè¯ˆå®šä¹‰çš„å¹¶ä¸æ˜¯ä¸€ä¸ªå¾ˆä¸¥æ ¼ æ¥æ”¾è¿›æ¥å¤šä¸€äº›çš„ è´Ÿæ ·æœ¬è¿‡æ¥æ¥åšè®­ç»ƒï¼Œæˆ–è€…åœ¨æ‹’è´·é‡Œé¢æ‰¾ä¸€äº›äººè¿‡æ¥.</li>
<li><strong>SMOTE</strong> ï¼š åœ¨åˆ†å¸ƒä¸Šæ¨¡æ‹Ÿä¸€äº›æ•°æ®ï¼Œæ¨¡æ‹Ÿå®Œçš„æ•°æ®å¯åšè®­ç»ƒï¼Œæ¯”è¾ƒç»å…¸æ‹¿çœŸå®çš„æ•°æ®åšè®­ç»ƒæ˜¯æ›´è´´è¿‘çœŸå®çš„æƒ…å†µ.<blockquote>
<p>åšæ¨¡å‹ å¦‚ GBRTã€RF ç­‰ï¼Œä»–ä»¬å¯¹ä¸å¹³è¡¡çš„æ•°æ®æ˜¯æœ‰å®¹å¿çš„ï¼Œè¿™ç§ç›´æ¥ç”¨çœŸå®æ•°æ®è¿›è¡Œè®­ç»ƒï¼Œä¹Ÿèƒ½å¾—åˆ°å¾ˆå¥½çš„æ•ˆæœ.</p>
</blockquote>
</li>
</ul>
<h2 id="æ¨¡å‹é€‰å‹"><a href="#æ¨¡å‹é€‰å‹" class="headerlink" title="æ¨¡å‹é€‰å‹"></a>æ¨¡å‹é€‰å‹</h2><p>å¯¹äºåšè¯„åˆ†å¡çš„æ¨¡å‹ æˆ–è€… LR çš„è¯ï¼Œæ ·æœ¬çš„å¹³è¡¡è¦åœ¨ 10:1 èŒƒå›´å†…ï¼Œ LR å¯¹å˜é‡ç›¸å…³æ€§çš„ç­›é€‰ å’Œ æ•°æ®å¹³è¡¡ æœ‰è¦æ±‚</p>
<p>åšæ¨¡å‹ï¼Œè‡³å°‘è¦ç”¨ RF æ¥åšæ¨¡å‹ï¼Œ æˆ–è€… GBDTã€GBRTï¼Œè¿™ç§ Boosting çš„æ¨¡å‹ï¼Œå¯¹äºæ ·æœ¬çš„ä¸å¹³è¡¡å®¹å¿åº¦æ›´é«˜ä¸€äº›ï¼Œä»–ä»¬å¯¹äºå­¦ä¹  æ›´å°è€Œç»†å¾® çš„ç‰¹å¾å’Œå˜é‡ å¯ä»¥å­¦ä¹ çš„æ›´æ·±ä¸€äº›.</p>
<h2 id="Lending-Club"><a href="#Lending-Club" class="headerlink" title="Lending Club"></a>Lending Club</h2><p>Lending Club åˆ›ç«‹äº 2016å¹´ï¼Œ ä¸»è¦åšä¸€ä¸ªæä¾› P2P è´·æ¬¾çš„å¹³å°ä¸­ä»‹æœåŠ¡ï¼Œ2016å¹´åº•åœ¨ çº½äº¤æ‰€ä¸Šå¸‚ï¼Œåæ¥çˆ†å‡ºæ¥å¾ˆå¤šä¸‘é—»ï¼Œåˆ›å§‹äººç¦»èŒï¼Œè‚¡ä»·ä¸‹è·Œ. ä½†æ˜¯ä¸ç®¡æ€ä¹ˆæ ·ï¼Œå®ƒçš„æ•°æ®åœ¨æˆ‘ä»¬åšåæ¬ºè¯ˆç­‰æ˜¯éå¸¸æœ‰é‡è¦çš„.</p>
<blockquote>
<p>Lending Club 2016 çš„å€Ÿè´·æ•°æ®ï¼ŒQ3ï¼ŒQ4 å¯ä»¥ä¸€èµ·åšä¸€ä¸‹ï¼ŒåŠå¹´çš„æ•°æ®åšè®­ç»ƒæ˜¯æ›´å¥½çš„.</p>
</blockquote>
<h3 id="1-Data"><a href="#1-Data" class="headerlink" title="1. Data"></a>1. Data</h3><p>Lending Club 2016å¹´Q3æ•°æ®ï¼š<a href="https://www.lendingclub.com/info/download-data.action" target="_blank" rel="external">https://www.lendingclub.com/info/download-data.action</a></p>
<p>å‚è€ƒï¼š<a href="http://kldavenport.com/lending-club-data-analysis-revisted-with-python/" target="_blank" rel="external">http://kldavenport.com/lending-club-data-analysis-revisted-with-python/</a></p>
<p><img src="/images/datascience/finance-LC-18.jpg" width="900"></p>
<p>çœ‹ä¸‹æ•°æ®ï¼Œå…¶å®æˆ‘ä¹Ÿä¸èƒ½å®Œå…¨äº†è§£è¿™äº›æ‰€æœ‰å­—æ®µçš„å«ä¹‰</p>
<blockquote>
<ol>
<li>int_rate åˆ©ç‡</li>
<li>term å¾…å¤šå°‘æœŸ</li>
<li>grade ç­‰çº§ Cã€Bã€Dï¼Œ7ä¸ªç­‰çº§å§</li>
<li>sub_grade ä¼šåˆ†ä¸ºæ›´ç»†çš„ç­‰çº§.</li>
<li>åé¢è¿™äº›æ˜¯ä» FICO è·å–çš„æ•°æ®å§â€¦</li>
</ol>
</blockquote>
<p>æˆ‘ä»¬çš„ç›®çš„æ˜¯åˆ¤æ–­ï¼Œæ¥äº†ä¸€ä¸ªç”¨æˆ·ï¼Œä¹‹åè¾“å…¥è¯¥ç”¨æˆ·çš„è¿™äº›ç‰¹å¾ï¼Œæˆ‘ä»¬åˆ¤æ–­ä»–æ˜¯ä¸æ˜¯ä¸€ä¸ªæ¬ºè¯ˆç”¨æˆ·</p>
<p><strong>å¦‚æœç”¨æˆ·å¡«å†™å‡èµ„æ–™</strong></p>
<blockquote>
<p>ç”¨æˆ·è´·æ¬¾ä¹‹åçš„è¡¨ç°ï¼Œå¦‚æœå¡«çš„çœŸå‡æˆ‘ä»¬ä¸äº†è§£ï¼Œå¡«å†™çš„æ˜¯å‡èµ„æ–™ï¼Œä½†æ˜¯ä¹‹åè¿˜æ¬¾è¡¨ç°å¥½é‚£ä¹ˆå®ƒè¿˜æ˜¯ä¸€ä¸ªå¥½ç”¨æˆ·.</p>
</blockquote>
<p><strong>æ•°æ®ä¸Š</strong> </p>
<blockquote>
<p>æˆ‘åªå–äº†2016å¹´Q3æ•°æ®ï¼Œ9W+ çš„æ•°æ®ï¼Œåˆ—æ•° 122 åˆ—ã€‚æ•°æ®æœ‰ 99124è¡Œï¼Œ å»æ‰è¡¨å¤´ï¼Œæœ‰ 99123 è¡Œ</p>
</blockquote>
<h2 id="2-Keep-what-we-need"><a href="#2-Keep-what-we-need" class="headerlink" title="2. Keep what we need"></a>2. Keep what we need</h2><blockquote>
<p>æˆ‘ä»¬åˆæ­¥åšç‰¹å¾ç­›é€‰â€¦, æˆ‘ä»¬åœ¨çœ‹çš„æ—¶å€™ï¼Œå¯ä»¥åˆ†ç‰‡åˆ†ç‰‡çš„çœ‹è¿™ 122 ä¸ªåˆ—â€¦</p>
</blockquote>
<h3 id="2-1-ç‰¹å¾åˆ†æ-part1"><a href="#2-1-ç‰¹å¾åˆ†æ-part1" class="headerlink" title="2.1 ç‰¹å¾åˆ†æ part1"></a>2.1 ç‰¹å¾åˆ†æ part1</h3><p><img src="/images/datascience/finance-LC-19.jpg" width="850"></p>
<blockquote>
<p>id å’Œ member_id ä¸ä½œä¸ºç‰¹å¾ï¼Œå¯ä»¥ç›´æ¥å»æ‰, int_rate å¸¦ % çš„å¯ä»¥ç›´æ¥å»æ‰ %ï¼Œ å˜ä¸º float çš„</p>
</blockquote>
<p><strong>Loan Amount Requested Verus the Funded Amount</strong></p>
<p><img src="/images/datascience/finance-LC-20.png" width="850"></p>
<h3 id="2-2-ç‰¹å¾åˆ†æ-part2"><a href="#2-2-ç‰¹å¾åˆ†æ-part2" class="headerlink" title="2.2 ç‰¹å¾åˆ†æ part2"></a>2.2 ç‰¹å¾åˆ†æ part2</h3><figure class="highlight python"><table><tr><td class="code"><pre><span class="line">df.ix[:<span class="number">5</span>,<span class="number">8</span>:<span class="number">15</span>]</span><br><span class="line"></span><br><span class="line">print(df.emp_title.value_counts().head())</span><br><span class="line">print(df.emp_title.value_counts().tail())</span><br><span class="line">df.emp_title.unique().shape </span><br><span class="line"><span class="comment"># 37421 emp_titleï¼Œ å¤ªå¤šäº†ï¼Œå¯ä¿¡åº¦ä¸é«˜ï¼Œæˆ‘ä»¬ä¹Ÿæ— æ³•åš emp_title éæ•°å€¼å‹å˜é‡çš„ one-hot enconding</span></span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">df.drop([&apos;emp_title&apos;],1, inplace=True)</span><br></pre></td></tr></table></figure>
<p>employment title</p>
<hr>
<ul>
<li><a href="https://github.com/blair101/datascience/blob/master/LC/LC.ipynb" target="_blank" rel="external">LC code</a></li>
</ul>
<h2 id="3-æ€»ç»“"><a href="#3-æ€»ç»“" class="headerlink" title="3. æ€»ç»“"></a>3. æ€»ç»“</h2><p>åˆ ä¸åˆ é™¤å˜é‡ï¼Œéœ€è¦çœ‹æ¨¡å‹ï¼ŒLR éœ€è¦åˆ é™¤ï¼ŒGBRT ä¸ç”¨åˆ é™¤ä¹Ÿå¯ä»¥.</p>
<p>LR åšè¯„åˆ†å¡æ¨¡å‹ï¼Œå˜é‡ ä¸€å®šæ˜¯å¼ºå˜é‡ï¼Œ20ä¸ªå·¦å³ï¼Œä¸ä¼šå‡ ç™¾ä¸ªï¼Œæœ‰ä¸ªå˜é‡å¯ä»¥è®­ç»ƒå¤„ç³»æ•°</p>
<p>å‡ºæ¥ 0 ~ 1 æ¦‚ç‡ï¼Œæ‹‰ä¸€ä¸‹æ©¡çš®ç­‹ï¼Œ åˆ†æ•°æ˜ å°„ï¼Œæ‹‰åˆ° 300 ~ 900 åˆ†ï¼Œå¯ä»¥åšä¸€ä¸ªè¯„åˆ†å¡ï¼Œ600åˆ† å¯èƒ½æ˜¯å¥½ç”¨æˆ·:åç”¨æˆ·ï¼Œå¯èƒ½æ˜¯ 50:1</p>
<p>è¯„åˆ†å¡çš„é˜¶æ¢¯å¯èƒ½æ˜¯å¢åŠ ã€‚</p>
<p>æ¨¡å‹ä¸åŒ 0 ~ 1 çš„æ¦‚ç‡å¯èƒ½æ˜¯ä¸åŒçš„ï¼Œé‚£ä¹ˆæˆ‘å¢åŠ 50åˆ†ï¼Œé£é™©æ°´å¹³ä¼šé™ä½ä¸€åŠ</p>
<p>550 25:1</p>
<p>è¯„åˆ†å¡åˆ†çš„æ˜ å°„å’Œæ¨¡å‹æ˜¯æ²¡æœ‰å…³ç³»çš„ï¼Œæ˜¯æ ·æœ¬é‡Œäººç¾¤çš„å¥½åæ˜¯æœ‰å…³ç³»çš„ï¼Œæ‰€ä»¥æ¨¡å‹çš„å‚æ•°åšæ˜ å°„ï¼Œæ˜¯ä¸éœ€è¦é‡æ–°è®­ç»ƒçš„ã€‚</p>
<p>lending club è¦æ±‚ FICO æ˜¯ä¸ªç‰¹å®šçš„è¯„åˆ†æ–¹æ³•ï¼Œæ˜¯ä¸€ä¸ªå›ºå®šçš„è¯„åˆ†æ–¹æ³•ã€‚</p>
<p>æ¯”å¦‚ èŠéº»ä¿¡ç”¨éƒ½æ˜¯ç”¨è‡ªå·±çš„æ¨¡å‹ï¼Œè‡ªå·±ç®—å‡ºæ¥çš„</p>
<p>å¦‚æœäººç¾¤å˜äº†</p>
<p>æ¨¡å‹çš„ç¨³å®šæ€§éå¸¸é‡è¦ï¼Œå½“å‰è¦è¯„ä¼°çš„äººç¾¤å·²ç»å’Œå»å¹´ä¸‹åŠå¹´çš„ç”¨æˆ·å·²ç»ä¸ä¸€æ ·çš„ï¼Œæ‰€ä»¥è®­ç»ƒçš„æ—¶å€™è¦å°½å¯èƒ½æå‡æ¨¡å‹çš„ç¨³å®šæ€§ï¼Œå¦‚æœè®­ç»ƒæ—¶æ¨¡å‹ç¨³å®šæ€§éå¸¸å·®ï¼Œé‚£ä¹ˆä¸€ä¸Šçº¿å°±å´©æºƒäº†ã€‚</p>
<p>å¦‚ä½•æé«˜æ¨¡å‹ç¨³å®šæ€§ï¼Œ2ç§æ–¹æ³•</p>
<ol>
<li><p>ç‰¹å¾ç­›é€‰çš„æ—¶å€™ï¼Œæˆ‘ä¼šå»æŠŠç‰¹å¾ä»æ ·æœ¬çš„æ—¶é—´å¼€å§‹ï¼Œ2016.06 å¼€å§‹æ¯ä¸ªæœˆæˆ‘ä¸€ç›´åœ¨çœ‹å®ƒçš„å‡å€¼å’Œæ–¹å·®çš„å˜åŒ–æ˜¯å¦åœ¨å®¹å¿çš„èŒƒå›´å†…ï¼Œæ¯”å¦‚æˆ‘å»å¹´è¿™ä¸ªæœˆè¿™ä¸ªç‰¹å¾æ˜¯30ï¼Œå½“å‰ 2017.06 è¿™ä¸ªç‰¹å¾å˜ä¸ºäº† 100ï¼Œé‚£ä¹ˆè¿™ä¸ªç‰¹å¾å˜åŒ–å¤ªå¤§ï¼Œæ˜¯ä¸èƒ½ç”¨çš„ï¼Œè¶…è¿‡50%ï¼Œ å¤ªä¸ç¨³å®šäº†ï¼Œå…¶å®è¿™ä¸ªå˜é‡ï¼Œæˆ–è€…åšè¯„åˆ†å¡ï¼Œåæ¬ºè¯ˆç­‰æ˜¯ä¸åˆé€‚çš„ï¼Œç›´æ¥æ‰”æ‰ã€‚</p>
</li>
<li><p>å°½é‡åšæ¨¡å‹èåˆï¼Œå•æ¨¡å‹çš„æ¨¡å‹ç¨³å®šæ€§æ˜¯ä¸å¥½çš„ï¼Œéšç€æœˆä»½çš„å˜åŒ–ï¼Œä½ çš„é¢„æµ‹æ˜¯æœ‰å˜åŒ–çš„ï¼Œæ³¢åŠ¨çš„èŒƒå›´æ˜¯æœ‰ç‚¹ä½ï¼Œensemble é›†æˆå­¦ä¹ ï¼Œ</p>
<p>ä¸‰ç§æ–¹æ³• (baggingã€boostingï¼ŒStackingï¼‰</p>
</li>
</ol>
<p>2.1 Bagging æ¯”å¦‚ RFï¼Œæ¯ä¸ªæ¨¡å‹å–ä¸€æ ·çš„æƒé‡ï¼Œè¿›è¡Œè¯„ä¼°<br>2.2 Boosting æ ¹æ®æ¨¡å‹è®­ç»ƒå‡ºä¸åŒæƒé‡ï¼Œç»™äºˆä¸åŒçš„æƒé‡<br>2.3 Stacking æˆ‘åœ¨ç”¨ä¸€ä¸ªåˆ†ç±»å™¨ï¼Œå»å¤„ç†æˆ‘è¦é›†æˆçš„è¿™3ï¼Œ4ç§æ¨¡å‹ï¼Œè®­ç»ƒå‡ºä¸€ä¸ªå‚æ•°</p>
<p>è¿™ä¸‰ç§æ–¹æ³•ï¼Œéƒ½èƒ½æé«˜æ¨¡å‹çš„ç¨³å®šæ€§</p>
<p>è®©ä½ åœ¨çº¿ä¸Šè¿è¡Œ 3~6 ä¸ªæœˆï¼Œä¿¡è´·äº§å“æ¯”è¾ƒé•¿çš„è¯ï¼Œ2ä¸ªæœˆæ›´æ–°ä¸€æ¬¡æ¯”è¾ƒå¥½ï¼Œè´·æ¬¾å‘¨æœŸçŸ­çš„è¯ï¼Œå‘¨æ›´æ–°éƒ½å¯ä»¥</p>
<blockquote>
<p>æœ‰åš KS æ¯”è¾ƒé«˜çš„è¯ï¼Œä¼šé€å¤§å®¶å°ç¤¼å“ï¼Œ</p>
</blockquote>
<p>æˆ‘ä»¬çº¿ä¸Šæœ‰ç”¨ spark streaming ä¹Ÿæœ‰å¤„ç†å®æ—¶ç‰¹å¾ï¼Œä½†æ˜¯ç›®å‰ä½“é‡ï¼Œä¸€èˆ¬å•æœºå’Œç¦»çº¿å¤„ç†å°±å¤Ÿäº†ã€‚</p>
<p>9W ä¸ªç”¨æˆ·ï¼Œ100å¤šä¸ªå˜é‡ï¼Œé‚£æ ¹æœ¬ä¸éœ€è¦ç”¨åˆ†å¸ƒå¼æ¥è®¡ç®—äº†ã€‚</p>
<p>åŠå¹´çš„æ ·æœ¬æ•°æ®ï¼ŒæŠŠæ•°æ®å–å‡ºæ¥ä¹‹åï¼Œä½ è¦å®šä¹‰ä½ çš„<code>å¥½å</code>æ ·æœ¬,ä¼šæŠŠä¸€äº›ç°è‰²åœ°æ®µçš„ç”¨æˆ·ç»™ä»–æ‘˜é™¤æ‰ï¼Œåªç•™ä¸‹æœ€å¥½æˆ–è€…æœ€åçš„ç”¨æˆ·ï¼Œè¿™äº›ç”¨æˆ·æç‰¹å¾ä¹‹åï¼Œåœ¨åšè®­ç»ƒï¼Œ<code>æ ·æœ¬å†…çš„éªŒè¯</code>å’Œ<code>è·¨æ—¶é—´çš„éªŒè¯</code> ï¼Œå°±æ˜¯è¯´æˆ‘çš„æ—¶é—´æ®µæ˜¯å®Œå…¨ä¸ä¸€æ ·çš„ï¼Œé‚£ä¹ˆèƒ½å¤ŸéªŒè¯æ¨¡å‹çš„ç¨³å®šæ€§ï¼Œé‚£ä¹ˆæœ€å¥½å°±è¦æ‹¿ 2017å¹´ï¼Œ1å’Œ2æœˆçš„æ•°æ®ï¼Œåœ¨åšä¸€ä¸ªè·¨æ—¶é—´çš„éªŒè¯ï¼Œè·¨æ—¶é—´çš„éªŒè¯æ‰æ˜¯ä½ çœŸæ­£ä¸Šçº¿ä¹‹åçš„æ•ˆæœï¼Œå› ä¸ºä½ åœ¨æ—¶é—´çª—å£å†…è®­ç»ƒæˆ–è€…testçš„è¯ï¼Œå®ƒçš„ ks å¯èƒ½ 30 å¤šï¼Œå¦‚æœè·¨æ—¶é—´éªŒè¯çš„è¯ï¼Œä½ çš„äººç¾¤å¯èƒ½ä¼šåç§»ï¼Œé‚£ä¹ˆkså¯èƒ½ä¼šä¸‹é™ï¼Œkså°±å˜ä¸º20ï¼Œå¦‚æœå·®åˆ«æ§åˆ¶åœ¨ 15%ï¼Œå·®åˆ«å¤§ç¨³å®šæ€§å°±å¾ˆä¸å¥½ï¼Œæ˜¯ä¸èƒ½ä¸Šçº¿çš„ã€‚</p>
<p>æ¨¡å‹çš„è¯ï¼Œä½ ç°åœ¨å¼€å§‹åšæ¨¡å‹ï¼Œä½ ä¸€å®šå–çš„æ˜¯ å»å¹´ ä¸‹åŠå¹´çš„æ˜¯æ•°æ®ï¼ŒåšéªŒè¯çš„è¯æ˜¯æ‹¿å»å¹´1æœˆä»½çš„æ•°æ®ï¼Œä¸€ä¸ªæœˆçš„æ•°æ®è¿˜æœ‰5ï¼Œ6ï¼Œ7ä¸ªè¿˜æ¬¾è¡¨ç°ï¼ŒåŸºæœ¬ä¸Šç­‰ä½ åšå®Œæ¨¡å‹ï¼Œä½ åšè·¨æ—¶é—´éªŒè¯çš„è¯ï¼Œåˆšåˆšå¥½ï¼Œä½ èŠ±2ä¸ªç¤¼æ‹œåšä¸€ä¸ªæ¨¡å‹ï¼Œä¸Šçº¿çš„æ—¶å€™ï¼Œä½ å°±ä¸éœ€è¦é‡æ–°è®­ç»ƒäº†ã€‚é™¤éä½ åˆ°9æœˆä»½ä¸Šçº¿ï¼Œé‚£ä¹ˆæ—¶é—´ä¹…äº†ï¼Œå°±éœ€è¦é‡æ–°è®­ç»ƒï¼Œä¸€èˆ¬æ˜¯ä¸éœ€è¦é‡æ–°è®­ç»ƒçš„ã€‚</p>
<p>æ¬ºè¯ˆæ¨¡å‹çš„ç¨³å®šæ€§è¯„ä»·æŒ‡æ ‡ï¼š 1. å¯¹æ¯”è®­ç»ƒé›† ä¸ è·¨æ—¶é—´éªŒè¯é›† çš„ KS åå·®ï¼Œä¸€èˆ¬åå·®å¤§ä¸å¤§çš„è¯ï¼Œè§‰å¾—è¿™ä¸ªæ¨¡å‹æ˜¯å¯ä»¥åœ¨æ—¶é—´ç»´åº¦ä¸Šholdä½çš„ï¼Œé‚£ä¹ˆå¯ä»¥æ¨¡å‹ä¸Šçº¿ã€‚å¦å¤–æŒ‡æ ‡é‡‘èä¸Šæ¯”è¾ƒå¸¸ç”¨çš„æŒ‡æ ‡æ˜¯ psiï¼Œè¿™ä¸ªæ˜¯éªŒè¯ä¸åŒäººç¾¤çš„åç§»ç¨‹åº¦ï¼Œä»¥åå¯ä»¥è‡ªå·±æŸ¥æŸ¥èµ„æ–™ã€‚</p>
<h2 id="Reference"><a href="#Reference" class="headerlink" title="Reference"></a>Reference</h2><ul>
<li><a href="https://myslide.cn/slides/3199" target="_blank" rel="external">é‡‘èåæ¬ºè¯ˆåœºæ™¯ä¸‹çš„Sparkå®è·µ</a></li>
</ul>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[äº’è”ç½‘é‡‘èé£æ§ä¸­çš„æ•°æ®ç§‘å­¦ (part2)  ï¼š æ¨¡å‹ç­–ç•¥]]></title>
      <url>http://iequa.com/2018/04/21/data-science-internet-finance-2/</url>
      <content type="html"><![CDATA[<p>åæ¬ºè¯ˆä¹Ÿæ˜¯ä¸€ç§æœºå™¨å­¦ä¹ è¿‡ç¨‹ï¼Œ åæ¬ºè¯ˆå»ºæ¨¡ä¸­çš„æ•°æ®ç§‘å­¦</p>
<a id="more"></a>
<p><img src="/images/datascience/finance-8.jpg" width="850"></p>
<h2 id="åæ¬ºè¯ˆä¹Ÿæ˜¯ä¸€ç§æœºå™¨å­¦ä¹ è¿‡ç¨‹"><a href="#åæ¬ºè¯ˆä¹Ÿæ˜¯ä¸€ç§æœºå™¨å­¦ä¹ è¿‡ç¨‹" class="headerlink" title="åæ¬ºè¯ˆä¹Ÿæ˜¯ä¸€ç§æœºå™¨å­¦ä¹ è¿‡ç¨‹"></a>åæ¬ºè¯ˆä¹Ÿæ˜¯ä¸€ç§æœºå™¨å­¦ä¹ è¿‡ç¨‹</h2><p><img src="/images/datascience/finance-9.jpg" width="850"></p>
<blockquote>
<p>å¯¹äºåšäº’è”ç½‘é‡‘èä¸€èˆ¬æƒ…å†µæ˜¯ æ­£è´Ÿæ ·æœ¬ æ˜¯æåº¦ä¸å¹³è¡¡çš„(æœ€é«˜å¯ä»¥è¾¾åˆ° 100 : 1), è¿™æ ·çš„æƒ…å†µå¯¹äº SVM è¿™ç§åˆ†ç±»å™¨æ˜¯ä¸åˆé€‚çš„ï¼Œæ‰€ä»¥åœ¨åšé‡‘èçš„<strong>è¯„åˆ†å¡æ¨¡å‹</strong> æˆ– <strong>æ¬ºè¯ˆæ¨¡å‹</strong> ä¹Ÿå¥½ï¼Œè¿™æ ·å¯¹ç‰¹å¾çš„å¤„ç† å’Œ æ ·æœ¬çš„éå¹³è¡¡å¤„ç†æ˜¯æ¯”è¾ƒé«˜çš„.</p>
<p>å¥½åç”¨æˆ·çš„å®šä¹‰ï¼Œä¸€èˆ¬æ˜¯æ ¹æ®ç”¨æˆ·çš„è´·åè¡¨ç°ï¼Œæ¥å®šä¹‰å¥½åç”¨æˆ·çš„.</p>
</blockquote>
<p>ä¸¾ä¸ªæ —å­ğŸŒ° :</p>
<blockquote>
<p>ç”¨æˆ·å€Ÿæ¬¾ 5W å…ƒï¼Œå¯èƒ½æ˜¯åˆ†æœŸè¿˜æ¬¾ 12ä¸ªæœˆï¼Œè¿™æ ·æ¯ä¸ªæœˆéƒ½ä¼šè¿˜ä¸€ç¬”å›ºå®šçš„é¢åº¦.</p>
<p><strong>ä¿¡ç”¨é£é™©</strong> : åœ¨æŒºé•¿çš„æ—¶é—´å¯ä»¥æŒ‰æ—¶è¿˜æ¬¾.</p>
<p><strong>æ¬ºè¯ˆé£é™©</strong> : </p>
<ol>
<li>ç”¨æˆ·å¯èƒ½ ç¬¬ 1ã€2 æœŸ æ˜¯è¿˜çš„ï¼Œä¹‹åæ˜¯ä¸è¿˜çš„.<br> (å› ä¸ºä¸­ä»‹ä¹Ÿè¶Šæ¥è¶Šèªæ˜ï¼Œç»™ä»–è‡ªå·±ç•™å‡ºæ—¶é—´ï¼Œèº²é¿å‚¬æ”¶çš„æ‰‹æ®µï¼Œä¹Ÿèº²é¿è¿½è¸ªç­‰ç­‰)</li>
<li>è´·å‰å®¡æ ¸ ï¼ˆè§¦ç¢°åˆ°æ‹’è´·è§„åˆ™ï¼‰</li>
<li>é€ å‡è¡Œä¸º ï¼ˆä¿¡æ¯èµ„æ–™é€ å‡ï¼‰</li>
<li>è°ƒæŸ¥å‘˜ è°ƒæŸ¥å‡ºæ¥æ˜¯ <strong>ä¸­ä»‹</strong> æˆ–è€… <strong>æœ‰æ¬ºè¯ˆé£å‘çš„</strong>ï¼Œè¿›å…¥é»‘åå•çš„.</li>
<li>â€¦</li>
</ol>
<p>æ‰€ä»¥æˆ‘ä»¬åœ¨å®šä¹‰æ¨¡å‹è´Ÿæ ·æœ¬çš„è¯ï¼Œæˆ‘ä»¬å¯èƒ½å®šä¹‰ä¸º m1+ ä¿¡ç”¨é£é™©ã€m3+ (90å¤©ä»¥ä¸Šä¸è¿˜æ¬¾çš„è¯)ï¼Œæˆ‘ä»¬å¯ä»¥å®šä¹‰ä¸ºæ¬ºè¯ˆé£é™©</p>
<p><code>åç”¨æˆ·</code> ï¼š æ¬ºè¯ˆé£é™©ç”¨æˆ·<br><code>å¥½ç”¨æˆ·</code> ï¼š ä¸€å¤©éƒ½ä¸é€¾æœŸè¿˜æ¬¾<br><code>ç°ç”¨æˆ·</code> ï¼š m1+ æœªè¿˜æ¬¾ï¼Œä½†æ˜¯90å¤©ä¹‹å†…å¯ä»¥è¿˜æ¬¾çš„ (ä¸æ”¾åœ¨è®­ç»ƒä¸­ï¼Œå¦åˆ™ä¼šç»™æ¨¡å‹å¸¦æ¥å¾ˆå¤šé¢å¤–çš„ä¿¡æ¯ï¼Œå½±å“æ•ˆæœ)</p>
</blockquote>
<p>é‡‘èæ¨¡å‹ å’Œ CTR é¢„ä¼°çš„ç›¸æ¯”æ˜¯ æœ‰ä¸€ä¸ªå‘¨æœŸæ€§è´¨çš„</p>
<blockquote>
<ol>
<li>å¹¿å‘Šç‚¹å‡»çš„è¯ï¼Œç”¨æˆ·ç‚¹å‡»ï¼Œç«‹é©¬æœ‰ä¸€ä¸ªæ ·æœ¬å‡ºç°</li>
<li>åšé•¿æœŸç°é‡‘è´·ï¼Œé€‰æ‹©æ ·æœ¬æ˜¯é€‰æ‹©åŠå¹´ä¹‹å‰çš„ç”¨æˆ·ï¼Œä½œä¸ºæ ·æœ¬</li>
</ol>
</blockquote>
<h2 id="æ¨¡å‹ç­–ç•¥"><a href="#æ¨¡å‹ç­–ç•¥" class="headerlink" title="æ¨¡å‹ç­–ç•¥"></a>æ¨¡å‹ç­–ç•¥</h2><p><img src="/images/datascience/finance-10.jpg" width="800"></p>
<h3 id="1-Linear-Regression"><a href="#1-Linear-Regression" class="headerlink" title="1. Linear Regression"></a>1. Linear Regression</h3><p><img src="/images/datascience/finance-11.jpg" width="800"></p>
<h3 id="2-Logistic-Regression"><a href="#2-Logistic-Regression" class="headerlink" title="2 Logistic Regression"></a>2 Logistic Regression</h3><p><img src="/images/datascience/finance-12.jpg" width="800"></p>
<h3 id="3-Decision-Tree"><a href="#3-Decision-Tree" class="headerlink" title="3. Decision Tree"></a>3. Decision Tree</h3><p><img src="/images/datascience/finance-13.jpg" width="850"></p>
<h3 id="4-Random-Forest"><a href="#4-Random-Forest" class="headerlink" title="4. Random Forest"></a>4. Random Forest</h3><p><img src="/images/datascience/finance-14.png" width="850"></p>
<h3 id="5-Gradient-Boosting-RT"><a href="#5-Gradient-Boosting-RT" class="headerlink" title="5. Gradient Boosting RT"></a>5. Gradient Boosting RT</h3><p><img src="/images/datascience/finance-15.png" width="850"></p>
<blockquote>
<hr>
</blockquote>
<p><img src="/images/datascience/finance-16.png" width="850"></p>
<h2 id="ç»“æœè¯„ä¼°-æ··æ·†çŸ©é˜µ"><a href="#ç»“æœè¯„ä¼°-æ··æ·†çŸ©é˜µ" class="headerlink" title="ç»“æœè¯„ä¼°-æ··æ·†çŸ©é˜µ"></a>ç»“æœè¯„ä¼°-æ··æ·†çŸ©é˜µ</h2><ul>
<li>Precision: è¯„ä¼°è®¤å®šåç”¨æˆ·çš„ç²¾ç¡®åº¦</li>
<li>Recall: è¯„ä¼°åç”¨æˆ·çš„å¬å›ç‡</li>
<li>F-Measure: ç»„åˆåˆ¤æ–­</li>
</ul>
<p><img src="/images/datascience/finance-17.png" width="830"></p>
<h2 id="Reference"><a href="#Reference" class="headerlink" title="Reference"></a>Reference</h2><ul>
<li><a href="https://myslide.cn/slides/3199" target="_blank" rel="external">é‡‘èåæ¬ºè¯ˆåœºæ™¯ä¸‹çš„Sparkå®è·µ</a></li>
<li><a href="http://www.itdks.com/dakalive/detail/442" target="_blank" rel="external">å¤§å’–è¯´ ç‹å©·</a></li>
</ul>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[äº’è”ç½‘é‡‘èé£æ§ä¸­çš„æ•°æ®ç§‘å­¦ (part1) ï¼š é‡‘èç§‘æŠ€ä¼ä¸šé¢ä¸´çš„æ¬ºè¯ˆâ»›é™©]]></title>
      <url>http://iequa.com/2018/04/20/data-science-internet-finance-1/</url>
      <content type="html"><![CDATA[<p>é‡‘èç§‘æŠ€ä¼ä¸šé¢ä¸´çš„æ¬ºè¯ˆâ»›é™©ä»‹ç» , äº’è”ç½‘é‡‘è ä¸»è¦æ˜¯é€šè¿‡äº’è”ç½‘å¹³å°ï¼Œè¿æ¥ å‡ºå€Ÿæ–¹ å’Œ å€Ÿæ¬¾æ–¹</p>
<a id="more"></a>
<h2 id="1-é‡‘èä¸ç§‘æŠ€çš„ç»“æ™¶"><a href="#1-é‡‘èä¸ç§‘æŠ€çš„ç»“æ™¶" class="headerlink" title="1. é‡‘èä¸ç§‘æŠ€çš„ç»“æ™¶"></a>1. é‡‘èä¸ç§‘æŠ€çš„ç»“æ™¶</h2><ul>
<li>é‡‘èçš„æœ¬è´¨ : èµ„æºçš„æœ€åˆç†åŒ–åº”ç”¨</li>
<li>äº’è”ç½‘æŠ€æœ¯ : äº¤æ˜“çš„è¾¹ç•Œæˆæœ¬è¶‹å‘â€œé›¶â€</li>
<li>é‡‘èç§‘æŠ€ : ç”¨å¤§æ•°æ®ã€äº‘è®¡ç®—ç­‰æŠ€æœ¯å®ç°çš„èµ„é‡‘èé€šã€æ”¯ä»˜ã€æŠ•èµ„å’Œä¿¡æ¯ä¸­ä»‹æœåŠ¡</li>
</ul>
<p><img src="/images/datascience/finance-1.jpg" width="520"></p>
<blockquote>
<p>æˆ‘ä»¬å›½å®¶æ²¡æœ‰è¦†ç›–åº¦å¾ˆå…¨çš„æ‰€æœ‰äººçš„å¾ä¿¡ï¼Œè™½ç„¶æœ‰å¤®è¡Œï¼Œä½†æ˜¯è¿˜è¿œè¿œä¸å¤Ÿâ€¦</p>
<p>æˆæƒæŠ“å–çš„ç”¨æˆ·çš„æ•°æ®ï¼Œ(ç™¾èã€åŒç›¾ã€èŠéº»ä¿¡ç”¨ ç­‰ï¼Œå·¥ä½œä¸­å¯èƒ½éƒ½ä¼šå¯¹æ¥åˆ°è¿™äº›å¹³å°)ï¼Œè¿™äº›å¹³å°ä¼šé€šè¿‡å¾ˆå¤šæ¸ é“æ”¶é›†ç”¨æˆ·ï¼Œç„¶åç»™ç”¨æˆ·æ‰“ä¸€äº›é£é™©æ ‡ç­¾å’Œæ¬ºè¯ˆçš„è¯„åˆ†.</p>
</blockquote>
<h2 id="2-ä¸­å›½ä¿¡ç”¨è´·æ¬¾è¡Œä¸š"><a href="#2-ä¸­å›½ä¿¡ç”¨è´·æ¬¾è¡Œä¸š" class="headerlink" title="2. ä¸­å›½ä¿¡ç”¨è´·æ¬¾è¡Œä¸š"></a>2. ä¸­å›½ä¿¡ç”¨è´·æ¬¾è¡Œä¸š</h2><p>&nbsp;&nbsp;&nbsp; ç½‘è´·ä¹‹å®¶ æ”¶é›†P2Pç½‘è´·å¹³å°çš„è¿è¥æ•°æ®ï¼Œå¹¶ä¸ºè¡Œä¸šæ’è¡Œ, ä»¥ä¸‹ä¸º 2018å¹´3æœˆæ•°æ®åšçš„è¡Œä¸šæ’è¡Œ :</p>
<p><img src="/images/datascience/finance-3.jpg" width="800"></p>
<blockquote>
<p>ç½‘è´·ä¹‹å®¶ : <a href="http://www.wdzj.com/pingji.html" target="_blank" rel="external">http://www.wdzj.com/pingji.html</a></p>
<p>ç°åœ¨æ¶ˆäº¡çš„ P2P å…¬å¸é€æ¸æ¶ˆäº¡çš„ä¹Ÿå¾ˆå¤šï¼Œä¹‹å‰ 3000 å¤šå®¶ï¼Œè¡Œä¸šå¤§æ´—ç‰Œä¹‹åï¼Œç°åœ¨ 2000 å¤šå®¶â€¦</p>
<p>åœ¨æ•´ä¸ªè¡Œä¸šçš„ä½“é‡ä¸Šï¼Œé™†é‡‘æ‰€ ä¸€å®šæ˜¯ä½“é‡éå¸¸å¤§çš„ï¼Œæ•´ä¸ªç½‘è´·çš„å¸‚åœºå¤§æ¦‚æœ‰ä¸‡äº¿çº§åˆ«.</p>
</blockquote>
<h2 id="3-ä¸­å›½ä¿¡ç”¨è´·æ¬¾è¡Œä¸šåˆ†å±‚"><a href="#3-ä¸­å›½ä¿¡ç”¨è´·æ¬¾è¡Œä¸šåˆ†å±‚" class="headerlink" title="3. ä¸­å›½ä¿¡ç”¨è´·æ¬¾è¡Œä¸šåˆ†å±‚"></a>3. ä¸­å›½ä¿¡ç”¨è´·æ¬¾è¡Œä¸šåˆ†å±‚</h2><p><img src="/images/datascience/finance-4.jpg" width="800"></p>
<blockquote>
<p>APR (Annual Percentage Rate) å¹´åˆ©ç‡, å¯¹é“¶è¡Œä¿¡ç”¨å¡æ¥è¯´ï¼Œä¸€èˆ¬ APR åœ¨ 16% ~ 18%, é‚£ä¹ˆæ—¥åˆ©ç‡ä¸º 0.04%~0.05% ä¹‹é—´</p>
</blockquote>
<p>ä¸¾ä¸ªæ —å­ğŸŒ° :</p>
<blockquote>
<p>é“¶è¡Œæ˜¯æŒ‰æ—¥æ”¶åˆ©æ¯çš„ã€‚ç®€å•ä»‹ç»ä¸€ä¸‹åˆ©æ¯æ˜¯å¦‚ä½•è®¡ç®—çš„ :</p>
<p>å‡è®¾ç”¨ä¿¡ç”¨å¡æç°1000åˆ€ï¼Œ20å¤©åè¿˜æ¸…ï¼Œè¿™å¼ å¡çš„Cash Advance APRæ˜¯25.49%.<br>ä¸€å¹´æœ‰365å¤©ï¼ˆéƒ¨åˆ†é“¶è¡ŒæŒ‰360å¤©ç®—ï¼ˆä¸è¦é—®æˆ‘é—°å¹´æ€ä¹ˆç®—Orzï¼‰ï¼‰æ—¥åˆ©ç‡åº”è¯¥æ˜¯25.49%/365=0.07%.<br>20å¤©åäº§ç”Ÿçš„åˆ©æ¯ä¸º1000 * 20 * 0.07% = 14åˆ€</p>
</blockquote>
<p>APR å¯ä»¥åˆ’åˆ†äººç¾¤ï¼ŒAPR ä¸åŒçº§åˆ«ï¼Œè´·å‰è´·åçš„å®¡æ ¸ï¼Œå‚¬æ”¶çš„åˆ¶åº¦ ä¹Ÿæ˜¯ä¸åŒçš„</p>
<blockquote>
<p>APRè¶Šä½ï¼Œäººç¾¤æ˜¯è¶Šå¥½çš„. åœ¨ APR ä½çš„äººç¾¤ï¼Œæ˜¯åŸºæœ¬ä¸éœ€è¦å‚¬æ”¶çš„ï¼Œåœ¨ APR é«˜çš„äººç¾¤ï¼Œæ˜¯è¦å‚¬æ”¶çš„.</p>
</blockquote>
<p>é«˜ APR äººç¾¤:</p>
<blockquote>
<p>å¯¹äº APR åœ¨ 40% ~ 80% çš„ï¼Œæ¯”å¦‚ æ‹æ‹è´·ï¼Œè¿™ç§å°é¢çš„ç°é‡‘è´·ï¼Œ5000 ä»¥ä¸‹ï¼Œ7å¤©~1ä¸ªæœˆï¼Œè´·æ¬¾çš„æ—¶é—´ä¹ŸçŸ­ï¼Œå¤šè¿˜çš„åˆ©æ¯ç”¨æˆ·æ˜¯ä¸æ„ŸçŸ¥çš„ï¼Œä½†æ˜¯å¦‚æœå˜æˆå¹´åŒ–ï¼ŒAPR å°±ä¼šéå¸¸é«˜</p>
<p>åœ¨ APR &gt; 80%, æ˜¯ ç°é‡‘å·´å£«ï¼Œç”¨é’±å®ï¼Œè¿™äº›å­˜åœ¨ä¹Ÿæ˜¯æœ‰äººä»¬çš„éœ€æ±‚å­˜åœ¨çš„<br>APR ä½çš„ç”¨æˆ·ï¼Œå°±æ˜¯ä¿¡ç”¨å¥½ï¼ŒAPRé«˜çš„è¯ï¼Œå°±æ˜¯ä¿¡ç”¨æ²¡æœ‰é‚£ä¹ˆå¥½ï¼Œæˆ–è€…è¿˜æ¬¾èƒ½åŠ›æ²¡æœ‰é‚£ä¹ˆå¥½</p>
</blockquote>
<p><strong>åšé‡‘èæœ€å¤§çš„æœ¬è´¨å°±æ˜¯åœ¨æ§åˆ¶é£é™©ï¼Œåœ¨é£é™©å¯æ§çš„æƒ…å†µä¸‹è·å¾—æœ€å¤§çš„åˆ©æ¶¦</strong>.</p>
<h2 id="4-ä¸ªäººå¯¹ä¸ªäººçš„ä¿¡ç”¨è´·æ¬¾"><a href="#4-ä¸ªäººå¯¹ä¸ªäººçš„ä¿¡ç”¨è´·æ¬¾" class="headerlink" title="4. ä¸ªäººå¯¹ä¸ªäººçš„ä¿¡ç”¨è´·æ¬¾"></a>4. ä¸ªäººå¯¹ä¸ªäººçš„ä¿¡ç”¨è´·æ¬¾</h2><p><img src="/images/datascience/finance-5.jpg" width="800"></p>
<h2 id="5-æ€¥é€Ÿä¿¡ä»»-è‡ªåŠ¨åŒ–ä¿¡ç”¨è¯„ä¼°"><a href="#5-æ€¥é€Ÿä¿¡ä»»-è‡ªåŠ¨åŒ–ä¿¡ç”¨è¯„ä¼°" class="headerlink" title="5. æ€¥é€Ÿä¿¡ä»»-è‡ªåŠ¨åŒ–ä¿¡ç”¨è¯„ä¼°"></a>5. æ€¥é€Ÿä¿¡ä»»-è‡ªåŠ¨åŒ–ä¿¡ç”¨è¯„ä¼°</h2><p><img src="/images/datascience/finance-6.jpg" width="800"></p>
<p>å›½å†…å¤– P2P ç½‘è´·çš„æ¯”è¾ƒ :</p>
<blockquote>
<p>å›½å®¶é‡‘èç¯å¢ƒå­˜åœ¨è¾ƒå¤§åŒºåˆ«,åœ¨ä¿¡ç”¨ä½“ç³»å»ºè®¾ç­‰æ–¹é¢ä¹Ÿéƒ½å­˜åœ¨å¾ˆå¤§çš„å·®å¼‚ï¼Œå›½å¤–æ‹¥æœ‰è¾ƒä¸ºå®Œå–„çš„ä¿¡ç”¨è¯„ä¼°ä½“åˆ¶,ä¸­å›½åœ¨è¿™æ–¹é¢å´éå¸¸ç¼ºå¤±ï¼Œæ‰€ä»¥å›½å†…çš„å€Ÿè´·å¹³å°åœ¨ç”¨æˆ·ä¿¡ç”¨è¯„ä¼°æ–¹é¢éƒ½åšå‡ºè‡ªå·±çš„åŠªåŠ›ï¼Œæ„å»ºäº†ä¸åŒå½¢å¼çš„è¯„ä»·æ–¹æ³•.</p>
<p>å›½å¤–æœ‰å®Œå–„çš„ä¿¡ç”¨è¯„ä¼°ä½“è´¨ï¼Œæœ‰ <a href="https://xueqiu.com/k?q=FICO#/" target="_blank" rel="external">FICO</a>å®˜æ–¹çš„è¯„åˆ†. å›½å¤–80%éƒ½æ˜¯ä¿¡ç”¨é£é™©ï¼Œ20%æ˜¯æ¬ºè¯ˆé£é™©. <code>ä¸­å›½æ›´å¤šçš„æ˜¯æ¬ºè¯ˆé£é™©</code>.</p>
<p><a href="https://xueqiu.com/k?q=FICO#/" target="_blank" rel="external">FICO</a> æˆç«‹äº1956å¹´ï¼Œä¸ºçº½äº¤æ‰€ä¸Šå¸‚å…¬å¸ï¼Œå¸‚å€¼52äº¿ç¾é‡‘ï¼Œæä¾›è·¨å¤šä¸ªè¡Œä¸šçš„åˆ†æè½¯ä»¶å’Œå·¥å…·.</p>
</blockquote>
<p>å›½å†…é»‘äº§ä¸šé“¾ :</p>
<blockquote>
<p>å›½å†…ä¸è¿˜é’±çš„è¯æƒ©ç½šçš„æªæ–½è·Ÿä¸ä¸Šï¼Œå›½å†…æœ‰äº›ä¸­ä»‹æˆ‘ä¸è¿˜é’±çš„è¯ï¼Œä½ æ‰¾ä¸åˆ°æˆ‘çš„è¯ï¼Œè¿™ä¸ªé’±å°±æ˜¯æˆ‘ç©ºæ‰‹å¥—ç™½ç‹¼çš„åˆ©æ¶¦ï¼Œè¿™æ ·å‚¬ç”Ÿäº†è¶Šæ¥è¶Šå¤šè´·æ¬¾çš„æ¬ºè¯ˆçš„æƒ…å†µï¼Œä»–ä»¬æœ‰ä¸€ä¸ªé»‘äº§ä¸šé“¾ï¼Œä»è´¦å·çš„è·å–åˆ°æ¶æ„çš„æ³¨å†Œï¼Œå†åˆ°äº’è”ç½‘é‡‘èå…¬å¸çš„å¹³å°ç”³è¯·è´·æ¬¾ï¼Œæœ‰çš„ä¸­ä»‹ä¼šæœ‰ä¸€äº›ç°è±¡. </p>
</blockquote>
<p>ä¸¾ä¸ªæ —å­ğŸŒ°: </p>
<blockquote>
<p>ä»–ä»¬ä¼šåˆ°ç‡•éƒŠæ‰¾ä¸€æ‰¹è€äººå¦‡å¥³ï¼Œç„¶åè¯´æˆ‘ç»™ä½ 3000å…ƒé’±ï¼Œä½ è·Ÿç€æˆ‘èµ°ä¸€è¶Ÿã€‚è¿˜æœ‰ä¸€äº›å®¢æˆ·å¯¹è‡ªå·±çš„èµ„è´¨æ²¡æœ‰ä¿¡å¿ƒï¼Œç„¶åæ‰¾ä¸­ä»‹åŒ…è£…ä¸€äº›ææ–™ã€‚æœ‰å¥½ä¸­ä»‹ï¼Œæœ‰åä¸­ä»‹ï¼Œå¦‚æœåä¸­ä»‹å¸¦ä½ è´·äº†5Wå…ƒé’±ï¼Œç„¶åç»™ä½ 2.5Wå‘Šè¯‰ä½ çˆ±è¿˜ä¸è¿˜ï¼Œç„¶åè¿˜å¯ä»¥å¸¦ä½ çš„ä¿¡æ¯å†å»å…¶ä»–å®¶å¹³å°å†è´·æ¬¾ï¼Œè¿™æ ·ç”¨æˆ·åœ¨ä¸çŸ¥æƒ…çš„æƒ…å†µä¸‹ä¼šèƒŒè´Ÿå¾ˆå¤šå€ºåŠ¡ä¿¡æ¯.</p>
<p>ä¸­ä»‹åšçš„äº‹ï¼Œå°±æ˜¯ä¸åœçš„å»è¯•å„ä¸ªP2På¹³å°äº§å“ï¼Œå‘ç°å…¶ä¸­æ¼æ´ï¼Œè¿™äº›ä¸­ä»‹æ¯”äº§å“ç»ç†è¿˜è¦äº†è§£è¿™ä¸ªäº§å“ï¼Œç„¶åä»–å¸®åŠ©ä»–çš„å®¢æˆ·å»åšåŒ…è£…ï¼Œè¿™æ ·æ¯”å¦‚ä¸€ä¸‹å­å¯èƒ½è¿›æ¥ 100 ä¸ªæ¬ºè¯ˆç”¨æˆ·ï¼Œæ¯ä¸ªç”¨æˆ·5Wï¼Œè¿™æ ·ä¸€ä¸‹å­å°±æ˜¯500Wï¼Œå¯¹ä¼ä¸šæ¥è¯´æŸå¤±å¾ˆå¤§ï¼Œç„¶ååœ¨è¿™ç§é«˜é¢æ”¶å…¥çš„è¯±æƒ‘ä¸‹ï¼Œè¿™äº›ä¸­ä»‹ä¼šå‡çº§ä¸æ–­è‡ªå·±çš„ä¼ªé€ æŠ€æœ¯.</p>
</blockquote>
<h2 id="6-é‡‘èç§‘æŠ€ä¼ä¸šé¢ä¸´çš„æ¬ºè¯ˆé£é™©"><a href="#6-é‡‘èç§‘æŠ€ä¼ä¸šé¢ä¸´çš„æ¬ºè¯ˆé£é™©" class="headerlink" title="6. é‡‘èç§‘æŠ€ä¼ä¸šé¢ä¸´çš„æ¬ºè¯ˆé£é™©"></a>6. é‡‘èç§‘æŠ€ä¼ä¸šé¢ä¸´çš„æ¬ºè¯ˆé£é™©</h2><p><img src="/images/datascience/finance-7.jpg" width="800"></p>
<blockquote>
<p>å¯¹äºçº¿ä¸Šåæ¬ºè¯ˆæ¥è¯´ï¼Œä½ çœ‹ä¸è§ç”¨æˆ·ï¼Œåªé¢å¯¹æ•°æ®ï¼Œè¦å‘ç°æ•°æ®ä¹‹é—´çš„å¼‚å¸¸ã€ç”¨æˆ·ä¸ç”¨æˆ·ä¹‹é—´æœ‰æ²¡æœ‰å¼‚å¸¸ç›¸ä¼¼åº¦è”ç³»ç­‰.</p>
</blockquote>
<h2 id="7-Reference"><a href="#7-Reference" class="headerlink" title="7. Reference"></a>7. Reference</h2><ul>
<li><a href="https://myslide.cn/slides/3199" target="_blank" rel="external">å®œäººè´·æ•°æ®ç§‘å­¦å®¶ç‹å©·: é‡‘èåæ¬ºè¯ˆåœºæ™¯ä¸‹çš„Sparkå®è·µ</a></li>
<li><a href="http://www.itdks.com/dakalive/detail/442" target="_blank" rel="external">å¤§å’–è¯´ ç‹å©·</a></li>
</ul>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[Ensemble Learning (part2)]]></title>
      <url>http://iequa.com/2018/04/11/ml-9-ensumble-boosting-2/</url>
      <content type="html"><![CDATA[<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js"],
    jax: ["input/TeX"],
    tex2jax: {
      inlineMath: [ ['$','$'], ['\\(','\\)'] ],
      displayMath: [ ['$$','$$']],
      processEscapes: true
    }
  });
</script>
<script type="text/javascript" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS_HTML,http://myserver.com/MathJax/config/local/local.js">
</script>

<p>æå‡ï¼ˆboostingï¼‰æ–¹æ³•æ˜¯ä¸€ç±»åº”ç”¨å¹¿æ³›ä¸”éå¸¸æœ‰æ•ˆçš„ç»Ÿè®¡å­¦ä¹ æ–¹æ³•ã€‚</p>
<ul>
<li>Boosting æ¦‚å¿µ</li>
<li>ä»£è¡¨æ€§ Boosting ç®—æ³• AbaBoost ä»‹ç»</li>
</ul>
<a id="more"></a>
<blockquote>
<p>ã€ŠAn Empirical Comparison of Supervised Learning Algorithmsã€‹ICML2006.</p>
</blockquote>
<p>Adaboost åœ¨å¤„ç†äºŒç±»åˆ†ç±»é—®é¢˜æ—¶ï¼Œéšç€å¼±åˆ†ç±»å™¨çš„ä¸ªæ•°å¢åŠ ï¼Œè®­ç»ƒè¯¯å·®ä¸æµ‹è¯•è¯¯å·®çš„æ›²çº¿å›¾ã€‚</p>
<div class="limg1"><br><img src="/images/ml/ensumble/ml_boosting_adaboost_binary_classification.png" width="400"><br></div>

<p>ä»å›¾ä¸­å¯ä»¥çœ‹å‡ºï¼ŒAdaboostç®—æ³•éšç€æ¨¡å‹å¤æ‚åº¦çš„å¢åŠ ï¼Œæµ‹è¯•è¯¯å·®ï¼ˆçº¢è‰²ç‚¹çº¿ï¼‰åŸºæœ¬ä¿æŒç¨³å®šï¼Œå¹¶æ²¡æœ‰å‡ºç°è¿‡æ‹Ÿåˆçš„ç°è±¡ã€‚</p>
<p>å…¶å®ä¸ä»…æ˜¯Adaboostç®—æ³•æœ‰è¿™ç§è¡¨ç°ï¼ŒBoostingæ–¹æ³•çš„å­¦ä¹ æ€æƒ³å’Œæ¨¡å‹ç»“æ„ä¸Šå¯ä»¥ä¿è¯å…¶ä¸å®¹æ˜“äº§ç”Ÿè¿‡æ‹Ÿåˆï¼ˆé™¤éWeak Learneræœ¬èº«å‡ºç°è¿‡æ‹Ÿåˆï¼‰ã€‚</p>
<p>ä¸‹é¢æˆ‘ä»¬ä¸»è¦æ˜¯ä»æŸå¤±å‡½æ•°çš„å·®å¼‚ï¼Œæ¥ä»‹ç»Boostingçš„å®¶æ—æˆå‘˜ï¼›ç„¶åæˆ‘ä»¬é’ˆå¯¹æ¯ä¸ªå…·ä½“çš„å®¶æ—æˆå‘˜ï¼Œè¯¦ç»†ä»‹ç»å…¶å­¦ä¹ è¿‡ç¨‹å’Œæ ¸å¿ƒå…¬å¼ï¼›æœ€åä»ç®—æ³•åº”ç”¨åœºæ™¯å’Œå·¥å…·æ–¹æ³•ç»™å‡ºç®€å•çš„ä»‹ç»ã€‚</p>
<p><strong>Boosting</strong></p>
<p>Boostingæ–¹æ³•åŸºäºè¿™æ ·ä¸€ç§æ€æƒ³ï¼š</p>
<blockquote>
<p>å¯¹äºä¸€ä¸ªå¤æ‚ä»»åŠ¡æ¥è¯´ï¼Œå°†å¤šä¸ªä¸“å®¶çš„åˆ¤å®šè¿›è¡Œé€‚å½“çš„ç»¼åˆå¾—å‡ºçš„åˆ¤æ–­ï¼Œè¦æ¯”å…¶ä¸­ä»»ä½•ä¸€ä¸ªä¸“å®¶å•ç‹¬çš„åˆ¤æ–­å¥½ã€‚</p>
<p>å°±æ˜¯ â€œä¸‰ä¸ªè‡­çš®åŒ é¡¶ä¸ªè¯¸è‘›äº®â€ â€¦ğŸ˜„ğŸ˜„ğŸ˜„</p>
</blockquote>
<h2 id="1-æ¦‚ç‡å¯å­¦ä¹ æ€§-PAC"><a href="#1-æ¦‚ç‡å¯å­¦ä¹ æ€§-PAC" class="headerlink" title="1. æ¦‚ç‡å¯å­¦ä¹ æ€§ (PAC)"></a>1. æ¦‚ç‡å¯å­¦ä¹ æ€§ (PAC)</h2><p>PACç†è®ºæ˜¯ç”±2010å¹´å›¾çµå¥–çš„å¾—ä¸»Valiantå’ŒKearnsæå‡ºçš„ä¸€å¥—ç†è®ºä½“ç³»ï¼Œä¸»è¦è®¨è®ºä»€ä¹ˆæ—¶å€™ï¼Œä¸€ä¸ªé—®é¢˜æ˜¯å¯ä»¥è¢«å­¦ä¹ çš„ã€‚</p>
<blockquote>
<p>PACä½“ç³»å®šä¹‰äº†å­¦ä¹ ç®—æ³•çš„å¼ºå¼±ï¼š</p>
<p>(1) å¼±å­¦ä¹ ç®—æ³• : å¦‚æœå­˜åœ¨ä¸€ä¸ªå¤šé¡¹å¼çš„å­¦ä¹ ç®—æ³•èƒ½å¤Ÿå­¦ä¹ å®ƒï¼Œå­¦ä¹ çš„æ­£ç¡®ç‡ä»…æ¯”éšæœºçŒœæµ‹ç•¥å¥½ï¼Œ<br>(2) å¼ºå­¦ä¹ ç®—æ³• : å­˜åœ¨ä¸€ä¸ªå¤šé¡¹å¼çš„å­¦ä¹ ç®—æ³•èƒ½å¤Ÿå­¦ä¹ å®ƒï¼Œå¹¶ä¸”æ­£ç¡®ç‡å¾ˆé«˜</p>
</blockquote>
<p>åœ¨æ¦‚ç‡è¿‘ä¼¼æ­£ç¡®ï¼ˆprobably approximately correctï¼ŒPACï¼‰å­¦ä¹ æ¡†æ¶ä¸­ï¼š</p>
<blockquote>
<p>â‘ . ä¸€ä¸ªæ¦‚å¿µï¼ˆä¸€ä¸ªç±»ï¼Œlabelï¼‰ï¼Œå¦‚æœå­˜åœ¨ä¸€ä¸ªå¤šé¡¹å¼çš„å­¦ä¹ ç®—æ³•èƒ½å¤Ÿå­¦ä¹ å®ƒï¼Œå¹¶ä¸”æ­£ç¡®ç‡å¾ˆé«˜ï¼Œé‚£ä¹ˆå°±ç§°è¿™ä¸ªæ¦‚å¿µæ˜¯å¼ºå¯å­¦ä¹ çš„ï¼›</p>
<p>â‘¡. ä¸€ä¸ªæ¦‚å¿µï¼ˆä¸€ä¸ªç±»ï¼Œlabelï¼‰ï¼Œå¦‚æœå­˜åœ¨ä¸€ä¸ªå¤šé¡¹å¼çš„å­¦ä¹ ç®—æ³•èƒ½å¤Ÿå­¦ä¹ å®ƒï¼Œå­¦ä¹ çš„æ­£ç¡®ç‡ä»…æ¯”éšæœºçŒœæµ‹ç•¥å¥½ï¼Œé‚£ä¹ˆå°±ç§°è¿™ä¸ªæ¦‚å¿µæ˜¯å¼±å¯å­¦ä¹ çš„ã€‚</p>
</blockquote>
<p>Valiantå’Œ Kearnsæå‡ºPACå­¦ä¹ æ¨¡å‹ä¸­å¼±å­¦ä¹ ç®—æ³•å’Œå¼ºå­¦ä¹ ç®—æ³•çš„ç­‰ä»·æ€§çŒœæƒ³ï¼š</p>
<blockquote>
<p>è¯¥çŒœæƒ³æœ€é‡è¦çš„å«ä¹‰æ˜¯ï¼Œå¦‚æœäºŒè€…ç­‰ä»· ,é‚£ä¹ˆåªéœ€æ‰¾åˆ°ä¸€ä¸ªæ¯”éšæœºçŒœæµ‹ç•¥å¥½çš„å¼±å­¦ä¹ ç®—æ³•å°±å¯ä»¥å°†å…¶æå‡ä¸ºå¼ºå­¦ä¹ ç®—æ³•ï¼Œè€Œä¸å¿…å¯»æ‰¾å¾ˆéš¾è·å¾—çš„å¼ºå­¦ä¹ ç®—æ³•ã€‚</p>
<p>è¯¥é—®é¢˜çš„é‡è¦æ€§éšå³å¼•èµ·æ–¹æ³•è®ºå¤§å¸ˆçš„è¿½æ§ï¼Œå¤§å®¶éƒ½åœ¨è¯•å›¾è®¾è®¡ç®—æ³•æ¥éªŒè¯PACç†è®ºçš„æ­£ç¡®æ€§ã€‚</p>
<p>1996ï¼ŒSchapireæå‡ºä¸€ç§æ–°çš„åå«AdaBoostçš„ç®—æ³•è¯æ˜äº†ä¸Šè¿°çŒœæƒ³ã€‚AdaBoostæŠŠå¤šä¸ªä¸åŒçš„å†³ç­–æ ‘ç”¨ä¸€ç§<strong>ééšæœºçš„æ–¹å¼ç»„åˆ</strong>èµ·æ¥ï¼Œè¡¨ç°å‡ºæƒŠäººçš„æ€§èƒ½ã€‚åŒæ—¶ï¼ŒSchapireè¯æ˜å¼ºå¯å­¦ä¹ ä¸å¼±å¯å­¦ä¹ æ˜¯ç­‰ä»·çš„ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œ<strong>åœ¨PACå­¦ä¹ çš„æ¡†æ¶ä¸‹ï¼Œä¸€ä¸ªæ¦‚å¿µæ˜¯å¼ºå¯å­¦ä¹ çš„å……åˆ†å¿…è¦æ¡ä»¶æ˜¯è¿™ä¸ªæ¦‚å¿µæ˜¯å¼±å¯å­¦ä¹ çš„</strong>ã€‚</p>
</blockquote>
<p>Summary : <code>å¼ºå¯å­¦ä¹ â‡”å¼±å¯å­¦ä¹ </code></p>
<h2 id="Boosting"><a href="#Boosting" class="headerlink" title="Boosting"></a>Boosting</h2><p>å¯¹äºä¸€ä¸ªå­¦ä¹ é—®é¢˜æ¥è¯´ï¼ˆä»¥åˆ†ç±»é—®é¢˜ä¸ºä¾‹ï¼‰ï¼Œç»™å®šè®­ç»ƒæ•°æ®é›†ï¼Œæ±‚ä¸€ä¸ªå¼±å­¦ä¹ ç®—æ³•è¦æ¯”æ±‚ä¸€ä¸ªå¼ºå­¦ä¹ ç®—æ³•è¦å®¹æ˜“çš„å¤šã€‚Boostingæ–¹æ³•å°±æ˜¯ä»å¼±å­¦ä¹ ç®—æ³•å‡ºå‘ï¼Œåå¤å­¦ä¹ ï¼Œå¾—åˆ°ä¸€ç³»åˆ—å¼±åˆ†ç±»å™¨ï¼Œç„¶å<strong>ç»„åˆå¼±åˆ†ç±»å™¨ï¼Œå¾—åˆ°ä¸€ä¸ªå¼ºåˆ†ç±»å™¨</strong>ã€‚Boostingæ–¹æ³•åœ¨å­¦ä¹ è¿‡ç¨‹ä¸­é€šè¿‡<strong>æ”¹å˜è®­ç»ƒæ•°æ®çš„æƒå€¼åˆ†å¸ƒ</strong>ï¼Œé’ˆå¯¹ä¸åŒçš„æ•°æ®åˆ†å¸ƒè°ƒç”¨å¼±å­¦ä¹ ç®—æ³•å¾—åˆ°ä¸€ç³»åˆ—å¼±åˆ†ç±»å™¨ã€‚</p>
<blockquote>
<p>è¿˜æœ‰å°±æ˜¯ï¼ŒBoostingç®—æ³•æ›´åŠ å…³æ³¨é”™åˆ†çš„æ ·æœ¬ï¼Œè¿™ç‚¹å’ŒActive Learningçš„å¯»æ‰¾æœ€æœ‰ä»·å€¼çš„è®­ç»ƒæ ·æœ¬æœ‰ç‚¹é¥ç›¸å‘¼åº”çš„æ„Ÿè§‰</p>
<p>å¾ˆæŠ½è±¡å¯¹ä¸å¯¹ï¼Œä½†æ˜¯è¿‡ä¸€ä¼šå„¿æˆ‘ä»¬é€šè¿‡Adaboostæ¥ç†è§£è¿™ä¸ªæ ¸å¿ƒæ€æƒ³</p>
</blockquote>
<p><strong>å›ç­”ä¸¤ä¸ªé—®é¢˜</strong> ï¼š</p>
<ol>
<li>åœ¨æ¯ä¸€è½®å­¦ä¹ ä¹‹å‰ï¼Œå¦‚ä½•æ”¹å˜è®­ç»ƒæ•°æ®çš„æƒå€¼åˆ†å¸ƒï¼Ÿ</li>
<li>å¦‚ä½•å°†ä¸€ç»„å¼±åˆ†ç±»å™¨ç»„åˆæˆä¸€ä¸ªå¼ºåˆ†ç±»å™¨ï¼Ÿ</li>
</ol>
<blockquote>
<p>å…·ä½“ä¸åŒçš„boostingå®ç°ï¼Œä¸»è¦åŒºåˆ«åœ¨å¼±å­¦ä¹ ç®—æ³•æœ¬èº«å’Œä¸Šé¢ä¸¤ä¸ªé—®é¢˜çš„å›ç­”ä¸Šã€‚</p>
</blockquote>
<p>é—®é¢˜1ï¼ŒAdaboostç®—æ³•çš„åšæ³•æ˜¯ ï¼š</p>
<blockquote>
<p>æé«˜é‚£äº›è¢«å‰ä¸€è½®å¼±åˆ†ç±»å™¨é”™è¯¯åˆ†ç±»æ ·æœ¬çš„æƒå€¼ï¼Œè€Œé™ä½é‚£äº›è¢«æ­£ç¡®åˆ†ç±»æ ·æœ¬çš„æƒå€¼ã€‚</p>
<p>å¦‚æ­¤ï¼Œé‚£äº›æ²¡æœ‰å¾—åˆ°æ­£ç¡®åˆ†ç±»çš„æ ·æœ¬ï¼Œç”±äºå…¶æƒå€¼åŠ å¤§è€Œå—åˆ°åä¸€è½®çš„å¼±åˆ†ç±»å™¨çš„æ›´å¤§å…³æ³¨ã€‚</p>
</blockquote>
<p>é—®é¢˜2ï¼ŒAdaBoosté‡‡å–åŠ æƒå¤šæ•°è¡¨å†³çš„æ–¹æ³• ï¼š</p>
<blockquote>
<p>(1). åŠ å¤§ åˆ†ç±»è¯¯å·®ç‡å° çš„å¼±åˆ†ç±»å™¨çš„æƒå€¼ï¼Œä½¿å…¶åœ¨è¡¨å†³ä¸­èµ·è¾ƒå¤§çš„ä½œç”¨ï¼›<br>(2). å‡å°åˆ†ç±»è¯¯å·®ç‡å¤§çš„å¼±åˆ†ç±»å™¨çš„æƒå€¼ï¼Œä½¿å…¶åœ¨è¡¨å†³ä¸­èµ·è¾ƒå°çš„ä½œç”¨ã€‚</p>
</blockquote>
<p>AdaBoostç®—æ³•çš„å·§å¦™ä¹‹å¤„å°±åœ¨äºå®ƒå°†è¿™äº›å­¦ä¹ æ€è·¯è‡ªç„¶å¹¶ä¸”æœ‰æ•ˆåœ°åœ¨ä¸€ä¸ªç®—æ³•é‡Œé¢å®ç°ã€‚</p>
<h3 id="Boostingç®—æ³•ä»£è¡¨-ï¼šAdaboost-Adaptive-Boosting"><a href="#Boostingç®—æ³•ä»£è¡¨-ï¼šAdaboost-Adaptive-Boosting" class="headerlink" title="Boostingç®—æ³•ä»£è¡¨ ï¼šAdaboost(Adaptive Boosting)"></a>Boostingç®—æ³•ä»£è¡¨ ï¼šAdaboost(Adaptive Boosting)</h3><blockquote>
<p>æ ¸å¿ƒæ€æƒ³ï¼šä¸€ç§è¿­ä»£ç®—æ³•ï¼Œé’ˆå¯¹åŒä¸€ä¸ªè®­ç»ƒé›†è®­ç»ƒä¸åŒçš„åˆ†ç±»å™¨(å¼±åˆ†ç±»å™¨)ï¼Œç„¶åè¿›è¡Œåˆ†ç±»ï¼Œå¯¹äºåˆ†ç±»æ­£ç¡®çš„æ ·æœ¬æƒå€¼ä½ï¼Œåˆ†ç±»é”™è¯¯çš„æ ·æœ¬æƒå€¼é«˜ï¼ˆé€šå¸¸æ˜¯è¾¹ç•Œé™„è¿‘çš„æ ·æœ¬ï¼‰ï¼Œæœ€åçš„åˆ†ç±»å™¨æ˜¯å¾ˆå¤šå¼±åˆ†ç±»å™¨çš„çº¿æ€§å åŠ ï¼ˆåŠ æƒç»„åˆï¼‰ï¼Œåˆ†ç±»å™¨ç›¸å½“ç®€å•ã€‚å®é™…ä¸Šå°±æ˜¯ä¸€ä¸ªç®€å•çš„å¼±åˆ†ç±»ç®—æ³•æå‡(boost)çš„è¿‡ç¨‹ã€‚</p>
</blockquote>
<p><strong>çœ‹å›¾å½¢æ¥è¿‡ä¸€éAdaboostç®—æ³•</strong></p>
<p><img src="/images/ml/ensumble/ml-ensumble-4-adaboost.jpeg" width="600"></p>
<blockquote>
<p>ç®—æ³•å¼€å§‹å‰ï¼Œéœ€è¦å°†æ¯ä¸ªæ ·æœ¬çš„æƒé‡åˆå§‹åŒ–ä¸º 1/m, è¿™æ ·ä¸€å¼€å§‹æ¯ä¸ªæ ·æœ¬éƒ½æ˜¯ç­‰æ¦‚ç‡çš„åˆ†å¸ƒï¼Œæ¯ä¸ªåˆ†ç±»å™¨éƒ½ä¼šå…¬æ­£å¯¹å¾….</p>
</blockquote>
<p><img src="/images/ml/ensumble/ml-ensumble-5-adaboost.jpeg" width="600"></p>
<blockquote>
<p>Round1ï¼Œå› ä¸ºæ ·æœ¬æƒé‡éƒ½ä¸€æ ·ï¼Œæ‰€ä»¥åˆ†ç±»å™¨å¼€å§‹åˆ’åˆ†ï¼Œæ ¹æ®è‡ªå·±åˆ†ç±»å™¨çš„æƒ…å†µï¼Œåªå’Œåˆ†ç±»å™¨æœ‰å…³ã€‚åˆ’åˆ†ä¹‹åå‘ç°åˆ†é”™äº†ä¸‰ä¸ªâ€+â€å·ï¼Œé‚£ä¹ˆè¿™äº›åˆ†é”™çš„æ ·æœ¬ï¼Œåœ¨ç»™ä¸‹ä¸€ä¸ªåˆ†ç±»å™¨çš„æ—¶å€™æƒé‡å°±å¾—åˆ°æé«˜,ä¹Ÿå°±æ˜¯ä¼šå½±å“åˆ°ä¸‹æ¬¡å–è®­ç»ƒæ ·æœ¬çš„åˆ†å¸ƒï¼Œå°±æ˜¯æé†’ä¸‹ä¸€ä¸ªåˆ†ç±»å™¨ï¼Œâ€œè¯¶ï¼ä½ æ³¨æ„ç‚¹è¿™å‡ ä¸ªå°å­ï¼Œæˆ‘ä¸Šæ¬¡æ ½åœ¨ä»–ä»¬æ‰‹é‡Œäº†ï¼â€</p>
</blockquote>
<p><img src="/images/ml/ensumble/ml-ensumble-6-adaboost.jpeg" width="600"></p>
<blockquote>
<p>Round2,ç¬¬äºŒä»£åˆ†ç±»å™¨ä¿¡èª“æ—¦æ—¦çš„å¯¹ä¸Šä¸€ä»£åˆ†ç±»å™¨è¯´â€æˆ‘çŸ¥é“äº†ï¼Œå¤§å“¥ï¼æˆ‘ä¸€å®šçå¤§çœ¼ç›å¥½å¥½åˆ†ç€ä¸‰ä¸ªç©æ„ï¼â€okï¼Œè¿™æ¬¡ä¸‰ä¸ªä¸Šæ¬¡åˆ†é”™çš„éƒ½è¢«åˆ†å‡ºæ¥äº†ï¼Œä½†æ˜¯å¹¶ä¸æ˜¯å…¨éƒ¨æ­£ç¡®ï¼Œè¿™æ¬¡åˆæ ½å€’åœ¨å·¦ä¸‹è§’ä¸‰ä¸ªâ€-â€œä¸Šäº†ï¼Œç„¶åä¸´æ­»å‰ï¼Œç¬¬äºŒä»£åˆ†ç±»å™¨å¯¹ä¸‹ä¸€ä»£åˆ†ç±»å™¨è¯´â€è¿™æ¬¡æˆ‘å’Œä¸Šä¸€ä»£åˆ†ç±»å™¨å·²ç»æŠŠä»–ä»¬æ‘¸å¾—å·®ä¸å¤šäº†ï¼Œä½ å†ç¨å¾®æ³¨æ„ä¸‹å·¦ä¸‹è§’é‚£ä¸‰ä¸ªå°å­ï¼Œä¹Ÿåˆ«å¿˜äº†ä¸Šé¢é‚£ä¸‰ä¸ª(ä¸€ä»£é”™åˆ†çš„é‚£ä¸‰ä¸ªâ€+â€)ï¼â€</p>
</blockquote>
<p><img src="/images/ml/ensumble/ml-ensumble-7-adaboost.jpeg" width="600"></p>
<blockquote>
<p>Round3:æœ‰äº†ä¸Šé¢ä¸¤ä½å¤§å“¥çš„æé†’ï¼Œç¬¬ä¸‰ä»£åˆ†ç±»å™¨è¡¨ç¤ºï¼Œæˆ‘å·®ä¸å¤šéƒ½çŸ¥é“ä¸Šæ¬¡å¤§å“¥ä»¬éƒ½é”™å“ªäº†ï¼Œæˆ‘åªè¦å°å¿ƒè¿™å‡ ä¸ªï¼Œåº”è¯¥æ²¡ä»€ä¹ˆé—®é¢˜ï¼åªè¦æŠŠä»–ä»¬å¼„é”™çš„æˆ‘ç»™æ•´å¯¹äº†ï¼Œç„¶åæŠŠæˆ‘ä»¬æ”¶é›†çš„ä¿¡æ¯ä¸€å¯¹ï¼Œè¿™ä¸å°±è¡Œäº†ä¹ˆï¼okï¼Œç¬¬ä¸‰ä»£åˆ†ç±»å™¨ä¸è´Ÿä¼—æœ›ï¼ŒæˆåŠŸåˆ†å¯¹ä¸Šé¢ä¸¤ä»£åˆ†ç±»å™¨é‡ç‚¹å…³æ³¨çš„å¯¹è±¡ï¼Œè‡³äºåˆ†é”™çš„é‚£å‡ ä¸ªå°çš„ï¼Œä»¥å‰å¤§å“¥ä»¬éƒ½åˆ†å¯¹äº†ï¼Œæˆ‘ä»¬åä¸‹æ¥æ ¸å¯¹ä¸€ä¸‹å°±è¡Œäº†ï¼</p>
</blockquote>
<p><img src="/images/ml/ensumble/ml-ensumble-8-adaboost.jpeg" width="600"></p>
<blockquote>
<p>æœ€åï¼Œä¸‰ä¸ªåˆ†ç±»å™¨åä¸‹æ¥ï¼Œå„è‡ªè°ˆäº†è°ˆå¿ƒå¾—ï¼Œåˆ†é…äº†ä¸‹æƒé‡ï¼Œç„¶åä¸€ä¸ªè¯¸è‘›äº®å°±è¯ç”Ÿå•¦ï¼è¿™ä¹Ÿå°±æ˜¯ â€œä¸‰ä¸ªè‡­çš®åŒ é¡¶ä¸ªè¯¸è‘›äº®çš„æ•…äº‹â€ â€¦ğŸ˜„ğŸ˜„ğŸ˜„, æ˜¯ä¸æ˜¯é“ç†å¾ˆç®€å•ï¼è‡³äºæƒé‡å¦‚ä½•è®¡ç®—ï¼Œæš‚ä¸åœ¨æœ¬æ–‡è®¨è®º.</p>
</blockquote>
<p><strong>Adaboost ä¼˜ç‚¹</strong></p>
<blockquote>
<ol>
<li>å¯ä»¥ä½¿ç”¨å„ç§æ–¹æ³•æ„é€ å­åˆ†ç±»å™¨ï¼ŒAdaboostç®—æ³•æä¾›çš„æ˜¯æ¡†æ¶</li>
<li>ç®€å•ï¼Œä¸ç”¨åšç‰¹å¾ç­›é€‰</li>
<li>ç›¸æ¯”è¾ƒäºRFï¼Œæ›´ä¸ç”¨æ‹…å¿ƒè¿‡æ‹Ÿåˆé—®é¢˜</li>
</ol>
</blockquote>
<p><strong>Adaboost ç¼ºç‚¹</strong></p>
<blockquote>
<ol>
<li>Adaboostå¯¹äº<strong>å™ªå£°æ˜¯ååˆ†æ•æ„Ÿ</strong>çš„ã€‚Boostingæ–¹æ³•æœ¬èº«å¯¹å™ªå£°ç‚¹å¼‚å¸¸ç‚¹å¾ˆæ•æ„Ÿï¼Œå› æ­¤åœ¨æ¯æ¬¡è¿­ä»£æ—¶å€™ä¼šç»™å™ªå£°ç‚¹è¾ƒå¤§çš„æƒé‡ï¼Œè¿™ä¸æ˜¯æˆ‘ä»¬ç³»ç»Ÿæ‰€æœŸæœ›çš„ã€‚</li>
<li>è¿è¡Œé€Ÿåº¦æ…¢ï¼Œå‡¡æ˜¯æ¶‰åŠè¿­ä»£çš„åŸºæœ¬ä¸Šéƒ½æ— æ³•é‡‡ç”¨å¹¶è¡Œè®¡ç®—ï¼ŒAdaboostæ˜¯ä¸€ç§â€ä¸²è¡Œâ€ç®—æ³•.æ‰€ä»¥GBDT(Gradient Boosting Decision Tree)ä¹Ÿéå¸¸æ…¢ã€‚</li>
</ol>
</blockquote>
<p><strong>Pay Attention</strong></p>
<blockquote>
<ol>
<li>Bagging æ ‘â€å¹¶è¡Œâ€ç”Ÿæˆ,å¦‚ Random Forest ; Boostingï¼šæ ‘â€ä¸²è¡Œâ€ç”Ÿæˆ,å¦‚Adaboost</li>
<li>Boosting ä¸­åŸºæ¨¡å‹ä¸ºå¼±æ¨¡å‹ï¼Œè€Œ Random Forest ä¸­çš„åŸºæ ‘æ˜¯å¼ºæ¨¡å‹(å¤§å¤šæ•°æƒ…å†µ)</li>
<li><p>Boosting é‡é‡‡æ ·çš„ä¸æ˜¯æ ·æœ¬ï¼Œè€Œæ˜¯æ ·æœ¬çš„åˆ†å¸ƒï¼Œæ¯æ¬¡è¿­ä»£ä¹‹åï¼Œæ ·æœ¬çš„åˆ†å¸ƒä¼šå‘ç”Ÿå˜åŒ–ï¼Œä¹Ÿå°±æ˜¯è¢«åˆ†é”™çš„æ ·æœ¬ä¼šæ›´å¤šçš„å‡ºç°åœ¨ä¸‹ä¸€æ¬¡è®­ç»ƒé›†ä¸­</p>
</li>
<li><p>æ˜ç¡®ä¸€ç‚¹ï¼Œæˆ‘ä»¬è¿­ä»£ä¹Ÿå¥½(Adaboost), å¹¶è¡Œ(RF)ä¹Ÿå¥½ï¼Œåªå’Œè®­ç»ƒé›†æœ‰å…³ï¼Œå’Œæµ‹è¯•é›†çœŸçš„ä¸€æ¯›é’±å…³ç³»éƒ½æ²¡æœ‰å¥½ä¹ˆï¼æˆ‘ä»¬å…ˆæŠŠåŸå§‹æ•°æ®åˆ†ç±»æµ‹è¯•é›†å’Œè®­ç»ƒé›†ï¼Œç„¶åæµ‹è¯•é›†æ”¾ä¸€è¾¹ï¼Œè®­ç»ƒé›†é‡Œé¢å†æŒ‘å­é›†ä½œä¸ºè¿­ä»£ç®—æ³•ç”¨çš„è®­ç»ƒé›†ï¼è¿™ä¸ªå’Œ<a href="http://statweb.stanford.edu/~tibs/sta306bfiles/cvwrong.pdf" target="_blank" rel="external">K-Fold Cross-Validation</a>æ€æƒ³ç±»ä¼¼.</p>
</li>
</ol>
</blockquote>
<h2 id="Reference-article"><a href="#Reference-article" class="headerlink" title="Reference article"></a>Reference article</h2><ul>
<li><a href="https://www.jianshu.com/p/708dff71df3a" target="_blank" rel="external">æ€»ç»“ï¼šBootstrap(è‡ªåŠ©æ³•)ï¼ŒBaggingï¼ŒBoosting(æå‡)</a></li>
<li><a href="https://blog.csdn.net/xlinsist/article/details/51475345" target="_blank" rel="external">Baggingï¼ˆBootstrap aggregatingï¼‰ã€éšæœºæ£®æ—ï¼ˆrandom forestsï¼‰ã€AdaBoost</a></li>
<li><a href="http://bbs.quanttech.cn/article/524" target="_blank" rel="external">æœºå™¨å­¦ä¹ é€‰è®²ï¼šAdaBoostæ–¹æ³•è¯¦è§£</a></li>
<li><a href="http://www.52caml.com/head_first_ml/ml-chapter6-boosting-family/" target="_blank" rel="external">52caml</a></li>
<li><a href="https://www.zhihu.com/question/49386395" target="_blank" rel="external">ç»Ÿè®¡å­¦ä¹ æ–¹æ³•</a></li>
<li><a href="https://blog.csdn.net/u010859707/article/details/78677989" target="_blank" rel="external">Scikit-Learn ä¸­æ–‡æ–‡æ¡£ æ¦‚ç‡æ ¡å‡† - ç›‘ç£å­¦ä¹ </a></li>
</ul>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[Ensemble Learning (part1)]]></title>
      <url>http://iequa.com/2018/04/07/ml-9-ensumble-boosting-1/</url>
      <content type="html"><![CDATA[<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js"],
    jax: ["input/TeX"],
    tex2jax: {
      inlineMath: [ ['$','$'], ['\\(','\\)'] ],
      displayMath: [ ['$$','$$']],
      processEscapes: true
    }
  });
</script>
<script type="text/javascript" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS_HTML,http://myserver.com/MathJax/config/local/local.js">
</script>

<p>Ensemble learningï¼ˆé›†æˆå­¦ä¹ ï¼‰ï¼šæ˜¯ç›®å‰æœºå™¨å­¦ä¹ çš„ä¸€å¤§çƒ­é—¨æ–¹å‘ï¼Œæ‰€è°“é›†æˆå­¦ä¹ ç®€å•ç†è§£å°±æ˜¯æŒ‡é‡‡ç”¨å¤šä¸ªåˆ†ç±»å™¨å¯¹æ•°æ®é›†è¿›è¡Œé¢„æµ‹ï¼Œä»è€Œæé«˜æ•´ä½“åˆ†ç±»å™¨çš„æ³›åŒ–èƒ½åŠ›ã€‚</p>
<a id="more"></a>
<ol>
<li>Bootstraping</li>
<li>Baggingã€Boostingã€Stacking</li>
</ol>
<h2 id="Bootstraping"><a href="#Bootstraping" class="headerlink" title="Bootstraping"></a>Bootstraping</h2><p>Bootstrapingçš„åç§°æ¥è‡ªæˆè¯­ â€œpull up by your own bootstrapsâ€ï¼Œæ„æ€æ˜¯ä¾é ä½ è‡ªå·±çš„èµ„æºï¼Œå®ƒæ˜¯ä¸€ç§æœ‰æ”¾å›çš„æŠ½æ ·æ–¹æ³•.</p>
<blockquote>
<p>æ³¨:Bootstrapæœ¬ä¹‰æ˜¯æŒ‡é«˜é´å­å£åé¢çš„æ‚¬æŒ‚ç‰©ã€å°ç¯ã€å¸¦å­ï¼Œæ˜¯ç©¿é´å­æ—¶ç”¨æ‰‹å‘ä¸Šæ‹‰çš„å·¥å…·ã€‚â€œpull up by your own bootstrapsâ€å³â€œé€šè¿‡æ‹‰é´å­è®©è‡ªå·±ä¸Š å‡â€ï¼Œæ„æ€æ˜¯â€œä¸å¯èƒ½å‘ç”Ÿçš„äº‹æƒ…â€ã€‚åæ¥æ„æ€å‘ ç”Ÿäº†è½¬å˜ï¼Œéšå–»â€œä¸éœ€è¦å¤–ç•Œå¸®åŠ©ï¼Œä»…ä¾é è‡ªèº«åŠ› é‡è®©è‡ªå·±å˜å¾—æ›´å¥½â€</p>
</blockquote>
<p>bootstraping çš„æ€æƒ³å’Œæ­¥éª¤å¦‚ä¸‹ï¼š</p>
<p>ä¸¾ä¸ªğŸŒ°ï¼šæˆ‘è¦ç»Ÿè®¡é±¼å¡˜é‡Œé¢çš„é±¼çš„æ¡æ•°ï¼Œæ€ä¹ˆç»Ÿè®¡å‘¢ï¼Ÿå‡è®¾é±¼å¡˜æ€»å…±æœ‰é±¼1000æ¡ï¼Œæˆ‘æ˜¯å¼€äº†ä¸Šå¸è§†è§’çš„ï¼Œä½†æ˜¯ä½ æ˜¯ä¸çŸ¥é“é‡Œé¢æœ‰å¤šå°‘ã€‚</p>
<p>æ­¥éª¤ï¼š</p>
<ol>
<li>æ‰¿åŒ…é±¼å¡˜ï¼Œä¸è®©åˆ«äººæé±¼(è§„å®šæ€»ä½“åˆ†å¸ƒä¸å˜)ã€‚</li>
<li>è‡ªå·±æé±¼ï¼Œæ100æ¡ï¼Œéƒ½æ‰“ä¸Šæ ‡ç­¾(æ„é€ æ ·æœ¬)</li>
<li>æŠŠé±¼æ”¾å›é±¼å¡˜ï¼Œä¼‘æ¯ä¸€æ™š(ä½¿ä¹‹æ··å…¥æ•´ä¸ªé±¼ç¾¤ï¼Œç¡®ä¿ä¹‹åæŠ½æ ·éšæœº)</li>
<li>å¼€å§‹æé±¼ï¼Œæ¯æ¬¡æ100æ¡ï¼Œæ•°ä¸€ä¸‹ï¼Œè‡ªå·±æ˜¨å¤©æ ‡è®°çš„é±¼æœ‰å¤šå°‘æ¡ï¼Œå æ¯”å¤šå°‘(ä¸€æ¬¡é‡é‡‡æ ·å–åˆ†å¸ƒ)ã€‚</li>
<li>é‡å¤3ï¼Œ4æ­¥éª¤næ¬¡ã€‚å»ºç«‹åˆ†å¸ƒã€‚</li>
</ol>
<blockquote>
<p>å‡è®¾ä¸€ä¸‹ï¼Œç¬¬ä¸€æ¬¡é‡æ–°æ•é±¼100æ¡ï¼Œå‘ç°é‡Œé¢æœ‰æ ‡è®°çš„é±¼12æ¡ï¼Œè®°ä¸‹ä¸º12%ï¼Œæ”¾å›å»ï¼Œå†æ•é±¼100æ¡ï¼Œå‘ç°æ ‡è®°çš„ä¸º9æ¡ï¼Œè®°ä¸‹9%ï¼Œé‡å¤é‡å¤å¥½å¤šæ¬¡ä¹‹åï¼Œå‡è®¾å–ç½®ä¿¡åŒºé—´95%ï¼Œä½ ä¼šå‘ç°ï¼Œæ¯æ¬¡æ•é±¼å¹³å‡åœ¨10æ¡å·¦å³æœ‰æ ‡è®°ï¼Œæ‰€ä»¥ï¼Œæˆ‘ä»¬å¯ä»¥å¤§è‡´æ¨æµ‹å‡ºé±¼å¡˜æœ‰1000æ¡å·¦å³ã€‚å…¶å®æ˜¯ä¸€ä¸ªå¾ˆç®€å•çš„ç±»ä¼¼äºä¸€ä¸ªæ¯”ä¾‹é—®é¢˜ã€‚è¿™ä¹Ÿæ˜¯å› ä¸ºæå‡ºè€…Efronç»™ç»Ÿè®¡å­¦é¡¶çº§æœŸåˆŠæŠ•ç¨¿çš„æ—¶å€™è¢«æ‹’ç»çš„ç†ç”±â€“â€å¤ªç®€å•â€ã€‚è¿™ä¹Ÿå°±è§£é‡Šäº†ï¼Œä¸ºä»€ä¹ˆåœ¨å°æ ·æœ¬çš„æ—¶å€™ï¼Œbootstrapæ•ˆæœè¾ƒå¥½ï¼Œä½ è¿™æ ·æƒ³ï¼Œå¦‚æœæˆ‘æƒ³ç»Ÿè®¡å¤§æµ·é‡Œæœ‰å¤šå°‘é±¼ï¼Œä½ æ ‡è®°100000æ¡ä¹Ÿæ²¡ç”¨å•Šï¼Œå› ä¸ºå®é™…æ•°é‡å¤ªè¿‡åºå¤§ï¼Œä½ å–çš„æ ·æœ¬ç›¸æ¯”äºå¤ªè¿‡æ¸ºå°ï¼Œæœ€å®é™…çš„å°±æ˜¯ï¼Œä½ ä¸‹æ¬¡å†æ•100000çš„æ—¶å€™ï¼Œå‘ç°ä¸€æ¡éƒ½æ²¡æœ‰æ ‡è®°ï¼Œï¼Œï¼Œè¿™TMå°±å°´å°¬äº†ã€‚ã€‚</p>
</blockquote>
<p><strong>Bootstrap ç»å…¸è¯­å½•</strong></p>
<blockquote>
<p>Bootstrapæ˜¯ç°ä»£ç»Ÿè®¡å­¦è¾ƒä¸ºæµè¡Œçš„ä¸€ç§ç»Ÿè®¡æ–¹æ³•ï¼Œåœ¨å°æ ·æœ¬æ—¶æ•ˆæœå¾ˆå¥½ã€‚é€šè¿‡æ–¹å·®çš„ä¼°è®¡å¯ä»¥æ„é€ ç½®ä¿¡åŒºé—´ç­‰ï¼Œå…¶è¿ç”¨èŒƒå›´å¾—åˆ°è¿›ä¸€æ­¥å»¶ä¼¸ã€‚<br>å°±æ˜¯ä¸€ä¸ªåœ¨è‡ªèº«æ ·æœ¬é‡é‡‡æ ·çš„æ–¹æ³•æ¥ä¼°è®¡çœŸå®åˆ†å¸ƒçš„é—®é¢˜</p>
<p>å½“æˆ‘ä»¬ä¸çŸ¥é“æ ·æœ¬åˆ†å¸ƒçš„æ—¶å€™ï¼Œbootstrapæ–¹æ³•æœ€æœ‰ç”¨ã€‚</p>
</blockquote>
<h2 id="Ensemble-learning"><a href="#Ensemble-learning" class="headerlink" title="Ensemble learning"></a>Ensemble learning</h2><p>äº†è§£ boosting å’Œ bagging ä¹‹å‰ï¼Œå…ˆäº†è§£ä¸€ä¸‹ä»€ä¹ˆæ˜¯ ensembleï¼Œä¸€å¥è¯ï¼Œä¸‰ä¸ªè‡­çš®åŒ é¡¶ä¸ªè¯¸è‘›äº®ï¼Œä¸€ç®­æ˜“æŠ˜åç®­éš¾æŠ˜ï¼Œåƒé‡Œä¹‹å ¤æºƒäºèšç©´ â€¦ğŸ˜„ğŸ˜„ğŸ˜„ ï¼Œåœ¨åˆ†ç±»çš„è¡¨ç°ä¸Šå°±æ˜¯ï¼Œå¤šä¸ªå¼±åˆ†ç±»å™¨ç»„åˆå˜æˆå¼ºåˆ†ç±»å™¨ã€‚</p>
<p><img src="/images/ml/ensumble/ml-ensemble-1.png" width="500"></p>
<blockquote>
<p>å‡è®¾å„å¼±åˆ†ç±»å™¨é—´å…·æœ‰ä¸€å®šå·®å¼‚æ€§ï¼ˆå¦‚ä¸åŒçš„ç®—æ³•ï¼Œæˆ–ç›¸åŒç®—æ³•ä¸åŒå‚æ•°é…ç½®ï¼‰ï¼Œè¿™ä¼šå¯¼è‡´ç”Ÿæˆçš„åˆ†ç±»å†³ç­–è¾¹ç•Œä¸åŒï¼Œä¹Ÿå°±æ˜¯è¯´å®ƒä»¬åœ¨å†³ç­–æ—¶ä¼šçŠ¯ä¸åŒçš„é”™è¯¯ã€‚å°†å®ƒä»¬ç»“åˆåèƒ½å¾—åˆ°æ›´åˆç†çš„è¾¹ç•Œï¼Œå‡å°‘æ•´ä½“é”™è¯¯ï¼Œå®ç°æ›´å¥½çš„åˆ†ç±»æ•ˆæœã€‚</p>
</blockquote>
<h3 id="Bagging-bootstrap-aggregation"><a href="#Bagging-bootstrap-aggregation" class="headerlink" title="Bagging (bootstrap aggregation)"></a>Bagging (bootstrap aggregation)</h3><blockquote>
<p>baggingï¼šä»è®­ç»ƒé›†ä»è¿›è¡Œå­æŠ½æ ·ç»„æˆæ¯ä¸ªåŸºæ¨¡å‹æ‰€éœ€è¦çš„å­è®­ç»ƒé›†ï¼Œå¯¹æ‰€æœ‰åŸºæ¨¡å‹é¢„æµ‹çš„ç»“æœè¿›è¡Œç»¼åˆäº§ç”Ÿæœ€ç»ˆçš„é¢„æµ‹ç»“æœ,è‡³äºä¸ºä»€ä¹ˆå«bootstrap aggregationï¼Œå› ä¸ºå®ƒæŠ½å–è®­ç»ƒæ ·æœ¬çš„æ—¶å€™é‡‡ç”¨çš„å°±æ˜¯bootstrapçš„æ–¹æ³•ï¼</p>
</blockquote>
<p>Bagging ç­–ç•¥è¿‡ç¨‹ ğŸ˜„ :</p>
<ol>
<li>ä»æ ·æœ¬é›†ä¸­é‡é‡‡æ ·(æœ‰é‡å¤çš„)é€‰å‡ºnä¸ªæ ·æœ¬</li>
<li>åœ¨æ‰€æœ‰å±æ€§ä¸Šï¼Œå¯¹è¿™nä¸ªæ ·æœ¬å»ºç«‹åˆ†ç±»å™¨ (ID3ã€C4.5ã€CARTã€SVMã€Logisticå›å½’ç­‰)</li>
<li>é‡å¤ä»¥ä¸Šä¸¤æ­¥mæ¬¡ï¼Œå³è·å¾—äº†mä¸ªåˆ†ç±»å™¨</li>
<li>å°†æ•°æ®æ”¾åœ¨è¿™mä¸ªåˆ†ç±»å™¨ä¸Šï¼Œæœ€åæ ¹æ®è¿™mä¸ªåˆ†ç±»å™¨çš„æŠ•ç¥¨ç»“æœï¼Œå†³å®šæ•°æ®å±äºå“ªä¸€ç±».</li>
<li>æŠ•ç¥¨æœºåˆ¶ (å¤šæ•°æœä»å°‘æ•°, æ°‘ä¸»æ”¿æ²») çœ‹åˆ°åº•åˆ†åˆ°å“ªä¸€ç±»(åˆ†ç±»é—®é¢˜)</li>
</ol>
<p><img src="/images/ml/ensumble/ml-ensemble-2-bagging.jpeg" width="600"></p>
<p><strong>Bagging ä»£è¡¨ç®—æ³• - Random Forest</strong></p>
<p>éšæœºæ£®æ—ç®—æ³•æ˜¯æœºå™¨å­¦ä¹ ã€è®¡ç®—æœºè§†è§‰ç­‰é¢†åŸŸå†…åº”ç”¨æä¸ºå¹¿æ³›çš„ä¸€ä¸ªç®—æ³•ï¼Œå®ƒä¸ä»…å¯ä»¥ç”¨æ¥åšåˆ†ç±»ï¼Œä¹Ÿå¯ç”¨æ¥åšå›å½’å³é¢„æµ‹ï¼Œä¸€èˆ¬éšæœºæ£®æ—æœºç”±å¤šä¸ªå†³ç­–æ ‘æ„æˆï¼Œç›¸æ¯”äºå•ä¸ªå†³ç­–æ ‘ç®—æ³•ï¼Œå®ƒåˆ†ç±»ã€é¢„æµ‹æ•ˆæœæ›´å¥½ï¼Œä¸å®¹æ˜“å‡ºç°è¿‡åº¦æ‹Ÿåˆçš„æƒ…å†µã€‚</p>
<p>1.è®­ç»ƒæ ·æœ¬é€‰æ‹©æ–¹é¢çš„Randomï¼š</p>
<blockquote>
<p>Bootstrapæ–¹æ³•éšæœºé€‰æ‹©å­æ ·æœ¬</p>
</blockquote>
<p>2.ç‰¹å¾é€‰æ‹©æ–¹é¢çš„Randomï¼š</p>
<blockquote>
<p>å±æ€§é›†ä¸­éšæœºé€‰æ‹©kä¸ªå±æ€§ï¼Œæ¯ä¸ªæ ‘èŠ‚ç‚¹åˆ†è£‚æ—¶ï¼Œä»è¿™éšæœºçš„kä¸ªå±æ€§ï¼Œé€‰æ‹©æœ€ä¼˜çš„(å¦‚ä½•é€‰æ‹©æœ€ä¼˜åˆæœ‰å„ç§æœ€å¤§å¢ç›Šçš„æ–¹æ³•ï¼Œä¸åœ¨æœ¬æ–‡è®¨è®ºèŒƒå›´å†…)ã€‚</p>
</blockquote>
<p><strong>å†³ç­–æ ‘</strong></p>
<p>å†³ç­–æ ‘å¯¹è®­ç»ƒæ ·æœ¬æœ‰è‰¯å¥½çš„åˆ†ç±»èƒ½åŠ›ï¼Œåªè¦æˆ‘ä»¬çš„å±‚æ•°ä¸åŠ é™åˆ¶ï¼Œæˆ‘ä»¬ç”šè‡³å¯ä»¥æŠŠå®ƒåˆ†çš„æ²¡æœ‰ä»»ä½•è¯¯å·®ï¼Œè¿™æ ·å¯èƒ½å¯¼è‡´ä½ çš„æ³›åŒ–èƒ½åŠ›å¾ˆå¼±ã€‚ ç¼“è§£çš„æ–¹æ³•å°±æ˜¯ 1. å‰ªæ 2. éšæœºæ£®æ—</p>
<p>å‰ªæ æˆ‘è¿˜æ²¡ç”¨è¿‡ï¼Œæ‰€ä»¥æˆ‘ä»¬çœ‹å¸¸ç”¨çš„ éšæœºæ£®æ— Romdom Forest</p>
<p>å†³ç­–æ ‘ ï¼š ç‰¹å¾é€‰æ‹©</p>
<ol>
<li>ID3 ä»…å…·æœ‰æ•™å­¦ä»·å€¼</li>
<li>gini ç³»æ•°ï¼Œä½œä¸ºæŒ‡æ ‡æ¯”è¾ƒå¤šï¼Œåœ¨å®è·µå½“ä¸­</li>
</ol>
<p><strong>Random Forest æ„é€ æµç¨‹</strong></p>
<p><img src="/images/ml/ensumble/ml-ensemble-3-bagging.jpeg" width="600"></p>
<blockquote>
<ol>
<li>ç”¨ Random(è®­ç»ƒæ ·æœ¬ç”¨Bootstrapæ–¹æ³•ï¼Œé€‰æ‹©åˆ†ç¦»å¶å­èŠ‚ç‚¹ç”¨ä¸Šé¢çš„2)çš„æ–¹å¼æ„é€ ä¸€æ£µå†³ç­–æ ‘(CART)</li>
<li>ç”¨1çš„æ–¹æ³•æ„é€ å¾ˆå¤šå†³ç­–æ ‘, ä¸å‰ªæ, è®¸å¤šå†³ç­–æ ‘æ„æˆä¸€ç‰‡æ£®æ—ï¼Œå†³ç­–æ ‘ä¹‹é—´æ²¡æœ‰è”ç³»</li>
<li>æµ‹è¯•æ•°æ®è¿›å…¥æ¯ä¸€æ£µå†³ç­–æ ‘ï¼Œæ¯æ£µæ ‘åšå‡ºè‡ªå·±çš„åˆ¤æ–­ï¼Œç„¶åæŠ•ç¥¨é€‰å‡ºæœ€ç»ˆæ‰€å±ç±»åˆ«(é»˜è®¤æ¯æ£µæ ‘æƒé‡ä¸€è‡´)</li>
</ol>
</blockquote>
<p><strong>Random Forest ä¼˜ç‚¹</strong></p>
<blockquote>
<ol>
<li>ä¸å®¹æ˜“å‡ºç°è¿‡æ‹Ÿåˆï¼Œå› ä¸ºé€‰æ‹©è®­ç»ƒæ ·æœ¬çš„æ—¶å€™å°±ä¸æ˜¯å…¨éƒ¨æ ·æœ¬ã€‚</li>
<li>æ—¢å¯ä»¥å¤„ç†å±æ€§ä¸ºç¦»æ•£å€¼çš„é‡ï¼Œæ¯”å¦‚ID3ç®—æ³•æ¥æ„é€ æ ‘ï¼Œä¹Ÿå¯ä»¥å¤„ç†å±æ€§ä¸ºè¿ç»­å€¼çš„é‡ï¼Œæ¯”å¦‚C4.5ç®—æ³•æ¥æ„é€ æ ‘</li>
<li>å¯¹äºé«˜ç»´æ•°æ®é›†çš„å¤„ç†èƒ½åŠ›ä»¤äººå…´å¥‹ï¼Œå®ƒå¯ä»¥å¤„ç†æˆåƒä¸Šä¸‡çš„è¾“å…¥å˜é‡ï¼Œå¹¶ç¡®å®šæœ€é‡è¦çš„å˜é‡ï¼Œå› æ­¤è¢«è®¤ä¸ºæ˜¯ä¸€ä¸ªä¸é”™çš„é™ç»´æ–¹æ³•ã€‚è¯¥æ¨¡å‹èƒ½å¤Ÿè¾“å‡ºå˜é‡çš„é‡è¦æ€§ç¨‹åº¦ï¼Œè¿™æ˜¯ä¸€ä¸ªéå¸¸ä¾¿åˆ©çš„åŠŸèƒ½ã€‚</li>
<li>åˆ†ç±»ä¸å¹³è¡¡çš„æƒ…å†µæ—¶ï¼Œéšæœºæ£®æ—èƒ½å¤Ÿæä¾›å¹³è¡¡æ•°æ®é›†è¯¯å·®çš„æœ‰æ•ˆæ–¹æ³•</li>
</ol>
</blockquote>
<p><strong>Random Forest ç¼ºç‚¹</strong></p>
<blockquote>
<ol>
<li>éšæœºæ£®æ—åœ¨è§£å†³å›å½’é—®é¢˜æ—¶å¹¶æ²¡æœ‰åƒå®ƒåœ¨åˆ†ç±»ä¸­è¡¨ç°çš„é‚£ä¹ˆå¥½ï¼Œè¿™æ˜¯å› ä¸ºå®ƒå¹¶ä¸èƒ½ç»™å‡ºä¸€ä¸ªè¿ç»­å‹çš„è¾“å‡ºã€‚å½“è¿›è¡Œå›å½’æ—¶ï¼Œéšæœºæ£®æ—ä¸èƒ½å¤Ÿä½œå‡ºè¶…è¶Šè®­ç»ƒé›†æ•°æ®èŒƒå›´çš„é¢„æµ‹ï¼Œè¿™å¯èƒ½å¯¼è‡´åœ¨å¯¹æŸäº›è¿˜æœ‰ç‰¹å®šå™ªå£°çš„æ•°æ®è¿›è¡Œå»ºæ¨¡æ—¶å‡ºç°è¿‡åº¦æ‹Ÿåˆã€‚</li>
<li>å¯¹äºè®¸å¤šç»Ÿè®¡å»ºæ¨¡è€…æ¥è¯´ï¼Œéšæœºæ£®æ—ç»™äººçš„æ„Ÿè§‰åƒæ˜¯ä¸€ä¸ªé»‘ç›’å­â€”â€”ä½ å‡ ä¹æ— æ³•æ§åˆ¶æ¨¡å‹å†…éƒ¨çš„è¿è¡Œï¼Œåªèƒ½åœ¨ä¸åŒçš„å‚æ•°å’Œéšæœºç§å­ä¹‹é—´è¿›è¡Œå°è¯•ã€‚</li>
</ol>
<p>ä¼˜ç¼ºç‚¹ï¼Œéœ€è¦ä¸æ°ç¥å•†è®¨å†?</p>
</blockquote>
<h2 id="Reference-article"><a href="#Reference-article" class="headerlink" title="Reference article"></a>Reference article</h2><ul>
<li><a href="https://www.jianshu.com/p/708dff71df3a" target="_blank" rel="external">Baggingï¼ˆBootstrap aggregatingï¼‰ã€éšæœºæ£®æ—ï¼ˆrandom forestsï¼‰ã€AdaBoost</a></li>
<li><a href="https://blog.csdn.net/xlinsist/article/details/51475345" target="_blank" rel="external">Bootstrap(è‡ªåŠ©æ³•)ï¼ŒBaggingï¼ŒBoosting(æå‡)</a></li>
</ul>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[Hive ä¸­ udfã€udaf å’Œ udtf çš„ä½¿ç”¨]]></title>
      <url>http://iequa.com/2018/02/01/hadoop-hive-udf-udaf/</url>
      <content type="html"><![CDATA[<p>Hive æ˜¯åŸºäº Hadoop ä¸­çš„ MapReduceï¼Œæä¾› HQL æŸ¥è¯¢çš„æ•°æ®ä»“åº“. </p>
<p>Hive æ˜¯ä¸€ä¸ªå¾ˆå¼€æ”¾çš„ç³»ç»Ÿï¼Œå¾ˆå¤šå†…å®¹éƒ½æ”¯æŒç”¨æˆ·å®šåˆ¶. å¦‚ : æ–‡ä»¶æ ¼å¼ã€MRè„šæœ¬ã€è‡ªå®šä¹‰å‡½æ•°ã€è‡ªå®šä¹‰èšåˆå‡½æ•° ç­‰.</p>
<a id="more"></a>
<h2 id="UDF"><a href="#UDF" class="headerlink" title="UDF"></a>UDF</h2><p>ç¼–å†™ UDFå‡½æ•° çš„æ—¶å€™éœ€è¦æ³¨æ„ä¸€ä¸‹å‡ ç‚¹ï¼š</p>
<ol>
<li>è‡ªå®šä¹‰ UDF éœ€è¦ç»§æ‰¿ org.apache.hadoop.hive.ql.UDF</li>
<li>éœ€è¦å®ç° <code>evaluate</code> å‡½æ•°</li>
</ol>
<p>ä»¥ä¸‹æ˜¯ä¸¤ä¸ªæ•°æ±‚å’Œå‡½æ•°çš„UDFã€‚evaluateå‡½æ•°ä»£è¡¨ä¸¤ä¸ªæ•´å‹æ•°æ®ç›¸åŠ </p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> hive.connect;  </span><br><span class="line">  </span><br><span class="line"><span class="keyword">import</span> org.apache.hadoop.hive.ql.exec.UDF;  </span><br><span class="line">  </span><br><span class="line"><span class="keyword">public</span> <span class="keyword">final</span> <span class="class"><span class="keyword">class</span> <span class="title">Add</span> <span class="keyword">extends</span> <span class="title">UDF</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> Integer <span class="title">evaluate</span><span class="params">(Integer a, Integer b)</span> </span>&#123;  </span><br><span class="line">        <span class="keyword">if</span> (<span class="keyword">null</span> == a || <span class="keyword">null</span> == b) &#123;  </span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">null</span>;  </span><br><span class="line">        &#125; </span><br><span class="line">        <span class="keyword">return</span> a + b;  </span><br><span class="line">    &#125;  </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="UDAF"><a href="#UDAF" class="headerlink" title="UDAF"></a>UDAF</h2><p>å‡½æ•°ç±»éœ€è¦ç»§æ‰¿ <strong>UDAF</strong> ç±»ï¼Œå†…éƒ¨ç±» <strong>Evaluator</strong> éœ€è¦å®ç° <strong>UDAFEvaluator</strong> æ¥å£.</p>
<p>Evaluator éœ€è¦å®ç° initã€iterateã€terminatePartialã€mergeã€terminate è¿™å‡ ä¸ªå‡½æ•°.</p>
<ol>
<li><code>init</code>å‡½æ•°å®ç°æ¥å£ UDAFEvaluator çš„ init å‡½æ•°.</li>
<li><code>iterate</code>æ¥æ”¶ä¼ å…¥çš„å‚æ•°ï¼Œå¹¶è¿›è¡Œå†…éƒ¨çš„è½®è½¬ã€‚å…¶è¿”å›ç±»å‹ä¸º boolean.</li>
<li><code>terminatePartial</code>æ— å‚æ•°ï¼Œå…¶ä¸º iterate å‡½æ•°è½®è½¬ç»“æŸåï¼Œè¿”å›è½®è½¬æ•°æ®.</li>
<li><code>merge</code> æ¥æ”¶ terminatePartial çš„è¿”å›ç»“æœï¼Œè¿›è¡Œæ•°æ® merge æ“ä½œï¼Œå…¶è¿”å›ç±»å‹ä¸ºboolean.</li>
<li><code>terminate</code> è¿”å›æœ€ç»ˆçš„èšé›†å‡½æ•°ç»“æœ.</li>
</ol>
<p><a href="https://github.com/blair101/bigdata/tree/master/hadoop/hive_udf_udaf" target="_blank" rel="external">ä¸‹é¢æ˜¯ä¸€ä¸ªç®€å•çš„ UDAF çš„ demo</a></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.x.user_bhv;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.google.common.collect.Maps;</span><br><span class="line"><span class="keyword">import</span> org.apache.hadoop.hive.ql.exec.UDAF;</span><br><span class="line"><span class="keyword">import</span> org.apache.hadoop.hive.ql.exec.UDAFEvaluator;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.HashMap;</span><br><span class="line"><span class="keyword">import</span> java.util.Map;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">UDAFMergeIntToIntMap</span> <span class="keyword">extends</span> <span class="title">UDAF</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="class"><span class="keyword">class</span> <span class="title">PartialResult</span> </span>&#123;</span><br><span class="line">        Map&lt;Integer, Integer&gt; attributes;</span><br><span class="line"></span><br><span class="line">        PartialResult() &#123;</span><br><span class="line">            attributes = Maps.newHashMap();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="class"><span class="keyword">class</span> <span class="title">UnitIdUDAFEvaluator</span> <span class="keyword">implements</span> <span class="title">UDAFEvaluator</span> </span>&#123;</span><br><span class="line">        <span class="keyword">private</span> PartialResult partialResult;</span><br><span class="line"></span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="title">UnitIdUDAFEvaluator</span><span class="params">()</span> </span>&#123;</span><br><span class="line">            <span class="keyword">super</span>();</span><br><span class="line">            init();</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">init</span><span class="params">()</span> </span>&#123;</span><br><span class="line">            System.out.println(<span class="string">"map init"</span>);</span><br><span class="line">            partialResult = <span class="keyword">new</span> PartialResult();</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">iterate</span><span class="params">(Map&lt;Integer, Integer&gt; attributes_args)</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">            <span class="keyword">if</span> (attributes_args == <span class="keyword">null</span> || attributes_args.isEmpty()) &#123;</span><br><span class="line">                <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            <span class="keyword">for</span> (Map.Entry&lt;Integer, Integer&gt; entry : attributes_args.entrySet()) &#123;</span><br><span class="line">                <span class="keyword">this</span>.partialResult.attributes.put(entry.getKey(), entry.getValue());</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="function"><span class="keyword">public</span> PartialResult <span class="title">terminatePartial</span><span class="params">()</span> </span>&#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">this</span>.partialResult;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">merge</span><span class="params">(PartialResult other)</span> </span>&#123; <span class="comment">// å‚æ•°ä¸å¯èƒ½ä¸º null</span></span><br><span class="line"></span><br><span class="line">            <span class="keyword">for</span> (Map.Entry&lt;Integer, Integer&gt; entry : other.attributes.entrySet()) &#123;</span><br><span class="line">                <span class="keyword">this</span>.partialResult.attributes.put(entry.getKey(), entry.getValue());</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="function"><span class="keyword">public</span> Map&lt;Integer, Integer&gt; <span class="title">terminate</span><span class="params">()</span> </span>&#123;</span><br><span class="line">            <span class="keyword">if</span> (partialResult == <span class="keyword">null</span>) &#123;</span><br><span class="line">                <span class="keyword">return</span> <span class="keyword">new</span> HashMap&lt;Integer, Integer&gt;();</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                <span class="keyword">return</span> <span class="keyword">this</span>.partialResult.attributes;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>åœ¨ Hive è„šæœ¬ä¸­çš„ä½¿ç”¨ç¤ºä¾‹ :</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">hql=<span class="string">"ADD jar <span class="variable">$&#123;jar_dir&#125;</span>/user_bhv_for_hive.jar;</span><br><span class="line">    CREATE TEMPORARY FUNCTION merge_int_to_int_map AS 'com.x.user_bhv.UDAFMergeIntToIntMap';</span><br><span class="line">    INSERT OVERWRITE TABLE <span class="variable">$&#123;table_user_buy_category&#125;</span></span><br><span class="line">    SELECT</span><br><span class="line">        mobile_number,</span><br><span class="line">        merge_int_to_int_map (level1_id_count_map)</span><br><span class="line">    FROM </span><br><span class="line">        ods_dm_e_coupon</span><br><span class="line">    GROUP BY mobile_number</span></span><br></pre></td></tr></table></figure>
<h2 id="Summary"><a href="#Summary" class="headerlink" title="Summary"></a>Summary</h2><ol>
<li>é‡è½½ evaluate å‡½æ•°.</li>
<li>UDF å‡½æ•°ä¸­å‚æ•°ç±»å‹å¯ä»¥ä¸ºWritableï¼Œä¹Ÿå¯ä¸ºjavaä¸­çš„åŸºæœ¬æ•°æ®å¯¹è±¡.</li>
<li>UDF æ”¯æŒå˜é•¿çš„å‚æ•°.</li>
<li>Hive æ”¯æŒéšå¼ç±»å‹è½¬æ¢.</li>
<li>å®¢æˆ·ç«¯é€€å‡ºæ—¶ï¼Œåˆ›å»ºçš„ä¸´æ—¶å‡½æ•°è‡ªåŠ¨é”€æ¯.</li>
<li>evaluateå‡½æ•°å¿…é¡»è¦è¿”å›ç±»å‹å€¼ï¼Œç©ºçš„è¯è¿”å›nullï¼Œä¸èƒ½ä¸ºvoidç±»å‹.</li>
<li>UDF å’Œ UDAF éƒ½å¯ä»¥é‡è½½.</li>
<li>æŸ¥çœ‹å‡½æ•° SHOW FUNCTIONS.</li>
</ol>
<blockquote>
<p>UDAF: User Defined Aggregation Function</p>
</blockquote>
<h2 id="Reference"><a href="#Reference" class="headerlink" title="Reference"></a>Reference</h2><ul>
<li><a href="http://blog.csdn.net/liuj2511981/article/details/8523084" target="_blank" rel="external">Hive ä¸­ UDFã€UDAF å’Œ UDTF ä½¿ç”¨</a></li>
<li><a href="https://github.com/blair101/bigdata/tree/master/hadoop/hive_udf_udaf" target="_blank" rel="external">bliarâ€™s github hive udaf demo</a></li>
</ul>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[Flexible Task Scheduling Framework]]></title>
      <url>http://iequa.com/2018/01/30/hadoop-hive-bigdata-offline-demo/</url>
      <content type="html"><![CDATA[<p>æœ¬ç¯‡ä»‹ç»ä¸€ç§ å¤§æ•°æ®ç¦»çº¿å¼€å‘æ¨¡å—çš„è§£å†³æ–¹æ¡ˆï¼Œ å…¶å®è¿™æ˜¯ä¸€ä¸ªæ‰‹å†™çš„é€‚åˆç¦»çº¿è°ƒåº¦çš„çµæ´»å°æ¡†æ¶</p>
<p><a href="https://github.com/blair101/bigdata/tree/master/bigdata-offline-demo" target="_blank" rel="external">blairâ€™s github bigdata_offline_demo</a></p>
<a id="more"></a>
<h2 id="ç›®æ ‡"><a href="#ç›®æ ‡" class="headerlink" title="ç›®æ ‡"></a>ç›®æ ‡</h2><ul>
<li>æä¾›ä¸€äº› best practice</li>
<li>æé«˜å„æ¨¡å—ç»“æ„åŠä»£ç çš„ä¸€è‡´æ€§</li>
<li>é™ä½å¼€å‘æ–°æ¨¡å—çš„æˆæœ¬</li>
<li>ä¾¿äºç¦»çº¿å¤§æ•°æ®åˆ†æ</li>
<li>å½“ç„¶å®ƒä¹Ÿé€‚ç”¨äºå¯¹ä»»ä½•ç¦»çº¿Jobè¿›è¡Œè°ƒåº¦</li>
</ul>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">è¿™æ˜¯ä¸€ä¸ª hive é…åˆ shell ç­‰å…¶ä»–è¯­è¨€å†™æˆçš„çµæ´»è°ƒåº¦æ¡†æ¶.</span><br><span class="line">   è¯¥ç¤ºä¾‹æ¨¡å—æ¶ é€‚ç”¨äºç¦»çº¿åˆ†æï¼Œç‰¹åˆ«æ˜¯æ¯å¤©è·‘çš„crontabä»»åŠ¡ï¼Œæˆ–è€…æ˜¯æ¯å‘¨ã€æ¯æœˆè·‘çš„ä»»åŠ¡</span><br></pre></td></tr></table></figure>
<h2 id="1-ä»£ç è§„èŒƒ"><a href="#1-ä»£ç è§„èŒƒ" class="headerlink" title="1. ä»£ç è§„èŒƒ"></a>1. ä»£ç è§„èŒƒ</h2><ul>
<li>å¯¹ Hive è¡¨çš„æ“ä½œï¼Œå¦‚åŸºæœ¬SQLä¸èƒ½æ»¡è¶³éœ€æ±‚ï¼Œåˆ™å»ºè®®ä¼˜å…ˆé‡‡ç”¨ Java UDF/UDAF çš„æ–¹å¼</li>
<li>é Hive æ“ä½œ, æ¨èä¼˜å…ˆé‡‡ç”¨pythonç‰ˆ streaming æ–¹å¼æˆ–è€…Javaè¯­è¨€å®ç°æ–¹å¼</li>
<li>æ¯ä¸ªæ¨¡å—å»ºè®®ç»™å‡ºå‡†ç¡®çš„è¾“å…¥ã€è¾“å‡ºæ ¼å¼å®šä¹‰æ³¨é‡Šè¯´æ˜.</li>
</ul>
<h2 id="2-ç»“æ„è§„èŒƒ"><a href="#2-ç»“æ„è§„èŒƒ" class="headerlink" title="2. ç»“æ„è§„èŒƒ"></a>2. ç»“æ„è§„èŒƒ</h2><h3 id="2-1-æ¨¡å—ç›®å½•"><a href="#2-1-æ¨¡å—ç›®å½•" class="headerlink" title="2.1 æ¨¡å—ç›®å½•"></a>2.1 æ¨¡å—ç›®å½•</h3><ul>
<li>æ¯ä¸ªæ¨¡å—ä¸ºä¸€ä¸ªç›®å½•ï¼Œæ¨¡å—å ä¸€èˆ¬ä¸å…¶ä¸­ ä¸»ä»£ç ç›®å½• åç§°ä¸€è‡´</li>
</ul>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># ~/ghome/xgitlab/group-data/bigdata-offline-demo [master âœ— (0cdd403)] [14:43:10]</span></span><br><span class="line">âœ ll</span><br><span class="line">total 40</span><br><span class="line">-rw-r--r--   1 blair  staff   106B Dec 15 14:12 LICENSE</span><br><span class="line">-rw-r--r--@  1 blair  staff   4.9K Dec 15 14:43 README.md</span><br><span class="line">drwxr-xr-x  10 blair  staff   320B Dec 15 14:02 bigdata-offline-demo</span><br><span class="line">drwxr-xr-x   4 blair  staff   128B Dec 15 14:11 docs</span><br></pre></td></tr></table></figure>
<p><strong>ç›®å½•åŠŸèƒ½è¯´æ˜</strong></p>
<table>
<thead>
<tr>
<th>åç§°</th>
<th>è¯´æ˜</th>
</tr>
</thead>
<tbody>
<tr>
<td>bigdata-offline-demo</td>
<td>ä¸»ä»£ç ç›®å½• åç§°</td>
</tr>
<tr>
<td>README.md</td>
<td>ä¸»è¦è¯´æ˜</td>
</tr>
<tr>
<td>LICENSE</td>
<td>è®¸å¯è¯´æ˜</td>
</tr>
<tr>
<td>docs</td>
<td>è¯¦ç»†æ–‡æ¡£</td>
</tr>
</tbody>
</table>
<h3 id="2-2-ä¸»ä»£ç ç›®å½•"><a href="#2-2-ä¸»ä»£ç ç›®å½•" class="headerlink" title="2.2 ä¸»ä»£ç ç›®å½•"></a>2.2 ä¸»ä»£ç ç›®å½•</h3><blockquote>
<p><strong>bigdata-offline-demo/bigdata-offline-demo/</strong></p>
</blockquote>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># ~/ghome/xgitlab/group-data/bigdata-offline-demo/bigdata-offline-demo [master âœ— (0cdd403)] [14:44:28]</span></span><br><span class="line">drwxr-xr-x   5 blair  staff   160B Dec 15 14:02 alert</span><br><span class="line">drwxr-xr-x   6 blair  staff   192B Dec 15 14:02 conf</span><br><span class="line">drwxr-xr-x   3 blair  staff    96B Dec 15 14:02 create_table</span><br><span class="line">drwxr-xr-x   3 blair  staff    96B Dec 15 14:08 crontab_job</span><br><span class="line">drwxr-xr-x   3 blair  staff    96B Dec 15 14:02 flag</span><br><span class="line">drwxr-xr-x  40 blair  staff   1.3K Dec 15 14:02 <span class="built_in">log</span></span><br><span class="line">drwxr-xr-x   3 blair  staff    96B Dec 15 14:08 script</span><br><span class="line">drwxr-xr-x   8 blair  staff   256B Dec 15 14:04 util</span><br></pre></td></tr></table></figure>
<p><strong>ä¸»ä»£ç ç›®å½•åŠŸèƒ½è¯´æ˜</strong></p>
<table>
<thead>
<tr>
<th style="text-align:left">ç›®å½•</th>
<th style="text-align:left">è¯´æ˜</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">â”€â”€ alert</td>
<td style="text-align:left">æŠ¥è­¦å°è£…</td>
</tr>
<tr>
<td style="text-align:left">â”€â”€ conf</td>
<td style="text-align:left">é…ç½®æ–‡ä»¶</td>
</tr>
<tr>
<td style="text-align:left">â”€â”€create_table</td>
<td style="text-align:left">å»ºè¡¨è„šæœ¬</td>
</tr>
<tr>
<td style="text-align:left">â”€â”€ crontab_job</td>
<td style="text-align:left">crontab ä»»åŠ¡è„šæœ¬ã€‚(crontabä»»åŠ¡è„šæœ¬ä»¥crontab_jobä¸ºå‰ç¼€, æ£€æµ‹ä»»åŠ¡ä¾èµ–å…³ç³», è°ƒç”¨ä¸»é€»è¾‘è„šæœ¬ç­‰)</td>
</tr>
<tr>
<td style="text-align:left">â”€â”€ flag</td>
<td style="text-align:left">æ ‡è®°æ–‡ä»¶ã€‚(æ ‡å¿—è¯¥æ¨¡å—å·²ç»å¼€å§‹è¿è¡Œï¼Œæˆ–è€…è¿è¡Œå®Œæ¯•)</td>
</tr>
<tr>
<td style="text-align:left">â”€â”€ log</td>
<td style="text-align:left">æ—¥å¿—æ–‡ä»¶ã€‚ (å¦‚è„šæœ¬å¤±è´¥å¯æ ¹æ®logè¿½æŸ¥å®šä½å¤±è´¥åŸå› )</td>
<td></td>
</tr>
<tr>
<td style="text-align:left">â”€â”€ script</td>
<td style="text-align:left">ä¸»è„šæœ¬æ–‡ä»¶</td>
<td></td>
</tr>
<tr>
<td style="text-align:left">â”€â”€ util</td>
<td style="text-align:left">å·¥å…·è„šæœ¬ã€‚(ä¸»è¦åŒ…å«å†™logè„šæœ¬, hadoop file / local file / hive check ç­‰å°è£…, åˆå§‹åŒ–ç¯å¢ƒç›®å½•ç­‰)</td>
</tr>
<tr>
<td style="text-align:left"></td>
<td style="text-align:left"></td>
</tr>
<tr>
<td style="text-align:left">â”€â”€ jar</td>
<td style="text-align:left">jaråŒ… (å¦‚æ— åˆ™ä¸éœ€è¦å»ºç«‹)</td>
</tr>
<tr>
<td style="text-align:left">â”€â”€ java</td>
<td style="text-align:left">java (udf udaf) æºä»£ç ã€‚ (å¦‚æ— åˆ™ä¸éœ€è¦å»ºç«‹)</td>
</tr>
</tbody>
</table>
<ul>
<li>scriptç›®å½• ä¸»è¦å­˜æ”¾ shell è„šæœ¬ï¼Œæœ‰éœ€è¦ä¹Ÿå­˜æ”¾ python è„šæœ¬ã€‚</li>
<li>java ä»£ç éœ€è¦æ”¾å…¥ javaç›®å½• </li>
<li><p>å¦‚æœè¯¥æ¨¡å—ï¼Œscriptç›®å½•è„šæœ¬è¾ƒå¤šï¼Œô°€å¯ä»¥åœ¨ script dirä¹‹ä¸‹å»ºç«‹å­ç›®å½•ô°€å¦‚ô°‚ :</p>
<pre><code>â”œâ”€â”€ script
  â”œâ”€â”€ sub_module_1 å­æ¨¡å—ç›®å½• 
  â”œâ”€â”€ sub_module_2 å­æ¨¡å—ç›®å½•
</code></pre></li>
</ul>
<h3 id="2-2-é¡¹ç›®æ¨¡æ¿"><a href="#2-2-é¡¹ç›®æ¨¡æ¿" class="headerlink" title="2.2 é¡¹ç›®æ¨¡æ¿"></a>2.2 é¡¹ç›®æ¨¡æ¿</h3><ul>
<li>æä¾›å…¬å…±çš„é¡¹ç›®æ¨¡æ¿. ô°€ç»Ÿä¸€shellè„šæœ¬ä»£ç ô°„ç»“æ„ô°„ æ—¥å¿—ô°„é…ç½®è§„èŒƒô° ç­‰</li>
<li><p>é¡¹ç›®æ¨¡æ¿å¯ä»¿ç…§æœ¬æ¨¡å—ô°‚ : </p>
  <figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">http://gitlab.***/data/bigdata-offline-demo.git</span><br></pre></td></tr></table></figure>
</li>
</ul>
<ul>
<li><p>1). å˜é‡å‘½åô°‚</p>
 <figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">è‡ªæœ‰å˜é‡é‡‡ç”¨å°å†™ô°€. exportå‡ºçš„ç¯å¢ƒå˜é‡é‡‡ç”¨å¤§å†™ô°</span><br><span class="line">  hive è¡¨å‘½å : </span><br><span class="line">   1. åŸå§‹æ•°æ®è¡¨ï¼Œæ•°æ®æŒ–æ˜å›¢é˜Ÿå»ºç«‹çš„ åˆ™ é‡‡ç”¨å‘½åæ–¹å¼ä¸º ods_dm (original data stream, data_mining)å¼€å¤´</span><br><span class="line">   2. éåŸå§‹æ•°æ®è¡¨ æ•°æ®æŒ–æ˜å›¢é˜Ÿå»ºç«‹çš„ åˆ™ é‡‡ç”¨å‘½åæ–¹å¼ä¸º mds_dm (modified data stream , data_mining)å¼€å¤´</span><br><span class="line">   3. ä¸´æ—¶æ•°æ®è¡¨ æ•°æ®æŒ–æ˜å›¢é˜Ÿå»ºç«‹çš„ åˆ™ é‡‡ç”¨å‘½åæ–¹å¼ä¸º tmp_dm (temp data stream , data_mining)å¼€å¤´</span><br></pre></td></tr></table></figure>
</li>
</ul>
<ul>
<li><p>2). é…ç½®æ–‡ä»¶ (confç›®å½•ä¸‹)</p>
 <figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">default.confô°‚ é…ç½®å…¬å…±å‚æ•°ô°‚ç¨‹åºè·¯å¾„ô°„hadoop ç”¨æˆ·ç­‰ô°</span><br><span class="line">vars.conf    é…ç½®ä»»åŠ¡å‚æ•°ô°‚ hiveè¡¨åô°„å‚æ•°è®¾ç½®, ä»¥åŠå…¶ä»–å˜é‡ç­‰ô°</span><br><span class="line">alert.confô°‚   é…ç½®é‚®ä»¶æŠ¥è­¦æ¥æ”¶äººô°</span><br></pre></td></tr></table></figure>
</li>
</ul>
<ul>
<li><p>3). è¾“å…¥è¾“å‡º</p>
 <figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">1. å¦‚æœå­˜åœ¨è¾“å…¥æºå¤šç§æ•°æ®æ ¼å¼(rcfile+lzo+textfile)çš„æƒ…å†µô°€æ¨èé‡‡ç”¨ç”Ÿæˆä¸´æ—¶çš„ç»Ÿä¸€æ ¼å¼çš„æ•°æ®è¡¨çš„æ–¹å¼å¤„ç†ô° </span><br><span class="line">2. hive è¡¨ è¾“å‡ºåŸåˆ™ä¸Šå‡é‡‡ç”¨rcfileæ ¼å¼ô°ã€‚</span><br><span class="line">      (å½“ç„¶ç°åœ¨å­˜å‚¨ä¾¿å®œï¼Œæ‰€ä»¥å¾ˆå¤šæ—¶å€™ä¸ºäº†æ“ä½œæ–¹ä¾¿ï¼Œä¹Ÿå¯é‡‡ç”¨textæ ¼å¼å­˜å‚¨ï¼Œä½†ä»ç„¶æ¨èodså±‚é¢è¡¨ç»Ÿä¸€ä¸ºrcfileæ ¼å¼)</span><br><span class="line">3. éhiveè¡¨ è¾“å‡ºé‡‡ç”¨rcfileæˆ–è€…lzoæ ¼å¼å‡å¯ô°</span><br></pre></td></tr></table></figure>
</li>
<li><p>4). hive å»ºè¡¨ç¤ºä¾‹.</p>
 <figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">table_name=<span class="string">"<span class="variable">$&#123;table_ods_e_coupon&#125;</span>"</span></span><br><span class="line">hql=<span class="string">"create external table if not exists <span class="variable">$&#123;table_name&#125;</span></span><br><span class="line">(</span><br><span class="line">    id bigint COMMENT 'åºå·',</span><br><span class="line">    mobile_number varchar(16) COMMENT 'é¢†å–ç”µå­åˆ¸çš„æ‰‹æœºå·',</span><br><span class="line">    coupon_order_number varchar(32) COMMENT 'è´­ä¹°ç”µå­åˆ¸æ—¶çš„è®¢å•ç¼–å·',</span><br><span class="line">    dt string</span><br><span class="line">) COMMENT 'å®é™…ç”µå­åˆ¸'</span><br><span class="line">row format delimited fields terminated by '\001' collection items terminated by ',' map keys terminated by ':' lines terminated by '\n'</span><br><span class="line">stored as rcfile</span><br><span class="line">location '<span class="variable">$&#123;OSS_URL&#125;</span>/<span class="variable">$&#123;ods_hive_dir&#125;</span>/<span class="variable">$&#123;table_name&#125;</span>';</span><br><span class="line">"</span></span><br><span class="line"><span class="built_in">echo</span> <span class="string">"<span class="variable">$hql</span>"</span></span><br><span class="line"><span class="variable">$&#123;HIVE&#125;</span> <span class="_">-e</span> <span class="string">"<span class="variable">$hql</span>"</span></span><br></pre></td></tr></table></figure>
</li>
</ul>
<p>  è¯´æ˜</p>
  <figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">1. æ¨èç™¾ä¸‡çº§ä»¥ä¸Šè®°å½•çš„ hive è¡¨å»ºç«‹æ—¶æŒ‡å®šåˆ†åŒºï¼Œä¸€èˆ¬string dt=yyyy-mm-dd  </span><br><span class="line">2. æ•°æ®é‡ä¸å¤§ï¼Œåˆä¸æ˜¯æŒ‰ç…§å¤©å¢åŠ å¾ˆå¤šæ•°æ®é‡çš„è¡¨ï¼Œåˆ™ä¸éœ€è¦æŒ‡å®šåˆ†åŒº   </span><br><span class="line">3. åˆ†åŒº string dt ä¸€èˆ¬å»ºè®®ä¸º yyyy-MM-dd æ ¼å¼  (dt å–è‡ª : date, é»˜è®¤æ„æ€ä¸ºæ•°æ®äº§ç”Ÿæ—¥æœŸ)</span><br><span class="line">4. hive å»ºè¡¨æ—¶æŒ‡å®šæ ¼å¼ï¼Œåˆ—ä¸åˆ—ä¹‹é—´åˆ†éš”ç¬¦</span><br><span class="line">5. $&#123;hive_dir&#125;, mds è¡¨ä¸º bucket_name/data_mining/dm/mds/ </span><br><span class="line">                  ods è¡¨ä¸º bucket_name/data_mining/dm/ods/</span><br><span class="line">                          bucketåç§° + éƒ¨é—¨æˆ–å¤§é¡¹ç›®ç»„åç§° + å›¢é˜Ÿåç§° + å±‚çº§</span><br></pre></td></tr></table></figure>
<ul>
<li><p>5). æŠ¥è­¦è§„èŒƒ</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">check_success ä¸ºå°è£…å¥½çš„ï¼Œæ£€æµ‹ä¸Šä¸€æ¡è¯­å¥æ‰§è¡Œæ‰§è¡ŒæˆåŠŸï¼Œåè‡ªåŠ¨å‘æŠ¥è­¦çš„å‡½æ•°ã€‚</span><br><span class="line">(å‘æŠ¥è­¦é‚®ä»¶æ ‡é¢˜ä»¥ æ¨¡å—å--ä»»åŠ¡è„šæœ¬è·¯å¾„å--ä»»åŠ¡çŠ¶æ€åŠåŸå› -æ—¥æœŸ æ¥è®¾ç½®ã€‚ä¾¿äºå¿«é€Ÿå®šä½é—®é¢˜)</span><br></pre></td></tr></table></figure>
</li>
</ul>
<h2 id="3-å¼€å‘æµç¨‹"><a href="#3-å¼€å‘æµç¨‹" class="headerlink" title="3. å¼€å‘æµç¨‹"></a>3. å¼€å‘æµç¨‹</h2><h3 id="3-1-æ‹·è´æ¨¡å—-demo"><a href="#3-1-æ‹·è´æ¨¡å—-demo" class="headerlink" title="3.1 æ‹·è´æ¨¡å— demo"></a>3.1 æ‹·è´æ¨¡å— demo</h3><ul>
<li>copy æœ¬æ¨¡å—ï¼Œå¹¶é‡å‘½åæ¨¡å—å</li>
</ul>
<h3 id="3-2-ä¿®æ”¹é…ç½®-conf"><a href="#3-2-ä¿®æ”¹é…ç½®-conf" class="headerlink" title="3.2 ä¿®æ”¹é…ç½® conf"></a>3.2 ä¿®æ”¹é…ç½® conf</h3><ul>
<li>ä¿®æ”¹ conf/default.conf ä¸­ç”¨ä¸åˆ°çš„ rds ç›¸å…³å˜é‡</li>
<li>ä¿®æ”¹ conf/vars.conf ä¸­ç›¸å…³å˜é‡</li>
</ul>
<h3 id="3-3-å»ºè¡¨è¯­å¥"><a href="#3-3-å»ºè¡¨è¯­å¥" class="headerlink" title="3.3 å»ºè¡¨è¯­å¥"></a>3.3 å»ºè¡¨è¯­å¥</h3><p>æ ¹æ® create_table/create_table_e_coupon.sh æ ·ä¾‹å»ºè¡¨è„šæœ¬ï¼Œç¼–å†™å±äºä½ è‡ªå·±çš„å»ºè¡¨è„šæœ¬ </p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">[data_mining@emr-gw bigdata-offline-demo]$ ll create_table/</span><br><span class="line">total 8</span><br><span class="line">-rwxr-xr-x 1 data_mining hadoop 7946 Dec 13 14:30 create_table_e_coupon.sh</span><br></pre></td></tr></table></figure>
<h3 id="3-4-ä¸»è„šæœ¬"><a href="#3-4-ä¸»è„šæœ¬" class="headerlink" title="3.4 ä¸»è„šæœ¬"></a>3.4 ä¸»è„šæœ¬</h3><ul>
<li>ç¼–å†™ script ä¸‹ä½ çš„ä¸»è„šæœ¬</li>
<li>æ ¹æ® script/ods_dm_e_coupon.sh æ ·ä¾‹è„šæœ¬ï¼Œç¼–å†™å±äºä½ è‡ªå·±çš„ä¸»è„šæœ¬ </li>
</ul>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">[data_mining@emr-gw bigdata-offline-demo]$ ll script/</span><br><span class="line">total 144</span><br><span class="line">-rwxr-xr-x 1 data_mining hadoop   2753 Dec 15 16:58 ods_dm_e_coupon.sh</span><br></pre></td></tr></table></figure>
<blockquote>
<p>ä¸ç”¨æ‹‰å–æ•°æ®çš„ï¼Œåˆ™ä¸éœ€è¦è„šæœ¬å¼€å¤´çš„ source ${util_dir}/my_functions è¿™å¥ä»£ç ã€‚</p>
</blockquote>
<h3 id="3-5-è°ƒåº¦è„šæœ¬"><a href="#3-5-è°ƒåº¦è„šæœ¬" class="headerlink" title="3.5 è°ƒåº¦è„šæœ¬"></a>3.5 è°ƒåº¦è„šæœ¬</h3><ul>
<li>ç¼–å†™ crontab_job ä¸‹ä½ çš„è°ƒåº¦è„šæœ¬</li>
<li>ä»¿ç…§ crontab_job_ods_e_coupon.sh ç¼–å†™ä½ ä¸»è„šæœ¬å¯¹åº”çš„ è°ƒåº¦è„šæœ¬</li>
</ul>
<h3 id="3-6-å®šæ—¶ä»»åŠ¡"><a href="#3-6-å®šæ—¶ä»»åŠ¡" class="headerlink" title="3.6 å®šæ—¶ä»»åŠ¡"></a>3.6 å®šæ—¶ä»»åŠ¡</h3><p>åœ¨ linux crontab ä¸­ï¼Œå¢åŠ éœ€è¦å®šæ—¶å¯åŠ¨çš„ä½ çš„è°ƒåº¦è„šæœ¬ crontab_job_your_script.sh</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">[data_mining@emr-gw online]$ crontab -l</span><br><span class="line">10 02 * * * source /etc/bashrc; sh /home/data_mining/hero/online/bigdata-offline-demo/bigdata-offline-demo/crontab_job/crontab_job_ods_e_coupon.sh</span><br></pre></td></tr></table></figure>
<p>æ³¨ : å¦‚æœ‰å…¶ä»–é—®é¢˜ï¼Œå†å•†è®®</p>
<h2 id="Reference"><a href="#Reference" class="headerlink" title="Reference"></a>Reference</h2><ul>
<li><a href="https://github.com/blair101/bigdata/tree/master/bigdata-offline-demo" target="_blank" rel="external">blairâ€™s github bigdata_offline_demo</a></li>
</ul>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[MapReduce for Python]]></title>
      <url>http://iequa.com/2018/01/30/hadoop-mr-for-python/</url>
      <content type="html"><![CDATA[<p>æˆ‘ä»¬å¯ä»¥ç”¨ hadoop-streaming çš„æ–¹å¼ï¼Œé€šè¿‡ python ç­‰å…¶ä»–è¯­è¨€æ¥ç¼–å†™ MR ç¨‹åº.</p>
<a id="more"></a>
<h2 id="Mapé˜¶æ®µï¼šmapper-py"><a href="#Mapé˜¶æ®µï¼šmapper-py" class="headerlink" title="Mapé˜¶æ®µï¼šmapper.py"></a>Mapé˜¶æ®µï¼šmapper.py</h2><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment">#!/usr/bin/env python</span></span><br><span class="line"><span class="keyword">import</span> sys</span><br><span class="line"><span class="keyword">for</span> line <span class="keyword">in</span> sys.stdin:</span><br><span class="line">    line = line.strip()</span><br><span class="line">    words = line.split()</span><br><span class="line">    <span class="keyword">for</span> word <span class="keyword">in</span> words:</span><br><span class="line">        print(<span class="string">"%s"</span> % word)</span><br><span class="line">        </span><br><span class="line"><span class="comment"># è¿™é‡Œä»…ä»…æ˜¯ä¸€ä¸ªä¾‹å­ï¼Œåªè¾“å‡ºäº†ç¬¬ä¸€åˆ—</span></span><br></pre></td></tr></table></figure>
<blockquote>
<p>ä¸ºäº†æ˜¯è„šæœ¬å¯æ‰§è¡Œï¼Œå¢åŠ mapper.pyçš„å¯æ‰§è¡Œæƒé™</p>
</blockquote>
<p>å½“ç„¶ï¼Œ<code>Map</code>é˜¶æ®µï¼Œ ä½ ä¹Ÿå¯ä»¥ä¸ä½œå¤„ç†åŸæ ·è¾“å‡º: åªå†™ä¸€ä¸ª <code>cat</code></p>
<h2 id="Reduceé˜¶æ®µï¼šreducer-py"><a href="#Reduceé˜¶æ®µï¼šreducer-py" class="headerlink" title="Reduceé˜¶æ®µï¼šreducer.py"></a>Reduceé˜¶æ®µï¼šreducer.py</h2><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment">#!/usr/bin/env python</span></span><br><span class="line"><span class="comment"># -*- coding: utf-8 -*-</span></span><br><span class="line"><span class="comment"># Copyright 2013 x Inc. All Rights Reserved</span></span><br><span class="line"></span><br><span class="line">__author__ = <span class="string">'Blair Chan'</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> sys</span><br><span class="line"><span class="keyword">import</span> constant</span><br><span class="line"></span><br><span class="line"><span class="keyword">from</span> datetime <span class="keyword">import</span> datetime</span><br><span class="line"><span class="keyword">from</span> EsHelper <span class="keyword">import</span> EsHelper</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">insert_user_basic_consume_info</span><span class="params">(items,  esHelper)</span>:</span></span><br><span class="line"></span><br><span class="line">    basic_consume_info_doc = get_user_basic_consume_info_doc(items)</span><br><span class="line">    <span class="keyword">if</span> basic_consume_info_doc <span class="keyword">is</span> <span class="keyword">None</span>:</span><br><span class="line">        <span class="keyword">return</span></span><br><span class="line">        </span><br><span class="line">    _id = basic_consume_info_doc[<span class="string">'mobile_number'</span>]</span><br><span class="line">    basic_consume_info_index = <span class="string">"basic_consume_info_index"</span></span><br><span class="line"></span><br><span class="line">    esHelper.index(index=basic_consume_info_index, doc_type=basic_consume_info_index, id=_id, data=basic_consume_info_doc)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">get_user_basic_consume_info_doc</span><span class="params">(items)</span>:</span></span><br><span class="line">    doc = <span class="keyword">None</span></span><br><span class="line">    <span class="keyword">try</span>:</span><br><span class="line">        doc = &#123;</span><br><span class="line">            <span class="string">"mobile_number"</span>: items[<span class="number">0</span>],</span><br><span class="line">            <span class="string">"first_consume_time"</span>: items[<span class="number">1</span>]</span><br><span class="line">        &#125;</span><br><span class="line">    <span class="keyword">except</span> BaseException <span class="keyword">as</span> e:</span><br><span class="line">        print(<span class="string">"Exist Exception : %s About get_user_basic_consume_info_doc, mobile_number: %s"</span> % (str(e), mobile_number))</span><br><span class="line">    <span class="keyword">finally</span>:</span><br><span class="line">        <span class="keyword">pass</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> doc</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">main</span><span class="params">()</span>:</span></span><br><span class="line"></span><br><span class="line">    esHelper = EsHelper(constant.ES_URL)</span><br><span class="line">    success_sum = <span class="number">0</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> line <span class="keyword">in</span> sys.stdin:</span><br><span class="line"></span><br><span class="line">        line = line.strip()</span><br><span class="line">        items = line.split(<span class="string">'\001'</span>)</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> len(items) &lt; <span class="number">2</span>:</span><br><span class="line">            <span class="keyword">continue</span></span><br><span class="line"></span><br><span class="line">        insert_user_basic_consume_info(items, esHelper)</span><br><span class="line">        success_sum = success_sum + <span class="number">1</span></span><br><span class="line"></span><br><span class="line">    print(<span class="string">"Success:%d"</span> % success_sum)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">'__main__'</span>:</span><br><span class="line">    main()</span><br></pre></td></tr></table></figure>
<h2 id="æœ¬åœ°æµ‹è¯•"><a href="#æœ¬åœ°æµ‹è¯•" class="headerlink" title="æœ¬åœ°æµ‹è¯•"></a>æœ¬åœ°æµ‹è¯•</h2><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">cat data.txt | python mapper.py | sort | reducer.py</span><br></pre></td></tr></table></figure>
<h2 id="æäº¤Hadoop"><a href="#æäº¤Hadoop" class="headerlink" title="æäº¤Hadoop"></a>æäº¤Hadoop</h2><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="meta">#!/bin/bash</span></span><br><span class="line"><span class="built_in">cd</span> `dirname <span class="variable">$0</span>`/.. &amp;&amp; wk_dir=`<span class="built_in">pwd</span>` &amp;&amp; <span class="built_in">cd</span> -</span><br><span class="line"><span class="built_in">source</span> <span class="variable">$&#123;wk_dir&#125;</span>/util/env</span><br><span class="line"></span><br><span class="line">input_file=<span class="string">"<span class="variable">$&#123;OSS_URL&#125;</span>/<span class="variable">$&#123;mds_hive_dir&#125;</span>/<span class="variable">$&#123;table_user_basic_consume_info&#125;</span>/*"</span></span><br><span class="line">output_file=<span class="string">"<span class="variable">$&#123;OSS_URL&#125;</span>/<span class="variable">$&#123;tmp_hive_dir&#125;</span>/<span class="variable">$&#123;table_user_basic_consume_info&#125;</span>/dt=<span class="variable">$&#123;d1&#125;</span>"</span></span><br><span class="line">reducer=<span class="string">"reducer.py"</span></span><br><span class="line">reducer_depend1=<span class="string">"constant.py"</span></span><br><span class="line">reducer_depend2=<span class="string">"EsHelper.py"</span></span><br><span class="line">archive=<span class="string">"<span class="variable">$&#123;OSS_URL&#125;</span>/share/packages/elasticsearch-5.0.0.tar.gz#elasticsearch-5.0.0"</span> </span><br><span class="line"><span class="comment">## archive è¡¨ç¤ºçš„ä¾èµ–åŒ…éœ€è¦ä¸Šä¼ åˆ° hdfs ä¸Šï¼Œ#åé¢è¡¨ç¤ºçš„æ˜¯è§£å‹åçš„ç›®å½•å</span></span><br><span class="line"></span><br><span class="line"><span class="variable">$&#123;HADOOP&#125;</span> fs -rmr <span class="variable">$&#123;output_file&#125;</span></span><br><span class="line"></span><br><span class="line">cmd=<span class="string">"<span class="variable">$&#123;HADOOP&#125;</span> jar <span class="variable">$&#123;hadoop_streaming_jar&#125;</span></span><br><span class="line">     -D mapred.map.tasks=100</span><br><span class="line">     -D mapred.reduce.tasks=100</span><br><span class="line">     -D stream.map.input.ignoreKey=true</span><br><span class="line">     -input <span class="variable">$&#123;input_file&#125;</span></span><br><span class="line">     -output <span class="variable">$&#123;output_file&#125;</span></span><br><span class="line">     -file <span class="variable">$&#123;reducer&#125;</span></span><br><span class="line">     -file <span class="variable">$&#123;reducer_depend1&#125;</span></span><br><span class="line">     -file <span class="variable">$&#123;reducer_depend2&#125;</span></span><br><span class="line">     -mapper cat</span><br><span class="line">     -reducer <span class="variable">$&#123;reducer&#125;</span></span><br><span class="line">     -cacheArchive <span class="variable">$&#123;archive&#125;</span>"</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">echo</span>_ex <span class="string">"<span class="variable">$cmd</span>"</span></span><br><span class="line"><span class="variable">$cmd</span></span><br><span class="line">check_success</span><br></pre></td></tr></table></figure>
<blockquote>
<p>hadoop_streaming_jar=â€/home/data_mining/share/packages/hadoop2/hadoop-streaming-2.7.2.jarâ€</p>
<p>ä»¥ä¸Šä»…ä»…æ˜¯ä¸€ä¸ªä¾‹å­ï¼Œè™½ç„¶æ’å…¥ ES å‡ºç°å¼‚å¸¸ï¼Œä½†æœ¬ç¯‡ä»…ä»…è¯´æ˜å¦‚ä½•ç”¨ python å†™ mapreduce ç¨‹åº</p>
</blockquote>
<h2 id="Reference"><a href="#Reference" class="headerlink" title="Reference"></a>Reference</h2><ul>
<li><a href="http://www.cnblogs.com/kaituorensheng/p/3826114.html" target="_blank" rel="external">ç”¨pythonå†™MapReduceå‡½æ•°â€”â€”ä»¥WordCountä¸ºä¾‹</a></li>
</ul>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[ä¸€èˆ¬è‹±æ–‡è½åŠ›ç·´ç¿’æ–¹æ³•]]></title>
      <url>http://iequa.com/2018/01/28/english-cindy-listening-duoyi/</url>
      <content type="html"><![CDATA[<p>å¤šç›Š ä»¥åŠ ä¸€èˆ¬è‹±æ–‡è½åŠ›åŠ å¼· | å’ŒCindyå­¸è‹±æ–‡ ç¬”è®°</p>
<a id="more"></a>
<h2 id="ç·´ç¿’è½åŠ›"><a href="#ç·´ç¿’è½åŠ›" class="headerlink" title="ç·´ç¿’è½åŠ›"></a>ç·´ç¿’è½åŠ›</h2><p>Useful Websites</p>
<ul>
<li><p><a href="http://www.newsinlevels.com/" target="_blank" rel="external">News In Levels</a></p>
</li>
<li><p><a href="https://umano.me/" target="_blank" rel="external">Umano</a></p>
</li>
<li><p><a href="http://lyricstraining.com/" target="_blank" rel="external">Lyrics Training</a></p>
</li>
</ul>
<p>Listen to Music</p>
<ul>
<li><p><a href="http://lyricstraining.com/" target="_blank" rel="external">Lyrics Training</a></p>
</li>
<li><p><a href="https://www.youtube.com/results?search_query=Taylor+Swift" target="_blank" rel="external">Taylor Swiftã€Miley Cyrusã€Blake Sheltonâ€¦</a></p>
</li>
</ul>
<p>Sitcom and Movies</p>
<ul>
<li><p><a href="http://www.livesinabox.com/friends/scripts.shtml" target="_blank" rel="external">Friends</a></p>
</li>
<li><p><a href="https://www.springfieldspringfield.co.uk/episode_scripts.php?tv-show=how-i-met-your-mother" target="_blank" rel="external">How I met your Mother</a></p>
</li>
<li><p><a href="http://www.imsdb.com/scripts/Titanic.html" target="_blank" rel="external">Titanic</a></p>
</li>
<li><p><a href="https://www.springfieldspringfield.co.uk/movie_script.php?movie=the-hobbit-an-unexpected-journey" target="_blank" rel="external">Hobbit</a></p>
</li>
</ul>
<h2 id="Reference"><a href="#Reference" class="headerlink" title="Reference"></a>Reference</h2><ul>
<li><a href="https://www.youtube.com/watch?v=D8gdg1zdM7U" target="_blank" rel="external">å¤šç›Š è‹±æ–‡è½åŠ›åŠ å¼· å’ŒCindyå­¸è‹±æ–‡</a></li>
</ul>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[Python copy & deepcopy]]></title>
      <url>http://iequa.com/2018/01/24/py-language-13-copy/</url>
      <content type="html"><![CDATA[<p>å¯¹è±¡çš„èµ‹å€¼ï¼Œæ‹·è´ï¼ˆæ·±/æµ…æ‹·è´ï¼‰ä¹‹é—´æ˜¯æœ‰å·®å¼‚çš„ï¼Œå¦‚æœä½¿ç”¨ä¸å½“ï¼Œå¯èƒ½äº§ç”Ÿæ„å¤–çš„ç»“æœ.</p>
<a id="more"></a>
<h2 id="id"><a href="#id" class="headerlink" title="id"></a>id</h2><p>ä»€ä¹ˆæ˜¯<code>id</code>ï¼Ÿä¸€ä¸ªå¯¹è±¡çš„<code>id</code>å€¼åœ¨<code>CPython</code>è§£é‡Šå™¨é‡Œå°±ä»£è¡¨å®ƒåœ¨å†…å­˜ä¸­çš„`åœ°å€</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> copy</span><br><span class="line">a=[<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>]</span><br><span class="line">b=a</span><br><span class="line"></span><br><span class="line">print(id(a))</span><br><span class="line"></span><br><span class="line">print(id(b))</span><br><span class="line"></span><br><span class="line">print(id(a)==id(b))    <span class="comment">#é™„å€¼åï¼Œä¸¤è€…çš„idç›¸åŒï¼Œä¸ºtrueã€‚</span></span><br><span class="line"></span><br><span class="line">b[<span class="number">0</span>]=<span class="number">222222</span>  <span class="comment"># æ­¤æ—¶ï¼Œæ”¹å˜bçš„ç¬¬ä¸€ä¸ªå€¼ï¼Œä¹Ÿä¼šå¯¼è‡´aå€¼æ”¹å˜ã€‚</span></span><br><span class="line">print(a,b)</span><br></pre></td></tr></table></figure>
<pre><code>4449594888
4449594888
True
[222222, 2, 3] [222222, 2, 3]
</code></pre><h2 id="æµ…æ‹·è´"><a href="#æµ…æ‹·è´" class="headerlink" title="æµ…æ‹·è´"></a>æµ…æ‹·è´</h2><p>å½“ä½¿ç”¨æµ…æ‹·è´æ—¶ï¼Œpython åªæ˜¯æ‹·è´äº†æœ€å¤–å›´çš„å¯¹è±¡æœ¬èº«ï¼Œå†…éƒ¨çš„å…ƒç´ éƒ½åªæ˜¯æ‹·è´äº†ä¸€ä¸ªå¼•ç”¨è€Œå·²</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> copy</span><br><span class="line"></span><br><span class="line">a=[<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>]</span><br><span class="line">c=copy.copy(a)  <span class="comment">#æ‹·è´äº†açš„å¤–å›´å¯¹è±¡æœ¬èº«,</span></span><br><span class="line">print(id(c))</span><br><span class="line"></span><br><span class="line">print(id(a)==id(c))  <span class="comment">#id æ”¹å˜ ä¸ºfalse</span></span><br><span class="line"></span><br><span class="line">c[<span class="number">1</span>]=<span class="number">22222</span>   <span class="comment">#æ­¤æ—¶ï¼Œæˆ‘å»æ”¹å˜cçš„ç¬¬äºŒä¸ªå€¼æ—¶ï¼Œaä¸ä¼šè¢«æ”¹å˜ã€‚</span></span><br><span class="line">print(a,c)</span><br><span class="line"><span class="comment"># [1, 2, 3] [1, 22222, 3] #aå€¼ä¸å˜,cçš„ç¬¬äºŒä¸ªå€¼å˜äº†ï¼Œè¿™å°±æ˜¯copyå’Œâ€˜==â€™çš„ä¸åŒ</span></span><br></pre></td></tr></table></figure>
<pre><code>4449594440
False
[1, 2, 3] [1, 22222, 3]
</code></pre><h2 id="æ·±æ‹·è´"><a href="#æ·±æ‹·è´" class="headerlink" title="æ·±æ‹·è´"></a>æ·±æ‹·è´</h2><p><code>deepcopy</code> å¯¹å¤–å›´å’Œå†…éƒ¨å…ƒç´ éƒ½è¿›è¡Œäº†æ‹·è´å¯¹è±¡æœ¬èº«ï¼Œè€Œä¸æ˜¯å¯¹è±¡çš„å¼•ç”¨</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment">#copy.copy()</span></span><br><span class="line"></span><br><span class="line">a=[<span class="number">1</span>,<span class="number">2</span>,[<span class="number">3</span>,<span class="number">4</span>]]  <span class="comment">#ç¬¬ä¸‰ä¸ªå€¼ä¸ºåˆ—è¡¨[3,4],å³å†…éƒ¨å…ƒç´ </span></span><br><span class="line">d=copy.copy(a) <span class="comment">#æµ…æ‹·è´aä¸­çš„[3ï¼Œ4]å†…éƒ¨å…ƒç´ çš„å¼•ç”¨ï¼Œéå†…éƒ¨å…ƒç´ å¯¹è±¡çš„æœ¬èº«</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>id(a)==id(d)</span><br><span class="line"><span class="keyword">False</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>id(a[<span class="number">2</span>])==id(d[<span class="number">2</span>])</span><br><span class="line"><span class="keyword">True</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>a[<span class="number">2</span>][<span class="number">0</span>]=<span class="number">3333</span>  <span class="comment">#æ”¹å˜aä¸­å†…éƒ¨åŸå±åˆ—è¡¨ä¸­çš„ç¬¬ä¸€ä¸ªå€¼</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>d             <span class="comment">#è¿™æ—¶dä¸­çš„åˆ—è¡¨å…ƒç´ ä¹Ÿä¼šè¢«æ”¹å˜</span></span><br><span class="line">[<span class="number">1</span>, <span class="number">2</span>, [<span class="number">3333</span>, <span class="number">4</span>]]</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">#copy.deepcopy()</span></span><br><span class="line"></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>e=copy.deepcopy(a) <span class="comment">#eä¸ºæ·±æ‹·è´äº†a</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>a[<span class="number">2</span>][<span class="number">0</span>]=<span class="number">333</span> <span class="comment">#æ”¹å˜aä¸­å†…éƒ¨å…ƒç´ åˆ—è¡¨ç¬¬ä¸€ä¸ªçš„å€¼</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>e</span><br><span class="line">[<span class="number">1</span>, <span class="number">2</span>, [<span class="number">3333</span>, <span class="number">4</span>]] <span class="comment">#å› ä¸ºæ—¶æ·±æ‹·è´ï¼Œè¿™æ—¶eä¸­å†…éƒ¨å…ƒç´ []åˆ—è¡¨çš„å€¼ä¸ä¼šå› ä¸ºaä¸­çš„å€¼æ”¹å˜è€Œæ”¹å˜</span></span><br><span class="line">&gt;&gt;&gt;</span><br></pre></td></tr></table></figure>
<h2 id="Reference"><a href="#Reference" class="headerlink" title="Reference"></a>Reference</h2><ul>
<li><a href="https://docs.python.org/" target="_blank" rel="external">docs.python.org</a></li>
<li><a href="https://morvanzhou.github.io/" target="_blank" rel="external">python morvanzhou</a></li>
<li><a href="https://www.liaoxuefeng.com/" target="_blank" rel="external">python liaoxuefeng</a></li>
</ul>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[Python try â€¦ except â€¦ as â€¦]]></title>
      <url>http://iequa.com/2018/01/24/py-language-12-try-exception/</url>
      <content type="html"><![CDATA[<p>try:, except â€¦ as â€¦:</p>
<a id="more"></a>
<h2 id="é”™è¯¯å¤„ç†"><a href="#é”™è¯¯å¤„ç†" class="headerlink" title="é”™è¯¯å¤„ç†"></a>é”™è¯¯å¤„ç†</h2><p>è¾“å‡ºé”™è¯¯ï¼š<code>try:, except ... as ...</code>: çœ‹å¦‚ä¸‹ä»£ç </p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">try</span>:</span><br><span class="line">    file=open(<span class="string">'eeee.txt'</span>,<span class="string">'r'</span>)  <span class="comment">#ä¼šæŠ¥é”™çš„ä»£ç </span></span><br><span class="line"><span class="keyword">except</span> Exception <span class="keyword">as</span> e:  <span class="comment"># å°†æŠ¥é”™å­˜å‚¨åœ¨ e ä¸­</span></span><br><span class="line">    print(e)</span><br></pre></td></tr></table></figure>
<pre><code>[Errno 2] No such file or directory: &apos;eeee.txt&apos;
</code></pre><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">try</span>:</span><br><span class="line">    file=open(<span class="string">'eeee.txt'</span>,<span class="string">'r+'</span>)</span><br><span class="line"><span class="keyword">except</span> Exception <span class="keyword">as</span> e:</span><br><span class="line">    print(e)</span><br><span class="line">    response = input(<span class="string">'do you want to create a new file:'</span>)</span><br><span class="line">    <span class="keyword">if</span> response==<span class="string">'y'</span>:</span><br><span class="line">        file=open(<span class="string">'eeee.txt'</span>,<span class="string">'w'</span>)</span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        <span class="keyword">pass</span></span><br><span class="line"><span class="keyword">else</span>:</span><br><span class="line">    file.write(<span class="string">'ssss'</span>)</span><br><span class="line">    file.close()</span><br></pre></td></tr></table></figure>
<pre><code>[Errno 2] No such file or directory: &apos;eeee.txt&apos;
do you want to create a new file:y
</code></pre><h2 id="Reference"><a href="#Reference" class="headerlink" title="Reference"></a>Reference</h2><ul>
<li><a href="https://docs.python.org/" target="_blank" rel="external">docs.python.org</a></li>
<li><a href="https://morvanzhou.github.io/" target="_blank" rel="external">python morvanzhou</a></li>
<li><a href="https://www.liaoxuefeng.com/" target="_blank" rel="external">python liaoxuefeng</a></li>
</ul>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[Python å‡½æ•°å¼ç¼–ç¨‹ zipã€lambdaã€map...]]></title>
      <url>http://iequa.com/2018/01/24/py-language-11-zip-lambda-map/</url>
      <content type="html"><![CDATA[<p>zipã€lambdaã€mapâ€¦</p>
<a id="more"></a>
<h2 id="zip"><a href="#zip" class="headerlink" title="zip"></a>zip</h2><p><code>zip</code> å‡½æ•°æ¥å—ä»»æ„å¤šä¸ªï¼ˆåŒ…æ‹¬0ä¸ªå’Œ1ä¸ªï¼‰åºåˆ—ä½œä¸ºå‚æ•°ï¼Œåˆå¹¶åè¿”å›ä¸€ä¸ªtupleåˆ—è¡¨</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">a=[<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>]</span><br><span class="line">b=[<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>]</span><br><span class="line">ab=zip(a,b)</span><br><span class="line">print(list(ab))  <span class="comment">#éœ€è¦åŠ listæ¥å¯è§†åŒ–è¿™ä¸ªåŠŸèƒ½</span></span><br></pre></td></tr></table></figure>
<pre><code>[(1, 4), (2, 5), (3, 6)]
</code></pre><figure class="highlight python"><table><tr><td class="code"><pre><span class="line">a=[<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>]</span><br><span class="line">b=[<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>]</span><br><span class="line">ab=zip(a,b)</span><br><span class="line"></span><br><span class="line">print(list(ab))</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> i,j <span class="keyword">in</span> zip(a,b):</span><br><span class="line">     print(i/<span class="number">2</span>,j*<span class="number">2</span>)</span><br></pre></td></tr></table></figure>
<pre><code>[(1, 4), (2, 5), (3, 6)]
0.5 8
1.0 10
1.5 12
</code></pre><h2 id="lambda"><a href="#lambda" class="headerlink" title="lambda"></a>lambda</h2><p><code>lambda</code> å®šä¹‰ä¸€ä¸ªç®€å•çš„å‡½æ•°ï¼Œå®ç°ç®€åŒ–ä»£ç çš„åŠŸèƒ½ï¼Œçœ‹ä»£ç ä¼šæ›´å¥½ç†è§£ã€‚</p>
<p><code>fun = lambda x,y : x+y</code>, å†’å·å‰çš„<code>x</code>,<code>y</code>ä¸ºè‡ªå˜é‡ï¼Œå†’å·å<code>x+y</code>ä¸ºå…·ä½“è¿ç®—</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">fun= <span class="keyword">lambda</span> x,y:x+y</span><br><span class="line">x=int(input(<span class="string">'x='</span>))    <span class="comment">#è¿™é‡Œè¦å®šä¹‰intæ•´æ•°ï¼Œå¦åˆ™ä¼šé»˜è®¤ä¸ºå­—ç¬¦ä¸²</span></span><br><span class="line">y=int(input(<span class="string">'y='</span>))</span><br><span class="line">print(fun(x,y))</span><br></pre></td></tr></table></figure>
<pre><code>x=4
y=6
10
</code></pre><h2 id="map"><a href="#map" class="headerlink" title="map"></a>map</h2><p><code>map</code> æ˜¯æŠŠ <code>å‡½æ•°</code> å’Œ <code>å‚æ•°</code> ç»‘å®šåœ¨ä¸€èµ·.</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">fun</span><span class="params">(x,y)</span>:</span></span><br><span class="line">	<span class="keyword">return</span> (x+y)</span><br><span class="line"></span><br><span class="line">print(list(map(fun,[<span class="number">1</span>],[<span class="number">2</span>])))</span><br><span class="line"></span><br><span class="line">list(map(fun,[<span class="number">1</span>,<span class="number">2</span>],[<span class="number">3</span>,<span class="number">4</span>]))</span><br></pre></td></tr></table></figure>
<pre><code>[3]
[4, 6]
</code></pre><h2 id="Reference"><a href="#Reference" class="headerlink" title="Reference"></a>Reference</h2><ul>
<li><a href="https://docs.python.org/" target="_blank" rel="external">docs.python.org</a></li>
<li><a href="https://morvanzhou.github.io/" target="_blank" rel="external">python morvanzhou</a></li>
<li><a href="https://www.liaoxuefeng.com/" target="_blank" rel="external">python liaoxuefeng</a></li>
</ul>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[Matplotlib Bar]]></title>
      <url>http://iequa.com/2018/01/24/py-matplotlib-9-bar/</url>
      <content type="html"><![CDATA[<p>ä¸Šç¯‡å­¦ä¹ äº†å¦‚ä½• plot Scatterï¼Œä»Šå¤©æˆ‘ä»¬è®²è¿°å¦‚ä½• plot <code>Bar</code></p>
<a id="more"></a>
<p>ä»Šæ—¥ç›®æ ‡ : æŸ±çŠ¶å›¾åˆ†æˆä¸Šä¸‹ä¸¤éƒ¨åˆ†ï¼Œæ¯ä¸€ä¸ªæŸ±ä½“ä¸Šéƒ½æœ‰ç›¸åº”çš„æ•°å€¼æ ‡æ³¨ï¼Œå¹¶ä¸”å–æ¶ˆåæ ‡è½´çš„æ˜¾ç¤º.</p>
<h2 id="ç”ŸæˆåŸºæœ¬å›¾å½¢"><a href="#ç”ŸæˆåŸºæœ¬å›¾å½¢" class="headerlink" title="ç”ŸæˆåŸºæœ¬å›¾å½¢"></a>ç”ŸæˆåŸºæœ¬å›¾å½¢</h2><p>å‘ä¸Šå‘ä¸‹ç”Ÿæˆ<code>12ä¸ªæ•°æ®</code>ï¼Œ<code>X</code> ä¸º [0,11] çš„æ•´æ•° ï¼Œ<code>Y</code>æ˜¯å‡åŒ€åˆ†å¸ƒçš„éšæœºæ•°æ®ã€‚ ä½¿ç”¨çš„å‡½æ•°æ˜¯<code>plt.bar</code>ï¼Œå‚æ•°ä¸º<code>X</code>å’Œ<code>Y</code>ï¼š</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"></span><br><span class="line">n = <span class="number">12</span></span><br><span class="line"></span><br><span class="line">X = np.arange(n)</span><br><span class="line"></span><br><span class="line">Y1 = (<span class="number">1</span> - X / float(n)) * np.random.uniform(<span class="number">0.5</span>, <span class="number">1.0</span>, n)</span><br><span class="line">Y2 = (<span class="number">1</span> - X / float(n)) * np.random.uniform(<span class="number">0.5</span>, <span class="number">1.0</span>, n)</span><br><span class="line"></span><br><span class="line">plt.bar(X, +Y1)</span><br><span class="line">plt.bar(X, -Y2)</span><br><span class="line"></span><br><span class="line">plt.xlim(<span class="number">-.5</span>, n)</span><br><span class="line">plt.xticks(())</span><br><span class="line"></span><br><span class="line">plt.ylim(<span class="number">-1.25</span>, <span class="number">1.25</span>)</span><br><span class="line">plt.yticks(())</span><br><span class="line"></span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure>
<div class="limg1"><br><img src="/images/python/matplotlib-9-bar-1-output_1_0.png" height="100" width="550"><br></div>

<h2 id="åŠ é¢œè‰²å’Œæ•°æ®"><a href="#åŠ é¢œè‰²å’Œæ•°æ®" class="headerlink" title="åŠ é¢œè‰²å’Œæ•°æ®"></a>åŠ é¢œè‰²å’Œæ•°æ®</h2><p>ç”¨<code>facecolor</code>è®¾ç½®ä¸»ä½“é¢œè‰²ï¼Œ<code>edgecolor</code>è®¾ç½®è¾¹æ¡†é¢œè‰²ä¸ºç™½è‰²ï¼Œ</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">plt.bar(X, +Y1, facecolor=<span class="string">'#9999ff'</span>, edgecolor=<span class="string">'white'</span>)</span><br><span class="line">plt.bar(X, -Y2, facecolor=<span class="string">'#ff9999'</span>, edgecolor=<span class="string">'white'</span>)</span><br><span class="line"></span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure>
<div class="limg1"><br><img src="/images/python/matplotlib-9-bar-2-output_3_0.png" height="100" width="550"><br></div>

<p>æ¥ä¸‹æ¥æˆ‘ä»¬ç”¨å‡½æ•°<code>plt.text</code>åˆ†åˆ«åœ¨æŸ±ä½“ä¸Šæ–¹ï¼ˆä¸‹æ–¹ï¼‰åŠ ä¸Šæ•°å€¼ï¼Œç”¨<code>%.2f</code>ä¿ç•™ä¸¤ä½å°æ•°ï¼Œæ¨ªå‘å±…ä¸­å¯¹é½<code>ha=&#39;center&#39;</code>ï¼Œçºµå‘åº•éƒ¨ï¼ˆé¡¶éƒ¨ï¼‰å¯¹é½<code>va=&#39;bottom&#39;</code>ï¼š</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">plt.bar(X, +Y1, facecolor=<span class="string">'#9999ff'</span>, edgecolor=<span class="string">'white'</span>)</span><br><span class="line">plt.bar(X, -Y2, facecolor=<span class="string">'#ff9999'</span>, edgecolor=<span class="string">'white'</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> x, y <span class="keyword">in</span> zip(X, Y1):</span><br><span class="line">    <span class="comment"># ha: horizontal alignment</span></span><br><span class="line">    <span class="comment"># va: vertical alignment</span></span><br><span class="line">    plt.text(x + <span class="number">0.4</span>, y + <span class="number">0.05</span>, <span class="string">'%.2f'</span> % y, ha=<span class="string">'center'</span>, va=<span class="string">'bottom'</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> x, y <span class="keyword">in</span> zip(X, Y2):</span><br><span class="line">    <span class="comment"># ha: horizontal alignment</span></span><br><span class="line">    <span class="comment"># va: vertical alignment</span></span><br><span class="line">    plt.text(x + <span class="number">0.4</span>, -y - <span class="number">0.05</span>, <span class="string">'%.2f'</span> % y, ha=<span class="string">'center'</span>, va=<span class="string">'top'</span>)</span><br><span class="line">    </span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure>
<div class="limg1"><br><img src="/images/python/matplotlib-9-bar-3-output_5_0.png" height="100" width="550"><br></div>

<h2 id="Reference"><a href="#Reference" class="headerlink" title="Reference"></a>Reference</h2><ul>
<li><a href="https://matplotlib.org/" target="_blank" rel="external">matplotlib.org</a></li>
<li><a href="https://matplotlib.org/contents.html" target="_blank" rel="external">matplotlib docs</a></li>
<li><a href="https://morvanzhou.github.io" target="_blank" rel="external">morvanzhou</a></li>
</ul>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[Matplotlib Scatter]]></title>
      <url>http://iequa.com/2018/01/24/py-matplotlib-8-scatter/</url>
      <content type="html"><![CDATA[<p>ä¸Šç¯‡å­¦ä¹ äº†å¦‚ä½• plot çº¿ï¼Œä»Šå¤©å­¦ä¹ å¦‚ä½• plot <code>Scatter</code> æ•£ç‚¹å›¾</p>
<a id="more"></a>
<p>å¼•å…¥æ¨¡å—<code>numpy</code>ç”¨æ¥äº§ç”Ÿä¸€äº›éšæœºæ•°æ®ã€‚ç”Ÿæˆ<code>1024</code>ä¸ªå‘ˆæ ‡å‡†æ­£æ€åˆ†å¸ƒçš„äºŒç»´æ•°æ®ç»„ (å¹³å‡æ•°æ˜¯<code>0</code>ï¼Œæ–¹å·®ä¸º<code>1</code>) ä½œä¸ºä¸€ä¸ªæ•°æ®é›†ï¼Œå¹¶å›¾åƒåŒ–è¿™ä¸ªæ•°æ®é›†ã€‚æ¯ä¸€ä¸ªç‚¹çš„é¢œè‰²å€¼ç”¨<code>T</code>æ¥è¡¨ç¤ºï¼š</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"></span><br><span class="line">n = <span class="number">1024</span>    <span class="comment"># data size</span></span><br><span class="line"></span><br><span class="line">X = np.random.normal(<span class="number">0</span>, <span class="number">1</span>, n) <span class="comment"># æ¯ä¸€ä¸ªç‚¹çš„Xå€¼</span></span><br><span class="line">Y = np.random.normal(<span class="number">0</span>, <span class="number">1</span>, n) <span class="comment"># æ¯ä¸€ä¸ªç‚¹çš„Yå€¼</span></span><br><span class="line"></span><br><span class="line">T = np.arctan2(Y,X) <span class="comment"># for color value</span></span><br></pre></td></tr></table></figure>
<p>æ•°æ®é›†ç”Ÿæˆå®Œæ¯•ï¼Œç°åœ¨æ¥ç”¨ <code>scatter</code> <code>plot</code> è¿™ä¸ªç‚¹é›†</p>
<p>è¾“å…¥<code>X</code>å’Œ<code>Y</code>ä½œä¸ºlocationï¼Œ<code>size=75</code>ï¼Œé¢œè‰²ä¸º<code>T</code>ï¼Œ<code>color map</code> ç”¨é»˜è®¤å€¼ï¼Œé€æ˜åº¦<code>alpha</code> ä¸º 50%ã€‚ xè½´æ˜¾ç¤ºèŒƒå›´å®šä½(-1.5ï¼Œ1.5)ï¼Œå¹¶ç”¨<code>xtick()</code> å‡½æ•°æ¥éšè—<code>x</code>åæ ‡è½´ï¼Œ<code>y</code>è½´åŒç†ï¼š</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">plt.scatter(X, Y, s=<span class="number">75</span>, c=T, alpha=<span class="number">.5</span>)</span><br><span class="line"></span><br><span class="line">plt.xlim(<span class="number">-1.5</span>, <span class="number">1.5</span>)</span><br><span class="line">plt.xticks(())  <span class="comment"># ignore xticks</span></span><br><span class="line">plt.ylim(<span class="number">-1.5</span>, <span class="number">1.5</span>)</span><br><span class="line">plt.yticks(())  <span class="comment"># ignore yticks</span></span><br><span class="line"></span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure>
<div class="limg1"><br><img src="/images/python/matplotlib-8-scatter-1.png" height="100" width="700"><br></div>

<h2 id="Reference"><a href="#Reference" class="headerlink" title="Reference"></a>Reference</h2><ul>
<li><a href="https://matplotlib.org/" target="_blank" rel="external">matplotlib.org</a></li>
<li><a href="https://matplotlib.org/contents.html" target="_blank" rel="external">matplotlib docs</a></li>
<li><a href="https://morvanzhou.github.io" target="_blank" rel="external">morvanzhou</a></li>
</ul>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[Matplotlib Tick bbox]]></title>
      <url>http://iequa.com/2018/01/23/py-matplotlib-7-tick/</url>
      <content type="html"><![CDATA[<p>å›¾ä¸­çš„å†…å®¹è¾ƒå¤šï¼Œå¯é€šè¿‡è®¾ç½®ç›¸å…³å†…å®¹çš„<code>é€æ˜åº¦</code>æ¥ä½¿å›¾ç‰‡æ›´æ˜“äºè§‚å¯Ÿï¼Œä¹Ÿå³æ˜¯æœ¬èŠ‚ä¸­çš„<code>bbox</code>å‚æ•°è®¾ç½®æ¥è°ƒèŠ‚å›¾åƒä¿¡æ¯.</p>
<a id="more"></a>
<h2 id="ç”Ÿæˆå›¾å½¢"><a href="#ç”Ÿæˆå›¾å½¢" class="headerlink" title="ç”Ÿæˆå›¾å½¢"></a>ç”Ÿæˆå›¾å½¢</h2><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"></span><br><span class="line">x = np.linspace(<span class="number">-3</span>, <span class="number">3</span>, <span class="number">50</span>)</span><br><span class="line">y = <span class="number">0.1</span>*x</span><br><span class="line"></span><br><span class="line">plt.figure()</span><br><span class="line"><span class="comment"># åœ¨ plt 2.0.2 æˆ–æ›´é«˜çš„ç‰ˆæœ¬ä¸­, è®¾ç½® zorder ç»™ plot åœ¨ z è½´æ–¹å‘æ’åº</span></span><br><span class="line">plt.plot(x, y, linewidth=<span class="number">10</span>, zorder=<span class="number">1</span>)</span><br><span class="line">plt.ylim(<span class="number">-2</span>, <span class="number">2</span>)</span><br><span class="line"></span><br><span class="line">ax = plt.gca()</span><br><span class="line"></span><br><span class="line">ax.spines[<span class="string">'right'</span>].set_color(<span class="string">'none'</span>)</span><br><span class="line">ax.spines[<span class="string">'top'</span>].set_color(<span class="string">'none'</span>)</span><br><span class="line"></span><br><span class="line">ax.xaxis.set_ticks_position(<span class="string">'bottom'</span>)</span><br><span class="line">ax.spines[<span class="string">'bottom'</span>].set_position((<span class="string">'data'</span>, <span class="number">0</span>))</span><br><span class="line"></span><br><span class="line">ax.yaxis.set_ticks_position(<span class="string">'left'</span>)</span><br><span class="line">ax.spines[<span class="string">'left'</span>].set_position((<span class="string">'data'</span>, <span class="number">0</span>))</span><br><span class="line"></span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure>
<div class="limg1"><br><img src="/images/python/matplotlib-7-tick-output_1_0.png" height="100" width="700"><br></div>

<h2 id="è°ƒæ•´åæ ‡-bbox"><a href="#è°ƒæ•´åæ ‡-bbox" class="headerlink" title="è°ƒæ•´åæ ‡ bbox"></a>è°ƒæ•´åæ ‡ bbox</h2><p>ç„¶åå¯¹è¢«é®æŒ¡çš„å›¾åƒè°ƒèŠ‚ç›¸å…³é€æ˜åº¦ï¼Œæœ¬ä¾‹ä¸­è®¾ç½® xè½´ å’Œ yè½´ çš„åˆ»åº¦æ•°å­—è¿›è¡Œé€æ˜åº¦è®¾ç½®</p>
<p>å…¶ä¸­<code>label.set_fontsize(12)</code>é‡æ–°è°ƒèŠ‚å­—ä½“å¤§å°ï¼Œ<code>bbox</code>è®¾ç½®ç›®çš„å†…å®¹çš„é€æ˜åº¦ç›¸å…³å‚æ•°ï¼Œ<code>facecolor</code>è°ƒèŠ‚ <code>box</code> å‰æ™¯è‰²ï¼Œ<code>edgecolor</code> è®¾ç½®è¾¹æ¡†ï¼Œ æœ¬å¤„è®¾ç½®è¾¹æ¡†ä¸ºæ— ï¼Œ<code>alpha</code>è®¾ç½®é€æ˜åº¦. </p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">for</span> label <span class="keyword">in</span> ax.get_xticklabels() + ax.get_yticklabels():</span><br><span class="line">    label.set_fontsize(<span class="number">12</span>)</span><br><span class="line">    <span class="comment"># åœ¨ plt 2.0.2 æˆ–æ›´é«˜çš„ç‰ˆæœ¬ä¸­, è®¾ç½® zorder ç»™ plot åœ¨ z è½´æ–¹å‘æ’åº</span></span><br><span class="line">    label.set_bbox(dict(facecolor=<span class="string">'white'</span>, edgecolor=<span class="string">'None'</span>, alpha=<span class="number">0.7</span>, zorder=<span class="number">2</span>))</span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure>
<div class="limg1"><br><img src="/images/python/matplotlib-7-tick-output_3_0.png" height="100" width="700"><br></div>

<h2 id="Reference"><a href="#Reference" class="headerlink" title="Reference"></a>Reference</h2><ul>
<li><a href="https://matplotlib.org/" target="_blank" rel="external">matplotlib.org</a></li>
<li><a href="https://matplotlib.org/contents.html" target="_blank" rel="external">matplotlib docs</a></li>
<li><a href="https://morvanzhou.github.io" target="_blank" rel="external">morvanzhou</a></li>
</ul>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[Matplotlib Annotation]]></title>
      <url>http://iequa.com/2018/01/23/py-matplotlib-6-Annotation/</url>
      <content type="html"><![CDATA[<p>å½“å›¾çº¿ä¸­æŸäº›ç‰¹æ®Šåœ°æ–¹éœ€è¦æ ‡æ³¨æ—¶ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨ <code>annotation</code>.  </p>
<p>matplotlib ä¸­çš„ <code>annotation</code> æœ‰ä¸¤ç§æ–¹æ³•ï¼Œ ä¸€ç§æ˜¯ç”¨ plt é‡Œé¢çš„ <code>annotate</code>ï¼Œä¸€ç§æ˜¯ç›´æ¥ç”¨ plt é‡Œé¢çš„ <code>text</code> æ¥å†™æ ‡æ³¨.</p>
<a id="more"></a>
<h2 id="ç”»å‡ºåŸºæœ¬å›¾"><a href="#ç”»å‡ºåŸºæœ¬å›¾" class="headerlink" title="ç”»å‡ºåŸºæœ¬å›¾"></a>ç”»å‡ºåŸºæœ¬å›¾</h2><p>é¦–å…ˆï¼Œæˆ‘ä»¬åœ¨åæ ‡è½´ä¸­ç»˜åˆ¶ä¸€æ¡ç›´çº¿.</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"></span><br><span class="line">x = np.linspace(<span class="number">-3</span>, <span class="number">3</span>, <span class="number">50</span>)</span><br><span class="line">y = <span class="number">2</span>*x + <span class="number">1</span></span><br><span class="line"></span><br><span class="line">plt.figure(num=<span class="number">1</span>, figsize=(<span class="number">8</span>, <span class="number">5</span>),)</span><br><span class="line">plt.plot(x, y,)</span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure>
<div class="limg1"><br><img src="/images/python/matplotlib-6-annotation-output_1_0.png" height="100" width="500"><br></div>

<h2 id="ç§»åŠ¨åæ ‡"><a href="#ç§»åŠ¨åæ ‡" class="headerlink" title="ç§»åŠ¨åæ ‡"></a>ç§»åŠ¨åæ ‡</h2><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"></span><br><span class="line">x = np.linspace(<span class="number">-3</span>, <span class="number">3</span>, <span class="number">50</span>)</span><br><span class="line">y = <span class="number">2</span>*x + <span class="number">1</span></span><br><span class="line"></span><br><span class="line">plt.figure(num=<span class="number">1</span>, figsize=(<span class="number">8</span>, <span class="number">5</span>),)</span><br><span class="line">plt.plot(x, y,)</span><br><span class="line"></span><br><span class="line"><span class="comment"># ç§»åŠ¨åæ ‡</span></span><br><span class="line">ax = plt.gca()</span><br><span class="line">ax.spines[<span class="string">'right'</span>].set_color(<span class="string">'none'</span>)</span><br><span class="line">ax.spines[<span class="string">'top'</span>].set_color(<span class="string">'none'</span>)</span><br><span class="line"></span><br><span class="line">ax.xaxis.set_ticks_position(<span class="string">'bottom'</span>)</span><br><span class="line">ax.spines[<span class="string">'bottom'</span>].set_position((<span class="string">'data'</span>, <span class="number">0</span>))</span><br><span class="line"></span><br><span class="line">ax.yaxis.set_ticks_position(<span class="string">'left'</span>)</span><br><span class="line">ax.spines[<span class="string">'left'</span>].set_position((<span class="string">'data'</span>, <span class="number">0</span>))</span><br><span class="line"></span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure>
<div class="limg1"><br><img src="/images/python/matplotlib-6-annotation-output_3_0.png" height="100" width="550"><br></div>

<p>ç„¶åæ ‡æ³¨å‡ºç‚¹<code>(x0, y0)</code>çš„ä½ç½®ä¿¡æ¯. ç”¨ <code>plt.plot([x0, x0,], [0, y0,], &#39;k--&#39;, linewidth=2.5)</code> ç”»å‡ºä¸€æ¡å‚ç›´äºxè½´çš„è™šçº¿.</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"></span><br><span class="line">x = np.linspace(<span class="number">-3</span>, <span class="number">3</span>, <span class="number">50</span>)</span><br><span class="line">y = <span class="number">2</span>*x + <span class="number">1</span></span><br><span class="line"></span><br><span class="line">plt.figure(num=<span class="number">1</span>, figsize=(<span class="number">8</span>, <span class="number">5</span>),)</span><br><span class="line">plt.plot(x, y,)</span><br><span class="line"></span><br><span class="line"><span class="comment"># ç§»åŠ¨åæ ‡</span></span><br><span class="line">ax = plt.gca()</span><br><span class="line">ax.spines[<span class="string">'right'</span>].set_color(<span class="string">'none'</span>)</span><br><span class="line">ax.spines[<span class="string">'top'</span>].set_color(<span class="string">'none'</span>)</span><br><span class="line"></span><br><span class="line">ax.xaxis.set_ticks_position(<span class="string">'bottom'</span>)</span><br><span class="line">ax.spines[<span class="string">'bottom'</span>].set_position((<span class="string">'data'</span>, <span class="number">0</span>))</span><br><span class="line"></span><br><span class="line">ax.yaxis.set_ticks_position(<span class="string">'left'</span>)</span><br><span class="line">ax.spines[<span class="string">'left'</span>].set_position((<span class="string">'data'</span>, <span class="number">0</span>))</span><br><span class="line"></span><br><span class="line">x0 = <span class="number">1</span></span><br><span class="line">y0 = <span class="number">2</span>*x0 + <span class="number">1</span></span><br><span class="line"></span><br><span class="line"><span class="comment">###   plt.plot([x0, x0,], [0, y0,], 'k--', linewidth=2.5) ç”»å‡ºä¸€æ¡å‚ç›´äºxè½´çš„è™šçº¿.  ###</span></span><br><span class="line"></span><br><span class="line">plt.plot([x0, x0,], [<span class="number">0</span>, y0,], <span class="string">'k--'</span>, linewidth=<span class="number">2.5</span>)</span><br><span class="line"><span class="comment"># set dot styles</span></span><br><span class="line">plt.scatter([x0, ], [y0, ], s=<span class="number">50</span>, color=<span class="string">'b'</span>)</span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure>
<div class="limg1"><br><img src="/images/python/matplotlib-6-annotation-output_5_0.png" height="100" width="550"><br></div>

<h2 id="åŠ æ³¨é‡Š-annotate"><a href="#åŠ æ³¨é‡Š-annotate" class="headerlink" title="åŠ æ³¨é‡Š annotate"></a>åŠ æ³¨é‡Š annotate</h2><p>æ¥ä¸‹æ¥æˆ‘ä»¬å°±å¯¹<code>(x0, y0)</code>è¿™ä¸ªç‚¹è¿›è¡Œæ ‡æ³¨.</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"></span><br><span class="line">x = np.linspace(<span class="number">-4</span>, <span class="number">4</span>, <span class="number">50</span>)</span><br><span class="line">y = <span class="number">2</span>*x + <span class="number">1</span></span><br><span class="line"></span><br><span class="line">plt.figure(num=<span class="number">1</span>, figsize=(<span class="number">10</span>, <span class="number">6</span>),)</span><br><span class="line">plt.plot(x, y,)</span><br><span class="line"></span><br><span class="line"><span class="comment"># ç§»åŠ¨åæ ‡</span></span><br><span class="line">ax = plt.gca()</span><br><span class="line">ax.spines[<span class="string">'right'</span>].set_color(<span class="string">'none'</span>)</span><br><span class="line">ax.spines[<span class="string">'top'</span>].set_color(<span class="string">'none'</span>)</span><br><span class="line"></span><br><span class="line">ax.xaxis.set_ticks_position(<span class="string">'bottom'</span>)</span><br><span class="line">ax.spines[<span class="string">'bottom'</span>].set_position((<span class="string">'data'</span>, <span class="number">0</span>))</span><br><span class="line"></span><br><span class="line">ax.yaxis.set_ticks_position(<span class="string">'left'</span>)</span><br><span class="line">ax.spines[<span class="string">'left'</span>].set_position((<span class="string">'data'</span>, <span class="number">0</span>))</span><br><span class="line"></span><br><span class="line">x0 = <span class="number">1</span></span><br><span class="line">y0 = <span class="number">2</span>*x0 + <span class="number">1</span></span><br><span class="line">plt.plot([x0, x0,], [<span class="number">0</span>, y0,], <span class="string">'k--'</span>, linewidth=<span class="number">2.5</span>)</span><br><span class="line"><span class="comment"># set dot styles</span></span><br><span class="line">plt.scatter([x0, ], [y0, ], s=<span class="number">50</span>, color=<span class="string">'b'</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">############## æ·»åŠ æ³¨é‡Š annotate ###############</span></span><br><span class="line"></span><br><span class="line">plt.annotate(<span class="string">r'$2x+1=%s$'</span> % y0, xy=(x0, y0), xycoords=<span class="string">'data'</span>, xytext=(+<span class="number">30</span>, <span class="number">-30</span>),</span><br><span class="line">             textcoords=<span class="string">'offset points'</span>, fontsize=<span class="number">16</span>,</span><br><span class="line">             arrowprops=dict(arrowstyle=<span class="string">'-&gt;'</span>, connectionstyle=<span class="string">"arc3,rad=.2"</span>))</span><br><span class="line"></span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure>
<div class="limg1"><br><img src="/images/python/matplotlib-6-annotation-output_7_0.png" height="100" width="550"><br></div>

<p>å…¶ä¸­å‚æ•° <code>xycoords=&#39;data&#39;</code> æ˜¯è¯´åŸºäºæ•°æ®çš„å€¼æ¥é€‰ä½ç½®, <code>xytext=(+30, -30)</code> å’Œ <code>textcoords=&#39;offset points&#39;</code> å¯¹äºæ ‡æ³¨ä½ç½®çš„æè¿° å’Œ <code>xy</code> åå·®å€¼, <code>arrowprops</code>æ˜¯å¯¹å›¾ä¸­ç®­å¤´ç±»å‹çš„ä¸€äº›è®¾ç½®.</p>
<h2 id="åŠ æ³¨é‡Š-text"><a href="#åŠ æ³¨é‡Š-text" class="headerlink" title="åŠ æ³¨é‡Š text"></a>åŠ æ³¨é‡Š text</h2><figure class="highlight python"><table><tr><td class="code"><pre><span class="line">plt.text(<span class="number">-3.7</span>, <span class="number">3</span>, <span class="string">r'$This\ is\ the\ some\ text. \mu\ \sigma_i\ \alpha_t$'</span>,</span><br><span class="line">         fontdict=&#123;<span class="string">'size'</span>: <span class="number">16</span>, <span class="string">'color'</span>: <span class="string">'r'</span>&#125;)</span><br></pre></td></tr></table></figure>
<pre><code>Text(-3.7,3,&apos;$This\\ is\\ the\\ some\\ text. \\mu\\ \\sigma_i\\ \\alpha_t$&apos;)
</code></pre><p>å…¶ä¸­<code>-3.7, 3,</code>æ˜¯é€‰å–textçš„ä½ç½®, ç©ºæ ¼éœ€è¦ç”¨åˆ°è½¬å­—ç¬¦<code>\</code> ,<code>fontdict</code>è®¾ç½®æ–‡æœ¬å­—ä½“.</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"></span><br><span class="line">x = np.linspace(<span class="number">-4</span>, <span class="number">4</span>, <span class="number">50</span>)</span><br><span class="line">y = <span class="number">2</span>*x + <span class="number">1</span></span><br><span class="line"></span><br><span class="line">plt.figure(num=<span class="number">1</span>, figsize=(<span class="number">10</span>, <span class="number">6</span>),)</span><br><span class="line">plt.plot(x, y,)</span><br><span class="line"></span><br><span class="line"><span class="comment"># ç§»åŠ¨åæ ‡</span></span><br><span class="line">ax = plt.gca()</span><br><span class="line">ax.spines[<span class="string">'right'</span>].set_color(<span class="string">'none'</span>)</span><br><span class="line">ax.spines[<span class="string">'top'</span>].set_color(<span class="string">'none'</span>)</span><br><span class="line"></span><br><span class="line">ax.xaxis.set_ticks_position(<span class="string">'bottom'</span>)</span><br><span class="line">ax.spines[<span class="string">'bottom'</span>].set_position((<span class="string">'data'</span>, <span class="number">0</span>))</span><br><span class="line"></span><br><span class="line">ax.yaxis.set_ticks_position(<span class="string">'left'</span>)</span><br><span class="line">ax.spines[<span class="string">'left'</span>].set_position((<span class="string">'data'</span>, <span class="number">0</span>))</span><br><span class="line"></span><br><span class="line">x0 = <span class="number">1</span></span><br><span class="line">y0 = <span class="number">2</span>*x0 + <span class="number">1</span></span><br><span class="line">plt.plot([x0, x0,], [<span class="number">0</span>, y0,], <span class="string">'k--'</span>, linewidth=<span class="number">2.5</span>)</span><br><span class="line"><span class="comment"># set dot styles</span></span><br><span class="line">plt.scatter([x0, ], [y0, ], s=<span class="number">50</span>, color=<span class="string">'b'</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">############## æ·»åŠ æ³¨é‡Š annotate ###############</span></span><br><span class="line"></span><br><span class="line">plt.annotate(<span class="string">r'$2x+1=%s$'</span> % y0, xy=(x0, y0), xycoords=<span class="string">'data'</span>, xytext=(+<span class="number">30</span>, <span class="number">-30</span>),</span><br><span class="line">             textcoords=<span class="string">'offset points'</span>, fontsize=<span class="number">16</span>,</span><br><span class="line">             arrowprops=dict(arrowstyle=<span class="string">'-&gt;'</span>, connectionstyle=<span class="string">"arc3,rad=.2"</span>))</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">############# æ·»åŠ æ³¨é‡Š text #################</span></span><br><span class="line"></span><br><span class="line">plt.text(<span class="number">-3.7</span>, <span class="number">3</span>, <span class="string">r'$This\ is\ the\ some\ text. \mu\ \sigma_i\ \alpha_t$'</span>,</span><br><span class="line">         fontdict=&#123;<span class="string">'size'</span>: <span class="number">16</span>, <span class="string">'color'</span>: <span class="string">'r'</span>&#125;)</span><br><span class="line"></span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure>
<div class="limg1"><br><img src="/images/python/matplotlib-6-annotation-output_11_0.png" height="100" width="500"><br></div>

<h2 id="Reference"><a href="#Reference" class="headerlink" title="Reference"></a>Reference</h2><ul>
<li><a href="https://matplotlib.org/" target="_blank" rel="external">matplotlib.org</a></li>
<li><a href="https://matplotlib.org/contents.html" target="_blank" rel="external">matplotlib docs</a></li>
<li><a href="https://morvanzhou.github.io" target="_blank" rel="external">morvanzhou</a></li>
</ul>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[Matplotlib Legend]]></title>
      <url>http://iequa.com/2018/01/23/py-matplotlib-5-legend/</url>
      <content type="html"><![CDATA[<p>matplotlib ä¸­çš„ <code>legend</code> å›¾ä¾‹å°±æ˜¯ä¸ºäº†å±•ç¤ºå‡ºæ¯ä¸ªæ•°æ®å¯¹åº”çš„<code>å›¾åƒåç§°</code>,å¯è¯»æ€§æ›´å¥½.</p>
<a id="more"></a>
<h2 id="æ·»åŠ å›¾ä¾‹-legend"><a href="#æ·»åŠ å›¾ä¾‹-legend" class="headerlink" title="æ·»åŠ å›¾ä¾‹ legend"></a>æ·»åŠ å›¾ä¾‹ legend</h2><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"></span><br><span class="line">x = np.linspace(<span class="number">-3</span>, <span class="number">3</span>, <span class="number">50</span>)</span><br><span class="line">y1 = <span class="number">2</span>*x + <span class="number">1</span></span><br><span class="line">y2 = x**<span class="number">2</span></span><br><span class="line"></span><br><span class="line">plt.figure()</span><br><span class="line"><span class="comment">#set x limits</span></span><br><span class="line">plt.xlim((<span class="number">-1</span>, <span class="number">2</span>))</span><br><span class="line">plt.ylim((<span class="number">-2</span>, <span class="number">3</span>))</span><br><span class="line"></span><br><span class="line"><span class="comment"># set new sticks</span></span><br><span class="line">new_sticks = np.linspace(<span class="number">-1</span>, <span class="number">2</span>, <span class="number">5</span>)</span><br><span class="line">plt.xticks(new_sticks)</span><br><span class="line"><span class="comment"># set tick labels</span></span><br><span class="line">plt.yticks([<span class="number">-2</span>, <span class="number">-1.8</span>, <span class="number">-1</span>, <span class="number">1.22</span>, <span class="number">3</span>],</span><br><span class="line">           [<span class="string">r'$really\ bad$'</span>, <span class="string">r'$bad$'</span>, <span class="string">r'$normal$'</span>, <span class="string">r'$good$'</span>, <span class="string">r'$really\ good$'</span>])</span><br></pre></td></tr></table></figure>
<pre><code>([&lt;matplotlib.axis.YTick at 0x1195c3358&gt;,
  &lt;matplotlib.axis.YTick at 0x112681080&gt;,
  &lt;matplotlib.axis.YTick at 0x1195ce710&gt;,
  &lt;matplotlib.axis.YTick at 0x1195f5240&gt;,
  &lt;matplotlib.axis.YTick at 0x1195fc550&gt;],
 &lt;a list of 5 Text yticklabel objects&gt;)
</code></pre><p>å¯¹å›¾ä¸­çš„ä¸¤æ¡çº¿ç»˜åˆ¶å›¾ä¾‹ï¼Œé¦–å…ˆæˆ‘ä»¬è®¾ç½®ä¸¤æ¡çº¿çš„ç±»å‹ç­‰ä¿¡æ¯ï¼ˆè“è‰²å®çº¿ä¸çº¢è‰²è™šçº¿).</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment"># set line syles</span></span><br><span class="line">l1, = plt.plot(x, y1, label=<span class="string">'linear line'</span>)</span><br><span class="line">l2, = plt.plot(x, y2, color=<span class="string">'red'</span>, linewidth=<span class="number">1.0</span>, linestyle=<span class="string">'--'</span>, label=<span class="string">'square line'</span>)</span><br></pre></td></tr></table></figure>
<p>éœ€è¦æ³¨æ„çš„æ˜¯ <code>l1,</code> <code>l2,</code> è¦ä»¥<code>é€—å·</code>ç»“å°¾, å› ä¸º <code>plt.plot()</code> è¿”å›çš„æ˜¯ä¸€ä¸ªlist.</p>
<p><code>legend</code> å°†è¦æ˜¾ç¤ºçš„ä¿¡æ¯æ¥è‡ªäºä¸Šé¢ä»£ç ä¸­çš„ <code>label</code>. æ‰€ä»¥æˆ‘ä»¬åªéœ€è¦ç®€å•å†™ä¸€ä¸‹ä»£ç , <code>plt</code> å°±èƒ½è‡ªåŠ¨çš„ä¸ºæˆ‘ä»¬æ·»åŠ å›¾ä¾‹.</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">plt.legend(loc=<span class="string">'upper right'</span>)</span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure>
<div class="limg1"><br><img src="/images/python/matplotlib-5-legend-1.png" height="100" width="650"><br></div>

<p>å‚æ•° <code>loc=&#39;upper right&#39;</code> è¡¨ç¤ºå›¾ä¾‹å°†æ·»åŠ åœ¨å›¾ä¸­çš„å³ä¸Šè§’.</p>
<h2 id="è°ƒæ•´ä½ç½®å’Œåç§°"><a href="#è°ƒæ•´ä½ç½®å’Œåç§°" class="headerlink" title="è°ƒæ•´ä½ç½®å’Œåç§°"></a>è°ƒæ•´ä½ç½®å’Œåç§°</h2><p>å¦‚æœæˆ‘ä»¬æƒ³å•ç‹¬ä¿®æ”¹ä¹‹å‰çš„ <code>label</code> ä¿¡æ¯, ç»™ä¸åŒç±»å‹çš„çº¿æ¡è®¾ç½®å›¾ä¾‹ä¿¡æ¯. æˆ‘ä»¬å¯ä»¥åœ¨ <code>plt.legend</code> è¾“å…¥æ›´å¤šå‚æ•°. å¦‚æœä»¥ä¸‹é¢è¿™ç§å½¢å¼æ·»åŠ  <code>legend</code>, æˆ‘ä»¬éœ€è¦ç¡®ä¿, åœ¨ä¸Šé¢çš„ä»£ç  <code>plt.plot(x, y2, label=&#39;linear line&#39;)</code> å’Œ <code>plt.plot(x, y1, label=&#39;square line&#39;)</code> ä¸­æœ‰ç”¨å˜é‡ l1 å’Œ l2 åˆ†åˆ«å­˜å‚¨èµ·æ¥. </p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">plt.legend(handles=[l1, l2], labels=[<span class="string">'up'</span>, <span class="string">'down'</span>],  loc=<span class="string">'best'</span>)</span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure>
<div class="limg1"><br><img src="/images/python/matplotlib-5-legend-2.png" height="100" width="650"><br></div>

<p>è¿™æ ·æˆ‘ä»¬å°±èƒ½åˆ†åˆ«é‡æ–°è®¾ç½®çº¿æ¡å¯¹åº”çš„ <code>label</code> äº†.</p>
<p>å…¶ä¸­â€™locâ€™å‚æ•°æœ‰å¤šç§ï¼Œâ€™bestâ€™è¡¨ç¤ºè‡ªåŠ¨åˆ†é…æœ€ä½³ä½ç½®ï¼Œå…¶ä½™çš„å¦‚ä¸‹ï¼š</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="string">'best'</span> : <span class="number">0</span>,          </span><br><span class="line"><span class="string">'upper right'</span>  : <span class="number">1</span>,</span><br><span class="line"><span class="string">'upper left'</span>   : <span class="number">2</span>,</span><br><span class="line"><span class="string">'lower left'</span>   : <span class="number">3</span>,</span><br><span class="line"><span class="string">'lower right'</span>  : <span class="number">4</span>,</span><br><span class="line"><span class="string">'right'</span>        : <span class="number">5</span>,</span><br><span class="line"><span class="string">'center left'</span>  : <span class="number">6</span>,</span><br><span class="line"><span class="string">'center right'</span> : <span class="number">7</span>,</span><br><span class="line"><span class="string">'lower center'</span> : <span class="number">8</span>,</span><br><span class="line"><span class="string">'upper center'</span> : <span class="number">9</span>,</span><br><span class="line"><span class="string">'center'</span>       : <span class="number">10</span>,</span><br></pre></td></tr></table></figure>
<h2 id="Reference"><a href="#Reference" class="headerlink" title="Reference"></a>Reference</h2><ul>
<li><a href="https://matplotlib.org/" target="_blank" rel="external">matplotlib.org</a></li>
<li><a href="https://matplotlib.org/contents.html" target="_blank" rel="external">matplotlib docs</a></li>
<li><a href="https://morvanzhou.github.io" target="_blank" rel="external">morvanzhou</a></li>
</ul>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[Matplotlib Coordinate axis]]></title>
      <url>http://iequa.com/2018/01/23/py-matplotlib-4-coordinate_axis/</url>
      <content type="html"><![CDATA[<p>å¦‚ä½•ç§»åŠ¨ matplotlib ä¸­ axis åæ ‡è½´çš„ä½ç½®.</p>
<a id="more"></a>
<h2 id="è®¾ç½®åå­—å’Œä½ç½®"><a href="#è®¾ç½®åå­—å’Œä½ç½®" class="headerlink" title="è®¾ç½®åå­—å’Œä½ç½®"></a>è®¾ç½®åå­—å’Œä½ç½®</h2><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br></pre></td></tr></table></figure>
<p>ä½¿ç”¨ <code>np.linspace</code> å®šä¹‰ <code>x</code> ï¼šèŒƒå›´æ˜¯(-3,3);ä¸ªæ•°æ˜¯50.<br>ä»¿çœŸä¸€ç»´æ•°æ®ç»„(<code>x</code> ,<code>y1</code>)è¡¨ç¤ºæ›²çº¿1.  ä»¿çœŸä¸€ç»´æ•°æ®ç»„(<code>x</code> ,<code>y2</code>)è¡¨ç¤ºæ›²çº¿2.  </p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">x = np.linspace(<span class="number">-3</span>, <span class="number">3</span>, <span class="number">50</span>)</span><br><span class="line">y1 = <span class="number">2</span>*x + <span class="number">1</span></span><br><span class="line">y2 = x**<span class="number">2</span></span><br></pre></td></tr></table></figure>
<p>ä½¿ç”¨<code>plt.figure</code>å®šä¹‰ä¸€ä¸ªå›¾åƒçª—å£. </p>
<p>ä½¿ç”¨<code>plt.plot</code>ç”»(<code>x</code> ,<code>y2</code>)æ›²çº¿. ä½¿ç”¨<code>plt.plot</code>ç”»(<code>x</code> ,<code>y1</code>)æ›²çº¿ï¼Œæ›²çº¿çš„é¢œè‰²å±æ€§(<code>color</code>)ä¸ºçº¢è‰²; æ›²çº¿çš„å®½åº¦(<code>linewidth</code>) ä¸º 1.0; æ›²çº¿çš„ç±»å‹(<code>linestyle</code>)ä¸ºè™šçº¿.   </p>
<p>ä½¿ç”¨<code>plt.xlim</code>è®¾ç½®<code>x</code>åæ ‡è½´èŒƒå›´: (-1, 2); ä½¿ç”¨<code>plt.ylim</code>è®¾ç½®<code>y</code>åæ ‡è½´èŒƒå›´: (-2, 3);   </p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">plt.figure()</span><br><span class="line">plt.plot(x, y2)</span><br><span class="line">plt.plot(x, y1, color=<span class="string">'red'</span>, linewidth=<span class="number">1.0</span>, linestyle=<span class="string">'--'</span>)</span><br><span class="line">plt.xlim((<span class="number">-1</span>, <span class="number">2</span>))</span><br><span class="line">plt.ylim((<span class="number">-2</span>, <span class="number">3</span>))</span><br></pre></td></tr></table></figure>
<pre><code>(-2, 3)
</code></pre><p>ä½¿ç”¨<code>np.linspace</code>å®šä¹‰èŒƒå›´ä»¥åŠä¸ªæ•°ï¼šèŒƒå›´æ˜¯(-1,2);ä¸ªæ•°æ˜¯5. </p>
<p>ä½¿ç”¨<code>plt.xticks</code>è®¾ç½®<code>x</code>è½´åˆ»åº¦ï¼šèŒƒå›´æ˜¯(-1,2);ä¸ªæ•°æ˜¯5.<br>ä½¿ç”¨<code>plt.yticks</code>è®¾ç½®<code>y</code>è½´åˆ»åº¦ä»¥åŠåç§°: åˆ»åº¦ä¸º[-2, -1.8, -1, 1.22, 3]; å¯¹åº”åˆ»åº¦çš„åç§°ä¸º[â€˜really badâ€™,â€™badâ€™,â€™normalâ€™,â€™goodâ€™, â€˜really goodâ€™].</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">new_ticks = np.linspace(<span class="number">-1</span>, <span class="number">2</span>, <span class="number">5</span>)</span><br><span class="line">plt.xticks(new_ticks)</span><br><span class="line">plt.yticks([<span class="number">-2</span>, <span class="number">-1.8</span>, <span class="number">-1</span>, <span class="number">1.22</span>, <span class="number">3</span>],[<span class="string">'$really\ bad$'</span>, <span class="string">'$bad$'</span>, <span class="string">'$normal$'</span>, <span class="string">'$good$'</span>, <span class="string">'$really\ good$'</span>])</span><br></pre></td></tr></table></figure>
<table>
<thead>
<tr>
<th>function</th>
<th>desc</th>
<th>è®¾ç½®æ•ˆæœ</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>plt.gca</code></td>
<td>è·å–å½“å‰åæ ‡è½´ä¿¡æ¯</td>
<td>-</td>
</tr>
<tr>
<td><code>.spines</code></td>
<td>è®¾ç½®è¾¹æ¡†</td>
<td>å³ä¾§è¾¹æ¡† &amp; ä¸Šè¾¹æ¡†</td>
</tr>
<tr>
<td><code>.set_color</code></td>
<td>è®¾ç½®è¾¹æ¡†é¢œè‰²</td>
<td>é»˜è®¤ç™½è‰²</td>
</tr>
</tbody>
</table>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">ax = plt.gca()</span><br><span class="line">ax.spines[<span class="string">'right'</span>].set_color(<span class="string">'none'</span>)</span><br><span class="line">ax.spines[<span class="string">'top'</span>].set_color(<span class="string">'none'</span>)</span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure>
<div class="limg1"><br><img src="/images/python/matplotlib-4-ax-4_1.png" height="100" width="700"><br></div>

<h2 id="è°ƒæ•´åæ ‡è½´"><a href="#è°ƒæ•´åæ ‡è½´" class="headerlink" title="è°ƒæ•´åæ ‡è½´"></a>è°ƒæ•´åæ ‡è½´</h2><p>ä½¿ç”¨ <code>.xaxis.set_ticks_position</code>è®¾ç½®<code>x</code>åæ ‡åˆ»åº¦æ•°å­—æˆ–åç§°çš„ä½ç½®ï¼š<code>bottom</code>.ï¼ˆæ‰€æœ‰ä½ç½®ï¼š<code>top</code>ï¼Œ<code>bottom</code>ï¼Œ<code>both</code>ï¼Œ<code>default</code>ï¼Œ<code>none</code>ï¼‰<br>ä½¿ç”¨ <code>.spines</code> è®¾ç½®è¾¹æ¡†ï¼š<code>x</code>è½´ï¼›<br>ä½¿ç”¨ <code>.set_position</code> è®¾ç½®è¾¹æ¡†ä½ç½®ï¼š<code>y=0</code> çš„ä½ç½®ï¼›ï¼ˆä½ç½®æ‰€æœ‰å±æ€§ï¼š<code>outward</code>ï¼Œ<code>axes</code>ï¼Œ<code>data</code>ï¼‰  </p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">ax.xaxis.set_ticks_position(<span class="string">'bottom'</span>)</span><br><span class="line"></span><br><span class="line">ax.spines[<span class="string">'bottom'</span>].set_position((<span class="string">'data'</span>, <span class="number">0</span>))</span><br><span class="line"></span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure>
<div class="limg1"><br><img src="/images/python/matplotlib-4-ax-4_2.png" height="100" width="700"><br></div>

<p>ä½¿ç”¨<code>.yaxis.set_ticks_position</code>è®¾ç½®<code>y</code>åæ ‡åˆ»åº¦æ•°å­—æˆ–åç§°çš„ä½ç½®ï¼š<code>left</code>.ï¼ˆæ‰€æœ‰ä½ç½®ï¼š<code>left</code>ï¼Œ<code>right</code>ï¼Œ<code>both</code>ï¼Œ<code>default</code>ï¼Œ<code>none</code>ï¼‰</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">ax.yaxis.set_ticks_position(<span class="string">'left'</span>)</span><br></pre></td></tr></table></figure>
<p>ä½¿ç”¨<code>.spines</code>è®¾ç½®è¾¹æ¡†ï¼š<code>y</code>è½´;<br>ä½¿ç”¨<code>.set_position</code>è®¾ç½®è¾¹æ¡†ä½ç½®ï¼š<code>x=0</code>çš„ä½ç½®ï¼›ï¼ˆä½ç½®æ‰€æœ‰å±æ€§ï¼š<code>outward</code>ï¼Œ<code>axes</code>ï¼Œ<code>data</code>ï¼‰<br>ä½¿ç”¨<code>plt.show</code>æ˜¾ç¤ºå›¾åƒ.</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">ax.spines[<span class="string">'left'</span>].set_position((<span class="string">'data'</span>,<span class="number">0</span>))</span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure>
<div class="limg1"><br><img src="/images/python/matplotlib-4-ax-4_3.png" height="100" width="700"><br></div>

<h2 id="Reference"><a href="#Reference" class="headerlink" title="Reference"></a>Reference</h2><ul>
<li><a href="https://matplotlib.org/" target="_blank" rel="external">matplotlib.org</a></li>
<li><a href="https://matplotlib.org/contents.html" target="_blank" rel="external">matplotlib docs</a></li>
<li><a href="https://morvanzhou.github.io" target="_blank" rel="external">morvanzhou</a></li>
</ul>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[TensorFlow Why?]]></title>
      <url>http://iequa.com/2018/01/22/tensorflow-1-1-why/</url>
      <content type="html"><![CDATA[<p>TensorFlow æœ€åˆç”± Google å¤§è„‘çš„ç ”ç©¶å‘˜å’Œå·¥ç¨‹å¸ˆå¼€å‘å‡ºæ¥ï¼Œç”¨äºæœºå™¨å­¦ä¹ å’Œç¥ç»ç½‘ç»œæ–¹é¢çš„ç ”ç©¶ï¼Œ<code>2015.10</code>å®£å¸ƒå¼€æº.</p>
<a id="more"></a>
<p>TensorFlow æ˜¯ä¸€æ¬¾ç¥ç»ç½‘ç»œçš„ Python å¤–éƒ¨çš„ç»“æ„åŒ…, ä¹Ÿæ˜¯ä¸€ä¸ªé‡‡ç”¨æ•°æ®æµå›¾æ¥è¿›è¡Œæ•°å€¼è®¡ç®—çš„å¼€æºè½¯ä»¶åº“.</p>
<p><img src="/images/tensorflow/tf-1-why.gif" alt="TensorFlow èŠ‚ç‚¹è¡¨ç¤ºæŸç§æŠ½è±¡çš„è®¡ç®—ï¼Œè¾¹è¡¨ç¤ºèŠ‚ç‚¹ä¹‹é—´ç›¸äº’è”ç³»çš„å¼ é‡"></p>
<h2 id="TensorFlow-Why"><a href="#TensorFlow-Why" class="headerlink" title="TensorFlow Why"></a>TensorFlow Why</h2><p>TensorFlow æ“…é•¿çš„ä»»åŠ¡å°±æ˜¯è®­ç»ƒæ·±åº¦ç¥ç»ç½‘ç»œ. ä½¿ç”¨å®ƒæˆ‘ä»¬å°±å¯ä»¥å¤§å¤§é™ä½æ·±åº¦å­¦ä¹ çš„å¼€å‘æˆæœ¬å’Œå¼€å‘éš¾åº¦;</p>
<p>TensorFlow åœ¨ä¼—å¤šæ·±åº¦å­¦ä¹ æ¡†æ¶ä¸­è„±é¢–è€Œå‡ºï¼Œåœ¨Githubä¸Šè·å¾—äº†æœ€å¤šçš„Staré‡;</p>
<p>TensorFlow æ”¯æŒå„ç§å¼‚æ„çš„å¹³å°ï¼Œæ”¯æŒå¤šCPU/GPUï¼ŒæœåŠ¡å™¨ï¼Œç§»åŠ¨è®¾å¤‡ï¼Œå…·æœ‰è‰¯å¥½çš„è·¨å¹³å°çš„ç‰¹æ€§;</p>
<p>TensorFlow æ¶æ„çµæ´»ï¼Œèƒ½å¤Ÿæ”¯æŒå„ç§ç½‘ç»œæ¨¡å‹ï¼Œå…·æœ‰è‰¯å¥½çš„é€šç”¨æ€§;</p>
<p>TensorFlow æ¶æ„å…·æœ‰è‰¯å¥½çš„å¯æ‰©å±•æ€§ï¼Œå¯¹OPçš„æ‰©å±•æ”¯æŒï¼ŒKernelç‰¹åŒ–æ–¹é¢è¡¨ç°å‡ºä¼—.</p>
<h2 id="Reference"><a href="#Reference" class="headerlink" title="Reference"></a>Reference</h2><ul>
<li><a href="https://www.tensorflow.org/" target="_blank" rel="external">tensorflow.org</a></li>
<li><a href="https://www.tensorflow.org/get_started/" target="_blank" rel="external">tensorflow.org get_started</a></li>
</ul>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[æ¢ç´¢ä¸–ç•Œè²¡å¯Œè‡ªç”±ä¹‹è·¯]]></title>
      <url>http://iequa.com/2018/01/22/py-finance-blockchain-coin/</url>
      <content type="html"><![CDATA[<p>è²¡å¯Œè‡ªç”±: æŒ‡çš„æ˜¯æŸä¸ªäººå†ä¹Ÿä¸ç”¨ä¸ºäº†æ»¡è¶³ç”Ÿæ´»å¿…éœ€è€Œå‡ºå”®è‡ªå·±çš„æ—¶é—´äº†ã€‚æˆ‘ä»¬è¦çš„è‡ªç”±ï¼Œæœ€æ ¹æœ¬ä¸æ˜¯è´¢å¯Œï¼Œè´¢å¯Œåªæ˜¯å·¥å…·. <a id="more"></a> æˆ‘ä»¬è¦çš„è‡ªç”±ï¼Œæœ¬è´¨æ˜¯æ—¶é—´çš„è‡ªä¸»æƒã€‚åœ¨ä½ è·å¾—è´¢å¯Œè‡ªç”±ä¹‹åï¼Œè¿˜æ˜¯ä¼šä¸æ–­åšçš„äº‹æƒ…ï¼Œæ¯”å¦‚: ä¸“æ³¨æˆé•¿è€Œä¸æ˜¯ä¸“æ³¨æˆåŠŸï¼Œå¾ˆå¤šäººæ²¡æœ‰æ„è¯†åˆ°çš„äº‹ï¼Œä¸ç®¡ä½ è·å¾—äº†æ€æ ·çš„æˆåŠŸï¼Œä½ ä¾ç„¶éœ€è¦æˆé•¿ï¼Œè´¢å¯Œè‡ªç”±ä¸æ˜¯ç»ˆç‚¹ï¼Œé‚£åªæ˜¯é€šå¾€ç»ˆç‚¹è¿‡ç¨‹ä¸­çš„ä¸€ä¸ªé‡Œç¨‹ç¢‘è€Œå·²ã€‚</p>
<p>å¯¹äºæŠ•æœºè€…ï¼Œâ€œç‚’å¸â€éœ€è°¨æ…ï¼Œåº”å°†é£é™©æ§åˆ¶åœ¨è‡ªå·±èƒ½å¤Ÿæ‰¿å—çš„èŒƒå›´å†…ã€‚PSï¼šå…¶å®æˆ‘çœŸçš„ä¸å…³å¿ƒè¿™ä¸ªé—®é¢˜ã€‚</p>
<h2 id="Blockchain"><a href="#Blockchain" class="headerlink" title="Blockchain"></a>Blockchain</h2><p>&nbsp;&nbsp;åŒºå—é“¾æœ¬è´¨ä¸Šæ˜¯ä¸€ä¸ªå»ä¸­å¿ƒåŒ–çš„åˆ†å¸ƒå¼è´¦æœ¬æ•°æ®åº“.  </p>
<ul>
<li><p><a href="https://www.youtube.com/watch?v=frLy-3_p1qA" target="_blank" rel="external">1. åŒºå—é“¾ä»‹ç»</a></p>
</li>
<li><p><a href="https://www.youtube.com/watch?v=uKr-rKEALiE" target="_blank" rel="external">2. æ€ªå¥‡å°ˆæ¬„-ç§’æ‡‚åŒºå—é“¾</a></p>
</li>
</ul>
<h2 id="Exchange"><a href="#Exchange" class="headerlink" title="Exchange"></a>Exchange</h2><ul>
<li><p><a href="https://www.huobi.pro" target="_blank" rel="external">1. ç«å¸</a></p>
</li>
<li><p><a href="https://www.bitfinex.com/" target="_blank" rel="external">2. Bitfinex</a></p>
</li>
<li><p><a href="https://www.feixiaohao.com/exchange/" target="_blank" rel="external">â€¦</a></p>
</li>
</ul>
<h2 id="Information"><a href="#Information" class="headerlink" title="Information"></a>Information</h2><ul>
<li><p><a href="https://www.feixiaohao.com/" target="_blank" rel="external">1. éå°å·</a></p>
</li>
<li><p><a href="/finance">â€¦</a></p>
</li>
</ul>
<h2 id="Commentator"><a href="#Commentator" class="headerlink" title="Commentator"></a>Commentator</h2><ul>
<li><p><a href="https://www.youtube.com/channel/UCWcgX3JEIAT0EElHM1xF2kA/featured" target="_blank" rel="external">1. å¸Œå¤šè¯´å¸</a></p>
</li>
<li><p><a href="https://www.youtube.com/channel/UCU5_xFE6j0WxpnQFNXqN3LQ" target="_blank" rel="external">2. æ¯”ç‰¹å¤§ä¹¦</a></p>
</li>
<li><p><a href="/finance">â€¦</a></p>
</li>
</ul>
<h2 id="other"><a href="#other" class="headerlink" title="other"></a>other</h2><ul>
<li><p><a href="https://www.zhihu.com/question/38138675" target="_blank" rel="external">1. æœªæ¥å“ªäº›é¢†åŸŸå¯èƒ½ç”¨åŒºå—é“¾æŠ€æœ¯ ?</a></p>
</li>
<li><p><a href="https://www.zhihu.com/question/38138675" target="_blank" rel="external">2. æ•°å­—è´§å¸ä¸åŒºå—é“¾åŸç† å»–é›ªå³°</a></p>
</li>
<li><p><a href="https://www.feixiaohao.com/currencies/tether/" target="_blank" rel="external">3. What USDT ?</a>, <a href="https://zh.wikipedia.org/wiki/%E4%BB%A5%E5%A4%AA%E5%9D%8A" target="_blank" rel="external">What ETH ?</a></p>
</li>
<li><p><a href="https://mp.weixin.qq.com/s/iTgBLYUOj4t7Kk-gPpPe-w" target="_blank" rel="external">4. æˆ‘çš„åŒºå—é“¾ä¸–ç•Œè§‚</a></p>
</li>
</ul>
<h2 id="next-â‹¯â‹¯"><a href="#next-â‹¯â‹¯" class="headerlink" title="next â‹¯â‹¯"></a>next â‹¯â‹¯</h2><blockquote>
<p>notesï¼šnext â€¦</p>
</blockquote>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[pickle]]></title>
      <url>http://iequa.com/2018/01/19/py-language-14-pickle/</url>
      <content type="html"><![CDATA[<p>Python è¯­è¨€ç‰¹å®šçš„åºåˆ—åŒ–æ¨¡å—æ˜¯pickleï¼Œä½†å¦‚æœè¦æŠŠåºåˆ—åŒ–æå¾—æ›´é€šç”¨ã€æ›´ç¬¦åˆWebæ ‡å‡†ï¼Œå¯ä»¥ä½¿ç”¨jsonæ¨¡å—</p>
<a id="more"></a>
<p>pickle æ˜¯ä¸€ä¸ª python ä¸­, å‹ç¼©/ä¿å­˜/æå– æ–‡ä»¶çš„æ¨¡å—. æœ€ä¸€èˆ¬çš„ä½¿ç”¨æ–¹å¼éå¸¸ç®€å•. </p>
<h2 id="pickle-ä¿å­˜"><a href="#pickle-ä¿å­˜" class="headerlink" title="pickle ä¿å­˜"></a>pickle ä¿å­˜</h2><p>å­—å…¸å’Œåˆ—è¡¨éƒ½æ˜¯èƒ½è¢«ä¿å­˜çš„.</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> pickle</span><br><span class="line"></span><br><span class="line">a_dict = &#123;<span class="string">'da'</span>: <span class="number">111</span>, <span class="number">2</span>: [<span class="number">23</span>,<span class="number">1</span>,<span class="number">4</span>], <span class="string">'23'</span>: &#123;<span class="number">1</span>:<span class="number">2</span>,<span class="string">'d'</span>:<span class="string">'sad'</span>&#125;&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment"># pickle a variable to a file</span></span><br><span class="line">file = open(<span class="string">'pickle_example.pickle'</span>, <span class="string">'wb'</span>)</span><br><span class="line">pickle.dump(a_dict, file)</span><br><span class="line">file.close()</span><br></pre></td></tr></table></figure>
<p><code>pickle.dump</code> ä½ è¦ä¿å­˜çš„ä¸œè¥¿å»è¿™ä¸ªæ‰“å¼€çš„ <code>file</code>. </p>
<p>æœ€åå…³é—­ <code>file</code> ä½ å°±ä¼šå‘ç°ä½ çš„æ–‡ä»¶ç›®å½•é‡Œå¤šäº†ä¸€ä¸ª <code>pickle_example.pickle</code> æ–‡ä»¶, è¿™å°±æ˜¯é‚£ä¸ªå­—å…¸äº†.</p>
<h2 id="pickle-æå–"><a href="#pickle-æå–" class="headerlink" title="pickle æå–"></a>pickle æå–</h2><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment"># reload a file to a variable</span></span><br><span class="line"><span class="keyword">with</span> open(<span class="string">'pickle_example.pickle'</span>, <span class="string">'rb'</span>) <span class="keyword">as</span> file:</span><br><span class="line">    a_dict1 =pickle.load(file)</span><br><span class="line"></span><br><span class="line">print(a_dict1)</span><br></pre></td></tr></table></figure>
<pre><code>{&apos;da&apos;: 111, 2: [23, 1, 4], &apos;23&apos;: {1: 2, &apos;d&apos;: &apos;sad&apos;}}
</code></pre><h2 id="Reference"><a href="#Reference" class="headerlink" title="Reference"></a>Reference</h2><ul>
<li><a href="https://docs.python.org/" target="_blank" rel="external">docs.python.org</a></li>
<li><a href="https://morvanzhou.github.io/" target="_blank" rel="external">python morvanzhou</a></li>
<li><a href="https://www.liaoxuefeng.com/" target="_blank" rel="external">python liaoxuefeng</a></li>
</ul>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[Sklearn Save Model]]></title>
      <url>http://iequa.com/2018/01/10/py-sklearn-7-save-model/</url>
      <content type="html"><![CDATA[<p>æˆ‘ä»¬è®­ç»ƒå¥½äº†ä¸€ä¸ª <code>Model</code> ä»¥åæ€»éœ€è¦ä¿å­˜å’Œå†æ¬¡é¢„æµ‹, æ‰€ä»¥ä¿å­˜å’Œè¯»å–æˆ‘ä»¬çš„sklearn modelä¹Ÿæ˜¯åŒæ ·é‡è¦çš„ä¸€æ­¥ã€‚<br>è¿™æ¬¡ä¸»è¦ä»‹ç»ä¸¤ç§ä¿å­˜Modelçš„æ¨¡å— <code>pickle</code> ä¸ <code>joblib</code></p>
<a id="more"></a>
<h2 id="pickle-ä¿å­˜"><a href="#pickle-ä¿å­˜" class="headerlink" title="pickle ä¿å­˜"></a>pickle ä¿å­˜</h2><p>é¦–å…ˆç®€å•å»ºç«‹ä¸è®­ç»ƒä¸€ä¸ª <code>SVC</code> Model</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">from</span> sklearn <span class="keyword">import</span> svm</span><br><span class="line"><span class="keyword">from</span> sklearn <span class="keyword">import</span> datasets</span><br><span class="line"></span><br><span class="line">clf = svm.SVC()</span><br><span class="line">iris = datasets.load_iris()</span><br><span class="line">X, y = iris.data, iris.target</span><br><span class="line">clf.fit(X,y)</span><br></pre></td></tr></table></figure>
<pre><code>SVC(C=1.0, cache_size=200, class_weight=None, coef0=0.0,
  decision_function_shape=&apos;ovr&apos;, degree=3, gamma=&apos;auto&apos;, kernel=&apos;rbf&apos;,
  max_iter=-1, probability=False, random_state=None, shrinking=True,
  tol=0.001, verbose=False)
</code></pre><p>ä½¿ç”¨ <code>pickle</code> æ¥ä¿å­˜ä¸è¯»å–è®­ç»ƒå¥½çš„ <code>Model</code></p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> pickle <span class="comment">#pickleæ¨¡å—</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#ä¿å­˜Model(æ³¨:saveæ–‡ä»¶å¤¹è¦é¢„å…ˆå»ºç«‹ï¼Œå¦åˆ™ä¼šæŠ¥é”™)</span></span><br><span class="line"><span class="keyword">with</span> open(<span class="string">'save/clf.pickle'</span>, <span class="string">'wb'</span>) <span class="keyword">as</span> f:</span><br><span class="line">    pickle.dump(clf, f)</span><br><span class="line"></span><br><span class="line"><span class="comment">#è¯»å–Model</span></span><br><span class="line"><span class="keyword">with</span> open(<span class="string">'save/clf.pickle'</span>, <span class="string">'rb'</span>) <span class="keyword">as</span> f:</span><br><span class="line">    clf2 = pickle.load(f)</span><br><span class="line">    <span class="comment">#æµ‹è¯•è¯»å–åçš„Model</span></span><br><span class="line">    print(clf2.predict(X[<span class="number">0</span>:<span class="number">1</span>]))</span><br><span class="line"></span><br><span class="line"><span class="comment"># [0]</span></span><br></pre></td></tr></table></figure>
<pre><code>[0]
</code></pre><h2 id="joblib-ä¿å­˜"><a href="#joblib-ä¿å­˜" class="headerlink" title="joblib ä¿å­˜"></a>joblib ä¿å­˜</h2><p><code>joblib</code> æ˜¯ sklearnçš„å¤–éƒ¨æ¨¡å—</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">from</span> sklearn.externals <span class="keyword">import</span> joblib <span class="comment">#jbolibæ¨¡å—</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#ä¿å­˜Model(æ³¨:saveæ–‡ä»¶å¤¹è¦é¢„å…ˆå»ºç«‹ï¼Œå¦åˆ™ä¼šæŠ¥é”™)</span></span><br><span class="line">joblib.dump(clf, <span class="string">'save/clf.pkl'</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">#è¯»å–Model</span></span><br><span class="line">clf3 = joblib.load(<span class="string">'save/clf.pkl'</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">#æµ‹è¯•è¯»å–åçš„Model</span></span><br><span class="line">print(clf3.predict(X[<span class="number">0</span>:<span class="number">1</span>]))</span><br><span class="line"></span><br><span class="line"><span class="comment"># [0]</span></span><br></pre></td></tr></table></figure>
<pre><code>[0]
</code></pre><p><code>joblib</code> åœ¨ä½¿ç”¨ä¸Šæ¯”è¾ƒå®¹æ˜“ï¼Œè¯»å–é€Ÿåº¦ä¹Ÿç›¸å¯¹<code>pickle</code>å¿«</p>
<h2 id="Reference"><a href="#Reference" class="headerlink" title="Reference"></a>Reference</h2><ul>
<li><a href="http://scikit-learn.org/" target="_blank" rel="external">scikit-learn.org</a></li>
<li><a href="http://scikit-learn.org/stable/tutorial/basic/tutorial.html" target="_blank" rel="external">scikit-learn docs</a></li>
<li><a href="https://morvanzhou.github.io" target="_blank" rel="external">scikit-learn morvanzhou</a></li>
</ul>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[Sklearn Cross-validation 3]]></title>
      <url>http://iequa.com/2018/01/09/py-sklearn-6-cross-validation-3/</url>
      <content type="html"><![CDATA[<p>äº¤å‰éªŒè¯(cross validation)è®©æˆ‘ä»¬çŸ¥é“åœ¨æœºå™¨å­¦ä¹ ä¸­éªŒè¯æ˜¯æœ‰å¤šä¹ˆçš„é‡è¦, è¿™ä¸€æ¬¡çš„ sklearn ä¸­æˆ‘ä»¬ç”¨åˆ°äº†<code>sklearn.learning_curve</code>å½“ä¸­çš„å¦å¤–ä¸€ç§, å«åš<code>validation_curve</code>,ç”¨è¿™ä¸€ç§æ›²çº¿æˆ‘ä»¬å°±èƒ½æ›´åŠ ç›´è§‚çœ‹å‡ºæ”¹å˜æ¨¡å‹ä¸­çš„å‚æ•°çš„æ—¶å€™æœ‰æ²¡æœ‰è¿‡æ‹Ÿåˆ(overfitting)çš„é—®é¢˜äº†. è¿™ä¹Ÿæ˜¯å¯ä»¥è®©æˆ‘ä»¬æ›´å¥½çš„é€‰æ‹©å‚æ•°çš„æ–¹æ³•.</p>
<a id="more"></a>
<h2 id="validation-curve-æ£€è§†è¿‡æ‹Ÿåˆ"><a href="#validation-curve-æ£€è§†è¿‡æ‹Ÿåˆ" class="headerlink" title="validation_curve æ£€è§†è¿‡æ‹Ÿåˆ"></a>validation_curve æ£€è§†è¿‡æ‹Ÿåˆ</h2><p>éªŒè¯<code>SVC</code>ä¸­çš„ä¸€ä¸ªå‚æ•° <code>gamma</code> åœ¨ä»€ä¹ˆèŒƒå›´å†…èƒ½ä½¿ <code>model</code> äº§ç”Ÿå¥½çš„ç»“æœ. ä»¥åŠè¿‡æ‹Ÿåˆå’Œ <code>gamma</code> å–å€¼çš„å…³ç³».</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">from</span> sklearn.learning_curve <span class="keyword">import</span> validation_curve <span class="comment">#validation_curveæ¨¡å—</span></span><br><span class="line"><span class="keyword">from</span> sklearn.datasets <span class="keyword">import</span> load_digits </span><br><span class="line"><span class="keyword">from</span> sklearn.svm <span class="keyword">import</span> SVC </span><br><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt </span><br><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"></span><br><span class="line"><span class="comment">#digitsæ•°æ®é›†</span></span><br><span class="line">digits = load_digits()</span><br><span class="line">X = digits.data</span><br><span class="line">y = digits.target</span><br><span class="line"></span><br><span class="line"><span class="comment">#å»ºç«‹å‚æ•°æµ‹è¯•é›†</span></span><br><span class="line">param_range = np.logspace(<span class="number">-6</span>, <span class="number">-2.3</span>, <span class="number">5</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">#ä½¿ç”¨validation_curveå¿«é€Ÿæ‰¾å‡ºå‚æ•°å¯¹æ¨¡å‹çš„å½±å“</span></span><br><span class="line">train_loss, test_loss = validation_curve(</span><br><span class="line">    SVC(), X, y, param_name=<span class="string">'gamma'</span>, param_range=param_range, cv=<span class="number">10</span>, scoring=<span class="string">'mean_squared_error'</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">#å¹³å‡æ¯ä¸€è½®çš„å¹³å‡æ–¹å·®</span></span><br><span class="line">train_loss_mean = -np.mean(train_loss, axis=<span class="number">1</span>)</span><br><span class="line">test_loss_mean = -np.mean(test_loss, axis=<span class="number">1</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">#å¯è§†åŒ–å›¾å½¢</span></span><br><span class="line">plt.plot(param_range, train_loss_mean, <span class="string">'o-'</span>, color=<span class="string">"r"</span>,</span><br><span class="line">         label=<span class="string">"Training"</span>)</span><br><span class="line">plt.plot(param_range, test_loss_mean, <span class="string">'o-'</span>, color=<span class="string">"g"</span>,</span><br><span class="line">        label=<span class="string">"Cross-validation"</span>)</span><br><span class="line"></span><br><span class="line">plt.xlabel(<span class="string">"gamma"</span>)</span><br><span class="line">plt.ylabel(<span class="string">"Loss"</span>)</span><br><span class="line">plt.legend(loc=<span class="string">"best"</span>)</span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure>
<div class="limg1"><br><img src="/images/python/sklearn-6-cross-validation-3-output_1_1.png" width="400"><br></div>

<p>ç”±å›¾ä¸­å¯ä»¥æ˜æ˜¾çœ‹åˆ° <code>gamma</code> å€¼å¤§äº <code>0.001</code>ï¼Œæ¨¡å‹å°±ä¼šæœ‰è¿‡æ‹Ÿåˆ(<code>Overfitting</code>)çš„é—®é¢˜ã€‚</p>
<h2 id="Reference"><a href="#Reference" class="headerlink" title="Reference"></a>Reference</h2><ul>
<li><a href="http://scikit-learn.org/" target="_blank" rel="external">scikit-learn.org</a></li>
<li><a href="http://scikit-learn.org/stable/tutorial/basic/tutorial.html" target="_blank" rel="external">scikit-learn docs</a></li>
<li><a href="https://morvanzhou.github.io" target="_blank" rel="external">scikit-learn morvanzhou</a></li>
</ul>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[Sklearn Cross-validation 2]]></title>
      <url>http://iequa.com/2018/01/09/py-sklearn-6-cross-validation-2/</url>
      <content type="html"><![CDATA[<p>Sklearn ä¸­çš„ <code>learning curve</code> å¯ä»¥å¾ˆç›´è§‚çš„çœ‹å‡ºæˆ‘ä»¬çš„ <code>model</code> å­¦ä¹ çš„è¿›åº¦, å¯¹æ¯”å‘ç°æœ‰æ²¡æœ‰ <code>overfitting</code> çš„é—®é¢˜. ç„¶åæˆ‘ä»¬å¯ä»¥å¯¹æˆ‘ä»¬çš„ <code>model</code> è¿›è¡Œè°ƒæ•´, å…‹æœ <code>overfitting</code> çš„é—®é¢˜.</p>
<a id="more"></a>
<h2 id="Learning-curve-æ£€è§†è¿‡æ‹Ÿåˆ"><a href="#Learning-curve-æ£€è§†è¿‡æ‹Ÿåˆ" class="headerlink" title="Learning curve æ£€è§†è¿‡æ‹Ÿåˆ"></a>Learning curve æ£€è§†è¿‡æ‹Ÿåˆ</h2><p>åŠ è½½å¯¹åº”æ¨¡å—:</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">from</span> sklearn.learning_curve <span class="keyword">import</span> learning_curve <span class="comment">#å­¦ä¹ æ›²çº¿æ¨¡å—</span></span><br><span class="line"><span class="keyword">from</span> sklearn.datasets <span class="keyword">import</span> load_digits <span class="comment">#digitsæ•°æ®é›†</span></span><br><span class="line"><span class="keyword">from</span> sklearn.svm <span class="keyword">import</span> SVC <span class="comment">#Support Vector Classifier</span></span><br><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt <span class="comment">#å¯è§†åŒ–æ¨¡å—</span></span><br><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br></pre></td></tr></table></figure>
<p>åŠ è½½digitsæ•°æ®é›†ï¼Œå…¶åŒ…å«çš„æ˜¯æ‰‹å†™ä½“çš„æ•°å­—ï¼Œä»0åˆ°9ã€‚<br>æ•°æ®é›†æ€»å…±æœ‰1797ä¸ªæ ·æœ¬ï¼Œæ¯ä¸ªæ ·æœ¬ç”±64ä¸ªç‰¹å¾ç»„æˆï¼Œ åˆ†åˆ«ä¸ºå…¶æ‰‹å†™ä½“å¯¹åº”çš„8Ã—8åƒç´ è¡¨ç¤ºï¼Œæ¯ä¸ªç‰¹å¾å–å€¼0~16ã€‚</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">digits = load_digits()</span><br><span class="line">X = digits.data</span><br><span class="line">y = digits.target</span><br><span class="line"></span><br><span class="line"><span class="comment">#print(len(X[0]))</span></span><br></pre></td></tr></table></figure>
<p>è§‚å¯Ÿæ ·æœ¬ç”±å°åˆ°å¤§çš„å­¦ä¹ æ›²çº¿å˜åŒ–, é‡‡ç”¨KæŠ˜äº¤å‰éªŒè¯ <code>cv=10</code>, é€‰æ‹©å¹³å‡æ–¹å·®æ£€è§†æ¨¡å‹æ•ˆèƒ½ <code>scoring=&#39;mean_squared_error&#39;</code>, æ ·æœ¬ç”±å°åˆ°å¤§åˆ†æˆ5è½®æ£€è§†å­¦ä¹ æ›²çº¿(<code>10%</code>, <code>25%</code>, <code>50%</code>, <code>75%</code>, <code>100%</code>):</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">train_sizes, train_loss, test_loss = learning_curve(</span><br><span class="line">    SVC(gamma=<span class="number">0.001</span>), X, y, cv=<span class="number">10</span>, scoring=<span class="string">'mean_squared_error'</span>,</span><br><span class="line">    train_sizes=[<span class="number">0.1</span>, <span class="number">0.25</span>, <span class="number">0.5</span>, <span class="number">0.75</span>, <span class="number">1</span>])</span><br><span class="line"></span><br><span class="line"><span class="comment">#å¹³å‡æ¯ä¸€è½®æ‰€å¾—åˆ°çš„å¹³å‡æ–¹å·®(å…±5è½®ï¼Œåˆ†åˆ«ä¸ºæ ·æœ¬10%ã€25%ã€50%ã€75%ã€100%)</span></span><br><span class="line">train_loss_mean = -np.mean(train_loss, axis=<span class="number">1</span>)</span><br><span class="line">test_loss_mean = -np.mean(test_loss, axis=<span class="number">1</span>)</span><br></pre></td></tr></table></figure>
<p>å¯è§†åŒ–å›¾å½¢:</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">plt.plot(train_sizes, train_loss_mean, <span class="string">'o-'</span>, color=<span class="string">"r"</span>,</span><br><span class="line">         label=<span class="string">"Training"</span>)</span><br><span class="line">plt.plot(train_sizes, test_loss_mean, <span class="string">'o-'</span>, color=<span class="string">"g"</span>,</span><br><span class="line">        label=<span class="string">"Cross-validation"</span>)</span><br><span class="line"></span><br><span class="line">plt.xlabel(<span class="string">"Training examples"</span>)</span><br><span class="line">plt.ylabel(<span class="string">"Loss"</span>)</span><br><span class="line">plt.legend(loc=<span class="string">"best"</span>)</span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure>
<div class="limg1"><br><img src="/images/python/sklearn-6-cross-validation-2-output_7_0.png" width="400"><br></div>

<h2 id="Reference"><a href="#Reference" class="headerlink" title="Reference"></a>Reference</h2><ul>
<li><a href="http://scikit-learn.org/" target="_blank" rel="external">scikit-learn.org</a></li>
<li><a href="http://scikit-learn.org/stable/tutorial/basic/tutorial.html" target="_blank" rel="external">scikit-learn docs</a></li>
<li><a href="https://morvanzhou.github.io" target="_blank" rel="external">scikit-learn morvanzhou</a></li>
</ul>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[Sklearn Cross-validation 1]]></title>
      <url>http://iequa.com/2018/01/08/py-sklearn-6-cross-validation-1/</url>
      <content type="html"><![CDATA[<p>Sklearn ä¸­çš„ <code>Cross-validation</code> å¯¹äºæˆ‘ä»¬é€‰æ‹©æ­£ç¡®çš„ <code>Model</code> å’Œ <code>Model çš„å‚æ•°</code>æ˜¯éå¸¸æœ‰ç”¨ï¼Œ æœ‰äº†å®ƒæˆ‘ä»¬èƒ½ç›´è§‚çš„çœ‹å‡ºä¸åŒ Model æˆ–è€…å‚æ•°å¯¹ç»“æ„å‡†ç¡®åº¦çš„å½±å“ã€‚</p>
<a id="more"></a>
<h2 id="Model-åŸºç¡€éªŒè¯æ³•"><a href="#Model-åŸºç¡€éªŒè¯æ³•" class="headerlink" title="Model åŸºç¡€éªŒè¯æ³•"></a>Model åŸºç¡€éªŒè¯æ³•</h2><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">from</span> sklearn.datasets <span class="keyword">import</span> load_iris <span class="comment"># irisæ•°æ®é›†</span></span><br><span class="line"><span class="keyword">from</span> sklearn.model_selection <span class="keyword">import</span> train_test_split <span class="comment"># åˆ†å‰²æ•°æ®æ¨¡å—</span></span><br><span class="line"><span class="keyword">from</span> sklearn.neighbors <span class="keyword">import</span> KNeighborsClassifier <span class="comment"># Kæœ€è¿‘é‚»(kNNï¼Œk-NearestNeighbor)åˆ†ç±»ç®—æ³•</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#åŠ è½½irisæ•°æ®é›†</span></span><br><span class="line">iris = load_iris()</span><br><span class="line">X = iris.data</span><br><span class="line">y = iris.target</span><br><span class="line"></span><br><span class="line"><span class="comment">#åˆ†å‰²æ•°æ®å¹¶</span></span><br><span class="line">X_train, X_test, y_train, y_test = train_test_split(X, y, random_state=<span class="number">4</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">#å»ºç«‹æ¨¡å‹</span></span><br><span class="line">knn = KNeighborsClassifier()</span><br><span class="line"></span><br><span class="line"><span class="comment">#è®­ç»ƒæ¨¡å‹</span></span><br><span class="line">knn.fit(X_train, y_train)</span><br><span class="line"></span><br><span class="line"><span class="comment">#å°†å‡†ç¡®ç‡æ‰“å°å‡º</span></span><br><span class="line">print(knn.score(X_test, y_test))</span><br></pre></td></tr></table></figure>
<pre><code>0.973684210526
</code></pre><p>å¯ä»¥çœ‹åˆ°åŸºç¡€éªŒè¯çš„å‡†ç¡®ç‡ä¸º <code>0.973684210526</code></p>
<h2 id="Model-Cross-Validation"><a href="#Model-Cross-Validation" class="headerlink" title="Model Cross Validation"></a>Model Cross Validation</h2><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">from</span> sklearn.cross_validation <span class="keyword">import</span> cross_val_score <span class="comment"># KæŠ˜äº¤å‰éªŒè¯æ¨¡å—</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#ä½¿ç”¨KæŠ˜äº¤å‰éªŒè¯æ¨¡å—</span></span><br><span class="line">scores = cross_val_score(knn, X, y, cv=<span class="number">5</span>, scoring=<span class="string">'accuracy'</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">#å°†5æ¬¡çš„é¢„æµ‹å‡†ç¡®ç‡æ‰“å°å‡º</span></span><br><span class="line">print(scores)</span><br><span class="line"></span><br><span class="line"><span class="comment">#å°†5æ¬¡çš„é¢„æµ‹å‡†ç¡®å¹³å‡ç‡æ‰“å°å‡º</span></span><br><span class="line">print(scores.mean())</span><br></pre></td></tr></table></figure>
<pre><code>[ 0.96666667  1.          0.93333333  0.96666667  1.        ]
0.973333333333
</code></pre><p>å¯ä»¥çœ‹åˆ°äº¤å‰éªŒè¯çš„å‡†ç¡®å¹³å‡ç‡ä¸º <code>0.973333333333</code></p>
<h2 id="Aaccuracy-å‡†ç¡®ç‡åˆ¤æ–­"><a href="#Aaccuracy-å‡†ç¡®ç‡åˆ¤æ–­" class="headerlink" title="Aaccuracy å‡†ç¡®ç‡åˆ¤æ–­"></a>Aaccuracy å‡†ç¡®ç‡åˆ¤æ–­</h2><p>ä¸€èˆ¬æ¥è¯´ <code>å‡†ç¡®ç‡(accuracy)</code> ä¼šç”¨äºåˆ¤æ–­åˆ†ç±»(Classification)æ¨¡å‹çš„å¥½å</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt <span class="comment">#å¯è§†åŒ–æ¨¡å—</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#å»ºç«‹æµ‹è¯•å‚æ•°é›†</span></span><br><span class="line">k_range = range(<span class="number">1</span>, <span class="number">31</span>)</span><br><span class="line"></span><br><span class="line">k_scores = []</span><br><span class="line"></span><br><span class="line"><span class="comment">#è—‰ç”±è¿­ä»£çš„æ–¹å¼æ¥è®¡ç®—ä¸åŒå‚æ•°å¯¹æ¨¡å‹çš„å½±å“ï¼Œå¹¶è¿”å›äº¤å‰éªŒè¯åçš„å¹³å‡å‡†ç¡®ç‡</span></span><br><span class="line"><span class="keyword">for</span> k <span class="keyword">in</span> k_range:</span><br><span class="line">    knn = KNeighborsClassifier(n_neighbors=k)</span><br><span class="line">    scores = cross_val_score(knn, X, y, cv=<span class="number">10</span>, scoring=<span class="string">'accuracy'</span>)</span><br><span class="line">    k_scores.append(scores.mean())</span><br><span class="line"></span><br><span class="line"><span class="comment">#å¯è§†åŒ–æ•°æ®</span></span><br><span class="line">plt.plot(k_range, k_scores)</span><br><span class="line">plt.xlabel(<span class="string">'Value of K for KNN'</span>)</span><br><span class="line">plt.ylabel(<span class="string">'Cross-Validated Accuracy'</span>)</span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure>
<div class="limg1"><br><img src="/images/python/sklearn-6-cross-validation-1-output_6_0.png" width="400"><br></div>

<p>ä»å›¾ä¸­å¾—çŸ¥ï¼Œé€‰æ‹© <code>12~18</code> çš„ <code>k</code> å€¼æœ€å¥½ã€‚é«˜è¿‡ <code>18</code> ä¹‹åï¼Œå‡†ç¡®ç‡å¼€å§‹ä¸‹é™åˆ™æ˜¯å› ä¸ºè¿‡æ‹Ÿåˆ(<code>Over fitting</code>)çš„é—®é¢˜ã€‚</p>
<h2 id="Mean-squared-error"><a href="#Mean-squared-error" class="headerlink" title="Mean squared error"></a>Mean squared error</h2><p>ä¸€èˆ¬æ¥è¯´å¹³å‡æ–¹å·®(<code>Mean squared error</code>)ä¼šç”¨äºåˆ¤æ–­å›å½’(<code>Regression</code>)æ¨¡å‹çš„å¥½å</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br><span class="line">k_range = range(<span class="number">1</span>, <span class="number">31</span>)</span><br><span class="line">k_scores = []</span><br><span class="line"><span class="keyword">for</span> k <span class="keyword">in</span> k_range:</span><br><span class="line">    knn = KNeighborsClassifier(n_neighbors=k)</span><br><span class="line">    loss = -cross_val_score(knn, X, y, cv=<span class="number">10</span>, scoring=<span class="string">'mean_squared_error'</span>)</span><br><span class="line">    k_scores.append(loss.mean())</span><br><span class="line"></span><br><span class="line">plt.plot(k_range, k_scores)</span><br><span class="line">plt.xlabel(<span class="string">'Value of K for KNN'</span>)</span><br><span class="line">plt.ylabel(<span class="string">'Cross-Validated MSE'</span>)</span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure>
<div class="limg1"><br><img src="/images/python/sklearn-6-cross-validation-1-output_8_1.png" width="400"><br></div>

<p>ç”±å›¾å¯ä»¥å¾—çŸ¥ï¼Œå¹³å‡æ–¹å·®è¶Šä½è¶Šå¥½ï¼Œå› æ­¤é€‰æ‹©<code>13~18</code>å·¦å³çš„<code>K</code>å€¼ä¼šæœ€å¥½</p>
<h2 id="Reference"><a href="#Reference" class="headerlink" title="Reference"></a>Reference</h2><ul>
<li><a href="http://scikit-learn.org/" target="_blank" rel="external">scikit-learn.org</a></li>
<li><a href="http://scikit-learn.org/stable/tutorial/basic/tutorial.html" target="_blank" rel="external">scikit-learn docs</a></li>
<li><a href="https://morvanzhou.github.io" target="_blank" rel="external">scikit-learn morvanzhou</a></li>
</ul>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[æ¨å¸…å®Œç¾å‘éŸ³ç­ 10.1]]></title>
      <url>http://iequa.com/2018/01/07/english-ielts-speaking-yangshuai-10.1/</url>
      <content type="html"><![CDATA[<p>ä¸€å®šè¦ä¸æ–­é‡å¤ï¼Œä¸€å®šè¦è¶…çº§å¤¸å¼ ï¼Œä¸€ä¸ªéŸ³ä¸€ä¸ªéŸ³è¯»</p>
<a id="more"></a>
<h2 id="æ˜“é”™è¾…éŸ³"><a href="#æ˜“é”™è¾…éŸ³" class="headerlink" title="æ˜“é”™è¾…éŸ³"></a>æ˜“é”™è¾…éŸ³</h2><p><img src="/images/english/ielts-yangshuai-10.1-1.jpg" width="700"></p>
<div class="limg1"><br><img src="/images/english/ielts-yangshuai-10.1-2.jpg" width="400"><br></div>

<p><img src="/images/english/ielts-yangshuai-10.1-3.jpg" width="700"></p>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[Sklearn Normalization]]></title>
      <url>http://iequa.com/2018/01/06/py-sklearn-5-normalization/</url>
      <content type="html"><![CDATA[<p>Data Normalization å¯ä»¥æå‡æœºå™¨å­¦ä¹ çš„æˆæ•ˆ</p>
<a id="more"></a>
<h2 id="Normalization"><a href="#Normalization" class="headerlink" title="Normalization"></a>Normalization</h2><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">from</span> sklearn <span class="keyword">import</span> preprocessing <span class="comment">#æ ‡å‡†åŒ–æ•°æ®æ¨¡å—</span></span><br><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"></span><br><span class="line"><span class="comment"># å»ºç«‹Array</span></span><br><span class="line">a = np.array([[<span class="number">10</span>, <span class="number">2.7</span>, <span class="number">3.6</span>],</span><br><span class="line">              [<span class="number">-100</span>, <span class="number">5</span>, <span class="number">-2</span>],</span><br><span class="line">              [<span class="number">120</span>, <span class="number">20</span>, <span class="number">40</span>]], dtype=np.float64)</span><br><span class="line"></span><br><span class="line"><span class="comment"># å°†normalizedåçš„aæ‰“å°å‡º</span></span><br><span class="line">print(preprocessing.scale(a))</span><br></pre></td></tr></table></figure>
<pre><code>[[ 0.         -0.85170713 -0.55138018]
 [-1.22474487 -0.55187146 -0.852133  ]
 [ 1.22474487  1.40357859  1.40351318]]
</code></pre><h2 id="Normalization-å¯¹ç»“æœçš„å½±å“"><a href="#Normalization-å¯¹ç»“æœçš„å½±å“" class="headerlink" title="Normalization å¯¹ç»“æœçš„å½±å“"></a>Normalization å¯¹ç»“æœçš„å½±å“</h2><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment"># æ ‡å‡†åŒ–æ•°æ®æ¨¡å—</span></span><br><span class="line"><span class="keyword">from</span> sklearn <span class="keyword">import</span> preprocessing </span><br><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"></span><br><span class="line"><span class="comment"># å°†èµ„æ–™åˆ†å‰²æˆtrainä¸testçš„æ¨¡å—</span></span><br><span class="line"><span class="keyword">from</span> sklearn.model_selection <span class="keyword">import</span> train_test_split</span><br><span class="line"></span><br><span class="line"><span class="comment"># ç”Ÿæˆé€‚åˆåšclassificationèµ„æ–™çš„æ¨¡å—</span></span><br><span class="line"><span class="keyword">from</span> sklearn.datasets.samples_generator <span class="keyword">import</span> make_classification </span><br><span class="line"></span><br><span class="line"><span class="comment"># Support Vector Machineä¸­çš„Support Vector Classifier</span></span><br><span class="line"><span class="keyword">from</span> sklearn.svm <span class="keyword">import</span> SVC </span><br><span class="line"></span><br><span class="line"><span class="comment"># å¯è§†åŒ–æ•°æ®çš„æ¨¡å—</span></span><br><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br></pre></td></tr></table></figure>
<h3 id="ç”Ÿæˆé€‚åˆåš-Classification-æ•°æ®"><a href="#ç”Ÿæˆé€‚åˆåš-Classification-æ•°æ®" class="headerlink" title="ç”Ÿæˆé€‚åˆåš Classification æ•°æ®"></a>ç”Ÿæˆé€‚åˆåš Classification æ•°æ®</h3><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment"># ç”Ÿæˆå…·æœ‰2ç§å±æ€§çš„300ç¬”æ•°æ®</span></span><br><span class="line">X, y = make_classification(</span><br><span class="line">    n_samples=<span class="number">300</span>, n_features=<span class="number">2</span>,</span><br><span class="line">    n_redundant=<span class="number">0</span>, n_informative=<span class="number">2</span>, </span><br><span class="line">    random_state=<span class="number">22</span>, n_clusters_per_class=<span class="number">1</span>, </span><br><span class="line">    scale=<span class="number">100</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># n_features ç‰¹å¾ä¸ªæ•° = n_informativeï¼ˆï¼‰ + n_redundant + n_repeated</span></span><br><span class="line"><span class="comment"># n_informative å¤šä¿¡æ¯ç‰¹å¾çš„ä¸ªæ•°</span></span><br><span class="line"><span class="comment"># n_redundant å†—ä½™ä¿¡æ¯ï¼Œinformative ç‰¹å¾çš„éšæœºçº¿æ€§ç»„åˆ</span></span><br><span class="line"><span class="comment"># n_classes åˆ†ç±»ç±»åˆ«</span></span><br><span class="line"><span class="comment"># n_clusters_per_class æŸä¸€ä¸ªç±»åˆ«æ˜¯ç”±å‡ ä¸ª cluster æ„æˆçš„</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#å¯è§†åŒ–æ•°æ®</span></span><br><span class="line">plt.scatter(X[:, <span class="number">0</span>], X[:, <span class="number">1</span>], c=y)</span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure>
<div class="limg1"><br><img src="/images/python/sklearn-5-normalization-output_5_0.png" width="400"><br></div>

<h3 id="data-normalization-before"><a href="#data-normalization-before" class="headerlink" title="data normalization before"></a>data normalization before</h3><figure class="highlight python"><table><tr><td class="code"><pre><span class="line">X_train, X_test, y_train, y_test = train_test_split(X, y, test_size=<span class="number">0.3</span>)</span><br><span class="line">clf = SVC()</span><br><span class="line">clf.fit(X_train, y_train)</span><br><span class="line">print(clf.score(X_test, y_test))</span><br></pre></td></tr></table></figure>
<pre><code>0.477777777778
</code></pre><h3 id="data-normalization-after"><a href="#data-normalization-after" class="headerlink" title="data normalization after"></a>data normalization after</h3><p>æ•°æ®çš„å•ä½å‘ç”Ÿäº†å˜åŒ–, <code>X</code> æ•°æ®ä¹Ÿè¢«å‹ç¼©åˆ°å·®ä¸å¤šå¤§å°èŒƒå›´.</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">X = preprocessing.scale(X)</span><br><span class="line">X_train, X_test, y_train, y_test = train_test_split(X, y, test_size=<span class="number">0.3</span>)</span><br><span class="line">clf = SVC()</span><br><span class="line">clf.fit(X_train, y_train)</span><br><span class="line">print(clf.score(X_test, y_test))</span><br><span class="line"><span class="comment"># 0.9</span></span><br></pre></td></tr></table></figure>
<pre><code>0.933333333333
</code></pre><h2 id="Reference"><a href="#Reference" class="headerlink" title="Reference"></a>Reference</h2><ul>
<li><a href="http://scikit-learn.org/" target="_blank" rel="external">scikit-learn.org</a></li>
<li><a href="http://scikit-learn.org/stable/tutorial/basic/tutorial.html" target="_blank" rel="external">scikit-learn docs</a></li>
<li><a href="https://morvanzhou.github.io" target="_blank" rel="external">scikit-learn morvanzhou</a></li>
</ul>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[Sklearn General Learning Model]]></title>
      <url>http://iequa.com/2018/01/05/py-sklearn-2-general-learning-model/</url>
      <content type="html"><![CDATA[<p>Sklearn æŠŠæ‰€æœ‰æœºå™¨å­¦ä¹ çš„æ¨¡å¼æ•´åˆç»Ÿä¸€èµ·æ¥äº†ï¼Œå­¦ä¼šäº†ä¸€ä¸ªæ¨¡å¼å°±å¯ä»¥é€šåƒå…¶ä»–ä¸åŒç±»å‹çš„å­¦ä¹ æ¨¡å¼</p>
<a id="more"></a>
<h2 id="ä½¿ç”¨åˆ†ç±»å™¨"><a href="#ä½¿ç”¨åˆ†ç±»å™¨" class="headerlink" title="ä½¿ç”¨åˆ†ç±»å™¨"></a>ä½¿ç”¨åˆ†ç±»å™¨</h2><p>Sklearn æœ¬èº«å°±æœ‰å¾ˆå¤šæ•°æ®åº“ï¼Œå¯ä»¥ç”¨æ¥ç»ƒä¹ ã€‚ ä»¥ Iris çš„æ•°æ®ä¸ºä¾‹ï¼Œè¿™ç§èŠ±æœ‰å››ä¸ªå±æ€§ï¼ŒèŠ±ç“£çš„é•¿å®½ï¼ŒèŒçš„é•¿å®½ï¼Œæ ¹æ®è¿™äº›å±æ€§æŠŠèŠ±åˆ†ä¸ºä¸‰ç±»ã€‚</p>
<p>æˆ‘ä»¬è¦ç”¨ åˆ†ç±»å™¨ å»æŠŠå››ç§ç±»å‹çš„èŠ±åˆ†å¼€ã€‚</p>
<p><img src="/images/python/sklearn-2-general-learning-model.png" alt=""></p>
<p>ä»Šå¤©ç”¨ <code>KNN classifier</code>ï¼Œå°±æ˜¯é€‰æ‹©å‡ ä¸ªä¸´è¿‘ç‚¹ï¼Œç»¼åˆå®ƒä»¬åšä¸ªå¹³å‡æ¥ä½œä¸ºé¢„æµ‹å€¼</p>
<h2 id="å¯¼å…¥æ¨¡å—"><a href="#å¯¼å…¥æ¨¡å—" class="headerlink" title="å¯¼å…¥æ¨¡å—"></a>å¯¼å…¥æ¨¡å—</h2><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">from</span> sklearn <span class="keyword">import</span> datasets</span><br><span class="line"><span class="keyword">from</span> sklearn.model_selection <span class="keyword">import</span> train_test_split</span><br><span class="line"><span class="keyword">from</span> sklearn.neighbors <span class="keyword">import</span> KNeighborsClassifier</span><br></pre></td></tr></table></figure>
<h2 id="åˆ›å»ºæ•°æ®"><a href="#åˆ›å»ºæ•°æ®" class="headerlink" title="åˆ›å»ºæ•°æ®"></a>åˆ›å»ºæ•°æ®</h2><p>åŠ è½½ <code>iris</code> çš„æ•°æ®ï¼ŒæŠŠå±æ€§å­˜åœ¨ <code>X</code>ï¼Œç±»åˆ«æ ‡ç­¾å­˜åœ¨ <code>y</code>ï¼š</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">iris = datasets.load_iris()</span><br><span class="line"></span><br><span class="line">iris_X = iris.data</span><br><span class="line">iris_y = iris.target</span><br></pre></td></tr></table></figure>
<p>è§‚å¯Ÿä¸€ä¸‹æ•°æ®é›†ï¼Œ<code>X</code> æœ‰å››ä¸ªå±æ€§ï¼Œ<code>y</code> æœ‰ <code>0</code>ï¼Œ<code>1</code>ï¼Œ<code>2</code> ä¸‰ç±»ï¼š</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">print(iris_X[:<span class="number">2</span>, :])</span><br><span class="line">print(iris_y)</span><br></pre></td></tr></table></figure>
<pre><code>[[ 5.1  3.5  1.4  0.2]
 [ 4.9  3.   1.4  0.2]]
[0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
 0 0 0 0 0 0 0 0 0 0 0 0 0 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1
 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 2 2 2 2 2 2 2 2 2 2 2
 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2
 2 2]
</code></pre><p>æŠŠæ•°æ®é›†åˆ†ä¸ºè®­ç»ƒé›†å’Œæµ‹è¯•é›†ï¼Œå…¶ä¸­ <code>test_size=0.3</code>ï¼Œå³æµ‹è¯•é›†å æ€»æ•°æ®çš„ 30%ï¼š</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">X_train, X_test, y_train, y_test = train_test_split(iris_X, iris_y, test_size=<span class="number">0.3</span>)</span><br></pre></td></tr></table></figure>
<p>å¯ä»¥çœ‹åˆ°åˆ†å¼€åçš„æ•°æ®é›†ï¼Œé¡ºåºä¹Ÿè¢«æ‰“ä¹±ï¼Œè¿™æ ·æ›´æœ‰åˆ©äºå­¦ä¹ æ¨¡å‹ï¼š</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">print(y_train)</span><br></pre></td></tr></table></figure>
<pre><code>[0 0 2 2 1 0 2 0 1 1 0 2 1 2 2 0 0 1 0 1 0 2 1 1 1 2 2 1 0 0 2 2 2 2 2 1 0
 0 0 0 1 2 1 2 1 0 2 1 2 2 2 1 0 1 2 1 0 0 2 1 1 0 2 2 0 2 1 0 0 2 0 0 0 1
 2 0 1 1 2 2 0 1 0 2 2 0 1 0 0 1 2 1 1 2 2 1 1 0 0 2 0 0 1 1 0]
</code></pre><h2 id="å»ºç«‹æ¨¡å‹ï¼è®­ç»ƒï¼é¢„æµ‹"><a href="#å»ºç«‹æ¨¡å‹ï¼è®­ç»ƒï¼é¢„æµ‹" class="headerlink" title="å»ºç«‹æ¨¡å‹ï¼è®­ç»ƒï¼é¢„æµ‹"></a>å»ºç«‹æ¨¡å‹ï¼è®­ç»ƒï¼é¢„æµ‹</h2><p>å®šä¹‰æ¨¡å—æ–¹å¼ <code>KNeighborsClassifier()</code>ï¼Œ ç”¨ <code>fit</code> æ¥è®­ç»ƒ <code>training data</code>ï¼Œè¿™ä¸€æ­¥å°±å®Œæˆäº†è®­ç»ƒçš„æ‰€æœ‰æ­¥éª¤ï¼Œ åé¢çš„ <code>knn</code> å°±å·²ç»æ˜¯è®­ç»ƒå¥½çš„æ¨¡å‹ï¼Œå¯ä»¥ç›´æ¥ç”¨æ¥ <code>predict</code> æµ‹è¯•é›†çš„æ•°æ®ï¼Œ å¯¹æ¯”ç”¨æ¨¡å‹é¢„æµ‹çš„å€¼ä¸çœŸå®çš„å€¼ï¼Œå¯ä»¥çœ‹åˆ°å¤§æ¦‚æ¨¡æ‹Ÿå‡ºäº†æ•°æ®ï¼Œä½†æ˜¯æœ‰è¯¯å·®ï¼Œæ˜¯ä¸ä¼šå®Œå®Œå…¨å…¨é¢„æµ‹æ­£ç¡®çš„</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">knn = KNeighborsClassifier()</span><br><span class="line">knn.fit(X_train, y_train)</span><br><span class="line"></span><br><span class="line">print(knn.predict(X_test))</span><br><span class="line">print(y_test)</span><br></pre></td></tr></table></figure>
<pre><code>[1 0 1 0 1 2 0 1 0 1 2 1 1 1 2 2 1 2 0 1 2 0 0 2 1 2 1 1 0 1 1 0 2 2 2 0 1
 0 2 0 2 0 1 2 1]
[1 0 1 0 1 2 0 1 0 1 2 1 1 1 2 2 1 2 0 1 2 0 0 2 1 2 1 1 0 1 1 0 2 2 2 0 1
 0 2 0 2 0 2 2 1]
</code></pre><h2 id="Reference"><a href="#Reference" class="headerlink" title="Reference"></a>Reference</h2><ul>
<li><a href="http://scikit-learn.org/" target="_blank" rel="external">scikit-learn.org</a></li>
<li><a href="http://scikit-learn.org/stable/tutorial/basic/tutorial.html" target="_blank" rel="external">scikit-learn docs</a></li>
<li><a href="https://morvanzhou.github.io" target="_blank" rel="external">scikit-learn morvanzhou</a></li>
</ul>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[Sklearn Common Attributes and Functions]]></title>
      <url>http://iequa.com/2018/01/05/py-sklearn-4-common-attributes/</url>
      <content type="html"><![CDATA[<p>ä»Šå¤©æ¥çœ‹ <code>Model</code> çš„å±æ€§å’ŒåŠŸèƒ½, è¿™é‡Œä»¥ <code>LinearRegressor</code> ä¸ºä¾‹ï¼Œæ‰€ä»¥å…ˆå¯¼å…¥åŒ…ï¼Œæ•°æ®ï¼Œè¿˜æœ‰æ¨¡å‹</p>
<a id="more"></a>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">from</span> sklearn <span class="keyword">import</span> datasets</span><br><span class="line"><span class="keyword">from</span> sklearn.linear_model <span class="keyword">import</span> LinearRegression</span><br><span class="line"></span><br><span class="line">loaded_data = datasets.load_boston()</span><br><span class="line"></span><br><span class="line">data_X = loaded_data.data</span><br><span class="line">data_y = loaded_data.target</span><br><span class="line"></span><br><span class="line">model = LinearRegression()</span><br></pre></td></tr></table></figure>
<h2 id="è®­ç»ƒå’Œé¢„æµ‹"><a href="#è®­ç»ƒå’Œé¢„æµ‹" class="headerlink" title="è®­ç»ƒå’Œé¢„æµ‹"></a>è®­ç»ƒå’Œé¢„æµ‹</h2><p>æ¥ä¸‹æ¥ <code>model.fit</code> å’Œ <code>model.predict</code> å°±å±äº <code>Model</code> çš„åŠŸèƒ½ï¼Œç”¨æ¥è®­ç»ƒæ¨¡å‹ï¼Œç”¨è®­ç»ƒå¥½çš„æ¨¡å‹é¢„æµ‹</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">model.fit(data_X, data_y)</span><br><span class="line"></span><br><span class="line">print(model.predict(data_X[:<span class="number">4</span>, :]))</span><br></pre></td></tr></table></figure>
<pre><code>[ 30.00821269  25.0298606   30.5702317   28.60814055]
</code></pre><h2 id="å‚æ•°å’Œåˆ†æ•°"><a href="#å‚æ•°å’Œåˆ†æ•°" class="headerlink" title="å‚æ•°å’Œåˆ†æ•°"></a>å‚æ•°å’Œåˆ†æ•°</h2><p><code>model.coef_</code> å’Œ <code>model.intercept_</code> å±äº <code>Model</code> çš„å±æ€§ï¼Œ ä¾‹å¦‚å¯¹äº <code>LinearRegressor</code> è¿™ä¸ªæ¨¡å‹ï¼Œè¿™ä¸¤ä¸ªå±æ€§åˆ†åˆ«è¾“å‡ºæ¨¡å‹çš„æ–œç‡å’Œæˆªè·ï¼ˆä¸yè½´çš„äº¤ç‚¹ï¼‰</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">print(model.coef_)</span><br><span class="line">print(model.intercept_)</span><br></pre></td></tr></table></figure>
<pre><code>[ -1.07170557e-01   4.63952195e-02   2.08602395e-02   2.68856140e+00
  -1.77957587e+01   3.80475246e+00   7.51061703e-04  -1.47575880e+00
   3.05655038e-01  -1.23293463e-02  -9.53463555e-01   9.39251272e-03
  -5.25466633e-01]
36.4911032804
</code></pre><p><code>model.get_params()</code> ä¹Ÿæ˜¯åŠŸèƒ½ï¼Œå®ƒå¯ä»¥å–å‡ºä¹‹å‰å®šä¹‰çš„å‚æ•°</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">print(model.get_params())</span><br></pre></td></tr></table></figure>
<pre><code>{&apos;copy_X&apos;: True, &apos;fit_intercept&apos;: True, &apos;n_jobs&apos;: 1, &apos;normalize&apos;: False}
</code></pre><p><code>model.score(data_X, data_y)</code> å®ƒå¯ä»¥å¯¹ <code>Model</code> ç”¨ <code>R^2</code> çš„æ–¹å¼è¿›è¡Œæ‰“åˆ†ï¼Œè¾“å‡ºç²¾ç¡®åº¦ã€‚<br>å…³äº <code>R^2 coefficient of determination</code> å¯ä»¥æŸ¥çœ‹ <a href="https://en.wikipedia.org/wiki/Coefficient_of_determination" target="_blank" rel="external">Coefficient_of_determination</a></p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">print(model.score(data_X, data_y)) <span class="comment"># R^2 coefficient of determination</span></span><br></pre></td></tr></table></figure>
<pre><code>0.740607742865
</code></pre><blockquote>
<p>æŒ‰æ ‡å‡†çš„æ¥è¯´, æ˜¯è¦å°†æ•°æ®åˆ†æˆè®­ç»ƒæ•°æ®å’Œæµ‹è¯•æ•°æ®, è¿™é‡Œä¸æ˜¯ä¸€ä¸ªå®Œæ•´çš„æµ‹è¯•, åªæ˜¯å±•ç¤º model é‡Œé¢çš„ä¸€äº›å±æ€§. æ­£ç¡®ç‡å¾ˆå°‘èƒ½çœŸæ­£100%, å–å†³äºæ‹Ÿåˆåº¦æ€ä¹ˆæ ·. æ‹Ÿåˆåº¦å¥½, æ­£ç¡®ç‡é«˜</p>
</blockquote>
<h2 id="Reference"><a href="#Reference" class="headerlink" title="Reference"></a>Reference</h2><ul>
<li><a href="http://scikit-learn.org/" target="_blank" rel="external">scikit-learn.org</a></li>
<li><a href="http://scikit-learn.org/stable/tutorial/basic/tutorial.html" target="_blank" rel="external">scikit-learn docs</a></li>
<li><a href="https://morvanzhou.github.io" target="_blank" rel="external">scikit-learn morvanzhou</a></li>
</ul>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[Sklearn DataSets]]></title>
      <url>http://iequa.com/2018/01/03/py-sklearn-3-database/</url>
      <content type="html"><![CDATA[<p>Sklearn ä¸­çš„ <a href="http://scikit-learn.org/stable/modules/classes.html#module-sklearn.datasets" target="_blank" rel="external">data sets</a>ï¼Œå¾ˆå¤šè€Œä¸”æœ‰ç”¨ï¼Œå¯ä»¥ç”¨æ¥å­¦ä¹ ç®—æ³•æ¨¡å‹</p>
<a id="more"></a>
<h2 id="è¦ç‚¹"><a href="#è¦ç‚¹" class="headerlink" title="è¦ç‚¹"></a>è¦ç‚¹</h2><p>eg: boston æˆ¿ä»·, ç³–å°¿ç—…, æ•°å­—, Iris èŠ±ã€‚</p>
<p>ä¹Ÿå¯ä»¥ç”Ÿæˆè™šæ‹Ÿçš„æ•°æ®ï¼Œä¾‹å¦‚ç”¨æ¥è®­ç»ƒçº¿æ€§å›å½’æ¨¡å‹çš„æ•°æ®ï¼Œå¯ä»¥ç”¨å‡½æ•°æ¥ç”Ÿæˆ</p>
<div class="limg1"><br><img src="/images/python/sklearn-3-datasets-1.png" width="400"><br></div><br><!--![][img-1]--><br><br>ä¾‹å¦‚ï¼Œç‚¹å‡»è¿›å…¥ boston æˆ¿ä»·çš„æ•°æ®ï¼Œå¯ä»¥çœ‹åˆ° <code>sample</code> çš„æ€»æ•°ï¼Œå±æ€§ï¼Œä»¥åŠ <code>label</code> ç­‰ä¿¡æ¯<br><br><div class="limg1"><br><img src="/images/python/sklearn-3-datasets-2.png" width="650"><br></div>

<p>å¦‚æœæ˜¯è‡ªå·±ç”Ÿæˆæ•°æ®ï¼ŒæŒ‰ç…§å‡½æ•°çš„å½¢å¼ï¼Œè¾“å…¥ <code>sample</code>ï¼Œ<code>feature</code>ï¼Œ<code>target</code> çš„ä¸ªæ•°ç­‰ç­‰ã€‚</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">sklearn.datasets.make_regression(n_samples=<span class="number">100</span>, n_features=<span class="number">100</span>, n_informative=<span class="number">10</span>, n_targets=<span class="number">1</span>, bias=<span class="number">0.0</span>, effective_rank=<span class="keyword">None</span>, tail_strength=<span class="number">0.5</span>, noise=<span class="number">0.0</span>, shuffle=<span class="keyword">True</span>, coef=<span class="keyword">False</span>, random_state=<span class="keyword">None</span>)[source]</span><br></pre></td></tr></table></figure>
<p>æ¥ä¸‹æ¥ç”¨ä»£ç ç»ƒä¹ â€¦</p>
<h2 id="å¯¼å…¥æ¨¡å—"><a href="#å¯¼å…¥æ¨¡å—" class="headerlink" title="å¯¼å…¥æ¨¡å—"></a>å¯¼å…¥æ¨¡å—</h2><p>å¯¼å…¥ <code>datasets</code> åŒ…ï¼Œä»¥ Linear Regression ä¸ºä¾‹</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">from</span> __future__ <span class="keyword">import</span> print_function</span><br><span class="line"></span><br><span class="line"><span class="keyword">from</span> sklearn <span class="keyword">import</span> datasets</span><br><span class="line"><span class="keyword">from</span> sklearn.linear_model <span class="keyword">import</span> LinearRegression</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br></pre></td></tr></table></figure>
<h2 id="å¯¼å…¥æ•°æ®ï¼è®­ç»ƒæ¨¡å‹"><a href="#å¯¼å…¥æ•°æ®ï¼è®­ç»ƒæ¨¡å‹" class="headerlink" title="å¯¼å…¥æ•°æ®ï¼è®­ç»ƒæ¨¡å‹"></a>å¯¼å…¥æ•°æ®ï¼è®­ç»ƒæ¨¡å‹</h2><p>ç”¨ <code>datasets.load_boston()</code> çš„å½¢å¼åŠ è½½æ•°æ®ï¼Œå¹¶ç»™ <code>X</code> å’Œ <code>y</code> èµ‹å€¼ï¼Œè¿™ç§å½¢å¼åœ¨ Sklearn ä¸­éƒ½æ˜¯é«˜åº¦ç»Ÿä¸€çš„</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">loaded_data = datasets.load_boston()</span><br><span class="line"></span><br><span class="line">data_X = loaded_data.data</span><br><span class="line">data_y = loaded_data.target</span><br><span class="line"></span><br><span class="line">print(data_X[:<span class="number">4</span>, <span class="number">0</span>]) <span class="comment"># == print(data_X[:4][0])</span></span><br><span class="line">print(data_y[:<span class="number">4</span>])</span><br></pre></td></tr></table></figure>
<pre><code>[ 0.00632  0.02731  0.02729  0.03237]
[ 24.   21.6  34.7  33.4]
</code></pre><p>å®šä¹‰æ¨¡å‹</p>
<p>å¯ä»¥ç›´æ¥ç”¨é»˜è®¤å€¼å»å»ºç«‹ <code>model</code>ï¼Œé»˜è®¤å€¼ä¹Ÿä¸é”™ï¼Œä¹Ÿå¯ä»¥è‡ªå·±æ”¹å˜å‚æ•°ä½¿æ¨¡å‹æ›´å¥½ã€‚ ç„¶åç”¨ <code>training data</code> è®­ç»ƒæ¨¡å‹</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">model = LinearRegression()</span><br><span class="line">model.fit(data_X, data_y)</span><br></pre></td></tr></table></figure>
<pre><code>LinearRegression(copy_X=True, fit_intercept=True, n_jobs=1, normalize=False)
</code></pre><p>å†æ‰“å°å‡ºé¢„æµ‹å€¼ï¼Œè¿™é‡Œç”¨ <code>X</code> çš„å‰ 4 ä¸ªæ¥é¢„æµ‹ï¼ŒåŒæ—¶æ‰“å°çœŸå®å€¼ï¼Œä½œä¸ºå¯¹æ¯”ï¼Œå¯ä»¥çœ‹åˆ°æ˜¯æœ‰äº›è¯¯å·®çš„</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">print(model.predict(data_X[:<span class="number">4</span>, :]))</span><br><span class="line">print(data_y[:<span class="number">4</span>])</span><br></pre></td></tr></table></figure>
<pre><code>[ 30.00821269  25.0298606   30.5702317   28.60814055]
[ 24.   21.6  34.7  33.4]
</code></pre><p>ä¸ºäº†æé«˜å‡†ç¡®åº¦ï¼Œå¯ä»¥é€šè¿‡å°è¯•ä¸åŒçš„ <code>model</code>ï¼Œä¸åŒçš„å‚æ•°ï¼Œä¸åŒçš„é¢„å¤„ç†ç­‰æ–¹æ³•ï¼Œå…¥é—¨çš„è¯å¯ä»¥ç›´æ¥ç”¨é»˜è®¤å€¼</p>
<h2 id="åˆ›å»ºè™šæ‹Ÿæ•°æ®ï¼å¯è§†åŒ–"><a href="#åˆ›å»ºè™šæ‹Ÿæ•°æ®ï¼å¯è§†åŒ–" class="headerlink" title="åˆ›å»ºè™šæ‹Ÿæ•°æ®ï¼å¯è§†åŒ–"></a>åˆ›å»ºè™šæ‹Ÿæ•°æ®ï¼å¯è§†åŒ–</h2><p>ä¸‹é¢æ˜¯åˆ›é€ æ•°æ®çš„ä¾‹å­ã€‚</p>
<p>ç”¨å‡½æ•°æ¥å»ºç«‹ 100 ä¸ª <code>sample</code>ï¼Œæœ‰ä¸€ä¸ª <code>feature</code>ï¼Œå’Œä¸€ä¸ª <code>target</code>ï¼Œè¿™æ ·æ¯”è¾ƒæ–¹ä¾¿å¯è§†åŒ–ã€‚</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">X, y = datasets.make_regression(n_samples=<span class="number">100</span>, n_features=<span class="number">1</span>, n_targets=<span class="number">1</span>, noise=<span class="number">3</span>)</span><br></pre></td></tr></table></figure>
<p>ç”¨ scatter çš„å½¢å¼æ¥è¾“å‡ºç»“æœ</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">plt.scatter(X, y)</span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure>
<div class="limg1"><br><img src="/images/python/sklearn-3-datasets-output_11_0.png"><br></div>

<p>å¯ä»¥çœ‹åˆ°ç”¨å‡½æ•°ç”Ÿæˆçš„ <code>Linear Regression</code> ç”¨çš„æ•°æ®ã€‚</p>
<p><code>noise</code> è¶Šå¤§çš„è¯ï¼Œç‚¹å°±ä¼šè¶Šæ¥è¶Šç¦»æ•£ï¼Œä¾‹å¦‚ <code>noise</code> ç”± 10 å˜ä¸º 50.</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">X, y = datasets.make_regression(n_samples=<span class="number">100</span>, n_features=<span class="number">1</span>, n_targets=<span class="number">1</span>, noise=<span class="number">50</span>)</span><br><span class="line">plt.scatter(X, y)</span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure>
<div class="limg1"><br><img src="/images/python/sklearn-3-datasets-output_13_0.png"><br></div>

<!--![output_13_0][img-4]-->
<h2 id="Reference"><a href="#Reference" class="headerlink" title="Reference"></a>Reference</h2><ul>
<li><a href="http://scikit-learn.org/" target="_blank" rel="external">scikit-learn.org</a></li>
<li><a href="http://scikit-learn.org/stable/tutorial/basic/tutorial.html" target="_blank" rel="external">scikit-learn docs</a></li>
<li><a href="http://scikit-learn.org/stable/modules/classes.html#module-sklearn.datasets" target="_blank" rel="external">scikit-learn machine_learning_map</a></li>
</ul>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[Sklearn Choosing The Right Estimator]]></title>
      <url>http://iequa.com/2018/01/03/py-sklearn-1-choosing-estimator/</url>
      <content type="html"><![CDATA[<p>Sciki-learn é€‰æ‹©å­¦ä¹ æ–¹æ³•ï¼Œé€‰æ‹©æ¨¡å‹ <a href="http://scikit-learn.org/stable/tutorial/machine_learning_map/index.html" target="_blank" rel="external">æµç¨‹å›¾</a></p>
<a id="more"></a>
<p>Sklearn å®˜ç½‘æä¾›äº†ä¸€ä¸ªæµç¨‹å›¾ï¼Œè“è‰²åœ†åœˆå†…æ˜¯åˆ¤æ–­æ¡ä»¶ï¼Œç»¿è‰²æ–¹æ¡†å†…æ˜¯å¯ä»¥é€‰æ‹©çš„ç®—æ³•ï¼š<a href="http://scikit-learn.org/stable/tutorial/machine_learning_map/index.html" target="_blank" rel="external">è¯¦æƒ…</a></p>
<p><img src="/images/python/sklearn-1-model-choosing.png" alt="http://scikit-learn.org/stable/tutorial/machine_learning_map/index.html]"></p>
<p>ä» START å¼€å§‹ï¼Œé¦–å…ˆçœ‹æ•°æ®çš„æ ·æœ¬æ˜¯å¦ <code>&gt;50</code>ï¼Œå°äºåˆ™éœ€è¦æ”¶é›†æ›´å¤šçš„æ•°æ®ã€‚</p>
<p>ç”±å›¾ä¸­ï¼Œå¯ä»¥çœ‹åˆ°ç®—æ³•æœ‰å››ç±»ï¼Œ<code>åˆ†ç±»</code>ï¼Œ<code>å›å½’</code>ï¼Œ<code>èšç±»</code>ï¼Œ<code>é™ç»´</code>ã€‚</p>
<table>
<thead>
<tr>
<th>algorithm</th>
<th>desc</th>
</tr>
</thead>
<tbody>
<tr>
<td>åˆ†ç±»</td>
<td>ç›‘ç£å¼å­¦ä¹ ï¼Œå³æ¯ä¸ªæ•°æ®å¯¹åº”ä¸€ä¸ª label </td>
</tr>
<tr>
<td>å›å½’</td>
<td>ç›‘ç£å¼å­¦ä¹ ï¼Œå³æ¯ä¸ªæ•°æ®å¯¹åº”ä¸€ä¸ª label </td>
</tr>
<tr>
<td>èšç±»</td>
<td>éç›‘ç£å¼å­¦ä¹ ï¼Œå³æ²¡æœ‰ labelã€‚ </td>
</tr>
<tr>
<td>é™ç»´</td>
<td>å½“æ•°æ®é›†æœ‰å¾ˆå¤šå¾ˆå¤šå±æ€§çš„æ—¶å€™ï¼Œå¯ä»¥é€šè¿‡ é™ç»´ ç®—æ³•æŠŠå±æ€§å½’çº³èµ·æ¥ã€‚<br><br> ä¾‹å¦‚ 20 ä¸ªå±æ€§åªå˜æˆ 2 ä¸ªï¼Œæ³¨æ„ï¼Œè¿™ä¸æ˜¯æŒ‘å‡º 2 ä¸ªï¼Œè€Œæ˜¯å‹ç¼©æˆä¸º 2 ä¸ªï¼Œ<br>å®ƒä»¬é›†åˆäº† 20 ä¸ªå±æ€§çš„æ‰€æœ‰ç‰¹å¾ï¼Œç›¸å½“äºæŠŠé‡è¦çš„ä¿¡æ¯æå–çš„æ›´å¥½ï¼Œä¸é‡è¦çš„ä¿¡æ¯å°±ä¸è¦äº†</td>
</tr>
</tbody>
</table>
<p>ç„¶åçœ‹é—®é¢˜å±äºå“ªä¸€ç±»é—®é¢˜ï¼Œæ˜¯åˆ†ç±»è¿˜æ˜¯å›å½’ï¼Œè¿˜æ˜¯èšç±»ï¼Œå°±é€‰æ‹©ç›¸åº”çš„ç®—æ³•ã€‚ å½“ç„¶è¿˜è¦è€ƒè™‘æ•°æ®çš„å¤§å°ï¼Œä¾‹å¦‚ <code>100K</code> æ˜¯ä¸€ä¸ªé˜ˆå€¼ã€‚</p>
<p>å¯ä»¥å‘ç°æœ‰äº›æ–¹æ³•æ˜¯æ—¢å¯ä»¥ä½œä¸ºåˆ†ç±»ï¼Œä¹Ÿå¯ä»¥ä½œä¸ºå›å½’ï¼Œä¾‹å¦‚ <code>SGD</code>ã€‚</p>
<h2 id="Reference"><a href="#Reference" class="headerlink" title="Reference"></a>Reference</h2><ul>
<li><a href="http://scikit-learn.org/" target="_blank" rel="external">scikit-learn.org</a></li>
<li><a href="http://scikit-learn.org/stable/tutorial/basic/tutorial.html" target="_blank" rel="external">scikit-learn docs</a></li>
<li><a href="http://scikit-learn.org/stable/tutorial/machine_learning_map/index.html" target="_blank" rel="external">scikit-learn machine_learning_map</a></li>
</ul>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[Sklearn Why ?]]></title>
      <url>http://iequa.com/2018/01/03/py-sklearn-0-why/</url>
      <content type="html"><![CDATA[<p>Scikit learn ä¹Ÿç®€ç§° sklearn, æ˜¯æœºå™¨å­¦ä¹ é¢†åŸŸå½“ä¸­æœ€çŸ¥åçš„ python æ¨¡å—ä¹‹ä¸€.</p>
<a id="more"></a>
<p>Sklearn åŒ…å«äº†å¾ˆå¤šç§æœºå™¨å­¦ä¹ çš„æ–¹å¼:</p>
<ul>
<li>Classification åˆ†ç±»</li>
<li>Regression å›å½’</li>
<li>Clustering éç›‘ç£åˆ†ç±»</li>
<li>Dimensionality reduction æ•°æ®é™ç»´</li>
<li>Model Selection æ¨¡å‹é€‰æ‹©</li>
<li>Preprocessing æ•°æ®é¢„å¤„ç†</li>
</ul>
<p>æˆ‘ä»¬æ€»èƒ½å¤Ÿä»è¿™äº›æ–¹æ³•ä¸­æŒ‘é€‰å‡ºä¸€ä¸ªé€‚åˆäºè‡ªå·±é—®é¢˜çš„, ç„¶åè§£å†³è‡ªå·±çš„é—®é¢˜.</p>
<h2 id="Reference"><a href="#Reference" class="headerlink" title="Reference"></a>Reference</h2><ul>
<li><a href="http://scikit-learn.org/" target="_blank" rel="external">scikit-learn.org</a></li>
<li><a href="http://scikit-learn.org/stable/tutorial/basic/tutorial.html" target="_blank" rel="external">scikit-learn docs</a></li>
<li><a href="https://morvanzhou.github.io" target="_blank" rel="external">morvanzhou</a></li>
</ul>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[Lucyåœ°é“ç¾è¯­ è‹±è¯­å›½é™…éŸ³æ ‡]]></title>
      <url>http://iequa.com/2018/01/03/english-ielts-lucy-speaking/</url>
      <content type="html"><![CDATA[<ul>
<li>ä¸€å®šè¦ä¸æ–­é‡å¤ï¼Œä¸è¦ç›¸ä¿¡è‡ªå·±çš„è€³æœµï¼Œè¦ç›¸ä¿¡éŸ³æ ‡</li>
<li>æœ€å¼€å§‹ç»ƒä¹ ï¼Œä¸€å®šè¦è¶…çº§å¤¸å¼ ï¼Œä¸€ä¸ªéŸ³ä¸€ä¸ªéŸ³è¯»</li>
</ul>
<a id="more"></a>
<h2 id="1-åˆ†ç»„å…ƒéŸ³"><a href="#1-åˆ†ç»„å…ƒéŸ³" class="headerlink" title="1. åˆ†ç»„å…ƒéŸ³"></a>1. åˆ†ç»„å…ƒéŸ³</h2><table>
<thead>
<tr>
<th>å…ƒéŸ³ 1</th>
<th>desc</th>
<th>sample</th>
<th>å…ƒéŸ³ 2</th>
<th>desc</th>
<th>sample</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong><em>i:</em></strong></td>
<td>å¾®ç¬‘éŸ³ï¼Œå˜´å·´æ‹‰é•¿</td>
<td>pleaseã€sleep</td>
<td><strong><em>i</em></strong></td>
<td>å†›è®­éŸ³</td>
<td>bigã€pig</td>
</tr>
<tr>
<td><strong><em>e</em></strong></td>
<td>ä¸€ä¸ªæ‰‹æŒ‡éŸ³</td>
<td>eggã€bed</td>
<td><strong><em>Ã¦</em></strong></td>
<td>å¤§å˜´å·´éŸ³ /É›/+/a:/</td>
<td>badã€dad</td>
</tr>
<tr>
<td><strong><em>a:</em></strong></td>
<td>å°¾éƒ¨å„¿è¯~</td>
<td>car, star</td>
<td><strong><em>É’</em></strong></td>
<td>å˜´å¼ å¼€ã€æ— å˜åŒ–</td>
<td>notã€lostã€job </td>
</tr>
<tr>
<td><strong><em>É”:</em></strong></td>
<td>æœ‰ç‚¹åƒ â€˜æ²ƒâ€™,å¤šå„¿è¯</td>
<td>horseã€short</td>
<td><strong><em>ÊŠ</em></strong></td>
<td>å‘éŸ³é åï¼Œè„–å­ä¸‹</td>
<td>goodã€shouldã€wouldã€could</td>
</tr>
<tr>
<td><strong><em>u:</em></strong></td>
<td>æ‚Ÿç©ºçš„â€˜æ‚Ÿâ€™æ‹‰é•¿</td>
<td>sch<code>oo</code>lã€r<code>oo</code>m</td>
<td><strong><em>ÊŒ</em></strong></td>
<td>çŸ­å…ƒéŸ³</td>
<td>l<code>o</code>veã€c<code>o</code>me</td>
</tr>
<tr>
<td><strong><em>Éœ:</em></strong></td>
<td>-</td>
<td>b<code>ir</code>dã€f<code>ir</code>st</td>
<td><strong><em>É™</em></strong></td>
<td>-</td>
<td><code>a</code>boutã€<code>a</code>sleepã€Chin<code>a</code></td>
</tr>
<tr>
<td><strong><em>eÉª</em></strong></td>
<td>-</td>
<td>b<code>a</code>byã€f<code>a</code>ce</td>
<td><strong><em>aÉª</em></strong></td>
<td>-</td>
<td>h<code>i</code></td>
</tr>
<tr>
<td><strong><em>aÊŠ</em></strong></td>
<td>-</td>
<td>c<code>ow</code>ã€h<code>ow</code></td>
<td><strong><em>ÉªÉ™(r)</em></strong></td>
<td>-</td>
<td>earã€dear</td>
</tr>
<tr>
<td><strong><em>eÉ™</em></strong></td>
<td>-</td>
<td><code>air</code>ã€h<code>air</code></td>
<td><strong><em>É™ÊŠ</em></strong></td>
<td>-</td>
<td>b<code>oa</code>tã€c<code>oa</code>t</td>
</tr>
<tr>
<td><strong><em>É”Éª</em></strong></td>
<td>-</td>
<td>b<code>oy</code>ã€j<code>oy</code></td>
<td><strong><em>ÊŠÉ™</em></strong></td>
<td>-</td>
<td>sure /[ÊƒÊŠÉ™(r)]/</td>
</tr>
</tbody>
</table>
<blockquote>
<p>China <strong><em>É™</em></strong> è¯å°¾å˜éŸ³</p>
</blockquote>
<h2 id="2-æ¸…æµŠè¾…éŸ³"><a href="#2-æ¸…æµŠè¾…éŸ³" class="headerlink" title="2. æ¸…æµŠè¾…éŸ³"></a>2. æ¸…æµŠè¾…éŸ³</h2><table>
<thead>
<tr>
<th>æ¸…è¾…éŸ³</th>
<th>desc</th>
<th>sample</th>
<th>æµŠè¾…éŸ³</th>
<th>desc</th>
<th>sample</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong><em>p</em></strong></td>
<td></td>
<td>penã€map</td>
<td><strong><em>b</em></strong></td>
<td></td>
<td>bigã€job</td>
</tr>
<tr>
<td><strong><em>k</em></strong></td>
<td></td>
<td>bookã€week</td>
<td><strong><em>g</em></strong></td>
<td></td>
<td>eggã€dog</td>
</tr>
<tr>
<td><strong><em>f</em></strong></td>
<td></td>
<td>wifeã€knife</td>
<td><strong><em>v</em></strong></td>
<td></td>
<td>loveã€give</td>
</tr>
<tr>
<td><strong><em>s</em></strong></td>
<td>èˆŒå¤´æ”¾å˜´é‡Œ</td>
<td>sinkã€sickã€monthã€niceã€rice</td>
<td><strong><em>z</em></strong></td>
<td></td>
<td>hisã€size</td>
</tr>
<tr>
<td><strong><em>Êƒ</em></strong></td>
<td></td>
<td>wishã€dish</td>
<td><strong><em>Ê’</em></strong></td>
<td></td>
<td>usuallyã€vision</td>
</tr>
<tr>
<td><strong><em>Î¸</em></strong></td>
<td>ç”¨åŠ›åèˆŒå¤´</td>
<td>thinkã€thickã€mouthã€monthã€bath</td>
<td><strong><em>Ã°</em></strong></td>
<td></td>
<td>withã€smooth</td>
</tr>
<tr>
<td><strong><em>r</em></strong></td>
<td></td>
<td>sorryã€story</td>
<td><strong><em>h</em></strong></td>
<td></td>
<td>handã€home</td>
</tr>
<tr>
<td><strong><em>tÊƒ</em></strong></td>
<td></td>
<td>teachã€lunch</td>
<td><strong><em>dÊ’</em></strong></td>
<td></td>
<td>pageã€large</td>
</tr>
<tr>
<td><strong><em>tr</em></strong></td>
<td></td>
<td>treeã€trip</td>
<td><strong><em>dr</em></strong></td>
<td></td>
<td>dressã€dry</td>
</tr>
<tr>
<td><strong><em>ts</em></strong></td>
<td></td>
<td>catsã€hats</td>
<td><strong><em>dz</em></strong></td>
<td></td>
<td>bedsã€cards</td>
</tr>
<tr>
<td><strong><em>m</em></strong></td>
<td></td>
<td>momã€some</td>
<td><strong><em>n</em></strong></td>
<td></td>
<td>penã€sonã€sun</td>
</tr>
<tr>
<td><strong><em>Å‹</em></strong></td>
<td></td>
<td>drink</td>
<td><strong><em>l</em></strong></td>
<td></td>
<td>letã€ball</td>
</tr>
<tr>
<td><strong><em>w</em></strong></td>
<td></td>
<td>whyã€water</td>
<td><strong><em>j</em></strong></td>
<td></td>
<td>yearã€yellow</td>
</tr>
</tbody>
</table>
<blockquote>
<p>clothes [klÉ™ÊŠÃ°z] </p>
</blockquote>
<div class="limg1"><br><img src="/images/english/ielts-phonetic-symbol.jpg" height="100" width="650"><br></div>

<h2 id="3-Part-of-Speech"><a href="#3-Part-of-Speech" class="headerlink" title="3. Part of Speech"></a>3. Part of Speech</h2><p><img src="/images/english/ielts-lucy-8-part-of-speech.png" height="100" width="680"></p>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[Matplotlib Figure]]></title>
      <url>http://iequa.com/2018/01/01/py-matplotlib-3-figure-image/</url>
      <content type="html"><![CDATA[<p>matplotlib çš„ figure å°±æ˜¯ä¸€ä¸ª å•ç‹¬çš„ figure å°çª—å£, å°çª—å£é‡Œé¢è¿˜å¯ä»¥æœ‰æ›´å¤šçš„å°å›¾ç‰‡</p>
<a id="more"></a>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br></pre></td></tr></table></figure>
<p>ä½¿ç”¨<code>np.linspace</code>å®šä¹‰<code>x</code>ï¼šèŒƒå›´æ˜¯(-3,3);ä¸ªæ•°æ˜¯50. ä»¿çœŸä¸€ç»´æ•°æ®ç»„(<code>x</code> ,<code>y1</code>)è¡¨ç¤ºæ›²çº¿1. ä»¿çœŸä¸€ç»´æ•°æ®ç»„(<code>x</code> ,<code>y2</code>)è¡¨ç¤ºæ›²çº¿2.</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">x = np.linspace(<span class="number">-3</span>, <span class="number">3</span>, <span class="number">50</span>)</span><br><span class="line">y1 = <span class="number">2</span>*x + <span class="number">1</span></span><br><span class="line">y2 = x**<span class="number">2</span></span><br></pre></td></tr></table></figure>
<p>ä½¿ç”¨<code>plt.figure</code>å®šä¹‰ä¸€ä¸ªå›¾åƒçª—å£. ä½¿ç”¨<code>plt.plot</code>ç”»(<code>x</code> ,<code>y1</code>)æ›²çº¿.</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">plt.figure()</span><br><span class="line">plt.plot(x, y1)</span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure>
<div class="limg1"><br><img src="/images/python/matplotlib-2-figure-1.png" height="100" width="450"><br></div>

<p>ä½¿ç”¨<code>plt.figure</code>å®šä¹‰ä¸€ä¸ªå›¾åƒçª—å£ï¼šç¼–å·ä¸º3ï¼›å¤§å°ä¸º(8, 5). </p>
<p>ä½¿ç”¨<code>plt.plot</code>ç”»(<code>x</code> ,<code>y2</code>)æ›²çº¿.<br>ä½¿ç”¨<code>plt.plot</code>ç”»(<code>x</code> ,<code>y1</code>)æ›²çº¿ï¼Œæ›²çº¿çš„é¢œè‰²å±æ€§(<code>color</code>)ä¸ºçº¢è‰²;æ›²çº¿çš„å®½åº¦(<code>linewidth</code>)ä¸º1.0ï¼›æ›²çº¿çš„ç±»å‹(<code>linestyle</code>)ä¸ºè™šçº¿. ä½¿ç”¨<code>plt.show</code>æ˜¾ç¤ºå›¾åƒ.</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">plt.figure(num=<span class="number">3</span>, figsize=(<span class="number">8</span>, <span class="number">5</span>),)</span><br><span class="line">plt.plot(x, y2)</span><br><span class="line">plt.plot(x, y1, color=<span class="string">'red'</span>, linewidth=<span class="number">1.0</span>, linestyle=<span class="string">'--'</span>)</span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure>
<div class="limg1"><br><img src="/images/python/matplotlib-2-figure-2.png" height="100" width="450"><br></div>

<h2 id="Set-Coordinate-axis"><a href="#Set-Coordinate-axis" class="headerlink" title="Set Coordinate axis"></a>Set Coordinate axis</h2><p>ä½¿ç”¨<code>plt.xlim</code>è®¾ç½®xåæ ‡è½´èŒƒå›´ï¼š(-1, 2)ï¼› ä½¿ç”¨<code>plt.ylim</code>è®¾ç½®yåæ ‡è½´èŒƒå›´ï¼š(-2, 3)ï¼›<br>ä½¿ç”¨<code>plt.xlabel</code>è®¾ç½®xåæ ‡è½´åç§°ï¼šâ€™I am xâ€™ï¼› ä½¿ç”¨<code>plt.ylabel</code>è®¾ç½®yåæ ‡è½´åç§°ï¼šâ€™I am yâ€™ï¼›</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">plt.figure(num=<span class="number">3</span>, figsize=(<span class="number">8</span>, <span class="number">5</span>),)</span><br><span class="line">plt.plot(x, y2)</span><br><span class="line">plt.plot(x, y1, color=<span class="string">'red'</span>, linewidth=<span class="number">1.0</span>, linestyle=<span class="string">'--'</span>)</span><br><span class="line"></span><br><span class="line">plt.xlim((<span class="number">-1</span>, <span class="number">2</span>))</span><br><span class="line">plt.ylim((<span class="number">-2</span>, <span class="number">3</span>))</span><br><span class="line">plt.xlabel(<span class="string">'I am x'</span>)</span><br><span class="line">plt.ylabel(<span class="string">'I am y'</span>)</span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure>
<p><img src="/images/python/matplotlib-2-figure-3-output_9_0.png" alt="output_9_0.png"></p>
<p>ä½¿ç”¨ <code>np.linspace</code> å®šä¹‰èŒƒå›´ä»¥åŠä¸ªæ•°ï¼šèŒƒå›´æ˜¯(-1,2);ä¸ªæ•°æ˜¯5.<br>ä½¿ç”¨ <code>print</code> æ‰“å°å‡ºæ–°å®šä¹‰çš„èŒƒå›´.<br>ä½¿ç”¨ <code>plt.xticks</code> è®¾ç½®xè½´åˆ»åº¦ï¼šèŒƒå›´æ˜¯(-1,2);ä¸ªæ•°æ˜¯5.   </p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">plt.figure(num=<span class="number">3</span>, figsize=(<span class="number">8</span>, <span class="number">5</span>),)</span><br><span class="line">plt.plot(x, y2)</span><br><span class="line">plt.plot(x, y1, color=<span class="string">'red'</span>, linewidth=<span class="number">1.0</span>, linestyle=<span class="string">'--'</span>)</span><br><span class="line"></span><br><span class="line">plt.xlim((<span class="number">-1</span>, <span class="number">2</span>))</span><br><span class="line">plt.ylim((<span class="number">-2</span>, <span class="number">3</span>))</span><br><span class="line">plt.xlabel(<span class="string">'I am x'</span>)</span><br><span class="line">plt.ylabel(<span class="string">'I am y'</span>)</span><br><span class="line"></span><br><span class="line">new_ticks = np.linspace(<span class="number">-1</span>, <span class="number">2</span>, <span class="number">5</span>)</span><br><span class="line">print(new_ticks)</span><br><span class="line">plt.xticks(new_ticks)</span><br></pre></td></tr></table></figure>
<pre><code>[-1.   -0.25  0.5   1.25  2.  ]

([&lt;matplotlib.axis.XTick at 0x11dd68ba8&gt;,
  &lt;matplotlib.axis.XTick at 0x11dd68a58&gt;,
  &lt;matplotlib.axis.XTick at 0x11dd7d5c0&gt;,
  &lt;matplotlib.axis.XTick at 0x11e04af28&gt;,
  &lt;matplotlib.axis.XTick at 0x11e0515c0&gt;],
 &lt;a list of 5 Text xticklabel objects&gt;)
</code></pre><p>ä½¿ç”¨<code>plt.yticks</code>è®¾ç½®yè½´åˆ»åº¦ä»¥åŠåç§°ï¼šåˆ»åº¦ä¸º[-2, -1.8, -1, 1.22, 3]ï¼›å¯¹åº”åˆ»åº¦çš„åç§°ä¸º[â€˜really badâ€™,â€™badâ€™,â€™normalâ€™,â€™goodâ€™, â€˜really goodâ€™]. ä½¿ç”¨plt.showæ˜¾ç¤ºå›¾åƒ.</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">plt.yticks([<span class="number">-2</span>, <span class="number">-1.8</span>, <span class="number">-1</span>, <span class="number">1.22</span>, <span class="number">3</span>],[<span class="string">r'$really\ bad$'</span>, <span class="string">r'$bad$'</span>, <span class="string">r'$normal$'</span>, <span class="string">r'$good$'</span>, <span class="string">r'$really\ good$'</span>])</span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure>
<p><img src="/images/python/matplotlib-2-figure-4-output_13_0.png" alt="output_13_0.png"></p>
<h2 id="Reference"><a href="#Reference" class="headerlink" title="Reference"></a>Reference</h2><ul>
<li><a href="https://matplotlib.org/" target="_blank" rel="external">matplotlib.org</a></li>
<li><a href="https://matplotlib.org/contents.html" target="_blank" rel="external">matplotlib docs</a></li>
<li><a href="https://morvanzhou.github.io" target="_blank" rel="external">morvanzhou</a></li>
</ul>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[Matplotlib Basic Use]]></title>
      <url>http://iequa.com/2018/01/01/py-matplotlib-2-basic-use/</url>
      <content type="html"><![CDATA[<p>Matplotlib æœ€åŸºæœ¬çš„ä½¿ç”¨ä»‹ç»</p>
<a id="more"></a>
<h2 id="åŸºç¡€åº”ç”¨"><a href="#åŸºç¡€åº”ç”¨" class="headerlink" title="åŸºç¡€åº”ç”¨"></a>åŸºç¡€åº”ç”¨</h2><p>ä½¿ç”¨<code>import</code>å¯¼å…¥æ¨¡å—<code>matplotlib.pyplot</code>ï¼Œå¹¶ç®€å†™æˆ<code>plt</code> ä½¿ç”¨<code>import</code>å¯¼å…¥æ¨¡å—<code>numpy</code>ï¼Œå¹¶ç®€å†™æˆ<code>np</code></p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">np.linspace(<span class="number">-1</span>, <span class="number">1</span>, <span class="number">50</span>)</span><br></pre></td></tr></table></figure>
<pre><code>array([-1.        , -0.95918367, -0.91836735, -0.87755102, -0.83673469,
       -0.79591837, -0.75510204, -0.71428571, -0.67346939, -0.63265306,
       -0.59183673, -0.55102041, -0.51020408, -0.46938776, -0.42857143,
       -0.3877551 , -0.34693878, -0.30612245, -0.26530612, -0.2244898 ,
       -0.18367347, -0.14285714, -0.10204082, -0.06122449, -0.02040816,
        0.02040816,  0.06122449,  0.10204082,  0.14285714,  0.18367347,
        0.2244898 ,  0.26530612,  0.30612245,  0.34693878,  0.3877551 ,
        0.42857143,  0.46938776,  0.51020408,  0.55102041,  0.59183673,
        0.63265306,  0.67346939,  0.71428571,  0.75510204,  0.79591837,
        0.83673469,  0.87755102,  0.91836735,  0.95918367,  1.        ])
</code></pre><p>ä½¿ç”¨ <a href="https://docs.scipy.org/doc/numpy-1.12.0/reference/generated/numpy.linspace.html" target="_blank" rel="external">np.linspace</a> å®šä¹‰<code>x</code>ï¼šèŒƒå›´æ˜¯(-1,1); ä¸ªæ•°æ˜¯50. ä»¿çœŸä¸€ç»´æ•°æ®ç»„(<code>x</code> ,<code>y</code>)è¡¨ç¤ºæ›²çº¿1.</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">x = np.linspace(<span class="number">-1</span>, <span class="number">1</span>, <span class="number">50</span>)</span><br><span class="line">y = <span class="number">2</span>*x + <span class="number">1</span></span><br></pre></td></tr></table></figure>
<p>ä½¿ç”¨<code>plt.figure</code>å®šä¹‰ä¸€ä¸ªå›¾åƒçª—å£. ä½¿ç”¨<code>plt.plot</code>ç”»(<code>x</code> ,<code>y</code>)æ›²çº¿. ä½¿ç”¨<code>plt.show</code>æ˜¾ç¤ºå›¾åƒ.</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">plt.figure()</span><br><span class="line">plt.plot(x, y)</span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure>
<div class="limg1"><br><img src="/images/python/matplotlib-1-basic-use-1.png" height="100" width="450"><br></div>

<h2 id="Reference"><a href="#Reference" class="headerlink" title="Reference"></a>Reference</h2><ul>
<li><a href="https://matplotlib.org/" target="_blank" rel="external">matplotlib.org</a></li>
<li><a href="https://matplotlib.org/contents.html" target="_blank" rel="external">matplotlib docs</a></li>
<li><a href="https://morvanzhou.github.io" target="_blank" rel="external">morvanzhou</a></li>
</ul>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[Matplotlib Why ?]]></title>
      <url>http://iequa.com/2018/01/01/py-matplotlib-1-why/</url>
      <content type="html"><![CDATA[<p>Matplotlib æ˜¯ä¸€ä¸ªéå¸¸å¼ºå¤§çš„ Python ç”»å›¾å·¥å…·</p>
<a id="more"></a>
<p>Matplotlib å®ƒèƒ½å¸®ä½ ç”»å‡ºç¾ä¸½çš„:</p>
<ul>
<li>çº¿å›¾;</li>
<li>æ•£ç‚¹å›¾;</li>
<li>ç­‰é«˜çº¿å›¾;</li>
<li>æ¡å½¢å›¾;</li>
<li>æŸ±çŠ¶å›¾;</li>
<li>3D å›¾å½¢,</li>
<li>ç”šè‡³æ˜¯å›¾å½¢åŠ¨ç”»ç­‰ç­‰.</li>
</ul>
<p>ä¸‹é¢æ˜¯ä¸€äº›ä¾‹å›¾:</p>
<div class="limg1"><br><img src="/images/python/matplotlib-0-why-1.png" height="100" width="650"><br></div>

<div class="limg1"><br><img src="/images/python/matplotlib-0-why-3.png" height="100" width="650"><br></div>

<h2 id="Reference"><a href="#Reference" class="headerlink" title="Reference"></a>Reference</h2><ul>
<li><a href="https://matplotlib.org/" target="_blank" rel="external">matplotlib.org</a></li>
<li><a href="https://matplotlib.org/contents.html" target="_blank" rel="external">matplotlib docs</a></li>
<li><a href="https://morvanzhou.github.io" target="_blank" rel="external">morvanzhou</a></li>
</ul>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[Pandas Matplotlib Intro]]></title>
      <url>http://iequa.com/2017/12/31/py-pandas-8-matplotlib/</url>
      <content type="html"><![CDATA[<p>matplotlib å°†æ•°æ®å¯è§†åŒ–. ä»…ä»…æ˜¯ç”¨æ¥ show å›¾ç‰‡çš„, å³ plt.show()</p>
<a id="more"></a>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> pandas <span class="keyword">as</span> pd</span><br><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br></pre></td></tr></table></figure>
<h2 id="åˆ›å»ºä¸€ä¸ªSeries"><a href="#åˆ›å»ºä¸€ä¸ªSeries" class="headerlink" title="åˆ›å»ºä¸€ä¸ªSeries"></a>åˆ›å»ºä¸€ä¸ªSeries</h2><p>è¿™æ˜¯ä¸€ä¸ªçº¿æ€§çš„æ•°æ®ï¼Œæˆ‘ä»¬éšæœºç”Ÿæˆ1000ä¸ªæ•°æ®ï¼Œ<code>Series</code> é»˜è®¤çš„ <code>index</code> å°±æ˜¯ä»0å¼€å§‹çš„æ•´æ•°</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment"># éšæœºç”Ÿæˆ1000ä¸ªæ•°æ®</span></span><br><span class="line">data = pd.Series(np.random.randn(<span class="number">1000</span>),index=np.arange(<span class="number">1000</span>))</span><br><span class="line"> </span><br><span class="line"><span class="comment"># pandas æ•°æ®å¯ä»¥ç›´æ¥è§‚çœ‹å…¶å¯è§†åŒ–å½¢å¼</span></span><br><span class="line">data.plot()</span><br><span class="line"></span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure>
<p><img src="/images/python/pandas-output_3_0.png" alt="png"></p>
<p>å¯ä»¥ä½¿ç”¨ <code>plt.plot(x=, y=)</code>ï¼ŒæŠŠ<code>x</code>,<code>y</code>çš„æ•°æ®ä½œä¸ºå‚æ•°å­˜è¿›å»ï¼Œä½†æ˜¯<code>data</code>æœ¬æ¥å°±æ˜¯ä¸€ä¸ªæ•°æ®ï¼Œæ‰€ä»¥æˆ‘ä»¬å¯ä»¥ç›´æ¥<code>plot</code></p>
<h2 id="Dataframe-å¯è§†åŒ–"><a href="#Dataframe-å¯è§†åŒ–" class="headerlink" title="Dataframe å¯è§†åŒ–"></a>Dataframe å¯è§†åŒ–</h2><p>æˆ‘ä»¬ç”Ÿæˆä¸€ä¸ª 1000*4 çš„ <code>DataFrame</code>ï¼Œå¹¶å¯¹ä»–ä»¬ç´¯åŠ </p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">data = pd.DataFrame(</span><br><span class="line">    np.random.randn(<span class="number">1000</span>,<span class="number">4</span>),</span><br><span class="line">    index=np.arange(<span class="number">1000</span>),</span><br><span class="line">    columns=list(<span class="string">"ABCD"</span>)</span><br><span class="line">    )</span><br><span class="line"><span class="comment">#data.cumsum()</span></span><br><span class="line">print(data)</span><br><span class="line">data.plot()</span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure>
<pre><code>            A         B         C         D
0    1.163604 -0.689103  1.958018  0.241444
1    0.595765  0.816026  1.573164 -0.443003
2   -0.101446  0.768321 -0.203069 -0.638841
3   -0.439233 -0.161273  0.398774  1.309622
4   -0.524647 -0.180073 -1.499978  0.628436
5   -0.305683  0.668840  0.243668 -1.386839
..        ...       ...       ...       ...
998 -0.243955 -0.190122 -0.299633  3.350200
999 -0.055184  0.936187  0.146156  0.604271

[1000 rows x 4 columns]
</code></pre><p><img src="/images/python/pandas-output_5_1.png" alt="png"></p>
<p>è¿™ä¸ªå°±æ˜¯æˆ‘ä»¬åˆšåˆšç”Ÿæˆçš„4ä¸ª<code>column</code>çš„æ•°æ®ï¼Œå› ä¸ºæœ‰4ç»„æ•°æ®ï¼Œæ‰€ä»¥4ç»„æ•°æ®ä¼šåˆ†åˆ«<code>plot</code>å‡ºæ¥ã€‚</p>
<p>plot å¯ä»¥æŒ‡å®šå¾ˆå¤šå‚æ•°ï¼Œå…·ä½“å‚è§<a href="http://pandas.pydata.org/pandas-docs/version/0.18.1/visualization.html" target="_blank" rel="external">å®˜æ–¹æ–‡æ¡£</a></p>
<p>é™¤äº†plotï¼Œæˆ‘ç»å¸¸ä¼šç”¨åˆ°è¿˜æœ‰scatterï¼Œè¿™ä¸ªä¼šæ˜¾ç¤ºæ•£ç‚¹å›¾ï¼Œé¦–å…ˆè¯´ä¸€ä¸‹åœ¨ pandas ä¸­æœ‰å¤šå°‘ç§æ–¹æ³•</p>
<ul>
<li>bar</li>
<li>hist</li>
<li>box</li>
<li>kde</li>
<li>area</li>
<li>scatter</li>
<li>hexbin</li>
</ul>
<p>ä¸»è¦è¯´ä¸€ä¸‹ <code>plot</code> å’Œ <code>scatter</code>. å› ä¸º <code>scatter</code> åªæœ‰ <code>x</code>ï¼Œ<code>y</code> ä¸¤ä¸ªå±æ€§ï¼Œå¯ä»¥åˆ†åˆ«ç»™ <code>x</code>, <code>y</code> æŒ‡å®šæ•°æ®</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">ax = data.plot.scatter(x=<span class="string">'A'</span>,y=<span class="string">'B'</span>,color=<span class="string">'DarkBlue'</span>,label=<span class="string">'Class1'</span>)</span><br></pre></td></tr></table></figure>
<p>ç„¶åæˆ‘ä»¬åœ¨å¯ä»¥å†ç”»ä¸€ä¸ªåœ¨åŒä¸€ä¸ª<code>ax</code>ä¸Šé¢ï¼Œé€‰æ‹©ä¸ä¸€æ ·çš„æ•°æ®åˆ—ï¼Œä¸åŒçš„ <code>color</code> å’Œ <code>label</code></p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment"># å°†ä¹‹ä¸‹è¿™ä¸ª data ç”»åœ¨ä¸Šä¸€ä¸ª ax ä¸Šé¢</span></span><br><span class="line">data.plot.scatter(x=<span class="string">'A'</span>,y=<span class="string">'C'</span>,color=<span class="string">'LightGreen'</span>,label=<span class="string">'Class2'</span>,ax=ax)</span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure>
<p><img src="/images/python/pandas-output_9_0.png" alt="png"></p>
<p>ä¸¤ç§å‘ˆç°æ–¹å¼ï¼Œä¸€ç§æ˜¯<strong>çº¿æ€§çš„æ–¹å¼</strong>ï¼Œä¸€ç§æ˜¯<strong>æ•£ç‚¹å›¾</strong></p>
<h2 id="Reference"><a href="#Reference" class="headerlink" title="Reference"></a>Reference</h2><ul>
<li><a href="https://pandas.pydata.org/" target="_blank" rel="external">pandas.pydata.org</a></li>
<li><a href="http://pandas.pydata.org/pandas-docs/version/0.21/" target="_blank" rel="external">pandas docs</a></li>
<li><a href="https://morvanzhou.github.io" target="_blank" rel="external">morvanzhou</a></li>
</ul>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[Pandas Merge]]></title>
      <url>http://iequa.com/2017/12/31/py-pandas-7-merge/</url>
      <content type="html"><![CDATA[<p><code>pandas</code>ä¸­çš„<code>merge</code>å’Œ<code>concat</code>ç±»ä¼¼,ä½†ä¸»è¦æ˜¯ç”¨äºä¸¤ç»„æœ‰<strong>key column</strong>çš„æ•°æ®,ç»Ÿä¸€ç´¢å¼•çš„æ•°æ®.</p>
<a id="more"></a>
<h2 id="ä¾æ®ä¸€ç»„keyåˆå¹¶"><a href="#ä¾æ®ä¸€ç»„keyåˆå¹¶" class="headerlink" title="ä¾æ®ä¸€ç»„keyåˆå¹¶"></a>ä¾æ®ä¸€ç»„keyåˆå¹¶</h2><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> pandas <span class="keyword">as</span> pd</span><br><span class="line"></span><br><span class="line"><span class="comment">#å®šä¹‰èµ„æ–™é›†å¹¶æ‰“å°å‡º</span></span><br><span class="line">left = pd.DataFrame(&#123;<span class="string">'key'</span>: [<span class="string">'K0'</span>, <span class="string">'K1'</span>, <span class="string">'K2'</span>, <span class="string">'K3'</span>],</span><br><span class="line">                             <span class="string">'A'</span>: [<span class="string">'A0'</span>, <span class="string">'A1'</span>, <span class="string">'A2'</span>, <span class="string">'A3'</span>],</span><br><span class="line">                             <span class="string">'B'</span>: [<span class="string">'B0'</span>, <span class="string">'B1'</span>, <span class="string">'B2'</span>, <span class="string">'B3'</span>]&#125;)</span><br><span class="line">right = pd.DataFrame(&#123;<span class="string">'key'</span>: [<span class="string">'K0'</span>, <span class="string">'K1'</span>, <span class="string">'K2'</span>, <span class="string">'K3'</span>],</span><br><span class="line">                              <span class="string">'C'</span>: [<span class="string">'C0'</span>, <span class="string">'C1'</span>, <span class="string">'C2'</span>, <span class="string">'C3'</span>],</span><br><span class="line">                              <span class="string">'D'</span>: [<span class="string">'D0'</span>, <span class="string">'D1'</span>, <span class="string">'D2'</span>, <span class="string">'D3'</span>]&#125;)</span><br><span class="line"></span><br><span class="line"><span class="comment"># print(left)</span></span><br><span class="line"><span class="comment">#    A   B key</span></span><br><span class="line"><span class="comment"># 0  A0  B0  K0</span></span><br><span class="line"><span class="comment"># 1  A1  B1  K1</span></span><br><span class="line"><span class="comment"># 2  A2  B2  K2</span></span><br><span class="line"><span class="comment"># 3  A3  B3  K3</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># print(right)</span></span><br><span class="line"><span class="comment">#    C   D key</span></span><br><span class="line"><span class="comment"># 0  C0  D0  K0</span></span><br><span class="line"><span class="comment"># 1  C1  D1  K1</span></span><br><span class="line"><span class="comment"># 2  C2  D2  K2</span></span><br><span class="line"><span class="comment"># 3  C3  D3  K3</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#ä¾æ®key columnåˆå¹¶ï¼Œå¹¶æ‰“å°å‡º</span></span><br><span class="line">res = pd.merge(left, right, on=<span class="string">'key'</span>)</span><br><span class="line"></span><br><span class="line">print(res)</span><br></pre></td></tr></table></figure>
<pre><code>    A   B key   C   D
0  A0  B0  K0  C0  D0
1  A1  B1  K1  C1  D1
2  A2  B2  K2  C2  D2
3  A3  B3  K3  C3  D3
</code></pre><h2 id="ä¾æ®ä¸¤ç»„keyåˆå¹¶"><a href="#ä¾æ®ä¸¤ç»„keyåˆå¹¶" class="headerlink" title="ä¾æ®ä¸¤ç»„keyåˆå¹¶"></a>ä¾æ®ä¸¤ç»„keyåˆå¹¶</h2><p>åˆå¹¶æ—¶æœ‰4ç§æ–¹æ³•<code>how = [&#39;left&#39;, &#39;right&#39;, &#39;outer&#39;, &#39;inner&#39;]</code>ï¼Œé¢„è®¾å€¼<code>how=&#39;inner&#39;</code></p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> pandas <span class="keyword">as</span> pd</span><br><span class="line"></span><br><span class="line"><span class="comment">#å®šä¹‰èµ„æ–™é›†å¹¶æ‰“å°å‡º</span></span><br><span class="line">left = pd.DataFrame(&#123;<span class="string">'key1'</span>: [<span class="string">'K0'</span>, <span class="string">'K0'</span>, <span class="string">'K1'</span>, <span class="string">'K2'</span>],</span><br><span class="line">                      <span class="string">'key2'</span>: [<span class="string">'K0'</span>, <span class="string">'K1'</span>, <span class="string">'K0'</span>, <span class="string">'K1'</span>],</span><br><span class="line">                      <span class="string">'A'</span>: [<span class="string">'A0'</span>, <span class="string">'A1'</span>, <span class="string">'A2'</span>, <span class="string">'A3'</span>],</span><br><span class="line">                      <span class="string">'B'</span>: [<span class="string">'B0'</span>, <span class="string">'B1'</span>, <span class="string">'B2'</span>, <span class="string">'B3'</span>]&#125;)</span><br><span class="line">right = pd.DataFrame(&#123;<span class="string">'key1'</span>: [<span class="string">'K0'</span>, <span class="string">'K1'</span>, <span class="string">'K1'</span>, <span class="string">'K2'</span>],</span><br><span class="line">                       <span class="string">'key2'</span>: [<span class="string">'K0'</span>, <span class="string">'K0'</span>, <span class="string">'K0'</span>, <span class="string">'K0'</span>],</span><br><span class="line">                       <span class="string">'C'</span>: [<span class="string">'C0'</span>, <span class="string">'C1'</span>, <span class="string">'C2'</span>, <span class="string">'C3'</span>],</span><br><span class="line">                       <span class="string">'D'</span>: [<span class="string">'D0'</span>, <span class="string">'D1'</span>, <span class="string">'D2'</span>, <span class="string">'D3'</span>]&#125;)</span><br><span class="line"></span><br><span class="line">print(left)</span><br><span class="line"><span class="comment">#    A   B key1 key2</span></span><br><span class="line"><span class="comment"># 0  A0  B0   K0   K0</span></span><br><span class="line"><span class="comment"># 1  A1  B1   K0   K1</span></span><br><span class="line"><span class="comment"># 2  A2  B2   K1   K0</span></span><br><span class="line"><span class="comment"># 3  A3  B3   K2   K1</span></span><br><span class="line"></span><br><span class="line">print(right)</span><br><span class="line"><span class="comment">#    C   D key1 key2</span></span><br><span class="line"><span class="comment"># 0  C0  D0   K0   K0</span></span><br><span class="line"><span class="comment"># 1  C1  D1   K1   K0</span></span><br><span class="line"><span class="comment"># 2  C2  D2   K1   K0</span></span><br><span class="line"><span class="comment"># 3  C3  D3   K2   K0</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#ä¾æ®key1ä¸key2 columnsè¿›è¡Œåˆå¹¶ï¼Œå¹¶æ‰“å°å‡ºå››ç§ç»“æœ['left', 'right', 'outer', 'inner']</span></span><br><span class="line">res = pd.merge(left, right, on=[<span class="string">'key1'</span>, <span class="string">'key2'</span>], how=<span class="string">'inner'</span>)</span><br><span class="line">print(res)</span><br><span class="line"><span class="comment">#    A   B key1 key2   C   D</span></span><br><span class="line"><span class="comment"># 0  A0  B0   K0   K0  C0  D0</span></span><br><span class="line"><span class="comment"># 1  A2  B2   K1   K0  C1  D1</span></span><br><span class="line"><span class="comment"># 2  A2  B2   K1   K0  C2  D2</span></span><br><span class="line"></span><br><span class="line">res = pd.merge(left, right, on=[<span class="string">'key1'</span>, <span class="string">'key2'</span>], how=<span class="string">'outer'</span>)</span><br><span class="line">print(res)</span><br><span class="line"><span class="comment">#     A    B key1 key2    C    D</span></span><br><span class="line"><span class="comment"># 0   A0   B0   K0   K0   C0   D0</span></span><br><span class="line"><span class="comment"># 1   A1   B1   K0   K1  NaN  NaN</span></span><br><span class="line"><span class="comment"># 2   A2   B2   K1   K0   C1   D1</span></span><br><span class="line"><span class="comment"># 3   A2   B2   K1   K0   C2   D2</span></span><br><span class="line"><span class="comment"># 4   A3   B3   K2   K1  NaN  NaN</span></span><br><span class="line"><span class="comment"># 5  NaN  NaN   K2   K0   C3   D3</span></span><br><span class="line"></span><br><span class="line">res = pd.merge(left, right, on=[<span class="string">'key1'</span>, <span class="string">'key2'</span>], how=<span class="string">'left'</span>)</span><br><span class="line">print(res)</span><br><span class="line"><span class="comment">#    A   B key1 key2    C    D</span></span><br><span class="line"><span class="comment"># 0  A0  B0   K0   K0   C0   D0</span></span><br><span class="line"><span class="comment"># 1  A1  B1   K0   K1  NaN  NaN</span></span><br><span class="line"><span class="comment"># 2  A2  B2   K1   K0   C1   D1</span></span><br><span class="line"><span class="comment"># 3  A2  B2   K1   K0   C2   D2</span></span><br><span class="line"><span class="comment"># 4  A3  B3   K2   K1  NaN  NaN</span></span><br><span class="line"></span><br><span class="line">res = pd.merge(left, right, on=[<span class="string">'key1'</span>, <span class="string">'key2'</span>], how=<span class="string">'right'</span>)</span><br><span class="line">print(res)</span><br><span class="line"><span class="comment">#     A    B key1 key2   C   D</span></span><br><span class="line"><span class="comment"># 0   A0   B0   K0   K0  C0  D0</span></span><br><span class="line"><span class="comment"># 1   A2   B2   K1   K0  C1  D1</span></span><br><span class="line"><span class="comment"># 2   A2   B2   K1   K0  C2  D2</span></span><br><span class="line"><span class="comment"># 3  NaN  NaN   K2   K0  C3  D3</span></span><br></pre></td></tr></table></figure>
<h2 id="Indicator"><a href="#Indicator" class="headerlink" title="Indicator"></a>Indicator</h2><p><code>indicator=True</code>ä¼šå°†åˆå¹¶çš„è®°å½•æ”¾åœ¨æ–°çš„ä¸€åˆ—</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> pandas <span class="keyword">as</span> pd</span><br><span class="line"></span><br><span class="line"><span class="comment">#å®šä¹‰èµ„æ–™é›†å¹¶æ‰“å°å‡º</span></span><br><span class="line">df1 = pd.DataFrame(&#123;<span class="string">'col1'</span>:[<span class="number">0</span>,<span class="number">1</span>], <span class="string">'col_left'</span>:[<span class="string">'a'</span>,<span class="string">'b'</span>]&#125;)</span><br><span class="line">df2 = pd.DataFrame(&#123;<span class="string">'col1'</span>:[<span class="number">1</span>,<span class="number">2</span>,<span class="number">2</span>],<span class="string">'col_right'</span>:[<span class="number">2</span>,<span class="number">2</span>,<span class="number">2</span>]&#125;)</span><br><span class="line"></span><br><span class="line">print(df1)</span><br><span class="line"><span class="comment">#   col1 col_left</span></span><br><span class="line"><span class="comment"># 0     0        a</span></span><br><span class="line"><span class="comment"># 1     1        b</span></span><br><span class="line"></span><br><span class="line">print(df2)</span><br><span class="line"><span class="comment">#   col1  col_right</span></span><br><span class="line"><span class="comment"># 0     1          2</span></span><br><span class="line"><span class="comment"># 1     2          2</span></span><br><span class="line"><span class="comment"># 2     2          2</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># ä¾æ®col1è¿›è¡Œåˆå¹¶ï¼Œå¹¶å¯ç”¨indicator=Trueï¼Œæœ€åæ‰“å°å‡º</span></span><br><span class="line">res = pd.merge(df1, df2, on=<span class="string">'col1'</span>, how=<span class="string">'outer'</span>, indicator=<span class="keyword">True</span>)</span><br><span class="line">print(res)</span><br><span class="line"><span class="comment">#   col1 col_left  col_right      _merge</span></span><br><span class="line"><span class="comment"># 0   0.0        a        NaN   left_only</span></span><br><span class="line"><span class="comment"># 1   1.0        b        2.0        both</span></span><br><span class="line"><span class="comment"># 2   2.0      NaN        2.0  right_only</span></span><br><span class="line"><span class="comment"># 3   2.0      NaN        2.0  right_only</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># è‡ªå®šindicator columnçš„åç§°ï¼Œå¹¶æ‰“å°å‡º</span></span><br><span class="line">res = pd.merge(df1, df2, on=<span class="string">'col1'</span>, how=<span class="string">'outer'</span>, indicator=<span class="string">'indicator_column'</span>)</span><br><span class="line">print(res)</span><br><span class="line"><span class="comment">#   col1 col_left  col_right indicator_column</span></span><br><span class="line"><span class="comment"># 0   0.0        a        NaN        left_only</span></span><br><span class="line"><span class="comment"># 1   1.0        b        2.0             both</span></span><br><span class="line"><span class="comment"># 2   2.0      NaN        2.0       right_only</span></span><br><span class="line"><span class="comment"># 3   2.0      NaN        2.0       right_only</span></span><br></pre></td></tr></table></figure>
<pre><code>   col1 col_left
0     0        a
1     1        b
   col1  col_right
0     1          2
1     2          2
2     2          2
   col1 col_left  col_right      _merge
0     0        a        NaN   left_only
1     1        b        2.0        both
2     2      NaN        2.0  right_only
3     2      NaN        2.0  right_only
   col1 col_left  col_right indicator_column
0     0        a        NaN        left_only
1     1        b        2.0             both
2     2      NaN        2.0       right_only
3     2      NaN        2.0       right_only
</code></pre><h2 id="ä¾æ®indexåˆå¹¶"><a href="#ä¾æ®indexåˆå¹¶" class="headerlink" title="ä¾æ®indexåˆå¹¶"></a>ä¾æ®indexåˆå¹¶</h2><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> pandas <span class="keyword">as</span> pd</span><br><span class="line"></span><br><span class="line"><span class="comment">#å®šä¹‰èµ„æ–™é›†å¹¶æ‰“å°å‡º</span></span><br><span class="line">left = pd.DataFrame(&#123;<span class="string">'A'</span>: [<span class="string">'A0'</span>, <span class="string">'A1'</span>, <span class="string">'A2'</span>],</span><br><span class="line">                     <span class="string">'B'</span>: [<span class="string">'B0'</span>, <span class="string">'B1'</span>, <span class="string">'B2'</span>]&#125;,</span><br><span class="line">                     index=[<span class="string">'K0'</span>, <span class="string">'K1'</span>, <span class="string">'K2'</span>])</span><br><span class="line">right = pd.DataFrame(&#123;<span class="string">'C'</span>: [<span class="string">'C0'</span>, <span class="string">'C2'</span>, <span class="string">'C3'</span>],</span><br><span class="line">                      <span class="string">'D'</span>: [<span class="string">'D0'</span>, <span class="string">'D2'</span>, <span class="string">'D3'</span>]&#125;,</span><br><span class="line">                     index=[<span class="string">'K0'</span>, <span class="string">'K2'</span>, <span class="string">'K3'</span>])</span><br><span class="line"></span><br><span class="line">print(left)</span><br><span class="line"><span class="comment">#     A   B</span></span><br><span class="line"><span class="comment"># K0  A0  B0</span></span><br><span class="line"><span class="comment"># K1  A1  B1</span></span><br><span class="line"><span class="comment"># K2  A2  B2</span></span><br><span class="line"></span><br><span class="line">print(right)</span><br><span class="line"><span class="comment">#     C   D</span></span><br><span class="line"><span class="comment"># K0  C0  D0</span></span><br><span class="line"><span class="comment"># K2  C2  D2</span></span><br><span class="line"><span class="comment"># K3  C3  D3</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#ä¾æ®å·¦å³èµ„æ–™é›†çš„indexè¿›è¡Œåˆå¹¶ï¼Œhow='outer',å¹¶æ‰“å°å‡º</span></span><br><span class="line">res = pd.merge(left, right, left_index=<span class="keyword">True</span>, right_index=<span class="keyword">True</span>, how=<span class="string">'outer'</span>)</span><br><span class="line">print(res)</span><br><span class="line"><span class="comment">#      A    B    C    D</span></span><br><span class="line"><span class="comment"># K0   A0   B0   C0   D0</span></span><br><span class="line"><span class="comment"># K1   A1   B1  NaN  NaN</span></span><br><span class="line"><span class="comment"># K2   A2   B2   C2   D2</span></span><br><span class="line"><span class="comment"># K3  NaN  NaN   C3   D3</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#ä¾æ®å·¦å³èµ„æ–™é›†çš„indexè¿›è¡Œåˆå¹¶ï¼Œhow='inner',å¹¶æ‰“å°å‡º</span></span><br><span class="line">res = pd.merge(left, right, left_index=<span class="keyword">True</span>, right_index=<span class="keyword">True</span>, how=<span class="string">'inner'</span>)</span><br><span class="line">print(res)</span><br><span class="line"><span class="comment">#     A   B   C   D</span></span><br><span class="line"><span class="comment"># K0  A0  B0  C0  D0</span></span><br><span class="line"><span class="comment"># K2  A2  B2  C2  D2</span></span><br></pre></td></tr></table></figure>
<pre><code>     A   B
K0  A0  B0
K1  A1  B1
K2  A2  B2
     C   D
K0  C0  D0
K2  C2  D2
K3  C3  D3
      A    B    C    D
K0   A0   B0   C0   D0
K1   A1   B1  NaN  NaN
K2   A2   B2   C2   D2
K3  NaN  NaN   C3   D3
     A   B   C   D
K0  A0  B0  C0  D0
K2  A2  B2  C2  D2
</code></pre><h2 id="è§£å†³overlappingçš„é—®é¢˜"><a href="#è§£å†³overlappingçš„é—®é¢˜" class="headerlink" title="è§£å†³overlappingçš„é—®é¢˜"></a>è§£å†³overlappingçš„é—®é¢˜</h2><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> pandas <span class="keyword">as</span> pd</span><br><span class="line"></span><br><span class="line"><span class="comment">#å®šä¹‰èµ„æ–™é›†</span></span><br><span class="line">boys = pd.DataFrame(&#123;<span class="string">'k'</span>: [<span class="string">'K0'</span>, <span class="string">'K1'</span>, <span class="string">'K2'</span>], <span class="string">'age'</span>: [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>]&#125;)</span><br><span class="line">girls = pd.DataFrame(&#123;<span class="string">'k'</span>: [<span class="string">'K0'</span>, <span class="string">'K0'</span>, <span class="string">'K3'</span>], <span class="string">'age'</span>: [<span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>]&#125;)</span><br><span class="line"></span><br><span class="line">print(boys)</span><br><span class="line"></span><br><span class="line">print(girls)</span><br><span class="line"></span><br><span class="line"><span class="comment">#ä½¿ç”¨suffixesè§£å†³overlappingçš„é—®é¢˜</span></span><br><span class="line">res = pd.merge(boys, girls, on=<span class="string">'k'</span>, suffixes=[<span class="string">'_boy'</span>, <span class="string">'_girl'</span>], how=<span class="string">'inner'</span>)</span><br><span class="line">print(res)</span><br></pre></td></tr></table></figure>
<pre><code>   age   k
0    1  K0
1    2  K1
2    3  K2
   age   k
0    4  K0
1    5  K0
2    6  K3
   age_boy   k  age_girl
0        1  K0         4
1        1  K0         5
</code></pre><p>pandas ä¹Ÿæœ‰ <code>join</code> å’Œ <code>merge</code> æ˜¯ç±»ä¼¼çš„ï¼Œå¦‚éœ€è¦ä½¿ç”¨ï¼Œè¯·å‚è€ƒå®˜æ–¹æ–‡æ¡£</p>
<h2 id="Reference"><a href="#Reference" class="headerlink" title="Reference"></a>Reference</h2><ul>
<li><a href="https://pandas.pydata.org/" target="_blank" rel="external">pandas.pydata.org</a></li>
<li><a href="http://pandas.pydata.org/pandas-docs/version/0.21/" target="_blank" rel="external">pandas docs</a></li>
<li><a href="https://morvanzhou.github.io" target="_blank" rel="external">morvanzhou</a></li>
</ul>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[Pandas Concatã€Joinã€join_axesã€append]]></title>
      <url>http://iequa.com/2017/12/31/py-pandas-6-concat-join-append/</url>
      <content type="html"><![CDATA[<p><code>pandas</code> å¤„ç†å¤šç»„æ•°æ®çš„æ—¶å€™å¾€å¾€ä¼šè¦ç”¨åˆ°æ•°æ®çš„åˆå¹¶å¤„ç†,ä½¿ç”¨ <code>concat</code> æ˜¯ä¸€ç§åŸºæœ¬çš„åˆå¹¶æ–¹å¼.è€Œä¸” <code>concat</code> ä¸­æœ‰å¾ˆå¤šå‚æ•°å¯ä»¥è°ƒæ•´,åˆå¹¶æˆä½ æƒ³è¦çš„æ•°æ®å½¢å¼.</p>
<a id="more"></a>
<h2 id="axis-åˆå¹¶æ–¹å‘"><a href="#axis-åˆå¹¶æ–¹å‘" class="headerlink" title="axis (åˆå¹¶æ–¹å‘)"></a>axis (åˆå¹¶æ–¹å‘)</h2><p><code>axis=0</code> æ˜¯é¢„è®¾å€¼ï¼Œå› æ­¤æœªè®¾å®šä»»ä½•å‚æ•°æ—¶ï¼Œé»˜è®¤axis=0</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> pandas <span class="keyword">as</span> pd</span><br><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"></span><br><span class="line"><span class="comment">#å®šä¹‰èµ„æ–™é›†</span></span><br><span class="line">df1 = pd.DataFrame(np.ones((<span class="number">3</span>,<span class="number">4</span>))*<span class="number">0</span>, columns=[<span class="string">'a'</span>,<span class="string">'b'</span>,<span class="string">'c'</span>,<span class="string">'d'</span>])</span><br><span class="line">df2 = pd.DataFrame(np.ones((<span class="number">3</span>,<span class="number">4</span>))*<span class="number">1</span>, columns=[<span class="string">'a'</span>,<span class="string">'b'</span>,<span class="string">'c'</span>,<span class="string">'d'</span>])</span><br><span class="line">df3 = pd.DataFrame(np.ones((<span class="number">3</span>,<span class="number">4</span>))*<span class="number">2</span>, columns=[<span class="string">'a'</span>,<span class="string">'b'</span>,<span class="string">'c'</span>,<span class="string">'d'</span>])</span><br><span class="line"></span><br><span class="line"><span class="comment">#concatçºµå‘åˆå¹¶</span></span><br><span class="line">res = pd.concat([df1, df2, df3], axis=<span class="number">0</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">#æ‰“å°ç»“æœ</span></span><br><span class="line">print(res)</span><br></pre></td></tr></table></figure>
<pre><code>     a    b    c    d
0  0.0  0.0  0.0  0.0
1  0.0  0.0  0.0  0.0
2  0.0  0.0  0.0  0.0
0  1.0  1.0  1.0  1.0
1  1.0  1.0  1.0  1.0
2  1.0  1.0  1.0  1.0
0  2.0  2.0  2.0  2.0
1  2.0  2.0  2.0  2.0
2  2.0  2.0  2.0  2.0
</code></pre><p>ä»”ç»†è§‚å¯Ÿä¼šå‘ç°ç»“æœçš„<code>index</code>æ˜¯0, 1, 2, 0, 1, 2, 0, 1, 2ï¼Œè‹¥è¦å°†<code>index</code>é‡ç½®ï¼Œè¯·çœ‹ä¾‹å­äºŒã€‚</p>
<h2 id="ignore-index-é‡ç½®-index"><a href="#ignore-index-é‡ç½®-index" class="headerlink" title="ignore_index (é‡ç½® index)"></a>ignore_index (é‡ç½® index)</h2><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment">#æ‰¿ä¸Šä¸€ä¸ªä¾‹å­ï¼Œå¹¶å°†index_ignoreè®¾å®šä¸ºTrue</span></span><br><span class="line">res = pd.concat([df1, df2, df3], axis=<span class="number">0</span>, ignore_index=<span class="keyword">True</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">#æ‰“å°ç»“æœ</span></span><br><span class="line">print(res)</span><br></pre></td></tr></table></figure>
<pre><code>     a    b    c    d
0  0.0  0.0  0.0  0.0
1  0.0  0.0  0.0  0.0
2  0.0  0.0  0.0  0.0
3  1.0  1.0  1.0  1.0
4  1.0  1.0  1.0  1.0
5  1.0  1.0  1.0  1.0
6  2.0  2.0  2.0  2.0
7  2.0  2.0  2.0  2.0
8  2.0  2.0  2.0  2.0
</code></pre><p>ç»“æœçš„<code>index</code>å˜ 0, 1, 2, 3, 4, 5, 6, 7, 8</p>
<h2 id="join-åˆå¹¶æ–¹å¼"><a href="#join-åˆå¹¶æ–¹å¼" class="headerlink" title="join (åˆå¹¶æ–¹å¼)"></a>join (åˆå¹¶æ–¹å¼)</h2><p><code>join=&#39;outer&#39;</code> ä¸ºé¢„è®¾å€¼ï¼Œæœªè®¾å®šä»»ä½•å‚æ•°æ—¶ï¼Œå‡½æ•°é»˜è®¤ <code>join=&#39;outer&#39;</code>ã€‚æ­¤æ–¹å¼æ˜¯ä¾ç…§<code>column</code>æ¥åšçºµå‘åˆå¹¶ï¼Œæœ‰ç›¸åŒçš„<code>column</code>ä¸Šä¸‹åˆå¹¶åœ¨ä¸€èµ·ï¼Œå…¶ä»–ç‹¬è‡ªçš„<code>column</code>ä¸ªè‡ªæˆåˆ—ï¼ŒåŸæœ¬æ²¡æœ‰å€¼çš„ä½ç½®çš†ä»¥<code>NaN</code>å¡«å……ã€‚</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> pandas <span class="keyword">as</span> pd</span><br><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"></span><br><span class="line"><span class="comment">#å®šä¹‰èµ„æ–™é›†</span></span><br><span class="line">df1 = pd.DataFrame(np.ones((<span class="number">3</span>,<span class="number">4</span>))*<span class="number">0</span>, columns=[<span class="string">'a'</span>,<span class="string">'b'</span>,<span class="string">'c'</span>,<span class="string">'d'</span>], index=[<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>])</span><br><span class="line">df2 = pd.DataFrame(np.ones((<span class="number">3</span>,<span class="number">4</span>))*<span class="number">1</span>, columns=[<span class="string">'b'</span>,<span class="string">'c'</span>,<span class="string">'d'</span>,<span class="string">'e'</span>], index=[<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>])</span><br><span class="line"></span><br><span class="line"><span class="comment">#çºµå‘"å¤–"åˆå¹¶df1ä¸df2</span></span><br><span class="line">res = pd.concat([df1, df2], axis=<span class="number">0</span>, join=<span class="string">'outer'</span>)</span><br><span class="line"></span><br><span class="line">print(res)</span><br></pre></td></tr></table></figure>
<pre><code>     a    b    c    d    e
1  0.0  0.0  0.0  0.0  NaN
2  0.0  0.0  0.0  0.0  NaN
3  0.0  0.0  0.0  0.0  NaN
2  NaN  1.0  1.0  1.0  1.0
3  NaN  1.0  1.0  1.0  1.0
4  NaN  1.0  1.0  1.0  1.0
</code></pre><p>åªæœ‰ç›¸åŒçš„<code>column</code>åˆå¹¶åœ¨ä¸€èµ·ï¼Œå…¶ä»–çš„ä¼šè¢«æŠ›å¼ƒ</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment">#æ‰¿ä¸Šä¸€ä¸ªä¾‹å­</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#çºµå‘"å†…"åˆå¹¶df1ä¸df2</span></span><br><span class="line">res = pd.concat([df1, df2], axis=<span class="number">0</span>, join=<span class="string">'inner'</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">#é‡ç½®indexå¹¶æ‰“å°ç»“æœ</span></span><br><span class="line">res = pd.concat([df1, df2], axis=<span class="number">0</span>, join=<span class="string">'inner'</span>, ignore_index=<span class="keyword">True</span>)</span><br><span class="line">print(res)</span><br></pre></td></tr></table></figure>
<pre><code>     b    c    d
0  0.0  0.0  0.0
1  0.0  0.0  0.0
2  0.0  0.0  0.0
3  1.0  1.0  1.0
4  1.0  1.0  1.0
5  1.0  1.0  1.0
</code></pre><h2 id="join-axes-ä¾ç…§-axes-åˆå¹¶"><a href="#join-axes-ä¾ç…§-axes-åˆå¹¶" class="headerlink" title="join_axes (ä¾ç…§ axes åˆå¹¶)"></a>join_axes (ä¾ç…§ axes åˆå¹¶)</h2><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> pandas <span class="keyword">as</span> pd</span><br><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"></span><br><span class="line"><span class="comment">#å®šä¹‰èµ„æ–™é›†</span></span><br><span class="line">df1 = pd.DataFrame(np.ones((<span class="number">3</span>,<span class="number">4</span>))*<span class="number">0</span>, columns=[<span class="string">'a'</span>,<span class="string">'b'</span>,<span class="string">'c'</span>,<span class="string">'d'</span>], index=[<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>])</span><br><span class="line">df2 = pd.DataFrame(np.ones((<span class="number">3</span>,<span class="number">4</span>))*<span class="number">1</span>, columns=[<span class="string">'b'</span>,<span class="string">'c'</span>,<span class="string">'d'</span>,<span class="string">'e'</span>], index=[<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>])</span><br><span class="line"></span><br><span class="line"><span class="comment">#ä¾ç…§`df1.index`è¿›è¡Œæ¨ªå‘åˆå¹¶</span></span><br><span class="line">res = pd.concat([df1, df2], axis=<span class="number">1</span>, join_axes=[df1.index])</span><br><span class="line"></span><br><span class="line"><span class="comment">#æ‰“å°ç»“æœ</span></span><br><span class="line">print(res)</span><br><span class="line"><span class="comment">#     a    b    c    d    b    c    d    e</span></span><br><span class="line"><span class="comment"># 1  0.0  0.0  0.0  0.0  NaN  NaN  NaN  NaN</span></span><br><span class="line"><span class="comment"># 2  0.0  0.0  0.0  0.0  1.0  1.0  1.0  1.0</span></span><br><span class="line"><span class="comment"># 3  0.0  0.0  0.0  0.0  1.0  1.0  1.0  1.0</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#ç§»é™¤join_axesï¼Œå¹¶æ‰“å°ç»“æœ</span></span><br><span class="line">res = pd.concat([df1, df2], axis=<span class="number">1</span>)</span><br><span class="line">print(res)</span><br></pre></td></tr></table></figure>
<pre><code>     a    b    c    d    b    c    d    e
1  0.0  0.0  0.0  0.0  NaN  NaN  NaN  NaN
2  0.0  0.0  0.0  0.0  1.0  1.0  1.0  1.0
3  0.0  0.0  0.0  0.0  1.0  1.0  1.0  1.0
     a    b    c    d    b    c    d    e
1  0.0  0.0  0.0  0.0  NaN  NaN  NaN  NaN
2  0.0  0.0  0.0  0.0  1.0  1.0  1.0  1.0
3  0.0  0.0  0.0  0.0  1.0  1.0  1.0  1.0
4  NaN  NaN  NaN  NaN  1.0  1.0  1.0  1.0
</code></pre><h2 id="append-æ·»åŠ æ•°æ®"><a href="#append-æ·»åŠ æ•°æ®" class="headerlink" title="append (æ·»åŠ æ•°æ®)"></a>append (æ·»åŠ æ•°æ®)</h2><p><code>append</code>åªæœ‰çºµå‘åˆå¹¶ï¼Œæ²¡æœ‰æ¨ªå‘åˆå¹¶</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> pandas <span class="keyword">as</span> pd</span><br><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"></span><br><span class="line"><span class="comment">#å®šä¹‰èµ„æ–™é›†</span></span><br><span class="line">df1 = pd.DataFrame(np.ones((<span class="number">3</span>,<span class="number">4</span>))*<span class="number">0</span>, columns=[<span class="string">'a'</span>,<span class="string">'b'</span>,<span class="string">'c'</span>,<span class="string">'d'</span>])</span><br><span class="line">df2 = pd.DataFrame(np.ones((<span class="number">3</span>,<span class="number">4</span>))*<span class="number">1</span>, columns=[<span class="string">'a'</span>,<span class="string">'b'</span>,<span class="string">'c'</span>,<span class="string">'d'</span>])</span><br><span class="line">df3 = pd.DataFrame(np.ones((<span class="number">3</span>,<span class="number">4</span>))*<span class="number">1</span>, columns=[<span class="string">'a'</span>,<span class="string">'b'</span>,<span class="string">'c'</span>,<span class="string">'d'</span>])</span><br><span class="line">s1 = pd.Series([<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>], index=[<span class="string">'a'</span>,<span class="string">'b'</span>,<span class="string">'c'</span>,<span class="string">'d'</span>])</span><br><span class="line"></span><br><span class="line"><span class="comment">#å°†df2åˆå¹¶åˆ°df1çš„ä¸‹é¢ï¼Œä»¥åŠé‡ç½®indexï¼Œå¹¶æ‰“å°å‡ºç»“æœ</span></span><br><span class="line">res = df1.append(df2, ignore_index=<span class="keyword">True</span>)</span><br><span class="line">print(res)</span><br><span class="line"><span class="comment">#     a    b    c    d</span></span><br><span class="line"><span class="comment"># 0  0.0  0.0  0.0  0.0</span></span><br><span class="line"><span class="comment"># 1  0.0  0.0  0.0  0.0</span></span><br><span class="line"><span class="comment"># 2  0.0  0.0  0.0  0.0</span></span><br><span class="line"><span class="comment"># 3  1.0  1.0  1.0  1.0</span></span><br><span class="line"><span class="comment"># 4  1.0  1.0  1.0  1.0</span></span><br><span class="line"><span class="comment"># 5  1.0  1.0  1.0  1.0</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#åˆå¹¶å¤šä¸ªdfï¼Œå°†df2ä¸df3åˆå¹¶è‡³df1çš„ä¸‹é¢ï¼Œä»¥åŠé‡ç½®indexï¼Œå¹¶æ‰“å°å‡ºç»“æœ</span></span><br><span class="line">res = df1.append([df2, df3], ignore_index=<span class="keyword">True</span>)</span><br><span class="line">print(res)</span><br><span class="line"><span class="comment">#     a    b    c    d</span></span><br><span class="line"><span class="comment"># 0  0.0  0.0  0.0  0.0</span></span><br><span class="line"><span class="comment"># 1  0.0  0.0  0.0  0.0</span></span><br><span class="line"><span class="comment"># 2  0.0  0.0  0.0  0.0</span></span><br><span class="line"><span class="comment"># 3  1.0  1.0  1.0  1.0</span></span><br><span class="line"><span class="comment"># 4  1.0  1.0  1.0  1.0</span></span><br><span class="line"><span class="comment"># 5  1.0  1.0  1.0  1.0</span></span><br><span class="line"><span class="comment"># 6  1.0  1.0  1.0  1.0</span></span><br><span class="line"><span class="comment"># 7  1.0  1.0  1.0  1.0</span></span><br><span class="line"><span class="comment"># 8  1.0  1.0  1.0  1.0</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#åˆå¹¶seriesï¼Œå°†s1åˆå¹¶è‡³df1ï¼Œä»¥åŠé‡ç½®indexï¼Œå¹¶æ‰“å°å‡ºç»“æœ</span></span><br><span class="line">res = df1.append(s1, ignore_index=<span class="keyword">True</span>)</span><br><span class="line">print(res)</span><br><span class="line"><span class="comment">#     a    b    c    d</span></span><br><span class="line"><span class="comment"># 0  0.0  0.0  0.0  0.0</span></span><br><span class="line"><span class="comment"># 1  0.0  0.0  0.0  0.0</span></span><br><span class="line"><span class="comment"># 2  0.0  0.0  0.0  0.0</span></span><br><span class="line"><span class="comment"># 3  1.0  2.0  3.0  4.0</span></span><br></pre></td></tr></table></figure>
<pre><code>     a    b    c    d
0  0.0  0.0  0.0  0.0
1  0.0  0.0  0.0  0.0
2  0.0  0.0  0.0  0.0
3  1.0  1.0  1.0  1.0
4  1.0  1.0  1.0  1.0
5  1.0  1.0  1.0  1.0
     a    b    c    d
0  0.0  0.0  0.0  0.0
1  0.0  0.0  0.0  0.0
2  0.0  0.0  0.0  0.0
3  1.0  1.0  1.0  1.0
4  1.0  1.0  1.0  1.0
5  1.0  1.0  1.0  1.0
6  1.0  1.0  1.0  1.0
7  1.0  1.0  1.0  1.0
8  1.0  1.0  1.0  1.0
     a    b    c    d
0  0.0  0.0  0.0  0.0
1  0.0  0.0  0.0  0.0
2  0.0  0.0  0.0  0.0
3  1.0  2.0  3.0  4.0
</code></pre><h2 id="Reference"><a href="#Reference" class="headerlink" title="Reference"></a>Reference</h2><ul>
<li><a href="https://pandas.pydata.org/" target="_blank" rel="external">pandas.pydata.org</a></li>
<li><a href="http://pandas.pydata.org/pandas-docs/version/0.21/" target="_blank" rel="external">pandas docs</a></li>
<li><a href="https://morvanzhou.github.io" target="_blank" rel="external">morvanzhou</a></li>
</ul>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[Pandas IO]]></title>
      <url>http://iequa.com/2017/12/30/py-pandas-5-import-output/</url>
      <content type="html"><![CDATA[<p><code>pandas</code> å¯ä»¥è¯»å–ä¸å­˜å–çš„èµ„æ–™æ ¼å¼æœ‰å¾ˆå¤šç§ï¼Œåƒ <code>csv</code>ã€<code>excel</code>ã€<code>json</code>ã€<code>html</code> ä¸ <code>pickle</code> ç­‰â€¦</p>
<p>è¯¦ç»†è¯·çœ‹<a href="http://pandas.pydata.org/pandas-docs/stable/io.html" target="_blank" rel="external">å®˜æ–¹æ–‡æ¡£</a></p>
<a id="more"></a>
<h2 id="è¯»å–csv"><a href="#è¯»å–csv" class="headerlink" title="è¯»å–csv"></a>è¯»å–csv</h2><p>ç¤ºèŒƒæ¡£æ¡ˆä¸‹è½½ - student.csv</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> pandas <span class="keyword">as</span> pd <span class="comment">#åŠ è½½æ¨¡å—</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#è¯»å–csv</span></span><br><span class="line">data = pd.read_csv(<span class="string">'students.csv'</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">#æ‰“å°å‡ºdata</span></span><br><span class="line">print(data)</span><br></pre></td></tr></table></figure>
<pre><code>    Student ID  name   age  gender
0         1100  Kelly   22  Female
1         1101    Clo   21  Female
2         1102  Tilly   22  Female
3         1103   Tony   24    Male
4         1104  David   20    Male
5         1105  Catty   22  Female
6         1106      M    3  Female
7         1107      N   43    Male
8         1108      A   13    Male
9         1109      S   12    Male
10        1110  David   33    Male
11        1111     Dw    3  Female
12        1112      Q   23    Male
13        1113      W   21  Female
</code></pre><h2 id="å°†èµ„æ–™å­˜å–æˆpickle"><a href="#å°†èµ„æ–™å­˜å–æˆpickle" class="headerlink" title="å°†èµ„æ–™å­˜å–æˆpickle"></a>å°†èµ„æ–™å­˜å–æˆpickle</h2><figure class="highlight python"><table><tr><td class="code"><pre><span class="line">data.to_pickle(<span class="string">'student.pickle'</span>)</span><br></pre></td></tr></table></figure>
<h2 id="Reference"><a href="#Reference" class="headerlink" title="Reference"></a>Reference</h2><ul>
<li><a href="https://pandas.pydata.org/" target="_blank" rel="external">pandas.pydata.org</a></li>
<li><a href="http://pandas.pydata.org/pandas-docs/version/0.21/" target="_blank" rel="external">pandas docs</a></li>
<li><a href="https://morvanzhou.github.io" target="_blank" rel="external">morvanzhou</a></li>
<li><a href="http://pandas.pydata.org/pandas-docs/stable/io.html" target="_blank" rel="external">pandas IO Tools</a></li>
</ul>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[Pandas Deal NaN Value]]></title>
      <url>http://iequa.com/2017/12/30/py-pandas-4-deal-NaN-value/</url>
      <content type="html"><![CDATA[<p>å¤„ç† <code>NaN</code> æ•°æ®, ä¸€äº› ç©º æˆ–è€… <code>NaN</code> æ•°æ®, å¦‚ä½•åˆ é™¤æˆ–è€…å¡«è¡¥è¿™äº› <code>NaN</code> æ•°æ®.</p>
<a id="more"></a>
<h2 id="åˆ›å»ºå«-NaN-çš„çŸ©é˜µ"><a href="#åˆ›å»ºå«-NaN-çš„çŸ©é˜µ" class="headerlink" title="åˆ›å»ºå« NaN çš„çŸ©é˜µ"></a>åˆ›å»ºå« NaN çš„çŸ©é˜µ</h2><p>å»ºç«‹äº†ä¸€ä¸ª6X4çš„çŸ©é˜µæ•°æ®å¹¶ä¸”æŠŠä¸¤ä¸ªä½ç½®ç½®ä¸ºç©º.</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> pandas <span class="keyword">as</span> pd</span><br><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"></span><br><span class="line">dates = pd.date_range(<span class="string">'20130101'</span>, periods=<span class="number">6</span>)</span><br><span class="line">df = pd.DataFrame(np.arange(<span class="number">24</span>).reshape((<span class="number">6</span>,<span class="number">4</span>)),index=dates, columns=[<span class="string">'A'</span>,<span class="string">'B'</span>,<span class="string">'C'</span>,<span class="string">'D'</span>])</span><br><span class="line">df.iloc[<span class="number">0</span>,<span class="number">1</span>] = np.nan</span><br><span class="line">df.iloc[<span class="number">1</span>,<span class="number">2</span>] = np.nan</span><br><span class="line">print(df)</span><br></pre></td></tr></table></figure>
<pre><code>             A     B     C   D
2013-01-01   0   NaN   2.0   3
2013-01-02   4   5.0   NaN   7
2013-01-03   8   9.0  10.0  11
2013-01-04  12  13.0  14.0  15
2013-01-05  16  17.0  18.0  19
2013-01-06  20  21.0  22.0  23
</code></pre><h2 id="pd-dropna"><a href="#pd-dropna" class="headerlink" title="pd.dropna()"></a>pd.dropna()</h2><p>å¦‚æœæƒ³ç›´æ¥å»æ‰æœ‰ <code>NaN</code> çš„è¡Œæˆ–åˆ—, å¯ä»¥ä½¿ç”¨ <code>dropna</code></p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">df1 = df.dropna(</span><br><span class="line">    axis=<span class="number">0</span>,     <span class="comment"># 0: å¯¹è¡Œè¿›è¡Œæ“ä½œ; 1: å¯¹åˆ—è¿›è¡Œæ“ä½œ</span></span><br><span class="line">    how=<span class="string">'any'</span>   <span class="comment"># 'any': åªè¦å­˜åœ¨ NaN å°± drop æ‰; 'all': å¿…é¡»å…¨éƒ¨æ˜¯ NaN æ‰ drop </span></span><br><span class="line">    ) </span><br><span class="line">print(df1)</span><br></pre></td></tr></table></figure>
<pre><code>             A     B     C   D
2013-01-03   8   9.0  10.0  11
2013-01-04  12  13.0  14.0  15
2013-01-05  16  17.0  18.0  19
2013-01-06  20  21.0  22.0  23
</code></pre><h2 id="pd-fillna"><a href="#pd-fillna" class="headerlink" title="pd.fillna()"></a>pd.fillna()</h2><p>å¦‚æœæ˜¯å°† <code>NaN</code> çš„å€¼ç”¨å…¶ä»–å€¼ä»£æ›¿, æ¯”å¦‚ä»£æ›¿æˆ <code>0</code>:</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">df2 = df.fillna(value=<span class="number">0</span>)</span><br><span class="line">print(df2)</span><br></pre></td></tr></table></figure>
<pre><code>             A     B     C   D
2013-01-01   0   0.0   2.0   3
2013-01-02   4   5.0   0.0   7
2013-01-03   8   9.0  10.0  11
2013-01-04  12  13.0  14.0  15
2013-01-05  16  17.0  18.0  19
2013-01-06  20  21.0  22.0  23
</code></pre><h2 id="pd-isnull"><a href="#pd-isnull" class="headerlink" title="pd.isnull()"></a>pd.isnull()</h2><p>åˆ¤æ–­æ˜¯å¦æœ‰ç¼ºå¤±æ•°æ® <code>NaN</code>, ä¸º <code>True</code> è¡¨ç¤ºç¼ºå¤±æ•°æ®:</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">print(df.isnull())</span><br></pre></td></tr></table></figure>
<pre><code>                A      B      C      D
2013-01-01  False   True  False  False
2013-01-02  False  False   True  False
2013-01-03  False  False  False  False
2013-01-04  False  False  False  False
2013-01-05  False  False  False  False
2013-01-06  False  False  False  False
</code></pre><p>æ£€æµ‹åœ¨æ•°æ®ä¸­æ˜¯å¦å­˜åœ¨ <code>NaN</code>, å¦‚æœå­˜åœ¨å°±è¿”å› <code>True</code>:</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">np.any(df.isnull()) == <span class="keyword">True</span>  </span><br><span class="line"><span class="comment"># True</span></span><br></pre></td></tr></table></figure>
<pre><code>True
</code></pre><h2 id="Reference"><a href="#Reference" class="headerlink" title="Reference"></a>Reference</h2><ul>
<li><a href="https://pandas.pydata.org/" target="_blank" rel="external">pandas.pydata.org</a></li>
<li><a href="http://pandas.pydata.org/pandas-docs/version/0.21/" target="_blank" rel="external">pandas docs</a></li>
<li><a href="https://morvanzhou.github.io" target="_blank" rel="external">morvanzhou</a></li>
</ul>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[Pandas Set Value]]></title>
      <url>http://iequa.com/2017/12/30/py-pandas-3-set-value/</url>
      <content type="html"><![CDATA[<p>æˆ‘ä»¬å¯ä»¥æ ¹æ®è‡ªå·±çš„éœ€æ±‚, ç”¨ pandas è¿›è¡Œæ›´æ”¹æ•°æ®é‡Œé¢çš„å€¼, æˆ–è€…åŠ ä¸Šä¸€äº›ç©ºçš„,æˆ–è€…æœ‰æ•°å€¼çš„åˆ—.</p>
<a id="more"></a>
<h2 id="åˆ›å»ºæ•°æ®"><a href="#åˆ›å»ºæ•°æ®" class="headerlink" title="åˆ›å»ºæ•°æ®"></a>åˆ›å»ºæ•°æ®</h2><p>é¦–å…ˆå»ºç«‹äº†ä¸€ä¸ª 6X4 çš„çŸ©é˜µæ•°æ®</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> pandas <span class="keyword">as</span> pd</span><br><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"></span><br><span class="line">dates = pd.date_range(<span class="string">'20130101'</span>, periods=<span class="number">6</span>)</span><br><span class="line">df = pd.DataFrame(np.arange(<span class="number">24</span>).reshape((<span class="number">6</span>,<span class="number">4</span>)),index=dates, columns=[<span class="string">'A'</span>,<span class="string">'B'</span>,<span class="string">'C'</span>,<span class="string">'D'</span>])</span><br><span class="line">print(df)</span><br></pre></td></tr></table></figure>
<pre><code>             A   B   C   D
2013-01-01   0   1   2   3
2013-01-02   4   5   6   7
2013-01-03   8   9  10  11
2013-01-04  12  13  14  15
2013-01-05  16  17  18  19
2013-01-06  20  21  22  23
</code></pre><h2 id="è®¾ç½®-loc-å’Œ-iloc"><a href="#è®¾ç½®-loc-å’Œ-iloc" class="headerlink" title="è®¾ç½® loc å’Œ iloc"></a>è®¾ç½® loc å’Œ iloc</h2><p>æˆ‘ä»¬å¯ä»¥åˆ©ç”¨ç´¢å¼•æˆ–è€…æ ‡ç­¾ç¡®å®šéœ€è¦ä¿®æ”¹å€¼çš„ä½ç½®</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">df.iloc[<span class="number">2</span>,<span class="number">2</span>] = <span class="number">1111</span></span><br><span class="line">df.loc[<span class="string">'20130101'</span>,<span class="string">'B'</span>] = <span class="number">2222</span></span><br><span class="line">print(df)</span><br></pre></td></tr></table></figure>
<pre><code>             A     B     C   D
2013-01-01   0  2222     2   3
2013-01-02   4     5     6   7
2013-01-03   8     0  1111  11
2013-01-04  12     0    14  15
2013-01-05  16     0    18  19
2013-01-06  20     0    22  23
</code></pre><h2 id="æ ¹æ®æ¡ä»¶è®¾ç½®"><a href="#æ ¹æ®æ¡ä»¶è®¾ç½®" class="headerlink" title="æ ¹æ®æ¡ä»¶è®¾ç½®"></a>æ ¹æ®æ¡ä»¶è®¾ç½®</h2><p>å¦‚æœç°åœ¨çš„åˆ¤æ–­æ¡ä»¶æ˜¯è¿™æ ·, æˆ‘ä»¬æƒ³è¦æ›´æ”¹Bä¸­çš„æ•°, è€Œæ›´æ”¹çš„ä½ç½®æ˜¯å–å†³äº A çš„. å¯¹äºAå¤§äº4çš„ä½ç½®. æ›´æ”¹Båœ¨ç›¸åº”ä½ç½®ä¸Šçš„æ•°ä¸º0</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">df.B[df.A&gt;<span class="number">4</span>] = <span class="number">0</span></span><br><span class="line">print(df)</span><br></pre></td></tr></table></figure>
<pre><code>             A     B     C   D
2013-01-01   0  2222     2   3
2013-01-02   4     5     6   7
2013-01-03   8     0  1111  11
2013-01-04  12     0    14  15
2013-01-05  16     0    18  19
2013-01-06  20     0    22  23
</code></pre><h2 id="æŒ‰è¡Œæˆ–åˆ—è®¾ç½®"><a href="#æŒ‰è¡Œæˆ–åˆ—è®¾ç½®" class="headerlink" title="æŒ‰è¡Œæˆ–åˆ—è®¾ç½®"></a>æŒ‰è¡Œæˆ–åˆ—è®¾ç½®</h2><p>å¦‚æœå¯¹æ•´åˆ—åšæ‰¹å¤„ç†, åŠ ä¸Šä¸€åˆ— â€˜Fâ€™, å¹¶å°† F åˆ—å…¨æ”¹ä¸º NaN, å¦‚ä¸‹:</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">df[<span class="string">'F'</span>] = np.nan</span><br><span class="line">print(df)</span><br></pre></td></tr></table></figure>
<pre><code>             A     B     C   D   F
2013-01-01   0  2222     2   3 NaN
2013-01-02   4     5     6   7 NaN
2013-01-03   8     0  1111  11 NaN
2013-01-04  12     0    14  15 NaN
2013-01-05  16     0    18  19 NaN
2013-01-06  20     0    22  23 NaN
</code></pre><h2 id="æ·»åŠ æ•°æ®"><a href="#æ·»åŠ æ•°æ®" class="headerlink" title="æ·»åŠ æ•°æ®"></a>æ·»åŠ æ•°æ®</h2><p>ç”¨ä¸Šé¢çš„æ–¹æ³•ä¹Ÿå¯ä»¥åŠ ä¸Š Series åºåˆ—ï¼ˆä½†æ˜¯é•¿åº¦å¿…é¡»å¯¹é½ï¼‰</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">df[<span class="string">'E'</span>] = pd.Series([<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>], index=pd.date_range(<span class="string">'20130101'</span>,periods=<span class="number">6</span>)) </span><br><span class="line">print(df)</span><br></pre></td></tr></table></figure>
<pre><code>             A     B     C   D   F  E
2013-01-01   0  2222     2   3 NaN  1
2013-01-02   4     5     6   7 NaN  2
2013-01-03   8     0  1111  11 NaN  3
2013-01-04  12     0    14  15 NaN  4
2013-01-05  16     0    18  19 NaN  5
2013-01-06  20     0    22  23 NaN  6
</code></pre><p>è¿™æ ·æˆ‘ä»¬å¤§æ¦‚å­¦ä¼šäº†å¦‚ä½•å¯¹ <code>DataFrame</code> ä¸­åœ¨è‡ªå·±æƒ³è¦çš„åœ°æ–¹èµ‹å€¼æˆ–è€…å¢åŠ æ•°æ®ã€‚</p>
<h2 id="Reference"><a href="#Reference" class="headerlink" title="Reference"></a>Reference</h2><ul>
<li><a href="https://pandas.pydata.org/" target="_blank" rel="external">pandas.pydata.org</a></li>
<li><a href="http://pandas.pydata.org/pandas-docs/version/0.21/" target="_blank" rel="external">pandas docs</a></li>
<li><a href="https://morvanzhou.github.io" target="_blank" rel="external">morvanzhou</a></li>
</ul>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[Pandas Select Data]]></title>
      <url>http://iequa.com/2017/12/28/py-pandas-2-select-data/</url>
      <content type="html"><![CDATA[<p>pandas é€‰æ‹©æ•°æ®, é¦–å…ˆæˆ‘ä»¬å»ºç«‹äº†ä¸€ä¸ª 6X4 çš„çŸ©é˜µæ•°æ®</p>
<a id="more"></a>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> pandas <span class="keyword">as</span> pd</span><br><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"></span><br><span class="line">dates = pd.date_range(<span class="string">'20130101'</span>, periods=<span class="number">6</span>)</span><br><span class="line">df = pd.DataFrame(np.arange(<span class="number">24</span>).reshape((<span class="number">6</span>,<span class="number">4</span>)),index=dates, columns=[<span class="string">'A'</span>,<span class="string">'B'</span>,<span class="string">'C'</span>,<span class="string">'D'</span>])</span><br><span class="line">print(df)</span><br></pre></td></tr></table></figure>
<pre><code>             A   B   C   D
2013-01-01   0   1   2   3
2013-01-02   4   5   6   7
2013-01-03   8   9  10  11
2013-01-04  12  13  14  15
2013-01-05  16  17  18  19
2013-01-06  20  21  22  23
</code></pre><h2 id="ç®€å•çš„ç­›é€‰"><a href="#ç®€å•çš„ç­›é€‰" class="headerlink" title="ç®€å•çš„ç­›é€‰"></a>ç®€å•çš„ç­›é€‰</h2><p>å¦‚æœæˆ‘ä»¬æƒ³é€‰å– DataFrame ä¸­çš„æ•°æ®ï¼Œä¸‹é¢æè¿°äº†ä¸¤ç§é€”å¾„, ä»–ä»¬éƒ½èƒ½è¾¾åˆ°åŒä¸€ä¸ªç›®çš„ï¼š</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">print(df[<span class="string">'A'</span>])</span><br><span class="line">print(df.A)</span><br></pre></td></tr></table></figure>
<pre><code>2013-01-01     0
2013-01-02     4
2013-01-03     8
2013-01-04    12
2013-01-05    16
2013-01-06    20
Freq: D, Name: A, dtype: int64

2013-01-01     0
2013-01-02     4
2013-01-03     8
2013-01-04    12
2013-01-05    16
2013-01-06    20
Freq: D, Name: A, dtype: int64
</code></pre><p>è®©é€‰æ‹©è·¨è¶Šå¤šè¡Œæˆ–å¤šåˆ—:</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">print(df[<span class="number">0</span>:<span class="number">3</span>])</span><br></pre></td></tr></table></figure>
<pre><code>            A  B   C   D
2013-01-01  0  1   2   3
2013-01-02  4  5   6   7
2013-01-03  8  9  10  11
</code></pre><figure class="highlight python"><table><tr><td class="code"><pre><span class="line">print(df[<span class="number">3</span>:<span class="number">3</span>])</span><br></pre></td></tr></table></figure>
<pre><code>Empty DataFrame
Columns: [A, B, C, D]
Index: []
</code></pre><figure class="highlight python"><table><tr><td class="code"><pre><span class="line">print(df[<span class="string">'20130102'</span>:<span class="string">'20130104'</span>])</span><br></pre></td></tr></table></figure>
<pre><code>             A   B   C   D
2013-01-02   4   5   6   7
2013-01-03   8   9  10  11
2013-01-04  12  13  14  15
</code></pre><p>å¦‚æœ <code>df[3:3]</code> å°†ä¼šæ˜¯ä¸€ä¸ªç©ºå¯¹è±¡ã€‚åè€…é€‰æ‹© <code>20130102</code> åˆ° <code>20130104</code> æ ‡ç­¾ä¹‹é—´çš„æ•°æ®ï¼Œå¹¶ä¸”åŒ…æ‹¬è¿™ä¸¤ä¸ªæ ‡ç­¾</p>
<h2 id="æ ¹æ®æ ‡ç­¾-loc"><a href="#æ ¹æ®æ ‡ç­¾-loc" class="headerlink" title="æ ¹æ®æ ‡ç­¾ loc"></a>æ ¹æ®æ ‡ç­¾ loc</h2><p>å¯ä»¥ä½¿ç”¨æ ‡ç­¾æ¥é€‰æ‹©æ•°æ® <code>loc</code>, æœ¬ä¾‹å­ä¸»è¦é€šè¿‡æ ‡ç­¾åå­—é€‰æ‹©æŸä¸€è¡Œæ•°æ®ï¼Œ æˆ–è€…é€šè¿‡é€‰æ‹©æŸè¡Œæˆ–è€…æ‰€æœ‰è¡Œï¼ˆ<code>:</code>ä»£è¡¨æ‰€æœ‰è¡Œï¼‰ç„¶åé€‰å…¶ä¸­æŸä¸€åˆ—æˆ–å‡ åˆ—æ•°æ® :</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">print(df.loc[<span class="string">'20130102'</span>])</span><br></pre></td></tr></table></figure>
<pre><code>A    4
B    5
C    6
D    7
Name: 2013-01-02 00:00:00, dtype: int64
</code></pre><figure class="highlight python"><table><tr><td class="code"><pre><span class="line">print(df.loc[:,[<span class="string">'A'</span>,<span class="string">'B'</span>]])</span><br></pre></td></tr></table></figure>
<pre><code>             A   B
2013-01-01   0   1
2013-01-02   4   5
2013-01-03   8   9
2013-01-04  12  13
2013-01-05  16  17
2013-01-06  20  21
</code></pre><figure class="highlight python"><table><tr><td class="code"><pre><span class="line">print(df.loc[<span class="string">'20130102'</span>,[<span class="string">'A'</span>,<span class="string">'B'</span>]])</span><br></pre></td></tr></table></figure>
<pre><code>A    4
B    5
Name: 2013-01-02 00:00:00, dtype: int64
</code></pre><h2 id="æ ¹æ®åºåˆ—-iloc"><a href="#æ ¹æ®åºåˆ—-iloc" class="headerlink" title="æ ¹æ®åºåˆ— iloc"></a>æ ¹æ®åºåˆ— iloc</h2><p>å¯ä»¥é‡‡ç”¨ä½ç½®è¿›è¡Œé€‰æ‹© <code>iloc</code>, åœ¨è¿™é‡Œæˆ‘ä»¬å¯ä»¥é€šè¿‡ä½ç½®é€‰æ‹©åœ¨ä¸åŒæƒ…å†µä¸‹æ‰€éœ€è¦çš„æ•°æ®ä¾‹å¦‚é€‰æŸä¸€ä¸ªï¼Œè¿ç»­é€‰æˆ–è€…è·¨è¡Œé€‰ç­‰æ“ä½œã€‚</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">print(df.iloc[<span class="number">3</span>,<span class="number">1</span>])</span><br></pre></td></tr></table></figure>
<pre><code>13
</code></pre><figure class="highlight python"><table><tr><td class="code"><pre><span class="line">print(df.iloc[<span class="number">3</span>:<span class="number">5</span>,<span class="number">1</span>:<span class="number">3</span>])</span><br></pre></td></tr></table></figure>
<pre><code>             B   C
2013-01-04  13  14
2013-01-05  17  18
</code></pre><figure class="highlight python"><table><tr><td class="code"><pre><span class="line">print(df.iloc[[<span class="number">1</span>,<span class="number">3</span>,<span class="number">5</span>],<span class="number">1</span>:<span class="number">3</span>])</span><br></pre></td></tr></table></figure>
<pre><code>             B   C
2013-01-02   5   6
2013-01-04  13  14
2013-01-06  21  22
</code></pre><p>åœ¨è¿™é‡Œæˆ‘ä»¬å¯ä»¥é€šè¿‡ä½ç½®é€‰æ‹©åœ¨ä¸åŒæƒ…å†µä¸‹æ‰€éœ€è¦çš„æ•°æ®, ä¾‹å¦‚é€‰æŸä¸€ä¸ªï¼Œè¿ç»­é€‰æˆ–è€…è·¨è¡Œé€‰ç­‰æ“ä½œã€‚</p>
<h2 id="æ ¹æ®æ··åˆä¸¤ç§-ix"><a href="#æ ¹æ®æ··åˆä¸¤ç§-ix" class="headerlink" title="æ ¹æ®æ··åˆä¸¤ç§ ix"></a>æ ¹æ®æ··åˆä¸¤ç§ ix</h2><p>å½“ç„¶æˆ‘ä»¬å¯ä»¥é‡‡ç”¨æ··åˆé€‰æ‹© <code>ix</code>, å…¶ä¸­é€‰æ‹©â€™Aâ€™å’Œâ€™Câ€™çš„ä¸¤åˆ—ï¼Œå¹¶é€‰æ‹©å‰ä¸‰è¡Œçš„æ•°æ®ã€‚</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">print(df.ix[:<span class="number">3</span>,[<span class="string">'A'</span>,<span class="string">'C'</span>]])</span><br></pre></td></tr></table></figure>
<pre><code>            A   C
2013-01-01  0   2
2013-01-02  4   6
2013-01-03  8  10


/Users/blair/.pyenv/versions/anaconda3/lib/python3.6/site-packages/ipykernel_launcher.py:1: DeprecationWarning: 
.ix is deprecated. Please use
.loc for label based indexing or
.iloc for positional indexing

See the documentation here:
http://pandas.pydata.org/pandas-docs/stable/indexing.html#ix-indexer-is-deprecated
  &quot;&quot;&quot;Entry point for launching an IPython kernel.
</code></pre><h2 id="é€šè¿‡åˆ¤æ–­çš„ç­›é€‰"><a href="#é€šè¿‡åˆ¤æ–­çš„ç­›é€‰" class="headerlink" title="é€šè¿‡åˆ¤æ–­çš„ç­›é€‰"></a>é€šè¿‡åˆ¤æ–­çš„ç­›é€‰</h2><p>æœ€åæˆ‘ä»¬å¯ä»¥é‡‡ç”¨åˆ¤æ–­æŒ‡ä»¤ (Boolean indexing) è¿›è¡Œé€‰æ‹©. æˆ‘ä»¬å¯ä»¥çº¦æŸæŸé¡¹æ¡ä»¶ç„¶åé€‰æ‹©å‡ºå½“å‰æ‰€æœ‰æ•°æ®.</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">print(df[df.A&gt;<span class="number">8</span>])</span><br><span class="line">df.A&gt;<span class="number">8</span></span><br></pre></td></tr></table></figure>
<pre><code>             A   B   C   D
2013-01-04  12  13  14  15
2013-01-05  16  17  18  19
2013-01-06  20  21  22  23

2013-01-01    False
2013-01-02    False
2013-01-03    False
2013-01-04     True
2013-01-05     True
2013-01-06     True
Freq: D, Name: A, dtype: bool
</code></pre><p>ä¸‹èŠ‚æˆ‘ä»¬å°†ä¼šè®²åˆ°Pandasä¸­å¦‚ä½•è®¾ç½®å€¼ã€‚</p>
<h2 id="Reference"><a href="#Reference" class="headerlink" title="Reference"></a>Reference</h2><ul>
<li><a href="https://pandas.pydata.org/" target="_blank" rel="external">pandas.pydata.org</a></li>
<li><a href="http://pandas.pydata.org/pandas-docs/version/0.21/" target="_blank" rel="external">pandas docs</a></li>
<li><a href="https://morvanzhou.github.io" target="_blank" rel="external">morvanzhou</a></li>
</ul>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[Pandas Basic Intro]]></title>
      <url>http://iequa.com/2017/12/27/py-pandas-1-intro/</url>
      <content type="html"><![CDATA[<p>å¦‚æœç”¨åˆ—è¡¨å’Œå­—å…¸æ¥ä½œæ¯”è¾ƒ, é‚£ä¹ˆå¯ä»¥è¯´ Numpy æ˜¯åˆ—è¡¨å½¢å¼çš„ï¼Œæ²¡æœ‰æ•°å€¼æ ‡ç­¾ï¼Œè€Œ Pandas å°±æ˜¯å­—å…¸å½¢å¼</p>
<a id="more"></a>
<p>Pandasæ˜¯åŸºäºNumpyæ„å»ºçš„ï¼Œè®©Numpyä¸ºä¸­å¿ƒçš„åº”ç”¨å˜å¾—æ›´åŠ ç®€å•ã€‚</p>
<p>è¦ä½¿ç”¨pandasï¼Œé¦–å…ˆéœ€è¦äº†è§£ä»–ä¸»è¦ä¸¤ä¸ªæ•°æ®ç»“æ„ï¼šSeries å’Œ DataFrameã€‚</p>
<h2 id="Series"><a href="#Series" class="headerlink" title="Series"></a>Series</h2><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> pandas <span class="keyword">as</span> pd</span><br><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"></span><br><span class="line">s = pd.Series([<span class="number">1</span>,<span class="number">3</span>,<span class="number">6</span>,np.nan,<span class="number">44</span>,<span class="number">1</span>])</span><br><span class="line"></span><br><span class="line">print(s)</span><br></pre></td></tr></table></figure>
<pre><code>0     1.0
1     3.0
2     6.0
3     NaN
4    44.0
5     1.0
dtype: float64
</code></pre><p><code>Series</code> çš„å­—ç¬¦ä¸²è¡¨ç°å½¢å¼ä¸ºï¼šç´¢å¼•åœ¨å·¦è¾¹ï¼Œå€¼åœ¨å³è¾¹ã€‚<br>ç”±äºæˆ‘ä»¬æ²¡æœ‰ä¸ºæ•°æ®æŒ‡å®šç´¢å¼•ã€‚äºæ˜¯ä¼šè‡ªåŠ¨åˆ›å»ºä¸€ä¸ª0åˆ°N-1ï¼ˆNä¸ºé•¿åº¦ï¼‰çš„æ•´æ•°å‹ç´¢å¼•ã€‚</p>
<h2 id="DataFrame-çŸ©é˜µåˆ›å»º"><a href="#DataFrame-çŸ©é˜µåˆ›å»º" class="headerlink" title="DataFrame çŸ©é˜µåˆ›å»º"></a>DataFrame çŸ©é˜µåˆ›å»º</h2><figure class="highlight python"><table><tr><td class="code"><pre><span class="line">dates = pd.date_range(<span class="string">'20160101'</span>,periods=<span class="number">6</span>)</span><br><span class="line">df = pd.DataFrame(np.random.randn(<span class="number">6</span>,<span class="number">4</span>),index=dates,columns=[<span class="string">'a'</span>,<span class="string">'b'</span>,<span class="string">'c'</span>,<span class="string">'d'</span>])</span><br><span class="line"></span><br><span class="line">print(df)</span><br></pre></td></tr></table></figure>
<pre><code>                   a         b         c         d
2016-01-01 -0.186992  0.228857  0.572464 -0.842974
2016-01-02 -0.689623 -1.491299  0.647805  0.819846
2016-01-03 -1.294425  0.138935  1.729793 -1.270880
2016-01-04  0.088744  0.745256  0.380425  0.048070
2016-01-05  0.003135 -2.240388  0.188038 -0.069044
2016-01-06 -1.358217 -0.820133  1.606467 -1.622589
</code></pre><p><code>DataFrame</code> æ˜¯ä¸€ä¸ªè¡¨æ ¼å‹çš„æ•°æ®ç»“æ„ï¼Œå®ƒåŒ…å«æœ‰ä¸€ç»„æœ‰åºçš„åˆ—ï¼Œæ¯åˆ—å¯ä»¥æ˜¯ä¸åŒçš„å€¼ç±»å‹ï¼ˆæ•°å€¼ï¼Œå­—ç¬¦ä¸²ï¼Œå¸ƒå°”å€¼ç­‰ï¼‰ã€‚<br><code>DataFrame</code> æ—¢æœ‰è¡Œç´¢å¼•ä¹Ÿæœ‰åˆ—ç´¢å¼•ï¼Œ å®ƒå¯ä»¥è¢«çœ‹åšç”± <code>Series</code> ç»„æˆçš„å¤§å­—å…¸ã€‚</p>
<p>æˆ‘ä»¬å¯ä»¥æ ¹æ®æ¯ä¸€ä¸ªä¸åŒçš„ç´¢å¼•æ¥æŒ‘é€‰æ•°æ®, æ¯”å¦‚æŒ‘é€‰ <code>b</code> çš„å…ƒç´ :</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">print(df[<span class="string">'b'</span>])</span><br></pre></td></tr></table></figure>
<pre><code>2016-01-01    0.228857
2016-01-02   -1.491299
2016-01-03    0.138935
2016-01-04    0.745256
2016-01-05   -2.240388
2016-01-06   -0.820133
Freq: D, Name: b, dtype: float64
</code></pre><p>æˆ‘ä»¬åœ¨åˆ›å»ºä¸€ç»„æ²¡æœ‰ç»™å®šè¡Œæ ‡ç­¾å’Œåˆ—æ ‡ç­¾çš„æ•°æ® <code>df1</code>:</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">df1 = pd.DataFrame(np.arange(<span class="number">12</span>).reshape((<span class="number">3</span>,<span class="number">4</span>)))</span><br><span class="line">print(df1)</span><br></pre></td></tr></table></figure>
<pre><code>   0  1   2   3
0  0  1   2   3
1  4  5   6   7
2  8  9  10  11
</code></pre><p>è¿™æ ·,ä»–å°±ä¼šé‡‡å–é»˜è®¤çš„ä»0å¼€å§‹ index.</p>
<h2 id="DataFrame-å­—å…¸åˆ›å»º"><a href="#DataFrame-å­—å…¸åˆ›å»º" class="headerlink" title="DataFrame å­—å…¸åˆ›å»º"></a>DataFrame å­—å…¸åˆ›å»º</h2><p>è¿˜æœ‰ä¸€ç§ç”Ÿæˆ <code>df</code> çš„æ–¹æ³•, å¦‚ä¸‹ <code>df2</code>:</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">df2 = pd.DataFrame(&#123;<span class="string">'A'</span> : [<span class="number">1</span>, <span class="number">3</span>, <span class="number">7</span>, <span class="number">5</span>],</span><br><span class="line">                    <span class="string">'B'</span> : pd.Timestamp(<span class="string">'20130102'</span>),</span><br><span class="line">                    <span class="string">'C'</span> : pd.Series(<span class="number">1</span>,index=list(range(<span class="number">4</span>)),dtype=<span class="string">'float32'</span>),</span><br><span class="line">                    <span class="string">'D'</span> : np.array([<span class="number">3</span>] * <span class="number">4</span>,dtype=<span class="string">'int32'</span>),</span><br><span class="line">                    <span class="string">'E'</span> : pd.Categorical([<span class="string">"test"</span>,<span class="string">"train"</span>,<span class="string">"test"</span>,<span class="string">"train"</span>]),</span><br><span class="line">                    <span class="string">'F'</span> : <span class="string">'foo'</span>&#125;)</span><br><span class="line">                    </span><br><span class="line">print(df2)</span><br></pre></td></tr></table></figure>
<pre><code>   A          B    C  D      E    F
0  1 2013-01-02  1.0  3   test  foo
1  3 2013-01-02  1.0  3  train  foo
2  7 2013-01-02  1.0  3   test  foo
3  5 2013-01-02  1.0  3  train  foo
</code></pre><p>è¿™ç§æ–¹æ³•èƒ½å¯¹æ¯ä¸€åˆ—çš„æ•°æ®è¿›è¡Œç‰¹æ®Šå¯¹å¾…. å¦‚æœæƒ³è¦æŸ¥çœ‹æ•°æ®ä¸­çš„ç±»å‹, æˆ‘ä»¬å¯ä»¥ç”¨ <code>dtype</code> è¿™ä¸ªå±æ€§:</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">print(df2.dtypes)</span><br></pre></td></tr></table></figure>
<pre><code>A             int64
B    datetime64[ns]
C           float32
D             int32
E          category
F            object
dtype: object
</code></pre><p>å¦‚æœæƒ³çœ‹å¯¹åˆ—çš„åºå·:</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">print(df2.index)</span><br></pre></td></tr></table></figure>
<pre><code>Int64Index([0, 1, 2, 3], dtype=&apos;int64&apos;)
</code></pre><p>åŒæ ·, æ¯ç§æ•°æ®çš„åç§°ä¹Ÿèƒ½çœ‹åˆ°:</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">print(df2.columns)</span><br></pre></td></tr></table></figure>
<pre><code>Index([&apos;A&apos;, &apos;B&apos;, &apos;C&apos;, &apos;D&apos;, &apos;E&apos;, &apos;F&apos;], dtype=&apos;object&apos;)
</code></pre><p>å¦‚æœåªæƒ³çœ‹æ‰€æœ‰ <code>df2</code> çš„å€¼:</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">print(df2.values)</span><br></pre></td></tr></table></figure>
<pre><code>[[1 Timestamp(&apos;2013-01-02 00:00:00&apos;) 1.0 3 &apos;test&apos; &apos;foo&apos;]
 [3 Timestamp(&apos;2013-01-02 00:00:00&apos;) 1.0 3 &apos;train&apos; &apos;foo&apos;]
 [7 Timestamp(&apos;2013-01-02 00:00:00&apos;) 1.0 3 &apos;test&apos; &apos;foo&apos;]
 [5 Timestamp(&apos;2013-01-02 00:00:00&apos;) 1.0 3 &apos;train&apos; &apos;foo&apos;]]
</code></pre><p>æƒ³çŸ¥é“æ•°æ®çš„æ€»ç»“, å¯ä»¥ç”¨ <code>describe()</code>:</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">df2.describe()</span><br></pre></td></tr></table></figure>
<pre><code>    A    C    D
count    4.000000    4.0    4.0
mean    4.000000    1.0    3.0
std    2.581989    0.0    0.0
min    1.000000    1.0    3.0
25%    2.500000    1.0    3.0
50%    4.000000    1.0    3.0
75%    5.500000    1.0    3.0
max    7.000000    1.0    3.0
</code></pre><p>å¦‚æœæƒ³ç¿»è½¬æ•°æ®, <code>transpose</code>:</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">print(df2.T)</span><br></pre></td></tr></table></figure>
<pre><code>                     0                    1                    2  \
A                    1                    3                    7   
B  2013-01-02 00:00:00  2013-01-02 00:00:00  2013-01-02 00:00:00   
C                    1                    1                    1   
D                    3                    3                    3   
E                 test                train                 test   
F                  foo                  foo                  foo   

                     3  
A                    5  
B  2013-01-02 00:00:00  
C                    1  
D                    3  
E                train  
F                  foo  
</code></pre><p>å¦‚æœæƒ³å¯¹æ•°æ®çš„ <code>index</code> è¿›è¡Œæ’åºå¹¶è¾“å‡º:</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">print(df2.sort_index(axis=<span class="number">1</span>, ascending=<span class="keyword">False</span>)) <span class="comment"># å¯¹åˆ—åç§°è¿›è¡Œæ’åºï¼Œç´¢å¼•åï¼Œå€’æ’åº</span></span><br><span class="line"></span><br><span class="line">print(df2.sort_index(axis=<span class="number">0</span>, ascending=<span class="keyword">False</span>)) <span class="comment"># å¯¹åˆ—åç§°è¿›è¡Œæ’åºï¼Œç´¢å¼•åï¼Œå€’æ’åº</span></span><br></pre></td></tr></table></figure>
<pre><code>     F      E  D    C          B  A
0  foo   test  3  1.0 2013-01-02  1
1  foo  train  3  1.0 2013-01-02  3
2  foo   test  3  1.0 2013-01-02  7
3  foo  train  3  1.0 2013-01-02  5
   A          B    C  D      E    F
3  5 2013-01-02  1.0  3  train  foo
2  7 2013-01-02  1.0  3   test  foo
1  3 2013-01-02  1.0  3  train  foo
0  1 2013-01-02  1.0  3   test  foo
</code></pre><p>å¦‚æœæ˜¯å¯¹æ•°æ® å€¼ æ’åºè¾“å‡º:</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">print(df2.sort_values(by=<span class="string">'E'</span>))</span><br></pre></td></tr></table></figure>
<pre><code>   A          B    C  D      E    F
0  1 2013-01-02  1.0  3   test  foo
2  7 2013-01-02  1.0  3   test  foo
1  3 2013-01-02  1.0  3  train  foo
3  5 2013-01-02  1.0  3  train  foo
</code></pre><h2 id="Reference"><a href="#Reference" class="headerlink" title="Reference"></a>Reference</h2><ul>
<li><a href="https://pandas.pydata.org/" target="_blank" rel="external">pandas.pydata.org</a></li>
<li><a href="http://pandas.pydata.org/pandas-docs/version/0.21/" target="_blank" rel="external">pandas docs</a></li>
<li><a href="https://morvanzhou.github.io" target="_blank" rel="external">morvanzhou</a></li>
</ul>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[Numpy copy & deep copy]]></title>
      <url>http://iequa.com/2017/12/27/py-numpy-8-copy-deep-copy/</url>
      <content type="html"><![CDATA[<p>numpy copy &amp; deep copy</p>
<a id="more"></a>
<h2 id="çš„èµ‹å€¼æ–¹å¼ä¼šå¸¦æœ‰å…³è”æ€§"><a href="#çš„èµ‹å€¼æ–¹å¼ä¼šå¸¦æœ‰å…³è”æ€§" class="headerlink" title="= çš„èµ‹å€¼æ–¹å¼ä¼šå¸¦æœ‰å…³è”æ€§"></a>= çš„èµ‹å€¼æ–¹å¼ä¼šå¸¦æœ‰å…³è”æ€§</h2><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"></span><br><span class="line">a = np.arange(<span class="number">4</span>)</span><br><span class="line"><span class="comment"># array([0, 1, 2, 3])</span></span><br><span class="line"></span><br><span class="line">b = a</span><br><span class="line">c = a</span><br><span class="line">d = b</span><br></pre></td></tr></table></figure>
<p>æ”¹å˜<code>a</code>çš„ç¬¬ä¸€ä¸ªå€¼ï¼Œ<code>b</code>ã€<code>c</code>ã€<code>d</code>çš„ç¬¬ä¸€ä¸ªå€¼ä¹Ÿä¼šåŒæ—¶æ”¹å˜ã€‚</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">a[<span class="number">0</span>] = <span class="number">11</span></span><br><span class="line">print(a)</span><br><span class="line"><span class="comment"># array([11,  1,  2,  3])</span></span><br></pre></td></tr></table></figure>
<pre><code>[11  1  2  3]
</code></pre><p>ç¡®è®¤<code>b</code>ã€<code>c</code>ã€<code>d</code>æ˜¯å¦ä¸<code>a</code>ç›¸åŒ</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">b <span class="keyword">is</span> a  <span class="comment"># True</span></span><br><span class="line">c <span class="keyword">is</span> a  <span class="comment"># True</span></span><br><span class="line">d <span class="keyword">is</span> a  <span class="comment"># True</span></span><br></pre></td></tr></table></figure>
<h2 id="copy-çš„èµ‹å€¼æ–¹å¼æ²¡æœ‰å…³è”æ€§"><a href="#copy-çš„èµ‹å€¼æ–¹å¼æ²¡æœ‰å…³è”æ€§" class="headerlink" title="copy() çš„èµ‹å€¼æ–¹å¼æ²¡æœ‰å…³è”æ€§"></a>copy() çš„èµ‹å€¼æ–¹å¼æ²¡æœ‰å…³è”æ€§</h2><figure class="highlight python"><table><tr><td class="code"><pre><span class="line">b = a.copy()    <span class="comment"># deep copy</span></span><br><span class="line">print(b)        <span class="comment"># array([11, 22, 33,  3])</span></span><br><span class="line">a[<span class="number">3</span>] = <span class="number">44</span></span><br><span class="line">print(a)        <span class="comment"># array([11, 22, 33, 44])</span></span><br><span class="line">print(b)        <span class="comment"># array([11, 22, 33,  3])</span></span><br></pre></td></tr></table></figure>
<pre><code>[11  1  2  3]
[11  1  2 44]
[11  1  2  3]
</code></pre><h2 id="Reference"><a href="#Reference" class="headerlink" title="Reference"></a>Reference</h2><ul>
<li><a href="http://www.numpy.org/" target="_blank" rel="external">numpy.org</a></li>
<li><a href="https://docs.scipy.org/doc/numpy-dev/user/quickstart.html" target="_blank" rel="external">numpy docs</a></li>
<li><a href="https://morvanzhou.github.io" target="_blank" rel="external">morvanzhou</a></li>
</ul>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[Numpy Array Split]]></title>
      <url>http://iequa.com/2017/12/27/py-numpy-7-Split/</url>
      <content type="html"><![CDATA[<p>Numpy array æ¨ªå‘åˆ†å‰²ã€çºµå‘åˆ†å‰²ã€ç­‰é‡åˆ†å‰²ã€éç­‰é‡åˆ†å‰²</p>
<a id="more"></a>
<h2 id="åˆ›å»ºæ•°æ®"><a href="#åˆ›å»ºæ•°æ®" class="headerlink" title="åˆ›å»ºæ•°æ®"></a>åˆ›å»ºæ•°æ®</h2><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"></span><br><span class="line">A = np.arange(<span class="number">12</span>).reshape((<span class="number">3</span>, <span class="number">4</span>))</span><br><span class="line"></span><br><span class="line"><span class="string">"""</span><br><span class="line">array([[ 0,  1,  2,  3],</span><br><span class="line">    [ 4,  5,  6,  7],</span><br><span class="line">    [ 8,  9, 10, 11]])</span><br><span class="line">"""</span></span><br><span class="line"></span><br><span class="line">print(A)</span><br></pre></td></tr></table></figure>
<pre><code>[[ 0  1  2  3]
 [ 4  5  6  7]
 [ 8  9 10 11]]
</code></pre><h2 id="çºµå‘åˆ†å‰²"><a href="#çºµå‘åˆ†å‰²" class="headerlink" title="çºµå‘åˆ†å‰²"></a>çºµå‘åˆ†å‰²</h2><figure class="highlight python"><table><tr><td class="code"><pre><span class="line">print(np.split(A, <span class="number">2</span>, axis=<span class="number">1</span>))</span><br><span class="line"><span class="string">"""</span><br><span class="line">[array([[0, 1],</span><br><span class="line">        [4, 5],</span><br><span class="line">        [8, 9]]), array([[ 2,  3],</span><br><span class="line">        [ 6,  7],</span><br><span class="line">        [10, 11]])]</span><br><span class="line">"""</span></span><br></pre></td></tr></table></figure>
<h2 id="æ¨ªå‘åˆ†å‰²"><a href="#æ¨ªå‘åˆ†å‰²" class="headerlink" title="æ¨ªå‘åˆ†å‰²"></a>æ¨ªå‘åˆ†å‰²</h2><figure class="highlight python"><table><tr><td class="code"><pre><span class="line">print(np.split(A, <span class="number">3</span>, axis=<span class="number">0</span>))</span><br><span class="line"></span><br><span class="line"><span class="comment"># [array([[0, 1, 2, 3]]), array([[4, 5, 6, 7]]), array([[ 8,  9, 10, 11]])]</span></span><br></pre></td></tr></table></figure>
<h2 id="ä¸ç­‰é‡çš„åˆ†å‰²"><a href="#ä¸ç­‰é‡çš„åˆ†å‰²" class="headerlink" title="ä¸ç­‰é‡çš„åˆ†å‰²"></a>ä¸ç­‰é‡çš„åˆ†å‰²</h2><p>åœ¨æœºå™¨å­¦ä¹ æ—¶ç»å¸¸ä¼šéœ€è¦å°†æ•°æ®åšä¸ç­‰é‡çš„åˆ†å‰²ï¼Œå› æ­¤è§£å†³åŠæ³•ä¸º<code>np.array_split()</code></p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">print(np.array_split(A, <span class="number">3</span>, axis=<span class="number">1</span>))</span><br><span class="line"><span class="string">"""</span><br><span class="line">[array([[0, 1],</span><br><span class="line">        [4, 5],</span><br><span class="line">        [8, 9]]), array([[ 2],</span><br><span class="line">        [ 6],</span><br><span class="line">        [10]]), array([[ 3],</span><br><span class="line">        [ 7],</span><br><span class="line">        [11]])]</span><br><span class="line">"""</span></span><br></pre></td></tr></table></figure>
<p>æˆåŠŸå°†Arrayä¸ç­‰é‡åˆ†å‰²!</p>
<h2 id="å…¶ä»–çš„åˆ†å‰²æ–¹å¼"><a href="#å…¶ä»–çš„åˆ†å‰²æ–¹å¼" class="headerlink" title="å…¶ä»–çš„åˆ†å‰²æ–¹å¼"></a>å…¶ä»–çš„åˆ†å‰²æ–¹å¼</h2><p>åœ¨Numpyé‡Œè¿˜æœ‰<code>np.vsplit()</code>ä¸æ¨ª<code>np.hsplit()</code>æ–¹å¼å¯ç”¨ã€‚</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">print(np.vsplit(A, <span class="number">3</span>)) <span class="comment">#ç­‰äº print(np.split(A, 3, axis=0))</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># [array([[0, 1, 2, 3]]), array([[4, 5, 6, 7]]), array([[ 8,  9, 10, 11]])]</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">print(np.hsplit(A, <span class="number">2</span>)) <span class="comment">#ç­‰äº print(np.split(A, 2, axis=1))</span></span><br><span class="line"><span class="string">"""</span><br><span class="line">[array([[0, 1],</span><br><span class="line">       [4, 5],</span><br><span class="line">       [8, 9]]), array([[ 2,  3],</span><br><span class="line">        [ 6,  7],</span><br><span class="line">        [10, 11]])]</span><br><span class="line">"""</span></span><br></pre></td></tr></table></figure>
<h2 id="Reference"><a href="#Reference" class="headerlink" title="Reference"></a>Reference</h2><ul>
<li><a href="http://www.numpy.org/" target="_blank" rel="external">numpy.org</a></li>
<li><a href="https://docs.scipy.org/doc/numpy-dev/user/quickstart.html" target="_blank" rel="external">numpy docs</a></li>
<li><a href="https://morvanzhou.github.io" target="_blank" rel="external">morvanzhou</a></li>
</ul>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[Numpy Array Merge]]></title>
      <url>http://iequa.com/2017/12/26/py-numpy-6-Array-Merge/</url>
      <content type="html"><![CDATA[<p>å¯¹äºä¸€ä¸ª<code>array</code>çš„åˆå¹¶ï¼Œæˆ‘ä»¬å¯ä»¥æƒ³åˆ°æŒ‰è¡Œã€æŒ‰åˆ—ç­‰å¤šç§æ–¹å¼è¿›è¡Œåˆå¹¶</p>
<a id="more"></a>
<h2 id="np-vstack"><a href="#np-vstack" class="headerlink" title="np.vstack()"></a>np.vstack()</h2><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line">A = np.array([<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>])</span><br><span class="line">B = np.array([<span class="number">2</span>,<span class="number">2</span>,<span class="number">2</span>])</span><br><span class="line">         </span><br><span class="line">print(np.vstack((A,B)))    <span class="comment"># vertical stack</span></span><br><span class="line"></span><br><span class="line"><span class="string">"""</span><br><span class="line">[[1,1,1]</span><br><span class="line"> [2,2,2]]</span><br><span class="line">"""</span></span><br><span class="line"></span><br><span class="line">np.vstack((A,B))</span><br></pre></td></tr></table></figure>
<pre><code>[[1 1 1]
 [2 2 2]]

array([[1, 1, 1],
       [2, 2, 2]])
</code></pre><p>vertical stack æœ¬èº«å±äºä¸€ç§ä¸Šä¸‹åˆå¹¶ï¼Œå³å¯¹æ‹¬å·ä¸­çš„ä¸¤ä¸ªæ•´ä½“è¿›è¡Œå¯¹åº”æ“ä½œã€‚æ­¤æ—¶æˆ‘ä»¬å¯¹ç»„åˆè€Œæˆçš„çŸ©é˜µè¿›è¡Œå±æ€§æ¢ç©¶ï¼š</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">C = np.vstack((A,B))      </span><br><span class="line">print(A.shape,C.shape)</span><br><span class="line"></span><br><span class="line"><span class="comment"># (3,) (2,3) # A æ˜¯åºåˆ—, åºåˆ—åˆå¹¶å C ä¸ºçŸ©é˜µ</span></span><br></pre></td></tr></table></figure>
<pre><code>(3,) (2, 3)
</code></pre><p>åˆ©ç”¨shapeå‡½æ•°å¯ä»¥è®©æˆ‘ä»¬å¾ˆå®¹æ˜“åœ°çŸ¥é“Aå’ŒCçš„å±æ€§ï¼Œä»æ‰“å°å‡ºçš„ç»“æœæ¥çœ‹ï¼ŒAä»…ä»…æ˜¯ä¸€ä¸ªæ‹¥æœ‰3é¡¹å…ƒç´ çš„æ•°ç»„ï¼ˆæ•°åˆ—ï¼‰ï¼Œè€Œåˆå¹¶åå¾—åˆ°çš„Cæ˜¯ä¸€ä¸ª2è¡Œ3åˆ—çš„çŸ©é˜µã€‚</p>
<h2 id="np-hstack-å·¦å³åˆå¹¶ï¼š"><a href="#np-hstack-å·¦å³åˆå¹¶ï¼š" class="headerlink" title="np.hstack() å·¦å³åˆå¹¶ï¼š"></a>np.hstack() å·¦å³åˆå¹¶ï¼š</h2><figure class="highlight python"><table><tr><td class="code"><pre><span class="line">D = np.hstack((A,B))       <span class="comment"># horizontal stack</span></span><br><span class="line"></span><br><span class="line">print(D)</span><br><span class="line"><span class="comment"># [1,1,1,2,2,2]</span></span><br><span class="line"></span><br><span class="line">print(A.shape,D.shape)</span><br><span class="line"><span class="comment"># (3,) (6,)</span></span><br></pre></td></tr></table></figure>
<pre><code>[1 1 1 2 2 2]
(3,) (6,)
</code></pre><p>ä¸èƒ½ç”¨ A.T è¿™æ ·çš„æ–¹æ³•ï¼Œå°†ä¸€ä¸ªåºåˆ—å˜ä¸ºçŸ©é˜µ</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">print(A.T)</span><br><span class="line">print(A.T.shape)</span><br></pre></td></tr></table></figure>
<pre><code>[1 1 1]
(3,)
</code></pre><p>é€šè¿‡æ‰“å°å‡ºçš„ç»“æœå¯ä»¥çœ‹å‡ºï¼šDæœ¬èº«æ¥æºäºAï¼ŒBä¸¤ä¸ªæ•°åˆ—çš„å·¦å³åˆå¹¶ï¼Œè€Œä¸”æ–°ç”Ÿæˆçš„Dæœ¬èº«ä¹Ÿæ˜¯ä¸€ä¸ªå«æœ‰6é¡¹å…ƒç´ çš„åºåˆ—ã€‚</p>
<h2 id="np-newaxis"><a href="#np-newaxis" class="headerlink" title="np.newaxis()"></a>np.newaxis()</h2><p>å¦‚æœé¢å¯¹å¦‚åŒå‰æ–‡æ‰€è¿°çš„Aåºåˆ—ï¼Œ è½¬ç½®æ“ä½œä¾¿å¾ˆæœ‰å¯èƒ½æ— æ³•å¯¹å…¶è¿›è¡Œè½¬ç½®ï¼ˆå› ä¸ºAå¹¶ä¸æ˜¯çŸ©é˜µçš„å±æ€§ï¼‰ï¼Œæ­¤æ—¶å°±éœ€è¦æˆ‘ä»¬å€ŸåŠ©å…¶ä»–çš„å‡½æ•°æ“ä½œè¿›è¡Œè½¬ç½®ï¼š</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">print(A[np.newaxis,:])</span><br><span class="line"><span class="comment"># [[1 1 1]]</span></span><br><span class="line"></span><br><span class="line">print(A[np.newaxis,:].shape)</span><br><span class="line"><span class="comment"># (1,3)</span></span><br><span class="line"></span><br><span class="line">print(A[:,np.newaxis])</span><br><span class="line"><span class="string">"""</span><br><span class="line">[[1]</span><br><span class="line">[1]</span><br><span class="line">[1]]</span><br><span class="line">"""</span></span><br><span class="line"></span><br><span class="line">print(A[:,np.newaxis].shape)</span><br><span class="line"><span class="comment"># (3,1)</span></span><br></pre></td></tr></table></figure>
<pre><code>[[1 1 1]]
(1, 3)
[[1]
 [1]
 [1]]
(3, 1)
</code></pre><p>æ­¤æ—¶æˆ‘ä»¬ä¾¿å°†å…·æœ‰3ä¸ªå…ƒç´ çš„<code>array</code>è½¬æ¢ä¸ºäº†1è¡Œ3åˆ—ä»¥åŠ3è¡Œ1åˆ—çš„çŸ©é˜µäº†ã€‚</p>
<h2 id="ç»¼åˆæ€»ç»“"><a href="#ç»¼åˆæ€»ç»“" class="headerlink" title="ç»¼åˆæ€»ç»“"></a>ç»¼åˆæ€»ç»“</h2><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line">A = np.array([<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>])[:,np.newaxis]</span><br><span class="line">B = np.array([<span class="number">2</span>,<span class="number">2</span>,<span class="number">2</span>])[:,np.newaxis]</span><br><span class="line">         </span><br><span class="line">C = np.vstack((A,B))   <span class="comment"># vertical stack</span></span><br><span class="line">D = np.hstack((A,B))   <span class="comment"># horizontal stack</span></span><br><span class="line"></span><br><span class="line">print(D)</span><br><span class="line"><span class="string">"""</span><br><span class="line">[[1 2]</span><br><span class="line">[1 2]</span><br><span class="line">[1 2]]</span><br><span class="line">"""</span></span><br><span class="line"></span><br><span class="line">print(A.shape,D.shape)</span><br><span class="line"><span class="comment"># (3,1) (3,2)</span></span><br></pre></td></tr></table></figure>
<pre><code>[[1 2]
 [1 2]
 [1 2]]
(3, 1) (3, 2)
</code></pre><h2 id="np-concatenate"><a href="#np-concatenate" class="headerlink" title="np.concatenate()"></a>np.concatenate()</h2><p>å½“ä½ çš„åˆå¹¶æ“ä½œéœ€è¦é’ˆå¯¹å¤šä¸ªçŸ©é˜µæˆ–åºåˆ—æ—¶ï¼Œå€ŸåŠ©concatenateå‡½æ•°å¯èƒ½ä¼šè®©ä½ ä½¿ç”¨èµ·æ¥æ¯”å‰è¿°çš„å‡½æ•°æ›´åŠ æ–¹ä¾¿ï¼š</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">C = np.concatenate((A,B,B,A),axis=<span class="number">0</span>)</span><br><span class="line"></span><br><span class="line">print(C)</span><br><span class="line"><span class="string">"""</span><br><span class="line">array([[1],</span><br><span class="line">       [1],</span><br><span class="line">       [1],</span><br><span class="line">       [2],</span><br><span class="line">       [2],</span><br><span class="line">       [2],</span><br><span class="line">       [2],</span><br><span class="line">       [2],</span><br><span class="line">       [2],</span><br><span class="line">       [1],</span><br><span class="line">       [1],</span><br><span class="line">       [1]])</span><br><span class="line">"""</span></span><br><span class="line"></span><br><span class="line">D = np.concatenate((A,B,B,A),axis=<span class="number">1</span>)</span><br><span class="line"></span><br><span class="line">print(D)</span><br><span class="line"><span class="string">"""</span><br><span class="line">array([[1, 2, 2, 1],</span><br><span class="line">       [1, 2, 2, 1],</span><br><span class="line">       [1, 2, 2, 1]])</span><br><span class="line">"""</span></span><br></pre></td></tr></table></figure>
<pre><code>[[1 2 2 1]
 [1 2 2 1]
 [1 2 2 1]]
</code></pre><p><code>axis</code> å‚æ•°å¾ˆå¥½çš„æ§åˆ¶äº†çŸ©é˜µçš„çºµå‘æˆ–æ˜¯æ¨ªå‘æ‰“å°ï¼Œç›¸æ¯”è¾ƒ <code>vstack</code> å’Œ <code>hstack</code> å‡½æ•°æ˜¾å¾—æ›´åŠ æ–¹ä¾¿ã€‚</p>
<h2 id="Reference"><a href="#Reference" class="headerlink" title="Reference"></a>Reference</h2><ul>
<li><a href="http://www.numpy.org/" target="_blank" rel="external">numpy.org</a></li>
<li><a href="https://docs.scipy.org/doc/numpy-dev/user/quickstart.html" target="_blank" rel="external">numpy docs</a></li>
<li><a href="https://morvanzhou.github.io" target="_blank" rel="external">morvanzhou</a></li>
</ul>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[Numpy Index]]></title>
      <url>http://iequa.com/2017/12/26/py-numpy-5-Index/</url>
      <content type="html"><![CDATA[<p>åœ¨å…ƒç´ åˆ—è¡¨æˆ–è€…æ•°ç»„ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥ç”¨å¦‚åŒ <code>a[2]</code> ä¸€æ ·çš„è¡¨ç¤ºæ–¹æ³•ï¼ŒåŒæ ·çš„ï¼ŒNumpyä¸­ä¹Ÿæœ‰ç›¸åº”çš„è¡¨ç¤ºæ–¹æ³•</p>
<a id="more"></a>
<h2 id="ä¸€ç»´ç´¢å¼•"><a href="#ä¸€ç»´ç´¢å¼•" class="headerlink" title="ä¸€ç»´ç´¢å¼•"></a>ä¸€ç»´ç´¢å¼•</h2><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line">A = np.arange(<span class="number">3</span>,<span class="number">15</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># array([3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14])</span></span><br><span class="line">         </span><br><span class="line">print(A[<span class="number">3</span>])    <span class="comment"># 6</span></span><br></pre></td></tr></table></figure>
<pre><code>6
</code></pre><p>è®©æˆ‘ä»¬å°†çŸ©é˜µè½¬æ¢ä¸ºäºŒç»´çš„ï¼Œæ­¤æ—¶è¿›è¡ŒåŒæ ·çš„æ“ä½œï¼š</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">A = np.arange(<span class="number">3</span>,<span class="number">15</span>).reshape((<span class="number">3</span>,<span class="number">4</span>))</span><br><span class="line"><span class="string">"""</span><br><span class="line">array([[ 3,  4,  5,  6]</span><br><span class="line">       [ 7,  8,  9, 10]</span><br><span class="line">       [11, 12, 13, 14]])</span><br><span class="line">"""</span></span><br><span class="line">         </span><br><span class="line">print(A[<span class="number">2</span>])         </span><br><span class="line"><span class="comment"># [11 12 13 14]</span></span><br></pre></td></tr></table></figure>
<pre><code>[11 12 13 14]
</code></pre><p>å®é™…ä¸Šè¿™æ—¶çš„ <code>A[2]</code> å¯¹åº”çš„å°±æ˜¯ çŸ©é˜µA ä¸­ç¬¬ä¸‰è¡Œ(ä»0å¼€å§‹ç®—ç¬¬ä¸€è¡Œ)çš„æ‰€æœ‰å…ƒç´ ã€‚</p>
<h2 id="äºŒç»´ç´¢å¼•"><a href="#äºŒç»´ç´¢å¼•" class="headerlink" title="äºŒç»´ç´¢å¼•"></a>äºŒç»´ç´¢å¼•</h2><figure class="highlight python"><table><tr><td class="code"><pre><span class="line">print(A[<span class="number">1</span>][<span class="number">1</span>])      <span class="comment"># 8</span></span><br><span class="line">print(A[<span class="number">1</span>, <span class="number">1</span>])      <span class="comment"># 8</span></span><br></pre></td></tr></table></figure>
<pre><code>8
8
</code></pre><p>åœ¨Pythonçš„ list ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥åˆ©ç”¨:å¯¹ä¸€å®šèŒƒå›´å†…çš„å…ƒç´ è¿›è¡Œåˆ‡ç‰‡æ“ä½œï¼Œåœ¨Numpyä¸­æˆ‘ä»¬ä¾ç„¶å¯ä»¥ç»™å‡ºç›¸åº”çš„æ–¹æ³•ï¼š</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">print(A[<span class="number">1</span>, <span class="number">1</span>:<span class="number">3</span>])    <span class="comment"># [8 9]</span></span><br></pre></td></tr></table></figure>
<pre><code>[8 9]
</code></pre><p>è¿™ä¸€è¡¨ç¤ºå½¢å¼å³é’ˆå¯¹ç¬¬äºŒè¡Œä¸­ç¬¬2åˆ°ç¬¬4åˆ—å…ƒç´ è¿›è¡Œåˆ‡ç‰‡è¾“å‡ºï¼ˆä¸åŒ…å«ç¬¬4åˆ—ï¼‰ã€‚ æ­¤æ—¶æˆ‘ä»¬é€‚å½“çš„åˆ©ç”¨forå‡½æ•°è¿›è¡Œæ‰“å°ï¼š</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">for</span> row <span class="keyword">in</span> A:</span><br><span class="line">    print(row)</span><br><span class="line"><span class="string">"""    </span><br><span class="line">[ 3,  4,  5, 6]</span><br><span class="line">[ 7,  8,  9, 10]</span><br><span class="line">[11, 12, 13, 14]</span><br><span class="line">"""</span></span><br></pre></td></tr></table></figure>
<p>æ­¤æ—¶å®ƒä¼šé€è¡Œè¿›è¡Œæ‰“å°æ“ä½œã€‚å¦‚æœæƒ³è¿›è¡Œé€åˆ—æ‰“å°ï¼Œå°±éœ€è¦ç¨ç¨å˜åŒ–ä¸€ä¸‹ï¼š</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">for</span> column <span class="keyword">in</span> A.T:</span><br><span class="line">    print(column)</span><br><span class="line"><span class="string">"""  </span><br><span class="line">[ 3,  7,  11]</span><br><span class="line">[ 4,  8,  12]</span><br><span class="line">[ 5,  9,  13]</span><br><span class="line">[ 6, 10,  14]</span><br><span class="line">"""</span></span><br></pre></td></tr></table></figure>
<p>è¯´ä¸€äº›å…³äºè¿­ä»£è¾“å‡ºçš„é—®é¢˜ï¼š</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line">A = np.arange(<span class="number">3</span>,<span class="number">15</span>).reshape((<span class="number">3</span>,<span class="number">4</span>))</span><br><span class="line">         </span><br><span class="line">print(A.flatten())   </span><br><span class="line"><span class="comment"># array([3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14])</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> item <span class="keyword">in</span> A.flat:</span><br><span class="line">    print(item)</span><br><span class="line">    </span><br><span class="line"><span class="comment"># 3</span></span><br><span class="line"><span class="comment"># 4</span></span><br><span class="line"><span class="comment"># â€¦â€¦</span></span><br><span class="line"><span class="comment"># 14</span></span><br></pre></td></tr></table></figure>
<pre><code>[ 3  4  5  6  7  8  9 10 11 12 13 14]
3
4
5
6
7
8
9
10
11
12
13
14
</code></pre><p>è¿™ä¸€è„šæœ¬ä¸­çš„flattenæ˜¯ä¸€ä¸ªå±•å¼€æ€§è´¨çš„å‡½æ•°ï¼Œå°†å¤šç»´çš„çŸ©é˜µè¿›è¡Œå±•å¼€æˆ1è¡Œçš„æ•°åˆ—ã€‚è€Œflatæ˜¯ä¸€ä¸ªè¿­ä»£å™¨ï¼Œæœ¬èº«æ˜¯ä¸€ä¸ªobjectå±æ€§ã€‚</p>
<h2 id="Reference"><a href="#Reference" class="headerlink" title="Reference"></a>Reference</h2><ul>
<li><a href="http://www.numpy.org/" target="_blank" rel="external">numpy.org</a></li>
<li><a href="https://docs.scipy.org/doc/numpy-dev/user/quickstart.html" target="_blank" rel="external">numpy docs</a></li>
<li><a href="https://morvanzhou.github.io" target="_blank" rel="external">morvanzhou</a></li>
</ul>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[Numpy Basic Operation 2]]></title>
      <url>http://iequa.com/2017/12/25/py-numpy-4-basic-operation-2/</url>
      <content type="html"><![CDATA[<p>numpy çŸ©é˜µçš„åŸºæœ¬æ“ä½œï¼Œargmin/argmaxã€mean/averageã€cumsumã€sortã€transpose/A.Tã€clip</p>
<a id="more"></a>
<h2 id="argmin-amp-argmax"><a href="#argmin-amp-argmax" class="headerlink" title="argmin &amp; argmax"></a>argmin &amp; argmax</h2><p>çŸ©é˜µå¯¹åº”å…ƒç´ çš„ç´¢å¼•ä¹Ÿæ˜¯éå¸¸é‡è¦çš„</p>
<p>å…¶ä¸­çš„ <code>argmin()</code> å’Œ <code>argmax()</code> ä¸¤ä¸ªå‡½æ•°åˆ†åˆ«å¯¹åº”ç€æ±‚çŸ©é˜µä¸­æœ€å°å…ƒç´ å’Œæœ€å¤§å…ƒç´ çš„ç´¢å¼•ã€‚ç›¸åº”çš„ï¼Œåœ¨çŸ©é˜µçš„12ä¸ªå…ƒç´ ä¸­ï¼Œæœ€å°å€¼å³2ï¼Œå¯¹åº”ç´¢å¼•0ï¼Œæœ€å¤§å€¼ä¸º13ï¼Œå¯¹åº”ç´¢å¼•ä¸º11ã€‚</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line">A = np.arange(<span class="number">2</span>,<span class="number">14</span>).reshape((<span class="number">3</span>,<span class="number">4</span>)) </span><br><span class="line"></span><br><span class="line"><span class="comment"># array([[ 2, 3, 4, 5]</span></span><br><span class="line"><span class="comment">#        [ 6, 7, 8, 9]</span></span><br><span class="line"><span class="comment">#        [10,11,12,13]])</span></span><br><span class="line">         </span><br><span class="line">print(np.argmin(A))    <span class="comment"># 0</span></span><br><span class="line">print(np.argmax(A))    <span class="comment"># 11</span></span><br></pre></td></tr></table></figure>
<pre><code>0
11
</code></pre><h2 id="mean-amp-average"><a href="#mean-amp-average" class="headerlink" title="mean &amp; average"></a>mean &amp; average</h2><p>ç»Ÿè®¡ä¸­çš„å‡å€¼ï¼Œå¯ä»¥åˆ©ç”¨ä¸‹é¢çš„æ–¹å¼ï¼Œå°†æ•´ä¸ªçŸ©é˜µçš„å‡å€¼æ±‚å‡ºæ¥ï¼š</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">print(np.mean(A))        <span class="comment"># 7.5</span></span><br><span class="line">print(np.average(A))     <span class="comment"># 7.5</span></span><br></pre></td></tr></table></figure>
<pre><code>7.5
7.5
</code></pre><p>ä»¿ç…§ç€å‰ä¸€èŠ‚ä¸­dot() çš„ä½¿ç”¨æ³•åˆ™ï¼Œmean()å‡½æ•°è¿˜æœ‰å¦å¤–ä¸€ç§å†™æ³•ï¼š</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">print(A.mean())          <span class="comment"># 7.5</span></span><br></pre></td></tr></table></figure>
<pre><code>7.5
</code></pre><h2 id="cumsum"><a href="#cumsum" class="headerlink" title="cumsum"></a>cumsum</h2><p>å’Œmatlabä¸­çš„cumsum()ç´¯åŠ å‡½æ•°ç±»ä¼¼ï¼ŒNumpyä¸­ä¹Ÿå…·æœ‰cumsum()å‡½æ•°ï¼Œå…¶ç”¨æ³•å¦‚ä¸‹ï¼š</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">print(np.cumsum(A)) </span><br><span class="line"></span><br><span class="line"><span class="comment"># [2 5 9 14 20 27 35 44 54 65 77 90]</span></span><br></pre></td></tr></table></figure>
<pre><code>[ 2  5  9 14 20 27 35 44 54 65 77 90]
</code></pre><p>åœ¨cumsum()å‡½æ•°ä¸­ï¼šç”Ÿæˆçš„æ¯ä¸€é¡¹çŸ©é˜µå…ƒç´ å‡æ˜¯ä»åŸçŸ©é˜µé¦–é¡¹ç´¯åŠ åˆ°å¯¹åº”é¡¹çš„å…ƒç´ ä¹‹å’Œã€‚æ¯”å¦‚å…ƒç´ 9ï¼Œåœ¨cumsum()ç”Ÿæˆçš„çŸ©é˜µä¸­åºå·ä¸º3ï¼Œå³åŸçŸ©é˜µä¸­2ï¼Œ3ï¼Œ4ä¸‰ä¸ªå…ƒç´ çš„å’Œã€‚</p>
<h2 id="diff"><a href="#diff" class="headerlink" title="diff"></a>diff</h2><p>ç›¸åº”çš„æœ‰ç´¯å·®è¿ç®—å‡½æ•°ï¼š</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">print(np.diff(A))    </span><br><span class="line"></span><br><span class="line"><span class="comment"># [[1 1 1]</span></span><br><span class="line"><span class="comment">#  [1 1 1]</span></span><br><span class="line"><span class="comment">#  [1 1 1]]</span></span><br></pre></td></tr></table></figure>
<pre><code>[[1 1 1]
 [1 1 1]
 [1 1 1]]
</code></pre><p>è¯¥å‡½æ•°è®¡ç®—çš„ä¾¿æ˜¯æ¯ä¸€è¡Œä¸­åä¸€é¡¹ä¸å‰ä¸€é¡¹ä¹‹å·®ã€‚æ•…ä¸€ä¸ª3è¡Œ4åˆ—çŸ©é˜µé€šè¿‡å‡½æ•°è®¡ç®—å¾—åˆ°çš„çŸ©é˜µä¾¿æ˜¯3è¡Œ3åˆ—çš„çŸ©é˜µã€‚</p>
<blockquote>
<p><code>nonzero()</code> å‡½æ•°, è§‰å¾—ç”¨å¤„ä¸å¤§æœªå­¦ã€‚</p>
</blockquote>
<h2 id="sort"><a href="#sort" class="headerlink" title="sort"></a>sort</h2><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line">A = np.arange(<span class="number">14</span>,<span class="number">2</span>, <span class="number">-1</span>).reshape((<span class="number">3</span>,<span class="number">4</span>)) </span><br><span class="line"></span><br><span class="line"><span class="comment"># array([[14, 13, 12, 11],</span></span><br><span class="line"><span class="comment">#       [10,  9,  8,  7],</span></span><br><span class="line"><span class="comment">#       [ 6,  5,  4,  3]])</span></span><br><span class="line"></span><br><span class="line">print(np.sort(A))    </span><br><span class="line"></span><br><span class="line"><span class="comment"># array([[11,12,13,14]</span></span><br><span class="line"><span class="comment">#        [ 7, 8, 9,10]</span></span><br><span class="line"><span class="comment">#        [ 3, 4, 5, 6]])</span></span><br></pre></td></tr></table></figure>
<pre><code>[[11 12 13 14]
 [ 7  8  9 10]
 [ 3  4  5  6]]
</code></pre><h2 id="transpose-amp-A-T"><a href="#transpose-amp-A-T" class="headerlink" title="transpose &amp; A.T"></a>transpose &amp; A.T</h2><p>çŸ©é˜µçš„è½¬ç½®æœ‰ä¸¤ç§è¡¨ç¤ºæ–¹æ³•ï¼š</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">print(np.transpose(A))    </span><br><span class="line">print(A.T)</span><br><span class="line"></span><br><span class="line"><span class="comment"># array([[14,10, 6]</span></span><br><span class="line"><span class="comment">#        [13, 9, 5]</span></span><br><span class="line"><span class="comment">#        [12, 8, 4]</span></span><br><span class="line"><span class="comment">#        [11, 7, 3]])</span></span><br><span class="line"><span class="comment"># array([[14,10, 6]</span></span><br><span class="line"><span class="comment">#        [13, 9, 5]</span></span><br><span class="line"><span class="comment">#        [12, 8, 4]</span></span><br><span class="line"><span class="comment">#        [11, 7, 3]])</span></span><br></pre></td></tr></table></figure>
<pre><code>[[14 10  6]
 [13  9  5]
 [12  8  4]
 [11  7  3]]
[[14 10  6]
 [13  9  5]
 [12  8  4]
 [11  7  3]]
</code></pre><h2 id="clip"><a href="#clip" class="headerlink" title="clip"></a>clip</h2><p>ç‰¹åˆ«çš„ï¼Œåœ¨Numpyä¸­å…·æœ‰clip()å‡½æ•°ï¼Œä¾‹å­å¦‚ä¸‹ï¼š</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">print(A)</span><br><span class="line"><span class="comment"># array([[14,13,12,11]</span></span><br><span class="line"><span class="comment">#        [10, 9, 8, 7]</span></span><br><span class="line"><span class="comment">#        [ 6, 5, 4, 3]])</span></span><br><span class="line"></span><br><span class="line">print(np.clip(A,<span class="number">5</span>,<span class="number">9</span>))    </span><br><span class="line"><span class="comment"># array([[ 9, 9, 9, 9]</span></span><br><span class="line"><span class="comment">#        [ 9, 9, 8, 7]</span></span><br><span class="line"><span class="comment">#        [ 6, 5, 5, 5]])</span></span><br></pre></td></tr></table></figure>
<pre><code>[[14 13 12 11]
 [10  9  8  7]
 [ 6  5  4  3]]
[[9 9 9 9]
 [9 9 8 7]
 [6 5 5 5]]
</code></pre><p>è¿™ä¸ªå‡½æ•°çš„æ ¼å¼æ˜¯clip(Array,Array_min,Array_max)ï¼Œé¡¾åæ€ä¹‰ï¼ŒArrayæŒ‡çš„æ˜¯å°†è¦è¢«æ‰§è¡Œç”¨çš„çŸ©é˜µï¼Œè€Œåé¢çš„æœ€å°å€¼æœ€å¤§å€¼åˆ™ç”¨äºè®©å‡½æ•°åˆ¤æ–­çŸ©é˜µä¸­å…ƒç´ æ˜¯å¦æœ‰æ¯”æœ€å°å€¼å°çš„æˆ–è€…æ¯”æœ€å¤§å€¼å¤§çš„å…ƒç´ ï¼Œå¹¶å°†è¿™äº›æŒ‡å®šçš„å…ƒç´ è½¬æ¢ä¸ºæœ€å°å€¼æˆ–è€…æœ€å¤§å€¼ã€‚</p>
<p>å®é™…ä¸Šæ¯ä¸€ä¸ªNumpyä¸­å¤§å¤šæ•°å‡½æ•°å‡å…·æœ‰å¾ˆå¤šå˜é‡å¯ä»¥æ“ä½œï¼Œä½ å¯ä»¥æŒ‡å®šè¡Œã€åˆ—ç”šè‡³æŸä¸€èŒƒå›´ä¸­çš„å…ƒç´ ã€‚æ›´å¤šå…·ä½“çš„ä½¿ç”¨ç»†èŠ‚è¯·è®°å¾—æŸ¥é˜…Numpyå®˜æ–¹æ–‡æ¡£ã€‚</p>
<h2 id="Reference"><a href="#Reference" class="headerlink" title="Reference"></a>Reference</h2><ul>
<li><a href="http://www.numpy.org/" target="_blank" rel="external">numpy.org</a></li>
<li><a href="https://docs.scipy.org/doc/numpy-dev/user/quickstart.html" target="_blank" rel="external">numpy docs</a></li>
<li><a href="https://morvanzhou.github.io" target="_blank" rel="external">morvanzhou</a></li>
</ul>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[Numpy Basic Operation 1]]></title>
      <url>http://iequa.com/2017/12/25/py-numpy-3-basic-operation-1/</url>
      <content type="html"><![CDATA[<p>numpy çŸ©é˜µçš„åŸºæœ¬è¿ç®—ï¼ŒåŠ å‡ä¹˜é™¤ã€æ•°å­¦å‡½æ•°ã€æœ€å¤§æœ€å°å€¼ã€axis æŸ¥æ‰¾ ç­‰</p>
<a id="more"></a>
<h2 id="numpy-ç”ŸæˆçŸ©é˜µ"><a href="#numpy-ç”ŸæˆçŸ©é˜µ" class="headerlink" title="numpy ç”ŸæˆçŸ©é˜µ"></a>numpy ç”ŸæˆçŸ©é˜µ</h2><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line">a=np.array([<span class="number">10</span>,<span class="number">20</span>,<span class="number">30</span>,<span class="number">40</span>])   <span class="comment"># array([10, 20, 30, 40])</span></span><br><span class="line">b=np.arange(<span class="number">4</span>)              <span class="comment"># array([0, 1, 2, 3])</span></span><br><span class="line">b</span><br></pre></td></tr></table></figure>
<pre><code>array([0, 1, 2, 3])
</code></pre><h2 id="numpy-åŠ å‡ä¹˜é™¤"><a href="#numpy-åŠ å‡ä¹˜é™¤" class="headerlink" title="numpy åŠ å‡ä¹˜é™¤"></a>numpy åŠ å‡ä¹˜é™¤</h2><p>ä¸Šè¿°ä»£ç ä¸­çš„ <code>a</code> å’Œ <code>b</code> æ˜¯ä¸¤ä¸ªå±æ€§ä¸º array ä¹Ÿå°±æ˜¯çŸ©é˜µçš„å˜é‡ï¼Œè€Œä¸”äºŒè€…éƒ½æ˜¯1è¡Œ4åˆ—çš„çŸ©é˜µï¼Œ å…¶ä¸­bçŸ©é˜µä¸­çš„å…ƒç´ åˆ†åˆ«æ˜¯ä»0åˆ°3ã€‚</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">c=a-b  <span class="comment"># array([10, 19, 28, 37])</span></span><br><span class="line">print(c)</span><br><span class="line">c=a+b   <span class="comment"># array([10, 21, 32, 43])</span></span><br><span class="line">print(c)</span><br><span class="line">c=a*b   <span class="comment"># array([  0,  20,  60, 120])</span></span><br><span class="line">print(c)</span><br><span class="line"></span><br><span class="line">c=b**<span class="number">2</span>  <span class="comment"># array([0, 1, 4, 9])</span></span><br><span class="line">print(c)</span><br></pre></td></tr></table></figure>
<pre><code>[10 19 28 37]
[10 21 32 43]
[  0  20  60 120]
[0 1 4 9]
</code></pre><h2 id="numpy-æ•°å­¦å‡½æ•°"><a href="#numpy-æ•°å­¦å‡½æ•°" class="headerlink" title="numpy æ•°å­¦å‡½æ•°"></a>numpy æ•°å­¦å‡½æ•°</h2><p>numpy ä¸‰è§’å‡½æ•°ç­‰ï¼Œå½“æˆ‘ä»¬éœ€è¦å¯¹çŸ©é˜µä¸­æ¯ä¸€é¡¹å…ƒç´ è¿›è¡Œå‡½æ•°è¿ç®—æ—¶ï¼Œå¯ä»¥å¾ˆç®€ä¾¿çš„è°ƒç”¨å®ƒä»¬ï¼ˆä»¥sinå‡½æ•°ä¸ºä¾‹ï¼‰ï¼š</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">c=<span class="number">10</span>*np.sin(a)  </span><br><span class="line"><span class="comment"># array([-5.44021111,  9.12945251, -9.88031624,  7.4511316 ])</span></span><br><span class="line">print(c)</span><br></pre></td></tr></table></figure>
<pre><code>[-5.44021111  9.12945251 -9.88031624  7.4511316 ]
</code></pre><h2 id="print-å‡½æ•°è¿›è¡Œé€»è¾‘åˆ¤æ–­"><a href="#print-å‡½æ•°è¿›è¡Œé€»è¾‘åˆ¤æ–­" class="headerlink" title="print å‡½æ•°è¿›è¡Œé€»è¾‘åˆ¤æ–­"></a>print å‡½æ•°è¿›è¡Œé€»è¾‘åˆ¤æ–­</h2><figure class="highlight python"><table><tr><td class="code"><pre><span class="line">print(b&lt;<span class="number">3</span>)  </span><br><span class="line"><span class="comment"># array([ True,  True,  True, False], dtype=bool)</span></span><br></pre></td></tr></table></figure>
<pre><code>[ True  True  True False]
</code></pre><p>ä¸Šè¿°è¿ç®—å‡æ˜¯å»ºç«‹åœ¨ä¸€ç»´çŸ©é˜µï¼Œå³åªæœ‰ä¸€è¡Œçš„çŸ©é˜µä¸Šé¢çš„è®¡ç®—ï¼Œå¦‚æœæˆ‘ä»¬æƒ³è¦å¯¹å¤šè¡Œå¤šç»´åº¦çš„çŸ©é˜µè¿›è¡Œæ“ä½œï¼Œéœ€è¦å¯¹å¼€å§‹çš„è„šæœ¬è¿›è¡Œä¸€äº›ä¿®æ”¹ï¼š</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">a=np.array([[<span class="number">1</span>,<span class="number">1</span>],[<span class="number">0</span>,<span class="number">1</span>]])</span><br><span class="line">b=np.arange(<span class="number">4</span>).reshape((<span class="number">2</span>,<span class="number">2</span>))</span><br><span class="line"></span><br><span class="line">print(a)</span><br><span class="line"><span class="comment"># array([[1, 1],</span></span><br><span class="line"><span class="comment">#       [0, 1]])</span></span><br><span class="line"></span><br><span class="line">print(b)</span><br><span class="line"><span class="comment"># array([[0, 1],</span></span><br><span class="line"><span class="comment">#       [2, 3]])</span></span><br><span class="line"></span><br><span class="line">print(b &gt; <span class="number">2</span>)</span><br></pre></td></tr></table></figure>
<pre><code>[[1 1]
 [0 1]]
[[0 1]
 [2 3]]
[[False False]
 [False  True]]
</code></pre><h2 id="numpy-ä¸¤ç§çŸ©é˜µä¹˜æ³•"><a href="#numpy-ä¸¤ç§çŸ©é˜µä¹˜æ³•" class="headerlink" title="numpy ä¸¤ç§çŸ©é˜µä¹˜æ³•"></a>numpy ä¸¤ç§çŸ©é˜µä¹˜æ³•</h2><p>æ­¤æ—¶æ„é€ å‡ºæ¥çš„çŸ©é˜µaå’Œbä¾¿æ˜¯2è¡Œ2åˆ—çš„ï¼Œå…¶ä¸­ reshape æ“ä½œæ˜¯å¯¹çŸ©é˜µçš„å½¢çŠ¶è¿›è¡Œé‡æ„ï¼Œ å…¶é‡æ„çš„å½¢çŠ¶ä¾¿æ˜¯æ‹¬å·ä¸­ç»™å‡ºçš„æ•°å­—ã€‚ ç¨æ˜¾ä¸åŒçš„æ˜¯ï¼ŒNumpyä¸­çš„çŸ©é˜µä¹˜æ³•åˆ†ä¸ºä¸¤ç§ï¼Œ å…¶ä¸€æ˜¯å‰æ–‡ä¸­çš„å¯¹åº”å…ƒç´ ç›¸ä¹˜ï¼Œå…¶äºŒæ˜¯æ ‡å‡†çš„çŸ©é˜µä¹˜æ³•è¿ç®—ï¼Œå³å¯¹åº”è¡Œä¹˜å¯¹åº”åˆ—å¾—åˆ°ç›¸åº”å…ƒç´ ï¼š</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">print(a)</span><br><span class="line">print(b)</span><br><span class="line"></span><br><span class="line">c_dot = np.dot(a,b)</span><br><span class="line"><span class="comment"># array([[2, 4],</span></span><br><span class="line"><span class="comment">#       [2, 3]])</span></span><br><span class="line">print(<span class="string">"========"</span>)</span><br><span class="line">print(c_dot)</span><br></pre></td></tr></table></figure>
<pre><code>[[1 1]
 [0 1]]
[[0 1]
 [2 3]]
========
[[2 4]
 [2 3]]
</code></pre><p>é™¤æ­¤ä¹‹å¤–è¿˜æœ‰å¦å¤–çš„ä¸€ç§å…³äº<code>dot</code>çš„è¡¨ç¤ºæ–¹æ³•ï¼Œå³ï¼š</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">c_dot_2 = a.dot(b)</span><br><span class="line"><span class="comment"># array([[2, 4],</span></span><br><span class="line"><span class="comment">#       [2, 3]])</span></span><br></pre></td></tr></table></figure>
<h2 id="sum-min-max"><a href="#sum-min-max" class="headerlink" title="sum(), min(), max()"></a>sum(), min(), max()</h2><p>ä¸‹é¢æˆ‘ä»¬å°†é‡æ–°å®šä¹‰ä¸€ä¸ªè„šæœ¬, æ¥çœ‹çœ‹å…³äº <code>sum()</code>, <code>min()</code>, <code>max()</code> çš„ä½¿ç”¨ï¼š</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line">a=np.random.random((<span class="number">2</span>,<span class="number">4</span>))</span><br><span class="line">print(a)</span><br><span class="line"><span class="comment"># array([[ 0.94692159,  0.20821798,  0.35339414,  0.2805278 ],</span></span><br><span class="line"><span class="comment">#       [ 0.04836775,  0.04023552,  0.44091941,  0.21665268]])</span></span><br></pre></td></tr></table></figure>
<pre><code>[[ 0.38281924  0.40654978  0.69744113  0.90707595]
 [ 0.40572074  0.652105    0.24226191  0.95931459]]
</code></pre><p>å› ä¸ºæ˜¯éšæœºç”Ÿæˆæ•°å­—, æ‰€ä»¥ä½ çš„ç»“æœå¯èƒ½ä¼šä¸ä¸€æ ·. åœ¨ç¬¬äºŒè¡Œä¸­å¯¹açš„æ“ä½œæ˜¯ä»¤aä¸­ç”Ÿæˆä¸€ä¸ª2è¡Œ4åˆ—çš„çŸ©é˜µï¼Œä¸”æ¯ä¸€å…ƒç´ å‡æ˜¯æ¥è‡ªä»0åˆ°1çš„éšæœºæ•°ã€‚ åœ¨è¿™ä¸ªéšæœºç”Ÿæˆçš„çŸ©é˜µä¸­ï¼Œæˆ‘ä»¬å¯ä»¥å¯¹å…ƒç´ è¿›è¡Œæ±‚å’Œä»¥åŠå¯»æ‰¾æå€¼çš„æ“ä½œï¼Œå…·ä½“å¦‚ä¸‹ï¼š</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">np.sum(a)   <span class="comment"># 4.6532883360785817</span></span><br><span class="line">np.min(a)   <span class="comment"># 0.24226191007863129</span></span><br><span class="line">np.max(a)   <span class="comment"># 0.95931458707579575</span></span><br></pre></td></tr></table></figure>
<pre><code>0.95931458707579575
</code></pre><h2 id="axis-è¿›è¡Œèµ‹å€¼"><a href="#axis-è¿›è¡Œèµ‹å€¼" class="headerlink" title="axis è¿›è¡Œèµ‹å€¼"></a>axis è¿›è¡Œèµ‹å€¼</h2><p>å¯¹åº”çš„ä¾¿æ˜¯å¯¹çŸ©é˜µä¸­æ‰€æœ‰å…ƒç´ è¿›è¡Œæ±‚å’Œï¼Œå¯»æ‰¾æœ€å°å€¼ï¼Œå¯»æ‰¾æœ€å¤§å€¼çš„æ“ä½œã€‚ å¯ä»¥é€šè¿‡print()å‡½æ•°å¯¹ç›¸åº”å€¼è¿›è¡Œæ‰“å°æ£€éªŒã€‚</p>
<p>å¦‚æœä½ éœ€è¦å¯¹è¡Œæˆ–è€…åˆ—è¿›è¡ŒæŸ¥æ‰¾è¿ç®—ï¼Œå°±éœ€è¦åœ¨ä¸Šè¿°ä»£ç ä¸­ä¸º axis è¿›è¡Œèµ‹å€¼ã€‚ </p>
<p>å½“axisçš„å€¼ä¸º0çš„æ—¶å€™ï¼Œå°†ä¼šä»¥åˆ—ä½œä¸ºæŸ¥æ‰¾å•å…ƒï¼Œ å½“axisçš„å€¼ä¸º1çš„æ—¶å€™ï¼Œå°†ä¼šä»¥è¡Œä½œä¸ºæŸ¥æ‰¾å•å…ƒã€‚</p>
<p>ä¸ºäº†æ›´åŠ æ¸…æ™°ï¼Œåœ¨åˆšæ‰çš„ä¾‹å­ä¸­æˆ‘ä»¬ç»§ç»­è¿›è¡ŒæŸ¥æ‰¾ï¼š</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">print(<span class="string">"a ="</span>,a)</span><br><span class="line"><span class="comment"># a = [[ 0.23651224  0.41900661  0.84869417  0.46456022]</span></span><br><span class="line"><span class="comment"># [ 0.60771087  0.9043845   0.36603285  0.55746074]]</span></span><br><span class="line"></span><br><span class="line">print(<span class="string">"sum ="</span>,np.sum(a,axis=<span class="number">1</span>))</span><br><span class="line"><span class="comment"># sum = [ 1.96877324  2.43558896]</span></span><br><span class="line"></span><br><span class="line">print(<span class="string">"min ="</span>,np.min(a,axis=<span class="number">0</span>))</span><br><span class="line"><span class="comment"># min = [ 0.23651224  0.41900661  0.36603285  0.46456022]</span></span><br><span class="line"></span><br><span class="line">print(<span class="string">"max ="</span>,np.max(a,axis=<span class="number">1</span>))</span><br><span class="line"><span class="comment"># max = [ 0.84869417  0.9043845 ]</span></span><br></pre></td></tr></table></figure>
<pre><code>a = [[ 0.38281924  0.40654978  0.69744113  0.90707595]
 [ 0.40572074  0.652105    0.24226191  0.95931459]]
sum = [ 2.3938861   2.25940224]
min = [ 0.38281924  0.40654978  0.24226191  0.90707595]
max = [ 0.90707595  0.95931459]
</code></pre><h2 id="Reference"><a href="#Reference" class="headerlink" title="Reference"></a>Reference</h2><ul>
<li><a href="http://www.numpy.org/" target="_blank" rel="external">numpy.org</a></li>
<li><a href="https://docs.scipy.org/doc/numpy-dev/user/quickstart.html" target="_blank" rel="external">numpy docs</a></li>
<li><a href="https://morvanzhou.github.io" target="_blank" rel="external">morvanzhou</a></li>
</ul>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[Numpy Array]]></title>
      <url>http://iequa.com/2017/12/22/py-numpy-2-array/</url>
      <content type="html"><![CDATA[<p>åˆ›å»º array æœ‰å¾ˆå¤š å½¢å¼</p>
<a id="more"></a>
<h2 id="å…³é”®å­—"><a href="#å…³é”®å­—" class="headerlink" title="å…³é”®å­—"></a>å…³é”®å­—</h2><ul>
<li><code>array</code>ï¼šåˆ›å»ºæ•°ç»„</li>
<li><code>dtype</code>ï¼šæŒ‡å®šæ•°æ®ç±»å‹</li>
<li><code>zeros</code>ï¼šæ•°æ®å…¨ä¸º0</li>
<li><code>ones</code>ï¼šæ•°æ®å…¨ä¸º1</li>
<li><code>arrange</code>ï¼šæŒ‰æŒ‡å®šèŒƒå›´åˆ›å»ºæ•°æ®</li>
<li><code>linspace</code>ï¼šåˆ›å»ºçº¿æ®µ</li>
</ul>
<blockquote>
<p>ä¸ List åŒºåˆ«ä¹‹ä¸€ : æ²¡æœ‰é€—å·åˆ†éš”</p>
</blockquote>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">a = np.array([<span class="number">2</span>,<span class="number">23</span>,<span class="number">4</span>])</span><br><span class="line">print(a)</span><br><span class="line"><span class="comment"># [ 2 23  4]</span></span><br></pre></td></tr></table></figure>
<pre><code>[ 2 23  4]
int64
</code></pre><h2 id="æŒ‡å®šæ•°æ®"><a href="#æŒ‡å®šæ•°æ®" class="headerlink" title="æŒ‡å®šæ•°æ®"></a>æŒ‡å®šæ•°æ®</h2><figure class="highlight python"><table><tr><td class="code"><pre><span class="line">a = np.array([<span class="number">2</span>,<span class="number">23</span>,<span class="number">4</span>], dtype=np.int) <span class="comment"># é»˜è®¤ int ä¸º int64</span></span><br><span class="line">print(a.dtype) </span><br><span class="line"><span class="comment">#int64</span></span><br><span class="line"></span><br><span class="line">a = np.array([<span class="number">2</span>,<span class="number">23</span>,<span class="number">4</span>],dtype=np.int32)</span><br><span class="line">print(a.dtype)</span><br><span class="line"><span class="comment"># int32</span></span><br><span class="line"></span><br><span class="line">a = np.array([<span class="number">2</span>,<span class="number">23.1</span>,<span class="number">4.0</span>], dtype=np.float) <span class="comment"># é»˜è®¤ float ä¸º float64</span></span><br><span class="line">print(a)</span><br><span class="line">print(a.dtype)</span><br><span class="line"><span class="comment"># float64</span></span><br><span class="line"></span><br><span class="line">a = np.array([<span class="number">2</span>,<span class="number">23</span>,<span class="number">4</span>],dtype=np.float32)</span><br><span class="line">print(a.dtype)</span><br><span class="line"><span class="comment"># float32</span></span><br></pre></td></tr></table></figure>
<pre><code>int64
int32
[  2.   23.1   4. ]
float64
float32
</code></pre><h2 id="åˆ›å»ºç‰¹å®šæ•°æ®"><a href="#åˆ›å»ºç‰¹å®šæ•°æ®" class="headerlink" title="åˆ›å»ºç‰¹å®šæ•°æ®"></a>åˆ›å»ºç‰¹å®šæ•°æ®</h2><figure class="highlight python"><table><tr><td class="code"><pre><span class="line">a = np.array(</span><br><span class="line">    [</span><br><span class="line">        [<span class="number">2</span>,<span class="number">23</span>,<span class="number">4</span>],</span><br><span class="line">        [<span class="number">2</span>,<span class="number">23</span>,<span class="number">4</span>]</span><br><span class="line">    ]</span><br><span class="line">)  <span class="comment"># 2d çŸ©é˜µ 2è¡Œ3åˆ—</span></span><br><span class="line">print(a)</span><br><span class="line"></span><br><span class="line"><span class="string">"""</span><br><span class="line">[[ 2 23  4]</span><br><span class="line"> [ 2 32  4]]</span><br><span class="line">"""</span></span><br></pre></td></tr></table></figure>
<h3 id="å…¨é›¶æ•°ç»„"><a href="#å…¨é›¶æ•°ç»„" class="headerlink" title="å…¨é›¶æ•°ç»„"></a>å…¨é›¶æ•°ç»„</h3><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment"># åˆ›å»ºå…¨é›¶æ•°ç»„</span></span><br><span class="line">a = np.zeros((<span class="number">3</span>,<span class="number">4</span>))  <span class="comment"># æ•°æ®å…¨ä¸º0ï¼Œ3è¡Œ4åˆ—</span></span><br><span class="line"><span class="string">"""</span><br><span class="line">array([[ 0.,  0.,  0.,  0.],</span><br><span class="line">       [ 0.,  0.,  0.,  0.],</span><br><span class="line">       [ 0.,  0.,  0.,  0.]])</span><br><span class="line">"""</span></span><br><span class="line">print(a)</span><br></pre></td></tr></table></figure>
<h3 id="å…¨ä¸€æ•°ç»„"><a href="#å…¨ä¸€æ•°ç»„" class="headerlink" title="å…¨ä¸€æ•°ç»„"></a>å…¨ä¸€æ•°ç»„</h3><blockquote>
<p>åŒæ—¶ä¹Ÿèƒ½æŒ‡å®šè¿™äº›ç‰¹å®šæ•°æ®çš„ <code>dtype</code>:</p>
</blockquote>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">a = np.ones((<span class="number">3</span>,<span class="number">4</span>),dtype = np.int)   <span class="comment"># æ•°æ®ä¸º1ï¼Œ3è¡Œ4åˆ—</span></span><br><span class="line"><span class="string">"""</span><br><span class="line">array([[1, 1, 1, 1],</span><br><span class="line">       [1, 1, 1, 1],</span><br><span class="line">       [1, 1, 1, 1]])</span><br><span class="line">"""</span></span><br><span class="line">print(a)</span><br></pre></td></tr></table></figure>
<h3 id="å…¨ç©ºæ•°ç»„"><a href="#å…¨ç©ºæ•°ç»„" class="headerlink" title="å…¨ç©ºæ•°ç»„"></a>å…¨ç©ºæ•°ç»„</h3><figure class="highlight python"><table><tr><td class="code"><pre><span class="line">np.empty( (<span class="number">2</span>,<span class="number">3</span>) ) <span class="comment"># è¿™ä¸ªæ–¹æ³•æœ€å¤§çš„å¥½å¤„å°±æ˜¯é€Ÿåº¦å¿«ï¼Œå› ä¸ºå°‘äº†åˆå§‹åŒ–ç©ºé—´çš„æ“ä½œ</span></span><br></pre></td></tr></table></figure>
<pre><code>array([[  9.88131292e-324,   1.13635099e-322,   1.97626258e-323],
       [  9.88131292e-324,   1.13635099e-322,   1.97626258e-323]])
</code></pre><h3 id="è¿ç»­æ•°ç»„arange"><a href="#è¿ç»­æ•°ç»„arange" class="headerlink" title="è¿ç»­æ•°ç»„arange"></a>è¿ç»­æ•°ç»„<code>arange</code></h3><figure class="highlight python"><table><tr><td class="code"><pre><span class="line">a = np.arange(<span class="number">10</span>,<span class="number">20</span>,<span class="number">2</span>) <span class="comment"># 10-19 çš„æ•°æ®ï¼Œ2æ­¥é•¿</span></span><br><span class="line"><span class="string">"""</span><br><span class="line">array([10, 12, 14, 16, 18])</span><br><span class="line">"""</span></span><br><span class="line">print(a)</span><br><span class="line"></span><br><span class="line">b = np.arange(<span class="number">12</span>)</span><br><span class="line">b</span><br></pre></td></tr></table></figure>
<pre><code>[10 12 14 16 18]
array([ 0,  1,  2,  3,  4,  5,  6,  7,  8,  9, 10, 11])
</code></pre><h3 id="æ”¹å˜æ•°æ®çš„å½¢çŠ¶reshape"><a href="#æ”¹å˜æ•°æ®çš„å½¢çŠ¶reshape" class="headerlink" title="æ”¹å˜æ•°æ®çš„å½¢çŠ¶reshape"></a>æ”¹å˜æ•°æ®çš„å½¢çŠ¶<code>reshape</code></h3><figure class="highlight python"><table><tr><td class="code"><pre><span class="line">a = np.arange(<span class="number">12</span>).reshape((<span class="number">3</span>,<span class="number">4</span>))    <span class="comment"># 3è¡Œ4åˆ—ï¼Œ0åˆ°11</span></span><br><span class="line"><span class="string">"""</span><br><span class="line">array([[ 0,  1,  2,  3],</span><br><span class="line">       [ 4,  5,  6,  7],</span><br><span class="line">       [ 8,  9, 10, 11]])</span><br><span class="line">"""</span></span><br><span class="line">a</span><br></pre></td></tr></table></figure>
<h3 id="çº¿æ®µå‹æ•°æ®linspace"><a href="#çº¿æ®µå‹æ•°æ®linspace" class="headerlink" title="çº¿æ®µå‹æ•°æ®linspace"></a>çº¿æ®µå‹æ•°æ®<code>linspace</code></h3><figure class="highlight python"><table><tr><td class="code"><pre><span class="line">a = np.linspace(<span class="number">1</span>,<span class="number">10</span>,<span class="number">20</span>)    <span class="comment"># å¼€å§‹ç«¯1ï¼Œç»“æŸç«¯10ï¼Œä¸”åˆ†å‰²æˆ20ä¸ªæ•°æ®ï¼Œç”Ÿæˆçº¿æ®µ</span></span><br><span class="line"><span class="string">"""</span><br><span class="line">array([  1.        ,   1.47368421,   1.94736842,   2.42105263,</span><br><span class="line">         2.89473684,   3.36842105,   3.84210526,   4.31578947,</span><br><span class="line">         4.78947368,   5.26315789,   5.73684211,   6.21052632,</span><br><span class="line">         6.68421053,   7.15789474,   7.63157895,   8.10526316,</span><br><span class="line">         8.57894737,   9.05263158,   9.52631579,  10.        ])</span><br><span class="line">"""</span></span><br><span class="line">a</span><br></pre></td></tr></table></figure>
<p>ä¹Ÿèƒ½è¿›è¡Œ <code>reshape</code> å·¥ä½œ:</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">a = np.linspace(<span class="number">1</span>,<span class="number">10</span>,<span class="number">20</span>).reshape((<span class="number">5</span>,<span class="number">4</span>)) <span class="comment"># æ›´æ”¹shape</span></span><br><span class="line"><span class="string">"""</span><br><span class="line">array([[  1.        ,   1.47368421,   1.94736842,   2.42105263],</span><br><span class="line">       [  2.89473684,   3.36842105,   3.84210526,   4.31578947],</span><br><span class="line">       [  4.78947368,   5.26315789,   5.73684211,   6.21052632],</span><br><span class="line">       [  6.68421053,   7.15789474,   7.63157895,   8.10526316],</span><br><span class="line">       [  8.57894737,   9.05263158,   9.52631579,  10.        ]])</span><br><span class="line">"""</span></span><br></pre></td></tr></table></figure>
<h2 id="Reference"><a href="#Reference" class="headerlink" title="Reference"></a>Reference</h2><ul>
<li><a href="http://www.numpy.org/" target="_blank" rel="external">numpy.org</a></li>
<li><a href="https://docs.scipy.org/doc/numpy-dev/user/quickstart.html" target="_blank" rel="external">numpy docs</a></li>
<li><a href="https://morvanzhou.github.io/tutorials/data-manipulation/np-pd/2-2-np-array/" target="_blank" rel="external">morvanzhou</a></li>
</ul>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[Numpy Attribute]]></title>
      <url>http://iequa.com/2017/12/21/py-numpy-1-attribute/</url>
      <content type="html"><![CDATA[<p>numpy çš„å‡ ç§å±æ€§ ç»´åº¦ã€è¡Œåˆ—ä¸ªæ•°ã€å…ƒç´ ä¸ªæ•°</p>
<a id="more"></a>
<ul>
<li><code>ndim</code>ï¼šç»´åº¦</li>
<li><code>shape</code>ï¼šè¡Œæ•°å’Œåˆ—æ•°</li>
<li><code>size</code>ï¼šå…ƒç´ ä¸ªæ•°</li>
</ul>
<p>åˆ—è¡¨è½¬åŒ–ä¸ºçŸ©é˜µï¼š</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"></span><br><span class="line">array1 = np.array(</span><br><span class="line">    [</span><br><span class="line">        [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>],</span><br><span class="line">        [<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>]</span><br><span class="line">    ]</span><br><span class="line">)</span><br><span class="line">print(array1)</span><br><span class="line">print(<span class="string">'number of dim:'</span>, array1.ndim)</span><br><span class="line">print(<span class="string">'shape:'</span>, array1.shape)</span><br><span class="line">print(<span class="string">'size:'</span>, array1.size)</span><br><span class="line"></span><br><span class="line"><span class="string">"""</span><br><span class="line">    [[1 2 3]</span><br><span class="line">     [2 3 4]]</span><br><span class="line">    number of dim: 2</span><br><span class="line">    shape: (2, 3)</span><br><span class="line">    size: 6</span><br><span class="line">"""</span></span><br></pre></td></tr></table></figure>
<h2 id="Reference"><a href="#Reference" class="headerlink" title="Reference"></a>Reference</h2><ul>
<li><a href="http://www.numpy.org/" target="_blank" rel="external">numpy.org</a></li>
<li><a href="https://docs.scipy.org/doc/numpy-dev/user/quickstart.html" target="_blank" rel="external">numpy docs</a></li>
</ul>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[æ¨å¸…å®Œç¾å‘éŸ³ç­(2)]]></title>
      <url>http://iequa.com/2017/12/10/english-ielts-speaking-yangshuai-2/</url>
      <content type="html"><![CDATA[<ul>
<li>ä¸€å®šè¦ä¸æ–­é‡å¤ï¼Œä¸è¦ç›¸ä¿¡è‡ªå·±çš„è€³æœµï¼Œè¦ç›¸ä¿¡éŸ³æ ‡</li>
<li>æœ€å¼€å§‹ç»ƒä¹ ï¼Œä¸€å®šè¦è¶…çº§å¤¸å¼ ï¼Œä¸€ä¸ªéŸ³ä¸€ä¸ªéŸ³è¯»</li>
</ul>
<a id="more"></a>
<table>
<thead>
<tr>
<th>éŸ³æ ‡</th>
<th>è¯»æ³•</th>
<th>å¸¸è§ç»„åˆ</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>/i:/</strong></td>
<td>é•¿å…ƒç´§å¼ éŸ³</td>
<td>ee, ea, e, ie, ei </td>
</tr>
<tr>
<td><strong>/i/</strong></td>
<td>çŸ­å…ƒæ”¾æ¾éŸ³</td>
<td>i, y, e</td>
</tr>
<tr>
<td><strong>/É›/</strong></td>
<td>/i/ å˜´å‹ç¨å¾®å¤§äº›</td>
<td>eã€eaã€aã€ai </td>
</tr>
<tr>
<td><strong>/Ã¦/</strong></td>
<td>/É›/+/a:/</td>
<td>a</td>
</tr>
<tr>
<td><strong>/É’/</strong></td>
<td>å˜´å¼ å¼€ã€æ— å˜åŒ–</td>
<td>oã€a</td>
</tr>
<tr>
<td><strong>/É”:/</strong></td>
<td>æœ‰ç‚¹åƒ â€˜æ²ƒâ€™</td>
<td>orã€ourã€arã€alã€auã€ou</td>
</tr>
<tr>
<td><strong>/aÊŠ/</strong></td>
<td>/Ã¦/+/u/</td>
<td>ouã€ow</td>
</tr>
</tbody>
</table>
<!--more-->
<table>
<thead>
<tr>
<th>&emsp;&emsp;&emsp;</th>
<th>i:ã€iã€u:ã€uã€É›ã€Ã¦ã€É’ã€É”:ã€aÊŠ</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong><code>i:</code></strong></td>
<td><em>seatã€deedã€leastã€feetã€colleague [ËˆkÉ’li:g]ã€eatã€beatã€leaveã€steelã€steal</em></td>
</tr>
<tr>
<td><strong><code>i</code></strong></td>
<td><em>sitã€didã€listã€fitã€collegeã€itã€bitã€liveã€still</em></td>
</tr>
<tr>
<td><strong><code>u:</code></strong></td>
<td><em>foodã€poolã€foolã€moodã€moonã€roomã€schoolã€loseã€trueã€blueã€glue</em></td>
</tr>
<tr>
<td><strong><code>ÊŠ</code></strong></td>
<td><em>lookã€goodã€footã€bookã€cookã€fullã€pullã€pushã€putã€shouldã€wouldã€could</em></td>
</tr>
<tr>
<td><strong><code>É›</code></strong></td>
<td><strong><em>bedã€betterã€getã€internetã€lessonã€deskã€sellã€sleptã€thenã€helpã€veryã€neverã€headã€breadã€pleasureã€treasureã€healthã€breathã€saidã€thereã€theirã€whereã€everywhereã€anyã€manyã€guess</em></strong></td>
</tr>
<tr>
<td><strong><code>Ã¦</code></strong></td>
<td><strong><em>flagã€catã€backã€thatã€haveã€activityã€naturalã€travelã€relaxã€attractiveã€casualã€magazineã€fancy</em></strong></td>
</tr>
<tr>
<td><strong><code>É’</code></strong></td>
<td><strong><em>notã€lostã€lossã€boxã€mopã€collarã€shopã€jobã€topã€soccerã€biographyã€psychologyã€novelã€want</em></strong></td>
</tr>
<tr>
<td><strong><code>É”:</code></strong></td>
<td><em>horseã€moreã€shortã€storeã€courtã€courseã€mournã€warmã€quarterã€smallã€wallã€ballã€talkã€walkã€autumnã€caughtã€taughtã€boughtã€thoughtã€brought</em></td>
</tr>
<tr>
<td><strong><code>aÊŠ</code></strong></td>
<td><em>houseã€outã€aboutã€loudã€downã€townã€cowã€howeverã€nowã€howã€mouseã€mouthã€aroundã€groundã€foundã€accountingã€sound</em></td>
</tr>
</tbody>
</table>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[Pyenv Install Anaconda3]]></title>
      <url>http://iequa.com/2017/12/07/ops-pyenv-Anaconda3-note/</url>
      <content type="html"><![CDATA[<p>pyenv install anaconda3-5.0.0 æ— æ³•ä¸‹è½½åŒ…çš„æƒ…å†µä¸‹ä½¿ç”¨çš„ï¼Œå› ä¸ºç½‘é€Ÿå®åœ¨å¤ªæ…¢äº†T T</p>
<a id="more"></a>
<h2 id="Anaconda3"><a href="#Anaconda3" class="headerlink" title="Anaconda3"></a>Anaconda3</h2><p><a href="https://repo.continuum.io/archive/Anaconda3-5.0.1-MacOSX-x86_64.sh" target="_blank" rel="external">å®˜ç½‘</a> ä¸‹è½½äº†.shæ–‡ä»¶ï¼Œåœ¨è¯¥.shæ–‡ä»¶ç›®å½•ä½¿ç”¨ä¸‹é¢çš„å‘½ä»¤å®‰è£…è¯¥æ–‡ä»¶</p>
<p>Anaconda3-5.0.1-MacOSX-x86_64.sh</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">âœ  mv Anaconda3-5.0.1-MacOSX-x86_64.sh ~/.pyenv/cache/</span><br><span class="line">âœ  cache git:(master) sh Anaconda3-5.0.1-MacOSX-x86_64.sh</span><br></pre></td></tr></table></figure>
<p>å®‰è£…è¿‡ç¨‹éœ€è¦æ“ä½œçš„åœ°æ–¹ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">Please, press ENTER to continue</span><br><span class="line">&gt;&gt;&gt;</span><br><span class="line">...</span><br><span class="line">Do you accept the license terms? [yes|no]</span><br><span class="line">[no] &gt;&gt;&gt; yes</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">Anaconda3 will now be installed into this location:</span><br><span class="line">/Users/blair/anaconda3	</span><br><span class="line">- Press ENTER to confirm the location</span><br><span class="line">- Press CTRL-C to abort the installation</span><br><span class="line">- Or specify a different location below</span><br></pre></td></tr></table></figure>
<blockquote>
<p>[/Users/blair/anaconda3] æ”¹ä¸º /Users/blair/.pyenv/versions/anaconda3</p>
<p>è¾“å…¥éœ€è¦å®‰è£…çš„ç›®å½•ï¼Œå› ä¸ºè¦æ·»åŠ åˆ°pyenvç®¡ç†å™¨ä¸­ï¼Œæ‰€ä»¥ä¸å…¶ä»–ä»¥å®‰è£…çš„Pythonç‰ˆæœ¬æ”¾åœ¨åŒä¸€ç›®å½•ä¸‹ã€‚</p>
</blockquote>
<p>å¼€å§‹è¾“å‡ºå®‰è£…ä¿¡æ¯ï¼Œä¼šå®‰è£…è®¸å¤šåŒ…ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">[/Users/blair/anaconda3] &gt;&gt;&gt; /Users/blair/.pyenv/versions/anaconda3</span><br><span class="line">PREFIX=/Users/blair/.pyenv/versions/anaconda3</span><br><span class="line">installing: python-3.6.3-h6804ab2_0 ...</span><br><span class="line">Python 3.6.3 :: Anaconda, Inc.</span><br><span class="line">installing: bzip2-1.0.6-h92991f9_1 ...</span><br><span class="line">installing: ca-certificates-2017.08.26-ha1e5d58_0 ...</span><br><span class="line">installing: conda-env-2.6.0-h36134e3_0 ...</span><br><span class="line">â€¦â€¦</span><br></pre></td></tr></table></figure>
<p>ç„¶åå‡ºç°æç¤ºï¼Œè¾“å…¥yeså³å¯</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">installation finished.</span><br><span class="line">Do you wish the installer to prepend the Anaconda3 install location</span><br><span class="line">to PATH in your /Users/blair/.bash_profile ? [yes|no]</span><br><span class="line">[yes] &gt;&gt;&gt; yes</span><br></pre></td></tr></table></figure>
<p>å®‰è£…æˆåŠŸï¼</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">âœ pyenv versions</span><br><span class="line">  system</span><br><span class="line">  2.7.14</span><br><span class="line">  2.7.14/envs/vpy2</span><br><span class="line">  3.5.4</span><br><span class="line">  3.5.4/envs/vpy3.5</span><br><span class="line">* anaconda3 (<span class="built_in">set</span> by /Users/blair/.pyenv/version)</span><br><span class="line">  anaconda3/envs/vconda3</span><br><span class="line">  vconda3</span><br><span class="line">  vpy2</span><br><span class="line">  vpy3.5</span><br><span class="line">(anaconda3)</span><br><span class="line"><span class="comment"># ~/ghome [10:34:54]</span></span><br></pre></td></tr></table></figure>
<p>ä¸ºanaconda3åˆ›å»ºè™šæ‹Ÿç¯å¢ƒ</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">âœ  cache git:(master) pyenv virtualenv vconda3</span><br></pre></td></tr></table></figure>
<p>å¯èƒ½ä¼šè£…ä¸€äº›æ›´æ–°åŒ…ï¼Œä¼šæœ‰æç¤ºï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">#</span><br><span class="line"># To activate this environment, use:</span><br><span class="line"># &gt; source activate vconda3</span><br><span class="line">#</span><br><span class="line"># To deactivate an active environment, use:</span><br><span class="line"># &gt; source deactivate</span><br></pre></td></tr></table></figure>
<p>æ ¹æ®æç¤ºæ¿€æ´»ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">âœ  cache git:(master) source activate vconda3</span><br></pre></td></tr></table></figure>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[æ¨å¸…å®Œç¾å‘éŸ³ç­(1)]]></title>
      <url>http://iequa.com/2017/12/03/english-ielts-speaking-yangshuai-1/</url>
      <content type="html"><![CDATA[<p>æŠŠå‘éŸ³ç»ƒå¥½çš„æ–¹æ³•å°±æ˜¯é‡å¤, è¯­è¨€å­¦ä¹ çš„æœ¬è´¨å°±æ˜¯æ¨¡ä»¿</p>
<p>but youâ€™re oldâ€¦</p>
<p>0 ~ 6 years å¯ä»¥é€šè¿‡è€³æœµè¯†åˆ« 140 ä¸ªä¸åŒçš„éŸ³, ä¹Ÿå¯ä»¥é©¬ä¸Šæ¨¡ä»¿</p>
<p>6 å²ä¹‹åï¼Œè¿™ç§èƒ½åŠ›é€æ¸ä¸‹é™â€¦ï¼Œ æ‰€ä»¥ä½ å¤©å¤©å¬å‰‘æ¡¥è‹±è¯­ï¼Œæˆ–è€…ä½ å»å¤–å›½10å‡ å¹´ï¼Œè¿˜æ˜¯ä¸­å¼å‘éŸ³</p>
<a id="more"></a>
<h2 id="1-ç†è®º-æ¨¡ä»¿"><a href="#1-ç†è®º-æ¨¡ä»¿" class="headerlink" title="1. ç†è®º + æ¨¡ä»¿"></a>1. ç†è®º + æ¨¡ä»¿</h2><p>Less is more. </p>
<p>Practice makes progress</p>
<blockquote>
<p>å°‘è€Œç²¾ï¼Œèå…¥è¡€æ¶²ï¼Œèå…¥éª¨é«“</p>
<p>ç†è®º - ä¸ç”¨å¤©å¤© (è®©æ¨¡ä»¿æ›´åŠ æœ‰æ•ˆæœ)<br>æ¨¡ä»¿ - æ˜¯å¤©å¤©éœ€è¦çš„</p>
</blockquote>
<h2 id="2-å‘éŸ³å­¦ä¹ çš„å‡ å¤§æ³¨æ„"><a href="#2-å‘éŸ³å­¦ä¹ çš„å‡ å¤§æ³¨æ„" class="headerlink" title="2. å‘éŸ³å­¦ä¹ çš„å‡ å¤§æ³¨æ„:"></a>2. å‘éŸ³å­¦ä¹ çš„å‡ å¤§æ³¨æ„:</h2><ul>
<li>æ‡‚éŸ³æ ‡ (è‡ªå­¦)</li>
<li>ä¸€å®šè¦ä¸æ–­é‡å¤</li>
<li>ä¸è¦ç›¸ä¿¡è‡ªå·±çš„è€³æœµï¼Œè¦ç›¸ä¿¡éŸ³æ ‡</li>
<li>æœ€å¼€å§‹ç»ƒä¹ ï¼Œä¸€å®šè¦è¶…çº§å¤¸å¼ </li>
<li>ä¸€ä¸ªéŸ³ä¸€ä¸ªéŸ³è¯»</li>
</ul>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">experience [ÉªkËˆspÉªriÉ™ns]</span><br><span class="line">serious [ËˆsÉªriÉ™s]</span><br><span class="line">series [ËˆsÉªri:z]</span><br><span class="line">down [daÊŠn]</span><br></pre></td></tr></table></figure>
<h3 id="æ¨èå­—å…¸"><a href="#æ¨èå­—å…¸" class="headerlink" title="æ¨èå­—å…¸"></a>æ¨èå­—å…¸</h3><p><a href="http://www.ox.ac.uk/" target="_blank" rel="external">Oxford</a> (è‹±éŸ³)<br><a href="https://www.merriam-webster.com/" target="_blank" rel="external">Merriam Webster</a> (ç¾éŸ³)</p>
<ol>
<li>æœ€æ˜“é”™å…ƒéŸ³ â€“ ä¿6</li>
<li>è¾…éŸ³ + è¯­è°ƒ (é‡è¯»ã€è¿è¯») â€“ äº‰7</li>
<li>ç•¥è¯» + è‹±ç¾éŸ³ä¸»è¦åŒºåˆ« â€“ å¸¦ä½ è£…å¸¦ä½ é£</li>
</ol>
<h3 id="ä»è‹±åˆ°ç¾"><a href="#ä»è‹±åˆ°ç¾" class="headerlink" title="ä»è‹±åˆ°ç¾"></a>ä»è‹±åˆ°ç¾</h3><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">flat [flÃ¦t]ã€cat [kÃ¦t]</span><br><span class="line">kite [kaÉªt]ã€ dog [dÉ’g] [dÉ”:g] </span><br><span class="line">bed [bed]ã€[bÉ›d]</span><br><span class="line">bought [bÉ”:t]ã€[bÉ”t]</span><br><span class="line">usually [Ëˆju:Ê’uÉ™li]ã€ [ËˆjuËÊ’uÉ™li] </span><br><span class="line">garage [ËˆgÃ¦rÉ‘:Ê’]ã€[gÉ™ËˆrÉ‘:Ê’] </span><br><span class="line">......</span><br></pre></td></tr></table></figure>
<h3 id="ä¸­å›½äººé—®é¢˜æœ€å¤§çš„ä¸‰ä¸ªå…ƒéŸ³"><a href="#ä¸­å›½äººé—®é¢˜æœ€å¤§çš„ä¸‰ä¸ªå…ƒéŸ³" class="headerlink" title="ä¸­å›½äººé—®é¢˜æœ€å¤§çš„ä¸‰ä¸ªå…ƒéŸ³"></a>ä¸­å›½äººé—®é¢˜æœ€å¤§çš„ä¸‰ä¸ªå…ƒéŸ³</h3><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">/ai/ /Ã¦/ /É›/</span><br></pre></td></tr></table></figure>
<p><strong>/ai/ = /a:/-/i/</strong></p>
<ul>
<li>å­—æ¯ç»„åˆ: ä¸»è¦ <strong><em>iï¼Œieï¼Œyï¼Œighï¼Œuy</em></strong></li>
</ul>
<blockquote>
<p><strong><em>t<font color="#c7254e">i</font>meï¼Œwh<font color="#c7254e">i</font>teï¼Œd<font color="#c7254e">ie</font>ï¼Œt<font color="#c7254e">ie</font>d<br>dryï¼Œwhyï¼ŒJuly<br>h<font color="blue">igh</font>tï¼Œn<font color="blue">igh</font>tã€r<font color="blue">igh</font>t<br>bu<font color="#c7254e">y</font>ï¼Œgu<font color="#c7254e">y</font><br>k<font color="#c7254e">i</font>ndï¼Œm<font color="#c7254e">i</font>ndï¼Œw<font color="#c7254e">i</font>nd<br>all kinds ofï¼Œspring to mindï¼Œwind downï¼Œunwind</em></strong></p>
</blockquote>
<table>
<thead>
<tr>
<th>word</th>
<th>phonetic symbol</th>
<th>sentence</th>
</tr>
</thead>
<tbody>
<tr>
<td>die</td>
<td>[dai]</td>
<td>I donâ€™t want to die.</td>
</tr>
<tr>
<td>died</td>
<td>[daid]</td>
<td>My dog died yesterday.</td>
</tr>
<tr>
<td>dying</td>
<td>[ËˆdaÉªÉªÅ‹]</td>
<td>The man is dying.</td>
</tr>
<tr>
<td>dead</td>
<td>[ded]ï¼Œ[dÉ›d]</td>
<td>Her cat is dead.</td>
</tr>
</tbody>
</table>
<h3 id="é•¿çŸ­éŸ³çš„åŒºåˆ†"><a href="#é•¿çŸ­éŸ³çš„åŒºåˆ†" class="headerlink" title="é•¿çŸ­éŸ³çš„åŒºåˆ†"></a>é•¿çŸ­éŸ³çš„åŒºåˆ†</h3><ul>
<li>é•¿éŸ³: <code>tense</code>(ç´§å¼ éŸ³) â€“ é•¿å…ƒç´§å¼ éŸ³ - beach</li>
<li>çŸ­éŸ³: <code>lax</code> (æ”¾æ¾éŸ³) â€“ çŸ­å…ƒæ”¾æ¾éŸ³ - bitch</li>
</ul>
<p><strong>/i:/</strong> ä¸æ”¾æ¾éŸ³ , å­—æ¯ç»„åˆ: ä¸»è¦ <strong><em>eeï¼Œeaï¼Œeï¼Œieï¼Œei</em></strong></p>
<blockquote>
<p><strong><em>w<font color="#c7254e">ee</font>kï¼Œw<font color="#c7254e">ea</font>kï¼Œtr<font color="#c7254e">ee</font>ï¼Œm<font color="#c7254e">ee</font>tï¼Œthr<font color="#c7254e">ee</font>ï¼Œs<font color="#c7254e">ee</font>ï¼Œs<font color="#c7254e">ee</font>kï¼Œm<font color="#c7254e">ea</font>tï¼Œl<font color="#c7254e">ea</font>veï¼Œ<font color="#c7254e">ea</font>tï¼Œb<font color="#c7254e">ea</font>t<br>l<font color="#c7254e">ea</font>dï¼Œ<font color="#c7254e">ea</font>chï¼Œcoll<font color="#c7254e">ea</font>gueï¼Œt<font color="#c7254e">ea</font>mï¼Œr<font color="#c7254e">ea</font>dï¼Œsp<font color="#c7254e">ea</font>kï¼Œpl<font color="#c7254e">ea</font>seï¼Œp<font color="#c7254e">ie</font>ceï¼Œrec<font color="#c7254e">ei</font>ve<br>extr<font color="#c7254e">e</font>melyï¼Œm<font color="#c7254e">e</font>dia</em></strong></p>
</blockquote>
<p><strong>/ei/</strong> ä¸€å®šè¦é¥±æ»¡ , å­—æ¯ç»„åˆ: ä¸»è¦ <strong><em>ayï¼Œa</em></strong></p>
<blockquote>
<p><strong><em>tree. tray <font color="#c7254e">[trei]</font><br>see. say <font color="#c7254e">[sei]</font><br>week. wake <font color="#c7254e">[weik]</font><br>piece. pace <font color="#c7254e">[peis]</font></em></strong></p>
</blockquote>
<p><strong>/i/ æ˜¯ /i:/</strong> çš„æ”¾æ¾ä¸ç”¨åŠ›éŸ³ , å­—æ¯ç»„åˆ: ä¸»è¦ <strong><em>iï¼Œy</em></strong></p>
<blockquote>
<p><strong><em>sitï¼Œitï¼Œisï¼Œliveï¼Œdidï¼Œthisï¼Œkidï¼Œlistï¼Œsix<br>fixï¼Œfitï¼Œclickï¼Œifï¼Œbigï¼Œgiveï¼Œgiftï¼Œtrip<br>stillï¼Œmissï¼Œfinishï¼Œhabitï¼Œm<font color="#c7254e">y</font>stery [ËˆmÉªstÉ™ri]ï¼Œcoll<font color="#c7254e">e</font>ge [ËˆkÉ‘:lÉªdÊ’]</em></strong></p>
</blockquote>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[Neural Networks and Deep Learning (week1) - Introduction to Deep Learning]]></title>
      <url>http://iequa.com/2017/12/01/deeplearning-ai-Neural-Networks-and-Deep-Learning-week1/</url>
      <content type="html"><![CDATA[<ol>
<li>Introduction to Deep Learning</li>
<li>What is a Neural Network ?</li>
<li>Why is Deep Learning taking off ?</li>
</ol>
<a id="more"></a>
<h2 id="1-Introduction-to-Deep-Learning"><a href="#1-Introduction-to-Deep-Learning" class="headerlink" title="1. Introduction to Deep Learning"></a>1. Introduction to Deep Learning</h2><p><img src="/images/deeplearning/light.jpg" width="420"></p>
<h3 id="Whatâ€™s-youâ€™ll-learn"><a href="#Whatâ€™s-youâ€™ll-learn" class="headerlink" title="Whatâ€™s youâ€™ll learn"></a>Whatâ€™s youâ€™ll learn</h3><div class="limg0"><br><img src="/images/deeplearning/deeplearning-ai-w1-6.jpg" width="720"><br></div>

<h2 id="2-What-is-a-Neural-Network"><a href="#2-What-is-a-Neural-Network" class="headerlink" title="2. What is a Neural Network ?"></a>2. What is a Neural Network ?</h2><h3 id="Housing-Price-Prediction"><a href="#Housing-Price-Prediction" class="headerlink" title="Housing Price Prediction"></a>Housing Price Prediction</h3><p><img src="/images/deeplearning/deeplearning-ai-w1-3-housing.jpg" width="720"></p>
<h2 id="3-Why-is-Deep-Learning-taking-off"><a href="#3-Why-is-Deep-Learning-taking-off" class="headerlink" title="3. Why is Deep Learning taking off ?"></a>3. Why is Deep Learning taking off ?</h2><p><img src="/images/deeplearning/deeplearning-ai-w1-4.jpg" width="720"></p>
<ul>
<li><strong>Data</strong> ã€ <strong>Computation</strong> ã€ <strong>Algorithms</strong></li>
</ul>
<p><img src="/images/deeplearning/deeplearning-ai-w1-5.jpg" width="720"></p>
<h2 id="Reference"><a href="#Reference" class="headerlink" title="Reference"></a>Reference</h2><ul>
<li><a href="https://www.deeplearning.ai/" target="_blank" rel="external">Andrew Ng - deeplearning.ai</a></li>
<li><a href="https://mooc.study.163.com/learn/2001281002?tid=2001392029#/learn/content?type=detail&amp;id=2001702004&amp;cid=2001694006" target="_blank" rel="external">ç½‘æ˜“äº‘è¯¾å ‚ - ç¬¬ä¸€å‘¨æ·±åº¦å­¦ä¹ æ¦‚è®º</a></li>
</ul>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[Word2vec Learning Note]]></title>
      <url>http://iequa.com/2017/11/16/nlp-word2vector/</url>
      <content type="html"><![CDATA[<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js"],
    jax: ["input/TeX"],
    tex2jax: {
      inlineMath: [ ['$','$'], ['\\(','\\)'] ],
      displayMath: [ ['$$','$$']],
      processEscapes: true
    }
  });
</script>
<script type="text/javascript" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS_HTML,http://myserver.com/MathJax/config/local/local.js">
</script>

<p>2013å¹´ï¼ŒGoogleå¼€æºäº†ç”¨äºè¯å‘é‡è®¡ç®—çš„å·¥å…·â€”<code>word2vec</code>ï¼Œä¹Ÿç§° Word Embeddingï¼ŒWord2Vec æ˜¯ä¸€ä¸ªå¯ä»¥å°†è¯­è¨€ä¸­å­—è¯è½¬ä¸ºå‘é‡å½¢å¼è¡¨è¾¾ (Vector Representations) ï¼Œæ¨¡å‹é€šå¸¸éƒ½æ˜¯ç”¨æµ…å±‚ï¼ˆä¸¤å±‚ï¼‰ç¥ç»ç½‘ç»œè®­ç»ƒè¯å‘é‡ã€‚<br><a id="more"></a></p>
<p>Word2vecçš„æ¨¡å‹ä»¥å¤§è§„æ¨¡è¯­æ–™åº“ä½œä¸ºè¾“å…¥ï¼Œç„¶åç”Ÿæˆä¸€ä¸ªå‘é‡ç©ºé—´ï¼ˆé€šå¸¸ä¸ºå‡ ç™¾ç»´ï¼‰ã€‚è¯å…¸ä¸­çš„æ¯ä¸ªè¯éƒ½å¯¹åº”äº†å‘é‡ç©ºé—´ä¸­çš„ä¸€ä¸ªç‹¬ä¸€çš„å‘é‡ï¼Œè€Œä¸”è¯­æ–™åº“ä¸­æ‹¥æœ‰å…±åŒä¸Šä¸‹æ–‡çš„è¯æ˜ å°„åˆ°å‘é‡ç©ºé—´ä¸­çš„è·ç¦»ä¼šæ›´è¿‘ã€‚</p>
<blockquote>
<p>Information Retrieval</p>
</blockquote>
<h2 id="Reference"><a href="#Reference" class="headerlink" title="Reference"></a>Reference</h2><ul>
<li><a href="https://www.zybuluo.com/Dounm/note/591752#word2vec-çŸ¥å…¶ç„¶çŸ¥å…¶æ‰€ä»¥ç„¶" target="_blank" rel="external">Word2Vec-çŸ¥å…¶ç„¶çŸ¥å…¶æ‰€ä»¥ç„¶</a></li>
<li><a href="https://whiskytina.github.io/word2vec.html" target="_blank" rel="external">word2vecå‰ä¸–ä»Šç”Ÿ</a></li>
</ul>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[Hidden Markov Model]]></title>
      <url>http://iequa.com/2017/11/14/nlp-pre-hidden-markov-model/</url>
      <content type="html"><![CDATA[<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js"],
    jax: ["input/TeX"],
    tex2jax: {
      inlineMath: [ ['$','$'], ['\\(','\\)'] ],
      displayMath: [ ['$$','$$']],
      processEscapes: true
    }
  });
</script>
<script type="text/javascript" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS_HTML,http://myserver.com/MathJax/config/local/local.js">
</script>

<p>Hidden Markov Model (HMM) model is the most rapid and effective method to solve most Natural Language Processing problems. It successfully solves the problems of speech recognition, Machine Translation.<a id="more"></a></p>
<p>HMM is a statistical Markov model in which the system being modeled is assumed to be a Markov process with unobserved (i.e. hidden) states.</p>
<h2 id="Communication-Model"><a href="#Communication-Model" class="headerlink" title="Communication Model"></a>Communication Model</h2><p><img src="/images/nlp/nlp-communication-model.png" alt=""></p>
<p>å¦‚ä½•æ ¹æ®æ¥æ”¶ç«¯çš„è§‚æµ‹ä¿¡å· $o_1,o_2,o_3,â€¦$æ¥æ¨æµ‹ä¿¡å·æºå‘é€çš„ä¿¡æ¯ $s_1,s_2,s_3,â€¦$ å‘¢?åªéœ€è¦ä»æ‰€æœ‰çš„æºä¿¡æ¯ä¸­æ‰¾åˆ°æœ€å¯èƒ½äº§ç”Ÿå‡ºè§‚æµ‹ä¿¡å·çš„é‚£ä¸€ä¸ªä¿¡æ¯ã€‚</p>
<blockquote>
<p>å¾ˆå¤šNLPåº”ç”¨å¯ä»¥è¿™æ ·ç†è§£ã€‚ä»æ±‰è¯­åˆ°è‹±è¯­çš„ç¿»è¯‘ä¸­ï¼Œè¯´è¯è€…è®²çš„æ˜¯æ±‰è¯­ï¼Œä½†æ˜¯ä¿¡é“ä¼ æ’­ç¼–ç çš„æ–¹å¼æ˜¯è‹±è¯­ï¼Œå¦‚ä½•åˆ©ç”¨è®¡ç®—æœºï¼Œæ ¹æ®æ¥æ”¶åˆ°çš„è‹±è¯­ä¿¡æ¯ï¼Œæ¨æµ‹è¯´è¯è€…æ±‰è¯­çš„æ„æ€ï¼Œè¿™å°±æ˜¯æœºå™¨ç¿»è¯‘ã€‚åŒæ ·ï¼Œå¦‚æœè¦æ ¹æ®å¸¦æœ‰æ‹¼å†™é”™è¯¯çš„è¯­å¥æ¨æµ‹è¯´è¯è€…æƒ³è¡¨è¾¾çš„æ­£ç¡®æ„æ€ï¼Œé‚£å°±æ˜¯è‡ªåŠ¨çº é”™ï¼Œè¿™æ ·ï¼Œå‡ ä¹æ‰€æœ‰çš„NLPé—®é¢˜éƒ½å¯ä»¥ç­‰ä»·æˆé€šä¿¡çš„è§£ç é—®é¢˜ã€‚</p>
</blockquote>
<p>ç”¨æ¦‚ç‡è®ºè¯­è¨€æè¿°ä¸º :</p>
<p>å·²çŸ¥ $o_1,o_2,o_3$, æ±‚å¾—ä»¤æ¡ä»¶æ¦‚ç‡$P(s_1,s_2,s_3,â€¦|o_1,o_2,o_3,â€¦)$è¾¾åˆ°æœ€å¤§å€¼çš„ä¿¡æ¯ä¸² $o_1,o_2,o_3,â€¦$</p>
<p>$$<br>s_1,s_2,s_3,â€¦ = Argument.Max.P(s_1,s_2,s_3,â€¦|o_1,o_2,o_3,â€¦)<br>$$</p>
<p>è´å¶æ–¯è½¬æ¢ :</p>
<p>$$<br>\frac {P(o_1,o_2,o_3,â€¦|s_1,s_2,s_3,â€¦) \cdot P(s_1,s_2,s_3,â€¦)} {P(o_1,o_2,o_3,â€¦)}<br>$$</p>
<blockquote>
<p>$P(o_1,o_2,o_3,â€¦)ä¸€ä¸ªå¯ä»¥å¿½ç•¥çš„å¸¸æ•°$</p>
</blockquote>
<p>$$<br>P(o_1,o_2,o_3,â€¦|s_1,s_2,s_3,â€¦) \cdot P(s_1,s_2,s_3,â€¦)<br>$$</p>
<h2 id="Hidden-Markov-Model"><a href="#Hidden-Markov-Model" class="headerlink" title="Hidden Markov Model"></a>Hidden Markov Model</h2><p>é©¬å°”ç§‘å¤«å‡è®¾:</p>
<p>$$<br>P(s_{t}|s_1,s_2,s_3,â€¦,s_{t-1}) = P(s_t|s_{t-1})<br>$$</p>
<blockquote>
<p>$s_1,s_2,s_3,â€¦,s_{t}$ çœ‹æˆæ˜¯åŒ—äº¬æ¯å¤©çš„æœ€é«˜æ°”æ¸©ï¼Œè¿™é‡Œé¢çš„æ¯ä¸ªçŠ¶æ€ $s_t$ éƒ½æ˜¯éšæœºçš„ï¼Œ å‡è®¾éšæœºè¿‡ç¨‹çš„å„ä¸ªçŠ¶æ€ $s_t$ çš„æ¦‚ç‡åˆ†å¸ƒåªä¸å®ƒçš„å‰ä¸€ä¸ªçŠ¶æ€ $s_{t-1}$æœ‰å…³ï¼Œå³ $P(s_{t}|s_1,s_2,s_3,â€¦,s_{t-1}) = P(s_t|s_{t-1})$ã€‚</p>
</blockquote>
<h2 id="Reference"><a href="#Reference" class="headerlink" title="Reference"></a>Reference</h2><ul>
<li>ã€Šæ•°å­¦ä¹‹ç¾ã€‹ è¯»ä¹¦ç¬”è®° </li>
</ul>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[NLP ç®€ä»‹ & ç»Ÿè®¡è¯­è¨€æ¨¡å‹]]></title>
      <url>http://iequa.com/2017/11/13/nlp-pre-statistics-language-model/</url>
      <content type="html"><![CDATA[<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js"],
    jax: ["input/TeX"],
    tex2jax: {
      inlineMath: [ ['$','$'], ['\\(','\\)'] ],
      displayMath: [ ['$$','$$']],
      processEscapes: true
    }
  });
</script>
<script type="text/javascript" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS_HTML,http://myserver.com/MathJax/config/local/local.js">
</script>

<p>1946å¹´ è®¡ç®—æœºå‡ºç°ä¹‹åï¼Œè®¡ç®—æœºå¾ˆå¤šäº‹æƒ…æ¯”äººç±»åšå¾—å¥½ï¼Œé‚£ä¹ˆæœºå™¨æ˜¯å¦èƒ½æ‡‚<strong>è‡ªç„¶è¯­è¨€</strong>?</p>
<a id="more"></a>
<h2 id="Natural-Language-Processing"><a href="#Natural-Language-Processing" class="headerlink" title="Natural Language Processing"></a>Natural Language Processing</h2><p>NLPæ˜¯ä¸€é—¨é›†è®¡ç®—æœºç§‘å­¦ï¼Œäººå·¥æ™ºèƒ½ï¼Œè¯­è¨€å­¦ä¸‰è€…äºä¸€èº«çš„äº¤å‰æ€§å­¦ç§‘ã€‚å¥¹çš„ç»ˆæç ”ç©¶ç›®æ ‡æ˜¯è®©è®¡ç®—æœºèƒ½å¤Ÿå¤„ç†ç”šè‡³æ˜¯â€œç†è§£â€äººç±»çš„è‡ªç„¶è¯­è¨€ï¼Œè¿›è€Œå¸®åŠ©äººç±»è§£å†³ä¸€äº›ç°å®ç”Ÿæ´»ä¸­é‡åˆ°çš„å®é™…é—®é¢˜ã€‚è¿™é‡Œçš„è¯­è¨€â€œç†è§£â€æ˜¯ä¸€ä¸ªå¾ˆæŠ½è±¡ä¹Ÿå¾ˆå“²å­¦çš„æ¦‚å¿µã€‚åœ¨ NLP ä¸­ï¼Œæˆ‘ä»¬å°†å¯¹è¯­è¨€çš„â€œç†è§£â€å®šä¹‰ä¸ºæ˜¯å­¦ä¹ ä¸€ä¸ªèƒ½å¤Ÿè§£å†³å…·ä½“é—®é¢˜çš„å¤æ‚å‡½æ•°çš„è¿‡ç¨‹ã€‚</p>
<p>ä¸€äº›NLPæŠ€æœ¯çš„åº”ç”¨:</p>
<ul>
<li>ç®€å•çš„ä»»åŠ¡ï¼šæ‹¼å†™æ£€æŸ¥ï¼Œå…³é”®è¯æ£€ç´¢ï¼ŒåŒä¹‰è¯æ£€ç´¢ç­‰</li>
<li>å¤æ‚çš„ä»»åŠ¡ï¼šä¿¡æ¯æå–ã€æƒ…æ„Ÿåˆ†æã€æ–‡æœ¬åˆ†ç±»ç­‰</li>
<li>æ›´å¤æ‚ä»»åŠ¡ï¼šæœºå™¨ç¿»è¯‘ã€äººæœºå¯¹è¯ã€QAç³»ç»Ÿ</li>
</ul>
<h2 id="From-rules-to-statistics"><a href="#From-rules-to-statistics" class="headerlink" title="From rules to statistics"></a>From rules to statistics</h2><blockquote>
<p><strong>ä¸ºä»€ä¹ˆè¦æŠŠNLPä»æœºå™¨å­¦ä¹ çš„ä»»åŠ¡åˆ—è¡¨ä¸­å•ç‹¬æŠ½å–å‡ºæ¥åšä¸ºä¸€é—¨ç ”ç©¶çš„å¯¹è±¡ï¼Ÿ</strong></p>
<p>æ ¹æœ¬åŸå› åœ¨äºè¯­è¨€ç”¨äºè¡¨è¾¾å®¢è§‚ä¸–ç•Œçš„å†…åœ¨å¤æ‚æ€§å’Œå¤šä¹‰æ€§ã€‚ä¸¾ä¸€ä¸ªç®€å•çš„ä¾‹å­ï¼šâ€Jane hit June and then she [fell/ran]â€ã€‚å½“sheæ‰€ä¼´éšçš„åŠ¨ä½œä¸åŒï¼ˆfell or ranï¼‰ï¼Œå…¶æ‰€æŒ‡ä»£çš„å¯¹è±¡ä¹Ÿå‘ç”Ÿäº†å˜åŒ–ï¼ˆJune or Janeï¼‰ã€‚è¿™æ ·çš„ä¾‹å­å¤ªå¤šï¼Œæ˜¾ç„¶æˆ‘ä»¬æ— æ³•é€šè¿‡æšä¸¾æ‰€æœ‰çš„è§„åˆ™æ¥è§£å†³è¯­è¨€å†…åœ¨çš„å¤æ‚æ€§ã€‚å¦ä¸€ä¸ªå¤šä¹‰æ€§çš„ä¾‹å­æ˜¯ï¼šâ€I made her duckâ€ã€‚æˆ‘ä»¬å¯ä»¥ç†è§£ä¸ºï¼šâ€I cooked her a duckâ€ï¼Œæˆ–æ˜¯â€I curved her a wooden duckâ€ï¼Œä¹Ÿå¯ä»¥ç†è§£ä¸ºï¼šâ€I transformed her into a duck with some magicâ€ã€‚</p>
</blockquote>
<h2 id="Statistics-Language-Model"><a href="#Statistics-Language-Model" class="headerlink" title="Statistics Language Model"></a>Statistics Language Model</h2><p>è‡ªç„¶è¯­è¨€é€æ¸æ¼”å˜æˆä¸€ç§ä¸Šä¸‹æ–‡ä¿¡æ¯è¡¨è¾¾å’Œä¼ é€’çš„æ–¹å¼ï¼Œè®©è®¡ç®—æœºå¤„ç†è‡ªç„¶è¯­è¨€ï¼Œä¸€ä¸ªåŸºæœ¬çš„é—®é¢˜å°±æ˜¯ä¸ºè‡ªç„¶è¯­è¨€è¿™ç§ä¸Šä¸‹æ–‡ç›¸å…³çš„ç‰¹æ€§å»ºç«‹æ•°å­¦æ¨¡å‹ã€‚ è¿™ä¸ªæ•°å­¦æ¨¡å‹ä¹Ÿå°±æ˜¯NLPè¯´çš„ Statistics Language Model.</p>
<blockquote>
<ol>
<li>ç¾è”å‚¨ä¸»å¸­æ˜¨å¤©å‘Šè¯‰åª’ä½“ 7000 äº¿ç¾é‡‘çš„æ•‘åŠ©èµ„é‡‘å°†å€Ÿç»™ä¸Šç™¾å®¶é“¶è¡Œã€æ±½è½¦å…¬å¸ã€‚</li>
<li>ç¾è”å‚¨ä¸»å¸­æ˜¨å¤© 7000 äº¿ç¾é‡‘çš„æ•‘åŠ©èµ„é‡‘å‘Šè¯‰åª’ä½“å°†å€Ÿç»™ä¸Šç™¾å®¶é“¶è¡Œã€æ±½è½¦å…¬å¸ã€‚</li>
<li>ç¾è”å‚¨ä¸»å¸­æ˜¨å¤© å‘Šåª’è¯‰ä½“ 70 äº¿00ç¾é‡‘çš„æ•‘åŠ©èµ„é‡‘ä¸Šç™¾å®¶é“¶è¡Œå°†å€Ÿç»™ã€æ±½è½¦å…¬å¸ã€‚</li>
</ol>
<p>ä¸Šä¸–çºª70å¹´ä»£ç§‘å­¦å®¶ä»¬è¯•å›¾ç”¨è§„åˆ™æ–‡æ³•åˆ¤æ–­å¥å­æ˜¯å¦åˆç†ã€‚è´¾é‡Œå°¼å…‹ç”¨ç»Ÿè®¡æ¨¡å‹è§£å†³æ–¹æ³•æ›´æœ‰æ•ˆã€‚</p>
</blockquote>
<p>å¦‚æœ S è¡¨ç¤ºä¸€è¿ä¸²ç‰¹å®šé¡ºåºæ’åˆ—çš„è¯ $w_1$ï¼Œ $w_2$ï¼Œâ€¦ï¼Œ $w_n$ ï¼Œæ¢å¥è¯è¯´ï¼ŒS è¡¨ç¤ºçš„æ˜¯ä¸€ä¸ªæœ‰æ„ä¹‰çš„å¥å­ã€‚æœºå™¨å¯¹è¯­è¨€çš„è¯†åˆ«ä»æŸç§è§’åº¦æ¥è¯´ï¼Œå°±æ˜¯æƒ³çŸ¥é“Såœ¨æ–‡æœ¬ä¸­å‡ºç°çš„å¯èƒ½æ€§ï¼Œä¹Ÿå°±æ˜¯æ•°å­¦ä¸Šæ‰€è¯´çš„S çš„æ¦‚ç‡ç”¨ P(S) æ¥è¡¨ç¤ºã€‚åˆ©ç”¨æ¡ä»¶æ¦‚ç‡çš„å…¬å¼ï¼ŒS è¿™ä¸ªåºåˆ—å‡ºç°çš„æ¦‚ç‡ç­‰äºæ¯ä¸€ä¸ªè¯å‡ºç°çš„æ¦‚ç‡ç›¸ä¹˜ï¼Œäºæ˜¯P(S) å¯å±•å¼€ä¸ºï¼š</p>
<p>$$<br>P(S) = P(w_1)P(w_2|w_1)P(w_3| w_1 w_2)â€¦P(w_n|w_1 w_2â€¦w_{n-1})<br>$$</p>
<p>é©¬å°”å¯å¤«å‡è®¾</p>
<p>$$<br>P(S) = P(w_1)P(w_2|w_1)P(w_3|w_2)â€¦P(w_i|w_{i-1})â€¦<br>$$</p>
<p>æ¥ä¸‹æ¥å¦‚ä½•ä¼°è®¡ $P (w_i|w_{i-1})$ã€‚åªè¦æœºå™¨æ•°ä¸€æ•°è¿™å¯¹è¯ $(w_i{-1}, w_i)$ åœ¨ç»Ÿè®¡çš„æ–‡æœ¬ä¸­å‡ºç°äº†å¤šå°‘æ¬¡ï¼Œä»¥åŠ $w_{i-1}$ æœ¬èº«åœ¨åŒæ ·çš„æ–‡æœ¬ä¸­å‰åç›¸é‚»å‡ºç°äº†å¤šå°‘æ¬¡ï¼Œç„¶åç”¨ä¸¤ä¸ªæ•°ä¸€é™¤å°±å¯ä»¥äº†,</p>
<p>$$<br>P(w_i|w_{i-1}) = \frac {P(w_{i-1}, w_i)} {P(w_{i-1})}<br>$$</p>
<blockquote>
<p>å¦‚ä½•è®¡ç®— ï¼š </p>
<p>$$<br> \frac {P(w_{i-1}, w_i)} {P(w_{i-1})}<br>$$</p>
<p>æ ¹æ®å¤§æ•°å®šç†ï¼Œåªè¦ç»Ÿè®¡é‡è¶³å¤Ÿï¼Œç›¸å¯¹é¢‘åº¦å°±ç­‰äºæ¦‚ç‡</p>
</blockquote>
<h3 id="higher-order-language-model"><a href="#higher-order-language-model" class="headerlink" title="higher order language model"></a>higher order language model</h3><p>å‡å®šæ–‡æœ¬ä¸­çš„æ¯ä¸ªè¯ $w_i$ å’Œ å‰é¢N-1ä¸ªè¯æœ‰å…³ï¼Œè€Œå’Œæ›´å‰é¢çš„è¯æ— å…³ï¼Œè¿™æ ·å½“å‰è¯ $w_i$ çš„æ¦‚ç‡å€¼å–å†³äºå‰é¢ N-1ä¸ªè¯ $P(w_{i-N+1}, w_{i-N+2}, â€¦, w_{i-1})$</p>
<p>å› æ­¤ï¼Œ</p>
<p>$$<br>P(w_{i}|w_{1}, w_{2}, â€¦, w_{i-1}) = P(w_i | w_{i-N+1}, w_{i-N+2}, â€¦, w_{i-1})<br>$$</p>
<blockquote>
<p>Nå…ƒæ¨¡å‹ï¼Œ N=2 æ—¶ï¼Œä¸ºäºŒå…ƒæ¨¡å‹ã€‚ åœ¨å®é™…ä¸­åº”ç”¨æœ€å¤šçš„æ˜¯ N=3 çš„ä¸‰å…ƒæ¨¡å‹</p>
</blockquote>
<h3 id="zero-probability-smoothing-method"><a href="#zero-probability-smoothing-method" class="headerlink" title="zero probability, smoothing method"></a>zero probability, smoothing method</h3><p>è§£å†³ç»Ÿè®¡æ ·æœ¬ä¸è¶³çš„æ¦‚ç‡ä¼°è®¡é—®é¢˜ï¼Œ ä¸å¯ä¿¡çš„ç»Ÿè®¡æ•°æ®æ‰“æŠ˜æ‰£çš„ä¸€ç§æ¦‚ç‡ä¼°è®¡æ–¹æ³•ã€‚</p>
<blockquote>
<p>1953å¹´æœ‰å¤å¾·ï¼ˆI.J.Goodï¼‰å›¾çµï¼ˆTuringï¼‰çš„æ–¹æ³•è€Œæå‡ºæ¥çš„ã€‚å…¶åŸºæœ¬æ€æƒ³æ˜¯ï¼šå¯¹äºæ²¡æœ‰çœ‹è§çš„äº‹ä»¶ï¼Œæˆ‘ä»¬ä¸èƒ½è®¤ä¸ºå®ƒå‘ç”Ÿçš„æ¦‚ç‡å°±æ˜¯é›¶ï¼Œå› æ­¤æˆ‘ä»¬ä»æ¦‚ç‡çš„æ€»é‡ï¼ˆProbability Massï¼‰ä¸­ï¼Œåˆ†é…ä¸€ä¸ªå¾ˆå°çš„æ¯”ä¾‹ç»™è¿™äº›æ²¡æœ‰çœ‹è§çš„äº‹ä»¶ã€‚è¿™æ ·ä¸€æ¥çœ‹çš„è§æ¦‚ç‡æ€»å’Œå°±è¦å°äº1äº†ï¼Œå› æ­¤ï¼Œéœ€è¦å°†æ‰€æœ‰çœ‹è§çš„äº‹ä»¶æ¦‚ç‡è°ƒå°ä¸€ç‚¹ã€‚è‡³äºå°å¤šå°‘ï¼Œè¦æ ¹æ®â€œè¶Šæ˜¯ä¸å¯ä¿¡çš„ç»Ÿè®¡æŠ˜æ‰£è¶Šå¤šâ€çš„æ–¹æ³•è¿›è¡Œã€‚</p>
</blockquote>
<h2 id="Reference"><a href="#Reference" class="headerlink" title="Reference"></a>Reference</h2><ul>
<li>ã€Šæ•°å­¦ä¹‹ç¾ã€‹ è¯»ä¹¦ç¬”è®° </li>
<li><a href="https://whiskytina.github.io/word2vec.html" target="_blank" rel="external">word2vecå‰ä¸–ä»Šç”Ÿ</a></li>
<li><a href="https://whiskytina.github.io/14947653164873.html" target="_blank" rel="external">CS224N NLP with Deep Learning: Lecture 1 è¯¾ç¨‹ç¬”è®°</a></li>
</ul>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[æ¬ç“¦å·¥VPS é…ç½® SSH ä¸ OpenVpn]]></title>
      <url>http://iequa.com/2017/11/12/ops-bandwagonhost-ssh-openvpn/</url>
      <content type="html"><![CDATA[<p>æ¬ç“¦å·¥VPS é…ç½® ssh ç™»å½• ä¸ iphone é…ç½®ä½¿ç”¨ openvpn</p>
<a id="more"></a>
<h2 id="SSH-é…ç½®"><a href="#SSH-é…ç½®" class="headerlink" title="SSH é…ç½®"></a>SSH é…ç½®</h2><blockquote>
<p>ssh ç™»å½•æ¬ç“¦å·¥æœºå™¨</p>
<ol>
<li>stop server @Main controls</li>
<li>Root password modification</li>
<li>start Server</li>
<li>Root shell - interactive</li>
<li><p>vi /etc/ssh/sshd_config, add </p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">PermitRootLogin yes</span><br><span class="line">Port 22</span><br></pre></td></tr></table></figure>
</li>
<li><p>/etc/init.d/sshd restart</p>
</li>
<li>ssh root@ip</li>
</ol>
</blockquote>
<h2 id="OpenVpn-é…ç½®"><a href="#OpenVpn-é…ç½®" class="headerlink" title="OpenVpn é…ç½®"></a>OpenVpn é…ç½®</h2><blockquote>
<ol>
<li>åœ¨iOSè®¾å¤‡ä¸Šæ‰“å¼€app storeï¼Œæœç´¢openvpnï¼Œinstall</li>
<li>æ‰“å¼€ <a href="https://bandwagonhost.com/clientarea.php?action=products" target="_blank" rel="external">bandwagon my service pandel</a><br><code>My Service Pandel</code> -&gt; <code>KiwiVM Control Pandel</code> -&gt; <code>OpenVPN Server</code> -&gt; <code>install OpenVPN</code> -&gt; <code>Download Key Files</code></li>
<li><p>æŠŠ ca.crtã€client1.crtã€client1.key è¯ä¹¦æ”¾å…¥ .ovpn é…ç½®æ–‡ä»¶</p>
<p>åœ¨ .ovpn æ–‡ä»¶å°¾éƒ¨ä¸­æ–°å¢ æ ‡ç­¾ <code>&lt;ca&gt;ã€&lt;cert&gt;ã€&lt;key&gt;</code> æ ‡ç­¾</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">ca.crt æ–‡ä»¶å†…å®¹å¤åˆ¶åˆ° &lt;ca&gt;å’Œ&lt;/ca&gt; çš„ä¸­é—´ï¼Œ</span><br><span class="line">client1.crt æ–‡ä»¶å†…å®¹å¤åˆ¶åˆ° &lt;cert&gt;å’Œ&lt;/cert&gt; çš„ä¸­é—´ï¼Œ</span><br><span class="line">client1.key æ–‡ä»¶å†…å®¹å¤åˆ¶åˆ° &lt;key&gt;å’Œ&lt;/key&gt; çš„ä¸­é—´ï¼Œ</span><br><span class="line"></span><br><span class="line">ä¿®æ”¹å®Œæˆååˆ é™¤ .ovpn é…ç½®æ–‡ä»¶ä¸­ç±»ä¼¼</span><br><span class="line"></span><br><span class="line">ca ca.crt</span><br><span class="line">cert client1.crt</span><br><span class="line">key client1.key</span><br></pre></td></tr></table></figure>
</li>
<li><p>.ovpn é€šè¿‡ Airdrop ä¼ åˆ° iphone æ‰‹æœºé‡Œ</p>
</li>
<li>æ‰“å¼€OpenVPNï¼Œç‚¹é‚£äº›ç»¿è‰²åŠ å·ï¼Œå°†é…ç½®æ–‡ä»¶å¯¼å…¥</li>
<li>å‘å³æ»‘åŠ¨æœ€ä¸‹é¢é‚£ä¸ªç™½è‰²æ»‘å—è‡³è“è‰²ï¼Œè¿æ¥æœåŠ¡å™¨ã€‚</li>
<li>è¿æ¥æˆåŠŸã€‚å¦‚æœæ˜¾ç¤º Connectedï¼Œè¡¨ç¤ºè¿æ¥æˆåŠŸäº†ã€‚</li>
</ol>
</blockquote>
<h2 id="Reference"><a href="#Reference" class="headerlink" title="Reference"></a>Reference</h2><ul>
<li><a href="https://www.yuntionly.com/" target="_blank" rel="external">www.yuntionly.com</a></li>
<li><a href="https://www.wisevpn.net/" target="_blank" rel="external">www.wisevpn.net</a></li>
<li><a href="https://www.banwago.com/797.html" target="_blank" rel="external">www.banwago.com</a></li>
<li><a href="https://www.godaddy.com/" target="_blank" rel="external">www.godaddy.com</a></li>
<li><a href="https://www.cnbanwagong.com/4.html" target="_blank" rel="external">æ¬ç“¦å·¥ä¸­æ–‡ç½‘</a></li>
<li><a href="https://bwh1.net/" target="_blank" rel="external">æ¬ç“¦å·¥è´­ä¹°é¡µé¢</a></li>
<li><a href="http://ulis.me/archives/5909" target="_blank" rel="external">æ¬ç“¦å·¥VPSç»­è´¹çš„é‚£äº›äº‹</a></li>
<li><a href="https://www.igfw.net/archives/13042" target="_blank" rel="external">OpenVPNæ”¯æŒiOSå•¦</a></li>
<li><a href="https://www.igfw.net/archives/1974" target="_blank" rel="external">ç»¿è‰²ä¾¿æºæ±‰åŒ–å¯ä¿å­˜å¯†ç çš„OpenVPNå®¢æˆ·ç«¯</a></li>
</ul>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[æ–‡å­—å’Œè¯­è¨€ vs æ•°å­—å’Œä¿¡æ¯]]></title>
      <url>http://iequa.com/2017/11/08/nlp-pre-word-language-number-info-history/</url>
      <content type="html"><![CDATA[<p>æ•°å­—ã€æ–‡å­—ã€è‡ªç„¶è¯­è¨€ ä¸€æ ·ï¼Œéƒ½æ˜¯ä¿¡æ¯çš„è½½ä½“ã€‚<a id="more"></a><br>è¯­è¨€å’Œæ•°å­—çš„äº§ç”Ÿä¸ºçš„æ˜¯åŒä¸€ä¸ªç›®çš„ ï¼šè®°å½•å’Œä¼ æ’­ä¿¡æ¯ã€‚</p>
<blockquote>
<p>1948å¹´ï¼Œ<a href="https://zh.wikipedia.org/wiki/å…‹åŠ³å¾·Â·é¦™å†œ" target="_blank" rel="external">é¦™å†œ</a>æå‡ºä¿¡æ¯è®ºï¼Œäººä»¬æ‰æŠŠ æ•°å­¦å’Œè¯­è¨€ è”ç³»èµ·æ¥ã€‚</p>
</blockquote>
<h2 id="1-ä¿¡æ¯"><a href="#1-ä¿¡æ¯" class="headerlink" title="1. ä¿¡æ¯"></a>1. ä¿¡æ¯</h2><p><img src="/images/nlp/nlp-info-1.jpg" width="480" height="400" align="middle" img=""></p>
<blockquote>
<p>äººç±»æœ€æ—©åˆ©ç”¨ voice è¿›è¡Œ é€šä¿¡</p>
</blockquote>
<p><img src="/images/nlp/nlp-info-2.png" width="650" height="100" align="middle" img=""></p>
<blockquote>
<p>äººç±»æ–‡æ˜çš„è¿›æ­¥ï¼Œéœ€è¦è¡¨è¾¾çš„ä¿¡æ¯é‡è¶Šæ¥è¶Šå¤šï¼Œäººç±»å‘æ˜çš„è‡ªç„¶è¯­è¨€</p>
<p>è¯­è¨€çš„å‡ºç°æ˜¯ä¸ºäº†äººç±»ä¹‹é—´çš„é€šä¿¡ã€‚å­—æ¯ã€æ–‡å­—ã€æ•°å­— æ˜¯ä¿¡æ¯ç¼–ç çš„ä¸åŒå•ä½ã€‚ä»»ä½•ä¸€ç§è¯­è¨€éƒ½æ˜¯ä¸€ç§ç¼–ç æ–¹å¼ï¼Œè¯­è¨€çš„è¯­æ³•è§„åˆ™æ˜¯ç¼–è§£ç çš„ç®—æ³•ã€‚</p>
</blockquote>
<h2 id="2-æ–‡å­—å’Œæ•°å­—"><a href="#2-æ–‡å­—å’Œæ•°å­—" class="headerlink" title="2. æ–‡å­—å’Œæ•°å­—"></a>2. æ–‡å­—å’Œæ•°å­—</h2><p>å½“è¯­è¨€å’Œè¯æ±‡å¤šåˆ°ä¸€å®šç¨‹åº¦ï¼Œäººç±»å¤§è„‘è®°ä¸ä½æ‰€æœ‰è¯æ±‡ï¼Œé«˜æ•ˆè®°å½•ä¿¡æ¯çš„å½¢å¼å‡ºç°ï¼Œäººç±»ä¾¿å‘æ˜äº† <strong>æ–‡å­—</strong></p>
<h3 id="æ–‡å­—"><a href="#æ–‡å­—" class="headerlink" title="æ–‡å­—"></a>æ–‡å­—</h3><p>å¤åŸƒåŠï¼Œè¯»éŸ³ç›¸åŒçš„è¯ç”¨åŒä¸€ä¸ªç¬¦å·æ¥è®°å½•ã€‚</p>
<p>æ–‡å­—æŒ‰ç…§<strong>èšç±»</strong>ä¼šå¸¦æ¥æ­§ä¹‰æ€§ï¼Œå¼„ä¸æ¸…å¤šä¹‰å­—åœ¨ç‰¹å®šç¯å¢ƒçš„å«ä¹‰ï¼Œå°±è¦ä¾é <strong>ä¸Šä¸‹æ–‡</strong>ã€‚</p>
<p>ä¸åŒçš„æ–‡æ˜ï¼Œç”±äºåœ°åŸŸåŸå› ï¼Œå†å²ä¸Šäº’ç›¸éš”ç»ï¼Œä¾¿ä¼šæœ‰ä¸åŒçš„æ–‡å­—ã€‚æ–‡æ˜çš„èåˆä¸å†²çªï¼Œä¸åŒæ–‡æ˜ä¸‹çš„äººä»¬è¿›è¡Œäº¤æµ(é€šä¿¡)ï¼Œé‚£ä¹ˆ<strong>ç¿»è¯‘</strong>çš„éœ€æ±‚ä¾¿äº§ç”Ÿäº†ã€‚ä¸åŒçš„æ–‡å­—ç³»ç»Ÿåœ¨è®°å½•ä¿¡æ¯ä¸Šçš„èƒ½åŠ›æ˜¯ç­‰ä»·çš„ã€‚</p>
<p>ç½—å¡å¡” Rosetta Stone çŸ³ç¢‘ [å¤åŸƒåŠè±¡å½¢æ–‡å­—ã€åŸƒåŠæ‹¼éŸ³æ–‡å­—ã€å¤å¸Œè…Šæ–‡] çš„ç ´è¯‘å¯¹äº NLP å­¦è€…çš„ä¸¤ç‚¹æŒ‡å¯¼æ„ä¹‰ :</p>
<ol>
<li>ä¿¡æ¯çš„å†—ä½™æ˜¯ä¿¡æ¯å®‰å…¨çš„ä¿éšœ</li>
<li>è¯­è¨€çš„æ•°æ®ï¼Œæˆ‘ä»¬ç§°ä¹‹ä¸º è¯­æ–™</li>
</ol>
<blockquote>
<p>Rosetta Stone, Googleæ¨å‡ºçš„ç¿»è¯‘è½¯ä»¶</p>
</blockquote>
<h3 id="æ•°å­—"><a href="#æ•°å­—" class="headerlink" title="æ•°å­—"></a>æ•°å­—</h3><p>ç¥–å…ˆéœ€è¦è®°å½•ç‰©ä»¶çš„ä¸ªæ•°è¶Šæ¥è¶Šå¤šï¼Œæ‰€ä»¥å¼€å§‹å‘æ˜äº†è®¡æ•°ç³»ç»Ÿï¼Œä¹Ÿå°±æœ‰äº† æ•°å­—ã€‚å› ä¸º 10 ä¸ªæ‰‹æŒ‡å¤´ï¼Œæ‰€ä»¥å‘æ˜äº† 10 è¿›åˆ¶ã€‚</p>
<p>æè¿°æ•°å­—æœ€æœ‰æ•ˆçš„æ˜¯ å¤å°åº¦äººï¼Œä»–ä»¬å‘æ˜äº† 10ä¸ª é˜¿æ‹‰ä¼¯æ•°å­—ã€‚æ•°å­—çš„é©å‘½æ€§åœ¨äºå®ƒçš„ç®€å•æœ‰æ•ˆï¼Œè€Œä¸” æ ‡å¿—ç€æ•°å­—å’Œæ–‡å­—çš„åˆ†ç¦»ã€‚è¿™åœ¨å®¢è§‚ä¸Šè®© è‡ªç„¶è¯­è¨€çš„ç ”ç©¶ å’Œ æ•°å­¦çš„ç ”ç©¶ åœ¨å‡ åƒå¹´é‡Œæ²¡æœ‰é‡åˆçš„è½¨è¿¹ã€‚</p>
<h2 id="3-æ–‡å­—å’Œè¯­è¨€èƒŒåçš„æ•°å­¦"><a href="#3-æ–‡å­—å’Œè¯­è¨€èƒŒåçš„æ•°å­¦" class="headerlink" title="3. æ–‡å­—å’Œè¯­è¨€èƒŒåçš„æ•°å­¦"></a>3. æ–‡å­—å’Œè¯­è¨€èƒŒåçš„æ•°å­¦</h2><p>ä» <code>è±¡å½¢æ–‡å­—</code> åˆ° <code>æ‹¼éŸ³æ–‡å­—</code> æ˜¯ä¸€ä¸ªé£è·ƒï¼Œæè¿°ç‰©ä½“æ–¹å¼ä¸Šï¼Œä»å¤–è¡¨è¿›åŒ–åˆ°äº†æŠ½è±¡çš„æ¦‚å¿µï¼ŒåŒæ—¶ä¸è‡ªè§‰çš„é‡‡ç”¨äº†å¯¹ ä¿¡æ¯çš„ç¼–ç ã€‚åŒæ—¶ç¥–å…ˆå¯¹æ–‡å­—çš„ç¼–ç è¿˜éå¸¸åˆç†ï¼Œ<strong>å¸¸ç”¨å­—çŸ­ï¼Œç”Ÿåƒ»å­—é•¿</strong>ã€‚è¿™å®Œå…¨ç¬¦åˆä¿¡æ¯è®ºä¸­çš„ æœ€çŸ­ç¼–ç ç†è®ºã€‚  </p>
<p>è¿™ç§æ–‡å­—è®¾è®¡(å…¶å®æ˜¯ä¸€ç§ç¼–ç æ–¹æ³•)å¸¦æ¥çš„å¥½å¤„æ˜¯å†™èµ·æ¥çœæ—¶é—´ã€çœææ–™ã€‚</p>
<blockquote>
<p>å…¬å…ƒå‰26ä¸–çºª,çº¦4700å¹´å‰ï¼Œå‡ºç°äº†æ¥”å½¢æ–‡å­—(ä¸€ç§æ‹¼éŸ³æ–‡å­—)</p>
</blockquote>
<p>åœ¨å¤ä»£ï¼Œåœ¨é€ çº¸æœ¯å‘æ˜ä¹‹å‰ï¼Œäººä»¬è¯´è¯è¿˜æ˜¯ç±»ä¼¼ç™½è¯æ–‡ï¼Œæ–‡å­—ä¹¦å†™è¦åˆ»åœ¨ é¾Ÿå£³ã€çŸ³ç¢‘ã€ç«¹ç®€ ç­‰ä¸Šï¼Œå¾ˆè´¹æ—¶é—´å’Œææ–™ï¼Œæ‰€ä»¥æƒœå¢¨å¦‚é‡‘ï¼Œä½¿å¾—å¤æ–‡éå¸¸ç®€æ´ã€‚ </p>
<p>ç±»æ¯”ä¿¡æ¯ç§‘å­¦ ï¼š</p>
<ul>
<li>é€šä¿¡æ—¶: å¦‚æœä¿¡é“è¾ƒå®½ï¼Œä¿¡æ¯ä¸å¿…å‹ç¼©ï¼Œå¯ç›´æ¥ä¼ é€’;    </li>
<li>é€šä¿¡æ—¶: å¦‚æœä¿¡é“è¾ƒçª„ï¼Œä¿¡æ¯åœ¨ä¼ é€’å‰éœ€è¦å°½å¯èƒ½å‹ç¼©ï¼Œç„¶ååœ¨æ¥æ”¶ç«¯è¿›è¡Œè§£å‹ç¼©ã€‚</li>
</ul>
<p><code>è¯è¯­</code> ï¼š æ˜¯æœ‰é™å’Œå°é—­çš„é›†åˆ (å…¶å®å¯è®¾ç½®å®Œå¤‡çš„ç¼–ç è§„åˆ™)<br><code>è¯­è¨€</code> ï¼š æ˜¯æ— é™å’Œå¼€æ”¾çš„é›†åˆ (ä¸å¯ä»¥è®¾ç½®å®Œå¤‡çš„ç¼–ç è§„åˆ™)</p>
<p>ä»»ä½•è¯­è¨€çš„éƒ½æœ‰è¯­æ³•è§„åˆ™è¦†ç›–ä¸åˆ°çš„åœ°æ–¹ï¼Œè¿™äº›ä¸ç²¾ç¡®æ€§ï¼Œä¹Ÿé€ å°±äº†è¯­è¨€çš„ä¸°å¯Œå¤šå½©ã€‚</p>
<h2 id="4-å°ç»“"><a href="#4-å°ç»“" class="headerlink" title="4. å°ç»“"></a>4. å°ç»“</h2><p>äº†è§£ æ–‡å­—ã€æ•°å­—ã€è¯­è¨€ çš„å†å²</p>
<ul>
<li>é€šä¿¡çš„åŸç†å’Œä¿¡æ¯ä¼ æ’­çš„æ¨¡å‹</li>
<li>(ä¿¡æº) ç¼–ç  å’Œ æœ€çŸ­ç¼–ç </li>
<li>è§£ç çš„è§„åˆ™ : è¯­æ³•</li>
<li>èšç±»çš„æ¦‚å¿µ</li>
<li>åŒè¯­å¯¹ç…§æ–‡æœ¬ï¼Œè¯­æ–™åº“ å’Œ æœºå™¨ç¿»è¯‘</li>
<li>å¤šä¹‰æ€§å’Œåˆ©ç”¨ä¸Šä¸‹æ–‡æ¶ˆé™¤æ­§ä¹‰æ€§</li>
</ul>
<h2 id="Reference"><a href="#Reference" class="headerlink" title="Reference"></a>Reference</h2><ul>
<li>ã€Šæ•°å­¦ä¹‹ç¾ã€‹ è¯»ä¹¦ç¬”è®° </li>
</ul>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[åšæ–‡çš„èµåŠ©æ–¹å¼]]></title>
      <url>http://iequa.com/2017/11/05/support-pay-blog/</url>
      <content type="html"><![CDATA[<p>ä½ çš„ä¸€ç‚¹æ¿€åŠ±ï¼Œå¯ä»¥é¼“åŠ±ä½œè€…å†™å‡ºæ›´å¤šçš„å¥½æ–‡ç« ï¼Œè®©æ›´å¤šçš„äººå–œæ¬¢ï¼Œä»ä¸­å—ç›Šï¼Œæ„å»ºä¸€ä¸ªè‰¯æ€§çš„å¾ªç¯.</p>
<a id="more"></a>
<hr>
<p>æœ‰å¾ˆå¤šäººå»ºè®®æˆ‘åœ¨åšæ–‡é‡ŒåŠ ä¸Šä»˜æ¬¾æ–¹å¼ï¼Œè¿™æ ·æˆ‘èŠ±è´¹çš„æ—¶é—´å¯ä»¥å¾—åˆ°ä¸€äº›å›æŠ¥ã€‚æˆ‘ä¸€ç›´ä¸æ„¿æ„ä¸ºæ­¤æ”¶è´¹ï¼Œç„¶è€Œåæ¥æˆ‘å‘ç°ï¼Œæ ¹æ®ç»æµå­¦çš„åŸç†ï¼Œè¿™æ˜¯æœ‰å®³ç¤¾ä¼šçš„ã€‚åŸç†æ˜¯è¿™æ ·ï¼Œæœ‰ä»·å€¼çš„äº‹ç‰©ï¼Œå°±åº”è¯¥åœ¨ç»æµä¸Šå—åˆ°ç›¸åº”çš„å›æŠ¥ï¼Œè¿™æ ·å¥½çš„ä¸œè¥¿æ‰èƒ½å‘æ‰¬å…‰å¤§ã€‚</p>
<p>æ‰€ä»¥æˆ‘å†³å®šç»™è§‰å¾—ä»·å€¼æ¯”è¾ƒå¤§çš„æ–‡ç« åŠ ä¸Šå¤§æ¦‚çš„ä»·æ ¼ï¼Œè¿™æ ·å–œæ¬¢æ–‡ç« çš„äººå¯ä»¥è‡ªæ„¿ä»˜è´¹è´­ä¹°ï¼Œå½“ç„¶ä¹Ÿå¯ä»¥ä¸ä»˜è´¹ã€‚ä¸è¿‡è¯·æ³¨æ„é¿å…ä¸€ä¸ªå¿ƒç†é—®é¢˜ï¼Œè¿™æ˜¯ç­‰ä»·çš„å•†å“äº¤æ˜“ï¼Œè€Œä¸æ˜¯åœ¨å‹Ÿæï¼Œæ‰€ä»¥è¯·ä¸è¦æ”¯ä»˜è¶…è¿‡æ ‡ç­¾ä»·æ ¼ã€‚</p>
<p>ä½ å¯ä»¥ä½¿ç”¨ä»¥ä¸‹æ–¹å¼ä»˜æ¬¾ï¼š</p>
<ol>
<li><p>æ”¯ä»˜å®ï¼š</p>
<div class="tweetimg"><br><img src="/images/life/pay-10.png" width="300" height="800" img=""></div>
</li>
<li><p>PayPal: è¯·ç‚¹å‡»<a href="https://www.paypal.com" target="_blank" rel="external">ä»˜æ¬¾é“¾æ¥</a></p>
</li>
</ol>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[python ç»“æ„åŒ–æ‚¨çš„å·¥ç¨‹ (not finish)]]></title>
      <url>http://iequa.com/2017/11/04/py-language-structure-project/</url>
      <content type="html"><![CDATA[<p>å¦‚ä½•åˆ©ç”¨Pythonçš„ç‰¹æ€§æ¥åˆ›é€ ç®€æ´ã€é«˜æ•ˆçš„ä»£ç ã€‚ â€œ<strong>ç»“æ„åŒ–</strong>â€ æ„å‘³ç€é€šè¿‡ç¼–å†™ç®€æ´çš„ä»£ç ï¼Œä½¿é€»è¾‘å’Œä¾èµ–æ¸…æ™°.</p>
<a id="more"></a>
<h2 id="ä»“åº“çš„ç»“æ„"><a href="#ä»“åº“çš„ç»“æ„" class="headerlink" title="ä»“åº“çš„ç»“æ„"></a>ä»“åº“çš„ç»“æ„</h2><p>åœ¨ä¸€ä¸ªå¥åº·çš„å¼€å‘å‘¨æœŸä¸­ï¼Œä»£ç é£æ ¼ï¼ŒAPIè®¾è®¡å’Œè‡ªåŠ¨åŒ–æ˜¯éå¸¸å…³é”®çš„ã€‚åŒæ ·çš„ï¼Œå¯¹äºå·¥ç¨‹çš„ æ¶æ„ ,ä»“åº“çš„ç»“æ„ä¹Ÿæ˜¯å…³é”®çš„ä¸€éƒ¨åˆ†ã€‚</p>
<p>å½“ä¸€ä¸ªæ½œåœ¨çš„ç”¨æˆ·å’Œè´¡çŒ®è€…ç™»å½•åˆ°æ‚¨çš„ä»“åº“é¡µé¢æ—¶ï¼Œä»–ä»¬ä¼šçœ‹åˆ°è¿™äº›:</p>
<ul>
<li>å·¥ç¨‹çš„åå­—</li>
<li>å·¥ç¨‹çš„æè¿°</li>
<li>ä¸€ç³»åˆ—çš„æ–‡ä»¶</li>
</ul>
<blockquote>
<p>æ‹¥æœ‰è‰¯å¥½çš„å¸ƒå±€ï¼Œäº‹åŠåŠŸå€ã€‚</p>
</blockquote>
<h2 id="ä»“åº“æ ·ä¾‹"><a href="#ä»“åº“æ ·ä¾‹" class="headerlink" title="ä»“åº“æ ·ä¾‹"></a>ä»“åº“æ ·ä¾‹</h2><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">README.rst</span><br><span class="line">LICENSE</span><br><span class="line">setup.py</span><br><span class="line">requirements.txt</span><br><span class="line">sample/__init__.py</span><br><span class="line">sample/core.py</span><br><span class="line">sample/helpers.py</span><br><span class="line">docs/conf.py</span><br><span class="line">docs/index.rst</span><br><span class="line">tests/<span class="built_in">test</span>_basic.py</span><br><span class="line">tests/<span class="built_in">test</span>_advanced.py</span><br></pre></td></tr></table></figure>
<h2 id="License"><a href="#License" class="headerlink" title="License"></a>License</h2><p>é™¤äº†æºä»£ç æœ¬èº«ä»¥å¤–ï¼Œè¿™ä¸ªæ¯«æ— ç–‘é—®æ˜¯æ‚¨ä»“åº“æœ€é‡è¦çš„ä¸€éƒ¨åˆ†ã€‚åœ¨è¿™ä¸ªæ–‡ä»¶ä¸­è¦æœ‰å®Œæ•´çš„è®¸å¯è¯´æ˜å’Œæˆæƒã€‚</p>
<p>å¦‚æœæ‚¨ä¸å¤ªæ¸…æ¥šæ‚¨åº”è¯¥ä½¿ç”¨å“ªç§è®¸å¯æ–¹å¼ï¼Œè¯·æŸ¥çœ‹ choosealicense.com.</p>
<h2 id="Setup-py"><a href="#Setup-py" class="headerlink" title="Setup.py"></a>Setup.py</h2><h2 id="Reference"><a href="#Reference" class="headerlink" title="Reference"></a>Reference</h2><ul>
<li><a href="http://pythonguidecn.readthedocs.io/zh/latest/writing/structure.html" target="_blank" rel="external">ç»“æ„åŒ–ä½ çš„å·¥ç¨‹</a></li>
</ul>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[Taking care of your pet DOG!]]></title>
      <url>http://iequa.com/2017/11/02/engvid-Taking-care-of-your-pet/</url>
      <content type="html"><![CDATA[<p>Do you have a dog? Do you want a dog?<br><a id="more"></a><br>Here in North America, we have specific rules, laws, and cultural customs that every dog owner must know. And if youâ€™re not a dog owner, you need to know this stuff, too, because youâ€™ll be around a lot of dogs here! In this video, Iâ€™ll teach you English vocabulary for the dog-related people youâ€™ll meet: breeders, vets, and groomers; as well as the doggie things you must have, such as a leash, dish, and treats. The best part? Dog owners love to talk about dogs. So you can practice your English by talking to other dog owners. Want more? Check out my friend Emmaâ€™s video about pets and animals here!</p>
<div class="video-container"><iframe src="//www.youtube.com/embed/CgGicK1q1eg" frameborder="0" allowfullscreen></iframe></div>
<blockquote>
<p>&amp;t=171s</p>
</blockquote>
<p>Ruff. Hi. Iâ€™m Ronnie. Iâ€™m not a dog, but I have a dog, and I like dogs. Not: I like dog. I donâ€™t want to eat a dog. No, actually I would eat a dog if you gave it to me. If you barbequed it, Iâ€™d eat it. But, oh, weâ€™re not talking about eating dogs. Weâ€™re going to talk about how to actually not eat your dog, how to care for your dog. In English and in our society we call our dog our best friends, although it really has no choice. Even if your dog doesnâ€™t like you, it has to hang out with you a lot because you have to care for your dog. So, Iâ€™m going to teach you English vocabulary, English verbs for caring for your dog. Hopefully you can learn some stuff. You probably know it in your language, but now youâ€™re going to learn English with me because thatâ€™s what I do.</p>
<p>So, the first thing that we should talk about is someone called a â€œbreederâ€. Okay? A breeder is a person who breeds dogs. So, Iâ€™ve written the word â€œbreedsâ€ here as a verb. Now, to breed a dog means that you get the boy dog whoâ€™s called a stud and you get the girl dog whoâ€™s called a bitch, and you make them have sex. I donâ€™t know how they do this, maybe they give them some doggy wine, play some nice doggy music, but anyways, the boy dog and the girl dog have dog sex, doggy style - and they have puppies. Woo-hoo. So the breeder is the person who cares for the dogs and makes more dogs. Theyâ€™re magical.</p>
<p>It is a really, really bad idea, almost illegal in Canada to buy a dog from the â€œpet shopâ€. We have really tried to cut down on dogs who are for sale in pet shops. Just the treatment of the dogs, thereâ€™s been a lot of controversy. Also, you can find a dog on the internet, you can go to Kijiji or you can go to many websites where you can buy a dog. Thereâ€™s also dog rescue sites where maybe a dog doesnâ€™t have a house, a dog is homeless, and you can rescue the dog and make him yourâ€¦ Or her your best friend. So thereâ€™s many options. I do not recommend the pet shop option, but make sure that your dog is going to beâ€¦ Youâ€™re going to be able to take care of a dog before you get one.</p>
<p>So, the place where the dogs or the puppies live and where they have all their doggy sex is called a â€œkennelâ€. So the kennel is the place, and the breeder is the person. You can use both of these words interchangeably, but a breeder is always a person. Itâ€™s important that you go and look at the kennel when youâ€™re buying a dog to make sure that itâ€™s clean and the dogs are well taken care of. Thereâ€™s some terrible-looking kennels I imagine.</p>
<p>The next person that youâ€™re not going to want to go to and your dog is going to hate more than the mailman is the â€œveterinarianâ€. Now, in English we donâ€™t need to bother saying: â€œVeterinarianâ€, which is an animal doctor. What we need to say is: â€œVetâ€. So youâ€™re going to say: â€œUh-oh, I have to take my dog to the vetâ€, because maybe your dog is sick. Vets in Canada and probably around the world, America as well, are very, very expensive. So we donâ€™t want our dogs to be sick because it costs us a lot of money.</p>
<p>But there is one thing that people or breeders really encourage you to do if you have gotten a puppy and youâ€™re not going to breed the dog, youâ€™re not going to haveâ€¦ Make more baby dogs with this. Thatâ€™s a whole other business. So, for this youâ€™re going to do what we call â€œget your dog fixedâ€. Your dog is not broken, donâ€™t worry, itâ€™s not a toy. So: â€œGet your dog fixedâ€, youâ€™re going to go to the vet, youâ€™re going to go to the animal doctor and whatâ€™s happenedâ€¦ Whatâ€™s going to happen is youâ€™re going to get your animal neutered. â€œNeuteredâ€ meansâ€¦ We have two different meaningâ€¦ Two different words we use for this. For the boys or for the studs, neutered means â€œcastratedâ€. Oh, gentlemen, gentlemen, this means theyâ€™re going to remove the dogâ€™s testicles so the dog cannot produce sperm to have little puppies. Donâ€™t worry, Iâ€™m sure the dog doesnâ€™t feel anything, and when he wakes up he is very happy because he has less balls to lick. So, â€œcastratedâ€ is only for boys and they remove the testicles. The word that we use for women, or sorry, girls or bitches, mm-hmm, is â€œspayedâ€.</p>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[Knowledge Graph Brief]]></title>
      <url>http://iequa.com/2017/10/30/nlp-kg/</url>
      <content type="html"><![CDATA[<p>Google åœ¨12å¹´çš„æ—¶å€™ï¼Œæå‡ºäº†â€œçŸ¥è¯†å›¾è°±â€çš„æ¦‚å¿µï¼ŒGoogle ä¸»è¦ç”¨å®ƒæ¥æ„å»ºä¸‹ä¸€ä»£çš„æœç´¢å¼•æ“.</p>
<a id="more"></a>
<p>Google æå‡ºçŸ¥è¯†å›¾è°±çš„æ—¶å€™ï¼Œç”¨äº†è¿™ä¹ˆä¸€ä¸ªçŸ­å¥ï¼š</p>
<p>Things, not strings!</p>
<p>ä¹Ÿå°±æ˜¯è¯´ï¼Œåœ¨äº’è”ç½‘ä¸­å®ƒä¸æ˜¯ä¸€ä¸ªä¸ªå­—ç¬¦ä¸²ï¼Œè€Œæ˜¯ä¸€ä¸ªä¸ªçœŸå®å­˜åœ¨çš„äº‹ç‰©ï¼Œäº‹ç‰©ä¹‹é—´è¿˜æœ‰ç›¸åº”çš„å…³è”å…³ç³»</p>
<p>æœç´¢å¼•æ“çš„ä¸‰ä¸ªä¸»è¦åŠŸèƒ½å°†éœ€è¦æ”¹è¿›ï¼Œæœç´¢å°†éœ€è¦ï¼š1.ç­”æ¡ˆï¼Œ2.å¯¹è¯ï¼Œ3.é¢„æµ‹ã€‚</p>
<ul>
<li>ç¬¬ä¸€æœŸw1ï¼šçŸ¥è¯†æå–</li>
<li>ç¬¬ä¸€æœŸw2ï¼šçŸ¥è¯†è¡¨ç¤º</li>
<li>ç¬¬ä¸€æœŸw3ï¼šçŸ¥è¯†å­˜å‚¨</li>
<li>ç¬¬ä¸€æœŸw4ï¼šçŸ¥è¯†æ£€ç´¢</li>
</ul>
<h2 id="1-Knowledge-Graph"><a href="#1-Knowledge-Graph" class="headerlink" title="1. Knowledge Graph"></a>1. Knowledge Graph</h2><ol>
<li>è‡ªåŠ¨æ‘˜è¦</li>
<li>æŒ‡ä»£æ¶ˆè§£   </li>
</ol>
<h2 id="Reference"><a href="#Reference" class="headerlink" title="Reference"></a>Reference</h2><ul>
<li><a href="https://www.zhihu.com/question/52368821" target="_blank" rel="external">çŸ¥è¯†å›¾è°±æ€æ ·å…¥é—¨ï¼Ÿ</a></li>
<li><a href="http://blog.memect.cn/wp-content/uploads/2016/09/2016-09-19_ccks.pdf" target="_blank" rel="external">ç²¾ç›ŠçŸ¥è¯†å›¾è°±æ–¹æ³•è®º</a></li>
<li><a href="http://zhishi.me/" target="_blank" rel="external">Chinese Linking Open Data</a></li>
</ul>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[Guitar åŸºæœ¬ä¹ç†]]></title>
      <url>http://iequa.com/2017/10/28/life-music-guitar3/</url>
      <content type="html"><![CDATA[<p>éŸ³ä¹åˆ†ä¸º å™ªéŸ³ ä¸ ä¹éŸ³</p>
<a id="more"></a>
<h2 id="1-å…¥é—¨"><a href="#1-å…¥é—¨" class="headerlink" title="1. å…¥é—¨"></a>1. å…¥é—¨</h2><table>
<thead>
<tr>
<th></th>
<th>1</th>
<th>2</th>
<th>3</th>
<th>4</th>
<th>5</th>
<th>6</th>
<th>7</th>
<th>i</th>
</tr>
</thead>
<tbody>
<tr>
<td>éŸ³å</td>
<td>c</td>
<td>d</td>
<td>e</td>
<td>f</td>
<td>g</td>
<td>a</td>
<td>b</td>
<td>c1</td>
</tr>
<tr>
<td>å”±å</td>
<td>Do</td>
<td>Re</td>
<td>Mi</td>
<td>Fa</td>
<td>Sol</td>
<td>La</td>
<td>Si</td>
<td>Do</td>
</tr>
</tbody>
</table>
<h2 id="2-å’Œå¼¦"><a href="#2-å’Œå¼¦" class="headerlink" title="2. å’Œå¼¦"></a>2. å’Œå¼¦</h2><blockquote>
<p>å’Œå¼¦: å‡ ä¸ªç›¸äº’å’Œè°èæ´½çš„éŸ³æ”¾åœ¨ä¸€èµ·ç»„æˆçš„ä¸€ç»„éŸ³</p>
</blockquote>
<p>æˆ‘ä»¬äººæ‰€å¬åˆ°çš„å£°éŸ³ï¼Œç©¶å…¶ç‰©ç†å®è´¨ï¼Œæ˜¯å› ä¸ºç©ºæ°”æŒ¯åŠ¨è€Œå½¢æˆçš„ï¼ŒæŒ¯åŠ¨é¢‘ç‡è¶Šé«˜ï¼ŒéŸ³å°±è¶Šé«˜ã€‚æœ‰æ—¶å€™ï¼ŒæŸä¸€æŒ¯åŠ¨é¢‘ç‡çš„éŸ³å’Œå¦å¤–ä¸€æŒ¯åŠ¨é¢‘ç‡çš„éŸ³åœ¨ä¸€èµ·çš„æ—¶å€™ï¼Œæˆ‘ä»¬äººçš„è€³æœµå¬èµ·æ¥å°±æ„Ÿè§‰éå¸¸èˆ’æœï¼Œè¿™æ˜¯å› ä¸ºåœ¨ç‰©ç†åŸç†ä¸Šï¼Œåœ¨å£°å­¦åŸç†ä¸Šï¼Œä¸¤ç§é¢‘ç‡äº§ç”Ÿäº†è°æŒ¯ï¼Œå› æ­¤å½¼æ­¤ç›¸äº’æ”¯æŒã€ç›¸äº’åŠ å¼ºã€ç›¸äº’æ˜ è¡¬äº†ï¼›è€Œæœ‰æ—¶å€™ï¼Œå½“ä¸¤ä¸ªä¸åŒæŒ¯åŠ¨é¢‘ç‡çš„éŸ³åœ¨ä¸€èµ·çš„æ—¶å€™ï¼Œäººä»¬å¬èµ·æ¥å°±è§‰å¾—éå¸¸åˆºè€³ã€éå¸¸ä¸èˆ’æœï¼Œè¿™æ˜¯å› ä¸ºä¸¤ç§é¢‘ç‡ç›¸äº’èƒŒé“è€Œå¼›ã€ç›¸äº’å¯¹æŠ—ç›¸äº’æ‹†å°äº†ã€‚</p>
<table>
<thead>
<tr>
<th>éŸ³åç»„åˆ</th>
<th>å”±å</th>
<th>å’Œå¼¦</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>Cã€Eã€G</strong></td>
<td>1ã€3ã€5</td>
<td><strong>Cå’Œå¼¦</strong></td>
</tr>
<tr>
<td><strong>Dã€Fã€A</strong></td>
<td>2ã€4ã€6</td>
<td><strong>Då’Œå¼¦</strong></td>
</tr>
<tr>
<td><strong>Eã€Gã€B</strong></td>
<td>3ã€5ã€7</td>
<td><strong>Eå’Œå¼¦</strong></td>
</tr>
<tr>
<td><strong>Fã€Aã€C1</strong></td>
<td>ä¸­éŸ³çš„4ã€6 å’Œ é«˜éŸ³çš„1ç»„åˆèµ·æ¥</td>
<td><strong>Få’Œå¼¦</strong></td>
</tr>
<tr>
<td><strong>Gã€Bã€D1</strong></td>
<td>ä¸­éŸ³çš„5ã€7å’Œé«˜éŸ³çš„2ç»„åˆèµ·æ¥ã€‚æ ¹éŸ³5</td>
<td><strong>Gå’Œå¼¦</strong></td>
</tr>
<tr>
<td><strong>Aã€C1ã€E1</strong></td>
<td>ä¸­éŸ³çš„6å’Œé«˜éŸ³çš„1ã€3ç»„åˆã€‚æ ¹éŸ³6</td>
<td><strong>Aå’Œå¼¦</strong></td>
</tr>
<tr>
<td><strong>Bã€D1ã€F1</strong></td>
<td>ä¸­éŸ³7å’Œé«˜éŸ³2ã€4ç»„åˆã€‚æ ¹éŸ³7</td>
<td><strong>Bå’Œå¼¦</strong></td>
</tr>
</tbody>
</table>
<h2 id="3-éŸ³åŠéŸ³é«˜"><a href="#3-éŸ³åŠéŸ³é«˜" class="headerlink" title="3. éŸ³åŠéŸ³é«˜"></a>3. éŸ³åŠéŸ³é«˜</h2><h2 id="Reference"><a href="#Reference" class="headerlink" title="Reference"></a>Reference</h2><p><a href="https://www.douban.com/group/topic/10727953/" target="_blank" rel="external">Douban Guitar</a></p>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[Linux Search Cmd]]></title>
      <url>http://iequa.com/2017/10/24/ops-linux-cmd-file-search/</url>
      <content type="html"><![CDATA[<p>whichï¼Œwhereisï¼Œlocateï¼Œfindï¼Œfind execï¼Œfind xargsï¼Œfindâ€¦</p>
<a id="more"></a>
<p>which   æŸ¥çœ‹å¯æ‰§è¡Œæ–‡ä»¶çš„ä½ç½®ã€‚<br>whereis æŸ¥çœ‹æ–‡ä»¶çš„ä½ç½®ã€‚<br>locate  é…åˆæ•°æ®åº“æŸ¥çœ‹æ–‡ä»¶ä½ç½®ã€‚<br>find    å®é™…æœå¯»ç¡¬ç›˜æŸ¥è¯¢æ–‡ä»¶åç§°ã€‚  </p>
<h2 id="1-which"><a href="#1-which" class="headerlink" title="1. which"></a>1. which</h2><p>whichå‘½ä»¤çš„ä½œç”¨æ˜¯ï¼Œåœ¨PATHå˜é‡æŒ‡å®šçš„è·¯å¾„ä¸­ï¼Œæœç´¢æŸä¸ªç³»ç»Ÿå‘½ä»¤çš„ä½ç½®ï¼Œå¹¶ä¸”è¿”å›ç¬¬ä¸€ä¸ªæœç´¢ç»“æœã€‚</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">[root@localhost ~]<span class="comment"># which pwd</span></span><br><span class="line">/bin/<span class="built_in">pwd</span></span><br><span class="line">[root@localhost ~]<span class="comment">#  which adduser</span></span><br><span class="line">/usr/sbin/adduser</span><br><span class="line">[root@localhost ~]<span class="comment">#</span></span><br></pre></td></tr></table></figure>
<p>cd æ˜¯bash å†…å»ºçš„å‘½ä»¤ï¼</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">âœ <span class="built_in">which</span> <span class="built_in">cd</span></span><br><span class="line"><span class="built_in">cd</span>: shell built-in <span class="built_in">command</span></span><br></pre></td></tr></table></figure>
<blockquote>
<p>which é»˜è®¤æ˜¯æ‰¾ PATH å†…æ‰€è§„èŒƒçš„ç›®å½•ï¼Œæ‰€ä»¥å½“ç„¶ä¸€å®šæ‰¾ä¸åˆ°çš„ï¼</p>
</blockquote>
<h2 id="2-whereis"><a href="#2-whereis" class="headerlink" title="2. whereis"></a>2. whereis</h2><p>whereiså‘½ä»¤åªèƒ½ç”¨äºç¨‹åºåçš„æœç´¢ï¼Œè€Œä¸”åªæœç´¢äºŒè¿›åˆ¶æ–‡ä»¶ï¼ˆå‚æ•°-bï¼‰ã€manè¯´æ˜æ–‡ä»¶ï¼ˆå‚æ•°-mï¼‰å’Œæºä»£ç æ–‡ä»¶ï¼ˆå‚æ•°-sï¼‰ã€‚å¦‚æœçœç•¥å‚æ•°ï¼Œåˆ™è¿”å›æ‰€æœ‰ä¿¡æ¯ã€‚</p>
<p>å’Œfindç›¸æ¯”ï¼ŒwhereisæŸ¥æ‰¾çš„é€Ÿåº¦éå¸¸å¿«ï¼Œè¿™æ˜¯å› ä¸ºlinuxç³»ç»Ÿä¼šå°† ç³»ç»Ÿå†…çš„æ‰€æœ‰æ–‡ä»¶éƒ½è®°å½•åœ¨ä¸€ä¸ªæ•°æ®åº“æ–‡ä»¶ä¸­ï¼Œå½“ä½¿ç”¨whereiså’Œä¸‹é¢å³å°†ä»‹ç»çš„locateæ—¶ï¼Œä¼šä»æ•°æ®åº“ä¸­æŸ¥æ‰¾æ•°æ®ï¼Œè€Œä¸æ˜¯åƒfindå‘½ä»¤é‚£æ ·ï¼Œé€š è¿‡éå†ç¡¬ç›˜æ¥æŸ¥æ‰¾ï¼Œæ•ˆç‡è‡ªç„¶ä¼šå¾ˆé«˜ã€‚ </p>
<p>ä½†æ˜¯è¯¥æ•°æ®åº“æ–‡ä»¶å¹¶ä¸æ˜¯å®æ—¶æ›´æ–°ï¼Œé»˜è®¤æƒ…å†µä¸‹æ—¶ä¸€æ˜ŸæœŸæ›´æ–°ä¸€æ¬¡ï¼Œå› æ­¤ï¼Œæˆ‘ä»¬åœ¨ç”¨whereiså’Œlocate æŸ¥æ‰¾æ–‡ä»¶æ—¶ï¼Œæœ‰æ—¶ä¼šæ‰¾åˆ°å·²ç»è¢«åˆ é™¤çš„æ•°æ®ï¼Œæˆ–è€…åˆšåˆšå»ºç«‹æ–‡ä»¶ï¼Œå´æ— æ³•æŸ¥æ‰¾åˆ°ï¼ŒåŸå› å°±æ˜¯å› ä¸ºæ•°æ®åº“æ–‡ä»¶æ²¡æœ‰è¢«æ›´æ–°ã€‚</p>
<h2 id="3-locate"><a href="#3-locate" class="headerlink" title="3. locate"></a>3. locate</h2><p>locateå‘½ä»¤å¯ä»¥åœ¨æœå¯»æ•°æ®åº“æ—¶å¿«é€Ÿæ‰¾åˆ°æ¡£æ¡ˆï¼Œæ•°æ®åº“ç”±updatedbç¨‹åºæ¥æ›´æ–°ï¼Œupdatedbæ˜¯ç”±cron daemonå‘¨æœŸæ€§å»ºç«‹çš„ï¼Œlocateå‘½ä»¤åœ¨æœå¯»æ•°æ®åº“æ—¶æ¯”ç”±æ•´ä¸ªç”±ç¡¬ç›˜èµ„æ–™æ¥æœå¯»èµ„æ–™æ¥å¾—å¿«ï¼Œä½†è¾ƒå·®åŠ²çš„æ˜¯locateæ‰€æ‰¾åˆ°çš„æ¡£æ¡ˆè‹¥æ˜¯æœ€è¿‘æ‰å»ºç«‹æˆ– åˆšæ›´åçš„ï¼Œå¯èƒ½ä¼šæ‰¾ä¸åˆ°ï¼Œåœ¨å†…å®šå€¼ä¸­ï¼Œupdatedbæ¯å¤©ä¼šè·‘ä¸€æ¬¡ï¼Œå¯ä»¥ç”±ä¿®æ”¹crontabæ¥æ›´æ–°è®¾å®šå€¼ã€‚(etc/crontab)</p>
<p>locateæŒ‡å®šç”¨åœ¨æœå¯»ç¬¦åˆæ¡ä»¶çš„æ¡£æ¡ˆï¼Œå®ƒä¼šå»å‚¨å­˜æ¡£æ¡ˆä¸ç›®å½•åç§°çš„æ•°æ®åº“å†…ï¼Œå¯»æ‰¾åˆä¹èŒƒæœ¬æ ·å¼æ¡ä»¶çš„æ¡£æ¡ˆæˆ–ç›®å½•å½•ï¼Œå¯ä»¥ä½¿ç”¨ç‰¹æ®Šå­—å…ƒï¼ˆå¦‚â€<em>â€ æˆ–â€?â€ç­‰ï¼‰æ¥æŒ‡å®šèŒƒæœ¬æ ·å¼ï¼Œå¦‚æŒ‡å®šèŒƒæœ¬ä¸ºkcpa</em>ner, locateä¼šæ‰¾å‡ºæ‰€æœ‰èµ·å§‹å­—ä¸²ä¸ºkcpaä¸”ç»“å°¾ä¸ºnerçš„æ¡£æ¡ˆæˆ–ç›®å½•ï¼Œå¦‚åç§°ä¸ºkcpartnerè‹¥ç›®å½•å½•åç§°ä¸ºkcpa_neråˆ™ä¼šåˆ—å‡ºè¯¥ç›®å½•ä¸‹åŒ…æ‹¬ å­ç›®å½•åœ¨å†…çš„æ‰€æœ‰æ¡£æ¡ˆã€‚</p>
<p>locateæŒ‡ä»¤å’Œfindæ‰¾å¯»æ¡£æ¡ˆçš„åŠŸèƒ½ç±»ä¼¼ï¼Œä½†locateæ˜¯é€è¿‡updateç¨‹åºå°†ç¡¬ç›˜ä¸­çš„æ‰€æœ‰æ¡£æ¡ˆå’Œç›®å½•èµ„æ–™å…ˆå»ºç«‹ä¸€ä¸ªç´¢å¼•æ•°æ®åº“ï¼Œåœ¨ æ‰§è¡Œloacteæ—¶ç›´æ¥æ‰¾è¯¥ç´¢å¼•ï¼ŒæŸ¥è¯¢é€Ÿåº¦ä¼šè¾ƒå¿«ï¼Œç´¢å¼•æ•°æ®åº“ä¸€èˆ¬æ˜¯ç”±æ“ä½œç³»ç»Ÿç®¡ç†ï¼Œä½†ä¹Ÿå¯ä»¥ç›´æ¥ä¸‹è¾¾updateå¼ºè¿«ç³»ç»Ÿç«‹å³ä¿®æ”¹ç´¢å¼•æ•°æ®åº“ã€‚</p>
<blockquote>
<p>mac é»˜è®¤æ²¡å¯åŠ¨ locate</p>
</blockquote>
<h2 id="4-find"><a href="#4-find" class="headerlink" title="4. find"></a>4. find</h2><h3 id="4-1-æŸ¥æ‰¾æŒ‡å®šæ—¶é—´å†…ä¿®æ”¹è¿‡çš„æ–‡ä»¶"><a href="#4-1-æŸ¥æ‰¾æŒ‡å®šæ—¶é—´å†…ä¿®æ”¹è¿‡çš„æ–‡ä»¶" class="headerlink" title="4.1 æŸ¥æ‰¾æŒ‡å®šæ—¶é—´å†…ä¿®æ”¹è¿‡çš„æ–‡ä»¶"></a>4.1 æŸ¥æ‰¾æŒ‡å®šæ—¶é—´å†…ä¿®æ”¹è¿‡çš„æ–‡ä»¶</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">[root@peidachang ~]<span class="comment"># find -atime -2</span></span><br><span class="line">.</span><br><span class="line">./logs/monitor</span><br><span class="line">./.bashrc</span><br><span class="line">./.bash_profile</span><br><span class="line">./.bash_<span class="built_in">history</span></span><br></pre></td></tr></table></figure>
<blockquote>
<p>è¯´æ˜ï¼šè¶…æ‰¾48å°æ—¶å†…ä¿®æ”¹è¿‡çš„æ–‡ä»¶ </p>
</blockquote>
<h3 id="4-2-æ ¹æ®å…³é”®å­—æŸ¥æ‰¾"><a href="#4-2-æ ¹æ®å…³é”®å­—æŸ¥æ‰¾" class="headerlink" title="4.2 æ ¹æ®å…³é”®å­—æŸ¥æ‰¾"></a>4.2 æ ¹æ®å…³é”®å­—æŸ¥æ‰¾</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">find . -name <span class="string">"*.log"</span></span><br></pre></td></tr></table></figure>
<h3 id="4-3-æŸ¥æ‰¾å½“å‰æ‰€æœ‰ç›®å½•å¹¶æ’åº"><a href="#4-3-æŸ¥æ‰¾å½“å‰æ‰€æœ‰ç›®å½•å¹¶æ’åº" class="headerlink" title="4.3 æŸ¥æ‰¾å½“å‰æ‰€æœ‰ç›®å½•å¹¶æ’åº"></a>4.3 æŸ¥æ‰¾å½“å‰æ‰€æœ‰ç›®å½•å¹¶æ’åº</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">find . -type d | sort</span><br></pre></td></tr></table></figure>
<h3 id="4-4-æŒ‰ç±»å‹æŸ¥æ‰¾"><a href="#4-4-æŒ‰ç±»å‹æŸ¥æ‰¾" class="headerlink" title="4.4 æŒ‰ç±»å‹æŸ¥æ‰¾"></a>4.4 æŒ‰ç±»å‹æŸ¥æ‰¾</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">find . -type f -name <span class="string">"*.log"</span></span><br></pre></td></tr></table></figure>
<h3 id="4-5-æŸ¥æ‰¾å½“å‰æ‰€æœ‰ç›®å½•å¹¶æ’åº"><a href="#4-5-æŸ¥æ‰¾å½“å‰æ‰€æœ‰ç›®å½•å¹¶æ’åº" class="headerlink" title="4.5 æŸ¥æ‰¾å½“å‰æ‰€æœ‰ç›®å½•å¹¶æ’åº"></a>4.5 æŸ¥æ‰¾å½“å‰æ‰€æœ‰ç›®å½•å¹¶æ’åº</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">find . -type d | sort</span><br></pre></td></tr></table></figure>
<h3 id="4-6-æŒ‰å¤§å°æŸ¥æ‰¾æ–‡ä»¶"><a href="#4-6-æŒ‰å¤§å°æŸ¥æ‰¾æ–‡ä»¶" class="headerlink" title="4.6 æŒ‰å¤§å°æŸ¥æ‰¾æ–‡ä»¶"></a>4.6 æŒ‰å¤§å°æŸ¥æ‰¾æ–‡ä»¶</h3><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">find . -size +1000c -print</span><br></pre></td></tr></table></figure>
<h2 id="5-findå‘½ä»¤ä¹‹exec"><a href="#5-findå‘½ä»¤ä¹‹exec" class="headerlink" title="5. findå‘½ä»¤ä¹‹exec"></a>5. findå‘½ä»¤ä¹‹exec</h2><p>findæ˜¯æˆ‘ä»¬å¾ˆå¸¸ç”¨çš„ä¸€ä¸ªLinuxå‘½ä»¤ï¼Œä½†æ˜¯æˆ‘ä»¬ä¸€èˆ¬æŸ¥æ‰¾å‡ºæ¥çš„å¹¶ä¸ä»…ä»…æ˜¯çœ‹çœ‹è€Œå·²ï¼Œè¿˜ä¼šæœ‰è¿›ä¸€æ­¥çš„æ“ä½œï¼Œè¿™ä¸ªæ—¶å€™execçš„ä½œç”¨å°±æ˜¾ç°å‡ºæ¥äº†ã€‚ </p>
<p><strong>execè§£é‡Šï¼š</strong></p>
<p>-exec  å‚æ•°åé¢è·Ÿçš„æ˜¯commandå‘½ä»¤ï¼Œå®ƒçš„ç»ˆæ­¢æ˜¯ä»¥;ä¸ºç»“æŸæ ‡å¿—çš„ï¼Œæ‰€ä»¥è¿™å¥å‘½ä»¤åé¢çš„åˆ†å·æ˜¯ä¸å¯ç¼ºå°‘çš„ï¼Œè€ƒè™‘åˆ°å„ä¸ªç³»ç»Ÿä¸­åˆ†å·ä¼šæœ‰ä¸åŒçš„æ„ä¹‰ï¼Œæ‰€ä»¥å‰é¢åŠ åæ–œæ ã€‚  </p>
<p>{}   èŠ±æ‹¬å·ä»£è¡¨å‰é¢findæŸ¥æ‰¾å‡ºæ¥çš„æ–‡ä»¶åã€‚  </p>
<p>ä½¿ç”¨findæ—¶ï¼Œåªè¦æŠŠæƒ³è¦çš„æ“ä½œå†™åœ¨ä¸€ä¸ªæ–‡ä»¶é‡Œï¼Œå°±å¯ä»¥ç”¨execæ¥é…åˆfindæŸ¥æ‰¾ï¼Œå¾ˆæ–¹ä¾¿çš„ã€‚åœ¨æœ‰äº›æ“ä½œç³»ç»Ÿä¸­åªå…è®¸-execé€‰é¡¹æ‰§è¡Œè¯¸å¦‚l sæˆ–ls -lè¿™æ ·çš„å‘½ä»¤ã€‚å¤§å¤šæ•°ç”¨æˆ·ä½¿ç”¨è¿™ä¸€é€‰é¡¹æ˜¯ä¸ºäº†æŸ¥æ‰¾æ—§æ–‡ä»¶å¹¶åˆ é™¤å®ƒä»¬ã€‚å»ºè®®åœ¨çœŸæ­£æ‰§è¡Œrmå‘½ä»¤åˆ é™¤æ–‡ä»¶ä¹‹å‰ï¼Œæœ€å¥½å…ˆç”¨lså‘½ä»¤çœ‹ä¸€ä¸‹ï¼Œç¡®è®¤å®ƒä»¬æ˜¯æ‰€è¦åˆ é™¤çš„æ–‡ä»¶ã€‚ execé€‰é¡¹åé¢è·Ÿéšç€æ‰€è¦æ‰§è¡Œçš„å‘½ä»¤æˆ–è„šæœ¬ï¼Œç„¶åæ˜¯ä¸€å¯¹å„¿{ }ï¼Œä¸€ä¸ªç©ºæ ¼å’Œä¸€ä¸ª\ï¼Œæœ€åæ˜¯ä¸€ä¸ªåˆ†å·ã€‚ä¸ºäº†ä½¿ç”¨execé€‰é¡¹ï¼Œå¿…é¡»è¦åŒæ—¶ä½¿ç”¨printé€‰é¡¹ã€‚å¦‚æœéªŒè¯ä¸€ä¸‹findå‘½ä»¤ï¼Œä¼šå‘ç°è¯¥å‘½ä»¤åªè¾“å‡ºä»å½“å‰è·¯å¾„èµ·çš„ç›¸å¯¹è·¯å¾„åŠæ–‡ä»¶åã€‚</p>
<h3 id="5-1-ls-lå‘½ä»¤æ”¾findå‘½ä»¤çš„-exec"><a href="#5-1-ls-lå‘½ä»¤æ”¾findå‘½ä»¤çš„-exec" class="headerlink" title="5.1 ls -lå‘½ä»¤æ”¾findå‘½ä»¤çš„-exec"></a>5.1 ls -lå‘½ä»¤æ”¾findå‘½ä»¤çš„-exec</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># ~/ghome/github/test [15:45:03]</span></span><br><span class="line">âœ ll</span><br><span class="line">total 0</span><br><span class="line">-rw-r--r--  1 blair  staff     0B Oct 28 15:44 <span class="built_in">log</span>1</span><br><span class="line">-rw-r--r--  1 blair  staff     0B Oct 28 15:45 <span class="built_in">log</span>2</span><br><span class="line">-rw-r--r--  1 blair  staff     0B Oct 28 15:45 <span class="built_in">log</span>3</span><br><span class="line">-rw-r--r--  1 blair  staff     0B Oct 28 15:45 <span class="built_in">log</span>4</span><br><span class="line">(vpy2)</span><br><span class="line"><span class="comment"># ~/ghome/github/test [15:45:03]</span></span><br><span class="line">âœ find . -type f -exec ls <span class="_">-l</span> &#123;&#125; \;</span><br><span class="line">-rw-r--r--  1 blair  staff  0 Oct 28 15:45 ./<span class="built_in">log</span>4</span><br><span class="line">-rw-r--r--  1 blair  staff  0 Oct 28 15:45 ./<span class="built_in">log</span>3</span><br><span class="line">-rw-r--r--  1 blair  staff  0 Oct 28 15:45 ./<span class="built_in">log</span>2</span><br><span class="line">-rw-r--r--  1 blair  staff  0 Oct 28 15:44 ./<span class="built_in">log</span>1</span><br><span class="line">(vpy2)</span><br><span class="line"><span class="comment"># ~/ghome/github/test [15:45:04]</span></span><br><span class="line">âœ</span><br></pre></td></tr></table></figure>
<h3 id="5-2-æ›´æ”¹æ—¶é—´åœ¨næ—¥ä»¥å‰çš„æ–‡ä»¶å¹¶åˆ é™¤"><a href="#5-2-æ›´æ”¹æ—¶é—´åœ¨næ—¥ä»¥å‰çš„æ–‡ä»¶å¹¶åˆ é™¤" class="headerlink" title="5.2 æ›´æ”¹æ—¶é—´åœ¨næ—¥ä»¥å‰çš„æ–‡ä»¶å¹¶åˆ é™¤"></a>5.2 æ›´æ”¹æ—¶é—´åœ¨næ—¥ä»¥å‰çš„æ–‡ä»¶å¹¶åˆ é™¤</h3><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">find . -type f -mtime +14 -exec rm &#123;&#125; \;</span><br></pre></td></tr></table></figure>
<h3 id="5-3-æ›´æ”¹æ—¶é—´åœ¨næ—¥å‰æ–‡ä»¶å¹¶æç¤ºåˆ é™¤"><a href="#5-3-æ›´æ”¹æ—¶é—´åœ¨næ—¥å‰æ–‡ä»¶å¹¶æç¤ºåˆ é™¤" class="headerlink" title="5.3 æ›´æ”¹æ—¶é—´åœ¨næ—¥å‰æ–‡ä»¶å¹¶æç¤ºåˆ é™¤"></a>5.3 æ›´æ”¹æ—¶é—´åœ¨næ—¥å‰æ–‡ä»¶å¹¶æç¤ºåˆ é™¤</h3><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"># ~/ghome/github/test [15:47:35]</span><br><span class="line">âœ ll</span><br><span class="line">total 0</span><br><span class="line">-rw-r--r--  1 blair  staff     0B Oct 28 15:44 log1</span><br><span class="line">-rw-r--r--  1 blair  staff     0B Oct 28 15:45 log2</span><br><span class="line">-rw-r--r--  1 blair  staff     0B Oct 28 15:45 log3</span><br><span class="line">-rw-r--r--  1 blair  staff     0B Oct 28 15:45 log4</span><br><span class="line">(vpy2)</span><br><span class="line"># ~/ghome/github/test [15:47:38]</span><br><span class="line">âœ find . -name &quot;*log*&quot; -mtime -1 -ok rm &#123;&#125; \;</span><br><span class="line">&quot;rm ./log4&quot;?</span><br></pre></td></tr></table></figure>
<blockquote>
<p>åœ¨ç›®å½•ä¸­æŸ¥æ‰¾æ›´æ”¹æ—¶é—´åœ¨næ—¥ä»¥å‰çš„æ–‡ä»¶å¹¶åˆ é™¤å®ƒä»¬ï¼Œåœ¨åˆ é™¤ä¹‹å‰å…ˆç»™å‡ºæç¤º</p>
</blockquote>
<h3 id="5-4-execä¸­ä½¿ç”¨grepå‘½ä»¤"><a href="#5-4-execä¸­ä½¿ç”¨grepå‘½ä»¤" class="headerlink" title="5.4 -execä¸­ä½¿ç”¨grepå‘½ä»¤"></a>5.4 -execä¸­ä½¿ç”¨grepå‘½ä»¤</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">find /etc -name <span class="string">"passwd*"</span> -exec grep <span class="string">"root"</span> &#123;&#125; \;</span><br></pre></td></tr></table></figure>
<h3 id="5-5-æŸ¥æ‰¾æ–‡ä»¶ç§»åŠ¨åˆ°æŒ‡å®šç›®å½•"><a href="#5-5-æŸ¥æ‰¾æ–‡ä»¶ç§»åŠ¨åˆ°æŒ‡å®šç›®å½•" class="headerlink" title="5.5 æŸ¥æ‰¾æ–‡ä»¶ç§»åŠ¨åˆ°æŒ‡å®šç›®å½•"></a>5.5 æŸ¥æ‰¾æ–‡ä»¶ç§»åŠ¨åˆ°æŒ‡å®šç›®å½•</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">find . -name <span class="string">"*.log"</span> -exec mv &#123;&#125; .. \;</span><br></pre></td></tr></table></figure>
<h3 id="5-6-execé€‰é¡¹æ‰§è¡Œcpå‘½ä»¤"><a href="#5-6-execé€‰é¡¹æ‰§è¡Œcpå‘½ä»¤" class="headerlink" title="5.6 execé€‰é¡¹æ‰§è¡Œcpå‘½ä»¤"></a>5.6 execé€‰é¡¹æ‰§è¡Œcpå‘½ä»¤</h3><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">find . -name &quot;*.log&quot; -exec cp &#123;&#125; test3 \;</span><br></pre></td></tr></table></figure>
<h2 id="6-findå‘½ä»¤ä¹‹xargs"><a href="#6-findå‘½ä»¤ä¹‹xargs" class="headerlink" title="6. findå‘½ä»¤ä¹‹xargs"></a>6. findå‘½ä»¤ä¹‹xargs</h2><p>åœ¨ä½¿ç”¨ findå‘½ä»¤çš„-execé€‰é¡¹å¤„ç†åŒ¹é…åˆ°çš„æ–‡ä»¶æ—¶ï¼Œ findå‘½ä»¤å°†æ‰€æœ‰åŒ¹é…åˆ°çš„æ–‡ä»¶ä¸€èµ·ä¼ é€’ç»™execæ‰§è¡Œã€‚ä½†æœ‰äº›ç³»ç»Ÿå¯¹èƒ½å¤Ÿä¼ é€’ç»™execçš„å‘½ä»¤é•¿åº¦æœ‰é™åˆ¶ï¼Œè¿™æ ·åœ¨findå‘½ä»¤è¿è¡Œå‡ åˆ†é’Ÿä¹‹åï¼Œå°±ä¼šå‡ºç°æº¢å‡ºé”™è¯¯ã€‚é”™è¯¯ä¿¡æ¯é€šå¸¸æ˜¯â€œå‚æ•°åˆ—å¤ªé•¿â€æˆ–â€œå‚æ•°åˆ—æº¢å‡ºâ€ã€‚è¿™å°±æ˜¯xargså‘½ä»¤çš„ç”¨å¤„æ‰€åœ¨ï¼Œç‰¹åˆ«æ˜¯ä¸findå‘½ä»¤ä¸€èµ·ä½¿ç”¨ã€‚  </p>
<p>findå‘½ä»¤æŠŠåŒ¹é…åˆ°çš„æ–‡ä»¶ä¼ é€’ç»™xargså‘½ä»¤ï¼Œè€Œxargså‘½ä»¤æ¯æ¬¡åªè·å–ä¸€éƒ¨åˆ†æ–‡ä»¶è€Œä¸æ˜¯å…¨éƒ¨ï¼Œä¸åƒ-execé€‰é¡¹é‚£æ ·ã€‚è¿™æ ·å®ƒå¯ä»¥å…ˆå¤„ç†æœ€å…ˆè·å–çš„ä¸€éƒ¨åˆ†æ–‡ä»¶ï¼Œç„¶åæ˜¯ä¸‹ä¸€æ‰¹ï¼Œå¹¶å¦‚æ­¤ç»§ç»­ä¸‹å»ã€‚  </p>
<p>åœ¨æœ‰äº›ç³»ç»Ÿä¸­ï¼Œä½¿ç”¨-execé€‰é¡¹ä¼šä¸ºå¤„ç†æ¯ä¸€ä¸ªåŒ¹é…åˆ°çš„æ–‡ä»¶è€Œå‘èµ·ä¸€ä¸ªç›¸åº”çš„è¿›ç¨‹ï¼Œå¹¶éå°†åŒ¹é…åˆ°çš„æ–‡ä»¶å…¨éƒ¨ä½œä¸ºå‚æ•°ä¸€æ¬¡æ‰§è¡Œï¼›è¿™æ ·åœ¨æœ‰äº›æƒ…å†µä¸‹å°±ä¼šå‡ºç°è¿›ç¨‹è¿‡å¤šï¼Œç³»ç»Ÿæ€§èƒ½ä¸‹é™çš„é—®é¢˜ï¼Œå› è€Œæ•ˆç‡ä¸é«˜ï¼› è€Œä½¿ç”¨xargså‘½ä»¤åˆ™åªæœ‰ä¸€ä¸ªè¿›ç¨‹ã€‚å¦å¤–ï¼Œåœ¨ä½¿ç”¨xargså‘½ä»¤æ—¶ï¼Œç©¶ç«Ÿæ˜¯ä¸€æ¬¡è·å–æ‰€æœ‰çš„å‚æ•°ï¼Œè¿˜æ˜¯åˆ†æ‰¹å–å¾—å‚æ•°ï¼Œä»¥åŠæ¯ä¸€æ¬¡è·å–å‚æ•°çš„æ•°ç›®éƒ½ä¼šæ ¹æ®è¯¥å‘½ä»¤çš„é€‰é¡¹åŠç³»ç»Ÿå†…æ ¸ä¸­ç›¸åº”çš„å¯è°ƒå‚æ•°æ¥ç¡®å®šã€‚</p>
<h3 id="6-1-find-type-f-print-xargs-file"><a href="#6-1-find-type-f-print-xargs-file" class="headerlink" title="6.1 find . -type f -print | xargs file"></a>6.1 find . -type f -print | xargs file</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># ~/ghome/github/test [7:41:40]</span></span><br><span class="line">âœ find . -type f -print | xargs file</span><br><span class="line">./<span class="built_in">log</span>4: empty</span><br><span class="line">./<span class="built_in">log</span>3: empty</span><br><span class="line">./<span class="built_in">log</span>2: empty</span><br><span class="line">./<span class="built_in">log</span>1: ASCII text</span><br><span class="line">(vpy2)</span><br></pre></td></tr></table></figure>
<h3 id="6-2-ç”¨æˆ·å…·æœ‰è¯»ã€å†™å’Œæ‰§è¡Œæƒé™çš„æ–‡ä»¶ï¼Œå¹¶æ”¶å›ç›¸åº”çš„å†™æƒé™"><a href="#6-2-ç”¨æˆ·å…·æœ‰è¯»ã€å†™å’Œæ‰§è¡Œæƒé™çš„æ–‡ä»¶ï¼Œå¹¶æ”¶å›ç›¸åº”çš„å†™æƒé™" class="headerlink" title="6.2 ç”¨æˆ·å…·æœ‰è¯»ã€å†™å’Œæ‰§è¡Œæƒé™çš„æ–‡ä»¶ï¼Œå¹¶æ”¶å›ç›¸åº”çš„å†™æƒé™"></a>6.2 ç”¨æˆ·å…·æœ‰è¯»ã€å†™å’Œæ‰§è¡Œæƒé™çš„æ–‡ä»¶ï¼Œå¹¶æ”¶å›ç›¸åº”çš„å†™æƒé™</h3><p>find . -perm -7 -print | xargs chmod o-w</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># ~/ghome/github/test [7:44:26]</span></span><br><span class="line">âœ find . -perm -7 -print</span><br><span class="line">./<span class="built_in">log</span>3</span><br><span class="line">(vpy2)</span><br><span class="line"><span class="comment"># ~/ghome/github/test [7:44:27]</span></span><br><span class="line">âœ find . -perm -7 -print | xargs chmod o-w</span><br><span class="line">(vpy2)</span><br><span class="line"><span class="comment"># ~/ghome/github/test [7:44:49]</span></span><br><span class="line">âœ ll</span><br><span class="line">total 8</span><br><span class="line">-rw-r--r--  1 blair  staff    32B Oct 28 15:54 <span class="built_in">log</span>1</span><br><span class="line">-rw-r--r--  1 blair  staff     0B Oct 28 15:45 <span class="built_in">log</span>2</span><br><span class="line">-rwxrwxr-x  1 blair  staff     0B Oct 28 15:45 <span class="built_in">log</span>3</span><br><span class="line">-rw-r--r--  1 blair  staff     0B Oct 28 15:45 <span class="built_in">log</span>4</span><br><span class="line">(vpy2)</span><br><span class="line"><span class="comment"># ~/ghome/github/test [7:44:50]</span></span><br></pre></td></tr></table></figure>
<h3 id="6-3-grepå‘½ä»¤åœ¨æ‰€æœ‰çš„æ™®é€šæ–‡ä»¶ä¸­æœç´¢hostnameè¿™ä¸ªè¯"><a href="#6-3-grepå‘½ä»¤åœ¨æ‰€æœ‰çš„æ™®é€šæ–‡ä»¶ä¸­æœç´¢hostnameè¿™ä¸ªè¯" class="headerlink" title="6.3 grepå‘½ä»¤åœ¨æ‰€æœ‰çš„æ™®é€šæ–‡ä»¶ä¸­æœç´¢hostnameè¿™ä¸ªè¯"></a>6.3 grepå‘½ä»¤åœ¨æ‰€æœ‰çš„æ™®é€šæ–‡ä»¶ä¸­æœç´¢hostnameè¿™ä¸ªè¯</h3><p>find . -type f -print | xargs grep â€œhostnameâ€</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">[root@localhost <span class="built_in">test</span>]<span class="comment"># find . -type f -print | xargs grep "hostname"</span></span><br><span class="line">./<span class="built_in">log</span>2013.log:hostnamebaidu=baidu.com</span><br><span class="line">./<span class="built_in">log</span>2013.log:hostnamesina=sina.com</span><br><span class="line">./<span class="built_in">log</span>2013.log:hostnames=<span class="literal">true</span>[root@localhost <span class="built_in">test</span>]<span class="comment">#</span></span><br></pre></td></tr></table></figure>
<h3 id="6-4-ä½¿ç”¨xargsæ‰§è¡Œmv"><a href="#6-4-ä½¿ç”¨xargsæ‰§è¡Œmv" class="headerlink" title="6.4 ä½¿ç”¨xargsæ‰§è¡Œmv"></a>6.4 ä½¿ç”¨xargsæ‰§è¡Œmv</h3><p>find . -name â€œ*.logâ€ | xargs -i mv {} test4</p>
<blockquote>
<p>ä½¿ç”¨-iå‚æ•°é»˜è®¤çš„å‰é¢è¾“å‡ºç”¨{}ä»£æ›¿ï¼Œ-Iå‚æ•°å¯ä»¥æŒ‡å®šå…¶ä»–ä»£æ›¿å­—ç¬¦</p>
</blockquote>
<h3 id="6-5-xargsçš„-på‚æ•°çš„ä½¿ç”¨"><a href="#6-5-xargsçš„-på‚æ•°çš„ä½¿ç”¨" class="headerlink" title="6.5 xargsçš„-på‚æ•°çš„ä½¿ç”¨"></a>6.5 xargsçš„-på‚æ•°çš„ä½¿ç”¨</h3><p>find . -name â€œ*.logâ€ | xargs -p -i mv {} ..</p>
<blockquote>
<p>-på‚æ•°ä¼šæç¤ºè®©ä½ ç¡®è®¤æ˜¯å¦æ‰§è¡Œåé¢çš„å‘½ä»¤,yæ‰§è¡Œï¼Œnä¸æ‰§è¡Œã€‚</p>
</blockquote>
<h2 id="7-find-å‘½ä»¤çš„å‚æ•°è¯¦è§£"><a href="#7-find-å‘½ä»¤çš„å‚æ•°è¯¦è§£" class="headerlink" title="7. find å‘½ä»¤çš„å‚æ•°è¯¦è§£"></a>7. <a href="http://www.cnblogs.com/peida/archive/2012/11/16/2773289.html" target="_blank" rel="external">find å‘½ä»¤çš„å‚æ•°è¯¦è§£</a></h2><h2 id="Reference"><a href="#Reference" class="headerlink" title="Reference"></a>Reference</h2><ul>
<li><a href="http://www.cnblogs.com/peida/archive/2012/12/05/2803591.html" target="_blank" rel="external">æ¯å¤©ä¸€ä¸ªlinuxå‘½ä»¤ç›®å½•</a></li>
</ul>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[Linux File Basic Cmd]]></title>
      <url>http://iequa.com/2017/10/23/ops-linux-cmd-1-file-directory-operation/</url>
      <content type="html"><![CDATA[<p>ls, cd, pwd, mkdir, rm, rmdir, mv, cp, touch, cat, nl, more, less, head, tail</p>
<a id="more"></a>
<h2 id="1-ls"><a href="#1-ls" class="headerlink" title="1. ls"></a>1. ls</h2><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">ls -l -R /home/blair/ghome</span><br><span class="line">ls -ctrl s*</span><br></pre></td></tr></table></figure>
<p>åˆ—å‡º /opt/soft æ–‡ä»¶ä¸‹é¢çš„å­ç›®å½•</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">ls -F /opt/soft |grep /$</span><br></pre></td></tr></table></figure>
<p>ç›®å½•äºåç§°ååŠ â€/â€œ, å¯æ‰§è¡Œæ¡£äºåç§°ååŠ â€*â€ </p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">ls -AFl</span><br></pre></td></tr></table></figure>
<p>åˆ—å‡ºå½“å‰ç›®å½•ä¸‹çš„æ‰€æœ‰æ–‡ä»¶ï¼ˆåŒ…æ‹¬éšè—æ–‡ä»¶ï¼‰çš„ç»å¯¹è·¯å¾„ï¼Œ å¯¹ç›®å½•ä¸åšé€’å½’</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">find <span class="variable">$PWD</span> -maxdepth 1 | xargs ls -ld</span><br></pre></td></tr></table></figure>
<p>é€’å½’åˆ—å‡ºå½“å‰ç›®å½•ä¸‹çš„æ‰€æœ‰æ–‡ä»¶ï¼ˆåŒ…æ‹¬éšè—æ–‡ä»¶ï¼‰çš„ç»å¯¹è·¯å¾„</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">find <span class="variable">$PWD</span> | xargs ls -ld</span><br></pre></td></tr></table></figure>
<h2 id="2-cd"><a href="#2-cd" class="headerlink" title="2. cd"></a>2. cd</h2><blockquote>
<p><code>cd -</code> or <code>cd</code> or <code>cd ~</code></p>
</blockquote>
<h2 id="3-pwd"><a href="#3-pwd" class="headerlink" title="3. pwd"></a>3. pwd</h2><p><code>pwd -P</code> æ˜¾ç¤ºå‡ºå®é™…è·¯å¾„ï¼Œè€Œéä½¿ç”¨è¿æ¥ï¼ˆlinkï¼‰è·¯å¾„</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"># /usr/local/xsoft/software/scala [22:17:59]</span><br><span class="line">âœ pwd</span><br><span class="line">/usr/local/xsoft/software/scala</span><br><span class="line">(vpy3)</span><br><span class="line"># /usr/local/xsoft/software/scala [22:17:59]</span><br><span class="line">âœ pwd -P</span><br><span class="line">/usr/local/xsoft/deploy/scala-2.11.7</span><br><span class="line">(vpy3)</span><br><span class="line"># /usr/local/xsoft/software/scala [22:18:02]</span><br><span class="line">âœ</span><br></pre></td></tr></table></figure>
<h2 id="4-mkdir"><a href="#4-mkdir" class="headerlink" title="4. mkdir"></a>4. mkdir</h2><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">mkdir <span class="built_in">test</span>1</span><br><span class="line">mkdir -p <span class="built_in">test</span>2/<span class="built_in">test</span>22</span><br><span class="line">mkdir -m 777 <span class="built_in">test</span>3</span><br><span class="line">mkdir -v <span class="built_in">test</span>4</span><br></pre></td></tr></table></figure>
<p>ä¸€ä¸ªå‘½ä»¤åˆ›å»ºé¡¹ç›®çš„ç›®å½•ç»“æ„</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># ~/ghome/seek/test2 [22:23:06]</span></span><br><span class="line">âœ mkdir -vp scf/&#123;lib/,bin/,doc/&#123;info,product&#125;,logs/&#123;info,product&#125;,service/deploy/&#123;info,product&#125;&#125;</span><br><span class="line">(vpy3)</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"># ~/ghome/seek/test2 [22:23:08]</span><br><span class="line">âœ tree</span><br><span class="line">.</span><br><span class="line">â””â”€â”€ scf</span><br><span class="line">    â”œâ”€â”€ bin</span><br><span class="line">    â”œâ”€â”€ doc</span><br><span class="line">    â”‚Â Â  â”œâ”€â”€ info</span><br><span class="line">    â”‚Â Â  â””â”€â”€ product</span><br><span class="line">    â”œâ”€â”€ lib</span><br><span class="line">    â”œâ”€â”€ logs</span><br><span class="line">    â”‚Â Â  â”œâ”€â”€ info</span><br><span class="line">    â”‚Â Â  â””â”€â”€ product</span><br><span class="line">    â””â”€â”€ service</span><br><span class="line">        â””â”€â”€ deploy</span><br><span class="line">            â”œâ”€â”€ info</span><br><span class="line">            â””â”€â”€ product</span><br><span class="line"></span><br><span class="line">13 directories, 0 files</span><br><span class="line">(vpy3)</span><br><span class="line"># ~/ghome/seek/test2 [22:23:10]</span><br></pre></td></tr></table></figure>
<h2 id="5-rm"><a href="#5-rm" class="headerlink" title="5. rm"></a>5. rm</h2><p>-f, â€“force    å¿½ç•¥ä¸å­˜åœ¨çš„æ–‡ä»¶ï¼Œä»ä¸ç»™å‡ºæç¤ºã€‚<br>-i, â€“interactive è¿›è¡Œäº¤äº’å¼åˆ é™¤<br>-r, -R, â€“recursive   æŒ‡ç¤ºrmå°†å‚æ•°ä¸­åˆ—å‡ºçš„å…¨éƒ¨ç›®å½•å’Œå­ç›®å½•å‡é€’å½’åœ°åˆ é™¤ã€‚<br>-v, â€“verbose    è¯¦ç»†æ˜¾ç¤ºè¿›è¡Œçš„æ­¥éª¤</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># ~/ghome/seek/test2 [22:29:28]</span></span><br><span class="line">âœ rm -i f1</span><br><span class="line">remove f1?</span><br></pre></td></tr></table></figure>
<p><strong>è‡ªå®šä¹‰å›æ”¶ç«™åŠŸèƒ½</strong></p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="title">myrm</span></span>()&#123; D=/tmp/$(date +%Y%m%d%H%M%S); mkdir -p <span class="variable">$D</span>; mv <span class="string">"<span class="variable">$@</span>"</span> <span class="variable">$D</span> &amp;&amp; <span class="built_in">echo</span> <span class="string">"moved to <span class="variable">$D</span> ok"</span>; &#125;</span><br></pre></td></tr></table></figure>
<p><strong>for example</strong>:</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">[root@localhost test]# myrm()&#123; D=/tmp/$(date +%Y%m%d%H%M%S); mkdir -p $D; mv &quot;$@&quot; $D &amp;&amp; echo &quot;moved to $D ok&quot;; &#125;</span><br><span class="line">[root@localhost test]# alias rm=&apos;myrm&apos;</span><br><span class="line">[root@localhost test]# touch 1.log 2.log 3.log</span><br><span class="line">[root@localhost test]# ll</span><br><span class="line">æ€»è®¡ 16</span><br><span class="line">-rw-r--r-- 1 root root    0 10-26 15:08 1.log</span><br><span class="line">-rw-r--r-- 1 root root    0 10-26 15:08 2.log</span><br><span class="line">-rw-r--r-- 1 root root    0 10-26 15:08 3.log</span><br><span class="line">drwxr-xr-x 7 root root 4096 10-25 18:07 scf</span><br><span class="line">drwxrwxrwx 2 root root 4096 10-25 17:46 test3</span><br><span class="line">drwxr-xr-x 2 root root 4096 10-25 17:56 test4</span><br><span class="line">drwxr-xr-x 3 root root 4096 10-25 17:56 test5</span><br><span class="line">[root@localhost test]# rm [123].log</span><br><span class="line">moved to /tmp/20121026150901 ok</span><br><span class="line">[root@localhost test]# ll</span><br><span class="line">æ€»è®¡ 16drwxr-xr-x 7 root root 4096 10-25 18:07 scf</span><br><span class="line">drwxrwxrwx 2 root root 4096 10-25 17:46 test3</span><br><span class="line">drwxr-xr-x 2 root root 4096 10-25 17:56 test4</span><br><span class="line">drwxr-xr-x 3 root root 4096 10-25 17:56 test5</span><br><span class="line">[root@localhost test]# ls /tmp/20121026150901/</span><br><span class="line">1.log  2.log  3.log</span><br><span class="line">[root@localhost test]#</span><br></pre></td></tr></table></figure>
<blockquote>
<p><strong>Reference: </strong> <a href="http://www.cnblogs.com/peida/archive/2012/10/26/2740521.html" target="_blank" rel="external">æ¯å¤©ä¸€ä¸ªlinuxå‘½ä»¤ï¼ˆ5ï¼‰ï¼šrm å‘½ä»¤</a></p>
</blockquote>
<h2 id="6-rmdir"><a href="#6-rmdir" class="headerlink" title="6. rmdir"></a>6. rmdir</h2><blockquote>
<p>åˆ é™¤ç©ºç›®å½•</p>
<p>rmdir -p å½“å­ç›®å½•è¢«åˆ é™¤åä½¿å®ƒä¹Ÿæˆä¸ºç©ºç›®å½•çš„è¯ï¼Œåˆ™é¡ºä¾¿ä¸€å¹¶åˆ é™¤ </p>
</blockquote>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">[root@localhost scf]<span class="comment"># rmdir -p logs</span></span><br><span class="line">rmdir: logs: ç›®å½•éç©º</span><br><span class="line"></span><br><span class="line">[root@localhost scf]<span class="comment"># tree</span></span><br><span class="line">.</span><br><span class="line">|-- bin</span><br><span class="line">|-- doc</span><br><span class="line">|-- lib</span><br><span class="line">|-- logs</span><br><span class="line">|   `-- product</span><br><span class="line">`-- service</span><br><span class="line">    `-- deploy</span><br><span class="line">        |-- info</span><br><span class="line">        `-- product</span><br><span class="line"> </span><br><span class="line">9 directories, 0 files</span><br></pre></td></tr></table></figure>
<p>[root@localhost scf]# rmdir -p logs/product</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">[root@localhost scf]<span class="comment"># tree</span></span><br><span class="line">.</span><br><span class="line">|-- bin</span><br><span class="line">|-- doc</span><br><span class="line">|-- lib</span><br><span class="line">`-- service</span><br><span class="line">`-- deploy</span><br><span class="line">        |-- info</span><br><span class="line">        `-- product</span><br></pre></td></tr></table></figure>
<h2 id="7-mv"><a href="#7-mv" class="headerlink" title="7. mv"></a>7. mv</h2><p>-i ï¼šè‹¥ç›®æ ‡æ–‡ä»¶ (destination) å·²ç»å­˜åœ¨æ—¶ï¼Œå°±ä¼šè¯¢é—®æ˜¯å¦è¦†ç›–ï¼<br>-t  ï¼š â€“target-directory=DIRECTORY move all SOURCE arguments into DIRECTORYï¼Œå³æŒ‡å®šmvçš„ç›®æ ‡ç›®å½•ï¼Œè¯¥é€‰é¡¹é€‚ç”¨äºç§»åŠ¨å¤šä¸ªæºæ–‡ä»¶åˆ°ä¸€ä¸ªç›®å½•çš„æƒ…å†µï¼Œæ­¤æ—¶ç›®æ ‡ç›®å½•åœ¨å‰ï¼Œæºæ–‡ä»¶åœ¨åã€‚</p>
<h2 id="8-cp"><a href="#8-cp" class="headerlink" title="8. cp"></a>8. cp</h2><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">cp -a test3 test4</span><br><span class="line">cp -s log.log log_link.log</span><br></pre></td></tr></table></figure>
<h2 id="9-touch"><a href="#9-touch" class="headerlink" title="9. touch"></a>9. touch</h2><p>è®¾å®šæ–‡ä»¶çš„æ—¶é—´æˆ³</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">touch -t 201211142234.50 log.log</span><br></pre></td></tr></table></figure>
<p>æ›´æ–° log2012.log çš„æ—¶é—´å’Œ log.log æ—¶é—´æˆ³ç›¸åŒ</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">touch -r log.log log2012.log</span><br></pre></td></tr></table></figure>
<h2 id="10-cat"><a href="#10-cat" class="headerlink" title="10. cat"></a>10. cat</h2><ol>
<li>ä¸€æ¬¡æ˜¾ç¤ºæ•´ä¸ªæ–‡ä»¶:cat filename</li>
<li>ä»é”®ç›˜åˆ›å»ºä¸€ä¸ªæ–‡ä»¶:cat &gt; filename åªèƒ½åˆ›å»ºæ–°æ–‡ä»¶,ä¸èƒ½ç¼–è¾‘å·²æœ‰æ–‡ä»¶.</li>
<li>å°†å‡ ä¸ªæ–‡ä»¶åˆå¹¶ä¸ºä¸€ä¸ªæ–‡ä»¶:cat file1 file2 &gt; file</li>
</ol>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">âœ cat -n log.log <span class="built_in">log</span>2012.log</span><br><span class="line">     1	asd</span><br><span class="line">     2</span><br><span class="line">     3	asd</span><br><span class="line">     1	k1</span><br><span class="line">     2	k2</span><br><span class="line">     3</span><br><span class="line">     4	k3</span><br><span class="line">(vpy3)</span><br><span class="line"><span class="comment"># ~/ghome/seek/test2 [23:02:19]</span></span><br><span class="line">âœ</span><br></pre></td></tr></table></figure>
<blockquote>
<p>tac (åå‘åˆ—ç¤º).<br>tac log.txt</p>
</blockquote>
<h2 id="11-nl"><a href="#11-nl" class="headerlink" title="11. nl"></a>11. nl</h2><p>nlå‘½ä»¤åœ¨linuxç³»ç»Ÿä¸­ç”¨æ¥è®¡ç®—æ–‡ä»¶ä¸­è¡Œå·ã€‚nl å¯ä»¥å°†è¾“å‡ºçš„æ–‡ä»¶å†…å®¹è‡ªåŠ¨çš„åŠ ä¸Šè¡Œå·ï¼</p>
<p>å‘½ä»¤å‚æ•°ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">-b  ï¼šæŒ‡å®šè¡Œå·æŒ‡å®šçš„æ–¹å¼ï¼Œä¸»è¦æœ‰ä¸¤ç§ï¼š</span><br><span class="line">-b a ï¼šè¡¨ç¤ºä¸è®ºæ˜¯å¦ä¸ºç©ºè¡Œï¼Œä¹ŸåŒæ ·åˆ—å‡ºè¡Œå·(ç±»ä¼¼ cat -n)ï¼›</span><br><span class="line">-b t ï¼šå¦‚æœæœ‰ç©ºè¡Œï¼Œç©ºçš„é‚£ä¸€è¡Œä¸è¦åˆ—å‡ºè¡Œå·(é»˜è®¤å€¼)ï¼›</span><br><span class="line">-n  ï¼šåˆ—å‡ºè¡Œå·è¡¨ç¤ºçš„æ–¹æ³•ï¼Œä¸»è¦æœ‰ä¸‰ç§ï¼š</span><br><span class="line">-n ln ï¼šè¡Œå·åœ¨è¤å¹•çš„æœ€å·¦æ–¹æ˜¾ç¤ºï¼›</span><br><span class="line">-n rn ï¼šè¡Œå·åœ¨è‡ªå·±æ ä½çš„æœ€å³æ–¹æ˜¾ç¤ºï¼Œä¸”ä¸åŠ  0 ï¼›</span><br><span class="line">-n rz ï¼šè¡Œå·åœ¨è‡ªå·±æ ä½çš„æœ€å³æ–¹æ˜¾ç¤ºï¼Œä¸”åŠ  0 ï¼›</span><br><span class="line">-w  ï¼šè¡Œå·æ ä½çš„å ç”¨çš„ä½æ•°ã€‚</span><br><span class="line">-p åœ¨é€»è¾‘å®šç•Œç¬¦å¤„ä¸é‡æ–°å¼€å§‹è®¡ç®—ã€‚</span><br></pre></td></tr></table></figure>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">[root@localhost <span class="built_in">test</span>]<span class="comment"># nl log2012.log </span></span><br><span class="line">     1  2012-01</span><br><span class="line">     2  2012-02</span><br><span class="line">       </span><br><span class="line">       </span><br><span class="line">     3  ======[root@localhost <span class="built_in">test</span>]<span class="comment">#</span></span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">[root@localhost test]# nl -b a log2012.log </span><br><span class="line">     1  2012-01</span><br><span class="line">     2  2012-02</span><br><span class="line">     3</span><br><span class="line">     4</span><br><span class="line">     5  ======[root@localhost test]#</span><br></pre></td></tr></table></figure>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">[root@localhost <span class="built_in">test</span>]<span class="comment"># nl -b a -n rz log2014.log </span></span><br><span class="line">000001  2014-01</span><br><span class="line">000002  2014-02</span><br><span class="line">000003  2014-03</span><br><span class="line">000004  2014-04</span><br><span class="line">000005  2014-05</span><br><span class="line">000006  2014-06</span><br><span class="line">000007  2014-07</span><br><span class="line">000008  2014-08</span><br><span class="line">000009  2014-09</span><br><span class="line">000010  2014-10</span><br><span class="line">000011  2014-11</span><br><span class="line">000012  2014-12</span><br><span class="line">000013  =======</span><br><span class="line">[root@localhost <span class="built_in">test</span>]<span class="comment"># nl -b a -n rz -w 3 log2014.log </span></span><br><span class="line">001     2014-01</span><br><span class="line">002     2014-02</span><br><span class="line">003     2014-03</span><br><span class="line">004     2014-04</span><br><span class="line">005     2014-05</span><br><span class="line">006     2014-06</span><br><span class="line">007     2014-07</span><br><span class="line">008     2014-08</span><br><span class="line">009     2014-09</span><br><span class="line">010     2014-10</span><br><span class="line">011     2014-11</span><br><span class="line">012     2014-12</span><br><span class="line">013     =======</span><br></pre></td></tr></table></figure>
<blockquote>
<p>è¯´æ˜ï¼š nl -b a -n rz å‘½ä»¤è¡Œå·é»˜è®¤ä¸ºå…­ä½ï¼Œè¦è°ƒæ•´ä½æ•°å¯ä»¥åŠ ä¸Šå‚æ•° -w 3 è°ƒæ•´ä¸º3ä½ã€‚</p>
</blockquote>
<h2 id="12-more"><a href="#12-more" class="headerlink" title="12. more"></a>12. more</h2><p>å‘½ä»¤å‚æ•°ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">+n       ä»ç¬«nè¡Œå¼€å§‹æ˜¾ç¤º</span><br><span class="line">-n       å®šä¹‰å±å¹•å¤§å°ä¸ºnè¡Œ</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">[root@localhost test]# cat log2012.log </span><br><span class="line">2012-01</span><br><span class="line">2012-02</span><br><span class="line">2012-03</span><br><span class="line">2012-04-day1</span><br><span class="line">2012-04-day2</span><br><span class="line">2012-04-day3</span><br><span class="line">======[root@localhost test]# more +3 log2012.log </span><br><span class="line">2012-03</span><br><span class="line">2012-04-day1</span><br><span class="line">2012-04-day2</span><br><span class="line">2012-04-day3</span><br><span class="line">======[root@localhost test]#</span><br></pre></td></tr></table></figure>
<p>è®¾å®šæ¯å±æ˜¾ç¤ºè¡Œæ•°   more -5 log2012.log. </p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">[root@localhost <span class="built_in">test</span>]<span class="comment"># more -5 log2012.log </span></span><br><span class="line">2012-01</span><br><span class="line">2012-02</span><br><span class="line">2012-03</span><br><span class="line">2012-04-day1</span><br><span class="line">2012-04-day2</span><br></pre></td></tr></table></figure>
<p>åˆ—ä¸€ä¸ªç›®å½•ä¸‹çš„æ–‡ä»¶ï¼Œç”±äºå†…å®¹å¤ªå¤šï¼Œæˆ‘ä»¬åº”è¯¥å­¦ä¼šç”¨moreæ¥åˆ†é¡µæ˜¾ç¤ºã€‚è¿™å¾—å’Œç®¡é“ | ç»“åˆèµ·æ¥</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">ls <span class="_">-l</span>  | more -5</span><br></pre></td></tr></table></figure>
<h2 id="13-less"><a href="#13-less" class="headerlink" title="13. less"></a>13. less</h2><p>less å·¥å…·ä¹Ÿæ˜¯å¯¹æ–‡ä»¶æˆ–å…¶å®ƒè¾“å‡ºè¿›è¡Œåˆ†é¡µæ˜¾ç¤ºçš„å·¥å…·ï¼Œåº”è¯¥è¯´æ˜¯linuxæ­£ç»ŸæŸ¥çœ‹æ–‡ä»¶å†…å®¹çš„å·¥å…·ï¼ŒåŠŸèƒ½æå…¶å¼ºå¤§ã€‚</p>
<p>less çš„ç”¨æ³•æ¯”èµ· more æ›´åŠ çš„æœ‰å¼¹æ€§ã€‚åœ¨ more çš„æ—¶å€™ï¼Œæˆ‘ä»¬å¹¶æ²¡æœ‰åŠæ³•å‘å‰é¢ç¿»ï¼Œ åªèƒ½å¾€åé¢çœ‹ï¼Œä½†è‹¥ä½¿ç”¨äº† less æ—¶ï¼Œå°±å¯ä»¥ä½¿ç”¨ [pageup] [pagedown] ç­‰æŒ‰é”®çš„åŠŸèƒ½æ¥å¾€å‰å¾€åç¿»çœ‹æ–‡ä»¶ï¼Œæ›´å®¹æ˜“ç”¨æ¥æŸ¥çœ‹ä¸€ä¸ªæ–‡ä»¶çš„å†…å®¹ï¼</p>
<p>åœ¨ less é‡Œå¤´å¯ä»¥æ‹¥æœ‰æ›´å¤šçš„æœç´¢åŠŸèƒ½ï¼Œä¸æ­¢å¯ä»¥å‘ä¸‹æœï¼Œä¹Ÿå¯ä»¥å‘ä¸Šæœã€‚</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">less <span class="built_in">log</span>2013.log</span><br><span class="line"></span><br><span class="line">ps -ef |less</span><br><span class="line"></span><br><span class="line"><span class="built_in">history</span> | less</span><br></pre></td></tr></table></figure>
<p>è¾“å‡ºæ–‡ä»¶é™¤äº†æœ€ånè¡Œçš„å…¨éƒ¨å†…å®¹</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">head -n -6 <span class="built_in">log</span>2014.log</span><br></pre></td></tr></table></figure>
<h2 id="14-head"><a href="#14-head" class="headerlink" title="14. head"></a>14. head</h2><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">[root@localhost test]# head -n 5 log2014.log </span><br><span class="line">2014-01</span><br><span class="line">2014-02</span><br><span class="line">2014-03</span><br><span class="line">2014-04</span><br><span class="line">2014-05[root@localhost test]#</span><br></pre></td></tr></table></figure>
<p>æ˜¾ç¤ºæ–‡ä»¶å‰nä¸ªå­—èŠ‚  head -c 20 log2014.log</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">[root@localhost <span class="built_in">test</span>]<span class="comment"># head -c 20 log2014.log</span></span><br><span class="line">2014-01</span><br><span class="line">2014-02</span><br><span class="line">2014</span><br><span class="line">[root@localhost <span class="built_in">test</span>]<span class="comment">#</span></span><br></pre></td></tr></table></figure>
<p>è¾“å‡ºæ–‡ä»¶é™¤äº†æœ€ånè¡Œçš„å…¨éƒ¨å†…å®¹</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">head -n -6 log2014.log</span><br></pre></td></tr></table></figure>
<h2 id="15-tail"><a href="#15-tail" class="headerlink" title="15. tail"></a>15. tail</h2><p>æ˜¾ç¤ºæ–‡ä»¶æœ«å°¾å†…å®¹. tail -n 5 log2014.log</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">[root@localhost <span class="built_in">test</span>]<span class="comment"># tail -n 5 log2014.log </span></span><br><span class="line">2014-09</span><br><span class="line">2014-10</span><br><span class="line">2014-11</span><br><span class="line">2014-12</span><br><span class="line">==============================[root@localhost <span class="built_in">test</span>]<span class="comment">#</span></span><br></pre></td></tr></table></figure>
<p>å¾ªç¯æŸ¥çœ‹æ–‡ä»¶å†…å®¹ tail -f test.log</p>
<h2 id="Reference"><a href="#Reference" class="headerlink" title="Reference"></a>Reference</h2><ul>
<li><a href="http://www.cnblogs.com/peida/tag/æ¯æ—¥ä¸€linuxå‘½ä»¤/" target="_blank" rel="external">æ¯æ—¥ä¸€linuxå‘½ä»¤</a></li>
<li><a href="http://www.cnblogs.com/peida/archive/2012/12/05/2803591.html" target="_blank" rel="external">æ¯å¤©ä¸€ä¸ªlinuxå‘½ä»¤ç›®å½•</a></li>
</ul>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[My Zsh Config Files]]></title>
      <url>http://iequa.com/2017/10/21/ops-zsh-config/</url>
      <content type="html"><![CDATA[<p> <code>~/.zprofile</code> and <code>~/.zshrc</code> custom config</p>
<a id="more"></a>
<h2 id="zprofile"><a href="#zprofile" class="headerlink" title=".zprofile"></a>.zprofile</h2><figure class="highlight zsh"><table><tr><td class="code"><pre><span class="line"><span class="comment">###################################################</span></span><br><span class="line"><span class="comment">###       blair custom config @2017.10.21       ###</span></span><br><span class="line"><span class="comment">###################################################</span></span><br><span class="line"></span><br><span class="line">MS=/usr/<span class="built_in">local</span>/xsoft/software</span><br><span class="line"></span><br><span class="line"><span class="comment">### JAVA ###</span></span><br><span class="line">JAVA_HOME=/Library/Java/JavaVirtualMachines/Contents/Home</span><br><span class="line">JAVA_BIN=<span class="variable">$JAVA_HOME</span>/bin</span><br><span class="line">PATH=<span class="variable">$JAVA_HOME</span>/bin:<span class="variable">$PATH</span></span><br><span class="line">CLASSPATH=.:<span class="variable">$JAVA_HOME</span>/jre/lib/rt.jar:<span class="variable">$JAVA_HOME</span>/jre/lib/dt.jar:<span class="variable">$JAVA_HOME</span>/jre/lib/tools.jar</span><br><span class="line"><span class="built_in">export</span> JAVA_HOME JAVA_BIN PATH CLASSPATH</span><br><span class="line"></span><br><span class="line"><span class="comment">### Maven ###</span></span><br><span class="line">M2_HOME=/usr/<span class="built_in">local</span>/xsoft/software/apache-maven</span><br><span class="line">MAVEN_HOME=<span class="variable">$M2_HOME</span></span><br><span class="line">M3_HOME=<span class="variable">$M2_HOME</span></span><br><span class="line">PATH=<span class="variable">$M3_HOME</span>/bin:<span class="variable">$PATH</span></span><br><span class="line"><span class="comment">#MAVEN_OPTS="-Xms128m -Xmx512m"</span></span><br><span class="line"><span class="built_in">export</span> MAVEN_HOME M2_HOME PATH</span><br><span class="line"></span><br><span class="line"><span class="comment">### Tomcat ###</span></span><br><span class="line">CATALINA_HOME=/usr/<span class="built_in">local</span>/xsoft/software/apache-tomcat</span><br><span class="line">PATH=<span class="variable">$CATALINA_HOME</span>/bin:<span class="variable">$PATH</span></span><br><span class="line"><span class="built_in">export</span> CATALINA_HOME PATH</span><br><span class="line"></span><br><span class="line"><span class="comment">### Scala ###</span></span><br><span class="line"><span class="comment">#export SCALA_HOME=/usr/local/xsoft/software/scala</span></span><br><span class="line"><span class="comment">#export SCALA_HOME=/usr/local/Cellar/scala/2.11.5</span></span><br><span class="line"><span class="comment">#export PATH=$&#123;SCALA_HOME&#125;/bin:$PATH</span></span><br><span class="line"></span><br><span class="line"><span class="comment">### Spark ###</span></span><br><span class="line"><span class="built_in">export</span> SPARK_HOME=/usr/<span class="built_in">local</span>/xsoft/software/spark</span><br><span class="line"></span><br><span class="line"><span class="comment">### IPython ###</span></span><br><span class="line"><span class="built_in">alias</span> ipython=<span class="string">'python -m IPython'</span></span><br><span class="line"></span><br><span class="line"><span class="comment">### Pyenv ###</span></span><br><span class="line"><span class="built_in">export</span> PATH=<span class="string">"/Users/blair/.pyenv/bin:<span class="variable">$PATH</span>"</span></span><br><span class="line"><span class="built_in">alias</span> pyenv_init=<span class="string">'eval "$(pyenv init -)" &amp;&amp; eval "$(pyenv virtualenv-init -)"'</span></span><br><span class="line">pyenv_init</span><br><span class="line"><span class="comment">#export PYENV_VIRTUALENV_DISABLE_PROMPT=1</span></span><br><span class="line"></span><br><span class="line"><span class="comment">### Node.js ###</span></span><br><span class="line"><span class="built_in">export</span> NVM_DIR=<span class="string">"<span class="variable">$HOME</span>/.nvm"</span></span><br><span class="line"><span class="comment">#[ -s "$NVM_DIR/nvm.sh" ] &amp;&amp; \. "$NVM_DIR/nvm.sh"  # This loads nvm</span></span><br><span class="line"><span class="comment">#[ -s "$NVM_DIR/bash_completion" ] &amp;&amp; \. "$NVM_DIR/bash_completion"  # This loads nvm bash_completion</span></span><br><span class="line"></span><br><span class="line"><span class="comment">### LANG ###</span></span><br><span class="line"><span class="built_in">export</span> LC_ALL=en_US.UTF-8</span><br><span class="line"><span class="built_in">export</span> LANG=en_US.UTF-8</span><br><span class="line"></span><br><span class="line"><span class="comment">### Fast Function ###</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># show ip</span></span><br><span class="line"><span class="built_in">alias</span> ip=<span class="string">'ipconfig getifaddr en0'</span></span><br><span class="line"><span class="built_in">alias</span> ip0=<span class="string">'ipconfig getifaddr en0'</span></span><br><span class="line"><span class="built_in">alias</span> ip1=<span class="string">'ipconfig getifaddr en1'</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># shutdown</span></span><br><span class="line"><span class="built_in">alias</span> shuth=<span class="string">'sudo shutdown -h now'</span></span><br><span class="line"><span class="built_in">alias</span> shutr=<span class="string">'sudo shutdown -r now'</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># pip list</span></span><br><span class="line"><span class="built_in">alias</span> pipl=<span class="string">'pip list --format=columns'</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># lsof -i:port</span></span><br><span class="line"><span class="built_in">alias</span> lsofi=<span class="string">'lsof -i:'</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># http_proxy</span></span><br><span class="line"><span class="built_in">alias</span> hp=<span class="string">"http_proxy=http://localhost:8123"</span></span><br><span class="line"><span class="built_in">alias</span> hps=<span class="string">"https_proxy=http://localhost:8123"</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># hexo</span></span><br><span class="line"><span class="built_in">alias</span> hx=<span class="string">'source ~/.nvm/nvm.sh'</span></span><br><span class="line"><span class="built_in">alias</span> hs=<span class="string">'hx &amp;&amp; cd ~/ghome/blog &amp;&amp; hexo s'</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># deploy blog</span></span><br><span class="line"><span class="built_in">alias</span> db=<span class="string">'hx &amp;&amp; cd ~/ghome/blog &amp;&amp; hexo clean &amp;&amp; sh dp.sh'</span></span><br><span class="line"><span class="built_in">alias</span> dg=<span class="string">'cd ~/ghome/blog &amp;&amp; hexo clean &amp;&amp; sh dp.sh'</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># pyenv</span></span><br><span class="line"><span class="built_in">alias</span> pyenv_install_python_pre=<span class="string">'source $MS/custom-machine/pyenv-install.sh'</span></span><br><span class="line"><span class="built_in">alias</span> py2=<span class="string">'pyenv_init &amp;&amp; pyenv activate vpy2 &amp;&amp; clear &amp;&amp; python -V'</span></span><br><span class="line"><span class="built_in">alias</span> py3=<span class="string">'pyenv_init &amp;&amp; pyenv activate vpy3 &amp;&amp; clear &amp;&amp; python -V'</span></span><br><span class="line"><span class="built_in">alias</span> pyde=<span class="string">'pyenv deactivate'</span></span><br><span class="line"><span class="built_in">alias</span> pys=<span class="string">'pyenv activate vpy3 &amp;&amp; pyenv global system &amp;&amp; pyde &amp;&amp; python -V'</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># zshrc</span></span><br><span class="line"><span class="built_in">alias</span> vzp=<span class="string">'vim ~/.zprofile'</span></span><br><span class="line"><span class="built_in">alias</span> szp=<span class="string">'source ~/.zprofile'</span></span><br></pre></td></tr></table></figure>
<h2 id="zshrc"><a href="#zshrc" class="headerlink" title=".zshrc"></a>.zshrc</h2><figure class="highlight zsh"><table><tr><td class="code"><pre><span class="line"><span class="comment"># If you come from bash you might have to change your $PATH.</span></span><br><span class="line"><span class="comment"># export PATH=$HOME/bin:/usr/local/bin:$PATH</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Path to your oh-my-zsh installation.</span></span><br><span class="line"><span class="built_in">export</span> ZSH=/Users/blair/.oh-my-zsh</span><br><span class="line"></span><br><span class="line"><span class="comment"># Set name of the theme to load. Optionally, if you set this to "random"</span></span><br><span class="line"><span class="comment"># it'll load a random theme each time that oh-my-zsh is loaded.</span></span><br><span class="line"><span class="comment"># See https://github.com/robbyrussell/oh-my-zsh/wiki/Themes</span></span><br><span class="line">ZSH_THEME=<span class="string">"robbyrussell"</span></span><br><span class="line"><span class="comment"># by blair add @2017-10-10</span></span><br><span class="line"><span class="comment">#ZSH_THEME="ys" </span></span><br><span class="line">ZSH_THEME=<span class="string">"astro"</span> </span><br><span class="line"></span><br><span class="line"><span class="comment"># Uncomment the following line to use case-sensitive completion.</span></span><br><span class="line"><span class="comment"># CASE_SENSITIVE="true"</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Uncomment the following line to use hyphen-insensitive completion. Case</span></span><br><span class="line"><span class="comment"># sensitive completion must be off. _ and - will be interchangeable.</span></span><br><span class="line"><span class="comment"># HYPHEN_INSENSITIVE="true"</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Uncomment the following line to disable bi-weekly auto-update checks.</span></span><br><span class="line"><span class="comment"># DISABLE_AUTO_UPDATE="true"</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Uncomment the following line to change how often to auto-update (in days).</span></span><br><span class="line"><span class="comment"># export UPDATE_ZSH_DAYS=13</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Uncomment the following line to disable colors in ls.</span></span><br><span class="line"><span class="comment"># DISABLE_LS_COLORS="true"</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Uncomment the following line to disable auto-setting terminal title.</span></span><br><span class="line"><span class="comment"># DISABLE_AUTO_TITLE="true"</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Uncomment the following line to enable command auto-correction.</span></span><br><span class="line"><span class="comment"># ENABLE_CORRECTION="true"</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Uncomment the following line to display red dots whilst waiting for completion.</span></span><br><span class="line"><span class="comment"># COMPLETION_WAITING_DOTS="true"</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Uncomment the following line if you want to disable marking untracked files</span></span><br><span class="line"><span class="comment"># under VCS as dirty. This makes repository status check for large repositories</span></span><br><span class="line"><span class="comment"># much, much faster.</span></span><br><span class="line"><span class="comment"># DISABLE_UNTRACKED_FILES_DIRTY="true"</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Uncomment the following line if you want to change the command execution time</span></span><br><span class="line"><span class="comment"># stamp shown in the history command output.</span></span><br><span class="line"><span class="comment"># The optional three formats: "mm/dd/yyyy"|"dd.mm.yyyy"|"yyyy-mm-dd"</span></span><br><span class="line"><span class="comment"># HIST_STAMPS="mm/dd/yyyy"</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Would you like to use another custom folder than $ZSH/custom?</span></span><br><span class="line"><span class="comment"># ZSH_CUSTOM=/path/to/new-custom-folder</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Which plugins would you like to load? (plugins can be found in ~/.oh-my-zsh/plugins/*)</span></span><br><span class="line"><span class="comment"># Custom plugins may be added to ~/.oh-my-zsh/custom/plugins/</span></span><br><span class="line"><span class="comment"># Example format: plugins=(rails git textmate ruby lighthouse)</span></span><br><span class="line"><span class="comment"># Add wisely, as too many plugins slow down shell startup.</span></span><br><span class="line">plugins=(git)</span><br><span class="line">plugins=(git autojump) <span class="comment"># by blair add @2017-10-10</span></span><br><span class="line"><span class="comment">#[[ -s $(brew --prefix)/etc/profile.d/autojump.sh ]] &amp;&amp; . $(brew --prefix)/etc/profile.d/autojump.sh</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">source</span> <span class="variable">$ZSH</span>/oh-my-zsh.sh</span><br><span class="line"></span><br><span class="line"><span class="comment"># User configuration</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># export MANPATH="/usr/local/man:$MANPATH"</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># You may need to manually set your language environment</span></span><br><span class="line"><span class="comment"># export LANG=en_US.UTF-8</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Preferred editor for local and remote sessions</span></span><br><span class="line"><span class="comment"># if [[ -n $SSH_CONNECTION ]]; then</span></span><br><span class="line"><span class="comment">#   export EDITOR='vim'</span></span><br><span class="line"><span class="comment"># else</span></span><br><span class="line"><span class="comment">#   export EDITOR='mvim'</span></span><br><span class="line"><span class="comment"># fi</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Compilation flags</span></span><br><span class="line"><span class="comment"># export ARCHFLAGS="-arch x86_64"</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># ssh</span></span><br><span class="line"><span class="comment"># export SSH_KEY_PATH="~/.ssh/rsa_id"</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Set personal aliases, overriding those provided by oh-my-zsh libs,</span></span><br><span class="line"><span class="comment"># plugins, and themes. Aliases can be placed here, though oh-my-zsh</span></span><br><span class="line"><span class="comment"># users are encouraged to define aliases within the ZSH_CUSTOM folder.</span></span><br><span class="line"><span class="comment"># For a full list of active aliases, run `alias`.</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># Example aliases</span></span><br><span class="line"><span class="comment"># alias zshconfig="mate ~/.zshrc"</span></span><br><span class="line"><span class="comment"># alias ohmyzsh="mate ~/.oh-my-zsh"</span></span><br><span class="line"></span><br><span class="line"><span class="comment">###################################################</span></span><br><span class="line"><span class="comment">###       blair custom config @2017.10.21       ###</span></span><br><span class="line"><span class="comment">###################################################</span></span><br><span class="line"></span><br><span class="line"><span class="comment">### Fast Login Machine Function ###</span></span><br><span class="line"><span class="comment"># ssh add</span></span><br><span class="line"><span class="built_in">alias</span> sd=<span class="string">'ssh-add'</span></span><br><span class="line"><span class="built_in">alias</span> x2=<span class="string">'ssh loguser@192.168.***.*'</span></span><br></pre></td></tr></table></figure>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[Macos Terminal Set Shadowsocks]]></title>
      <url>http://iequa.com/2017/10/19/ops-mac-for-shadowsocks/</url>
      <content type="html"><![CDATA[<ol>
<li>first, you need to have vps</li>
<li>second, you need to have shadowsocks app</li>
</ol>
<a id="more"></a>
<p><img src="/images/ops/ops-vpn-shadowsocks.png" width="520" height="300" align="middle" img="">  </p>
<h2 id="install"><a href="#install" class="headerlink" title="install"></a>install</h2><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">brew install polipo</span><br></pre></td></tr></table></figure>
<h2 id="config"><a href="#config" class="headerlink" title="config"></a>config</h2><p>è®¾ç½®æ¯æ¬¡ç™»é™†å¯åŠ¨polipo</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">ln -sfv /usr/local/opt/polipo/*.plist ~/Library/LaunchAgents</span><br></pre></td></tr></table></figure>
<p>ä¿®æ”¹æ–‡ä»¶ <code>/usr/local/opt/polipo/homebrew.mxcl.polipo.plist</code> è®¾ç½®parentProxy</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;</span><br><span class="line">&lt;!DOCTYPE plist PUBLIC &quot;-//Apple//DTD PLIST 1.0//EN&quot; &quot;http://www.apple.com/DTDs/PropertyList-1.0.dtd&quot;&gt;</span><br><span class="line">&lt;plist version=&quot;1.0&quot;&gt;</span><br><span class="line">  &lt;dict&gt;</span><br><span class="line">    &lt;key&gt;Label&lt;/key&gt;</span><br><span class="line">    &lt;string&gt;homebrew.mxcl.polipo&lt;/string&gt;</span><br><span class="line">    &lt;key&gt;RunAtLoad&lt;/key&gt;</span><br><span class="line">    &lt;true/&gt;</span><br><span class="line">    &lt;key&gt;KeepAlive&lt;/key&gt;</span><br><span class="line">    &lt;true/&gt;</span><br><span class="line">    &lt;key&gt;ProgramArguments&lt;/key&gt;</span><br><span class="line">    &lt;array&gt;</span><br><span class="line">        &lt;string&gt;/usr/local/opt/polipo/bin/polipo&lt;/string&gt;</span><br><span class="line">        &lt;string&gt;socksParentProxy=localhost:1080&lt;/string&gt;</span><br><span class="line">    &lt;/array&gt;</span><br><span class="line">    &lt;!-- Set `ulimit -n 20480`. The default OS X limit is 256, that&apos;s</span><br><span class="line">         not enough for Polipo (displays &apos;too many files open&apos; errors).</span><br><span class="line">         It seems like you have no reason to lower this limit</span><br><span class="line">         (and unlikely will want to raise it). --&gt;</span><br><span class="line">    &lt;key&gt;SoftResourceLimits&lt;/key&gt;</span><br><span class="line">    &lt;dict&gt;</span><br><span class="line">      &lt;key&gt;NumberOfFiles&lt;/key&gt;</span><br><span class="line">      &lt;integer&gt;20480&lt;/integer&gt;</span><br><span class="line">    &lt;/dict&gt;</span><br><span class="line">  &lt;/dict&gt;</span><br><span class="line">&lt;/plist&gt;</span><br></pre></td></tr></table></figure>
<p>ä¿®æ”¹çš„åœ°æ–¹æ˜¯å¢åŠ äº† <code>&lt;string&gt;socksParentProxy=localhost:1080&lt;/string&gt;</code></p>
<h2 id="start-stop"><a href="#start-stop" class="headerlink" title="start / stop"></a>start / stop</h2><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">launchctl unload ~/Library/LaunchAgents/homebrew.mxcl.polipo.plist</span><br><span class="line">launchctl load ~/Library/LaunchAgents/homebrew.mxcl.polipo.plist</span><br></pre></td></tr></table></figure>
<h2 id="setting-profile"><a href="#setting-profile" class="headerlink" title="setting profile"></a>setting profile</h2><p>vim ~/.zshrc</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">#export http_proxy=http://localhost:8123</span><br><span class="line">alias hp=&quot;http_proxy=http://localhost:8123&quot;</span><br></pre></td></tr></table></figure>
<p>source ~/.zshrc</p>
<h2 id="test"><a href="#test" class="headerlink" title="test"></a>test</h2><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">âœ hp curl ip.cn</span><br><span class="line">å½“å‰ IPï¼š97.64.**.** æ¥è‡ªï¼šç¾å›½</span><br></pre></td></tr></table></figure>
<h2 id="reference-article"><a href="#reference-article" class="headerlink" title="reference article"></a>reference article</h2><ul>
<li><a href="http://droidyue.com/blog/2016/04/04/set-shadowsocks-proxy-for-terminal/" target="_blank" rel="external">æŠ€æœ¯å°é»‘å±‹</a></li>
<li><a href="https://segmentfault.com/a/1190000008449046" target="_blank" rel="external">Mac+shadowsocks+polipoå¿«æ·å®ç°ç»ˆç«¯ç§‘å­¦ä¸Šç½‘</a></li>
<li><a href="http://blog.liujiangbei.com/14532622130324.html" target="_blank" rel="external">VPS-install-shadowsocks-proxy</a></li>
</ul>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[Macos Sierra Uninstall App & Solve Allow apps Anywhere]]></title>
      <url>http://iequa.com/2017/10/19/ops-mac-sierra-some-tips/</url>
      <content type="html"><![CDATA[<p>Here are some tips to help you fun macos sierra</p>
<a id="more"></a>
<h2 id="MacOS-Sierra-amp-High-Sierra-Complete-Uninstall-App"><a href="#MacOS-Sierra-amp-High-Sierra-Complete-Uninstall-App" class="headerlink" title="MacOS Sierra &amp; High Sierra Complete Uninstall App"></a>MacOS Sierra &amp; High Sierra Complete Uninstall App</h2><blockquote>
<p>About This Mac -&gt; Storage -&gt; Manage -&gt; Applications -&gt; Delete</p>
</blockquote>
<h2 id="How-to-Allow-Apps-from-Anywhere-in-Gatekeeper-for-macOS-High-Sierra"><a href="#How-to-Allow-Apps-from-Anywhere-in-Gatekeeper-for-macOS-High-Sierra" class="headerlink" title="How to Allow Apps from Anywhere in Gatekeeper for macOS High Sierra"></a>How to Allow Apps from Anywhere in Gatekeeper for macOS High Sierra</h2><p>1). Open the Terminal app from the /Applications/Utilities/ folder and then enter the following command syntax:</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">sudo spctl --master-disable</span><br></pre></td></tr></table></figure>
<p>Hit return and authenticate with an admin password</p>
<p>2). Relaunch System Preferences and go to â€œSecurity &amp; Privacyâ€ and the â€œGeneralâ€ tab</p>
<p>3). You will now see the â€œAnywhereâ€ option under â€˜Allow apps downloaded from:â€™ Gatekeeper options</p>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[Pyenv Install For Virtual Multi Python Version Switch]]></title>
      <url>http://iequa.com/2017/10/18/ops-pyenv-install/</url>
      <content type="html"><![CDATA[<p>It needs to be used in both python2 and python3 environments, or different packages need to be installed in different projects.</p>
<a id="more"></a>
<p>we hope that the packages installed between different projects do not interfere with each other, and then you can configure the virtual environment of Python using pyenv.</p>
<h2 id="installation-pyenv"><a href="#installation-pyenv" class="headerlink" title="installation pyenv"></a>installation pyenv</h2><p><a href="https://github.com/pyenv/pyenv-installer" target="_blank" rel="external">Official Pyenv Install</a></p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="built_in">export</span> PATH=<span class="string">"~/.pyenv/bin:<span class="variable">$PATH</span>"</span></span><br><span class="line"><span class="built_in">eval</span> <span class="string">"<span class="variable">$(pyenv init -)</span>"</span></span><br><span class="line"><span class="built_in">eval</span> <span class="string">"<span class="variable">$(pyenv virtualenv-init -)</span>"</span></span><br><span class="line"><span class="comment">#export PYENV_VIRTUALENV_DISABLE_PROMPT=1</span></span><br></pre></td></tr></table></figure>
<blockquote>
<p>æŒ‰ç…§å®˜æ–¹æ–‡æ¡£é…ç½®å³å¯ï¼Œmac zsh ç”¨æˆ·ï¼Œå°† ä»¥ä¸Šä¸‰å¥æ”¾å…¥åˆ° .zshrc å³å¯ã€‚</p>
</blockquote>
<h2 id="see-available-versions"><a href="#see-available-versions" class="headerlink" title="see available versions"></a>see available versions</h2><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">pyenv install -l</span><br></pre></td></tr></table></figure>
<h2 id="install-python-in-virtual-env"><a href="#install-python-in-virtual-env" class="headerlink" title="install python in virtual env"></a>install python in virtual env</h2><p>install python 2.7.14</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">pyenv install 2.7.14</span><br></pre></td></tr></table></figure>
<p>install python 3.6.3</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">pyenv install 3.6.3</span><br></pre></td></tr></table></figure>
<blockquote>
<p> <a href="https://github.com/pyenv/pyenv/issues/993" target="_blank" rel="external">solve macOS High Sierra: ERROR: The Python ssl extension was not compiled. Missing the OpenSSL lib?</a></p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"># about zlib</span><br><span class="line">export CFLAGS=&quot;-I$(xcrun --show-sdk-path)/usr/include&quot;</span><br><span class="line"># about readline</span><br><span class="line">export CFLAGS=&quot;-I$(brew --prefix readline)/include $CFLAGS&quot;</span><br><span class="line">export LDFLAGS=&quot;-L$(brew --prefix readline)/lib $LDFLAGS&quot;</span><br><span class="line"># about openssl</span><br><span class="line">export CFLAGS=&quot;-I$(brew --prefix openssl)/include $CFLAGS&quot;</span><br><span class="line">export LDFLAGS=&quot;-L$(brew --prefix openssl)/lib $LDFLAGS&quot;</span><br><span class="line"># about SQLite (maybe not necessary)</span><br><span class="line">export CFLAGS=&quot;-I$(brew --prefix sqlite)/include $CFLAGS&quot;</span><br><span class="line">export LDFLAGS=&quot;-L$(brew --prefix sqlite)/lib $LDFLAGS&quot;</span><br></pre></td></tr></table></figure>
</blockquote>
<p>Set or show the global Python version</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">$ pyenv global 3.6.3 or system</span><br></pre></td></tr></table></figure>
<blockquote>
<p>system stands for this mac</p>
</blockquote>
<p>show list all Python versions available to pyenv</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">$ pyenv versions</span><br></pre></td></tr></table></figure>
<h2 id="create-virtual-env"><a href="#create-virtual-env" class="headerlink" title="create virtual env"></a>create virtual env</h2><p>create current <code>3.6.3 version python</code> virtual env</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">$ pyenv virtualenv vpy3</span><br></pre></td></tr></table></figure>
<blockquote>
<p><strong>vpy3</strong> is this virtual env alias</p>
</blockquote>
<h2 id="pyenv-activate-amp-deactivate"><a href="#pyenv-activate-amp-deactivate" class="headerlink" title="pyenv activate &amp; deactivate"></a>pyenv activate &amp; deactivate</h2><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">$ pyenv activate vpy3</span><br></pre></td></tr></table></figure>
<blockquote>
<p>è¿™æ˜¯æ—¶å€™å°±å¯ä»¥å¼€å§‹pipå®‰è£…ä¾èµ–åŒ…äº†</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">âœ pyenv activate vpy3</span><br><span class="line">pyenv-virtualenv: prompt changing will be removed from future release. configure `export PYENV_VIRTUALENV_DISABLE_PROMPT=1&apos; to simulate the behavior.</span><br><span class="line">(vpy3)</span><br><span class="line"># ~ [12:25:44]</span><br><span class="line">âœ python -V</span><br><span class="line">Python 3.6.3</span><br><span class="line">(vpy3)</span><br><span class="line"># ~ [12:25:49]</span><br><span class="line">âœ pyenv deactivate vpy3</span><br><span class="line"># ~ [12:25:57]</span><br><span class="line">âœ python -V</span><br><span class="line">Python 2.7.10</span><br></pre></td></tr></table></figure>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[Mac OSX pip OSError [Errno 1] Operation not permitted]]></title>
      <url>http://iequa.com/2017/10/17/ops-mac-pip-OSError/</url>
      <content type="html"><![CDATA[<p>Solved Mac OSX pip OSError, When you pip install python lib about machine-learning package.</p>
<a id="more"></a>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">pip install --upgrade gensim</span><br></pre></td></tr></table></figure>
<p>ç»“æœæŠ›å‡ºä¸‹é¢è¿™ä¸ªå¼‚å¸¸æŠ¥å‘Š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">OSError: [Errno 1] Operation not permitted: &apos;/tmp/pip-pvGyz6-uninstall/System/Library/Frameworks/Python.framework/Versions/2.7/Extras/lib/python/numpy, scipy, ...</span><br></pre></td></tr></table></figure>
<p>google åè§£å†³æ–¹æ¡ˆ :</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ pip install --upgrade pip</span><br><span class="line"></span><br><span class="line">$ sudo pip install numpy --upgrade --ignore-installed</span><br><span class="line">$ sudo pip install scipy --upgrade --ignore-installed</span><br><span class="line">$ sudo pip install scikit-learn --upgrade --ignore-installed</span><br></pre></td></tr></table></figure>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[Common Useful Links]]></title>
      <url>http://iequa.com/2017/10/14/ops-common-links/</url>
      <content type="html"><![CDATA[<p>Here are some useful links</p>
<a id="more"></a>
<h2 id="Deep-Learning-Coursera"><a href="#Deep-Learning-Coursera" class="headerlink" title="Deep Learning Coursera"></a>Deep Learning Coursera</h2><ul>
<li><a href="http://daniellaah.github.io/" target="_blank" rel="external">daniellaah.github.io</a></li>
<li><a href="https://www.ctolib.com/Yukong-Deeplearning-ai-Solutions.html" target="_blank" rel="external">deeplearning.aiæ·±åº¦å­¦ä¹ è¯¾ç¨‹å­—å¹•ç¿»è¯‘é¡¹ç›®</a></li>
<li><a href="https://www.cnblogs.com/marsggbo/" target="_blank" rel="external">äº’é“æ™šå®‰ï¼Œç‹è€…å³¡è°·è§ æœºå™¨å­¦ä¹  &amp; æ·±åº¦å­¦ä¹  NG ç¬”è®°</a></li>
<li><a href="https://github.com/fengdu78/deeplearning_ai_books" target="_blank" rel="external">deeplearning.aiï¼ˆå´æ©è¾¾è€å¸ˆçš„æ·±åº¦å­¦ä¹ è¯¾ç¨‹ç¬”è®°åŠèµ„æºï¼‰</a></li>
<li><a href="https://github.com/theBigDataDigest/Andrew-Ng-deeplearning-part-5-Course-notes-in-Chinese/blob/master/Andrew-Ng-deeplearning.ai-part-5-Course%20notes.pdf" target="_blank" rel="external">å¤§æ•°æ®æ–‡æ‘˜ deeplearning.ai Sequence Models ä¸­æ–‡ç¬”è®°</a></li>
<li><a href="https://kulbear.github.io/pdf/sequence-models.pdf" target="_blank" rel="external">Sequence Models è‹±æ–‡ç‰ˆç¬”è®°</a></li>
<li><a href="https://blog.csdn.net/column/details/dl-nlp.html" target="_blank" rel="external">å¯’å°é˜³ - æ·±åº¦å­¦ä¹ ä¸è‡ªç„¶è¯­è¨€å¤„ç†</a></li>
<li><a href="https://blog.csdn.net/han_xiaoyang/article/category/5877239" target="_blank" rel="external">å¯’å°é˜³ä¸»é¡µ</a></li>
<li><a href="http://people.csail.mit.edu/bzhou/" target="_blank" rel="external">Bolei Zhou @Assistant Professor CUHK</a></li>
<li><a href="https://www.zhihu.com/question/49432647/answer/144958145" target="_blank" rel="external">è®¡ç®—æœºè§†è§‰å’Œè‡ªç„¶è¯­è¨€å¤„ç†ï¼Œå“ªä¸ªæ›´å…·æœ‰å‘å±•å‰æ™¯å‘¢ï¼Œè¿˜æ˜¯å„æœ‰åƒç§‹å‘¢ï¼Ÿ</a></li>
</ul>
<h2 id="Recommend"><a href="#Recommend" class="headerlink" title="Recommend"></a>Recommend</h2><ul>
<li><a href="https://blog.csdn.net/bvl10101111/article/details/78822739" target="_blank" rel="external">æ¨èç³»ç»Ÿç»å…¸è®ºæ–‡æ–‡çŒ®åŠä¸šç•Œåº”ç”¨</a></li>
</ul>
<h2 id="NLP"><a href="#NLP" class="headerlink" title="NLP"></a>NLP</h2><ul>
<li><a href="https://github.com/explosion/sense2vec" target="_blank" rel="external">sense2vec</a></li>
<li><a href="https://www.zybuluo.com/hanxiaoyang/note/472184" target="_blank" rel="external">zybuluo hanxiaoyang</a></li>
<li><a href="https://radimrehurek.com/gensim/" target="_blank" rel="external">gensim</a></li>
<li><a href="https://yq.aliyun.com/articles/158691" target="_blank" rel="external">è‡ªç„¶è¯­è¨€ç†è§£-ä»è§„åˆ™åˆ°æ·±åº¦å­¦ä¹ </a></li>
<li><a href="https://plushunter.github.io/" target="_blank" rel="external">Free Will</a></li>
<li><a href="http://www.wildml.com/" target="_blank" rel="external">www.wildml.com</a></li>
</ul>
<h2 id="Friends"><a href="#Friends" class="headerlink" title="Friends"></a>Friends</h2><ul>
<li><a href="https://blog.fazero.me/" target="_blank" rel="external">fazero</a></li>
<li><a href="http://wuchong.me/" target="_blank" rel="external">ali wuchong</a></li>
<li><a href="http://www.cnblogs.com/maybe2030/" target="_blank" rel="external">Pollçš„ç¬”è®°</a></li>
<li><a href="http://www.ruanyifeng.com/blog/" target="_blank" rel="external">é˜®ä¸€å³°çš„ç½‘ç»œæ—¥å¿—</a></li>
<li><a href="https://david-abel.github.io/" target="_blank" rel="external">ICML å­¦éœ¸ David Abel</a></li>
<li><a href="https://coolshell.cn" target="_blank" rel="external">é…·å£³</a></li>
</ul>
<h2 id="vps"><a href="#vps" class="headerlink" title="vps"></a>vps</h2><ul>
<li><a href="https://www.yuntionly.com/" target="_blank" rel="external">www.yuntionly.com</a></li>
<li><a href="https://www.wisevpn.net/" target="_blank" rel="external">www.wisevpn.net</a></li>
<li><a href="https://www.banwago.com/797.html" target="_blank" rel="external">www.banwago.com</a></li>
<li><a href="https://www.godaddy.com/" target="_blank" rel="external">www.godaddy.com</a></li>
<li><a href="https://www.cnbanwagong.com/4.html" target="_blank" rel="external">æ¬ç“¦å·¥ä¸­æ–‡ç½‘</a></li>
<li><a href="https://bwh1.net/" target="_blank" rel="external">æ¬ç“¦å·¥è´­ä¹°é¡µé¢</a></li>
<li><a href="http://ulis.me/archives/5909" target="_blank" rel="external">æ¬ç“¦å·¥VPSç»­è´¹çš„é‚£äº›äº‹</a></li>
</ul>
<blockquote>
<p>ssh ç™»å½•æ¬ç“¦å·¥æœºå™¨</p>
<ol>
<li>stop server @Main controls</li>
<li>Root password modification</li>
<li>start Server</li>
<li>Root shell - interactive</li>
<li><p>vi /etc/ssh/sshd_config, add </p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">PermitRootLogin yes</span><br><span class="line">Port 22</span><br></pre></td></tr></table></figure>
</li>
<li><p>/etc/init.d/sshd restart</p>
</li>
<li>ssh root@ip</li>
</ol>
</blockquote>
<h2 id="python"><a href="#python" class="headerlink" title="python"></a>python</h2><ul>
<li><a href="https://www.liaoxuefeng.com/wiki/0014316089557264a6b348958f449949df42a6d3a2e542c000" target="_blank" rel="external">å»–é›ªå³° Python 3 </a></li>
<li><a href="https://github.com/elastic/elasticsearch-dsl-py" target="_blank" rel="external">elasticsearch-dsl-py</a></li>
<li><a href="https://pypi.python.org/pypi" target="_blank" rel="external">pypi.python.org/pypi</a></li>
<li><a href="https://github.com/pyenv/pyenv-installer" target="_blank" rel="external">install pyenv</a></li>
<li><a href="http://flask.pocoo.org/" target="_blank" rel="external">flask microframework</a></li>
</ul>
<blockquote>
<p>pip install elasticsearch_dsl==0.0.11</p>
</blockquote>
<h2 id="shell"><a href="#shell" class="headerlink" title="shell"></a>shell</h2><ul>
<li><a href="http://www.runoob.com/linux/linux-command-manual.html" target="_blank" rel="external">runoob linux</a></li>
</ul>
<h2 id="spark"><a href="#spark" class="headerlink" title="spark"></a>spark</h2><ul>
<li><a href="http://spark.apache.org/" target="_blank" rel="external">spark.apache.org</a></li>
<li><a href="http://spark.apache.org/docs/1.6.3/api/python/pyspark.sql.html#pyspark.sql.DataFrame" target="_blank" rel="external">python spark 1.6.3</a></li>
<li><a href="https://github.com/apache/spark" target="_blank" rel="external">github spark</a></li>
</ul>
<h2 id="mac"><a href="#mac" class="headerlink" title="mac"></a>mac</h2><ul>
<li><a href="https://www.zhihu.com/question/20021861" target="_blank" rel="external">macOS (OS X) æœ‰å“ªäº›å¸¸ç”¨çš„å¿«æ·é”®ï¼Ÿ</a></li>
</ul>
<h2 id="blog"><a href="#blog" class="headerlink" title="blog"></a>blog</h2><ul>
<li><a href="https://dotblogs.com.tw/hatelove/2017/03/26/why-engineers-should-keep-blogging" target="_blank" rel="external">é¼“åŠ±å·¥ç¨‹å¸ˆå†™blog</a></li>
<li><a href="https://coolshell.cn/articles/17583.html" target="_blank" rel="external">æŠ€æœ¯äººå‘˜çš„å‘å±•ä¹‹è·¯</a></li>
</ul>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[Coursera 7 - Support Vector Machines]]></title>
      <url>http://iequa.com/2017/10/13/ml-coursera-ng-w7-svm/</url>
      <content type="html"><![CDATA[<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js"],
    jax: ["input/TeX"],
    tex2jax: {
      inlineMath: [ ['$','$'], ['\\(','\\)'] ],
      displayMath: [ ['$$','$$']],
      processEscapes: true
    }
  });
</script>
<script type="text/javascript" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS_HTML,http://myserver.com/MathJax/config/local/local.js">
</script>

<p>From <code>Logistic Regression</code> to <code>Support Vector Machines</code></p>
<a id="more"></a>
<h2 id="1-Large-Margin-Classification"><a href="#1-Large-Margin-Classification" class="headerlink" title="1. Large Margin Classification"></a>1. Large Margin Classification</h2><p><strong>Alternation view of logistic regression</strong></p>
<p>$ \begin{align} h_\theta (x) = g({\theta^T x}) = \dfrac{1}{1 + e^{-\theta^T x}} \end{align}  \; , \; h_\theta (x) \in [0, 1] $ </p>
<p><img src="/images/ml/coursera/ml-ng-w3-02.png" width="820" height="500" align="middle" img=""></p>
<blockquote>
<p>$ y = 1 \; when \; h_\theta(x) = g(\theta^T x) \geq 0.5 \; when \; \theta^T x \geq 0 $.   </p>
<p>$ y = 0 \; when \; h_\theta(x) = g(\theta^T x) \le 0.5 \; when \; \theta^T x \le 0 $ </p>
</blockquote>
<p>We can compress our cost functionâ€™s two conditional cases into one case:</p>
<p>$ \mathrm{Cost}(h_\theta(x),y) = - y \cdot \log(h_\theta(x)) - (1 - y) \cdot \log(1 - h_\theta(x))$</p>
<p>We can fully write out our entire cost function as follows:</p>
<p>$<br>J(\theta) = - \frac{1}{m} \displaystyle \sum_{i=1}^m [y^{(i)}\log (h_\theta (x^{(i)})) + (1 - y^{(i)})\log (1 - h_\theta(x^{(i)}))]<br>$</p>
<p>$<br>J(\theta) = \mathop{min}\limits_{_\theta} \frac{1}{m} \left[ \displaystyle \sum_{i=1}^m y^{(i)}\ \left(-\log h_\theta (x^{(i)}) \right) + (1 - y^{(i)}) \left( - \log (1 - h_\theta(x^{(i)})) \right) \right]+ \frac{\lambda}{2m} \displaystyle \sum_{j=1}^n \theta_j^2<br>$</p>
<blockquote>
<p>$cost_1(\theta^T x^{i}) = -\log h_\theta (x^{(i)})$<br>$cost_0(\theta^T x^{i}) = - \log (1 - h_\theta(x^{(i)}))$</p>
</blockquote>
<p>$<br>J(\theta) = \mathop{min}\limits_{_\theta} \frac{1}{m} \left[ \displaystyle \sum_{i=1}^m y^{(i)}\ \left(cost_1(\theta^T x^{i}) \right) + (1 - y^{(i)}) \left( cost_0(\theta^T x^{i}) \right) \right]+ \frac{\lambda}{2m} \displaystyle \sum_{j=1}^n \theta_j^2<br>$</p>
<h3 id="1-1-Optimization-Objective"><a href="#1-1-Optimization-Objective" class="headerlink" title="1.1 Optimization Objective"></a>1.1 Optimization Objective</h3><p>$<br>J(\theta) = \mathop{min}\limits_{_\theta} \frac{1}{m} \left[ \displaystyle \sum_{i=1}^m y^{(i)}\ \left(cost_1(\theta^T x^{i}) \right) + (1 - y^{(i)}) \left( cost_0(\theta^T x^{i}) \right) \right]+ \frac{\lambda}{2m} \displaystyle \sum_{j=1}^n \theta_j^2<br>$</p>
<blockquote>
<p>ä»¤ $C = \frac{1}{\theta}$ </p>
</blockquote>
<p>$<br>J(\theta) = \mathop{min}\limits_{_\theta} C \displaystyle \sum_{i=1}^m \left[  y^{(i)}\ cost_1(\theta^T x^{i}) + (1 - y^{(i)}) cost_0(\theta^T x^{i}) \right]+ \frac{1}{2m} \displaystyle \sum_{j=1}^n \theta_j^2<br>$</p>
<h3 id="1-2-Large-Margin-Intuition"><a href="#1-2-Large-Margin-Intuition" class="headerlink" title="1.2 Large Margin Intuition"></a>1.2 Large Margin Intuition</h3><p><img src="/images/ml/coursera/ml-ng-w7-svm-1.png" width="620" height="400" align="middle" img=""></p>
<p><img src="/images/ml/coursera/ml-ng-w7-svm-2.png" width="620" height="400" align="middle" img=""></p>
<p><img src="/images/ml/coursera/ml-ng-w7-svm-3.png" width="620" height="400" align="middle" img=""></p>
<h3 id="1-3-Mathematics-Behind-Large-Margin-Classification"><a href="#1-3-Mathematics-Behind-Large-Margin-Classification" class="headerlink" title="1.3 Mathematics Behind Large Margin Classification"></a>1.3 Mathematics Behind Large Margin Classification</h3><p><img src="/images/ml/coursera/ml-ng-w7-svm-4.png" width="620" height="400" align="middle" img=""></p>
<p><img src="/images/ml/coursera/ml-ng-w7-svm-5.png" width="620" height="400" align="middle" img=""></p>
<p><img src="/images/ml/coursera/ml-ng-w7-svm-6.png" width="620" height="400" align="middle" img=""></p>
<h2 id="2-Kernels"><a href="#2-Kernels" class="headerlink" title="2. Kernels"></a>2. Kernels</h2><h3 id="2-1-Kernels-I"><a href="#2-1-Kernels-I" class="headerlink" title="2.1 Kernels I"></a>2.1 Kernels I</h3><h3 id="2-2-Kernels-II"><a href="#2-2-Kernels-II" class="headerlink" title="2.2 Kernels II"></a>2.2 Kernels II</h3><h2 id="3-SVMs-in-Practice"><a href="#3-SVMs-in-Practice" class="headerlink" title="3. SVMs in Practice"></a>3. SVMs in Practice</h2><h3 id="3-1-Using-An-SVM"><a href="#3-1-Using-An-SVM" class="headerlink" title="3.1 Using An SVM"></a>3.1 Using An SVM</h3><h2 id="Reference"><a href="#Reference" class="headerlink" title="Reference"></a>Reference</h2><ul>
<li><a href="https://zhuanlan.zhihu.com/p/24638007" target="_blank" rel="external">é›¶åŸºç¡€å­¦SVMâ€”Support Vector Machine(ä¸€)</a></li>
</ul>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[My Blog Config.yml]]></title>
      <url>http://iequa.com/2017/10/08/ops-hexo-blog_config.yml/</url>
      <content type="html"><![CDATA[<p>hexo blog config.yml file</p>
<a id="more"></a>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># Hexo Configuration</span></span><br><span class="line"><span class="comment">## Docs: https://hexo.io/docs/configuration.html</span></span><br><span class="line"><span class="comment">## Source: https://github.com/hexojs/hexo/</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Site</span></span><br><span class="line">title: Home</span><br><span class="line">subtitle: æ˜¥æœ‰ç™¾èŠ±ç§‹æœ‰æœˆï¼Œå¤æœ‰æ¶¼é¢¨å†¬æœ‰é›ª .</span><br><span class="line">description: Everyone should not forget his dream</span><br><span class="line">author: Blair Chan</span><br><span class="line"><span class="comment">#avatar: /images/avatar.jpeg</span></span><br><span class="line"></span><br><span class="line">language: </span><br><span class="line">- en</span><br><span class="line">- zh-Hans</span><br><span class="line">- zh-tw</span><br><span class="line">timezone:</span><br><span class="line"></span><br><span class="line"><span class="comment">#leancloud_visitors:</span></span><br><span class="line"><span class="comment">#  enable: true</span></span><br><span class="line"><span class="comment">#  app_id: #&lt;AppID&gt;</span></span><br><span class="line"><span class="comment">#  app_key: #&lt;AppKEY&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#comments</span></span><br><span class="line">disqus_shortname: blairos-sn</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># URL</span></span><br><span class="line"><span class="comment">## If your site is put in a subdirectory, set url as 'http://yoursite.com/child' and root as '/child/'</span></span><br><span class="line">url: http://iequa.com/</span><br><span class="line">root: /</span><br><span class="line">permalink: :year/:month/:day/:title/</span><br><span class="line">permalink_defaults:</span><br><span class="line"></span><br><span class="line"><span class="comment"># Directory</span></span><br><span class="line"><span class="built_in">source</span>_dir: <span class="built_in">source</span></span><br><span class="line">public_dir: public</span><br><span class="line">tag_dir: tags</span><br><span class="line">archive_dir: archives</span><br><span class="line">category_dir: categories</span><br><span class="line">code_dir: downloads/code</span><br><span class="line">i18n_dir: :lang</span><br><span class="line">skip_render:</span><br><span class="line"></span><br><span class="line"><span class="comment"># Writing</span></span><br><span class="line">new_post_name: :title.md <span class="comment"># File name of new posts</span></span><br><span class="line">default_layout: post</span><br><span class="line">titlecase: <span class="literal">false</span> <span class="comment"># Transform title into titlecase</span></span><br><span class="line">external_link: <span class="literal">true</span> <span class="comment"># Open external links in new tab</span></span><br><span class="line">filename_<span class="keyword">case</span>: 0</span><br><span class="line">render_drafts: <span class="literal">false</span></span><br><span class="line">post_asset_folder: <span class="literal">false</span></span><br><span class="line">relative_link: <span class="literal">false</span></span><br><span class="line">future: <span class="literal">true</span></span><br><span class="line">highlight:</span><br><span class="line">  <span class="built_in">enable</span>: <span class="literal">true</span></span><br><span class="line">  line_number: <span class="literal">false</span></span><br><span class="line">  auto_detect: <span class="literal">false</span></span><br><span class="line">  tab_replace:</span><br><span class="line"></span><br><span class="line"><span class="comment"># Category &amp; Tag</span></span><br><span class="line">default_category: uncategorized</span><br><span class="line">category_map:</span><br><span class="line">tag_map:</span><br><span class="line"></span><br><span class="line"><span class="comment"># Date / Time format</span></span><br><span class="line"><span class="comment">## Hexo uses Moment.js to parse and display date</span></span><br><span class="line"><span class="comment">## You can customize the date format as defined in</span></span><br><span class="line"><span class="comment">## http://momentjs.com/docs/#/displaying/format/</span></span><br><span class="line">date_format: YYYY-MM-DD</span><br><span class="line">time_format: HH:mm:ss</span><br><span class="line"></span><br><span class="line"><span class="comment"># Pagination</span></span><br><span class="line"><span class="comment">## Set per_page to 0 to disable pagination</span></span><br><span class="line">per_page: 10</span><br><span class="line">pagination_dir: page</span><br><span class="line"></span><br><span class="line"><span class="comment"># Extensions</span></span><br><span class="line"><span class="comment">## Plugins: https://hexo.io/plugins/</span></span><br><span class="line"><span class="comment">## Themes: https://hexo.io/themes/</span></span><br><span class="line"><span class="comment">## theme: hexo-theme-next</span></span><br><span class="line"><span class="comment">## theme: yinwang</span></span><br><span class="line"><span class="comment">## theme: minos</span></span><br><span class="line">theme: blairos</span><br><span class="line"><span class="comment">## theme: jacman</span></span><br><span class="line"><span class="comment">## theme: landscape-plus</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># Deployment</span></span><br><span class="line"><span class="comment">## Docs: https://hexo.io/docs/deployment.html</span></span><br><span class="line">deploy:<span class="built_in">type</span>: git</span><br><span class="line">repository: https://github.com/52binge/52binge.github.io.git</span><br><span class="line">branch: master</span><br></pre></td></tr></table></figure>]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[My Vim Config File]]></title>
      <url>http://iequa.com/2017/10/04/ops-vimrc/</url>
      <content type="html"><![CDATA[<p>my vim custom config .vimrc file</p>
<a id="more"></a>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="built_in">set</span> nocompatible <span class="string">" å…³é—­ vi å…¼å®¹æ¨¡å¼  </span><br><span class="line">syntax on        "</span> è‡ªåŠ¨è¯­æ³•é«˜äº®  </span><br><span class="line"><span class="built_in">set</span> number     <span class="string">" æ˜¾ç¤ºè¡Œå·         "</span> <span class="built_in">set</span> cursorline    çªå‡ºæ˜¾ç¤ºå½“å‰è¡Œ  </span><br><span class="line"><span class="built_in">set</span> ruler        <span class="string">" æ‰“å¼€çŠ¶æ€æ æ ‡å°º    (ä¸é”™)  </span><br><span class="line">set shiftwidth=4 "</span> è®¾å®š &lt;&lt; å’Œ &gt;&gt; å‘½ä»¤ç§»åŠ¨æ—¶çš„å®½åº¦ä¸º 4  </span><br><span class="line"><span class="built_in">set</span> smartindent  </span><br><span class="line"><span class="built_in">set</span> tabstop=4         <span class="string">" tabstop=4 è®¾å®š tab é•¿åº¦ä¸º4  </span><br><span class="line">set softtabstop=4   </span><br><span class="line">set expandtab  </span><br><span class="line">set encoding=utf-8 fileencodings=ucs-bom,utf-8,cp936</span><br><span class="line">set nobackup     "</span> è¦†ç›–æ–‡ä»¶æ—¶ä¸å¤‡ä»½  </span><br><span class="line"><span class="built_in">set</span> ignorecase smartcase    <span class="string">" æœç´¢æ—¶å¿½ç•¥å¤§å°å†™ï¼Œä½†åœ¨æœ‰ä¸€ä¸ªæˆ–ä»¥ä¸Šå¤§å†™å­—æ¯æ—¶ä»å¤§å°å†™æ•æ„Ÿ  </span><br><span class="line">"</span><span class="built_in">set</span> nowrapscan              <span class="string">" ç¦æ­¢åœ¨æœç´¢åˆ°æ–‡ä»¶ä¸¤ç«¯æ—¶é‡æ–°æœç´¢  </span><br><span class="line">set nowrapscan              "</span> ç¦æ­¢åœ¨æœç´¢åˆ°æ–‡ä»¶ä¸¤ç«¯æ—¶é‡æ–°æœç´¢  </span><br><span class="line"><span class="built_in">set</span> incsearch               <span class="string">" è¾“å…¥æœç´¢å†…å®¹æ—¶å°±æ˜¾ç¤ºæœç´¢ç»“æœ  </span><br><span class="line">set hlsearch                "</span> æœç´¢æ—¶é«˜äº®æ˜¾ç¤ºè¢«æ‰¾åˆ°çš„æ–‡æœ¬  </span><br><span class="line"><span class="built_in">set</span> noerrorbells            <span class="string">" å…³é—­é”™è¯¯ä¿¡æ¯å“é“ƒ  </span><br><span class="line">set novisualbell            "</span> å…³é—­ä½¿ç”¨å¯è§†å“é“ƒä»£æ›¿å‘¼å«  </span><br><span class="line"><span class="built_in">set</span> t_vb=                   <span class="string">" ç½®ç©ºé”™è¯¯é“ƒå£°çš„ç»ˆç«¯ä»£ç   </span><br><span class="line">set showmatch               "</span> æ’å…¥æ‹¬å·æ—¶ï¼ŒçŸ­æš‚åœ°è·³è½¬åˆ°åŒ¹é…çš„å¯¹åº”æ‹¬å·  </span><br><span class="line"><span class="string">" set matchtime=2             "</span> çŸ­æš‚è·³è½¬åˆ°åŒ¹é…æ‹¬å·çš„æ—¶é—´  </span><br><span class="line"><span class="built_in">set</span> magic                   <span class="string">" è®¾ç½®é­”æœ¯  </span><br><span class="line">set hidden                  "</span> å…è®¸åœ¨æœ‰æœªä¿å­˜çš„ä¿®æ”¹æ—¶åˆ‡æ¢ç¼“å†²åŒºï¼Œæ­¤æ—¶çš„ä¿®æ”¹ç”± vim è´Ÿè´£ä¿å­˜  </span><br><span class="line"><span class="string">"set guioptions-=T           "</span> éšè—å·¥å…·æ   </span><br><span class="line"><span class="string">"set guioptions-=m           "</span> éšè—èœå•æ   </span><br><span class="line"><span class="built_in">set</span> smartindent             <span class="string">" å¼€å¯æ–°è¡Œæ—¶ä½¿ç”¨æ™ºèƒ½è‡ªåŠ¨ç¼©è¿›  </span><br><span class="line">set backspace=indent,eol,start  </span><br><span class="line">                            "</span> ä¸è®¾å®šåœ¨æ’å…¥çŠ¶æ€æ— æ³•ç”¨é€€æ ¼é”®å’Œ Delete é”®åˆ é™¤å›è½¦ç¬¦  </span><br><span class="line"><span class="built_in">set</span> cmdheight=1             <span class="string">" è®¾å®šå‘½ä»¤è¡Œçš„è¡Œæ•°ä¸º 1  </span><br><span class="line">set laststatus=2            "</span> æ˜¾ç¤ºçŠ¶æ€æ  (é»˜è®¤å€¼ä¸º 1, æ— æ³•æ˜¾ç¤ºçŠ¶æ€æ )  </span><br><span class="line"><span class="built_in">set</span> statusline=\ %&lt;%F[%1*%M%*%n%R%H]%=\ %y\ %0(%&#123;&amp;fileformat&#125;\ %&#123;&amp;encoding&#125;\ %c:%l/%L%)\  </span><br><span class="line"><span class="string">" è®¾ç½®åœ¨çŠ¶æ€è¡Œæ˜¾ç¤ºçš„ä¿¡æ¯  </span><br><span class="line">"</span><span class="built_in">set</span> foldenable              <span class="string">" å¼€å§‹æŠ˜å   </span><br><span class="line">"</span><span class="built_in">set</span> foldmethod=syntax       <span class="string">" è®¾ç½®è¯­æ³•æŠ˜å   </span><br><span class="line">"</span><span class="built_in">set</span> foldcolumn=0            <span class="string">" è®¾ç½®æŠ˜å åŒºåŸŸçš„å®½åº¦  </span><br><span class="line">"</span>setlocal foldlevel=1        <span class="string">" è®¾ç½®æŠ˜å å±‚æ•°ä¸º  </span><br><span class="line">"</span> <span class="built_in">set</span> foldclose=all           <span class="string">" è®¾ç½®ä¸ºè‡ªåŠ¨å…³é—­æŠ˜å                              </span><br><span class="line">"</span> nnoremap &lt;space&gt; @=((foldclosed(line(<span class="string">'.'</span>)) &lt; 0) ? <span class="string">'zc'</span> : <span class="string">'zo'</span>)&lt;CR&gt;  </span><br><span class="line"><span class="string">" ç”¨ç©ºæ ¼é”®æ¥å¼€å…³æŠ˜å   </span><br><span class="line"></span><br><span class="line">set fileencodings=utf-8,ucs-bom,gb18030,gbk,gb2312,cp936</span><br><span class="line">set termencoding=utf-8</span><br><span class="line">set encoding=utf-8  </span><br><span class="line">  </span><br><span class="line">"</span> <span class="built_in">return</span> OS <span class="built_in">type</span>, eg: windows, or linux, mac, et.st..  </span><br><span class="line"><span class="keyword">function</span>! MySys()  </span><br><span class="line">    <span class="keyword">if</span> has(<span class="string">"win16"</span>) || has(<span class="string">"win32"</span>) || has(<span class="string">"win64"</span>) || has(<span class="string">"win95"</span>)  </span><br><span class="line">       <span class="built_in">return</span> <span class="string">"windows"</span>  </span><br><span class="line">    elseif has(<span class="string">"unix"</span>)  </span><br><span class="line">       <span class="built_in">return</span> <span class="string">"linux"</span>  </span><br><span class="line">    endif  </span><br><span class="line">endfunction  </span><br><span class="line">  </span><br><span class="line"><span class="string">" ç”¨æˆ·ç›®å½•å˜é‡<span class="variable">$VIMFILES</span>  </span><br><span class="line">if MySys() == "</span>windows<span class="string">"  </span><br><span class="line">    let <span class="variable">$VIMFILES</span> = <span class="variable">$VIM</span>.'/vimfiles'  </span><br><span class="line">elseif MySys() == "</span>linux<span class="string">"  </span><br><span class="line">    let <span class="variable">$VIMFILES</span> = <span class="variable">$HOME</span>.'/.vim'  </span><br><span class="line">endif  </span><br><span class="line">  </span><br><span class="line">"</span> è®¾å®šdocæ–‡æ¡£ç›®å½•  </span><br><span class="line"><span class="built_in">let</span> helptags=<span class="variable">$VIMFILES</span>.<span class="string">'/doc'</span>  </span><br><span class="line">  </span><br><span class="line"><span class="string">" è®¾ç½®å­—ä½“ ä»¥åŠä¸­æ–‡æ”¯æŒ  </span><br><span class="line">if has("</span>win32<span class="string">")  </span><br><span class="line">    set guifont=Inconsolata:h12:cANSI  </span><br><span class="line">endif  </span><br><span class="line">  </span><br><span class="line">"</span> é…ç½®å¤šè¯­è¨€ç¯å¢ƒ  </span><br><span class="line"><span class="keyword">if</span> has(<span class="string">"multi_byte"</span>)  </span><br><span class="line">   <span class="string">" UTF-8 ç¼–ç   </span><br><span class="line">    set encoding=utf-8  </span><br><span class="line">    set termencoding=utf-8  </span><br><span class="line">    set formatoptions+=mM  </span><br><span class="line">    set fencs=utf-8,gbk  </span><br><span class="line">  </span><br><span class="line">    if v:lang =~? '^\(zh\)\|\(ja\)\|\(ko\)'  </span><br><span class="line">          set ambiwidth=double  </span><br><span class="line">    endif  </span><br><span class="line">  </span><br><span class="line">    if has("</span>win32<span class="string">")  </span><br><span class="line">        source <span class="variable">$VIMRUNTIME</span>/delmenu.vim  </span><br><span class="line">           source <span class="variable">$VIMRUNTIME</span>/menu.vim  </span><br><span class="line">           language messages zh_CN.utf-8  </span><br><span class="line">    endif  </span><br><span class="line">    else  </span><br><span class="line">           echoerr "</span>Sorry, this version of (g)vim was not compiled with +multi_byte<span class="string">"  </span><br><span class="line">endif  </span><br><span class="line">  </span><br><span class="line">"</span> Buffersæ“ä½œå¿«æ·æ–¹å¼!  </span><br><span class="line">nnoremap &lt;C-RETURN&gt; :bnext&lt;CR&gt;  </span><br><span class="line">nnoremap &lt;C-S-RETURN&gt; :bprevious&lt;CR&gt;  </span><br><span class="line"><span class="string">" Tabæ“ä½œå¿«æ·æ–¹å¼!  </span><br><span class="line">nnoremap &lt;C-TAB&gt; :tabnext&lt;CR&gt;  </span><br><span class="line">nnoremap &lt;C-S-TAB&gt; :tabprev&lt;CR&gt;  </span><br><span class="line">"</span>å…³äºtabçš„å¿«æ·é”®  </span><br><span class="line"><span class="string">" map tn :tabnext&lt;cr&gt;  </span><br><span class="line">"</span> map tp :tabprevious&lt;cr&gt;  </span><br><span class="line"><span class="string">" map td :tabnew .&lt;cr&gt;  </span><br><span class="line">"</span> map te :tabedit  </span><br><span class="line"><span class="string">" map tc :tabclose&lt;cr&gt;  </span><br><span class="line">"</span>çª—å£åˆ†å‰²æ—¶,è¿›è¡Œåˆ‡æ¢çš„æŒ‰é”®çƒ­é”®éœ€è¦è¿æ¥ä¸¤æ¬¡,æ¯”å¦‚ä»ä¸‹æ–¹çª—å£ç§»åŠ¨  </span><br><span class="line"><span class="string">"å…‰æ ‡åˆ°ä¸Šæ–¹çª—å£,éœ€è¦&lt;c-w&gt;&lt;c-w&gt;k,éå¸¸éº»çƒ¦,ç°åœ¨é‡æ˜ å°„ä¸º&lt;c-k&gt;,åˆ‡æ¢çš„  </span><br><span class="line">"</span>æ—¶å€™ä¼šå˜å¾—éå¸¸æ–¹ä¾¿.  </span><br><span class="line">nnoremap &lt;C-h&gt; &lt;C-w&gt;h  </span><br><span class="line">nnoremap &lt;C-j&gt; &lt;C-w&gt;j  </span><br><span class="line">nnoremap &lt;C-k&gt; &lt;C-w&gt;k  </span><br><span class="line">nnoremap &lt;C<span class="_">-l</span>&gt; &lt;C-w&gt;l  </span><br><span class="line"><span class="string">"ä¸€äº›ä¸é”™çš„æ˜ å°„è½¬æ¢è¯­æ³•ï¼ˆå¦‚æœåœ¨ä¸€ä¸ªæ–‡ä»¶ä¸­æ··åˆäº†ä¸åŒè¯­è¨€æ—¶æœ‰ç”¨ï¼‰  </span><br><span class="line">nnoremap &lt;leader&gt;1 :set filetype=xhtml&lt;CR&gt;  </span><br><span class="line">nnoremap &lt;leader&gt;2 :set filetype=css&lt;CR&gt;  </span><br><span class="line">nnoremap &lt;leader&gt;3 :set filetype=javascript&lt;CR&gt;  </span><br><span class="line">nnoremap &lt;leader&gt;4 :set filetype=php&lt;CR&gt;  </span><br><span class="line">"</span> <span class="built_in">set</span> fileformats=unix,dos,mac  </span><br><span class="line"><span class="string">" nmap &lt;leader&gt;fd :se fileformat=dos&lt;CR&gt;  </span><br><span class="line">"</span> nmap &lt;leader&gt;fu :se fileformat=unix&lt;CR&gt;  </span><br><span class="line">  </span><br><span class="line"><span class="string">" use Ctrl+[l|n|p|cc] to list|next|previous|jump to count the result  </span><br><span class="line">"</span> map &lt;C-x&gt;l &lt;ESC&gt;:cl&lt;CR&gt;  </span><br><span class="line"><span class="string">" map &lt;C-x&gt;n &lt;ESC&gt;:cn&lt;CR&gt;  </span><br><span class="line">"</span> map &lt;C-x&gt;p &lt;ESC&gt;:cp&lt;CR&gt;  </span><br><span class="line"><span class="string">" map &lt;C-x&gt;c &lt;ESC&gt;:cc&lt;CR&gt;  </span><br><span class="line">  </span><br><span class="line">  </span><br><span class="line">"</span> è®© Tohtml äº§ç”Ÿæœ‰ CSS è¯­æ³•çš„ html  </span><br><span class="line"><span class="string">" syntax/2html.vimï¼Œå¯ä»¥ç”¨:runtime! syntax/2html.vim  </span><br><span class="line">let html_use_css=1  </span><br><span class="line">"</span> Python æ–‡ä»¶çš„ä¸€èˆ¬è®¾ç½®ï¼Œæ¯”å¦‚ä¸è¦ tab ç­‰  </span><br><span class="line">autocmd FileType python <span class="built_in">set</span> tabstop=4 shiftwidth=4 expandtab  </span><br><span class="line">autocmd FileType python map &lt;F12&gt; :!python %&lt;CR&gt;  </span><br><span class="line"><span class="string">" é€‰ä¸­çŠ¶æ€ä¸‹ Ctrl+c å¤åˆ¶  </span><br><span class="line">vmap &lt;C-c&gt; "</span>+y  </span><br><span class="line"><span class="string">" æ‰“å¼€javascriptæŠ˜å   </span><br><span class="line">let b:javascript_fold=1  </span><br><span class="line">"</span> æ‰“å¼€javascriptå¯¹domã€htmlå’Œcssçš„æ”¯æŒ  </span><br><span class="line"><span class="built_in">let</span> javascript_<span class="built_in">enable</span>_domhtmlcss=1  </span><br><span class="line"><span class="string">" è®¾ç½®å­—å…¸ ~/.vim/dict/æ–‡ä»¶çš„è·¯å¾„  </span><br><span class="line">autocmd filetype javascript set dictionary=<span class="variable">$VIMFILES</span>/dict/javascript.dict  </span><br><span class="line">autocmd filetype css set dictionary=<span class="variable">$VIMFILES</span>/dict/css.dict  </span><br><span class="line">autocmd filetype php set dictionary=<span class="variable">$VIMFILES</span>/dict/php.dict  </span><br><span class="line">  </span><br><span class="line">"</span>-----------------------------------------------------------------  </span><br><span class="line">    <span class="string">" plugin - bufexplorer.vim Buffersåˆ‡æ¢  </span><br><span class="line">    "</span> \be å…¨å±æ–¹å¼æŸ¥çœ‹å…¨éƒ¨æ‰“å¼€çš„æ–‡ä»¶åˆ—è¡¨  </span><br><span class="line">    <span class="string">" \bv å·¦å³æ–¹å¼æŸ¥çœ‹   \bs ä¸Šä¸‹æ–¹å¼æŸ¥çœ‹  </span><br><span class="line">"</span>-----------------------------------------------------------------  </span><br><span class="line">  </span><br><span class="line">  </span><br><span class="line"><span class="string">"-----------------------------------------------------------------  </span><br><span class="line">    "</span> plugin - taglist.vim  æŸ¥çœ‹å‡½æ•°åˆ—è¡¨ï¼Œéœ€è¦ctagsç¨‹åº  </span><br><span class="line">    <span class="string">" F4 æ‰“å¼€éšè—taglistçª—å£  </span><br><span class="line">"</span>-----------------------------------------------------------------  </span><br><span class="line"><span class="keyword">if</span> MySys() == <span class="string">"windows"</span>                <span class="string">" è®¾å®šwindowsç³»ç»Ÿä¸­ctagsç¨‹åºçš„ä½ç½®  </span><br><span class="line">    let Tlist_Ctags_Cmd = '"</span><span class="string">'.$VIMRUNTIME.'</span>/ctags.exe<span class="string">"'  </span><br><span class="line">elseif MySys() == "</span>linux<span class="string">"              "</span> è®¾å®šwindowsç³»ç»Ÿä¸­ctagsç¨‹åºçš„ä½ç½®  </span><br><span class="line">    <span class="built_in">let</span> Tlist_Ctags_Cmd = <span class="string">'/usr/bin/ctags'</span>  </span><br><span class="line">endif  </span><br><span class="line">nnoremap &lt;silent&gt;&lt;F4&gt; :TlistToggle&lt;CR&gt;  </span><br><span class="line"><span class="built_in">let</span> Tlist_Show_One_File = 1            <span class="string">" ä¸åŒæ—¶æ˜¾ç¤ºå¤šä¸ªæ–‡ä»¶çš„tagï¼Œåªæ˜¾ç¤ºå½“å‰æ–‡ä»¶çš„  </span><br><span class="line">let Tlist_Exit_OnlyWindow = 1          "</span> å¦‚æœtaglistçª—å£æ˜¯æœ€åä¸€ä¸ªçª—å£ï¼Œåˆ™é€€å‡ºvim  </span><br><span class="line"><span class="built_in">let</span> Tlist_Use_Right_Window = 1         <span class="string">" åœ¨å³ä¾§çª—å£ä¸­æ˜¾ç¤ºtaglistçª—å£  </span><br><span class="line">let Tlist_File_Fold_Auto_Close=1       "</span> è‡ªåŠ¨æŠ˜å å½“å‰éç¼–è¾‘æ–‡ä»¶çš„æ–¹æ³•åˆ—è¡¨  </span><br><span class="line"><span class="built_in">let</span> Tlist_Auto_Open = 0  </span><br><span class="line"><span class="built_in">let</span> Tlist_Auto_Update = 1  </span><br><span class="line"><span class="built_in">let</span> Tlist_Hightlight_Tag_On_BufEnter = 1  </span><br><span class="line"><span class="built_in">let</span> Tlist_Enable_Fold_Column = 0  </span><br><span class="line"><span class="built_in">let</span> Tlist_Process_File_Always = 1  </span><br><span class="line"><span class="built_in">let</span> Tlist_Display_Prototype = 0  </span><br><span class="line"><span class="built_in">let</span> Tlist_Compact_Format = 1  </span><br><span class="line">  </span><br><span class="line">  </span><br><span class="line"><span class="string">"-----------------------------------------------------------------  </span><br><span class="line">"</span> plugin - mark.vim ç»™å„ç§tagsæ ‡è®°ä¸åŒçš„é¢œè‰²ï¼Œä¾¿äºè§‚çœ‹è°ƒå¼çš„æ’ä»¶ã€‚  </span><br><span class="line"><span class="string">" \m  mark or unmark the word under (or before) the cursor  </span><br><span class="line">"</span> \r  manually input a regular expression. ç”¨äºæœç´¢.  </span><br><span class="line"><span class="string">" \n  clear this mark (i.e. the mark under the cursor), or clear all highlighted marks .  </span><br><span class="line">"</span> \*  å½“å‰MarkWordçš„ä¸‹ä¸€ä¸ª     \<span class="comment">#  å½“å‰MarkWordçš„ä¸Šä¸€ä¸ª  </span></span><br><span class="line"><span class="string">" \/  æ‰€æœ‰MarkWordsçš„ä¸‹ä¸€ä¸ª    \?  æ‰€æœ‰MarkWordsçš„ä¸Šä¸€ä¸ª  </span><br><span class="line">"</span>-----------------------------------------------------------------  </span><br><span class="line">  </span><br><span class="line">  </span><br><span class="line"><span class="string">"-----------------------------------------------------------------  </span><br><span class="line">"</span> plugin - NERD_tree.vim ä»¥æ ‘çŠ¶æ–¹å¼æµè§ˆç³»ç»Ÿä¸­çš„æ–‡ä»¶å’Œç›®å½•  </span><br><span class="line"><span class="string">" :ERDtree æ‰“å¼€NERD_tree         :NERDtreeClose    å…³é—­NERD_tree  </span><br><span class="line">"</span> o æ‰“å¼€å…³é—­æ–‡ä»¶æˆ–è€…ç›®å½•         t åœ¨æ ‡ç­¾é¡µä¸­æ‰“å¼€  </span><br><span class="line"><span class="string">" T åœ¨åå°æ ‡ç­¾é¡µä¸­æ‰“å¼€           ! æ‰§è¡Œæ­¤æ–‡ä»¶  </span><br><span class="line">"</span> p åˆ°ä¸Šå±‚ç›®å½•                   P åˆ°æ ¹ç›®å½•  </span><br><span class="line"><span class="string">" K åˆ°ç¬¬ä¸€ä¸ªèŠ‚ç‚¹                 J åˆ°æœ€åä¸€ä¸ªèŠ‚ç‚¹  </span><br><span class="line">"</span> u æ‰“å¼€ä¸Šå±‚ç›®å½•                 m æ˜¾ç¤ºæ–‡ä»¶ç³»ç»Ÿèœå•ï¼ˆæ·»åŠ ã€åˆ é™¤ã€ç§»åŠ¨æ“ä½œï¼‰  </span><br><span class="line"><span class="string">" r é€’å½’åˆ·æ–°å½“å‰ç›®å½•             R é€’å½’åˆ·æ–°å½“å‰æ ¹ç›®å½•  </span><br><span class="line">"</span>-----------------------------------------------------------------  </span><br><span class="line"><span class="string">" F3 NERDTree åˆ‡æ¢  </span><br><span class="line">map &lt;F3&gt; :NERDTreeToggle&lt;CR&gt;  </span><br><span class="line">imap &lt;F3&gt; &lt;ESC&gt;:NERDTreeToggle&lt;CR&gt;  </span><br><span class="line">  </span><br><span class="line">  </span><br><span class="line">"</span>-----------------------------------------------------------------  </span><br><span class="line"><span class="string">" plugin - NERD_commenter.vim   æ³¨é‡Šä»£ç ç”¨çš„ï¼Œ  </span><br><span class="line">"</span> [count],cc å…‰æ ‡ä»¥ä¸‹countè¡Œé€è¡Œæ·»åŠ æ³¨é‡Š(7,cc)  </span><br><span class="line"><span class="string">" [count],cu å…‰æ ‡ä»¥ä¸‹countè¡Œé€è¡Œå–æ¶ˆæ³¨é‡Š(7,cu)  </span><br><span class="line">"</span> [count],cm å…‰æ ‡ä»¥ä¸‹countè¡Œå°è¯•æ·»åŠ å—æ³¨é‡Š(7,cm)  </span><br><span class="line"><span class="string">" ,cA åœ¨è¡Œå°¾æ’å…¥ /* */,å¹¶ä¸”è¿›å…¥æ’å…¥æ¨¡å¼ã€‚ è¿™ä¸ªå‘½ä»¤æ–¹ä¾¿å†™æ³¨é‡Šã€‚  </span><br><span class="line">"</span> æ³¨ï¼šcountå‚æ•°å¯é€‰ï¼Œæ— åˆ™é»˜è®¤ä¸ºé€‰ä¸­è¡Œæˆ–å½“å‰è¡Œ  </span><br><span class="line"><span class="string">"-----------------------------------------------------------------  </span><br><span class="line">"</span><span class="built_in">let</span> NERDSpaceDelims=1       <span class="string">" è®©æ³¨é‡Šç¬¦ä¸è¯­å¥ä¹‹é—´ç•™ä¸€ä¸ªç©ºæ ¼  </span><br><span class="line">"</span><span class="built_in">let</span> NERDCompact***yComs=1   <span class="string">" å¤šè¡Œæ³¨é‡Šæ—¶æ ·å­æ›´å¥½çœ‹  </span><br><span class="line">  </span><br><span class="line">  </span><br><span class="line">"</span>-----------------------------------------------------------------  </span><br><span class="line"><span class="string">" plugin - DoxygenToolkit.vim  ç”±æ³¨é‡Šç”Ÿæˆæ–‡æ¡£ï¼Œå¹¶ä¸”èƒ½å¤Ÿå¿«é€Ÿç”Ÿæˆå‡½æ•°æ ‡å‡†æ³¨é‡Š  </span><br><span class="line">"</span>-----------------------------------------------------------------  </span><br><span class="line"><span class="built_in">let</span> g:DoxygenToolkit_authorName=<span class="string">"Asins - asinsimple AT gmail DOT com"</span>  </span><br><span class="line"><span class="built_in">let</span> g:DoxygenToolkit_briefTag_funcName=<span class="string">"yes"</span>  </span><br><span class="line">map &lt;leader&gt;da :DoxAuthor&lt;CR&gt;  </span><br><span class="line">map &lt;leader&gt;df :Dox&lt;CR&gt;  </span><br><span class="line">map &lt;leader&gt;db :DoxBlock&lt;CR&gt;  </span><br><span class="line">map &lt;leader&gt;dc a /*  */&lt;LEFT&gt;&lt;LEFT&gt;&lt;LEFT&gt;  </span><br><span class="line">  </span><br><span class="line">  </span><br><span class="line"><span class="string">"-----------------------------------------------------------------  </span><br><span class="line">"</span> plugin â€“ ZenCoding.vim å¾ˆé…·çš„æ’ä»¶ï¼ŒHTMLä»£ç ç”Ÿæˆ  </span><br><span class="line"><span class="string">" æ’ä»¶æœ€æ–°ç‰ˆï¼šhttp://github.com/mattn/zencoding-vim  </span><br><span class="line">"</span> å¸¸ç”¨å‘½ä»¤å¯çœ‹ï¼šhttp://nootn.com/blog/Tool/23/  </span><br><span class="line"><span class="string">"-----------------------------------------------------------------  </span><br><span class="line">  </span><br><span class="line">  </span><br><span class="line">"</span>-----------------------------------------------------------------  </span><br><span class="line"><span class="string">" plugin â€“ checksyntax.vim    JavaScriptå¸¸è§è¯­æ³•é”™è¯¯æ£€æŸ¥  </span><br><span class="line">"</span> é»˜è®¤å¿«æ·æ–¹å¼ä¸º F5  </span><br><span class="line"><span class="string">"-----------------------------------------------------------------  </span><br><span class="line">let g:checksyntax_auto = 0 "</span> ä¸è‡ªåŠ¨æ£€æŸ¥  </span><br><span class="line">  </span><br><span class="line">  </span><br><span class="line"><span class="string">"-----------------------------------------------------------------  </span><br><span class="line">"</span> plugin - NeoComplCache.vim    è‡ªåŠ¨è¡¥å…¨æ’ä»¶  </span><br><span class="line"><span class="string">"-----------------------------------------------------------------  </span><br><span class="line">let g:AutoComplPop_NotEnableAtStartup = 1  </span><br><span class="line">let g:NeoComplCache_EnableAtStartup = 1  </span><br><span class="line">let g:NeoComplCache_SmartCase = 1  </span><br><span class="line">let g:NeoComplCache_TagsAutoUpdate = 1  </span><br><span class="line">let g:NeoComplCache_EnableInfo = 1  </span><br><span class="line">let g:NeoComplCache_EnableCamelCaseCompletion = 1  </span><br><span class="line">let g:NeoComplCache_MinSyntaxLength = 3  </span><br><span class="line">let g:NeoComplCache_EnableSkipCompletion = 1  </span><br><span class="line">let g:NeoComplCache_SkipInputTime = '0.5'  </span><br><span class="line">let g:NeoComplCache_SnippetsDir = <span class="variable">$VIMFILES</span>.'/snippets'  </span><br><span class="line">"</span> &lt;TAB&gt; completion.  </span><br><span class="line">inoremap &lt;expr&gt;&lt;TAB&gt; pumvisible() ? <span class="string">"\&lt;C-n&gt;"</span> : <span class="string">"\&lt;TAB&gt;"</span>  </span><br><span class="line"><span class="string">" snippets expand key  </span><br><span class="line">imap &lt;silent&gt; &lt;C-e&gt; &lt;Plug&gt;(neocomplcache_snippets_expand)  </span><br><span class="line">smap &lt;silent&gt; &lt;C-e&gt; &lt;Plug&gt;(neocomplcache_snippets_expand)  </span><br><span class="line">  </span><br><span class="line">  </span><br><span class="line">"</span>-----------------------------------------------------------------  </span><br><span class="line"><span class="string">" plugin - matchit.vim   å¯¹%å‘½ä»¤è¿›è¡Œæ‰©å±•ä½¿å¾—èƒ½åœ¨åµŒå¥—æ ‡ç­¾å’Œè¯­å¥ä¹‹é—´è·³è½¬  </span><br><span class="line">"</span> % æ­£å‘åŒ¹é…      g% åå‘åŒ¹é…  </span><br><span class="line"><span class="string">" [% å®šä½å—é¦–     ]% å®šä½å—å°¾  </span><br><span class="line">"</span>-----------------------------------------------------------------  </span><br><span class="line">  </span><br><span class="line">  </span><br><span class="line"><span class="string">"-----------------------------------------------------------------  </span><br><span class="line">"</span> plugin - vcscommand.vim   å¯¹%å‘½ä»¤è¿›è¡Œæ‰©å±•ä½¿å¾—èƒ½åœ¨åµŒå¥—æ ‡ç­¾å’Œè¯­å¥ä¹‹é—´è·³è½¬  </span><br><span class="line"><span class="string">" SVN/gitç®¡ç†å·¥å…·  </span><br><span class="line">"</span>-----------------------------------------------------------------  </span><br><span class="line">  </span><br><span class="line">  </span><br><span class="line"><span class="string">"-----------------------------------------------------------------  </span><br><span class="line">"</span> plugin â€“ a.vim  </span><br><span class="line"><span class="string">"-----------------------------------------------------------------  </span><br><span class="line">  </span><br><span class="line">"</span>---------------------------------------------  </span><br><span class="line"><span class="string">"å®šä¹‰å‡½æ•°SetTitleï¼Œè‡ªåŠ¨æ’å…¥æ–‡ä»¶å¤´  </span><br><span class="line">func SetTitle()  </span><br><span class="line">if &amp;filetype == 'c'  </span><br><span class="line">    call setline(1, "</span><span class="comment">#include &lt;stdio.h&gt;")  </span></span><br><span class="line">    call setline(2, <span class="string">"#include &lt;stdlib.h&gt;"</span>)  </span><br><span class="line">    call setline(3, <span class="string">""</span>)  </span><br><span class="line">    call setline(4, <span class="string">"int main() &#123;"</span>)  </span><br><span class="line">elseif &amp;filetype == <span class="string">'cpp'</span>  </span><br><span class="line">    call setline(1, <span class="string">"#include &lt;iostream&gt;"</span>)  </span><br><span class="line">    call setline(2, <span class="string">""</span>)  </span><br><span class="line">    call setline(3, <span class="string">"int main() &#123;"</span>)  </span><br><span class="line">elseif &amp;filetype == <span class="string">'sh'</span>  </span><br><span class="line">    call setline(1, <span class="string">"#!/bin/bash"</span>)  </span><br><span class="line">    call setline(2, <span class="string">""</span>)  </span><br><span class="line">elseif &amp;filetype == <span class="string">'py'</span>  </span><br><span class="line">    call setline(1, <span class="string">"#!coding:utf-8"</span>)  </span><br><span class="line">    call setline(2, <span class="string">""</span>)  </span><br><span class="line">endif  </span><br><span class="line">endfunc  </span><br><span class="line">  </span><br><span class="line">    <span class="built_in">set</span> completeopt=longest,menu  </span><br><span class="line">    <span class="string">"æ–°å»º.c,.h,.sh,.javaæ–‡ä»¶ï¼Œè‡ªåŠ¨æ’å…¥æ–‡ä»¶å¤´  </span><br><span class="line">    autocmd BufNewFile *.[ch],*.sh,*.cpp,*.java exec "</span>:call SetTitle()<span class="string">"  </span><br><span class="line">    "</span>---------------------------------------------  </span><br><span class="line">  </span><br><span class="line"><span class="string">"å®šä¹‰CompileRunå‡½æ•°ï¼Œç”¨æ¥è°ƒç”¨è¿›è¡Œç¼–è¯‘å’Œè¿è¡Œ  </span><br><span class="line">func! CompileRun()  </span><br><span class="line">    exec "</span>w<span class="string">"  </span><br><span class="line">    "</span>Cç¨‹åº  </span><br><span class="line">    <span class="keyword">if</span> &amp;filetype == <span class="string">'c'</span>  </span><br><span class="line">        <span class="built_in">exec</span> <span class="string">"!gcc % -g -o %&lt;.exe"</span>  </span><br><span class="line">        <span class="built_in">exec</span> <span class="string">"! ./%&lt;.exe"</span>  </span><br><span class="line">    elseif &amp;filetype == <span class="string">'cpp'</span>  </span><br><span class="line">        <span class="built_in">exec</span> <span class="string">"!g++ % -g -o %&lt;"</span>  </span><br><span class="line">        <span class="built_in">exec</span> <span class="string">"! ./%&lt;"</span>  </span><br><span class="line">        <span class="string">"Javaç¨‹åº  </span><br><span class="line">    elseif &amp;filetype == 'java'  </span><br><span class="line">        exec "</span>!javac %<span class="string">"  </span><br><span class="line">        exec "</span>!java %&lt;<span class="string">"  </span><br><span class="line">    endif  </span><br><span class="line">endfunc  </span><br><span class="line">"</span>ç»“æŸå®šä¹‰CompileRun  </span><br><span class="line"><span class="string">"-------------------------  </span><br><span class="line">"</span> ======= ç¼–è¯‘ &amp;&amp; è¿è¡Œ ======= <span class="string">"  </span><br><span class="line">"</span> ç¼–è¯‘æºæ–‡ä»¶  </span><br><span class="line">func! CompileCode()  </span><br><span class="line">     <span class="built_in">exec</span> <span class="string">"w"</span>  </span><br><span class="line">     <span class="keyword">if</span> &amp;filetype == <span class="string">"c"</span>  </span><br><span class="line">         <span class="built_in">exec</span> <span class="string">"!gcc -Wall -std=c99 %&lt;.c -o %&lt;"</span>  </span><br><span class="line">     elseif &amp;filetype == <span class="string">"cpp"</span>  </span><br><span class="line">         <span class="built_in">exec</span> <span class="string">"!g++ -Wall -std=c++98 %&lt;.cpp -o %&lt;"</span>  </span><br><span class="line">     elseif &amp;filetype == <span class="string">"java"</span>  </span><br><span class="line">         <span class="built_in">exec</span> <span class="string">"!javac %&lt;.java"</span>  </span><br><span class="line">     endif  </span><br><span class="line">endfunc  </span><br><span class="line"><span class="string">" è¿è¡Œå¯æ‰§è¡Œæ–‡ä»¶  </span><br><span class="line">func! RunCode()  </span><br><span class="line">    exec "</span>w<span class="string">"  </span><br><span class="line">    if &amp;filetype == "</span>c<span class="string">" || &amp;filetype == "</span>cpp<span class="string">" || &amp;filetype == "</span>haskell<span class="string">"  </span><br><span class="line">        exec "</span>! ./%&lt;<span class="string">"  </span><br><span class="line">    elseif &amp;filetype == "</span>java<span class="string">"  </span><br><span class="line">        exec "</span>!java %&lt;<span class="string">"  </span><br><span class="line">    endif  </span><br><span class="line">endfunc  </span><br><span class="line">  </span><br><span class="line">"</span>---------------------------------------------  </span><br><span class="line"><span class="string">" Ctrl + F9   ä¸€é”®ä¿å­˜, ç¼–è¯‘  </span><br><span class="line">"</span> Ctrl + F10  ä¸€é”®ä¿å­˜ï¼Œè¿è¡Œ  </span><br><span class="line"><span class="string">" F9  ç¼–è¯‘ + è¿è¡Œ  </span><br><span class="line">"</span> F10 Debug  </span><br><span class="line">map&lt;C-F9&gt;:call CompileCode()&lt;CR&gt;  </span><br><span class="line">imap&lt;C-F9&gt; &lt;ESC&gt;:call CompileCode()&lt;CR&gt;  </span><br><span class="line">vmap&lt;C-F9&gt; &lt;ESC&gt;:call CompileCode()&lt;CR&gt;  </span><br><span class="line">map&lt;C-F10&gt;:call RunCode()&lt;CR&gt;  </span><br><span class="line">imap&lt;C-F10&gt; &lt;ESC&gt;:call RunCode()&lt;CR&gt;  </span><br><span class="line">vmap&lt;C-F10&gt; &lt;ESC&gt;:call RunCode()&lt;CR&gt;  </span><br><span class="line">map&lt;F9&gt;:call CompileRun()&lt;CR&gt;  </span><br><span class="line">imap&lt;F9&gt; &lt;ESC&gt;:call CompileRun()&lt;CR&gt;  </span><br><span class="line">vmap &lt;F9&gt; &lt;ESC&gt;:call CompileRun()&lt;CR&gt;  </span><br><span class="line">                                 <span class="string">"  </span><br><span class="line">"</span><span class="built_in">set</span> mouse=v <span class="string">" é¼ æ ‡æ”¯æŒ</span></span><br></pre></td></tr></table></figure>]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[Macos High Sierra 10.13 Work Environment Install]]></title>
      <url>http://iequa.com/2017/10/03/ops-mac10.13-install-env/</url>
      <content type="html"><![CDATA[<p>Enable Dragging With Three Finger : </p>
<blockquote>
<p>System Preferences -&gt; Accessibility -&gt; Mouse &amp; Trackpad -&gt; Trackpad Options.</p>
</blockquote>
<a id="more"></a>
<h2 id="1-Common-Soft"><a href="#1-Common-Soft" class="headerlink" title="1. Common Soft"></a>1. Common Soft</h2><ol>
<li>Chrome</li>
<li>NeteaseMusic</li>
<li>Baiduyun &amp; Aira2GUI</li>
<li>Microsoft_Office_2016_15.38.17090200_Installer.pkg</li>
</ol>
<blockquote>
<p>Google Chrome is up to date<br>Version 61.0.3163.100 (Official Build) (64-bit)</p>
<p>ç™¾åº¦äº‘ç ´è§£é™é€Ÿ (Aria2GUI + chrome plugin)</p>
<p>Evernote å›½é™…ç‰ˆä¸å›½å†…ç‰ˆåˆ†å¼€ç®¡ç†çš„.</p>
</blockquote>
<h2 id="2-Dev-Tools"><a href="#2-Dev-Tools" class="headerlink" title="2. Dev Tools"></a>2. Dev Tools</h2><h3 id="2-1-general-dev-tool"><a href="#2-1-general-dev-tool" class="headerlink" title="2.1 general dev tool"></a>2.1 general dev tool</h3><ol>
<li>Macdown</li>
<li>Alfred</li>
<li>Atom</li>
<li>SubLime Text</li>
<li><a href="https://brew.sh/" target="_blank" rel="external">Homebrew</a></li>
<li>Iterm2</li>
<li>Oh-my-zsh</li>
<li><a href="https://feiyang.li/2017/02/26/jetbrains/index.html" target="_blank" rel="external">PyCharm &amp; IDEA</a></li>
<li>GNU_Octave_3.8.0-6.dmg</li>
</ol>
<blockquote>
<p>brew (install è¿‡ç¨‹ä¼šè‡ªåŠ¨éœ€è¦ Xcode è¢«å®‰è£…)<br>brew install wget tree </p>
<p>wget <a href="https://bootstrap.pypa.io/get-pip.py" target="_blank" rel="external">https://bootstrap.pypa.io/get-pip.py</a> <br><br>sudo python get-pip.py</p>
</blockquote>
<h3 id="2-2-iterm-amp-zsh"><a href="#2-2-iterm-amp-zsh" class="headerlink" title="2.2 iterm &amp; zsh"></a>2.2 iterm &amp; zsh</h3><p><strong>Iterm2 Change Font</strong></p>
<blockquote>
<p>Iterm2 -&gt; Preference -&gt; Profiles -&gt; Text -&gt; Change Font -&gt; 17pt Courier New Bold</p>
</blockquote>
<p><strong>Iterm2 Hide scrollbars And title bar</strong></p>
<blockquote>
<p>Preference -&gt; Appearance </p>
<p>å–æ¶ˆ show per-pane title bar with split panes.<br>å‹¾é€‰ Hide scrollbars</p>
</blockquote>
<p><strong>Iterm2 Color Presets</strong></p>
<blockquote>
<p>Iterm2 -&gt; Preference -&gt; Profiles -&gt; Color -&gt; Color Presets -&gt; your_theme</p>
<p>maybe Atom, Brogrammer, Darkside </p>
<p><a href="https://github.com/iplaces/astro-zsh-theme" target="_blank" rel="external">Zsh astro theme</a></p>
</blockquote>
<p><strong>oh-my-zsh è‡ªå¸¦ git æ’ä»¶ï¼Œé‡Œé¢çš„é’ˆå¯¹git çš„åˆ«åè®¾ç½®è§</strong>:</p>
<blockquote>
<p>âœ &gt;vim .oh-my-zsh/plugins/git/git.plugin.zsh</p>
</blockquote>
<p><strong>oh-my-zsh autojump plugin install</strong></p>
<ol>
<li>brew install autojump</li>
<li>vim .zshrc</li>
</ol>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">plugins=(git autojump)</span><br><span class="line">[[ -s $(brew --prefix)/etc/profile.d/autojump.sh ]] &amp;&amp; . $(brew --prefix)/etc/profile.d/autojump.sh</span><br></pre></td></tr></table></figure>
<p>then, source ~/.zshrc</p>
<p><strong>Reference Article</strong></p>
<blockquote>
<p><a href="http://iterm2colorschemes.com/" target="_blank" rel="external">Iterm2-color-schemes</a><br><a href="https://github.com/bahlo/iterm-colors" target="_blank" rel="external">Iterm-colors</a><br><a href="https://github.com/iplaces/astro-zsh-theme" target="_blank" rel="external">Zsh astro theme</a><br><a href="http://blog.csdn.net/rapheler/article/details/51505003" target="_blank" rel="external">ä½¿ç”¨ Zsh çš„åå¤§ä¼˜ç‚¹</a>.<br><a href="http://yijiebuyi.com/blog/b9b5e1ebb719f22475c38c4819ab8151.html" target="_blank" rel="external">oh-my-zshé…ç½®ä½ çš„zshæé«˜shellé€¼æ ¼ç»ˆæé€‰æ‹©</a>.<br><a href="http://huang-jerryc.com/2016/08/11/%E6%89%93%E9%80%A0%E9%AB%98%E6%95%88%E4%B8%AA%E6%80%A7Terminal%EF%BC%88%E4%B8%80%EF%BC%89%E4%B9%8B%20iTerm/" target="_blank" rel="external">æ‰“é€ é«˜æ•ˆä¸ªæ€§Terminalï¼ˆä¸€ï¼‰ä¹‹ iTerm</a>.<br><a href="https://segmentfault.com/a/1190000006248107" target="_blank" rel="external">æ‰“é€ é«˜æ•ˆä¸ªæ€§Terminalï¼ˆäºŒï¼‰ä¹‹ zsh</a>.<br><a href="http://www.barretlee.com/blog/2015/03/30/autojump-in-mac/" target="_blank" rel="external">Macä¸‹çš„æ•ˆç‡å·¥å…·autojump</a></p>
</blockquote>
<hr>
<h3 id="2-3-ssh-config"><a href="#2-3-ssh-config" class="headerlink" title="2.3 ssh config"></a>2.3 ssh config</h3><ol>
<li>ssh-keygen -t rsa -C â€œyour-company-email-full-addressâ€</li>
<li>~/.ssh/id_rsa.pub ç²˜è´´åˆ°è¿ç»´å¹³å°</li>
</ol>
<blockquote>
<p>mac iterm2 ssh è·³è½¬å¤±è´¥, è§£å†³åŠæ³• :</p>
<p>(1) æ–°å»ºå¹¶ç¼–è¾‘ .ssh/config, å¹¶å¤åˆ¶ä»¥ä¸‹å†…å®¹åˆ° configæ–‡ä»¶ä¸­</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">Host * </span><br><span class="line">ForwardAgent yes </span><br><span class="line">PasswordAuthentication yes </span><br><span class="line">StrictHostKeyChecking no </span><br><span class="line">HashKnownHosts yes </span><br><span class="line">Compression yes</span><br></pre></td></tr></table></figure>
<p>(2) cd ï½/.ssh, å¹¶åœ¨ terminal ä¸­æ‰§è¡Œ ssh-add</p>
</blockquote>
<h3 id="2-4-navicat-for-MySQL"><a href="#2-4-navicat-for-MySQL" class="headerlink" title="2.4 navicat for MySQL"></a>2.4 navicat for MySQL</h3><p><img src="/images/ops/ops-ssh-general.png" alt="rds-general"></p>
<blockquote>
<p>Encoding è®¾ç½®ä¸º utf-8 åˆ™ï¼ŒæŸ¥è¯¢æ•°æ®åº“ï¼Œæ±‰å­—ä¹±ç ï¼Œæ”¹ä¸º Auto è§£å†³ã€‚</p>
</blockquote>
<p><img src="/images/ops/ops-ssh-rds.png" alt="ssh-rds"></p>
<h2 id="3-Java"><a href="#3-Java" class="headerlink" title="3. Java"></a>3. Java</h2><ol>
<li><a href="http://blog.tibame.com/?p=2068" target="_blank" rel="external">JDK</a></li>
<li>Maven</li>
<li>Tomcat</li>
<li>Scala</li>
<li>Spark</li>
</ol>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">âœ  software pwd</span><br><span class="line">/usr/local/xsoft/software</span><br><span class="line">âœ  software ll</span><br><span class="line">total 0</span><br><span class="line">lrwxr-xr-x  apache-maven -&gt; /usr/local/xsoft/deploy/apache-maven-3.3.9</span><br><span class="line">lrwxr-xr-x  apache-tomcat -&gt; /usr/local/xsoft/deploy/apache-tomcat-7.0.59</span><br><span class="line">lrwxr-xr-x  scala -&gt; /usr/local/xsoft/deploy/scala-2.11.7</span><br><span class="line">lrwxr-xr-x  spark -&gt; /usr/local/xsoft/deploy/spark-1.6.3-bin-hadoop2.6</span><br><span class="line">âœ  software</span><br></pre></td></tr></table></figure>
<h2 id="4-Blog"><a href="#4-Blog" class="headerlink" title="4. Blog"></a>4. Blog</h2><ol>
<li><a href="https://hexo.io/docs/" target="_blank" rel="external">hexo</a></li>
<li>Install Node.js</li>
</ol>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">$ wget -qO- https://raw.githubusercontent.com/creationix/nvm/v0.33.2/install.sh | bash</span><br></pre></td></tr></table></figure>
<blockquote>
<p>Once nvm is installed, restart the terminal and run the following command to install Node.js:</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">$ nvm install v4.1.0</span><br><span class="line">$ npm install -g hexo-cli</span><br></pre></td></tr></table></figure>
<blockquote>
<p>v4.1.0 æ›´åˆé€‚ hexo</p>
</blockquote>
<h2 id="5-Python"><a href="#5-Python" class="headerlink" title="5. Python"></a>5. Python</h2><h3 id="5-1-this-mac-install-pip"><a href="#5-1-this-mac-install-pip" class="headerlink" title="5.1 this mac install pip"></a>5.1 this mac install pip</h3><p><a href="https://bootstrap.pypa.io/get-pip.py" target="_blank" rel="external">Python pip</a> , <code>sudo python get-pip.py</code></p>
<p>then, terminal input <code>pip list</code>.</p>
<blockquote>
<p>If exist warning:</p>
<p>DEPRECATION: The default format will switch to columns in the future. You can use â€“format=(legacy|columns) (or define a format=(legacy|columns) in your pip.conf under the [list] section) to disable this warning.</p>
<p>solve this warning:</p>
<p>~.vim ~/.pip/pip.conf<br>[list]<br>format=columns  </p>
</blockquote>
<h3 id="5-2-pyenv-install-package"><a href="#5-2-pyenv-install-package" class="headerlink" title="5.2 pyenv install package"></a>5.2 pyenv install package</h3><p><strong>First, you need to install python <code>pyenv</code> environment</strong></p>
<figure class="highlight py"><table><tr><td class="code"><pre><span class="line">Python <span class="number">3.6</span><span class="number">.3</span></span><br><span class="line">(vpy3)</span><br><span class="line">âœ</span><br><span class="line"></span><br><span class="line">pip install numpy</span><br><span class="line">pip install scipy</span><br><span class="line">pip install matplotlib</span><br><span class="line">pip install pandas</span><br><span class="line"></span><br><span class="line">pip install xlrd</span><br><span class="line">pip install xlwt</span><br><span class="line">pip install StatsModels</span><br><span class="line">pip install scikit-learn</span><br><span class="line"></span><br><span class="line">pip install jieba</span><br><span class="line">pip install --upgrade gensim</span><br></pre></td></tr></table></figure>
<blockquote>
<p>pip install elasticsearch==1.9</p>
</blockquote>
<p><strong>ipython</strong></p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">pip install ipython</span><br></pre></td></tr></table></figure>
<blockquote>
<p>ç„¶å, å¦‚ terminall input <code>ipython</code> ä¸å­˜åœ¨, åˆ™ pip show ipython,  python -m IPython è¯•è¯•. </p>
</blockquote>
<p><strong>notebook</strong></p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment">#pip install --ignore-installed six</span></span><br><span class="line"><span class="comment">#pip install target-gsheet tap-fixerio</span></span><br><span class="line">pip install notebook</span><br></pre></td></tr></table></figure>
<blockquote>
<p>pip install notebook, å¦‚ macos High Sierra 10.13 æŠ¥é”™ï¼Œåˆ™<br>pip install â€“ignore-installed six<br>pip install target-gsheet tap-fixerio<br>then, pip install notebook</p>
</blockquote>
<h2 id="8-Reference"><a href="#8-Reference" class="headerlink" title="8. Reference"></a>8. Reference</h2><ul>
<li><a href="https://brew.sh/" target="_blank" rel="external">Homebrew</a></li>
<li><a href="https://bootstrap.pypa.io/get-pip.py" target="_blank" rel="external">Get-pip</a></li>
<li><a href="https://feiyang.li/2017/02/26/jetbrains/index.html" target="_blank" rel="external">IntelliJã€Pycharmæ¿€æ´»</a></li>
<li><a href="http://blog.tibame.com/?p=2068" target="_blank" rel="external">Mac OSX å®‰è£JDK</a></li>
<li><a href="https://hexo.io/docs/" target="_blank" rel="external">Hexo Doc</a></li>
<li><a href="http://www.jianshu.com/p/3e0206dd23ac" target="_blank" rel="external">Mac ä¸Šå®Œæ•´å¸è½½Node.js</a></li>
<li><a href="http://10176523.cn/archives/50" target="_blank" rel="external">Mac OSX å®Œæ•´å¸è½½Node.js</a></li>
<li><a href="https://segmentfault.com/a/1190000004404505" target="_blank" rel="external">nodeç‰ˆæœ¬ç®¡ç†å·¥å…·nvm-Macä¸‹å®‰è£…åŠä½¿ç”¨</a></li>
<li><a href="http://xclient.info/" target="_blank" rel="external">XClient.info Mac App</a></li>
<li><a href="https://stackoverflow.com/questions/32856194/ipython-on-macos-10-10-command-not-found" target="_blank" rel="external">Stackoverflow python on MacOS 10.10 - command not found</a></li>
<li><a href="/2016/08/02/ml-python-env/">Blair python install data mining env</a></li>
</ul>
<p>Macos NSNavRecentPlaces å†…éƒ¨è‡ªåŠ¨ç”Ÿæˆçš„é…ç½®ï¼Œåˆ«ä¹±æ”¹ã€‚</p>
<blockquote>
<p>defaults write -g NSNavRecentPlaces â€˜(â€œ~/Desktopâ€, â€œ/usr/local/xsoft/softwareâ€)â€™;</p>
</blockquote>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[Singapore IT environment]]></title>
      <url>http://iequa.com/2017/09/25/news-Singapore-for-it/</url>
      <content type="html"><![CDATA[<p>æœ¬æ–‡ç®€çŸ­ä»‹ç»äº†ä¸‹ Singapore çš„ä¸€äº› IT å…¬å¸çš„æƒ…å†µ</p>
<a id="more"></a>
<h2 id="1-Mozat"><a href="#1-Mozat" class="headerlink" title="1. Mozat"></a>1. Mozat</h2><blockquote>
<p>mozatè‡´åŠ›äºç§»åŠ¨ç«¯ç¤¾äº¤åº”ç”¨å’Œæ¸¸æˆåº”ç”¨ï¼Œä¸æ–­ç ”å‘åˆ›æ–°ã€‚</p>
</blockquote>
<h2 id="2-Garena"><a href="#2-Garena" class="headerlink" title="2. Garena"></a>2. Garena</h2><blockquote>
<p>æ¸¸æˆèµ·å®¶çš„ç»¼åˆäº’è”ç½‘å…¬å¸ï¼Œä¼°å€¼è¾¾37.5äº¿ç¾é‡‘</p>
</blockquote>
<h2 id="3-Carousell"><a href="#3-Carousell" class="headerlink" title="3. Carousell"></a>3. Carousell</h2><blockquote>
<p>é—²é±¼</p>
</blockquote>
<h2 id="4-Grabtaxi"><a href="#4-Grabtaxi" class="headerlink" title="4. Grabtaxi"></a>4. Grabtaxi</h2><blockquote>
<p>(è·å¾—æ»´æ»´ã€è½¯é“¶6äº¿ç¾é‡‘æŠ•èµ„)</p>
</blockquote>
<h2 id="5-iCarsClub"><a href="#5-iCarsClub" class="headerlink" title="5. iCarsClub"></a>5. iCarsClub</h2><blockquote>
<p>æ±½è½¦å€Ÿç§ŸiCarClub(7050ä¸‡ç¾å…ƒï¼‰</p>
</blockquote>
<p>é‰´äºæ–°åŠ å¡çš„è½¦ä¸»å¤§éƒ½åœ¨è‡ªå®¶è½¦ä¸ŠèŠ±è´¹äº†å¤§æŠŠå¤§æŠŠçš„é’ç¥¨ï¼Œå¯¹ç­‰ç§å®¶è½¦ç§Ÿèµè¿™ä¸ªæƒ³æ³•ä¹Ÿå°±åº”è¿è€Œç”Ÿäº†ã€‚</p>
<h2 id="6-Reebonz-4000ä¸‡ç¾å…ƒ"><a href="#6-Reebonz-4000ä¸‡ç¾å…ƒ" class="headerlink" title="6. Reebonz(4000ä¸‡ç¾å…ƒ)"></a>6. Reebonz(4000ä¸‡ç¾å…ƒ)</h2><p>å½“æåˆ°æ–°åŠ å¡æœ¬åœ°çš„ç”µå­å•†åŠ¡ç½‘åº—æ—¶ï¼Œé™¤äº†ä¸Šè¿°æåˆ°çš„å—Rocket Internetå…¬å¸ååŠ©çš„ä¸¤å®¶ç”µå­å•†åŠ¡é›¶å”®å•†ä»¥å¤–ï¼Œæœ€å‡ºååº”è¯¥å°±æ˜¯Reebonzã€‚å®ƒå’Œå…¶ä»–çš„ç”µå­å•†åŠ¡ç½‘åº—ä¸åŒçš„æ˜¯å®ƒåªå…³æ³¨å¥¢ä¾ˆå“ç‰Œã€‚Reebonz åœ¨2014å¹´3æœˆæ”¶è´­äº†æ–°åŠ å¡çš„åœ¨çº¿å¥¢ä¾ˆå“å•†åº—Clout Shoppeï¼Œæ‰©å¤§äº†è‡ªå·±çš„è§„æ¨¡ã€‚</p>
<h2 id="7-MyRepublicï¼ˆ3750ä¸‡ç¾å…ƒï¼‰"><a href="#7-MyRepublicï¼ˆ3750ä¸‡ç¾å…ƒï¼‰" class="headerlink" title="7. MyRepublicï¼ˆ3750ä¸‡ç¾å…ƒï¼‰"></a>7. MyRepublicï¼ˆ3750ä¸‡ç¾å…ƒï¼‰</h2><blockquote>
<p>MyRepublicä¹Ÿè®¸æ˜¯è¿™åå®¶å…¬å¸ä¸­æœ€æœ‰é‡å¿ƒçš„å…¬å¸ï¼šå®ƒæƒ³æˆä¸ºæ–°åŠ å¡ç¬¬å››å¤§ç”µä¿¡å…¬å¸ã€‚å®ƒä¸æ»¡è¶³åªæ˜¯ä¸€å®¶æœ¬åœ°çš„å¤§å…¬å¸ï¼Œæ‰€ä»¥æœ€è¿‘è¯¥å…¬å¸ä¸ºæ–°è¥¿å…°ç”¨æˆ·æä¾›ä¸‰ä¸ªæœˆå…è´¹çš„100å…†ä½/ç§’çš„è¶…é€Ÿå…‰çº¤å®½å¸¦ã€‚æˆ‘ä»¬è¿˜äº†è§£åˆ°ï¼Œè¿™å®¶ç”µä¿¡åˆåˆ›ä¼ä¸šåœ¨ä¸€ä¸ªæœˆå†…å°±å¸å¼•äº†å¤§çº¦2000åæ–°ç”¨æˆ·;ä¸å°±çš„å°†æ¥ï¼Œå®ƒçš„å¹´æ”¶å…¥ä¼šæ˜¯2014å¹´ä¸‰å€ï¼Œè¾¾åˆ°1500ä¸‡ç¾å…ƒã€‚2015å¹´ï¼ŒMyRepublicå°†ä¼šæ‰“å…¥äºšæ´²çš„å…¶å®ƒå›½å®¶ã€‚</p>
</blockquote>
<h2 id="8-Bubbly-3900ä¸‡ç¾å…ƒ"><a href="#8-Bubbly-3900ä¸‡ç¾å…ƒ" class="headerlink" title="8. Bubbly(3900ä¸‡ç¾å…ƒ)"></a>8. Bubbly(3900ä¸‡ç¾å…ƒ)</h2><blockquote>
<p>å¯¹äºBubblyå…¬å¸æ¥è¯´ï¼Œä¹Ÿè®¸å®ƒæœ€æƒ³å¿˜è®°çš„å°±æ˜¯2014å¹´çš„ä¸ŠåŠå¹´ã€‚åœ¨é‚£æ®µæ—¶é—´ï¼Œç¤¾äº¤ç½‘ç»œåª’ä½“åˆåˆ›ä¼ä¸šBubblyæ”¶åˆ°äº†å„å¼å„æ ·çš„æ”¶è´­è¯·æ±‚;å¹¶ä¸”ï¼Œè¯¥å…¬å¸è§£æ•£äº†å…¬å¸çš„ç®¡ç†å›¢é˜Ÿï¼Œè¿˜è¾¾æˆä¸€è‡´åè®®å¯¹å…¬å¸è¿›è¡Œé‡ç»„ã€‚å…¬å¸çš„é¦–å¸­æ‰§è¡Œå®˜Thomas Claytonå¼€å§‹æŠŠå…¬å¸èµ„äº§æ¸…ç®—ï¼Œå‡ å‘¨ä¹‹åï¼ŒBubblyå…¬å¸å°±è¢«Altruist Groupæ”¶è´­ï¼Œè¯¥é›†å›¢åœ¨æ¬§æ´²ã€éæ´²å’Œäºšæ´²æä¾›ç”µä¿¡æœåŠ¡ï¼Œä¸è¿‡è¿™æ¬¡æ”¶è´­çš„æ¡æ¬¾æ²¡æœ‰å¯¹å¤–æŠ«éœ²ã€‚</p>
</blockquote>
<h2 id="9-Ninja-van"><a href="#9-Ninja-van" class="headerlink" title="9. Ninja van"></a>9. Ninja van</h2><p>æˆç«‹äº2014å¹´çš„ã€Œæœ€åä¸€å…¬é‡Œç‰©æµã€å…¬å¸ Ninja Van ä¸¤å¹´å†…å°±æ‹¿åˆ°äº†ä¸¤è½®èèµ„ï¼Œè¿™å®¶æŠ€æœ¯é©±åŠ¨å‹å…¬å¸ä½¿ç”¨ç®—æ³•æ¥æä¾›æœ€å¥½çš„ç‰©æµè·¯çº¿å¹¶å®æ—¶è¿½è¸ªè®¢å•ï¼Œä¸ä»…è§£å†³äº†å½“åœ°ç”µå•†ç½‘ç«™è´§å“å¸¸å¸¸ä¸¢å¤±çš„é—®é¢˜ï¼Œè¿˜é€šè¿‡æŠ€æœ¯æ‰‹æ®µæé«˜äº†ç‰©æµé…é€æ•ˆç‡ã€‚</p>
<h2 id="10-Lazada"><a href="#10-Lazada" class="headerlink" title="10. Lazada"></a>10. Lazada</h2><p>Lazadaï¼Œä¸œå—äºšåœ°åŒºæœ€å¤§çš„åœ¨çº¿è´­ç‰©ç½‘ç«™ä¹‹ä¸€ã€‚è·å¾—å¾·å›½åˆ›ä¸šå­µåŒ–å™¨RocketInternetæ¡‘å¨å°”å…„å¼Ÿ(SamwerBrothers)æ”¯æŒï¼ŒLazadaçš„ç›®æ ‡ä¸»è¦æ˜¯å°å°¼ã€é©¬æ¥è¥¿äºšã€è²å¾‹å®¾ä»¥åŠæ³°å›½ç”¨æˆ·ã€‚</p>
<h2 id="11-Zalora"><a href="#11-Zalora" class="headerlink" title="11. Zalora"></a>11. Zalora</h2><p>ZALORAæ˜¯ä¸€ä¸ªç½‘ä¸Šæ—¶è£…åŠç¾å®¹äº§å“è´­ç‰©å¹³å°,ä¸ºç”·å¥³é¡¾å®¢æä¾›æ—¶è£…ã€é¥°ç‰©ã€é‹å±¥åŠåŒ–å¦†æŠ¤è‚¤å“ã€‚æ€»éƒ¨ä½äºæ–°åŠ å¡çš„ZALORAäºä¸åŒåœ°åŒºè®¾æœ‰åˆ†åŒºç½‘é¡µ,åŒ…æ‹¬é¦™æ¸¯ã€æ–°åŠ å¡ã€å°å°¼ã€è²å¾‹å®¾ã€æ³°å›½ã€è¶Šå—ã€é©¬æ¥è¥¿äºšåŠæ–‡è±ï¼Œåˆ°ç›®å‰ä¸ºæ­¢Zaloraå·²ç»è·å¾—äº†æ‹¥æœ‰å¤§é‡æŠ•èµ„è€…çš„é’çã€‚</p>
<p>Zaloraçš„æ¯å…¬å¸äº2014å¹´ä¸Šå¸‚ï¼Œè¯¥å…¬å¸çš„æœ€æ–°è®¡åˆ’æ˜¯å’Œä¸Šè¿°æåˆ°çš„é¡¹ç›®Rocket Internetæ——ä¸‹å¦å¤–å››å®¶æµè¡Œçš„æ—¶å°šå“ç‰Œå…¬å¸åˆå¹¶ï¼Œè¿™æ ·ä¸€æ¥ä¾¿å¯æˆä¸ºå…¨çƒçš„æ—¶å°šå›¢é˜Ÿã€‚Rocket Intetrnetçš„é¦–æ¬¡å…¬å¼€å‹Ÿè‚¡ä¾¿è·å¾—äº†82äº¿ç¾å…ƒï¼Œè¿™å°±æ„å‘³ç€ä¸ä¹…å°±ä¼šæœ‰è¶Šæ¥è¶Šå¤šçš„èµ„é‡‘æµå…¥Zaloraã€‚</p>
<blockquote>
<p>2.38äº¿ç¾å…ƒ</p>
</blockquote>
<h2 id="12-ViSenze"><a href="#12-ViSenze" class="headerlink" title="12. ViSenze"></a>12. ViSenze</h2><p>è§†è§‰æœç´¢å’Œå›¾åƒè¯†åˆ«çš„å…¬å¸ (äº§å“ä¸»è¦æœåŠ¡Rakutenï¼ŒZaloraç­‰ç”µå•†çš„æ¨èå¼•æ“å’Œæ‰‹æœºæœç´¢åº”ç”¨)</p>
<p>ViSenzeæ˜¯ä¸€å®¶éå¸¸é‡è§†æŠ€æœ¯å‘å±•çš„å…¬å¸ï¼ŒæŠ€æœ¯å›¢é˜Ÿå†…éƒ¨ä¼šä¸å®šæœŸä¸¾è¡ŒæŠ€æœ¯åˆ†äº«ä¼šå’Œæ·±åº¦è®­ç»ƒã€‚</p>
<h2 id="13-Wegoï¼ˆ3450ä¸‡ç¾å…ƒï¼‰"><a href="#13-Wegoï¼ˆ3450ä¸‡ç¾å…ƒï¼‰" class="headerlink" title="13. Wegoï¼ˆ3450ä¸‡ç¾å…ƒï¼‰"></a>13. Wegoï¼ˆ3450ä¸‡ç¾å…ƒï¼‰</h2><blockquote>
<p>2013å¹´ï¼Œæ—…æ¸¸æœç´¢å…¬å¸Wegoå®£ç§°ï¼Œåœ¨å…¶æä¾›æœåŠ¡çš„52ä¸ªå¸‚åœºä¸Šï¼Œæ¯å¤©èµ·ç æœ‰1000ä¸‡ä¸ªæ½œåœ¨é¢„çº¦å®¢æˆ·ã€‚è¯¥å…¬å¸äº2014å¹´ä¸­æ—¬æ¨å‡ºäº†è‡ªå·±çš„iOSåº”ç”¨å’ŒAndroidåº”ç”¨ï¼Œå¾ˆå¿«è¿™æ¬¾åº”ç”¨çš„ä¸‹è½½é‡å°±å±…å°å°¼iOSåº”ç”¨å•†åº—ä¸‹è½½é‡æ’è¡Œæ¦œçš„æ¦œé¦–ã€‚</p>
</blockquote>
<h2 id="14-ViKiï¼ˆ2430ä¸‡ç¾å…ƒï¼‰"><a href="#14-ViKiï¼ˆ2430ä¸‡ç¾å…ƒï¼‰" class="headerlink" title="14. ViKiï¼ˆ2430ä¸‡ç¾å…ƒï¼‰"></a>14. ViKiï¼ˆ2430ä¸‡ç¾å…ƒï¼‰</h2><blockquote>
<p>è§†é¢‘èšåˆç½‘<br>å¯¹äºæ–°åŠ å¡äººè€Œè¨€ï¼Œè¿™ä¸ªç‰¹åˆ«çš„ä¼—åŒ…è§†é¢‘å­—å¹•ç½‘ç«™ï¼Œæ˜¯ç†Ÿæ‚‰åˆ°ä¸èƒ½å†ç†Ÿæ‚‰çš„æ—¥å¸¸æµè§ˆç½‘ç«™ä¹‹ä¸€ã€‚Vikiæ˜¯2013å¹´å¯¹æ–°åŠ å¡å…¬å¸è¿›è¡Œå¤§å‹æ”¶è´­ä¸­çš„ç’€ç’¨ä¹‹æ˜Ÿï¼Œå› ä¸ºæ—¥æœ¬ç”µå•†å·¨å¤´Rakutenä»¥2äº¿ç¾å…ƒçš„ä»·æ ¼æ”¶è´­äº†Vikiã€‚ä¸€å¹´åï¼Œæœ‰å…³æŠ¥é“ç§°Vikiæ¯ä¸ªæœˆæ´»è·ƒçš„ç”¨æˆ·æœ‰3500ä¸‡ï¼Œå¦å¤–è¿˜æœ‰2500ä¸‡ç§»åŠ¨ç”¨æˆ·;ä¸è¯¥å…¬å¸è¢«æ”¶è´­ä¹‹æ—¶ç›¸æ¯”ï¼Œæ¯æœˆæ´»è·ƒç”¨æˆ·å¢é•¿äº†1300ä¸‡ï¼Œç§»åŠ¨ç”¨æˆ·å¢é•¿äº†1500ä¸‡ã€‚</p>
</blockquote>
<h2 id="15-Neo-Innovation"><a href="#15-Neo-Innovation" class="headerlink" title="15. Neo Innovation"></a>15. Neo Innovation</h2><h2 id="16-Migmeï¼ˆ3460ä¸‡ç¾å…ƒï¼‰"><a href="#16-Migmeï¼ˆ3460ä¸‡ç¾å…ƒï¼‰" class="headerlink" title="16. Migmeï¼ˆ3460ä¸‡ç¾å…ƒï¼‰"></a>16. Migmeï¼ˆ3460ä¸‡ç¾å…ƒï¼‰</h2><blockquote>
<p>åœ¨è¿‡å»çš„2014å¹´é‡Œï¼Œç¤¾äº¤å¨±ä¹å¹³å°Migmeçš„å‘å±•æ˜¯å€¼å¾—ä¸€æçš„ã€‚è‡ªå»å¹´çš„å…«æœˆä»¥æ¥ï¼Œå®ƒå®Œæˆäº†å‡ é¡¹é‡è¦çš„æ”¶è´­.12æœˆï¼ŒMigmeæ‹¥æœ‰è¶…è¿‡900ä¸‡çš„MAUã€‚è¯¥å…¬å¸çš„ç›®æ ‡æ˜¯ä¸ºäº†è®©å®¢æˆ·ä½“éªŒæ›´å¥½ç©çš„ç¤¾äº¤åŒ–ç”µå­å•†åŠ¡ã€‚å…¬å¸çš„é¦–å¸­æ‰§è¡Œå®˜Steven Gohçš„æ„¿æœ›æ˜¯å»ºç«‹ä¸€ä¸ªåƒä¸­å›½æ·˜å®ç½‘é‚£æ ·çš„é¡¾å®¢å¯¹é¡¾å®¢çš„å•†ä¸šæ¨¡å¼ã€‚</p>
</blockquote>
<h2 id="17-PropertyGuru"><a href="#17-PropertyGuru" class="headerlink" title="17. PropertyGuru"></a>17. PropertyGuru</h2><p>å´æœ‰å¹¸ç‹¬å é³Œå¤´ã€‚æœ€è¿‘ï¼Œ<a href="http://99.coå…¬å¸åŠ å…¥æ–°åŠ å¡æˆ¿åœ°äº§å¸‚åœºï¼Œæˆä¸ºäº†PropertyGuruæœ€æ–°çš„ç«äº‰å¯¹æ‰‹ã€‚" target="_blank" rel="external">http://99.coå…¬å¸åŠ å…¥æ–°åŠ å¡æˆ¿åœ°äº§å¸‚åœºï¼Œæˆä¸ºäº†PropertyGuruæœ€æ–°çš„ç«äº‰å¯¹æ‰‹ã€‚</a></p>
<h2 id="18-Redmart"><a href="#18-Redmart" class="headerlink" title="18. Redmart"></a>18. Redmart</h2><blockquote>
<p><a href="https://redmart.com/" target="_blank" rel="external">https://redmart.com/</a></p>
</blockquote>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[LDA Topic Model (not finish)]]></title>
      <url>http://iequa.com/2017/09/22/nlp-LDA/</url>
      <content type="html"><![CDATA[<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js"],
    jax: ["input/TeX"],
    tex2jax: {
      inlineMath: [ ['$','$'], ['\\(','\\)'] ],
      displayMath: [ ['$$','$$']],
      processEscapes: true
    }
  });
</script>
<script type="text/javascript" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS_HTML,http://myserver.com/MathJax/config/local/local.js">
</script>

<p>Latent Dirichlet Allocation ä¸»é¢˜æ¨¡å‹ç†è®º:</p>
<ol>
<li>ç›´è§‚ç‰ˆ</li>
<li>æ ‡å‡†ç‰ˆ</li>
<li>å…¬å¼ç‰ˆ</li>
</ol>
<a id="more"></a>
<blockquote>
<p>                                          æ®æˆ‘æ¨æµ‹ï¼Œå¤§éƒ¨åˆ†äººæ˜¯å¯ä»¥æ’‘è¿‡å‰ä¸¤ä¸ªç‰ˆæœ¬çš„</p>
</blockquote>
<h2 id="1-ä»€ä¹ˆæ˜¯ä¸»é¢˜æ¨¡å‹"><a href="#1-ä»€ä¹ˆæ˜¯ä¸»é¢˜æ¨¡å‹" class="headerlink" title="1. ä»€ä¹ˆæ˜¯ä¸»é¢˜æ¨¡å‹"></a>1. ä»€ä¹ˆæ˜¯ä¸»é¢˜æ¨¡å‹</h2><p><img src="/images/nlp/lda-01.png" width="420" height="400" img=""></p>
<h3 id="1-1-ç›´è§‚ç‰ˆ"><a href="#1-1-ç›´è§‚ç‰ˆ" class="headerlink" title="1.1 ç›´è§‚ç‰ˆ"></a>1.1 ç›´è§‚ç‰ˆ</h3><p><code>åœºæ™¯</code> : å‡è®¾æŸä¼ä¸šæƒ³è¦æ‹›è˜ä¸€ä¸ªå·¥ç¨‹å¸ˆï¼Œä»–ä»¬æ”¶åˆ°äº†ä¸€æŠŠç®€å†ï¼Œä»–ä»¬æƒ³ç›´æ¥é€šè¿‡ç®€å†æ¥çœ‹è°æ˜¯å¤§ç‰›ï¼Œè°æ˜¯å½©ç¬” ?</p>
<p><code>ç‰¹å¾</code> :</p>
<p>ç®€å†é‡Œé€šå¸¸åŒ…å«è¿™äº›ä¸ªäººç‰¹å¾ :</p>
<p><img src="/images/nlp/lda-02.png" width="490" height="400" img=""></p>
<p><code>åˆ¤æ–­åŸºç¡€</code> :</p>
<p><img src="/images/nlp/lda-04.png" width="400" height="200" img=""></p>
<p><code>æ€»ç»“å…¬å¼</code> :</p>
<p><img src="/images/nlp/lda-05.png" width="700" height="400" img=""></p>
<blockquote>
<p>ï¼Ÿ</p>
</blockquote>
<h3 id="ä¾‹å­ä¸ç†è®ºçš„å…³ç³»"><a href="#ä¾‹å­ä¸ç†è®ºçš„å…³ç³»" class="headerlink" title="ä¾‹å­ä¸ç†è®ºçš„å…³ç³»"></a>ä¾‹å­ä¸ç†è®ºçš„å…³ç³»</h3><p><img src="/images/nlp/lda-04.png" width="400" height="200" img=""></p>
<p><img src="/images/nlp/lda-06.png" width="400" height="200" img=""></p>
<h2 id="2-ä»€ä¹ˆæ˜¯-LDA"><a href="#2-ä»€ä¹ˆæ˜¯-LDA" class="headerlink" title="2. ä»€ä¹ˆæ˜¯ LDA ?"></a>2. ä»€ä¹ˆæ˜¯ LDA ?</h2><p>Latent Dirichlet Allocation</p>
<p>            æ˜¯ä¸€ç§æ— ç›‘ç£çš„è´å¶æ–¯æ¨¡å‹</p>
<ol>
<li>æ˜¯ä¸€ç§ä¸»é¢˜æ¨¡å‹ï¼Œå®ƒå¯ä»¥å°†æ–‡æ¡£é›†ä¸­æ¯ç¯‡æ–‡æ¡£çš„ä¸»é¢˜æŒ‰ç…§æ¦‚ç‡åˆ†å¸ƒçš„å½¢å¼ç»™å‡ºã€‚</li>
<li>æ— ç›‘ç£å­¦ä¹ ç®—æ³•ï¼Œè®­ç»ƒæ—¶éœ€è¦æ‰‹å·¥æ ‡æ³¨è®­ç»ƒé›†ï¼Œéœ€è¦çš„æ˜¯æ–‡æ¡£é›†ä»¥åŠä¸»é¢˜æ•°é‡kå³å¯ã€‚</li>
</ol>
<p>æ­¤å¤–LDAçš„å¦ä¸€ä¸ªä¼˜ç‚¹åˆ™æ˜¯: æ¯ä¸€ä¸ªä¸»é¢˜å‡å¯æ‰¾å‡ºè¯è¯­æ¥æè¿°å®ƒã€‚                 </p>
<p>æ˜¯ä¸€ç§è¯è¢‹æ¨¡å‹ï¼Œå³å®ƒè®¤ä¸ºä¸€ç¯‡æ–‡æ¡£æ˜¯ç”±ä¸€ç»„è¯æ„æˆçš„ä¸€ä¸ªé›†åˆï¼Œä¸€ç¯‡ Doc å¯ä»¥åŒ…å«å¤šä¸ªTopicï¼Œæ–‡æ¡£ä¸­æ¯ä¸ªè¯éƒ½ç”±å…¶ä¸­ä¸€ä¸ªä¸»é¢˜ç”Ÿæˆã€‚</p>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[Python logging]]></title>
      <url>http://iequa.com/2017/09/21/py-language-logging/</url>
      <content type="html"><![CDATA[<p>è¯¥æ¨¡å—å®šä¹‰çš„å‡½æ•°å’Œç±»ä¸ºåº”ç”¨ç¨‹åºå’Œåº“å®ç°äº†ä¸€ä¸ªçµæ´»çš„äº‹ä»¶æ—¥å¿—ç³»ç»Ÿã€‚</p>
<a id="more"></a>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[Naive Bayes For News Classification]]></title>
      <url>http://iequa.com/2017/08/23/ml-4-naive-bayes-2/</url>
      <content type="html"><![CDATA[<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js"],
    jax: ["input/TeX"],
    tex2jax: {
      inlineMath: [ ['$','$'], ['\\(','\\)'] ],
      displayMath: [ ['$$','$$']],
      processEscapes: true
    }
  });
</script>
<script type="text/javascript" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS_HTML,http://myserver.com/MathJax/config/local/local.js">
</script>

<p>æœ´ç´ è´å¶æ–¯ï¼Œé€‚ç”¨äºæ–°é—»åˆ†ç±»é—®é¢˜</p>
<p>$$<br>p(x)p(y|x) = p(y)p(x|y)<br>$$</p>
<a id="more"></a>
<h2 id="1-è´å¶æ–¯ç†è®ºç®€å•å›é¡¾"><a href="#1-è´å¶æ–¯ç†è®ºç®€å•å›é¡¾" class="headerlink" title="1. è´å¶æ–¯ç†è®ºç®€å•å›é¡¾"></a>1. è´å¶æ–¯ç†è®ºç®€å•å›é¡¾</h2><p>åœ¨æˆ‘ä»¬æœ‰ä¸€å¤§å †æ ·æœ¬ï¼ˆåŒ…å«ç‰¹å¾å’Œç±»åˆ«ï¼‰çš„æ—¶å€™ï¼Œæˆ‘ä»¬éå¸¸å®¹æ˜“é€šè¿‡ç»Ÿè®¡å¾—åˆ°  $p(ç‰¹å¾|ç±»åˆ«)$.<br>å¤§å®¶åˆéƒ½å¾ˆç†Ÿæ‚‰ä¸‹è¿°å…¬å¼ï¼š</p>
<p>$$<br>p(x)p(y|x) = p(y)p(x|y)<br>$$</p>
<p>æ‰€ä»¥åšä¸€ä¸ªå°å°çš„å˜æ¢</p>
<p>$$<br>p(ç‰¹å¾)p(ç±»åˆ«|ç‰¹å¾) = p(ç±»åˆ«)p(ç‰¹å¾|ç±»åˆ«)<br>$$</p>
<p>$$<br>p(ç±»åˆ«|ç‰¹å¾) = \frac{p(ç±»åˆ«)p(ç‰¹å¾|ç±»åˆ«)}{p(ç‰¹å¾)}<br>$$</p>
<h2 id="2-ç‹¬ç«‹å‡è®¾"><a href="#2-ç‹¬ç«‹å‡è®¾" class="headerlink" title="2. ç‹¬ç«‹å‡è®¾"></a>2. ç‹¬ç«‹å‡è®¾</h2><p>çœ‹èµ·æ¥å¾ˆç®€å•ï¼Œä½†å®é™…ä¸Šï¼Œä½ çš„ç‰¹å¾å¯èƒ½æ˜¯å¾ˆå¤šç»´çš„</p>
<p>$$<br>p(features|class) = p({f_0, f_1, \ldots ,f_n}|c)<br>$$</p>
<p>å°±ç®—æ˜¯2ä¸ªç»´åº¦å§ï¼Œå¯ä»¥ç®€å•å†™æˆ</p>
<p>$$<br>p({f_0, f_1}|c) = p(f_1|c, f_0)p(f_0|c)<br>$$</p>
<p>åŠ ä¸€ä¸ªç‰›é€¼çš„å‡è®¾ï¼šç‰¹å¾ä¹‹é—´æ˜¯ç‹¬ç«‹çš„</p>
<p>$$<br>p({f_0, f_1}|c) = p(f_1|c)p(f_0|c)<br>$$</p>
<p>å…¶å®ä¹Ÿå°±æ˜¯ï¼š</p>
<p>$$<br>p({f_0, f_1, \ldots, f_n}|c) = \Pi^n_i p(f_i|c)<br>$$</p>
<h2 id="3-è´å¶æ–¯åˆ†ç±»å™¨"><a href="#3-è´å¶æ–¯åˆ†ç±»å™¨" class="headerlink" title="3. è´å¶æ–¯åˆ†ç±»å™¨"></a>3. è´å¶æ–¯åˆ†ç±»å™¨</h2><p>å…¶å®æˆ‘ä»¬å°±æ˜¯å¯¹æ¯ä¸ªç±»åˆ«è®¡ç®—ä¸€ä¸ªæ¦‚ç‡ $p(ci)$ ï¼Œç„¶åå†è®¡ç®—æ‰€æœ‰ç‰¹å¾çš„æ¡ä»¶æ¦‚ç‡ $p(f_j|c_i)$ ï¼Œé‚£ä¹ˆåˆ†ç±»çš„æ—¶å€™æˆ‘ä»¬å°±æ˜¯ä¾æ®è´å¶æ–¯æ‰¾ä¸€ä¸ªæœ€å¯èƒ½çš„ç±»åˆ«ï¼š</p>
<p>$$<br>p(class_i|{f_0, f_1, \ldots, f_n})= \frac{p(class_i)}{p({f_0, f_1, \ldots, f_n})} \Pi^n_j p(f_j|c_i)<br>$$</p>
<h2 id="4-æ–‡æœ¬åˆ†ç±»é—®é¢˜"><a href="#4-æ–‡æœ¬åˆ†ç±»é—®é¢˜" class="headerlink" title="4. æ–‡æœ¬åˆ†ç±»é—®é¢˜"></a>4. æ–‡æœ¬åˆ†ç±»é—®é¢˜</h2>]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[Naive Bayes]]></title>
      <url>http://iequa.com/2017/08/10/ml-4-naive-bayes-1/</url>
      <content type="html"><![CDATA[<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js"],
    jax: ["input/TeX"],
    tex2jax: {
      inlineMath: [ ['$','$'], ['\\(','\\)'] ],
      displayMath: [ ['$$','$$']],
      processEscapes: true
    }
  });
</script>
<script type="text/javascript" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS_HTML,http://myserver.com/MathJax/config/local/local.js">
</script>

<h2 id="1-å¼•è¨€"><a href="#1-å¼•è¨€" class="headerlink" title="1. å¼•è¨€"></a>1. å¼•è¨€</h2><p>è´å¶æ–¯æ–¹æ³•æ˜¯ä¸€ä¸ªå†å²æ‚ ä¹…ï¼Œæœ‰ç€åšå®çš„ç†è®ºåŸºç¡€çš„æ–¹æ³•ï¼ŒåŒæ—¶å¤„ç†å¾ˆå¤šé—®é¢˜æ—¶ç›´æ¥è€Œåˆé«˜æ•ˆï¼Œå¾ˆå¤šé«˜çº§ NLP æ¨¡å‹ä¹Ÿå¯ä»¥ä»å®ƒæ¼”åŒ–è€Œæ¥ã€‚å› æ­¤ï¼Œå­¦ä¹ è´å¶æ–¯æ–¹æ³•ï¼Œæ˜¯ç ”ç©¶ NLP é—®é¢˜çš„ä¸€ä¸ªéå¸¸å¥½çš„åˆ‡å…¥å£ã€‚</p>
<a id="more"></a>
<h2 id="2-è´å¶æ–¯å…¬å¼"><a href="#2-è´å¶æ–¯å…¬å¼" class="headerlink" title="2. è´å¶æ–¯å…¬å¼"></a>2. è´å¶æ–¯å…¬å¼</h2><p>è´å¶æ–¯å…¬å¼å°±ä¸€è¡Œï¼š</p>
<p>$$<br>P(Y|X)=\frac{P(X|Y)P(Y)}{P(X)}<br>$$</p>
<p>å®ƒå…¶å®æ˜¯ç”±ä»¥ä¸‹çš„è”åˆæ¦‚ç‡å…¬å¼æ¨å¯¼å‡ºæ¥ï¼š</p>
<p>$$<br>P(Y,X)=P(Y|X)P(X)=P(X|Y)P(Y)<br>$$</p>
<p>å…¶ä¸­ $P(Y)$ å«åšå…ˆéªŒæ¦‚ç‡ï¼Œ $P(Y|X)$ å«åšåéªŒæ¦‚ç‡ï¼Œ $P(Y,X)$ å«åšè”åˆæ¦‚ç‡ã€‚</p>
<h2 id="3-æœºå™¨å­¦ä¹ è§†è§’ç†è§£è´å¶æ–¯å…¬å¼"><a href="#3-æœºå™¨å­¦ä¹ è§†è§’ç†è§£è´å¶æ–¯å…¬å¼" class="headerlink" title="3. æœºå™¨å­¦ä¹ è§†è§’ç†è§£è´å¶æ–¯å…¬å¼"></a>3. æœºå™¨å­¦ä¹ è§†è§’ç†è§£è´å¶æ–¯å…¬å¼</h2><p>æŠŠ $X$ ç†è§£æˆ â€œ$æœ‰æŸ feature$â€<br>æŠŠ $Y$ ç†è§£æˆ â€œ$å±äºæŸç±» label$â€</p>
<blockquote>
<p>ä¸€èˆ¬æœºå™¨å­¦ä¹ ä¸ºé¢˜ä¸­éƒ½æ˜¯ $X$ =&gt; ç‰¹å¾, $Y$ =&gt; ç»“æœ å¯¹å§ã€‚</p>
<p>åœ¨æœ€ç®€å•çš„äºŒåˆ†ç±»é—®é¢˜(æ˜¯ä¸å¦åˆ¤å®š)ä¸‹ï¼Œæˆ‘ä»¬å°† $Y$ ç†è§£æˆ $â€œå±äºæŸç±»â€$ çš„æ ‡ç­¾ã€‚<br>äºæ˜¯è´å¶æ–¯å…¬å¼å°±å˜å½¢æˆäº†ä¸‹é¢çš„æ ·å­:</p>
</blockquote>
<p>$$<br>P(â€œå±äºæŸç±»â€|â€œå…·æœ‰æŸç‰¹å¾â€)=\frac{P(â€œå…·æœ‰æŸç‰¹å¾â€|â€œå±äºæŸç±»â€)P(â€œå±äºæŸç±»â€)}{P(â€œå…·æœ‰æŸç‰¹å¾â€)}<br>$$</p>
<p>è€Œæˆ‘ä»¬äºŒåˆ†ç±»é—®é¢˜çš„æœ€ç»ˆç›®çš„å°±æ˜¯è¦åˆ¤æ–­ $P(â€œå±äºæŸç±»â€|â€œå…·æœ‰æŸç‰¹å¾â€)$ æ˜¯å¦å¤§äº1/2å°±å¤Ÿäº†ã€‚è´å¶æ–¯æ–¹æ³•æŠŠè®¡ç®— â€œ$å…·æœ‰æŸç‰¹å¾çš„æ¡ä»¶ä¸‹å±äºæŸç±»$â€ çš„æ¦‚ç‡è½¬æ¢æˆéœ€è¦è®¡ç®— â€œ$å±äºæŸç±»çš„æ¡ä»¶ä¸‹å…·æœ‰æŸç‰¹å¾$â€ çš„æ¦‚ç‡ï¼Œè€Œåè€…è·å–æ–¹æ³•å°±ç®€å•å¤šäº†ï¼Œæˆ‘ä»¬åªéœ€è¦æ‰¾åˆ°ä¸€äº›åŒ…å«å·²çŸ¥ç‰¹å¾æ ‡ç­¾çš„æ ·æœ¬ï¼Œå³å¯è¿›è¡Œè®­ç»ƒã€‚è€Œæ ·æœ¬çš„ç±»åˆ«æ ‡ç­¾éƒ½æ˜¯æ˜ç¡®çš„ï¼Œæ‰€ä»¥è´å¶æ–¯æ–¹æ³•åœ¨æœºå™¨å­¦ä¹ é‡Œå±äº<code>æœ‰ç›‘ç£å­¦ä¹ æ–¹æ³•</code>ã€‚</p>
<h2 id="4-åƒåœ¾é‚®ä»¶è¯†åˆ«"><a href="#4-åƒåœ¾é‚®ä»¶è¯†åˆ«" class="headerlink" title="4. åƒåœ¾é‚®ä»¶è¯†åˆ«"></a>4. åƒåœ¾é‚®ä»¶è¯†åˆ«</h2><p>ä¸¾ä¸ªæ —å­ ğŸŒ°</p>
<p>æˆ‘ä»¬ç°åœ¨è¦å¯¹é‚®ä»¶è¿›è¡Œåˆ†ç±»ï¼Œè¯†åˆ«åƒåœ¾é‚®ä»¶å’Œæ™®é€šé‚®ä»¶ï¼Œå¦‚æœæˆ‘ä»¬é€‰æ‹©ä½¿ç”¨æœ´ç´ è´å¶æ–¯åˆ†ç±»å™¨ï¼Œé‚£ç›®æ ‡å°±æ˜¯åˆ¤æ–­ $P(â€œåƒåœ¾é‚®ä»¶â€|â€œå…·æœ‰æŸç‰¹å¾â€)$ æ˜¯å¦å¤§äº1/2ã€‚</p>
<p>å‡è®¾æˆ‘ä»¬æœ‰åƒåœ¾é‚®ä»¶å’Œæ­£å¸¸é‚®ä»¶å„1ä¸‡å°ä½œä¸ºè®­ç»ƒé›†ã€‚éœ€è¦åˆ¤æ–­ä»¥ä¸‹è¿™ä¸ªé‚®ä»¶æ˜¯å¦å±äºåƒåœ¾é‚®ä»¶ï¼š</p>
<blockquote>
<p>â€œæˆ‘å¸å¯åŠç†æ­£è§„å‘ç¥¨ï¼ˆä¿çœŸï¼‰17%å¢å€¼ç¨å‘ç¥¨ç‚¹æ•°ä¼˜æƒ ï¼â€</p>
</blockquote>
<p>ä¹Ÿå°±æ˜¯åˆ¤æ–­æ¦‚ç‡ $P(â€œåƒåœ¾é‚®ä»¶â€|â€œæˆ‘å¸å¯åŠç†æ­£è§„å‘ç¥¨ï¼ˆä¿çœŸï¼‰17\%å¢å€¼ç¨å‘ç¥¨ç‚¹æ•°ä¼˜æƒ ï¼â€)$ æ˜¯å¦å¤§äº1/2ã€‚</p>
<p>$$<br>P = \frac{åƒåœ¾é‚®ä»¶ä¸­å‡ºç°è¿™å¥è¯çš„æ¬¡æ•°}{åƒåœ¾é‚®ä»¶ä¸­å‡ºç°è¿™å¥è¯çš„æ¬¡æ•°+æ­£å¸¸é‚®ä»¶ä¸­å‡ºç°è¿™å¥è¯çš„æ¬¡æ•°}<br>$$</p>
<blockquote>
<p>å’³å’³ï¼Œæœ‰æœ¨æœ‰å‘ç°ï¼Œè½¬æ¢æˆçš„è¿™ä¸ªæ¦‚ç‡ï¼Œè®¡ç®—çš„æ–¹æ³•ï¼šå°±æ˜¯å†™ä¸ªè®¡æ•°å™¨ï¼Œç„¶å+1 +1 +1ç»Ÿè®¡å‡ºæ‰€æœ‰åƒåœ¾é‚®ä»¶å’Œæ­£å¸¸é‚®ä»¶ä¸­å‡ºç°è¿™å¥è¯çš„æ¬¡æ•°å•Šï¼ï¼ï¼</p>
</blockquote>
<h2 id="5-åˆ†è¯"><a href="#5-åˆ†è¯" class="headerlink" title="5. åˆ†è¯"></a>5. åˆ†è¯</h2><p>ä¸€ä¸ªå¾ˆæ‚²å“€ä½†æ˜¯å¾ˆç°å®çš„ç»“è®ºï¼š<code>è®­ç»ƒé›†æ˜¯æœ‰é™çš„ï¼Œè€Œå¥å­çš„å¯èƒ½æ€§åˆ™æ˜¯æ— é™çš„ã€‚æ‰€ä»¥è¦†ç›–æ‰€æœ‰å¥å­å¯èƒ½æ€§çš„è®­ç»ƒé›†æ˜¯ä¸å­˜åœ¨çš„</code>ã€‚</p>
<p>æ‰€ä»¥è§£å†³æ–¹æ³•æ˜¯ï¼Ÿ $å¥å­çš„å¯èƒ½æ€§æ— é™ï¼Œä½†æ˜¯è¯è¯­å°±é‚£ä¹ˆäº›$ï¼ï¼æ±‰è¯­å¸¸ç”¨å­—2500ä¸ªï¼Œå¸¸ç”¨è¯è¯­ä¹Ÿå°±56000ä¸ª(ä½ ç»ˆäºæ˜ç™½å°å­¦è¯­æ–‡è€å¸ˆçš„ç”¨å¿ƒè‰¯è‹¦äº†)ã€‚æŒ‰äººä»¬çš„ç»éªŒç†è§£ï¼Œä¸¤å¥è¯æ„æ€ç›¸è¿‘å¹¶ä¸å¼ºæ±‚éå¾—æ¯ä¸ªå­—ã€è¯è¯­éƒ½ä¸€æ ·ã€‚æ¯”å¦‚ $â€œæˆ‘å¸å¯åŠç†æ­£è§„å‘ç¥¨ï¼Œ17%å¢å€¼ç¨å‘ç¥¨ç‚¹æ•°ä¼˜æƒ ï¼â€$ï¼Œè¿™å¥è¯å°±æ¯”ä¹‹å‰é‚£å¥è¯å°‘äº†â€œï¼ˆä¿çœŸï¼‰â€è¿™ä¸ªè¯ï¼Œä½†æ˜¯æ„æ€åŸºæœ¬ä¸€æ ·ã€‚å¦‚æœæŠŠè¿™äº›æƒ…å†µä¹Ÿè€ƒè™‘è¿›æ¥ï¼Œé‚£æ ·æœ¬æ•°é‡å°±ä¼šå¢åŠ ï¼Œè¿™å°±ä¸æ–¹ä¾¿æˆ‘ä»¬è®¡ç®—äº†ã€‚</p>
<p>äºæ˜¯ï¼Œæˆ‘ä»¬å¯ä»¥ä¸æ‹¿å¥å­ä½œä¸ºç‰¹å¾ï¼Œè€Œæ˜¯æ‹¿å¥å­é‡Œé¢çš„è¯è¯­ï¼ˆç»„åˆï¼‰ä½œä¸ºç‰¹å¾å»è€ƒè™‘ã€‚æ¯”å¦‚ â€œ$æ­£è§„å‘ç¥¨$â€ å¯ä»¥ä½œä¸ºä¸€ä¸ªå•ç‹¬çš„è¯è¯­ï¼Œâ€œ$å¢å€¼ç¨$â€ ä¹Ÿå¯ä»¥ä½œä¸ºä¸€ä¸ªå•ç‹¬çš„è¯è¯­ç­‰ç­‰ã€‚</p>
<blockquote>
<p>å¥å­â€œæˆ‘å¸å¯åŠç†æ­£è§„å‘ç¥¨ï¼Œ17%å¢å€¼ç¨å‘ç¥¨ç‚¹æ•°ä¼˜æƒ ï¼â€å°±å¯ä»¥å˜æˆï¼ˆâ€œæˆ‘â€,â€œå¸â€,â€œå¯â€,â€œåŠç†â€,â€œæ­£è§„å‘ç¥¨â€,â€œä¿çœŸâ€,â€œå¢å€¼ç¨â€,â€œå‘ç¥¨â€,â€œç‚¹æ•°â€,â€œä¼˜æƒ â€)ï¼‰ã€‚</p>
</blockquote>
<p>äºæ˜¯ä½ æ¥è§¦åˆ°äº†ä¸­æ–‡NLPä¸­ï¼Œæœ€æœ€æœ€é‡è¦çš„æŠ€æœ¯ä¹‹ä¸€ï¼š<strong><code>åˆ†è¯</code></strong>ï¼ï¼ï¼ä¹Ÿå°±æ˜¯æŠŠä¸€æ•´å¥è¯æ‹†åˆ†æˆæ›´ç»†ç²’åº¦çš„è¯è¯­æ¥è¿›è¡Œè¡¨ç¤ºã€‚å¦å¤–ï¼Œåˆ†è¯ä¹‹åå»é™¤æ ‡ç‚¹ç¬¦å·ã€æ•°å­—ç”šè‡³æ— å…³æˆåˆ†(åœç”¨è¯)æ˜¯ç‰¹å¾é¢„å¤„ç†ä¸­çš„ä¸€é¡¹æŠ€æœ¯ã€‚  </p>
<p>ä¸­æ–‡åˆ†è¯æ˜¯ä¸€ä¸ªä¸“é—¨çš„æŠ€æœ¯é¢†åŸŸ(æˆ‘ä¸ä¼šå‘Šè¯‰ä½ æŸæœç´¢å¼•æ“å‚ç ç –å·¥æœ‰ä¸“é—¨åšåˆ†è¯çš„ï¼ï¼ï¼)  </p>
<p>æˆ‘ä»¬è§‚å¯Ÿ$ï¼ˆâ€œæˆ‘â€,â€œå¸â€,â€œå¯â€,â€œåŠç†â€,â€œæ­£è§„å‘ç¥¨â€,â€œä¿çœŸâ€,â€œå¢å€¼ç¨â€,â€œå‘ç¥¨â€,â€œç‚¹æ•°â€,â€œä¼˜æƒ â€)$ï¼Œè¿™å¯ä»¥ç†è§£æˆä¸€ä¸ªå‘é‡ï¼šå‘é‡çš„æ¯ä¸€ç»´åº¦éƒ½è¡¨ç¤ºç€è¯¥ $ç‰¹å¾è¯$ åœ¨æ–‡æœ¬ä¸­çš„ç‰¹å®šä½ç½®å­˜åœ¨ã€‚è¿™ç§å°†ç‰¹å¾æ‹†åˆ†æˆæ›´å°çš„å•å…ƒï¼Œä¾æ®è¿™äº›æ›´çµæ´»ã€æ›´ç»†ç²’åº¦çš„ç‰¹å¾è¿›è¡Œåˆ¤æ–­çš„æ€ç»´æ–¹å¼ï¼Œåœ¨è‡ªç„¶è¯­è¨€å¤„ç†ä¸æœºå™¨å­¦ä¹ ä¸­éƒ½æ˜¯éå¸¸å¸¸è§åˆæœ‰æ•ˆçš„ã€‚</p>
<p>å› æ­¤è´å¶æ–¯å…¬å¼å°±å˜æˆäº†ï¼š</p>
<p>$$<br>P(â€œåƒåœ¾é‚®ä»¶â€|ï¼ˆâ€œæˆ‘â€,â€œå¸â€,â€œå¯â€,â€œåŠç†â€,â€œæ­£è§„å‘ç¥¨â€,â€œä¿çœŸâ€,â€œå¢å€¼ç¨â€,â€œå‘ç¥¨â€,â€œç‚¹æ•°â€,â€œä¼˜æƒ â€)ï¼‰<br>$$</p>
<p>$$<br>=\frac{P(ï¼ˆâ€œæˆ‘â€,â€œå¸â€,â€œå¯â€,â€œåŠç†â€,â€œæ­£è§„å‘ç¥¨â€,â€œä¿çœŸâ€,â€œå¢å€¼ç¨â€,â€œå‘ç¥¨â€,â€œç‚¹æ•°â€,â€œä¼˜æƒ â€)|â€åƒåœ¾é‚®ä»¶â€ï¼‰P(â€œåƒåœ¾é‚®ä»¶â€)}{P(ï¼ˆâ€œæˆ‘â€,â€œå¸â€,â€œå¯â€,â€œåŠç†â€,â€œæ­£è§„å‘ç¥¨â€,â€œä¿çœŸâ€,â€œå¢å€¼ç¨â€,â€œå‘ç¥¨â€,â€œç‚¹æ•°â€,â€œä¼˜æƒ â€)) }<br>$$</p>
<hr>
<p>$$<br>P(â€œæ­£å¸¸é‚®ä»¶â€|ï¼ˆâ€œæˆ‘â€,â€œå¸â€,â€œå¯â€,â€œåŠç†â€,â€œæ­£è§„å‘ç¥¨â€,â€œä¿çœŸâ€,â€œå¢å€¼ç¨â€,â€œå‘ç¥¨â€,â€œç‚¹æ•°â€,â€œä¼˜æƒ â€)ï¼‰<br>$$</p>
<p>$$<br>=\frac{P(ï¼ˆâ€œæˆ‘â€,â€œå¸â€,â€œå¯â€,â€œåŠç†â€,â€œæ­£è§„å‘ç¥¨â€,â€œä¿çœŸâ€,â€œå¢å€¼ç¨â€,â€œå‘ç¥¨â€,â€œç‚¹æ•°â€,â€œä¼˜æƒ â€)|â€æ­£å¸¸é‚®ä»¶â€ï¼‰P(â€œæ­£å¸¸é‚®ä»¶â€)}{P(ï¼ˆâ€œæˆ‘â€,â€œå¸â€,â€œå¯â€,â€œåŠç†â€,â€œæ­£è§„å‘ç¥¨â€,â€œä¿çœŸâ€,â€œå¢å€¼ç¨â€,â€œå‘ç¥¨â€,â€œç‚¹æ•°â€,â€œä¼˜æƒ â€)) }<br>$$</p>
<h2 id="6-æ¡ä»¶ç‹¬ç«‹å‡è®¾"><a href="#6-æ¡ä»¶ç‹¬ç«‹å‡è®¾" class="headerlink" title="6. æ¡ä»¶ç‹¬ç«‹å‡è®¾"></a>6. æ¡ä»¶ç‹¬ç«‹å‡è®¾</h2><p>ä¸‹é¢æˆ‘ä»¬é©¬ä¸Šä¼šçœ‹åˆ°ä¸€ä¸ªéå¸¸ç®€å•ç²—æš´çš„å‡è®¾ã€‚</p>
<p>$P(ï¼ˆâ€œæˆ‘â€,â€œå¸â€,â€œå¯â€,â€œåŠç†â€,â€œæ­£è§„å‘ç¥¨â€,â€œä¿çœŸâ€,â€œå¢å€¼ç¨â€,â€œå‘ç¥¨â€,â€œç‚¹æ•°â€,â€œä¼˜æƒ â€)|â€åƒåœ¾é‚®ä»¶â€ï¼‰$ ä¾æ—§ä¸å¤Ÿå¥½æ±‚ï¼Œæˆ‘ä»¬å¼•è¿›ä¸€ä¸ªå¾ˆæœ´ç´ çš„è¿‘ä¼¼ã€‚ä¸ºäº†è®©å…¬å¼æ˜¾å¾—æ›´åŠ ç´§å‡‘ï¼Œæˆ‘ä»¬ä»¤å­—æ¯ <code>S</code> è¡¨ç¤ºâ€œåƒåœ¾é‚®ä»¶â€,ä»¤å­—æ¯ <code>H</code> è¡¨ç¤ºâ€œæ­£å¸¸é‚®ä»¶â€ã€‚è¿‘ä¼¼å…¬å¼å¦‚ä¸‹ï¼š</p>
<p>$$<br>P(ï¼ˆâ€œæˆ‘â€,â€œå¸â€,â€œå¯â€,â€œåŠç†â€,â€œæ­£è§„å‘ç¥¨â€,â€œä¿çœŸâ€,â€œå¢å€¼ç¨â€,â€œå‘ç¥¨â€,â€œç‚¹æ•°â€,â€œä¼˜æƒ â€)|Sï¼‰<br>$$</p>
<p>$$<br>=P(â€œæˆ‘â€|Sï¼‰Ã—P(â€œå¸â€|Sï¼‰Ã—P(â€œå¯â€|Sï¼‰Ã—P(â€œåŠç†â€|Sï¼‰Ã—P(â€œæ­£è§„å‘ç¥¨â€|Sï¼‰<br>$$</p>
<p>$$<br>Ã—P(â€œä¿çœŸâ€|Sï¼‰Ã—P(â€œå¢å€¼ç¨â€|Sï¼‰Ã—P(â€œå‘ç¥¨â€|Sï¼‰Ã—P(â€œç‚¹æ•°â€|Sï¼‰Ã—P(â€œä¼˜æƒ â€|S)<br>$$</p>
<p>è¿™å°±æ˜¯ä¼ è¯´ä¸­çš„æ¡ä»¶ç‹¬ç«‹å‡è®¾ã€‚åŸºäºâ€œæ­£å¸¸é‚®ä»¶â€çš„æ¡ä»¶ç‹¬ç«‹å‡è®¾çš„å¼å­ä¸ä¸Šå¼ç±»ä¼¼ï¼Œæ­¤å¤„çœå»ã€‚æ¥ç€ï¼Œå°†æ¡ä»¶ç‹¬ç«‹å‡è®¾ä»£å…¥ä¸Šé¢ä¸¤ä¸ªç›¸åäº‹ä»¶çš„è´å¶æ–¯å…¬å¼ã€‚ </p>
<p>äºæ˜¯æˆ‘ä»¬å°±åªéœ€è¦æ¯”è¾ƒä»¥ä¸‹ä¸¤ä¸ªå¼å­çš„å¤§å°ï¼š</p>
<p>$$<br>C = P(â€œæˆ‘â€|S)P(â€œå¸â€|S)P(â€œå¯â€|S)P(â€œåŠç†â€|S)P(â€œæ­£è§„å‘ç¥¨â€|S)<br>$$</p>
<p>$$<br>Ã—P(â€œä¿çœŸâ€|S)P(â€œå¢å€¼ç¨â€|S)P(â€œå‘ç¥¨â€|S)P(â€œç‚¹æ•°â€|S)P(â€œä¼˜æƒ â€|S)P(â€œåƒåœ¾é‚®ä»¶â€)<br>$$</p>
<hr>
<p>$$<br>\overline{C}=P(â€œæˆ‘â€|H)P(â€œå¸â€|H)P(â€œå¯â€|H)P(â€œåŠç†â€|H)P(â€œæ­£è§„å‘ç¥¨â€|H)<br>$$</p>
<p>$$<br>Ã—P(â€œä¿çœŸâ€|H)P(â€œå¢å€¼ç¨â€|H)P(â€œå‘ç¥¨â€|H)P(â€œç‚¹æ•°â€|H)P(â€œä¼˜æƒ â€|H)P(â€œæ­£å¸¸é‚®ä»¶â€)<br>$$</p>
<p>å‰(wo)å®³(cao)ï¼é…±ç´«å¤„ç†åå¼å­ä¸­çš„æ¯ä¸€é¡¹éƒ½ç‰¹åˆ«å¥½æ±‚ï¼åªéœ€è¦åˆ†åˆ«ç»Ÿè®¡å„ç±»é‚®ä»¶ä¸­è¯¥å…³é”®è¯å‡ºç°çš„æ¦‚ç‡å°±å¯ä»¥äº†ï¼ï¼ï¼æ¯”å¦‚ï¼š</p>
<blockquote>
<p>$$<br>P(â€œå‘ç¥¨â€|Sï¼‰=\frac{åƒåœ¾é‚®ä»¶ä¸­æ‰€æœ‰â€œå‘ç¥¨â€çš„æ¬¡æ•°}{åƒåœ¾é‚®ä»¶ä¸­æ‰€æœ‰è¯è¯­çš„æ¬¡æ•°}<br>$$</p>
</blockquote>
<p>ç»Ÿè®¡æ¬¡æ•°éå¸¸æ–¹ä¾¿ï¼Œè€Œä¸”æ ·æœ¬æ•°é‡è¶³å¤Ÿå¤§ï¼Œç®—å‡ºæ¥çš„æ¦‚ç‡æ¯”è¾ƒæ¥è¿‘çœŸå®ã€‚äºæ˜¯åƒåœ¾é‚®ä»¶è¯†åˆ«çš„é—®é¢˜å°±å¯è§£äº†ã€‚</p>
<h2 id="7-Naive-Bayesï¼Œâ€œNaiveâ€åœ¨ä½•å¤„ï¼Ÿ"><a href="#7-Naive-Bayesï¼Œâ€œNaiveâ€åœ¨ä½•å¤„ï¼Ÿ" class="headerlink" title="7. Naive Bayesï¼Œâ€œNaiveâ€åœ¨ä½•å¤„ï¼Ÿ"></a>7. Naive Bayesï¼Œâ€œNaiveâ€åœ¨ä½•å¤„ï¼Ÿ</h2><p>åŠ ä¸Šæ¡ä»¶ç‹¬ç«‹å‡è®¾çš„è´å¶æ–¯æ–¹æ³•å°±æ˜¯æœ´ç´ è´å¶æ–¯æ–¹æ³•ï¼ˆNaive Bayesï¼‰ã€‚ Naiveçš„å‘éŸ³æ˜¯â€œä¹ƒä¸€æ±¡â€ï¼Œæ„æ€æ˜¯â€œæœ´ç´ çš„â€ã€â€œå¹¼ç¨šçš„â€ã€â€œè ¢è ¢çš„â€ã€‚å’³å’³ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œå¤§ç¥ä»¬å–åè¯´è¯¥æ–¹æ³•æ˜¯ä¸€ç§æ¯”è¾ƒèŒè ¢çš„æ–¹æ³•ï¼Œä¸ºå•¥ï¼Ÿ</p>
<p>å°†å¥å­ï¼ˆâ€œæˆ‘â€,â€œå¸â€,â€œå¯â€,â€œåŠç†â€,â€œæ­£è§„å‘ç¥¨â€) ä¸­çš„ ï¼ˆâ€œæˆ‘â€,â€œå¸â€ï¼‰ä¸ï¼ˆâ€œæ­£è§„å‘ç¥¨â€ï¼‰è°ƒæ¢ä¸€ä¸‹é¡ºåºï¼Œå°±å˜æˆäº†ä¸€ä¸ªæ–°çš„å¥å­ï¼ˆâ€œæ­£è§„å‘ç¥¨â€,â€œå¯â€,â€œåŠç†â€, â€œæˆ‘â€, â€œå¸â€)ã€‚æ–°å¥å­ä¸æ—§å¥å­çš„æ„æ€å®Œå…¨ä¸åŒã€‚ä½†ç”±äºä¹˜æ³•äº¤æ¢å¾‹ï¼Œæœ´ç´ è´å¶æ–¯æ–¹æ³•ä¸­ç®—å‡ºæ¥äºŒè€…çš„æ¡ä»¶æ¦‚ç‡å®Œå…¨ä¸€æ ·ï¼è®¡ç®—è¿‡ç¨‹å¦‚ä¸‹ï¼š</p>
<p>$$<br>P(ï¼ˆâ€œæˆ‘â€,â€œå¸â€,â€œå¯â€,â€œåŠç†â€,â€œæ­£è§„å‘ç¥¨â€)|S) = P(â€œæˆ‘â€|S)P(â€œå¸â€|S)P(â€œå¯â€|S)P(â€œåŠç†â€|S)P(â€œæ­£è§„å‘ç¥¨â€|S)<br>$$</p>
<p>$$<br>=P(â€œæ­£è§„å‘ç¥¨â€|S)P(â€œå¯â€|S)P(â€œåŠç†â€|S)P(â€œæˆ‘â€|S)P(â€œå¸â€|Sï¼‰ =P(ï¼ˆâ€œæ­£è§„å‘ç¥¨â€,â€œå¯â€,â€œåŠç†â€, â€œæˆ‘â€, â€œå¸â€)|S)<br>$$</p>
<p>ä¹Ÿå°±æ˜¯è¯´ï¼Œåœ¨æœ´ç´ è´å¶æ–¯çœ¼é‡Œï¼Œâ€œ<code>æˆ‘å¸å¯åŠç†æ­£è§„å‘ç¥¨</code>â€ ä¸ â€œ<code>æ­£è§„å‘ç¥¨å¯åŠç†æˆ‘å¸</code>â€ å®Œå…¨ç›¸åŒã€‚æœ´ç´ è´å¶æ–¯å¤±å»äº†è¯è¯­ä¹‹é—´çš„é¡ºåºä¿¡æ¯ã€‚è¿™å°±ç›¸å½“äºæŠŠæ‰€æœ‰çš„è¯æ±‡æ‰”è¿›åˆ°ä¸€ä¸ªè¢‹å­é‡Œéšä¾¿æ…å’Œï¼Œè´å¶æ–¯éƒ½è®¤ä¸ºå®ƒä»¬ä¸€æ ·ã€‚å› æ­¤è¿™ç§æƒ…å†µä¹Ÿç§°ä½œè¯è¢‹å­æ¨¡å‹(<code>bag of words</code>)ã€‚</p>
<p>è¯è¢‹å­æ¨¡å‹ä¸äººä»¬çš„æ—¥å¸¸ç»éªŒå®Œå…¨ä¸åŒã€‚æ¯”å¦‚ï¼Œåœ¨æ¡ä»¶ç‹¬ç«‹å‡è®¾çš„æƒ…å†µä¸‹ï¼Œâ€œ<code>æ­¦æ¾æ‰“æ­»äº†è€è™</code>â€ ä¸ â€œ<code>è€è™æ‰“æ­»äº†æ­¦æ¾</code>â€ è¢«å®ƒè®¤ä½œä¸€ä¸ªæ„æ€äº†ã€‚æ©ï¼Œæœ´ç´ è´å¶æ–¯å°±æ˜¯è¿™ä¹ˆå•çº¯å’Œç›´æ¥ï¼Œå¯¹æ¯”äºå…¶ä»–åˆ†ç±»å™¨ï¼Œå¥½åƒæ˜¯æ˜¾å¾—æœ‰é‚£ä¹ˆç‚¹èŒè ¢</p>
<h2 id="8-ç®€å•é«˜æ•ˆï¼ŒåŠä¸é€†è¢­"><a href="#8-ç®€å•é«˜æ•ˆï¼ŒåŠä¸é€†è¢­" class="headerlink" title="8. ç®€å•é«˜æ•ˆï¼ŒåŠä¸é€†è¢­"></a>8. ç®€å•é«˜æ•ˆï¼ŒåŠä¸é€†è¢­</h2><p>è™½ç„¶è¯´æœ´ç´ è´å¶æ–¯æ–¹æ³•èŒè ¢èŒè ¢çš„ï¼Œä½†å®è·µè¯æ˜åœ¨åƒåœ¾é‚®ä»¶è¯†åˆ«çš„åº”ç”¨è¿˜ä»¤äººè¯§å¼‚åœ°å¥½ã€‚Paul Grahamå…ˆç”Ÿè‡ªå·±ç®€å•åšäº†ä¸€ä¸ªæœ´ç´ è´å¶æ–¯åˆ†ç±»å™¨ï¼Œâ€œ1000å°åƒåœ¾é‚®ä»¶èƒ½å¤Ÿè¢«è¿‡æ»¤æ‰995å°ï¼Œå¹¶ä¸”æ²¡æœ‰ä¸€ä¸ªè¯¯åˆ¤â€ã€‚ï¼ˆPaul Grahamã€Šé»‘å®¢ä¸ç”»å®¶ã€‹ï¼‰</p>
<p>é‚£ä¸ªâ€¦æ•ˆæœä¸ºå•¥å¥½å‘¢ï¼Ÿ</p>
<blockquote>
<p>â€œæœ‰äººå¯¹æ­¤æå‡ºäº†ä¸€ä¸ªç†è®ºè§£é‡Šï¼Œå¹¶ä¸”å»ºç«‹äº†ä»€ä¹ˆæ—¶å€™æœ´ç´ è´å¶æ–¯çš„æ•ˆæœèƒ½å¤Ÿç­‰ä»·äºéæœ´ç´ è´å¶æ–¯çš„å……è¦æ¡ä»¶ï¼Œè¿™ä¸ªè§£é‡Šçš„æ ¸å¿ƒå°±æ˜¯ï¼šæœ‰äº›ç‹¬ç«‹å‡è®¾åœ¨å„ä¸ªåˆ†ç±»ä¹‹é—´çš„åˆ†å¸ƒéƒ½æ˜¯å‡åŒ€çš„æ‰€ä»¥å¯¹äºä¼¼ç„¶çš„ç›¸å¯¹å¤§å°ä¸äº§ç”Ÿå½±å“ï¼›å³ä¾¿ä¸æ˜¯å¦‚æ­¤ï¼Œä¹Ÿæœ‰å¾ˆå¤§çš„å¯èƒ½æ€§å„ä¸ªç‹¬ç«‹å‡è®¾æ‰€äº§ç”Ÿçš„æ¶ˆæå½±å“æˆ–ç§¯æå½±å“äº’ç›¸æŠµæ¶ˆï¼Œæœ€ç»ˆå¯¼è‡´ç»“æœå—åˆ°çš„å½±å“ä¸å¤§ã€‚å…·ä½“çš„æ•°å­¦å…¬å¼è¯·å‚è€ƒ[è¿™ç¯‡ paper][2]ã€‚â€ï¼ˆåˆ˜æœªé¹ã€Šï¼šå¹³å‡¡è€Œåˆç¥å¥‡çš„è´å¶æ–¯æ–¹æ³•ã€‹ï¼‰</p>
</blockquote>
<p>æ©ï¼Œè¿™ä¸ªåˆ†ç±»å™¨ä¸­æœ€ç®€å•ç›´æ¥çœ‹ä¼¼èŒè ¢çš„å°ç›†å‹ã€æœ´ç´ è´å¶æ–¯ã€ï¼Œå®é™…ä¸Šå´æ˜¯ç®€å•ã€å®ç”¨ã€ä¸”å¼ºå¤§çš„ã€‚</p>
<h2 id="9-å¤„ç†é‡å¤è¯è¯­çš„ä¸‰ç§æ–¹å¼"><a href="#9-å¤„ç†é‡å¤è¯è¯­çš„ä¸‰ç§æ–¹å¼" class="headerlink" title="9. å¤„ç†é‡å¤è¯è¯­çš„ä¸‰ç§æ–¹å¼"></a>9. å¤„ç†é‡å¤è¯è¯­çš„ä¸‰ç§æ–¹å¼</h2><p>æˆ‘ä»¬ä¹‹å‰çš„ <font color="blue"> åƒåœ¾é‚®ä»¶å‘é‡ï¼ˆâ€œæˆ‘â€,â€œå¸â€,â€œå¯â€,â€œåŠç†â€,â€œæ­£è§„å‘ç¥¨â€,â€œä¿çœŸâ€,â€œå¢å€¼ç¨â€,â€œå‘ç¥¨â€,â€œç‚¹æ•°â€,â€œä¼˜æƒ â€) </font>ï¼Œå…¶ä¸­æ¯ä¸ªè¯éƒ½ä¸é‡å¤ã€‚è€Œè¿™åœ¨ç°å®ä¸­å…¶å®å¾ˆå°‘è§ã€‚å› ä¸ºå¦‚æœæ–‡æœ¬é•¿åº¦å¢åŠ ï¼Œæˆ–è€…åˆ†è¯æ–¹æ³•æ”¹å˜ï¼Œå¿…ç„¶ä¼šæœ‰è®¸å¤šè¯é‡å¤å‡ºç°ï¼Œå› æ­¤éœ€è¦å¯¹è¿™ç§æƒ…å†µè¿›è¡Œè¿›ä¸€æ­¥æ¢è®¨ã€‚æ¯”å¦‚ä»¥ä¸‹è¿™æ®µé‚®ä»¶ï¼š</p>
<blockquote>
<p>â€œä»£å¼€å‘ç¥¨ã€‚å¢å€¼ç¨å‘ç¥¨ï¼Œæ­£è§„å‘ç¥¨ã€‚â€ åˆ†è¯åä¸ºå‘é‡ï¼š ï¼ˆâ€œä»£å¼€â€,â€œå‘ç¥¨â€,â€œå¢å€¼ç¨â€,â€œå‘ç¥¨â€,â€œæ­£è§„â€,â€œå‘ç¥¨â€ï¼‰</p>
</blockquote>
<p>å…¶ä¸­â€œå‘ç¥¨â€é‡å¤äº†ä¸‰æ¬¡ã€‚</p>
<h3 id="9-1-å¤šé¡¹å¼æ¨¡å‹"><a href="#9-1-å¤šé¡¹å¼æ¨¡å‹" class="headerlink" title="9.1 å¤šé¡¹å¼æ¨¡å‹"></a>9.1 å¤šé¡¹å¼æ¨¡å‹</h3><p>å¦‚æœæˆ‘ä»¬è€ƒè™‘é‡å¤è¯è¯­çš„æƒ…å†µï¼Œ<font color="blue">é‡å¤çš„è¯è¯­æˆ‘ä»¬è§†ä¸ºå…¶å‡ºç°å¤šæ¬¡</font>ï¼Œç›´æ¥æŒ‰æ¡ä»¶ç‹¬ç«‹å‡è®¾çš„æ–¹å¼æ¨å¯¼ï¼Œåˆ™æœ‰</p>
<p>$$<br>P(ï¼ˆâ€œä»£å¼€â€,â€œå‘ç¥¨â€,â€œå¢å€¼ç¨â€,â€œå‘ç¥¨â€,â€œæ­£è§„â€,â€œå‘ç¥¨â€)|Sï¼‰<br>$$</p>
<p>$$<br>=P(â€œä»£å¼€â€â€|S)P(â€œå‘ç¥¨â€|S)P(â€œå¢å€¼ç¨â€|S)P(â€œå‘ç¥¨â€|S)P(â€œæ­£è§„â€|S)P(â€œå‘ç¥¨â€|Sï¼‰<br>$$</p>
<p>$$<br>=P(â€œä»£å¼€â€â€|S)P^3(â€œå‘ç¥¨â€|S)P(â€œå¢å€¼ç¨â€|S)P(â€œæ­£è§„â€|S)<br>$$</p>
<blockquote>
<p>æ³¨æ„è¿™é¡¹ $P^3(â€œå‘ç¥¨â€|S)$</p>
</blockquote>
<h3 id="9-2-ä¼¯åŠªåˆ©æ¨¡å‹"><a href="#9-2-ä¼¯åŠªåˆ©æ¨¡å‹" class="headerlink" title="9.2 ä¼¯åŠªåˆ©æ¨¡å‹"></a>9.2 ä¼¯åŠªåˆ©æ¨¡å‹</h3><p>å¦ä¸€ç§æ›´åŠ ç®€åŒ–çš„æ–¹æ³•æ˜¯å°†é‡å¤çš„è¯è¯­éƒ½è§†ä¸ºå…¶åªå‡ºç°1æ¬¡ï¼Œ</p>
<p>$$<br>P(ï¼ˆâ€œä»£å¼€â€,â€œå‘ç¥¨â€,â€œå¢å€¼ç¨â€,â€œå‘ç¥¨â€,â€œæ­£è§„â€,â€œå‘ç¥¨â€)|Sï¼‰<br>$$</p>
<p>$$<br>=P(â€œå‘ç¥¨â€|S)P(â€œä»£å¼€â€â€|S)P(â€œå¢å€¼ç¨â€|S)P(â€œæ­£è§„â€|Sï¼‰<br>$$</p>
<p>ç»Ÿè®¡è®¡ç®— $P(â€œè¯è¯­â€|S)$ æ—¶ä¹Ÿæ˜¯å¦‚æ­¤ã€‚</p>
<p>$$<br>P(â€œå‘ç¥¨â€|Sï¼‰=\frac{å‡ºç°â€œå‘ç¥¨â€çš„åƒåœ¾é‚®ä»¶çš„å°æ•°}{æ¯å°åƒåœ¾é‚®ä»¶ä¸­æ‰€æœ‰è¯å‡ºç°æ¬¡æ•°ï¼ˆå‡ºç°äº†åªè®¡ç®—ä¸€æ¬¡ï¼‰çš„æ€»å’Œ}<br>$$</p>
<p>è¿™æ ·çš„æ¨¡å‹å«ä½œ <font color="blue">ä¼¯åŠªåˆ©æ¨¡å‹</font>ï¼ˆåˆç§°ä¸ºäºŒé¡¹ç‹¬ç«‹æ¨¡å‹ï¼‰ã€‚è¿™ç§æ–¹å¼æ›´åŠ ç®€åŒ–ä¸æ–¹ä¾¿ã€‚å½“ç„¶å®ƒä¸¢å¤±äº†è¯é¢‘çš„ä¿¡æ¯ï¼Œå› æ­¤æ•ˆæœå¯èƒ½ä¼šå·®ä¸€äº›ã€‚</p>
<h3 id="9-3-æ··åˆæ¨¡å‹"><a href="#9-3-æ··åˆæ¨¡å‹" class="headerlink" title="9.3 æ··åˆæ¨¡å‹"></a>9.3 æ··åˆæ¨¡å‹</h3><p>ç¬¬ä¸‰ç§æ–¹å¼æ˜¯åœ¨è®¡ç®—å¥å­æ¦‚ç‡æ—¶ï¼Œä¸è€ƒè™‘é‡å¤è¯è¯­å‡ºç°çš„æ¬¡æ•°ï¼Œä½†æ˜¯åœ¨ç»Ÿè®¡è®¡ç®—è¯è¯­çš„æ¦‚ç‡$P(â€œè¯è¯­â€|S)$ æ—¶ï¼Œå´è€ƒè™‘é‡å¤è¯è¯­çš„å‡ºç°æ¬¡æ•°ï¼Œè¿™æ ·çš„æ¨¡å‹å¯ä»¥å«ä½œæ··åˆæ¨¡å‹ã€‚</p>
<p><img src="/images/nlp/nlp-bayes-03.jpg" alt=""></p>
<p>å…·ä½“å®è·µä¸­é‡‡ç”¨é‚£ç§æ¨¡å‹ï¼Œå…³é”®çœ‹å…·ä½“çš„ä¸šåŠ¡åœºæ™¯ï¼Œä¸€ä¸ªç®€å•ç»éªŒæ˜¯ï¼Œå¯¹äºåƒåœ¾é‚®ä»¶è¯†åˆ«ï¼Œæ··åˆæ¨¡å‹æ›´å¥½äº›ã€‚</p>
<h2 id="10-å»é™¤åœç”¨è¯ä¸é€‰æ‹©å…³é”®è¯"><a href="#10-å»é™¤åœç”¨è¯ä¸é€‰æ‹©å…³é”®è¯" class="headerlink" title="10. å»é™¤åœç”¨è¯ä¸é€‰æ‹©å…³é”®è¯"></a>10. å»é™¤åœç”¨è¯ä¸é€‰æ‹©å…³é”®è¯</h2><p>æˆ‘ä»¬ç»§ç»­è§‚å¯Ÿ<strong>ï¼ˆâ€œæˆ‘â€,â€œå¸â€,â€œå¯â€,â€œåŠç†â€,â€œæ­£è§„å‘ç¥¨â€,â€œä¿çœŸâ€,â€œå¢å€¼ç¨â€,â€œå‘ç¥¨â€,â€œç‚¹æ•°â€,â€œä¼˜æƒ â€)</strong> è¿™å¥è¯ã€‚å…¶å®ï¼Œåƒ<strong>â€œæˆ‘â€ã€â€œå¯â€</strong>ä¹‹ç±»è¯å…¶å®éå¸¸ä¸­æ€§ï¼Œæ— è®ºå…¶æ˜¯å¦å‡ºç°åœ¨åƒåœ¾é‚®ä»¶ä¸­éƒ½æ— æ³•å¸®åŠ©åˆ¤æ–­çš„æœ‰ç”¨ä¿¡æ¯ã€‚æ‰€ä»¥å¯ä»¥ç›´æ¥ä¸è€ƒè™‘è¿™äº›å…¸å‹çš„è¯ã€‚è¿™äº›æ— åŠ©äºæˆ‘ä»¬åˆ†ç±»çš„è¯è¯­å«ä½œ â€œåœç”¨è¯â€ï¼ˆ<code>Stop Words</code>ï¼‰ã€‚è¿™æ ·å¯ä»¥å‡å°‘æˆ‘ä»¬è®­ç»ƒæ¨¡å‹ã€åˆ¤æ–­åˆ†ç±»çš„æ—¶é—´ã€‚ äºæ˜¯ä¹‹å‰çš„å¥å­å°±å˜æˆäº†<strong>ï¼ˆâ€œå¸â€,â€œåŠç†â€,â€œæ­£è§„å‘ç¥¨â€,â€œä¿çœŸâ€,â€œå¢å€¼ç¨â€,â€œå‘ç¥¨â€,â€œç‚¹æ•°â€,â€œä¼˜æƒ â€) </strong>ã€‚</p>
<p>æˆ‘ä»¬è¿›ä¸€æ­¥åˆ†æã€‚ä»¥äººç±»çš„ç»éªŒï¼Œå…¶å® <strong>â€œæ­£è§„å‘ç¥¨â€ã€â€œå‘ç¥¨â€</strong> è¿™ç±»çš„è¯å¦‚æœå‡ºç°çš„è¯ï¼Œé‚®ä»¶ä½œä¸ºåƒåœ¾é‚®ä»¶çš„æ¦‚ç‡éå¸¸å¤§ï¼Œå¯ä»¥ä½œä¸ºæˆ‘ä»¬åŒºåˆ†åƒåœ¾é‚®ä»¶çš„â€œå…³é”®è¯â€ã€‚è€Œåƒ <strong>â€œå¸â€ã€â€œåŠç†â€ã€â€œä¼˜æƒ â€</strong> è¿™ç±»çš„è¯åˆ™æœ‰ç‚¹é¸¡è‚‹ï¼Œå¯èƒ½æœ‰åŠ©äºåˆ†ç±»ï¼Œä½†åˆä¸é‚£ä¹ˆå¼ºçƒˆã€‚å¦‚æœæƒ³çœäº‹åšä¸ªç®€å•çš„åˆ†ç±»å™¨çš„è¯ï¼Œåˆ™å¯ä»¥ç›´æ¥é‡‡ç”¨â€œå…³é”®è¯â€è¿›è¡Œç»Ÿè®¡ä¸åˆ¤æ–­ï¼Œå‰©ä¸‹çš„è¯å°±å¯ä»¥å…ˆä¸ç®¡äº†ã€‚äºæ˜¯ä¹‹å‰çš„åƒåœ¾é‚®ä»¶å¥å­å°±å˜æˆäº†<strong>ï¼ˆâ€œæ­£è§„å‘ç¥¨â€,â€œå‘ç¥¨â€)</strong> ã€‚è¿™æ ·å°±æ›´åŠ å‡å°‘äº†æˆ‘ä»¬è®­ç»ƒæ¨¡å‹ã€åˆ¤æ–­åˆ†ç±»çš„æ—¶é—´ï¼Œé€Ÿåº¦éå¸¸å¿«ã€‚</p>
<p><strong>â€œåœç”¨è¯â€å’Œâ€œå…³é”®è¯â€ä¸€èˆ¬éƒ½å¯ä»¥æå‰é äººå·¥ç»éªŒæŒ‡å®š</strong>ã€‚ä¸åŒçš„â€œåœç”¨è¯â€å’Œâ€œå…³é”®è¯â€è®­ç»ƒå‡ºæ¥<strong>çš„åˆ†ç±»å™¨</strong>çš„æ•ˆæœä¹Ÿä¼šæœ‰äº›å·®å¼‚ã€‚</p>
<h2 id="11-æµ…è°ˆå¹³æ»‘æŠ€æœ¯"><a href="#11-æµ…è°ˆå¹³æ»‘æŠ€æœ¯" class="headerlink" title="11. æµ…è°ˆå¹³æ»‘æŠ€æœ¯"></a>11. æµ…è°ˆå¹³æ»‘æŠ€æœ¯</h2><p>æˆ‘ä»¬æ¥è¯´ä¸ªé—®é¢˜(ä¸­æ–‡NLPé‡Œé—®é¢˜è¶…çº§å¤š)ï¼Œæ¯”å¦‚åœ¨è®¡ç®—ä»¥ä¸‹ç‹¬ç«‹æ¡ä»¶å‡è®¾çš„æ¦‚ç‡ï¼š</p>
<p>$$<br>P(ï¼ˆâ€œæˆ‘â€,â€œå¸â€,â€œå¯â€,â€œåŠç†â€,â€œæ­£è§„å‘ç¥¨â€)|S)<br>$$</p>
<p>$$<br>=P(â€œæˆ‘â€|S)P(â€œå¸â€|S)P(â€œå¯â€|S)P(â€œåŠç†â€|S)P(â€œæ­£è§„å‘ç¥¨â€|Sï¼‰<br>$$</p>
<p>æˆ‘ä»¬æ‰«æä¸€ä¸‹è®­ç»ƒé›†ï¼Œå‘ç° <strong>â€œæ­£è§„å‘ç¥¨â€è¿™ä¸ªè¯ä»å‡ºç°è¿‡ï¼ï¼ï¼ï¼Œäºæ˜¯ $P(â€œæ­£è§„å‘ç¥¨â€|Sï¼‰=0$ â€¦é—®é¢˜ä¸¥é‡äº†ï¼Œæ•´ä¸ªæ¦‚ç‡éƒ½å˜æˆ0äº†ï¼ï¼ï¼æœ´ç´ è´å¶æ–¯æ–¹æ³•é¢å¯¹ä¸€å †0ï¼Œå¾ˆå‡„æƒ¨åœ°å¤±æ•ˆäº†â€¦æ›´æ®‹é…·çš„æ˜¯</strong> è¿™ç§æƒ…å†µå…¶å®å¾ˆå¸¸è§ï¼Œ<strong>å› ä¸ºå“ªæ€•è®­ç»ƒé›†å†å¤§ï¼Œä¹Ÿå¯èƒ½æœ‰è¦†ç›–ä¸åˆ°çš„è¯è¯­ã€‚æœ¬è´¨ä¸Šè¿˜æ˜¯</strong>æ ·æœ¬æ•°é‡å¤ªå°‘ï¼Œä¸æ»¡è¶³å¤§æ•°å®šå¾‹ï¼Œè®¡ç®—å‡ºæ¥çš„æ¦‚ç‡å¤±çœŸã€‚ä¸ºäº†è§£å†³è¿™æ ·çš„é—®é¢˜ï¼Œä¸€ç§åˆ†ææ€è·¯å°±æ˜¯ç›´æ¥ä¸è€ƒè™‘è¿™æ ·çš„è¯è¯­ï¼Œä½†è¿™ç§æ–¹æ³•å°±ç›¸å½“äºé»˜è®¤ç»™ $P(â€œæ­£è§„å‘ç¥¨â€|Sï¼‰$ èµ‹å€¼ä¸º1ã€‚å…¶å®æ•ˆæœä¸å¤ªå¥½ï¼Œå¤§é‡çš„ç»Ÿè®¡ä¿¡æ¯ç»™æµªè´¹æ‰äº†ã€‚æˆ‘ä»¬è¿›ä¸€æ­¥åˆ†æï¼Œæ—¢ç„¶å¯ä»¥é»˜è®¤èµ‹å€¼ä¸º1ï¼Œä¸ºä»€ä¹ˆä¸èƒ½é»˜è®¤èµ‹å€¼ä¸ºä¸€ä¸ªå¾ˆå°çš„æ•°ï¼Ÿè¿™å°±æ˜¯å¹³æ»‘æŠ€æœ¯çš„åŸºæœ¬æ€è·¯ï¼Œä¾æ—§ä¿æŒç€ä¸€è´¯çš„ä½œé£ï¼Œæœ´å®/åœŸä½†æ˜¯ç›´æ¥è€Œæœ‰æ•ˆã€‚</p>
<p>å¯¹äºä¼¯åŠªåˆ©æ¨¡å‹ï¼Œ$P(â€œæ­£è§„å‘ç¥¨â€|S)$ çš„ä¸€ç§å¹³æ»‘ç®—æ³•æ˜¯ï¼š</p>
<p>$$<br>P(â€œæ­£è§„å‘ç¥¨â€|Sï¼‰=\frac{å‡ºç°â€œæ­£è§„å‘ç¥¨â€çš„åƒåœ¾é‚®ä»¶çš„å°æ•°+1}{æ¯å°åƒåœ¾é‚®ä»¶ä¸­æ‰€æœ‰è¯å‡ºç°æ¬¡æ•°ï¼ˆå‡ºç°äº†åªè®¡ç®—ä¸€æ¬¡ï¼‰çš„æ€»å’Œ+2}<br>$$</p>
<p>å¯¹äºå¤šé¡¹å¼æ¨¡å‹ï¼Œ$P(â€œæ­£è§„å‘ç¥¨â€| S)$ çš„ä¸€ç§å¹³æ»‘ç®—æ³•æ˜¯ï¼š</p>
<p>$$<br>P(â€œå‘ç¥¨â€|Sï¼‰=\frac{æ¯å°åƒåœ¾é‚®ä»¶ä¸­å‡ºç°â€œå‘ç¥¨â€çš„æ¬¡æ•°çš„æ€»å’Œ+1}{æ¯å°åƒåœ¾é‚®ä»¶ä¸­æ‰€æœ‰è¯å‡ºç°æ¬¡æ•°ï¼ˆè®¡ç®—é‡å¤æ¬¡æ•°ï¼‰çš„æ€»å’Œ+è¢«ç»Ÿè®¡çš„è¯è¡¨çš„è¯è¯­æ•°é‡}<br>$$</p>
<p>è¯´èµ·æ¥ï¼Œå¹³æ»‘æŠ€æœ¯çš„ç§ç±»å…¶å®éå¸¸å¤šï¼Œæœ‰å…´è¶£çš„è¯å›å¤´æˆ‘ä»¬ä¸“é—¨æ‹‰ä¸ªä¸“é¢˜è®²è®²å¥½äº†ã€‚è¿™é‡Œåªæä¸€ç‚¹ï¼Œå°±æ˜¯æ‰€æœ‰çš„<strong>å¹³æ»‘æŠ€æœ¯éƒ½æ˜¯ç»™æœªå‡ºç°åœ¨è®­ç»ƒé›†ä¸­çš„è¯è¯­ä¸€ä¸ªä¼°è®¡çš„æ¦‚ç‡ï¼Œè€Œç›¸åº”åœ°è°ƒä½å…¶ä»–å·²ç»å‡ºç°çš„è¯è¯­çš„æ¦‚ç‡</strong>ã€‚</p>
<p>å¹³æ»‘æŠ€æœ¯æ˜¯å› ä¸ºæ•°æ®é›†å¤ªå°è€Œäº§ç”Ÿçš„ç°å®éœ€æ±‚ã€‚<strong>å¦‚æœæ•°æ®é›†è¶³å¤Ÿå¤§ï¼Œå¹³æ»‘æŠ€æœ¯å¯¹ç»“æœçš„å½±å“å°†ä¼šå˜å°</strong>ã€‚</p>
<h2 id="12-å†…å®¹å°ç»“"><a href="#12-å†…å®¹å°ç»“" class="headerlink" title="12. å†…å®¹å°ç»“"></a>12. å†…å®¹å°ç»“</h2><p>æˆ‘ä»¬æ‰¾äº†ä¸ªæœ€ç®€å•å¸¸è§çš„ä¾‹å­ï¼šåƒåœ¾é‚®ä»¶è¯†åˆ«ï¼Œè¯´æ˜äº†ä¸€ä¸‹æœ´ç´ è´å¶æ–¯è¿›è¡Œæ–‡æœ¬åˆ†ç±»çš„æ€è·¯è¿‡ç¨‹ã€‚åŸºæœ¬æ€è·¯æ˜¯å…ˆåŒºåˆ†å¥½è®­ç»ƒé›†ä¸æµ‹è¯•é›†ï¼Œå¯¹æ–‡æœ¬é›†åˆè¿›è¡Œåˆ†è¯ã€å»é™¤æ ‡ç‚¹ç¬¦å·ç­‰ç‰¹å¾é¢„å¤„ç†çš„æ“ä½œï¼Œç„¶åä½¿ç”¨æ¡ä»¶ç‹¬ç«‹å‡è®¾ï¼Œå°†åŸæ¦‚ç‡è½¬æ¢æˆè¯æ¦‚ç‡ä¹˜ç§¯ï¼Œå†è¿›è¡Œåç»­çš„å¤„ç†ã€‚</p>
<p>$$<br>è´å¶æ–¯å…¬å¼ + æ¡ä»¶ç‹¬ç«‹å‡è®¾ = æœ´ç´ è´å¶æ–¯æ–¹æ³•<br>$$</p>
<p>åŸºäºå¯¹é‡å¤è¯è¯­åœ¨è®­ç»ƒé˜¶æ®µä¸åˆ¤æ–­ï¼ˆæµ‹è¯•ï¼‰é˜¶æ®µçš„ä¸‰ç§ä¸åŒå¤„ç†æ–¹å¼ï¼Œæˆ‘ä»¬ç›¸åº”çš„æœ‰ä¼¯åŠªåˆ©æ¨¡å‹ã€å¤šé¡¹å¼æ¨¡å‹å’Œæ··åˆæ¨¡å‹ã€‚åœ¨è®­ç»ƒé˜¶æ®µï¼Œå¦‚æœæ ·æœ¬é›†åˆå¤ªå°å¯¼è‡´æŸäº›è¯è¯­å¹¶æœªå‡ºç°ï¼Œæˆ‘ä»¬å¯ä»¥é‡‡ç”¨å¹³æ»‘æŠ€æœ¯å¯¹å…¶æ¦‚ç‡ç»™ä¸€ä¸ªä¼°è®¡å€¼ã€‚è€Œä¸”å¹¶ä¸æ˜¯æ‰€æœ‰çš„è¯è¯­éƒ½éœ€è¦ç»Ÿè®¡ï¼Œæˆ‘ä»¬å¯ä»¥æŒ‰ç›¸åº”çš„â€œåœç”¨è¯â€å’Œâ€œå…³é”®è¯â€å¯¹æ¨¡å‹è¿›è¡Œè¿›ä¸€æ­¥ç®€åŒ–ï¼Œæé«˜è®­ç»ƒå’Œåˆ¤æ–­é€Ÿåº¦ã€‚</p>
<h2 id="13-åŒ¹é…å…³é”®è¯è¯†åˆ«spamï¼Ÿ"><a href="#13-åŒ¹é…å…³é”®è¯è¯†åˆ«spamï¼Ÿ" class="headerlink" title="13. åŒ¹é…å…³é”®è¯è¯†åˆ«spamï¼Ÿ"></a>13. åŒ¹é…å…³é”®è¯è¯†åˆ«spamï¼Ÿ</h2><p>æœ‰åŒå­¦å¯èƒ½ä¼šé—®ï¼šâ€œä½•å¿…è´¹è¿™ä¹ˆå¤§åŠ²ç®—é‚£ä¹ˆå¤šè¯çš„æ¦‚ç‡ï¼Ÿç›´æ¥çœ‹é‚®ä»¶ä¸­æœ‰æ²¡æœ‰â€˜ä»£å¼€å‘ç¥¨â€™ã€â€˜è½¬å”®å‘ç¥¨â€™ä¹‹ç±»çš„å…³é”®è¯ä¸å°±å¾—äº†ï¼Ÿå¦‚æœå…³é”®è¯æ¯”è¾ƒå¤šå°±è®¤ä¸ºæ˜¯åƒåœ¾é‚®ä»¶å‘—ã€‚â€</p>
<p>å…¶å®å…³é”®è¯åŒ¹é…çš„æ–¹æ³•å¦‚æœæœ‰æ•ˆçš„è¯çœŸä¸å¿…ç”¨æœ´ç´ è´å¶æ–¯ã€‚æ¯•ç«Ÿè¿™ç§æ–¹æ³•ç®€å•å˜›ï¼Œå°±æ˜¯ä¸€ä¸ªå­—ç¬¦ä¸²åŒ¹é…ã€‚ä»å†å²æ¥çœ‹ï¼Œä¹‹å‰æ²¡æœ‰è´å¶æ–¯æ–¹æ³•çš„æ—¶å€™ä¸»è¦ä¹Ÿæ˜¯ç”¨å…³é”®è¯åŒ¹é…ã€‚ä½†æ˜¯è¿™ç§æ–¹æ³•å‡†ç¡®ç‡å¤ªä½ã€‚æˆ‘ä»¬åœ¨å·¥ä½œé¡¹ç›®ä¸­ä¹Ÿå°è¯•è¿‡ç”¨å…³é”®è¯åŒ¹é…çš„æ–¹æ³•å»è¿›è¡Œæ–‡æœ¬åˆ†ç±»ï¼Œå‘ç°å¤§é‡è¯¯æŠ¥ã€‚æ„Ÿè§‰å°±åƒæ‰”åˆ°åƒåœ¾ç®±çš„é‚®ä»¶99%éƒ½æ˜¯æ­£å¸¸çš„ï¼è¿™æ ·çš„æ•ˆæœä¸å¿ç›´è§†ã€‚è€ŒåŠ ä¸€ä¸ªæœ´ç´ è´å¶æ–¯æ–¹æ³•å°±å¯èƒ½æŠŠè¯¯æŠ¥ç‡æ‹‰ä½è¿‘ä¸€ä¸ªæ•°é‡çº§ï¼Œä½“éªŒå¥½å¾—ä¸è¦ä¸è¦çš„ã€‚</p>
<p>å¦ä¸€ä¸ªåŸå› æ˜¯è¯è¯­ä¼šéšç€æ—¶é—´ä¸æ–­å˜åŒ–ã€‚å‘åƒåœ¾é‚®ä»¶çš„äººä¹Ÿä¸å‚»ï¼Œå½“ä»–ä»¬å‘ç°è‡ªå·±çš„é‚®ä»¶è¢«å¤§é‡å±è”½ä¹‹åï¼Œä¹Ÿä¼šè€ƒè™‘é‡‡ç”¨æ–°çš„æ–¹å¼ï¼Œå¦‚å˜æ¢æ–‡å­—ã€è¯è¯­ã€å¥å¼ã€é¢œè‰²ç­‰æ–¹å¼æ¥ç»•è¿‡ååƒåœ¾é‚®ä»¶ç³»ç»Ÿã€‚æ¯”å¦‚å¯¹äºåƒåœ¾é‚®ä»¶â€œæˆ‘å¸å¯åŠç†æ­£è§„å‘ç¥¨ï¼Œ17%å¢å€¼ç¨å‘ç¥¨ç‚¹æ•°ä¼˜æƒ â€,ä»–ä»¬é‡‡ç”¨<strong>ç«æ˜Ÿæ–‡ï¼šâ€œæ¶å¸å²¢åŠç†ãŠ£è¦é«®ç¥¨ï¼Œ17%å¢å€¤ç¨…é«®ç¥¨åš¸æ•¸å„ªè•™â€</strong>ï¼Œé‚£ä¹ˆå­—ç¬¦ä¸²åŒ¹é…çš„æ–¹æ³•åˆè¦é‡æ–°æ‰¾å‡ºè¿™äº›ç«æ˜Ÿæ–‡ï¼Œä¸€ä¸ªä¸€ä¸ªæ‰¾å‡ºå…³é”®è¯ï¼Œé‡æ–°å†™ä¸€äº›åŒ¹é…è§„åˆ™ã€‚æ›´å¯æ€•çš„æ˜¯ï¼Œè¿™äº›è§„åˆ™å¯èƒ½ç›¸äº’ä¹‹é—´çš„è€¦åˆå…³ç³»å¼‚å¸¸å¤æ‚ï¼Œè¦æŠŠå®ƒä»¬æ¢³ç†æ¸…æ¥šåˆæ˜¯å¤§ä¸€ä¸ªæ•°é‡çº§çš„å·¥ä½œé‡ã€‚ç­‰è¿™äº›è§„åˆ™å¤±æ•ˆäº†åˆè¦æ‰‹åŠ¨æ›´æ–°æ–°çš„è§„åˆ™â€¦â€¦<strong>æ— ç©·æ— å°½çŒ«é¼ æ¸¸æˆæœ€ç»ˆä¼šæŠŠçŒ«ç»™ç´¯æ­»</strong>ã€‚</p>
<p>è€Œæœ´ç´ è´å¶æ–¯æ–¹æ³•å´æ˜¾ç¤ºå‡ºæ— æ¯”çš„ä¼˜åŠ¿ã€‚å› ä¸ºå®ƒæ˜¯åŸºäºç»Ÿè®¡æ–¹æ³•çš„ï¼Œåªè¦è®­ç»ƒæ ·æœ¬ä¸­æœ‰æ›´æ–°çš„åƒåœ¾é‚®ä»¶çš„æ–°è¯è¯­ï¼Œå“ªæ€•å®ƒä»¬æ˜¯ç«æ˜Ÿæ–‡ï¼Œéƒ½èƒ½è‡ªåŠ¨åœ°æŠŠå“ªäº›æ›´æ•æ„Ÿçš„è¯è¯­ï¼ˆå¦‚â€œé«®â€ã€â€œãŠ£â€ç­‰ï¼‰ç»™å‡¸æ˜¾å‡ºæ¥ï¼Œå¹¶æ ¹æ®ç»Ÿè®¡æ„ä¹‰ä¸Šçš„æ•æ„Ÿæ€§ç»™ä»–ä»¬åˆ†é…é€‚å½“çš„æƒé‡ ï¼Œè¿™æ ·å°±ä¸éœ€è¦ä»€ä¹ˆäººå·¥äº†ï¼Œéå¸¸çœäº‹ã€‚ä½ åªéœ€è¦æ—¶ä¸æ—¶åœ°æ‹¿ä¸€äº›æœ€æ–°çš„æ ·æœ¬æ‰”åˆ°è®­ç»ƒé›†ä¸­ï¼Œé‡æ–°è®­ç»ƒä¸€æ¬¡å³å¯ã€‚</p>
<blockquote>
<p>å°è¡¥å……ä¸€ä¸‹ï¼Œå¯¹äºç«æ˜Ÿæ–‡ã€åŒéŸ³å­—ç­‰æ›¿ä»£è¯­è¨€ï¼Œä¸€èˆ¬çš„åˆ†è¯æŠ€æœ¯å¯èƒ½ä¼šåˆ†å¾—ä¸å‡†ï¼Œæœ€ç»ˆå¯èƒ½åªæŠŠä¸€ä¸ªä¸€ä¸ªå­—ç»™åˆ†å‡ºæ¥ï¼Œæˆä¸ºâ€œåˆ†å­—â€ã€‚æ•ˆæœå¯èƒ½ä¸ä¼šå¤ªå¥½ã€‚ä¹Ÿå¯ä»¥ç”¨è¿‡n-gramä¹‹ç±»çš„è¯­è¨€æ¨¡å‹ï¼Œæ‹¿åˆ°æœ€å¸¸è§çŸ­è¯­ã€‚å½“ç„¶ï¼Œå¯¹äºè‹±æ–‡ç­‰å¤©ç”Ÿè‡ªå¸¦ç©ºæ ¼æ¥é—´éš”å•è¯çš„è¯­è¨€ï¼Œåˆ†è¯åˆ™ä¸æ˜¯ä»€ä¹ˆé—®é¢˜ï¼Œä½¿ç”¨æœ´ç´ è´å¶æ–¯æ–¹æ³•å°†ä¼šæ›´åŠ é¡ºç•…ã€‚</p>
</blockquote>
<h2 id="14-å®é™…å·¥ç¨‹çš„tricks"><a href="#14-å®é™…å·¥ç¨‹çš„tricks" class="headerlink" title="14. å®é™…å·¥ç¨‹çš„tricks"></a>14. å®é™…å·¥ç¨‹çš„tricks</h2><p>åº”ç”¨æœ´ç´ è´å¶æ–¯æ–¹æ³•çš„è¿‡ç¨‹ä¸­ï¼Œä¸€äº›tricksèƒ½æ˜¾è‘—å¸®åŠ©å·¥ç¨‹è§£å†³é—®é¢˜ã€‚æˆ‘ä»¬æ¯•ç«Ÿç»éªŒæœ‰é™ï¼Œæ— æ³•å°†å®ƒä»¬å…¨éƒ½ç½—åˆ—å‡ºæ¥ï¼Œåªèƒ½å°±æ‰€çŸ¥çš„ä¸€ç‚¹ç‚¹ç»éªŒä¸å¤§å®¶åˆ†äº«ï¼Œæ¬¢è¿æ‰¹è¯„æŒ‡æ­£ã€‚</p>
<h3 id="14-1-trick1ï¼šå–å¯¹æ•°"><a href="#14-1-trick1ï¼šå–å¯¹æ•°" class="headerlink" title="14.1 trick1ï¼šå–å¯¹æ•°"></a>14.1 trick1ï¼šå–å¯¹æ•°</h3><p>æˆ‘ä»¬æåˆ°ç”¨æ¥è¯†åˆ«åƒåœ¾é‚®ä»¶çš„æ–¹æ³•æ˜¯æ¯”è¾ƒä»¥ä¸‹ä¸¤ä¸ªæ¦‚ç‡çš„å¤§å°ï¼ˆå­—æ¯Sè¡¨ç¤ºâ€œåƒåœ¾é‚®ä»¶â€,å­—æ¯Hè¡¨ç¤ºâ€œæ­£å¸¸é‚®ä»¶â€ï¼‰ï¼š</p>
<p>$$<br>C = P(â€œæˆ‘â€|S)P(â€œå¸â€|S)P(â€œå¯â€|S)P(â€œåŠç†â€|S)P(â€œæ­£è§„å‘ç¥¨â€|S)<br>$$</p>
<p>$$<br>Ã—P(â€œä¿çœŸâ€|S)P(â€œå¢å€¼ç¨â€|S)P(â€œå‘ç¥¨â€|S)P(â€œç‚¹æ•°â€|S)P(â€œä¼˜æƒ â€|S)P(â€œåƒåœ¾é‚®ä»¶â€)<br>$$</p>
<p>$$<br>\overline{C}=P(â€œæˆ‘â€|H)P(â€œå¸â€|H)P(â€œå¯â€|H)P(â€œåŠç†â€|H)P(â€œæ­£è§„å‘ç¥¨â€|H)<br>$$</p>
<p>$$<br>Ã—P(â€œä¿çœŸâ€|H)P(â€œå¢å€¼ç¨â€|H)P(â€œå‘ç¥¨â€|H)P(â€œç‚¹æ•°â€|H)P(â€œä¼˜æƒ â€|H)P(â€œæ­£å¸¸é‚®ä»¶â€)<br>$$</p>
<p>ä½†è¿™é‡Œè¿›è¡Œäº†<strong>å¾ˆå¤šä¹˜æ³•è¿ç®—ï¼Œè®¡ç®—çš„æ—¶é—´å¼€é”€æ¯”è¾ƒå¤§</strong>ã€‚å°¤å…¶æ˜¯å¯¹äºç¯‡å¹…æ¯”è¾ƒé•¿çš„é‚®ä»¶ï¼Œå‡ ä¸‡ä¸ªæ•°ç›¸ä¹˜èµ·æ¥è¿˜æ˜¯éå¸¸èŠ±æ—¶é—´çš„ã€‚å¦‚æœèƒ½æŠŠ<strong>è¿™äº›ä¹˜æ³•å˜æˆåŠ æ³•åˆ™æ–¹ä¾¿å¾—å¤š</strong>ã€‚åˆšå¥½æ•°å­¦ä¸­çš„å¯¹æ•°å‡½æ•°logå°±å¯ä»¥å®ç°è¿™æ ·çš„åŠŸèƒ½ã€‚ä¸¤è¾¹åŒæ—¶å–å¯¹æ•°ï¼ˆæœ¬æ–‡ç»Ÿä¸€å–åº•æ•°ä¸º2ï¼‰ï¼Œåˆ™ä¸Šé¢çš„å…¬å¼å˜ä¸ºï¼š</p>
<p>$$<br>log{C} = log{P(â€œæˆ‘â€|S)}+log{P(â€œå¸â€|S)}+log{P(â€œå¯â€|S)}+log{P(â€œåŠç†â€|S)}+log{P(â€œæ­£è§„å‘ç¥¨â€|S)}<br>$$</p>
<p>$$<br>+log{P(â€œä¿çœŸâ€|S)}+log{P(â€œå¢å€¼ç¨â€|S)}+log{P(â€œå‘ç¥¨â€|S)}+log{P(â€œç‚¹æ•°â€|S)}+log{P(â€œä¼˜æƒ â€|S)}+log{P(â€œåƒåœ¾é‚®ä»¶â€)}<br>$$</p>
<p>$$<br>log{\overline{C}}=log{P(â€œæˆ‘â€|H)}+log{P(â€œå¸â€|H)}+log{P(â€œå¯â€|H)}+log{P(â€œåŠç†â€|H)}+log{P(â€œæ­£è§„å‘ç¥¨â€|H)}<br>$$</p>
<p>$$<br>+log{P(â€œä¿çœŸâ€|H)}+log{P(â€œå¢å€¼ç¨â€|H)}+log{P(â€œå‘ç¥¨â€|H)}+log{P(â€œç‚¹æ•°â€|H)}+log{P(â€œä¼˜æƒ â€|H)}+log{P(â€œæ­£å¸¸é‚®ä»¶â€)}<br>$$</p>
<p>æœ‰åŒå­¦å¯èƒ½è¦å«äº†ï¼šâ€œåšå¯¹æ•°è¿ç®—å²‚ä¸ä¼šä¹Ÿå¾ˆèŠ±æ—¶é—´ï¼Ÿâ€çš„ç¡®å¦‚æ­¤ï¼Œä½†æ˜¯å¯ä»¥åœ¨è®­ç»ƒé˜¶æ®µç›´æ¥è®¡ç®—  $logP$  ï¼Œç„¶åæŠŠä»–ä»¬å­˜åœ¨ä¸€å¼ å¤§çš„hashè¡¨é‡Œã€‚<strong>åœ¨åˆ¤æ–­çš„æ—¶å€™ç›´æ¥æå–hashè¡¨ä¸­å·²ç»è®¡ç®—å¥½çš„å¯¹æ•°æ¦‚ç‡ï¼Œç„¶åç›¸åŠ å³å¯ã€‚è¿™æ ·ä½¿å¾—åˆ¤æ–­æ‰€éœ€è¦çš„è®¡ç®—æ—¶é—´è¢«è½¬ç§»åˆ°äº†è®­ç»ƒé˜¶æ®µ</strong>ï¼Œå®æ—¶è¿è¡Œçš„æ—¶å€™é€Ÿåº¦å°±æ¯”ä¹‹å‰å¿«å¾—å¤šï¼Œè¿™å¯ä¸æ­¢å‡ ä¸ªæ•°é‡çº§çš„æå‡ã€‚</p>
<h3 id="14-2-trick2ï¼šè½¬æ¢ä¸ºæƒé‡"><a href="#14-2-trick2ï¼šè½¬æ¢ä¸ºæƒé‡" class="headerlink" title="14.2 trick2ï¼šè½¬æ¢ä¸ºæƒé‡"></a>14.2 trick2ï¼šè½¬æ¢ä¸ºæƒé‡</h3><p>å¯¹äºäºŒåˆ†ç±»ï¼Œæˆ‘ä»¬è¿˜å¯ä»¥ç»§ç»­æé«˜åˆ¤æ–­çš„é€Ÿåº¦ã€‚æ—¢ç„¶è¦æ¯”è¾ƒ $log$ å’Œ $log{\overline{C}}$ çš„å¤§å°ï¼Œé‚£å°±å¯ä»¥ç›´æ¥å°†ä¸Šä¸‹ä¸¤å¼ç›¸å‡ï¼Œå¹¶ç»§ç»­åŒ–ç®€ï¼š</p>
<p>$$<br>log{\frac{C}{\overline{C}}}=log{\frac{P(â€œæˆ‘â€|S)}{P(â€œæˆ‘â€|H)}}+log{\frac{P(â€œå¸â€|S)}{P(â€œå¸â€|H)}}+log{\frac{P(â€œå¯â€|S)}{P(â€œå¯â€|H)}}+log{\frac{P(â€œåŠç†â€|S)}{P(â€œåŠç†â€|H)}}+log{\frac{P(â€œæ­£è§„å‘ç¥¨â€|S)}{P(â€œæ­£è§„å‘ç¥¨â€|H)}}<br>$$</p>
<p>$$<br>+log{\frac{P(â€œä¿çœŸâ€|S)}{P(â€œä¿çœŸâ€|H)}}+log{\frac{P(â€œå¢å€¼ç¨â€|S)}{P(â€œå¢å€¼ç¨â€|H)}}+log{\frac{P(â€œå‘ç¥¨â€|S)}{P(â€œå‘ç¥¨â€|H)}}+log{\frac{P(â€œç‚¹æ•°â€|S)}{P(â€œç‚¹æ•°â€|H)}}+log{\frac{P(â€œä¼˜æƒ â€|S)}{P(â€œä¼˜æƒ â€|H)}}+log{\frac{P(â€œæ­£å¸¸é‚®ä»¶â€|S)}{P(â€œæ­£å¸¸é‚®ä»¶â€)}}<br>$$</p>
<p>$log{\frac{C}{\overline{C}}}$å¦‚æœå¤§äº0åˆ™å±äºåƒåœ¾é‚®ä»¶ã€‚æˆ‘ä»¬å¯ä»¥æŠŠå…¶ä¸­æ¯ä¸€é¡¹ä½œä¸ºå…¶å¯¹åº”è¯è¯­çš„æƒé‡ï¼Œæ¯”å¦‚ $log{\frac{P(â€œå‘ç¥¨â€|S)}{P(â€œå‘ç¥¨â€|H)}}$  å°±å¯ä»¥ä½œä¸ºè¯è¯­â€œå‘ç¥¨â€çš„æƒé‡ï¼Œæƒé‡è¶Šå¤§å°±è¶Šè¯´æ˜â€œå‘ç¥¨â€æ›´å¯èƒ½æ˜¯ä¸â€œåƒåœ¾é‚®ä»¶â€ç›¸å…³çš„ç‰¹å¾ã€‚è¿™æ ·å¯ä»¥æ ¹æ®æƒé‡çš„å¤§å°æ¥è¯„ä¼°å’Œç­›é€‰æ˜¾è‘—çš„ç‰¹å¾ï¼Œæ¯”å¦‚å…³é”®è¯ã€‚è€Œè¿™äº›æƒé‡å€¼å¯ä»¥ç›´æ¥æå‰è®¡ç®—å¥½è€Œå­˜åœ¨hashè¡¨ä¸­ ã€‚åˆ¤æ–­çš„æ—¶å€™ç›´æ¥å°†æƒé‡æ±‚å’Œå³å¯ã€‚</p>
<p>å…³é”®è¯hashè¡¨çš„æ ·å­å¦‚ä¸‹ï¼Œå·¦åˆ—æ˜¯æƒé‡ï¼Œå³åˆ—æ˜¯å…¶å¯¹åº”çš„è¯è¯­ï¼Œæƒé‡è¶Šé«˜çš„è¯´æ˜è¶Šâ€œå…³é”®â€ï¼š</p>
<p><img src="/images/nlp/nlp-bayes-04.jpg" alt=""></p>
<h3 id="14-3-trick3ï¼šé€‰å–topkçš„å…³é”®è¯"><a href="#14-3-trick3ï¼šé€‰å–topkçš„å…³é”®è¯" class="headerlink" title="14.3 trick3ï¼šé€‰å–topkçš„å…³é”®è¯"></a>14.3 trick3ï¼šé€‰å–topkçš„å…³é”®è¯</h3><p>å‰æ–‡è¯´è¿‡å¯ä»¥é€šè¿‡æå‰é€‰å–å…³é”®è¯æ¥æé«˜åˆ¤æ–­çš„é€Ÿåº¦ã€‚æœ‰ä¸€ç§æ–¹æ³•å¯ä»¥çœç•¥æå‰é€‰å–å…³é”®è¯çš„æ­¥éª¤ï¼Œå°±æ˜¯ç›´æ¥é€‰å–ä¸€æ®µæ–‡æœ¬ä¸­æƒé‡æœ€é«˜çš„Kä¸ªè¯è¯­ï¼Œå°†å…¶æƒé‡è¿›è¡ŒåŠ å’Œã€‚æ¯”å¦‚Paul Graham åœ¨ã€Šé»‘å®¢ä¸ç”»å®¶ã€‹ä¸­æ˜¯é€‰å–é‚®ä»¶ä¸­æƒé‡æœ€é«˜çš„15ä¸ªè¯è¯­è®¡ç®—çš„ã€‚</p>
<p>é€šè¿‡æƒé‡hashè¡¨å¯çŸ¥ï¼Œå¦‚æœæ˜¯æ‰€æœ‰è¯è¯­çš„æƒé‡ï¼Œåˆ™æƒé‡æœ‰æ­£æœ‰è´Ÿã€‚å¦‚æœåªé€‰æ‹©æƒé‡æœ€é«˜çš„ $K$ ä¸ªè¯è¯­ï¼Œåˆ™å®ƒä»¬çš„æƒé‡åŸºæœ¬éƒ½æ˜¯æ­£çš„ã€‚æ‰€ä»¥å°±ä¸èƒ½åƒä¹‹å‰é‚£æ ·åˆ¤æ–­ $log{\frac{C}{\overline{C}}}$ æ˜¯å¦å¤§äº0æ¥åŒºåˆ†é‚®ä»¶äº†ã€‚è€Œè¿™éœ€è¦ä¾é ç»éªŒé€‰å®šä¸€ä¸ªæ­£æ•°çš„é˜ˆå€¼ï¼ˆé—¨æ§›å€¼ï¼‰ ï¼Œä¾æ® $log{\frac{C}{\overline{C}}}$  ä¸è¯¥é—¨æ§›å€¼çš„å¤§å°æ¥è¯†åˆ«åƒåœ¾é‚®ä»¶ã€‚</p>
<p>å¦‚ä¸‹å›¾æ‰€ç¤ºï¼Œè“è‰²ç‚¹ä»£è¡¨åƒåœ¾é‚®ä»¶ï¼Œç»¿è‰²ç‚¹ä»£è¡¨æ­£å¸¸é‚®ä»¶ï¼Œæ¨ªåæ ‡ä¸ºè®¡ç®—å‡ºæ¥çš„ $log{\frac{C}{\overline{C}}}$  å€¼ï¼Œä¸­é—´çš„çº¢çº¿ä»£è¡¨é˜ˆå€¼ã€‚</p>
<p><img src="/images/nlp/nlp-bayes-07.jpg" style="width:500px; height:250px;"> </p>
<blockquote>
<p>k çš„é€‰å–ï¼Œéœ€è¦ä½ è‡ªå·±åˆ¤æ–­ã€‚å¯ä»¥é€šè¿‡äº¤å‰éªŒè¯æ¥åˆ¤æ–­ã€‚</p>
</blockquote>
<h3 id="14-4-trick4ï¼šåˆ†å‰²æ ·æœ¬"><a href="#14-4-trick4ï¼šåˆ†å‰²æ ·æœ¬" class="headerlink" title="14.4 trick4ï¼šåˆ†å‰²æ ·æœ¬"></a>14.4 trick4ï¼šåˆ†å‰²æ ·æœ¬</h3><p>é€‰å–topkä¸ªè¯è¯­çš„æ–¹æ³•å¯¹äºç¯‡å¹…å˜åŠ¨ä¸å¤§çš„é‚®ä»¶æ ·æœ¬æ¯”è¾ƒæœ‰æ•ˆã€‚ä½†æ˜¯å¯¹ç¯‡å¹…è¿‡å¤§æˆ–è€…è¿‡å°çš„é‚®ä»¶åˆ™ä¼šæœ‰åˆ¤æ–­è¯¯å·®ã€‚</p>
<p>æ¯”å¦‚è¿™ä¸ªåƒåœ¾é‚®ä»¶çš„ä¾‹å­ï¼šï¼ˆâ€œæˆ‘â€,â€œå¸â€,â€œå¯â€,â€œåŠç†â€,â€œæ­£è§„å‘ç¥¨â€,â€œä¿çœŸâ€,â€œå¢å€¼ç¨â€,â€œå‘ç¥¨â€,â€œç‚¹æ•°â€,â€œä¼˜æƒ â€)ã€‚åˆ†è¯å‡ºäº†10ä¸ªè¯è¯­ï¼Œå…¶ä¸­æœ‰â€œæ­£è§„å‘ç¥¨â€ã€â€œå‘ç¥¨â€2ä¸ªå…³é”®è¯ã€‚å…³é”®è¯çš„å¯†åº¦è¿˜æ˜¯è›®å¤§çš„ï¼Œåº”è¯¥ç®—æ˜¯æ•æ„Ÿé‚®ä»¶ã€‚ä½†å› ä¸ºé‡‡ç”¨æœ€é«˜15ä¸ªè¯è¯­çš„æƒé‡æ±‚å’Œï¼Œå¹¶ä¸”ç›¸åº”çš„é˜ˆå€¼æ˜¯åŸºäº15ä¸ªè¯çš„æƒ…å†µæœ‰æ•ˆï¼Œå¯èƒ½ç®—å‡ºæ¥çš„ç»“æœè¿˜å°äºä¹‹å‰çš„é˜ˆå€¼ï¼Œè¿™å°±é€ æˆæ¼åˆ¤äº†ã€‚  </p>
<p>ç±»ä¼¼çš„ï¼Œå¦‚æœä¸€å°ç¨åŠ¡ä¸»é¢˜çš„é‚®ä»¶æœ‰1000ä¸ªè¯è¯­ï¼Œå…¶ä¸­åªæœ‰â€œæ­£è§„å‘ç¥¨â€ã€â€œå‘ç¥¨â€ã€â€œé¿ç¨æ–¹æ³•â€3ä¸ªæƒé‡æ¯”è¾ƒå¤§çš„è¯è¯­ï¼Œå®ƒä»¬åªæ˜¯åœ¨æ­£æ–‡è¡¨è¿°ä¸­é¡ºå¸¦æåˆ°çš„å†…å®¹ã€‚å…³é”®è¯çš„å¯†åº¦è¢«è¾ƒé•¿çš„ç¯‡å¹…ç¨€é‡Šäº†ï¼Œåº”è¯¥ç®—æ˜¯æ­£å¸¸é‚®ä»¶ã€‚ä½†æ˜¯å´è¢«é˜ˆå€¼åˆ¤æ–­æˆæ•æ„Ÿé‚®ä»¶ï¼Œé€ æˆè¯¯åˆ¤äº†ã€‚<br>è¿™ä¸¤ç§æƒ…å†µéƒ½è¯´æ˜topkå…³é”®è¯çš„æ–¹æ³•éœ€è¦è€ƒè™‘ç¯‡å¹…çš„å½±å“ã€‚è¿™é‡Œæœ‰è®¸å¤šç§å¤„ç†æ–¹å¼ï¼Œå®ƒä»¬çš„åŸºæœ¬æ€æƒ³éƒ½æ˜¯é€‰å–è¯è¯­çš„ä¸ªæ•°åŠå¯¹åº”çš„é˜ˆå€¼è¦ä¸ç¯‡å¹…çš„å¤§å°æˆæ­£æ¯”ï¼Œæœ¬æ–‡åªä»‹ç»å…¶ä¸­ä¸€ç§æ–¹æ–¹æ³•ï¼š  </p>
<p>å¯¹äºé•¿ç¯‡å¹…é‚®ä»¶ï¼ŒæŒ‰ä¸€å®šçš„å¤§å°ï¼Œæ¯”å¦‚æ¯500å­—ï¼Œå°†å…¶åˆ†å‰²æˆå°çš„æ–‡æœ¬æ®µè½ï¼Œå†å¯¹å°æ–‡æœ¬æ®µè½é‡‡ç”¨topkå…³é”®è¯çš„æ–¹æ³•ã€‚åªè¦å…¶ä¸­æœ‰ä¸€ä¸ªå°æ–‡æœ¬æ®µè½è¶…è¿‡é˜ˆå€¼å°±åˆ¤æ–­æ•´å°é‚®ä»¶æ˜¯åƒåœ¾é‚®ä»¶ã€‚  </p>
<p>å¯¹äºè¶…çŸ­ç¯‡å¹…é‚®ä»¶ï¼Œæ¯”å¦‚50å­—ï¼Œå¯ä»¥æŒ‰ç¯‡å¹…ä¸æ ‡å‡†æ¯”è¾ƒç¯‡å¹…çš„æ¯”ä¾‹æ¥é€‰å–topkï¼Œä»¥ç¡®å®šåº”è¯¥åŒ¹é…å…³é”®è¯è¯­çš„ä¸ªæ•°ã€‚æ¯”å¦‚é€‰å–  50500Ã—15â‰ˆ250500Ã—15â‰ˆ2  ä¸ªè¯è¯­è¿›è¡ŒåŒ¹é…ï¼Œç›¸åº”çš„é˜ˆå€¼å¯ä»¥æ˜¯ä¹‹å‰é˜ˆå€¼çš„  215215  ã€‚ä»¥æ­¤æ¥åˆ¤æ–­åˆ™æ›´åˆç†ã€‚</p>
<h3 id="14-5-trick5ï¼šä½ç½®æƒé‡"><a href="#14-5-trick5ï¼šä½ç½®æƒé‡" class="headerlink" title="14.5 trick5ï¼šä½ç½®æƒé‡"></a>14.5 trick5ï¼šä½ç½®æƒé‡</h3><h3 id="14-6-trick6ï¼šèœœç½"><a href="#14-6-trick6ï¼šèœœç½" class="headerlink" title="14.6 trick6ï¼šèœœç½"></a>14.6 trick6ï¼šèœœç½</h3><p>æˆ‘ä»¬é€šè¿‡è¾›è¾›è‹¦è‹¦çš„ç»Ÿè®¡ä¸è®¡ç®—ï¼Œå¥½ä¸å®¹æ˜“å¾—åˆ°äº†ä¸åŒè¯è¯­çš„æƒé‡ã€‚ç„¶è€Œè¿™å¹¶ä¸æ˜¯ä¸€åŠ³æ°¸é€¸çš„ã€‚æˆ‘ä»¬æˆ‘ä»¬ä¹‹å‰äº¤ä»£è¿‡ï¼Œè¯è¯­åŠå…¶æƒé‡ä¼šéšç€æ—¶é—´ä¸æ–­å˜åŒ–ï¼Œéœ€è¦æ—¶ä¸æ—¶åœ°ç”¨æœ€æ–°çš„æ ·æœ¬æ¥è®­ç»ƒä»¥æ›´æ–°è¯è¯­åŠå…¶æƒé‡ã€‚</p>
<p>è€Œæœé›†æœ€æ–°åƒåœ¾é‚®ä»¶æœ‰ä¸€ä¸ªæŠ€å·§ï¼Œå°±æ˜¯éšä¾¿æ³¨å†Œä¸€äº›é‚®ç®±ï¼Œç„¶åå°†å®ƒä»¬å…¬å¸ƒåœ¨å„å¤§è®ºå›ä¸Šã€‚æ¥ä¸‹æ¥å°±åç­‰ä¸€ä¸ªæœˆï¼Œåˆ°æ—¶å€™æ”¶åˆ°çš„é‚®ä»¶å°±ç»å¤§éƒ¨åˆ†éƒ½æ˜¯åƒåœ¾é‚®ä»¶äº†ï¼ˆå¥½å¥¸è¯ˆï¼‰ã€‚å†æ‰¾ä¸€äº›æ­£å¸¸çš„é‚®ä»¶ï¼ŒåŸºæœ¬å°±èƒ½å¤Ÿè®­ç»ƒäº†ã€‚è¿™äº›ç”¨äºè‡ªåŠ¨æœé›†åƒåœ¾é‚®ä»¶çš„é‚®ç®±å«åšâ€œèœœç½â€ã€‚â€œèœœç½â€æ˜¯ç½‘ç»œå®‰å…¨é¢†åŸŸå¸¸ç”¨çš„æ‰‹æ®µï¼Œå› å…¶åŸç†ç±»ä¼¼è¯±æ•æ˜†è™«çš„è£…æœ‰èœœçš„ç½å­è€Œå¾—åã€‚æ¯”å¦‚æ€æ¯’è½¯ä»¶å…¬å¸ä¼šåˆ©ç”¨èœœç½æ¥ç›‘è§†æˆ–è·å¾—è®¡ç®—æœºç½‘ç»œä¸­çš„ç—…æ¯’æ ·æœ¬ã€æ”»å‡»è¡Œä¸ºç­‰ã€‚</p>
<h2 id="15-è´å¶æ–¯æ–¹æ³•çš„æ€ç»´æ–¹å¼"><a href="#15-è´å¶æ–¯æ–¹æ³•çš„æ€ç»´æ–¹å¼" class="headerlink" title="15. è´å¶æ–¯æ–¹æ³•çš„æ€ç»´æ–¹å¼"></a>15. è´å¶æ–¯æ–¹æ³•çš„æ€ç»´æ–¹å¼</h2><h3 id="15-1-é€†æ¦‚é—®é¢˜"><a href="#15-1-é€†æ¦‚é—®é¢˜" class="headerlink" title="15.1 é€†æ¦‚é—®é¢˜"></a>15.1 é€†æ¦‚é—®é¢˜</h3><p>$$<br>P(Y|X)=\frac{P(X|Y)P(Y)}{P(X)}<br>$$</p>
<p>å…ˆä¸è€ƒè™‘å…ˆéªŒæ¦‚ç‡ $P(Y)$ ä¸ $P(X)$ ï¼Œè§‚å¯Ÿä¸¤ä¸ªåéªŒæ¦‚ç‡ $P(Y|X)$ ä¸ $P(X|Y)$ï¼Œå¯è§è´å¶æ–¯å…¬å¼èƒ½å¤Ÿæ­ç¤ºä¸¤ä¸ªç›¸åæ–¹å‘çš„æ¡ä»¶æ¦‚ç‡ä¹‹é—´çš„è½¬æ¢å…³ç³»ã€‚</p>
<ul>
<li><p>ä»è´å¶æ–¯å†å²æ¥çœ‹, å…¶å°±æ˜¯ä¸ºäº†å¤„ç†æ‰€è°“ â€œ<code>é€†æ¦‚</code>â€ é—®é¢˜è€Œè¯ç”Ÿçš„ã€‚æ¯”å¦‚ $P(Y|X)$  ä¸èƒ½é€šè¿‡ç›´æ¥è§‚æµ‹æ¥å¾—åˆ°ç»“æœï¼Œè€Œ $P(X|Y)$ å´å®¹æ˜“é€šè¿‡ç›´æ¥è§‚æµ‹å¾—åˆ°ç»“æœï¼Œå°±å¯ä»¥é€šè¿‡è´å¶æ–¯å…¬å¼ä»é—´æ¥åœ°è§‚æµ‹å¯¹è±¡å»æ¨æ–­ä¸å¯ç›´æ¥è§‚æµ‹çš„å¯¹è±¡çš„æƒ…å†µã€‚</p>
</li>
<li><p><code>äººè¯ç‰ˆæœ¬</code>: åŸºäºé‚®ä»¶çš„æ–‡æœ¬å†…å®¹åˆ¤æ–­å…¶å±äºåƒåœ¾é‚®ä»¶çš„æ¦‚ç‡ä¸å¥½æ±‚ï¼ˆä¸å¯é€šè¿‡ç›´æ¥è§‚æµ‹ã€ç»Ÿè®¡å¾—åˆ°ï¼‰ï¼Œä½†æ˜¯åŸºäºå·²ç»æœé›†å¥½çš„åƒåœ¾é‚®ä»¶æ ·æœ¬ï¼Œå»ç»Ÿè®¡ï¼ˆç›´æ¥è§‚æµ‹ï¼‰å…¶æ–‡æœ¬å†…éƒ¨å„ä¸ªè¯è¯­çš„æ¦‚ç‡å´éå¸¸æ–¹ä¾¿ã€‚è¿™å°±å¯ä»¥ç”¨è´å¶æ–¯æ–¹æ³•ã€‚</p>
</li>
<li><p>å¼•ç”³ä¸€æ­¥: åŸºäºæ ·æœ¬ç‰¹å¾å»åˆ¤æ–­å…¶æ‰€å±æ ‡ç­¾çš„æ¦‚ç‡ä¸å¥½æ±‚ï¼Œä½†æ˜¯åŸºäºå·²ç»æœé›†å¥½çš„æ‰“ä¸Šæ ‡ç­¾çš„æ ·æœ¬ï¼ˆæœ‰ç›‘ç£ï¼‰ï¼Œå´å¯ä»¥ç›´æ¥ç»Ÿè®¡å±äºåŒä¸€æ ‡ç­¾çš„æ ·æœ¬å†…éƒ¨å„ä¸ªç‰¹å¾çš„æ¦‚ç‡åˆ†å¸ƒã€‚å› æ­¤è´å¶æ–¯æ–¹æ³•çš„ç†è®ºè§†è§’é€‚ç”¨äºä¸€åˆ‡åˆ†ç±»é—®é¢˜çš„æ±‚è§£ã€‚</p>
</li>
</ul>
<h3 id="15-2-å¤šåˆ†ç±»é—®é¢˜"><a href="#15-2-å¤šåˆ†ç±»é—®é¢˜" class="headerlink" title="15.2 å¤šåˆ†ç±»é—®é¢˜"></a>15.2 å¤šåˆ†ç±»é—®é¢˜</h3><ol>
<li>åƒåœ¾é‚®ä»¶</li>
<li>ç§äººé‚®ä»¶ (æ­£å¸¸)</li>
<li>å·¥ä½œé‚®ä»¶ (æ­£å¸¸)</li>
</ol>
<p>ç°åœ¨æœ‰è¿™ 3 ç±»é‚®ä»¶å„ 1 ä¸‡å°ä½œä¸ºæ ·æœ¬ã€‚éœ€è¦è®­ç»ƒå‡ºä¸€ä¸ªè´å¶æ–¯åˆ†ç±»å™¨ã€‚è¿™é‡Œä¾æ¬¡ç”¨ $Y_1,Y_2,Y_3$ è¡¨ç¤ºè¿™ä¸‰ç±»é‚®ä»¶ï¼Œç”¨ $X$ è¡¨ç¤ºè¢«åˆ¤æ–­çš„é‚®ä»¶ã€‚å¥—ç”¨è´å¶æ–¯å…¬å¼æœ‰ï¼š</p>
<p>$$<br>P(Y_1|X)=\frac{P(X|Y_1)P(Y_1)}{P(X)}<br>$$</p>
<p>$$<br>P(Y_2|X)=\frac{P(X|Y_2)P(Y_2)}{P(X)}<br>$$</p>
<p>$$<br>P(Y_3|X)=\frac{P(X|Y_3)P(Y_3)}{P(X)}<br>$$</p>
<p>é€šè¿‡æ¯”è¾ƒ <strong>3</strong> ä¸ªæ¦‚ç‡å€¼çš„å¤§å°å³å¯å¾—åˆ° $X$ æ‰€å±çš„åˆ†ç±»ã€‚å‘ç°ä¸‰ä¸ªå¼å­çš„åˆ†æ¯ $P(X)$ ä¸€æ ·ï¼Œæ¯”è¾ƒå¤§å°æ—¶å¯ä»¥å¿½ç•¥ä¸è®¡ï¼Œäºæ˜¯å°±å¯ä»¥ç”¨ä¸‹é¢è¿™ä¸€ä¸ªå¼å­è¡¨è¾¾ä¸Šé¢ <strong>3</strong> å¼ï¼š</p>
<p>$$<br>P(Y_i|X)\propto P(X|Y_i)P(Y_i)  ï¼› i=1,2,3<br>$$</p>
<p>å…¶ä¸­ $\propto$ è¡¨ç¤ºâ€œæ­£æ¯”äºâ€ã€‚è€Œ $P(X|Y_i)$ åˆ™æœ‰ä¸ªç‰¹åˆ«é«˜é€¼æ ¼çš„åå­—å«åš â€œ<strong>ä¼¼ç„¶å‡½æ•°</strong>â€ã€‚å…¶å®æŠŠå®ƒç›´æ¥ç†è§£æˆâ€œ $P(Yi|X)$ çš„é€†åæ¡ä»¶æ¦‚ç‡â€ å°±æ–¹ä¾¿äº†ã€‚</p>
<blockquote>
<p>å¯¹äºä»»æ„å¤šåˆ†ç±»çš„é—®é¢˜éƒ½å¯ä»¥ç”¨è¿™æ ·çš„æ€è·¯å»ç†è§£ã€‚æ¯”å¦‚ <strong>æ–°é—»åˆ†ç±»ã€æƒ…æ„Ÿå–œæ€’å“€ä¹åˆ†ç±»</strong> ç­‰ç­‰ã€‚</p>
</blockquote>
<h3 id="15-3-å…ˆéªŒæ¦‚ç‡çš„é—®é¢˜"><a href="#15-3-å…ˆéªŒæ¦‚ç‡çš„é—®é¢˜" class="headerlink" title="15.3 å…ˆéªŒæ¦‚ç‡çš„é—®é¢˜"></a>15.3 å…ˆéªŒæ¦‚ç‡çš„é—®é¢˜</h3><p>åœ¨åƒåœ¾é‚®ä»¶çš„ä¾‹å­ä¸­ï¼Œå…ˆéªŒæ¦‚ç‡éƒ½ç›¸ç­‰ï¼Œ $P(Y_1)=P(Y_2)=P(Y_3)=10000/30000=1/3$ï¼Œæ‰€ä»¥ä¸Šé¢æ˜¯å¼å­åˆå¯ä»¥è¿›ä¸€æ­¥åŒ–ç®€ï¼š</p>
<p>$$<br>P(Y_i|X)\propto P(X|Y_i)  ï¼› i=1,2,3<br>$$</p>
<p>åªéœ€æ¯”è¾ƒå³è¾¹å¼å­ï¼ˆä¹Ÿå°±æ˜¯â€œä¼¼ç„¶å‡½æ•°â€ï¼‰çš„å¤§å°å°±å¯ä»¥äº†ã€‚è¿™ç§æ–¹æ³•å°±æ˜¯ä¼ è¯´ä¸­çš„<strong>æœ€å¤§ä¼¼ç„¶æ³•</strong>: ä¸è€ƒè™‘å…ˆéªŒæ¦‚ç‡è€Œç›´æ¥æ¯”è¾ƒä¼¼ç„¶å‡½æ•°ã€‚</p>
<p>å…³äºé€‰å‡ºæœ€ä½³åˆ†ç±» $Y_i$ æ˜¯å¦è¦è€ƒè™‘å…ˆéªŒæ¦‚ç‡ $P(Y_i)$ çš„é—®é¢˜ï¼Œæ›¾ç»åœ¨é¢‘ç‡å­¦æ´¾å’Œè´å¶æ–¯å­¦æ´¾ä¹‹é—´äº§ç”Ÿäº†æ¿€çƒˆçš„æ•™æ´¾å†²çªã€‚ç»Ÿè®¡å­¦å®¶ï¼ˆé¢‘ç‡å­¦æ´¾ï¼‰è¯´ï¼šæˆ‘ä»¬è®©æ•°æ®è‡ªå·±è¯´è¯ã€‚è¨€ä¸‹ä¹‹æ„å°±æ˜¯è¦æ‘’å¼ƒå…ˆéªŒæ¦‚ç‡ã€‚è€Œè´å¶æ–¯å­¦æ´¾æ”¯æŒè€…åˆ™è¯´ï¼šæ•°æ®ä¼šæœ‰å„ç§å„æ ·çš„åå·®ï¼Œè€Œä¸€ä¸ª<strong>é è°±çš„å…ˆéªŒæ¦‚ç‡</strong>åˆ™å¯ä»¥å¯¹è¿™äº›éšæœºå™ªéŸ³åšåˆ°å¥å£®.</p>
<p>æ¯”å¦‚æˆ‘ä»¬åœ¨é‡‡é›†åƒåœ¾é‚®ä»¶æ ·æœ¬çš„æ—¶å€™ï¼Œä¸å°å¿ƒdeleteæ‰äº†ä¸€åŠçš„æ•°æ®ï¼Œå°±å‰©ä¸‹5000å°é‚®ä»¶ã€‚åˆ™è®¡ç®—å‡ºæ¥çš„å…ˆéªŒæ¦‚ç‡ä¸º:</p>
<p>$$<br>P(Y_1)=5000/25000=1/5<br>$$</p>
<p>$$<br>P(Y_2)=P(Y_3)=10000/25000=2/5<br>$$</p>
<p>å¦‚æœè¿˜ç”¨è´å¶æ–¯æ–¹æ³•,å°±è¦åœ¨ä¼¼ç„¶å‡½æ•°åé¢ä¹˜ä¸Šå…ˆéªŒæ¦‚ç‡ã€‚æ¯”å¦‚ä¹‹å‰ç”¨æœ€å¤§ä¼¼ç„¶æ³•ç®—å‡º $Y_1$  åƒåœ¾é‚®ä»¶çš„æ¦‚ç‡å¤§ï¼Œä½†æ˜¯å› ä¸º $P(Y_1)$ ç‰¹åˆ«å°ï¼Œç”¨è´å¶æ–¯æ–¹æ³•å¾—å‡ºçš„ç»“æœæ˜¯ $Y_2$  ç§äººé‚®ä»¶çš„æ¦‚ç‡å¤§ã€‚é‚£ç›¸ä¿¡å“ªä¸ªå‘¢ï¼Ÿå…¶å®ï¼Œæˆ‘ä»¬åˆ æ‰äº†éƒ¨åˆ†å¸¦æ ‡ç­¾çš„æ ·æœ¬ï¼Œä»è®¡ç®—ç»“æœçœ‹ $P(Y1)$ï¼Œ$P(Y2)$ï¼Œ$P(Y3)$ çš„æ¦‚ç‡åˆ†å¸ƒå˜åŒ–äº†ï¼Œä½†å®é™…ä¸Š<strong>è¿™ä¸‰ä¸ªç±»åˆ«çš„çœŸå®åˆ†å¸ƒåº”è¯¥æ˜¯ä¸€ä¸ªå®¢è§‚çš„çŠ¶æ€ï¼Œä¸åº”è¯¥å› ä¸ºæˆ‘ä»¬çš„è®¡ç®—æ–¹æ³•è€Œå‘ç”Ÿå˜åŒ–</strong>ã€‚æ‰€ä»¥æ˜¯æˆ‘ä»¬è®¡ç®—å‡ºæ¥çš„å…ˆéªŒæ¦‚ç‡å¤±çœŸï¼Œåº”è¯¥æ”¾å¼ƒè¿™æ ·è®¡ç®—å‡ºæ¥çš„å…ˆéªŒæ¦‚ç‡ï¼Œè€Œç”¨æœ€å¤§ä¼¼ç„¶æ³•ã€‚</p>
<p>ä½†å³ä¾¿æˆ‘ä»¬ä¸åˆ æ‰ä¸€åŠåƒåœ¾é‚®ä»¶ï¼Œè¿™ä¸‰ç±»é‚®ä»¶çš„åˆ†å¸ƒå°±çœŸçš„æ˜¯ $1:1:1$ é‚£æ ·å¹³å‡å—ï¼Ÿé‚£ä¹Ÿæœªå¿…ã€‚<strong>æˆ‘ä»¬åªæ˜¯æŒ‰1:1:1è¿™æ ·çš„æ–¹å¼è¿›è¡Œäº†æŠ½æ ·è€Œå·²ï¼ŒçœŸæ­£åœ¨é‚®ç®±é‡Œæ”¶åˆ°çš„è¿™ä¸‰ç±»é‚®ä»¶çš„åˆ†å¸ƒå¯èƒ½å¹¶ä¸æ˜¯è¿™æ ·ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œåœ¨æˆ‘ä»¬å¯¹äºå…ˆéªŒæ¦‚ç‡ä¸€æ— æ‰€çŸ¥æ—¶ï¼Œåªèƒ½å‡è®¾æ¯ç§çŒœæµ‹çš„å…ˆéªŒæ¦‚ç‡æ˜¯å‡ç­‰çš„ï¼ˆå…¶å®è¿™ä¹Ÿæ˜¯äººç±»ç»éªŒçš„ç»“æœï¼‰ï¼Œè¿™ä¸ªæ—¶å€™å°±åªæœ‰ç”¨æœ€å¤§ä¼¼ç„¶äº†</strong>ã€‚åœ¨ç°å®è¿ç”¨è¿‡ç¨‹ä¸­å¦‚æœå‘ç°æœ€å¤§ä¼¼ç„¶æ³•æœ‰åå·®ï¼Œå¯ä»¥è€ƒè™‘å¯¹ä¸åŒçš„ä¼¼ç„¶å‡½æ•°è®¾å®šä¸€äº›ç³»æ•°æˆ–è€…é˜ˆå€¼ï¼Œä½¿å…¶æ¥è¿‘çœŸå®æƒ…å†µã€‚</p>
<p>ä½†æ˜¯ï¼Œ<strong>å¦‚æœæˆ‘ä»¬æœ‰è¶³å¤Ÿçš„è‡ªä¿¡ï¼Œè®­ç»ƒé›†ä¸­è¿™ä¸‰ç±»çš„æ ·æœ¬åˆ†å¸ƒçš„ç¡®å¾ˆæ¥è¿‘çœŸå®çš„æƒ…å†µï¼Œè¿™æ—¶å°±åº”è¯¥ç”¨è´å¶æ–¯æ–¹æ³•</strong>ã€‚éš¾æ€ªå‰é¢çš„è´å¶æ–¯å­¦æ´¾å¼ºè°ƒçš„æ˜¯â€œé è°±çš„å…ˆéªŒæ¦‚ç‡â€ã€‚æ‰€ä»¥è¯´<strong>è´å¶æ–¯å­¦æ´¾çš„é€‚ç”¨èŒƒå›´æ›´å¹¿ï¼Œå…³é”®è¦å…ˆéªŒæ¦‚ç‡é è°±ï¼Œè€Œé¢‘ç‡å­¦æ´¾æœ‰æ•ˆçš„å‰æä¹Ÿæ˜¯ä»–ä»¬çš„å…ˆéªŒæ¦‚ç‡åŒæ ·æ˜¯ç»éªŒç»Ÿè®¡çš„ç»“æœ</strong>ã€‚</p>
<h2 id="16-æœ´ç´ -è´å¶æ–¯æ–¹æ³•çš„å¸¸è§åº”ç”¨"><a href="#16-æœ´ç´ -è´å¶æ–¯æ–¹æ³•çš„å¸¸è§åº”ç”¨" class="headerlink" title="16. (æœ´ç´ )è´å¶æ–¯æ–¹æ³•çš„å¸¸è§åº”ç”¨"></a>16. (æœ´ç´ )è´å¶æ–¯æ–¹æ³•çš„å¸¸è§åº”ç”¨</h2><h3 id="16-1-è¤’è´¬åˆ†æ"><a href="#16-1-è¤’è´¬åˆ†æ" class="headerlink" title="16.1 è¤’è´¬åˆ†æ"></a>16.1 è¤’è´¬åˆ†æ</h3><p>ä¸€ä¸ªæ¯”è¾ƒå¸¸è§çš„åº”ç”¨åœºæ™¯æ˜¯æƒ…æ„Ÿè¤’è´¬åˆ†æã€‚æ¯”å¦‚ä½ è¦ç»Ÿè®¡å¾®åšä¸Šäººä»¬å¯¹ä¸€ä¸ªæ–°ä¸Šæ˜ ç”µå½±çš„è¤’è´¬ç¨‹åº¦è¯„ä»·ï¼šå¥½ç‰‡è¿˜æ˜¯çƒ‚ç‰‡ã€‚ä½†æ˜¯ä¸€æ¡ä¸€æ¡åœ°çœ‹å¾®åšæ˜¯æ ¹æœ¬çœ‹ä¸è¿‡æ¥ï¼Œåªèƒ½ç”¨è‡ªåŠ¨åŒ–çš„æ–¹æ³•ã€‚æˆ‘ä»¬å¯ä»¥æœ‰ä¸€ä¸ªå¾ˆç²—ç•¥çš„æ€è·¯ï¼š</p>
<ul>
<li>é¦–å…ˆæ˜¯ç”¨çˆ¬è™«å°†å¾®åšä¸Šæåˆ°è¿™ä¸ªç”µå½±åå­—çš„å¾®åšå…¨éƒ½æŠ“å–ä¸‹æ¥ï¼Œæ¯”å¦‚æœ‰10ä¸‡æ¡ã€‚</li>
<li>ç„¶åç”¨è®­ç»ƒå¥½çš„æœ´ç´ è´å¶æ–¯åˆ†ç±»å™¨åˆ†åˆ«åˆ¤æ–­è¿™äº›å¾®åšå¯¹ç”µå½±æ˜¯å¥½è¯„è¿˜æ˜¯å·®è¯„ã€‚</li>
<li>æœ€åç»Ÿè®¡å‡ºè¿™äº›å¥½è¯„çš„å½±è¯„å æ‰€æœ‰æ ·æœ¬ä¸­çš„æ¯”ä¾‹ï¼Œå°±èƒ½å½¢æˆå¾®åšç½‘å‹å¯¹è¿™ä¸ªç”µå½±ç»¼åˆè¯„ä»·çš„å¤§è‡´ä¼°è®¡ã€‚</li>
</ul>
<p>æ¥ä¸‹æ¥çš„æ ¸å¿ƒé—®é¢˜å°±æ˜¯è®­ç»ƒå‡ºä¸€ä¸ªé è°±çš„åˆ†ç±»å™¨ã€‚é¦–å…ˆéœ€è¦æœ‰æ‰“å¥½æ ‡ç­¾çš„æ–‡æœ¬ã€‚è¿™ä¸ªå¥½æ‰¾ï¼Œè±†ç“£å½±è¯„ä¸Šå°±æœ‰å¤§é‡ç½‘å‹å¯¹ä¹‹å‰ç”µå½±çš„è¯„ä»·ï¼Œå¹¶ä¸”å¯¹ç”µå½±è¿›è¡Œ1æ˜Ÿåˆ°5æ˜Ÿçš„è¯„ä»·ã€‚æˆ‘ä»¬å¯ä»¥è®¤ä¸º3æ˜Ÿä»¥ä¸Šçš„è¯„è®ºéƒ½æ˜¯å¥½è¯„ï¼Œ3æ˜Ÿä»¥ä¸‹çš„è¯„è®ºéƒ½æ˜¯å·®è¯„ã€‚è¿™æ ·å°±åˆ†åˆ«å¾—åˆ°äº†å¥½è¯„å·®è¯„ä¸¤ç±»çš„è¯­æ–™æ ·æœ¬ã€‚å‰©ä¸‹å°±å¯ä»¥ç”¨æœ´ç´ è´å¶æ–¯æ–¹æ³•è¿›è¡Œè®­ç»ƒäº†ã€‚åŸºæœ¬æ€è·¯å¦‚ä¸‹ï¼š</p>
<ul>
<li>è®­ç»ƒä¸æµ‹è¯•æ ·æœ¬ï¼šè±†ç“£å½±è¯„çš„ç½‘å‹è¯„è®ºï¼Œç”¨çˆ¬è™«æŠ“å–ä¸‹100ä¸‡æ¡ã€‚</li>
<li>æ ‡ç­¾ï¼š3æ˜Ÿä»¥ä¸Šçš„æ˜¯å¥½è¯„ï¼Œ3æ˜Ÿä»¥ä¸‹çš„æ˜¯å·®è¯„ã€‚</li>
<li>ç‰¹å¾ï¼šè±†ç“£è¯„è®ºåˆ†è¯åçš„è¯è¯­ã€‚ä¸€ä¸ªç®€å•çš„æ–¹æ³•æ˜¯åªé€‰æ‹©å…¶ä¸­çš„å½¢å®¹è¯ï¼Œç½‘ä¸Šæœ‰å¤§é‡çš„æƒ…ç»ªè¯åº“å¯ä»¥ä¸ºæˆ‘ä»¬æ‰€ç”¨ã€‚</li>
<li>ç„¶åå†ç”¨å¸¸è§„çš„æœ´ç´ è´å¶æ–¯æ–¹æ³•è¿›è¡Œè®­ç»ƒã€‚</li>
</ul>
<p>ä½†æ˜¯ç”±äºè‡ªç„¶è¯­è¨€çš„ç‰¹ç‚¹ï¼Œåœ¨æå–ç‰¹å¾çš„è¿‡ç¨‹å½“ä¸­ï¼Œæœ‰ä¸€äº›trickséœ€è¦æ³¨æ„</p>
<ul>
<li><p><strong>å¯¹å¦å®šå¥è¿›è¡Œç‰¹åˆ«çš„å¤„ç†</strong>ã€‚æ¯”å¦‚è¿™å¥è¯â€œæˆ‘ä¸æ˜¯å¾ˆå–œæ¬¢éƒ¨ç”µå½±ï¼Œå› ä¸ºå®ƒè®©æˆ‘å¼€å¿ƒä¸èµ·æ¥ã€‚â€å…¶ä¸­ä¸¤ä¸ªå½¢å®¹è¯â€œå–œæ¬¢â€ã€â€œå¼€å¿ƒâ€éƒ½æ˜¯è¤’ä¹‰è¯ï¼Œä½†æ˜¯å› ä¸ºå¥å­çš„å¦å®šå¥ï¼Œæ‰€ä»¥æ•´ä½“æ˜¯è´¬ä¹‰çš„ã€‚æœ‰ä¸€ç§æ¯”è¾ƒç®€å•ç²—æš´çš„å¤„ç†æ–¹å¼ï¼Œå°±æ˜¯â€œå¯¹å¦å®šè¯ï¼ˆâ€œä¸â€ã€â€œéâ€ã€â€œæ²¡â€ç­‰ï¼‰ä¸å¥å°¾æ ‡ç‚¹ä¹‹é—´çš„æ‰€æœ‰å½¢å®¹è¯éƒ½é‡‡ç”¨å…¶å¦å®šå½¢å¼â€ ã€‚åˆ™è¿™å¥è¯ä¸­æå–å‡ºæ¥çš„å½¢å®¹è¯å°±åº”è¯¥æ˜¯â€œä¸å–œæ¬¢â€å’Œâ€œä¸å¼€å¿ƒâ€ã€‚</p>
</li>
<li><p>ä¸€èˆ¬è¯´æ¥ï¼Œ<strong>æœ€ç›¸å…³çš„æƒ…æ„Ÿè¯åœ¨ä¸€äº›æ–‡æœ¬ç‰‡æ®µä¸­ä»…ä»…å‡ºç°ä¸€æ¬¡ï¼Œè¯é¢‘æ¨¡å‹èµ·å¾—ä½œç”¨æœ‰é™</strong>ï¼Œç”šè‡³æ˜¯è´Ÿä½œç”¨ï¼Œåˆ™ä½¿ç”¨<code>ä¼¯åŠªåˆ©æ¨¡å‹</code>ä»£æ›¿å¤šé¡¹å¼æ¨¡å‹ã€‚è¿™ç§æƒ…å†µåœ¨å¾®åšè¿™æ ·çš„å°ç¯‡å¹…æ–‡æœ¬ä¸­ä¼¼ä¹ä¸å¤ªæ˜æ˜¾ï¼Œä½†æ˜¯åœ¨åšå®¢ã€ç©ºé—´ã€è®ºå›ä¹‹ç±»å…è®¸é•¿ç¯‡å¹…æ–‡æœ¬å‡ºç°çš„å¹³å°ä¸­éœ€è¦æ³¨æ„ã€‚</p>
</li>
<li><p>å…¶å®ï¼Œå‰¯è¯å¯¹æƒ…æ„Ÿçš„è¯„ä»·æœ‰ä¸€å®šå½±å“ã€‚â€œä¸å¾ˆå–œæ¬¢â€ä¸â€œå¾ˆä¸å–œæ¬¢â€çš„ç¨‹åº¦å°±æœ‰å¾ˆå¤§å·®å¼‚ã€‚ä½†å¦‚æœæ˜¯æœ´ç´ è´å¶æ–¯æ–¹æ³•çš„è¯æ¯”è¾ƒéš¾å¤„ç†è¿™æ ·çš„æƒ…å†µã€‚æˆ‘ä»¬å¯ä»¥è€ƒè™‘ç”¨è¯­è¨€æ¨¡å‹æˆ–è€…åŠ å…¥è¯æ€§æ ‡æ³¨çš„ä¿¡æ¯è¿›è¡Œç»¼åˆåˆ¤æ–­ã€‚è¿™äº›å†…å®¹æˆ‘ä»¬å°†åœ¨ä¹‹åè¿›è¡Œæ¢è®¨ã€‚</p>
</li>
</ul>
<p>å½“ç„¶ç»è¿‡ä»¥ä¸Šçš„å¤„ç†ï¼Œæƒ…æ„Ÿåˆ†æè¿˜æ˜¯ä¼šæœ‰ä¸€éƒ¨åˆ†è¯¯åˆ¤ã€‚è¿™é‡Œæ¶‰åŠåˆ°è®¸å¤šé—®é¢˜ï¼Œéƒ½æ˜¯æƒ…æ„Ÿåˆ†æçš„éš¾ç‚¹ï¼š</p>
<ul>
<li><strong>æƒ…ç»ªè¡¨è¾¾çš„å«è“„å¾®å¦™</strong>ï¼šâ€œå¯¼æ¼”ä½ å‡ºæ¥ï¼Œæˆ‘ä¿è¯ä¸æ‰“æ­»ä½ ã€‚â€ä½ è®©æœºå™¨æ€ä¹ˆåˆ¤æ–­æ˜¯è¤’è¿˜æ˜¯è´¬ï¼Ÿ</li>
<li><strong>è½¬æŠ˜æ€§è¡¨è¾¾</strong>ï¼šâ€œæˆ‘éå¸¸å–œæ¬¢è¿™äº›å¤§ç‰Œæ¼”å‘˜ï¼Œéå¸¸å´‡æ‹œè¿™ä¸ªå¯¼æ¼”ï¼Œéå¸¸èµèµè¿™ä¸ªå‰§æœ¬ï¼Œéå¸¸æ¬£èµä»–ä»¬çš„é¢„å‘Šç‰‡ï¼Œæˆ‘ç”šè‡³ä¸ºäº†è¿™éƒ¨å½±ç‰‡æ•´æ•´æœŸå¾…äº†ä¸€å¹´ï¼Œæœ€åè¿›äº†ç”µå½±é™¢å‘ç°è¿™æ˜¯ä¸ªå™©æ¢¦ã€‚â€ äº”ä¸ªè¤’ä¹‰çš„å½¢å®¹è¯ã€å‰¯è¯å¯¹ä¸€ä¸ªä¸é‚£ä¹ˆè´¬ä¹‰çš„è¯ã€‚æœºå™¨è‡ªç„¶åˆ¤æ–­æˆè¤’ä¹‰ï¼Œä½†è¿™å¥è¯æ˜¯å¦¥å¦¥çš„è´¬ä¹‰ã€‚</li>
</ul>
<h3 id="16-2-æ‹¼å†™çº é”™"><a href="#16-2-æ‹¼å†™çº é”™" class="headerlink" title="16.2 æ‹¼å†™çº é”™"></a>16.2 æ‹¼å†™çº é”™</h3><p>â€¦â€¦</p>
<p><img src="/images/nlp/nlp-bayes-06.jpg" alt=""></p>
<h2 id="17-å†…å®¹å°ç»“"><a href="#17-å†…å®¹å°ç»“" class="headerlink" title="17. å†…å®¹å°ç»“"></a>17. å†…å®¹å°ç»“</h2><p>ä»å‰é¢å¤§å®¶åŸºæœ¬å¯ä»¥çœ‹å‡ºï¼Œå·¥ç¨‹åº”ç”¨ä¸åŒäºå­¦æœ¯ç†è®ºï¼Œæœ‰è®¸å¤štrickséœ€è¦è€ƒè™‘ï¼Œè€Œç†è®ºæœ¬è´¨å°±æ˜¯ç¿»æ¥å€’å»æŠ˜è…¾è´å¶æ–¯å…¬å¼ï¼Œéƒ½å¿«ç©å‡ºèŠ±æ¥äº†ã€‚</p>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[è½¬å–ä¸€äº›è®¡ç®—æœºç›¸å…³çš„äºŒæ‰‹ä¹¦ç±]]></title>
      <url>http://iequa.com/2017/08/02/life-books-for-sold/</url>
      <content type="html"><![CDATA[<p>å¦‚ä¸‹æ˜¯æˆ‘æ‰“ç®—è½¬å–çš„ä¸€äº›äºŒæ‰‹ä¹¦ï¼Œå¾ˆå¤šéƒ½æ¯”è¾ƒæ–°, å‚è€ƒä»·å¦‚ä¸‹:</p>
<a id="more"></a>
<table>
<thead>
<tr>
<th>ä¹¦å</th>
<th>æ–°åº¦</th>
<th>åŸä»·</th>
<th>ç°ä»·</th>
</tr>
</thead>
<tbody>
<tr>
<td>ã€Šå†³æˆ˜Nginxã€‹</td>
<td>9.5æˆ</td>
<td>79</td>
<td>15</td>
</tr>
<tr>
<td>ã€Šunixç¯å¢ƒé«˜çº§ç¼–ç¨‹ã€‹</td>
<td>6.0æˆ</td>
<td>99</td>
<td>15</td>
</tr>
<tr>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td>ã€ŠMongoDBã€‹</td>
<td>9.5æˆ</td>
<td>39</td>
<td>10</td>
</tr>
<tr>
<td>ã€ŠSpring 3.xä¼ä¸šåº”ç”¨å¼€å‘å®æˆ˜ã€‹</td>
<td>6.0æˆ</td>
<td>90</td>
<td>10</td>
</tr>
<tr>
<td>ã€ŠMavenå®æˆ˜ã€‹</td>
<td>8.0æˆ</td>
<td>65</td>
<td>10</td>
</tr>
<tr>
<td>ã€ŠSpringå®æˆ˜ã€‹ç¬¬3ç‰ˆ</td>
<td>6.0æˆ</td>
<td>59</td>
<td>10 </td>
</tr>
<tr>
<td>ã€Šç¨‹åºå‘˜é¢è¯•é‡‘å…¸ã€‹</td>
<td>8.5æˆ</td>
<td>59</td>
<td>10 </td>
</tr>
<tr>
<td>ã€ŠPythonæ ¸å¿ƒç¼–ç¨‹ã€‹ ç¬¬2ç‰ˆ</td>
<td>8.0æˆ</td>
<td>89</td>
<td>10 </td>
</tr>
<tr>
<td>ã€Šé‡æ„*æ”¹å–„æ—¢æœ‰ä»£ç çš„è®¾è®¡ã€‹</td>
<td>9.5æˆ</td>
<td>69</td>
<td>10 </td>
</tr>
<tr>
<td>ã€ŠEffective Javaä¸­æ–‡ç‰ˆã€‹ç¬¬2ç‰ˆ</td>
<td>8.0æˆ</td>
<td>52</td>
<td>10</td>
</tr>
<tr>
<td>ã€Šå¿«å­¦Scalaã€‹</td>
<td>7.0æˆ</td>
<td>79</td>
<td>10</td>
</tr>
<tr>
<td>ã€Šç¬¬ä¸€æœ¬Dockerä¹¦ã€‹</td>
<td>9.5æˆ</td>
<td>59</td>
<td>10</td>
</tr>
</tbody>
</table>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[Python å­—ç¬¦ä¸²å¤„ç†-æ­£åˆ™è¡¨è¾¾å¼]]></title>
      <url>http://iequa.com/2017/07/30/nlp-01-string-operation-re/</url>
      <content type="html"><![CDATA[<p><a href="https://github.com/blairchan/NLP/blob/master/string_operation.ipynb" target="_blank" rel="external">Github-ipynb</a></p>
<h3 id="å­—ç¬¦ä¸²æ“ä½œ"><a href="#å­—ç¬¦ä¸²æ“ä½œ" class="headerlink" title="å­—ç¬¦ä¸²æ“ä½œ"></a>å­—ç¬¦ä¸²æ“ä½œ</h3><p>æˆ‘ä»¬ä¸€èµ·å›å½’ä¸€ä¸‹pythonå­—ç¬¦ä¸²çš„ç›¸å…³æ“ä½œï¼Œè¿™æ˜¯éå¸¸åŸºç¡€çš„çŸ¥è¯†ï¼Œä½†å´æ˜¯ä½¿ç”¨é¢‘åº¦éå¸¸é«˜çš„ä¸€äº›åŠŸèƒ½ã€‚</p>
<a id="more"></a>
<h4 id="1-1-å»ç©ºæ ¼åŠç‰¹æ®Šç¬¦å·"><a href="#1-1-å»ç©ºæ ¼åŠç‰¹æ®Šç¬¦å·" class="headerlink" title="1.1 å»ç©ºæ ¼åŠç‰¹æ®Šç¬¦å·"></a>1.1 å»ç©ºæ ¼åŠç‰¹æ®Šç¬¦å·</h4><figure class="highlight python"><table><tr><td class="code"><pre><span class="line">s = <span class="string">' hello, world!'</span></span><br><span class="line"><span class="keyword">print</span> s.strip()</span><br><span class="line"><span class="keyword">print</span> s.lstrip(<span class="string">' hello, '</span>)</span><br><span class="line"><span class="keyword">print</span> s.rstrip(<span class="string">'!'</span>)</span><br></pre></td></tr></table></figure>
<pre><code>hello, world!
world!
 hello, world
</code></pre><h4 id="1-2-è¿æ¥å­—ç¬¦ä¸²"><a href="#1-2-è¿æ¥å­—ç¬¦ä¸²" class="headerlink" title="1.2 è¿æ¥å­—ç¬¦ä¸²"></a>1.2 è¿æ¥å­—ç¬¦ä¸²</h4><figure class="highlight python"><table><tr><td class="code"><pre><span class="line">sStr1 = <span class="string">'strcat'</span></span><br><span class="line">sStr2 = <span class="string">'append'</span></span><br><span class="line">sStr1 += sStr2</span><br><span class="line"><span class="keyword">print</span> sStr1</span><br></pre></td></tr></table></figure>
<pre><code>strcatappend
</code></pre><h4 id="1-3-æŸ¥æ‰¾å­—ç¬¦"><a href="#1-3-æŸ¥æ‰¾å­—ç¬¦" class="headerlink" title="1.3 æŸ¥æ‰¾å­—ç¬¦"></a>1.3 æŸ¥æ‰¾å­—ç¬¦</h4><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment"># &lt; 0 ä¸ºæœªæ‰¾åˆ°</span></span><br><span class="line">sStr1 = <span class="string">'strchr'</span></span><br><span class="line">sStr2 = <span class="string">'r'</span></span><br><span class="line">nPos = sStr1.index(sStr2)</span><br><span class="line"><span class="keyword">print</span> nPos</span><br></pre></td></tr></table></figure>
<pre><code>2
</code></pre><h4 id="1-4-è¾ƒå­—ç¬¦ä¸²"><a href="#1-4-è¾ƒå­—ç¬¦ä¸²" class="headerlink" title="1.4 è¾ƒå­—ç¬¦ä¸²"></a>1.4 è¾ƒå­—ç¬¦ä¸²</h4><figure class="highlight python"><table><tr><td class="code"><pre><span class="line">sStr1 = <span class="string">'strchr'</span></span><br><span class="line">sStr2 = <span class="string">'strch'</span></span><br><span class="line"><span class="keyword">print</span> cmp(sStr2,sStr1)</span><br><span class="line"><span class="keyword">print</span> cmp(sStr1,sStr2)</span><br><span class="line"><span class="keyword">print</span> cmp(sStr1,sStr1)</span><br></pre></td></tr></table></figure>
<pre><code>-1
1
0
</code></pre><h4 id="1-5-å¤§å°å†™è½¬æ¢"><a href="#1-5-å¤§å°å†™è½¬æ¢" class="headerlink" title="1.5 å¤§å°å†™è½¬æ¢"></a>1.5 å¤§å°å†™è½¬æ¢</h4><figure class="highlight python"><table><tr><td class="code"><pre><span class="line">sStr1 = <span class="string">'JCstrlwr'</span></span><br><span class="line">sStr1 = sStr1.upper()</span><br><span class="line"><span class="comment">#sStr1 = sStr1.lower()</span></span><br><span class="line"><span class="keyword">print</span> sStr1</span><br></pre></td></tr></table></figure>
<pre><code>JCSTRLWR
</code></pre><h4 id="1-6-ç¿»è½¬å­—ç¬¦ä¸²"><a href="#1-6-ç¿»è½¬å­—ç¬¦ä¸²" class="headerlink" title="1.6 ç¿»è½¬å­—ç¬¦ä¸²"></a>1.6 ç¿»è½¬å­—ç¬¦ä¸²</h4><figure class="highlight python"><table><tr><td class="code"><pre><span class="line">sStr1 = <span class="string">'abcdefg'</span></span><br><span class="line">sStr1 = sStr1[::<span class="number">-1</span>]</span><br><span class="line"><span class="keyword">print</span> sStr1</span><br></pre></td></tr></table></figure>
<pre><code>gfedcba
</code></pre><h4 id="1-7-æŸ¥æ‰¾å­—ç¬¦ä¸²"><a href="#1-7-æŸ¥æ‰¾å­—ç¬¦ä¸²" class="headerlink" title="1.7 æŸ¥æ‰¾å­—ç¬¦ä¸²"></a>1.7 æŸ¥æ‰¾å­—ç¬¦ä¸²</h4><figure class="highlight python"><table><tr><td class="code"><pre><span class="line">sStr1 = <span class="string">'abcdefg'</span></span><br><span class="line">sStr2 = <span class="string">'cde'</span></span><br><span class="line"><span class="keyword">print</span> sStr1.find(sStr2)</span><br></pre></td></tr></table></figure>
<pre><code>2
</code></pre><h4 id="1-8-åˆ†å‰²å­—ç¬¦ä¸²"><a href="#1-8-åˆ†å‰²å­—ç¬¦ä¸²" class="headerlink" title="1.8 åˆ†å‰²å­—ç¬¦ä¸²"></a>1.8 åˆ†å‰²å­—ç¬¦ä¸²</h4><figure class="highlight python"><table><tr><td class="code"><pre><span class="line">sStr1 = <span class="string">'ab,cde,fgh,ijk'</span></span><br><span class="line">sStr2 = <span class="string">','</span></span><br><span class="line">sStr1 = sStr1[sStr1.find(sStr2) + <span class="number">1</span>:]</span><br><span class="line"><span class="keyword">print</span> sStr1</span><br><span class="line"><span class="comment">#æˆ–è€…</span></span><br><span class="line">s = <span class="string">'ab,cde,fgh,ijk'</span></span><br><span class="line">print(s.split(<span class="string">','</span>))</span><br></pre></td></tr></table></figure>
<pre><code>cde,fgh,ijk
[&apos;ab&apos;, &apos;cde&apos;, &apos;fgh&apos;, &apos;ijk&apos;]
</code></pre><h4 id="1-9-é¢‘æ¬¡æœ€é«˜çš„å­—æ¯"><a href="#1-9-é¢‘æ¬¡æœ€é«˜çš„å­—æ¯" class="headerlink" title="1.9 é¢‘æ¬¡æœ€é«˜çš„å­—æ¯"></a>1.9 é¢‘æ¬¡æœ€é«˜çš„å­—æ¯</h4><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment">#version 1</span></span><br><span class="line"><span class="keyword">import</span> re</span><br><span class="line"><span class="keyword">from</span> collections <span class="keyword">import</span> Counter</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">get_max_value_v1</span><span class="params">(text)</span>:</span></span><br><span class="line">    text = text.lower()</span><br><span class="line">    result = re.findall(<span class="string">'[a-zA-Z]'</span>, text)  <span class="comment"># å»æ‰åˆ—è¡¨ä¸­çš„ç¬¦å·ç¬¦</span></span><br><span class="line">    count = Counter(result)  <span class="comment"># Counter(&#123;'l': 3, 'o': 2, 'd': 1, 'h': 1, 'r': 1, 'e': 1, 'w': 1&#125;)</span></span><br><span class="line">    count_list = list(count.values())</span><br><span class="line">    max_value = max(count_list)</span><br><span class="line">    max_list = []</span><br><span class="line">    <span class="keyword">for</span> k, v <span class="keyword">in</span> count.items():</span><br><span class="line">        <span class="keyword">if</span> v == max_value:</span><br><span class="line">            max_list.append(k)</span><br><span class="line">    max_list = sorted(max_list)</span><br><span class="line">    <span class="keyword">return</span> max_list[<span class="number">0</span>]</span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment">#version 2</span></span><br><span class="line"><span class="keyword">from</span> collections <span class="keyword">import</span> Counter</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">get_max_value</span><span class="params">(text)</span>:</span></span><br><span class="line">    count = Counter([x <span class="keyword">for</span> x <span class="keyword">in</span> text.lower() <span class="keyword">if</span> x.isalpha()])</span><br><span class="line">    m = max(count.values())</span><br><span class="line">    <span class="keyword">return</span> sorted([x <span class="keyword">for</span> (x, y) <span class="keyword">in</span> count.items() <span class="keyword">if</span> y == m])[<span class="number">0</span>]</span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment">#version 3</span></span><br><span class="line"><span class="keyword">import</span> string</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">get_max_value</span><span class="params">(text)</span>:</span></span><br><span class="line">    text = text.lower()</span><br><span class="line">    <span class="keyword">return</span> max(string.ascii_lowercase, key=text.count)</span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">max(range(<span class="number">6</span>), key = <span class="keyword">lambda</span> x : x&gt;<span class="number">2</span>)</span><br><span class="line"><span class="comment"># &gt;&gt;&gt; 3</span></span><br><span class="line"><span class="comment"># å¸¦å…¥keyå‡½æ•°ä¸­ï¼Œå„ä¸ªå…ƒç´ è¿”å›å¸ƒå°”å€¼ï¼Œç›¸å½“äº[False, False, False, True, True, True]</span></span><br><span class="line"><span class="comment"># keyå‡½æ•°è¦æ±‚è¿”å›å€¼ä¸ºTrueï¼Œæœ‰å¤šä¸ªç¬¦åˆçš„å€¼ï¼Œåˆ™æŒ‘é€‰ç¬¬ä¸€ä¸ªã€‚</span></span><br><span class="line"></span><br><span class="line">max([<span class="number">3</span>,<span class="number">5</span>,<span class="number">2</span>,<span class="number">1</span>,<span class="number">4</span>,<span class="number">3</span>,<span class="number">0</span>], key = <span class="keyword">lambda</span> x : x)</span><br><span class="line"><span class="comment"># &gt;&gt;&gt; 5</span></span><br><span class="line"><span class="comment"># å¸¦å…¥keyå‡½æ•°ä¸­ï¼Œå„ä¸ªå…ƒç´ è¿”å›è‡ªèº«çš„å€¼ï¼Œæœ€å¤§çš„å€¼ä¸º5ï¼Œè¿”å›5.</span></span><br><span class="line"></span><br><span class="line">max(<span class="string">'ah'</span>, <span class="string">'bf'</span>, key=<span class="keyword">lambda</span> x: x[<span class="number">1</span>])</span><br><span class="line"><span class="comment"># &gt;&gt;&gt; 'ah'</span></span><br><span class="line"><span class="comment"># å¸¦å…¥keyå‡½æ•°ï¼Œå„ä¸ªå­—ç¬¦ä¸²è¿”å›æœ€åä¸€ä¸ªå­—ç¬¦ï¼Œå…¶ä¸­'ah'çš„hè¦å¤§äº'bf'ä¸­çš„fï¼Œå› æ­¤è¿”å›'ah'</span></span><br><span class="line"></span><br><span class="line">max(<span class="string">'ah'</span>, <span class="string">'bf'</span>, key=<span class="keyword">lambda</span> x: x[<span class="number">0</span>])</span><br><span class="line"><span class="comment"># &gt;&gt;&gt; 'bf'</span></span><br><span class="line"><span class="comment"># å¸¦å…¥keyå‡½æ•°ï¼Œå„ä¸ªå­—ç¬¦ä¸²è¿”å›ç¬¬ä¸€ä¸ªå­—ç¬¦ï¼Œå…¶ä¸­'bf'çš„bè¦å¤§äº'ah'ä¸­çš„aï¼Œå› æ­¤è¿”å›'bf'</span></span><br><span class="line"></span><br><span class="line">text = <span class="string">'Hello World'</span></span><br><span class="line">max(<span class="string">'abcdefghijklmnopqrstuvwxyz'</span>, key=text.count)</span><br><span class="line"><span class="comment"># &gt;&gt;&gt; 'l'</span></span><br><span class="line"><span class="comment"># å¸¦å…¥keyå‡½æ•°ï¼Œè¿”å›å„ä¸ªå­—ç¬¦åœ¨'Hello World'ä¸­å‡ºç°çš„æ¬¡æ•°ï¼Œå‡ºç°æ¬¡æ•°æœ€å¤šçš„å­—ç¬¦ä¸º'l',å› æ­¤è¾“å‡º'l'</span></span><br></pre></td></tr></table></figure>
<pre><code>&apos;l&apos;
</code></pre><h4 id="Count-occurrence-of-a-character-in-a-Python-string"><a href="#Count-occurrence-of-a-character-in-a-Python-string" class="headerlink" title="Count occurrence of a character in a Python string"></a>Count occurrence of a character in a Python string</h4><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment">#T  h  e     M  i  s  s  i  s  s  i  p  p  i     R  i  v  e  r</span></span><br><span class="line"><span class="comment">#[1, 1, 2, 2, 1, 5, 4, 4, 5, 4, 4, 5, 2, 2, 5, 2, 1, 5, 1, 2, 1]</span></span><br><span class="line">sentence=<span class="string">'The Mississippi River'</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">count_chars</span><span class="params">(s)</span>:</span></span><br><span class="line">        s=s.lower()</span><br><span class="line">        count=list(map(s.count,s))</span><br><span class="line">        <span class="keyword">return</span> (max(count))</span><br><span class="line"></span><br><span class="line"><span class="keyword">print</span> count_chars(sentence)</span><br></pre></td></tr></table></figure>
<pre><code>5
</code></pre>]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[Jieba ä¸­æ–‡å¤„ç†]]></title>
      <url>http://iequa.com/2017/07/29/nlp-01-jieba/</url>
      <content type="html"><![CDATA[<p><a href="https://github.com/blairchan/NLP/blob/master/jieba-learning-Notes.ipynb" target="_blank" rel="external">Github-ipynb</a></p>
<p>è¯æ±‡æ˜¯æˆ‘ä»¬å¯¹å¥å­å’Œæ–‡ç« ç†è§£çš„åŸºç¡€ï¼Œå› æ­¤éœ€è¦ä¸€ä¸ªå·¥å…·å»æŠŠå®Œæ•´çš„æ–‡æœ¬ä¸­åˆ†è§£æˆç²’åº¦æ›´ç»†çš„è¯</p>
<p><strong>jieba</strong> å°±æ˜¯è¿™æ ·ä¸€ä¸ªéå¸¸å¥½ç”¨çš„ä¸­æ–‡å·¥å…·ï¼Œæ˜¯ä»¥åˆ†è¯èµ·å®¶çš„ï¼Œä½†æ˜¯åŠŸèƒ½æ¯”åˆ†è¯è¦å¼ºå¤§å¾ˆå¤šã€‚</p>
<a id="more"></a>
<h2 id="1-åŸºæœ¬åˆ†è¯å‡½æ•°ä¸ç”¨æ³•"><a href="#1-åŸºæœ¬åˆ†è¯å‡½æ•°ä¸ç”¨æ³•" class="headerlink" title="1. åŸºæœ¬åˆ†è¯å‡½æ•°ä¸ç”¨æ³•"></a>1. åŸºæœ¬åˆ†è¯å‡½æ•°ä¸ç”¨æ³•</h2><ol>
<li>jieba.cut </li>
<li>jieba.cut_for_search </li>
</ol>
<p>è¿”å›çš„ç»“æ„éƒ½æ˜¯ä¸€ä¸ªå¯è¿­ä»£çš„ generatorï¼Œå¯ä»¥ä½¿ç”¨ for å¾ªç¯æ¥è·å¾—åˆ†è¯åå¾—åˆ°çš„æ¯ä¸€ä¸ªè¯è¯­(unicode)</p>
<p><strong>jieba.cut</strong> æ–¹æ³•æ¥å—ä¸‰ä¸ªè¾“å…¥å‚æ•°:</p>
<ul>
<li>éœ€è¦åˆ†è¯çš„å­—ç¬¦ä¸²</li>
<li>cut_all å‚æ•°ç”¨æ¥æ§åˆ¶æ˜¯å¦é‡‡ç”¨å…¨æ¨¡å¼</li>
<li>HMM å‚æ•°ç”¨æ¥æ§åˆ¶æ˜¯å¦ä½¿ç”¨ HMM æ¨¡å‹</li>
</ul>
<p><strong>jieba.cut_for_search</strong> æ–¹æ³•æ¥å—ä¸¤ä¸ªå‚æ•°</p>
<ul>
<li>éœ€è¦åˆ†è¯çš„å­—ç¬¦ä¸²</li>
<li>æ˜¯å¦ä½¿ç”¨ HMM æ¨¡å‹ã€‚</li>
</ul>
<p>è¯¥æ–¹æ³•é€‚åˆç”¨äºæœç´¢å¼•æ“æ„å»ºå€’æ’ç´¢å¼•çš„åˆ†è¯ï¼Œç²’åº¦æ¯”è¾ƒç»†</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment"># encoding=utf-8</span></span><br><span class="line"><span class="keyword">import</span> jieba</span><br><span class="line"></span><br><span class="line">seg_list = jieba.cut(<span class="string">"æˆ‘åœ¨å­¦ä¹ è‡ªç„¶è¯­è¨€å¤„ç†"</span>, cut_all=<span class="keyword">True</span>)</span><br><span class="line"><span class="keyword">print</span> seg_list</span><br><span class="line">print(<span class="string">"Full Mode: "</span> + <span class="string">"/ "</span>.join(seg_list))  <span class="comment"># å…¨æ¨¡å¼</span></span><br><span class="line"></span><br><span class="line">seg_list = jieba.cut(<span class="string">"æˆ‘åœ¨å­¦ä¹ è‡ªç„¶è¯­è¨€å¤„ç†"</span>, cut_all=<span class="keyword">False</span>)</span><br><span class="line">print(<span class="string">"Default Mode: "</span> + <span class="string">"/ "</span>.join(seg_list))  <span class="comment"># ç²¾ç¡®æ¨¡å¼</span></span><br><span class="line"></span><br><span class="line">seg_list = jieba.cut(<span class="string">"ä»–æ¯•ä¸šäºä¸Šæµ·äº¤é€šå¤§å­¦ï¼Œåœ¨ç™¾åº¦æ·±åº¦å­¦ä¹ ç ”ç©¶é™¢è¿›è¡Œç ”ç©¶"</span>)  <span class="comment"># é»˜è®¤æ˜¯ç²¾ç¡®æ¨¡å¼</span></span><br><span class="line">print(<span class="string">", "</span>.join(seg_list))</span><br><span class="line"></span><br><span class="line">seg_list = jieba.cut_for_search(<span class="string">"å°æ˜ç¡•å£«æ¯•ä¸šäºä¸­å›½ç§‘å­¦é™¢è®¡ç®—æ‰€ï¼Œååœ¨å“ˆä½›å¤§å­¦æ·±é€ "</span>)  <span class="comment"># æœç´¢å¼•æ“æ¨¡å¼</span></span><br><span class="line">print(<span class="string">", "</span>.join(seg_list))</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">Building prefix dict from the default dictionary ...</span><br><span class="line">&lt;generator object cut at 0x110370460&gt;</span><br><span class="line">Dumping model to file cache /var/folders/mf/_jgd83rx0rgcmt42cp7fkkd00000gn/T/jieba.cache</span><br><span class="line">Loading model cost 2.184 seconds.</span><br><span class="line">Prefix dict has been built succesfully.</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">Full Mode: æˆ‘/ åœ¨/ å­¦ä¹ / è‡ªç„¶/ è‡ªç„¶è¯­è¨€/ è¯­è¨€/ å¤„ç†</span><br><span class="line">Default Mode: æˆ‘/ åœ¨/ å­¦ä¹ / è‡ªç„¶è¯­è¨€/ å¤„ç†</span><br><span class="line">ä»–, æ¯•ä¸š, äº, ä¸Šæµ·äº¤é€šå¤§å­¦, ï¼Œ, åœ¨, ç™¾åº¦, æ·±åº¦, å­¦ä¹ , ç ”ç©¶é™¢, è¿›è¡Œ, ç ”ç©¶</span><br><span class="line">å°æ˜, ç¡•å£«, æ¯•ä¸š, äº, ä¸­å›½, ç§‘å­¦, å­¦é™¢, ç§‘å­¦é™¢, ä¸­å›½ç§‘å­¦é™¢, è®¡ç®—, è®¡ç®—æ‰€, ï¼Œ, å, åœ¨, å“ˆä½›, å¤§å­¦, å“ˆä½›å¤§å­¦, æ·±é€ </span><br></pre></td></tr></table></figure>
<p><strong>jieba.lcut</strong> ä»¥åŠ <strong>jieba.lcut_for_search</strong> ç›´æ¥è¿”å› list</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">result_lcut = jieba.lcut(<span class="string">"å°æ˜ç¡•å£«æ¯•ä¸šäºä¸­å›½ç§‘å­¦é™¢è®¡ç®—æ‰€ï¼Œååœ¨å“ˆä½›å¤§å­¦æ·±é€ "</span>)</span><br><span class="line"><span class="keyword">print</span> result_lcut</span><br><span class="line"><span class="keyword">print</span> <span class="string">" "</span>.join(result_lcut)</span><br><span class="line"><span class="keyword">print</span> <span class="string">" "</span>.join(jieba.lcut_for_search(<span class="string">"å°æ˜ç¡•å£«æ¯•ä¸šäºä¸­å›½ç§‘å­¦é™¢è®¡ç®—æ‰€ï¼Œååœ¨å“ˆä½›å¤§å­¦æ·±é€ "</span>))</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">[u&apos;\u5c0f\u660e&apos;, u&apos;\u7855\u58eb&apos;, u&apos;\u6bd5\u4e1a&apos;, u&apos;\u4e8e&apos;, u&apos;\u4e2d\u56fd\u79d1\u5b66\u9662&apos;, u&apos;\u8ba1\u7b97\u6240&apos;, u&apos;\uff0c&apos;, u&apos;\u540e&apos;, u&apos;\u5728&apos;, u&apos;\u54c8\u4f5b\u5927\u5b66&apos;, u&apos;\u6df1\u9020&apos;]</span><br><span class="line">å°æ˜ ç¡•å£« æ¯•ä¸š äº ä¸­å›½ç§‘å­¦é™¢ è®¡ç®—æ‰€ ï¼Œ å åœ¨ å“ˆä½›å¤§å­¦ æ·±é€ </span><br><span class="line">å°æ˜ ç¡•å£« æ¯•ä¸š äº ä¸­å›½ ç§‘å­¦ å­¦é™¢ ç§‘å­¦é™¢ ä¸­å›½ç§‘å­¦é™¢ è®¡ç®— è®¡ç®—æ‰€ ï¼Œ å åœ¨ å“ˆä½› å¤§å­¦ å“ˆä½›å¤§å­¦ æ·±é€ </span><br></pre></td></tr></table></figure>
<h3 id="1-1-æ·»åŠ ç”¨æˆ·è‡ªå®šä¹‰è¯å…¸"><a href="#1-1-æ·»åŠ ç”¨æˆ·è‡ªå®šä¹‰è¯å…¸" class="headerlink" title="1.1 æ·»åŠ ç”¨æˆ·è‡ªå®šä¹‰è¯å…¸"></a>1.1 æ·»åŠ ç”¨æˆ·è‡ªå®šä¹‰è¯å…¸</h3><p>å¾ˆå¤šæ—¶å€™æˆ‘ä»¬éœ€è¦é’ˆå¯¹è‡ªå·±çš„åœºæ™¯è¿›è¡Œåˆ†è¯ï¼Œä¼šæœ‰ä¸€äº›é¢†åŸŸå†…çš„ä¸“æœ‰è¯æ±‡ã€‚</p>
<ol>
<li>å¯ä»¥ç”¨ <code>jieba.load_userdict(file_name)</code> åŠ è½½ç”¨æˆ·å­—å…¸</li>
<li>å°‘é‡çš„è¯æ±‡å¯ä»¥è‡ªå·±ç”¨ä¸‹é¢æ–¹æ³•æ‰‹åŠ¨æ·»åŠ ï¼š</li>
</ol>
<p>ç”¨ <strong>add_word(word, freq=None, tag=None)</strong> å’Œ <strong>del_word(word)</strong> åœ¨ç¨‹åºä¸­åŠ¨æ€ä¿®æ”¹è¯å…¸<br>ç”¨ <strong>suggest_freq(segment, tune=True)</strong> å¯è°ƒèŠ‚å•ä¸ªè¯è¯­çš„è¯é¢‘ï¼Œä½¿å…¶èƒ½ï¼ˆæˆ–ä¸èƒ½ï¼‰è¢«åˆ†å‡ºæ¥ã€‚</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">print(<span class="string">'/'</span>.join(jieba.cut(<span class="string">'å¦‚æœæ”¾åˆ°æ—§å­—å…¸ä¸­å°†å‡ºé”™ã€‚'</span>, HMM=<span class="keyword">False</span>)))</span><br><span class="line"><span class="keyword">print</span> jieba.suggest_freq((<span class="string">'ä¸­'</span>, <span class="string">'å°†'</span>), <span class="keyword">True</span>)</span><br><span class="line">print(<span class="string">'/'</span>.join(jieba.cut(<span class="string">'å¦‚æœæ”¾åˆ°æ—§å­—å…¸ä¸­å°†å‡ºé”™ã€‚'</span>, HMM=<span class="keyword">False</span>)))</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">å¦‚æœ/æ”¾åˆ°/æ—§/å­—å…¸/ä¸­å°†/å‡ºé”™/ã€‚</span><br><span class="line">494</span><br><span class="line">å¦‚æœ/æ”¾åˆ°/æ—§/å­—å…¸/ä¸­/å°†/å‡ºé”™/ã€‚</span><br></pre></td></tr></table></figure>
<h2 id="2-å…³é”®è¯æå–"><a href="#2-å…³é”®è¯æå–" class="headerlink" title="2. å…³é”®è¯æå–"></a>2. å…³é”®è¯æå–</h2><h3 id="2-1-TF-IDF-ç®—æ³•çš„å…³é”®è¯æŠ½å–"><a href="#2-1-TF-IDF-ç®—æ³•çš„å…³é”®è¯æŠ½å–" class="headerlink" title="2.1 TF-IDF ç®—æ³•çš„å…³é”®è¯æŠ½å–"></a>2.1 TF-IDF ç®—æ³•çš„å…³é”®è¯æŠ½å–</h3><p>import jieba.analyse<br>jieba.analyse.extract_tags(sentence, topK=20, withWeight=False, allowPOS=())</p>
<ul>
<li>sentence ä¸ºå¾…æå–çš„æ–‡æœ¬</li>
<li>topK ä¸ºè¿”å›å‡ ä¸ª TF/IDF æƒé‡æœ€å¤§çš„å…³é”®è¯ï¼Œé»˜è®¤å€¼ä¸º 20</li>
<li>withWeight ä¸ºæ˜¯å¦ä¸€å¹¶è¿”å›å…³é”®è¯æƒé‡å€¼ï¼Œé»˜è®¤å€¼ä¸º False</li>
<li>allowPOS ä»…åŒ…æ‹¬æŒ‡å®šè¯æ€§çš„è¯ï¼Œé»˜è®¤å€¼ä¸ºç©ºï¼Œå³ä¸ç­›é€‰</li>
</ul>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> jieba.analyse <span class="keyword">as</span> analyse</span><br><span class="line">lines = open(<span class="string">'NBA.txt'</span>).read()</span><br><span class="line"><span class="keyword">print</span> <span class="string">"  "</span>.join(analyse.extract_tags(lines, topK=<span class="number">20</span>, withWeight=<span class="keyword">False</span>, allowPOS=()))</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">éŸ¦å°‘  æœå…°ç‰¹  å…¨æ˜æ˜Ÿ  å…¨æ˜æ˜Ÿèµ›  MVP  å¨å°‘  æ­£èµ›  ç§‘å°”  æŠ•ç¯®  å‹‡å£«  çƒå‘˜  </span><br><span class="line">æ–¯å¸ƒé²å…‹  æ›´è¡£æŸœ  å¼ å«å¹³  ä¸‰è¿åº„  NBA  è¥¿éƒ¨  æŒ‡å¯¼  é›·éœ†  æ˜æ˜Ÿé˜Ÿ</span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">lines = open(<span class="string">u'è¥¿æ¸¸è®°.txt'</span>).read()</span><br><span class="line"><span class="keyword">print</span> <span class="string">"  "</span>.join(analyse.extract_tags(lines, topK=<span class="number">20</span>, withWeight=<span class="keyword">False</span>, allowPOS=()))</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">è¡Œè€…  å…«æˆ’  å¸ˆçˆ¶  ä¸‰è—  å”åƒ§  å¤§åœ£  æ²™åƒ§  å¦–ç²¾  è©è¨  å’Œå°š  é‚£æ€ª  é‚£é‡Œ  </span><br><span class="line">é•¿è€  å‘†å­  å¾’å¼Ÿ  æ€ä¹ˆ  ä¸çŸ¥  è€å­™  å›½ç‹  ä¸€ä¸ª</span><br></pre></td></tr></table></figure>
<h3 id="2-2-TF-IDF-å…³é”®è¯æŠ½å–è¡¥å……"><a href="#2-2-TF-IDF-å…³é”®è¯æŠ½å–è¡¥å……" class="headerlink" title="2.2 TF-IDF å…³é”®è¯æŠ½å–è¡¥å……"></a>2.2 TF-IDF å…³é”®è¯æŠ½å–è¡¥å……</h3><p>å…³é”®è¯æå–æ‰€ä½¿ç”¨é€†å‘æ–‡ä»¶é¢‘ç‡ï¼ˆ<strong>IDF</strong>ï¼‰æ–‡æœ¬è¯­æ–™åº“å¯ä»¥åˆ‡æ¢æˆè‡ªå®šä¹‰è¯­æ–™åº“çš„è·¯å¾„</p>
<ul>
<li>ç”¨æ³•ï¼š jieba.analyse.set_idf_path(file_name) # file_nameä¸ºè‡ªå®šä¹‰è¯­æ–™åº“çš„è·¯å¾„</li>
<li>è‡ªå®šä¹‰è¯­æ–™åº“ç¤ºä¾‹è§<a href="https://github.com/fxsjy/jieba/blob/master/extra_dict/idf.txt.big" target="_blank" rel="external">è¿™é‡Œ</a></li>
<li>ç”¨æ³•ç¤ºä¾‹è§<a href="https://github.com/fxsjy/jieba/blob/master/test/extract_tags_idfpath.py" target="_blank" rel="external">è¿™é‡Œ</a></li>
</ul>
<p>å…³é”®è¯æå–æ‰€ä½¿ç”¨åœæ­¢è¯ï¼ˆ<strong>Stop Words</strong>ï¼‰æ–‡æœ¬è¯­æ–™åº“å¯ä»¥åˆ‡æ¢æˆè‡ªå®šä¹‰è¯­æ–™åº“çš„è·¯å¾„</p>
<ul>
<li>ç”¨æ³•ï¼š jieba.analyse.set_stop_words(file_name) # file_nameä¸ºè‡ªå®šä¹‰è¯­æ–™åº“çš„è·¯å¾„</li>
<li>è‡ªå®šä¹‰è¯­æ–™åº“ç¤ºä¾‹è§<a href="https://github.com/fxsjy/jieba/blob/master/extra_dict/stop_words.txt" target="_blank" rel="external">è¿™é‡Œ</a></li>
<li>ç”¨æ³•ç¤ºä¾‹è§<a href="https://github.com/fxsjy/jieba/blob/master/test/extract_tags_stop_words.py" target="_blank" rel="external">è¿™é‡Œ</a></li>
</ul>
<p>å…³é”®è¯ä¸€å¹¶è¿”å›å…³é”®è¯æƒé‡å€¼ç¤ºä¾‹</p>
<ul>
<li>ç”¨æ³•ç¤ºä¾‹è§<a href="https://github.com/fxsjy/jieba/blob/master/test/extract_tags_with_weight.py" target="_blank" rel="external">è¿™é‡Œ</a></li>
</ul>
<h3 id="2-3-TextRank-çš„å…³é”®è¯æŠ½å–"><a href="#2-3-TextRank-çš„å…³é”®è¯æŠ½å–" class="headerlink" title="2.3 TextRank çš„å…³é”®è¯æŠ½å–"></a>2.3 TextRank çš„å…³é”®è¯æŠ½å–</h3><ul>
<li>jieba.analyse.textrank(sentence, topK=20, withWeight=False, allowPOS=(â€˜nsâ€™, â€˜nâ€™, â€˜vnâ€™, â€˜vâ€™)) ç›´æ¥ä½¿ç”¨ï¼Œæ¥å£ç›¸åŒï¼Œæ³¨æ„é»˜è®¤è¿‡æ»¤è¯æ€§ã€‚</li>
<li>jieba.analyse.TextRank() æ–°å»ºè‡ªå®šä¹‰ TextRank å®ä¾‹</li>
</ul>
<p>ç®—æ³•è®ºæ–‡ï¼š TextRank: <a href="http://web.eecs.umich.edu/~mihalcea/papers/mihalcea.emnlp04.pdf" target="_blank" rel="external">Bringing Order into Texts</a></p>
<p>åŸºæœ¬æ€æƒ³:</p>
<ul>
<li>å°†å¾…æŠ½å–å…³é”®è¯çš„æ–‡æœ¬è¿›è¡Œåˆ†è¯</li>
<li>ä»¥å›ºå®šçª—å£å¤§å°(é»˜è®¤ä¸º5ï¼Œé€šè¿‡spanå±æ€§è°ƒæ•´)ï¼Œè¯ä¹‹é—´çš„å…±ç°å…³ç³»ï¼Œæ„å»ºå›¾</li>
<li>è®¡ç®—å›¾ä¸­èŠ‚ç‚¹çš„PageRankï¼Œæ³¨æ„æ˜¯æ— å‘å¸¦æƒå›¾</li>
</ul>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> jieba.analyse <span class="keyword">as</span> analyse</span><br><span class="line">lines = open(<span class="string">'NBA.txt'</span>).read()</span><br><span class="line"><span class="keyword">print</span> <span class="string">"  "</span>.join(analyse.textrank(lines, topK=<span class="number">20</span>, withWeight=<span class="keyword">False</span>, allowPOS=(<span class="string">'ns'</span>, <span class="string">'n'</span>, <span class="string">'vn'</span>, <span class="string">'v'</span>)))</span><br><span class="line"><span class="keyword">print</span> <span class="string">"---------------------æˆ‘æ˜¯åˆ†å‰²çº¿----------------"</span></span><br><span class="line"><span class="keyword">print</span> <span class="string">"  "</span>.join(analyse.textrank(lines, topK=<span class="number">20</span>, withWeight=<span class="keyword">False</span>, allowPOS=(<span class="string">'ns'</span>, <span class="string">'n'</span>)))</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">Building prefix dict from the default dictionary ...</span><br><span class="line">Loading model from cache /var/folders/mf/_jgd83rx0rgcmt42cp7fkkd00000gn/T/jieba.cache</span><br><span class="line">Loading model cost 0.530 seconds.</span><br><span class="line">Prefix dict has been built succesfully.</span><br><span class="line"></span><br><span class="line">å…¨æ˜æ˜Ÿèµ›  å‹‡å£«  æ­£èµ›  æŒ‡å¯¼  å¯¹æ–¹  æŠ•ç¯®  çƒå‘˜  æ²¡æœ‰  å‡ºç°  æ—¶é—´  å¨å°‘  </span><br><span class="line">è®¤ä¸º  çœ‹æ¥  ç»“æœ  ç›¸éš”  åŠ©æ”»  ç°åœº  ä¸‰è¿åº„  ä»‹ç»  å˜‰å®¾</span><br><span class="line">---------------------æˆ‘æ˜¯åˆ†å‰²çº¿----------------</span><br><span class="line">å‹‡å£«  æ­£èµ›  å…¨æ˜æ˜Ÿèµ›  æŒ‡å¯¼  æŠ•ç¯®  ç©å‘½  æ—¶é—´  å¯¹æ–¹  ç°åœº  ç»“æœ  çƒå‘˜  </span><br><span class="line">å˜‰å®¾  æ—¶å€™  å…¨é˜Ÿ  ä¸»æŒäºº  ç‰¹ç‚¹  å¤§ä¼™  è‚¥çš‚å‰§  å…¨ç¨‹  å¿«èˆ¹é˜Ÿ</span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">lines = open(<span class="string">u'è¥¿æ¸¸è®°.txt'</span>).read()</span><br><span class="line"><span class="keyword">print</span> <span class="string">"  "</span>.join(analyse.textrank(lines, topK=<span class="number">20</span>, withWeight=<span class="keyword">False</span>, allowPOS=(<span class="string">'ns'</span>, <span class="string">'n'</span>, <span class="string">'vn'</span>, <span class="string">'v'</span>)))</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">è¡Œè€…  å¸ˆçˆ¶  å…«æˆ’  ä¸‰è—  å¤§åœ£  ä¸çŸ¥  è©è¨  å¦–ç²¾  åªè§  é•¿è€  å›½ç‹  å´è¯´  </span><br><span class="line">å‘†å­  å¾’å¼Ÿ  å°å¦–  å‡ºæ¥  ä¸å¾—  ä¸è§  ä¸èƒ½  å¸ˆå¾’</span><br></pre></td></tr></table></figure>
<h2 id="3-è¯æ€§æ ‡æ³¨"><a href="#3-è¯æ€§æ ‡æ³¨" class="headerlink" title="3. è¯æ€§æ ‡æ³¨"></a>3. è¯æ€§æ ‡æ³¨</h2><ul>
<li>jieba.posseg.POSTokenizer(tokenizer=None) æ–°å»ºè‡ªå®šä¹‰åˆ†è¯å™¨ï¼Œtokenizer å‚æ•°å¯æŒ‡å®šå†…éƒ¨ä½¿ç”¨çš„ jieba.Tokenizer åˆ†è¯å™¨ã€‚</li>
<li>jieba.posseg.dt ä¸ºé»˜è®¤è¯æ€§æ ‡æ³¨åˆ†è¯å™¨ã€‚  </li>
<li>æ ‡æ³¨å¥å­åˆ†è¯åæ¯ä¸ªè¯çš„è¯æ€§ï¼Œé‡‡ç”¨å’Œ ictclas å…¼å®¹çš„æ ‡è®°æ³•ã€‚</li>
<li>å…·ä½“çš„è¯æ€§å¯¹ç…§è¡¨å‚è§è®¡ç®—æ‰€æ±‰è¯­è¯æ€§æ ‡è®°é›† <a href="http://ictclas.nlpir.org/nlpir/html/readme.htm" target="_blank" rel="external">è®¡ç®—æ‰€æ±‰è¯­è¯æ€§æ ‡è®°é›†</a></li>
</ul>
<p><a href="http://ictclas.nlpir.org/" target="_blank" rel="external">ictclas</a></p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> jieba.posseg <span class="keyword">as</span> pseg</span><br><span class="line">words = pseg.cut(<span class="string">"æˆ‘çˆ±è‡ªç„¶è¯­è¨€å¤„ç†"</span>)</span><br><span class="line"><span class="keyword">for</span> word, flag <span class="keyword">in</span> words:</span><br><span class="line">    print(<span class="string">'%s %s'</span> % (word, flag))</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">æˆ‘ r</span><br><span class="line">çˆ± v</span><br><span class="line">è‡ªç„¶è¯­è¨€ l</span><br><span class="line">å¤„ç† v</span><br></pre></td></tr></table></figure>
<h2 id="4-å¹¶è¡Œåˆ†è¯"><a href="#4-å¹¶è¡Œåˆ†è¯" class="headerlink" title="4. å¹¶è¡Œåˆ†è¯"></a>4. å¹¶è¡Œåˆ†è¯</h2><p>åŸç†ï¼šå°†ç›®æ ‡æ–‡æœ¬æŒ‰è¡Œåˆ†éš”åï¼ŒæŠŠå„è¡Œæ–‡æœ¬åˆ†é…åˆ°å¤šä¸ª Python è¿›ç¨‹å¹¶è¡Œåˆ†è¯ï¼Œç„¶åå½’å¹¶ç»“æœï¼Œä»è€Œè·å¾—åˆ†è¯é€Ÿåº¦çš„å¯è§‚æå‡ åŸºäº python è‡ªå¸¦çš„ multiprocessing æ¨¡å—ï¼Œç›®å‰æš‚ä¸æ”¯æŒ Windows</p>
<p>ç”¨æ³•ï¼š</p>
<ul>
<li>jieba.enable_parallel(4) # å¼€å¯å¹¶è¡Œåˆ†è¯æ¨¡å¼ï¼Œå‚æ•°ä¸ºå¹¶è¡Œè¿›ç¨‹æ•°</li>
<li>jieba.disable_parallel() # å…³é—­å¹¶è¡Œåˆ†è¯æ¨¡å¼</li>
</ul>
<p>å®éªŒç»“æœï¼šåœ¨ 4 æ ¸ 3.4GHz Linux æœºå™¨ä¸Šï¼Œå¯¹é‡‘åº¸å…¨é›†è¿›è¡Œç²¾ç¡®åˆ†è¯ï¼Œè·å¾—äº† 1MB/s çš„é€Ÿåº¦ï¼Œæ˜¯å•è¿›ç¨‹ç‰ˆçš„ 3.3 å€ã€‚  </p>
<p>æ³¨æ„ï¼šå¹¶è¡Œåˆ†è¯ä»…æ”¯æŒé»˜è®¤åˆ†è¯å™¨ jieba.dt å’Œ jieba.posseg.dtã€‚</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> sys</span><br><span class="line"><span class="keyword">import</span> time</span><br><span class="line"><span class="keyword">import</span> jieba</span><br><span class="line"></span><br><span class="line">jieba.enable_parallel()</span><br><span class="line">content = open(<span class="string">u'è¥¿æ¸¸è®°.txt'</span>,<span class="string">"r"</span>).read()</span><br><span class="line">t1 = time.time()</span><br><span class="line">words = <span class="string">"/ "</span>.join(jieba.cut(content))</span><br><span class="line">t2 = time.time()</span><br><span class="line">tm_cost = t2-t1</span><br><span class="line">print(<span class="string">'å¹¶è¡Œåˆ†è¯é€Ÿåº¦ä¸º %s bytes/second'</span> % (len(content)/tm_cost))</span><br><span class="line"></span><br><span class="line">jieba.disable_parallel()</span><br><span class="line">content = open(<span class="string">u'è¥¿æ¸¸è®°.txt'</span>,<span class="string">"r"</span>).read()</span><br><span class="line">t1 = time.time()</span><br><span class="line">words = <span class="string">"/ "</span>.join(jieba.cut(content))</span><br><span class="line">t2 = time.time()</span><br><span class="line">tm_cost = t2-t1</span><br><span class="line">print(<span class="string">'éå¹¶è¡Œåˆ†è¯é€Ÿåº¦ä¸º %s bytes/second'</span> % (len(content)/tm_cost))</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">å¹¶è¡Œåˆ†è¯é€Ÿåº¦ä¸º 415863.760491 bytes/second</span><br><span class="line">éå¹¶è¡Œåˆ†è¯é€Ÿåº¦ä¸º 242471.700496 bytes/second</span><br></pre></td></tr></table></figure>
<h3 id="å‘½ä»¤è¡Œåˆ†è¯"><a href="#å‘½ä»¤è¡Œåˆ†è¯" class="headerlink" title="å‘½ä»¤è¡Œåˆ†è¯"></a>å‘½ä»¤è¡Œåˆ†è¯</h3><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">ä½¿ç”¨ç¤ºä¾‹ï¼špython -m jieba news.txt &gt; cut_result.txt</span><br><span class="line">å‘½ä»¤è¡Œé€‰é¡¹ï¼ˆç¿»è¯‘ï¼‰ï¼š</span><br><span class="line">ä½¿ç”¨: python -m jieba [options] filename</span><br><span class="line"></span><br><span class="line">ç»“å·´å‘½ä»¤è¡Œç•Œé¢ã€‚</span><br><span class="line"></span><br><span class="line">å›ºå®šå‚æ•°:</span><br><span class="line">  filename              è¾“å…¥æ–‡ä»¶</span><br><span class="line"></span><br><span class="line">å¯é€‰å‚æ•°:</span><br><span class="line">  -h, --help            æ˜¾ç¤ºæ­¤å¸®åŠ©ä¿¡æ¯å¹¶é€€å‡º</span><br><span class="line">  -d [DELIM], --delimiter [DELIM]</span><br><span class="line">                        ä½¿ç”¨ DELIM åˆ†éš”è¯è¯­ï¼Œè€Œä¸æ˜¯ç”¨é»˜è®¤çš„&apos; / &apos;ã€‚</span><br><span class="line">                        è‹¥ä¸æŒ‡å®š DELIMï¼Œåˆ™ä½¿ç”¨ä¸€ä¸ªç©ºæ ¼åˆ†éš”ã€‚</span><br><span class="line">  -p [DELIM], --pos [DELIM]</span><br><span class="line">                        å¯ç”¨è¯æ€§æ ‡æ³¨ï¼›å¦‚æœæŒ‡å®š DELIMï¼Œè¯è¯­å’Œè¯æ€§ä¹‹é—´</span><br><span class="line">                        ç”¨å®ƒåˆ†éš”ï¼Œå¦åˆ™ç”¨ _ åˆ†éš”</span><br><span class="line">  -D DICT, --dict DICT  ä½¿ç”¨ DICT ä»£æ›¿é»˜è®¤è¯å…¸</span><br><span class="line">  -u USER_DICT, --user-dict USER_DICT</span><br><span class="line">                        ä½¿ç”¨ USER_DICT ä½œä¸ºé™„åŠ è¯å…¸ï¼Œä¸é»˜è®¤è¯å…¸æˆ–è‡ªå®šä¹‰è¯å…¸é…åˆä½¿ç”¨</span><br><span class="line">  -a, --cut-all         å…¨æ¨¡å¼åˆ†è¯ï¼ˆä¸æ”¯æŒè¯æ€§æ ‡æ³¨ï¼‰</span><br><span class="line">  -n, --no-hmm          ä¸ä½¿ç”¨éšå«é©¬å°”å¯å¤«æ¨¡å‹</span><br><span class="line">  -q, --quiet           ä¸è¾“å‡ºè½½å…¥ä¿¡æ¯åˆ° STDERR</span><br><span class="line">  -V, --version         æ˜¾ç¤ºç‰ˆæœ¬ä¿¡æ¯å¹¶é€€å‡º</span><br><span class="line"></span><br><span class="line">å¦‚æœæ²¡æœ‰æŒ‡å®šæ–‡ä»¶åï¼Œåˆ™ä½¿ç”¨æ ‡å‡†è¾“å…¥ã€‚</span><br></pre></td></tr></table></figure>
<h3 id="Tokenizeï¼šè¿”å›è¯è¯­åœ¨åŸæ–‡çš„èµ·æ­¢ä½ç½®"><a href="#Tokenizeï¼šè¿”å›è¯è¯­åœ¨åŸæ–‡çš„èµ·æ­¢ä½ç½®" class="headerlink" title="Tokenizeï¼šè¿”å›è¯è¯­åœ¨åŸæ–‡çš„èµ·æ­¢ä½ç½®"></a>Tokenizeï¼šè¿”å›è¯è¯­åœ¨åŸæ–‡çš„èµ·æ­¢ä½ç½®</h3><p>æ³¨æ„ï¼Œè¾“å…¥å‚æ•°åªæ¥å— unicode</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">print</span> <span class="string">"è¿™æ˜¯é»˜è®¤æ¨¡å¼çš„tokenize"</span></span><br><span class="line">result = jieba.tokenize(<span class="string">u'è‡ªç„¶è¯­è¨€å¤„ç†éå¸¸æœ‰ç”¨'</span>)</span><br><span class="line"><span class="keyword">for</span> tk <span class="keyword">in</span> result:</span><br><span class="line">    print(<span class="string">"%s\t\t start: %d \t\t end:%d"</span> % (tk[<span class="number">0</span>],tk[<span class="number">1</span>],tk[<span class="number">2</span>]))</span><br><span class="line"></span><br><span class="line"><span class="keyword">print</span> <span class="string">"\n-----------æˆ‘æ˜¯ç¥å¥‡çš„åˆ†å‰²çº¿------------\n"</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">print</span> <span class="string">"è¿™æ˜¯æœç´¢æ¨¡å¼çš„tokenize"</span></span><br><span class="line">result = jieba.tokenize(<span class="string">u'è‡ªç„¶è¯­è¨€å¤„ç†éå¸¸æœ‰ç”¨'</span>, mode=<span class="string">'search'</span>)</span><br><span class="line"><span class="keyword">for</span> tk <span class="keyword">in</span> result:</span><br><span class="line">    print(<span class="string">"%s\t\t start: %d \t\t end:%d"</span> % (tk[<span class="number">0</span>],tk[<span class="number">1</span>],tk[<span class="number">2</span>]))</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">è¿™æ˜¯é»˜è®¤æ¨¡å¼çš„tokenize</span><br><span class="line">è‡ªç„¶è¯­è¨€		 start: 0 		 end:4</span><br><span class="line">å¤„ç†		 start: 4 		 end:6</span><br><span class="line">éå¸¸		 start: 6 		 end:8</span><br><span class="line">æœ‰ç”¨		 start: 8 		 end:10</span><br><span class="line">    </span><br><span class="line">-----------æˆ‘æ˜¯ç¥å¥‡çš„åˆ†å‰²çº¿------------</span><br><span class="line">    </span><br><span class="line">è¿™æ˜¯æœç´¢æ¨¡å¼çš„tokenize</span><br><span class="line">è‡ªç„¶		 start: 0 		 end:2</span><br><span class="line">è¯­è¨€		 start: 2 		 end:4</span><br><span class="line">è‡ªç„¶è¯­è¨€		 start: 0 		 end:4</span><br><span class="line">å¤„ç†		 start: 4 		 end:6</span><br><span class="line">éå¸¸		 start: 6 		 end:8</span><br><span class="line">æœ‰ç”¨		 start: 8 		 end:10</span><br></pre></td></tr></table></figure>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[è¯å‘é‡åˆ°word2vecä¸ç›¸å…³åº”ç”¨]]></title>
      <url>http://iequa.com/2017/07/12/nlp-word-vector-basic/</url>
      <content type="html"><![CDATA[<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js"],
    jax: ["input/TeX"],
    tex2jax: {
      inlineMath: [ ['$','$'], ['\\(','\\)'] ],
      displayMath: [ ['$$','$$']],
      processEscapes: true
    }
  });
</script>
<script type="text/javascript" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS_HTML,http://myserver.com/MathJax/config/local/local.js">
</script>

<p>Natural Language Processingï¼Œè®¡ç®—æœºç§‘å­¦ä¸è¯­è¨€å­¦ä¸­å…³æ³¨äºè®¡ç®—æœºä¸äººç±»è¯­è¨€é—´è½¬æ¢çš„é¢†åŸŸ</p>
<a id="more"></a>
<h2 id="1-NLP-å¸¸è§ä»»åŠ¡"><a href="#1-NLP-å¸¸è§ä»»åŠ¡" class="headerlink" title="1. NLP å¸¸è§ä»»åŠ¡"></a>1. NLP å¸¸è§ä»»åŠ¡</h2><ol>
<li>è‡ªåŠ¨æ‘˜è¦</li>
<li>æŒ‡ä»£æ¶ˆè§£   </li>
<li>æœºå™¨ç¿»è¯‘ </li>
<li>è¯æ€§æ ‡æ³¨   </li>
<li>åˆ†è¯ (ä¸­æ–‡ã€æ—¥æ–‡ç­‰)</li>
<li>ä¸»é¢˜è¯†åˆ«</li>
<li>æ–‡æœ¬åˆ†ç±».<br>â€¦â€¦</li>
</ol>
<blockquote>
<p>è‡ªåŠ¨æ‘˜è¦   -&gt;   æœç´¢è¦ç´¢å¼•ï¼Œå…³é”®è¯ç­‰<br>æŒ‡ä»£æ¶ˆè§£   -&gt;   å°æ˜æ”¾å­¦äº†, å¦ˆå¦ˆå»æ¥<code>ä»–</code><br>æœºå™¨ç¿»è¯‘   -&gt;   å°å¿ƒåœ°æ»‘ã€å¹²è´§ =&gt; Slide carefully<br>è¯æ€§æ ‡æ³¨   -&gt;   heat(v.) water(n.) in(p.) a(det.)   pot(n.)<br>åˆ†è¯ (ä¸­æ–‡ã€æ—¥æ–‡ç­‰)   -&gt;   å¤§æ°´æ²Ÿ/å¾ˆ/éš¾/è¿‡  </p>
</blockquote>
<h2 id="2-NLP-å¤„ç†æ–¹æ³•"><a href="#2-NLP-å¤„ç†æ–¹æ³•" class="headerlink" title="2. NLP å¤„ç†æ–¹æ³•"></a>2. NLP å¤„ç†æ–¹æ³•</h2><h3 id="2-1-ä¼ ç»Ÿ-åŸºäºè§„åˆ™"><a href="#2-1-ä¼ ç»Ÿ-åŸºäºè§„åˆ™" class="headerlink" title="2.1 ä¼ ç»Ÿ: åŸºäºè§„åˆ™"></a>2.1 ä¼ ç»Ÿ: åŸºäºè§„åˆ™</h3><p>Dictâ€¦</p>
<blockquote>
<p>ç®€å•ã€ç²—æš´ã€æœ‰ç”¨</p>
</blockquote>
<h3 id="2-2-ç°ä»£-åŸºäºæœºå™¨å­¦ä¹ "><a href="#2-2-ç°ä»£-åŸºäºæœºå™¨å­¦ä¹ " class="headerlink" title="2.2 ç°ä»£: åŸºäºæœºå™¨å­¦ä¹ "></a>2.2 ç°ä»£: åŸºäºæœºå™¨å­¦ä¹ </h3><blockquote>
<p>HMM, CRF, SVM, LDA, CNNâ€¦<br>â€œè§„åˆ™â€éšå«åœ¨æ¨¡å‹å‚æ•°é‡Œ</p>
</blockquote>
<h2 id="3-è¯ç¼–ç å’Œè¯å‘é‡åˆæ­¥"><a href="#3-è¯ç¼–ç å’Œè¯å‘é‡åˆæ­¥" class="headerlink" title="3. è¯ç¼–ç å’Œè¯å‘é‡åˆæ­¥"></a>3. è¯ç¼–ç å’Œè¯å‘é‡åˆæ­¥</h2><blockquote>
<p>ä½ éœ€è¦ä¸€äº› modelï¼Œä¸ç®¡ä½ æ˜¯åŸºäºè§„åˆ™ç»Ÿè®¡ã€æœºå™¨å­¦ä¹ ã€æ·±åº¦å­¦ä¹  çš„ä¸€äº›æ–¹æ³•ï¼Œç¬¬ä¸€æ­¥è¦åšçš„ï¼Œä¸€å®šæ˜¯å¯¹ä½ çš„æ–‡æœ¬æˆ–è€…æ•°æ®ï¼Œè¿›è¡Œè¡¨è¾¾, è¯ç¼–ç ã€‚</p>
</blockquote>
<p><font color="black">ã€è¯ç¼–ç éœ€è¦ä¿è¯è¯çš„ç›¸ä¼¼æ€§ã€<font></font></font></p>
<p>Glove results</p>
<p>Nearest words to</p>
<ol>
<li>frog</li>
<li>toad</li>
<li>rana</li>
<li>â€¦</li>
</ol>
<p><font color="black">ã€å‘é‡ç©ºé—´åˆ†å¸ƒçš„ç›¸ä¼¼æ€§ã€<font></font></font></p>
<p><img src="/images/ml/nlp/nlp-word2vector-2.png" alt=""></p>
<p><font color="black">ã€å‘é‡ç©ºé—´å­ç»“æ„ã€<font></font></font></p>
<blockquote>
<p>ç¼–ç è¦å°½é‡ä¿è¯ï¼Œç›¸ä¼¼çš„è¯çš„ç©ºé—´è·ç¦»æ˜¯ç›¸è¿‘çš„</p>
</blockquote>
<p>$V_{King}$ - $V_{Queen}$ + $V_{Women}$ = $V_{Man}$</p>
<p>$V_{Paris}$ - $V_{France}$ + $V_{German}$ = $V_{Berlin}$</p>
<blockquote>
<p>æœ€ç»ˆç›®æ ‡: è¯å‘é‡è¡¨ç¤ºä½œä¸ºæœºå™¨å­¦ä¹ ã€ç‰¹åˆ«æ˜¯æ·±åº¦å­¦ä¹ çš„è¾“å…¥å’Œè¡¨ç¤ºç©ºé—´</p>
</blockquote>
<hr>
<blockquote>
<p>ä½ çš„ <code>æ•°æ®</code> å†³å®šäº†ä½ çš„ <code>ç»“æœä¸Šé™</code><br>ä½ çš„ <code>ç®—æ³•</code> åªæ˜¯ä»¥å¤šå¤§ç¨‹åº¦å» <code>é€¼è¿‘</code></p>
</blockquote>
<hr>
<p><strong>Linguists</strong></p>
<p><img src="/images/ml/nlp/nlp-word2vector-3.png" width="520" height="400" align="middle" img=""></p>
<h3 id="3-1-ç¦»æ•£è¡¨ç¤º-One-hot"><a href="#3-1-ç¦»æ•£è¡¨ç¤º-One-hot" class="headerlink" title="3.1 ç¦»æ•£è¡¨ç¤º One-hot"></a>3.1 ç¦»æ•£è¡¨ç¤º One-hot</h3><ul>
<li><font color="blue">è¯­æ–™åº“<font></font></font></li>
</ul>
<figure class="highlight py"><table><tr><td class="code"><pre><span class="line">John likes to watch movies. Mary likes too.John also likes to watch football games.</span><br></pre></td></tr></table></figure>
<ul>
<li><font color="blue">è¯å…¸<font></font></font></li>
</ul>
<figure class="highlight py"><table><tr><td class="code"><pre><span class="line">&#123;<span class="string">"John"</span>: <span class="number">1</span>, <span class="string">"likes"</span>: <span class="number">2</span>, <span class="string">"to"</span>: <span class="number">3</span>, <span class="string">"watch"</span>: <span class="number">4</span>, <span class="string">"movies"</span>: <span class="number">5</span>, </span><br><span class="line"><span class="string">"also"</span>: <span class="number">6</span>, <span class="string">"football"</span>: <span class="number">7</span>, <span class="string">"games"</span>: <span class="number">8</span>, <span class="string">"Mary"</span>: <span class="number">9</span>, <span class="string">"too"</span>: <span class="number">10</span>&#125;</span><br></pre></td></tr></table></figure>
<ul>
<li><font color="blue">One-hotè¡¨ç¤º<font></font></font></li>
</ul>
<figure class="highlight py"><table><tr><td class="code"><pre><span class="line">John: [<span class="number">1</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>]likes: [<span class="number">0</span>, <span class="number">1</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>]</span><br><span class="line">...</span><br><span class="line">too : [<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">1</span>]</span><br></pre></td></tr></table></figure>
<h3 id="3-2-ç¦»æ•£è¡¨ç¤º-Bag-of-Words"><a href="#3-2-ç¦»æ•£è¡¨ç¤º-Bag-of-Words" class="headerlink" title="3.2 ç¦»æ•£è¡¨ç¤º Bag of Words"></a>3.2 ç¦»æ•£è¡¨ç¤º Bag of Words</h3><blockquote>
<p>æ–‡æ¡£çš„å‘é‡è¡¨ç¤ºå¯ä»¥ç›´æ¥å°†å„è¯çš„è¯å‘é‡è¡¨ç¤ºåŠ å’Œ</p>
</blockquote>
<p>John likes to watch movies. Mary likes too. =&gt; [1, 2, 1, 1, 1, 0, 0, 0, 1, 1]<br>John also likes to watch football games. =&gt; [1, 1, 1, 1, 0, 1, 1, 1, 0, 0]</p>
<blockquote>
<p>è¯æƒé‡  - (<code>è¯åœ¨æ–‡æ¡£ä¸­çš„é¡ºåºæ²¡æœ‰è¢«è€ƒè™‘</code>)</p>
<p>tf-idfæ˜¯ä¸€ç§ç»Ÿè®¡æ–¹æ³•ï¼Œç”¨ä»¥è¯„ä¼°ä¸€å­—è¯å¯¹äºä¸€ä¸ªæ–‡ä»¶é›†æˆ–ä¸€ä¸ªè¯­æ–™åº“ä¸­çš„å…¶ä¸­ä¸€ä»½æ–‡ä»¶çš„é‡è¦ç¨‹åº¦</p>
</blockquote>
<ul>
<li>TF-IDF (Term Frequency - Inverse Document Frequency)</li>
</ul>
<p>Term Frequency : F(term) = (è¯¥wordè¯å‡ºç°åœ¨å½“å‰æ–‡æ¡£ä¸­çš„æ¬¡æ•°) / (å½“å‰æ–‡æ¡£æ‰€æœ‰wordçš„æ€»æ•°).</p>
<p>ä¿¡æ¯æ£€ç´¢è¯ t çš„ IDF </p>
<p>$$\log (1 + {\frac{N}{n^t}})$$</p>
<blockquote>
<p>N: æ–‡æ¡£æ€»æ•°ï¼Œ n: å«æœ‰è¯ t çš„æ–‡æ¡£æ•°</p>
</blockquote>
<p>[0.693, 1.386, 0.693, 0.693, 1.099, 0, 0, 0, 0.693, 0.693]</p>
<p>Binary weighting</p>
<blockquote>
<p>ä¸åšè®¡æ•°çš„ç‰ˆæœ¬</p>
<p>çŸ­æ–‡æœ¬ç›¸ä¼¼æ€§, Bernoulli Naive Bayes [1, 1, 1, 1, 1, 0, 0, 0, 1, 1]</p>
<p>if so, I love you = you love I</p>
</blockquote>
<h3 id="3-3-ç¦»æ•£è¡¨ç¤º-ô°œô°ô°ô°Ÿô°’Bi-gram-ô°ªN-gram"><a href="#3-3-ç¦»æ•£è¡¨ç¤º-ô°œô°ô°ô°Ÿô°’Bi-gram-ô°ªN-gram" class="headerlink" title="3.3 ç¦»æ•£è¡¨ç¤º ô°œô°ô°ô°Ÿô°’Bi-gram / ô°ªN-gram"></a>3.3 ç¦»æ•£è¡¨ç¤º ô°œô°ô°ô°Ÿô°’Bi-gram / ô°ªN-gram</h3><p>John likes to watch movies. Mary likes too.<br>John also likes to watch football games.</p>
<p><img src="/images/ml/nlp/nlp-word2vector-4.png" width="620" height="400" align="middle" img=""></p>
<h3 id="3-4-è¯­è¨€æ¨¡å‹-è¯ç»„åˆå‡ºç°çš„æ¦‚ç‡"><a href="#3-4-è¯­è¨€æ¨¡å‹-è¯ç»„åˆå‡ºç°çš„æ¦‚ç‡" class="headerlink" title="3.4 è¯­è¨€æ¨¡å‹ è¯ç»„åˆå‡ºç°çš„æ¦‚ç‡"></a>3.4 è¯­è¨€æ¨¡å‹ è¯ç»„åˆå‡ºç°çš„æ¦‚ç‡</h3><p>ä¸€å¥è¯(è¯ç»„åˆ)å‡ºç°çš„æ¦‚ç‡</p>
<p><img src="/images/ml/nlp/nlp-word2vector-5.png" width="620" height="400" align="middle" img=""></p>
<blockquote>
<p>ç®€åŒ–è®¡ç®— : $P(too | Mark, likes) \approx P(too | likes)$, å¯å‚è§ å´å†› ã€Šæ•°å­¦ä¹‹ç¾ã€‹ è§£é‡Š</p>
</blockquote>
<h3 id="3-5-ç¦»æ•£è¡¨ç¤º-çš„ç¼ºç‚¹"><a href="#3-5-ç¦»æ•£è¡¨ç¤º-çš„ç¼ºç‚¹" class="headerlink" title="3.5 ç¦»æ•£è¡¨ç¤º çš„ç¼ºç‚¹"></a>3.5 ç¦»æ•£è¡¨ç¤º çš„ç¼ºç‚¹</h3><p><img src="/images/ml/nlp/nlp-word2vector-6.png" width="620" height="400" align="middle" img=""></p>
<h3 id="3-6-åˆ†å¸ƒå¼è¡¨ç¤º-æå‡º"><a href="#3-6-åˆ†å¸ƒå¼è¡¨ç¤º-æå‡º" class="headerlink" title="3.6 åˆ†å¸ƒå¼è¡¨ç¤º æå‡º"></a>3.6 åˆ†å¸ƒå¼è¡¨ç¤º æå‡º</h3><p><img src="/images/ml/nlp/nlp-word2vector-7.png" width="620" height="400" align="middle" img=""></p>
<blockquote>
<p>Distributed representation :  </p>
<p>ç”¨ä¸€ä¸ªè¯é™„è¿‘çš„å…¶ä»–è¯æ¥è¡¨ç¤ºè¯¥è¯  - (ä¸çŸ¥é“ä½ çš„ç»æµæƒ…å†µï¼Œå°±è°ƒæŸ¥ä¸‹ä½ çš„ç‹æœ‹ç‹—å‹ä»¬)<br>ô°ô±ô²ô°€ô³ô³ô°¢ô³ô³‘ô°€ô³’ô°You shall know a word by the company it keeps<br>  â€” J.R. Firth 1957<br>ô°ô±ô²ô°€ô³ô³ô°¢ô³ô³‘ô°€ô³’ô°ô°Ÿô³“ô°€ô°‘ô°ô±ô²ô°€ô³ô³ô°¢ô³ô³‘ô°€ô³’ô°ô°Ÿô³“ô°€ô°‘ô°ô±ô²ô°€ô³ô³ô°¢ô³ô³‘<br>ô±•ô³”ô³•ô³–ô³—&gt; ç°ä»£ç»Ÿè®¡è‡ªç„¶è¯­è¨€å¤„ç†ä¸­æœ€æœ‰åˆ›è§çš„æƒ³æ³•ä¹‹ä¸€</p>
</blockquote>
<h2 id="4-å…±ç°çŸ©é˜µ-Cocurrence-matrix"><a href="#4-å…±ç°çŸ©é˜µ-Cocurrence-matrix" class="headerlink" title="4. å…±ç°çŸ©é˜µ (Cocurrence matrix)"></a>4. å…±ç°çŸ©é˜µ (Cocurrence matrix)</h2><p><img src="/images/ml/nlp/nlp-word2vector-8.png" width="620" height="400" align="middle" img=""></p>
<blockquote>
<p>å…±ç° : å…±åŒå‡ºç°</p>
</blockquote>
<h3 id="4-1-Word-Word"><a href="#4-1-Word-Word" class="headerlink" title="4.1 Word - Word"></a>4.1 Word - Word</h3><p><img src="/images/ml/nlp/nlp-word2vector-9.png" width="620" height="400" align="middle" img=""></p>
<blockquote>
<p>å·¦å³çª— length ä¸º 1ï¼Œ å¾—åˆ°çš„çŸ©é˜µå¦‚ä¸Š</p>
</blockquote>
<p>å­˜åœ¨ç¼ºç‚¹</p>
<p><img src="/images/ml/nlp/nlp-word2vector-10.png" width="620" height="400" align="middle" img=""></p>
<blockquote>
<p>æ¨¡å‹æ¬ ç¨³å®šï¼Œå¯ä»¥è€ƒè™‘ä¸‹ LR çš„å„ä¸ªå‚æ•°ç­‰ï¼Œå˜åŒ–å¤ªå¤§ï¼Œå¯¹æ¨¡å‹æ±‚è§£æœ‰å½±å“</p>
</blockquote>
<p><strong>ç”¨SVDå¯¹å…±ç°çŸ©é˜µå‘é‡åšé™ç»´</strong></p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"></span><br><span class="line">la = np.linalg</span><br><span class="line"></span><br><span class="line">words = [<span class="string">"I"</span>, <span class="string">"like"</span>, <span class="string">"enjoy"</span>, <span class="string">"deep"</span>, <span class="string">"learning"</span>, <span class="string">"NLP"</span>, <span class="string">"flying"</span>, <span class="string">"."</span>]</span><br><span class="line"></span><br><span class="line">X = np.array(</span><br><span class="line">    [</span><br><span class="line">        [<span class="number">0</span>, <span class="number">2</span>, <span class="number">1</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>],</span><br><span class="line">        [<span class="number">2</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">1</span>, <span class="number">0</span>, <span class="number">1</span>, <span class="number">0</span>, <span class="number">0</span>],</span><br><span class="line">        [<span class="number">1</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">1</span>, <span class="number">0</span>],</span><br><span class="line">        [<span class="number">0</span>, <span class="number">1</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">1</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>],</span><br><span class="line">        [<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">1</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">1</span>],</span><br><span class="line">        [<span class="number">0</span>, <span class="number">1</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">1</span>],</span><br><span class="line">        [<span class="number">0</span>, <span class="number">0</span>, <span class="number">1</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">1</span>],</span><br><span class="line">        [<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">1</span>, <span class="number">1</span>, <span class="number">1</span>, <span class="number">0</span>]</span><br><span class="line">    ]</span><br><span class="line">)</span><br><span class="line"></span><br><span class="line">U, s, Vh = la.svd(X, full_matrices=<span class="keyword">False</span>)</span><br></pre></td></tr></table></figure>
<p><strong>SVD é™ç»´å­˜åœ¨çš„é—®é¢˜</strong></p>
<ul>
<li><p>è®¡ç®—é‡éšè¯­æ–™åº“å’Œè¯å…¸å¢é•¿è†¨èƒ€å¤ªå¿«ï¼Œå¯¹X(n,n)ç»´ çš„çŸ©é˜µï¼Œè®¡ç®—é‡O(n^3)ã€‚è€Œå¯¹å¤§å‹çš„è¯­æ–™åº“ï¼Œ n~400kï¼Œè¯­æ–™åº“å¤§å°1~60B token</p>
</li>
<li><p>éš¾ä»¥ä¸ºè¯å…¸ä¸­æ–°åŠ å…¥çš„è¯åˆ†é…è¯å‘é‡    </p>
</li>
<li>ä¸å…¶ä»–æ·±åº¦å­¦ä¹ æ¨¡å‹æ¡†æ¶å·®å¼‚å¤§</li>
</ul>
<h3 id="4-2-NNLM"><a href="#4-2-NNLM" class="headerlink" title="4.2 NNLM"></a>4.2 NNLM</h3><h3 id="4-3-Word2Vec-CBOW"><a href="#4-3-Word2Vec-CBOW" class="headerlink" title="4.3 Word2Vec: CBOW"></a>4.3 Word2Vec: CBOW</h3><h3 id="4-4-Word2Vec-Skip-Gram"><a href="#4-4-Word2Vec-Skip-Gram" class="headerlink" title="4.4 Word2Vec: Skip-Gram"></a>4.4 Word2Vec: Skip-Gram</h3><h3 id="4-5-Word2Vec-ç¼ºç‚¹"><a href="#4-5-Word2Vec-ç¼ºç‚¹" class="headerlink" title="4.5 Word2Vec ç¼ºç‚¹"></a>4.5 Word2Vec ç¼ºç‚¹</h3><h2 id="5-æ€»ç»“"><a href="#5-æ€»ç»“" class="headerlink" title="5. æ€»ç»“"></a>5. æ€»ç»“</h2><h3 id="5-1-ç¦»æ•£è¡¨ç¤º"><a href="#5-1-ç¦»æ•£è¡¨ç¤º" class="headerlink" title="5.1 ç¦»æ•£è¡¨ç¤º"></a>5.1 ç¦»æ•£è¡¨ç¤º</h3><ul>
<li>One-hot representation, Bag Of Words Unigramè¯­è¨€æ¨¡å‹</li>
<li>N-gramè¯å‘é‡è¡¨ç¤ºå’Œè¯­è¨€æ¨¡å‹</li>
<li>Co-currenceçŸ©é˜µçš„è¡Œ(åˆ—)å‘é‡ä½œä¸ºè¯å‘é‡</li>
</ul>
<h3 id="5-2-åˆ†å¸ƒå¼è¿ç»­è¡¨ç¤º"><a href="#5-2-åˆ†å¸ƒå¼è¿ç»­è¡¨ç¤º" class="headerlink" title="5.2 åˆ†å¸ƒå¼è¿ç»­è¡¨ç¤º"></a>5.2 åˆ†å¸ƒå¼è¿ç»­è¡¨ç¤º</h3><ul>
<li>Co-currenceçŸ©é˜µçš„SVDé™ç»´çš„ä½ç»´è¯å‘é‡è¡¨ç¤º</li>
<li>Word2Vec: Continuous Bag of Words Model</li>
<li>Word2Vec: Skip-Gram Model</li>
</ul>
<blockquote>
<p>gensim ç”¨ python è®­ç»ƒ word2vec æœ€å¥½ç”¨çš„åº“<br>å®ƒçš„åŠŸèƒ½ä¸è‡³äº word2vec</p>
</blockquote>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[Cooking]]></title>
      <url>http://iequa.com/2017/07/09/life-cooking/</url>
      <content type="html"><![CDATA[<h2 id="1-ç«è…¿ç‚’è›‹"><a href="#1-ç«è…¿ç‚’è›‹" class="headerlink" title="1. ç«è…¿ç‚’è›‹"></a>1. ç«è…¿ç‚’è›‹</h2><ol>
<li>2ä¸ªé¸¡è›‹ï¼Œæ‰“å…¥å°ç¢—ä¸­ï¼Œæ…æ‹Œå‡åŒ€</li>
<li>åˆ‡ä¸€æ ¹ç«è…¿ï¼Œåˆ‡æˆç‰‡çŠ¶</li>
<li>æ‰“å¼€ç‡ƒæ°”é˜€é—¨ä¸èµ·ç«ï¼Œå¼€å°ç«ä¾¿å¯</li>
<li>æ”¾å…¥ä¸€äº›è±†æ²¹ï¼Œå¾…æ²¹çƒ­ä¸€ç‚¹</li>
<li>é¸¡è›‹æ…¢æ…¢å€’å…¥æ²¹é”…ï¼Œé¸¡è›‹æˆé¥¼ç‹€ï¼ŒæœŸé—´å¯ä»¥é¢ å‹º</li>
<li>å°†ç«è…¿ç‰‡ï¼Œæ”¾å…¥å…¶ä¸­ï¼Œè¿›è¡Œä¸€èµ·ç‚’ï¼Œå¹¶å¯æ”¾å…¥å°‘é‡ç›</li>
<li>ç‚’å¾—å·®ä¸å¤šåï¼Œå…³é—­ç‡ƒæ°”é˜€é—¨ï¼Œå¹¶å…³é—­èµ·ç«å¼€å…³</li>
</ol>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[EF Conversation]]></title>
      <url>http://iequa.com/2017/06/30/ef-conversaion/</url>
      <content type="html"><![CDATA[<style>
img {
        display: block !important;
        width: 550px;
        margin-left: 120px !important;
}
audio {
        display: block !important;
        width: 550px;
        margin-left: 120px !important;
}

</style>


<h2 id="2017-06-30"><a href="#2017-06-30" class="headerlink" title="2017-06-30"></a>2017-06-30</h2><p>According to statistics, online recruitment is becoming more and more common. Whatâ€™s the best way to advertise a job in your country?</p>
<h2 id="2017-06-29"><a href="#2017-06-29" class="headerlink" title="2017-06-29"></a>2017-06-29</h2><p>Call it â€˜gossipâ€™, â€˜small talkâ€™ or â€˜networkingâ€™, almost everyone participates in idle chat with their co-workers. Practicing sharing gossip with your classmates today.</p>
<p><code>What do you like to chat about with your friends?</code></p>
<p><code>Do you gossip with friends about these things?</code></p>
<p>politicianï¼Œsalaryï¼Œcelebrity</p>
<p>What does the media say about celebrities in your country?</p>
<p>People gossip about things that should be private</p>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[NLP åŸç†ä¸åŸºç¡€]]></title>
      <url>http://iequa.com/2017/06/29/nlp-nltk/</url>
      <content type="html"><![CDATA[<blockquote>
<p>NLTK æ˜¯ä¸€ä¸ªæœ‰è‚‰æœ‰è¡€çš„</p>
<p>æ–¯å¦ä½› CoreNLP (è‹±æ–‡ã€ä¸­æ–‡ã€è¥¿ç­ç‰™è¯­)</p>
</blockquote>
<a id="more"></a>
<h2 id="1-NLTK"><a href="#1-NLTK" class="headerlink" title="1. NLTK"></a>1. NLTK</h2><p><a href="http://www.nltk.org/" target="_blank" rel="external">nltk.org</a></p>
<ol>
<li>Python è‘—åçš„è‡ªç„¶è¯­è¨€å¤„ç†åº“</li>
<li>è‡ªå¸¦è¯­æ–™åº“ã€è¯æ€§åˆ†ç±»åº“</li>
<li>è‡ªå¸¦åˆ†ç±»ã€åˆ†è¯ ç­‰åŠŸèƒ½</li>
<li>å¼ºå¤§çš„ç¤¾åŒºæ”¯æŒ</li>
</ol>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">sudo pip install -U nltk</span><br><span class="line">sudo pip install -U numpy</span><br></pre></td></tr></table></figure>
<figure class="highlight py"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> nltk</span><br><span class="line">nltk.download()</span><br></pre></td></tr></table></figure>
<table>
<thead>
<tr>
<th>NLTK Modules</th>
<th>Functionality</th>
</tr>
</thead>
<tbody>
<tr>
<td>nltk.corpus</td>
<td>Corpus</td>
</tr>
<tr>
<td>nltk.tokenize, nltk.stem</td>
<td>Tokenizers, stemmers</td>
</tr>
</tbody>
</table>
<h2 id="2-NLTK-è‡ªå¸¦è¯­æ–™åº“"><a href="#2-NLTK-è‡ªå¸¦è¯­æ–™åº“" class="headerlink" title="2. NLTK è‡ªå¸¦è¯­æ–™åº“"></a>2. NLTK è‡ªå¸¦è¯­æ–™åº“</h2><figure class="highlight py"><table><tr><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="keyword">from</span> nltk.corpus <span class="keyword">import</span> brown</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>brown.categories()</span><br><span class="line">[<span class="string">u'adventure'</span>, <span class="string">u'belles_lettres'</span>, <span class="string">u'editorial'</span>, <span class="string">u'fiction'</span>, <span class="string">u'government'</span>, <span class="string">u'hobbies'</span>, <span class="string">u'humor'</span>, <span class="string">u'learned'</span>, <span class="string">u'lore'</span>, <span class="string">u'mystery'</span>, <span class="string">u'news'</span>, <span class="string">u'religion'</span>, <span class="string">u'reviews'</span>, <span class="string">u'romance'</span>, <span class="string">u'science_fiction'</span>]</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>len(brown.sents())</span><br><span class="line"><span class="number">57340</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>len(brown.words())</span><br><span class="line"><span class="number">1161192</span></span><br><span class="line">&gt;&gt;&gt;</span><br></pre></td></tr></table></figure>
<h2 id="3-æ–‡æœ¬å¤„ç†æµç¨‹"><a href="#3-æ–‡æœ¬å¤„ç†æµç¨‹" class="headerlink" title="3. æ–‡æœ¬å¤„ç†æµç¨‹"></a>3. æ–‡æœ¬å¤„ç†æµç¨‹</h2><p><img src="/images/ml/nlp-text-deal-process.png" alt=""></p>
<h2 id="4-Tokenize"><a href="#4-Tokenize" class="headerlink" title="4. Tokenize"></a>4. Tokenize</h2><figure class="highlight py"><table><tr><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="keyword">import</span> nltk<span class="meta">&gt;&gt;&gt; </span>sentence = â€œhello, world<span class="string">"&gt;&gt;&gt; tokens = nltk.word_tokenize(sentence)&gt;&gt;&gt; tokens['hello', â€˜,', 'world']</span></span><br></pre></td></tr></table></figure>
<h3 id="4-1-ä¸­è‹±æ–‡åˆ†è¯"><a href="#4-1-ä¸­è‹±æ–‡åˆ†è¯" class="headerlink" title="4.1 ä¸­è‹±æ–‡åˆ†è¯"></a>4.1 ä¸­è‹±æ–‡åˆ†è¯</h3><p>ä»Šå¤© / å¤©â½“ / ä¸é”™ / !<br>What a nice weather today !</p>
<p>[â€˜whatâ€™, â€˜aâ€™, â€˜niceâ€™, â€˜weatherâ€™, â€˜todayâ€™]<br>[â€˜ä»Šå¤©â€™,â€™å¤©æ°”â€™,â€™çœŸâ€™,â€™ä¸é”™â€™]</p>
<p>NLTK</p>
<p>word_tokenize åˆ†è¯å™¨</p>
<h3 id="4-2-ä¸­æ–‡åˆ†è¯"><a href="#4-2-ä¸­æ–‡åˆ†è¯" class="headerlink" title="4.2 ä¸­æ–‡åˆ†è¯"></a>4.2 ä¸­æ–‡åˆ†è¯</h3><blockquote>
<p>jieba (ç¬¬ä¸‰æ–¹å¼€æºåº“)</p>
</blockquote>
<figure class="highlight py"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> jiebaseg_list = jieba.cut(<span class="string">"æˆ‘æ¥åˆ°ï¥£äº¬æ¸…åâ¼¤å­¦"</span>, cut_all=<span class="keyword">True</span>)<span class="keyword">print</span> <span class="string">"Full Mode:"</span>, <span class="string">"/ "</span>.join(seg_list) <span class="comment"># å…¨æ¨¡å¼</span>seg_list = jieba.cut(<span class="string">"æˆ‘æ¥åˆ°åŒ—äº¬æ¸…åâ¼¤å­¦"</span>, cut_all=<span class="keyword">False</span>)<span class="keyword">print</span> <span class="string">"Default Mode:"</span>, <span class="string">"/ "</span>.join(seg_list) <span class="comment"># ç²¾ç¡®æ¨¡å¼</span>seg_list = jieba.cut(<span class="string">"ä»–æ¥åˆ°äº†ç½‘ï§ æ­ç ”â¼¤å¦"</span>) <span class="comment"># é»˜è®¤æ˜¯ç²¾ç¡®æ¨¡å¼</span><span class="keyword">print</span> <span class="string">", "</span>.join(seg_list)seg_list = jieba.cut_for_search(<span class="string">"â¼©æ˜ç¡•å£«æ¯•ä¸šäºä¸­å›½ç§‘å­¦é™¢è®¡ç®—æ‰€,ååœ¨æ—¥æœ¬äº¬éƒ½â¼¤å­¦æ·±é€ "</span>) <span class="comment"># æœç´¢å¼•æ“æ¨¡å¼</span><span class="keyword">print</span> <span class="string">", "</span>.join(seg_list)</span><br></pre></td></tr></table></figure>
<p>ã€å…¨æ¨¡å¼ã€‘: æˆ‘/ æ¥åˆ°/ åŒ—ï¥£äº¬/ æ¸…å/ æ¸…åâ¼¤å¤§å­¦/ åâ¼¤å¤§/ â¼¤å¤§å­¦<br>ã€ç²¾ç¡®æ¨¡å¼ã€‘: æˆ‘/ æ¥åˆ°/ åŒ—ï¥£äº¬/ æ¸…åâ¼¤å¤§å­¦<br>ã€æ–°è¯è¯†åˆ«ã€‘:ä»–, æ¥åˆ°, äº†ï¦º, â½¹ç½‘æ˜“ï§ , æ­ç ”, â¼¤å¤§å¦ (æ­¤å¤„,â€œæ­ç ”â€å¹¶æ²¡æœ‰åœ¨è¯å…¸ä¸­,ä½†æ˜¯ä¹Ÿè¢«Viterbiç®—æ³•è¯†åˆ«å‡ºæ¥äº†ï¦º)<br>ã€æœç´¢å¼•æ“æ¨¡å¼ã€‘: â¼©å°æ˜, ç¡•â¼ å£«, æ¯•ä¸š, äº, ä¸­å›½, ç§‘å­¦, å­¦é™¢, ç§‘å­¦é™¢, ä¸­å›½ç§‘å­¦é™¢, è®¡ç®—, è®¡ç®—æ‰€, å, åœ¨, â½‡æ—¥æœ¬, äº¬éƒ½, â¼¤å¤§å­¦, â½‡æ—¥æœ¬äº¬éƒ½â¼¤å¤§å­¦, æ·±é€ </p>
<blockquote>
<p>æœ‰æ—¶å€™tokenizeæ²¡é‚£ä¹ˆç®€å• :</p>
<p>æ¯”å¦‚ç¤¾äº¤ç½‘ç»œä¸Š,è¿™äº›ä¹±ä¸ƒå…«ç³Ÿçš„ä¸åˆè¯­æ³•ä¸åˆæ­£å¸¸é€»è¾‘çš„è¯­è¨€å¾ˆå¤š:<br>æ‹¯æ•‘ @æŸäºº, è¡¨æƒ…ç¬¦å·, URL, #è¯é¢˜ç¬¦å·</p>
</blockquote>
<p><strong>ç¤¾äº¤ç½‘ç»œè¯­è¨€çš„tokenize :</strong></p>
<figure class="highlight py"><table><tr><td class="code"><pre><span class="line"><span class="keyword">from</span> nltk.tokenize <span class="keyword">import</span> word_tokenizetweet = <span class="string">'RT @angelababy: love you baby! :D http://ah.love #168cm'</span>print(word_tokenize(tweet))</span><br></pre></td></tr></table></figure>
<p><a href="http://www.nltk.org/" target="_blank" rel="external">æ­£åˆ™è¡¨è¾¾å¼å¯¹ç…§è¡¨</a></p>
<h2 id="5-è¯å½¢å½’ä¸€åŒ–"><a href="#5-è¯å½¢å½’ä¸€åŒ–" class="headerlink" title="5. è¯å½¢å½’ä¸€åŒ–"></a>5. è¯å½¢å½’ä¸€åŒ–</h2><p>Inflectionå˜åŒ–: walk =&gt; walking =&gt; walked ä¸å½±å“è¯æ€§</p>
<p>derivation å¼•ç”³: nation (noun) =&gt; national (adjective) =&gt; nationalize (verb) å½±å“è¯æ€§</p>
<h3 id="5-1-Stemming"><a href="#5-1-Stemming" class="headerlink" title="5.1 Stemming"></a>5.1 Stemming</h3><p>Stemming è¯å¹²æå–:ä¸€èˆ¬æ¥è¯´,å°±æ˜¯æŠŠä¸å½±å“è¯æ€§çš„inflectionçš„å°å°¾å·´ç æ‰</p>
<p>walking ç ing = walk<br>walked ç ed = walk</p>
<p><strong>PorterStemmer</strong></p>
<figure class="highlight py"><table><tr><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="keyword">from</span> nltk.stem.porter <span class="keyword">import</span> PorterStemmer<span class="meta">&gt;&gt;&gt; </span>porter_stemmer = PorterStemmer()<span class="meta">&gt;&gt;&gt; </span>porter_stemmer.stem(â€˜maximumâ€™)uâ€™maximumâ€™<span class="meta">&gt;&gt;&gt; </span>porter_stemmer.stem(â€˜presumablyâ€™)uâ€™presumâ€™<span class="meta">&gt;&gt;&gt; </span>porter_stemmer.stem(â€˜multiplyâ€™)uâ€™multipliâ€™<span class="meta">&gt;&gt;&gt; </span>porter_stemmer.stem(â€˜provisionâ€™)uâ€™provisâ€™</span><br></pre></td></tr></table></figure>
<p><strong>SnowballStemmer</strong></p>
<figure class="highlight py"><table><tr><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="keyword">from</span> nltk.stem <span class="keyword">import</span> SnowballStemmer</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>snowball_stemmer = SnowballStemmer(<span class="string">"english"</span>)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>snowball_stemmer.stem(<span class="string">'maximum'</span>)</span><br><span class="line"><span class="string">u'maximum'</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>snowball_stemmer.stem(<span class="string">'presumably'</span>)</span><br><span class="line">uâ€™presumâ€™</span><br></pre></td></tr></table></figure>
<p><strong>LancasterStemmer</strong></p>
<figure class="highlight py"><table><tr><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="keyword">from</span> nltk.stem.lancaster <span class="keyword">import</span> LancasterStemmer</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>lancaster_stemmer = LancasterStemmer()</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>lancaster_stemmer.stem(â€˜maximumâ€™)</span><br><span class="line">â€˜maximâ€™</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>lancaster_stemmer.stem(â€˜presumablyâ€™)</span><br><span class="line">â€˜presumâ€™</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>lancaster_stemmer.stem(â€˜presumablyâ€™)</span><br><span class="line">â€˜presumâ€™</span><br></pre></td></tr></table></figure>
<p><strong>PorterStemmer</strong></p>
<figure class="highlight py"><table><tr><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="keyword">from</span> nltk.stem.porter <span class="keyword">import</span> PorterStemmer</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>p = PorterStemmer()</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>p.stem(<span class="string">'went'</span>)</span><br><span class="line"><span class="string">'went'</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>p.stem(<span class="string">'wenting'</span>)</span><br><span class="line"><span class="string">'went'</span></span><br></pre></td></tr></table></figure>
<h3 id="5-2-Lemmatization"><a href="#5-2-Lemmatization" class="headerlink" title="5.2 Lemmatization"></a>5.2 Lemmatization</h3><p>è¯å½¢å½’ä¸€:æŠŠå„ç§ç±»å‹çš„è¯çš„å˜å½¢,éƒ½å½’ä¸ºä¸€ä¸ªå½¢å¼ </p>
<p>went å½’ä¸€ = go<br>are å½’ä¸€ = be</p>
<figure class="highlight py"><table><tr><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="keyword">from</span> nltk.stem <span class="keyword">import</span> WordNetLemmatizer<span class="meta">&gt;&gt;&gt; </span>wordnet_lemmatizer = WordNetLemmatizer()<span class="meta">&gt;&gt;&gt; </span>wordnet_lemmatizer.lemmatize(â€˜dogsâ€™)uâ€™dogâ€™<span class="meta">&gt;&gt;&gt; </span>wordnet_lemmatizer.lemmatize(â€˜churchesâ€™)uâ€™churchâ€™<span class="meta">&gt;&gt;&gt; </span>wordnet_lemmatizer.lemmatize(â€˜aardwolvesâ€™)uâ€™aardwolfâ€™<span class="meta">&gt;&gt;&gt; </span>wordnet_lemmatizer.lemmatize(â€˜abaciâ€™)uâ€™abacusâ€™<span class="meta">&gt;&gt;&gt; </span>wordnet_lemmatizer.lemmatize(â€˜hardrockâ€™)â€˜hardrockâ€™</span><br></pre></td></tr></table></figure>
<p>NLTKæ›´å¥½åœ°å®ç°Lemma</p>
<figure class="highlight py"><table><tr><td class="code"><pre><span class="line"><span class="comment"># â½Šæœ¨æœ‰POS Tag,é»˜è®¤æ˜¯NN åè¯</span><span class="meta">&gt;&gt;&gt; </span>wordnet_lemmatizer.lemmatize(â€˜areâ€™) â€˜areâ€™<span class="meta">&gt;&gt;&gt; </span>wordnet_lemmatizer.lemmatize(â€˜<span class="keyword">is</span>â€™) â€˜<span class="keyword">is</span>â€™<span class="comment"># åŠ ä¸ŠPOS Tag</span><span class="meta">&gt;&gt;&gt; </span>wordnet_lemmatizer.lemmatize(â€˜<span class="keyword">is</span>â€™, pos=â€™vâ€™) uâ€™beâ€™<span class="meta">&gt;&gt;&gt; </span>wordnet_lemmatizer.lemmatize(â€˜areâ€™, pos=â€™vâ€™) uâ€™beâ€™</span><br></pre></td></tr></table></figure>
<h2 id="6-Part-Of-Speech"><a href="#6-Part-Of-Speech" class="headerlink" title="6. Part Of Speech"></a>6. Part Of Speech</h2><table>
<thead>
<tr>
<th>TAG</th>
<th>Meaning</th>
</tr>
</thead>
<tbody>
<tr>
<td>CC</td>
<td>coordinating conjunction</td>
</tr>
<tr>
<td>CD</td>
<td>cardinal digit</td>
</tr>
<tr>
<td>DT</td>
<td>determiner</td>
</tr>
<tr>
<td>EX</td>
<td>existential there (like: â€œthere isâ€ â€¦ think of it like â€œthere existsâ€)</td>
</tr>
<tr>
<td>FW</td>
<td>foreign word</td>
</tr>
<tr>
<td>IN</td>
<td>preposition/subordinating conjunction</td>
</tr>
<tr>
<td>JJ</td>
<td>adjective    â€˜bigâ€™</td>
</tr>
<tr>
<td>â€¦</td>
<td>â€¦</td>
</tr>
</tbody>
</table>
<h3 id="6-1-NLTK-æ ‡æ³¨-POS-Tag"><a href="#6-1-NLTK-æ ‡æ³¨-POS-Tag" class="headerlink" title="6.1 NLTK æ ‡æ³¨ POS Tag"></a>6.1 NLTK æ ‡æ³¨ POS Tag</h3><figure class="highlight py"><table><tr><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="keyword">import</span> nltk<span class="meta">&gt;&gt;&gt; </span>text = nltk.word_tokenize(<span class="string">'what does the fox say'</span>)<span class="meta">&gt;&gt;&gt; </span>text[<span class="string">'what'</span>, <span class="string">'does'</span>, <span class="string">'the'</span>, <span class="string">'fox'</span>, <span class="string">'say'</span>]<span class="meta">&gt;&gt;&gt; </span>nltk.pos_tag(text)[(<span class="string">'what'</span>, <span class="string">'WDT'</span>), (<span class="string">'does'</span>, <span class="string">'VBZ'</span>), (<span class="string">'the'</span>, <span class="string">'DT'</span>), (<span class="string">'fox'</span>, <span class="string">'NNS'</span>), (<span class="string">'say'</span>, <span class="string">'VBP'</span>)]</span><br></pre></td></tr></table></figure>
<h2 id="7-Stopwords"><a href="#7-Stopwords" class="headerlink" title="7. Stopwords"></a>7. Stopwords</h2><p>ä¸€åƒä¸ªHEæœ‰ä¸€åƒç§æŒ‡ä»£</p>
<p>ä¸€åƒä¸ªTHEæœ‰ä¸€åƒç§æŒ‡äº‹ å¯¹äºæ³¨é‡ç†è§£æ–‡æœ¬ã€æ„æ€ã€çš„åº”ç”¨åœºæ™¯æ¥è¯´</p>
<p>æ­§ä¹‰å¤ªå¤š</p>
<p><a href="http://www.ranks.nl/stopwords" target="_blank" rel="external">å…¨ä½“stopwordsåˆ—è¡¨</a> </p>
<h3 id="7-1-NLTKå»é™¤stopwords"><a href="#7-1-NLTKå»é™¤stopwords" class="headerlink" title="7.1 NLTKå»é™¤stopwords"></a>7.1 NLTKå»é™¤stopwords</h3><blockquote>
<p>é¦–å…ˆè®°å¾—åœ¨consoleé‡Œé¢ä¸‹è½½ä¸€ä¸‹è¯åº“<br>æˆ–è€… nltk.download(â€˜stopwordsâ€™)</p>
</blockquote>
<figure class="highlight py"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> nltk</span><br><span class="line"><span class="keyword">from</span> nltk.corpus <span class="keyword">import</span> stopwords </span><br><span class="line"></span><br><span class="line"><span class="comment"># å…ˆtokenâ¼€ä¸€æŠŠ,å¾—åˆ°â¼€ä¸€ä¸ªword_list</span></span><br><span class="line"></span><br><span class="line">word_list = nltk.word_tokenize(<span class="string">'what does the fox say'</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># ç„¶åfilterâ¼€ä¸€æŠŠ</span></span><br><span class="line"></span><br><span class="line">filtered_words = [word <span class="keyword">for</span> word <span class="keyword">in</span> word_list <span class="keyword">if</span> word <span class="keyword">not</span> <span class="keyword">in</span> stopwords.words(<span class="string">'english'</span>)]</span><br><span class="line"></span><br><span class="line">filtered_words</span><br></pre></td></tr></table></figure>
<h2 id="8-æ–‡æœ¬é¢„å¤„ç†æµæ°´çº¿"><a href="#8-æ–‡æœ¬é¢„å¤„ç†æµæ°´çº¿" class="headerlink" title="8. æ–‡æœ¬é¢„å¤„ç†æµæ°´çº¿"></a>8. æ–‡æœ¬é¢„å¤„ç†æµæ°´çº¿</h2><blockquote>
<p>ä¸€æ¡typicalçš„æ–‡æœ¬é¢„å¤„ç†æµæ°´çº¿</p>
</blockquote>
<p><img src="/images/ml/nlp-nltk-raw.png" alt=""></p>
<p><strong>æ–‡æœ¬é¢„å¤„ç†è®©æˆ‘ä»¬å¾—åˆ°äº†ä»€ä¹ˆ?</strong></p>
<p><img src="/images/ml/nlp-pre-deal.png" alt=""></p>
<h2 id="9-NLPä¸Šçš„ç»å…¸åº”ç”¨"><a href="#9-NLPä¸Šçš„ç»å…¸åº”ç”¨" class="headerlink" title="9. NLPä¸Šçš„ç»å…¸åº”ç”¨"></a>9. NLPä¸Šçš„ç»å…¸åº”ç”¨</h2><ol>
<li>æƒ…æ„Ÿåˆ†æ</li>
<li>æ–‡æœ¬ç›¸ä¼¼åº¦ </li>
<li>æ–‡æœ¬åˆ†ç±»</li>
</ol>
<h3 id="9-1-æƒ…æ„Ÿåˆ†æ"><a href="#9-1-æƒ…æ„Ÿåˆ†æ" class="headerlink" title="9.1 æƒ…æ„Ÿåˆ†æ"></a>9.1 æƒ…æ„Ÿåˆ†æ</h3><p><img src="/images/ml/nlp-nltk-2.png" alt=""></p>
<p>å“ªäº›æ˜¯å¤¸ä½ ï¼Ÿå“ªäº›æ˜¯é»‘ä½ ï¼Ÿ</p>
<p><strong>æœ€ç®€å•çš„ sentiment dictionary</strong></p>
<ul>
<li>like 1 </li>
<li>good 2 </li>
<li>bad -2 </li>
<li>terrible -3</li>
</ul>
<blockquote>
<p>æœ€ç®€å•ä¹Ÿæ¯”è¾ƒæœ‰æ•ˆçš„æ–¹æ³•ï¼Œä¸éœ€è¦å­¦ä¹ </p>
<p>æ¯”å¦‚:AFINN-111<br><a href="http://www2.imm.dtu.dk/pubdb/views/publication_details.php?id=6010" target="_blank" rel="external">http://www2.imm.dtu.dk/pubdb/views/publication_details.php?id=6010</a></p>
</blockquote>
<p><strong>NLTK å®Œæˆç®€å•çš„æƒ…æ„Ÿåˆ†æ</strong></p>
<figure class="highlight py"><table><tr><td class="code"><pre><span class="line">sentiment_dictionary = &#123;&#125;<span class="keyword">for</span> line <span class="keyword">in</span> open(<span class="string">'data/AFINN-111.txt'</span>)    word, score = line.split(<span class="string">'\t'</span>)    sentiment_dictionary[word] = int(score)<span class="comment"># æŠŠè¿™ä¸ªæ‰“åˆ†è¡¨è®°å½•åœ¨â¼€ä¸€ä¸ªDictä¸Šä»¥å </span></span><br><span class="line"><span class="comment"># è·‘â¼€ä¸€éæ•´ä¸ªå¥ï¤†â¼¦å­,æŠŠå¯¹åº”çš„å€¼ç›¸åŠ </span>total_score = sum(sentiment_dictionary.get(word, <span class="number">0</span>) <span class="keyword">for</span> word <span class="keyword">in</span> </span><br><span class="line">words) </span><br><span class="line"></span><br><span class="line"><span class="comment"># æœ‰å€¼å°±æ˜¯Dictä¸­çš„å€¼,æ²¡æœ‰å°±æ˜¯0</span><span class="comment"># äºæ˜¯ä½ å°±å¾—åˆ°äº†ï¦ºâ¼€ä¸€ä¸ª sentiment score</span></span><br></pre></td></tr></table></figure>
<blockquote>
<p>æ˜¾ç„¶è¿™ä¸ªæ–¹æ³•å¤ªNaive<br>æ–°è¯æ€ä¹ˆåŠ?<br>ç‰¹æ®Šè¯æ±‡æ€ä¹ˆåŠ?<br>æ›´æ·±å±‚æ¬¡çš„ç©æ„å„¿æ€ä¹ˆåŠ?</p>
</blockquote>
<p><strong>é…ä¸ŠMLçš„æƒ…æ„Ÿåˆ†æ</strong></p>
<figure class="highlight py"><table><tr><td class="code"><pre><span class="line"><span class="keyword">from</span> nltk.classify <span class="keyword">import</span> NaiveBayesClassifier<span class="comment"># éšâ¼¿æ‰‹é€ ç‚¹è®­ç»ƒé›†</span>s1 = <span class="string">'this is a good book'</span>s2 = <span class="string">'this is a awesome book'</span>s3 = <span class="string">'this is a bad book'</span>s4 = <span class="string">'this is a terrible book'</span><span class="function"><span class="keyword">def</span> <span class="title">preprocess</span><span class="params">(s)</span>:</span> <span class="comment"># Func: å¥â¼¦å¤„ç†</span><span class="comment"># è¿™â¾¥ç®€å•çš„â½¤äº†ï¦ºsplit(), æŠŠå¥å­ä¸­æ¯ä¸ªå•è¯åˆ†å¼€ # æ˜¾ç„¶ è¿˜æœ‰æ›´å¤šçš„processing methodå¯ä»¥â½¤ </span></span><br><span class="line">    <span class="keyword">return</span> &#123;word: <span class="keyword">True</span> <span class="keyword">for</span> word <span class="keyword">in</span> s.lower().split()&#125;<span class="comment"># returné•¿è¿™æ ·:</span><span class="comment"># &#123;'this': True, 'is':True, 'a':True, 'good':True, 'book':True&#125; # å…¶ä¸­, å‰â¼€ä¸€ä¸ªå«fname, å¯¹åº”æ¯ä¸ªå‡ºç°çš„æ–‡æœ¬å•è¯;</span><span class="comment"># åâ¼€ä¸€ä¸ªå«fval, æŒ‡çš„æ˜¯æ¯ä¸ªâ½‚æ–‡æœ¬å•è¯å¯¹åº”çš„å€¼ã€‚</span><span class="comment"># è¿™â¾¥é‡Œï§©æˆ‘ä»¬â½¤ç”¨æœ€ç®€å•çš„True,æ¥è¡¨ç¤º,è¿™ä¸ªè¯ã€å‡ºç°åœ¨å½“å‰çš„å¥ï¤†â¼¦å­ä¸­ã€çš„æ„ä¹‰ã€‚</span><span class="comment"># å½“ç„¶å•¦, æˆ‘ä»¬ä»¥åå¯ä»¥å‡çº§è¿™ä¸ªâ½…æ–¹ç¨‹, è®©å®ƒå¸¦æœ‰æ›´ï¤åŠ â½œç‰›é€¼çš„fval, æ¯”å¦‚ word2vec</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># æŠŠè®­ç»ƒé›†ç»™åšæˆæ ‡å‡†å½¢å¼</span>training_data = [[preprocess(s1), <span class="string">'pos'</span>],                 [preprocess(s2), <span class="string">'pos'</span>],                 [preprocess(s3), <span class="string">'neg'</span>],                 [preprocess(s4), <span class="string">'neg'</span>]]<span class="comment"># å–‚ç»™modelåƒ</span>model = NaiveBayesClassifier.train(training_data)<span class="comment"># æ‰“å‡ºç»“æœ</span>print(model.classify(preprocess(<span class="string">'this is a good book'</span>)))</span><br></pre></td></tr></table></figure>
<h3 id="9-2-æ–‡æœ¬ç›¸ä¼¼åº¦"><a href="#9-2-æ–‡æœ¬ç›¸ä¼¼åº¦" class="headerlink" title="9.2 æ–‡æœ¬ç›¸ä¼¼åº¦"></a>9.2 æ–‡æœ¬ç›¸ä¼¼åº¦</h3><p><img src="/images/ml/nlp-nltk-3.png" alt=""></p>
<p><strong>9.2.1 ç”¨å…ƒç´ é¢‘ç‡è¡¨ç¤ºæ–‡æœ¬ç‰¹å¾</strong></p>
<p><img src="/images/ml/nlp-nltk-4.png" alt=""></p>
<p><strong>9.2.2 Frequency é¢‘ç‡ç»Ÿè®¡</strong></p>
<figure class="highlight py"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> nltk</span><br><span class="line"><span class="keyword">from</span> nltk <span class="keyword">import</span> FreqDist</span><br><span class="line"><span class="comment"># åšä¸ªè¯åº“å…ˆ</span></span><br><span class="line">corpus = <span class="string">'this is my sentence '</span> \</span><br><span class="line">           <span class="string">'this is my life '</span> \</span><br><span class="line">           <span class="string">'this is the day'</span></span><br><span class="line"><span class="comment"># éšä¾¿tokenizeä¸€ä¸‹, æ˜¾ç„¶, æ­£å¦‚ä¸Šæ–‡æåˆ°,</span></span><br><span class="line"><span class="comment"># è¿™ï§©å¯ä»¥æ ¹æ®éœ€è¦åšä»»ä½•çš„preprocessing:  stopwords, lemma, stemming, etc.</span></span><br><span class="line"><span class="comment"># å€Ÿâ½¤NLTKçš„FreqDistç»Ÿè®¡â¼€ä¸‹â½‚å­—å‡ºç°çš„é¢‘ç‡ fdist = FreqDist(tokens)</span></span><br><span class="line"><span class="comment"># å®ƒå°±ç±»ä¼¼äºâ¼€ä¸ªDic,  å¸¦ä¸ŠæŸä¸ªå•è¯, å¯ä»¥çœ‹åˆ°å®ƒåœ¨æ•´ä¸ªæ–‡ç« ä¸­å‡ºç°çš„æ¬¡æ•°</span></span><br><span class="line"></span><br><span class="line">tokens = nltk.word_tokenize(corpus) </span><br><span class="line">print(tokens)</span><br><span class="line"><span class="comment"># å¾—åˆ° token å¥½çš„ word list</span></span><br><span class="line"><span class="comment"># ['this', 'is', 'my', 'sentence',</span></span><br><span class="line"><span class="comment"># 'this', 'is', 'my', 'life', 'this', # 'is', 'the', 'day']</span></span><br><span class="line"><span class="comment"># å€Ÿâ½¤ NLTK çš„ FreqDist ç»Ÿè®¡â¼€ä¸‹æ–‡å­—å‡ºç°çš„é¢‘ç‡</span></span><br><span class="line">fdist = FreqDist(tokens)</span><br><span class="line"></span><br><span class="line"><span class="comment"># å®ƒå°±ç±»ä¼¼äºâ¼€ä¸€ä¸ªDict</span></span><br><span class="line"><span class="comment"># å¸¦ä¸ŠæŸä¸ªå•è¯, å¯ä»¥çœ‹åˆ°å®ƒåœ¨æ•´ä¸ªæ–‡ç« ä¸­å‡ºç°çš„æ¬¡æ•°</span></span><br><span class="line">print(fdist[<span class="string">'is'</span>]) <span class="comment">#3</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># å¥½, æ­¤åˆ», æˆ‘ä»¬å¯ä»¥æŠŠæœ€å¸¸â½¤ç”¨çš„50ä¸ªå•è¯æ‹¿å‡ºæ¥ </span></span><br><span class="line">standard_freq_vector = fdist.most_common(<span class="number">50</span>) </span><br><span class="line">size = len(standard_freq_vector) </span><br><span class="line"><span class="keyword">print</span> <span class="string">"size: %s"</span> % (size)</span><br><span class="line">print(standard_freq_vector)</span><br><span class="line"><span class="comment"># [('is', 3), ('this', 3), ('my', 2),</span></span><br><span class="line"><span class="comment"># ('the', 1), ('day', 1), ('sentence', 1),</span></span><br><span class="line"><span class="comment"># ('life', 1)</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Func: æŒ‰ç…§å‡ºç°é¢‘ç‡â¼¤å°, è®°å½•ä¸‹æ¯â¼€ä¸ªå•è¯çš„ä½ç½® </span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">position_lookup</span><span class="params">(v)</span>:</span></span><br><span class="line">    res = &#123;&#125;</span><br><span class="line">    counter = <span class="number">0</span></span><br><span class="line">    <span class="keyword">for</span> word <span class="keyword">in</span> v:</span><br><span class="line">        res[word[<span class="number">0</span>]] = counter</span><br><span class="line">        counter += <span class="number">1</span></span><br><span class="line">    <span class="keyword">return</span> res</span><br><span class="line"><span class="comment"># æŠŠæ ‡å‡†çš„å•è¯ä½ç½®è®°å½•ä¸‹æ¥</span></span><br><span class="line">standard_position_dict = position_lookup(standard_freq_vector) </span><br><span class="line">print(standard_position_dict)</span><br><span class="line"><span class="comment"># å¾—åˆ°â¼€ä¸€ä¸ªä½ç½®å¯¹ç…§è¡¨</span></span><br><span class="line"><span class="comment"># &#123;'is': 0, 'the': 3, 'day': 4, 'this': 1, 'sentence': 5, 'my': 2, 'life': 6&#125;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># è¿™æ—¶, å¦‚æœæˆ‘ä»¬æœ‰ä¸ªæ–°å¥ï¤†â¼¦å­:</span></span><br><span class="line">sentence = <span class="string">'this is cool'</span></span><br><span class="line"><span class="comment"># å…ˆæ–°å»ºâ¼€ä¸€ä¸ªè·Ÿæˆ‘ä»¬çš„æ ‡å‡†vectoråŒæ ·â¼¤å°çš„å‘é‡ </span></span><br><span class="line">freq_vector = [<span class="number">0</span>] * size</span><br><span class="line"><span class="comment"># ç®€å•çš„Preprocessing</span></span><br><span class="line">tokens = nltk.word_tokenize(sentence) <span class="comment"># å¯¹äºè¿™ä¸ªæ–°å¥â¼¦â¾¥çš„æ¯ä¸€ä¸ªå•è¯</span></span><br><span class="line"><span class="keyword">for</span> word <span class="keyword">in</span> tokens:</span><br><span class="line">    <span class="keyword">try</span>:</span><br><span class="line">    <span class="comment"># å¦‚æœåœ¨æˆ‘ä»¬çš„è¯åº“ï§©å‡ºç°è¿‡</span></span><br><span class="line">    <span class="comment"># é‚£ä¹ˆå°±åœ¨"æ ‡å‡†ä½ç½®"ä¸Š+1 </span></span><br><span class="line">        freq_vector[standard_position_dict[word]] += <span class="number">1</span></span><br><span class="line">    <span class="keyword">except</span> KeyError: <span class="comment"># å¦‚æœæ˜¯ä¸ªæ–°è¯</span></span><br><span class="line">        <span class="keyword">continue</span></span><br><span class="line">print(freq_vector)   <span class="comment"># [1, 1, 0, 0, 0, 0, 0]</span></span><br></pre></td></tr></table></figure>
<h3 id="9-3-æ–‡æœ¬åˆ†ç±»"><a href="#9-3-æ–‡æœ¬åˆ†ç±»" class="headerlink" title="9.3 æ–‡æœ¬åˆ†ç±»"></a>9.3 æ–‡æœ¬åˆ†ç±»</h3><h4 id="9-3-1-tf-idf"><a href="#9-3-1-tf-idf" class="headerlink" title="9.3.1 tf-idf"></a>9.3.1 tf-idf</h4><p><strong>TF: Term Frequency</strong>, è¡¡é‡ä¸€ä¸ªtermåœ¨æ–‡æ¡£ä¸­å‡ºç°å¾—æœ‰å¤šé¢‘ç¹ã€‚ T</p>
<p>F(t) = (tå‡ºç°åœ¨æ–‡æ¡£ä¸­çš„æ¬¡æ•°) / (æ–‡æ¡£ä¸­çš„termæ€»æ•°).</p>
<p><strong>IDF: Inverse Document Frequency</strong>, è¡¡é‡ä¸€ä¸ªtermæœ‰å¤šé‡è¦ã€‚ æœ‰äº›è¯å‡ºç°çš„å¾ˆå¤š,ä½†æ˜¯æ˜æ˜¾ä¸æ˜¯å¾ˆæœ‰åµç”¨ã€‚æ¯”å¦‚â€™isâ€™,â€™theâ€˜,â€™andâ€˜ä¹‹ç±» çš„ã€‚</p>
<p>ä¸ºäº†å¹³è¡¡,æˆ‘ä»¬æŠŠç½•è§çš„è¯çš„é‡è¦æ€§(weight)æé«˜, æŠŠå¸¸è§è¯çš„é‡è¦æ€§æä½ã€‚</p>
<p>IDF(t) = log_e(æ–‡æ¡£æ€»æ•° / å«æœ‰tçš„æ–‡æ¡£æ€»æ•°). </p>
<p><strong>TF-IDF = TF * IDF</strong></p>
<p>ä¸¾ä¸ªæ —å­ğŸŒ° :</p>
<p>ä¸€ä¸ªæ–‡æ¡£æœ‰100ä¸ªå•è¯,å…¶ä¸­å•è¯babyå‡ºç°äº†3æ¬¡ã€‚ é‚£ä¹ˆ,TF(baby) = (3/100) = 0.03.</p>
<p>å¥½,ç°åœ¨æˆ‘ä»¬å¦‚æœæœ‰10Mçš„æ–‡æ¡£, babyå‡ºç°åœ¨å…¶ä¸­çš„1000ä¸ªæ–‡æ¡£ä¸­ã€‚ é‚£ä¹ˆ,IDF(baby) = log(10,000,000 / 1,000) = 4</p>
<p>æ‰€ä»¥, TF-IDF(baby) = TF(baby) * IDF(baby) = 0.03 * 4 = 0.12</p>
<h4 id="9-3-2-nltk-implement-tf-idf"><a href="#9-3-2-nltk-implement-tf-idf" class="headerlink" title="9.3.2 nltk implement tf-idf"></a>9.3.2 nltk implement tf-idf</h4><figure class="highlight py"><table><tr><td class="code"><pre><span class="line"><span class="keyword">from</span> nltk.text <span class="keyword">import</span> TextCollection</span><br><span class="line"><span class="comment"># â¾¸å…ˆ, æŠŠæ‰€æœ‰çš„â½‚æ¡£æ”¾åˆ°TextCollectionç±»ä¸­ã€‚</span></span><br><span class="line"><span class="comment"># è¿™ä¸ªç±»ä¼šâ¾ƒåŠ¨å¸®ä½ æ–­ï¤†, åšç»Ÿè®¡, åšè®¡ç®—</span></span><br><span class="line">corpus = TextCollection([<span class="string">'this is sentence one'</span>,</span><br><span class="line">                        <span class="string">'this is sentence two'</span>,</span><br><span class="line">                        <span class="string">'sentence three six'</span>,</span><br><span class="line">                        <span class="string">'this is sentence three'</span>])</span><br><span class="line"><span class="comment"># ç›´æ¥å°±èƒ½ç®—å‡ºtfidf</span></span><br><span class="line"><span class="comment"># (term: â¼€ä¸€å¥ï¤†è¯ä¸­çš„æŸä¸ªterm, text: è¿™å¥ï¤†è¯)</span></span><br><span class="line">print(corpus.tf_idf(<span class="string">'this'</span>, <span class="string">'this is sentence four'</span>))</span><br><span class="line"><span class="comment"># 0.444342</span></span><br><span class="line"><span class="comment"># åŒç†, æ€ä¹ˆå¾—åˆ°â¼€ä¸€ä¸ªæ ‡å‡†â¼¤å°çš„vectoræ¥è¡¨ç¤ºæ‰€æœ‰çš„å¥å­?</span></span><br><span class="line"><span class="comment"># å¯¹äºæ¯ä¸ªæ–°å¥å­</span></span><br><span class="line"><span class="comment">#new_sentence = 'this is sentence five' # éå†â¼€ä¸€éæ‰€æœ‰çš„vocabularyä¸­çš„è¯:</span></span><br><span class="line"><span class="comment">#for word in standard_vocab:</span></span><br><span class="line"><span class="comment">#    print(corpus.tf_idf(word, new_sentence)) # æˆ‘ä»¬ä¼šå¾—åˆ°â¼€ä¸ªå·¨é•¿(=æ‰€æœ‰vocabâ»“åº¦)çš„å‘é‡</span></span><br></pre></td></tr></table></figure>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[Guitar Learning]]></title>
      <url>http://iequa.com/2017/06/25/life-music-guitar/</url>
      <content type="html"><![CDATA[<p>Tuning and changing strings of guitar<a id="more"></a></p>
<h2 id="Guitar-è°ƒéŸ³æ“ä½œ"><a href="#Guitar-è°ƒéŸ³æ“ä½œ" class="headerlink" title="Guitar è°ƒéŸ³æ“ä½œ"></a>Guitar è°ƒéŸ³æ“ä½œ</h2><p>å°†è°ƒéŸ³å™¨å¤¹ç´å¤´ç©ºç™½ä½ç½®ï¼ŒçŸ­æŒ‰å¼€å…³é”®å°†æ¨¡å¼è°ƒèŠ‚åˆ°Gå­—æ¯å†è¿›è¡Œè°ƒè¯•~</p>
<p>ä»ç»†åˆ°ç²—1-6å¼¦çš„æ ‡å‡†éŸ³åˆ†åˆ«æ˜¯ï¼š1E 2B 3G 4D 5A 6Eï¼Œ</p>
<p>è¦å°†æ¯æ ¹å¼¦éƒ½å¯¹åº”åˆ°æ­£ç¡®çš„å­—æ¯åˆ°ä¸­é—´å˜ç»¿æ‰æ˜¯æ ‡å‡†éŸ³å“Ÿ~</p>
<!--more-->
<p><a href="http://v.youku.com/v_show/id_XMTQ3NDEzOTgzNg==.html?from=y1.7-2" target="_blank" rel="external">è°ƒéŸ³æ“ä½œ</a></p>
<p>è°ƒåˆ° C å­—æ¯çš„è°ƒéŸ³æ–¹æ³• :</p>
<p>ä»ç»†åˆ°ç²—1-6å¼¦çš„æ ‡å‡†éŸ³åˆ†åˆ«æ˜¯ï¼šE B G D A Eï¼Œ</p>
<p>è¦å°†æ¯æ ¹å¼¦éƒ½å¯¹åº”åˆ°æ­£ç¡®çš„å­—æ¯åˆ°ä¸­é—´å˜ç»¿æ‰æ˜¯æ ‡å‡†éŸ³å“Ÿ~</p>
<blockquote>
<p>æ³¨æ„å…ˆä»æœ€ç²—çš„6å¼¦å¼€å§‹ï¼Œæœ€åè°ƒ1å¼¦ï¼Œè°ƒéŸ³è¿‡ç¨‹éœ€è¦è€å¿ƒå¤šä¸€ç‚¹ï¼ŒåŠ›åº¦å°ä¸€ç‚¹.</p>
</blockquote>
<h2 id="æ¢å¼¦æ“ä½œæ–¹æ³•"><a href="#æ¢å¼¦æ“ä½œæ–¹æ³•" class="headerlink" title="æ¢å¼¦æ“ä½œæ–¹æ³•"></a>æ¢å¼¦æ“ä½œæ–¹æ³•</h2><p>æ³¨æ„è§†é¢‘é‡Œé¢æåˆ°çš„æ’¬å¼¦å™¨æ˜¯æ²¡æœ‰èµ é€çš„ï¼Œæ‚¨å¯ä»¥ä½¿ç”¨é’¥åŒ™æˆ–è€…å°å‹ºå­æ”¾åœ¨å›ºå¼¦é”¥ä¸‹æ–¹è½»è½»å¾€ä¸Šæ’¬ä¸€ä¸‹å³å¯å–å‡ºå›ºå¼¦é”¥.</p>
<p><a href="http://v.youku.com/v_show/id_XMTM4MDkyNjQ0MA==.html?from=y1.7-2" target="_blank" rel="external">æ¢å¼¦æ“ä½œ</a></p>
<p>å‰ä»–æ­£å¯¹è‡ªå·±ï¼Œä¸€äºŒä¸‰å¼¦å¾€è‡ªå·±æ€€é‡Œæ–¹å‘æ˜¯æ‹§ç´§è°ƒé«˜ï¼Œå¾€å¤–çš„æ–¹å‘æ˜¯æ”¾æ¾è°ƒä½ï¼Œå››äº”å…­å¼¦æ˜¯ç›¸åæ–¹å‘</p>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[EF 5.3 Telling story]]></title>
      <url>http://iequa.com/2017/06/25/ef-l5u3-Telling-stories/</url>
      <content type="html"><![CDATA[<style>
img {
        display: block !important;
        width: 550px;
        margin-left: 120px !important;
}
audio {
        display: block !important;
        width: 550px;
        margin-left: 120px !important;
}

</style>

<h2 id="1-Explaining-how-you-met-someone"><a href="#1-Explaining-how-you-met-someone" class="headerlink" title="1. Explaining how you met someone"></a>1. Explaining how you met someone</h2><p><img src="/images/english/ef-l5u3l1.png" alt=""></p>
<audio src="/voices/ef/l5u3-explain-how-to-met-someone.m4a" controls="controls"><br>Your browser does not support the audio tag.<br></audio>

<a id="more"></a>
<table>
<thead>
<tr>
<th>Dialog</th>
</tr>
</thead>
<tbody>
<tr>
<td>[KATE] So did I tell you I met this guy?</td>
<td></td>
</tr>
<tr>
<td>[EMMA] Yeah, the one from the bank? or The guy at the beach?</td>
<td></td>
</tr>
<tr>
<td>[KATE] No! Not them.</td>
<td></td>
</tr>
<tr>
<td>[KATE] Someone â€¦ better.</td>
<td></td>
</tr>
<tr>
<td>[KATE] Well, let me tell you the story.</td>
<td></td>
</tr>
<tr>
<td>[KATE] Um, I was shopping.</td>
<td></td>
</tr>
<tr>
<td>[KATE] And, uh, as I was leaving, I was in the car.</td>
<td></td>
</tr>
<tr>
<td>[KATE] â€¦ and you know <strong>how suddenly things just come out of nowhere?</strong></td>
<td></td>
</tr>
<tr>
<td>[KATE] Well, I had a lot of shopping bags, and I was <strong>putting on my lip gloss</strong> as I was driving.</td>
<td></td>
</tr>
<tr>
<td>[KATE] I know - stupid. And then â€¦ and then, I just didnâ€™t see it.</td>
<td></td>
</tr>
<tr>
<td>[KATE] <code>It all happened so, so fast</code>.</td>
<td></td>
</tr>
<tr>
<td>[KATE] I was putting on my lip gloss, and then â€˜Bang!â€™</td>
<td></td>
</tr>
<tr>
<td>[KATE] I hit his car.</td>
<td></td>
</tr>
<tr>
<td>[KATE] But there was a reward: the driver.</td>
<td></td>
</tr>
<tr>
<td>[KATE] He is great !</td>
<td></td>
</tr>
<tr>
<td>[EMMA] Oh, I see. So now this guy <strong>is interested in you</strong>.</td>
<td></td>
</tr>
<tr>
<td>[EMMA] You hit his car!</td>
<td></td>
</tr>
<tr>
<td>[KATE] Yeah. and itâ€™s a nice car, too.</td>
<td></td>
</tr>
<tr>
<td>[EMMA] Yeah, and he was probably very angry.</td>
<td></td>
</tr>
<tr>
<td>[KATE] Not very angry.</td>
<td></td>
</tr>
<tr>
<td>[KATE] He called me later about the accident, and he invited me to dinner.</td>
<td></td>
</tr>
<tr>
<td>[EMMA] No way!</td>
<td></td>
</tr>
<tr>
<td>[KATE] Yep. We have a date.</td>
<td></td>
</tr>
<tr>
<td>[EMMA] Why am I not surprised?</td>
<td></td>
</tr>
<tr>
<td>[KATE] Come on! Letâ€™s go.</td>
<td></td>
</tr>
</tbody>
</table>
<h3 id="1-1-Grammar"><a href="#1-1-Grammar" class="headerlink" title="1.1 Grammar"></a>1.1 Grammar</h3><ul>
<li>In 1960, they were both living in France.</li>
<li>Larry was <code>working</code> in Orleans.</li>
</ul>
<ul>
<li>Where did they meet ?</li>
<li>Was she <strong>hoping</strong> to find a husband?</li>
<li>Theyâ€™re <strong>celebrating</strong> 25 years of marriage.</li>
</ul>
<ul>
<li>What was she doing?</li>
</ul>
<h3 id="1-2-Sequencing-events-in-a-story"><a href="#1-2-Sequencing-events-in-a-story" class="headerlink" title="1.2 Sequencing events in a story"></a>1.2 Sequencing events in a story</h3><blockquote>
<p><strong>At first</strong>, I didnâ€™t like him.<br><strong>In the beginning</strong>, he seemed unfriendly.<br><strong>Later</strong>, we started talking in the break room.<br><strong>After that</strong>, we had lunch a couple of times.<br><strong>Next</strong>, we went on a date.<br><strong>Finally</strong>, he asked me to marry him.<br><strong>In the end</strong>, we got married and had three children.</p>
</blockquote>
<h2 id="2-Talking-about-a-relationship"><a href="#2-Talking-about-a-relationship" class="headerlink" title="2. Talking about a relationship"></a>2. Talking about a relationship</h2><ul>
<li>close friends</li>
<li>old friends</li>
<li>My buddy</li>
<li>relatives</li>
<li>colleagues</li>
<li>acquaintance  [É™â€™kweÉªnt(É™)ns]</li>
<li>instrument</li>
<li>gorgeous</li>
</ul>
<p><img src="/images/english/ef-l5u3l2.png" alt=""></p>
<audio src="/voices/ef/l5u3-talking-about-a-relationship.m4a" controls="controls"><br>Your browser does not support the audio tag.<br></audio>

<table>
<thead>
<tr>
<th>Dialog</th>
</tr>
</thead>
<tbody>
<tr>
<td>[LISA] Petey! Peter Oakes.</td>
<td></td>
</tr>
<tr>
<td>[LISA] Hi! Lisa. Lisa Gomez. Remember me?</td>
<td></td>
</tr>
<tr>
<td>[PETER] Lisa Gomez. How can I forget?</td>
<td></td>
</tr>
<tr>
<td>[PETER] Lisa and I, eh, knew each other at university.</td>
<td></td>
</tr>
<tr>
<td>[PETER] Well, actually, you were dating Leo Cole when we first met, do you remember?</td>
<td></td>
</tr>
<tr>
<td>[LISA] Leo? Dating? No, not really.</td>
<td></td>
</tr>
<tr>
<td>[LISA] Well, he was so romantic, you know, with the flowers and the chocolates and everything. Oh, my â€¦</td>
<td></td>
</tr>
<tr>
<td>[PETER] Lisa, it was really nice to meet you, but we really have to be going now.</td>
<td></td>
</tr>
<tr>
<td>[PETER] see you around</td>
<td></td>
</tr>
<tr>
<td>[KATE] So, uh, she was dating Leo when she met you?</td>
<td></td>
</tr>
<tr>
<td>[PETER] It wasnâ€™t really like that.</td>
<td></td>
</tr>
</tbody>
</table>
<h3 id="2-2-Grammar"><a href="#2-2-Grammar" class="headerlink" title="2.2 Grammar"></a>2.2 Grammar</h3><p>Iâ€™<strong>ve known</strong> my best friend for 22 years.<br>I was writing an email <strong>when</strong> the phone rang.<br>I was taking a shower <strong>when</strong> someone knocked on the door.</p>
<table>
<thead>
<tr>
<th>word</th>
</tr>
</thead>
<tbody>
<tr>
<td>swimming</td>
<td></td>
</tr>
<tr>
<td>8 years old</td>
<td></td>
</tr>
<tr>
<td>incredibly tall</td>
<td></td>
</tr>
<tr>
<td>taller than others</td>
<td></td>
</tr>
<tr>
<td>asked a question</td>
<td></td>
</tr>
<tr>
<td>an orange swim cap</td>
<td></td>
</tr>
<tr>
<td>a purple mouth</td>
<td></td>
</tr>
<tr>
<td>laughed</td>
<td></td>
</tr>
</tbody>
</table>
<p>My Best Friend Natasha</p>
<p>I first met my best friend when we were swimming at summer camp. We were 8 years old. Natasha was incredibly tall. She was taller than all the other children. She asked me a question: â€˜Why are you wearing that orange swim cap?â€™ So I asked her: â€˜Why are you so tall?â€™ Natasha laughed. Her mouth was purple from eating strange candy. I laughed, too.    </p>
<h3 id="2-3-Reading-and-Writing"><a href="#2-3-Reading-and-Writing" class="headerlink" title="2.3 Reading and Writing"></a>2.3 Reading and Writing</h3><p>I first met my colleague, John, when we were studying at Duke University. He walked into my room, said hello, and then we started talking about history together. John looks like one of those little people in â€˜Lord of the Rings,â€™ with funny ears. He always has a smile in his eyes. He also tells crazy stories. He has one story about playing the flute in New Orleans. He was playing on the street when a river of water came down the street. He ran! In the end, both John and I got hired by BTC. Now heâ€™s an old friend.</p>
<p>I first met my colleague, Jamie, when I was getting coffee at the office eight years ago. She was putting five spoons of sugar in her cup when I walked into the coffee room. When I saw that, I really liked her. She has gorgeous red hair and a funny laugh, like a little mouse. She has lived in 12 countries;</p>
<h2 id="3-Talking-about-a-good-experience"><a href="#3-Talking-about-a-good-experience" class="headerlink" title="3. Talking about a good experience"></a>3. Talking about a good experience</h2><ul>
<li>backyard</li>
<li>guilty</li>
<li>embarrassed</li>
</ul>
<p><img src="/images/english/ef-l5u3l3.png" alt=""></p>
<audio src="/voices/ef/l5u3-talking-about-a-good-experience.m4a
" controls="controls"><br>Your browser does not support the audio tag.<br></audio>

<table>
<thead>
<tr>
<th>Dialog</th>
</tr>
</thead>
<tbody>
<tr>
<td>[PETER] Leo is my best friend.</td>
<td></td>
</tr>
<tr>
<td>[PETER] But I did not steal his girlfriend</td>
<td></td>
</tr>
<tr>
<td>[PETER] A couple of years ago, I was studying business at the university, and Lisa was in my class.</td>
<td></td>
</tr>
<tr>
<td>[PETER] I didnâ€™t know she had a boyfriend.</td>
<td></td>
</tr>
<tr>
<td>[PETER] One evening I was waiting for Lisa outside a movie theater.</td>
<td></td>
</tr>
<tr>
<td>[PETER] And, uh, I saw this other guy.</td>
<td></td>
</tr>
<tr>
<td>[PETER] He was also waiting outside the movie theater.</td>
<td></td>
</tr>
<tr>
<td>[PETER] And we started talking.</td>
<td></td>
</tr>
<tr>
<td>[PETER] Well, his date was late, too.</td>
<td></td>
</tr>
<tr>
<td>[PETER] When Lisa arrived, she looked at me, she looked at Leo, and then she ran away.</td>
<td></td>
</tr>
<tr>
<td>[PETER] She had two dates at the same time!</td>
<td></td>
</tr>
<tr>
<td>[PETER] Well, anyways, I saw Leo at school the next day, and now weâ€™re best friends!</td>
<td></td>
</tr>
</tbody>
</table>
<h3 id="3-1-Grammar"><a href="#3-1-Grammar" class="headerlink" title="3.1 Grammar"></a>3.1 Grammar</h3><table>
<thead>
<tr>
<th>Adjective</th>
<th>Adverb</th>
</tr>
</thead>
<tbody>
<tr>
<td>lucky</td>
<td>luckily</td>
</tr>
<tr>
<td>unexpected</td>
<td>unexpectedly</td>
</tr>
<tr>
<td>fortunate</td>
<td>fortunately</td>
</tr>
<tr>
<td>grateful</td>
<td>gratefully</td>
</tr>
<tr>
<td>positive</td>
<td>positively</td>
</tr>
<tr>
<td>surpring</td>
<td>surpringly</td>
</tr>
</tbody>
</table>
<ul>
<li>Heather <strong>got an unexpected promotion</strong> at work.</li>
<li>Fortunately, Jean found her wallet.</li>
<li>Surprisingly, John didnâ€™t get the job.</li>
<li>I was really embarrassed.</li>
<li>I felt <strong>guilty</strong>.</li>
<li>He seemed upset.    </li>
<li>The hike was fantastic!</li>
<li>Something crazy happened.</li>
</ul>
<h3 id="3-2-Expressions"><a href="#3-2-Expressions" class="headerlink" title="3.2 Expressions"></a>3.2 Expressions</h3><p><strong>Listen to the audio. Move the text to the correct gaps.</strong></p>
<table>
<thead>
<tr>
<th>text</th>
</tr>
</thead>
<tbody>
<tr>
<td>I finally went up OId Rag Mountain.</td>
<td></td>
</tr>
<tr>
<td>I feel fantastic !</td>
<td></td>
</tr>
<tr>
<td>Something crazy happened, though. I felt guilty leaving him here.</td>
<td></td>
</tr>
<tr>
<td>Yeah, he was a little upset when you left.</td>
<td></td>
</tr>
<tr>
<td>He seems okay  now.</td>
<td></td>
</tr>
</tbody>
</table>
<ul>
<li>Did he seem calm after going to the spa?</li>
<li>Everyone seemed so embarrassed.</li>
<li>I forgot the date and felt guilty for three days.</li>
</ul>
<table>
<thead>
<tr>
<th>Dialog</th>
</tr>
</thead>
<tbody>
<tr>
<td>MELISSA: Okay, so Ralph <strong>walks up to</strong> me, and he has a picture  in his hand.</td>
<td></td>
</tr>
<tr>
<td>NICK: A picture of what?</td>
<td></td>
</tr>
<tr>
<td>MELISSA: A cat. In a pink sweater.</td>
<td></td>
</tr>
<tr>
<td>NICK: What? Whose cat?</td>
<td></td>
</tr>
<tr>
<td>MELISSA: His. The cat in the pink sweater is Ralphâ€™s!</td>
<td></td>
</tr>
<tr>
<td>NICK: Really?</td>
<td></td>
</tr>
<tr>
<td>MELISSA: Yep, and so Ralph gives  me the picture. He says  , â€˜Isnâ€™t Lucky cute in this picture?â€™</td>
<td></td>
</tr>
<tr>
<td>NICK: Ha! Very surprising.</td>
<td></td>
</tr>
<tr>
<td>MELISSA: I know! I couldnâ€™t believe it! Ralph isnâ€™t all bad. He is very strange, though.</td>
<td></td>
</tr>
</tbody>
</table>
<h2 id="4-Telling-a-story-about-a-bad-experience"><a href="#4-Telling-a-story-about-a-bad-experience" class="headerlink" title="4. Telling a story about a bad experience"></a>4. Telling a story about a bad experience</h2><table>
<thead>
<tr>
<th>Word</th>
<th>meaning</th>
</tr>
</thead>
<tbody>
<tr>
<td>delivery [dÉªâ€™lÉªv(É™)rÉª]</td>
<td></td>
</tr>
<tr>
<td>disaster [dÉªâ€™zÉ‘ËstÉ™]</td>
<td></td>
</tr>
<tr>
<td>pothole [â€˜pÉ’thÉ™ÊŠl]</td>
<td></td>
</tr>
<tr>
<td>motorcycle</td>
<td></td>
</tr>
</tbody>
</table>
<blockquote>
<p>swerved [swÉœËv] | vi, vt, n.</p>
</blockquote>
<p><img src="/images/english/ef-l5u3l4.png" alt=""></p>
<audio src="/voices/ef/l5u3-story-about-a-bad-experience.m4a
" controls="controls"><br>Your browser does not support the audio tag.<br></audio>

<table>
<thead>
<tr>
<th>Dialog</th>
</tr>
</thead>
<tbody>
<tr>
<td>[JAKE] Have I ever told you about my job as a pizza delivery guy?</td>
<td></td>
</tr>
<tr>
<td>[SIMON] No. What about it?</td>
<td></td>
</tr>
<tr>
<td>[JAKE] It ended in disaster.</td>
<td></td>
</tr>
<tr>
<td>[SIMON] What happened?</td>
<td></td>
</tr>
<tr>
<td>[JAKE] One night, I had a really big delivery, like, 20 pizzas. They were on the back of the motorcycle.</td>
<td></td>
</tr>
<tr>
<td>[JAKE] I was driving down the road, and I was in a hurry, and then this dog ran out in front of me.</td>
<td></td>
</tr>
<tr>
<td>[JAKE] So I swerved, and I missed the dog. But I hit this really big pothole.</td>
<td></td>
</tr>
<tr>
<td>[SIMON] So then what happened?</td>
<td></td>
</tr>
<tr>
<td>[JAKE] There were pizzas all over the street, and I ended up on the sidewalk.</td>
<td></td>
</tr>
<tr>
<td>[SIMON] Ouch !</td>
<td></td>
</tr>
<tr>
<td>[JAKE] And <strong>while they were putting me into the ambulance, the neighborhood dogs were having a pizza party</strong>.</td>
<td></td>
</tr>
<tr>
<td>[SIMON] Were you badly hurt?</td>
<td></td>
</tr>
<tr>
<td>[JAKE] No. I just had a broken arm â€¦ and no job.</td>
<td></td>
</tr>
</tbody>
</table>
<blockquote>
<p>How terrible!</p>
</blockquote>
<h3 id="4-1-Grammar"><a href="#4-1-Grammar" class="headerlink" title="4.1 Grammar"></a>4.1 Grammar</h3><table>
<thead>
<tr>
<th>clauses with past continuous</th>
</tr>
</thead>
<tbody>
<tr>
<td>While it was raining, the electricity went out.</td>
<td></td>
</tr>
<tr>
<td>The electricity came back on while we were sleeping.</td>
<td></td>
</tr>
<tr>
<td>While it was raining, he took a nap.</td>
<td></td>
</tr>
<tr>
<td>The phone rang while I was taking a shower.</td>
<td></td>
</tr>
<tr>
<td>She was watching TV while he was studying.</td>
<td></td>
</tr>
</tbody>
</table>
<blockquote>
<p>â€˜Whileâ€™ clauses with past continuous</p>
</blockquote>
<h3 id="4-2-Expressions"><a href="#4-2-Expressions" class="headerlink" title="4.2 Expressions"></a>4.2 Expressions</h3><ul>
<li>I was watching a movie at the theater.</li>
<li>She was laughing and laughing.</li>
<li>That was my best date ever.</li>
</ul>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[EF 5.2 Making decisions]]></title>
      <url>http://iequa.com/2017/06/19/ef-l5u2-Making-Decisions/</url>
      <content type="html"><![CDATA[<style>
img {
        display: block !important;
        width: 550px;
        margin-left: 120px !important;
}
audio {
        display: block !important;
        width: 550px;
        margin-left: 120px !important;
}

</style>

<h2 id="1-Comparing-options"><a href="#1-Comparing-options" class="headerlink" title="1. Comparing options"></a>1. Comparing options</h2><ul>
<li>parrot [ËˆperÉ™t] </li>
<li>turtle [ËˆtÉœ:rtl] </li>
<li>rabbit</li>
<li>goldfish</li>
</ul>
<p><img src="/images/english/ef-l5u2l1.png" alt=""></p>
<audio src="/voices/ef/l5u2-comparing-options.m4a" controls="controls"><br>Your browser does not support the audio tag.<br></audio>

<table>
<thead>
<tr>
<th>Dialog</th>
</tr>
</thead>
<tbody>
<tr>
<td>[LEO] They say that a dog is a manâ€™s best friend.</td>
<td></td>
</tr>
<tr>
<td>[LEO] In Britain, some people spend <strong>as much money on their pets as</strong> others spend on their children.</td>
<td></td>
</tr>
<tr>
<td>[LEO] I know.</td>
<td></td>
</tr>
<tr>
<td>[LEO] You know, they â€¦ they â€¦ they buy presents for them.</td>
<td></td>
</tr>
<tr>
<td>[LEO] They take pictures with them!</td>
<td></td>
</tr>
<tr>
<td>[LEO] In my job, I meet a lot of interesting people, and their pets.</td>
<td></td>
</tr>
<tr>
<td>[LEO] Wow! Look at your hair!</td>
<td></td>
</tr>
<tr>
<td>[MRS.JAMES] Yeah, you like it?</td>
<td></td>
</tr>
<tr>
<td>[MRS.JAMES] Itâ€™s as white as Cocoâ€™s now. Coco loves Mommyâ€™s hair. Yes, she does!</td>
<td></td>
</tr>
<tr>
<td>[MRS.JAMES] Mommyâ€™s as beautiful as Coco now. Mommy loves her Coco. They did her hair and nails yesterday.</td>
<td></td>
</tr>
<tr>
<td>[MRS. JAMES] Isnâ€™t she beautiful?</td>
<td></td>
</tr>
<tr>
<td>[LEO] As beautiful as a princess<code>[prÉªn&#39;ses]</code>.</td>
<td></td>
</tr>
<tr>
<td>[LEO] Whoa! Hi, Miles!</td>
<td></td>
</tr>
<tr>
<td>[LEO] Long time, no see, boy!</td>
<td></td>
</tr>
<tr>
<td>[MR.BRADY] Heâ€™s almost as big as me.</td>
<td></td>
</tr>
<tr>
<td>[MR.BRADY] Weâ€™re both on a <code>diet</code> [â€˜daÉªÉ™t].</td>
<td></td>
</tr>
<tr>
<td>[MR. BRADY] Iâ€™m as hungry as a bear.</td>
<td></td>
</tr>
<tr>
<td>[MR. BRADY] Now we go for long walks.</td>
<td></td>
</tr>
<tr>
<td>[MR. BRADY] See you later.</td>
<td></td>
</tr>
</tbody>
</table>
<h3 id="1-1-grammar"><a href="#1-1-grammar" class="headerlink" title="1.1 grammar"></a>1.1 grammar</h3><ul>
<li>My cat, Gatsby, is as intelligent as a person. </li>
<li>That dog isnâ€™t as loud as my parrot. </li>
</ul>
<table>
<thead>
<tr>
<th>Dialog</th>
</tr>
</thead>
<tbody>
<tr>
<td>A: What does your dog look like?</td>
<td></td>
</tr>
<tr>
<td>B: Heâ€™s really big and he has black fur.</td>
<td></td>
</tr>
<tr>
<td>A: Did I tell you what my dog did?</td>
<td></td>
</tr>
<tr>
<td>B: No. What happened?</td>
<td></td>
</tr>
<tr>
<td>A: What did it look like?</td>
<td></td>
</tr>
<tr>
<td>B: It had really big ears.</td>
<td></td>
</tr>
<tr>
<td>A: Which do you prefer?</td>
<td></td>
</tr>
<tr>
<td>B: I think I prefer cats.</td>
<td></td>
</tr>
</tbody>
</table>
<h2 id="2-Making-decisions"><a href="#2-Making-decisions" class="headerlink" title="2. Making decisions"></a>2. Making decisions</h2><table>
<thead>
<tr>
<th>seal</th>
<th>cheetah[ËˆtÊƒi:tÉ™]</th>
<th>penguin [ËˆpeÅ‹gwÉªn]</th>
</tr>
</thead>
<tbody>
<tr>
<td>zebra</td>
<td>dolphin[â€˜dÉ’lfÉªn]</td>
<td>whale [weÉªl]</td>
</tr>
</tbody>
</table>
<p><img src="/images/english/ef-l5u2l2.png" alt=""></p>
<audio src="/voices/ef/l5u2-making-decision.m4a" controls="controls"><br>Your browser does not support the audio tag.<br></audio>

<table>
<thead>
<tr>
<th>Dialog</th>
</tr>
</thead>
<tbody>
<tr>
<td>[SALLY] Hey, Todd, whatâ€™s all this?</td>
<td></td>
</tr>
<tr>
<td>[TODD] Iâ€™m planning a trip with my family. I want something big this year, something really special for the kids.</td>
<td></td>
</tr>
<tr>
<td>[SALLY] Where are you <code>thinking of going</code>?</td>
<td></td>
</tr>
<tr>
<td>[TODD] <code>Itâ€™s down to two options</code>: Patagonia, or Kenya.</td>
<td></td>
</tr>
<tr>
<td>[SALLY] Wow! Cool!</td>
<td></td>
</tr>
<tr>
<td>[TODD] Yeah. Both places have <code>amazing animals</code>. My kids are crazy about animals.</td>
<td></td>
</tr>
<tr>
<td>[TODD] You see, theyâ€™ve been to the zoo, but I want them to see animals in the wild.</td>
<td></td>
</tr>
<tr>
<td>[SALLY] Yeah.</td>
<td></td>
</tr>
<tr>
<td>[TODD] So, itâ€™s down to whales, penguins and seals in Patagonia; or, zebras, lions and elephants in Kenya. I feel like a child, too, planning this trip.</td>
<td></td>
</tr>
<tr>
<td>[SALLY] Maybe <code>I should go on a trip</code>. Where did you get these brochures?  [broâ€™ÊƒÊŠr]</td>
<td></td>
</tr>
<tr>
<td>[TODD] Oh. Thereâ€™s a great little travel agency on 6th Street. They have some great deals right now.</td>
<td></td>
</tr>
</tbody>
</table>
<ul>
<li>Iâ€™m planning an amazing trip.</li>
<li>Which animals are you planning to see?</li>
</ul>
<h3 id="2-1-grammar"><a href="#2-1-grammar" class="headerlink" title="2.1 grammar"></a>2.1 grammar</h3><ul>
<li>Whales are the <strong>biggest</strong> animals.    </li>
<li>The <strong>fastest</strong> runner is the cheetah.</li>
<li>Penguins live in the <strong>coldest</strong> places on earth.</li>
</ul>
<blockquote>
<p>intelligent &gt; most intelligent / least intelligent</p>
</blockquote>
<ul>
<li>Penguins live in the coldest places on earth</li>
<li>Dolphins are probably the most intelligent animal.</li>
</ul>
<h3 id="2-2-reading"><a href="#2-2-reading" class="headerlink" title="2.2 reading"></a>2.2 reading</h3><p>Of all animals, the cheetah is the fastest runner. Cheetahs can run faster than 95 kilometers an hour. (The slowest animal is the sloth. It moves slower than one kilometer per hour.) Cheetahs have very large eyes, but maybe the most interesting thing about cheetahs is their colors. Their black and yellow colors are perhaps the most gorgeous of any animal. Their fur looks just like the African wilderness, so itâ€™s difficult to see them. Itâ€™s unlikely that youâ€™ll ever visit the beautiful cheetah in the wilderness of Africa, or the Middle East. The easiest way to see a cheetah is to come here. Today, 10 amazing cheetahs are living with us at Adventure Park.</p>
<h2 id="3-Discussing-the-details"><a href="#3-Discussing-the-details" class="headerlink" title="3. Discussing the details"></a>3. Discussing the details</h2><p><img src="/images/english/ef-l5u2l3-word.png" alt=""></p>
<table>
<thead>
<tr>
<th>volcano  [vÉ’lâ€™keÉªnÉ™ÊŠ]</th>
<th>package tours</th>
<th>coral reefs  [â€˜kÉ’r(É™)l]</th>
</tr>
</thead>
<tbody>
<tr>
<td>rainforest</td>
<td>desert</td>
<td>glacier  [â€˜gleÉªsÉªÉ™]</td>
</tr>
</tbody>
</table>
<p><img src="/images/english/ef-l5u2l3.png" alt=""></p>
<audio src="/voices/ef/l5u2-discussing-the-details.m4a" controls="controls"><br>Your browser does not support the audio tag.<br></audio>

<table>
<thead>
<tr>
<th>Dialog</th>
</tr>
</thead>
<tbody>
<tr>
<td>[AGENT] Good afternoon. May I help you?</td>
<td></td>
</tr>
<tr>
<td>[SALLY] Iâ€™m thinking about taking a vacation in March.</td>
<td></td>
</tr>
<tr>
<td>[AGENT] <code>How many of you are there?</code></td>
<td></td>
</tr>
<tr>
<td>[SALLY] Two. Iâ€™m going with a friend.</td>
<td></td>
</tr>
<tr>
<td>[AGENT] Okay. And, uh, where are you thinking of going?</td>
<td></td>
</tr>
<tr>
<td>[SALLY] We havenâ€™t decided yet. We want a relaxing vacation, definitely a nice beach, some nature, and not too expensive. <code>What would you suggest</code>?</td>
<td></td>
</tr>
<tr>
<td>[AGENT] Well, at that time of year, Iâ€™d recommend Hawaii. They have some of the best <code>package tours</code>.</td>
<td></td>
</tr>
<tr>
<td>[SALLY] Iâ€™ve always wanted to go to Hawaii.</td>
<td></td>
</tr>
<tr>
<td>[AGENT] I just got this brochure from a hotel in Maui, <code>right on the ocean</code>. Great diving just off the beach, lots of coral reefs and mountains not too far away.</td>
<td></td>
</tr>
<tr>
<td>[SALLY] That sounds perfect! Oh! And can we see a volcano?</td>
<td></td>
</tr>
<tr>
<td>[AGENT] Thatâ€™s actually on another island, but I can arrange a tour.</td>
<td></td>
</tr>
<tr>
<td>[SALLY] Cool. So <code>how much would it all be</code>?</td>
<td></td>
</tr>
<tr>
<td>[AGENT] Well, how many nights would you like to stay?</td>
<td></td>
</tr>
<tr>
<td>[SALLY] Ummm, maybe six? Or seven?</td>
<td></td>
</tr>
<tr>
<td>[AGENT] Okay. Give me a minute, and I can give you some prices.</td>
<td></td>
</tr>
</tbody>
</table>
<h3 id="3-2-grammar"><a href="#3-2-grammar" class="headerlink" title="3.2 grammar"></a>3.2 grammar</h3><table>
<thead>
<tr>
<th>Dialog</th>
</tr>
</thead>
<tbody>
<tr>
<td>The weather in Hawaii is the best in the United States.</td>
<td></td>
</tr>
<tr>
<td>It was a worse vacation than last year.</td>
<td></td>
</tr>
<tr>
<td>It was the worst vacation ever.</td>
<td></td>
</tr>
<tr>
<td>A glacier is a really bad place to be in the winter.</td>
<td></td>
</tr>
<tr>
<td>The weather this year was worse than last year</td>
<td></td>
</tr>
</tbody>
</table>
<blockquote>
<p>My summer vacation in the United States</p>
<p>I just returned from the United States. I had a really good time. <strong>Los Angeles was the best place I went</strong>. There were amazing beaches and great things to do. I also loved New York and Chicago, but Chicago was better than New York. The people were wonderful. Dallas was the worst place. It was too hot!</p>
</blockquote>
<h3 id="3-3-expressions"><a href="#3-3-expressions" class="headerlink" title="3.3 expressions"></a>3.3 expressions</h3><table>
<thead>
<tr>
<th>Dialog</th>
</tr>
</thead>
<tbody>
<tr>
<td>A: When are you thinking of going?</td>
<td></td>
</tr>
<tr>
<td>B: Iâ€™m thinking of going in January.</td>
<td></td>
</tr>
<tr>
<td>A: What are you looking for, exactly?</td>
<td></td>
</tr>
<tr>
<td>B: Iâ€™m interested in going somewhere beautiful.</td>
<td></td>
</tr>
<tr>
<td>A: Are you thinking more of mountains or the ocean?</td>
<td></td>
</tr>
<tr>
<td>B: Iâ€™m thinking more of the mountains.</td>
<td></td>
</tr>
<tr>
<td>B: What would you suggest? What would you recommend?</td>
<td></td>
</tr>
<tr>
<td>A: Iâ€™d recommend that you go to Hawaii.</td>
<td></td>
</tr>
</tbody>
</table>
<h2 id="4-Summarizing-decisions"><a href="#4-Summarizing-decisions" class="headerlink" title="4. Summarizing decisions"></a>4. Summarizing decisions</h2><ul>
<li>trail [trel] ã€stream ã€ bushã€backpacking</li>
</ul>
<p><img src="/images/english/ef-l5u2l4.png" alt=""></p>
<audio src="/voices/ef/l5u2-summarizing-decisions.m4a" controls="controls"><br>Your browser does not support the audio tag.<br></audio>

<table>
<thead>
<tr>
<th>Dialog</th>
</tr>
</thead>
<tbody>
<tr>
<td>[SIMON] Thatâ€™s Jake in Barcelona. [,ba:siâ€™lÉ™unÉ™]</td>
<td></td>
</tr>
<tr>
<td>[PAM] cool.</td>
<td></td>
</tr>
<tr>
<td>[SIMON] And thatâ€™s me at the Eiffel Tower.</td>
<td></td>
</tr>
<tr>
<td>[PAM] Ha-ha! Nice.</td>
<td></td>
</tr>
<tr>
<td>[SIMON] Ooh! And these are the mountains in Switzerland. [ËˆswÉªtsÉ™lÉ™nd]</td>
<td></td>
</tr>
<tr>
<td>[PAM] Wow! Beautiful trees. And <strong>amazing mountain flowers. Those colors.</strong></td>
<td></td>
</tr>
<tr>
<td>[SIMON] Yeah, it was really beautiful.</td>
<td></td>
</tr>
<tr>
<td>[PAM] Letâ€™s try hiking in the mountains sometime. <strong>Iâ€™ve never done it before</strong>.</td>
<td></td>
</tr>
<tr>
<td>[JAKE] Really? Youâ€™ve never gone hiking before?</td>
<td></td>
</tr>
<tr>
<td>[PAM] No. <code>I mean, itâ€™s not something my family did</code>.</td>
<td></td>
</tr>
<tr>
<td>[JAKE] Well, if you do go hiking, <strong>youâ€™d better be careful</strong>. The mountains can be dangerous.</td>
<td></td>
</tr>
<tr>
<td>[SIMON] Yeah. Donâ€™t go into the mountains alone. <strong>Go with a group of people</strong>.</td>
<td></td>
</tr>
<tr>
<td>[JAKE] Also, uh, <code>it can be freezing cold</code> at night, even in the summer.</td>
<td></td>
</tr>
<tr>
<td>[SIMON] Make sure you get excellent equipment, especially boots and a tent.</td>
<td></td>
</tr>
<tr>
<td>[JAKE] And always tell someone where youâ€™re going.</td>
<td></td>
</tr>
<tr>
<td>[PAM] Okay. Donâ€™t go alone. Get excellent equipment. Be careful. Tell someone where youâ€™re going. I got it. Hey, why donâ€™t we go hiking this weekend?</td>
<td></td>
</tr>
<tr>
<td>[SIMON] Well, uh, I have work to do this weekend.</td>
<td></td>
</tr>
<tr>
<td>[JAKE] And I have a, uh â€¦ thing.</td>
<td></td>
</tr>
<tr>
<td>[PAM] <code>Did you even go up these mountains?</code></td>
<td></td>
</tr>
<tr>
<td>[SIMON] Of course, we did.</td>
<td></td>
</tr>
<tr>
<td>[SIMON] Thatâ€™s us at the Munich beer festival!</td>
<td></td>
</tr>
</tbody>
</table>
<blockquote>
<p>Munich beer [ËˆmjunÉªk bÉªr]</p>
</blockquote>
<h3 id="4-2-expressions"><a href="#4-2-expressions" class="headerlink" title="4.2 expressions"></a>4.2 expressions</h3><table>
<thead>
<tr>
<th>Dialog</th>
</tr>
</thead>
<tbody>
<tr>
<td>JOHNNY: Iâ€™m going <code>backpacking</code> this weekend.</td>
<td></td>
</tr>
<tr>
<td>MOM: Well, donâ€™t go alone.</td>
<td></td>
</tr>
<tr>
<td>JOHNNY: Iâ€™m not. <strong>Iâ€™m going</strong> with some friends.</td>
<td></td>
</tr>
<tr>
<td>MOM: And make sure you have good shoes.</td>
<td></td>
</tr>
<tr>
<td>JOHNNY:  <strong>I do have good shoes</strong>.</td>
<td></td>
</tr>
<tr>
<td>MOM: OK, thatâ€™s good. <strong>Be sure to stay on the trails</strong>. n. å±±å¾„ï¼›è¸ªè¿¹ï¼ˆtrailçš„å¤æ•°ï¼‰ï¼›æ¸¸å¾„</td>
<td></td>
</tr>
<tr>
<td>JOHNNY: I will.</td>
<td></td>
</tr>
<tr>
<td>MOM: And <strong>youâ€™d better</strong> get a good jacket.</td>
<td></td>
</tr>
<tr>
<td>JOHNNY: Mom, Iâ€™m going to be OK.</td>
<td></td>
</tr>
<tr>
<td>MOM: Iâ€™m sorry. I just love you, and I worry.</td>
<td></td>
</tr>
</tbody>
</table>
<h3 id="4-3-writing"><a href="#4-3-writing" class="headerlink" title="4.3 writing"></a>4.3 writing</h3><p>Using commas</p>
<ul>
<li>When I was on vacation in Chile, I saw a lot of wild animals.</li>
<li>After I got home, I looked at all my photographs.</li>
</ul>
<p>I live in San Francisco, California [,kÃ¦lÉªâ€™fÉ”:njÉ™]. There are wonderful plants and animals here. In the city, there are wonderful parks with a lot of beautiful birds, rabbits, turtles and other animals. When I go there, I always sit under the big redwood, <strong>oak  [É™ÊŠk] and pine trees</strong>. Redwoods are the tallest trees in the world. San Francisco is on the Pacific Ocean. You can sometimes see whales swimming in the ocean. Whales are the largest animals in the world.</p>
<p>My name is Blair. I live in Hangzhou, China. Hangzhou is the most beautiful city in the China. We have incredible nature lake in my state. There are a lot of forests and mountains. West lake Nine Stream is the largest stream in the Hangzhou. Iâ€™d suggest you hike Nine Stream. I often see deer and kinds of birds. But, Donâ€™t go hiking alone.</p>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[EF 5.1 Travel]]></title>
      <url>http://iequa.com/2017/06/14/ef-l5u1-Travel/</url>
      <content type="html"><![CDATA[<style>
img {
        display: block !important;
        width: 550px;
        margin-left: 120px !important;
}
audio {
        display: block !important;
        width: 550px;
        margin-left: 120px !important;
}

</style>

<h2 id="1-Talking-about-flight-arrangements"><a href="#1-Talking-about-flight-arrangements" class="headerlink" title="1. Talking about flight arrangements"></a>1. Talking about flight arrangements</h2><ul>
<li>boarding pass</li>
<li>luggage</li>
<li>pack</li>
</ul>
<p><img src="/images/english/ef-l5u1l1.png" alt=""></p>
<audio src="/voices/ef/l5u1-travel-flight-arrangements.m4a" controls="controls"><br>Your browser does not support the audio tag.<br></audio>

<table>
<thead>
<tr>
<th>Dialog</th>
</tr>
</thead>
<tbody>
<tr>
<td>[TODD] Passport, ticket, uh, donâ€™t need a visa for Sweden.</td>
<td></td>
</tr>
<tr>
<td>[SALLY] Are you going somewhere?</td>
<td></td>
</tr>
<tr>
<td>[TODD] Joan called last night, around 3 oâ€™clock.</td>
<td></td>
</tr>
<tr>
<td>[SALLY] in the morning?</td>
<td></td>
</tr>
<tr>
<td>[TODD] Yeah. Iâ€™m flying to, uh, Stockholm. Thereâ€™s a â€¦ She needs help with a client. I packed this morning.</td>
<td></td>
</tr>
<tr>
<td>[SALLY] Stockholm? Thatâ€™s a long trip. Looks like youâ€™re in a hurry.</td>
<td></td>
</tr>
<tr>
<td>[TODD] My flight leaves in three hours, and I havenâ€™t printed my boarding pass, called a taxi or â€¦</td>
<td></td>
</tr>
<tr>
<td>[SALLY] Todd, let me help. How about you print your boarding pass? Iâ€™ll call a taxi for you. What timeâ€™s your flight?</td>
<td></td>
</tr>
<tr>
<td>[TODD] Itâ€™s 5:15.</td>
<td></td>
</tr>
<tr>
<td>[SALLY] You have plenty of time. Whatâ€™s the airline?</td>
<td></td>
</tr>
<tr>
<td>[TODD] Itâ€™s, uh, itâ€™s Western Airlines. I leave from, uh, the international terminal.</td>
<td></td>
</tr>
<tr>
<td>[SALLY] Okay. Western. No problem. Yes. I need a taxi at 3 p.m.</td>
<td></td>
</tr>
</tbody>
</table>
<h3 id="1-1-grammar"><a href="#1-1-grammar" class="headerlink" title="1.1 grammar"></a>1.1 grammar</h3><ul>
<li>I have printed my boarding pass.</li>
<li>She has lost her ticket.    </li>
</ul>
<table>
<thead>
<tr>
<th>The subject pronoun</th>
<th>have are contracted as follows</th>
</tr>
</thead>
<tbody>
<tr>
<td>I have worded</td>
<td>Iâ€™ve worded.</td>
</tr>
<tr>
<td>You have    worked</td>
<td>Youâ€™ve    worked.</td>
</tr>
<tr>
<td>It has rained</td>
<td>Itâ€™s    rained.</td>
</tr>
<tr>
<td>He has worked</td>
<td>Heâ€™s worked.</td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr>
<th>Dialog</th>
</tr>
</thead>
<tbody>
<tr>
<td>A: Has she packed her bags?</td>
<td></td>
</tr>
<tr>
<td>B: Yes, she has.</td>
<td></td>
</tr>
<tr>
<td>A: Have the Taylors bought their tickets?</td>
<td></td>
</tr>
<tr>
<td>B: No, they havenâ€™t.</td>
<td></td>
</tr>
</tbody>
</table>
<ul>
<li>Alice has <code>bought</code> a new suitcase.</li>
<li>Have you <code>packed</code> your bags?</li>
<li>I have lost my passport.</li>
<li>They have worked so hard!</li>
<li>He hasnâ€™t found my sweater.</li>
</ul>
<h3 id="1-2-expressions"><a href="#1-2-expressions" class="headerlink" title="1.2 expressions"></a>1.2 expressions</h3><table>
<thead>
<tr>
<th>Dialog</th>
</tr>
</thead>
<tbody>
<tr>
<td>A: When are you leaving?</td>
<td></td>
</tr>
<tr>
<td>B: On the 23rd.</td>
<td></td>
</tr>
<tr>
<td>A: When are you returning?</td>
<td></td>
</tr>
<tr>
<td>B: On Friday the 31st.</td>
<td></td>
</tr>
<tr>
<td>A: What timeâ€™s your flight?</td>
<td></td>
</tr>
<tr>
<td>B: Itâ€™s at 7:38 a.m.</td>
<td></td>
</tr>
<tr>
<td>A: Whatâ€™s the airline?</td>
<td></td>
</tr>
<tr>
<td>B: Air Pacifica.</td>
<td></td>
</tr>
<tr>
<td>A: When do you arrive in Paris?</td>
<td></td>
</tr>
<tr>
<td>B: At 11:42 p.m.</td>
<td></td>
</tr>
<tr>
<td>A: Is that our time or Paris time?</td>
<td></td>
</tr>
<tr>
<td>B: Paris time.</td>
<td></td>
</tr>
<tr>
<td>A: Which airport do you fly out of?</td>
<td></td>
</tr>
<tr>
<td>B: Oâ€™Hare.</td>
<td></td>
</tr>
<tr>
<td>A: Which airport do you fly in to?</td>
<td></td>
</tr>
<tr>
<td>B: I fly in to De Gaulle.</td>
<td></td>
</tr>
</tbody>
</table>
<h2 id="2-Checking-in-for-a-flight"><a href="#2-Checking-in-for-a-flight" class="headerlink" title="2. Checking in for a flight"></a>2. Checking in for a flight</h2><ul>
<li>boarding pass</li>
<li>luggage [â€˜lÊŒgÉªdÊ’]</li>
</ul>
<p><img src="/images/english/ef-l5u1l2.png" alt=""></p>
<audio src="/voices/ef/l5u1-travel-Checking-in-for-a-flight.m4a" controls="controls"><br>Your browser does not support the audio tag.<br></audio>

<table>
<thead>
<tr>
<th>Dialog</th>
</tr>
</thead>
<tbody>
<tr>
<td>[AGENT] Good afternoon. Where are you flying today?</td>
<td></td>
</tr>
<tr>
<td>[TODD] Iâ€™m flying to Stockholm.  [â€˜stÉ”khÉ™um; â€˜stÉ”:k,hÉ”:lm]</td>
<td></td>
</tr>
<tr>
<td>[AGENT] May I see your passport, please?</td>
<td></td>
</tr>
<tr>
<td>[TODD] Yes. Here you are. Do you need to see my boarding pass?</td>
<td></td>
</tr>
<tr>
<td>[AGENT] Uh, no, I donâ€™t. Unfortunately, your flight has been delayed. <code>Itâ€™s now scheduled to depart at 6 p.m.</code> [ÊŒnËˆfÉ”ËtÊƒÉ™nÉ™tli]</td>
<td></td>
</tr>
<tr>
<td>[TODD] Oh, well. Thatâ€™s not too bad.</td>
<td></td>
</tr>
<tr>
<td>[AGENT] Iâ€™m sorry for any inconvenience. [ÉªnkÉ™nâ€™viËnÉªÉ™ns]</td>
<td></td>
</tr>
<tr>
<td>[TODD] Thatâ€™s okay.</td>
<td></td>
</tr>
<tr>
<td>[AGENT] Are you checking any bags today?</td>
<td></td>
</tr>
<tr>
<td>[TODD] Yes. I have one bag to check and one bag to carry on.</td>
<td></td>
</tr>
<tr>
<td>[AGENT] Have you left your bags unattended at any time?</td>
<td></td>
</tr>
<tr>
<td>[TODD] No. Iâ€™ve always had my bags with me.</td>
<td></td>
</tr>
<tr>
<td>[AGENT] Okay. Thatâ€™s good. Right now you have a middle seat. Would you prefer a window seat or an aisle seat? [aÉªl]</td>
<td></td>
</tr>
<tr>
<td>[TODD] Umm, an <code>aisle seat</code>, please.</td>
<td></td>
</tr>
<tr>
<td>[AGENT] Okay. Hereâ€™s your new boarding pass and your <code>baggage claim</code>.</td>
<td></td>
</tr>
<tr>
<td>[TOOD] Thanks.</td>
<td></td>
</tr>
<tr>
<td>[AGENT] Go through security, and your flight to Stockholm will depart from Gate B25. The flight boards at 5:30.</td>
<td></td>
</tr>
<tr>
<td>[TODD] Gate B25. Okay. Thank you.</td>
<td></td>
</tr>
</tbody>
</table>
<h2 id="3-Getting-to-your-hotel"><a href="#3-Getting-to-your-hotel" class="headerlink" title="3. Getting to your hotel"></a>3. Getting to your hotel</h2><ul>
<li>limousine</li>
<li>express train</li>
<li>shuttle  [ËˆÊƒÊŒtl] </li>
<li>rental car</li>
</ul>
<p><img src="/images/english/ef-l5u1l3.png" alt=""></p>
<table>
<thead>
<tr>
<th>Dialog</th>
</tr>
</thead>
<tbody>
<tr>
<td>[TODD] Excuse me. Could you help me?</td>
<td></td>
</tr>
<tr>
<td>[PASSERBY] Sure. What do you need?</td>
<td></td>
</tr>
<tr>
<td>[TODD] How do I get downtown? Iâ€™m staying in a hotel there.</td>
<td></td>
</tr>
<tr>
<td>[PASSERBY] Uh, well, you basically have three options.</td>
<td></td>
</tr>
<tr>
<td>[TODD] Okay.</td>
<td></td>
</tr>
<tr>
<td>[PASSERBY] You can take a taxi.</td>
<td></td>
</tr>
<tr>
<td>[PASSERBY] There are also buses to downtown. Or you could take the express train.</td>
<td></td>
</tr>
<tr>
<td>[TODD] Would a taxi be the fastest?</td>
<td></td>
</tr>
<tr>
<td>[PASSERBY] Umm, not always. The trafficâ€™s usually pretty bad at this time.</td>
<td></td>
</tr>
<tr>
<td>[TODD] Oh. So what do you suggest?</td>
<td></td>
</tr>
<tr>
<td>[PASSERBY] Umm, whatâ€™s the name of your hotel?</td>
<td></td>
</tr>
<tr>
<td>[TODD] Itâ€™s the â€¦</td>
<td></td>
</tr>
<tr>
<td>[TODD] Itâ€™s the The Royal Stockholm Hotel.</td>
<td></td>
</tr>
<tr>
<td>[PASSERBY] Can I see the address?</td>
<td></td>
</tr>
<tr>
<td>[TODD] Certainly.</td>
<td></td>
</tr>
<tr>
<td>[PASSERBY] Okay, this is going to be easy. Your hotel is near Stockholm Central Station, so the best choice for you is the express train.</td>
<td></td>
</tr>
<tr>
<td>[TODD] The express train.</td>
<td></td>
</tr>
<tr>
<td>[PASSERBY] Yeah. Itâ€™s a little expensive, but itâ€™s really fast. Just get off at Central Station.</td>
<td></td>
</tr>
<tr>
<td>[TODD] Where is the express train from here?</td>
<td></td>
</tr>
<tr>
<td>[PASSERBY] Go straight this way. See the woman with the big hat?</td>
<td></td>
</tr>
<tr>
<td>[TODD] Yes.</td>
<td></td>
</tr>
<tr>
<td>[PASSERBY] Turn left there. The station is really close.</td>
<td></td>
</tr>
<tr>
<td>[TODD] Thank you very much.</td>
<td></td>
</tr>
</tbody>
</table>
<h3 id="3-1-grammar"><a href="#3-1-grammar" class="headerlink" title="3.1 grammar"></a>3.1 grammar</h3><p>Hi, Martin!</p>
<p>I <strong>have to fly</strong> to Budapest on Thursday. After I arrive, I <strong>have to</strong> go to Vaci Utca and then find Parliament. I also want to eat at an interesting restaurant, but it doesnâ€™t <strong>have to be fancy</strong>. Then I <strong>have to check in</strong> to my hotel. And Iâ€™d like to go to a good museum. Do you have any recommendations?</p>
<p>Thanks.</p>
<p>Karl</p>
<h3 id="3-2-expressions"><a href="#3-2-expressions" class="headerlink" title="3.2 expressions"></a>3.2 expressions</h3><ul>
<li>There are several options.</li>
<li>Your best option is to go by subway.</li>
<li>A rental car would be the cheapest option.</li>
</ul>
<h2 id="4-Letting-someone-know-youâ€™ve-arrived"><a href="#4-Letting-someone-know-youâ€™ve-arrived" class="headerlink" title="4. Letting someone know youâ€™ve arrived"></a>4. Letting someone know youâ€™ve arrived</h2><ul>
<li>immigration [ÉªmÉªâ€™É¡reÉªÊƒn]</li>
<li>shuttle  [ËˆÊƒÊŒtl] </li>
</ul>
<p><img src="/images/english/ef-l5u1l4.png" alt=""></p>
<table>
<thead>
<tr>
<th>Dialog</th>
</tr>
</thead>
<tbody>
<tr>
<td>[JOAN] Welcome to Stockholm. How was your flight?  [â€˜stÉ”khÉ™um]</td>
<td></td>
</tr>
<tr>
<td>[TODD] Not bad, but very long. I <strong>had to change planes</strong> in Philadelphia and London. [,filÉ™â€™delfjÉ™; -fiÉ™]</td>
<td></td>
</tr>
<tr>
<td>[JOAN] Ouch. That was a long trip. No problems in <code>customs</code> or immigration?</td>
<td></td>
</tr>
<tr>
<td>[TODD] None at all. I went through really fast.</td>
<td></td>
</tr>
<tr>
<td>[JOAN] Thatâ€™s good. Now, uh, how are you feeling? Any <code>jet lag</code>?</td>
<td></td>
</tr>
<tr>
<td>[TODD] No, not really. Back home, itâ€™s about 2 p.m., so Iâ€™m okay.</td>
<td></td>
</tr>
<tr>
<td>[JOAN] Good. Because, uh, I have some bad news.</td>
<td></td>
</tr>
<tr>
<td>[TODD] uh~</td>
<td></td>
</tr>
<tr>
<td>[JOAN] Unfortunately, our clients moved our meeting up to 9 oâ€™clock tomorrow morning.</td>
<td></td>
</tr>
<tr>
<td>[TODD] So we have to work tonight.</td>
<td></td>
</tr>
<tr>
<td>[JOAN] Yeah. Iâ€™m sorry. Have you eaten yet?</td>
<td></td>
</tr>
<tr>
<td>[TODD] I had dinner on the plane. But Iâ€™d love to get some coffee.</td>
<td></td>
</tr>
<tr>
<td>[JOAN] Thereâ€™s a restaurant over there. Come on. Iâ€™m buying.</td>
<td></td>
</tr>
</tbody>
</table>
<h3 id="4-1-present"><a href="#4-1-present" class="headerlink" title="4.1 present"></a>4.1 present</h3><table>
<thead>
<tr>
<th>Present</th>
<th>Past</th>
<th>Present perfect</th>
</tr>
</thead>
<tbody>
<tr>
<td>be</td>
<td>was</td>
<td>been</td>
</tr>
<tr>
<td>see</td>
<td>saw</td>
<td>seen</td>
</tr>
<tr>
<td>do</td>
<td>did</td>
<td>done</td>
</tr>
<tr>
<td>go</td>
<td>went</td>
<td>gone</td>
</tr>
</tbody>
</table>
<ul>
<li>I think heâ€™s feeling some culture shock.</li>
<li>They checked my visa when I went through immigration.</li>
</ul>
<p>Use the adverbs <strong>yet</strong>, <strong>already</strong>, <strong>never</strong> and <strong>ever</strong> with the present perfect to indicate a period of time up until the present.</p>
<ul>
<li>I havenâ€™t printed my boarding pass <strong>yet</strong>.</li>
<li>They havenâ€™t packed their bags <strong>yet</strong>.</li>
<li>Has she left for the airport <strong>yet</strong>?</li>
</ul>
<ul>
<li>You canâ€™t come? But Iâ€™ve <strong>already</strong> booked the tickets!</li>
<li>Carly has <strong>already</strong> been to Paris, but I havenâ€™t.</li>
<li>Has John <strong>already</strong> been to the Louvre?</li>
</ul>
<ul>
<li>A: Have you <strong>ever</strong> lived in another country? </li>
<li>B: No, Iâ€™ve <strong>never</strong> lived in another country.</li>
</ul>
<ul>
<li>A: Have you <strong>ever been to</strong> Paris?</li>
<li>B: Yes, I <strong>have been to</strong> Paris.</li>
</ul>
<h3 id="4-2-reading"><a href="#4-2-reading" class="headerlink" title="4.2 reading"></a>4.2 reading</h3><p>The bad news is that <strong>Iâ€™ve still got terrible jet lag</strong> after my 26-hour flight on Monday. The good news is that, yesterday, I hiked the red coast of Tasmania. Itâ€™s the most beautiful place <strong>Iâ€™ve ever</strong> camped, and the night sky is gorgeous. <code>I&#39;ve been to</code> the Atacama Desert in Chile. <strong>Iâ€™ve visited</strong> Valentia Island in Ireland. And Iâ€™ve traveled in Australia before, but <strong>Iâ€™ve never seen</strong> so much light in the night sky. Tonight, Iâ€™ll <code>have to go for</code> a walk and look for Tasmaniaâ€™s special animals, like wombats and kangaroos. I <strong>havenâ€™t seen</strong> any of them in the wilderness yet.</p>
<h3 id="4-3-writing"><a href="#4-3-writing" class="headerlink" title="4.3 writing"></a>4.3 writing</h3><p>I absolutely love traveling. Iâ€™ve traveled to 7 countries. Iâ€™ve been to Thailand 3 times. bought fancy clothes and taken an elephant tour.</p>
<p>I havenâ€™t been to Africa yet, but I really want to go. My trip last month to Thailand was difficult. The flight took 17 hours. When I arrived, customs took my cellphone, and I had to buy a new one!</p>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[EF 4.6 Vacations]]></title>
      <url>http://iequa.com/2017/06/11/ef-l4u6-Vacations/</url>
      <content type="html"><![CDATA[<style>
img {
        display: block !important;
        width: 550px;
        margin-left: 120px !important;
}
audio {
        display: block !important;
        width: 550px;
        margin-left: 120px !important;
}

</style>


<h2 id="1-Getting-information-about-a-destination"><a href="#1-Getting-information-about-a-destination" class="headerlink" title="1. Getting information about a destination"></a>1. Getting information about a destination</h2><ul>
<li>forest</li>
<li>coast</li>
<li>ocean</li>
<li>valley</li>
<li>lake  </li>
</ul>
<p><img src="/images/english/ef-l4u6l1.png" alt=""></p>
<audio src="/voices/ef/l4u6-vacation-desert.m4a" controls="controls"><br>Your browser does not support the audio tag.<br></audio>

<table>
<thead>
<tr>
<th>Dialog</th>
</tr>
</thead>
<tbody>
<tr>
<td>[SARAH] Itâ€™s a desert, Mark. A desert!</td>
<td></td>
</tr>
<tr>
<td>[SARAH] It gets to 115 degrees. Fahrenheit [ËˆfarÉ™nËŒhÄ«t]</td>
<td></td>
</tr>
<tr>
<td>[SARAH] Thatâ€™s, like, 46 degrees Celsius! [ËˆselsÄ“É™s]</td>
<td></td>
</tr>
<tr>
<td>[MARK] Donâ€™t look at that.</td>
<td></td>
</tr>
<tr>
<td>[MARK] Anyways, it gets cooler at night.</td>
<td></td>
</tr>
<tr>
<td>[MARK] Listen - we have a tent. Thatâ€™s more fun than a hotel.</td>
<td></td>
</tr>
<tr>
<td>[SARAH] Mark, I love the coast.</td>
<td></td>
</tr>
<tr>
<td>[SARAH] I love the beach.</td>
<td></td>
</tr>
<tr>
<td>[SARAH] Itâ€™s nicer here!</td>
<td></td>
</tr>
<tr>
<td>[SARAH] Itâ€™s a desert. A desert, and you want to go camping there?</td>
<td></td>
</tr>
<tr>
<td>[SARAH] I mean, who does that?</td>
<td></td>
</tr>
<tr>
<td>[MARK] The desert - itâ€™s beautiful.</td>
<td></td>
</tr>
<tr>
<td>[MARK] I really want you to see it.</td>
<td></td>
</tr>
<tr>
<td>[SARAH] Okay.</td>
<td></td>
</tr>
</tbody>
</table>
<h3 id="1-1-sentence"><a href="#1-1-sentence" class="headerlink" title="1.1 sentence"></a>1.1 sentence</h3><ul>
<li>It gets cooler in fall.</li>
<li>Winter is cold and rainy.</li>
<li>It snows a lot in winter.</li>
<li>Itâ€™s foggy in the morning and sunny in the afternoon.</li>
<li>It can get to about 65 degrees.</li>
<li>It gets really windy in spring.</li>
</ul>
<h2 id="1-2-whatâ€™s-the-noun-like"><a href="#1-2-whatâ€™s-the-noun-like" class="headerlink" title="1.2 whatâ€™s the + noun + like?"></a>1.2 whatâ€™s the + noun + like?</h2><ul>
<li>A: <strong>Whatâ€™s the weather like</strong> in your hometown?</li>
<li>B: Itâ€™s cold and snowy in winter. It gets to -30 degrees. But itâ€™s warm in summer and fall.</li>
</ul>
<ul>
<li>A: <strong>Whatâ€™s the food like</strong> in Ottawa?</li>
<li>B: Well, we eat a lot of fish. And poutine is popular. Itâ€™s special french fries with cheese.    </li>
</ul>
<ul>
<li>A: <strong>What are the people like</strong>?</li>
<li>B: Many people are university graduates and can speak English and French.</li>
</ul>
<blockquote>
<p>fries/chips with cheese è–¯æ¡å¥¶é…ª<br>poutine è–¯æ¡</p>
<p>What kind of food <code>do</code> people eat in your hometown?</p>
</blockquote>
<h2 id="2-Discussing-vacation-plans"><a href="#2-Discussing-vacation-plans" class="headerlink" title="2. Discussing vacation plans"></a>2. Discussing vacation plans</h2><ul>
<li>camping      </li>
<li>horseback riding</li>
<li>going to the beach</li>
<li>visiting family</li>
<li>diving</li>
<li>going to a spa</li>
<li>sightseeing</li>
<li>biking</li>
</ul>
<p><img src="/images/english/ef-l4u6l2.png" alt=""></p>
<audio src="/voices/ef/l4u6-vacation-plans.m4a" controls="controls"><br>Your browser does not support the audio tag.<br></audio>

<table>
<thead>
<tr>
<th>Dialog</th>
</tr>
</thead>
<tbody>
<tr>
<td>[EMMA] So <code>where are you going this year</code>?</td>
<td></td>
</tr>
<tr>
<td>[NANCY] To the Lake District.</td>
<td></td>
</tr>
<tr>
<td>[EMMA] Oh. Not Paris or Tokyo?</td>
<td></td>
</tr>
<tr>
<td>[NANCY] No. Your father wants to go fishing.</td>
<td></td>
</tr>
<tr>
<td>[EMMA] <code>Where are you going to stay?</code></td>
<td></td>
</tr>
<tr>
<td>[NANCY] We are going to sleep in a tent.</td>
<td></td>
</tr>
<tr>
<td>[EMMA] You mean camping.</td>
<td></td>
</tr>
<tr>
<td>[NANCY] Thatâ€™s right. Camping.</td>
<td></td>
</tr>
<tr>
<td>[NANCY] Yes, Emma, weâ€™re going to go fishing and camping.</td>
<td></td>
</tr>
<tr>
<td>[NANCY] It will be fun. <code>It will be an adventure</code>.</td>
<td></td>
</tr>
<tr>
<td>[EMMA] OK - if you say so.</td>
<td></td>
</tr>
<tr>
<td>[EMMA] <code>How long is the drive</code>?</td>
<td></td>
</tr>
<tr>
<td>[NANCY] Six hours.</td>
<td></td>
</tr>
<tr>
<td>[EMMA] Six hours? To go camping?</td>
<td></td>
</tr>
<tr>
<td>[NANCY] <code>Could you please check on your father</code>?</td>
<td></td>
</tr>
</tbody>
</table>
<h3 id="2-1-be-going-to-for-plan"><a href="#2-1-be-going-to-for-plan" class="headerlink" title="2.1 be + going to for plan"></a>2.1 be + going to for plan</h3><ul>
<li>Oscar is going to drive to the store.</li>
<li>Frank thinks itâ€™ll be safer to walk.</li>
</ul>
<ul>
<li>A: <code>What are you going to do</code> on vacation?</li>
<li>B: Iâ€™m going to visit friends and family. And Iâ€™m not going to work</li>
</ul>
<ul>
<li>Weâ€™ll probably stay in a hotel.</li>
<li>Iâ€™ll be happy living by the sea.</li>
<li>We will not fight. </li>
<li>I wonâ€™t get sick.</li>
<li>They wonâ€™t come with us.  </li>
</ul>
<h3 id="2-2-Dialog"><a href="#2-2-Dialog" class="headerlink" title="2.2 Dialog"></a>2.2 Dialog</h3><table>
<thead>
<tr>
<th>Dialog</th>
</tr>
</thead>
<tbody>
<tr>
<td>KARA: What are you doing ?</td>
<td></td>
</tr>
<tr>
<td>SETH: Oh, nothing much. Iâ€™m just relaxing. Listening to some music.</td>
<td></td>
</tr>
<tr>
<td>KARA: Whatâ€™s that book there?</td>
<td></td>
</tr>
<tr>
<td>SETH: Uh, Iâ€™m reading about Prague. The history. Iâ€™m really enjoying it.</td>
<td></td>
</tr>
<tr>
<td>KARA: Oh, thatâ€™s right - youâ€™re going  there on vacation next month.</td>
<td></td>
</tr>
<tr>
<td>SETH: Yep. Itâ€™ll be great.</td>
<td></td>
</tr>
<tr>
<td>KARA: Iâ€™m sure it will. What are you going to do in Prague?</td>
<td></td>
</tr>
<tr>
<td>SETH: Umm, Iâ€™m going to go sightseeing in the Old Town. Iâ€™m going to walk everywhere. Across the Charles Bridge â€¦</td>
<td></td>
</tr>
<tr>
<td>KARA: Excellent!</td>
<td></td>
</tr>
<tr>
<td>SETH: Yeah â€¦ And Iâ€™ll eat lots of good food.</td>
<td></td>
</tr>
<tr>
<td>KARA: Youâ€™re so lucky! Where are you going to stay ?</td>
<td></td>
</tr>
<tr>
<td>SETH: Oh, Iâ€™ll  probably camp somewhere. Maybe Iâ€™ll pay for a nice hotel on the weekend.</td>
<td></td>
</tr>
</tbody>
</table>
<blockquote>
<p>doubtful<br>Iâ€™ll help you <code>pay for</code> the vacation.<br>Nice. Are you going to stay in a hotel?</p>
</blockquote>
<h2 id="3-Seeing-someone-off"><a href="#3-Seeing-someone-off" class="headerlink" title="3. Seeing someone off"></a>3. Seeing someone off</h2><p><img src="/images/english/ef-l4u6l3.png" alt=""></p>
<audio src="/voices/ef/l4u6-vacation-someone-off.m4a" controls="controls"><br>Your browser does not support the audio tag.<br></audio>

<table>
<thead>
<tr>
<th>Dialog</th>
</tr>
</thead>
<tbody>
<tr>
<td>[BOB] OK.</td>
<td></td>
</tr>
<tr>
<td>[BOB] Now, remember to bring in the mail every day, and donâ€™t forget the newspaper.</td>
<td></td>
</tr>
<tr>
<td>[EMMA] OK, Dad, Donâ€™t worry.</td>
<td></td>
</tr>
<tr>
<td>[BOB] Oh!, I almost forgot.</td>
<td></td>
</tr>
<tr>
<td>[EMMA] Whatâ€™s that?</td>
<td></td>
</tr>
<tr>
<td>[BOB] Itâ€™s for our hotel.</td>
<td></td>
</tr>
<tr>
<td>[EMMA] I thought you were going to go camping.</td>
<td></td>
</tr>
<tr>
<td>[BOB] Shhh! Itâ€™s a surprise.</td>
<td></td>
</tr>
<tr>
<td>[BOB] Your mother thinks weâ€™re going camping.</td>
<td></td>
</tr>
<tr>
<td>[BOB] But weâ€™re not, weâ€™re staying at a five-star hotel.</td>
<td></td>
</tr>
<tr>
<td>[EMMA] Dad! You old romantic!</td>
<td></td>
</tr>
<tr>
<td>[BOB] But I am going fishing.</td>
<td></td>
</tr>
<tr>
<td>[EMMA] Have a great trip!</td>
<td></td>
</tr>
<tr>
<td>[EMMA] Drive safely, and call me when you get there.</td>
<td></td>
</tr>
</tbody>
</table>
<ul>
<li>A: When I go on vacation, will you take care of my dog?</li>
<li>B: Sure, Iâ€™ll take care of little Sammie.</li>
</ul>
<ul>
<li><p>Iâ€™ll drive you to the airport next week, if you want.</p>
</li>
<li><p>Will you get the bags?</p>
</li>
<li>Iâ€™ll make the reservations [rezÉ™â€™veÉªÊƒnz] </li>
</ul>
<h3 id="3-1-Grammar"><a href="#3-1-Grammar" class="headerlink" title="3.1 Grammar"></a>3.1 Grammar</h3><p><code>Try</code></p>
<ul>
<li>I canâ€™t go to the mall. Maybe Iâ€™ll try to buy something online.          </li>
<li>I donâ€™t like biking. Maybe Iâ€™ll try swimming on my vacation.</li>
</ul>
<blockquote>
<p>When the verb try is followed by an infinitive (to + verb), like to buy, it describes an attempt to do something.</p>
<p>When the verb try is followed by a gerund (verb + -ing), like swimming, it means doing something for the first time or doing something different.</p>
</blockquote>
<p><code>Remember</code></p>
<ul>
<li>I always remember to call my mother on Sunday.</li>
<li>I remember calling the neighbors.</li>
<li>I remember seeing  you at the party last week.</li>
</ul>
<blockquote>
<p>When the verb remember is followed by an infinitive, like to call, it describes remembering to do a duty or task.</p>
<p>When the verb remember is followed by a gerund, like calling, it describes a memory of something done in the past.</p>
</blockquote>
<p><code>Stop</code></p>
<ul>
<li>I stopped to eat when I got hungry.</li>
<li>I stopped eating when I felt sick.</li>
</ul>
<blockquote>
<p>When the verb stop is followed by an infinitive, like to eat, it describes stopping one action to begin another. In this example, the person was working, but stopped her work to eat.</p>
<p>When the verb stop is followed by a gerund, like eating, it describes a discontinued action.</p>
</blockquote>
<p><code>be going</code>, <code>want to</code>ã€<code>have to</code></p>
<ul>
<li>I have to go.</li>
<li>We have to be quick.    </li>
<li>She has to leave.</li>
<li>He has to get up early.</li>
</ul>
<h2 id="4-Describing-a-vacation"><a href="#4-Describing-a-vacation" class="headerlink" title="4. Describing a vacation"></a>4. Describing a vacation</h2><ul>
<li>I was sick, so I stayed home</li>
<li>I stayed home because I was sick.</li>
<li>In order to</li>
<li>embassy</li>
</ul>
<p><img src="/images/english/ef-l4u6l4.png" alt=""></p>
<audio src="/voices/ef/l4u6-vacation-describing.m4a" controls="controls"><br>Your browser does not support the audio tag.<br></audio>

<table>
<thead>
<tr>
<th>Dialog</th>
</tr>
</thead>
<tbody>
<tr>
<td>[PAM] Hey, Sally, we got a postcard from Simon.</td>
<td></td>
</tr>
<tr>
<td>[SALLY] Really? How are Simon and Jake doing? Where are they?</td>
<td></td>
</tr>
<tr>
<td>[PAM] Theyâ€™re in London. They went there to visit Simonâ€™s friend, Karl.</td>
<td></td>
</tr>
<tr>
<td>[SALLY] Go on, then. Read it!</td>
<td></td>
</tr>
<tr>
<td>[PAM] OK.</td>
<td></td>
</tr>
<tr>
<td>[PAM] Dear Pam and Sally. Weâ€™re relaxing in London. Weâ€™re eating out almost every night.</td>
<td></td>
</tr>
<tr>
<td>[PAM] The British Museum is incredible. Yesterday, we took a tour of the Tower of London.</td>
<td></td>
</tr>
<tr>
<td>[PAM] Jake lost his passport, so we have to stay in London an extra week.</td>
<td></td>
</tr>
<tr>
<td>[PAM] In order to get a new passport, we had to go to the <code>embassy</code>.</td>
<td></td>
</tr>
<tr>
<td>[PAM] I hope our money lasts because London is really expensive. Love, Simon.</td>
<td></td>
</tr>
<tr>
<td>[SALLY] Jake. Itâ€™s always Jake.</td>
<td></td>
</tr>
</tbody>
</table>
<h3 id="4-1-in-order-to-so-that"><a href="#4-1-in-order-to-so-that" class="headerlink" title="4.1 in order to / so that"></a>4.1 in order to / so that</h3><ul>
<li>In order to reserve our room, I called the hotel.</li>
<li>I called the hotel in order to reserve our room.</li>
</ul>
<ul>
<li>I turned off my phone so that I could relax.</li>
<li>So that I could relax, I turned off my phone. </li>
</ul>
<ul>
<li>I saved my money so I could visit Terry.</li>
</ul>
<h3 id="4-2-writing"><a href="#4-2-writing" class="headerlink" title="4.2 writing"></a>4.2 writing</h3><p>Hi, Nicole!</p>
<p>How are you? Iâ€™m going to stay another night in Mali so that I can relax and do more sightseeing. Today, Iâ€™ll take a tour  of Djenne to see the amazing old buildings. The downtown market is full of wonderful smells, so Iâ€™m eating a lot of good food. I hope my money lasts because Iâ€™m buying many beautiful clothes. Iâ€™ll give  some to you!   </p>
<p>Love, Megan </p>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[EF 4.5 Welcome]]></title>
      <url>http://iequa.com/2017/06/08/ef-l4u5-Welcome/</url>
      <content type="html"><![CDATA[<style>
img {
        display: block !important;
        width: 550px;
        margin-left: 120px !important;
}
audio {
        display: block !important;
        width: 550px;
        margin-left: 120px !important;
}

</style>


<h2 id="1-Inviting-someone-to-your-home"><a href="#1-Inviting-someone-to-your-home" class="headerlink" title="1. Inviting someone to your home"></a>1. Inviting someone to your home</h2><ul>
<li>that reminds me</li>
<li>by the way</li>
</ul>
<p><img src="/images/english/ef-l4u5l1.png" alt=""></p>
<table>
<thead>
<tr>
<th>Dialog</th>
</tr>
</thead>
<tbody>
<tr>
<td>[JOAN] Oh, Todd, did I tell you?</td>
<td></td>
</tr>
<tr>
<td>[TODD] What?</td>
<td></td>
</tr>
<tr>
<td>[JOAN] Al and I just bought a house.</td>
<td></td>
</tr>
<tr>
<td>[TODD] Really? Congratulations!</td>
<td></td>
</tr>
<tr>
<td>[JOAN] Thanks! Actually, weâ€™re a little nervous about it.</td>
<td></td>
</tr>
<tr>
<td>[TODD] I can imagine. Buying a house is a big decision.</td>
<td></td>
</tr>
<tr>
<td>[JOAN] Yes, it is. Anyway, weâ€™re having some people over on Saturday night.</td>
<td></td>
</tr>
<tr>
<td>[TODD] A housewarming party!</td>
<td></td>
</tr>
<tr>
<td>[JOAN] Exactly. Al and I were hoping you and Angela could come.</td>
<td></td>
</tr>
<tr>
<td>[TODD] Well, Iâ€™m <code>definitely</code> coming â€¦ [â€˜dÉ›fÉªnÉ™tli]</td>
<td></td>
</tr>
<tr>
<td>[JOAN] Great!</td>
<td></td>
</tr>
<tr>
<td>[TODD] But Angela probably canâ€™t come. Her mothersâ€™s sick.</td>
<td></td>
</tr>
<tr>
<td>[JOAN] Oh, thatâ€™s too bad.</td>
<td></td>
</tr>
<tr>
<td>[TODD] Yeah. Angelaâ€™s in Las Vegas, taking care of her.</td>
<td></td>
</tr>
<tr>
<td>[JOAN] I understand. Well, Iâ€™m happy you can come.</td>
<td></td>
</tr>
<tr>
<td>[TODD] Ah! That reminds me. Angelaâ€™s birthdayâ€™s in two weeks. Iâ€™m thinking about having a party for her.</td>
<td></td>
</tr>
<tr>
<td>[JOAN] Nice!.</td>
<td></td>
</tr>
<tr>
<td>[TODD] And Iâ€™d like you and Al to come.</td>
<td></td>
</tr>
<tr>
<td>[JOAN] Weâ€™d be <code>delighted</code>. [dÉªâ€™laÉªtÉªd]</td>
<td></td>
</tr>
<tr>
<td>[JOAN] Great!</td>
<td></td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr>
<th>Sentence</th>
</tr>
</thead>
<tbody>
<tr>
<td>Zach and I just bought a house.</td>
<td></td>
</tr>
<tr>
<td>Carla just got promoted.</td>
<td></td>
</tr>
<tr>
<td>Bill just got promoted to vice president.</td>
<td></td>
</tr>
<tr>
<td>Did you just go to the <code>grocery</code> store ?  <strong><em>[ËˆgroÊŠsÉ™ri]</em></strong></td>
<td></td>
</tr>
<tr>
<td>We should get together for dinner this week. <strong>What does your <code>schedule</code> look like?</strong></td>
<td></td>
</tr>
<tr>
<td>Great! Iâ€™m definitely coming.</td>
<td></td>
</tr>
<tr>
<td>Thanks - Iâ€™d be delighted.</td>
<td></td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr>
<th>Dialog</th>
</tr>
</thead>
<tbody>
<tr>
<td>DANA: OK, letâ€™s see â€¦ Whoâ€™s invited to the party?</td>
<td></td>
</tr>
<tr>
<td>JONATHAN: Natasha. She is <code>definitely</code> coming.</td>
<td></td>
</tr>
<tr>
<td>DANA: Great! How about Michael?</td>
<td></td>
</tr>
<tr>
<td>JONATHAN: <code>Probably not</code>.</td>
<td></td>
</tr>
<tr>
<td>DANA: Too bad! Anyway, Laurie <code>probably</code> can come.</td>
<td></td>
</tr>
<tr>
<td>JONATHAN: Cool.</td>
<td></td>
</tr>
<tr>
<td>DANA: And Kylie said â€˜<code>absolutely</code>.â€™</td>
<td></td>
</tr>
<tr>
<td>JONATHAN: Nice! <code>Maybe</code> she can bring her tasty, dark chocolate cake.</td>
<td></td>
</tr>
<tr>
<td>DANA: Maybe â€¦ or <code>maybe not</code>. Itâ€™s <code>unlikely</code>  . Sheâ€™s pretty busy.</td>
<td></td>
</tr>
</tbody>
</table>
<h2 id="2-Welcoming-someone-to-your-home"><a href="#2-Welcoming-someone-to-your-home" class="headerlink" title="2. Welcoming someone to your home"></a>2. Welcoming someone to your home</h2><ul>
<li>How was traffic ?</li>
<li>Can I get you something to drink? </li>
<li>whine [waÉªn]</li>
</ul>
<p><img src="/images/english/ef-l4u5l2.png" alt=""></p>
<table>
<thead>
<tr>
<th>Dialog</th>
</tr>
</thead>
<tbody>
<tr>
<td>[SOPHIE] Hi!</td>
<td></td>
</tr>
<tr>
<td>[SOPHIE] Oh, so good to see you. Iâ€™ve missed you so much.</td>
<td></td>
</tr>
<tr>
<td>[NANI] Me too!</td>
<td></td>
</tr>
<tr>
<td>[NANI] hey, Eric.</td>
<td></td>
</tr>
<tr>
<td>[ERIC] Hi, Nani, Great to see you.</td>
<td></td>
</tr>
<tr>
<td>[NANI] So, come in, come in. Make yourselves at home.</td>
<td></td>
</tr>
<tr>
<td>[NINA] Here - you can put those over there.</td>
<td></td>
</tr>
<tr>
<td>[NINA] <code>Can I get you something to drink?</code></td>
<td></td>
</tr>
<tr>
<td>[ERIC] That would be lovely, thanks.</td>
<td></td>
</tr>
<tr>
<td>[SOPHIE] Yes, Please.</td>
<td></td>
</tr>
<tr>
<td>[SOPHIE] Ummm, cup of tea?</td>
<td></td>
</tr>
<tr>
<td>[NINA] So how was your trip?</td>
<td></td>
</tr>
<tr>
<td>[SOPHIE] Yeah, it was fine, thanks.</td>
<td></td>
</tr>
<tr>
<td>[SOPHIE] <code>Except for Eric and his whining. &#39;Are we there yet? Are we there yet?&#39;</code></td>
<td></td>
</tr>
<tr>
<td>[ERIC] I was just wondering how much further we had to go.</td>
<td></td>
</tr>
<tr>
<td>[ERIC] Nina, your flat is lovely.</td>
<td></td>
</tr>
<tr>
<td>[NINA] Well, as you can see, thereâ€™s not much here yet.</td>
<td></td>
</tr>
<tr>
<td>[NINA] No sofa, no curtains.</td>
<td></td>
</tr>
<tr>
<td>[SOPHIE] Yeah, thatâ€™s OK.</td>
<td></td>
</tr>
<tr>
<td>[SOPHIE] We can sleep on the floor.</td>
<td></td>
</tr>
<tr>
<td>[SOPHIE] What? Come on, stop it!</td>
<td></td>
</tr>
<tr>
<td>[ERIC] No, itâ€™s not right.</td>
<td></td>
</tr>
<tr>
<td>[SOPHIE] Of course, we can.</td>
<td></td>
</tr>
<tr>
<td>[ERIC] Itâ€™s inappropriate.</td>
<td></td>
</tr>
<tr>
<td>[ERIC] I really liked the ones with tomato. They were the best.</td>
<td></td>
</tr>
<tr>
<td>[SOPHIE] Nina, letâ€™s go and see it.</td>
<td></td>
</tr>
<tr>
<td>[SOPHIE] The shop.</td>
<td></td>
</tr>
<tr>
<td>[NINA] Really?</td>
<td></td>
</tr>
<tr>
<td>[SOPHIE] Yeah !</td>
<td></td>
</tr>
<tr>
<td>[NINA] You want to see it?</td>
<td></td>
</tr>
<tr>
<td>[SOPHIE] Course, I do.</td>
<td></td>
</tr>
<tr>
<td>[NINA] Itâ€™s a bit late.</td>
<td></td>
</tr>
<tr>
<td>[SOPHIE] No, it isnâ€™t. Come on.</td>
<td></td>
</tr>
<tr>
<td>[SOPHIE] I know itâ€™s a big step for you.</td>
<td></td>
</tr>
<tr>
<td>[SOPHIE] And, um, speaking of big steps â€¦</td>
<td></td>
</tr>
<tr>
<td>[SOPHIE] Eric and I have something we want to tell you â€¦</td>
<td></td>
</tr>
<tr>
<td>[SOPHIE] Weâ€™re going to have a baby!</td>
<td></td>
</tr>
</tbody>
</table>
<h3 id="make-politely-offers"><a href="#make-politely-offers" class="headerlink" title="make politely offers"></a>make politely offers</h3><p>Use would you like to politely offer something to your guest</p>
<ul>
<li>Would you like something to drink?                            </li>
<li>Would you like to have a seat?</li>
</ul>
<p>Use could or may to make a polite request of your host.</p>
<ul>
<li>May I use the restroom?</li>
<li>Could I have some water?</li>
</ul>
<table>
<thead>
<tr>
<th>Dialog</th>
</tr>
</thead>
<tbody>
<tr>
<td>MRS. KUMAR: Welcome. Nice to see you.</td>
<td></td>
</tr>
<tr>
<td>MR. BRADLEY: Very nice to see  you, too, Mrs. Kumar.</td>
<td></td>
</tr>
<tr>
<td>MRS. KUMAR: Please come in.</td>
<td></td>
</tr>
<tr>
<td>MR. BRADLEY: You have a beautiful home.</td>
<td></td>
</tr>
<tr>
<td>MRS. KUMAR: Thank you. Would you like to have a seat?</td>
<td></td>
</tr>
<tr>
<td>MR. BRADLEY: Yes, thanks.</td>
<td></td>
</tr>
<tr>
<td>MRS. KUMAR: And would you like something to drink ?</td>
<td></td>
</tr>
<tr>
<td>MR. BRADLEY: Please. Could I have some water?</td>
<td></td>
</tr>
<tr>
<td>MRS. KUMAR: Of course.</td>
<td></td>
</tr>
</tbody>
</table>
<p>If you have a drink, you can say to your and cheers to offer a toast.</p>
<ul>
<li><code>To your new job! Cheers!</code></li>
<li>To your new baby. Cheers!</li>
<li>To your retirement. Cheers!</li>
</ul>
<p>You can use itâ€™s crazy to react to both good and bad news.</p>
<ul>
<li>I was surprised to get this great promotion. Itâ€™s crazy.</li>
<li><code>It felt terrible to get fired. It&#39;s totally crazy.</code></li>
</ul>
<blockquote>
<p>Absolutely, Itâ€™s right over there</p>
</blockquote>
<h2 id="3-Parting-at-the-end-of-an-evening"><a href="#3-Parting-at-the-end-of-an-evening" class="headerlink" title="3. Parting at the end of an evening"></a>3. Parting at the end of an evening</h2><ul>
<li>great - wonderful - delightful - ç¾å¥½çš„/ç¾å¦™çš„/ä»¤äººæ„‰æ‚…çš„                          </li>
<li>fun - enjoyable</li>
<li>happy - glad - pleased </li>
<li>beautiful - lovely - gorgeous - æ¼‚äº®çš„/å¯æ„›çš„/è¯éº—çš„ [â€˜É¡É”rdÊ’É™s]</li>
<li>delicious - tasty - yummy</li>
</ul>
<p><img src="/images/english/ef-l4u5l3.png" alt=""></p>
<table>
<thead>
<tr>
<th>Dialog</th>
<th>-</th>
</tr>
</thead>
<tbody>
<tr>
<td>[ERIC] Have you got everything?</td>
<td>ä½ çš„æ±è¥¿éƒ½é½Šäº†å—ï¼Ÿ</td>
</tr>
<tr>
<td>[SOPHIE] I think so.</td>
<td></td>
</tr>
<tr>
<td>[ERIC] Iâ€™ll take that.</td>
<td></td>
</tr>
<tr>
<td>[SOPHIE] OK, thanks.</td>
<td></td>
</tr>
<tr>
<td>[SOPHIE] Well, thatâ€™s us then.</td>
<td></td>
</tr>
<tr>
<td>[SOPHIE] <code>Thanks for inviting us.</code></td>
<td></td>
</tr>
<tr>
<td>[NINA] Thanks for coming.</td>
<td></td>
</tr>
<tr>
<td>[SOPHIE] Your shopâ€™s really lovely.</td>
<td></td>
</tr>
<tr>
<td>[NINA] Thanks</td>
<td></td>
</tr>
<tr>
<td>[SOPHIE] <code>We had a great time.</code></td>
<td></td>
</tr>
<tr>
<td>[SOPHIE] You must come to us next time, okay?</td>
<td></td>
</tr>
<tr>
<td>[NINA] I will.</td>
<td></td>
</tr>
<tr>
<td>[ERIC] It was lovely to see again.</td>
<td></td>
</tr>
<tr>
<td>[NINA] And you.</td>
<td></td>
</tr>
<tr>
<td>[SOPHIE] take care.</td>
<td></td>
</tr>
<tr>
<td>[ERIC] Good luck with the shop.</td>
<td></td>
</tr>
<tr>
<td>[NINA] Drive safely.</td>
<td></td>
</tr>
<tr>
<td>[NINA] All right, Bye.</td>
<td></td>
</tr>
</tbody>
</table>
<blockquote>
<p>Next time, itâ€™s our turn to host.<br>Iâ€™m glad you enjoyed it.   enjoyedit</p>
</blockquote>
<h3 id="Sentence"><a href="#Sentence" class="headerlink" title="Sentence"></a>Sentence</h3><ul>
<li>The price of petrol is really going up.</li>
<li>I definitely need some gas.</li>
<li>Do you have the car keys?</li>
</ul>
<h3 id="American-amp-British"><a href="#American-amp-British" class="headerlink" title="American &amp; British"></a>American &amp; British</h3><table>
<thead>
<tr>
<th>American</th>
<th>British</th>
</tr>
</thead>
<tbody>
<tr>
<td>restroom</td>
<td>toilet</td>
</tr>
<tr>
<td>gas</td>
<td>petrol</td>
</tr>
<tr>
<td>cellphone</td>
<td>mobile</td>
</tr>
<tr>
<td>Thatâ€™s exactly right!</td>
<td>Spot on!</td>
</tr>
<tr>
<td>Do you have a pen?</td>
<td>Have you got a pen?</td>
</tr>
</tbody>
</table>
<h2 id="4-Thanking-someone-on-the-phone"><a href="#4-Thanking-someone-on-the-phone" class="headerlink" title="4. Thanking someone on the phone"></a>4. Thanking someone on the phone</h2><ul>
<li>I hope to see you again soon.                  </li>
<li>I hope that I see you again soon. </li>
</ul>
<ul>
<li>A: I hope to see you again soon.                </li>
<li>B: I hope so, too.</li>
</ul>
<p><img src="/images/english/ef-l4u5l4.png" alt=""></p>
<table>
<thead>
<tr>
<th>TODD to Joan</th>
</tr>
</thead>
<tbody>
<tr>
<td>Dear Joan, Thank you for inviting me to your housewarming party.</td>
<td></td>
</tr>
<tr>
<td>I had a really good time. Your new home is lovely.</td>
<td></td>
</tr>
<tr>
<td>And the food was delicious.</td>
<td></td>
</tr>
<tr>
<td>I hope that I see you and Al again soon.</td>
<td></td>
</tr>
<tr>
<td>Sincerely, Todd.  [sÉªnËˆsÉªÉ™li]</td>
<td></td>
</tr>
<tr>
<td>[TODD] Oh, uh, Joan. Your, um, party was wonderful. I really enjoyed myself. Your new home is beautiful. And I loved the food.</td>
<td></td>
</tr>
<tr>
<td>[JOAN] Thanks.</td>
<td></td>
</tr>
<tr>
<td>[TODD] I hope to see you and Al again soon.</td>
<td></td>
</tr>
<tr>
<td>[JOAN] I hope so, too. Actually, youâ€™ll see me very soon. We, uh, have a meeting in five minutes.</td>
<td></td>
</tr>
</tbody>
</table>
<blockquote>
<p>uhï¼Œum å—¯</p>
</blockquote>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[EF 4.4 MileStones]]></title>
      <url>http://iequa.com/2017/06/07/ef-l4u4-Milestones/</url>
      <content type="html"><![CDATA[<style>
img {
        display: block !important;
        width: 550px;
        margin-left: 120px !important;
}
audio {
        display: block !important;
        width: 550px;
        margin-left: 120px !important;
}

</style>

<h2 id="1-Talking-about-your-life"><a href="#1-Talking-about-your-life" class="headerlink" title="1. Talking about your life"></a>1. Talking about your life</h2><ul>
<li>I wasnâ€™t born in a hospital.</li>
<li>I didnâ€™t get promoted.</li>
</ul>
<p><img src="/images/english/ef-l4u4l1.png" alt=""></p>
<table>
<thead>
<tr>
<th>Dialog</th>
</tr>
</thead>
<tbody>
<tr>
<td>[NANCY] Did you watch TV all day?</td>
<td></td>
</tr>
<tr>
<td>[BOB] My wife worked all day.</td>
<td></td>
</tr>
<tr>
<td>[BOB] What did I do ?</td>
<td></td>
</tr>
<tr>
<td>[BOB] I just sat in front of the TV. But <code>I&#39;m retired</code>. I mean, <code>I have all this time on my hands</code>.</td>
<td></td>
</tr>
<tr>
<td>[EMMA] I graduated from university last year.</td>
<td></td>
</tr>
<tr>
<td>[EMMA] Iâ€™m <code>looking for a job</code>, but â€¦ you know, itâ€™s not that easy.</td>
<td></td>
</tr>
</tbody>
</table>
<blockquote>
<p>noun : death, retirement, marriage, birth, graduation </p>
</blockquote>
<h3 id="make-past-tense-questions"><a href="#make-past-tense-questions" class="headerlink" title="make past tense questions."></a>make past tense questions.</h3><ul>
<li>Where were you born?</li>
<li>I was born in Seoul.</li>
</ul>
<ul>
<li>A: Where did you grow up?</li>
<li>B: I grew up in <strong>Belgium</strong>.</li>
</ul>
<blockquote>
<p> æ¯”åˆ©æ—¶</p>
</blockquote>
<ul>
<li>When did she start working there?</li>
</ul>
<table>
<thead>
<tr>
<th>Dialog</th>
</tr>
</thead>
<tbody>
<tr>
<td>JAMES: So, Hailey, letâ€™s start with some basic information. Where were you born?</td>
<td></td>
</tr>
<tr>
<td>HAILEY: I was born in  Amman, Jordan.</td>
<td></td>
</tr>
<tr>
<td>JAMES: And when were you born?</td>
<td></td>
</tr>
<tr>
<td>HAILEY: I was born on  April 22nd. The first day of spring.</td>
<td></td>
</tr>
<tr>
<td>JAMES: Thatâ€™s lucky. And, uh, where did you grow up?</td>
<td></td>
</tr>
<tr>
<td>HAILEY: I grew up  with my family in Al Karak, Jordan. Near the Dead Sea.</td>
<td></td>
</tr>
<tr>
<td>JAMES: Beautiful. And now a question about your high school, or university. Where did you graduate from  ?</td>
<td></td>
</tr>
<tr>
<td>HAILEY: I graduated from  the University of Chicago in 2009.</td>
<td></td>
</tr>
<tr>
<td>JAMES: Uh-huh? Now letâ€™s talk about your work experience. Where are you working?</td>
<td></td>
</tr>
<tr>
<td>HAILEY: Iâ€™m working at Carter and Lindsey, in Chicago, as the creative director.</td>
<td></td>
</tr>
<tr>
<td>JAMES: And when did you start working there?</td>
<td></td>
</tr>
<tr>
<td>HAILEY: I got my job  there in May 2011.</td>
<td></td>
</tr>
</tbody>
</table>
<blockquote>
<p>Geneva<br>Itâ€™s my pleasure</p>
</blockquote>
<h2 id="2-Discussing-important-life-events"><a href="#2-Discussing-important-life-events" class="headerlink" title="2. Discussing important life events"></a>2. Discussing important life events</h2><ul>
<li>Itâ€™s my turn, right?</li>
<li>people got married very young then</li>
</ul>
<p><img src="/images/english/ef-l4u4l2.png" alt=""></p>
<h3 id="2-1-â€˜Getâ€™-for-life-events"><a href="#2-1-â€˜Getâ€™-for-life-events" class="headerlink" title="2.1 â€˜Getâ€™ for life events"></a>2.1 â€˜Getâ€™ for life events</h3><ul>
<li>get married</li>
<li>get pregnant [â€˜prÉ›É¡nÉ™nt]</li>
<li>get over a relationship</li>
<li>get a degree</li>
<li>get a job</li>
<li>get promoted</li>
<li>get fired</li>
<li>get a driverâ€™s license</li>
<li>get old</li>
</ul>
<blockquote>
<p>My best friend is six months pregnant<br>Sheâ€™s getting her driverâ€™s license next year.<br>Theyâ€™re getting married next month.</p>
</blockquote>
<h3 id="2-2-Clauses-with-â€˜whenâ€™"><a href="#2-2-Clauses-with-â€˜whenâ€™" class="headerlink" title="2.2 Clauses with â€˜whenâ€™"></a>2.2 Clauses with â€˜whenâ€™</h3><ul>
<li>When I was young, we didnâ€™t sit around all day texting.</li>
<li>Do you remember when we bought that house on Oak Street.</li>
<li>She spent a lot of time in her car when she first got her driverâ€™s license.</li>
</ul>
<h3 id="2-3-text"><a href="#2-3-text" class="headerlink" title="2.3 text"></a>2.3 text</h3><p>I got my driverâ€™s license when I was  16. <code>I was 18 years old when I got  my first job.</code> When I was 21, I graduated from university. When I was 23, I left New York. When I was married for two years, I got pregnant.</p>
<blockquote>
<p>Tell me something about yourself.<br>What do you want to know?<br>When did you get your first job?<br>She left Los Angeles when she got divorced.</p>
</blockquote>
<h2 id="3-Giving-details-about-someoneâ€™s-life"><a href="#3-Giving-details-about-someoneâ€™s-life" class="headerlink" title="3. Giving details about someoneâ€™s life"></a>3. Giving details about someoneâ€™s life</h2><ul>
<li>move out</li>
<li>meet the love of her life</li>
</ul>
<p><img src="/images/english/ef-l4u4l3.png" alt=""></p>
<table>
<thead>
<tr>
<th>More life events</th>
</tr>
</thead>
<tbody>
<tr>
<td>I first traveled abroad when I was 15.</td>
<td></td>
</tr>
<tr>
<td>I got my first car when I was 17.</td>
<td></td>
</tr>
<tr>
<td>I moved away from home when I was 18.</td>
<td></td>
</tr>
<tr>
<td>I moved out of my parentsâ€™ house when I was 18.</td>
<td></td>
</tr>
<tr>
<td>I met the love of my life when I was 22.</td>
<td></td>
</tr>
<tr>
<td>We fell in love and got married.</td>
<td></td>
</tr>
<tr>
<td>We had our first child when I was 25.</td>
<td></td>
</tr>
</tbody>
</table>
<p>I first <code>traveled abroad</code> when I was 16. I went to Paris with my family. It was fantastic. The next year, I got my first car. It was red! I <strong>moved out of my parentsâ€™ house</strong> when I was 18, to go to university. I got my first apartment with a friend near the university. <code>My second year of university</code>, I met the love of my life. We fell in love and got married one year later. We had our first child after we graduated from university. I was only 22!  We didnâ€™t have a lot of money, but we were happy.</p>
<blockquote>
<p>He traveled abroad after he graduated.</p>
</blockquote>
<table>
<thead>
<tr>
<th>Clauses with â€˜afterâ€™</th>
</tr>
</thead>
<tbody>
<tr>
<td>After I moved out of my parentsâ€™ house, I got my first apartment.</td>
<td></td>
</tr>
<tr>
<td>I got my first apartment after I moved out of my parentsâ€™ house.</td>
<td></td>
</tr>
</tbody>
</table>
<p>I was born in 1975. I got my first car when I was 16 years old. After I graduated from high school, I moved out of my parentsâ€™ house. After I got an apartment, I got a good job. I met a girl at work, and we fell in love. After <code>I got a promotion</code>, we got married. When our first child was born, I really became an adult.</p>
<h2 id="4-Interviewing-for-a-job"><a href="#4-Interviewing-for-a-job" class="headerlink" title="4. Interviewing for a job"></a>4. Interviewing for a job</h2><ul>
<li>appointment</li>
<li>candidate</li>
<li>strengths [streÅ‹Î¸s] </li>
<li>opportunity</li>
</ul>
<p><img src="/images/english/ef-l4u4l4.png" alt=""></p>
<audio src="/voices/ef/l4u4-interviewing-for-a-job.m4a" controls="controls"><br>Your browser does not support the audio tag.<br></audio>

<table>
<thead>
<tr>
<th>Dialog</th>
</tr>
</thead>
<tbody>
<tr>
<td>[SALLY] Can I help you?</td>
<td></td>
</tr>
<tr>
<td>[CAROL] Yes. I <code>have a 2 oâ€™clock appointment</code> with Joan Baxter.</td>
<td></td>
</tr>
<tr>
<td>[SALLY] Oh, yes. Thatâ€™s her office over there. Sheâ€™s waiting for you. Good luck!</td>
<td></td>
</tr>
<tr>
<td>[CAROL] Thanks.</td>
<td></td>
</tr>
<tr>
<td>[CAROL] Hi. Iâ€™m Carol.</td>
<td></td>
</tr>
<tr>
<td>[JOAN] Nice to meet you, Carol. Have a seat.</td>
<td></td>
</tr>
<tr>
<td>[CAROL] Thanks.</td>
<td></td>
</tr>
<tr>
<td>[JOAN] So, <code>Iâ€™ve looked over your resume</code>, and Iâ€™ve talked with Todd.</td>
<td></td>
</tr>
<tr>
<td>[JOAN] He was very impressed with your last interview. He thinks youâ€™re a <code>suitable candidate</code> for the position.</td>
<td></td>
</tr>
<tr>
<td>[CAROL] Iâ€™m happy to hear that.</td>
<td></td>
</tr>
<tr>
<td>[JOAN] Youâ€™re a designer over at Future Studios?</td>
<td></td>
</tr>
<tr>
<td>[CAROL] Yes, thatâ€™s right. For six years now.</td>
<td></td>
</tr>
<tr>
<td>[JOAN] Why do you wanna leave?</td>
<td></td>
</tr>
<tr>
<td>[CAROL] Opportunity. I mean, Future Studios is a very small company, with only three designers. There isnâ€™t much chance for me to advance.</td>
<td></td>
</tr>
<tr>
<td>[JOAN] I see.</td>
<td></td>
</tr>
<tr>
<td>[CAROL] And you are looking for a senior designer.</td>
<td></td>
</tr>
<tr>
<td>[JOAN] Thatâ€™s right. So, what do you think are your strengths?</td>
<td></td>
</tr>
<tr>
<td>[CAROL] Well, Iâ€™m very creative. My boss and the other designers love my designs.</td>
<td></td>
</tr>
<tr>
<td>[JOAN] Yes. Your designs are impressive.</td>
<td></td>
</tr>
<tr>
<td>[CAROL] Thank you. I also have an excellent technical background.</td>
<td></td>
</tr>
<tr>
<td>[JOAN] <code>When would you be available to start?</code></td>
<td></td>
</tr>
<tr>
<td>[CAROL] I could start next month.</td>
<td></td>
</tr>
<tr>
<td>[JOAN] Great! Well, Iâ€™d like you to talk to a few other members of the team. Uh, do you have time now?</td>
<td></td>
</tr>
<tr>
<td>[CAROL] Yes, I do. That would be great.</td>
<td></td>
</tr>
<tr>
<td>[JOAN] Okay. Come this way.</td>
<td></td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr>
<th>interview sentence 1</th>
</tr>
</thead>
<tbody>
<tr>
<td>Can you send me your resume?</td>
<td></td>
</tr>
<tr>
<td>There are many candidates for this job.</td>
<td></td>
</tr>
<tr>
<td>Iâ€™m very interested in the position.</td>
<td></td>
</tr>
<tr>
<td>I have an appointment to talk to the manager.</td>
<td></td>
</tr>
<tr>
<td>I have an interview on Thursday.</td>
<td></td>
</tr>
<tr>
<td>This is a really good opportunity for me.</td>
<td></td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr>
<th>interview sentence 2</th>
</tr>
</thead>
<tbody>
<tr>
<td>Do you have any teaching experience?</td>
<td></td>
</tr>
<tr>
<td>Could you talk about your education?</td>
<td></td>
</tr>
<tr>
<td>What are your strengths?</td>
<td></td>
</tr>
<tr>
<td>What is your greatest weakness?</td>
<td></td>
</tr>
<tr>
<td>Tell me about your work background.</td>
<td></td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr>
<th>interview sentence 3</th>
</tr>
</thead>
<tbody>
<tr>
<td>Could you come back for a second interview?</td>
<td></td>
</tr>
<tr>
<td>Iâ€™d like to introduce you to the other people on the team.</td>
<td></td>
</tr>
<tr>
<td>How is February 1st as a start date?</td>
<td></td>
</tr>
</tbody>
</table>
<h3 id="reading"><a href="#reading" class="headerlink" title="reading"></a>reading</h3><p>Thank you very much for this opportunity to speak with you. I think I am a very strong candidate for this position. As you can see on my resume, I have a lot of work experience, and my university education was excellent. I want to talk to you about both my strengths and weaknesses. I know I can do great work on your team  .</p>
<h3 id="interview-dialog"><a href="#interview-dialog" class="headerlink" title="interview dialog"></a>interview dialog</h3><ul>
<li>I have a 3 oâ€™clock job interview with Ken Smith.</li>
<li>Thank you for seeing me, Mr. Smith.</li>
<li>Thank you for the opportunity to meet with you.</li>
</ul>
<table>
<thead>
<tr>
<th>Dialog</th>
</tr>
</thead>
<tbody>
<tr>
<td>INTERVIEWER: Good afternoon. Iâ€™m Carol Higgins, <code>director of Human Resources</code>. Please have a seat.</td>
<td></td>
</tr>
<tr>
<td>CANDIDATE: Thank you. And thank you very much <code>for speaking with me</code> today.</td>
<td></td>
</tr>
<tr>
<td>INTERVIEWER: My pleasure. Your resume is impressive. I think you are a strong candidate for the position of IT manager.  I just have one question about your resume. Who was your supervisor at Data Systems?</td>
<td></td>
</tr>
<tr>
<td>CANDIDATE: Oh, that was Trisha Chambers. She left the company last month.</td>
<td></td>
</tr>
<tr>
<td>INTERVIEWER: Why is that, and why do you want to leave?</td>
<td></td>
</tr>
<tr>
<td>CANDIDATE: Well, I donâ€™t think the work is challenging  . Business isnâ€™t good, and people are worried.</td>
<td></td>
</tr>
<tr>
<td>INTERVIEWER: I see. And you like a good challenge?</td>
<td></td>
</tr>
<tr>
<td>CANDIDATE: I do. The more challenging, the better.</td>
<td></td>
</tr>
<tr>
<td>INTERVIEWER: Good. How about weaknesses ? Where do you think you need to improve?</td>
<td></td>
</tr>
<tr>
<td>CANDIDATE: Well, sometimes I try to do too much. I need to work on one thing at a time.</td>
<td></td>
</tr>
</tbody>
</table>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[Python Basic Learning III (not finish)]]></title>
      <url>http://iequa.com/2017/06/05/py-language-basic-learning-III/</url>
      <content type="html"><![CDATA[<h2 id="1-å‡½æ•°å¼ç¼–ç¨‹"><a href="#1-å‡½æ•°å¼ç¼–ç¨‹" class="headerlink" title="1. å‡½æ•°å¼ç¼–ç¨‹"></a>1. å‡½æ•°å¼ç¼–ç¨‹</h2><p>å‡½æ•°å°±æ˜¯é¢å‘è¿‡ç¨‹çš„ç¨‹åºè®¾è®¡çš„åŸºæœ¬å•å…ƒã€‚</p>
<p>Functional Programming å…¶æ€æƒ³æ›´æ¥è¿‘æ•°å­¦è®¡ç®—ã€‚</p>
<p>åœ¨è®¡ç®—æœºçš„å±‚æ¬¡ä¸Šï¼ŒCPUæ‰§è¡Œçš„æ˜¯åŠ å‡ä¹˜é™¤çš„æŒ‡ä»¤ä»£ç ï¼Œä»¥åŠå„ç§æ¡ä»¶åˆ¤æ–­å’Œè·³è½¬æŒ‡ä»¤ï¼Œæ‰€ä»¥ï¼Œæ±‡ç¼–è¯­è¨€æ˜¯æœ€è´´è¿‘è®¡ç®—æœºçš„è¯­è¨€ã€‚</p>
<p>è€Œè®¡ç®—åˆ™æŒ‡æ•°å­¦æ„ä¹‰ä¸Šçš„è®¡ç®—ï¼Œè¶Šæ˜¯æŠ½è±¡çš„è®¡ç®—ï¼Œç¦»è®¡ç®—æœºç¡¬ä»¶è¶Šè¿œã€‚</p>
<p>å¯¹åº”åˆ°ç¼–ç¨‹è¯­è¨€ï¼Œå°±æ˜¯è¶Šä½çº§çš„è¯­è¨€ï¼Œè¶Šè´´è¿‘è®¡ç®—æœºï¼ŒæŠ½è±¡ç¨‹åº¦ä½ï¼Œæ‰§è¡Œæ•ˆç‡é«˜ï¼Œæ¯”å¦‚Cè¯­è¨€ï¼›è¶Šé«˜çº§çš„è¯­è¨€ï¼Œè¶Šè´´è¿‘è®¡ç®—ï¼ŒæŠ½è±¡ç¨‹åº¦é«˜ï¼Œæ‰§è¡Œæ•ˆç‡ä½ï¼Œæ¯”å¦‚Lispè¯­è¨€ã€‚</p>
<p>å‡½æ•°å¼ç¼–ç¨‹å°±æ˜¯ä¸€ç§æŠ½è±¡ç¨‹åº¦å¾ˆé«˜çš„ç¼–ç¨‹èŒƒå¼ï¼Œ<code>çº¯ç²¹çš„å‡½æ•°å¼ç¼–ç¨‹è¯­è¨€ç¼–å†™çš„å‡½æ•°æ²¡æœ‰å˜é‡</code>ï¼Œå› æ­¤ï¼Œä»»æ„ä¸€ä¸ªå‡½æ•°ï¼Œåªè¦è¾“å…¥æ˜¯ç¡®å®šçš„ï¼Œè¾“å‡ºå°±æ˜¯ç¡®å®šçš„ï¼Œè¿™ç§çº¯å‡½æ•°æˆ‘ä»¬ç§°ä¹‹ä¸ºæ²¡æœ‰å‰¯ä½œç”¨ã€‚è€Œå…è®¸ä½¿ç”¨å˜é‡çš„ç¨‹åºè®¾è®¡è¯­è¨€ï¼Œç”±äºå‡½æ•°å†…éƒ¨çš„å˜é‡çŠ¶æ€ä¸ç¡®å®šï¼ŒåŒæ ·çš„è¾“å…¥ï¼Œå¯èƒ½å¾—åˆ°ä¸åŒçš„è¾“å‡ºï¼Œå› æ­¤ï¼Œè¿™ç§å‡½æ•°æ˜¯æœ‰å‰¯ä½œç”¨çš„ã€‚</p>
<p>å‡½æ•°å¼ç¼–ç¨‹çš„ä¸€ä¸ªç‰¹ç‚¹å°±æ˜¯ï¼Œå…è®¸æŠŠå‡½æ•°æœ¬èº«ä½œä¸ºå‚æ•°ä¼ å…¥å¦ä¸€ä¸ªå‡½æ•°ï¼Œè¿˜å…è®¸è¿”å›ä¸€ä¸ªå‡½æ•°ï¼</p>
<p>Pythonå¯¹å‡½æ•°å¼ç¼–ç¨‹æä¾›éƒ¨åˆ†æ”¯æŒã€‚ç”±äºPythonå…è®¸ä½¿ç”¨å˜é‡ï¼Œå› æ­¤ï¼ŒPythonä¸æ˜¯çº¯å‡½æ•°å¼ç¼–ç¨‹è¯­è¨€ã€‚</p>
<h3 id="1-1-é«˜é˜¶å‡½æ•°"><a href="#1-1-é«˜é˜¶å‡½æ•°" class="headerlink" title="1.1 é«˜é˜¶å‡½æ•°"></a>1.1 é«˜é˜¶å‡½æ•°</h3><p>Higher-order function</p>
<h2 id="2-æ¨¡å—"><a href="#2-æ¨¡å—" class="headerlink" title="2. æ¨¡å—"></a>2. æ¨¡å—</h2><blockquote>
<p>Pythonå†…ç½®çš„æ¨¡å— å’Œ æ¥è‡ªç¬¬ä¸‰æ–¹çš„æ¨¡å—ã€‚</p>
<p>æ¯ä¸€ä¸ªåŒ…ç›®å½•ä¸‹é¢éƒ½ä¼šæœ‰ä¸€ä¸ª<strong>init</strong>.pyçš„æ–‡ä»¶ï¼Œè¿™ä¸ªæ–‡ä»¶æ˜¯å¿…é¡»å­˜åœ¨çš„ï¼Œå¦åˆ™ï¼ŒPythonå°±æŠŠè¿™ä¸ªç›®å½•å½“æˆæ™®é€šç›®å½•ï¼Œè€Œä¸æ˜¯ä¸€ä¸ªåŒ…ã€‚</p>
</blockquote>
<h2 id="Reference-article"><a href="#Reference-article" class="headerlink" title="Reference article"></a>Reference article</h2><ul>
<li><a href="http://www.liaoxuefeng.com/wiki/001374738125095c955c1e6d8bb493182103fac9270762a000/001386819196283586a37629844456ca7e5a7faa9b94ee8000" target="_blank" rel="external">å»–é›ªå³°çš„å®˜æ–¹ç½‘ç«™ liaoxuefeng</a></li>
</ul>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[Python Class]]></title>
      <url>http://iequa.com/2017/06/05/py-language-8-class/</url>
      <content type="html"><![CDATA[<p>OO æœ€é‡è¦çš„æ¦‚å¿µå°±æ˜¯ç±»ï¼ˆClassï¼‰å’Œå®ä¾‹ï¼ˆInstanceï¼‰ï¼Œå¿…é¡»ç‰¢è®°ç±»æ˜¯æŠ½è±¡çš„æ¨¡æ¿ï¼Œæ¯”å¦‚Studentç±»</p>
<a id="more"></a>
<h2 id="Class-def"><a href="#Class-def" class="headerlink" title="Class def"></a>Class def</h2><p>class å®šä¹‰ä¸€ä¸ªç±»,é¦–å­—æ¯å¤§å†™ï¼Œæ¯”å¦‚ Calculator. classå¯ä»¥å…ˆå®šä¹‰è‡ªå·±çš„å±æ€§ï¼Œæ¯”å¦‚ name=â€™Good Calculatorâ€™. </p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Calculator</span>:</span>       <span class="comment">#é¦–å­—æ¯è¦å¤§å†™ï¼Œå†’å·ä¸èƒ½ç¼º</span></span><br><span class="line">    </span><br><span class="line">    name=<span class="string">'Good Calculator'</span>  <span class="comment">#è¯¥è¡Œä¸ºclassçš„å±æ€§</span></span><br><span class="line">    price=<span class="number">18</span></span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">add</span><span class="params">(self,x,y)</span>:</span></span><br><span class="line">        print(self.name)</span><br><span class="line">        result = x + y</span><br><span class="line">        print(result)</span><br><span class="line">        </span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">minus</span><span class="params">(self,x,y)</span>:</span></span><br><span class="line">        result=x-y</span><br><span class="line">        print(result)</span><br><span class="line">        </span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">times</span><span class="params">(self,x,y)</span>:</span></span><br><span class="line">        print(x*y)</span><br><span class="line">        </span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">divide</span><span class="params">(self,x,y)</span>:</span></span><br><span class="line">        print(x/y)</span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">cal=Calculator()</span><br><span class="line"></span><br><span class="line">print(cal.name)</span><br><span class="line">print(cal.price)</span><br></pre></td></tr></table></figure>
<pre><code>Good Calculator
18
</code></pre><figure class="highlight python"><table><tr><td class="code"><pre><span class="line">cal.add(<span class="number">10</span>,<span class="number">20</span>)</span><br><span class="line">cal.minus(<span class="number">10</span>,<span class="number">20</span>)</span><br><span class="line">cal.times(<span class="number">10</span>,<span class="number">20</span>)</span><br><span class="line">cal.divide(<span class="number">10</span>,<span class="number">20</span>)</span><br></pre></td></tr></table></figure>
<pre><code>Good Calculator
30
-10
200
0.5
</code></pre><h2 id="Class-init"><a href="#Class-init" class="headerlink" title="Class init"></a>Class init</h2><p>è¿è¡Œ <code>c=Calculator(&#39;bad calculator&#39;,18,17,16,15)</code>, ç„¶åè°ƒå‡ºæ¯ä¸ªåˆå§‹å€¼çš„å€¼</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Calculator</span>:</span></span><br><span class="line">    name=<span class="string">'good calculator'</span></span><br><span class="line">    price=<span class="number">18</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self,name,price,height,width,weight)</span>:</span>   <span class="comment"># æ³¨æ„ï¼Œè¿™é‡Œçš„ä¸‹åˆ’çº¿æ˜¯åŒä¸‹åˆ’çº¿</span></span><br><span class="line">        self.name=name</span><br><span class="line">        self.price=price</span><br><span class="line">        self.h=height</span><br><span class="line">        self.wi=width</span><br><span class="line">        self.we=weight</span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">c=Calculator(<span class="string">'bad calculator'</span>,<span class="number">18</span>,<span class="number">17</span>,<span class="number">16</span>,<span class="number">15</span>)</span><br><span class="line">print(c.name)</span><br><span class="line">print(c.price)</span><br><span class="line">print(c.h)</span><br><span class="line">print(c.wi)</span><br><span class="line">print(c.we)</span><br></pre></td></tr></table></figure>
<pre><code>bad calculator
18
17
16
15
</code></pre><h3 id="è®¾ç½®classå±æ€§é»˜è®¤å€¼"><a href="#è®¾ç½®classå±æ€§é»˜è®¤å€¼" class="headerlink" title="è®¾ç½®classå±æ€§é»˜è®¤å€¼"></a>è®¾ç½®classå±æ€§é»˜è®¤å€¼</h3><p>å¦‚ä½•è®¾ç½®å±æ€§çš„é»˜è®¤å€¼, ç›´æ¥åœ¨defé‡Œè¾“å…¥å³å¯ï¼Œå¦‚ä¸‹:</p>
<p><code>def __init__(self,name,price,height=10,width=14,weight=16):</code></p>
<p>æŸ¥çœ‹è¿è¡Œç»“æœï¼Œ ä¸‰ä¸ªæœ‰é»˜è®¤å€¼çš„å±æ€§ï¼Œå¯ä»¥ç›´æ¥è¾“å‡ºé»˜è®¤å€¼.</p>
<p>è¿™äº›é»˜è®¤å€¼å¯ä»¥åœ¨codeä¸­æ›´æ”¹, æ¯”å¦‚<code>c.wi=17</code>å†è¾“å‡º<code>c.wi</code>å°±ä¼šæŠŠ<code>wi</code>å±æ€§å€¼æ›´æ”¹ä¸º<code>17</code>.</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Calculator</span>:</span></span><br><span class="line">    name=<span class="string">'good calculator'</span></span><br><span class="line">    price=<span class="number">18</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self,name,price,hight=<span class="number">10</span>,width=<span class="number">14</span>,weight=<span class="number">16</span>)</span>:</span> <span class="comment">#åé¢ä¸‰ä¸ªå±æ€§è®¾ç½®é»˜è®¤å€¼,æŸ¥çœ‹è¿è¡Œ</span></span><br><span class="line">        self.name=name</span><br><span class="line">        self.price=price</span><br><span class="line">        self.h=hight</span><br><span class="line">        self.wi=width</span><br><span class="line">        self.we=weight</span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">c=Calculator(<span class="string">'bad calculator'</span>,<span class="number">18</span>)</span><br><span class="line">print(c.h)</span><br><span class="line">print(<span class="string">"wi : "</span> + str(c.wi))</span><br><span class="line">c.wi = <span class="number">17</span></span><br><span class="line">print(<span class="string">"wi : "</span> + str(c.wi))</span><br><span class="line">print(c.we)</span><br></pre></td></tr></table></figure>
<pre><code>10
wi : 14
wi : 17
16
</code></pre><h2 id="Reference"><a href="#Reference" class="headerlink" title="Reference"></a>Reference</h2><ul>
<li><a href="https://docs.python.org/" target="_blank" rel="external">docs.python.org</a></li>
<li><a href="https://morvanzhou.github.io/" target="_blank" rel="external">python morvanzhou</a></li>
<li><a href="https://www.liaoxuefeng.com/" target="_blank" rel="external">python liaoxuefeng</a></li>
</ul>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[Python Read File]]></title>
      <url>http://iequa.com/2017/06/04/py-language-6-read-file/</url>
      <content type="html"><![CDATA[<p>open()ã€appendã€file.read()ã€file.readline()ã€file.readlines()ã€file.close()ã€with open .. as f</p>
<p>è¯»å†™æ–‡ä»¶å‰ï¼Œå¿…é¡»äº†è§£ï¼Œåœ¨ç£ç›˜ä¸Šè¯»å†™æ–‡ä»¶çš„åŠŸèƒ½éƒ½æ˜¯ç”±æ“ä½œç³»ç»Ÿæä¾›çš„ï¼Œç°ä»£æ“ä½œç³»ç»Ÿä¸å…è®¸æ™®é€šçš„ç¨‹åºç›´æ¥æ“ä½œç£ç›˜ï¼Œæ‰€ä»¥ï¼Œè¯»å†™æ–‡ä»¶å°±æ˜¯è¯·æ±‚æ“ä½œç³»ç»Ÿæ‰“å¼€ä¸€ä¸ª<code>æ–‡ä»¶å¯¹è±¡</code>ï¼ˆé€šå¸¸ç§°ä¸ºæ–‡ä»¶æè¿°ç¬¦ï¼‰ï¼Œç„¶åï¼Œé€šè¿‡æ“ä½œç³»ç»Ÿæä¾›çš„æ¥å£ä»è¿™ä¸ªæ–‡ä»¶å¯¹è±¡ä¸­è¯»å–æ•°æ®ï¼ˆè¯»æ–‡ä»¶ï¼‰ï¼Œæˆ–è€…æŠŠæ•°æ®å†™å…¥è¿™ä¸ªæ–‡ä»¶å¯¹è±¡ï¼ˆå†™æ–‡ä»¶ï¼‰</p>
<a id="more"></a>
<h2 id="1-open"><a href="#1-open" class="headerlink" title="1. open"></a>1. open</h2><p>ä½¿ç”¨ <code>open</code> èƒ½å¤Ÿæ‰“å¼€ä¸€ä¸ªæ–‡ä»¶, <code>open</code> çš„ç¬¬ä¸€ä¸ªå‚æ•°ä¸ºæ–‡ä»¶åå’Œè·¯å¾„ â€˜my file.txtâ€™, ç¬¬äºŒä¸ªå‚æ•°ä¸ºå°†è¦ä»¥ä»€ä¹ˆæ–¹å¼æ‰“å¼€å®ƒ, æ¯”å¦‚ <code>w</code> ä¸ºå¯å†™æ–¹å¼. å¦‚æœè®¡ç®—æœºæ²¡æœ‰æ‰¾åˆ° â€˜my file.txtâ€™ è¿™ä¸ªæ–‡ä»¶, <code>w</code> æ–¹å¼èƒ½å¤Ÿåˆ›å»ºä¸€ä¸ªæ–°çš„æ–‡ä»¶, å¹¶å‘½åä¸º <code>my file.txt</code></p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">text = <span class="string">'This is my first test.'</span></span><br><span class="line"></span><br><span class="line">my_file=open(<span class="string">'my file.txt'</span>,<span class="string">'w'</span>)   <span class="comment">#ç”¨æ³•: open('æ–‡ä»¶å','å½¢å¼'), å…¶ä¸­å½¢å¼æœ‰'w':write;'r':read.</span></span><br><span class="line">my_file.write(text)               <span class="comment">#è¯¥è¯­å¥ä¼šå†™å…¥å…ˆå‰å®šä¹‰å¥½çš„ text</span></span><br><span class="line">my_file.close()                   <span class="comment">#å…³é—­æ–‡ä»¶</span></span><br></pre></td></tr></table></figure>
<h2 id="2-append"><a href="#2-append" class="headerlink" title="2. append"></a>2. append</h2><p>æˆ‘ä»¬å…ˆä¿å­˜ä¸€ä¸ªå·²ç»æœ‰3è¡Œæ–‡å­—çš„ â€œmy file.txtâ€ æ–‡ä»¶, æ–‡ä»¶çš„å†…å®¹å¦‚ä¸‹:</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">This is my first test. </span><br><span class="line">This is the second line.</span><br><span class="line">This the third</span><br></pre></td></tr></table></figure>
<p>ä½¿ç”¨æ·»åŠ æ–‡å­—çš„æ–¹å¼ç»™è¿™ä¸ªæ–‡ä»¶æ·»åŠ ä¸€è¡Œ â€œThis is appended file.â€, å¹¶å°†è¿™è¡Œæ–‡å­—å‚¨å­˜åœ¨ append_file é‡Œï¼Œæ³¨æ„\nçš„é€‚ç”¨æ€§:</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">append_text=<span class="string">'\nThis is appended file.'</span>  <span class="comment"># ä¸ºè¿™è¡Œæ–‡å­—æå‰ç©ºè¡Œ "\n"</span></span><br><span class="line">my_file=open(<span class="string">'my file.txt'</span>,<span class="string">'a'</span>)   <span class="comment"># 'a'=append ä»¥å¢åŠ å†…å®¹çš„å½¢å¼æ‰“å¼€</span></span><br><span class="line">my_file.write(append_text)</span><br><span class="line">my_file.close()</span><br></pre></td></tr></table></figure>
<pre><code>This is my first test.
This is the second line.
This the third line.
This is appended file.
</code></pre><h2 id="3-file-read"><a href="#3-file-read" class="headerlink" title="3. file.read()"></a>3. file.read()</h2><p>è°ƒç”¨ <code>read()</code> ä¼šä¸€æ¬¡æ€§è¯»å–æ–‡ä»¶çš„å…¨éƒ¨å†…å®¹ï¼Œå¦‚æœæ–‡ä»¶æœ‰10Gï¼Œå†…å­˜å°±çˆ†äº†ï¼Œæ‰€ä»¥ï¼Œè¦ä¿é™©èµ·è§ï¼Œå¯ä»¥åå¤è°ƒç”¨<code>read(size)</code>æ–¹æ³•ï¼Œæ¯æ¬¡æœ€å¤šè¯»å–<code>size</code>ä¸ªå­—èŠ‚çš„å†…å®¹ã€‚</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">file= open(<span class="string">'my file.txt'</span>,<span class="string">'r'</span>) </span><br><span class="line">content=file.read()  </span><br><span class="line">print(content)</span><br></pre></td></tr></table></figure>
<pre><code>This is my first test.
This is the second line.
This the third line.
This is appended file.    
</code></pre><h2 id="4-file-readline"><a href="#4-file-readline" class="headerlink" title="4. file.readline()"></a>4. file.readline()</h2><p>å¦‚æœæƒ³åœ¨æ–‡æœ¬ä¸­ä¸€è¡Œè¡Œçš„è¯»å–æ–‡æœ¬, å¯ä»¥ä½¿ç”¨ <code>file.readline()</code>, <code>file.readline()</code> è¯»å–çš„å†…å®¹å’Œä½ ä½¿ç”¨çš„æ¬¡æ•°æœ‰å…³, ä½¿ç”¨ç¬¬äºŒæ¬¡çš„æ—¶å€™, è¯»å–åˆ°çš„æ˜¯æ–‡æœ¬çš„ç¬¬äºŒè¡Œ, å¹¶å¯ä»¥ä»¥æ­¤ç±»æ¨:</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">file= open(<span class="string">'my file.txt'</span>,<span class="string">'r'</span>) </span><br><span class="line">content=file.readline()  <span class="comment"># è¯»å–ç¬¬ä¸€è¡Œ</span></span><br><span class="line">print(content)</span><br></pre></td></tr></table></figure>
<pre><code>This is my first test.
</code></pre><figure class="highlight python"><table><tr><td class="code"><pre><span class="line">second_read_time=file.readline()  <span class="comment"># è¯»å–ç¬¬äºŒè¡Œ</span></span><br><span class="line">print(second_read_time)</span><br></pre></td></tr></table></figure>
<pre><code>This is the second line.
</code></pre><h2 id="5-file-readlines"><a href="#5-file-readlines" class="headerlink" title="5. file.readlines()"></a>5. file.readlines()</h2><p>å¦‚æœæƒ³è¦è¯»å–æ‰€æœ‰è¡Œ, å¹¶å¯ä»¥ä½¿ç”¨åƒ <code>for</code> ä¸€æ ·çš„è¿­ä»£å™¨è¿­ä»£è¿™äº›è¡Œç»“æœ, æˆ‘ä»¬å¯ä»¥ä½¿ç”¨ <code>file.readlines()</code>, å°†æ¯ä¸€è¡Œçš„ç»“æœå­˜å‚¨åœ¨ <code>list</code> ä¸­, æ–¹ä¾¿ä»¥åè¿­ä»£.</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">file= open(<span class="string">'my file.txt'</span>,<span class="string">'r'</span>) </span><br><span class="line">content=file.readlines() <span class="comment"># python_list å½¢å¼</span></span><br><span class="line">print(content)</span><br></pre></td></tr></table></figure>
<pre><code>[&apos;This is my first test.\n&apos;, &apos;This is the second line.\n&apos;, &apos;This the third line.\n&apos;, &apos;This is appended file.&apos;]
</code></pre><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment"># ä¹‹åå¦‚æœä½¿ç”¨ for æ¥è¿­ä»£è¾“å‡º:</span></span><br><span class="line"><span class="keyword">for</span> item <span class="keyword">in</span> content:</span><br><span class="line">    print(item)</span><br><span class="line">```    </span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    This <span class="keyword">is</span> my first test.</span><br><span class="line"></span><br><span class="line">    This <span class="keyword">is</span> the second line.</span><br><span class="line"></span><br><span class="line">    This the third line.</span><br><span class="line"></span><br><span class="line">    This <span class="keyword">is</span> appended file.</span><br><span class="line"></span><br><span class="line"><span class="comment">## 6. file.close()</span></span><br><span class="line"></span><br><span class="line">ç”±äºæ–‡ä»¶è¯»å†™æ—¶éƒ½æœ‰å¯èƒ½äº§ç”Ÿ`IOError`ï¼Œä¸€æ—¦å‡ºé”™ï¼Œåé¢çš„`f.close()`å°±ä¸ä¼šè°ƒç”¨ã€‚æ‰€ä»¥ï¼Œä¸ºäº†ä¿è¯æ— è®ºæ˜¯å¦å‡ºé”™éƒ½èƒ½æ­£ç¡®åœ°å…³é—­æ–‡ä»¶ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨`<span class="keyword">try</span> ... <span class="keyword">finally</span>`æ¥å®ç°ï¼š</span><br><span class="line"></span><br><span class="line">```python</span><br><span class="line"><span class="keyword">try</span>:</span><br><span class="line">    f = open(<span class="string">'/path/to/file'</span>, <span class="string">'r'</span>)</span><br><span class="line">    <span class="keyword">print</span> f.read()</span><br><span class="line"><span class="keyword">finally</span>:</span><br><span class="line">    <span class="keyword">if</span> f:</span><br><span class="line">        f.close()</span><br></pre></td></tr></table></figure>
<blockquote>
<p>æ¯æ¬¡éƒ½è¿™ä¹ˆå†™å®åœ¨å¤ªç¹çï¼Œæ‰€ä»¥ï¼ŒPythonå¼•å…¥äº†<code>with</code>è¯­å¥æ¥è‡ªåŠ¨å¸®æˆ‘ä»¬è°ƒç”¨<code>close()</code>æ–¹æ³•ï¼š</p>
</blockquote>
<h2 id="7-with-open-as-f"><a href="#7-with-open-as-f" class="headerlink" title="7. with open .. as f"></a>7. with open .. as f</h2><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">with</span> open(<span class="string">'/path/to/file'</span>, <span class="string">'r'</span>) <span class="keyword">as</span> f:</span><br><span class="line">    <span class="keyword">print</span> f.read()</span><br></pre></td></tr></table></figure>
<p>è¿™å’Œå‰é¢çš„try â€¦ finallyæ˜¯ä¸€æ ·çš„ï¼Œä½†æ˜¯ä»£ç æ›´ä½³ç®€æ´ï¼Œå¹¶ä¸”ä¸å¿…è°ƒç”¨f.close()æ–¹æ³•ã€‚</p>
<h2 id="Reference"><a href="#Reference" class="headerlink" title="Reference"></a>Reference</h2><ul>
<li><a href="https://docs.python.org/" target="_blank" rel="external">docs.python.org</a></li>
<li><a href="https://morvanzhou.github.io/tutorials/python-basic/basic/08-2-read-file2/" target="_blank" rel="external">python morvanzhou</a></li>
<li><a href="https://www.liaoxuefeng.com/wiki/001374738125095c955c1e6d8bb493182103fac9270762a000/001386820066616a77f826d876b46b9ac34cb5f34374f7a000" target="_blank" rel="external">python liaoxuefeng</a></li>
</ul>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[Python Sliceã€Iterationã€List generationã€Generator]]></title>
      <url>http://iequa.com/2017/06/03/py-language-10-advanced/</url>
      <content type="html"><![CDATA[<p>Sliceã€Iterationã€List generationã€Generator</p>
<a id="more"></a>
<figure class="highlight py"><table><tr><td class="code"><pre><span class="line">L = []</span><br><span class="line">n = <span class="number">1</span></span><br><span class="line"><span class="keyword">while</span> n &lt;= <span class="number">99</span>:</span><br><span class="line">    L.append(n)</span><br><span class="line">    n = n + <span class="number">2</span></span><br></pre></td></tr></table></figure>
<h2 id="1-Slice"><a href="#1-Slice" class="headerlink" title="1. Slice"></a>1. Slice</h2><figure class="highlight py"><table><tr><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>L = [<span class="string">'Michael'</span>, <span class="string">'Sarah'</span>, <span class="string">'Tracy'</span>, <span class="string">'Bob'</span>, <span class="string">'Jack'</span>]</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>L[<span class="number">1</span>:<span class="number">3</span>]</span><br><span class="line">[<span class="string">'Sarah'</span>, <span class="string">'Tracy'</span>]</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>L[<span class="number">-2</span>:]</span><br><span class="line">[<span class="string">'Bob'</span>, <span class="string">'Jack'</span>]</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>L = range(<span class="number">100</span>)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>L</span><br><span class="line">[<span class="number">0</span>, <span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>, <span class="number">7</span>, <span class="number">8</span>, <span class="number">9</span>, <span class="number">10</span>, <span class="number">11</span>, <span class="number">12</span>, <span class="number">13</span>, <span class="number">14</span>, <span class="number">15</span>, <span class="number">16</span>, <span class="number">17</span>, <span class="number">18</span>, <span class="number">19</span>, <span class="number">20</span>, <span class="number">21</span>, <span class="number">22</span>, <span class="number">23</span>, <span class="number">24</span>, <span class="number">25</span>, <span class="number">26</span>, <span class="number">27</span>, <span class="number">28</span>, <span class="number">29</span>, <span class="number">30</span>, <span class="number">31</span>, <span class="number">32</span>, <span class="number">33</span>, <span class="number">34</span>, <span class="number">35</span>, <span class="number">36</span>, <span class="number">37</span>, <span class="number">38</span>, <span class="number">39</span>, <span class="number">40</span>, <span class="number">41</span>, <span class="number">42</span>, <span class="number">43</span>, <span class="number">44</span>, <span class="number">45</span>, <span class="number">46</span>, <span class="number">47</span>, <span class="number">48</span>, <span class="number">49</span>, <span class="number">50</span>, <span class="number">51</span>, <span class="number">52</span>, <span class="number">53</span>, <span class="number">54</span>, <span class="number">55</span>, <span class="number">56</span>, <span class="number">57</span>, <span class="number">58</span>, <span class="number">59</span>, <span class="number">60</span>, <span class="number">61</span>, <span class="number">62</span>, <span class="number">63</span>, <span class="number">64</span>, <span class="number">65</span>, <span class="number">66</span>, <span class="number">67</span>, <span class="number">68</span>, <span class="number">69</span>, <span class="number">70</span>, <span class="number">71</span>, <span class="number">72</span>, <span class="number">73</span>, <span class="number">74</span>, <span class="number">75</span>, <span class="number">76</span>, <span class="number">77</span>, <span class="number">78</span>, <span class="number">79</span>, <span class="number">80</span>, <span class="number">81</span>, <span class="number">82</span>, <span class="number">83</span>, <span class="number">84</span>, <span class="number">85</span>, <span class="number">86</span>, <span class="number">87</span>, <span class="number">88</span>, <span class="number">89</span>, <span class="number">90</span>, <span class="number">91</span>, <span class="number">92</span>, <span class="number">93</span>, <span class="number">94</span>, <span class="number">95</span>, <span class="number">96</span>, <span class="number">97</span>, <span class="number">98</span>, <span class="number">99</span>]</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>L[:<span class="number">10</span>:<span class="number">2</span>]</span><br><span class="line">[<span class="number">0</span>, <span class="number">2</span>, <span class="number">4</span>, <span class="number">6</span>, <span class="number">8</span>]</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>L[::<span class="number">5</span>]</span><br><span class="line">[<span class="number">0</span>, <span class="number">5</span>, <span class="number">10</span>, <span class="number">15</span>, <span class="number">20</span>, <span class="number">25</span>, <span class="number">30</span>, <span class="number">35</span>, <span class="number">40</span>, <span class="number">45</span>, <span class="number">50</span>, <span class="number">55</span>, <span class="number">60</span>, <span class="number">65</span>, <span class="number">70</span>, <span class="number">75</span>, <span class="number">80</span>, <span class="number">85</span>, <span class="number">90</span>, <span class="number">95</span>]</span><br><span class="line">&gt;&gt;&gt;</span><br></pre></td></tr></table></figure>
<p>tupleä¹Ÿæ˜¯ä¸€ç§listï¼Œå”¯ä¸€åŒºåˆ«æ˜¯tupleä¸å¯å˜ã€‚å› æ­¤ï¼Œtupleä¹Ÿå¯ä»¥ç”¨åˆ‡ç‰‡æ“ä½œï¼Œåªæ˜¯æ“ä½œçš„ç»“æœä»æ˜¯tuple</p>
<figure class="highlight py"><table><tr><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>(<span class="number">0</span>, <span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>)[:<span class="number">3</span>]</span><br><span class="line">(<span class="number">0</span>, <span class="number">1</span>, <span class="number">2</span>)</span><br></pre></td></tr></table></figure>
<p>å­—ç¬¦ä¸²<code>&#39;xxx&#39;</code>æˆ–Unicodeå­—ç¬¦ä¸²<code>u&#39;xxx&#39;</code>ä¹Ÿå¯ä»¥çœ‹æˆæ˜¯ä¸€ç§listï¼Œæ¯ä¸ªå…ƒç´ å°±æ˜¯ä¸€ä¸ªå­—ç¬¦ã€‚å› æ­¤ï¼Œå­—ç¬¦ä¸²ä¹Ÿå¯ä»¥ç”¨åˆ‡ç‰‡æ“ä½œï¼Œåªæ˜¯æ“ä½œç»“æœä»æ˜¯å­—ç¬¦ä¸²ï¼š</p>
<figure class="highlight py"><table><tr><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="string">'ABCDEFG'</span>[:<span class="number">3</span>]</span><br><span class="line"><span class="string">'ABC'</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="string">'ABCDEFG'</span>[::<span class="number">2</span>]</span><br><span class="line"><span class="string">'ACEG'</span></span><br></pre></td></tr></table></figure>
<h2 id="2-Iteration"><a href="#2-Iteration" class="headerlink" title="2. Iteration"></a>2. Iteration</h2><p>åªè¦æ˜¯å¯è¿­ä»£å¯¹è±¡ï¼Œæ— è®ºæœ‰æ— ä¸‹æ ‡ï¼Œéƒ½å¯ä»¥è¿­ä»£ï¼Œæ¯”å¦‚dictå°±å¯ä»¥è¿­ä»£</p>
<figure class="highlight py"><table><tr><td class="code"><pre><span class="line"><span class="keyword">for</span> (i=<span class="number">0</span>; i&lt;list.length; i++) &#123;</span><br><span class="line">    n = list[i];</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight py"><table><tr><td class="code"><pre><span class="line">d = &#123;<span class="string">'a'</span>: <span class="number">1</span>, <span class="string">'b'</span>: <span class="number">2</span>, <span class="string">'c'</span>: <span class="number">3</span>&#125;</span><br><span class="line"><span class="keyword">for</span> key <span class="keyword">in</span> d:</span><br><span class="line">    <span class="keyword">print</span> key</span><br></pre></td></tr></table></figure>
<figure class="highlight py"><table><tr><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="keyword">for</span> ch <span class="keyword">in</span> <span class="string">'ABC'</span>:</span><br><span class="line"><span class="meta">... </span>    <span class="keyword">print</span> ch</span><br><span class="line">...</span><br><span class="line">A</span><br><span class="line">B</span><br><span class="line">C</span><br></pre></td></tr></table></figure>
<p>å¦‚ä½•åˆ¤æ–­ä¸€ä¸ªå¯¹è±¡æ˜¯å¯è¿­ä»£å¯¹è±¡å‘¢ï¼Ÿæ–¹æ³•æ˜¯é€šè¿‡<code>collectionsæ¨¡å—</code>çš„<code>Iterable</code>ç±»å‹åˆ¤æ–­ï¼š</p>
<figure class="highlight py"><table><tr><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="keyword">from</span> collections <span class="keyword">import</span> Iterable</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>isinstance(<span class="string">'abc'</span>, Iterable) <span class="comment"># stræ˜¯å¦å¯è¿­ä»£</span></span><br><span class="line"><span class="keyword">True</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>isinstance([<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>], Iterable) <span class="comment"># listæ˜¯å¦å¯è¿­ä»£</span></span><br><span class="line"><span class="keyword">True</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>isinstance(<span class="number">123</span>, Iterable) <span class="comment"># æ•´æ•°æ˜¯å¦å¯è¿­ä»£</span></span><br><span class="line"><span class="keyword">False</span></span><br></pre></td></tr></table></figure>
<p>å¦‚æœè¦å¯¹listå®ç°ç±»ä¼¼Javaé‚£æ ·çš„ä¸‹æ ‡å¾ªç¯æ€ä¹ˆåŠï¼ŸPythonå†…ç½®çš„<code>enumerate</code>å‡½æ•°å¯ä»¥æŠŠä¸€ä¸ªlistå˜æˆç´¢å¼•-å…ƒç´ å¯¹ï¼Œè¿™æ ·å°±å¯ä»¥åœ¨forå¾ªç¯ä¸­åŒæ—¶è¿­ä»£ç´¢å¼•å’Œå…ƒç´ æœ¬èº«ï¼š</p>
<figure class="highlight py"><table><tr><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="keyword">for</span> i, value <span class="keyword">in</span> enumerate([<span class="string">'A'</span>, <span class="string">'B'</span>, <span class="string">'C'</span>]):</span><br><span class="line"><span class="meta">... </span>    <span class="keyword">print</span> i, value</span><br><span class="line">...</span><br><span class="line"><span class="number">0</span> A</span><br><span class="line"><span class="number">1</span> B</span><br><span class="line"><span class="number">2</span> C</span><br></pre></td></tr></table></figure>
<p><code>for</code>å¾ªç¯é‡Œï¼ŒåŒæ—¶å¼•ç”¨äº†ä¸¤ä¸ªå˜é‡ï¼Œåœ¨Pythoné‡Œæ˜¯å¾ˆå¸¸è§</p>
<figure class="highlight py"><table><tr><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="keyword">for</span> x, y <span class="keyword">in</span> [(<span class="number">1</span>, <span class="number">1</span>), (<span class="number">2</span>, <span class="number">4</span>), (<span class="number">3</span>, <span class="number">9</span>)]:</span><br><span class="line"><span class="meta">... </span>    <span class="keyword">print</span> x, y</span><br><span class="line">...</span><br><span class="line"><span class="number">1</span> <span class="number">1</span></span><br><span class="line"><span class="number">2</span> <span class="number">4</span></span><br><span class="line"><span class="number">3</span> <span class="number">9</span></span><br></pre></td></tr></table></figure>
<h2 id="3-List-Generation"><a href="#3-List-Generation" class="headerlink" title="3. List Generation"></a>3. List Generation</h2><figure class="highlight py"><table><tr><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>[x * x <span class="keyword">for</span> x <span class="keyword">in</span> range(<span class="number">1</span>, <span class="number">11</span>) <span class="keyword">if</span> x % <span class="number">2</span> == <span class="number">0</span>]</span><br><span class="line">[<span class="number">4</span>, <span class="number">16</span>, <span class="number">36</span>, <span class="number">64</span>, <span class="number">100</span>]</span><br></pre></td></tr></table></figure>
<p>è¿˜å¯ä»¥ä½¿ç”¨ä¸¤å±‚å¾ªç¯ï¼Œå¯ä»¥ç”Ÿæˆå…¨æ’åˆ—ï¼š</p>
<figure class="highlight py"><table><tr><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>[m + n <span class="keyword">for</span> m <span class="keyword">in</span> <span class="string">'ABC'</span> <span class="keyword">for</span> n <span class="keyword">in</span> <span class="string">'XYZ'</span>]</span><br><span class="line">[<span class="string">'AX'</span>, <span class="string">'AY'</span>, <span class="string">'AZ'</span>, <span class="string">'BX'</span>, <span class="string">'BY'</span>, <span class="string">'BZ'</span>, <span class="string">'CX'</span>, <span class="string">'CY'</span>, <span class="string">'CZ'</span>]</span><br></pre></td></tr></table></figure>
<p>è¿ç”¨åˆ—è¡¨ç”Ÿæˆå¼ï¼Œå¯ä»¥å†™å‡ºéå¸¸ç®€æ´çš„ä»£ç ã€‚</p>
<p>ä¾‹å¦‚ï¼Œåˆ—å‡ºå½“å‰ç›®å½•ä¸‹çš„æ‰€æœ‰æ–‡ä»¶å’Œç›®å½•å</p>
<figure class="highlight py"><table><tr><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="keyword">import</span> os <span class="comment"># å¯¼å…¥osæ¨¡å—ï¼Œæ¨¡å—çš„æ¦‚å¿µåé¢è®²åˆ°</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>[d <span class="keyword">for</span> d <span class="keyword">in</span> os.listdir(<span class="string">'.'</span>)] <span class="comment"># os.listdirå¯ä»¥åˆ—å‡ºæ–‡ä»¶å’Œç›®å½•</span></span><br><span class="line">[<span class="string">'.emacs.d'</span>, <span class="string">'.ssh'</span>, <span class="string">'.Trash'</span>, <span class="string">'Adlm'</span>, <span class="string">'Applications'</span>, <span class="string">'Desktop'</span>, <span class="string">'Documents'</span>, <span class="string">'Downloads'</span>, <span class="string">'Library'</span>, <span class="string">'Movies'</span>, <span class="string">'Music'</span>, <span class="string">'Pictures'</span>, <span class="string">'Public'</span>, <span class="string">'VirtualBox VMs'</span>, <span class="string">'Workspace'</span>, <span class="string">'XCode'</span>]</span><br></pre></td></tr></table></figure>
<p>forå¾ªç¯å…¶å®å¯ä»¥åŒæ—¶ä½¿ç”¨ä¸¤ä¸ªç”šè‡³å¤šä¸ªå˜é‡ï¼Œæ¯”å¦‚<code>dict</code>çš„<code>iteritems()</code>å¯ä»¥åŒæ—¶è¿­ä»£keyå’Œvalueï¼š</p>
<figure class="highlight py"><table><tr><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>d = &#123;<span class="string">'x'</span>: <span class="string">'A'</span>, <span class="string">'y'</span>: <span class="string">'B'</span>, <span class="string">'z'</span>: <span class="string">'C'</span> &#125;</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="keyword">for</span> k, v <span class="keyword">in</span> d.iteritems():</span><br><span class="line"><span class="meta">... </span>    <span class="keyword">print</span> k, <span class="string">'='</span>, v</span><br><span class="line"><span class="meta">... </span></span><br><span class="line">y = B</span><br><span class="line">x = A</span><br><span class="line">z = C</span><br></pre></td></tr></table></figure>
<p>åˆ—è¡¨ç”Ÿæˆå¼ä¹Ÿå¯ä»¥ä½¿ç”¨ä¸¤ä¸ªå˜é‡æ¥ç”Ÿæˆlistï¼š</p>
<figure class="highlight py"><table><tr><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>d = &#123;<span class="string">'x'</span>: <span class="string">'A'</span>, <span class="string">'y'</span>: <span class="string">'B'</span>, <span class="string">'z'</span>: <span class="string">'C'</span> &#125;</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>[k + <span class="string">'='</span> + v <span class="keyword">for</span> k, v <span class="keyword">in</span> d.iteritems()]</span><br><span class="line">[<span class="string">'y=B'</span>, <span class="string">'x=A'</span>, <span class="string">'z=C'</span>]</span><br></pre></td></tr></table></figure>
<p>æœ€åæŠŠä¸€ä¸ªlistä¸­æ‰€æœ‰çš„å­—ç¬¦ä¸²å˜æˆå°å†™ï¼š</p>
<figure class="highlight py"><table><tr><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>L = [<span class="string">'Hello'</span>, <span class="string">'World'</span>, <span class="string">'IBM'</span>, <span class="string">'Apple'</span>]</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>[s.lower() <span class="keyword">for</span> s <span class="keyword">in</span> L]</span><br><span class="line">[<span class="string">'hello'</span>, <span class="string">'world'</span>, <span class="string">'ibm'</span>, <span class="string">'apple'</span>]</span><br></pre></td></tr></table></figure>
<p><strong>å°ç»“</strong></p>
<p>è¿ç”¨åˆ—è¡¨ç”Ÿæˆå¼ï¼Œå¯ä»¥å¿«é€Ÿç”Ÿæˆlistï¼Œå¯ä»¥é€šè¿‡ä¸€ä¸ªlistæ¨å¯¼å‡ºå¦ä¸€ä¸ªlistï¼Œè€Œä»£ç å´ååˆ†ç®€æ´ã€‚</p>
<h2 id="4-Generator"><a href="#4-Generator" class="headerlink" title="4. Generator"></a>4. Generator</h2><p>å¦‚æœåˆ—è¡¨å…ƒç´ å¯ä»¥æŒ‰ç…§æŸç§ç®—æ³•æ¨ç®—å‡ºæ¥ï¼Œé‚£æˆ‘ä»¬æ˜¯å¦å¯ä»¥åœ¨å¾ªç¯çš„è¿‡ç¨‹ä¸­ä¸æ–­æ¨ç®—å‡ºåç»­çš„å…ƒç´ å‘¢ï¼Ÿè¿™æ ·å°±ä¸å¿…åˆ›å»ºå®Œæ•´çš„listï¼Œä»è€ŒèŠ‚çœå¤§é‡çš„ç©ºé—´ã€‚åœ¨Pythonä¸­ï¼Œè¿™ç§ä¸€è¾¹å¾ªç¯ä¸€è¾¹è®¡ç®—çš„æœºåˆ¶ï¼Œç§°ä¸ºç”Ÿæˆå™¨ï¼ˆ<code>Generator</code>ï¼‰</p>
<p>è¦åˆ›å»ºä¸€ä¸ªgeneratorï¼Œæœ‰å¾ˆå¤šç§æ–¹æ³•ã€‚ç¬¬ä¸€ç§æ–¹æ³•å¾ˆç®€å•ï¼Œåªè¦æŠŠä¸€ä¸ªåˆ—è¡¨ç”Ÿæˆå¼çš„<code>[]</code>æ”¹æˆ<code>()</code>ï¼Œå°±åˆ›å»ºäº†ä¸€ä¸ªgeneratorï¼š</p>
<figure class="highlight py"><table><tr><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>L = [x * x <span class="keyword">for</span> x <span class="keyword">in</span> range(<span class="number">10</span>)]</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>L</span><br><span class="line">[<span class="number">0</span>, <span class="number">1</span>, <span class="number">4</span>, <span class="number">9</span>, <span class="number">16</span>, <span class="number">25</span>, <span class="number">36</span>, <span class="number">49</span>, <span class="number">64</span>, <span class="number">81</span>]</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>g = (x * x <span class="keyword">for</span> x <span class="keyword">in</span> range(<span class="number">10</span>))</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>g</span><br><span class="line">&lt;generator object &lt;genexpr&gt; at <span class="number">0x104feab40</span>&gt;</span><br></pre></td></tr></table></figure>
<p>generator æ˜¯ä¸€ä¸ªå¯è¿­ä»£çš„å¯¹è±¡</p>
<figure class="highlight py"><table><tr><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>g = (x * x <span class="keyword">for</span> x <span class="keyword">in</span> range(<span class="number">10</span>))</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="keyword">for</span> n <span class="keyword">in</span> g:</span><br><span class="line"><span class="meta">... </span>    <span class="keyword">print</span> n</span><br><span class="line">...</span><br><span class="line"><span class="number">0</span></span><br><span class="line"><span class="number">1</span></span><br><span class="line"><span class="number">4</span></span><br><span class="line"><span class="number">9</span></span><br><span class="line"><span class="number">16</span></span><br><span class="line"><span class="number">25</span></span><br><span class="line"><span class="number">36</span></span><br><span class="line"><span class="number">49</span></span><br><span class="line"><span class="number">64</span></span><br><span class="line"><span class="number">81</span></span><br></pre></td></tr></table></figure>
<p>æ–æ³¢æ‹‰å¥‘æ•°åˆ—</p>
<figure class="highlight py"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">fib</span><span class="params">(max)</span>:</span></span><br><span class="line">    n, a, b = <span class="number">0</span>, <span class="number">0</span>, <span class="number">1</span></span><br><span class="line">    <span class="keyword">while</span> n &lt; max:</span><br><span class="line">        <span class="keyword">print</span> b</span><br><span class="line">        a, b = b, a + b</span><br><span class="line">        n = n + <span class="number">1</span></span><br></pre></td></tr></table></figure>
<p><code>fib</code>å‡½æ•°å®é™…ä¸Šæ˜¯å®šä¹‰äº†æ–æ³¢æ‹‰å¥‘æ•°åˆ—çš„æ¨ç®—è§„åˆ™ï¼Œå¯ä»¥ä»ç¬¬ä¸€ä¸ªå…ƒç´ å¼€å§‹ï¼Œæ¨ç®—å‡ºåç»­ä»»æ„çš„å…ƒç´ ï¼Œè¿™ç§é€»è¾‘å…¶å®éå¸¸ç±»ä¼¼generatorã€‚</p>
<p>æŠŠ<code>fib</code>å‡½æ•°å˜æˆ<code>generator</code>ï¼Œåªéœ€è¦æŠŠ <code>print b</code> æ”¹ä¸º <code>yield b</code> å°±å¯ä»¥äº†</p>
<figure class="highlight py"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">fib</span><span class="params">(max)</span>:</span></span><br><span class="line">    n, a, b = <span class="number">0</span>, <span class="number">0</span>, <span class="number">1</span></span><br><span class="line">    <span class="keyword">while</span> n &lt; max:</span><br><span class="line">        <span class="keyword">yield</span> b</span><br><span class="line">        a, b = b, a + b</span><br><span class="line">        n = n + <span class="number">1</span></span><br></pre></td></tr></table></figure>
<blockquote>
<p>å¦‚æœä¸€ä¸ªå‡½æ•°å®šä¹‰ä¸­åŒ…å« <code>yield</code>å…³é”®å­—ï¼Œé‚£ä¹ˆè¿™ä¸ªå‡½æ•°å°±ä¸å†æ˜¯ä¸€ä¸ªæ™®é€šå‡½æ•°ï¼Œè€Œæ˜¯ä¸€ä¸ªgenerator</p>
</blockquote>
<figure class="highlight py"><table><tr><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>fib(<span class="number">6</span>)</span><br><span class="line">&lt;generator object fib at <span class="number">0x104feaaa0</span>&gt;</span><br></pre></td></tr></table></figure>
<blockquote>
<p>å‡½æ•°æ˜¯é¡ºåºæ‰§è¡Œï¼Œé‡åˆ°<code>return</code>è¯­å¥æˆ–è€…æœ€åä¸€è¡Œå‡½æ•°è¯­å¥å°±è¿”å›ã€‚è€Œå˜æˆ<code>generator</code>çš„å‡½æ•°ï¼Œåœ¨æ¯æ¬¡è°ƒç”¨<code>next()</code>çš„æ—¶å€™æ‰§è¡Œï¼Œé‡åˆ°<code>yield</code>è¯­å¥è¿”å›ï¼Œå†æ¬¡æ‰§è¡Œæ—¶ä»ä¸Šæ¬¡è¿”å›çš„<code>yield</code> è¯­å¥å¤„ç»§ç»­æ‰§è¡Œã€‚</p>
</blockquote>
<figure class="highlight py"><table><tr><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="function"><span class="keyword">def</span> <span class="title">odd</span><span class="params">()</span>:</span></span><br><span class="line"><span class="meta">... </span>    <span class="keyword">print</span> <span class="string">'step 1'</span></span><br><span class="line"><span class="meta">... </span>    <span class="keyword">yield</span> <span class="number">1</span></span><br><span class="line"><span class="meta">... </span>    <span class="keyword">print</span> <span class="string">'step 2'</span></span><br><span class="line"><span class="meta">... </span>    <span class="keyword">yield</span> <span class="number">3</span></span><br><span class="line"><span class="meta">... </span>    <span class="keyword">print</span> <span class="string">'step 3'</span></span><br><span class="line"><span class="meta">... </span>    <span class="keyword">yield</span> <span class="number">5</span></span><br><span class="line">...</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>o = odd()</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>o.next()</span><br><span class="line">step <span class="number">1</span></span><br><span class="line"><span class="number">1</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>o.next()</span><br><span class="line">step <span class="number">2</span></span><br><span class="line"><span class="number">3</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>o.next()</span><br><span class="line">step <span class="number">3</span></span><br><span class="line"><span class="number">5</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>o.next()</span><br><span class="line">Traceback (most recent call last):</span><br><span class="line">  File <span class="string">"&lt;stdin&gt;"</span>, line <span class="number">1</span>, <span class="keyword">in</span> &lt;module&gt;</span><br><span class="line">StopIteration</span><br></pre></td></tr></table></figure>
<p><strong>å°ç»“</strong></p>
<p>generatoræ˜¯éå¸¸å¼ºå¤§çš„å·¥å…·ï¼Œåœ¨Pythonä¸­ï¼Œå¯ä»¥ç®€å•åœ°æŠŠåˆ—è¡¨ç”Ÿæˆå¼æ”¹æˆgeneratorï¼Œä¹Ÿå¯ä»¥é€šè¿‡å‡½æ•°å®ç°å¤æ‚é€»è¾‘çš„generatorã€‚</p>
<p>è¦ç†è§£generatorçš„å·¥ä½œåŸç†ï¼Œå®ƒæ˜¯åœ¨forå¾ªç¯çš„è¿‡ç¨‹ä¸­ä¸æ–­è®¡ç®—å‡ºä¸‹ä¸€ä¸ªå…ƒç´ ï¼Œå¹¶åœ¨é€‚å½“çš„æ¡ä»¶ç»“æŸ<code>for</code>å¾ªç¯ã€‚å¯¹äºå‡½æ•°æ”¹æˆçš„generatoræ¥è¯´ï¼Œé‡åˆ°returnè¯­å¥æˆ–è€…æ‰§è¡Œåˆ°å‡½æ•°ä½“æœ€åä¸€è¡Œè¯­å¥ï¼Œå°±æ˜¯ç»“æŸgeneratorçš„æŒ‡ä»¤ï¼Œ<code>for</code>å¾ªç¯éšä¹‹ç»“æŸã€‚</p>
<h2 id="Reference"><a href="#Reference" class="headerlink" title="Reference"></a>Reference</h2><ul>
<li><a href="http://www.liaoxuefeng.com/wiki/001374738125095c955c1e6d8bb493182103fac9270762a000/0013868196169906eb9ca5864384546bf3405ae6a172b3e000" target="_blank" rel="external">å»–é›ªå³°çš„å®˜æ–¹ç½‘ç«™</a></li>
</ul>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[Python defå‡½æ•°ã€å‡½æ•°å‚æ•°ã€å‡½æ•°é»˜è®¤å‚æ•°]]></title>
      <url>http://iequa.com/2017/06/03/py-language-5-function/</url>
      <content type="html"><![CDATA[<p>å®šä¹‰å‡½æ•°ã€å†…ç½®å‡½æ•°ã€å‡½æ•°å‚æ•°ã€å‡½æ•°é»˜è®¤å‚æ•°</p>
<a id="more"></a>
<h2 id="1-å†…ç½®å‡½æ•°"><a href="#1-å†…ç½®å‡½æ•°" class="headerlink" title="1. å†…ç½®å‡½æ•°"></a>1. å†…ç½®å‡½æ•°</h2><p>å†…ç½®å‡½æ•°</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>abs(<span class="number">-12.34</span>)</span><br><span class="line"><span class="number">12.34</span></span><br></pre></td></tr></table></figure>
<p><a href="https://docs.python.org/2/library/functions.html#abs" target="_blank" rel="external">abs api</a></p>
<figure class="highlight py"><table><tr><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>cmp(<span class="number">1</span>, <span class="number">2</span>)</span><br><span class="line"><span class="number">-1</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>cmp(<span class="number">10</span>, <span class="number">2</span>)</span><br><span class="line"><span class="number">1</span></span><br></pre></td></tr></table></figure>
<p>æ•°æ®ç±»å‹è½¬æ¢</p>
<figure class="highlight py"><table><tr><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>int(<span class="string">'123'</span>)</span><br><span class="line"><span class="number">123</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>int(<span class="number">12.34</span>)</span><br><span class="line"><span class="number">12</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>float(<span class="string">'12.34'</span>)</span><br><span class="line"><span class="number">12.34</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>str(<span class="number">1.23</span>)</span><br><span class="line"><span class="string">'1.23'</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>unicode(<span class="number">100</span>)</span><br><span class="line"><span class="string">u'100'</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>bool(<span class="number">1</span>)</span><br><span class="line"><span class="keyword">True</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>bool(<span class="string">''</span>)</span><br><span class="line"><span class="keyword">False</span></span><br></pre></td></tr></table></figure>
<p>å‡½æ•°åå…¶å®å°±æ˜¯æŒ‡å‘ä¸€ä¸ªå‡½æ•°å¯¹è±¡çš„å¼•ç”¨ï¼Œå®Œå…¨å¯ä»¥æŠŠå‡½æ•°åèµ‹ç»™ä¸€ä¸ªå˜é‡ï¼Œç›¸å½“äºç»™è¿™ä¸ªå‡½æ•°èµ·äº†ä¸€ä¸ªâ€œåˆ«åâ€ï¼š</p>
<figure class="highlight py"><table><tr><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>a = abs <span class="comment"># å˜é‡aæŒ‡å‘abså‡½æ•°</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>a(<span class="number">-1</span>) <span class="comment"># æ‰€ä»¥ä¹Ÿå¯ä»¥é€šè¿‡aè°ƒç”¨abså‡½æ•°</span></span><br><span class="line"><span class="number">1</span></span><br></pre></td></tr></table></figure>
<h2 id="2-defå‡½æ•°"><a href="#2-defå‡½æ•°" class="headerlink" title="2. defå‡½æ•°"></a>2. defå‡½æ•°</h2><figure class="highlight py"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">my_abs</span><span class="params">(x)</span>:</span></span><br><span class="line">    <span class="keyword">if</span> x &gt;= <span class="number">0</span>:</span><br><span class="line">        <span class="keyword">return</span> x</span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        <span class="keyword">return</span> -x</span><br></pre></td></tr></table></figure>
<blockquote>
<p><code>return None</code> å¯ä»¥ç®€å†™ä¸º <code>return</code>ã€‚</p>
</blockquote>
<h3 id="2-1-ç©ºå‡½æ•°"><a href="#2-1-ç©ºå‡½æ•°" class="headerlink" title="2.1 ç©ºå‡½æ•°"></a>2.1 ç©ºå‡½æ•°</h3><figure class="highlight py"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">nop</span><span class="params">()</span>:</span></span><br><span class="line">    <span class="keyword">pass</span></span><br></pre></td></tr></table></figure>
<h3 id="2-2-å‡½æ•°å‚æ•°ç±»å‹æ£€æŸ¥"><a href="#2-2-å‡½æ•°å‚æ•°ç±»å‹æ£€æŸ¥" class="headerlink" title="2.2 å‡½æ•°å‚æ•°ç±»å‹æ£€æŸ¥"></a>2.2 å‡½æ•°å‚æ•°ç±»å‹æ£€æŸ¥</h3><figure class="highlight py"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">my_abs</span><span class="params">(x)</span>:</span></span><br><span class="line">    <span class="keyword">if</span> <span class="keyword">not</span> isinstance(x, (int, float)):</span><br><span class="line">        <span class="keyword">raise</span> TypeError(<span class="string">'bad operand type'</span>)</span><br><span class="line">    <span class="keyword">if</span> x &gt;= <span class="number">0</span>:</span><br><span class="line">        <span class="keyword">return</span> x</span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        <span class="keyword">return</span> -x</span><br></pre></td></tr></table></figure>
<h3 id="2-3-è¿”å›å¤šä¸ªå€¼-æ˜¯ä¸€ä¸ªtuple"><a href="#2-3-è¿”å›å¤šä¸ªå€¼-æ˜¯ä¸€ä¸ªtuple" class="headerlink" title="2.3 è¿”å›å¤šä¸ªå€¼ (æ˜¯ä¸€ä¸ªtuple)"></a>2.3 è¿”å›å¤šä¸ªå€¼ (æ˜¯ä¸€ä¸ªtuple)</h3><figure class="highlight py"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> math</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">move</span><span class="params">(x, y, step, angle=<span class="number">0</span>)</span>:</span></span><br><span class="line">    nx = x + step * math.cos(angle)</span><br><span class="line">    ny = y - step * math.sin(angle)</span><br><span class="line">    <span class="keyword">return</span> nx, ny</span><br><span class="line"></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>x, y = move(<span class="number">100</span>, <span class="number">100</span>, <span class="number">60</span>, math.pi / <span class="number">6</span>)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="keyword">print</span> x, y</span><br><span class="line"><span class="number">151.961524227</span> <span class="number">70.0</span></span><br></pre></td></tr></table></figure>
<h2 id="3-å‡½æ•°å‚æ•°"><a href="#3-å‡½æ•°å‚æ•°" class="headerlink" title="3. å‡½æ•°å‚æ•°"></a>3. å‡½æ•°å‚æ•°</h2><figure class="highlight py"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">power</span><span class="params">(x, n=<span class="number">2</span>)</span>:</span></span><br><span class="line">    s = <span class="number">1</span></span><br><span class="line">    <span class="keyword">while</span> n &gt; <span class="number">0</span>:</span><br><span class="line">        n = n - <span class="number">1</span></span><br><span class="line">        s = s * x</span><br><span class="line">    <span class="keyword">return</span> s</span><br></pre></td></tr></table></figure>
<blockquote>
<p>ä¸€æ˜¯å¿…é€‰å‚æ•°åœ¨å‰ï¼Œé»˜è®¤å‚æ•°åœ¨åï¼Œå¦åˆ™Pythonçš„è§£é‡Šå™¨ä¼šæŠ¥é”™</p>
<p>äºŒæ˜¯å¦‚ä½•è®¾ç½®é»˜è®¤å‚æ•°ã€‚</p>
<p>å½“å‡½æ•°æœ‰å¤šä¸ªå‚æ•°æ—¶ï¼ŒæŠŠå˜åŒ–å¤§çš„å‚æ•°æ”¾å‰é¢ï¼Œå˜åŒ–å°çš„å‚æ•°æ”¾åé¢ã€‚å˜åŒ–å°çš„å‚æ•°å°±å¯ä»¥ä½œä¸ºé»˜è®¤å‚æ•°ã€‚</p>
<p>ä½¿ç”¨é»˜è®¤å‚æ•°æœ‰ä»€ä¹ˆå¥½å¤„ï¼Ÿæœ€å¤§çš„å¥½å¤„æ˜¯èƒ½é™ä½è°ƒç”¨å‡½æ•°çš„éš¾åº¦ã€‚</p>
<p>å®šä¹‰é»˜è®¤å‚æ•°è¦ç‰¢è®°ä¸€ç‚¹ï¼š<code>é»˜è®¤å‚æ•°å¿…é¡»æŒ‡å‘ä¸å˜å¯¹è±¡ï¼</code></p>
</blockquote>
<figure class="highlight py"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">add_end</span><span class="params">(L=None)</span>:</span></span><br><span class="line">    <span class="keyword">if</span> L <span class="keyword">is</span> <span class="keyword">None</span>:</span><br><span class="line">        L = []</span><br><span class="line">    L.append(<span class="string">'END'</span>)</span><br><span class="line">    <span class="keyword">return</span> L</span><br></pre></td></tr></table></figure>
<blockquote>
<p>ä¸ºä»€ä¹ˆè¦è®¾è®¡strã€Noneè¿™æ ·çš„ä¸å˜å¯¹è±¡å‘¢ï¼Ÿå› ä¸ºä¸å˜å¯¹è±¡ä¸€æ—¦åˆ›å»ºï¼Œå¯¹è±¡å†…éƒ¨çš„æ•°æ®å°±ä¸èƒ½ä¿®æ”¹ï¼Œè¿™æ ·å°±å‡å°‘äº†ç”±äºä¿®æ”¹æ•°æ®å¯¼è‡´çš„é”™è¯¯ã€‚æ­¤å¤–ï¼Œç”±äºå¯¹è±¡ä¸å˜ï¼Œå¤šä»»åŠ¡ç¯å¢ƒä¸‹åŒæ—¶è¯»å–å¯¹è±¡ä¸éœ€è¦åŠ é”ï¼ŒåŒæ—¶è¯»ä¸€ç‚¹é—®é¢˜éƒ½æ²¡æœ‰ã€‚æˆ‘ä»¬åœ¨ç¼–å†™ç¨‹åºæ—¶ï¼Œå¦‚æœå¯ä»¥è®¾è®¡ä¸€ä¸ªä¸å˜å¯¹è±¡ï¼Œé‚£å°±å°½é‡è®¾è®¡æˆä¸å˜å¯¹è±¡ã€‚</p>
</blockquote>
<p><strong>å¯å˜å‚æ•°</strong></p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">calc</span><span class="params">(numbers)</span>:</span></span><br><span class="line">    sum = <span class="number">0</span></span><br><span class="line">    <span class="keyword">for</span> n <span class="keyword">in</span> numbers:</span><br><span class="line">        sum = sum + n * n</span><br><span class="line">    <span class="keyword">return</span> sum</span><br><span class="line"></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>calc([<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>])</span><br><span class="line"><span class="number">14</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>calc((<span class="number">1</span>, <span class="number">3</span>, <span class="number">5</span>, <span class="number">7</span>))</span><br><span class="line"><span class="number">84</span></span><br></pre></td></tr></table></figure>
<p>å¦‚æœåˆ©ç”¨å¯å˜å‚æ•°ï¼Œè°ƒç”¨å‡½æ•°çš„æ–¹å¼å¯ä»¥ç®€åŒ–æˆè¿™æ ·ï¼š</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">calc</span><span class="params">(*numbers)</span>:</span></span><br><span class="line">    sum = <span class="number">0</span></span><br><span class="line">    <span class="keyword">for</span> n <span class="keyword">in</span> numbers:</span><br><span class="line">        sum = sum + n * n</span><br><span class="line">    <span class="keyword">return</span> sum</span><br></pre></td></tr></table></figure>
<p>å®šä¹‰å¯å˜å‚æ•°å’Œå®šä¹‰listæˆ–tupleå‚æ•°ç›¸æ¯”ï¼Œä»…ä»…åœ¨å‚æ•°å‰é¢åŠ äº†ä¸€ä¸ª*å·ã€‚åœ¨å‡½æ•°å†…éƒ¨ï¼Œå‚æ•°numbersæ¥æ”¶åˆ°çš„æ˜¯ä¸€ä¸ªtupleï¼Œå› æ­¤ï¼Œå‡½æ•°ä»£ç å®Œå…¨ä¸å˜ã€‚ä½†æ˜¯ï¼Œè°ƒç”¨è¯¥å‡½æ•°æ—¶ï¼Œå¯ä»¥ä¼ å…¥ä»»æ„ä¸ªå‚æ•°ï¼ŒåŒ…æ‹¬0ä¸ªå‚æ•°ï¼š</p>
<figure class="highlight py"><table><tr><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>calc(<span class="number">1</span>, <span class="number">2</span>)</span><br><span class="line"><span class="number">5</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>calc()</span><br><span class="line"><span class="number">0</span></span><br></pre></td></tr></table></figure>
<p>è¿™ç§å†™æ³•ç›¸å½“æœ‰ç”¨ï¼Œè€Œä¸”å¾ˆå¸¸è§ï¼Œè§å¦‚ä¸‹ :</p>
<figure class="highlight py"><table><tr><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>nums = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>]</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>calc(*nums)</span><br><span class="line"><span class="number">14</span></span><br></pre></td></tr></table></figure>
<p><strong>å…³é”®å­—å‚æ•°</strong></p>
<p><code>å¯å˜å‚æ•°</code>å…è®¸ä½ ä¼ å…¥0ä¸ªæˆ–ä»»æ„ä¸ªå‚æ•°ï¼Œè¿™äº›å¯å˜å‚æ•°åœ¨å‡½æ•°è°ƒç”¨æ—¶è‡ªåŠ¨ç»„è£…ä¸ºä¸€ä¸ªtupleã€‚</p>
<p><code>å…³é”®å­—å‚æ•°</code>å…è®¸ä½ ä¼ å…¥0ä¸ªæˆ–ä»»æ„ä¸ªå«å‚æ•°åçš„å‚æ•°ï¼Œè¿™äº›å…³é”®å­—å‚æ•°åœ¨å‡½æ•°å†…éƒ¨è‡ªåŠ¨ç»„è£…ä¸ºä¸€ä¸ªdictã€‚</p>
<p>è¯·çœ‹ç¤ºä¾‹ï¼š</p>
<figure class="highlight py"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">person</span><span class="params">(name, age, **kw)</span>:</span></span><br><span class="line">    <span class="keyword">print</span> <span class="string">'name:'</span>, name, <span class="string">'age:'</span>, age, <span class="string">'other:'</span>, kw</span><br></pre></td></tr></table></figure>
<p>å‡½æ•°<code>person</code>é™¤äº†å¿…é€‰å‚æ•°<code>name</code>å’Œ<code>age</code>å¤–ï¼Œè¿˜æ¥å—å…³é”®å­—å‚æ•°<code>kw</code>ã€‚åœ¨è°ƒç”¨è¯¥å‡½æ•°æ—¶ï¼Œå¯ä»¥åªä¼ å…¥å¿…é€‰å‚æ•°; ä¹Ÿå¯ä»¥ä¼ å…¥ä»»æ„ä¸ªæ•°çš„å…³é”®å­—å‚æ•°;</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>person(<span class="string">'Bob'</span>, <span class="number">35</span>, city=<span class="string">'Beijing'</span>)</span><br><span class="line">name: Bob age: <span class="number">35</span> other: &#123;<span class="string">'city'</span>: <span class="string">'Beijing'</span>&#125;</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>person(<span class="string">'Adam'</span>, <span class="number">45</span>, gender=<span class="string">'M'</span>, job=<span class="string">'Engineer'</span>)</span><br><span class="line">name: Adam age: <span class="number">45</span> other: &#123;<span class="string">'gender'</span>: <span class="string">'M'</span>, <span class="string">'job'</span>: <span class="string">'Engineer'</span>&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>kw = &#123;<span class="string">'city'</span>: <span class="string">'Beijing'</span>, <span class="string">'job'</span>: <span class="string">'Engineer'</span>&#125;</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>person(<span class="string">'Jack'</span>, <span class="number">24</span>, **kw)</span><br><span class="line">name: Jack age: <span class="number">24</span> other: &#123;<span class="string">'city'</span>: <span class="string">'Beijing'</span>, <span class="string">'job'</span>: <span class="string">'Engineer'</span>&#125;</span><br></pre></td></tr></table></figure>
<p><strong>å‚æ•°ç»„åˆ</strong></p>
<p>åœ¨Pythonä¸­å®šä¹‰å‡½æ•°ï¼Œå¯ä»¥ç”¨å¿…é€‰å‚æ•°ã€é»˜è®¤å‚æ•°ã€å¯å˜å‚æ•°å’Œå…³é”®å­—å‚æ•°ï¼Œè¿™4ç§å‚æ•°éƒ½å¯ä»¥ä¸€èµ·ä½¿ç”¨ï¼Œæˆ–è€…åªç”¨å…¶ä¸­æŸäº›ï¼Œä½†æ˜¯è¯·æ³¨æ„ï¼Œå‚æ•°å®šä¹‰çš„é¡ºåºå¿…é¡»æ˜¯ï¼šå¿…é€‰å‚æ•°ã€é»˜è®¤å‚æ•°ã€å¯å˜å‚æ•°å’Œå…³é”®å­—å‚æ•°ã€‚</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">func</span><span class="params">(a, b, c=<span class="number">0</span>, *args, **kw)</span>:</span></span><br><span class="line">    <span class="keyword">print</span> <span class="string">'a ='</span>, a, <span class="string">'b ='</span>, b, <span class="string">'c ='</span>, c, <span class="string">'args ='</span>, args, <span class="string">'kw ='</span>, kw</span><br></pre></td></tr></table></figure>
<p>åœ¨å‡½æ•°è°ƒç”¨çš„æ—¶å€™ï¼ŒPythonè§£é‡Šå™¨è‡ªåŠ¨æŒ‰ç…§å‚æ•°ä½ç½®å’Œå‚æ•°åæŠŠå¯¹åº”çš„å‚æ•°ä¼ è¿›å»ã€‚</p>
<figure class="highlight py"><table><tr><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>func(<span class="number">1</span>, <span class="number">2</span>)</span><br><span class="line">a = <span class="number">1</span> b = <span class="number">2</span> c = <span class="number">0</span> args = () kw = &#123;&#125;</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>func(<span class="number">1</span>, <span class="number">2</span>, c=<span class="number">3</span>)</span><br><span class="line">a = <span class="number">1</span> b = <span class="number">2</span> c = <span class="number">3</span> args = () kw = &#123;&#125;</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>func(<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="string">'a'</span>, <span class="string">'b'</span>)</span><br><span class="line">a = <span class="number">1</span> b = <span class="number">2</span> c = <span class="number">3</span> args = (<span class="string">'a'</span>, <span class="string">'b'</span>) kw = &#123;&#125;</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>func(<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="string">'a'</span>, <span class="string">'b'</span>, x=<span class="number">99</span>)</span><br><span class="line">a = <span class="number">1</span> b = <span class="number">2</span> c = <span class="number">3</span> args = (<span class="string">'a'</span>, <span class="string">'b'</span>) kw = &#123;<span class="string">'x'</span>: <span class="number">99</span>&#125;</span><br></pre></td></tr></table></figure>
<p>ç¥å¥‡çš„æ˜¯é€šè¿‡ä¸€ä¸ªtupleå’Œdictï¼Œä½ ä¹Ÿå¯ä»¥è°ƒç”¨è¯¥å‡½æ•°ï¼š</p>
<figure class="highlight py"><table><tr><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>args = (<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>kw = &#123;<span class="string">'x'</span>: <span class="number">99</span>&#125;</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>func(*args, **kw)</span><br><span class="line">a = <span class="number">1</span> b = <span class="number">2</span> c = <span class="number">3</span> args = (<span class="number">4</span>,) kw = &#123;<span class="string">'x'</span>: <span class="number">99</span>&#125;</span><br></pre></td></tr></table></figure>
<p>æ‰€ä»¥ï¼Œå¯¹äºä»»æ„å‡½æ•°ï¼Œéƒ½å¯ä»¥é€šè¿‡ç±»ä¼¼<code>func(*args, **kw)</code>çš„å½¢å¼è°ƒç”¨å®ƒï¼Œæ— è®ºå®ƒçš„å‚æ•°æ˜¯å¦‚ä½•å®šä¹‰çš„ã€‚</p>
<p><strong>å°ç»“</strong></p>
<p>Pythonçš„å‡½æ•°å…·æœ‰éå¸¸çµæ´»çš„å‚æ•°å½¢æ€ï¼Œæ—¢å¯ä»¥å®ç°ç®€å•çš„è°ƒç”¨ï¼Œåˆå¯ä»¥ä¼ å…¥éå¸¸å¤æ‚çš„å‚æ•°ã€‚</p>
<p>é»˜è®¤å‚æ•°ä¸€å®šè¦ç”¨ä¸å¯å˜å¯¹è±¡ï¼Œå¦‚æœæ˜¯å¯å˜å¯¹è±¡ï¼Œè¿è¡Œä¼šæœ‰é€»è¾‘é”™è¯¯ï¼</p>
<p>è¦æ³¨æ„å®šä¹‰å¯å˜å‚æ•°å’Œå…³é”®å­—å‚æ•°çš„è¯­æ³•ï¼š</p>
<p><code>*args</code>æ˜¯å¯å˜å‚æ•°ï¼Œargsæ¥æ”¶çš„æ˜¯ä¸€ä¸ªtupleï¼›</p>
<p><code>**kw</code>æ˜¯å…³é”®å­—å‚æ•°ï¼Œkwæ¥æ”¶çš„æ˜¯ä¸€ä¸ªdictã€‚</p>
<p>ä»¥åŠè°ƒç”¨å‡½æ•°æ—¶å¦‚ä½•ä¼ å…¥å¯å˜å‚æ•°å’Œå…³é”®å­—å‚æ•°çš„è¯­æ³•ï¼š</p>
<p>å¯å˜å‚æ•°æ—¢å¯ç›´æ¥ä¼ å…¥ï¼š<code>func(1, 2, 3)</code>ï¼Œåˆå¯å…ˆç»„è£…listæˆ–tupleï¼Œå†é€šè¿‡<code>*args</code>ä¼ å…¥ï¼š<code>func(*(1, 2, 3))</code>ï¼›</p>
<p>å…³é”®å­—å‚æ•°æ—¢å¯ç›´æ¥ä¼ å…¥ï¼š<code>func(a=1, b=2)</code>ï¼Œåˆå¯å…ˆç»„è£…dictï¼Œå†é€šè¿‡<code>**kw</code>ä¼ å…¥ï¼š<code>func(**{&#39;a&#39;: 1, &#39;b&#39;: 2})</code>ã€‚</p>
<p>ä½¿ç”¨<code>*args</code>å’Œ<code>**kw</code>æ˜¯Pythonçš„ä¹ æƒ¯å†™æ³•ï¼Œå½“ç„¶ä¹Ÿå¯ä»¥ç”¨å…¶ä»–å‚æ•°åï¼Œä½†æœ€å¥½ä½¿ç”¨ä¹ æƒ¯ç”¨æ³•ã€‚</p>
<h3 id="é€’å½’å‡½æ•°"><a href="#é€’å½’å‡½æ•°" class="headerlink" title="é€’å½’å‡½æ•°"></a>é€’å½’å‡½æ•°</h3><figure class="highlight py"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">fact</span><span class="params">(n)</span>:</span></span><br><span class="line">    <span class="keyword">if</span> n==<span class="number">1</span>:</span><br><span class="line">        <span class="keyword">return</span> <span class="number">1</span></span><br><span class="line">    <span class="keyword">return</span> n * fact(n - <span class="number">1</span>)</span><br></pre></td></tr></table></figure>
<blockquote>
<p>ä½¿ç”¨é€’å½’å‡½æ•°éœ€è¦æ³¨æ„é˜²æ­¢æ ˆæº¢å‡ºã€‚åœ¨è®¡ç®—æœºä¸­ï¼Œå‡½æ•°è°ƒç”¨æ˜¯é€šè¿‡æ ˆï¼ˆstackï¼‰è¿™ç§æ•°æ®ç»“æ„å®ç°çš„ï¼Œæ¯å½“è¿›å…¥ä¸€ä¸ªå‡½æ•°è°ƒç”¨ï¼Œæ ˆå°±ä¼šåŠ ä¸€å±‚æ ˆå¸§ï¼Œæ¯å½“å‡½æ•°è¿”å›ï¼Œæ ˆå°±ä¼šå‡ä¸€å±‚æ ˆå¸§ã€‚ç”±äºæ ˆçš„å¤§å°ä¸æ˜¯æ— é™çš„ï¼Œæ‰€ä»¥ï¼Œé€’å½’è°ƒç”¨çš„æ¬¡æ•°è¿‡å¤šï¼Œä¼šå¯¼è‡´æ ˆæº¢å‡ºã€‚</p>
<p>ä½¿ç”¨é€’å½’å‡½æ•°çš„ä¼˜ç‚¹æ˜¯é€»è¾‘ç®€å•æ¸…æ™°ï¼Œç¼ºç‚¹æ˜¯è¿‡æ·±çš„è°ƒç”¨ä¼šå¯¼è‡´æ ˆæº¢å‡ºã€‚</p>
</blockquote>
<h2 id="Reference-article"><a href="#Reference-article" class="headerlink" title="Reference article"></a>Reference article</h2><ul>
<li><a href="http://www.liaoxuefeng.com/wiki/001374738125095c955c1e6d8bb493182103fac9270762a000/0013868196169906eb9ca5864384546bf3405ae6a172b3e000" target="_blank" rel="external">å»–é›ªå³°çš„å®˜æ–¹ç½‘ç«™</a></li>
</ul>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[Python é›†åˆ Listã€Tupleã€Dictã€ Set]]></title>
      <url>http://iequa.com/2017/05/31/py-language-4-collection-type/</url>
      <content type="html"><![CDATA[<p>Python é›†åˆ Listã€Tupleã€Dictã€ Set</p>
<a id="more"></a>
<h2 id="List"><a href="#List" class="headerlink" title="List"></a>List</h2><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>classmates = [<span class="string">'Michael'</span>, <span class="string">'Bob'</span>, <span class="string">'Tracy'</span>]</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>classmates</span><br><span class="line">[<span class="string">'Michael'</span>, <span class="string">'Bob'</span>, <span class="string">'Tracy'</span>]</span><br></pre></td></tr></table></figure>
<h3 id="append"><a href="#append" class="headerlink" title="append"></a>append</h3><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>classmates[<span class="number">-1</span>]</span><br><span class="line"><span class="string">'Tracy'</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>classmates.append(<span class="string">'Adam'</span>)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>classmates</span><br><span class="line">[<span class="string">'Michael'</span>, <span class="string">'Bob'</span>, <span class="string">'Tracy'</span>, <span class="string">'Adam'</span>]</span><br></pre></td></tr></table></figure>
<h3 id="insert"><a href="#insert" class="headerlink" title="insert"></a>insert</h3><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>classmates.insert(<span class="number">1</span>, <span class="string">'Jack'</span>)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>classmates</span><br><span class="line">[<span class="string">'Michael'</span>, <span class="string">'Jack'</span>, <span class="string">'Bob'</span>, <span class="string">'Tracy'</span>, <span class="string">'Adam'</span>]</span><br></pre></td></tr></table></figure>
<h3 id="pop"><a href="#pop" class="headerlink" title="pop"></a>pop</h3><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>classmates.pop()</span><br><span class="line"><span class="string">'Adam'</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>classmates</span><br><span class="line">[<span class="string">'Michael'</span>, <span class="string">'Jack'</span>, <span class="string">'Bob'</span>, <span class="string">'Tracy'</span>]</span><br></pre></td></tr></table></figure>
<blockquote>
<p>è¦åˆ é™¤listæœ«å°¾çš„å…ƒç´ ï¼Œç”¨<code>pop()</code>æ–¹æ³•</p>
</blockquote>
<h3 id="pop-i"><a href="#pop-i" class="headerlink" title="pop(i)"></a>pop(i)</h3><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>classmates.pop(<span class="number">1</span>)</span><br><span class="line"><span class="string">'Jack'</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>classmates</span><br><span class="line">[<span class="string">'Michael'</span>, <span class="string">'Bob'</span>, <span class="string">'Tracy'</span>]</span><br></pre></td></tr></table></figure>
<blockquote>
<p>è¦åˆ é™¤æŒ‡å®šä½ç½®çš„å…ƒç´ ï¼Œç”¨<code>pop(i)</code>æ–¹æ³•ï¼Œå…¶ä¸­<code>i</code>æ˜¯ç´¢å¼•ä½ç½®ï¼š</p>
</blockquote>
<h3 id="list-å…ƒç´ ç±»å‹ä¸åŒ"><a href="#list-å…ƒç´ ç±»å‹ä¸åŒ" class="headerlink" title="list å…ƒç´ ç±»å‹ä¸åŒ"></a>list å…ƒç´ ç±»å‹ä¸åŒ</h3><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>L = [<span class="string">'Apple'</span>, <span class="number">123</span>, <span class="keyword">True</span>]</span><br></pre></td></tr></table></figure>
<blockquote>
<p>list é‡Œé¢çš„å…ƒç´ çš„æ•°æ®ç±»å‹ä¹Ÿå¯ä»¥ä¸åŒ</p>
</blockquote>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>s = [<span class="string">'python'</span>, <span class="string">'java'</span>, [<span class="string">'asp'</span>, <span class="string">'php'</span>], <span class="string">'scheme'</span>]</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>len(s)</span><br><span class="line"><span class="number">4</span></span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>p = [<span class="string">'asp'</span>, <span class="string">'php'</span>]</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>s = [<span class="string">'python'</span>, <span class="string">'java'</span>, p, <span class="string">'scheme'</span>]</span><br></pre></td></tr></table></figure>
<blockquote>
<p>listå…ƒç´ ä¹Ÿå¯ä»¥æ˜¯å¦ä¸€ä¸ªlist</p>
</blockquote>
<h2 id="Tuple"><a href="#Tuple" class="headerlink" title="Tuple"></a>Tuple</h2><p><code>tuple</code>ä¸€æ—¦åˆå§‹åŒ–å°±ä¸èƒ½ä¿®æ”¹,å…ƒç´ æŒ‡å‘ä¸æ”¹å˜</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>classmates = (<span class="string">'Michael'</span>, <span class="string">'Bob'</span>, <span class="string">'Tracy'</span>)</span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>t = (<span class="number">1</span>, <span class="number">2</span>)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>t</span><br><span class="line">(<span class="number">1</span>, <span class="number">2</span>)</span><br></pre></td></tr></table></figure>
<p>å¦‚æœè¦å®šä¹‰ä¸€ä¸ªç©ºçš„tupleï¼Œå¯ä»¥å†™æˆ<code>()</code></p>
<blockquote>
<p>tuple çš„é™·é˜±</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&gt;&gt;&gt; t = (1)</span><br><span class="line">&gt;&gt;&gt; t</span><br><span class="line">1</span><br></pre></td></tr></table></figure>
<p>æ­£ç¡®çš„æ–¹å¼å¦‚ä¸‹ :</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&gt;&gt;&gt; t = (1,)</span><br><span class="line">&gt;&gt;&gt; t</span><br><span class="line">(1,)</span><br></pre></td></tr></table></figure>
<p>æœ€åæ¥çœ‹ä¸€ä¸ªâ€œå¯å˜çš„â€tupleï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&gt;&gt;&gt; t = (&apos;a&apos;, &apos;b&apos;, [&apos;A&apos;, &apos;B&apos;])</span><br><span class="line">&gt;&gt;&gt; t[2][0] = &apos;X&apos;</span><br><span class="line">&gt;&gt;&gt; t[2][1] = &apos;Y&apos;</span><br><span class="line">&gt;&gt;&gt; t</span><br><span class="line">(&apos;a&apos;, &apos;b&apos;, [&apos;X&apos;, &apos;Y&apos;])</span><br></pre></td></tr></table></figure>
<p>å…¶å®å˜çš„ä¸æ˜¯tupleçš„å…ƒç´ ï¼Œè€Œæ˜¯listçš„å…ƒç´ ã€‚tupleä¸€å¼€å§‹æŒ‡å‘çš„listå¹¶æ²¡æœ‰æ”¹æˆåˆ«çš„list</p>
<h2 id="Dict"><a href="#Dict" class="headerlink" title="Dict"></a>Dict</h2><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>d = &#123;<span class="string">'Michael'</span>: <span class="number">95</span>, <span class="string">'Bob'</span>: <span class="number">75</span>, <span class="string">'Tracy'</span>: <span class="number">85</span>&#125;</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>d[<span class="string">'Michael'</span>]</span><br><span class="line"><span class="number">95</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>d[<span class="string">'Adam'</span>] = <span class="number">67</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>d[<span class="string">'Adam'</span>]</span><br><span class="line"><span class="number">67</span></span><br></pre></td></tr></table></figure>
<h3 id="åˆ¤æ–­-key-æ˜¯å¦å­˜åœ¨"><a href="#åˆ¤æ–­-key-æ˜¯å¦å­˜åœ¨" class="headerlink" title="åˆ¤æ–­ key æ˜¯å¦å­˜åœ¨"></a>åˆ¤æ–­ key æ˜¯å¦å­˜åœ¨</h3><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="string">'Thomas'</span> <span class="keyword">in</span> d</span><br><span class="line"><span class="keyword">False</span></span><br></pre></td></tr></table></figure>
<p>äºŒæ˜¯é€šè¿‡dictæä¾›çš„getæ–¹æ³•ï¼Œå¦‚æœkeyä¸å­˜åœ¨ï¼Œå¯ä»¥è¿”å›Noneï¼Œæˆ–è€…è‡ªå·±æŒ‡å®šçš„valueï¼š</p>
<figure class="highlight py"><table><tr><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>d.get(<span class="string">'Thomas'</span>)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>d.get(<span class="string">'Thomas'</span>, <span class="number">-1</span>)</span><br><span class="line"><span class="number">-1</span></span><br></pre></td></tr></table></figure>
<blockquote>
<p>æ³¨æ„ï¼šè¿”å›Noneçš„æ—¶å€™Pythonçš„äº¤äº’å¼å‘½ä»¤è¡Œä¸æ˜¾ç¤ºç»“æœã€‚</p>
</blockquote>
<h3 id="åˆ é™¤-keyï¼Œpop-key"><a href="#åˆ é™¤-keyï¼Œpop-key" class="headerlink" title="åˆ é™¤ keyï¼Œpop(key)"></a>åˆ é™¤ keyï¼Œpop(key)</h3><p>è¦åˆ é™¤ä¸€ä¸ªkeyï¼Œç”¨pop(key)æ–¹æ³•ï¼Œå¯¹åº”çš„valueä¹Ÿä¼šä»dictä¸­åˆ é™¤ï¼š</p>
<figure class="highlight py"><table><tr><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>d.pop(<span class="string">'Bob'</span>)</span><br><span class="line"><span class="number">75</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>d</span><br><span class="line">&#123;<span class="string">'Michael'</span>: <span class="number">95</span>, <span class="string">'Tracy'</span>: <span class="number">85</span>&#125;</span><br></pre></td></tr></table></figure>
<table>
<thead>
<tr>
<th>dict</th>
<th>list</th>
</tr>
</thead>
<tbody>
<tr>
<td>æŸ¥æ‰¾å’Œæ’å…¥çš„é€Ÿåº¦æå¿«ï¼Œä¸ä¼šéšç€keyçš„å¢åŠ è€Œå¢åŠ </td>
<td>æŸ¥æ‰¾å’Œæ’å…¥çš„æ—¶é—´éšç€å…ƒç´ çš„å¢åŠ è€Œå¢åŠ </td>
</tr>
<tr>
<td>éœ€è¦å ç”¨å¤§é‡çš„å†…å­˜ï¼Œå†…å­˜æµªè´¹å¤š</td>
<td>å ç”¨ç©ºé—´å°ï¼Œæµªè´¹å†…å­˜å¾ˆå°‘</td>
</tr>
</tbody>
</table>
<p><strong>æ‰€ä»¥ï¼Œdictæ˜¯ç”¨ç©ºé—´æ¥æ¢å–æ—¶é—´çš„ä¸€ç§æ–¹æ³•ã€‚</strong></p>
<blockquote>
<p>dictå¯ä»¥ç”¨åœ¨éœ€è¦é«˜é€ŸæŸ¥æ‰¾çš„å¾ˆå¤šåœ°æ–¹ï¼Œåœ¨Pythonä»£ç ä¸­å‡ ä¹æ— å¤„ä¸åœ¨ï¼Œæ­£ç¡®ä½¿ç”¨dictéå¸¸é‡è¦ï¼Œéœ€è¦ç‰¢è®°çš„ç¬¬ä¸€æ¡å°±æ˜¯dictçš„keyå¿…é¡»æ˜¯ä¸å¯å˜å¯¹è±¡ã€‚</p>
<p>æ˜¯å› ä¸ºdictæ ¹æ®keyæ¥è®¡ç®—valueçš„å­˜å‚¨ä½ç½®ï¼Œå¦‚æœæ¯æ¬¡è®¡ç®—ç›¸åŒçš„keyå¾—å‡ºçš„ç»“æœä¸åŒï¼Œé‚£dictå†…éƒ¨å°±å®Œå…¨æ··ä¹±äº†ã€‚è¿™ä¸ªé€šè¿‡keyè®¡ç®—ä½ç½®çš„ç®—æ³•ç§°ä¸ºå“ˆå¸Œç®—æ³•ï¼ˆHashï¼‰ã€‚</p>
<p>ä¿è¯hashçš„æ­£ç¡®æ€§ï¼Œä½œä¸ºkeyçš„å¯¹è±¡å°±ä¸èƒ½å˜ã€‚åœ¨Pythonä¸­ï¼Œå­—ç¬¦ä¸²ã€æ•´æ•°ç­‰éƒ½æ˜¯ä¸å¯å˜çš„ï¼Œå› æ­¤ï¼Œå¯ä»¥æ”¾å¿ƒåœ°ä½œä¸ºkeyã€‚è€Œlistæ˜¯å¯å˜çš„ï¼Œå°±ä¸èƒ½ä½œä¸ºkeyï¼š</p>
</blockquote>
<h2 id="Set"><a href="#Set" class="headerlink" title="Set"></a>Set</h2><p>setå’Œdictç±»ä¼¼ï¼Œä¹Ÿæ˜¯ä¸€ç»„keyçš„é›†åˆï¼Œä½†ä¸å­˜å‚¨valueã€‚ç”±äºkeyä¸èƒ½é‡å¤ï¼Œæ‰€ä»¥ï¼Œåœ¨setä¸­ï¼Œæ²¡æœ‰é‡å¤çš„keyã€‚</p>
<h3 id="set-init"><a href="#set-init" class="headerlink" title="set init"></a>set init</h3><p>è¦åˆ›å»ºä¸€ä¸ªsetï¼Œéœ€è¦æä¾›ä¸€ä¸ªlistä½œä¸ºè¾“å…¥é›†åˆï¼š</p>
<figure class="highlight py"><table><tr><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>s = set([<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>])</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>s</span><br><span class="line">set([<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>])</span><br></pre></td></tr></table></figure>
<blockquote>
<p>æ³¨æ„ï¼Œä¼ å…¥çš„å‚æ•°<code>[1, 2, 3]</code>æ˜¯ä¸€ä¸ªlistï¼Œè€Œæ˜¾ç¤ºçš„<code>set([1, 2, 3])</code>åªæ˜¯å‘Šè¯‰ä½ è¿™ä¸ªsetå†…éƒ¨æœ‰1ï¼Œ2ï¼Œ3è¿™3ä¸ªå…ƒç´ ï¼Œæ˜¾ç¤ºçš„[]ä¸è¡¨ç¤ºè¿™æ˜¯ä¸€ä¸ªlistã€‚</p>
</blockquote>
<h3 id="addã€remove"><a href="#addã€remove" class="headerlink" title="addã€remove"></a>addã€remove</h3><figure class="highlight py"><table><tr><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>s = set([<span class="number">1</span>, <span class="number">1</span>, <span class="number">2</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">3</span>])</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>s</span><br><span class="line">set([<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>])</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>s.add(<span class="number">4</span>)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>s</span><br><span class="line">set([<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>])</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>s.add(<span class="number">4</span>)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>s</span><br><span class="line">set([<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>])</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>s.remove(<span class="number">4</span>)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>s</span><br><span class="line">set([<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>])</span><br></pre></td></tr></table></figure>
<h3 id="set-amp-and"><a href="#set-amp-and" class="headerlink" title="set &amp; and |"></a>set &amp; and |</h3><p>setå¯ä»¥çœ‹æˆæ•°å­¦æ„ä¹‰ä¸Šçš„æ— åºå’Œæ— é‡å¤å…ƒç´ çš„é›†åˆï¼Œå› æ­¤ï¼Œä¸¤ä¸ªsetå¯ä»¥åšæ•°å­¦æ„ä¹‰ä¸Šçš„äº¤é›†ã€å¹¶é›†ç­‰æ“ä½œï¼š</p>
<figure class="highlight py"><table><tr><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>s1 = set([<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>])</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>s2 = set([<span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>])</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>s1 &amp; s2</span><br><span class="line">set([<span class="number">2</span>, <span class="number">3</span>])</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>s1 | s2</span><br><span class="line">set([<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>])</span><br></pre></td></tr></table></figure>
<blockquote>
<p>setå’Œdictçš„å”¯ä¸€åŒºåˆ«ä»…åœ¨äºæ²¡æœ‰å­˜å‚¨å¯¹åº”çš„valueï¼Œsetçš„åŸç†å’Œdictä¸€æ ·.</p>
</blockquote>
<h3 id="differenceã€intersection"><a href="#differenceã€intersection" class="headerlink" title="differenceã€intersection"></a>differenceã€intersection</h3><p>æˆ‘ä»¬è¿˜èƒ½è¿›è¡Œä¸€äº›ç­›é€‰æ“ä½œ, æ¯”å¦‚å¯¹æ¯”å¦ä¸€ä¸ªä¸œè¥¿, çœ‹çœ‹åŸæ¥çš„ set é‡Œæœ‰æ²¡æœ‰å’Œä»–ä¸åŒçš„ (difference). æˆ–è€…å¯¹æ¯”å¦ä¸€ä¸ªä¸œè¥¿, çœ‹çœ‹ set é‡Œæœ‰æ²¡æœ‰ç›¸åŒçš„ (intersection).</p>
<figure class="highlight"><table><tr><td class="code"><pre><span class="line">print(unique_char)</span><br><span class="line"># &#123;'b', 'c', 'a'&#125;</span><br><span class="line"></span><br><span class="line">unique_char = set(char_list)</span><br><span class="line">print(unique_char.difference(&#123;'a', 'e', 'i'&#125;))</span><br><span class="line"># &#123;'b', 'd', 'c'&#125;</span><br><span class="line"></span><br><span class="line">print(unique_char.intersection(&#123;'a', 'e', 'i'&#125;))</span><br><span class="line"># &#123;'a'&#125;</span><br></pre></td></tr></table></figure>
<h2 id="è®®ä¸å¯å˜å¯¹è±¡"><a href="#è®®ä¸å¯å˜å¯¹è±¡" class="headerlink" title="è®®ä¸å¯å˜å¯¹è±¡"></a>è®®ä¸å¯å˜å¯¹è±¡</h2><figure class="highlight py"><table><tr><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>a = [<span class="string">'c'</span>, <span class="string">'b'</span>, <span class="string">'a'</span>]</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>a.sort()</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>a</span><br><span class="line">[<span class="string">'a'</span>, <span class="string">'b'</span>, <span class="string">'c'</span>]</span><br><span class="line"></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>a = <span class="string">'abc'</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>a.replace(<span class="string">'a'</span>, <span class="string">'A'</span>)</span><br><span class="line"><span class="string">'Abc'</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>a</span><br><span class="line"><span class="string">'abc'</span></span><br></pre></td></tr></table></figure>
<p>å°ç»“ :</p>
<p>ä½¿ç”¨key-valueå­˜å‚¨ç»“æ„çš„dictåœ¨Pythonä¸­éå¸¸æœ‰ç”¨ï¼Œé€‰æ‹©ä¸å¯å˜å¯¹è±¡ä½œä¸ºkeyå¾ˆé‡è¦ï¼Œæœ€å¸¸ç”¨çš„keyæ˜¯å­—ç¬¦ä¸²ã€‚</p>
<p><code>tuple</code> è™½ç„¶æ˜¯ä¸å˜å¯¹è±¡ï¼Œä½†è¯•è¯•æŠŠ <code>(1, 2, 3)</code> å’Œ <code>(1, [2, 3])</code> æ”¾å…¥dictæˆ–setä¸­ï¼Œå¹¶è§£é‡Šç»“æœã€‚</p>
<h2 id="Reference-article"><a href="#Reference-article" class="headerlink" title="Reference article"></a>Reference article</h2><ul>
<li><a href="http://www.liaoxuefeng.com/wiki/001374738125095c955c1e6d8bb493182103fac9270762a000/001386819196283586a37629844456ca7e5a7faa9b94ee8000" target="_blank" rel="external">å»–é›ªå³°çš„å®˜æ–¹ç½‘ç«™</a></li>
</ul>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[Python å­—ç¬¦ç¼–ç  & å­—ç¬¦ä¸²]]></title>
      <url>http://iequa.com/2017/05/31/py-language-3-str-&-character-encoding/</url>
      <content type="html"><![CDATA[<p>Python å­—ç¬¦ç¼–ç  å¤§æ¦‚åŸç† ä¸ å­—ç¬¦ä¸²ç®€å•æ“ä½œ</p>
<a id="more"></a>
<h2 id="å­—ç¬¦ç¼–ç "><a href="#å­—ç¬¦ç¼–ç " class="headerlink" title="å­—ç¬¦ç¼–ç "></a>å­—ç¬¦ç¼–ç </h2><p>å› ä¸ºè®¡ç®—æœºåªèƒ½å¤„ç†æ•°å­—ï¼Œå¦‚æœè¦å¤„ç†æ–‡æœ¬ï¼Œå°±å¿…é¡»å…ˆæŠŠæ–‡æœ¬è½¬æ¢ä¸ºæ•°å­—æ‰èƒ½å¤„ç†ã€‚æœ€æ—©çš„è®¡ç®—æœºåœ¨è®¾è®¡æ—¶é‡‡ç”¨8ä¸ªæ¯”ç‰¹ï¼ˆbitï¼‰ä½œä¸ºä¸€ä¸ªå­—èŠ‚ï¼ˆbyteï¼‰ï¼Œæ‰€ä»¥ï¼Œä¸€ä¸ªå­—èŠ‚èƒ½è¡¨ç¤ºçš„æœ€å¤§çš„æ•´æ•°å°±æ˜¯255ï¼ˆäºŒè¿›åˆ¶11111111=åè¿›åˆ¶255ï¼‰ï¼Œå¦‚æœè¦è¡¨ç¤ºæ›´å¤§çš„æ•´æ•°ï¼Œå°±å¿…é¡»ç”¨æ›´å¤šçš„å­—èŠ‚ã€‚æ¯”å¦‚ä¸¤ä¸ªå­—èŠ‚å¯ä»¥è¡¨ç¤ºçš„æœ€å¤§æ•´æ•°æ˜¯65535ï¼Œ4ä¸ªå­—èŠ‚å¯ä»¥è¡¨ç¤ºçš„æœ€å¤§æ•´æ•°æ˜¯4294967295ã€‚</p>
<p>ç”±äºè®¡ç®—æœºæ˜¯ç¾å›½äººå‘æ˜çš„ï¼Œå› æ­¤ï¼Œæœ€æ—©åªæœ‰127ä¸ªå­—æ¯è¢«ç¼–ç åˆ°è®¡ç®—æœºé‡Œï¼Œä¹Ÿå°±æ˜¯å¤§å°å†™è‹±æ–‡å­—æ¯ã€æ•°å­—å’Œä¸€äº›ç¬¦å·ï¼Œè¿™ä¸ªç¼–ç è¡¨è¢«ç§°ä¸ºASCIIç¼–ç ï¼Œæ¯”å¦‚å¤§å†™å­—æ¯Açš„ç¼–ç æ˜¯65ï¼Œå°å†™å­—æ¯zçš„ç¼–ç æ˜¯122ã€‚</p>
<p>ä½†æ˜¯è¦å¤„ç†ä¸­æ–‡æ˜¾ç„¶ä¸€ä¸ªå­—èŠ‚æ˜¯ä¸å¤Ÿçš„ï¼Œè‡³å°‘éœ€è¦ä¸¤ä¸ªå­—èŠ‚ï¼Œè€Œä¸”è¿˜ä¸èƒ½å’ŒASCIIç¼–ç å†²çªï¼Œæ‰€ä»¥ï¼Œä¸­å›½åˆ¶å®šäº†GB2312ç¼–ç ï¼Œç”¨æ¥æŠŠä¸­æ–‡ç¼–è¿›å»ã€‚</p>
<p><img src="/images/python/language-str-encoding.png" alt=""></p>
<p>å› æ­¤ï¼ŒUnicodeåº”è¿è€Œç”Ÿã€‚UnicodeæŠŠæ‰€æœ‰è¯­è¨€éƒ½ç»Ÿä¸€åˆ°ä¸€å¥—ç¼–ç é‡Œï¼Œè¿™æ ·å°±ä¸ä¼šå†æœ‰ä¹±ç é—®é¢˜äº†ã€‚</p>
<p>Unicodeæ ‡å‡†ä¹Ÿåœ¨ä¸æ–­å‘å±•ï¼Œä½†æœ€å¸¸ç”¨çš„æ˜¯ç”¨ä¸¤ä¸ªå­—èŠ‚è¡¨ç¤ºä¸€ä¸ªå­—ç¬¦ï¼ˆå¦‚æœè¦ç”¨åˆ°éå¸¸ååƒ»çš„å­—ç¬¦ï¼Œå°±éœ€è¦4ä¸ªå­—èŠ‚ï¼‰ã€‚ç°ä»£æ“ä½œç³»ç»Ÿå’Œå¤§å¤šæ•°ç¼–ç¨‹è¯­è¨€éƒ½ç›´æ¥æ”¯æŒUnicodeã€‚</p>
<p>å­—æ¯<code>A</code>ç”¨ASCIIç¼–ç æ˜¯åè¿›åˆ¶çš„<code>65</code>ï¼ŒäºŒè¿›åˆ¶çš„01000001ï¼›</p>
<p>å­—ç¬¦<code>0</code>ç”¨ASCIIç¼–ç æ˜¯åè¿›åˆ¶çš„<code>48</code>ï¼ŒäºŒè¿›åˆ¶çš„00110000ï¼Œæ³¨æ„å­—ç¬¦â€™0â€™å’Œæ•´æ•°0æ˜¯ä¸åŒçš„ï¼›</p>
<p>ä½ å¯ä»¥çŒœæµ‹ï¼Œå¦‚æœæŠŠASCIIç¼–ç çš„<code>A</code>ç”¨Unicodeç¼–ç ï¼Œåªéœ€è¦åœ¨å‰é¢è¡¥0å°±å¯ä»¥ï¼Œå› æ­¤ï¼ŒAçš„Unicodeç¼–ç æ˜¯00000000 01000001ã€‚</p>
<p>æ–°çš„é—®é¢˜åˆå‡ºç°äº†ï¼šå¦‚æœç»Ÿä¸€æˆUnicodeç¼–ç ï¼Œä¹±ç é—®é¢˜ä»æ­¤æ¶ˆå¤±äº†ã€‚ä½†æ˜¯ï¼Œå¦‚æœä½ å†™çš„æ–‡æœ¬åŸºæœ¬ä¸Šå…¨éƒ¨æ˜¯è‹±æ–‡çš„è¯ï¼Œç”¨Unicodeç¼–ç æ¯”ASCIIç¼–ç éœ€è¦å¤šä¸€å€çš„å­˜å‚¨ç©ºé—´ï¼Œåœ¨å­˜å‚¨å’Œä¼ è¾“ä¸Šå°±ååˆ†ä¸åˆ’ç®—ã€‚</p>
<p>æ‰€ä»¥ï¼Œæœ¬ç€èŠ‚çº¦çš„ç²¾ç¥ï¼Œåˆå‡ºç°äº†æŠŠUnicodeç¼–ç è½¬åŒ–ä¸ºâ€œå¯å˜é•¿ç¼–ç â€çš„<code>UTF-8</code>ç¼–ç ã€‚UTF-8ç¼–ç æŠŠä¸€ä¸ªUnicodeå­—ç¬¦æ ¹æ®ä¸åŒçš„æ•°å­—å¤§å°ç¼–ç æˆ1-6ä¸ªå­—èŠ‚ï¼Œå¸¸ç”¨çš„è‹±æ–‡å­—æ¯è¢«ç¼–ç æˆ1ä¸ªå­—èŠ‚ï¼Œæ±‰å­—é€šå¸¸æ˜¯3ä¸ªå­—èŠ‚ï¼Œåªæœ‰å¾ˆç”Ÿåƒ»çš„å­—ç¬¦æ‰ä¼šè¢«ç¼–ç æˆ4-6ä¸ªå­—èŠ‚ã€‚å¦‚æœä½ è¦ä¼ è¾“çš„æ–‡æœ¬åŒ…å«å¤§é‡è‹±æ–‡å­—ç¬¦ï¼Œç”¨UTF-8ç¼–ç å°±èƒ½èŠ‚çœç©ºé—´ï¼š</p>
<blockquote>
<p>åœ¨è®¡ç®—æœºå†…å­˜ä¸­ï¼Œç»Ÿä¸€ä½¿ç”¨Unicodeç¼–ç ï¼Œå½“éœ€è¦ä¿å­˜åˆ°ç¡¬ç›˜æˆ–è€…éœ€è¦ä¼ è¾“çš„æ—¶å€™ï¼Œå°±è½¬æ¢ä¸ºUTF-8ç¼–ç ã€‚</p>
</blockquote>
<h2 id="å­—ç¬¦ä¸²"><a href="#å­—ç¬¦ä¸²" class="headerlink" title="å­—ç¬¦ä¸²"></a>å­—ç¬¦ä¸²</h2><p>å› ä¸ºPythonçš„è¯ç”Ÿæ¯”Unicodeæ ‡å‡†å‘å¸ƒçš„æ—¶é—´è¿˜è¦æ—©ï¼Œæ‰€ä»¥æœ€æ—©çš„Pythonåªæ”¯æŒASCIIç¼–ç ï¼Œæ™®é€šçš„å­—ç¬¦ä¸²<code>&#39;ABC&#39;</code>åœ¨Pythonå†…éƒ¨éƒ½æ˜¯ASCIIç¼–ç çš„ã€‚</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>ord(<span class="string">'A'</span>)</span><br><span class="line"><span class="number">65</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>chr(<span class="number">65</span>)</span><br><span class="line"><span class="string">'A'</span></span><br></pre></td></tr></table></figure>
<p>Pythonåœ¨åæ¥æ·»åŠ äº†å¯¹Unicodeçš„æ”¯æŒï¼Œä»¥Unicodeè¡¨ç¤ºçš„å­—ç¬¦ä¸²ç”¨<code>u&#39;...&#39;</code>è¡¨ç¤ºï¼Œæ¯”å¦‚ï¼š</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="keyword">print</span> <span class="string">u'ä¸­æ–‡'</span></span><br><span class="line">ä¸­æ–‡</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="string">u'ä¸­'</span></span><br><span class="line"><span class="string">u'\u4e2d'</span></span><br></pre></td></tr></table></figure>
<p>å†™<code>u&#39;ä¸­&#39;</code>å’Œ<code>u&#39;\u4e2d&#39;</code>æ˜¯ä¸€æ ·çš„ï¼Œ<code>\u</code>åé¢æ˜¯åå…­è¿›åˆ¶çš„Unicodeç ã€‚å› æ­¤ï¼Œ<code>u&#39;A&#39;</code>å’Œ<code>u&#39;\u0041&#39;</code>ä¹Ÿä¸€æ ·çš„ã€‚</p>
<p>ä¸¤ç§å­—ç¬¦ä¸²å¦‚ä½•ç›¸äº’è½¬æ¢ï¼Ÿå­—ç¬¦ä¸²<code>&#39;xxx&#39;</code>è™½ç„¶æ˜¯ASCIIç¼–ç ï¼Œä½†ä¹Ÿå¯ä»¥çœ‹æˆæ˜¯UTF-8ç¼–ç ï¼Œè€Œ<code>u&#39;xxx&#39;</code>åˆ™åªèƒ½æ˜¯Unicodeç¼–ç ã€‚</p>
<p>æŠŠ<code>u&#39;xxx&#39;</code>è½¬æ¢ä¸ºUTF-8ç¼–ç çš„<code>&#39;xxx&#39;</code>ç”¨<code>encode(&#39;utf-8&#39;)</code>æ–¹æ³•ï¼š</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="string">u'ABC'</span>.encode(<span class="string">'utf-8'</span>)</span><br><span class="line"><span class="string">'ABC'</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="string">u'ä¸­æ–‡'</span>.encode(<span class="string">'utf-8'</span>)</span><br><span class="line"><span class="string">'\xe4\xb8\xad\xe6\x96\x87'</span></span><br></pre></td></tr></table></figure>
<p>è‹±æ–‡å­—ç¬¦è½¬æ¢åè¡¨ç¤ºçš„UTF-8çš„å€¼å’ŒUnicodeå€¼ç›¸ç­‰ï¼ˆä½†å ç”¨çš„å­˜å‚¨ç©ºé—´ä¸åŒï¼‰ï¼Œè€Œä¸­æ–‡å­—ç¬¦è½¬æ¢å1ä¸ªUnicodeå­—ç¬¦å°†å˜ä¸º3ä¸ªUTF-8å­—ç¬¦ï¼Œä½ çœ‹åˆ°çš„<code>\xe4</code>å°±æ˜¯å…¶ä¸­ä¸€ä¸ªå­—èŠ‚ï¼Œå› ä¸ºå®ƒçš„å€¼æ˜¯<code>228</code>ï¼Œæ²¡æœ‰å¯¹åº”çš„å­—æ¯å¯ä»¥æ˜¾ç¤ºï¼Œæ‰€ä»¥ä»¥åå…­è¿›åˆ¶æ˜¾ç¤ºå­—èŠ‚çš„æ•°å€¼ã€‚<code>len()</code>å‡½æ•°å¯ä»¥è¿”å›å­—ç¬¦ä¸²çš„é•¿åº¦ï¼š</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>len(<span class="string">u'ABC'</span>)</span><br><span class="line"><span class="number">3</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>len(<span class="string">'ABC'</span>)</span><br><span class="line"><span class="number">3</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>len(<span class="string">u'ä¸­æ–‡'</span>)</span><br><span class="line"><span class="number">2</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>len(<span class="string">'\xe4\xb8\xad\xe6\x96\x87'</span>)</span><br><span class="line"><span class="number">6</span></span><br></pre></td></tr></table></figure>
<p>åè¿‡æ¥ï¼ŒæŠŠUTF-8ç¼–ç è¡¨ç¤ºçš„å­—ç¬¦ä¸²<code>&#39;xxx&#39;</code>è½¬æ¢ä¸ºUnicodeå­—ç¬¦ä¸²<code>u&#39;xxx&#39;</code>ç”¨<code>decode(&#39;utf-8&#39;)</code>æ–¹æ³•ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&gt;&gt;&gt; &apos;abc&apos;.decode(&apos;utf-8&apos;)</span><br><span class="line">u&apos;abc&apos;</span><br><span class="line">&gt;&gt;&gt; &apos;\xe4\xb8\xad\xe6\x96\x87&apos;.decode(&apos;utf-8&apos;)</span><br><span class="line">u&apos;\u4e2d\u6587&apos;</span><br><span class="line">&gt;&gt;&gt; print &apos;\xe4\xb8\xad\xe6\x96\x87&apos;.decode(&apos;utf-8&apos;)</span><br><span class="line">ä¸­æ–‡</span><br></pre></td></tr></table></figure>
<h3 id="æ ¼å¼åŒ–"><a href="#æ ¼å¼åŒ–" class="headerlink" title="æ ¼å¼åŒ–"></a>æ ¼å¼åŒ–</h3><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="string">'Hello, %s'</span> % <span class="string">'world'</span></span><br><span class="line"><span class="string">'Hello, world'</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="string">'Hi, %s, you have $%d.'</span> % (<span class="string">'Michael'</span>, <span class="number">1000000</span>)</span><br><span class="line"><span class="string">'Hi, Michael, you have $1000000.'</span></span><br></pre></td></tr></table></figure>
<figure class="highlight py"><table><tr><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="string">'%2d-%02d'</span> % (<span class="number">3</span>, <span class="number">1</span>)</span><br><span class="line"><span class="string">' 3-01'</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="string">'%.2f'</span> % <span class="number">3.1415926</span></span><br><span class="line"><span class="string">'3.14'</span></span><br></pre></td></tr></table></figure>
<h2 id="Reference"><a href="#Reference" class="headerlink" title="Reference"></a>Reference</h2><ul>
<li><a href="http://www.liaoxuefeng.com/wiki/001374738125095c955c1e6d8bb493182103fac9270762a000/001386819196283586a37629844456ca7e5a7faa9b94ee8000" target="_blank" rel="external">å»–é›ªå³°çš„å®˜æ–¹ç½‘ç«™</a></li>
</ul>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[Python Outputã€Variableã€dataTypeã€Ifã€While/Forã€Py Head]]></title>
      <url>http://iequa.com/2017/05/31/py-language-2-Output-Variable-dataType-If-While:For-PyHead/</url>
      <content type="html"><![CDATA[<p>Python çš„ print è¯­å¥ã€Variable å˜é‡å®šä¹‰ã€ æ•°æ®ç±»å‹ã€æ¡ä»¶ä¸å¾ªç¯</p>
<a id="more"></a>
<h2 id="Output"><a href="#Output" class="headerlink" title="Output"></a>Output</h2><p><code>print</code>è¯­å¥ä¹Ÿå¯ä»¥è·Ÿä¸Šå¤šä¸ªå­—ç¬¦ä¸²ï¼Œç”¨é€—å·â€œ,â€éš”å¼€ï¼Œå°±å¯ä»¥è¿æˆä¸€ä¸²è¾“å‡ºï¼š</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">print(<span class="string">'The quick brown fox'</span>, <span class="string">'jumps over'</span>, <span class="string">'the lazy dog'</span>)</span><br></pre></td></tr></table></figure>
<pre><code>The quick brown fox jumps over the lazy dog
</code></pre><blockquote>
<p><code>print</code>ä¼šä¾æ¬¡æ‰“å°æ¯ä¸ªå­—ç¬¦ä¸²ï¼Œé‡åˆ°é€—å·â€œ,â€ä¼šè¾“å‡ºä¸€ä¸ªç©ºæ ¼</p>
</blockquote>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">print(int(<span class="string">'2'</span>)+<span class="number">3</span>) <span class="comment"># int å­—ç¬¦ä¸²ä¼šè½¬ä¸ºæ•´æ•°</span></span><br><span class="line">print(int(<span class="number">1.9</span>))  <span class="comment"># intä¼šä¿ç•™æ•´æ•°éƒ¨åˆ†</span></span><br><span class="line">print(float(<span class="string">'1.2'</span>)+<span class="number">3</span>) <span class="comment">#float()æ˜¯æµ®ç‚¹å‹ï¼Œå¯ä»¥æŠŠå­—ç¬¦ä¸²è½¬æ¢æˆå°æ•°</span></span><br></pre></td></tr></table></figure>
<pre><code>5
1
4.2
</code></pre><h2 id="Input"><a href="#Input" class="headerlink" title="Input"></a>Input</h2><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>name = input()</span><br><span class="line">Blair</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>print(<span class="string">'Hello,'</span>, name)</span><br><span class="line">Hello, Blair</span><br></pre></td></tr></table></figure>
<h2 id="Variable"><a href="#Variable" class="headerlink" title="Variable"></a>Variable</h2><figure class="highlight python"><table><tr><td class="code"><pre><span class="line">a,b,c=<span class="number">11</span>,<span class="number">12</span>,<span class="number">13</span></span><br><span class="line">print(a,b,c)</span><br></pre></td></tr></table></figure>
<pre><code>11 12 13
</code></pre><h3 id="global-var"><a href="#global-var" class="headerlink" title="global var"></a>global var</h3><p>é‚£å¦‚ä½•åœ¨å¤–éƒ¨ä¹Ÿèƒ½è°ƒç”¨ä¸€ä¸ªåœ¨å±€éƒ¨é‡Œä¿®æ”¹äº†çš„å…¨å±€å˜é‡å‘¢. é¦–å…ˆæˆ‘ä»¬åœ¨å¤–éƒ¨å®šä¹‰ä¸€ä¸ªå…¨å±€å˜é‡ <code>a=None</code>, ç„¶åå† <code>fun()</code> ä¸­å£°æ˜ è¿™ä¸ª <code>a</code> æ˜¯æ¥è‡ªå¤–éƒ¨çš„ <code>a</code>. å£°æ˜æ–¹å¼å°±æ˜¯ <code>global a</code>. ç„¶åå¯¹è¿™ä¸ªå¤–éƒ¨çš„ <code>a</code> ä¿®æ”¹å, ä¿®æ”¹çš„æ•ˆæœä¼šè¢«æ–½åŠ åˆ°å¤–éƒ¨çš„ <code>a</code> ä¸Š. æ‰€ä»¥æˆ‘ä»¬å°†èƒ½çœ‹åˆ°è¿è¡Œå®Œ <code>fun()</code>, <code>a</code> çš„å€¼ä» <code>None</code> å˜æˆäº† <code>20</code>.</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">APPLY = <span class="number">100</span> <span class="comment"># å…¨å±€å˜é‡</span></span><br><span class="line">a = <span class="keyword">None</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">fun</span><span class="params">()</span>:</span></span><br><span class="line">    <span class="keyword">global</span> a    <span class="comment"># ä½¿ç”¨ä¹‹å‰åœ¨å…¨å±€é‡Œå®šä¹‰çš„ a</span></span><br><span class="line">    a = <span class="number">20</span>      <span class="comment"># ç°åœ¨çš„ a æ˜¯å…¨å±€å˜é‡äº†</span></span><br><span class="line">    <span class="keyword">return</span> a+<span class="number">100</span></span><br><span class="line"></span><br><span class="line">print(APPLE)    <span class="comment"># 100</span></span><br><span class="line">print(<span class="string">'a past:'</span>, a)  <span class="comment"># None</span></span><br><span class="line">fun()</span><br><span class="line">print(<span class="string">'a now:'</span>, a)   <span class="comment"># 20</span></span><br></pre></td></tr></table></figure>
<h2 id="dataType"><a href="#dataType" class="headerlink" title="dataType"></a>dataType</h2><table>
<thead>
<tr>
<th>åºå·</th>
<th>data type</th>
<th>example value</th>
</tr>
</thead>
<tbody>
<tr>
<td>1</td>
<td>int</td>
<td>3</td>
</tr>
<tr>
<td>2</td>
<td>float</td>
<td>1.2</td>
</tr>
<tr>
<td>3</td>
<td>str</td>
<td>â€˜helloâ€™ or â€œhelloâ€</td>
</tr>
<tr>
<td>4</td>
<td>boolean</td>
<td>True/False </td>
</tr>
<tr>
<td>5</td>
<td>None</td>
<td>None</td>
</tr>
<tr>
<td>6</td>
<td>å¸¸é‡</td>
<td></td>
</tr>
</tbody>
</table>
<h2 id="if-else"><a href="#if-else" class="headerlink" title="if/else"></a>if/else</h2><figure class="highlight python"><table><tr><td class="code"><pre><span class="line">age = <span class="number">20</span></span><br><span class="line"><span class="keyword">if</span> age &gt;= <span class="number">6</span>:</span><br><span class="line">    print(<span class="string">'teenager'</span>)</span><br><span class="line"><span class="keyword">elif</span> age &gt;= <span class="number">18</span>:</span><br><span class="line">    print(<span class="string">'adult'</span>)</span><br><span class="line"><span class="keyword">else</span>:</span><br><span class="line">    print(<span class="string">'kid'</span>)</span><br></pre></td></tr></table></figure>
<pre><code>teenager
</code></pre><h3 id="if-while-é‡-None"><a href="#if-while-é‡-None" class="headerlink" title="if/while é‡ None"></a>if/while é‡ None</h3><figure class="highlight python"><table><tr><td class="code"><pre><span class="line">v1 = <span class="keyword">None</span></span><br><span class="line"><span class="keyword">if</span> v1:</span><br><span class="line">   print(<span class="string">'v1'</span>)</span><br></pre></td></tr></table></figure>
<blockquote>
<p>å¦‚æœ if / while åé¢æ¥ç€çš„è¯­å¥æ•°æ®ç±»å‹ None, å°†ä¸ False å¤„ç†æ–¹å¼ç›¸åŒ</p>
</blockquote>
<h3 id="if-while-é‡-ç©ºé›†åˆ"><a href="#if-while-é‡-ç©ºé›†åˆ" class="headerlink" title="if/while é‡ ç©ºé›†åˆ"></a>if/while é‡ ç©ºé›†åˆ</h3><figure class="highlight python"><table><tr><td class="code"><pre><span class="line">A = []</span><br><span class="line"><span class="keyword">if</span> A:</span><br><span class="line">    print(<span class="string">"A is empty !"</span>)</span><br><span class="line"></span><br><span class="line">A = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>]</span><br><span class="line"><span class="keyword">if</span> A:</span><br><span class="line">    print(<span class="string">"A is not empty !"</span>)</span><br></pre></td></tr></table></figure>
<pre><code>A is not empty !
</code></pre><blockquote>
<p>åœ¨ Python ä¸­é›†åˆç±»å‹æœ‰ listã€ tuple ã€dict å’Œ set ç­‰ï¼Œå¦‚æœè¯¥é›†åˆå¯¹è±¡ä½œä¸º if æˆ– while åˆ¤æ–­è¯­å¥, åˆ™ä¸ False å¤„ç†æ–¹å¼ç›¸åŒ</p>
</blockquote>
<h2 id="While-For"><a href="#While-For" class="headerlink" title="While/For"></a>While/For</h2><figure class="highlight python"><table><tr><td class="code"><pre><span class="line">a = range(<span class="number">5</span>)</span><br><span class="line"><span class="keyword">while</span> a:</span><br><span class="line">    print(a[<span class="number">-1</span>])</span><br><span class="line">    a = a[:len(a)<span class="number">-1</span>]</span><br></pre></td></tr></table></figure>
<pre><code>4
3
2
1
0
</code></pre><figure class="highlight python"><table><tr><td class="code"><pre><span class="line">names = [<span class="string">'Michael'</span>, <span class="string">'Bob'</span>, <span class="string">'Tracy'</span>]</span><br><span class="line"><span class="keyword">for</span> name <span class="keyword">in</span> names:</span><br><span class="line">    print(name)</span><br></pre></td></tr></table></figure>
<pre><code>Michael
Bob
Tracy
</code></pre><h2 id="py-ç¨‹åºå¤´éƒ¨"><a href="#py-ç¨‹åºå¤´éƒ¨" class="headerlink" title="py ç¨‹åºå¤´éƒ¨"></a>py ç¨‹åºå¤´éƒ¨</h2><figure class="highlight py"><table><tr><td class="code"><pre><span class="line"><span class="comment">#!/usr/bin/env python</span></span><br><span class="line"><span class="comment"># -*- coding: utf-8 -*-</span></span><br></pre></td></tr></table></figure>
<p>ç¬¬ä¸€è¡Œæ³¨é‡Šæ˜¯ä¸ºäº†å‘Šè¯‰Linux/OS Xç³»ç»Ÿï¼Œè¿™æ˜¯ä¸€ä¸ªPythonå¯æ‰§è¡Œç¨‹åºï¼ŒWindowsç³»ç»Ÿä¼šå¿½ç•¥è¿™ä¸ªæ³¨é‡Šï¼›</p>
<p>ç¬¬äºŒè¡Œæ³¨é‡Šæ˜¯ä¸ºäº†å‘Šè¯‰Pythonè§£é‡Šå™¨ï¼ŒæŒ‰ç…§UTF-8ç¼–ç è¯»å–æºä»£ç ï¼Œå¦åˆ™ï¼Œåœ¨æºä»£ç ä¸­å†™çš„ä¸­æ–‡è¾“å‡ºå¯èƒ½ä¼šä¹±ç ã€‚</p>
<h2 id="Reference"><a href="#Reference" class="headerlink" title="Reference"></a>Reference</h2><ul>
<li><a href="http://www.liaoxuefeng.com/wiki/001374738125095c955c1e6d8bb493182103fac9270762a000/001386819196283586a37629844456ca7e5a7faa9b94ee8000" target="_blank" rel="external">morvanzhou python</a></li>
<li><a href="https://morvanzhou.github.io/tutorials/python-basic/" target="_blank" rel="external">å»–é›ªå³°çš„å®˜æ–¹ç½‘ç«™</a></li>
</ul>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[EF 4 The Past]]></title>
      <url>http://iequa.com/2017/05/31/ef-l4u3-The-past/</url>
      <content type="html"><![CDATA[<style>
img {
        display: block !important;
        width: 550px;
        margin-left: 120px !important;
}
audio {
        display: block !important;
        width: 550px;
        margin-left: 120px !important;
}

</style>

<h2 id="1-Asking-about-someoneâ€™s-day"><a href="#1-Asking-about-someoneâ€™s-day" class="headerlink" title="1. Asking about someoneâ€™s day"></a>1. Asking about someoneâ€™s day</h2><table>
<thead>
<tr>
<th>desc</th>
</tr>
</thead>
<tbody>
<tr>
<td>I had a great day. I got up. I went for a run</td>
<td></td>
</tr>
<tr>
<td>I did the dishes. I ironed my clothes</td>
<td></td>
</tr>
<tr>
<td>Yesterday, What a bad day. I had a job interview.</td>
<td></td>
</tr>
<tr>
<td>I washed my clothes. I cleaned my apartment.</td>
<td></td>
</tr>
</tbody>
</table>
<blockquote>
<p>iron[â€˜aÉªÉ™n] n. é“å™¨;ç†¨æ–—;è„šé•£ adj. é“åˆ¶çš„;åšå¼ºçš„;é¡½å¼ºçš„; vt. ç†¨çƒ«;ç”¨é“é“¸æˆ vi. ç†¨è¡£;</p>
<p>dish [dÉªÊƒ] ç›˜;é¤å…·<br>eat - ateã€drink - drankã€let - let </p>
</blockquote>
<h2 id="1-1-dialog-about-todd"><a href="#1-1-dialog-about-todd" class="headerlink" title="1.1 dialog about todd"></a>1.1 dialog about todd</h2><table>
<thead>
<tr>
<th>Dialog</th>
</tr>
</thead>
<tbody>
<tr>
<td>JENNY: Todd, itâ€™s good to see you again. How are you doing?</td>
<td></td>
</tr>
<tr>
<td>TODD: Fine, Jenny! I just got back from Tokyo two days ago.</td>
<td></td>
</tr>
<tr>
<td>JENNY: Business trip?</td>
<td></td>
</tr>
<tr>
<td>TODD: Yeah.</td>
<td></td>
</tr>
<tr>
<td>JENNY: How was it?</td>
<td></td>
</tr>
<tr>
<td>TODD: It was good, but Tokyoâ€™s so busy!  and I was in Kyoto last week.</td>
<td></td>
</tr>
<tr>
<td>JENNY: How was that?</td>
<td></td>
</tr>
<tr>
<td>TODD: It was incredible! So how are you?</td>
<td></td>
</tr>
<tr>
<td>JENNY: Iâ€™m good. I was in Chicago the day before yesterday. I had  dinner with Mark and Paula.</td>
<td></td>
</tr>
<tr>
<td>TODD: How are they doing?</td>
<td></td>
</tr>
<tr>
<td>JENNY: Theyâ€™re fine. Oh, you know they had a baby, right?</td>
<td></td>
</tr>
</tbody>
</table>
<blockquote>
<p>Kyoto [kiËˆoto, Ëˆkjo-] äº¬éƒ½</p>
</blockquote>
<h3 id="1-2-description-questions"><a href="#1-2-description-questions" class="headerlink" title="1.2 description questions"></a>1.2 description questions</h3><ul>
<li>What was it like?</li>
<li>What was the wedding like?</li>
<li>What did he look like?</li>
</ul>
<ul>
<li>How did you like Beijing?</li>
<li>How was your vacation?</li>
</ul>
<ul>
<li>Did you go to Paris?</li>
<li>We did not meet John yesterday.</li>
<li>Frank wasnâ€™t happy in Los Angeles.</li>
</ul>
<h2 id="2-Talking-about-your-weekend"><a href="#2-Talking-about-your-weekend" class="headerlink" title="2. Talking about your weekend"></a>2. Talking about your weekend</h2><ul>
<li>bring - brought</li>
<li>leave - left</li>
<li>sell - sold  </li>
<li>rise - rose</li>
<li>shut - shut</li>
</ul>
<p><img src="/images/english/ef-l4u3l2.png" alt=""></p>
<audio src="/voices/ef/l4u3-talking-about-your-weekend.m4a" controls="controls"><br>Your browser does not support the audio tag.<br></audio>

<table>
<thead>
<tr>
<th>Dialog</th>
</tr>
</thead>
<tbody>
<tr>
<td>[LEO] In the afternoon, I went to Peteâ€™s. We had lunch and watched a match.</td>
<td></td>
</tr>
<tr>
<td>[LEO] All right, man, Iâ€™m off.</td>
<td></td>
</tr>
<tr>
<td>[PETER] Yeah. Later. dude.</td>
<td></td>
</tr>
<tr>
<td>[LEO] Hey, are you going to throw that away?</td>
<td></td>
</tr>
<tr>
<td>[PETER] That one ?</td>
<td></td>
</tr>
<tr>
<td>[LEO] The coffee table</td>
<td></td>
</tr>
<tr>
<td>[PETER] Yup !</td>
<td></td>
</tr>
<tr>
<td>[LEO] Can I have it ?</td>
<td></td>
</tr>
<tr>
<td>[PETER] You take it.</td>
<td></td>
</tr>
<tr>
<td>[LEO] It would be great. I think it would suit my apartment perfectly</td>
<td></td>
</tr>
<tr>
<td>[PETER] take it.</td>
<td></td>
</tr>
<tr>
<td>[LEO] Great ! Thanks a lot.</td>
<td></td>
</tr>
<tr>
<td>[PETER] later</td>
<td></td>
</tr>
<tr>
<td>[LEO] Peter gave me a table.</td>
<td></td>
</tr>
<tr>
<td>[EMMA] At 3, I started off for a job interview. My shoe broke.</td>
<td></td>
</tr>
<tr>
<td>[LEO] I got to the station at 3:30.</td>
<td></td>
</tr>
<tr>
<td>[EMMA] I got to the station at 3:30.</td>
<td></td>
</tr>
</tbody>
</table>
<h3 id="2-1-In-the-past"><a href="#2-1-In-the-past" class="headerlink" title="2.1 In the past"></a>2.1 In the past</h3><ul>
<li>I read a good novel last week.</li>
<li>He cooked dinner.</li>
<li>We drove to Las Vegas.</li>
<li>She brought a gift.</li>
<li>I ate some spaghetti. [spÉ™ËˆÉ¡É›ti] </li>
<li>I went jogging.</li>
<li>brought a gift</li>
</ul>
<h3 id="2-2-General-questions"><a href="#2-2-General-questions" class="headerlink" title="2.2 General questions"></a>2.2 General questions</h3><ul>
<li>How was your weekend?</li>
<li>How is your mom feeling?     </li>
</ul>
<ul>
<li>A: Hey, there was a great movie on last night.</li>
<li>B: Really? What was it? </li>
</ul>
<h3 id="2-3-Changing-a-topic"><a href="#2-3-Changing-a-topic" class="headerlink" title="2.3 Changing a topic"></a>2.3 Changing a topic</h3><table>
<thead>
<tr>
<th>By the way</th>
</tr>
</thead>
<tbody>
<tr>
<td>A: By the way, I saw Joe last night. He looked good.</td>
<td></td>
</tr>
<tr>
<td>B: Really? Iâ€™m so glad!</td>
<td></td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr>
<th>That reminds me</th>
</tr>
</thead>
<tbody>
<tr>
<td>A: There was a great baseball game on TV last night.</td>
<td></td>
</tr>
<tr>
<td>B: Oh, that reminds me. I have two tickets to tonightâ€™s game. Do you want to go?</td>
<td></td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr>
<th>Anyway</th>
</tr>
</thead>
<tbody>
<tr>
<td>A: That restaurant wasnâ€™t very good.</td>
<td></td>
</tr>
<tr>
<td>B: No, it wasnâ€™t! The meat tasted bad, and the salad wasnâ€™t fresh. And the waiter was awful! His clothes were dirty!</td>
<td></td>
</tr>
<tr>
<td>A: Anyway, weâ€™re not going there again. So, howâ€™s Jane</td>
<td></td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr>
<th>Dialog2</th>
</tr>
</thead>
<tbody>
<tr>
<td>JERRY: Jessica, how was your weekend ?</td>
<td></td>
</tr>
<tr>
<td>JESSICA: Oh, hi, Jerry! The weekend was great! On Friday night, Jim and I flew down to Acapulco. é˜¿å¡æ™®å°”ç§‘</td>
<td></td>
</tr>
<tr>
<td>JERRY: You went to Mexico for the weekend?</td>
<td></td>
</tr>
<tr>
<td>JESSICA: Yeah. Itâ€™s only a short flight from here. The beaches were fantastic and the food, well, it was amazing â€“ fresh fish and delicious fruit every day!</td>
<td></td>
</tr>
<tr>
<td>JERRY: Wow! It does sound amazing.</td>
<td></td>
</tr>
<tr>
<td>JESSICA: Yeah, and it wasnâ€™t  expensive. The hotel was pretty cheap. Anyway  , it was a lot of fun â€“ and relaxing, too. So, how was your weekend?</td>
<td></td>
</tr>
<tr>
<td>JERRY: It was OK. On Saturday night, Kerstin and I went to a party at a friendâ€™s house.</td>
<td></td>
</tr>
<tr>
<td>JESSICA: Oh, that reminds me  . Jim and I are having people over next weekend on, uh, Sunday afternoon. Of course, we want you and Kerstin to come.</td>
<td></td>
</tr>
<tr>
<td>JERRY: Thanks! I really want to meet Jim.</td>
<td></td>
</tr>
<tr>
<td>JESSICA: And, by the way  , we have a meeting at 9 oâ€™clock with Harry and his team.</td>
<td></td>
</tr>
<tr>
<td>JERRY: Really?</td>
<td></td>
</tr>
<tr>
<td>JESSICA: Yeah, and itâ€™s 8:55 now.</td>
<td></td>
</tr>
<tr>
<td>JERRY: Oh. Well, see you at the meeting.</td>
<td></td>
</tr>
<tr>
<td>JESSICA: Yeah!</td>
<td></td>
</tr>
</tbody>
</table>
<h2 id="3-Telling-a-story"><a href="#3-Telling-a-story" class="headerlink" title="3. Telling a story"></a>3. Telling a story</h2><ul>
<li>crime [kraÉªm]</li>
<li>economy [ÉªËˆkÉ‘:nÉ™mi]</li>
<li>security guard  [siËˆkjuÉ™riti É¡É‘:d] </li>
<li>stole</li>
<li>robbery</li>
<li>thieves n.  [Î¸i:vz] </li>
<li>scary</li>
<li>Corporation  [ËŒkÉ”:rpÉ™ËˆreÉªÊƒn] </li>
</ul>
<p><img src="/images/english/ef-l4u3l3.png" alt=""></p>
<audio src="/voices/ef/l4u3-telling-a-story.m4a" controls="controls"><br>Your browser does not support the audio tag.<br></audio>

<table>
<thead>
<tr>
<th>Dialog</th>
</tr>
</thead>
<tbody>
<tr>
<td>[SALLY] Hey, Harry. Did you see the story about Apex Corporation?</td>
<td></td>
</tr>
<tr>
<td>[HARRY] No.</td>
<td></td>
</tr>
<tr>
<td>[SALLY] There was a robbery there last Friday night.</td>
<td></td>
</tr>
<tr>
<td>[HARRY] Really?</td>
<td></td>
</tr>
<tr>
<td>[SALLY] Yeah. One of the thieves came in through a window, then he opened the door for the others.</td>
<td></td>
</tr>
<tr>
<td>[SALLY] They stole all the computers in the office, and some money. The staff arrived the next day to find everything gone.</td>
<td></td>
</tr>
<tr>
<td>[HARRY] Thatâ€™s a bit scary. Apex Corporation is just three blocks from us.</td>
<td></td>
</tr>
<tr>
<td>[SALLY] Yeah. Thereâ€™s too much crime in this neighborhood.</td>
<td></td>
</tr>
<tr>
<td>[HARRY] Oh, itâ€™s the economy. No one has any money right now.</td>
<td></td>
</tr>
<tr>
<td>[SALLY] Hey. I heard that Todd asked Joan two months ago about hiring a security guard, but Joan said no. A guard was too expensive.</td>
<td></td>
</tr>
<tr>
<td>[HARRY] Let me guess: Weâ€™re hiring a guard now.</td>
<td></td>
</tr>
<tr>
<td>[SALLY] Yep. She starts tomorrow.</td>
<td></td>
</tr>
<tr>
<td>[HARRY] She? A female guard?</td>
<td></td>
</tr>
<tr>
<td>[SALLY] Uh-huh.</td>
<td></td>
</tr>
</tbody>
</table>
<h3 id="3-1-crime-story"><a href="#3-1-crime-story" class="headerlink" title="3.1 crime story"></a>3.1 crime story</h3><ul>
<li>break into</li>
<li>murder  [ËˆmÉœ:rdÉ™(r)]</li>
<li>crime</li>
<li>police</li>
<li>thief [Î¸if]  n. å°å·</li>
<li>theft [Î¸É›ft] n. å·ç›—</li>
<li>arrest [É™ËˆrÉ›st] </li>
<li>steal</li>
</ul>
<p>Jenny,</p>
<p>Iâ€™m visiting a friend in New Orleans. Itâ€™s a beautiful city. I love the buildings and the people. Iâ€™m having a good time, but a thief broke into my friendâ€™s apartment and stole $130! Thatâ€™s a lot of money. We called the police, and they are looking for the thief. Iâ€™m going home to Springdale tomorrow, and thatâ€™s OK with me. Iâ€™m really upset about the theft.</p>
<p>Sarah</p>
<blockquote>
<p>Chicagoã€London</p>
</blockquote>
<h3 id="3-2-somewhere-thing-one"><a href="#3-2-somewhere-thing-one" class="headerlink" title="3.2 somewhere / thing / one"></a>3.2 somewhere / thing / one</h3><ul>
<li>John lives somewhere in Tokyo. I donâ€™t know his address.</li>
</ul>
<h2 id="4-Listening-to-a-story"><a href="#4-Listening-to-a-story" class="headerlink" title="4. Listening to a story"></a>4. Listening to a story</h2><ul>
<li>Yosemite çº¦å¡ç±³è’‚</li>
<li>tent</li>
<li>bear</li>
<li>camped</li>
<li>tore</li>
<li>trail</li>
<li>backpack</li>
<li>boots</li>
<li>cabin</li>
<li>campfire</li>
</ul>
<p><img src="/images/english/ef-l4u3l4.png" alt=""></p>
<audio src="/voices/ef/l4u3-listening-to-a-story.m4a" controls="controls"><br>Your browser does not support the audio tag.<br></audio>

<table>
<thead>
<tr>
<th>Dialog</th>
</tr>
</thead>
<tbody>
<tr>
<td>[SALLY] You guys are going to love Yosemite National Park.</td>
<td></td>
</tr>
<tr>
<td>[SIMON] I canâ€™t wait.</td>
<td></td>
</tr>
<tr>
<td>[SALLY] Weâ€™re going to hike on a special trail. Very few people know about it.</td>
<td></td>
</tr>
<tr>
<td>[SIMON] Sounds good.</td>
<td></td>
</tr>
<tr>
<td>[SALLY] You feel so close to nature there. Especially when you see a deer, or a bear.</td>
<td></td>
</tr>
<tr>
<td>[JAKE] Did you say, bear?</td>
<td></td>
</tr>
<tr>
<td>[SALLY] Yeah. There are black bears in Yosemite. Theyâ€™re really beautiful. And big.</td>
<td></td>
</tr>
<tr>
<td>[SIMON] Oh.</td>
<td></td>
</tr>
<tr>
<td>[SALLY] Actually, I have an interesting story about a bear. Last time I camped in Yosemite, we had a problem with one.</td>
<td></td>
</tr>
<tr>
<td>[JAKE] A problem? With a bear?</td>
<td></td>
</tr>
<tr>
<td>[SALLY] Uh-huh.</td>
<td></td>
</tr>
<tr>
<td>[JAKE] I donâ€™t think Iâ€™m going to like this story.</td>
<td></td>
</tr>
<tr>
<td>[SALLY] It was really late at night. We were asleep. Then, we heard a noise outside the tent.</td>
<td></td>
</tr>
<tr>
<td>[SIMON] Go on.</td>
<td></td>
</tr>
<tr>
<td>[SALLY] We left the tent, and outside we saw a huge bear.</td>
<td></td>
</tr>
<tr>
<td>[SIMON] What did you do?</td>
<td></td>
</tr>
<tr>
<td>[SALLY] Oh, nothing.</td>
<td></td>
</tr>
<tr>
<td>[SALLY] We just, uh, watched him, and he watched us. And then he tore open our backpacks, and sat down, and slowly ate all our food.</td>
<td></td>
</tr>
<tr>
<td>[SIMON] Then what happened?</td>
<td></td>
</tr>
<tr>
<td>[SALLY] Finally, he just walked away. He didnâ€™t even look at us, as he went back into the trees.</td>
<td></td>
</tr>
<tr>
<td>[JAKE] And weâ€™re going to the same place?</td>
<td></td>
</tr>
<tr>
<td>[SALLY] Donâ€™t worry, Jake. Itâ€™s very safe.</td>
<td></td>
</tr>
</tbody>
</table>
<h3 id="4-1-Hiking-sentence"><a href="#4-1-Hiking-sentence" class="headerlink" title="4.1 Hiking sentence"></a>4.1 Hiking sentence</h3><ul>
<li>A: What did you do on the weekend?</li>
<li>B: I played badminton.</li>
</ul>
<ul>
<li>A: Where did you go for your vacation?</li>
<li>B: I went to Peru.</li>
</ul>
<ul>
<li>A: Whose backpack did you borrow?</li>
<li>B: I borrowed my brotherâ€™s.    </li>
</ul>
<ul>
<li>A: What kind of tent did you buy?</li>
<li>B: I bought a Shelty. Itâ€™s the best brand.</li>
</ul>
<ul>
<li>A: What kind of animals did you see?</li>
<li>B: We saw deer, wolves and a snake.</li>
</ul>
<blockquote>
<p>How far did you walk?<br>How difficult was the hike?</p>
</blockquote>
<h3 id="4-2-Connect-the-matching"><a href="#4-2-Connect-the-matching" class="headerlink" title="4.2 Connect the matching"></a>4.2 Connect the matching</h3><table>
<thead>
<tr>
<th>questions</th>
<th>answer</th>
</tr>
</thead>
<tbody>
<tr>
<td>How was your weekend?</td>
<td>It was great, thanks.</td>
</tr>
<tr>
<td>How long was your trip?</td>
<td>We hiked for two weeks.</td>
</tr>
<tr>
<td><code>How many times were you there ?</code></td>
<td>Six times.</td>
</tr>
<tr>
<td>How did you get home?</td>
<td>I walked</td>
</tr>
<tr>
<td>Where did you eat lunch</td>
<td>I ate at the mountain</td>
</tr>
</tbody>
</table>
<h3 id="4-3-Hiking-Dialog"><a href="#4-3-Hiking-Dialog" class="headerlink" title="4.3 Hiking Dialog"></a>4.3 Hiking Dialog</h3><table>
<thead>
<tr>
<th>Dialog</th>
</tr>
</thead>
<tbody>
<tr>
<td>KYLE: Hey, Jane! How was  your backpacking trip?</td>
<td></td>
</tr>
<tr>
<td>JANE: It was fantastic.</td>
<td></td>
</tr>
<tr>
<td>KYLE: Where did you go?</td>
<td></td>
</tr>
<tr>
<td>JANE: Uh, we went to Virginia and hiked part of the Appalachian Trail.</td>
<td></td>
</tr>
<tr>
<td>KYLE: Wow! The Appalachian Trail! How far did  you hike?</td>
<td></td>
</tr>
<tr>
<td>JANE: In five days, we hiked about 25 kilometers.</td>
<td></td>
</tr>
<tr>
<td>KYLE: Wow! Thatâ€™s pretty far. How cold did it get?</td>
<td></td>
</tr>
<tr>
<td>JANE: Well, you know itâ€™s October, so it was really cold at night.</td>
<td></td>
</tr>
<tr>
<td>KYLE: What kind of tent did you take?</td>
<td></td>
</tr>
<tr>
<td>JANE: No tent. There are little cabins on the trail. We all slept in them.</td>
<td></td>
</tr>
<tr>
<td>KYLE: Really? What kind of animals did you see? Any bears?</td>
<td></td>
</tr>
<tr>
<td>JANE: No bears. Just a lot of deer.</td>
<td></td>
</tr>
<tr>
<td>KYLE: Thatâ€™s good.</td>
<td></td>
</tr>
</tbody>
</table>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[Coursera 6 - Machine Learning System Design *]]></title>
      <url>http://iequa.com/2017/05/29/ml-coursera-ng-w6-Machine-Learning-System-Design/</url>
      <content type="html"><![CDATA[<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js"],
    jax: ["input/TeX"],
    tex2jax: {
      inlineMath: [ ['$','$'], ['\\(','\\)'] ],
      displayMath: [ ['$$','$$']],
      processEscapes: true
    }
  });
</script>
<script type="text/javascript" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS_HTML,http://myserver.com/MathJax/config/local/local.js">
</script>


<h2 id="1-Building-a-Spam-Classifier"><a href="#1-Building-a-Spam-Classifier" class="headerlink" title="1. Building a Spam Classifier"></a>1. Building a Spam Classifier</h2><h3 id="1-1-prioritize-what-to-work-on"><a href="#1-1-prioritize-what-to-work-on" class="headerlink" title="1.1 prioritize what to work on"></a>1.1 prioritize what to work on</h3><p>System Design Example:</p>
<p>Given a data set of emails, we could construct a vector for each email. Each entry in this vector represents a word. The vector normally contains 10,000 to 50,000 entries gathered by finding the most frequently used words in our data set. If a word is to be found in the email, we would assign its respective entry a 1, else if it is not found, that entry would be a 0. Once we have all our x vectors ready, we train our algorithm and finally, we could use it to classify if an email is a spam or not.</p>
<p><img src="/images/ml/ml-ng-w6-02-01.png" alt=""></p>
<p>So how could you spend your time to improve the accuracy of this classifier?</p>
<ul>
<li>Collect lots of data (for example â€œhoneypotâ€ project but doesnâ€™t always work)</li>
<li>Develop sophisticated features (for example: using email header data in spam emails)</li>
<li>Develop algorithms to process your input in different ways (recognizing misspellings in spam).</li>
</ul>
<p>It is difficult to tell which of the options will be most helpful.</p>
<h3 id="1-2-error-analysis"><a href="#1-2-error-analysis" class="headerlink" title="1.2 error analysis"></a>1.2 error analysis</h3><p>The recommended approach to solving machine learning problems is to:</p>
<ul>
<li>Start with a simple algorithm, implement it quickly, and test it early on your cross validation data.</li>
<li>Plot learning curves to decide if more data, more features, etc. are likely to help.</li>
<li>Manually examine the errors on examples in the cross validation set and try to spot a trend where most of the errors were made.</li>
</ul>
<p>For example, assume that we have 500 emails and our algorithm misclassifies a 100 of them. We could manually analyze the 100 emails and categorize them based on what type of emails they are. We could then try to come up with new cues and features that would help us classify these 100 emails correctly. Hence, if most of our misclassified emails are those which try to steal passwords, then we could find some features that are particular to those emails and add them to our model. We could also see how classifying each word according to its root changes our error rate:</p>
<p><img src="/images/ml/ml-ng-w6-02-02.png" alt=""></p>
<p>It is very important to get error results as a single, numerical value. Otherwise it is difficult to assess your algorithmâ€™s performance. For example if we use stemming, which is the process of treating the same word with different forms (fail/failing/failed) as one word (fail), and get a 3% error rate instead of 5%, then we should definitely add it to our model. However, if we try to distinguish between upper case and lower case letters and end up getting a 3.2% error rate instead of 3%, then we should avoid using this new feature. Hence, we should try new things, get a numerical value for our error rate, and based on our result decide whether we want to keep the new feature or not.</p>
<h2 id="2-Handling-Skewed-Data"><a href="#2-Handling-Skewed-Data" class="headerlink" title="2. Handling Skewed Data"></a>2. Handling Skewed Data</h2><h3 id="2-1-error-for-skewed-classes"><a href="#2-1-error-for-skewed-classes" class="headerlink" title="2.1 error for skewed classes"></a>2.1 error for skewed classes</h3><p><img src="/images/ml/ml-ng-w6-02-03.png" alt=""></p>
<p>So for the problem of skewed classes precision recall gives us more direct insight into how the learning algorithm is doing and this is often a much better way to evaluate our learning algorithms</p>
<h3 id="2-2-precision-and-recall"><a href="#2-2-precision-and-recall" class="headerlink" title="2.2 precision and recall"></a>2.2 precision and recall</h3><p><img src="/images/ml/ml-ng-w6-02-04.png" alt=""></p>
<h2 id="3-Using-Large-Data-Sets"><a href="#3-Using-Large-Data-Sets" class="headerlink" title="3. Using Large Data Sets"></a>3. Using Large Data Sets</h2><p><img src="/images/ml/ml-ng-w6-02-05.png" alt=""></p>
<h2 id="Reference-article"><a href="#Reference-article" class="headerlink" title="Reference article"></a>Reference article</h2>]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[Shuping Yang's University of Maryland speech]]></title>
      <url>http://iequa.com/2017/05/28/english-Shuping-Yang-at-Maryyland/</url>
      <content type="html"><![CDATA[<h2 id="Shuping-Yang-Maryland-Graduation-Speech"><a href="#Shuping-Yang-Maryland-Graduation-Speech" class="headerlink" title="Shuping Yang Maryland Graduation Speech"></a>Shuping Yang Maryland Graduation Speech</h2><div class="video-container"><iframe src="//www.youtube.com/embed/9bMX-ctieHI" frameborder="0" allowfullscreen></iframe></div>
<h2 id="Speech-Full-Text"><a href="#Speech-Full-Text" class="headerlink" title="Speech Full Text"></a>Speech Full Text</h2><blockquote>
<p><strong>Good afternoon faculty, students, parents and friends.</strong></p>
<p>I am truly honored and grateful to speak at the commencement for the University of Maryland, Class of 2017. </p>
<p>People often ask me: Why did you come to the University of Maryland?<br>I always answer: Fresh air.</p>
<p>Five years ago, as I step off the plane from China, and left the terminal at Dallas Airport. I was ready to put on one of my five face masks, but when I took my first breath of American air. I put my mask away. </p>
<p>The air was so sweet and fresh, and utterly luxurious.</p>
<p>I was surprised by this. I grew up in a city in China, where I had to wear a face mask every time I went outside, otherwise, I might get sick.</p>
<p>However, the moment Iinhaled and exhaled outside the airportï¼ŒI felt free.</p>
<p>No more fog on my glasses, no more difficult breathing, no more suppression.</p>
<p>Every breath was a delight. As I stand here today, I cannot help, but recall that feeling of freedom. </p>
</blockquote>
<p>&nbsp;</p>
<blockquote>
<p>At the University of Maryland, I will soon feel another kind of fresh air for which I will beforever grateful â€” the fresh air of free speech.</p>
<p>Before I came to the UnitedStates, I learned in history class about the Declaration of Independence, butthese words had no meaning to meâ€” Life, Liberty and the Pursuit of happiness.</p>
<p>I was merely memorizing the words to get good grades.</p>
<p>These words sounded so strange, so abstract and foreign to me, until I came to University of Maryland.</p>
<p>I have learned the right to freely express oneself is sacred in American.</p>
<p>Each day in Maryland, I was encouraged to express my opinions on controversial issues. </p>
<p>I could challenge astatement made by my instructor. I could even rate my professors online.</p>
<p>But nothing prepared me forthe culture shock I experienced when I watched a university production of the playâ€” Twilight: Los Angeles.</p>
<p>Twilight is a play by AnnaDeavere Smith about the 1992 Los Angeles Riots.</p>
<p>The riots followed acquittal of four Los Angeles police officers in the videotaped arrest and beating of Rodney King.</p>
<p>For six days, the city was in chaos as citizens took to the streets.</p>
<p>In Twilight, the student actors were openly talking about racism, sexism and politics.</p>
<p>I was shocked, I never thought such topic could be discussed openly.</p>
<p>The play was my first taste of political story telling, one that makes the audience think critically. </p>
<p>I have always had a burning desire to tell these kinds of stories, but I was convinced that only authorities on the narrative, only authorities could define the truth. </p>
<p>However, the opportunity toimmerse myself in the perse community at the University of Maryland exposed me to various, many different perspectives on truth.</p>
<p>I soon realized that here I have the opportunity to speak freely. </p>
<p>My voice matters. </p>
<p>Your voice matters.</p>
<p>Our voices matter.</p>
<p>Civil engagement is not at ask just for politicians. I have witnessed this when I saw my fellow student smarching in Washington DC, voting in the presidential election and raising money to support various causes.</p>
<p>I have seen that everyone has a right to participate and advocate for change.</p>
<p>I used to believe that one inpidual participation could not make a difference, but here we are, United Terps.</p>
<p>Together, we can push our society to be more just, open and peaceful.</p>
<p>Class of 2017, we are graduating from a university that embraces a liberal arts education that nurtures us to think critically, and also to care and feel for humanity. </p>
<p>We are equipped with the knowledge of various disciplines and we are ready to face  the challenges of our society.</p>
<p>Some of us may go to graduate school, some us may step into professions and some of us may begin ajourney of exploration.</p>
<p>But no matter what we do,remember, democracy and free speech should not be taken for granted.</p>
<p>Democracy and freedom are the fresh air that is worth fighting for.</p>
<p>Freedom is oxygen. Freedomis passion. Freedom is love.</p>
<p>And as a French philosopher Jean Paul Sartre once said: freedom is a choice, our future is dependent on the choices we make today and tomorrow.</p>
<p>We are all playwrights of the next chapters of our lives. Together, we write the human history.</p>
<p>My friends, enjoy the fresh air and never ever let it go.</p>
<p>Thank you.</p>
</blockquote>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[EF Describing people]]></title>
      <url>http://iequa.com/2017/05/27/ef-l4u2-Describing-people/</url>
      <content type="html"><![CDATA[<style>
img {
        display: block !important;
        width: 550px;
        margin-left: 120px !important;
}
</style>

<h2 id="1-Describing-someone-you-know"><a href="#1-Describing-someone-you-know" class="headerlink" title="1. Describing someone you know"></a>1. Describing someone you know</h2><ul>
<li>good-looking</li>
<li>long and dirty</li>
<li>tall, short</li>
<li>medium height</li>
<li>middle-aged</li>
<li>blond [blÉ‘nd] å¸ƒéš†ï¼›ç™½è‚¤é‡‘å‘ç¢§çœ¼çš„äºº</li>
<li>bald</li>
<li>curly</li>
</ul>
<p><img src="/images/english/ef-l4u2l1.png" alt=""></p>
<p>My boyfriend â€¦ heâ€™s nice â€¦, but , itâ€™s over. Heâ€™s good-looking. He has a nice smile. Blue eyes. But his hair! Itâ€™s long and dirty. I donâ€™t think he washes it. Heâ€™s an artist. He spends all day painting, and thatâ€™s all he does. He doesnâ€™t have a job, he lives in his mumâ€™s house! I want a boyfriend who has a plan. Successful, Smart, Funny, Handsome, I want something different now.</p>
<h3 id="2-Sencence"><a href="#2-Sencence" class="headerlink" title="2. Sencence"></a>2. Sencence</h3><ul>
<li>She is tall and thin.</li>
<li>Her hair is shorter and grayer than before.</li>
<li>That tall, young, blond man drives a truck.</li>
<li><p>Heâ€™s very attractive.        </p>
</li>
<li><p>A: What does he look like?  </p>
</li>
<li>B: He is tall and middle-aged. Heâ€™s very good-looking.</li>
</ul>
<ul>
<li>A: What color are his eyes?</li>
<li>B: Theyâ€™re brown.    Theyâ€™re brown.</li>
</ul>
<ul>
<li>A: How tall is she?</li>
<li>B: Sheâ€™s very tall.</li>
</ul>
<h2 id="2-Describing-relationships"><a href="#2-Describing-relationships" class="headerlink" title="2. Describing relationships"></a>2. Describing relationships</h2><ul>
<li>granddaughter</li>
<li>grandson</li>
<li>niece [niËs]</li>
<li>nephew [â€˜nÉ›fju]</li>
<li>cousin [â€˜kÊŒzn]</li>
</ul>
<p><img src="/images/english/ef-l4u2l2.png" alt=""></p>
<table>
<thead>
<tr>
<th>Dialog</th>
</tr>
</thead>
<tbody>
<tr>
<td>P: So how many people are coming?</td>
<td></td>
</tr>
<tr>
<td>S: Well. thereâ€™s the three of us.</td>
<td></td>
</tr>
<tr>
<td>P: Weâ€™re inviting Jake to the party?</td>
<td></td>
</tr>
<tr>
<td>J: Invite me to the party? I am the party. Oh. Can my cousin come?</td>
<td></td>
</tr>
<tr>
<td>S: Jake, this is a party for Simon, to celebrate his new job. Weâ€™re only inviting family and friends.</td>
<td></td>
</tr>
<tr>
<td>J: My cousin is family.</td>
<td></td>
</tr>
<tr>
<td>S: Yeah, your family, not Simonâ€™s.</td>
<td></td>
</tr>
<tr>
<td>P: Itâ€™s a small apartment. We canâ€™t invite too many people.</td>
<td></td>
</tr>
<tr>
<td>S: I think we should invite Todd, and his wife, Angela.</td>
<td></td>
</tr>
<tr>
<td>J: Yeah, heâ€™s nice, and sheâ€™s cute.</td>
<td></td>
</tr>
<tr>
<td>S: Jake !</td>
<td></td>
</tr>
<tr>
<td>J: What did I say ?</td>
<td></td>
</tr>
<tr>
<td>P: Whatâ€™s your bossâ€™s name? I can never remember.</td>
<td></td>
</tr>
<tr>
<td>S: Joan. We should definitely invite Joan. And her husband, Al.</td>
<td></td>
</tr>
<tr>
<td>P: And, of course, we need to invite Simonâ€™s mom.</td>
<td></td>
</tr>
<tr>
<td>J: Definitely. She makes great cheesecake.</td>
<td></td>
</tr>
<tr>
<td>S: OK, Who else?</td>
<td></td>
</tr>
<tr>
<td>P: Whoâ€™s your friend in the office? The guy from Seattle.</td>
<td></td>
</tr>
<tr>
<td>S: Oh, Harry! I canâ€™t believe I almost forgot him.</td>
<td></td>
</tr>
<tr>
<td>P: And does he have a girlfriend?</td>
<td></td>
</tr>
<tr>
<td>S: Heâ€™s married.</td>
<td></td>
</tr>
<tr>
<td>P: This list is getting bigger.</td>
<td></td>
</tr>
<tr>
<td>S: Shall we talk about food ?</td>
<td></td>
</tr>
</tbody>
</table>
<h3 id="2-1-Relationshops"><a href="#2-1-Relationshops" class="headerlink" title="2.1 Relationshops"></a>2.1 Relationshops</h3><ul>
<li>Iâ€™m meeting my girlfriend tonight.</li>
<li>James and I are business partners. [â€˜pÉ‘rtnÉš] </li>
</ul>
<p><strong>gerund (verb + -ing)</strong></p>
<ul>
<li>We spend time watching movies. </li>
<li>I always have fun talking with him.</li>
</ul>
<ul>
<li>We have a hard time getting together.</li>
<li>She has trouble making money.</li>
<li>They often waste time fighting.</li>
</ul>
<table>
<thead>
<tr>
<th>D1</th>
</tr>
</thead>
<tbody>
<tr>
<td>A: How are you and your brother doing?</td>
<td></td>
</tr>
<tr>
<td>B: Weâ€™re doing well, thanks. We spend time talking on the phone.</td>
<td></td>
</tr>
<tr>
<td>A: What do you and Sylvia do for fun?</td>
<td></td>
</tr>
<tr>
<td>B: Letâ€™s see â€¦ We have a lot of fun playing tennis together.</td>
<td></td>
</tr>
</tbody>
</table>
<ul>
<li>What do you and your partner do for fun?</li>
<li>We spend time taking nice walks.</li>
<li>Are you having trouble?</li>
<li>What else do you enjoying doing?</li>
</ul>
<h2 id="3-Evaluating-employees"><a href="#3-Evaluating-employees" class="headerlink" title="3. Evaluating employees"></a>3. Evaluating employees</h2><ul>
<li>appraisal [É™ËˆprezÉ™l]  è€ƒç ” / IELTS / TOEFL / BEC</li>
<li>hardworking</li>
<li>efficient</li>
<li>creative [kriËˆetÉªv]</li>
<li>getting better</li>
<li>could do better </li>
<li>disorganized</li>
</ul>
<p><img src="/images/english/ef-l4u2l3.png" alt=""></p>
<table>
<thead>
<tr>
<th>Dialog</th>
</tr>
</thead>
<tbody>
<tr>
<td>[TODD] Thanks for taking the time to meet me, Joan?</td>
<td></td>
</tr>
<tr>
<td>[JOAN] No problem. Whatâ€™s up?</td>
<td></td>
</tr>
<tr>
<td>[TODD] Well, the <code>performance appraisals</code> are next week, and I want to talk with you about Sally and Harry.</td>
<td></td>
</tr>
<tr>
<td>[JOAN] Okay. Letâ€™s start with Harry.</td>
<td></td>
</tr>
<tr>
<td>[TODD] Well, Harry hasnâ€™t been with us that long, but I can see that heâ€™s very hardworking. I think he does a really good job.</td>
<td></td>
</tr>
<tr>
<td>[JOAN] So do I. He did a great job on his last project â€¦ What was it?</td>
<td></td>
</tr>
<tr>
<td>[TODD] The Smith Electric [Éªâ€™lÉ›ktrÉªk] project.</td>
<td></td>
</tr>
<tr>
<td>[JOAN] Thatâ€™s right.     He <code>worked really well</code> with the team.</td>
<td></td>
</tr>
<tr>
<td>[TODD] A real team player. But there is one thing. Heâ€™s often late.</td>
<td></td>
</tr>
<tr>
<td>[JOAN] Yeah! he is</td>
<td></td>
</tr>
<tr>
<td>[TODD] Often late. Now. Sally.</td>
<td></td>
</tr>
<tr>
<td>[JOAN] Sally â€¦ I like Sally, but, umm â€¦</td>
<td></td>
</tr>
<tr>
<td>[TODD] Sheâ€™s just not <code>efficient enough</code> sometimes. She needs to be more organized. I mean, I donâ€™t think sheâ€™s lazy.</td>
<td></td>
</tr>
<tr>
<td>[JOAN] <code>Neither do I</code>. She works hard. And sheâ€™s good in meetings.</td>
<td></td>
</tr>
<tr>
<td>[TODD] Yeah. And sheâ€™s also very helpful. Sometimes I have a computer problem and â€¦</td>
<td></td>
</tr>
<tr>
<td>[JOAN] Yes, you do sometimes have computer problems.</td>
<td></td>
</tr>
<tr>
<td>[TODD] Well, I like them both.</td>
<td></td>
</tr>
<tr>
<td>[JOAN] So do I. You have two great people on your team.</td>
<td></td>
</tr>
</tbody>
</table>
<h3 id="3-1-Senctence"><a href="#3-1-Senctence" class="headerlink" title="3.1 Senctence"></a>3.1 Senctence</h3><ul>
<li>Her project is late because sheâ€™s too disorganized.</li>
<li>Sheâ€™s too negative. She thinks too much about problems.</li>
<li>Heâ€™s not creative enough to work in marketing.   </li>
</ul>
<p>Use neither do I to agree with an opinion expressed by I donâ€™t think that, or any other opinion expressed in the negative.</p>
<ul>
<li>Sheâ€™s so disorganized. &gt; She needs to be more organized.</li>
<li>Heâ€™s too negative. &gt; He should be more positive.</li>
</ul>
<h2 id="4-giving-a-recommendation"><a href="#4-giving-a-recommendation" class="headerlink" title="4. giving a recommendation"></a>4. giving a recommendation</h2><ul>
<li>brochure  [â€˜brÉ™ÊŠÊƒÉ™]</li>
</ul>
<p><img src="/images/english/ef-l4u2l4.png" alt=""></p>
<table>
<thead>
<tr>
<th>Dialog</th>
</tr>
</thead>
<tbody>
<tr>
<td>[JOAN] Oh, Martinaâ€™s letter of recommendation. When is she going to New York?</td>
<td></td>
</tr>
<tr>
<td>[TODD] Next Friday. Her husbandâ€™s already there.</td>
<td></td>
</tr>
<tr>
<td>[JOAN] That soon. Iâ€™m going to miss her.</td>
<td></td>
</tr>
<tr>
<td>[TODD] Yeah, so am I.</td>
<td></td>
</tr>
<tr>
<td>[JOAN] Last week I asked her to make a new company <code>brochure [bro&#39;ÊƒÊŠr]</code>. It only took her two days.</td>
<td></td>
</tr>
<tr>
<td>[TODD] Really? I should put that in. Martina works quickly and efficiently â€¦</td>
<td></td>
</tr>
<tr>
<td>[JOAN] Yeah. The brochure was really beautiful. Sheâ€™s so creative. And her team really loves her.</td>
<td></td>
</tr>
<tr>
<td>[TODD] Creative â€¦ Works well with a team. What else?</td>
<td></td>
</tr>
<tr>
<td>[JOAN] Well, she always wrote our marketing copy. She was really good at it.</td>
<td></td>
</tr>
<tr>
<td>[TODD] Thatâ€™s right! Whoâ€™s going to do that now?</td>
<td></td>
</tr>
<tr>
<td>[JOAN] <code>Why donâ€™t you ask Sally? Sheâ€™s smart. She can learn it pretty quickly, right?</code></td>
<td></td>
</tr>
<tr>
<td>[TODD] Not that quickly. But, yeah, she could learn it.</td>
<td></td>
</tr>
<tr>
<td>[JOAN] Great. So do you have enough for your letter?</td>
<td></td>
</tr>
<tr>
<td>[TODD] Umm â€¦ I think so. Thanks.</td>
<td></td>
</tr>
<tr>
<td>[JOAN] Sure.</td>
<td></td>
</tr>
<tr>
<td>[TODD] I had the pleasure to work with Martina for three years, and I highly recommend her.</td>
<td></td>
</tr>
</tbody>
</table>
<h3 id="2-Senctence"><a href="#2-Senctence" class="headerlink" title="2. Senctence"></a>2. Senctence</h3><ul>
<li>She was always organized.  </li>
<li>She can probably learn that in one or two days.</li>
<li>The project only took her one day.</li>
</ul>
<ul>
<li>The brochure was really beautiful.   </li>
<li>Sheâ€™s so creative.</li>
<li>She can learn that pretty quickly.</li>
</ul>
<h3 id="3-So-amp-Such"><a href="#3-So-amp-Such" class="headerlink" title="3. So &amp; Such"></a>3. So &amp; Such</h3><p>Use so + adjective or so + adverb to emphasize a personal quality.</p>
<ul>
<li>Kyle is so disorganized.      </li>
<li>She works so quickly.       </li>
</ul>
<p>Use such + noun to emphasize a personal quality.</p>
<ul>
<li>Debra is such a team player.  </li>
<li>She shows such creativity.  </li>
<li>Oscar is such a hard worker.  </li>
</ul>
<table>
<thead>
<tr>
<th>Dialog So Such</th>
</tr>
</thead>
<tbody>
<tr>
<td>FRED: Youâ€™re already done with the Franco project?</td>
<td></td>
</tr>
<tr>
<td>LOUISE: Fantastic, right? It only  took us two weeks.</td>
<td></td>
</tr>
<tr>
<td>FRED: You finished that soon  ? Wow. You work so well  with your team.</td>
<td></td>
</tr>
<tr>
<td>LOUISE: Thanks! Itâ€™s such  a hardworking team.</td>
<td></td>
</tr>
<tr>
<td>FRED: Yeah. Lizaâ€™s great. Sheâ€™s such a creative designer.</td>
<td></td>
</tr>
<tr>
<td>LOUISE: Yes, and Tomâ€™s so efficient. Honestly, Jaydenâ€™s really helpful, too</td>
<td></td>
</tr>
</tbody>
</table>
<h3 id="4-Writing"><a href="#4-Writing" class="headerlink" title="4. Writing"></a>4. Writing</h3><p>Sep 21,2016</p>
<p>To whom it may concern:</p>
<p>I am writing to highly recommend Jim. I worked with Jim for 2 years at LLQ company.<br>Jim was product manager of R&amp;D. He was always hardworking, efficient and well-organized. Please feel free to contact me about Jim.</p>
<p>Sincerely<br>Blair</p>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[Coursera 6 - Advice for Applying Machine Learning *]]></title>
      <url>http://iequa.com/2017/05/24/ml-coursera-ng-w6-Advice-for-Applying-Machine-Learning/</url>
      <content type="html"><![CDATA[<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js"],
    jax: ["input/TeX"],
    tex2jax: {
      inlineMath: [ ['$','$'], ['\\(','\\)'] ],
      displayMath: [ ['$$','$$']],
      processEscapes: true
    }
  });
</script>
<script type="text/javascript" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS_HTML,http://myserver.com/MathJax/config/local/local.js">
</script>

<p>Evaluating a Hypothesis -&gt; Model Selectionã€Diagnosing Bias vs Variance -&gt; Regularizationã€Learning Curves</p>
<h2 id="1-Evaluating-a-Hypothesis"><a href="#1-Evaluating-a-Hypothesis" class="headerlink" title="1. Evaluating a Hypothesis"></a>1. Evaluating a Hypothesis</h2><p>Once we have done some <strong>trouble shooting</strong> for errors in our predictions by:</p>
<ul>
<li>Getting more training examples</li>
<li>Trying smaller sets of features</li>
<li>Trying additional features</li>
<li>Trying polynomial features</li>
<li>Increasing or decreasing $Î»$</li>
</ul>
<p>We can move on to evaluate our new hypothesis.</p>
<p>A hypothesis may have a low error for the training examples but still be inaccurate (because of overfitting). Thus, to evaluate a hypothesis, given a dataset of training examples, we can split up the data into two sets: a training set and a test set. Typically, the training set consists of 70% of your data and the test set is the remaining 30%.</p>
<p>The new procedure using these two sets is then:</p>
<ol>
<li>Learn $\Theta$ and minimize $J_{train}(\Theta)$ using the training set</li>
<li>Compute the test set error $J_{test}(\Theta)$</li>
</ol>
<p><strong>The test set error</strong></p>
<ol>
<li>For linear regression: $J_{test}(\Theta) = \dfrac{1}{2m_{test}} \sum_{i=1}^{m_{test}}(h_\Theta(x^{(i)}_{test}) - y^{(i)}_{test})^2$</li>
<li>For classification ~ Misclassification error (aka 0/1 misclassification error):</li>
</ol>
<p>$$<br>err(h_\Theta(x),y) = \begin{matrix} 1 &amp; \mbox{if } h_\Theta(x) \geq 0.5\ and\ y = 0\ or\ h_\Theta(x) &lt; 0.5\ and\ y = 1\newline 0 &amp; \mbox otherwise \end{matrix}<br>$$</p>
<p>This gives us a binary 0 or 1 error result based on a misclassification. The average test error for the test set is:</p>
<p>$$<br>\text{Test Error} = \dfrac{1}{m_{test}} \sum^{m_{test}}_{i=1} err(h_\Theta(x^{(i)}_{test}), y^{(i)}_{test})<br>$$</p>
<p>This gives us the proportion of the test data that was misclassified.</p>
<blockquote>
<p>inaccurate[Éªnâ€™Ã¦kjÉ™rÉ™t]ã€procedure [prÉ™â€™sidÊ’Éš] æ¯”ä¾‹<br>remaining [riâ€™men..]ã€ Misclassification [â€˜mis,klÃ¦sifiâ€™keiÊƒÉ™n]<br>validation [,vÃ¦lÉ™â€™deÊƒÉ™n] ç¡®è®¤ï¼Œæ‰¹å‡†</p>
</blockquote>
<h2 id="2-Model-Selection"><a href="#2-Model-Selection" class="headerlink" title="2. Model Selection"></a>2. Model Selection</h2><p><strong>Train/Validtion/Test Sets</strong></p>
<p>Just because a learning algorithm fits a training set well, that does not mean it is a good hypothesis. It could over fit and as a result your predictions on the test set would be poor. The error of your hypothesis as measured on the data set with which you trained the parameters will be lower than the error on any other data set.</p>
<p>Given many models with different polynomial degrees, we can use a systematic approach to identify the â€˜bestâ€™ function. In order to choose the model of your hypothesis, you can test each degree of polynomial and look at the error result.</p>
<p>One way to break down our dataset into the three sets is:</p>
<ul>
<li><font color="blue"> Training set: 60%</font></li>
<li><font color="blue"> Cross validation set: 20%</font></li>
<li><font color="blue"> Test set: 20%</font>

</li>
</ul>
<p>We can now calculate three separate error values for the three different sets using the following method:</p>
<ol>
<li>Optimize the parameters in Î˜ using the training set for each polynomial degree.</li>
<li>Find the polynomial degree d with the least error using the cross validation set.</li>
<li>Estimate the generalization error using the test set with $J_{test}(\Theta^{(d)})$, (d = theta from polynomial with lower error);</li>
</ol>
<blockquote>
<p>This way, the degree of the polynomial d has not been trained using the test set.</p>
</blockquote>
<h2 id="3-Diagnosing-Bias-vs-Variance"><a href="#3-Diagnosing-Bias-vs-Variance" class="headerlink" title="3. Diagnosing Bias vs. Variance"></a>3. Diagnosing Bias vs. Variance</h2><p>In this section we examine the relationship between the degree of the polynomial d and the underfitting or overfitting of our hypothesis.</p>
<ul>
<li>We need to distinguish whether <code>bias</code> or <code>variance</code> is the problem contributing to bad predictions.</li>
<li>High bias is underfitting and high variance is overfitting. Ideally, we need to find a golden mean between these two.</li>
</ul>
<p>The training error will tend to <code>decrease</code> as we increase the degree d of the polynomial.</p>
<p>At the same time, the cross validation error will tend to decrease as we increase d up to a point, and then it will increase as d is increased, forming a convex curve.</p>
<p><strong>High bias (underfitting)</strong>: both $J_{train}(\Theta)$ and $J_{CV}(\Theta)$ will be high. Also, $J_{CV}(\Theta) \approx J_{train}(\Theta)$.</p>
<p><strong>High variance (overfitting)</strong>: $J_{train}(\Theta)$ will be low and $J_{CV}(\Theta)$ will be much greater than $J_{train}(\Theta)$.</p>
<p>The is summarized in the figure below:</p>
<p><img src="/images/ml/coursera/ml-ng-w6-01-01.png" alt=""></p>
<h2 id="4-Regularization-Bias-Variance"><a href="#4-Regularization-Bias-Variance" class="headerlink" title="4. Regularization Bias/Variance"></a>4. Regularization Bias/Variance</h2><p>Note: [The regularization term below and through out the video should be $\frac \lambda {2m} \sum_{j=1}^n \theta_j ^2$ and NOT $\frac \lambda {2m} \sum_{j=1}^m \theta_j ^2$]</p>
<p><img src="/images/ml/coursera/ml-ng-w6-01-02.png" alt=""></p>
<p>In the figure above, we see that as Î» increases, our fit becomes more rigid. On the other hand, as Î» approaches 0, we tend to over overfit the data. So how do we choose our parameter Î» to get it â€˜just rightâ€™ ? In order to choose the model and the regularization term Î», we need to:</p>
<ol>
<li>Create a list of lambdas (i.e. Î»âˆˆ{0,0.01,0.02,0.04,0.08,0.16,0.32,0.64,1.28,2.56,5.12,10.24});</li>
<li>Create a set of models with different degrees or any other variants.</li>
<li>Iterate through the Î»s and for each Î» go through all the models to learn some Î˜.</li>
<li>Compute the cross validation error using the learned Î˜ (computed with Î») on the $J_{CV}(\Theta)$ <strong>without</strong> regularization or Î» = 0. <code>ï¼Ÿï¼Ÿ</code></li>
<li>Select the best combo that produces the lowest error on the cross validation set.</li>
<li>Using the best combo Î˜ and Î», apply it on $J_{test}(\Theta)$ to see if it has a good generalization of the problem.</li>
</ol>
<h2 id="5-Learning-Curves"><a href="#5-Learning-Curves" class="headerlink" title="5. Learning Curves"></a>5. Learning Curves</h2><p>Training an algorithm on a very few number of data points (such as 1, 2 or 3) will easily have 0 errors because we can always find a quadratic curve that touches exactly those number of points. Hence:</p>
<ul>
<li>As the training set gets larger, the error for a quadratic function increases.</li>
<li>The error value will plateau out after a certain m, or training set size.</li>
</ul>
<p><strong>Experiencing high bias:</strong></p>
<p>Low training set size: causes $J_{train}(\Theta)$ to be low and $J_{CV}(\Theta)$ to be high.</p>
<p>Large training set size: causes both $J_{train}(\Theta)$ and $J_{CV}(\Theta)$  to be high with $J_{train}(\Theta)$â‰ˆ$J_{CV}(\Theta)$.</p>
<p>If a learning algorithm is suffering from high bias, getting more training data will not (by itself) help much.</p>
<p><img src="/images/ml/coursera/ml-ng-w6-01-03.png" alt=""></p>
<p>me : éšç€train setsçš„å¢åŠ ï¼Œé«˜åå·®ä¼šé™ä½ï¼Œå› ä¸ºæ›´å®¹æ˜“æ‰¾åˆ°åˆé€‚çš„ Hypothesis å»æ‹Ÿåˆæ•°æ®ã€‚æ‰€ä»¥CV errorä¸‹é™ã€‚</p>
<p><strong>Experiencing high variance:</strong></p>
<p><strong>Low training set size:</strong> $J_{train}(\Theta)$ will be low and $J_{CV}(\Theta)$ will be high.</p>
<p><strong>Large training set size:</strong> $J_{train}(\Theta)$ increases with training set size and $J_{CV}(\Theta)$ continues to decrease without leveling off. Also, $J_{train}(\Theta)$ &lt; $J_{CV}(\Theta)$ but the difference between them remains significant.</p>
<p>If a learning algorithm is suffering from high variance, getting more training data is likely to help.</p>
<p><img src="/images/ml/coursera/ml-ng-w6-01-04.png" alt=""></p>
<p>me : éšç€ train sets çš„å¢åŠ ï¼Œoverfiting è¶Šæ¥è¶Šä¸å®¹æ˜“ã€‚é€ æˆ CV error ä¸‹é™ã€‚</p>
<blockquote>
<p>plateau out / leveling off è¾¾åˆ°å¹³ç¨³çŠ¶æ€<br><code>test error will be CV error on picture.</code></p>
</blockquote>
<h2 id="6-What-to-Do-Next-Revisited"><a href="#6-What-to-Do-Next-Revisited" class="headerlink" title="6. What to Do Next Revisited"></a>6. What to Do Next Revisited</h2><p><em>*Our decision process can be broken down as follows</em>:</p>
<table>
<thead>
<tr>
<th style="text-align:center">Function</th>
<th style="text-align:center">Result</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">Getting more training examples</td>
<td style="text-align:center">Fixes high variance</td>
</tr>
<tr>
<td style="text-align:center">Trying smaller sets of features</td>
<td style="text-align:center">Fixes high variance</td>
</tr>
<tr>
<td style="text-align:center">Increasing Î»</td>
<td style="text-align:center">Fixes high variance</td>
</tr>
<tr>
<td style="text-align:center"></td>
<td style="text-align:center"></td>
</tr>
<tr>
<td style="text-align:center">Adding features</td>
<td style="text-align:center">Fixes high bias</td>
</tr>
<tr>
<td style="text-align:center">Adding polynomial features</td>
<td style="text-align:center">Fixes high bias</td>
</tr>
<tr>
<td style="text-align:center">Decreasing Î»</td>
<td style="text-align:center">Fixes high bias</td>
</tr>
</tbody>
</table>
<h3 id="6-1-Diagnosing-NN"><a href="#6-1-Diagnosing-NN" class="headerlink" title="6.1 Diagnosing NN"></a>6.1 Diagnosing NN</h3><ul>
<li><p>A neural network with fewer parameters is <strong>prone to underfitting</strong>. It is also <strong>computationally cheaper</strong>.</p>
</li>
<li><p>A large neural network with more parameters is <strong>prone to overfitting</strong>. It is also <strong>computationally expensive</strong>. </p>
</li>
</ul>
<p>In this case you can use regularization (increase Î») to address the overfitting.</p>
<h3 id="6-2-Model-Complexity-Effects"><a href="#6-2-Model-Complexity-Effects" class="headerlink" title="6.2 Model Complexity Effects"></a>6.2 Model Complexity Effects</h3><ul>
<li><p>Lower-order polynomials (low model complexity) have high bias and low variance. In this case, the model fits poorly consistently.</p>
</li>
<li><p>Higher-order polynomials (high model complexity) fit the training data extremely well and the test data extremely poorly. These have low bias on the training data, but very high variance.</p>
</li>
<li><p>In reality, we would want to choose a model somewhere in between, that can generalize well but also fits the data reasonably well.</p>
</li>
</ul>
<h2 id="Reference-article"><a href="#Reference-article" class="headerlink" title="Reference article"></a>Reference article</h2><ul>
<li><a href="https://www.coursera.org/learn/machine-learning/home/week/6" target="_blank" rel="external">coursera 6 @ng</a></li>
</ul>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[EF Entertainment]]></title>
      <url>http://iequa.com/2017/05/24/ef-l4u1-Entertainment/</url>
      <content type="html"><![CDATA[<style>
img {
        display: block !important;
        width: 550px;
        margin-left: 120px !important;
}
</style>

<h2 id="1-describing-entertainment-options"><a href="#1-describing-entertainment-options" class="headerlink" title="1. describing entertainment options"></a>1. describing entertainment options</h2><ul>
<li>a concert</li>
<li>a musical</li>
<li>a lecture</li>
<li>a play</li>
</ul>
<p><img src="/images/english/ef-l4u1l1.png" alt=""></p>
<table>
<thead>
<tr>
<th>Dialog</th>
</tr>
</thead>
<tbody>
<tr>
<td>S: Hey, Joe. <code>What are we going to do</code> tonight?</td>
<td></td>
</tr>
<tr>
<td>J: I know! Letâ€™s go to that play downtown.</td>
<td></td>
</tr>
<tr>
<td>S: Nah, itâ€™s too far.</td>
<td></td>
</tr>
<tr>
<td>J: Well, <code>what else is going on</code>?</td>
<td></td>
</tr>
<tr>
<td>S: Well, thereâ€™s a new movie at the theater. Itâ€™s â€˜The Big Cheeseâ€™ with May Jackson.</td>
<td></td>
</tr>
<tr>
<td>J: Or we could go to the football game.</td>
<td></td>
</tr>
<tr>
<td>S: I do not enjoy watching football games.</td>
<td></td>
</tr>
<tr>
<td>J: Oh, yeah. So the movie sounds good.</td>
<td></td>
</tr>
<tr>
<td>S: Great!</td>
<td></td>
</tr>
</tbody>
</table>
<h3 id="1-1-gerunds-amp-infinitives"><a href="#1-1-gerunds-amp-infinitives" class="headerlink" title="1.1 gerunds &amp; infinitives"></a>1.1 gerunds &amp; infinitives</h3><ul>
<li>Frank enjoys cooking dinner for Lilei</li>
<li>Blair <code>plans to eat</code> out.</li>
<li>Weâ€™re <code>planning to go to</code> the soccer game. [â€˜sÉ’kÉ™]</li>
<li>I need to get some money for the concert.</li>
<li>Bluce Lee <code>kept playing</code> his guitar until midnight</li>
<li>Weâ€™re <code>thinking about</code> going to a concert.</li>
</ul>
<table>
<thead>
<tr>
<th>gerunds &amp; infinitives</th>
<th>sentence</th>
</tr>
</thead>
<tbody>
<tr>
<td>like</td>
<td>I like going to musicals.</td>
</tr>
<tr>
<td>-</td>
<td>I like to go to musicals.     </td>
</tr>
<tr>
<td>love</td>
<td>June loves eating in restaurants.</td>
</tr>
<tr>
<td>-</td>
<td>June loves to eat in restaurants.     </td>
</tr>
<tr>
<td>begin</td>
<td>It began to snow.</td>
</tr>
<tr>
<td>-</td>
<td>It began snowing.</td>
</tr>
</tbody>
</table>
<h3 id="1-2-know-how-good-at"><a href="#1-2-know-how-good-at" class="headerlink" title="1.2 know how / good at"></a>1.2 know how / good at</h3><ul>
<li>I donâ€™t know how to swim. </li>
<li>Iâ€™m terrible at driving.</li>
</ul>
<h3 id="1-3-describing-options"><a href="#1-3-describing-options" class="headerlink" title="1.3 describing options"></a>1.3 describing options</h3><ul>
<li>What do you want to do?  </li>
<li>What are we going to do tonight?</li>
<li>Whatâ€™s going on?     </li>
</ul>
<ul>
<li>There are some great movies and plays going on this week.</li>
<li>You could go swimming or you could go hiking.  </li>
</ul>
<ul>
<li>What else is there to do?</li>
<li>What else is going on?</li>
</ul>
<h2 id="2-talking-about-upcoming-events"><a href="#2-talking-about-upcoming-events" class="headerlink" title="2. talking about upcoming events"></a>2. talking about upcoming events</h2><ul>
<li>bar</li>
<li>stadium [â€˜steÉªdÉªÉ™m]</li>
<li>aquarium [É™â€™kweÉ™rÉªÉ™m]</li>
<li>concert hall</li>
<li>auditorium  [É”ËdÉªâ€™tÉ”ËrÉªÉ™m]</li>
<li>Theater  [â€˜Î¸ÉªÉ™tÉ™]</li>
<li>nightclub</li>
<li>check it out</li>
</ul>
<p><img src="/images/english/ef-l4u1l2.png" alt=""></p>
<table>
<thead>
<tr>
<th>Dialog</th>
</tr>
</thead>
<tbody>
<tr>
<td>[TODD] Hi, Could you <code>do me a favor</code>?</td>
<td></td>
</tr>
<tr>
<td>[SALLY] Sure, What do you need?</td>
<td></td>
</tr>
<tr>
<td>[TODD] Well, Angela and I want to do <code>something special</code> this weekend. Itâ€™s our 20th <code>wedding anniversary</code>.</td>
<td></td>
</tr>
<tr>
<td>[SALLY] Wow! Twenty years together, Congratulations.</td>
<td></td>
</tr>
<tr>
<td>[TODD] Thanks, Could you help me <code>find something interesting</code> ?</td>
<td></td>
</tr>
<tr>
<td>[SALLY] Springdale.com has all the events listed for the city.</td>
<td></td>
</tr>
<tr>
<td>[SALLY] It covers the concert hall, the auditorium â€¦ , You really should check it out.</td>
<td></td>
</tr>
<tr>
<td>[TODD] Thatâ€™s a good idea.</td>
<td></td>
</tr>
<tr>
<td>[SALLY] Thereâ€™s an incredible same band at the Blue Banana.</td>
<td></td>
</tr>
<tr>
<td>[SALLY] Thatâ€™s the <code>hottest nightclub</code> in town right now. Do you and Angela like to dance?</td>
<td></td>
</tr>
<tr>
<td>[TODD] Yes! But, Like a classical concert. Beethoven. Or Mozart.</td>
<td></td>
</tr>
<tr>
<td>[SALLY] Here is a play,  How about Shakespeare? Itâ€™s â€˜Hamletâ€™.</td>
<td></td>
</tr>
<tr>
<td>[SALLY] Itâ€™s in the Main Street <code>Theater</code>[ËˆÎ¸i:É™tÉ™r] on Saturday.</td>
<td></td>
</tr>
<tr>
<td>[TODD] Angela loves plays. Thank you so much!</td>
<td></td>
</tr>
</tbody>
</table>
<h3 id="1-1-Prepositions-of-time-and-place"><a href="#1-1-Prepositions-of-time-and-place" class="headerlink" title="1.1 Prepositions of time and place"></a>1.1 Prepositions of time and place</h3><p><strong><code>on</code> for smaller areas, and for days and dates.</strong></p>
<ul>
<li>I live on Main Street.</li>
<li>The lecture is on Monday.    </li>
<li>My birthday is on April 17th.</li>
</ul>
<p><strong><code>at</code> for addresses</strong></p>
<ul>
<li>His house is at 465 Pine Street.</li>
<li>The lecture is at the auditorium.</li>
<li>At night, I like to read.</li>
</ul>
<p><strong><code>in</code></strong></p>
<ul>
<li>My brother is coming in February.</li>
<li>I lived in France for one year.</li>
</ul>
<h3 id="1-2-Asking-for-help"><a href="#1-2-Asking-for-help" class="headerlink" title="1.2 Asking for help"></a>1.2 Asking for help</h3><ul>
<li>Could you do me a favor? </li>
<li>Iâ€™m sorry, but Iâ€™m really busy right now.</li>
<li>The party will start at 10 in the morning and continue until 7 in the evening</li>
</ul>
<h3 id="1-3-Writing"><a href="#1-3-Writing" class="headerlink" title="1.3 Writing"></a>1.3 Writing</h3><p>This Saturday night, there is going to be a english lecture, â€˜two minutesâ€™. June is going to talk about â€œthe important of timeâ€. The lecture starts at 8 p.m. Itâ€™s at the Auditorium. Admission is free. I like learning english, so I am thinking about going.</p>
<h2 id="3-planning-a-night-out-with-friends"><a href="#3-planning-a-night-out-with-friends" class="headerlink" title="3. planning a night out with friends"></a>3. planning a night out with friends</h2><h3 id="1-Vocabulary"><a href="#1-Vocabulary" class="headerlink" title="1. Vocabulary"></a>1. Vocabulary</h3><ul>
<li>boring</li>
<li>loud</li>
<li>relaxing</li>
<li>incredible</li>
<li>horror [â€˜hÉ’rÉ™]</li>
<li>romance [roâ€™mÃ¦ns]</li>
<li>drama  [ËˆdrÉ‘mÉ™] </li>
<li>comedy [â€˜kÉ‘mÉ™di]</li>
</ul>
<p><img src="/images/english/ef-l4u1l3.png" alt=""></p>
<table>
<thead>
<tr>
<th>Dialog</th>
</tr>
</thead>
<tbody>
<tr>
<td>M: Why donâ€™t we go to that new sports bar?</td>
<td></td>
</tr>
<tr>
<td>F: ~</td>
<td></td>
</tr>
<tr>
<td>M: Yup, There is a football game</td>
<td></td>
</tr>
<tr>
<td>F: I hate the sports bar</td>
<td></td>
</tr>
<tr>
<td>M: Really, why?</td>
<td></td>
</tr>
<tr>
<td>F: Because that is boring, the music is so loud and diffcult convasition.</td>
<td></td>
</tr>
<tr>
<td>F: How about a quiet, relaxing dinner?</td>
<td></td>
</tr>
<tr>
<td>M: We do that a name</td>
<td></td>
</tr>
<tr>
<td>F: OK ! you are right, Letâ€™s do something different.</td>
<td></td>
</tr>
<tr>
<td>M: I know, Letâ€™s go to the movie. the New York</td>
<td></td>
</tr>
<tr>
<td>F: The horror  movie, I donâ€™t think so, How about a romance, or a drama</td>
<td></td>
</tr>
<tr>
<td>M: Oh, look, really, It is incredible !</td>
<td></td>
</tr>
<tr>
<td>F: I love it. Can you buy the ticket ?</td>
<td></td>
</tr>
<tr>
<td>M: Sure, Thanks</td>
<td></td>
</tr>
</tbody>
</table>
<h3 id="2-Adjectives-for-events"><a href="#2-Adjectives-for-events" class="headerlink" title="2. Adjectives for events"></a>2. Adjectives for events</h3><ul>
<li>interesting           </li>
<li>boring</li>
<li>relaxing</li>
<li>exciting</li>
<li>surprising</li>
<li>fun</li>
<li>incredible</li>
<li>loud</li>
<li>quiet</li>
<li>wonderful</li>
<li>terrible</li>
</ul>
<h3 id="3-New-York-text"><a href="#3-New-York-text" class="headerlink" title="3. New York, text"></a>3. New York, text</h3><table>
<thead>
<tr>
<th>Dialog</th>
</tr>
</thead>
<tbody>
<tr>
<td>J: Hi, Ann! Hey, how was your vacation? You went to New York, right?</td>
<td></td>
</tr>
<tr>
<td>A: Yeah.</td>
<td></td>
</tr>
<tr>
<td>J: How was it?</td>
<td></td>
</tr>
<tr>
<td>A: Oh, I love New York! Itâ€™s a really exciting  city.</td>
<td></td>
</tr>
<tr>
<td>J: Nah. Itâ€™s too big and too loud  for me. So, what did you do in New York?</td>
<td></td>
</tr>
<tr>
<td>A: Well, we went to a musical. That was fun  ! And we ate at some really interesting restaurants. The food was delicious.</td>
<td></td>
</tr>
<tr>
<td>J: It sounds wonderful.</td>
<td></td>
</tr>
<tr>
<td>A: And the Museum of Modern Art was incredible !</td>
<td></td>
</tr>
<tr>
<td>J: Thatâ€™s great! Well, I have a meeting. See you later.</td>
<td></td>
</tr>
<tr>
<td>A: Bye.</td>
<td></td>
</tr>
</tbody>
</table>
<h3 id="4-â€˜Whyâ€™-and-â€˜becauseâ€™"><a href="#4-â€˜Whyâ€™-and-â€˜becauseâ€™" class="headerlink" title="4. â€˜Whyâ€™ and â€˜becauseâ€™"></a>4. â€˜Whyâ€™ and â€˜becauseâ€™</h3><ul>
<li>Why did you go to Paris?</li>
<li>I went to Paris because itâ€™s beautiful!</li>
</ul>
<ul>
<li>Why is Frank angry?</li>
<li>I go to that restaurant     because itâ€™s cheap, and the food is delicious.  </li>
</ul>
<h3 id="5-Suggesting-activities"><a href="#5-Suggesting-activities" class="headerlink" title="5. Suggesting activities"></a>5. Suggesting activities</h3><p>â€˜Letâ€™sâ€™ + base form of verb</p>
<ul>
<li>Letâ€™s go to the dance performance. </li>
</ul>
<p>â€˜How aboutâ€™ or â€˜what aboutâ€™ + verb + â€˜-ingâ€™</p>
<ul>
<li>What about meeting some friends?</li>
</ul>
<p>â€˜Couldâ€™ + base form of verb</p>
<ul>
<li>We could go out for a drink at Harryâ€™s Bar.</li>
</ul>
<p>â€˜Why donâ€™t weâ€™ + base form of verb</p>
<ul>
<li>Why donâ€™t we try a new restaurant?</li>
</ul>
<h2 id="4-going-to-the-movies"><a href="#4-going-to-the-movies" class="headerlink" title="4. going to the movies"></a>4. going to the movies</h2><h3 id="1-Vocabulary-1"><a href="#1-Vocabulary-1" class="headerlink" title="1. Vocabulary"></a>1. Vocabulary</h3><ul>
<li>The 8 oâ€™clock showâ€™s sold out now.</li>
<li>There are still some tickets left</li>
</ul>
<p><img src="/images/english/ef-l4u1l4.png" alt=""></p>
<table>
<thead>
<tr>
<th>Dialog</th>
</tr>
</thead>
<tbody>
<tr>
<td>S: Jake? Jake! Itâ€™s 7 oâ€™clock! The movie starts at 8!</td>
<td></td>
</tr>
<tr>
<td>J: Okay, Okay. I am ready.</td>
<td></td>
</tr>
<tr>
<td>S: Did you book the tickets?</td>
<td></td>
</tr>
<tr>
<td>J: The tickets.</td>
<td></td>
</tr>
<tr>
<td>S: The tickets you book them. right?</td>
<td></td>
</tr>
<tr>
<td>J: Ohhh.</td>
<td></td>
</tr>
<tr>
<td>S: I canâ€™t believe it. How Could you forget to book the tickets? The 8 oâ€™clock show is sold out now.</td>
<td></td>
</tr>
<tr>
<td>J: Sally, Iâ€™m really sorry. Is there a second show?</td>
<td></td>
</tr>
<tr>
<td>S: The next show begins at 10:30. There are still some tickets left. But itâ€™s over after midnight.</td>
<td></td>
</tr>
<tr>
<td>J: That sounds good. Iâ€™m so sorry. I canâ€™t believe I forgot. So, Do you want to watch some TV?</td>
<td></td>
</tr>
<tr>
<td>S: This is stupid!</td>
<td></td>
</tr>
</tbody>
</table>
<h3 id="2-Simple-present"><a href="#2-Simple-present" class="headerlink" title="2. Simple present"></a>2. Simple present</h3><table>
<thead>
<tr>
<th>beginã€startã€open</th>
</tr>
</thead>
<tbody>
<tr>
<td>The dance performance begins at 8 oâ€™clock tonight.</td>
<td></td>
</tr>
<tr>
<td>Jim Department Store opens at 9 a.m. tomorrow.</td>
<td></td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr>
<th>closeã€endã€be overã€finish</th>
</tr>
</thead>
<tbody>
<tr>
<td>The movie is over at 9:15 p.m.</td>
<td></td>
</tr>
<tr>
<td>She closes her shop at 6 oâ€™clock.</td>
<td></td>
</tr>
<tr>
<td>The movie ends at midnight.</td>
<td></td>
</tr>
</tbody>
</table>
<h3 id="3-Asking-for-info-about-movies"><a href="#3-Asking-for-info-about-movies" class="headerlink" title="3. Asking for info about movies"></a>3. Asking for info about movies</h3><ul>
<li>Can you give me some information?</li>
<li>Do you have a website?</li>
<li>Can I buy tickets online?</li>
<li>Whatâ€™s your address?</li>
<li>What time is the next show?</li>
<li>Are tickets still available?</li>
<li>How much are tickets?</li>
</ul>
<h3 id="4-Dialog-with-theater-â€˜Î¸iÉ™tÉ™"><a href="#4-Dialog-with-theater-â€˜Î¸iÉ™tÉ™" class="headerlink" title="4. Dialog with theater  [â€˜Î¸iÉ™tÉ™]"></a>4. Dialog with theater  [â€˜Î¸iÉ™tÉ™]</h3><table>
<thead>
<tr>
<th>Dialog</th>
</tr>
</thead>
<tbody>
<tr>
<td>A: Good afternoon. Springdale Theater.</td>
<td></td>
</tr>
<tr>
<td>B: Good afternoon. Can you give me some information  about the film â€˜Mommy Mommyâ€™?</td>
<td></td>
</tr>
<tr>
<td>A: Certainly. What would you like to know?</td>
<td></td>
</tr>
<tr>
<td>B: When is the next show  ?</td>
<td></td>
</tr>
<tr>
<td>A: Itâ€™s at 3:15.</td>
<td></td>
</tr>
<tr>
<td>B: Thatâ€™s good. And are there still tickets for it?</td>
<td></td>
</tr>
<tr>
<td>A: Yes. Thatâ€™s not a problem. Afternoons are never sold out.</td>
<td></td>
</tr>
<tr>
<td>B: OK. And can I buy tickets online?</td>
<td></td>
</tr>
<tr>
<td>A: Yes, just go to our website  , www.springdaletheater.com.</td>
<td></td>
</tr>
<tr>
<td>B: Thanks! Oh, and how much are tickets for adults  and children?</td>
<td></td>
</tr>
<tr>
<td>A: Adults are $13, and kids are $6.</td>
<td></td>
</tr>
</tbody>
</table>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[Jobs and companies]]></title>
      <url>http://iequa.com/2017/05/19/ef-l3u6-Jobs-and-companies/</url>
      <content type="html"><![CDATA[<style>
img {
        display: block !important;
        width: 550px;
        margin-left: 120px !important;
}
</style>

<h2 id="1-Asking-about-work-experience"><a href="#1-Asking-about-work-experience" class="headerlink" title="1. Asking about work experience"></a>1. Asking about work experience</h2><ul>
<li>bank &gt; banker</li>
<li>design &gt; designer</li>
<li>act  &gt; actor</li>
<li>direct &gt; director</li>
<li>supervise  &gt; supervisor    </li>
<li>illustrate &gt; illustrator [â€˜ÉªlÉ™streÉªtÉ™]</li>
<li>firefighter</li>
</ul>
<p><img src="/images/english/ef-l3u6l1.png" alt=""></p>
<table>
<thead>
<tr>
<th><strong>Dialog 1</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td>[SIMON] hi, how do your job?</td>
<td></td>
</tr>
<tr>
<td>[KELLY] I love it! Iâ€™m so happy I got it.</td>
<td></td>
</tr>
<tr>
<td>[SIMON] good.</td>
<td></td>
</tr>
<tr>
<td>[KELLY] The payâ€™s higher than my last job. My boss is really nice.</td>
<td></td>
</tr>
<tr>
<td>[SIMON] <code>Where were you before</code>?</td>
<td></td>
</tr>
<tr>
<td>[KELLY] Sunset Computer Systems.</td>
<td></td>
</tr>
<tr>
<td>[SIMON] How was it there?</td>
<td></td>
</tr>
<tr>
<td>[KELLY] It was terrible. The pay was low. My boss was horrible. Business was really bad.</td>
<td></td>
</tr>
<tr>
<td>[SIMON] <code>How long were you there for</code>?</td>
<td></td>
</tr>
<tr>
<td>[KELLY] I was there for eight months. Long enough. But Iâ€™m much happier at Nuway Networks.</td>
<td></td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr>
<th><strong>Dialog 2</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td>MAN: Iâ€™m very happy in my new job at Tomorrow Computers. Iâ€™m a programmer. My last  boss was awful. I wasnâ€™t  happy there.</td>
<td></td>
</tr>
<tr>
<td>WOMAN: Where were you before  ?</td>
<td></td>
</tr>
<tr>
<td>MAN: I was at Dyno Systems. I was an engineer.</td>
<td></td>
</tr>
<tr>
<td>WOMAN: Was that your first job?</td>
<td></td>
</tr>
<tr>
<td>MAN: No. Before that  , I was at LM Computers.</td>
<td></td>
</tr>
<tr>
<td>WOMAN: Well, Iâ€™m happy that you like your new job.</td>
<td></td>
</tr>
<tr>
<td>MAN: Me, too. Thanks.</td>
<td></td>
</tr>
</tbody>
</table>
<h3 id="1-2-expressions"><a href="#1-2-expressions" class="headerlink" title="1.2 expressions"></a>1.2 expressions</h3><ul>
<li>Where were you last night?</li>
<li>She was a waiter <code>before</code> she was a supervisor.</li>
<li>She was a supervisor. <code>After that</code>, she was the manager.</li>
</ul>
<h3 id="1-3-talkig-about-your-job"><a href="#1-3-talkig-about-your-job" class="headerlink" title="1.3 talkig about your job"></a>1.3 talkig about your job</h3><ul>
<li><code>How was your last job?</code></li>
<li><code>What was your last job like?</code></li>
</ul>
<ul>
<li>I like my job, but I work too many hours.</li>
<li>The pay is really good in my new job.</li>
<li>My boss is OK, but sometimes heâ€™s difficult.</li>
</ul>
<ul>
<li>My last job was easier than this job.</li>
<li>My pay is better now, but I work longer hours.</li>
</ul>
<h2 id="2-Introducing-a-new-employee"><a href="#2-Introducing-a-new-employee" class="headerlink" title="2. Introducing a new employee"></a>2. Introducing a new employee</h2><ul>
<li>He worked in Paris for three years.</li>
<li>I moved to a new apartment last week.</li>
<li>We played tennis last weekend.</li>
</ul>
<ul>
<li>We didnâ€™t study last night.</li>
<li>He didnâ€™t work in London.</li>
<li>Did you study last night?</li>
<li>Where did you work before?</li>
</ul>
<ul>
<li>We lived in Beijing for two years.</li>
<li>The weekend was very busy. I didnâ€™t relax for a minute!</li>
</ul>
<p><img src="/images/english/ef-l3u6l2.png" alt=""></p>
<table>
<thead>
<tr>
<th><strong>Dialog 1</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td>[JOAN]: <code>I&#39;d like to introduce Simon</code>, our new director of engineering - a new employee</td>
<td></td>
</tr>
<tr>
<td>[JOAN]: Simon comes to us from Dyna-Tek Systems. He was the engineering manager there three years.</td>
<td></td>
</tr>
<tr>
<td>[JOAN]: He was the engineering manager.</td>
<td></td>
</tr>
<tr>
<td>[JOAN]: a masterâ€™s degree in computer science [â€˜saÉªÉ™ns]</td>
<td></td>
</tr>
<tr>
<td>[JOAN]: He speaks fluent French.</td>
<td></td>
</tr>
<tr>
<td>[JOAN]: Simon is married and has one kids.</td>
<td></td>
</tr>
<tr>
<td>[JOAN]: Letâ€™s welcome Simon to his new company!</td>
<td></td>
</tr>
<tr>
<td>[Simon]: Thanks, everyone, <code>for the warm welcome. I&#39;m excited to be here</code>.</td>
<td></td>
</tr>
</tbody>
</table>
<h3 id="2-simple-verbs"><a href="#2-simple-verbs" class="headerlink" title="2. simple verbs"></a>2. simple verbs</h3><ul>
<li>What did you do last night?</li>
<li>I relaxed and played computer games.</li>
<li>How long did you work there?</li>
<li>I worked there for three years.</li>
</ul>
<table>
<thead>
<tr>
<th><strong>Dialog 2</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td>[BOSS]: Julie, Iâ€™d like to introduce  Ken Stevens. Ken is our new  director of engineering.</td>
<td></td>
</tr>
<tr>
<td>[JULIE]: Itâ€™s a pleasure  to meet you, Ken. Welcome. I work in sales here.</td>
<td></td>
</tr>
<tr>
<td>[KEN]: Oh, thanks, Julie. Nice to meet you, too.</td>
<td></td>
</tr>
<tr>
<td>[BOSS]: Ken comes to us  from XYZ Systems. He was the engineering manager for five years.</td>
<td></td>
</tr>
<tr>
<td>[JULIE]: Oh, nice. How was it?</td>
<td></td>
</tr>
<tr>
<td>[KEN]: It was good, but Iâ€™m happy to be here now.</td>
<td></td>
</tr>
<tr>
<td>[JULIE]: This is a great place to work.</td>
<td></td>
</tr>
<tr>
<td>[BOSS]: Good answer, Julie!</td>
<td></td>
</tr>
</tbody>
</table>
<h2 id="3-Understanding-company-structure"><a href="#3-Understanding-company-structure" class="headerlink" title="3. Understanding company structure"></a>3. Understanding company structure</h2><ul>
<li>Human Resources (HR)</li>
<li>Operations</li>
<li>Finance   [faÉªâ€™nÃ¦ns; fÉª-; â€˜faÉªnÃ¦ns]</li>
<li>Sales and Marketing   </li>
<li>Customer Service   </li>
<li>Purchasing [ËˆpÉœ:rtÊƒÉ™sÉªÅ‹]</li>
<li>Research and Development (R&amp;D)</li>
<li>chief executive officer (CEO)        </li>
<li>vice president â€“ VP</li>
<li>chief financial officer (CFO)</li>
<li>chief operations officer (COO)     </li>
<li>chief technology officer (CTO)</li>
<li>She is the director of IT.</li>
<li>buy - bought </li>
</ul>
<p><img src="/images/english/ef-l3u6l3.png" alt=""></p>
<table>
<thead>
<tr>
<th>Company departments and job titles</th>
</tr>
</thead>
<tbody>
<tr>
<td>[JOAN] So, <code>did you meet anyone good</code> last night?</td>
<td></td>
</tr>
<tr>
<td>[TODD] I got 20 business cards. I talked to a lot of people. A few of them, very interesting</td>
<td></td>
</tr>
<tr>
<td>[JOAN] How about for the <code>Finance Department</code>?</td>
<td></td>
</tr>
<tr>
<td>[TODD] <code>Take a look at this one</code>. I wrote some notes on the back.</td>
<td></td>
</tr>
<tr>
<td>[TODD] She has an MBA from Harvard. Right now, sheâ€™s working at Network Tek as the CFO.</td>
<td></td>
</tr>
<tr>
<td>[JOAN] Interesting. Is she available?</td>
<td></td>
</tr>
<tr>
<td>[TODD] She wants to talk to us.</td>
<td></td>
</tr>
<tr>
<td>[JOAN] Great! How about for HR?</td>
<td></td>
</tr>
<tr>
<td>[TODD] Umm, This guy looks good.</td>
<td></td>
</tr>
<tr>
<td>[TODD] Heâ€™s an HR manager in a small company in Springdale. He has a BA in HR management.</td>
<td></td>
</tr>
<tr>
<td>[JOAN] Itâ€™s not a problem. Thanks for going last night.</td>
<td></td>
</tr>
</tbody>
</table>
<p><strong>Use did + subject + base verb</strong></p>
<ul>
<li>Did you see him last night?</li>
<li>Did they have dinner at the hotel?</li>
</ul>
<h2 id="4-Describing-a-job"><a href="#4-Describing-a-job" class="headerlink" title="4. Describing a job"></a>4. Describing a job</h2><p><img src="/images/english/ef-l3u6l4.png" alt=""></p>
<table>
<thead>
<tr>
<th>Describing a job</th>
</tr>
</thead>
<tbody>
<tr>
<td>[TODD] Ohï¼ŒJoan. <code>Do you have a minute?</code></td>
<td></td>
</tr>
<tr>
<td>[TODD] <code>I found someone good for production manager</code>.</td>
<td></td>
</tr>
<tr>
<td>[JOAN] Great. Letâ€™s have a look.</td>
<td></td>
</tr>
<tr>
<td>[TODD] She worked at Parmatek for three years as a project manager. <code>She was responsible for</code> the production schedule.</td>
<td></td>
</tr>
<tr>
<td>[TODD] And <code>she reported to the vice president</code> of production.</td>
<td></td>
</tr>
<tr>
<td>[JOAN] Where is she working now?</td>
<td></td>
</tr>
<tr>
<td>[TODD] Sheâ€™s at Blue Sky Tech.</td>
<td></td>
</tr>
<tr>
<td>[JOAN] Whatâ€™s her <code>job title</code> ?</td>
<td></td>
</tr>
<tr>
<td>[TODD] Production manager. <code>She got her BS in computer engineering in 2007</code>.</td>
<td></td>
</tr>
<tr>
<td>[JOAN] She does sound good.</td>
<td></td>
</tr>
<tr>
<td>[TODD] Shall I call her for an interview?</td>
<td></td>
</tr>
<tr>
<td>[JOAN] Yes, call her. send me her resume.</td>
<td></td>
</tr>
</tbody>
</table>
<ul>
<li>I worked there from 2009 to 2012.</li>
<li>I am responsible for marketing new products.</li>
<li>I reported to the vice president of production.</li>
</ul>
<p>My job now is at a restaurant. Iâ€™m a supervisor. Iâ€™m responsible for around 12 servers. Itâ€™s difficult work, but I like it. Before this job, I worked in a different restaurant as a server. I worked there for about 15 months. I wasnâ€™t very happy there. I didnâ€™t like my boss. She was very unfriendly. Before that, I was a student.</p>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[Money and buying]]></title>
      <url>http://iequa.com/2017/05/18/ef-l3u5-Money-and-buying/</url>
      <content type="html"><![CDATA[<style>
img {
        display: block !important;
        width: 550px;
        margin-left: 120px !important;
}
</style>

<h2 id="1-Choosing-a-product"><a href="#1-Choosing-a-product" class="headerlink" title="1. Choosing a product"></a>1. Choosing a product</h2><ul>
<li>attractive - unattractive</li>
<li>attractive - ugly</li>
<li>safe - unsafe</li>
<li>safe - dangerous</li>
<li>reliable - unreliable</li>
<li>fancy - plain</li>
<li>powerful - weak</li>
</ul>
<p><img src="/images/english/ef-l3u5l1.png" alt=""></p>
<table>
<thead>
<tr>
<th>Choosing a product</th>
</tr>
</thead>
<tbody>
<tr>
<td>[TODD] Can I ask you a question about computers?</td>
<td></td>
</tr>
<tr>
<td>[SALLY] Sure</td>
<td></td>
</tr>
<tr>
<td>[TODD] My sonâ€™s computerâ€™s really old and slow. <code>He needs something faster for his classes. And for all those computer games he plays</code>.</td>
<td></td>
</tr>
<tr>
<td>[SALLY] You want a laptop, not a desktop, right?</td>
<td></td>
</tr>
<tr>
<td>[TODD] Yes, Iâ€™m thinking about the B-Tek 13-72.</td>
<td></td>
</tr>
<tr>
<td>[SALLY] Hmm. <code>You need a better computer for gaming</code>.</td>
<td></td>
</tr>
<tr>
<td>[SALLY] You should buy the 13-82. You see, the 82â€™s faster and more powerful than the 72.</td>
<td></td>
</tr>
<tr>
<td>[TODD] Yeah. And itâ€™s also more expensive.</td>
<td></td>
</tr>
<tr>
<td>[SALLY] Twelve hundred dollars isnâ€™t bad - for a fast, powerful laptop.</td>
<td></td>
</tr>
</tbody>
</table>
<h3 id="1-1-expressions"><a href="#1-1-expressions" class="headerlink" title="1.1 expressions"></a>1.1 expressions</h3><ol>
<li>The desktop computer is <code>slower than</code> the laptop computer.</li>
<li>The desktop computer is <code>less</code> expensive <code>than</code> the laptop.</li>
<li>My old computer is slow. I <code>need something faster. (than my old computer)</code></li>
<li>For me, Chinese is more difficult than French.</li>
<li>The subway is faster than driving.</li>
</ol>
<h2 id="2-Making-a-purchase"><a href="#2-Making-a-purchase" class="headerlink" title="2. Making a purchase"></a>2. Making a purchase</h2><ul>
<li>cellphone</li>
<li>digital camera</li>
<li>tablet computer</li>
<li>smartphone</li>
<li>e-reader</li>
<li>game console</li>
<li>laptop computer [â€˜lÃ¦ptÉ’p]</li>
<li>desktop computer [â€˜desktÉ’p]</li>
</ul>
<p><img src="/images/english/ef-l3u5l2.png" alt=""></p>
<table>
<thead>
<tr>
<th><strong>Dialog</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td>A:  Excuse me. Could you help me? I want to buy a new laptop.</td>
<td></td>
</tr>
<tr>
<td>B: right over here. very good computer, powerful and fast and very popular for young people.</td>
<td></td>
</tr>
<tr>
<td>A: How much is it?</td>
<td></td>
</tr>
<tr>
<td>B: Itâ€™s on sale. 1120 <code>$</code></td>
<td></td>
</tr>
<tr>
<td>A: Iâ€™ll take it.</td>
<td></td>
</tr>
<tr>
<td>B: How would you like to pay?</td>
<td></td>
</tr>
<tr>
<td>A: By credit card.</td>
<td></td>
</tr>
<tr>
<td>B: Could I see some identification?</td>
<td></td>
</tr>
<tr>
<td>A: Hereâ€™s my driverâ€™s license.</td>
<td></td>
</tr>
<tr>
<td>B: Please sign here. Thank you. Hereâ€™s your receipt.</td>
<td></td>
</tr>
<tr>
<td>A: Thank you.</td>
<td></td>
</tr>
</tbody>
</table>
<h3 id="2-1-expressions"><a href="#2-1-expressions" class="headerlink" title="2.1 expressions"></a>2.1 expressions</h3><p>Once you have someone to help you, tell them what you need.</p>
<ul>
<li>I want to buy a new camera.  </li>
<li>I need a game console for my son.  </li>
<li>Iâ€™m looking for a TV.      </li>
<li>Could you tell me about your digital cameras?</li>
</ul>
<p>You can ask specific questions about the product you are interested in.</p>
<ul>
<li>How much is it?  </li>
<li>Is there a warranty?  </li>
<li>Whatâ€™s it made of?    </li>
<li>Is it reliable?  </li>
<li>Is it easy to use?  </li>
</ul>
<p>The salesperson might tell you about the storeâ€™s promotions.</p>
<ul>
<li>Itâ€™s on sale today.</li>
<li>Itâ€™s 25% off. </li>
</ul>
<p>If you decide to buy the product, you can say:</p>
<ul>
<li>Iâ€™ll take it.  </li>
</ul>
<p>If you decide not to buy the product, you can say:</p>
<ul>
<li>I donâ€™t think so.  </li>
<li>I need to think about it.       </li>
</ul>
<p>When youâ€™re paying for a product, these phrases might come up:</p>
<ul>
<li>How would you like to pay?    </li>
<li>Cash or credit?</li>
</ul>
<h3 id="2-2-irregular-comparative-adjectives"><a href="#2-2-irregular-comparative-adjectives" class="headerlink" title="2.2 irregular comparative adjectives"></a>2.2 irregular comparative adjectives</h3><ul>
<li>This e-reader is easier to use than that one.</li>
<li>My new e-reader cost more than a smartphone.   </li>
</ul>
<ul>
<li>The woman is friendlier than the man.           </li>
<li>The woman is more friendly than the man.  </li>
</ul>
<ul>
<li>This store is (bad) worse than the first one.  </li>
<li>The train station is (far) farther from here than the bus station.  </li>
</ul>
<ul>
<li>Are you feeling better or worse?</li>
<li>Itâ€™s less expensive to buy online.</li>
<li>The online price is less than the store price.</li>
<li>I need something easier to use.</li>
<li>Iâ€™ll take this one. Itâ€™s better.</li>
<li>Do you have a cheaper one?</li>
</ul>
<h2 id="3-Returning-a-purchase"><a href="#3-Returning-a-purchase" class="headerlink" title="3. Returning a purchase"></a>3. Returning a purchase</h2><ul>
<li>jeans</li>
<li>jacket</li>
<li>skirt [skÉœËt]</li>
<li>shirt</li>
<li>dress</li>
<li>shorts</li>
<li>socks</li>
</ul>
<p><img src="/images/english/ef-l3u5l3.png" alt=""></p>
<table>
<thead>
<tr>
<th>Returning a purchase</th>
</tr>
</thead>
<tbody>
<tr>
<td>JACK:  Oh! This digital camera!</td>
<td></td>
</tr>
<tr>
<td>NANCY: Whatâ€™s the problem ?</td>
<td></td>
</tr>
<tr>
<td>JACK: It doesnâ€™t work.</td>
<td></td>
</tr>
<tr>
<td>NANCY: Is it broken?</td>
<td></td>
</tr>
<tr>
<td>JACK: No, itâ€™s just too difficult to use.</td>
<td></td>
</tr>
<tr>
<td>NANCY: Can I help ?</td>
<td></td>
</tr>
<tr>
<td>JACK: No, I donâ€™t like it. Iâ€™m going to the store.</td>
<td></td>
</tr>
<tr>
<td>-</td>
<td></td>
</tr>
<tr>
<td>SALE: How can I help you?</td>
<td></td>
</tr>
<tr>
<td>JACK: Iâ€™d like to return this digital camera.</td>
<td></td>
</tr>
<tr>
<td>SALE: Whatâ€™s the problem?</td>
<td></td>
</tr>
<tr>
<td>JACK: Thereâ€™s nothing wrong. itâ€™s just too difficult to use. I donâ€™t like it.</td>
<td></td>
</tr>
<tr>
<td>SALE: Do you have the receipt?</td>
<td></td>
</tr>
<tr>
<td>JACK: Yes, Here it is.</td>
<td></td>
</tr>
<tr>
<td>SALE: Hereâ€™s your refund of <code>$</code>27.99.</td>
<td></td>
</tr>
<tr>
<td>JACK: Thank you!</td>
<td></td>
</tr>
</tbody>
</table>
<h3 id="3-1-some-wrong"><a href="#3-1-some-wrong" class="headerlink" title="3.1 some wrong"></a>3.1 some wrong</h3><ul>
<li>Whatâ€™s the problem?</li>
<li>Whatâ€™s wrong with it?</li>
<li>Whatâ€™s the matter?</li>
<li>What seems to be the problem? ï¼ˆcustomer service..ï¼‰</li>
</ul>
<ul>
<li>Itâ€™s too big.    </li>
<li>It doesnâ€™t fit.    </li>
<li>Thereâ€™s a hole in it.</li>
<li>Itâ€™s stained. [steÉªnd]</li>
<li>Itâ€™s damaged.    </li>
<li>It doesnâ€™t work.</li>
<li>Itâ€™s broken.</li>
<li>Itâ€™s too difficult to use.</li>
<li>I donâ€™t like it.</li>
</ul>
<h3 id="3-2-returning-a-purchase"><a href="#3-2-returning-a-purchase" class="headerlink" title="3.2 returning a purchase"></a>3.2 returning a purchase</h3><ul>
<li>Iâ€™d like to return these shorts.</li>
<li>Iâ€™d like a refund, please.    </li>
<li>Iâ€™d like to exchange this dress.          </li>
<li>Thereâ€™s nothing wrong. I just donâ€™t like it</li>
</ul>
<p>The customer service representative will likely ask why you want to return or exchange the item.</p>
<ul>
<li>What seems to be the problem?    </li>
<li>Is there something wrong with it?</li>
<li>Do you have the receipt?</li>
<li>Hereâ€™s your refund of $27.99.</li>
</ul>
<h2 id="4-Talking-about-prices"><a href="#4-Talking-about-prices" class="headerlink" title="4. Talking about prices"></a>4. Talking about prices</h2><ul>
<li>gas</li>
<li>office supplies</li>
<li>healthcare  [â€˜helÎ¸keÉ™] </li>
<li>entertainment</li>
<li>utilities  [juËâ€™tÉªlÉªtÉªz]</li>
<li>housing [ËˆhaÊŠzÉªÅ‹] ä½æˆ¿</li>
<li>clothing</li>
<li>gasoline</li>
</ul>
<p><img src="/images/english/ef-l3u5l4.png" alt=""></p>
<table>
<thead>
<tr>
<th><strong>Dialog</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td>A: gas price is going up fast.</td>
<td></td>
</tr>
<tr>
<td>B: yeah ! I know</td>
<td></td>
</tr>
<tr>
<td>A: office supplies price is going up fast. .</td>
<td></td>
</tr>
<tr>
<td>B: Ouch !</td>
<td></td>
</tr>
<tr>
<td>A: going to hurtï¼Œalsoï¼Œnext monthï¼Œthe building going to increase</td>
<td></td>
</tr>
<tr>
<td>B: Thatâ€™s terrible !</td>
<td></td>
</tr>
<tr>
<td>A: everything is going up.</td>
<td></td>
</tr>
<tr>
<td>B: I do some good news. The company sales are up</td>
<td></td>
</tr>
</tbody>
</table>
<h3 id="4-1-expressions"><a href="#4-1-expressions" class="headerlink" title="4.1 expressions"></a>4.1 expressions</h3><p>Use these expressions to explain an increase in something:</p>
<ul>
<li>Prices are going up.</li>
<li>The rent is going to increase.</li>
<li>Company sales are up.    </li>
</ul>
<p>Use these expressions to explain a decrease in something:</p>
<ul>
<li>Company sales are going down.                          </li>
<li>The temperature is going to decrease.                             </li>
<li>Gas prices are down. </li>
</ul>
<p>When we get bad news about an increase or decrease, we can say that it hurts. </p>
<ul>
<li>A: The price of food is up 25%.</li>
<li>B: Ouch! That hurts.</li>
</ul>
<p>The amount of money we need to live on is called the cost of living. </p>
<ul>
<li>The cost of living is going up and up.    <h3 id="4-2-increases-and-decreases"><a href="#4-2-increases-and-decreases" class="headerlink" title="4.2 increases and decreases"></a>4.2 increases and decreases</h3></li>
</ul>
<p>More bad  news today: The prices of housing  and utilities are both up by more than 20%. Gas prices are going to increase  for the next few months. The cost  of education is also going up.  There is some good  news: The price of food is down by 10%.</p>
<ul>
<li>Technology prices are decreasing.</li>
<li>Gas prices are increasing.</li>
<li>The price of entertainment is up.</li>
<li>The cost of living is going down.</li>
<li>The cost of education is going up.</li>
<li>Food prices are down.</li>
</ul>
<h3 id="4-3-adverbs-with-â€˜-lyâ€™-or-â€˜-ilyâ€™"><a href="#4-3-adverbs-with-â€˜-lyâ€™-or-â€˜-ilyâ€™" class="headerlink" title="4.3 adverbs with â€˜-lyâ€™ or â€˜-ilyâ€™"></a>4.3 adverbs with â€˜-lyâ€™ or â€˜-ilyâ€™</h3><ul>
<li>The price is decreasing slowly.</li>
<li><p>The price is decreasing quickly.                  </p>
</li>
<li><p>The people in the office are working busily.        </p>
</li>
<li>Heâ€™s walking lazily down the street.                </li>
</ul>
<p>Not all adjectives can be turned into adverbs with -ly. Here are three important examples:</p>
<p><code>good &gt; well,  fast &gt; fast,  hard &gt; hard</code></p>
<ul>
<li>He is doing well in school.                        </li>
<li>Gas prices are going up fast.</li>
<li>She studies really hard.</li>
</ul>
<ul>
<li>People canâ€™t pay for it easily.</li>
</ul>
<h3 id="4-4-reading"><a href="#4-4-reading" class="headerlink" title="4.4 reading"></a>4.4 reading</h3><p>In my country, prices are always increasing. Healthcare and housing costs are going up fast. Prices for food are also increasing, but more slowly. People live well, but the cost of living is difficult. The good news is that technology prices are decreasing. I want to buy a new tablet computer, but itâ€™s too expensive right now.</p>
<h3 id="4-5-writing"><a href="#4-5-writing" class="headerlink" title="4.5 writing"></a>4.5 writing</h3><p>In my country, the price of everything is going up. Housing is very expensive, and the price of gasoline is increasing quickly. I donot know how people do it. The cost of living is very difficult. Transportation and food are not expensive, but they are going up. I need a good job.</p>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[Holidays and celebrations]]></title>
      <url>http://iequa.com/2017/05/16/ef-l3u4-Holidays-and-celebrations/</url>
      <content type="html"><![CDATA[<style>
img {
        display: block !important;
        width: 550px;
        margin-left: 120px !important;
}
</style>


<ul>
<li>soda</li>
<li>snacks [snÃ¦ks]</li>
<li>dancing</li>
<li>wine  [waÉªn] </li>
</ul>
<h2 id="1-Inviting-someone-to-a-party"><a href="#1-Inviting-someone-to-a-party" class="headerlink" title="1. Inviting someone to a party"></a>1. Inviting someone to a party</h2><p><img src="/images/english/ef-l3u4l1.png" alt=""></p>
<table>
<thead>
<tr>
<th><strong>Dialog</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td>A: Hi, Mona. What are you doing  tonight?</td>
<td></td>
</tr>
<tr>
<td>B: Umm, Iâ€™m going to the gym in an hour. Why?</td>
<td></td>
</tr>
<tr>
<td>A: Iâ€™m having people over for a little birthday party at seven.</td>
<td></td>
</tr>
<tr>
<td>B: Happy birthday! Iâ€™d love to come. And I know the perfect gift for you.</td>
<td></td>
</tr>
<tr>
<td>A: Thanks! Paulâ€™s making  a big chocolate cake later.</td>
<td></td>
</tr>
<tr>
<td>B: Ooh, cake! I can bring some snacks, or wine and sodas.</td>
<td></td>
</tr>
</tbody>
</table>
<ul>
<li>Are you going to that party on Wednesday?</li>
<li>Iâ€™m getting together with some friends in an hour.</li>
<li>Weâ€™re having some friends <code>over to dinner later</code>.</li>
<li>Sheâ€™s making the cake tomorrow.<br>&nbsp;</li>
<li>Are you free on Sunday?</li>
<li>Would you like to come to a party?<br>&nbsp;</li>
<li>What time should I come?</li>
<li>Thanks for the invitation</li>
<li>Iâ€™m afraid Iâ€™m busy.</li>
</ul>
<h2 id="2-Talking-with-people-at-a-party"><a href="#2-Talking-with-people-at-a-party" class="headerlink" title="2. Talking with people at a party"></a>2. Talking with people at a party</h2><p><img src="/images/english/ef-l3u4l2.png" alt=""></p>
<table>
<thead>
<tr>
<th><strong>Dialog</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td>[SALLY] Hey, Todd. Thanks for coming.</td>
<td></td>
</tr>
<tr>
<td>[TODD] <code>Thanks for inviting me</code>! Itâ€™s a great party.</td>
<td></td>
</tr>
<tr>
<td>[SALLY] Howâ€™s your wife feeling?</td>
<td></td>
</tr>
<tr>
<td>[TODD] poor Angela. She had a cold.</td>
<td></td>
</tr>
<tr>
<td>[SALLY] Iâ€™m sorry to hear that. Give her my best.</td>
<td></td>
</tr>
<tr>
<td>[TODD] I will. So, whatâ€™s happening with you?.</td>
<td></td>
</tr>
<tr>
<td>[SALLY] not much. Iâ€™m going to the birthday party next week, My grandmotherâ€™s 87.</td>
<td></td>
</tr>
<tr>
<td>[TODD] Eighty-seven! Thatâ€™s amazing.</td>
<td></td>
</tr>
<tr>
<td>[SALLY] yep, it is. <code>What about you? Anything new?</code></td>
<td></td>
</tr>
<tr>
<td>[TODD] Well, Take my wife go to the bangkok.</td>
<td></td>
</tr>
<tr>
<td>[SALLY] Wow! That sounds wonderful!</td>
<td></td>
</tr>
<tr>
<td>[TODD] Angela is sick. I should go.</td>
<td></td>
</tr>
<tr>
<td>[SALLY] I understand. <code>Thanks again for the coming</code>.</td>
<td></td>
</tr>
<tr>
<td>[TODD] Bye! Have a good evening. Thanks for the party! See you soon.</td>
<td></td>
</tr>
</tbody>
</table>
<h3 id="2-1-party-expressions"><a href="#2-1-party-expressions" class="headerlink" title="2.1 party expressions"></a>2.1 party expressions</h3><ul>
<li>Thanks for coming to the party.</li>
<li>Thanks for having this party.</li>
<li>Anything new?</li>
<li>Great snacks. Do you enjoy cooking?</li>
<li>How are you feeling?<br>&nbsp;</li>
<li>That sounds incredible.   [Éªnâ€™kredÉªb(É™)l] ï¼ŒæƒŠäººçš„ </li>
<li>Thatâ€™s awful!<br>&nbsp;</li>
<li>Itâ€™s late. I should go.</li>
<li>Say hello to Jose. (å‘è‹¥æ³½é—®å¥½)</li>
<li>Thanks for the amazing party!</li>
</ul>
<h2 id="3-Discussing-vacation-plans"><a href="#3-Discussing-vacation-plans" class="headerlink" title="3. Discussing vacation plans"></a>3. Discussing vacation plans</h2><ul>
<li>tickets</li>
<li>film festival</li>
<li>films</li>
<li>parade [pÉ™ËˆreÉªd]</li>
<li>costume  [â€˜kÉ’stjuËm] n. æœè£…</li>
<li>entertaining [entÉ™â€™xteÉªnÉªÅ‹]</li>
<li>crowded [â€˜kraÊŠdÉªd]<br>&nbsp;</li>
<li>What are you going to do?</li>
<li>Iâ€™m going to go to the film festival.</li>
<li>How many films are you going to see?</li>
<li>Are you going to drive there?</li>
<li>Iâ€™m going to take the train.</li>
<li>Hmm. What are you going to do after that?</li>
</ul>
<p>A: Which costume are you going to wear?<br>B: Let me see â€¦ The red one, I think.</p>
<p>A: Is the festival going to be crowded?<br>B: Hmm â€¦ I donâ€™t know.</p>
<p><img src="/images/english/ef-l3u4l3.png" alt=""></p>
<table>
<thead>
<tr>
<th><strong>Dialog</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td>A: Hi</td>
<td></td>
</tr>
<tr>
<td>B: I and my parents are going to go on vacaton.</td>
<td></td>
</tr>
<tr>
<td>A: you go on the vacation. Great! where are you going?</td>
<td></td>
</tr>
<tr>
<td>B: Iâ€™m going to travel to Scotland.</td>
<td></td>
</tr>
<tr>
<td>A: Nice, What are you doing to do there?</td>
<td></td>
</tr>
<tr>
<td>B: Iâ€™m going to see 7 films and 4 night</td>
<td></td>
</tr>
<tr>
<td>A: Fantastic! Thatâ€™s a lot movies.</td>
<td></td>
</tr>
<tr>
<td>B: Iâ€™m going to the mountains. Itâ€™s beatiful.</td>
<td></td>
</tr>
<tr>
<td>B: We are going to go skiing.</td>
<td></td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr>
<th><strong>Dialog</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td>DONALD: Iâ€™m going to the Fresh Film Festival  this summer.</td>
<td></td>
</tr>
<tr>
<td>LIZA: Sounds like fun. What films are you seeing?</td>
<td></td>
</tr>
<tr>
<td>DONALD: Lots. Look â€“ there are hundreds in the program  .</td>
<td></td>
</tr>
<tr>
<td>LIZA: Are the tickets expensive?</td>
<td></td>
</tr>
<tr>
<td>DONALD: Fifty dollars. But there are so many different events.</td>
<td></td>
</tr>
<tr>
<td>LIZA: What? Youâ€™re paying Fifty dollars a ticket? Sounds very entertaining.</td>
<td></td>
</tr>
<tr>
<td>DONALD: Yeah. Thereâ€™s a big parade  on the first night. It has about a thousand people.</td>
<td></td>
</tr>
</tbody>
</table>
<p>LIZA: What are you going to do at the festival?<br>DONALD: We are going to dance in the parade.</p>
<h3 id="3-1-expressions"><a href="#3-1-expressions" class="headerlink" title="3.1 expressions"></a>3.1 expressions</h3><ul>
<li>Iâ€™m going to an exciting festival.</li>
<li>Theyâ€™re showing films from many countries.</li>
<li>I know! The festival is a lot of fun.</li>
<li>Exactly. A good film is very entertaining.<br>&nbsp;</li>
<li>There are some cool events this weekend</li>
<li>People are wearing costumes</li>
<li>Thereâ€™s a long parade with music and dancing.</li>
<li>I enjoy watching the fireworks.<br>&nbsp;</li>
<li>Wow! This place is really crowded.<br>&nbsp;</li>
</ul>
<h2 id="4-Describing-a-holiday-or-celebration"><a href="#4-Describing-a-holiday-or-celebration" class="headerlink" title="4. Describing a holiday or celebration"></a>4. Describing a holiday or celebration</h2><ul>
<li>partying</li>
<li>Diwali [diËËˆwÉ‘Ëli]</li>
<li>celebrate</li>
<li>How long does Carnaval last for?</li>
<li>The big events last four days.</li>
<li>We usually party for a week.</li>
</ul>
<p><img src="/images/english/ef-l3u4l4.png" alt=""></p>
<table>
<thead>
<tr>
<th><strong>Dialog main</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td>A: Hi,Sorry, we areâ€¦</td>
<td></td>
</tr>
<tr>
<td>B: How are take? I like music.</td>
<td></td>
</tr>
<tr>
<td>A: Yup. Itâ€™s summer. you know everybody celebrate it right now</td>
<td></td>
</tr>
<tr>
<td>B: Itâ€™s Carnaval.</td>
<td></td>
</tr>
<tr>
<td>A: Carnaval.</td>
<td></td>
</tr>
<tr>
<td>C: How do you celebrate?</td>
<td></td>
</tr>
<tr>
<td>A: Some my friends are come to school.</td>
<td></td>
</tr>
<tr>
<td>C: Sounds good !</td>
<td></td>
</tr>
<tr>
<td>B: How long does Carnaval last?</td>
<td></td>
</tr>
<tr>
<td>A: The big events <strong>last</strong> a few days, We usually party for a week.</td>
<td></td>
</tr>
</tbody>
</table>
<h3 id="4-1-expressions"><a href="#4-1-expressions" class="headerlink" title="4.1 expressions"></a>4.1 expressions</h3><ul>
<li>How long does it take to walk from the hotel to the parade? </li>
<li>It takes a half-hour.<br>&nbsp;</li>
<li>The big events <strong>last</strong> four days</li>
<li>We celebrate <strong>for</strong> a week.</li>
<li>I party a lot <strong>during</strong> the summer.</li>
<li>What do you do <strong>during</strong> Carnaval?<br>&nbsp;</li>
<li>How long does it <strong>take to walk</strong>?</li>
<li>I usually visit my family <strong>for</strong> 10 days.</li>
<li>We celebrate <strong>for</strong> a week.</li>
</ul>
<table>
<thead>
<tr>
<th><strong>Dialog two</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td>LEAH: How long does the Sun Festival last ?</td>
<td></td>
</tr>
<tr>
<td>JASON: It lasts, um, six days.</td>
<td></td>
</tr>
<tr>
<td>LEAH: What do you do <strong>during</strong> the festival?</td>
<td></td>
</tr>
<tr>
<td>JASON: Letâ€™s see â€¦ We eat and dance <strong>for</strong> a week. We celebrate the sun â€¦</td>
<td></td>
</tr>
<tr>
<td>LEAH: Sounds fantastic  .</td>
<td></td>
</tr>
<tr>
<td>JASON: Definitely. Iâ€™m going to make my own costume this year.</td>
<td></td>
</tr>
<tr>
<td>LEAH: Wow! How long does it <strong>take</strong> to make a costume?</td>
<td></td>
</tr>
<tr>
<td>JASON: Iâ€™m slow. It <code>takes</code> me about three weeks.</td>
<td></td>
</tr>
</tbody>
</table>
<h3 id="4-2-asking-about-a-holiday-or-celebration"><a href="#4-2-asking-about-a-holiday-or-celebration" class="headerlink" title="4.2 asking about a holiday or celebration"></a>4.2 asking about a holiday or celebration</h3><ul>
<li>A: How do you celebrate New Yearâ€™s?</li>
<li>B: We usually watch the big fireworks show.</li>
<li>A: What do people usually do? </li>
<li>B: They usually have a big meal.<br>&nbsp;</li>
<li>A: How long does the holiday last?</li>
<li>B: People usually celebrate for six nights. </li>
<li>A: What do people do during the festival?</li>
<li>B: They dance and sing songs.</li>
</ul>
<h3 id="4-3-adjectives"><a href="#4-3-adjectives" class="headerlink" title="4.3 adjectives"></a>4.3 adjectives</h3><ul>
<li>special - ordinary </li>
<li>entertaining - dull </li>
<li>funny - serious</li>
<li>colorful - colorless     </li>
<li>gorgeous [â€˜gÉ”ËdÊ’É™s] - hideous  [â€˜hÉªdÉªÉ™s]</li>
<li>popular - unpopular </li>
<li>noisy - quiet</li>
<li>crowded - empty </li>
</ul>
<h3 id="4-4-writing"><a href="#4-4-writing" class="headerlink" title="4.4 writing"></a>4.4 writing</h3><p>The Sziget Festival is my favorite. This big festival lasts for 4 days, The Sziget Festival is a special place with a forest. There are 10 entertaining, crowded events every day. They have popular music and art exhibitions. People usually camp in the forest and have great fun.</p>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[Spark ALS]]></title>
      <url>http://iequa.com/2017/05/07/spark-ALS/</url>
      <content type="html"><![CDATA[<p><a href="http://spark.apache.org/examples.html" target="_blank" rel="external">Spark.apache.org</a><br><a href="http://blog.javachen.com/2015/06/07/spark-configuration.html" target="_blank" rel="external">Java Chen Spark</a></p>
<p>ä»¥ä¸‹ä¸ºæ‰‹åŠ¨è®¡ç®—æµç¨‹ :</p>
<h3 id="4-2-å¯åŠ¨-spark-shell"><a href="#4-2-å¯åŠ¨-spark-shell" class="headerlink" title="4.2 å¯åŠ¨ spark-shell"></a>4.2 å¯åŠ¨ spark-shell</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">SPARK_CLASSPATH=/opt/cloudera/parcels/CDH/lib/sqoop/mysql-connector-java-5.1.40.jar spark-shell</span><br></pre></td></tr></table></figure>
<h3 id="4-3-è¾“å…¥è¾“å‡º-ç›¸å…³å˜é‡"><a href="#4-3-è¾“å…¥è¾“å‡º-ç›¸å…³å˜é‡" class="headerlink" title="4.3 è¾“å…¥è¾“å‡º:ç›¸å…³å˜é‡"></a>4.3 è¾“å…¥è¾“å‡º:ç›¸å…³å˜é‡</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">val inputTable = <span class="string">"mds_user_coupon_bhv"</span></span><br><span class="line">val inputUrl = <span class="string">"jdbc:mysql://192.168.xxx.xx:3306/com_profile?user=your_name&amp;password=your_password"</span></span><br><span class="line">val outputTable = <span class="string">"mds_rs_shop_coupon_tmp"</span></span><br></pre></td></tr></table></figure>
<h3 id="4-4-æ ¸å¿ƒç¨‹åºä»£ç "><a href="#4-4-æ ¸å¿ƒç¨‹åºä»£ç " class="headerlink" title="4.4 æ ¸å¿ƒç¨‹åºä»£ç "></a>4.4 æ ¸å¿ƒç¨‹åºä»£ç </h3><figure class="highlight"><table><tr><td class="code"><pre><span class="line">package com.x.rs.service</span><br><span class="line"></span><br><span class="line">import java.text.SimpleDateFormat</span><br><span class="line">import java.util.Date</span><br><span class="line">import java.util.Properties</span><br><span class="line"></span><br><span class="line">import org.apache.spark.sql.Row</span><br><span class="line">import org.apache.spark.sql.types._</span><br><span class="line"></span><br><span class="line">import org.apache.spark.&#123;SparkConf, SparkContext&#125;</span><br><span class="line"></span><br><span class="line">import org.apache.spark.mllib.recommendation.&#123;ALS, Rating&#125;</span><br><span class="line"></span><br><span class="line">/**</span><br><span class="line">  * Date : 2017-04-20</span><br><span class="line">  * Author : Blair Chan</span><br><span class="line">  */</span><br><span class="line">object RsCouponCalc &#123;</span><br><span class="line">  def main(args: Array[String]) &#123;</span><br><span class="line"></span><br><span class="line">    println("start...")</span><br><span class="line"></span><br><span class="line">    if (args.length &lt; 3) &#123;</span><br><span class="line">      System.err.println("Usage: &lt;file&gt;")</span><br><span class="line">      System.exit(1)</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    val inputTable = args(0) // Should be some file on your system // conf = new SparkConf().setAppName(appName).setMaster("local");</span><br><span class="line">    val inputUrl = args(1)</span><br><span class="line">    val outputTable = args(2)</span><br><span class="line"></span><br><span class="line">    val conf = new SparkConf().setAppName("SparkRsOne");</span><br><span class="line">    val sc = new SparkContext(conf)</span><br><span class="line">    val sqlContext = new org.apache.spark.sql.SQLContext(sc)</span><br><span class="line"></span><br><span class="line">    //    val rawData = sc.textFile(inputFile)</span><br><span class="line">    //    val rawRatings = rawData.map(_.split("\t").take(3))</span><br><span class="line"></span><br><span class="line">    val url = inputUrl</span><br><span class="line">    val prop = new Properties()</span><br><span class="line"></span><br><span class="line">    val dfForRawData = sqlContext.read.jdbc(url, inputTable, prop)</span><br><span class="line"></span><br><span class="line">    val ratings_tmp = dfForRawData.map &#123; row =&gt; (row(1).toString().toInt, row(4).toString().toInt, row(6).toString().toDouble) &#125;</span><br><span class="line"></span><br><span class="line">    val ratings = ratings_tmp.map &#123; case (uid, couponId, rating) =&gt; Rating(uid.toInt, couponId.toInt, rating.toDouble) &#125;</span><br><span class="line"></span><br><span class="line">    val model = ALS.train(ratings, 50, 10, 0.01)</span><br><span class="line"></span><br><span class="line">    model.userFeatures.count</span><br><span class="line"></span><br><span class="line">    val K = 10</span><br><span class="line"></span><br><span class="line">    model.recommendProductsForUsers(K)</span><br><span class="line"></span><br><span class="line">    val originResultRdd1 = model.recommendProductsForUsers(K)</span><br><span class="line"></span><br><span class="line">    val curDate = new Date()</span><br><span class="line">    val createDateString = new SimpleDateFormat("yyyy-MM-dd").format(curDate)</span><br><span class="line"></span><br><span class="line">    val originResultRdd2 = originResultRdd1.map(tuple =&gt; &#123;</span><br><span class="line">      val uid = tuple._1</span><br><span class="line">      val product = tuple._2.map &#123; case Rating(user, product, score) =&gt; (product.toString, score.toString) &#125;</span><br><span class="line">      (uid, product)</span><br><span class="line">    &#125;).flatMap &#123;</span><br><span class="line">      case (uid, product) =&gt; &#123;</span><br><span class="line">        product.map &#123; case (itemId, score) =&gt; Row.apply(uid.toLong, itemId.toString, score.toDouble, createDateString.toString) &#125;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    // println(originResultRdd2.first())</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    val schema = StructType(</span><br><span class="line">      StructField("uid", LongType) ::</span><br><span class="line">        StructField("coupon_id", LongType) ::</span><br><span class="line">        StructField("score", DoubleType) ::</span><br><span class="line">        StructField("calc_date", StringType) :: Nil)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    val df = sqlContext.createDataFrame(originResultRdd2, schema)</span><br><span class="line"></span><br><span class="line">    df.insertIntoJDBC(url, outputTable, false)</span><br><span class="line">    // è®¾ç½®ä¸º trueï¼Œåˆ™ä¸º åˆ é™¤è¡¨ï¼Œç„¶åè‡ªåŠ¨åˆ›å»ºï¼Œå†æ’å…¥</span><br><span class="line"></span><br><span class="line">    println("end !")</span><br><span class="line"></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<blockquote>
<p>DF é€šè¿‡æ’å…¥ RMDB.  schema å¯ä»¥é€šè¿‡åå°„æ¥ä½¿å¾—ç¨‹åºæ‰©å±•æ€§æé«˜ã€‚</p>
</blockquote>
<p><a href="http://www.cnblogs.com/yaohaitao/articles/5681984.html" target="_blank" rel="external">spark sql internet</a></p>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[Sparkä¹‹è·¯â€”Spark SQLç¼–ç¨‹]]></title>
      <url>http://iequa.com/2017/04/28/spark-SQL/</url>
      <content type="html"><![CDATA[<p>Spark SQLï¼Œå¯å¯¹ä¸åŒæ ¼å¼çš„æ•°æ®æ‰§è¡ŒETLæ“ä½œï¼ˆå¦‚JSONï¼ŒParquetï¼Œæ•°æ®åº“ï¼‰ç„¶åå®Œæˆç‰¹å®šçš„æŸ¥è¯¢æ“ä½œã€‚</p>
<ul>
<li>DataFrame</li>
<li>Data Sources</li>
<li>JDBC Server</li>
</ul>
<p>ä½¿ç”¨Spark SQLæ—¶ï¼Œæœ€ä¸»è¦çš„ä¸¤ä¸ªç»„ä»¶å°±æ˜¯ <strong>DataFrame</strong> å’Œ <strong>SQLContext</strong>ã€‚</p>
<h2 id="1-DataFrame"><a href="#1-DataFrame" class="headerlink" title="1. DataFrame"></a>1. DataFrame</h2><p>DataFrame æ˜¯ä¸€ä¸ªåˆ†å¸ƒå¼çš„ï¼ŒæŒ‰ç…§å‘½ååˆ—çš„å½¢å¼ç»„ç»‡çš„æ•°æ®é›†åˆã€‚DataFrameåŸºäºRè¯­è¨€ä¸­çš„dataframeæ¦‚å¿µï¼Œä¸å…³ç³»å‹æ•°æ®åº“ä¸­çš„æ•°æ®åº“è¡¨ç±»ä¼¼ã€‚</p>
<blockquote>
<p>ä¹‹å‰ç‰ˆæœ¬çš„Spark SQL APIä¸­çš„SchemaRDDå·²ç»æ›´åä¸ºDataFrame</p>
</blockquote>
<p>è°ƒç”¨å°†DataFrameçš„å†…å®¹ä½œä¸ºè¡ŒRDDï¼ˆRDD of Rowsï¼‰è¿”å›çš„<a href="https://spark.apache.org/docs/1.3.0/api/scala/index.html#org.apache.spark.sql.DataFrame" target="_blank" rel="external">rddæ–¹æ³•</a>ï¼Œå¯ä»¥å°†DataFrameè½¬æ¢æˆRDDã€‚</p>
<p><strong>åˆ›å»º DataFrame</strong></p>
<p>å¯ä»¥é€šè¿‡å¦‚ä¸‹ <font color="#c7254e">æ•°æ®æºåˆ›å»º DataFrame</font> : </p>
<ul>
<li>å·²æœ‰çš„RDD</li>
<li>ç»“æ„åŒ–æ•°æ®æ–‡ä»¶</li>
<li>JSONæ•°æ®é›†</li>
<li>Hiveè¡¨</li>
<li>å¤–éƒ¨æ•°æ®åº“</li>
</ul>
<p><strong>DataFrame API</strong></p>
<p>Spark SQLå’ŒDataFrame APIå·²ç»åœ¨ä¸‹è¿°å‡ ç§ç¨‹åºè®¾è®¡è¯­è¨€ä¸­å®ç°ï¼š</p>
<ul>
<li><a href="https://spark.apache.org/docs/1.3.0/api/scala/index.html#org.apache.spark.sql.package" target="_blank" rel="external">Scala DataFrame API</a></li>
<li><a href="https://spark.apache.org/docs/1.3.0/api/java/index.html?org/apache/spark/sql/api/java/package-summary.html" target="_blank" rel="external">Java DataFrame API</a></li>
<li><a href="https://spark.apache.org/docs/1.3.0/api/python/pyspark.sql.html" target="_blank" rel="external">Python DataFrame API</a></li>
</ul>
<h2 id="2-SQLContext"><a href="#2-SQLContext" class="headerlink" title="2. SQLContext"></a>2. SQLContext</h2><p>SQLContextå°è£…Sparkä¸­çš„æ‰€æœ‰å…³ç³»å‹åŠŸèƒ½ã€‚å¯ä»¥ç”¨ä¹‹å‰çš„ç¤ºä¾‹ä¸­çš„ç°æœ‰SparkContextåˆ›å»ºSQLContextã€‚</p>
<figure class="highlight scala"><table><tr><td class="code"><pre><span class="line"><span class="keyword">val</span> sqlContext = <span class="keyword">new</span> org.apache.spark.sql.<span class="type">SQLContext</span>(sc)</span><br></pre></td></tr></table></figure>
<blockquote>
<p><a href="http://spark.apache.org/docs/latest/api/scala/index.html#org.apache.spark.sql.SQLContext" target="_blank" rel="external">SQLContext</a><br><a href="https://spark.apache.org/docs/1.3.0/api/scala/index.html#org.apache.spark.sql.hive.HiveContext" target="_blank" rel="external">HiveContext</a></p>
</blockquote>
<h2 id="3-JDBCæ•°æ®æº"><a href="#3-JDBCæ•°æ®æº" class="headerlink" title="3. JDBCæ•°æ®æº"></a>3. JDBCæ•°æ®æº</h2><p>JDBC æ•°æ®æº å¯ç”¨äºé€šè¿‡JDBC APIè¯»å–å…³ç³»å‹æ•°æ®åº“ä¸­çš„æ•°æ®ã€‚ç›¸æ¯”äºä½¿ç”¨JdbcRDDï¼Œåº”è¯¥å°†JDBCæ•°æ®æºçš„æ–¹å¼ä½œä¸ºé¦–é€‰ï¼Œå› ä¸ºJDBCæ•°æ®æºèƒ½å¤Ÿå°†ç»“æœä½œä¸ºDataFrameå¯¹è±¡è¿”å›ï¼Œç›´æ¥ç”¨Spark SQLå¤„ç†æˆ–ä¸å…¶ä»–æ•°æ®æºè¿æ¥ã€‚</p>
<p>ä¸ºç¡®ä¿Spark Shellç¨‹åºæœ‰è¶³å¤Ÿçš„å†…å­˜ï¼Œå¯ä»¥åœ¨è¿è¡Œspark-shellå‘½ä»¤æ—¶ï¼ŒåŠ å…¥driver-memoryå‘½ä»¤è¡Œå‚æ•°ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">spark-shell.cmd --driver-memory 1G</span><br></pre></td></tr></table></figure>
<h2 id="Ref"><a href="#Ref" class="headerlink" title="Ref"></a>Ref</h2><p><a href="http://www.infoq.com/cn/articles/apache-spark-sql" target="_blank" rel="external">ç”¨Apache Sparkè¿›è¡Œå¤§æ•°æ®å¤„ç†â€”â€”ç¬¬äºŒéƒ¨åˆ†ï¼šSpark SQL</a></p>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[Spark Read Mysql çš„å››ç§æ–¹å¼ (not finish)]]></title>
      <url>http://iequa.com/2017/04/20/spark-read-mysql-four-functions/</url>
      <content type="html"><![CDATA[<p>ç›®å‰ <code>Spark</code> æ”¯æŒå››ç§æ–¹å¼ä»æ•°æ®åº“ä¸­è¯»å–æ•°æ®ï¼Œè¿™é‡Œä»¥ <code>MySQL</code> ä¸ºä¾‹è¿›è¡Œä»‹ç»ã€‚</p>
<h2 id="Startup-spark-shell"><a href="#Startup-spark-shell" class="headerlink" title="Startup spark-shell"></a>Startup spark-shell</h2><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">SPARK_CLASSPATH=/opt/cloudera/parcels/CDH/lib/sqoop/mysql-connector-java-5.1.40.jar spark-shell</span><br></pre></td></tr></table></figure>
<h2 id="1-ä¸æŒ‡å®šæŸ¥è¯¢æ¡ä»¶"><a href="#1-ä¸æŒ‡å®šæŸ¥è¯¢æ¡ä»¶" class="headerlink" title="1. ä¸æŒ‡å®šæŸ¥è¯¢æ¡ä»¶"></a>1. ä¸æŒ‡å®šæŸ¥è¯¢æ¡ä»¶</h2><h3 id="1-1-function-define"><a href="#1-1-function-define" class="headerlink" title="1.1 function define"></a>1.1 function define</h3><figure class="highlight scala"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">jdbc</span></span>(url: <span class="type">String</span>, table: <span class="type">String</span>, properties: <span class="type">Properties</span>): <span class="type">DataFrame</span></span><br></pre></td></tr></table></figure>
<h3 id="1-2-detail-example"><a href="#1-2-detail-example" class="headerlink" title="1.2 detail example"></a>1.2 detail example</h3><figure class="highlight scala"><table><tr><td class="code"><pre><span class="line"><span class="keyword">val</span> url = <span class="string">"jdbc:mysql://192.168.***.**:3306/your_lib_name?user= your_username&amp;password=your_password"</span></span><br><span class="line"><span class="keyword">import</span> java.util.<span class="type">Properties</span></span><br><span class="line"><span class="keyword">val</span> prop = <span class="keyword">new</span> <span class="type">Properties</span>()</span><br><span class="line"><span class="keyword">val</span> df = sqlContext.read.jdbc(url, <span class="string">"mds_user_coupon_bhv"</span>, prop )</span><br><span class="line">println(df.count())</span><br><span class="line">println(df.rdd.partitions.size)</span><br></pre></td></tr></table></figure>
<p>æˆ‘ä»¬è¿è¡Œä¸Šé¢çš„ç¨‹åºï¼Œå¯ä»¥çœ‹åˆ°df.rdd.partitions.sizeè¾“å‡ºç»“æœæ˜¯1ï¼Œè¿™ä¸ªç»“æœçš„å«ä¹‰æ˜¯iteblogè¡¨çš„æ‰€æœ‰æ•°æ®éƒ½æ˜¯ç”±RDDçš„ä¸€ä¸ªåˆ†åŒºå¤„ç†çš„ï¼Œæ‰€ä»¥è¯´ï¼Œå¦‚æœä½ è¿™ä¸ªè¡¨å¾ˆå¤§ï¼Œå¾ˆå¯èƒ½ä¼šå‡ºç°OOM</p>
<blockquote>
<p>Note : è¿™ç§æ–¹å¼åœ¨æ•°æ®é‡å¤§çš„æ—¶å€™ä¸å»ºè®®ä½¿ç”¨ã€‚</p>
</blockquote>
<h2 id="2-æŒ‡å®šæ•°æ®åº“å­—æ®µçš„èŒƒå›´"><a href="#2-æŒ‡å®šæ•°æ®åº“å­—æ®µçš„èŒƒå›´" class="headerlink" title="2. æŒ‡å®šæ•°æ®åº“å­—æ®µçš„èŒƒå›´"></a>2. æŒ‡å®šæ•°æ®åº“å­—æ®µçš„èŒƒå›´</h2><p>è¿™ç§æ–¹å¼å°±æ˜¯é€šè¿‡æŒ‡å®šæ•°æ®åº“ä¸­æŸä¸ªå­—æ®µçš„èŒƒå›´ï¼Œä½†æ˜¯<code>è¿™ä¸ªå­—æ®µå¿…é¡»æ˜¯æ•°å­—</code>ï¼Œæ¥çœ‹çœ‹è¿™ä¸ªå‡½æ•°çš„å‡½æ•°åŸå‹ï¼š</p>
<figure class="highlight scala"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">jdbc</span></span>(</span><br><span class="line">    url: <span class="type">String</span>,</span><br><span class="line">    table: <span class="type">String</span>,</span><br><span class="line">    columnName: <span class="type">String</span>,</span><br><span class="line">    lowerBound: <span class="type">Long</span>,</span><br><span class="line">    upperBound: <span class="type">Long</span>,</span><br><span class="line">    numPartitions: <span class="type">Int</span>,</span><br><span class="line">    connectionProperties: <span class="type">Properties</span>): <span class="type">DataFrame</span></span><br></pre></td></tr></table></figure>
<p>â€¦ not finish</p>
<h2 id="3-æ ¹æ®ä»»æ„å­—æ®µè¿›è¡Œåˆ†åŒº"><a href="#3-æ ¹æ®ä»»æ„å­—æ®µè¿›è¡Œåˆ†åŒº" class="headerlink" title="3. æ ¹æ®ä»»æ„å­—æ®µè¿›è¡Œåˆ†åŒº"></a>3. æ ¹æ®ä»»æ„å­—æ®µè¿›è¡Œåˆ†åŒº</h2><p>â€¦ not finish</p>
<h2 id="4-é€šè¿‡-load-è·å–"><a href="#4-é€šè¿‡-load-è·å–" class="headerlink" title="4. é€šè¿‡ load è·å–"></a>4. é€šè¿‡ load è·å–</h2><figure class="highlight scala"><table><tr><td class="code"><pre><span class="line"><span class="keyword">val</span> df = sqlContext.load(<span class="string">"jdbc"</span>, <span class="type">Map</span>(<span class="string">"url"</span> -&gt; <span class="string">"jdbc:mysql://..."</span>, </span><br><span class="line">              <span class="string">"dbtable"</span> -&gt; <span class="string">"mds_user_coupon_bhv"</span>)</span><br><span class="line">         )</span><br></pre></td></tr></table></figure>
<p>æ¢ä¸€ç§æ›´æ­£å¼çš„å†™æ³•å¦‚ä¸‹ :</p>
<figure class="highlight scala"><table><tr><td class="code"><pre><span class="line"><span class="keyword">val</span> df = sqlContext.read.format(<span class="string">"jdbc"</span>).options(<span class="type">Map</span>(</span><br><span class="line">      <span class="string">"url"</span> -&gt; <span class="string">"jdbc:mysql://192.168.***.**:3306/your_lib_name?user= your_username&amp;password=your_password"</span>,</span><br><span class="line">      <span class="string">"dbtable"</span> -&gt; <span class="string">"mds_user_coupon_bhv"</span>)</span><br><span class="line">   ).load()</span><br></pre></td></tr></table></figure>
<p>optionså‡½æ•°æ”¯æŒurlã€driverã€dbtableã€partitionColumnã€lowerBoundã€upperBoundä»¥åŠnumPartitionsé€‰é¡¹ï¼Œè¿™ä¸ªå’Œæ–¹æ³•äºŒçš„å‚æ•°ä¸€è‡´ã€‚å…¶å†…éƒ¨å®ç°åŸç†éƒ¨åˆ†å’Œæ–¹æ³•äºŒå¤§ä½“ä¸€è‡´ã€‚åŒæ—¶loadæ–¹æ³•è¿˜æ”¯æŒjsonã€orcç­‰æ•°æ®æºçš„è¯»å–ã€‚</p>
<blockquote>
<p>Reading notes</p>
</blockquote>
<h2 id="5-Ref"><a href="#5-Ref" class="headerlink" title="5. Ref"></a>5. Ref</h2><blockquote>
<p>å°Šé‡åŸåˆ›ï¼Œè½¬è½½è¯·æ³¨æ˜ï¼š è½¬è½½è‡ªè¿‡å¾€è®°å¿†ï¼ˆ<a href="http://www.iteblog.com/ï¼‰" target="_blank" rel="external">http://www.iteblog.com/ï¼‰</a> </p>
</blockquote>
<p><a href="http://blog.csdn.net/mlljava1111/article/details/50432569" target="_blank" rel="external">Spark Read Mysql-csdn</a></p>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[New Mac Install Brew Iterm Zsh]]></title>
      <url>http://iequa.com/2017/03/22/ops-new-macosx-install-soft/</url>
      <content type="html"><![CDATA[<h2 id="1-install-homebrew"><a href="#1-install-homebrew" class="headerlink" title="1. install homebrew"></a>1. install homebrew</h2><p>Mac ä¸‹é¢çš„åŒ…ç®¡ç†å·¥å…·ï¼Œé€šè¿‡ Github æ‰˜ç®¡é€‚åˆ Mac çš„ç¼–è¯‘é…ç½®ä»¥åŠ Patchï¼Œå¯ä»¥æ–¹ä¾¿çš„å®‰è£…å¼€å‘å·¥å…·ã€‚</p>
<p>Mac è‡ªå¸¦ruby æ‰€ä»¥å®‰è£…èµ·æ¥å¾ˆæ–¹ä¾¿ï¼ŒåŒæ—¶å®ƒä¹Ÿä¼šè‡ªåŠ¨æŠŠgitä¹Ÿç»™ä½ è£…ä¸Šã€‚</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">/usr/bin/ruby <span class="_">-e</span> <span class="string">"<span class="variable">$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/master/install)</span>"</span></span><br></pre></td></tr></table></figure>
<blockquote>
<p>å®‰è£…è¿‡ç¨‹å¯èƒ½ä¼šæœ‰ç‚¹æ…¢ï¼Œå®Œæˆä¹‹åï¼Œå»ºè®®æ‰§è¡Œä¸€ä¸‹è‡ªæ£€ï¼Œbrew doctor<br>çœ‹åˆ°<br>Your system is ready to brew.<br>é‚£ä¹ˆæ­å–œä½ çš„ brew å·²ç»å¯ä»¥å¼€å§‹ä½¿ç”¨äº†ã€‚</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">brew install wget tree</span><br></pre></td></tr></table></figure>
<hr>
<p>brew å¸¸ç”¨å‘½ä»¤ï¼š ï¼ˆæ‰€æœ‰è½¯ä»¶ä»¥PHP5.5ä¸ºä¾‹å­ï¼‰</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">brew update                        <span class="comment">#æ›´æ–°brewå¯å®‰è£…åŒ…ï¼Œå»ºè®®æ¯æ¬¡æ‰§è¡Œä¸€ä¸‹</span></span><br><span class="line">brew search php55                  <span class="comment">#æœç´¢php5.5</span></span><br><span class="line">brew tap josegonzalez/php          <span class="comment">#å®‰è£…æ‰©å±•&lt;gihhub_user/repo&gt; </span></span><br><span class="line">brew tap                          <span class="comment">#æŸ¥çœ‹å®‰è£…çš„æ‰©å±•åˆ—è¡¨</span></span><br><span class="line">brew install php55                <span class="comment">#å®‰è£…php5.5</span></span><br><span class="line">brew remove  php55                <span class="comment">#å¸è½½php5.5</span></span><br><span class="line">brew upgrade php55                <span class="comment">#å‡çº§php5.5</span></span><br><span class="line">brew options php55                <span class="comment">#æŸ¥çœ‹php5.5å®‰è£…é€‰é¡¹</span></span><br><span class="line">brew info    php55                <span class="comment">#æŸ¥çœ‹php5.5ç›¸å…³ä¿¡æ¯</span></span><br><span class="line">brew home    php55                <span class="comment">#è®¿é—®php5.5å®˜æ–¹ç½‘ç«™</span></span><br><span class="line">brew services list                <span class="comment">#æŸ¥çœ‹ç³»ç»Ÿé€šè¿‡ brew å®‰è£…çš„æœåŠ¡</span></span><br><span class="line">brew services cleanup              <span class="comment">#æ¸…é™¤å·²å¸è½½æ— ç”¨çš„å¯åŠ¨é…ç½®æ–‡ä»¶</span></span><br><span class="line">brew services restart php55        <span class="comment">#é‡å¯php-fpm</span></span><br><span class="line"> </span><br><span class="line">æ³¨æ„ï¼šbrew services ç›¸å…³å‘½ä»¤æœ€å¥½åˆ«ç»å¸¸ç”¨äº†ï¼Œæç¤ºä¼šè¢«ç§»é™¤</span><br></pre></td></tr></table></figure>
<h2 id="2-install-zsh"><a href="#2-install-zsh" class="headerlink" title="2. install zsh"></a>2. install zsh</h2><p>ohmyzsh &amp; iTerm2 ä¸¤ä¸ªç¥å™¨ï¼Œåœ¨Mac os xä¸‹æ˜¯ä¸€å®šè¦è£…çš„. </p>
<h3 id="2-1-install-onmyzsh"><a href="#2-1-install-onmyzsh" class="headerlink" title="2.1 install onmyzsh"></a>2.1 install onmyzsh</h3><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">curl -L http://install.ohmyz.sh | sh</span><br></pre></td></tr></table></figure>
<h3 id="2-2-install-zsh"><a href="#2-2-install-zsh" class="headerlink" title="2.2 install zsh"></a>2.2 install zsh</h3><p>åœ¨ Terminal ä¸‹ï¼Œç›´æ¥æ•² zsh.</p>
<blockquote>
<p>ä¸‹é¢è¯·æš‚æ—¶å¿½ç•¥ </p>
</blockquote>
<hr>
<p>è®¾ç½®é»˜è®¤shell</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">cat /etc/shells </span><br><span class="line"># List of acceptable shells for chpass(1). </span><br><span class="line"># Ftpd will not allow users to connect who are not using </span><br><span class="line"># one of these shells. /bin/bash /bin/csh /bin/ksh /bin/sh /bin/tcsh /bin/zsh zsh --version zsh 5.0.2 (x86_64-apple-darwin13.0) chsh -s /bin/zsh</span><br></pre></td></tr></table></figure>
<p>è™½ç„¶Macè‡ªå¸¦äº†zshï¼Œå¦‚æœä½ æƒ³è¦æœ€æ–°ç‰ˆçš„zshï¼Œé‚£ä¹ˆä½ ç”¨ brew install zshå®‰è£…ä¸€ä¸ªæœ€æ–°çš„å§ã€‚</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">/usr/local/bin/zsh --version</span><br></pre></td></tr></table></figure>
<p>zsh 5.0.5 (x86_64-apple-darwin13.3.0) åŒºåˆ«ä¹Ÿä¸ä¼šå¾ˆå¤§ï¼Œ é»˜è®¤çš„ç‰ˆæœ¬å·²ç»å¾ˆæ–°äº†ã€‚  </p>
<p>å®‰è£…åæœ€å¥½å¤‡ä»½ : cp ~/.zshrc ~/.zshrc.orig</p>
<h2 id="3-homebrew-cask"><a href="#3-homebrew-cask" class="headerlink" title="3. homebrew-cask"></a>3. homebrew-cask</h2><p>install brew cask</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">brew tap phinze/homebrew-cask</span><br></pre></td></tr></table></figure>
<p>caskå¸¸ç”¨å‘½ä»¤ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">brew cask search        #åˆ—å‡ºæ‰€æœ‰å¯ä»¥è¢«å®‰è£…çš„è½¯ä»¶</span><br><span class="line">brew cask search php    #æŸ¥æ‰¾æ‰€æœ‰å’Œphpç›¸å…³çš„åº”ç”¨</span><br><span class="line">brew cask list          #åˆ—å‡ºæ‰€æœ‰é€šè¿‡caskå®‰è£…çš„è½¯ä»¶</span><br><span class="line">brew cask info phpstorm #æŸ¥çœ‹ phpstorm çš„ä¿¡æ¯</span><br><span class="line">brew cask uninstall qq  #å¸è½½ QQ</span><br></pre></td></tr></table></figure>
<blockquote>
<p>brew cask install sublime-text</p>
</blockquote>
<p>è¿™é‡Œè°ˆè°ˆcaskå¯¹æ¯”Mac App Storeçš„ä¼˜åŠ¿ï¼š</p>
<ul>
<li>å¯¹å¸¸ç”¨è½¯ä»¶æ”¯æŒæ›´å…¨é¢ï¼ˆç‰¹åˆ«æ˜¯å¼€å‘è€…ï¼‰ï¼Œcaské‡Œé¢ä¼šç»™ä½ ä¸€äº›æƒŠå–œï¼›</li>
<li>è½¯ä»¶æ›´æ–°é€Ÿåº¦å¿«ï¼Œä¸€èˆ¬éƒ½æ˜¯æœ€æ–°ç‰ˆæœ¬ Storeä¸Šå¾ˆä¹…å¾ˆä¹…æ‰ä¼šæ›´æ–°ç‰ˆæœ¬ï¼›</li>
<li>å‘½ä»¤å®‰è£…æ„Ÿè§‰æ¯”æ‰“å¼€Storeæ–¹ä¾¿ï¼Œå¦å¤–Storeåœ¨å›½å†…çš„é€Ÿåº¦ä¹Ÿæ˜¯XXOOã€‚</li>
</ul>
<blockquote>
<p>homebrew-cask ä½ å¯ä»¥å…ˆä¸å®‰è£…</p>
</blockquote>
<h2 id="4-iterm2"><a href="#4-iterm2" class="headerlink" title="4. iterm2"></a>4. iterm2</h2><p> <a href="https://www.iterm2.com/" target="_blank" rel="external">https://www.iterm2.com/</a></p>
<h2 id="5-SimpleHTTPServer"><a href="#5-SimpleHTTPServer" class="headerlink" title="5. SimpleHTTPServer"></a>5. SimpleHTTPServer</h2><p>A computer</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">python -m SimpleHTTPServer</span><br></pre></td></tr></table></figure>
<p>B computer</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">wget http://192.168.xx.xx:8000/your-filename</span><br></pre></td></tr></table></figure>
<blockquote>
<p>nc ç‘å£«å†›åˆ€ï¼Œä¹Ÿå¯ä»¥ä¸¤å°ç”µè„‘ä¼ è¾“æ–‡ä»¶</p>
</blockquote>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[Recommendation System - CF]]></title>
      <url>http://iequa.com/2017/02/28/recommendation-six-mouth-CF/</url>
      <content type="html"><![CDATA[<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js"],
    jax: ["input/TeX"],
    tex2jax: {
      inlineMath: [ ['$','$'], ['\\(','\\)'] ],
      displayMath: [ ['$$','$$']],
      processEscapes: true
    }
  });
</script>
<script type="text/javascript" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS_HTML,http://myserver.com/MathJax/config/local/local.js">
</script>


<p>æ¨èç®—æ³•</p>
<ul>
<li>åŸºäºå†…å®¹çš„æ¨è</li>
<li>ååŒè¿‡æ»¤ CF</li>
<li>çŸ©é˜µåˆ†è§£ ä¸ éšè¯­ä¹‰æ¨¡å‹</li>
</ul>
<h2 id="1-æ¨èç³»ç»Ÿ-What"><a href="#1-æ¨èç³»ç»Ÿ-What" class="headerlink" title="1. æ¨èç³»ç»Ÿ What?"></a>1. æ¨èç³»ç»Ÿ What?</h2><h3 id="1-1-æ•°å­¦å®šä¹‰"><a href="#1-1-æ•°å­¦å®šä¹‰" class="headerlink" title="1.1 æ•°å­¦å®šä¹‰"></a>1.1 æ•°å­¦å®šä¹‰</h3><ul>
<li>è®¾ C ä¸ºå…¨ä½“ç”¨æˆ·é›†åˆ</li>
<li>è®¾ S ä¸ºå…¨éƒ¨å•†å“/æ¨èå†…å®¹é›†åˆ</li>
<li>è®¾ u æ˜¯è¯„åˆ¤æŠŠ $s_i$ æ¨è $c_i$ çš„å¥½åè¯„åˆ¤å‡½æ•°</li>
</ul>
<blockquote>
<p>æ¨èæ˜¯å¯¹äº $câˆˆC$ ,æ‰¾åˆ° $sâˆˆS$ ,ä½¿å¾— $u$ æœ€å¤§</p>
</blockquote>
<h3 id="1-2-äººè¯ç‰ˆæœ¬"><a href="#1-2-äººè¯ç‰ˆæœ¬" class="headerlink" title="1.2 äººè¯ç‰ˆæœ¬"></a>1.2 äººè¯ç‰ˆæœ¬</h3><p>æ ¹æ®ç”¨æˆ·çš„ :</p>
<ol>
<li>å†å²è¡Œä¸º</li>
<li>ç¤¾äº¤å…³ç³»</li>
<li>å…´è¶£ç‚¹</li>
<li>ä¸Šä¸‹æ–‡ç¯å¢ƒ</li>
<li>â€¦</li>
</ol>
<blockquote>
<p>å»åˆ¤æ–­ç”¨æˆ·çš„å½“å‰éœ€æ±‚ / æ„Ÿå…´è¶£çš„ Item</p>
</blockquote>
<h2 id="2-æ¨èç³»ç»Ÿ-Why"><a href="#2-æ¨èç³»ç»Ÿ-Why" class="headerlink" title="2. æ¨èç³»ç»Ÿ Why?"></a>2. æ¨èç³»ç»Ÿ Why?</h2><p>Infomation Overload<br>ç”¨æˆ·éœ€æ±‚ä¸æ˜ç¡®</p>
<h3 id="2-1-å¯¹ç”¨æˆ·"><a href="#2-1-å¯¹ç”¨æˆ·" class="headerlink" title="2.1 å¯¹ç”¨æˆ·"></a>2.1 å¯¹ç”¨æˆ·</h3><ul>
<li>æ‰¾åˆ°å¥½ç©çš„ä¸œè¥¿</li>
<li>å‘ç°æ–°é²œäº‹ç‰© Surprise</li>
</ul>
<h3 id="2-2-å¯¹å•†å®¶"><a href="#2-2-å¯¹å•†å®¶" class="headerlink" title="2.2 å¯¹å•†å®¶"></a>2.2 å¯¹å•†å®¶</h3><ul>
<li>ä¸ªæ€§åŒ–æœåŠ¡ã€æé«˜ç²˜æ€§</li>
<li>å¢åŠ è¥æ”¶</li>
</ul>
<h2 id="3-è¯„å®šæ ‡å‡†"><a href="#3-è¯„å®šæ ‡å‡†" class="headerlink" title="3. è¯„å®šæ ‡å‡†"></a>3. è¯„å®šæ ‡å‡†</h2><ul>
<li>å‡†ç¡®åº¦</li>
<li>è¦†ç›–åº¦</li>
<li>å¤šæ ·æ€§</li>
<li>è¯„ä¼°æ ‡å‡†</li>
</ul>
<h3 id="3-1-å‡†ç¡®åº¦-Top-N"><a href="#3-1-å‡†ç¡®åº¦-Top-N" class="headerlink" title="3.1 å‡†ç¡®åº¦ Top N"></a>3.1 å‡†ç¡®åº¦ Top N</h3><p>è®¾ $R(u)$ ä¸ºæ ¹æ®è®­ç»ƒå»ºç«‹çš„æ¨¡å‹åœ¨æµ‹è¯•é›†ä¸Šçš„æ¨è, $T(u)$ ä¸ºæµ‹è¯•é›†ä¸Šç”¨æˆ·çš„é€‰æ‹©ã€‚</p>
<p>$$<br>Precision =  \frac{\sum_{uâˆˆU} | R(u) \bigcap T(u) | }{\sum_{uâˆˆU} R(u)}<br>$$</p>
<p>$$<br>Recall =  \frac{\sum_{uâˆˆU} | R(u) \bigcap T(u) | }{\sum_{uâˆˆU} T(u)}<br>$$</p>
<blockquote>
<p>Recall è¯´æ˜ : ç”¨æˆ·çœ‹çš„ 80 ç¯‡æ–°é—»ï¼Œä½ åˆ°åº•ç»™æˆ‘ <code>æ¨</code> å‡ºæ¥å¤šå°‘ç¯‡</p>
</blockquote>
<h3 id="3-2-è¦†ç›–ç‡"><a href="#3-2-è¦†ç›–ç‡" class="headerlink" title="3.2 è¦†ç›–ç‡"></a>3.2 è¦†ç›–ç‡</h3><p>è¡¨ç¤ºå¯¹ç‰©å“é•¿å°¾çš„å‘æ˜èƒ½åŠ› (æ¨èç³»ç»Ÿå¸Œæœ›æ¶ˆé™¤é©¬å¤ªæ•ˆåº”)</p>
<p>$$<br>Coverage = \frac{|U_{uâˆˆU} R(u)|}{|I|}<br>$$</p>
<blockquote>
<p>è¦†ç›–ç‡æ˜¯å¯¹å¹³å°æ‰€æœ‰ç‰©å“æ‰€è¨€ï¼Œæ·˜å®æ¨èç­‰ä¼šå…³åˆ‡è¿™ä¸ªæŒ‡æ ‡ã€‚</p>
<p>éå¸¸ç‹¬ç‰¹çš„å•†å“å’Œæ–°é—», è¢«çœ‹åˆ°çš„é‡, æ˜¯ä¸€æ¡ä¸‹æ»‘æ›²çº¿</p>
<p>å¸Œæœ›ä¸ªæ€§åŒ–æ¨èï¼ŒæŠŠå°ä¼—çš„å•†å“ ä¹Ÿæ¨èå±•ç¤ºå‡ºæ¥</p>
</blockquote>
<h3 id="3-3-å¤šæ ·æ€§"><a href="#3-3-å¤šæ ·æ€§" class="headerlink" title="3.3 å¤šæ ·æ€§"></a>3.3 å¤šæ ·æ€§</h3><p>è¡¨ç¤ºæ¨èåˆ—è¡¨ä¸­ç‰©å“ä¸¤ä¸¤ä¹‹é—´çš„ä¸ç›¸ä¼¼æ€§.</p>
<p>$$<br>Diversity(R(u)) = 1 - \frac {\sum_{i, j \in R(u), {i \neq j}, {s(i, j)} }} {\frac {1}{2} |R(u)|(|R(u) - 1|)}<br>$$</p>
<p>$$<br>Diversity = \frac {1} {|U|} {\sum_{u \in U} {Diversity(R(u))}}<br>$$</p>
<blockquote>
<p>å…¨æ˜¯ç‰›ä»”è£¤çš„è¯ï¼Œç”¨æˆ·å®¡ç¾ç–²åŠ³, tag(çº¯æ£‰ 0ï¼Œåœ†é¢† 1) è¿è¡£è£™, è®¡ç®— vector è·ç¦»ã€‚å“ç±»ä¸åŒï¼Œç›¸ä¼¼åº¦è®¾ä¸º 0.</p>
</blockquote>
<h3 id="3-4-è¯„ä¼°æ ‡å‡†"><a href="#3-4-è¯„ä¼°æ ‡å‡†" class="headerlink" title="3.4 è¯„ä¼°æ ‡å‡†"></a>3.4 è¯„ä¼°æ ‡å‡†</h3><ul>
<li>æ–°é¢–åº¦ : ç»™ç”¨æˆ· Surprise</li>
<li>æƒŠå–œåº¦ : æ¨èå’Œç”¨æˆ·å†å²å…´è¶£ä¸ç›¸ä¼¼ï¼Œå´æ»¡æ„çš„</li>
<li>ä¿¡ä»»åº¦ : æä¾›å¯é çš„æ¨èç†ç”±</li>
<li>å®æ—¶æ€§ : å®æ—¶æ›´æ–°ç¨‹åº¦ (context, session â€¦)</li>
<li>â€¦</li>
</ul>
<h2 id="4-ç›¸ä¼¼åº¦-è·ç¦»å®šä¹‰"><a href="#4-ç›¸ä¼¼åº¦-è·ç¦»å®šä¹‰" class="headerlink" title="4. ç›¸ä¼¼åº¦/è·ç¦»å®šä¹‰"></a>4. ç›¸ä¼¼åº¦/è·ç¦»å®šä¹‰</h2><ul>
<li>æ¬§æ°è·ç¦»</li>
<li>Jaccard ç›¸ä¼¼åº¦</li>
<li>ä½™å¼¦ç›¸ä¼¼åº¦</li>
<li>Pearson ç›¸ä¼¼åº¦</li>
</ul>
<h3 id="4-1-æ¬§æ°è·ç¦»"><a href="#4-1-æ¬§æ°è·ç¦»" class="headerlink" title="4.1 æ¬§æ°è·ç¦»"></a>4.1 æ¬§æ°è·ç¦»</h3><p>$$<br>dist(X, Y) = \left( \sum_{i=1}^n {| x_i - y_i|}^p \right)^{\frac {1}{p}}<br>$$</p>
<h3 id="4-2-Jaccard-ç›¸ä¼¼åº¦"><a href="#4-2-Jaccard-ç›¸ä¼¼åº¦" class="headerlink" title="4.2 Jaccard ç›¸ä¼¼åº¦"></a>4.2 Jaccard ç›¸ä¼¼åº¦</h3><p>$$<br>J(A, B) = \frac {|A \bigcap B|}{|A \bigcup B|}<br>$$</p>
<blockquote>
<p>é€‚ç”¨äº top N æ¨èï¼Œè¦ä¹ˆ çœ‹ï¼Œè¦ä¹ˆ æ²¡çœ‹</p>
</blockquote>
<h3 id="4-3-ä½™å¼¦ç›¸ä¼¼åº¦"><a href="#4-3-ä½™å¼¦ç›¸ä¼¼åº¦" class="headerlink" title="4.3 ä½™å¼¦ç›¸ä¼¼åº¦"></a>4.3 ä½™å¼¦ç›¸ä¼¼åº¦</h3><p>$$<br>\cos(\theta) = \frac {a^Tb}{|a| \cdot |b|}<br>$$</p>
<h3 id="4-4-Pearson-ç›¸ä¼¼åº¦"><a href="#4-4-Pearson-ç›¸ä¼¼åº¦" class="headerlink" title="4.4 Pearson ç›¸ä¼¼åº¦"></a>4.4 Pearson ç›¸ä¼¼åº¦</h3><p>$$<br>\frac { \sum_{i=1}^n (X_i - {\mu}_x) (Y_i - {\mu}_y)} {\sqrt{ \sum_{i=1}^n (X_i - {\mu}_x)^2} \sqrt{ \sum_{i=1}^n (Y_i - {\mu}_y)^2}}<br>$$</p>
<blockquote>
<p>(5, 6, 9)<br>(1, 2, 6)</p>
</blockquote>
<h2 id="5-æ¨èç®—æ³•"><a href="#5-æ¨èç®—æ³•" class="headerlink" title="5. æ¨èç®—æ³•"></a>5. æ¨èç®—æ³•</h2><ol>
<li>åŸºäºå†…å®¹çš„æ¨è</li>
<li>ååŒè¿‡æ»¤CF</li>
<li>éšè¯­ä¹‰æ¨¡å‹</li>
</ol>
<h3 id="5-1-åŸºäºå†…å®¹æ¨è"><a href="#5-1-åŸºäºå†…å®¹æ¨è" class="headerlink" title="5.1 åŸºäºå†…å®¹æ¨è"></a>5.1 åŸºäºå†…å®¹æ¨è</h3><ul>
<li>åŸºäºç”¨æˆ·å–œæ¬¢çš„ Item çš„å±æ€§ / å†…å®¹è¿›è¡ŒæŒ–æ˜</li>
<li>åŸºäºåˆ†æå†…å®¹ï¼Œæ— éœ€è€ƒè™‘å½“å‰userä¸å…¶ä»–userçš„è¡Œä¸ºçš„äº¤äº’å…³è”ç­‰</li>
<li>é€šå¸¸ä½¿ç”¨åœ¨ <code>æ–‡æœ¬ç›¸å…³</code> çš„äº§å“ä¸Šè¿›è¡Œæ¨è</li>
<li>Item é€šè¿‡å†…å®¹ (æ¯”å¦‚ å…³é”®è¯) å…³è”</li>
</ul>
<p>åœ¨æ¨èç”µå½±ä¸­ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨ï¼Œä½†æ˜¯æ•ˆæœä¸è§å¾—å¥½. ä½ éœ€è¦æ‰‹åŠ¨å¯¹ Item è¿›è¡Œç¦»çº¿æŒ–æ˜ï¼Œæ‹¿å‡º tag</p>
<blockquote>
<p>ç”µå½±é¢˜æ : çˆ±æƒ… / æ¢é™© / åŠ¨ä½œ  / å–œå‰§<br>æ ‡å¿—ç‰¹å¾ : é»„æ™“æ˜ / ç‹å®å¼º<br>å¹´ä»£ : 1995, 2016 â€¦<br>å…³é”®è¯</p>
</blockquote>
<p>ä¸¤ä¸ªItemæ ¹æ® tag çš„åˆ†å€¼ï¼Œè¿›è¡Œæ±‚ è·ç¦».</p>
<hr>
<p><strong>ä¸¾ä¾‹æ–‡æœ¬æŒ–æ˜ :</strong></p>
<p>One : å¯¹äºæ¯ä¸ªè¦æ¨èçš„å†…å®¹,æˆ‘ä»¬éœ€è¦å»ºç«‹ä¸€ä»½èµ„æ–™ :</p>
<blockquote>
<p>æ¯”å¦‚è¯ $k_i$ åœ¨æ–‡æ¡£ $d_j$ ä¸­çš„æƒé‡ $w_{ij}$ (å¸¸ç”¨çš„æ–¹æ³•æ¯”å¦‚ TF-IDF)</p>
<p>æœ‰ä¸€ä¸ªè¯è¡¨ Item [$w_1$, $w_2$, â€¦ ,$w_{4000}$], å¯¹æ¯ä¸ª document å»ºç«‹ä¸€ä¸ªè¯è¡¨ vectorã€‚</p>
</blockquote>
<p>Two : éœ€è¦å¯¹ç”¨æˆ·ä¹Ÿå»ºç«‹ä¸€ä»½èµ„æ–™ :</p>
<blockquote>
<p>æ¯”å¦‚è¯´å®šä¹‰ä¸€ä¸ªæƒé‡å‘é‡ ($w_{c1},â€¦,w_{ck}$) , å…¶ä¸­ $w_{ci}$ è¡¨ç¤ºç¬¬ $k_i$ ä¸ªè¯å¯¹ç”¨æˆ· $c$ çš„é‡è¦åº¦<br>user ä¹‹å‰æœ‰çœ‹è¿‡çš„ å°è¯´ æˆ– æ–‡æ¡£ã€‚(çœ‹è¿‡çš„æ–‡æ¡£æ”¾åœ¨ä¸€èµ·æä¸€ä¸ªdoc_vectorï¼Œæˆ–è€… å°† doc_vector åŠ æƒå¹³å‡)</p>
</blockquote>
<p>Three : è®¡ç®—åŒ¹é…åº¦ </p>
<blockquote>
<p>ä½™å¼¦è·ç¦»å…¬å¼</p>
</blockquote>
<p>$$<br>u(c, s) = \cos(\vec{w_c}, \vec{w_s}) = \frac{\vec{w_c} \cdot \vec{w_s}}{\vec{||w_c||} \times \vec{||w_s||}}<br>$$</p>
<blockquote>
<p>æ€»ç»“ä¸‰æ­¥ :</p>
<ol>
<li>å¯¹ æ¯ä¸ª document å»ºç«‹ vector</li>
<li>å¯¹ æ¯ä¸ª user å»ºç«‹ vector</li>
<li>æ¯”å¯¹ user å‘é‡ï¼Œä¸ è¯¥user æ²¡æœ‰çœ‹è¿‡çš„ document å‘é‡ ä¹‹é—´çš„ç›¸ä¼¼åº¦</li>
</ol>
<p>TF-IDF : è¯„ä¼°ä¸€ä¸ª word å¯¹å½“å‰ document çš„é‡è¦æ€§ã€‚ å½“å‰å‡é«˜è€Œå‡é«˜ï¼Œæ‰€æœ‰docä¸­ï¼Œå‡é«˜è€Œä¸‹é™ã€‚</p>
</blockquote>
<p><strong>Sample Example : åŸºäºä¹¦åè¿›è¡Œä¹¦æ¨è</strong></p>
<p>ä¸€ä¸ªç”¨æˆ·å¯¹ã€ŠBuilding data mining applications for CRMã€‹æ„Ÿå…´è¶£ï¼Œä»ä»¥ä¸‹ä¹¦ä¸­è¿›è¡Œæ¨è :</p>
<ol>
<li><code>Building data mining applications for CRM</code></li>
<li>Accelerating Customer Relationships: Using CRM and Relationship Technologies</li>
<li>Mastering Data Mining: The Art and Science of Customer Relationship Management</li>
<li>Data Mining Your Website</li>
<li>Introduction to marketing</li>
<li>Consumer behavior</li>
<li>marketing research, a handbook </li>
<li>Customer knowledge manag</li>
</ol>
<p><img src="/images/recommendation/rs-six-month-01.png" alt="åŸºäºå†…å®¹çš„æ¨è"></p>
<blockquote>
<p>TF-IDF Normed Vectors å€¼ (0.187ã€0.316) ä»£è¡¨ <code>Data</code> å¯¹äºå½“å‰ <code>æ ‡é¢˜</code> çš„é‡è¦ç¨‹åº¦. </p>
<p>æ ¹æ® TF-IDFï¼Œå½“å‰ä¹¦å ä¸ å›¾ä¹¦é¦†æ‰€æœ‰ä¹¦å å‡ºç°çš„æ¬¡æ•°, (å»æ‰åœç”¨è¯, å¦‚ and) è®¡ç®—å‡ºæ¥çš„æƒé‡ã€‚</p>
<p>æ‰€ä»¥ <code>ã€ŠBuilding data mining applications for CRMã€‹</code> å·²ç»æœ‰ä¸€ä¸ªåˆ— vectorï¼Œ ä¸ å…¶ä»–æ‰€æœ‰ ä¹¦ è®¡ç®— ç›¸ä¼¼åº¦ï¼Œç›¸ä¼¼åº¦ é«˜çš„ï¼Œä¸ºæ¨èæœ€å¥½çš„ã€‚</p>
<p>This is only a sample show exampleï¼Œ not the real method of thing.</p>
</blockquote>
<p>è®¡ç®—è¿™æœ¬ä¹¦å’Œå…¶ä½™7æœ¬ä¹¦çš„ç›¸ä¼¼åº¦ï¼Œæ¨èæœ€è¿‘çš„ï¼Œè¿™é‡Œç»“æœä¸º :</p>
<blockquote>
<p>rank 1 : Data Mining Your Website<br>ô°…rank 2 : Accelerating Custom Relationships: Using CRM â€¦<br>rank 3 : Mastering Data Mining: The Art and Scienceâ€¦ ô°¬ô°­ô°®ô°€ô°â€¦</p>
</blockquote>
<p>ç»“è®º : åŸºäºå†…å®¹çš„æ¨èï¼Œæ— éœ€ç”¨æˆ·è¡Œä¸ºçš„äº¤äº’å…³è”ã€‚</p>
<h3 id="5-2-ååŒè¿‡æ»¤-User-based"><a href="#5-2-ååŒè¿‡æ»¤-User-based" class="headerlink" title="5.2 ååŒè¿‡æ»¤ (User-based)"></a>5.2 ååŒè¿‡æ»¤ (User-based)</h3><p>æ‰¾åˆ°å’Œ User æœ€è¿‘çš„ å…¶ä»– Userô°¼ô°½ô°Ÿô°²ô°³ô°§ô°¨ô°’ô° ô°¾ô°²ô°³ ô±…ô°²ô°³ô±†ô±€ô±ô±‚ô°•, æ‰¾åˆ°ä»–ä»¬ çœ‹/ä¹°è¿‡ä½†å½“å‰ User æ²¡çœ‹/ä¹°è¿‡çš„ itemï¼Œæ ¹æ®è·ç¦»åŠ æƒæ‰“åˆ†<br>æ‰¾å¾—åˆ†æœ€é«˜çš„æ¨è</p>
<blockquote>
<p>ä¸éœ€è¦æå‰æŒ–æ˜ Itemï¼Œ æ‰¾å“å‘³æ¥è¿‘çš„ 5 ä¸ª friendsã€‚</p>
</blockquote>
<p><img src="/images/recommendation/rs-six-month-02.png" alt="User-based CF"></p>
<p>è¿‘é‚»æ€ä¹ˆæ‰¾ ?</p>
<table>
<thead>
<tr>
<th>U</th>
<th>a</th>
<th>b</th>
<th>c</th>
<th>d</th>
<th>e</th>
</tr>
</thead>
<tbody>
<tr>
<td>A</td>
<td>5</td>
<td>1</td>
<td>5</td>
<td>3</td>
<td>2</td>
</tr>
<tr>
<td>B</td>
<td>4</td>
<td></td>
<td>3</td>
<td>1</td>
<td>1</td>
</tr>
</tbody>
</table>
<h3 id="5-3-ååŒè¿‡æ»¤-Item-based"><a href="#5-3-ååŒè¿‡æ»¤-Item-based" class="headerlink" title="5.3 ååŒè¿‡æ»¤ (Item-based)"></a>5.3 ååŒè¿‡æ»¤ (Item-based)</h3><blockquote>
<p>æ®ç°æœ‰ User å¯¹ Item çš„è¯„çº§æƒ…å†µï¼Œæ¥è®¡ç®— Item ä¹‹é—´çš„æŸç§ç›¸ä¼¼åº¦ã€‚å·²æœ‰Item ç›¸ä¼¼çš„ Item è¢«ç”¨æ¥ç”Ÿæˆä¸€ä¸ªç»¼åˆå¾—åˆ†ï¼Œè€Œè¯¥å¾—åˆ†ç”¨äºè¯„ä¼°æœªçŸ¥ç‰©å“çš„ç›¸ä¼¼åº¦ã€‚</p>
</blockquote>
<p>æ ¹æ® User å¯¹ Item çš„è¡Œä¸ºï¼Œè®¡ç®— item å’Œ item ç›¸ä¼¼åº¦ï¼Œæ‰¾åˆ°å’Œå½“å‰ item æœ€è¿‘çš„è¿›è¡Œæ¨èã€‚</p>
<p><img src="/images/recommendation/rs-six-month-03.png" alt="Item-based CF"></p>
<blockquote>
<p>Collaborative filtering åŸºäº è¿‘é‚» çš„æ€æƒ³</p>
</blockquote>
<p>CF (Item-based) Summary :</p>
<ul>
<li>ä¸€ä¸ª User List ($u_i$, i = 1, â€¦, n), ä¸€ä¸ª Item List ($p_j$, j = 1, â€¦, m)</li>
<li>ä¸€ä¸ª $n * m$ çŸ©é˜µ W, æ¯ä¸ªå…ƒç´  $W_{ij}$, è¡¨ç¤º ${User}_i$ å¯¹ ${Item}_j$ çš„æ‰“åˆ†</li>
<li>è®¡ç®— item å’Œ item ä¹‹é—´çš„ç›¸ä¼¼åº¦</li>
</ul>
<p>$$<br>S(i, j) = \cos(\vec{i}, \vec{j}) = \frac{\vec{i} \cdot \vec{j}}{\vec{||i||} \times \vec{||j||}}<br>$$</p>
<ul>
<li>é€‰å– Top K æ¨è æˆ– åŠ æƒé¢„æµ‹å¾—åˆ†</li>
</ul>
<p>$$<br>r_{xi} = \frac { {\sum_{j \in N (i;x)} S_{ij} \times r_{xj}}} { {\sum_{j \in N (i;x)} S_{ij}}}<br>$$</p>
<p><strong>Item-based Collaborative Filtering</strong></p>
<p><img src="/images/recommendation/rs-six-month-05.png" alt="CF-Item Collaborative Filtering"></p>
<blockquote>
<p>1 ä¸ 4 ä¹‹é—´çš„ç›¸ä¼¼åº¦-0.10ä¸å¯¹ï¼Œ åº”è¯¥æ˜¯ -0.83 ç­‰ï¼Œæ•°æ®æœ‰è¯¯ã€‚(æŒ‰ç…§ Pearson overlap è®¡ç®—).</p>
<p>$r_{1.5}$ = (0.41*2 + 0.59*3) / (0.41 + 0.59) = 2.6</p>
<p>åŸºäº Top N æ¥è®¡ç®—ï¼Œè¿™é‡Œæ˜¯ Top 2.</p>
</blockquote>
<h4 id="User-CF-vs-Item-CF"><a href="#User-CF-vs-Item-CF" class="headerlink" title="User CF vs Item CF"></a>User CF vs Item CF</h4><table>
<thead>
<tr>
<th>å±æ€§</th>
<th>UserCF</th>
<th>ItemCF</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>æ€§èƒ½</code></td>
<td>Userå¤šï¼Œè®¡ç®—Userç›¸ä¼¼åº¦çŸ©é˜µä»£ä»·å¾ˆå¤§</td>
<td>Itemå¤šï¼Œè®¡ç®—Itemç›¸ä¼¼åº¦çŸ©é˜µä»£ä»·å¾ˆå¤§</td>
</tr>
<tr>
<td><code>é¢†åŸŸ</code></td>
<td>User ä¸ªæ€§åŒ–å…´è¶£ä¸å¤ªæ˜æ˜¾çš„é¢†åŸŸ</td>
<td>é•¿å°¾ç‰©å“ä¸°å¯Œï¼Œç”¨æˆ·ä¸ªæ€§åŒ–éœ€æ±‚å¼ºçƒˆçš„é¢†åŸŸ</td>
</tr>
<tr>
<td><code>å®æ—¶æ€§</code></td>
<td>ç”¨æˆ·æœ‰æ–°è¡Œä¸ºï¼Œä¸ä¸€å®šæ¨èç»“æœé©¬ä¸Šå˜åŒ–</td>
<td>ç”¨æˆ·æœ‰æ–°è¡Œä¸ºï¼Œä¼šå¯¼è‡´æ¨èç»“æœå®æ—¶å˜åŒ–</td>
</tr>
<tr>
<td><code>å†·å¯åŠ¨</code></td>
<td>æ–°ç”¨æˆ·è¡Œä¸ºï¼Œä¸èƒ½ç«‹å³è¿›è¡Œä¸ªæ€§åŒ–æ¨è<br>(ç”¨æˆ·ç›¸ä¼¼åº¦æ˜¯æ¯éš”ä¸€æ®µæ—¶é—´ç¦»çº¿è®¡ç®—çš„)</td>
<td>æ–°ç”¨æˆ·å¯¹ç‰©å“æœ‰è¡Œä¸ºï¼Œå°±å¯ä»¥ç»™ä»–æ¨èå’Œè¯¥ç‰©å“ç›¸å…³ç‰©å“</td>
</tr>
<tr>
<td><code>æ¨èç†ç”±</code></td>
<td>å¾ˆéš¾æä¾›ä»¤ç”¨æˆ·ä¿¡æœçš„æ¨èè§£é‡Š</td>
<td>åˆ©ç”¨ç”¨æˆ·çš„å†å²è¡Œä¸ºç»™ç”¨æˆ·åšæ¨èè§£é‡Š</td>
</tr>
</tbody>
</table>
<h4 id="CF-ä¼˜ç¼ºç‚¹"><a href="#CF-ä¼˜ç¼ºç‚¹" class="headerlink" title="CF ä¼˜ç¼ºç‚¹"></a>CF ä¼˜ç¼ºç‚¹</h4><table>
<thead>
<tr>
<th>ä¼˜ç‚¹</th>
<th>ç¼ºç‚¹</th>
</tr>
</thead>
<tbody>
<tr>
<td>åŸºäºç”¨æˆ·è¡Œä¸ºï¼Œå› æ­¤å¯¹æ¨èå†…å®¹æ— éœ€å…ˆéªŒçŸ¥è¯†</td>
<td>éœ€è¦å¤§é‡çš„æ˜¾æ€§ / éšæ€§ç”¨æˆ·è¡Œä¸º (å†·å¯åŠ¨)</td>
</tr>
<tr>
<td>åªéœ€è¦ç”¨æˆ·å’Œå•†å“å…³è”çŸ©é˜µå³å¯ï¼Œç»“æ„ç®€å•</td>
<td>éœ€è¦å®Œå…¨ç›¸åŒçš„å•†å“å…³è”ï¼Œç›¸ä¼¼çš„ä¸åŒ</td>
</tr>
<tr>
<td>åœ¨ç”¨æˆ·è¡Œä¸ºä¸°å¯Œçš„æƒ…å†µä¸‹ï¼Œæ•ˆæœå¥½</td>
<td></td>
</tr>
</tbody>
</table>
<blockquote>
<p>(a, c) (b, c) é€šè¿‡ä¼ é€’å…³ç³»ï¼Œå¯ä»¥è¿‘ä¼¼çš„è®¡ç®—å‡ºæ¥ (a, b) ç›¸ä¼¼åº¦ï¼ŒçŸ©é˜µç¨€ç–çš„äºŒåº¦å…³è”ã€‚</p>
</blockquote>
<h2 id="6-å†·å¯åŠ¨é—®é¢˜"><a href="#6-å†·å¯åŠ¨é—®é¢˜" class="headerlink" title="6. å†·å¯åŠ¨é—®é¢˜"></a>6. å†·å¯åŠ¨é—®é¢˜</h2><h3 id="6-1-New-User"><a href="#6-1-New-User" class="headerlink" title="6.1 New User"></a>6.1 New User</h3><ul>
<li>æ¨è éå¸¸ çƒ­é—¨ çš„å•†å“ï¼Œæ”¶é›†ä¸€äº›ä¿¡æ¯</li>
<li>ç”¨æˆ·æ³¨å†Œçš„æ—¶å€™ï¼Œæ”¶é›†ä¿¡æ¯ï¼Œæˆ–è€…äº’åŠ¨æ¸¸æˆï¼Œç¡®å®šä½ å–œæ¬¢å¦</li>
</ul>
<h3 id="6-2-New-Item"><a href="#6-2-New-Item" class="headerlink" title="6.2 New Item"></a>6.2 New Item</h3><ul>
<li>æ ¹æ®æœ¬èº«å±æ€§ï¼Œæ±‚ä¸åŸæ¥ Item ç›¸ä¼¼åº¦</li>
<li>Item-based CF å¯æ¨èå‡ºå»</li>
</ul>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[About Keras Some Concepts]]></title>
      <url>http://iequa.com/2017/02/23/ml-keras-some-concept/</url>
      <content type="html"><![CDATA[<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js"],
    jax: ["input/TeX"],
    tex2jax: {
      inlineMath: [ ['$','$'], ['\\(','\\)'] ],
      displayMath: [ ['$$','$$']],
      processEscapes: true
    }
  });
</script>
<script type="text/javascript" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS_HTML,http://myserver.com/MathJax/config/local/local.js">
</script>


<h2 id="1-symbolic-computation"><a href="#1-symbolic-computation" class="headerlink" title="1. symbolic computation"></a>1. symbolic computation</h2><p>Kerasçš„åº•å±‚åº“ä½¿ç”¨Theanoæˆ–TensorFlowï¼Œè¿™ä¸¤ä¸ªåº“ä¹Ÿç§°ä¸ºKerasçš„åç«¯ã€‚</p>
<blockquote>
<p>æ— è®ºæ˜¯Theanoè¿˜æ˜¯TensorFlowï¼Œéƒ½æ˜¯ä¸€ä¸ªâ€œç¬¦å·ä¸»ä¹‰â€çš„åº“ã€‚</p>
</blockquote>
<h2 id="2-tensor-å¼ é‡"><a href="#2-tensor-å¼ é‡" class="headerlink" title="2. tensor (å¼ é‡)"></a>2. tensor (å¼ é‡)</h2><p>å¼ é‡å¯ä»¥çœ‹ä½œæ˜¯å‘é‡ã€çŸ©é˜µçš„è‡ªç„¶æ¨å¹¿ï¼Œæˆ‘ä»¬ç”¨å¼ é‡æ¥è¡¨ç¤ºå¹¿æ³›çš„æ•°æ®ç±»å‹ã€‚</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"></span><br><span class="line">a = np.array([[<span class="number">1</span>,<span class="number">2</span>],[<span class="number">3</span>,<span class="number">4</span>]])</span><br><span class="line">sum0 = np.sum(a, axis=<span class="number">0</span>)</span><br><span class="line">sum1 = np.sum(a, axis=<span class="number">1</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">print</span> sum0</span><br><span class="line"><span class="keyword">print</span> sum1</span><br></pre></td></tr></table></figure>
<p>[4 6]<br>[3 7]</p>
<h2 id="3-â€˜thâ€™ä¸â€™tfâ€™"><a href="#3-â€˜thâ€™ä¸â€™tfâ€™" class="headerlink" title="3. â€˜thâ€™ä¸â€™tfâ€™"></a>3. â€˜thâ€™ä¸â€™tfâ€™</h2><p>åœ¨å¦‚ä½•è¡¨ç¤ºä¸€ç»„å½©è‰²å›¾ç‰‡çš„é—®é¢˜ä¸Šï¼ŒTheanoå’ŒTensorFlowå‘ç”Ÿäº†åˆ†æ­§</p>
<h2 id="4-batch"><a href="#4-batch" class="headerlink" title="4. batch"></a>4. batch</h2><p><code>batch gradient descent</code></p>
<p>éå†å…¨éƒ¨æ•°æ®é›†ç®—ä¸€æ¬¡æŸå¤±å‡½æ•°ï¼Œç„¶åç®—å‡½æ•°å¯¹å„ä¸ªå‚æ•°çš„æ¢¯åº¦ï¼Œæ›´æ–°æ¢¯åº¦ã€‚è¿™ç§æ–¹æ³•æ¯æ›´æ–°ä¸€æ¬¡å‚æ•°éƒ½è¦æŠŠæ•°æ®é›†é‡Œçš„æ‰€æœ‰æ ·æœ¬éƒ½çœ‹ä¸€éï¼Œè®¡ç®—é‡å¼€é”€å¤§ï¼Œè®¡ç®—é€Ÿåº¦æ…¢ï¼Œä¸æ”¯æŒåœ¨çº¿å­¦ä¹ ï¼Œè¿™ç§°ä¸ºBatch gradient descentï¼Œæ‰¹æ¢¯åº¦ä¸‹é™ã€‚</p>
<p><code>stochastic gradient descent</code></p>
<p>æ¯çœ‹ä¸€ä¸ªæ•°æ®å°±ç®—ä¸€ä¸‹æŸå¤±å‡½æ•°ï¼Œç„¶åæ±‚æ¢¯åº¦æ›´æ–°å‚æ•°ï¼Œè¿™ä¸ªç§°ä¸ºéšæœºæ¢¯åº¦ä¸‹é™ï¼Œstochastic gradient descentã€‚è¿™ä¸ªæ–¹æ³•é€Ÿåº¦æ¯”è¾ƒå¿«ï¼Œä½†æ˜¯æ”¶æ•›æ€§èƒ½ä¸å¤ªå¥½ï¼Œå¯èƒ½åœ¨æœ€ä¼˜ç‚¹é™„è¿‘æ™ƒæ¥æ™ƒå»ï¼Œhitä¸åˆ°æœ€ä¼˜ç‚¹ã€‚ä¸¤æ¬¡å‚æ•°çš„æ›´æ–°ä¹Ÿæœ‰å¯èƒ½äº’ç›¸æŠµæ¶ˆæ‰ï¼Œé€ æˆç›®æ ‡å‡½æ•°éœ‡è¡çš„æ¯”è¾ƒå‰§çƒˆã€‚</p>
<p><code>mini batch gradient decent</code></p>
<p>ä¸ºäº†å…‹æœ batch å’Œ stochastic ä¸¤ç§æ–¹æ³•çš„ç¼ºç‚¹ï¼Œç°åœ¨ä¸€èˆ¬é‡‡ç”¨çš„æ˜¯ä¸€ç§æŠ˜ä¸­æ‰‹æ®µï¼Œmini-batch gradient decentï¼Œå°æ‰¹çš„æ¢¯åº¦ä¸‹é™ï¼Œè¿™ç§æ–¹æ³•æŠŠæ•°æ®åˆ†ä¸ºè‹¥å¹²ä¸ªæ‰¹ï¼ŒæŒ‰æ‰¹æ¥æ›´æ–°å‚æ•°ï¼Œè¿™æ ·ï¼Œä¸€ä¸ªæ‰¹ä¸­çš„ä¸€ç»„æ•°æ®å…±åŒå†³å®šäº†æœ¬æ¬¡æ¢¯åº¦çš„æ–¹å‘ï¼Œä¸‹é™èµ·æ¥å°±ä¸å®¹æ˜“è·‘åï¼Œå‡å°‘äº†éšæœºæ€§ã€‚å¦ä¸€æ–¹é¢å› ä¸ºæ‰¹çš„æ ·æœ¬æ•°ä¸æ•´ä¸ªæ•°æ®é›†ç›¸æ¯”å°äº†å¾ˆå¤šï¼Œè®¡ç®—é‡ä¹Ÿä¸æ˜¯å¾ˆå¤§ã€‚</p>
<p>åŸºæœ¬ä¸Šç°åœ¨çš„æ¢¯åº¦ä¸‹é™éƒ½æ˜¯åŸºäºmini-batchçš„ï¼Œæ‰€ä»¥Kerasçš„æ¨¡å—ä¸­ç»å¸¸ä¼šå‡ºç°batch_sizeï¼Œå°±æ˜¯æŒ‡è¿™ä¸ªã€‚</p>
<blockquote>
<p>Kerasçš„ä¼˜åŒ–å™¨SGDæ˜¯stochastic gradient descentçš„ç¼©å†™ï¼Œä½†ä¸ä»£è¡¨æ˜¯ä¸€ä¸ªæ ·æœ¬å°±æ›´æ–°ä¸€å›ï¼Œè¿˜æ˜¯mini-batch</p>
</blockquote>
<h2 id="5-to-new-beginner-explain"><a href="#5-to-new-beginner-explain" class="headerlink" title="5. to new beginner explain"></a>5. to new beginner explain</h2><p><a href="http://www.liaoxuefeng.com/wiki/0014316089557264a6b348958f449949df42a6d3a2e542c000" target="_blank" rel="external">Python Learning</a></p>
<ul>
<li>numpy, scipy, scikit-learn, pandasâ€¦</li>
<li>generatorã€lambda</li>
</ul>
<h2 id="6-about-deep-learning-concepts"><a href="#6-about-deep-learning-concepts" class="headerlink" title="6. about deep-learning concepts"></a>6. about deep-learning concepts</h2><blockquote>
<p>Keras æ˜¯ä¸ºæ·±åº¦å­¦ä¹ è®¾è®¡çš„å·¥å…·</p>
</blockquote>
<ul>
<li>æœ‰ç›‘ç£å­¦ä¹ ï¼Œæ— ç›‘ç£å­¦ä¹ ï¼Œåˆ†ç±»ï¼Œèšç±»ï¼Œå›å½’</li>
<li>ç¥ç»å…ƒæ¨¡å‹ï¼Œå¤šå±‚æ„ŸçŸ¥å™¨ï¼ŒBPç®—æ³•</li>
<li>ç›®æ ‡å‡½æ•°ï¼ˆæŸå¤±å‡½æ•°ï¼‰ï¼Œæ¿€æ´»å‡½æ•°ï¼Œæ¢¯åº¦ä¸‹é™æ³•</li>
<li>å…¨è¿æ¥ç½‘ç»œã€å·ç§¯ç¥ç»ç½‘ç»œã€é€’å½’ç¥ç»ç½‘ç»œ</li>
<li>è®­ç»ƒé›†ï¼Œæµ‹è¯•é›†ï¼Œäº¤å‰éªŒè¯ï¼Œæ¬ æ‹Ÿåˆï¼Œè¿‡æ‹Ÿåˆ</li>
<li>æ•°æ®è§„èŒƒåŒ–</li>
</ul>
<h2 id="Refence-article"><a href="#Refence-article" class="headerlink" title="Refence article"></a>Refence article</h2><p><a href="https://keras.io/getting-started/sequential-model-guide/" target="_blank" rel="external">keras.io</a><br><a href="http://keras-cn.readthedocs.io/en/latest/" target="_blank" rel="external">keras-cn.readthedocs.io</a></p>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[Mac install tensorFlow]]></title>
      <url>http://iequa.com/2017/02/21/ops-mac-install-tensorflow/</url>
      <content type="html"><![CDATA[<h2 id="1-instaled-pip"><a href="#1-instaled-pip" class="headerlink" title="1. instaled pip"></a>1. instaled pip</h2><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># å®‰è£…å®Œåæ‰§è¡Œå‘½ä»¤pip freezeåˆ—å‡ºå®‰è£…çš„packageséªŒè¯ä¸€ä¸‹pipå®‰è£…å¥½æ²¡.</span></span><br><span class="line"></span><br><span class="line">$ pip freeze</span><br><span class="line">python-dateutil==1.5</span><br><span class="line">scikit-learn==0.18.dev0</span><br><span class="line">scipy==0.13.0b1</span><br><span class="line">six==1.10.0</span><br><span class="line">tensorflow==0.5.0</span><br><span class="line">terminado==0.6</span><br><span class="line">TFL==2.0.5</span><br><span class="line">tornado==4.3</span><br><span class="line">vboxapi==1.0</span><br><span class="line">virtualenv==15.1.0</span><br><span class="line">...</span><br></pre></td></tr></table></figure>
<h2 id="2-install-tensorflow"><a href="#2-install-tensorflow" class="headerlink" title="2. install tensorflow"></a>2. install tensorflow</h2><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># Mac OS X, CPU only, Python 2.7:</span></span><br><span class="line">$ <span class="built_in">export</span> TF_BINARY_URL=https://storage.googleapis.com/tensorflow/mac/cpu/tensorflow-1.0.0-py2-none-any.whl</span><br><span class="line"></span><br><span class="line"><span class="comment"># Only CPU-version is available at the moment.</span></span><br><span class="line">$ sudo pip install <span class="variable">$TF_BINARY_URL</span></span><br></pre></td></tr></table></figure>
<blockquote>
<p>maybe by vpn in China</p>
</blockquote>
<h2 id="3-install-virtualenv"><a href="#3-install-virtualenv" class="headerlink" title="3. install virtualenv"></a>3. install virtualenv</h2><p>virtualenvæ˜¯pythonçš„æ²™ç®±å·¥å…·.æˆ‘ä»¬æ¯•ç«Ÿæ˜¯åœ¨è‡ªå·±æœºå™¨ä¸Šåšå®éªŒ,ä¸ºäº†ä¸æ¥å›ä¿®æ”¹å„ç§ç¯å¢ƒå˜é‡,æˆ‘ä»¬ä¸€èˆ¬è¿˜æ˜¯å¼„ä¸ªæ²™ç®±å®Œæ¯”è¾ƒå¥½.æµ‹è¯•å®Œç›´æ¥åˆ é™¤å°±è¡Œ,ä¸ç”¨å†å»æ”¹å„ç§é…ç½®æ–‡ä»¶.</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ sudo pip install --upgrade virtualenv</span><br><span class="line"></span><br><span class="line">Collecting virtualenv</span><br><span class="line">  Downloading virtualenv-15.1.0-py2.py3-none-any.whl (1.8MB)</span><br><span class="line">    100% |â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ| 1.8MB 156kB/s</span><br><span class="line">Installing collected packages: virtualenv</span><br><span class="line">Successfully installed virtualenv-15.1.0</span><br></pre></td></tr></table></figure>
<p>å®‰è£…å¥½ååˆ›å»ºä¸€ä¸ªå·¥ä½œç›®å½•,æˆ‘ç›´æ¥åœ¨homeé‡Œåˆ›å»ºäº†ä¸ªæ–‡ä»¶å¤¹.</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ virtualenv --system-site-packages ~/tensorflow</span><br></pre></td></tr></table></figure>
<p>ç„¶åè¿›å…¥ç›®å½•æ¿€æ´»æ²™ç®±.</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">$ cd ~/tensorflow</span><br><span class="line">$ source bin/activate</span><br></pre></td></tr></table></figure>
<h2 id="4-install-tensorflow-in-virtualenv"><a href="#4-install-tensorflow-in-virtualenv" class="headerlink" title="4. install tensorflow in virtualenv"></a>4. install tensorflow in virtualenv</h2><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">(tensorflow) âœ  tensorflow pip install <span class="variable">$TF_BINARY_URL</span></span><br></pre></td></tr></table></figure>
<h2 id="5-run-tensorflow"><a href="#5-run-tensorflow" class="headerlink" title="5. run tensorflow"></a>5. run tensorflow</h2><p><a href="http://tensorflow.org/get_started/os_setup.md#try_your_first_tensorflow_program" target="_blank" rel="external">hello world</a></p>
<figure class="highlight"><table><tr><td class="code"><pre><span class="line">(tensorflow) âœ  tensorflow python</span><br><span class="line">Python 2.7.10 (default, Jul 14 2015, 19:46:27)</span><br><span class="line">[GCC 4.2.1 Compatible Apple LLVM 6.0 (clang-600.0.39)] on darwin</span><br><span class="line">Type "help", "copyright", "credits" or "license" for more information.</span><br><span class="line">&gt;&gt;&gt; import tensorflow as tf</span><br><span class="line">&gt;&gt;&gt; hello = tf.constant('Hello,TensorFlow!')</span><br><span class="line">&gt;&gt;&gt; sess = tf.Session()</span><br><span class="line">can't determine number of CPU cores: assuming 4</span><br><span class="line">I tensorflow/core/common_runtime/local_device.cc:25] Local device intra op parallelism threads: 4</span><br><span class="line">can't determine number of CPU cores: assuming 4</span><br><span class="line">I tensorflow/core/common_runtime/local_session.cc:45] Local session inter op parallelism threads: 4</span><br><span class="line">&gt;&gt;&gt; print sess.run(hello)</span><br><span class="line">Hello,TensorFlow!</span><br><span class="line">&gt;&gt;&gt;</span><br></pre></td></tr></table></figure>
<p>letâ€™s see this tensorflow dir</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">âœ  tensorflow ll</span><br><span class="line">total 4.0K</span><br><span class="line">drwxr-xr-x 16 hp staff 544 Feb 21 10:45 bin/</span><br><span class="line">drwxr-xr-x  3 hp staff 102 Feb 21 10:38 include/</span><br><span class="line">drwxr-xr-x  3 hp staff 102 Feb 21 10:38 lib/</span><br><span class="line">-rw-r--r--  1 hp staff  60 Feb 21 10:45 pip-selfcheck.json</span><br><span class="line">âœ  tensorflow</span><br></pre></td></tr></table></figure>
<h2 id="6-install-keras"><a href="#6-install-keras" class="headerlink" title="6. install keras"></a>6. install keras</h2><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">sudo pip install keras</span><br><span class="line"></span><br><span class="line">Successfully installed keras-1.2.2 pyyaml-3.12 theano-0.8.2</span><br></pre></td></tr></table></figure>
<h2 id="Refence"><a href="#Refence" class="headerlink" title="Refence"></a>Refence</h2><ol>
<li><a href="http://tensorflow.org" target="_blank" rel="external">tensorflowå®˜æ–¹åœ°å€</a></li>
<li><a href="https://pypi.python.org/pypi/pip" target="_blank" rel="external">pipå®˜æ–¹åœ°å€</a></li>
<li><a href="https://pypi.python.org/pypi/setuptools" target="_blank" rel="external">setuptoolså®˜æ–¹åœ°å€</a></li>
<li><a href="http://www.111cn.net/phper/python/66848.htm" target="_blank" rel="external">pythonå®‰è£…setuptoolsæ­¥éª¤è¯¦è§£</a></li>
<li><a href="http://pan.baidu.com/s/1c1corG8" target="_blank" rel="external">about pdfæ–‡ä»¶ä¸‹è½½</a></li>
<li><a href="http://tflearn.org/installation/#upgrade-tensorflow" target="_blank" rel="external">tflearn.org/installation</a></li>
</ol>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[Abalone's Age]]></title>
      <url>http://iequa.com/2017/02/17/ml-sample-Abalone-Age-2017-02-17-1413/</url>
      <content type="html"><![CDATA[<h2 id="Abaloneâ€™s-Age"><a href="#Abaloneâ€™s-Age" class="headerlink" title="Abaloneâ€™s Age"></a><a href="http://www.pkbigdata.com/common/cmpt/æˆç”µå¤§æ•°æ®åŸ¹è®­å®è·µ_ç«èµ›ä¿¡æ¯.html" target="_blank" rel="external">Abaloneâ€™s Age</a></h2><p>ã€Abaloneâ€™s Ageã€</p>
<p>é²é±¼ï¼Œåœ¨ç°ä»£æ±‰è¯­ä¸­æœ‰å¤šç§å«ä¹‰ã€‚æœ€å¸¸ç”¨çš„æ˜¯æŒ‡ä¸€ç§åŸå§‹çš„æµ·æ´‹è´ç±»ï¼Œå±äºå•å£³è½¯ä½“åŠ¨ç‰©ï¼Œå…¶åªæœ‰åŠé¢å¤–å£³ï¼Œå£³åšåšã€æ‰è€Œå®½ï¼Œé²é±¼æ˜¯ä¸­å›½ä¼ ç»Ÿçš„åè´µé£Ÿæï¼Œä½å±…å››å¤§æµ·å‘³ä¹‹é¦–ã€‚<br>é²é±¼çš„ä¼˜åŠ£ä¸å¹´é¾„ç›¸å…³ã€‚ä¸€èˆ¬æ¥è¯´ï¼Œæˆ‘ä»¬å¯ä»¥æ•°é²é±¼çš„ç”Ÿé•¿çº¹æ¥ç¡®å®šé²é±¼çš„å¹´é¾„ï¼Œä½†æ•°ç”Ÿé•¿çº¹ä¹Ÿæ˜¯ä¸€ä»¶æŒºéº»çƒ¦çš„äº‹æƒ…ã€‚åœ¨è¿™é‡Œï¼Œæˆ‘ä»¬é‡‡ç”¨ä¸é²é±¼å¹´é¾„æœ‰å…³çš„å› ç´ æ¥é¢„æµ‹é²é±¼çš„å¹´é¾„ã€‚</p>
<p>æ„å»ºPybrainç¥ç»ç½‘ç»œçš„åŸºæœ¬æ­¥éª¤ï¼š</p>
<ol>
<li>æ„å»ºç¥ç»ç½‘è·¯</li>
<li>æ„é€ æ•°æ®é›†</li>
<li>è®­ç»ƒç¥ç»ç½‘ç»œ</li>
<li>é¢„æµ‹æµ‹è¯•é›†ç»“æœ</li>
<li>æäº¤,éªŒè¯å’Œåˆ†æ</li>
</ol>
<h2 id="1-åˆ†æé—®é¢˜"><a href="#1-åˆ†æé—®é¢˜" class="headerlink" title="1. åˆ†æé—®é¢˜"></a>1. åˆ†æé—®é¢˜</h2><p>åˆ†æä»€ä¹ˆç‰¹å¾æ˜¯æ›´é‡è¦çš„</p>
<p><strong><font color="red">å…ˆçœ‹çœ‹æ•°æ®é•¿ä»€ä¹ˆæ · </font></strong> è¿˜æ˜¯ç”¨pandasåŠ è½½æ•°æ®</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment"># è¿™ä¸ªipython notebookä¸»è¦æ˜¯æˆ‘è§£å†³Kaggle Titanicé—®é¢˜çš„æ€è·¯å’Œè¿‡ç¨‹</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> pandas <span class="keyword">as</span> pd <span class="comment">#æ•°æ®åˆ†æ</span></span><br><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np <span class="comment">#ç§‘å­¦è®¡ç®—</span></span><br><span class="line"><span class="keyword">from</span> pandas <span class="keyword">import</span> Series,DataFrame</span><br><span class="line"></span><br><span class="line">data_train = pd.read_csv(<span class="string">"traindata.csv"</span>)</span><br><span class="line"><span class="keyword">print</span> data_train.columns</span><br><span class="line"><span class="keyword">print</span> <span class="string">"============ df info ============"</span></span><br><span class="line">data_train.info()</span><br></pre></td></tr></table></figure>
<pre><code>Index([u&apos;Sex&apos;, u&apos;Length&apos;, u&apos;Diameter&apos;, u&apos;Hight&apos;, u&apos;Whole&apos;, u&apos;Shucked&apos;,
       u&apos;Viscera&apos;, u&apos;Shell&apos;, u&apos;Rings&apos;],
      dtype=&apos;object&apos;)
============ df info ============
&lt;class &apos;pandas.core.frame.DataFrame&apos;&gt;
RangeIndex: 3177 entries, 0 to 3176
Data columns (total 9 columns):
Sex         3177 non-null object
Length      3177 non-null float64
Diameter    3177 non-null float64
Hight       3177 non-null float64
Whole       3177 non-null float64
Shucked     3177 non-null float64
Viscera     3177 non-null float64
Shell       3177 non-null float64
Rings       3177 non-null int64
dtypes: float64(7), int64(1), object(1)
memory usage: 223.5+ KB
</code></pre><font color="blue">æˆ‘ä»¬çœ‹å¤§æ¦‚æœ‰ä»¥ä¸‹è¿™äº›å­—æ®µ</font>

<ol>
<li>Sex</li>
<li>Length</li>
<li>Diameter</li>
<li>Hight</li>
<li>Whole</li>
<li>Shucked</li>
<li>Viscera</li>
<li>Shell</li>
<li>Rings =&gt; Age</li>
</ol>
<p>ä¸Šé¢çš„æ•°æ®è¯´ä»€ä¹ˆäº†ï¼Ÿå®ƒå‘Šè¯‰æˆ‘ä»¬ï¼Œä¸€å…±æœ‰9 Column æ•°æ®ï¼Œè®­ç»ƒæ•°æ®ä¸­æ€»å…±æœ‰ 3177 åª abaloneï¼Œæ‰€æœ‰çš„æ•°æ®éƒ½æ˜¯å…¨çš„ã€‚</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">data_train.describe()</span><br></pre></td></tr></table></figure>
<table>
<thead>
<tr>
<th>~</th>
<th>Length</th>
<th>Diameter</th>
<th>Hight</th>
<th>Whole</th>
<th>Shucked</th>
<th>Viscera</th>
<th>Shell</th>
<th>Rings</th>
</tr>
</thead>
<tbody>
<tr>
<td>count</td>
<td>3177</td>
<td>3177</td>
<td>3177</td>
<td>3177</td>
<td>3177</td>
<td>3177</td>
<td>3177</td>
<td>3177</td>
</tr>
<tr>
<td>mean</td>
<td>0.52</td>
<td>0.41</td>
<td>0.14</td>
<td>0.83</td>
<td>0.36</td>
<td>0.18</td>
<td>0.24</td>
<td>9.92</td>
</tr>
</tbody>
</table>
<ul>
<li><font color="blue">ã€å¯¹æ•°æ®çš„è®¤è¯†å¤ªé‡è¦äº†ï¼ã€<font></font></font></li>
<li><font color="red">ã€å¯¹æ•°æ®çš„è®¤è¯†å¤ªé‡è¦äº†ï¼ã€<font></font></font></li>
<li><font color="green">ã€å¯¹æ•°æ®çš„è®¤è¯†å¤ªé‡è¦äº†ï¼ã€<font></font></font></li>
</ul>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">data_train</span><br></pre></td></tr></table></figure>
<h2 id="2-å‡†å¤‡æ•°æ®"><a href="#2-å‡†å¤‡æ•°æ®" class="headerlink" title="2. å‡†å¤‡æ•°æ®"></a>2. å‡†å¤‡æ•°æ®</h2><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment"># å¯¹ sex è¿›è¡Œ one-hot ç¼–ç </span></span><br><span class="line">dummies_Sex = pd.get_dummies(data_train[<span class="string">'Sex'</span>], prefix= <span class="string">'Sex'</span>)</span><br><span class="line"></span><br><span class="line">df = pd.concat([data_train, dummies_Sex], axis=<span class="number">1</span>)</span><br><span class="line">df.drop([<span class="string">'Sex'</span>], axis=<span class="number">1</span>, inplace=<span class="keyword">True</span>)</span><br><span class="line">train_df = df</span><br><span class="line">train_df</span><br></pre></td></tr></table></figure>
<h2 id="3-æ„é€ ç¥ç»ç½‘ç»œ-NN"><a href="#3-æ„é€ ç¥ç»ç½‘ç»œ-NN" class="headerlink" title="3. æ„é€ ç¥ç»ç½‘ç»œ NN"></a>3. æ„é€ ç¥ç»ç½‘ç»œ NN</h2><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"><span class="keyword">import</span> pandas <span class="keyword">as</span> pd</span><br><span class="line"></span><br><span class="line"><span class="keyword">from</span> pandas <span class="keyword">import</span> Series,DataFrame</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> pandas.io.data <span class="keyword">as</span> wb</span><br><span class="line"></span><br><span class="line"><span class="keyword">from</span> pybrain.structure <span class="keyword">import</span> *</span><br><span class="line"><span class="keyword">from</span> pybrain.datasets <span class="keyword">import</span> SupervisedDataSet</span><br><span class="line"><span class="keyword">from</span> pybrain.supervised.trainers <span class="keyword">import</span> BackpropTrainer</span><br><span class="line"></span><br><span class="line"><span class="comment"># createa neural network</span></span><br><span class="line">fnn = FeedForwardNetwork()</span><br><span class="line"></span><br><span class="line"><span class="comment"># create three layers, input layer:2 input unit; hidden layer: 10 units; output layer: 1 output</span></span><br><span class="line">inLayer = LinearLayer(<span class="number">10</span>, name=<span class="string">'inLayer'</span>)</span><br><span class="line">hiddenLayer0 = SigmoidLayer(<span class="number">3</span>, name=<span class="string">'hiddenLayer0'</span>)</span><br><span class="line">outLayer = LinearLayer(<span class="number">1</span>, name=<span class="string">'outLayer'</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># add three layers to the neural network</span></span><br><span class="line">fnn.addInputModule(inLayer)</span><br><span class="line">fnn.addModule(hiddenLayer0)</span><br><span class="line">fnn.addOutputModule(outLayer)</span><br><span class="line"></span><br><span class="line"><span class="comment"># link three layers</span></span><br><span class="line">in_to_hidden0 = FullConnection(inLayer,hiddenLayer0)</span><br><span class="line">hidden0_to_out = FullConnection(hiddenLayer0, outLayer)</span><br><span class="line"></span><br><span class="line"><span class="comment"># add the links to neural network</span></span><br><span class="line">fnn.addConnection(in_to_hidden0)</span><br><span class="line">fnn.addConnection(hidden0_to_out)</span><br><span class="line"></span><br><span class="line"><span class="comment"># make neural network come into effect</span></span><br><span class="line">fnn.sortModules()</span><br></pre></td></tr></table></figure>
<h2 id="4-æ„é€ æ•°æ®é›†"><a href="#4-æ„é€ æ•°æ®é›†" class="headerlink" title="4. æ„é€ æ•°æ®é›†"></a>4. æ„é€ æ•°æ®é›†</h2><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment"># obtain the original data</span></span><br><span class="line"></span><br><span class="line">x1 = train_df[<span class="string">'Length'</span>]</span><br><span class="line">x2 = train_df[<span class="string">'Diameter'</span>]</span><br><span class="line">x3 = train_df[<span class="string">'Hight'</span>]</span><br><span class="line">x4 = train_df[<span class="string">'Whole'</span>]</span><br><span class="line">x5 = train_df[<span class="string">'Shucked'</span>]</span><br><span class="line">x6 = train_df[<span class="string">'Viscera'</span>]</span><br><span class="line">x7 = train_df[<span class="string">'Shell'</span>]</span><br><span class="line">x8 = train_df[<span class="string">'Sex_F'</span>]</span><br><span class="line">x9 = train_df[<span class="string">'Sex_I'</span>]</span><br><span class="line">x10 = train_df[<span class="string">'Sex_M'</span>]</span><br><span class="line"></span><br><span class="line">y = train_df[<span class="string">'Rings'</span>]</span><br><span class="line"></span><br><span class="line"><span class="comment"># definite the dataset as two input , one output</span></span><br><span class="line">DS = SupervisedDataSet(<span class="number">10</span>,<span class="number">1</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># add data element to the dataset</span></span><br><span class="line"><span class="comment"># å¾€æ•°æ®é›†å†…åŠ æ ·æœ¬ç‚¹</span></span><br><span class="line"><span class="comment"># å‡è®¾x1ï¼Œx2ï¼Œx3æ˜¯è¾“å…¥çš„ä¸‰ä¸ªç»´åº¦å‘é‡ï¼Œyæ˜¯è¾“å‡ºå‘é‡ï¼Œå¹¶ä¸”å®ƒä»¬çš„é•¿åº¦ç›¸åŒ</span></span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> np.arange(len(train_df)):</span><br><span class="line">    DS.addSample([x1[i],x2[i],x3[i],x4[i],x5[i],x6[i],x7[i],x8[i],x9[i],x10[i]],[y[i]])</span><br><span class="line"></span><br><span class="line"><span class="comment"># you can get your input/output this way</span></span><br><span class="line"><span class="comment"># å¦‚æœè¦è·å¾—é‡Œé¢çš„è¾“å…¥ï¼è¾“å‡ºæ—¶ï¼Œå¯ä»¥ç”¨</span></span><br><span class="line">X = DS[<span class="string">'input'</span>]</span><br><span class="line">Y = DS[<span class="string">'target'</span>]</span><br><span class="line"></span><br><span class="line"><span class="comment"># split the dataset into train dataset and test dataset</span></span><br><span class="line"><span class="comment"># å¦‚æœè¦æŠŠæ•°æ®é›†åˆ‡åˆ†æˆè®­ç»ƒé›†å’Œæµ‹è¯•é›†ï¼Œå¯ä»¥ç”¨ä¸‹é¢çš„è¯­å¥ï¼Œè®­ç»ƒé›†ï¼šæµ‹è¯•é›†ï¼8:2</span></span><br><span class="line"><span class="comment"># ä¸ºäº†æ–¹ä¾¿ä¹‹åçš„è°ƒç”¨ï¼Œå¯ä»¥æŠŠè¾“å…¥å’Œè¾“å‡ºæ‹å‡ºæ¥</span></span><br><span class="line">dataTrain, dataTest = DS.splitWithProportion(<span class="number">0.8</span>)</span><br><span class="line">xTrain, yTrain = dataTrain[<span class="string">'input'</span>],dataTrain[<span class="string">'target'</span>]</span><br><span class="line">xTest, yTest = dataTest[<span class="string">'input'</span>], dataTest[<span class="string">'target'</span>]</span><br><span class="line"></span><br><span class="line"><span class="keyword">print</span> <span class="string">"bulid data sets end ï¼"</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#print xTest[1]</span></span><br><span class="line">type(xTest)</span><br></pre></td></tr></table></figure>
<pre><code>bulid data sets end ï¼

numpy.ndarray
</code></pre><h2 id="5-è®­ç»ƒç¥ç»ç½‘ç»œ"><a href="#5-è®­ç»ƒç¥ç»ç½‘ç»œ" class="headerlink" title="5. è®­ç»ƒç¥ç»ç½‘ç»œ"></a>5. è®­ç»ƒç¥ç»ç½‘ç»œ</h2><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment"># train the NN</span></span><br><span class="line"><span class="comment"># we use BP Algorithm</span></span><br><span class="line"><span class="comment"># verbose = True means print th total error</span></span><br><span class="line"><span class="keyword">print</span> <span class="string">"trainer start..."</span></span><br><span class="line">trainer = BackpropTrainer(fnn, dataTrain, verbose=<span class="keyword">False</span>,learningrate=<span class="number">0.01</span>)</span><br><span class="line"><span class="keyword">print</span> <span class="string">"run..."</span></span><br><span class="line"><span class="comment"># set the epoch times to make the NN  fit</span></span><br><span class="line">trainer.trainUntilConvergence(maxEpochs=<span class="number">500</span>)</span><br><span class="line"><span class="keyword">print</span> <span class="string">"trainer end!"</span></span><br></pre></td></tr></table></figure>
<pre><code>trainer start...
run...
trainer end!
</code></pre><h2 id="6-é¢„æµ‹testdata"><a href="#6-é¢„æµ‹testdata" class="headerlink" title="6. é¢„æµ‹testdata"></a>6. é¢„æµ‹testdata</h2><figure class="highlight python"><table><tr><td class="code"><pre><span class="line">data_test = pd.read_csv(<span class="string">"testdata.csv"</span>)</span><br><span class="line"><span class="comment"># å¯¹ sex è¿›è¡Œ one-hot ç¼–ç </span></span><br><span class="line">dummies_Sex = pd.get_dummies(data_test[<span class="string">'Sex'</span>], prefix= <span class="string">'Sex'</span>)</span><br><span class="line"></span><br><span class="line">df = pd.concat([data_test, dummies_Sex], axis=<span class="number">1</span>)</span><br><span class="line">df.drop([<span class="string">'Sex'</span>], axis=<span class="number">1</span>, inplace=<span class="keyword">True</span>)</span><br><span class="line">df_test = df</span><br><span class="line">df_test</span><br><span class="line"></span><br><span class="line">test = df_test.filter(regex=<span class="string">'Length|Diameter|Hight|Whole|Shucked|Viscera|Shell|Sex_F|Sex_I|Sex_M'</span>)</span><br><span class="line">test</span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">xTest = test.as_matrix()</span><br><span class="line">xTest</span><br><span class="line"><span class="comment"># prediction = fnn.activate(xTest[1])</span></span><br><span class="line"><span class="comment"># print("the prediction number is :",prediction," the real number is:  ",yTest[1])</span></span><br><span class="line">predict_resutl=[]</span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> np.arange(len(xTest)):</span><br><span class="line">    res = fnn.activate(xTest[i])[<span class="number">0</span>]</span><br><span class="line">    predict_resutl.append(round(res))</span><br><span class="line"></span><br><span class="line">final_res = np.array(predict_resutl).T</span><br><span class="line"></span><br><span class="line">result = pd.DataFrame(&#123;<span class="string">'ID'</span>:data_test[<span class="string">'ID'</span>].as_matrix(), <span class="string">'Rings'</span>:final_res&#125;)</span><br><span class="line">result</span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">result.to_csv(<span class="string">"abalone_predictions.csv"</span>, index=<span class="keyword">False</span>)</span><br></pre></td></tr></table></figure>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[Kaggle_Titanic]]></title>
      <url>http://iequa.com/2017/02/16/ml-sample-BPNN-Titanic-2017-02-16-1732-ipynb/</url>
      <content type="html"><![CDATA[<h2 id="æ³°å¦å°¼å…‹å·"><a href="#æ³°å¦å°¼å…‹å·" class="headerlink" title="æ³°å¦å°¼å…‹å·"></a><a href="https://www.kaggle.com/c/titanic" target="_blank" rel="external">æ³°å¦å°¼å…‹å·</a></h2><p>ã€Jack and Roseã€çš„æ•…äº‹ï¼Œè±ªåæ¸¸è‰‡å€’äº†ï¼Œå¤§å®¶éƒ½æƒŠæé€ƒç”Ÿï¼Œå¯æ˜¯æ•‘ç”Ÿè‰‡çš„æ•°é‡æœ‰é™ï¼Œæ— æ³•äººäººéƒ½æœ‰ï¼Œå‰¯èˆ¹é•¿å‘è¯äº†ã€lady and kid firstï¼ã€ï¼Œæ‰€ä»¥æ˜¯å¦è·æ•‘å…¶å®å¹¶ééšæœºï¼Œè€Œæ˜¯åŸºäºä¸€äº›èƒŒæ™¯æœ‰rankå…ˆåçš„ã€‚<br><br>è®­ç»ƒå’Œæµ‹è¯•æ•°æ®æ˜¯ä¸€äº›ä¹˜å®¢çš„ä¸ªäººä¿¡æ¯ä»¥åŠå­˜æ´»çŠ¶å†µï¼Œè¦å°è¯•æ ¹æ®å®ƒç”Ÿæˆåˆé€‚çš„æ¨¡å‹å¹¶é¢„æµ‹å…¶ä»–äººçš„å­˜æ´»çŠ¶å†µã€‚<br></p>
<p>è¿™æ˜¯ä¸€ä¸ªäºŒåˆ†ç±»é—®é¢˜ï¼Œå¾ˆå¤šåˆ†ç±»ç®—æ³•éƒ½å¯ä»¥è§£å†³ã€‚</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">æ„å»ºPybrainç¥ç»ç½‘ç»œçš„åŸºæœ¬æ­¥éª¤ï¼š</span><br><span class="line"></span><br><span class="line">1. æ„å»ºç¥ç»ç½‘è·¯</span><br><span class="line">2. æ„é€ æ•°æ®é›†</span><br><span class="line">3. è®­ç»ƒç¥ç»ç½‘ç»œ</span><br><span class="line">4. é¢„æµ‹æµ‹è¯•é›†ç»“æœ</span><br><span class="line">5. éªŒè¯å’Œåˆ†æ</span><br></pre></td></tr></table></figure>
<h2 id="1-åˆ†æé—®é¢˜"><a href="#1-åˆ†æé—®é¢˜" class="headerlink" title="1. åˆ†æé—®é¢˜"></a>1. åˆ†æé—®é¢˜</h2><blockquote>
<p>åˆ†æä»€ä¹ˆç‰¹å¾æ˜¯æ›´é‡è¦çš„</p>
</blockquote>
<p>å…ˆçœ‹çœ‹æ•°æ®é•¿ä»€ä¹ˆæ ·ï¼Ÿ è¿˜æ˜¯ç”¨pandasåŠ è½½æ•°æ®</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment"># è¿™ä¸ªipython notebookä¸»è¦æ˜¯æˆ‘è§£å†³Kaggle Titanicé—®é¢˜çš„æ€è·¯å’Œè¿‡ç¨‹</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> pandas <span class="keyword">as</span> pd <span class="comment">#æ•°æ®åˆ†æ</span></span><br><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np <span class="comment">#ç§‘å­¦è®¡ç®—</span></span><br><span class="line"><span class="keyword">from</span> pandas <span class="keyword">import</span> Series,DataFrame</span><br><span class="line"></span><br><span class="line">data_train = pd.read_csv(<span class="string">"Train.csv"</span>)</span><br><span class="line"><span class="keyword">print</span> data_train.columns</span><br><span class="line"><span class="keyword">print</span> <span class="string">"============ df info ============"</span></span><br><span class="line">data_train.info()</span><br></pre></td></tr></table></figure>
<pre><code>Index([u&apos;PassengerId&apos;, u&apos;Survived&apos;, u&apos;Pclass&apos;, u&apos;Name&apos;, u&apos;Sex&apos;, u&apos;Age&apos;,
       u&apos;SibSp&apos;, u&apos;Parch&apos;, u&apos;Ticket&apos;, u&apos;Fare&apos;, u&apos;Cabin&apos;, u&apos;Embarked&apos;],
      dtype=&apos;object&apos;)
============ df info ============
&lt;class &apos;pandas.core.frame.DataFrame&apos;&gt;
RangeIndex: 891 entries, 0 to 890
Data columns (total 12 columns):
PassengerId    891 non-null int64
Survived       891 non-null int64
Pclass         891 non-null int64
Name           891 non-null object
Sex            891 non-null object
Age            714 non-null float64
SibSp          891 non-null int64
Parch          891 non-null int64
Ticket         891 non-null object
Fare           891 non-null float64
Cabin          204 non-null object
Embarked       889 non-null object
dtypes: float64(2), int64(5), object(5)
memory usage: 83.6+ KB
</code></pre><p>æˆ‘ä»¬çœ‹å¤§æ¦‚æœ‰ä»¥ä¸‹è¿™äº›å­—æ®µ</p>
<p>PassengerId =&gt; ä¹˜å®¢ID<br>Pclass =&gt; ä¹˜å®¢ç­‰çº§(1/2/3ç­‰èˆ±ä½)<br>Name =&gt; ä¹˜å®¢å§“å<br>Sex =&gt; æ€§åˆ«<br>Age =&gt; å¹´é¾„<br>SibSp =&gt; å ‚å…„å¼Ÿ/å¦¹ä¸ªæ•°<br>Parch =&gt; çˆ¶æ¯ä¸å°å­©ä¸ªæ•°<br>Ticket =&gt; èˆ¹ç¥¨ä¿¡æ¯<br>Fare =&gt; ç¥¨ä»·<br>Cabin =&gt; å®¢èˆ±<br>Embarked =&gt; ç™»èˆ¹æ¸¯å£</p>
<p>ä¸Šé¢çš„æ•°æ®è¯´ä»€ä¹ˆäº†ï¼Ÿå®ƒå‘Šè¯‰æˆ‘ä»¬ï¼Œè®­ç»ƒæ•°æ®ä¸­æ€»å…±æœ‰891åä¹˜å®¢ï¼Œä½†æ˜¯å¾ˆä¸å¹¸ï¼Œæˆ‘ä»¬æœ‰äº›å±æ€§çš„æ•°æ®ä¸å…¨ï¼Œæ¯”å¦‚è¯´ï¼š</p>
<ul>
<li>Ageï¼ˆå¹´é¾„ï¼‰å±æ€§åªæœ‰714åä¹˜å®¢æœ‰è®°å½•</li>
<li>Cabinï¼ˆå®¢èˆ±ï¼‰æ›´æ˜¯åªæœ‰204åä¹˜å®¢æ˜¯å·²çŸ¥çš„</li>
</ul>
<p>å†ç„ä¸€çœ¼å…·ä½“æ•°æ®æ•°å€¼æƒ…å†µï¼Œå¾—åˆ°æ•°å€¼å‹æ•°æ®çš„ä¸€äº›åˆ†å¸ƒ(å› ä¸ºæœ‰äº›å±æ€§ï¼Œæ¯”å¦‚å§“åï¼Œæ˜¯æ–‡æœ¬å‹ï¼›è€Œå¦å¤–ä¸€äº›å±æ€§ï¼Œæ¯”å¦‚ç™»èˆ¹æ¸¯å£ï¼Œæ˜¯ç±»ç›®å‹ã€‚è¿™äº›æˆ‘ä»¬ç”¨ä¸‹é¢çš„å‡½æ•°æ˜¯çœ‹ä¸åˆ°çš„)</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">data_train.describe()</span><br></pre></td></tr></table></figure>
<table>
<thead>
<tr>
<th>-</th>
<th>PassengerId</th>
<th>Survived</th>
<th>Pclass</th>
<th>Age</th>
<th>SibSp</th>
<th>Parch</th>
<th>Fare</th>
</tr>
</thead>
<tbody>
<tr>
<td>count</td>
<td>891.000000</td>
<td>891.000000</td>
<td>891.000000</td>
<td>714.000000</td>
<td>891.000000</td>
<td>891.000000</td>
<td>891.000000</td>
</tr>
<tr>
<td>mean</td>
<td>446.000000</td>
<td>0.383838</td>
<td>2.308642</td>
<td>29.699118</td>
<td>0.523008</td>
<td>0.381594</td>
<td>32.204208</td>
</tr>
</tbody>
</table>
<p><font color="red">meanå­—æ®µå‘Šè¯‰æˆ‘ä»¬ï¼Œå¤§æ¦‚0.383838çš„äººæœ€åè·æ•‘äº†ï¼Œ2/3ç­‰èˆ±çš„äººæ•°æ¯”1ç­‰èˆ±è¦å¤šï¼Œå¹³å‡ä¹˜å®¢å¹´é¾„å¤§æ¦‚æ˜¯29.7å²(è®¡ç®—è¿™ä¸ªæ—¶å€™ä¼šç•¥æ‰æ— è®°å½•çš„)ç­‰ç­‰â€¦<font></font></font></p>
<ul>
<li><font color="blue">ã€å¯¹æ•°æ®çš„è®¤è¯†å¤ªé‡è¦äº†ï¼ã€<font></font></font></li>
<li><font color="red">ã€å¯¹æ•°æ®çš„è®¤è¯†å¤ªé‡è¦äº†ï¼ã€<font></font></font></li>
<li><font color="green">ã€å¯¹æ•°æ®çš„è®¤è¯†å¤ªé‡è¦äº†ï¼ã€<font></font></font></li>
</ul>
<p>æ€»ç»“ : </p>
<ol>
<li>Cabinï¼Œæ²¡çœ‹å‡ºä»€ä¹ˆæ˜æ˜¾ç‰¹å¾ï¼Œç¼ºå¤±å€¼åˆå¤ªå¤š</li>
<li>Ageï¼šå¯ä»¥å°è¯•è¡¥å…¨ç¼ºå¤±çš„æ•°æ®</li>
</ol>
<p><strong>é€šå¸¸é‡åˆ°ç¼ºå€¼çš„æƒ…å†µï¼Œæˆ‘ä»¬ä¼šæœ‰å‡ ç§å¸¸è§çš„å¤„ç†æ–¹å¼</strong><br><br></p>
<ol>
<li>å¦‚æœç¼ºå€¼çš„æ ·æœ¬å æ€»æ•°æ¯”ä¾‹æé«˜ï¼Œæˆ‘ä»¬å¯èƒ½å°±ç›´æ¥èˆå¼ƒäº†ï¼Œä½œä¸ºç‰¹å¾åŠ å…¥çš„è¯ï¼Œå¯èƒ½åå€’å¸¦å…¥noiseï¼Œå½±å“æœ€åçš„ç»“æœäº†</li>
<li>å¦‚æœç¼ºå€¼çš„æ ·æœ¬é€‚ä¸­ï¼Œè€Œè¯¥å±æ€§éè¿ç»­å€¼ç‰¹å¾å±æ€§(æ¯”å¦‚è¯´ç±»ç›®å±æ€§)ï¼Œé‚£å°±æŠŠNaNä½œä¸ºä¸€ä¸ªæ–°ç±»åˆ«ï¼ŒåŠ åˆ°ç±»åˆ«ç‰¹å¾ä¸­</li>
<li>å¦‚æœç¼ºå€¼çš„æ ·æœ¬é€‚ä¸­ï¼Œè€Œè¯¥å±æ€§ä¸ºè¿ç»­å€¼ç‰¹å¾å±æ€§ï¼Œæœ‰æ—¶å€™æˆ‘ä»¬ä¼šè€ƒè™‘ç»™å®šä¸€ä¸ªstep(æ¯”å¦‚è¿™é‡Œçš„ageï¼Œæˆ‘ä»¬å¯ä»¥è€ƒè™‘æ¯éš”2/3å²ä¸ºä¸€ä¸ªæ­¥é•¿)ï¼Œç„¶åæŠŠå®ƒç¦»æ•£åŒ–ï¼Œä¹‹åæŠŠNaNä½œä¸ºä¸€ä¸ªtypeåŠ åˆ°å±æ€§ç±»ç›®ä¸­ã€‚</li>
<li>æœ‰äº›æƒ…å†µä¸‹ï¼Œç¼ºå¤±çš„å€¼ä¸ªæ•°å¹¶ä¸æ˜¯ç‰¹åˆ«å¤šï¼Œé‚£æˆ‘ä»¬ä¹Ÿå¯ä»¥è¯•ç€æ ¹æ®å·²æœ‰çš„å€¼ï¼Œæ‹Ÿåˆä¸€ä¸‹æ•°æ®ï¼Œè¡¥å……ä¸Šã€‚</li>
</ol>
<p>æœ¬ä¾‹ä¸­ï¼Œåä¸¤ç§å¤„ç†æ–¹å¼åº”è¯¥éƒ½æ˜¯å¯è¡Œçš„ï¼Œæˆ‘ä»¬å…ˆè¯•è¯•æ‹Ÿåˆè¡¥å…¨å§(æ²¡æœ‰ç‰¹åˆ«å¤šçš„èƒŒæ™¯å¯ä¾›æˆ‘ä»¬æ‹Ÿåˆï¼Œè¿™ä¸ä¸€å®šæ˜¯ä¸€ä¸ªå¥½çš„é€‰æ‹©)</p>
<p>æˆ‘ä»¬è¿™é‡Œç”¨scikit-learnä¸­çš„RandomForestæ¥æ‹Ÿåˆä¸€ä¸‹ç¼ºå¤±çš„å¹´é¾„æ•°æ®<br></p>
<ol>
<li>ä»æ•°æ®æ¥ä¼°è®¡ Age åº”è¯¥æ˜¯æ¯”è¾ƒé‡è¦çš„, è¿˜æœ‰æ¯•ç«Ÿ å‰¯èˆ¹é•¿å‘è¯äº†ã€lady and kid firstï¼ã€</li>
<li>Cabin ç¼ºå¤±å€¼å¤ªå¤šäº†ï¼Œå…ˆæŒ‰Cabinæœ‰æ— æ•°æ®ï¼Œå°†è¿™ä¸ªå±æ€§å¤„ç†æˆYeså’ŒNoä¸¤ç§ç±»å‹å§</li>
</ol>
<h2 id="2-å‡†å¤‡æ•°æ®"><a href="#2-å‡†å¤‡æ•°æ®" class="headerlink" title="2. å‡†å¤‡æ•°æ®"></a>2. å‡†å¤‡æ•°æ®</h2><ol>
<li>Age ä¸ cabin è¡¥å…¨</li>
<li>one-hot ç¼–ç </li>
<li>Feature Scaling</li>
</ol>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment"># æˆ‘ä»¬è¿™é‡Œç”¨scikit-learnä¸­çš„RandomForestæ¥æ‹Ÿåˆä¸€ä¸‹ç¼ºå¤±çš„å¹´é¾„æ•°æ®</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">from</span> sklearn.ensemble <span class="keyword">import</span> RandomForestRegressor</span><br><span class="line"> </span><br><span class="line"><span class="comment">### ä½¿ç”¨ RandomForestClassifier å¡«è¡¥ç¼ºå¤±çš„å¹´é¾„å±æ€§</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">set_missing_ages</span><span class="params">(df)</span>:</span></span><br><span class="line">    </span><br><span class="line">    <span class="comment"># æŠŠå·²æœ‰çš„æ•°å€¼å‹ç‰¹å¾å–å‡ºæ¥ä¸¢è¿›Random Forest Regressorä¸­</span></span><br><span class="line">    age_df = df[[<span class="string">'Age'</span>,<span class="string">'Fare'</span>, <span class="string">'Parch'</span>, <span class="string">'SibSp'</span>, <span class="string">'Pclass'</span>]]</span><br><span class="line"></span><br><span class="line">    <span class="comment"># ä¹˜å®¢åˆ†æˆå·²çŸ¥å¹´é¾„å’ŒæœªçŸ¥å¹´é¾„ä¸¤éƒ¨åˆ†</span></span><br><span class="line">    known_age = age_df[age_df.Age.notnull()].as_matrix()</span><br><span class="line">    unknown_age = age_df[age_df.Age.isnull()].as_matrix()</span><br><span class="line"></span><br><span class="line">    <span class="comment"># yå³ç›®æ ‡å¹´é¾„</span></span><br><span class="line">    y = known_age[:, <span class="number">0</span>] <span class="comment">## Age â€˜s value list</span></span><br><span class="line"></span><br><span class="line">    <span class="comment"># Xå³ç‰¹å¾å±æ€§å€¼</span></span><br><span class="line">    X = known_age[:, <span class="number">1</span>:] <span class="comment">## Fare çš„å€¼ list</span></span><br><span class="line"></span><br><span class="line">    <span class="comment"># fitåˆ°RandomForestRegressorä¹‹ä¸­</span></span><br><span class="line">    rfr = RandomForestRegressor(random_state=<span class="number">0</span>, n_estimators=<span class="number">2000</span>, n_jobs=<span class="number">-1</span>)</span><br><span class="line">    rfr.fit(X, y)</span><br><span class="line">    </span><br><span class="line">    <span class="comment"># ç”¨å¾—åˆ°çš„æ¨¡å‹è¿›è¡ŒæœªçŸ¥å¹´é¾„ç»“æœé¢„æµ‹</span></span><br><span class="line">    predictedAges = rfr.predict(unknown_age[:, <span class="number">1</span>::])</span><br><span class="line">    </span><br><span class="line">    <span class="comment"># ç”¨å¾—åˆ°çš„é¢„æµ‹ç»“æœå¡«è¡¥åŸç¼ºå¤±æ•°æ®</span></span><br><span class="line">    df.loc[ (df.Age.isnull()), <span class="string">'Age'</span> ] = predictedAges </span><br><span class="line">    </span><br><span class="line">    <span class="keyword">return</span> df, rfr</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">set_Cabin_type</span><span class="params">(df)</span>:</span></span><br><span class="line">    df.loc[ (df.Cabin.notnull()), <span class="string">'Cabin'</span> ] = <span class="string">"Yes"</span></span><br><span class="line">    df.loc[ (df.Cabin.isnull()), <span class="string">'Cabin'</span> ] = <span class="string">"No"</span></span><br><span class="line">    <span class="keyword">return</span> df</span><br><span class="line"></span><br><span class="line">data_train, rfr = set_missing_ages(data_train)</span><br><span class="line">data_train = set_Cabin_type(data_train)</span><br><span class="line">data_train</span><br></pre></td></tr></table></figure>
<p><strong>one-hot ç¼–ç </strong></p>
<p>å› ä¸ºé€»è¾‘å›å½’å»ºæ¨¡æ—¶ï¼Œéœ€è¦è¾“å…¥çš„ç‰¹å¾éƒ½æ˜¯æ•°å€¼å‹ç‰¹å¾ï¼Œæˆ‘ä»¬é€šå¸¸ä¼šå…ˆå¯¹ç±»ç›®å‹çš„ç‰¹å¾å› å­åŒ–/one-hotç¼–ç ã€‚ <br><br>ä»€ä¹ˆå«åšå› å­åŒ–/one-hotç¼–ç ï¼Ÿä¸¾ä¸ªä¾‹å­ï¼š<font><br></font></p>
<p>ä»¥Embarkedä¸ºä¾‹ï¼ŒåŸæœ¬ä¸€ä¸ªå±æ€§ç»´åº¦ï¼Œå› ä¸ºå…¶å–å€¼å¯ä»¥æ˜¯[â€˜Sâ€™,â€™Câ€™,â€™Qâ€˜]ï¼Œè€Œå°†å…¶å¹³å±•å¼€ä¸ºâ€™Embarked_Câ€™,â€™Embarked_Sâ€™, â€˜Embarked_Qâ€™ä¸‰ä¸ªå±æ€§<font><br></font></p>
<ol>
<li>åŸEmbarkedå–Sçš„ï¼Œåœ¨æ­¤å¤„çš„â€Embarked_Sâ€ä¸‹å–å€¼ä¸º1ï¼Œåœ¨â€™Embarked_Câ€™, â€˜Embarked_Qâ€™ä¸‹å–å€¼ä¸º0<br></li>
<li>åŸEmbarkedå–Cçš„ï¼Œåœ¨æ­¤å¤„çš„â€Embarked_Câ€ä¸‹å–å€¼ä¸º1ï¼Œåœ¨â€™Embarked_Sâ€™, â€˜Embarked_Qâ€™ä¸‹å–å€¼ä¸º0<br></li>
<li>åŸEmbarkedå–Qçš„ï¼Œåœ¨æ­¤å¤„çš„â€Embarked_Qâ€ä¸‹å–å€¼ä¸º1ï¼Œåœ¨â€™Embarked_Câ€™, â€˜Embarked_Sâ€™ä¸‹å–å€¼ä¸º0<br></li>
</ol>
<p>æˆ‘ä»¬ä½¿ç”¨pandasçš„â€get_dummiesâ€æ¥å®Œæˆè¿™ä¸ªå·¥ä½œï¼Œå¹¶æ‹¼æ¥åœ¨åŸæ¥çš„â€data_trainâ€ä¹‹ä¸Šï¼Œå¦‚ä¸‹æ‰€ç¤ºã€‚<br></p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment"># å› ä¸ºé€»è¾‘å›å½’å»ºæ¨¡æ—¶ï¼Œéœ€è¦è¾“å…¥çš„ç‰¹å¾éƒ½æ˜¯æ•°å€¼å‹ç‰¹å¾</span></span><br><span class="line"><span class="comment"># æˆ‘ä»¬å…ˆå¯¹ç±»ç›®å‹çš„ç‰¹å¾ç¦»æ•£/å› å­åŒ–</span></span><br><span class="line"><span class="comment"># ä»¥Cabinä¸ºä¾‹ï¼ŒåŸæœ¬ä¸€ä¸ªå±æ€§ç»´åº¦ï¼Œå› ä¸ºå…¶å–å€¼å¯ä»¥æ˜¯['yes','no']ï¼Œè€Œå°†å…¶å¹³å±•å¼€ä¸º'Cabin_yes','Cabin_no'ä¸¤ä¸ªå±æ€§</span></span><br><span class="line"><span class="comment"># åŸæœ¬Cabinå–å€¼ä¸ºyesçš„ï¼Œåœ¨æ­¤å¤„çš„'Cabin_yes'ä¸‹å–å€¼ä¸º1ï¼Œåœ¨'Cabin_no'ä¸‹å–å€¼ä¸º0</span></span><br><span class="line"><span class="comment"># åŸæœ¬Cabinå–å€¼ä¸ºnoçš„ï¼Œåœ¨æ­¤å¤„çš„'Cabin_yes'ä¸‹å–å€¼ä¸º0ï¼Œåœ¨'Cabin_no'ä¸‹å–å€¼ä¸º1</span></span><br><span class="line"><span class="comment"># æˆ‘ä»¬ä½¿ç”¨pandasçš„get_dummiesæ¥å®Œæˆè¿™ä¸ªå·¥ä½œï¼Œå¹¶æ‹¼æ¥åœ¨åŸæ¥çš„data_trainä¹‹ä¸Šï¼Œå¦‚ä¸‹æ‰€ç¤º</span></span><br><span class="line">dummies_Cabin = pd.get_dummies(data_train[<span class="string">'Cabin'</span>], prefix= <span class="string">'Cabin'</span>)</span><br><span class="line"></span><br><span class="line">dummies_Embarked = pd.get_dummies(data_train[<span class="string">'Embarked'</span>], prefix= <span class="string">'Embarked'</span>)</span><br><span class="line"></span><br><span class="line">dummies_Sex = pd.get_dummies(data_train[<span class="string">'Sex'</span>], prefix= <span class="string">'Sex'</span>)</span><br><span class="line"></span><br><span class="line">dummies_Pclass = pd.get_dummies(data_train[<span class="string">'Pclass'</span>], prefix= <span class="string">'Pclass'</span>)</span><br><span class="line">df = pd.concat([data_train, dummies_Cabin, dummies_Embarked, dummies_Sex, dummies_Pclass], axis=<span class="number">1</span>)</span><br><span class="line">df.drop([<span class="string">'Pclass'</span>, <span class="string">'Name'</span>, <span class="string">'Sex'</span>, <span class="string">'Ticket'</span>, <span class="string">'Cabin'</span>, <span class="string">'Embarked'</span>], axis=<span class="number">1</span>, inplace=<span class="keyword">True</span>)</span><br><span class="line">df</span><br></pre></td></tr></table></figure>
<table>
<thead>
<tr>
<th>PassengerId</th>
<th>â€¦</th>
<th>Embarked_C</th>
<th>Embarked_Q</th>
<th>Embarked_S</th>
<th>Sex_female</th>
<th>Sex_male</th>
<th>Pclass_1</th>
<th>Pclass_2</th>
<th>Pclass_3</th>
</tr>
</thead>
<tbody>
<tr>
<td>1</td>
<td>â€¦</td>
<td>1.0</td>
<td>0.0</td>
<td>0.0</td>
<td>0.0</td>
<td>1.0</td>
<td>0.0</td>
<td>0.0</td>
<td>1.0</td>
</tr>
</tbody>
</table>
<p><strong>Feature Scaling</strong></p>
<p><font color="red">Ageå’ŒFareä¸¤ä¸ªå±æ€§ï¼Œä¹˜å®¢çš„æ•°å€¼å¹…åº¦å˜åŒ–ï¼Œscalingï¼Œå…¶å®å°±æ˜¯å°†ä¸€äº›å˜åŒ–å¹…åº¦è¾ƒå¤§çš„ç‰¹å¾åŒ–åˆ°[-1,1]ä¹‹å†…ã€‚<font></font></font></p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment"># æ¥ä¸‹æ¥æˆ‘ä»¬è¦æ¥ç€åšä¸€äº›æ•°æ®é¢„å¤„ç†çš„å·¥ä½œï¼Œæ¯”å¦‚scalingï¼Œå°†ä¸€äº›å˜åŒ–å¹…åº¦è¾ƒå¤§çš„ç‰¹å¾åŒ–åˆ°[-1,1]ä¹‹å†…</span></span><br><span class="line"><span class="comment"># è¿™æ ·å¯ä»¥åŠ é€Ÿlogistic regressionçš„æ”¶æ•›</span></span><br><span class="line"><span class="keyword">import</span> sklearn.preprocessing <span class="keyword">as</span> preprocessing</span><br><span class="line">scaler = preprocessing.StandardScaler()</span><br><span class="line">age_scale_param = scaler.fit(df[<span class="string">'Age'</span>])</span><br><span class="line">df[<span class="string">'Age_scaled'</span>] = scaler.fit_transform(df[<span class="string">'Age'</span>], age_scale_param)</span><br><span class="line">fare_scale_param = scaler.fit(df[<span class="string">'Fare'</span>])</span><br><span class="line">df[<span class="string">'Fare_scaled'</span>] = scaler.fit_transform(df[<span class="string">'Fare'</span>], fare_scale_param)</span><br><span class="line">df</span><br><span class="line">train_df = df.filter(regex=<span class="string">'Survived|Age_.*|SibSp|Parch|Fare_.*|Cabin_.*|Embarked_.*|Sex_.*|Pclass_.*'</span>)</span><br><span class="line">train_df</span><br></pre></td></tr></table></figure>
<h2 id="3-æ„é€ ç¥ç»ç½‘ç»œ"><a href="#3-æ„é€ ç¥ç»ç½‘ç»œ" class="headerlink" title="3. æ„é€ ç¥ç»ç½‘ç»œ"></a>3. æ„é€ ç¥ç»ç½‘ç»œ</h2><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"><span class="keyword">import</span> pandas <span class="keyword">as</span> pd</span><br><span class="line"></span><br><span class="line"><span class="keyword">from</span> pandas <span class="keyword">import</span> Series,DataFrame</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> pandas.io.data <span class="keyword">as</span> wb</span><br><span class="line"></span><br><span class="line"><span class="keyword">from</span> pybrain.structure <span class="keyword">import</span> *</span><br><span class="line"><span class="keyword">from</span> pybrain.datasets <span class="keyword">import</span> SupervisedDataSet</span><br><span class="line"><span class="keyword">from</span> pybrain.supervised.trainers <span class="keyword">import</span> BackpropTrainer</span><br><span class="line"></span><br><span class="line"><span class="comment"># createa neural network</span></span><br><span class="line">fnn = FeedForwardNetwork()</span><br><span class="line"></span><br><span class="line"><span class="comment"># create three layers, input layer:2 input unit; hidden layer: 10 units; output layer: 1 output</span></span><br><span class="line">inLayer = LinearLayer(<span class="number">9</span>, name=<span class="string">'inLayer'</span>)</span><br><span class="line">hiddenLayer0 = SigmoidLayer(<span class="number">1</span>, name=<span class="string">'hiddenLayer0'</span>)</span><br><span class="line">outLayer = LinearLayer(<span class="number">1</span>, name=<span class="string">'outLayer'</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># add three layers to the neural network</span></span><br><span class="line">fnn.addInputModule(inLayer)</span><br><span class="line">fnn.addModule(hiddenLayer0)</span><br><span class="line">fnn.addOutputModule(outLayer)</span><br><span class="line"></span><br><span class="line"><span class="comment"># link three layers</span></span><br><span class="line">in_to_hidden0 = FullConnection(inLayer,hiddenLayer0)</span><br><span class="line">hidden0_to_out = FullConnection(hiddenLayer0, outLayer)</span><br><span class="line"></span><br><span class="line"><span class="comment"># add the links to neural network</span></span><br><span class="line">fnn.addConnection(in_to_hidden0)</span><br><span class="line">fnn.addConnection(hidden0_to_out)</span><br><span class="line"></span><br><span class="line"><span class="comment"># make neural network come into effect</span></span><br><span class="line">fnn.sortModules()</span><br></pre></td></tr></table></figure>
<h2 id="4-æ„é€ æ•°æ®é›†"><a href="#4-æ„é€ æ•°æ®é›†" class="headerlink" title="4. æ„é€ æ•°æ®é›†"></a>4. æ„é€ æ•°æ®é›†</h2><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment"># obtain the original data</span></span><br><span class="line"></span><br><span class="line">x1 = train_df[<span class="string">'SibSp'</span>]</span><br><span class="line">x2 = train_df[<span class="string">'Parch'</span>]</span><br><span class="line">x3 = train_df[<span class="string">'Sex_female'</span>]</span><br><span class="line">x4 = train_df[<span class="string">'Sex_male'</span>]</span><br><span class="line">x5 = train_df[<span class="string">'Pclass_1'</span>]</span><br><span class="line">x6 = train_df[<span class="string">'Pclass_2'</span>]</span><br><span class="line">x7 = train_df[<span class="string">'Pclass_3'</span>]</span><br><span class="line">x8 = train_df[<span class="string">'Age_scaled'</span>]</span><br><span class="line">x9 = train_df[<span class="string">'Fare_scaled'</span>]</span><br><span class="line"></span><br><span class="line">y = train_df[<span class="string">'Survived'</span>]</span><br><span class="line"></span><br><span class="line"><span class="comment"># definite the dataset as two input , one output</span></span><br><span class="line">DS = SupervisedDataSet(<span class="number">9</span>,<span class="number">1</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># add data element to the dataset</span></span><br><span class="line"><span class="comment"># å¾€æ•°æ®é›†å†…åŠ æ ·æœ¬ç‚¹</span></span><br><span class="line"><span class="comment"># å‡è®¾x1ï¼Œx2ï¼Œx3æ˜¯è¾“å…¥çš„ä¸‰ä¸ªç»´åº¦å‘é‡ï¼Œyæ˜¯è¾“å‡ºå‘é‡ï¼Œå¹¶ä¸”å®ƒä»¬çš„é•¿åº¦ç›¸åŒ</span></span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> np.arange(len(train_df)):</span><br><span class="line">    DS.addSample([x1[i],x2[i],x3[i],x4[i],x5[i],x6[i],x7[i],x8[i],x9[i]],[y[i]])</span><br><span class="line"></span><br><span class="line"><span class="comment"># you can get your input/output this way</span></span><br><span class="line"><span class="comment"># å¦‚æœè¦è·å¾—é‡Œé¢çš„è¾“å…¥ï¼è¾“å‡ºæ—¶ï¼Œå¯ä»¥ç”¨</span></span><br><span class="line">X = DS[<span class="string">'input'</span>]</span><br><span class="line">Y = DS[<span class="string">'target'</span>]</span><br><span class="line"></span><br><span class="line"><span class="comment"># split the dataset into train dataset and test dataset</span></span><br><span class="line"><span class="comment"># å¦‚æœè¦æŠŠæ•°æ®é›†åˆ‡åˆ†æˆè®­ç»ƒé›†å’Œæµ‹è¯•é›†ï¼Œå¯ä»¥ç”¨ä¸‹é¢çš„è¯­å¥ï¼Œè®­ç»ƒé›†ï¼šæµ‹è¯•é›†ï¼8:2</span></span><br><span class="line"><span class="comment"># ä¸ºäº†æ–¹ä¾¿ä¹‹åçš„è°ƒç”¨ï¼Œå¯ä»¥æŠŠè¾“å…¥å’Œè¾“å‡ºæ‹å‡ºæ¥</span></span><br><span class="line">dataTrain, dataTest = DS.splitWithProportion(<span class="number">0.8</span>)</span><br><span class="line">xTrain, yTrain = dataTrain[<span class="string">'input'</span>],dataTrain[<span class="string">'target'</span>]</span><br><span class="line">xTest, yTest = dataTest[<span class="string">'input'</span>], dataTest[<span class="string">'target'</span>]</span><br><span class="line"></span><br><span class="line"><span class="keyword">print</span> <span class="string">"bulid data sets end ï¼"</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#print xTest[1]</span></span><br><span class="line">type(xTest)</span><br></pre></td></tr></table></figure>
<pre><code>bulid data sets end ï¼
numpy.ndarray
</code></pre><h2 id="5-è®­ç»ƒç¥ç»ç½‘ç»œ"><a href="#5-è®­ç»ƒç¥ç»ç½‘ç»œ" class="headerlink" title="5. è®­ç»ƒç¥ç»ç½‘ç»œ"></a>5. è®­ç»ƒç¥ç»ç½‘ç»œ</h2><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment"># train the NN</span></span><br><span class="line"><span class="comment"># we use BP Algorithm</span></span><br><span class="line"><span class="comment"># verbose = True means print th total error</span></span><br><span class="line"><span class="keyword">print</span> <span class="string">"trainer start..."</span></span><br><span class="line">trainer = BackpropTrainer(fnn, dataTrain, verbose=<span class="keyword">False</span>,learningrate=<span class="number">0.01</span>)</span><br><span class="line"><span class="keyword">print</span> <span class="string">"run..."</span></span><br><span class="line"><span class="comment"># set the epoch times to make the NN  fit</span></span><br><span class="line">trainer.trainUntilConvergence(maxEpochs=<span class="number">500</span>)</span><br><span class="line"><span class="keyword">print</span> <span class="string">"trainer end!"</span></span><br></pre></td></tr></table></figure>
<pre><code>trainer start...
run...
trainer end!
</code></pre><h2 id="6-é¢„æµ‹-test-csv"><a href="#6-é¢„æµ‹-test-csv" class="headerlink" title="6. é¢„æµ‹ test.csv"></a>6. é¢„æµ‹ test.csv</h2><figure class="highlight python"><table><tr><td class="code"><pre><span class="line">data_test = pd.read_csv(<span class="string">"test.csv"</span>)</span><br><span class="line">data_test.loc[ (data_test.Fare.isnull()), <span class="string">'Fare'</span> ] = <span class="number">0</span></span><br><span class="line"><span class="comment"># æ¥ç€æˆ‘ä»¬å¯¹test_dataåšå’Œtrain_dataä¸­ä¸€è‡´çš„ç‰¹å¾å˜æ¢</span></span><br><span class="line"><span class="comment"># é¦–å…ˆç”¨åŒæ ·çš„RandomForestRegressoræ¨¡å‹å¡«ä¸Šä¸¢å¤±çš„å¹´é¾„</span></span><br><span class="line">tmp_df = data_test[[<span class="string">'Age'</span>,<span class="string">'Fare'</span>, <span class="string">'Parch'</span>, <span class="string">'SibSp'</span>, <span class="string">'Pclass'</span>]]</span><br><span class="line">null_age = tmp_df[data_test.Age.isnull()].as_matrix()</span><br><span class="line"><span class="comment"># æ ¹æ®ç‰¹å¾å±æ€§Xé¢„æµ‹å¹´é¾„å¹¶è¡¥ä¸Š</span></span><br><span class="line">X = null_age[:, <span class="number">1</span>:]</span><br><span class="line">predictedAges = rfr.predict(X)</span><br><span class="line">data_test.loc[ (data_test.Age.isnull()), <span class="string">'Age'</span> ] = predictedAges</span><br><span class="line"></span><br><span class="line">data_test = set_Cabin_type(data_test)</span><br><span class="line">dummies_Cabin = pd.get_dummies(data_test[<span class="string">'Cabin'</span>], prefix= <span class="string">'Cabin'</span>)</span><br><span class="line">dummies_Embarked = pd.get_dummies(data_test[<span class="string">'Embarked'</span>], prefix= <span class="string">'Embarked'</span>)</span><br><span class="line">dummies_Sex = pd.get_dummies(data_test[<span class="string">'Sex'</span>], prefix= <span class="string">'Sex'</span>)</span><br><span class="line">dummies_Pclass = pd.get_dummies(data_test[<span class="string">'Pclass'</span>], prefix= <span class="string">'Pclass'</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">df_test = pd.concat([data_test, dummies_Cabin, dummies_Embarked, dummies_Sex, dummies_Pclass], axis=<span class="number">1</span>)</span><br><span class="line">df_test.drop([<span class="string">'Pclass'</span>, <span class="string">'Name'</span>, <span class="string">'Sex'</span>, <span class="string">'Ticket'</span>, <span class="string">'Cabin'</span>, <span class="string">'Embarked'</span>], axis=<span class="number">1</span>, inplace=<span class="keyword">True</span>)</span><br><span class="line">df_test[<span class="string">'Age_scaled'</span>] = scaler.fit_transform(df_test[<span class="string">'Age'</span>], age_scale_param)</span><br><span class="line">df_test[<span class="string">'Fare_scaled'</span>] = scaler.fit_transform(df_test[<span class="string">'Fare'</span>], fare_scale_param)</span><br><span class="line">df_test</span><br><span class="line"></span><br><span class="line">test = df_test.filter(regex=<span class="string">'SibSp|Parch|Sex_female|Sex_male|Pclass_1|Pclass_2|Pclass_3|Age_scaled|Fare_scaled'</span>)</span><br><span class="line">xTest = test.as_matrix()</span><br><span class="line"><span class="comment"># prediction = fnn.activate(xTest[1])</span></span><br><span class="line"><span class="comment"># print("the prediction number is :",prediction," the real number is:  ",yTest[1])</span></span><br><span class="line">predict_resutl=[]</span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> np.arange(len(xTest)):</span><br><span class="line">    res = fnn.activate(xTest[i])[<span class="number">0</span>]</span><br><span class="line">    <span class="keyword">if</span> (res &gt; <span class="number">0.5</span>) :</span><br><span class="line">        res = <span class="number">1</span></span><br><span class="line">    <span class="keyword">else</span> :</span><br><span class="line">        res = <span class="number">0</span></span><br><span class="line">    predict_resutl.append(res)</span><br><span class="line"></span><br><span class="line">final_res = np.array(predict_resutl).T</span><br><span class="line"></span><br><span class="line">result = pd.DataFrame(&#123;<span class="string">'PassengerId'</span>:data_test[<span class="string">'PassengerId'</span>].as_matrix(), <span class="string">'Survived'</span>:final_res&#125;)</span><br><span class="line">result</span><br></pre></td></tr></table></figure>
<h2 id="7-ç»“æœå†™å…¥æ–‡ä»¶"><a href="#7-ç»“æœå†™å…¥æ–‡ä»¶" class="headerlink" title="7. ç»“æœå†™å…¥æ–‡ä»¶"></a>7. ç»“æœå†™å…¥æ–‡ä»¶</h2><figure class="highlight python"><table><tr><td class="code"><pre><span class="line">result.to_csv(<span class="string">"logistic_regression_predictions.csv"</span>, index=<span class="keyword">False</span>)</span><br></pre></td></tr></table></figure>
<h2 id="8-éªŒè¯å’Œåˆ†æ"><a href="#8-éªŒè¯å’Œåˆ†æ" class="headerlink" title="8. éªŒè¯å’Œåˆ†æ"></a>8. éªŒè¯å’Œåˆ†æ</h2><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">for</span> mod <span class="keyword">in</span> fnn.modules:</span><br><span class="line">  <span class="keyword">print</span> (<span class="string">"Module:"</span>, mod.name)</span><br><span class="line">  <span class="keyword">if</span> mod.paramdim &gt; <span class="number">0</span>:</span><br><span class="line">    <span class="keyword">print</span> (<span class="string">"--parameters:"</span>, mod.params)</span><br><span class="line">  <span class="keyword">for</span> conn <span class="keyword">in</span> fnn.connections[mod]:</span><br><span class="line">    <span class="keyword">print</span> (<span class="string">"-connection to"</span>, conn.outmod.name)</span><br><span class="line">    <span class="keyword">if</span> conn.paramdim &gt; <span class="number">0</span>:</span><br><span class="line">       <span class="keyword">print</span> (<span class="string">"- parameters"</span>, conn.params)</span><br><span class="line">  <span class="keyword">if</span> hasattr(fnn, <span class="string">"recurrentConns"</span>):</span><br><span class="line">    <span class="keyword">print</span> (<span class="string">"Recurrent connections"</span>)</span><br><span class="line">    <span class="keyword">for</span> conn <span class="keyword">in</span> fnn.recurrentConns:</span><br><span class="line">       <span class="keyword">print</span> (<span class="string">"-"</span>, conn.inmod.name, <span class="string">" to"</span>, conn.outmod.name)</span><br><span class="line">       <span class="keyword">if</span> conn.paramdim &gt; <span class="number">0</span>:</span><br><span class="line">          <span class="keyword">print</span> (<span class="string">"- parameters"</span>, conn.params)</span><br></pre></td></tr></table></figure>
<pre><code>(&apos;Module:&apos;, &apos;outLayer&apos;)
(&apos;Module:&apos;, &apos;inLayer&apos;)
(&apos;-connection to&apos;, &apos;hiddenLayer0&apos;)
(&apos;- parameters&apos;, array([-0.47294263, -0.04334279,  0.77615167, -2.03865708,  2.38243634,
        0.69678661, -0.82062356, -0.70921933, -0.12044558]))
(&apos;Module:&apos;, &apos;hiddenLayer0&apos;)
(&apos;-connection to&apos;, &apos;outLayer&apos;)
(&apos;- parameters&apos;, array([ 1.08050317]))
</code></pre><h2 id="Reference"><a href="#Reference" class="headerlink" title="Reference"></a>Reference</h2><ul>
<li><a href="http://blog.csdn.net/han_xiaoyang/article/details/49797143" target="_blank" rel="external">å¯’å°é˜³-Titanic</a></li>
<li><a href="http://www.zengmingxia.com/topics/computing/" target="_blank" rel="external">ä¸€è“‘çƒŸé›¨ä»»å¹³ç”Ÿ</a></li>
</ul>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[Coursera Week 5 - Neural Networks II]]></title>
      <url>http://iequa.com/2017/02/13/ml-coursera-ng-w4-nn-03/</url>
      <content type="html"><![CDATA[<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js"],
    jax: ["input/TeX"],
    tex2jax: {
      inlineMath: [ ['$','$'], ['\\(','\\)'] ],
      displayMath: [ ['$$','$$']],
      processEscapes: true
    }
  });
</script>
<script type="text/javascript" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS_HTML,http://myserver.com/MathJax/config/local/local.js">
</script>

<p>coursera week 4 - neural networks cost function and bp</p>
<a id="more"></a>
<p><img src="/images/ml/coursera/ml-ng-w4-02-02.png" alt=""></p>
<h2 id="1-Cost-Function"><a href="#1-Cost-Function" class="headerlink" title="1. Cost Function"></a>1. Cost Function</h2><p><img src="/images/ml/coursera/ml-ng-w4-02-04-2.png" alt=""></p>
<p>fmt.</p>
<p>$$<br>\begin{align} a_1^{(2)} = g(\Theta_{10}^{(1)}x_0 + \Theta_{11}^{(1)}x_1 + \Theta_{12}^{(1)}x_2 + \Theta_{13}^{(1)}x_3) \newline a_2^{(2)} = g(\Theta_{20}^{(1)}x_0 + \Theta_{21}^{(1)}x_1 + \Theta_{22}^{(1)}x_2 + \Theta_{23}^{(1)}x_3) \newline a_3^{(2)} = g(\Theta_{30}^{(1)}x_0 + \Theta_{31}^{(1)}x_1 + \Theta_{32}^{(1)}x_2 + \Theta_{33}^{(1)}x_3) \newline h_\Theta(x) = a_1^{(3)} = g(\Theta_{10}^{(2)}a_0^{(2)} + \Theta_{11}^{(2)}a_1^{(2)} + \Theta_{12}^{(2)}a_2^{(2)} + \Theta_{13}^{(2)}a_3^{(2)}) \newline \end{align}<br>$$</p>
<p>Letâ€™s first define a few variables that we will need to use:</p>
<ul>
<li>$L$ = total number of layers in the network</li>
<li>$s_l$ = number of units (not counting bias unit) in layer l</li>
<li>$K$ = number of output units/classes</li>
</ul>
<p>Recall that in neural networks, we may have many output nodes. We denote $h_\Theta(x)_k$ as being a hypothesis that results in the $k^{th}$ output. Our cost function for neural networks is going to be a generalization of the one we used for logistic regression. Recall that the cost function for regularized logistic regression was:</p>
<p>$$<br>J(\theta) = - \frac{1}{m} \sum_{i=1}^m [ y^{(i)}\ \log (h_\theta (x^{(i)})) + (1 - y^{(i)})\ \log (1 - h_\theta(x^{(i)}))] + \frac{\lambda}{2m}\sum_{j=1}^n \theta_j^2<br>$$</p>
<p>For neural networks, it is going to be slightly more complicated:</p>
<p>$$<br>\begin{gather} J(\Theta) = - \frac{1}{m} \sum_{i=1}^m \sum_{k=1}^K \left[y^{(i)}_k \log ((h_\Theta (x^{(i)}))_k) + (1 - y^{(i)}_k)\log (1 - (h_\Theta(x^{(i)}))_k)\right] + \frac{\lambda}{2m}\sum_{l=1}^{L-1} \sum_{i=1}^{s_l} \sum_{j=1}^{s_{l+1}} ( \Theta_{j,i}^{(l)})^2\end{gather}<br>$$</p>
<p>We have added a few nested summations to account for our multiple output nodes. In the first part of the equation, before the square brackets, we have an additional nested summation that loops through the number of output nodes.</p>
<p>In the regularization part, after the square brackets, we must account for multiple theta matrices. The number of columns in our current theta matrix is equal to the number of nodes in our current layer (including the bias unit). The number of rows in our current theta matrix is equal to the number of nodes in the next layer (excluding the bias unit). As before with logistic regression, we square every term.</p>
<h2 id="2-Backpropagation-Algorithm"><a href="#2-Backpropagation-Algorithm" class="headerlink" title="2. Backpropagation Algorithm"></a>2. Backpropagation Algorithm</h2><p>â€œBackpropagationâ€ is neural-network terminology for minimizing our cost function, just like what we were doing with gradient descent in logistic and linear regression. Our goal is to compute:</p>
<p>$$<br>\min_\Theta J(\Theta)<br>$$</p>
<p>That is, we want to minimize our cost function $J$ using an optimal set of parameters in theta. In this section weâ€™ll look at the equations we use to compute the partial derivative of J(Î˜):</p>
<p>$$<br>\dfrac{\partial}{\partial \Theta_{i,j}^{(l)}}J(\Theta)<br>$$</p>
<p>To do so, we use the following algorithm:</p>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[Coursera Week 4 - Neural Networks I]]></title>
      <url>http://iequa.com/2017/02/07/ml-coursera-ng-w4-nn-02/</url>
      <content type="html"><![CDATA[<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js"],
    jax: ["input/TeX"],
    tex2jax: {
      inlineMath: [ ['$','$'], ['\\(','\\)'] ],
      displayMath: [ ['$$','$$']],
      processEscapes: true
    }
  });
</script>
<script type="text/javascript" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS_HTML,http://myserver.com/MathJax/config/local/local.js">
</script>

<p>coursera week 4 - neural networks representation</p>
<a id="more"></a>
<p><img src="/images/ml/coursera/ml-ng-w4-02-02.png" alt="NN"></p>
<p>neuron is a computational unit that gets a number of inputs through it input wires and does some computation and then it says outputs via its axon to other nodes or to other neurons in the brain.</p>
<h2 id="1-Model-Representation-I"><a href="#1-Model-Representation-I" class="headerlink" title="1. Model Representation I"></a>1. Model Representation I</h2><p>Letâ€™s examine how we will represent a hypothesis function using neural networks. At a very simple level, neurons are basically computational units that take inputs (<strong>dendrites</strong>) as electrical inputs (called â€œspikesâ€) that are channeled to outputs (<strong>axons</strong>). In our model, <strong>our dendrites are like the input features</strong> $x_1\cdots x_n$, and the <strong>output is the result of our hypothesis function</strong>. In this model our $x_0$ input node is sometimes called the â€œbias unit.â€ It is always equal to 1. In neural networks, we use the same logistic function as in classification, $\frac{1}{1 + e^{-\theta^Tx}}$, yet we sometimes call it a sigmoid (logistic) <strong>activation</strong> function. In this situation, our â€œthetaâ€ parameters are sometimes called â€œweightsâ€.</p>
<p>Visually, a simplistic representation looks like:</p>
<p>$$<br>\begin{bmatrix}x_0 \newline x_1 \newline x_2 \newline \end{bmatrix}\rightarrow\begin{bmatrix}\ \ \ \newline \end{bmatrix}\rightarrow h_\theta(x)<br>$$</p>
<p><img src="/images/ml/coursera/ml-ng-w4-02-03.png" alt="NN"></p>
<p>Our input nodes (layer 1), also known as the â€œinput layerâ€, go into another node (layer 2), which finally outputs the hypothesis function, known as the â€œoutput layerâ€.</p>
<p>We can have intermediate layers of nodes between the input and output layers called the â€œhidden layers.â€</p>
<p>In this example, we label these intermediate or â€œhiddenâ€ layer nodes $a^2_0 \cdots a^2_n$ and call them â€œactivation units.â€</p>
<p>$$<br>\begin{align} &amp; a_i^{(j)} = \text{â€œactivationâ€ of unit $i$ in layer $j$} \newline&amp; \Theta^{(j)} = \text{matrix of weights controlling function mapping from layer $j$ to layer $j+1$} \end{align}<br>$$</p>
<p>If we had one hidden layer, it would <a href="/images/ml/coursera/ml-ng-w4-02-04-2.png">look like</a>:</p>
<p>$$<br>\begin{bmatrix}x_0 \newline x_1 \newline x_2 \newline x_3\end{bmatrix}\rightarrow\begin{bmatrix}a_1^{(2)} \newline a_2^{(2)} \newline a_3^{(2)} \newline \end{bmatrix}\rightarrow h_\theta(x)<br>$$</p>
<p>The values for each of the â€œactivationâ€ nodes is obtained as follows:</p>
<p>$$<br>\begin{align} a_1^{(2)} = g(\Theta_{10}^{(1)}x_0 + \Theta_{11}^{(1)}x_1 + \Theta_{12}^{(1)}x_2 + \Theta_{13}^{(1)}x_3) \newline a_2^{(2)} = g(\Theta_{20}^{(1)}x_0 + \Theta_{21}^{(1)}x_1 + \Theta_{22}^{(1)}x_2 + \Theta_{23}^{(1)}x_3) \newline a_3^{(2)} = g(\Theta_{30}^{(1)}x_0 + \Theta_{31}^{(1)}x_1 + \Theta_{32}^{(1)}x_2 + \Theta_{33}^{(1)}x_3) \newline h_\Theta(x) = a_1^{(3)} = g(\Theta_{10}^{(2)}a_0^{(2)} + \Theta_{11}^{(2)}a_1^{(2)} + \Theta_{12}^{(2)}a_2^{(2)} + \Theta_{13}^{(2)}a_3^{(2)}) \newline \end{align}<br>$$</p>
<p>This is saying that we compute our activation nodes by using a 3Ã—4 matrix of parameters. We apply each row of the parameters to our inputs to obtain the value for one activation node. Our hypothesis output is the logistic function applied to the sum of the values of our activation nodes, which have been multiplied by yet another parameter matrix $\Theta^{(2)}$ containing the weights for our second layer of nodes.</p>
<p>Each layer gets its own matrix of weights, $\Theta^{(j)}$</p>
<p>The dimensions of these matrices of weights is determined as follows:</p>
<p>If network has $s_j$ units in layer $j$ and $s_{j+1}$ units in layer $j+1$, then $\Theta^{(j)}$ will be of dimension $s_{j+1} \times (s_j + 1)$</p>
<p>The +1 comes from the addition in $\Theta^{(j)}$ of the â€œbias nodes,â€ $x_0$ and $\Theta_0^{(j)}$. In other words the output nodes will not include the bias nodes while the inputs will. </p>
<h2 id="2-Model-Representation-II"><a href="#2-Model-Representation-II" class="headerlink" title="2. Model Representation II"></a>2. Model Representation II</h2><p>To re-iterate, the following is an example of a neural network:</p>
<p>$$<br>\begin{align} a_1^{(2)} = g(\Theta_{10}^{(1)}x_0 + \Theta_{11}^{(1)}x_1 + \Theta_{12}^{(1)}x_2 + \Theta_{13}^{(1)}x_3) \newline a_2^{(2)} = g(\Theta_{20}^{(1)}x_0 + \Theta_{21}^{(1)}x_1 + \Theta_{22}^{(1)}x_2 + \Theta_{23}^{(1)}x_3) \newline a_3^{(2)} = g(\Theta_{30}^{(1)}x_0 + \Theta_{31}^{(1)}x_1 + \Theta_{32}^{(1)}x_2 + \Theta_{33}^{(1)}x_3) \newline h_\Theta(x) = a_1^{(3)} = g(\Theta_{10}^{(2)}a_0^{(2)} + \Theta_{11}^{(2)}a_1^{(2)} + \Theta_{12}^{(2)}a_2^{(2)} + \Theta_{13}^{(2)}a_3^{(2)}) \newline \end{align}<br>$$</p>
<p>In this section weâ€™ll do a vectorized implementation of the above functions. Weâ€™re going to define a new variable $z_k^{(j)}$ that encompasses the parameters inside our g function. In our previous example if we replaced by the variable z for all the parameters we would get:</p>
<p>$$<br>\begin{align}a_1^{(2)} = g(z_1^{(2)}) \newline a_2^{(2)} = g(z_2^{(2)}) \newline a_3^{(2)} = g(z_3^{(2)}) \newline \end{align}<br>$$</p>
<p>In other words, for layer $j=2$ and node $k$, the variable $z$ will be:</p>
<p>$$<br>z_k^{(2)} = \Theta_{k,0}^{(1)}x_0 + \Theta_{k,1}^{(1)}x_1 + \cdots + \Theta_{k,n}^{(1)}x_n<br>$$</p>
<p>The vector representation of $x$ and $z^{j}$ is:</p>
<p>$$<br>\begin{align}x = \begin{bmatrix}x_0 \newline x_1 \newline\cdots \newline x_n\end{bmatrix} &amp;z^{(j)} = \begin{bmatrix}z_1^{(j)} \newline z_2^{(j)} \newline\cdots \newline z_n^{(j)}\end{bmatrix}\end{align}<br>$$</p>
<p>Setting $x = a^{(1)}$, we can rewrite the equation as:</p>
<p>$$<br>z^{(j)} = \Theta^{(j-1)}a^{(j-1)}<br>$$</p>
<p>We are multiplying our matrix $\Theta^{(j-1)}$ with dimensions $s_j\times (n+1)$ (where $s_j$ is the number of our activation nodes) by our vector $a^{(j-1)}$ with height (n+1). This gives us our vector $z^{(j)}$ with height $s_j$. Now we can get a vector of our activation nodes for layer $j$ as follows:</p>
<p>$$<br>a^{(j)} = g(z^{(j)})<br>$$</p>
<p>Where our function $g$ can be applied element-wise to our vector $z^{(j)}$.</p>
<p>We can then add a bias unit (equal to 1) to layer j after we have computed $a^{(j)}$. This will be element $a_0^{(j)}$ and will be equal to 1. To compute our final hypothesis, letâ€™s first compute another $z$ vector:</p>
<p>$$<br>z^{(j+1)} = \Theta^{(j)}a^{(j)}<br>$$</p>
<p>We get this final z vector by multiplying the next theta matrix after $\Theta^{(j-1)}$ with the values of all the activation nodes we just got. This last theta matrix $\Theta^{(j)}$ will have only one row which is multiplied by one column $a^{(j)}$ so that our result is a single number. We then get our final result with:</p>
<p>$$<br>h_\Theta(x) = a^{(j+1)} = g(z^{(j+1)})<br>$$</p>
<h2 id="3-Simple-Example"><a href="#3-Simple-Example" class="headerlink" title="3. Simple Example"></a>3. Simple Example</h2><p><img src="/images/ml/coursera/ml-ng-w4-02-06.png" alt="NN"></p>
<h3 id="3-1-x-1-AND-x-2"><a href="#3-1-x-1-AND-x-2" class="headerlink" title="3.1 $x_1$ AND $x_2$"></a>3.1 $x_1$ AND $x_2$</h3><p>A simple example of applying neural networks is by predicting $x_1$ AND $x_2$</p>
<p>$$<br>\begin{align} \begin{bmatrix}x_0 \newline x_1 \newline x_2\end{bmatrix} \rightarrow\begin{bmatrix}g(z^{(2)})\end{bmatrix} \rightarrow h_\Theta(x) \end{align}<br>$$</p>
<p>Letâ€™s set our first theta matrix as:</p>
<p>$$<br>\Theta^{(1)} =\begin{bmatrix}-30 &amp; 20 &amp; 20\end{bmatrix}<br>$$</p>
<p>This will cause the output of our hypothesis to only be positive if both $x_1$ and $x_2$ are 1. In other words:</p>
<p>$$<br>\begin{align}&amp; h_\Theta(x) = g(-30 + 20x_1 + 20x_2) \newline \newline &amp; x_1 = 0 \ \ and \ \ x_2 = 0 \ \ then \ \ g(-30) \approx 0 \newline &amp; x_1 = 0 \ \ and \ \ x_2 = 1 \ \ then \ \ g(-10) \approx 0 \newline &amp; x_1 = 1 \ \ and \ \ x_2 = 0 \ \ then \ \ g(-10) \approx 0 \newline &amp; x_1 = 1 \ \ and \ \ x_2 = 1 \ \ then \ \ g(10) \approx 1\end{align}<br>$$</p>
<p><img src="/images/ml/coursera/ml-ng-w4-02-07.png" alt="NN"></p>
<h3 id="3-2-x-1-XNOR-x-2"><a href="#3-2-x-1-XNOR-x-2" class="headerlink" title="3.2 $x_1$ XNOR $x_2$"></a>3.2 $x_1$ XNOR $x_2$</h3><p>The $Î˜^{(1)}$ matrices for AND, NOR, and OR are:</p>
<p>$$<br>\begin{align}AND:\newline\Theta^{(1)} &amp;=\begin{bmatrix}-30 &amp; 20 &amp; 20\end{bmatrix} \newline NOR:\newline\Theta^{(1)} &amp;= \begin{bmatrix}10 &amp; -20 &amp; -20\end{bmatrix} \newline OR:\newline\Theta^{(1)} &amp;= \begin{bmatrix}-10 &amp; 20 &amp; 20\end{bmatrix} \newline\end{align}<br>$$</p>
<p>We can combine these to get the XNOR logical operator (which gives 1 if $x_1$ and $x_2$ are both 0 or both 1).</p>
<p>$$<br>\begin{align} \begin{bmatrix}x_0 \newline x_1 \newline x_2\end{bmatrix} \rightarrow\begin{bmatrix}a_1^{(2)} \newline a_2^{(2)} \end{bmatrix} \rightarrow\begin{bmatrix}a^{(3)}\end{bmatrix} \rightarrow h_\Theta(x) \end{align}<br>$$</p>
<p>For the transition between the first and second layer, weâ€™ll use a $Î˜^{(1)}$ matrix that combines the values for AND and NOR:</p>
<p>$$<br>\Theta^{(1)} =\begin{bmatrix}-30 &amp; 20 &amp; 20 \newline 10 &amp; -20 &amp; -20\end{bmatrix}<br>$$</p>
<p>Letâ€™s write out the values for all our nodes:</p>
<p>$$<br>\begin{align}&amp; a^{(2)} = g(\Theta^{(1)} \cdot x) \newline&amp; a^{(3)} = g(\Theta^{(2)} \cdot a^{(2)}) \newline&amp; h_\Theta(x) = a^{(3)}\end{align}<br>$$</p>
<p>And there we have the XNOR operator using one hidden layers! The following summarizes the above algorithm:</p>
<p><img src="/images/ml/coursera/ml-ng-w4-02-08.png" alt=""></p>
<h2 id="4-Multiclass-Classification"><a href="#4-Multiclass-Classification" class="headerlink" title="4. Multiclass Classification"></a>4. Multiclass Classification</h2><p>To classify data into multiple classes, we let our hypothesis function return a vector of values.</p>
<p><img src="/images/ml/coursera/ml-ng-w4-02-09.png" alt=""></p>
<p>We can define our set of resulting classes as y:</p>
<p><img src="/images/ml/coursera/ml-ng-w4-02-10.png" alt=""></p>
<p>Each $y^{(i)}$ represents a different image corresponding to either a car, pedestrian, truck, or motorcycle. </p>
<p><img src="/images/ml/coursera/ml-ng-w4-02-11.png" alt=""></p>
<p>Our resulting hypothesis for one set of inputs may look like:</p>
<p>$$<br>h_\Theta(x) =\begin{bmatrix}0 \newline 0 \newline 1 \newline 0 \newline\end{bmatrix}<br>$$</p>
<p>In which case our resulting class is the third one down, or $h_\Theta(x)_3$, which represents the motorcycle.</p>
<h2 id="Reference-article"><a href="#Reference-article" class="headerlink" title="Reference article"></a>Reference article</h2>]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[China Biggest Bandit Spy]]></title>
      <url>http://iequa.com/2017/01/21/life-China-modern-history/</url>
      <content type="html"><![CDATA[<p>Chinese biggest bandit spy</p>
<a id="more"></a>
<h2 id="1-biggest-bandit-spy"><a href="#1-biggest-bandit-spy" class="headerlink" title="1. biggest bandit spy"></a>1. biggest bandit spy</h2><p>Guo Rugui</p>
<div class="video-container"><iframe src="//www.youtube.com/embed/O2tc43ceZ-c" frameborder="0" allowfullscreen></iframe></div>
<h2 id="2-Hold-down-Chiang-Kai-shek-pulse"><a href="#2-Hold-down-Chiang-Kai-shek-pulse" class="headerlink" title="2. Hold down Chiang Kai-shek pulse"></a>2. Hold down Chiang Kai-shek pulse</h2><p>Shen Anna</p>
<div class="video-container"><iframe src="//www.youtube.com/embed/dEy8yrB5ZIg" frameborder="0" allowfullscreen></iframe></div>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[Greenplum ods]]></title>
      <url>http://iequa.com/2017/01/20/ops-db-greenplum-mysql-ext-ods/</url>
      <content type="html"><![CDATA[<p><a href="https://github.com/blair101/language/tree/master/greenplum" target="_blank" rel="external">code : github ext_ods_table</a></p>
<a id="more"></a>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">è¿è¡Œæœ¬æ¨¡å—ä¹‹å‰ :</span><br><span class="line"></span><br><span class="line"><span class="built_in">cd</span> ext_ods_table</span><br><span class="line">mkdir <span class="built_in">log</span> flag</span><br><span class="line">mkdir -p <span class="built_in">log</span>/crontab</span><br><span class="line">mkdir data</span><br><span class="line"></span><br><span class="line">æ„é€  datax json fileï¼Œ put it to **data** ç›®å½•</span><br></pre></td></tr></table></figure>
<h2 id="1-Needs"><a href="#1-Needs" class="headerlink" title="1. Needs"></a>1. Needs</h2><p>&nbsp;&nbsp;&nbsp;&nbsp;ç¨‹åºè‡ªåŠ¨åŒ–æ‹‰å–æ•°æ®è¿›å…¥åŸå§‹å±‚ ODS</p>
<h2 id="2-Data-Flow"><a href="#2-Data-Flow" class="headerlink" title="2. Data Flow"></a>2. Data Flow</h2><p><img src="/images/ops/greenplum-ods-flow.png" alt="ods flow"></p>
<blockquote>
<p>å…·ä½“è¯·ä»¥å®é™…çº¿ä¸Šä»£ç  ä¸ºå‡†</p>
</blockquote>
<h2 id="3-Involved-technology"><a href="#3-Involved-technology" class="headerlink" title="3. Involved technology"></a>3. Involved technology</h2><ol>
<li><a href="https://zh.wikipedia.org/zh-hans/Unix_shell" target="_blank" rel="external">Shell</a></li>
<li><a href="https://github.com/alibaba/DataX/" target="_blank" rel="external">Datax</a></li>
<li><a href="https://en.wikipedia.org/wiki/PostgreSQL" target="_blank" rel="external">PostgreSQL</a></li>
<li><a href="http://dbaplus.cn/news-21-341-1.html" target="_blank" rel="external">Greenplum</a></li>
<li><a href="http://www.pentaho.com/" target="_blank" rel="external">Pentaho kettle</a></li>
</ol>
<blockquote>
<p><a href="http://www.greenplumdba.com/gpfdist" target="_blank" rel="external">gpfdist protocol</a></p>
</blockquote>
<h2 id="4-Main-Code-Flow"><a href="#4-Main-Code-Flow" class="headerlink" title="4. Main Code Flow"></a>4. Main Code Flow</h2><p>(1). linux crontab</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">*/5 00-19 * * * <span class="built_in">source</span> /etc/bashrc; sh /data0/dm/online/ext_ods_table/crontab_job/crontab_job_ods_shop.sh</span><br></pre></td></tr></table></figure>
<blockquote>
<p>source /etc/bashrc; ç¯å¢ƒè®¾ç½®</p>
</blockquote>
<p>(2). crontab_job_ods_shop.sh</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">...</span><br><span class="line">sh ods_dm_shop.sh <span class="variable">$&#123;d1&#125;</span></span><br><span class="line">...</span><br></pre></td></tr></table></figure>
<p>(3). ods_dm_shop.sh</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment">###############################################################################</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># @date:   2017.01.20</span></span><br><span class="line"><span class="comment"># @desc:   mysql data -&gt; ext shop -&gt; ods shop</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment">###############################################################################</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">cd</span> `dirname <span class="variable">$0</span>`/.. &amp;&amp; wk_dir=`<span class="built_in">pwd</span>` &amp;&amp; <span class="built_in">cd</span> -</span><br><span class="line"><span class="built_in">source</span> <span class="variable">$&#123;wk_dir&#125;</span>/util/env</span><br><span class="line"><span class="built_in">source</span> <span class="variable">$&#123;util_dir&#125;</span>/my_<span class="built_in">functions</span></span><br><span class="line"></span><br><span class="line">begin_time=<span class="string">"2010-01-01"</span></span><br><span class="line">end_time=<span class="variable">$&#123;d1&#125;</span></span><br><span class="line"></span><br><span class="line">import_gpdata_from_rds1 <span class="variable">$&#123;begin_time&#125;</span> <span class="variable">$&#123;end_time&#125;</span> <span class="variable">$&#123;data_dir&#125;</span>/xkeshi_com.ext/mysql2textfile-shop.json</span><br><span class="line">check_success</span><br><span class="line"></span><br><span class="line"><span class="built_in">echo</span>_ex <span class="string">"<span class="variable">$&#123;data_integration&#125;</span>/kitchen.sh -file=<span class="variable">$&#123;ktrs_dir&#125;</span>/ods_shop.kjb"</span></span><br><span class="line"></span><br><span class="line"><span class="variable">$&#123;data_integration&#125;</span>/kitchen.sh -file=<span class="variable">$&#123;ktrs_dir&#125;</span>/ods_shop.kjb</span><br><span class="line">check_success</span><br><span class="line"></span><br><span class="line"><span class="built_in">echo</span>_ex <span class="string">"import shop end"</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">exit</span> 0</span><br></pre></td></tr></table></figure>
<h2 id="Reference"><a href="#Reference" class="headerlink" title="Reference"></a>Reference</h2>]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[Greenplum dev Flow]]></title>
      <url>http://iequa.com/2017/01/12/ops-db-greenplum-manual-dev-steps/</url>
      <content type="html"><![CDATA[<p><img src="/images/ops/greenplum-flow.png" alt=""></p>
<h2 id="1-Rds-import-oss"><a href="#1-Rds-import-oss" class="headerlink" title="1. Rds import oss"></a>1. Rds import oss</h2><p>é€šè¿‡ datax ä» mysql å¯¼å‡ºæ•°æ®åˆ° OSS</p>
<p>ç»„è£… : mysql2oss-e_coupon.json</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    "job": &#123;</span><br><span class="line">        "content": [</span><br><span class="line">        &#123;</span><br><span class="line">            "reader": &#123;</span><br><span class="line">                "name": "mysqlreader",</span><br><span class="line">                    "parameter": &#123;</span><br><span class="line">                        "username": "xx",</span><br><span class="line">                        "password": "xx",</span><br><span class="line">                        "connection": [</span><br><span class="line">                        &#123;</span><br><span class="line">                            "jdbcUrl": [</span><br><span class="line">                                "jdbc:mysql://192.168.184.xx:port"</span><br><span class="line">                                ],</span><br><span class="line">                            "table": [</span><br><span class="line">                                "rds-lib-name.e_coupon"</span><br><span class="line">                                ]</span><br><span class="line">                        &#125;</span><br><span class="line">                        ],</span><br><span class="line">                        "column":[</span><br><span class="line">                            "id",</span><br><span class="line">                            "x_card_user_id",</span><br><span class="line">                            "coupon_discount_code",</span><br><span class="line">                            ...</span><br><span class="line">                            "order_merchant_id"</span><br><span class="line">                        ],</span><br><span class="line">                        "where": "created_time BETWEEN '2016-01-01 00:00:00' AND '2017-01-05 23:59:59'"</span><br><span class="line">                    &#125;</span><br><span class="line">            &#125;,</span><br><span class="line">                "writer": &#123;</span><br><span class="line">                    "name": "osswriter",</span><br><span class="line">                    "parameter": &#123;</span><br><span class="line">                        "accessId": "xx",</span><br><span class="line">                        "accessKey": "xx",</span><br><span class="line">                        "bucket": "company-name-data",</span><br><span class="line">                        "encoding": "UTF-8",</span><br><span class="line">                        "endpoint": "http://oss-cn-hangzhou.aliyuncs.com",</span><br><span class="line">                        "fieldDelimiter": "\t",</span><br><span class="line">                        "object": "datax_dev/libin/e_coupon",</span><br><span class="line">                        "writeMode": "truncate"</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        ],</span><br><span class="line">        "setting": &#123;</span><br><span class="line">            "speed": &#123;</span><br><span class="line">                "channel": 1</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>è§¦å‘æ‰§è¡Œ :</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">python datax.py mysql2oss-e_coupon.json</span><br></pre></td></tr></table></figure>
<h2 id="2-ext-table"><a href="#2-ext-table" class="headerlink" title="2. ext table"></a>2. ext table</h2><p>åˆ›å»ºå¤–éƒ¨è¡¨ï¼Œext_dm_e_couponï¼Œå¹¶å°† location æŒ‡å‘ä¸º oss</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">DROP</span> <span class="keyword">EXTERNAL</span> <span class="keyword">TABLE</span> <span class="keyword">PUBLIC</span>.ext_dm_e_coupon;</span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">EXTERNAL</span> <span class="keyword">TABLE</span> <span class="keyword">PUBLIC</span>.ext_dm_e_coupon (</span><br><span class="line">    <span class="keyword">id</span> <span class="built_in">bigint</span>,</span><br><span class="line">    x_card_user_id <span class="built_in">varchar</span>,</span><br><span class="line">    coupon_discount_code <span class="built_in">varchar</span>,</span><br><span class="line">    ...</span><br><span class="line">    order_merchant_id <span class="built_in">bigint</span></span><br><span class="line">) LOCATION(</span><br><span class="line">    <span class="string">'oss://oss-cn-hangzhou.aliyuncs.com</span><br><span class="line">        dir=datax_dev/libin/</span><br><span class="line">        id=xx</span><br><span class="line">        key=xx</span><br><span class="line">        bucket=xkeshi-data'</span></span><br><span class="line">) <span class="keyword">FORMAT</span> <span class="string">'text'</span> (<span class="literal">NULL</span> <span class="keyword">AS</span> <span class="string">'null'</span>);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">-- 45596 id comment å­—æ®µæœ‰å›è½¦ ,So del comment varchar, don't imported.</span></span><br></pre></td></tr></table></figure>
<h2 id="3-ods-table"><a href="#3-ods-table" class="headerlink" title="3. ods table"></a>3. ods table</h2><p>åˆ›å»º ods_dm_e_coupon è¡¨ï¼Œå¹¶å‘å…¶ä¸­å¯¼å…¥æ•°æ®</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">DROP</span> <span class="keyword">TABLE</span> ods_dm_e_coupon;</span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> ods_dm_e_coupon <span class="keyword">AS</span> <span class="keyword">SELECT</span></span><br><span class="line">	*</span><br><span class="line"><span class="keyword">FROM</span></span><br><span class="line">	ext_dm_e_coupon <span class="keyword">distributed</span> <span class="keyword">BY</span> (<span class="keyword">id</span>);</span><br></pre></td></tr></table></figure>
<blockquote>
<p>æ³¨æ„ : è¿™æ ·å»ºè¡¨ ods table idï¼Œä¸æ˜¯ primary key</p>
<p>æ˜¾ç¤ºæŒ‡å®š distributed BY (id)ï¼Œå¯è¯»æ€§æ›´å¥½</p>
</blockquote>
<h2 id="4-mds-table"><a href="#4-mds-table" class="headerlink" title="4. mds table"></a>4. mds table</h2><p>åˆ›å»º mds_dm_e_coupon_profile è¡¨</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">DROP</span> <span class="keyword">TABLE</span> mds_dm_e_coupon_profile;</span><br><span class="line"></span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> mds_dm_e_coupon_profile (</span><br><span class="line">	<span class="keyword">id</span> bigserial,</span><br><span class="line">	coupon_info_code <span class="built_in">VARCHAR</span>,</span><br><span class="line">	shop_id <span class="built_in">BIGINT</span>,</span><br><span class="line">	collected_avg_actual_price <span class="built_in">DECIMAL</span> (<span class="number">12</span>, <span class="number">2</span>),</span><br><span class="line">	collected_sum_actual_price <span class="built_in">DECIMAL</span> (<span class="number">12</span>, <span class="number">2</span>),</span><br><span class="line">	collected_count <span class="built_in">INT</span>,</span><br><span class="line">	verified_count <span class="built_in">INT</span>,</span><br><span class="line">	verified_rate <span class="built_in">DECIMAL</span> (<span class="number">12</span>, <span class="number">2</span>)</span><br><span class="line">) <span class="keyword">WITH</span> (</span><br><span class="line">	appendonly = <span class="literal">TRUE</span>,</span><br><span class="line">	compresslevel = <span class="number">5</span></span><br><span class="line">) <span class="keyword">distributed</span> <span class="keyword">BY</span> (<span class="keyword">id</span>);</span><br></pre></td></tr></table></figure>
<blockquote>
<p>åˆ›å»ºè¡¨çš„æ—¶å€™ï¼Œç»™ä¸€ä¸ªè‡ªå¢ id. æ¯ä¸€ä¸ªè¡¨éƒ½æœ‰ä¸€ä¸ªè‡ªå¢ idï¼Œæ˜¯ä¸€ä¸ªæ¯”è¾ƒå¥½çš„è§„èŒƒ</p>
</blockquote>
<h2 id="5-insert-mds-table"><a href="#5-insert-mds-table" class="headerlink" title="5. insert mds table"></a>5. insert mds table</h2><p>insert data to mds_dm_e_coupon_profile</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> mds_dm_e_coupon_profile (</span><br><span class="line">	coupon_info_code,</span><br><span class="line">	shop_id,</span><br><span class="line">	collected_avg_actual_price,</span><br><span class="line">	collected_sum_actual_price,</span><br><span class="line">	collected_count,</span><br><span class="line">	verified_count,</span><br><span class="line">	verified_rate</span><br><span class="line">) <span class="keyword">SELECT</span></span><br><span class="line">	tt1.coupon_info_code,</span><br><span class="line">	tt1.shop_id,</span><br><span class="line">	tt1.avg_actual_price <span class="keyword">AS</span> collected_avg_actual_price,</span><br><span class="line">	tt1.sum_actual_price <span class="keyword">AS</span> collected_sum_actual_price,</span><br><span class="line">	tt1.collected_count,</span><br><span class="line">	<span class="keyword">COALESCE</span> (tt2.verified_count, <span class="number">0</span>) <span class="keyword">AS</span> verified_count,</span><br><span class="line">	<span class="keyword">round</span>(</span><br><span class="line">		(</span><br><span class="line">			<span class="keyword">COALESCE</span> (tt2.verified_count, <span class="number">0</span>) * <span class="number">1.0</span></span><br><span class="line">		) / (tt1.collected_count * <span class="number">1.0</span>),</span><br><span class="line">		<span class="number">2</span></span><br><span class="line">	) <span class="keyword">AS</span> verified_rate</span><br><span class="line"><span class="keyword">FROM</span></span><br><span class="line">	(</span><br><span class="line">		<span class="keyword">SELECT</span></span><br><span class="line">			t1.coupon_info_code,</span><br><span class="line">			t1.shop_id,</span><br><span class="line">			<span class="keyword">COUNT</span> (t1.<span class="keyword">ID</span>) <span class="keyword">AS</span> collected_count,</span><br><span class="line">			<span class="keyword">round</span>(<span class="keyword">AVG</span>(t1.actual_price), <span class="number">2</span>) <span class="keyword">AS</span> avg_actual_price,</span><br><span class="line">			<span class="keyword">SUM</span> (t1.actual_price) <span class="keyword">AS</span> sum_actual_price</span><br><span class="line">		<span class="keyword">FROM</span></span><br><span class="line">			(</span><br><span class="line">				<span class="keyword">SELECT</span></span><br><span class="line">					*</span><br><span class="line">				<span class="keyword">FROM</span></span><br><span class="line">					ods_dm_e_coupon</span><br><span class="line">				<span class="keyword">WHERE</span></span><br><span class="line">					<span class="keyword">status</span> = <span class="number">1</span></span><br><span class="line">			) t1</span><br><span class="line">		<span class="keyword">GROUP</span> <span class="keyword">BY</span></span><br><span class="line">			(t1.coupon_info_code, t1.shop_id)</span><br><span class="line">		<span class="keyword">ORDER</span> <span class="keyword">BY</span></span><br><span class="line">			t1.shop_id</span><br><span class="line">	) tt1</span><br><span class="line"><span class="keyword">LEFT</span> <span class="keyword">JOIN</span> (</span><br><span class="line">	<span class="keyword">SELECT</span></span><br><span class="line">		t2.coupon_info_code,</span><br><span class="line">		t2.shop_id,</span><br><span class="line">		<span class="keyword">COUNT</span> (t2.<span class="keyword">ID</span>) <span class="keyword">AS</span> verified_count,</span><br><span class="line">		<span class="keyword">round</span>(<span class="keyword">AVG</span>(t2.actual_price), <span class="number">2</span>) <span class="keyword">AS</span> avg_actual_price,</span><br><span class="line">		<span class="keyword">SUM</span> (t2.actual_price) <span class="keyword">AS</span> sum_actual_price</span><br><span class="line">	<span class="keyword">FROM</span></span><br><span class="line">		(</span><br><span class="line">			<span class="keyword">SELECT</span></span><br><span class="line">				*</span><br><span class="line">			<span class="keyword">FROM</span></span><br><span class="line">				ods_dm_e_coupon</span><br><span class="line">			<span class="keyword">WHERE</span></span><br><span class="line">				<span class="keyword">status</span> = <span class="number">1</span></span><br><span class="line">			<span class="keyword">AND</span> <span class="keyword">RESULT</span> = <span class="number">2</span></span><br><span class="line">		) t2</span><br><span class="line">	<span class="keyword">GROUP</span> <span class="keyword">BY</span></span><br><span class="line">		(t2.coupon_info_code, t2.shop_id)</span><br><span class="line">	<span class="keyword">ORDER</span> <span class="keyword">BY</span></span><br><span class="line">		t2.shop_id</span><br><span class="line">) tt2 <span class="keyword">ON</span> tt1.coupon_info_code = tt2.coupon_info_code</span><br><span class="line"><span class="keyword">AND</span> tt1.shop_id = tt2.shop_id</span><br></pre></td></tr></table></figure>
<h2 id="6-validation-results"><a href="#6-validation-results" class="headerlink" title="6. validation results"></a>6. validation results</h2><figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">select</span> * <span class="keyword">from</span> mds_dm_e_coupon_profile <span class="keyword">order</span> <span class="keyword">by</span> <span class="keyword">id</span> <span class="keyword">limit</span> <span class="number">20</span>;</span><br></pre></td></tr></table></figure>
<p><img src="/images/ops/greenplum-man-1.png" alt=""></p>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[Greenplum å­¦ä¹ ç¬”è®°]]></title>
      <url>http://iequa.com/2017/01/04/ops-db-greenplum-short-introduce/</url>
      <content type="html"><![CDATA[<style>
img {
        display: block !important;
        width: 500px;
        margin-left: 180px !important;
}
</style>

<p><img src="/images/ops/greenplum-1.1.png" alt=""></p>
<table>
<thead>
<tr>
<th>No.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</th>
<th>OLTP</th>
<th>OLAP</th>
</tr>
</thead>
<tbody>
<tr>
<td>1.</td>
<td>æ•°æ®åœ¨ç³»ç»Ÿä¸­äº§ç”Ÿ</td>
<td>æœ¬èº«ä¸äº§ç”Ÿæ•°æ®ï¼ŒåŸºç¡€æ•°æ®æ¥æºäºäº§ç”Ÿç³»ç»Ÿ</td>
</tr>
<tr>
<td>2.</td>
<td>åŸºäºäº¤æ˜“çš„å¤„ç†ç³»ç»Ÿ</td>
<td>åŸºäºæŸ¥è¯¢çš„åˆ†æç³»ç»Ÿ</td>
</tr>
<tr>
<td>3.</td>
<td>ç‰µæ‰¯çš„æ•°æ®é‡å¾ˆå°</td>
<td>ç‰µæ‰¯çš„æ•°æ®é‡åºå¤§ (å¤æ‚æŸ¥è¯¢ç»å¸¸ä½¿ç”¨å…¨è¡¨æ‰«æç­‰)</td>
</tr>
<tr>
<td>4.</td>
<td>å¯¹å“åº”æ—¶é—´è¦æ±‚éå¸¸é«˜</td>
<td>å“åº”æ—¶é—´ä¸å…·ä½“æŸ¥è¯¢æœ‰å¾ˆå¤§å…³ç³»</td>
</tr>
<tr>
<td>5.</td>
<td>ç”¨æˆ·æ•°é‡å¤§ï¼Œä¸ºæ“ä½œç”¨æˆ·</td>
<td>ç”¨æˆ·æ•°é‡å°‘ï¼Œä¸»è¦æœ‰æŠ€æœ¯äººå‘˜ä¸ä¸šåŠ¡äººå‘˜</td>
</tr>
<tr>
<td>6.</td>
<td>å„ç§æ“ä½œä¸»è¦åŸºäºç´¢å¼•è¿›è¡Œ</td>
<td>ä¸šåŠ¡é—®é¢˜ä¸å›ºå®šï¼Œæ•°æ®åº“çš„å„ç§æ“ä½œä¸èƒ½å®Œå…¨åŸºäºç´¢å¼•è¿›è¡Œ</td>
</tr>
</tbody>
</table>
<h2 id="1-Greenplum-ä»‹ç»"><a href="#1-Greenplum-ä»‹ç»" class="headerlink" title="1. Greenplum ä»‹ç»"></a>1. Greenplum ä»‹ç»</h2><p>Greenplum æ˜¯ åŸºäºæ•°æ®åº“çš„åˆ†å¸ƒå¼æ•°æ®å­˜å‚¨å’Œå¹¶è¡Œè®¡ç®— æ¡†æ¶</p>
<blockquote>
<p>Greenplum TBçº§åˆ«è¡¨ç°éå¸¸ä¼˜ç§€ï¼Œå•æœºæ€§èƒ½æ¯”Hadoopå¿«å¥½å‡ å€</p>
</blockquote>
<h3 id="1-1-Greenplum-å†ç¨‹"><a href="#1-1-Greenplum-å†ç¨‹" class="headerlink" title="1.1 Greenplum å†ç¨‹"></a>1.1 Greenplum å†ç¨‹</h3><ul>
<li>2003 å¹´ è¯ç”Ÿ greenplum</li>
<li>2010 å¹´ æ”¶è´­ è¢« EMC æ•´åˆ</li>
<li>2014 å¹´ å‘å¸ƒ 4.3 version</li>
<li>2015 å¹´ é‡å› open source, apache</li>
</ul>
<h3 id="1-2-Greenplum-æ¶æ„"><a href="#1-2-Greenplum-æ¶æ„" class="headerlink" title="1.2 Greenplum æ¶æ„"></a>1.2 Greenplum æ¶æ„</h3><p><img src="/images/ops/greenplum-1.2.png" alt=""></p>
<blockquote>
<p>Greenplumå®ç°äº†åŸºäº<code>æ•°æ®åº“çš„åˆ†å¸ƒå¼</code>æ•°æ®å­˜å‚¨å’Œå¹¶è¡Œè®¡ç®—<br>GoogleMapReduceå®ç°çš„æ˜¯åŸºäº<code>æ–‡ä»¶çš„åˆ†å¸ƒå¼</code>æ•°æ®å­˜å‚¨å’Œè®¡ç®—</p>
</blockquote>
<h3 id="1-3-Greenplum-amp-Pg"><a href="#1-3-Greenplum-amp-Pg" class="headerlink" title="1.3 Greenplum &amp; Pg"></a>1.3 Greenplum &amp; Pg</h3><p>PostgreSQL éå¸¸å…ˆè¿›çš„ ORDBMSï¼Œ PostgreSQL å¤©ç”Ÿä¸ºæ‰©å±•è€Œç”Ÿã€‚</p>
<p>Mysql æŸ¥è¯¢ä¼˜åŒ–å™¨å¯¹äºå­æŸ¥è¯¢ã€å¤åˆ¶æŸ¥è¯¢å¦‚å¤šè¡¨å…³è”ã€å¤–å…³è”çš„æ”¯æŒç­‰è¾ƒå¼±ï¼ŒMysql ç›®å‰ä¸æ”¯æŒ<a href="https://en.wikipedia.org/wiki/Hash_join" target="_blank" rel="external">hash join</a>ï¼Œç¼ºå°‘è¿™å…³é”®åŠŸèƒ½éå¸¸è‡´å‘½ï¼Œå°†éš¾äºåœ¨OLAPé¢†åŸŸå……å½“å¤§ä»»ã€‚åŸºäºMYSQLä¸€åˆ°å¤æ‚å¤šè¡¨å…³è”æ€§èƒ½å°±ç«‹é©¬ä¸‹é™ã€‚</p>
<h3 id="1-4-Greenplum-åº”ç”¨"><a href="#1-4-Greenplum-åº”ç”¨" class="headerlink" title="1.4 Greenplum åº”ç”¨"></a>1.4 Greenplum åº”ç”¨</h3><p>Greenplum æ•°æ®å¼•æ“æ˜¯ä¸ºæ–°ä¸€ä»£æ•°æ®ä»“åº“å’Œ<code>å¤§è§„æ¨¡åˆ†æå¤„ç†</code>è€Œå»ºç«‹çš„è½¯ä»¶è§£å†³æ–¹æ¡ˆã€‚ (Alibaba 2008å¹´ä½¿ç”¨Greenplum)</p>
<blockquote>
<p>MPP : Massively Parallel Processing<br>OLTP: On-Line Transaction Processing<br>OLAP: On-Line Analytical Processing </p>
</blockquote>
<h3 id="1-5-MPP-ä¸-Hadoop"><a href="#1-5-MPP-ä¸-Hadoop" class="headerlink" title="1.5 MPP ä¸ Hadoop"></a>1.5 MPP ä¸ Hadoop</h3><table>
<thead>
<tr>
<th>&nbsp;&nbsp;Type &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</th>
<th>Greenplum MPP</th>
<th>Hadoop</th>
</tr>
</thead>
<tbody>
<tr>
<td>å­˜å‚¨æ¨¡å¼</td>
<td>å…³ç³»æ•°æ®åº“è¡Œåˆ—è¡¨å­˜å‚¨æ•°æ®ï¼ˆæœ‰æ¨¡å¼ï¼‰</td>
<td>æ–‡ä»¶åˆ‡ç‰‡åˆ†å¸ƒå¼å­˜å‚¨ï¼ˆæ— æ¨¡å¼ï¼‰</td>
</tr>
<tr>
<td>æ•°æ®è€¦åˆ</td>
<td>Hashåˆ†å¸ƒ, è®¡ç®—èŠ‚ç‚¹å’Œå­˜å‚¨ç´§å¯†è€¦åˆ</td>
<td>hdfsæ–‡ä»¶åˆ‡å—åéšæœºåˆ†é…ï¼ŒèŠ‚ç‚¹æ•°æ®æ— è€¦åˆ</td>
</tr>
<tr>
<td>æ•°æ®ç²’åº¦</td>
<td>è®°å½•çº§çš„æ›´å°ç²’åº¦ï¼ˆä¸€èˆ¬åœ¨1kä»¥ä¸‹ï¼‰</td>
<td>æ–‡ä»¶å—çº§ï¼ˆç¼ºçœ64MBï¼‰</td>
</tr>
<tr>
<td>æŸ¥è¯¢è®¡åˆ’</td>
<td>MPPé‡‡ç”¨SQLå¹¶è¡ŒæŸ¥è¯¢è®¡åˆ’</td>
<td>Hadoopé‡‡ç”¨Mapreduceæ¡†æ¶</td>
</tr>
</tbody>
</table>
<p>ä¸ºä¿è¯æ•°æ®çš„é«˜æ€§èƒ½è®¡ç®—ï¼ŒMPPæ•°æ®åº“èŠ‚ç‚¹å’Œæ•°æ®ä¹‹é—´æ˜¯ç´§è€¦åˆçš„ï¼Œç›¸åï¼ŒHadoopçš„èŠ‚ç‚¹å’Œæ•°æ®æ˜¯æ²¡æœ‰è€¦åˆå…³ç³»çš„. Hadoopçš„æ¶æ„æ›´åŠ çµæ´»-å­˜å‚¨èŠ‚ç‚¹å’Œè®¡ç®—èŠ‚ç‚¹çš„æ— å…³æ€§</p>
<p>Hadoopæ¶æ„ï¼Œéœ€è¦åœ¨åŸç”Ÿçš„Mapreduceå¼€å‘æ¡†æ¶åŸºç¡€ä¸Šçš„å¼€å‘ï¼Œéœ€è¦æŠ€æœ¯äººå‘˜è°™ç†ŸäºJAVAå¼€å‘å’Œå¹¶è¡ŒåŸç†ï¼Œä¸ä»…ä¸šåŠ¡åˆ†æäººå‘˜æ— æ³•ä½¿ç”¨ï¼Œç”šè‡³æŠ€æœ¯äººå‘˜ä¹Ÿéš¾ä»¥å­¦ä¹ å’Œæ“æ§ã€‚ä¸ºäº†è§£å†³æ˜“ç”¨æ€§çš„é—®é¢˜ï¼Œè¿‘å¹´æ¥SQL-0N-HADOOPæŠ€æœ¯å¤§é‡æ¶Œç°å‡ºæ¥ï¼Œå‡ ä¹æˆä¸ºå½“å‰Hadoopå¼€å‘ä½¿ç”¨çš„ä¸€ä¸ªæŠ€æœ¯çƒ­ç‚¹è¶‹åŠ¿ã€‚</p>
<p>è¿™äº›æŠ€æœ¯åŒ…æ‹¬ï¼šHiveã€Pivotal HAWQã€SPARK SQLã€Impalaã€Prestã€Drillã€Tajoç­‰ç­‰å¾ˆå¤šï¼Œè¿™äº›æŠ€æœ¯æœ‰äº›æ˜¯åœ¨Mapreduceä¸Šåšäº†ä¼˜åŒ–ï¼Œä¾‹å¦‚Sparké‡‡ç”¨å†…å­˜ä¸­çš„MapreduceæŠ€æœ¯ï¼Œå·ç§°æ€§èƒ½æ¯”åŸºäºæ–‡ä»¶çš„çš„Mapreduceæé«˜10å€ï¼›è€Œæœ‰äº›åˆ™ç›´æ¥ç»•å¼€äº†Mapreduceå¦èµ·ç‚‰ç¶ï¼Œå¦‚Impalaã€hawqé‡‡ç”¨å€Ÿé‰´MPPè®¡ç®—æ€æƒ³æ¥åšæŸ¥è¯¢ä¼˜åŒ–å’Œå†…å­˜æ•°æ®Pipelineè®¡ç®—ï¼Œä»¥æ­¤æ¥æé«˜æ€§èƒ½ã€‚</p>
<blockquote>
<p>MapReduce ç¼–ç¨‹å›°éš¾, ä¸å¦‚ SQL æ–¹ä¾¿</p>
</blockquote>
<h2 id="2-Quick-Start"><a href="#2-Quick-Start" class="headerlink" title="2. Quick Start"></a>2. Quick Start</h2><p>Master å’Œ Segment éƒ½æ˜¯å•ç‹¬çš„ PostgreSQLæ•°æ®åº“ã€‚</p>
<h3 id="2-1-Greenplum-æ¶æ„"><a href="#2-1-Greenplum-æ¶æ„" class="headerlink" title="2.1 Greenplum æ¶æ„"></a>2.1 Greenplum æ¶æ„</h3><p><img src="/images/ops/greenplum-2.1.png" alt=""></p>
<p>Client åªä¸ MasterèŠ‚ç‚¹ äº¤äº’ï¼ŒClientå°†SQLå‘ç»™ Masterï¼Œç„¶å Masterå¯¹SQLåˆ†æåï¼Œåˆ†é…ç»™æ‰€æœ‰çš„ Segment è¿›è¡Œæ“ä½œï¼Œå¹¶å°†æ±‡æ€»ç»“æœè¿”å›ç»™å®¢æˆ·ç«¯ã€‚</p>
<h3 id="2-2-Greenplum-é›†ç¾¤"><a href="#2-2-Greenplum-é›†ç¾¤" class="headerlink" title="2.2 Greenplum é›†ç¾¤"></a>2.2 Greenplum é›†ç¾¤</h3><p><img src="/images/ops/greenplum-2.2.png" alt=""></p>
<h3 id="2-3-Greenplum-ç•…æ¸¸"><a href="#2-3-Greenplum-ç•…æ¸¸" class="headerlink" title="2.3 Greenplum ç•…æ¸¸"></a>2.3 Greenplum ç•…æ¸¸</h3><h4 id="2-3-1-è®¿é—®æ–¹å¼"><a href="#2-3-1-è®¿é—®æ–¹å¼" class="headerlink" title="2.3.1 è®¿é—®æ–¹å¼"></a>2.3.1 è®¿é—®æ–¹å¼</h4><ul>
<li>psql cmd</li>
<li>pgAdmin / navicat</li>
</ul>
<h4 id="2-3-2-æ•´ä½“æ¦‚å†µ"><a href="#2-3-2-æ•´ä½“æ¦‚å†µ" class="headerlink" title="2.3.2 æ•´ä½“æ¦‚å†µ"></a>2.3.2 æ•´ä½“æ¦‚å†µ</h4><ul>
<li>Greenplum åŸºäº PostgreSQL 8.2 å¼€å‘</li>
<li>Masterä¸å­˜å‚¨æ•°æ®ï¼ŒSegmentä¸ºæ•°æ®èŠ‚ç‚¹</li>
</ul>
<p>Student Table å­˜å‚¨åœ¨ GP ä¸­</p>
<p><img src="/images/ops/greenplum-2.3.png" alt=""></p>
<h4 id="2-3-3-åŸºæœ¬è¯­æ³•"><a href="#2-3-3-åŸºæœ¬è¯­æ³•" class="headerlink" title="2.3.3 åŸºæœ¬è¯­æ³•"></a>2.3.3 åŸºæœ¬è¯­æ³•</h4><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">[hdfs@node196 libin]$ psql -h 192.168.xx.xx -p xx <span class="_">-d</span> testdb -U xx</span><br><span class="line">psql (9.2.15, server 8.2.15)</span><br><span class="line">WARNING: psql version 9.2, server version 8.2.</span><br><span class="line">         Some psql features might not work.</span><br><span class="line">Type <span class="string">"help"</span> <span class="keyword">for</span> help.</span><br></pre></td></tr></table></figure>
<blockquote>
<p>psql -h192.168.181.xx -p2345 -dcom_db -Ucom_gp -c â€œselect * from ods_dm_e_coupon limit 2â€</p>
</blockquote>
<p><strong>1. è¯­æ³•ä»‹ç»</strong></p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line">\h <span class="keyword">create</span></span><br></pre></td></tr></table></figure>
<p><strong>2. CREATE TABLE</strong></p>
<ul>
<li>éœ€è¦æŒ‡å®šè¡¨åˆ†å¸ƒé”®</li>
<li>éœ€è¦ç”¨æŸä¸ªå­—æ®µåˆ†åŒºï¼Œpartition by</li>
<li>like ç±»ä¼¼ create table t1 as select * from t2 limit x</li>
<li>inherits can extend table</li>
</ul>
<p>åˆ†ç±»ç­–ç•¥ </p>
<ol>
<li>Hash åˆ†å¸ƒ (é»˜è®¤ç¬¬ä¸€ä¸ªå­—æ®µï¼Œæ¨èæ˜¾ç¤ºæŒ‡å®š)</li>
<li>éšæœºåˆ†å¸ƒ (distributed randomly æ€§èƒ½è¾ƒå·®ï¼Œ ä¸»é”®åˆ†å¸ƒä¸€èˆ¬)</li>
</ol>
<blockquote>
<p>like åˆ›å»ºçš„è¡¨ï¼Œç»“æ„ä¸åŸè¡¨ä¸€æ ·ï¼Œä¸æŒ‡å®šåˆ†å¸ƒé”®ï¼Œé»˜è®¤ä¸åŸè¡¨ä¸€æ ·ã€‚</p>
<p>appendonlyã€å‹ç¼©ç­‰ç‰¹æ®Šå±æ€§ï¼Œä¸ä¸€å®šä¸€æ ·ã€‚</p>
</blockquote>
<p><strong>3. SELECT</strong></p>
<p><strong>4. CREATE TABLE AS ä¸ SELECT INTO</strong></p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> test2 <span class="keyword">AS</span> <span class="keyword">SELECT</span> * <span class="keyword">FROM</span> test1 <span class="keyword">distributed</span> <span class="keyword">by</span> (<span class="keyword">id</span>)</span><br></pre></td></tr></table></figure>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> * <span class="keyword">INTO</span> test4 <span class="keyword">from</span> test1</span><br></pre></td></tr></table></figure>
<blockquote>
<p>SELECT INTO ä¸èƒ½æŒ‡å®šåˆ†å¸ƒé”®ï¼Œä½¿ç”¨é»˜è®¤</p>
</blockquote>
<p><strong>5. INSERT</strong></p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> test001 <span class="keyword">VALUES</span>(<span class="number">100</span>, <span class="string">'tom'</span>), (<span class="number">101</span>, <span class="string">'jim'</span>); <span class="keyword">INSERT</span> <span class="number">0</span> <span class="number">2</span></span><br></pre></td></tr></table></figure>
<blockquote>
<p>æ³¨æ„ : åˆ†å¸ƒé”® ç»å¯¹ä¸èƒ½ä¸ºç©ºï¼Œå¦åˆ™ä¸º nullã€‚æ•°æ®åˆ†å¸ƒåˆ°ä¸€ä¸ªèŠ‚ç‚¹ã€‚</p>
</blockquote>
<p><strong>6. UPDATE</strong></p>
<p>ä¸èƒ½æ‰¹é‡å¯¹ åˆ†å¸ƒkey æ‰§è¡Œ update æ“ä½œ</p>
<p><strong>7. DELETE</strong></p>
<p>æ¶‰åŠ å­æŸ¥è¯¢ï¼Œå­æŸ¥è¯¢ç»“æœè¿˜æ¶‰åŠæ•°æ®é‡åˆ†å¸ƒï¼Œè¿™æ ·æŠ¥é”™</p>
<h4 id="2-3-4-æ•°æ®ç±»å‹"><a href="#2-3-4-æ•°æ®ç±»å‹" class="headerlink" title="2.3.4 æ•°æ®ç±»å‹"></a>2.3.4 æ•°æ®ç±»å‹</h4><table>
<thead>
<tr>
<th>type</th>
<th>space</th>
<th>description</th>
<th>range</th>
</tr>
</thead>
<tbody>
<tr>
<td>smallint</td>
<td>2</td>
<td></td>
<td>-32768 ~ +32767</td>
</tr>
<tr>
<td>integer</td>
<td>4</td>
<td></td>
<td>-2 147 483 648 ~ +2 147 483 647</td>
</tr>
<tr>
<td>bigint</td>
<td>8</td>
<td></td>
<td>-</td>
</tr>
<tr>
<td>decimal</td>
<td>å˜é•¿</td>
<td></td>
<td>nolimit</td>
</tr>
<tr>
<td>numeric</td>
<td>å˜é•¿</td>
<td></td>
<td>nolimit</td>
</tr>
<tr>
<td>double precision</td>
<td>4</td>
<td></td>
<td>-</td>
</tr>
<tr>
<td>serial</td>
<td>4</td>
<td>è‡ªå¢æ•´æ•°</td>
<td>1 ~ 2 147 483 647</td>
</tr>
<tr>
<td>bigserial</td>
<td>8</td>
<td>å¤§èŒƒå›´è‡ªå¢æ•´æ•°</td>
<td></td>
</tr>
<tr>
<td>varchar(n)</td>
<td>å˜é•¿</td>
<td></td>
<td>limit</td>
</tr>
<tr>
<td>char(n)</td>
<td>å®šé•¿</td>
<td></td>
<td></td>
</tr>
<tr>
<td>text</td>
<td>å˜é•¿</td>
<td></td>
<td>nolimit</td>
</tr>
<tr>
<td>timestamp</td>
<td>8</td>
<td>å¸¦ä¸å¸¦æ—¶åŒºï¼Œè‡ªå·±é€‰æ‹©</td>
<td></td>
</tr>
<tr>
<td>date</td>
<td>4</td>
<td>è¡¨ç¤ºæ—¥æœŸ</td>
<td></td>
</tr>
</tbody>
</table>
<h4 id="2-3-5-å¸¸ç”¨å‡½æ•°"><a href="#2-3-5-å¸¸ç”¨å‡½æ•°" class="headerlink" title="2.3.5 å¸¸ç”¨å‡½æ•°"></a>2.3.5 å¸¸ç”¨å‡½æ•°</h4><p><a href="http://www.postgres.cn/docs/9.3/" target="_blank" rel="external">postgres 9.3 doc</a></p>
<h2 id="Reference"><a href="#Reference" class="headerlink" title="Reference"></a>Reference</h2><ul>
<li><a href="https://cread.jd.com/read/startRead.action?bookId=30189846&amp;readType=1" target="_blank" rel="external">JDé˜…è¯» : Greenplumä¼ä¸šçº§åº”ç”¨å®æˆ˜</a></li>
<li><a href="http://dbaplus.cn/news-21-341-1.html" target="_blank" rel="external">èŠèŠGreenplumçš„é‚£äº›äº‹</a></li>
</ul>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[Going to the doctor's L4 Accidents and injuries]]></title>
      <url>http://iequa.com/2016/12/27/ef-l6u2-Going-to-the-doctor's-l4/</url>
      <content type="html"><![CDATA[<style>
img {
        display: block !important;
        width: 500px;
        margin-left: 200px !important;
}
</style>

<h2 id="1-Vocabulary"><a href="#1-Vocabulary" class="headerlink" title="1. Vocabulary"></a>1. Vocabulary</h2><ul>
<li>unconscious</li>
</ul>
<p><img src="/images/english/ef-l6u2l4.png" alt=""></p>
<table>
<thead>
<tr>
<th>A: JAKE - B: PAM - C: SIMON</th>
</tr>
</thead>
<tbody>
<tr>
<td>I fell down some stairs.</td>
<td></td>
</tr>
<tr>
<td>How did you do that?</td>
<td></td>
</tr>
<tr>
<td>I was walking down some stairs. I wasnâ€™t paying attention.</td>
<td></td>
</tr>
<tr>
<td>You were paying attention. He was paying attention to a woman.</td>
<td></td>
</tr>
<tr>
<td>I think the stairs were wet.</td>
<td></td>
</tr>
<tr>
<td>When did this happen?</td>
<td></td>
</tr>
<tr>
<td>[JAKE] Yeah. I bruised three ribs and, sprained my right wrist.</td>
<td></td>
</tr>
<tr>
<td>[PAM] How are you coping with the crutches?</td>
<td></td>
</tr>
<tr>
<td>[JAKE] No problem at all.</td>
<td></td>
</tr>
</tbody>
</table>
<h2 id="2-because-of-the-pain"><a href="#2-because-of-the-pain" class="headerlink" title="2. because of the pain"></a>2. because of the pain</h2><p>I was walking down the street when I slipped and fell down, and broke my leg. I havenâ€™t been sleeping since it happened because of the pain. It really hurts!</p>
<table>
<thead>
<tr>
<th>because of the pain</th>
</tr>
</thead>
<tbody>
<tr>
<td>I was walking down the street â€¦</td>
<td></td>
</tr>
<tr>
<td>â€¦ when I slipped and fell down â€¦</td>
<td></td>
</tr>
<tr>
<td>â€¦ and broke my leg.</td>
<td></td>
</tr>
<tr>
<td>I havenâ€™t been sleeping â€¦</td>
<td></td>
</tr>
<tr>
<td>â€¦ since it happened.</td>
<td></td>
</tr>
<tr>
<td>It really hurts!</td>
<td></td>
</tr>
</tbody>
</table>
<h2 id="3-Expressions"><a href="#3-Expressions" class="headerlink" title="3. Expressions"></a>3. Expressions</h2><table>
<thead>
<tr>
<th>Ex</th>
</tr>
</thead>
<tbody>
<tr>
<td>I fell off a wall and broke my leg.</td>
<td></td>
</tr>
<tr>
<td>I sprained my wrist.</td>
<td></td>
</tr>
<tr>
<td>I have a bruise on my arm.</td>
<td></td>
</tr>
<tr>
<td>I fell down and bruised my shoulder.</td>
<td></td>
</tr>
<tr>
<td>I broke my arm while playing volleyball.</td>
<td></td>
</tr>
<tr>
<td>I was running for a bus when I sprained my ankle.</td>
<td></td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr>
<th>Possessive adjectives</th>
</tr>
</thead>
<tbody>
<tr>
<td>He called his doctor because he had a fever.</td>
<td></td>
</tr>
<tr>
<td>Iâ€™m a patient of Dr. Brennanâ€™s. == Iâ€™m Dr. Brennanâ€™s patient.</td>
<td></td>
</tr>
</tbody>
</table>
<h2 id="4-Reading"><a href="#4-Reading" class="headerlink" title="4. Reading"></a>4. Reading</h2><p>I guess the strangest accident I have ever had was when I was at school. I was playing a game where you had to lie on the ground, and all the others jumped on top of you. It was fine until the biggest kid in school came and jumped on top, too! I broke my finger, <code>bruised my ribs</code> and <code>sprained</code> my wrist. I spent the night in the hospital, and it took me a couple of months to get better.</p>
<h2 id="5-Writing"><a href="#5-Writing" class="headerlink" title="5. Writing"></a>5. Writing</h2><p>I had an accident last winter when I was arriving at work. I was coming into the building, climbing the steps, when I slipped on the icy floor. I fell down the steps and <code>broke my ankle</code>. I also <code>sprained my left wrist and bruised my back badly</code>. I had to go to the hospital, and I stayed there for three days. I hurt a lot! I had to stay at home for two more weeks before I could go back to work.</p>
<hr>
<div class="video-container"><iframe src="//www.youtube.com/embed/XDm4bNQGwWE" frameborder="0" allowfullscreen></iframe></div>]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[Going to the doctor's L3 Filling a prescription]]></title>
      <url>http://iequa.com/2016/12/16/ef-l6u2-Going-to-the-doctor's-l3/</url>
      <content type="html"><![CDATA[<style>
img {
        display: block !important;
        width: 500px;
        margin-left: 200px !important;
}
</style>

<h2 id="1-Vocabulary"><a href="#1-Vocabulary" class="headerlink" title="1. Vocabulary"></a>1. Vocabulary</h2><ul>
<li>Iâ€™m going to the pharmacy.</li>
<li>He talked to the pharmacist.</li>
<li>teaspoons</li>
</ul>
<table>
<thead>
<tr>
<th>allergic to</th>
<th>medications</th>
<th>dosage </th>
</tr>
</thead>
<tbody>
<tr>
<td>tablets</td>
<td>spicy</td>
<td>capsules</td>
</tr>
</tbody>
</table>
<p><img src="/images/english/ef-l6u2l3.png" alt=""></p>
<table>
<thead>
<tr>
<th>A: PAM - B: PHARMACIST</th>
</tr>
</thead>
<tbody>
<tr>
<td>[A] Hi. Iâ€™d like to fill a prescription. James. My first name is Pam. Does my insurance cover this?</td>
<td></td>
</tr>
<tr>
<td>[B] Yes, it does. Iâ€™ll be right back. Are you allergic to any other medications?</td>
<td></td>
</tr>
<tr>
<td>[A] Uh, no, Iâ€™m not.</td>
<td></td>
</tr>
<tr>
<td>[B] Okay. So this will help stop the diarrhea. The dosage is two tablets every six hours.</td>
<td></td>
</tr>
<tr>
<td>[A] Okay.</td>
<td></td>
</tr>
<tr>
<td>[B] Itâ€™s better if you take it with some plain food, like rice or scrambled eggs. Nothing spicy.</td>
<td></td>
</tr>
<tr>
<td>[A] I understand.</td>
<td></td>
</tr>
<tr>
<td>[B] And this is for the nausea and the vomiting. Take two capsules twice a day for three days.</td>
<td></td>
</tr>
<tr>
<td>[B] I hope you feel better.</td>
<td></td>
</tr>
</tbody>
</table>
<h2 id="2-Expressions"><a href="#2-Expressions" class="headerlink" title="2. Expressions"></a>2. Expressions</h2><table>
<thead>
<tr>
<th>PAM</th>
<th>PHARMACIST</th>
</tr>
</thead>
<tbody>
<tr>
<td>Iâ€™d like to fill a prescription.</td>
<td>Take two capsules twice a day for three days</td>
</tr>
<tr>
<td>Iâ€™m here to pick up my medication</td>
<td>Itâ€™s better if you take it with some plain food.</td>
</tr>
<tr>
<td>Does my insurance cover this?</td>
<td>Yes, it does.</td>
</tr>
<tr>
<td>Iâ€™m not currently taking any medication.</td>
<td>I hope you feel better. </td>
</tr>
</tbody>
</table>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[Going to the doctor's L2 Talking with the doctor]]></title>
      <url>http://iequa.com/2016/12/13/ef-l6u2-Going-to-the-doctor's-l2/</url>
      <content type="html"><![CDATA[<style>
img {
        display: block !important;
        width: 450px;
        margin-left: 200px !important;
}
</style>

<h2 id="1-Vocabulary"><a href="#1-Vocabulary" class="headerlink" title="1. Vocabulary"></a>1. Vocabulary</h2><table>
<thead>
<tr>
<th>blood pressure</th>
<th>symptoms</th>
<th>stomach flu </th>
</tr>
</thead>
<tbody>
<tr>
<td>prescription</td>
<td>medicine</td>
<td>liquids</td>
</tr>
<tr>
<td>appetite</td>
<td>nauseous</td>
<td>fever</td>
</tr>
</tbody>
</table>
<p><img src="/images/english/ef-l6u2l2-1.png" alt=""></p>
<table>
<thead>
<tr>
<th>A: DOCTOR - B: PAM</th>
</tr>
</thead>
<tbody>
<tr>
<td>[DOC] How are you feeling?</td>
<td></td>
</tr>
<tr>
<td>[PAM] Not so great.</td>
<td></td>
</tr>
<tr>
<td>[DOC] Hmm. Iâ€™m sorry to hear that. How long have you been feeling bad?</td>
<td></td>
</tr>
<tr>
<td>[PAM] Um, since yesterday. But I got really sick in the middle of the night.</td>
<td></td>
</tr>
<tr>
<td>[DOC] Well, you do have a slight fever, but thatâ€™s nothing to worry about. And your blood pressure is good. Did you eat anything unusual yesterday?</td>
<td></td>
</tr>
<tr>
<td>[PAM] No, I donâ€™t think so. I had pizza for lunch, and I didnâ€™t eat dinner.</td>
<td></td>
</tr>
<tr>
<td>[DOC] Well, based on the symptoms youâ€™ve described, I think that you have a stomach flu. Itâ€™s been going around.</td>
<td></td>
</tr>
<tr>
<td>[PAM] Yeah, thatâ€™s what I thought.</td>
<td></td>
</tr>
<tr>
<td>[DOC] Iâ€™m going to write you a prescription for medicine to help your stomach and stop the diarrhea.</td>
<td></td>
</tr>
<tr>
<td>[DOC] Stay in bed and, uh, drink plenty of liquids. If you donâ€™t feel better after 24 hours, I want you to call the nurse.</td>
<td></td>
</tr>
<tr>
<td>[DOC] And, uh, when you have an appetite again, take it easy. Iâ€™d recommend plain white rice and maybe some yoghurt.</td>
<td></td>
</tr>
<tr>
<td>[PAM] Okay, doctor, thanks</td>
<td></td>
</tr>
</tbody>
</table>
<h2 id="2-Grammar"><a href="#2-Grammar" class="headerlink" title="2. Grammar"></a>2. Grammar</h2><table>
<thead>
<tr>
<th>forã€have been +ing</th>
<th>since</th>
</tr>
</thead>
<tbody>
<tr>
<td>Frank has been working hard <code>for two days</code>.</td>
<td>Oscar has been working hard <code>since yesterday</code>.</td>
</tr>
<tr>
<td>Iâ€™ve been waiting for the nurse for 20 minutes.</td>
<td>Iâ€™ve been having trouble sleeping since last Friday. </td>
</tr>
<tr>
<td>Since I got home, Iâ€™<code>ve been feeling</code> terrible.</td>
<td></td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr>
<th>had..for</th>
<th>Since</th>
</tr>
</thead>
<tbody>
<tr>
<td>Heâ€™s had the same symptoms for three days.</td>
<td>Iâ€™ve been drinking lots of liquids since I got sick</td>
</tr>
<tr>
<td>Sheâ€™s had the flu for a week.</td>
<td>Since I got sick, Iâ€™ve been drinking lots of liquids.</td>
<td></td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr>
<th>Doctor</th>
<th>Pam</th>
</tr>
</thead>
<tbody>
<tr>
<td>How long have you been feeling like this?</td>
<td>I got really sick in the middle of the night.</td>
</tr>
<tr>
<td>What are your symptoms ?</td>
<td>I have a stomachache and diarrhea.</td>
</tr>
<tr>
<td>I think that you have a stomach flu.</td>
<td>Do I have a favor ?</td>
</tr>
<tr>
<td>Iâ€™ll write you a prescription for some medicine.</td>
<td>What should I do?</td>
</tr>
<tr>
<td>Get rest and drink water.</td>
<td></td>
</tr>
</tbody>
</table>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[Going to the doctor's L1 Making a doctor's appointment]]></title>
      <url>http://iequa.com/2016/12/09/ef-l6u2-Going-to-the-doctor's-l1/</url>
      <content type="html"><![CDATA[<h2 id="1-Vocabulary"><a href="#1-Vocabulary" class="headerlink" title="1. Vocabulary"></a>1. Vocabulary</h2><ul>
<li>I feel terrible.</li>
<li><code>vomiting</code></li>
<li>I have <code>diarrhea</code>. [,daÉªÉ™â€™riÉ™]</li>
<li>patient</li>
<li>make an appointment</li>
<li><strong>dizzy</strong> [â€˜dÉªzÉª]</li>
<li><strong>nauseous</strong> [â€˜nÉ”ËsÉªÉ™s]</li>
<li><strong>sore throat</strong></li>
</ul>
<p><img src="/images/english/ef-l6u2l1.png" width="480" height="400" img=""></p>
<table>
<thead>
<tr>
<th>Making a doctorâ€™s appointment</th>
</tr>
</thead>
<tbody>
<tr>
<td>[SALLY] Pam, are you okay?</td>
<td></td>
</tr>
<tr>
<td>[PAM] No. I feel terrible.</td>
<td></td>
</tr>
<tr>
<td>[SALLY] Whatâ€™s up?</td>
<td></td>
</tr>
<tr>
<td>[PAM] <strong>Iâ€™ve been vomiting all night</strong>.</td>
<td></td>
</tr>
<tr>
<td>[SALLY] Oh, <strong>you poor thing</strong>. You need to call a doctor.</td>
<td></td>
</tr>
<tr>
<td>[PAM] I know.</td>
<td></td>
</tr>
<tr>
<td>[SALLY] Hey. Uh, I have to go, but Iâ€™ll call you later to see how you are.</td>
<td></td>
</tr>
<tr>
<td>[PAM] Hello</td>
<td></td>
</tr>
<tr>
<td>[RECEPTIONIST] Good morning. Doctor Brennanâ€™s office.</td>
<td></td>
</tr>
<tr>
<td>[PAM] Hi. My nameâ€™s Pam James. Iâ€™m a <code>patient</code> of Doctor Brennanâ€™s.</td>
<td></td>
</tr>
<tr>
<td>[RECEPTIONIST] Oh, yes. Ms. James. How can I help you?</td>
<td></td>
</tr>
<tr>
<td>[PAM] Iâ€™m sick. I want to <strong>make an appointment</strong> to see the doctor today.</td>
<td></td>
</tr>
<tr>
<td>[RECEPTIONIST] <strong>What seems to be the problem?</strong></td>
<td></td>
</tr>
<tr>
<td>[PAM] Iâ€™ve been vomiting. And I, uh, have diarrhea.</td>
<td></td>
</tr>
<tr>
<td>[RECEPTIONIST] Iâ€™m very sorry to hear that. <strong>How long has this been going on?</strong></td>
<td></td>
</tr>
<tr>
<td>[PAM] All night. It started about 3 in the morning.</td>
<td></td>
</tr>
<tr>
<td>[RECEPTIONIST] Oh, dear. Will you be able to get to the doctorâ€™s office okay?</td>
<td></td>
</tr>
<tr>
<td>[PAM] Yeah, I think so.</td>
<td></td>
</tr>
<tr>
<td>[RECEPTIONIST] Okay. Let me just have a look here. The doctor has some time at 1 oâ€™clock. <strong>Could you make it then</strong>?</td>
<td></td>
</tr>
<tr>
<td>[PAM] Is there anything earlier?</td>
<td></td>
</tr>
<tr>
<td>[RECEPTIONIST] No, Iâ€™m sorry. The doctorâ€™s really busy today.</td>
<td></td>
</tr>
<tr>
<td>[PAM] Okay. One oâ€™clock is fine.</td>
<td></td>
</tr>
<tr>
<td>[RECEPTIONIST] Great. So, weâ€™ll see you at 1 oâ€™clock. Take care.</td>
<td></td>
</tr>
<tr>
<td>[PAM] Thank you.</td>
<td></td>
</tr>
</tbody>
</table>
<h2 id="2-Expressions"><a href="#2-Expressions" class="headerlink" title="2. Expressions"></a>2. Expressions</h2><table>
<thead>
<tr>
<th>&nbsp;</th>
</tr>
</thead>
<tbody>
<tr>
<td>I have a headache, and Iâ€™m dizzy.</td>
<td></td>
</tr>
<tr>
<td>I have a stomachache, and I feel nauseous.</td>
<td></td>
</tr>
<tr>
<td>I have a bad cough and a sore throat.</td>
<td></td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr>
<th>&nbsp;</th>
</tr>
</thead>
<tbody>
<tr>
<td>I had a fever last night.</td>
<td></td>
</tr>
<tr>
<td>I have diarrhea.</td>
<td></td>
</tr>
<tr>
<td>Iâ€™ve been vomiting.</td>
<td></td>
</tr>
<tr>
<td>How have you been feeling?</td>
<td></td>
</tr>
<tr>
<td>How long has this been <code>going on</code>?</td>
<td></td>
</tr>
<tr>
<td>Iâ€™ve been vomiting all night.</td>
<td></td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr>
<th>&nbsp;</th>
</tr>
</thead>
<tbody>
<tr>
<td>Iâ€™ve been feeling sick for three days.</td>
<td></td>
</tr>
<tr>
<td>Iâ€™ve been having problems sleeping.</td>
<td></td>
</tr>
<tr>
<td>Good morning. Iâ€™m a patient of Doctor Brennanâ€™s.</td>
<td></td>
</tr>
<tr>
<td>I want to make an appointment to see the doctor.</td>
<td></td>
</tr>
<tr>
<td>What seems to be the problem?</td>
<td></td>
</tr>
<tr>
<td>Iâ€™ve been feeling nauseous and tired.</td>
<td></td>
</tr>
<tr>
<td>The doctor has some time at 1 oâ€™clock.</td>
<td></td>
</tr>
<tr>
<td>Is there anything earlier?</td>
<td></td>
</tr>
</tbody>
</table>
<h3 id="2-1-have"><a href="#2-1-have" class="headerlink" title="2.1 have"></a>2.1 have</h3><ul>
<li>I have a fever.</li>
<li>He has diarrhea.</li>
<li>She has a bad cough.</li>
</ul>
<h3 id="2-2-soreã€-ache"><a href="#2-2-soreã€-ache" class="headerlink" title="2.2 soreã€-ache"></a>2.2 soreã€-ache</h3><ul>
<li>I have a <strong>sore</strong> throat.</li>
<li>He has a headache.</li>
<li>I have a stomachache.</li>
</ul>
<h3 id="2-3-beã€feel"><a href="#2-3-beã€feel" class="headerlink" title="2.3 beã€feel"></a>2.3 beã€feel</h3><ul>
<li>Iâ€™m dizzy. I feel dizzy.</li>
<li>Sheâ€™s nauseous. She feels nauseous.  [â€˜nÉ”ËsÉªÉ™s]</li>
</ul>
<p>Iâ€™ve been vomiting for about an hour.</p>
<h2 id="3-Reading"><a href="#3-Reading" class="headerlink" title="3. Reading"></a>3. Reading</h2><p>I feel terrible. I didnâ€™t sleep last night because I had a bad fever  . I was just too hot! I have a bad cough  , too â€“ maybe because I smoke? My colleagues always complain about the noise I make, but I canâ€™t answer them because I have a sore throat  and I canâ€™t speak. I didnâ€™t eat all day because I felt nauseous  and I had a stomachache  , and every time I wanted to stand up, I couldnâ€™t because I was so dizzy.</p>
<ul>
<li>I have been feeling very bad <code>for</code> the last two days.</li>
<li>I have been having problems sleeping.</li>
<li>Have you been experiencing any other problems?</li>
</ul>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[Chinese Society's Common Trick]]></title>
      <url>http://iequa.com/2016/12/04/life-resorting-to-trickery/</url>
      <content type="html"><![CDATA[<blockquote>
<p>å¥èº«é¦†ã€æŠ€èƒ½åŸ¹è®­æœºæ„ã€ç§ç«‹åŒ»é™¢ã€å©šæ‹ä¸­ä»‹ã€æˆ¿å±‹ä¸­ä»‹ã€ç¾å®¹é™¢ç­‰æœºæ„çš„éª—æœ¯</p>
</blockquote>
<h2 id="1-å¥èº«ä¼šé¦†"><a href="#1-å¥èº«ä¼šé¦†" class="headerlink" title="1. å¥èº«ä¼šé¦†"></a>1. å¥èº«ä¼šé¦†</h2><p>è¿™ç±»æœºæ„ï¼Œå¾€å¾€ä¼šé‡‡å–ä½æˆæœ¬æ‹›è˜ä¸€äº›æ‰¾ä¸åˆ°ä»€ä¹ˆæ­£è§„å·¥ä½œçš„äººç­‰æ¥åšå·ç§°å„ç§ä¸“ä¸šçš„é¡¾é—®ï¼Œåœ¨å„ä¸ªäººå‘˜å¯†é›†çš„åœ°æ–¹æ‹‰å®¢ï¼Œæˆ–è€… åœ¨å¤§åœ°é“ç«™é™„è¿‘å‘è¿™ä¼ å•ç­‰æ–¹å¼æ¥å®£ä¼ è‡ªå·±ï¼Œè¿˜æ—¶å€™ä¸€èˆ¬ä¼šæœ‰ç»™ä½ 1~2æ¬¡ä½“éªŒçš„æœºä¼šç­‰ç­‰ï¼Œè®©ä½ ç™»è®°ã€å…è´¹ä½“éªŒã€å…è´¹ä½“æ£€ç­‰ç­‰ã€‚</p>
<h3 id="1-1-å¥—è·¯-ä½“æ£€æŠ¥å‘Š"><a href="#1-1-å¥—è·¯-ä½“æ£€æŠ¥å‘Š" class="headerlink" title="1.1 å¥—è·¯ ä½“æ£€æŠ¥å‘Š"></a>1.1 å¥—è·¯ ä½“æ£€æŠ¥å‘Š</h3><p>èº«ä½“è™šï¼Œç¼ºè›‹ç™½è´¨ï¼Œè„‚è‚ªå¤šã€éª¨éª¼è‚Œä½ ç­‰ç­‰</p>
<blockquote>
<p>è®©æ¶ˆè´¹è€…æ„Ÿåˆ°å¿ƒé‡Œææ…Œ åŠ éœ€è¦å¥èº«çš„æ€¥è¿«æ€§</p>
</blockquote>
<h3 id="1-2-å¥—è·¯-è‡ªå¹è‡ªæ“‚"><a href="#1-2-å¥—è·¯-è‡ªå¹è‡ªæ“‚" class="headerlink" title="1.2 å¥—è·¯ è‡ªå¹è‡ªæ“‚"></a>1.2 å¥—è·¯ è‡ªå¹è‡ªæ“‚</h3><p>è¯´ä»–ä»¬çš„è¯¾ç¨‹å¤šä¸“ä¸šï¼Œè€å¸ˆå¤šä¸“ä¸šï¼Œè¿é”åº—å¤šå¤§ç­‰</p>
<h3 id="1-3-å¥—è·¯-è´¹ç”¨å’¨è¯¢"><a href="#1-3-å¥—è·¯-è´¹ç”¨å’¨è¯¢" class="headerlink" title="1.3 å¥—è·¯ è´¹ç”¨å’¨è¯¢"></a>1.3 å¥—è·¯ è´¹ç”¨å’¨è¯¢</h3><p>å¾€å¾€ç›´æ¥é—®è¿™ä¸ªï¼Œä»–ä»¬ä¸€èˆ¬ä¼šç»™ä½ é—ªçƒå…¶è¯ï¼Œå¥—ä½ çš„å¿ƒé‡Œï¼Œæœ€åé“å‡ºä¸€ä¸ªç‰¹åˆ«è´µçš„å¤©æ–‡æ•°å­—è´¹ç”¨ï¼Œä½ å¦‚æœè¯´è€ƒè™‘è€ƒè™‘ç­‰ï¼Œå°±ç»™ä½ æ¥äº†ä¸ªï¼Œæˆ‘å¯ä»¥å¸®ä½ å‘ä¸Šè¾¹ç”³è¯·ä¼˜æƒ ï¼Œç„¶åå†æ¥ä¸€ä¸ªäººï¼Œå’Œä½ èŠï¼Œå·ç§°ç»™ä½ ä¼˜æƒ äº†å¤šå°‘å¤šå°‘ï¼Œæœ€åä½ å¦‚æœèµ°äº†ï¼Œå°±ç»™ä½ æ¥ä¸€ä¸ªæœ€åé€šç‰’ï¼Œè¯´ä½ 2å¤©å†…ä¸åŠè¿™ä¸ªä¼˜æƒ å°±æ²¡æœ‰äº†ç­‰ç­‰ï¼Œé€ æˆä½ çš„è¿›ä¸€æ­¥ææ…Œã€‚</p>
<blockquote>
<p>ä¸­é—´è¿‡ç¨‹ï¼Œä½ ä¸çˆ½å¿«å®šçš„è¯ï¼Œå¾ˆå¯èƒ½ä¼šä¼´éšç€ä½ çš„å„ç§è¢«é¡¾é—®çš„åé—®ã€è´¨é—®ã€å˜²è®½ç­‰</p>
</blockquote>
<h3 id="1-4-å¥—è·¯-å‚¬ç­¾åˆåŒ"><a href="#1-4-å¥—è·¯-å‚¬ç­¾åˆåŒ" class="headerlink" title="1.4 å¥—è·¯ å‚¬ç­¾åˆåŒ"></a>1.4 å¥—è·¯ å‚¬ç­¾åˆåŒ</h3><p>æ¶ˆè´¹è€…å¾€å¾€è¢«åº—é‡Œäººå¿½æ‚ ï¼Œç­¾åˆåŒå¹¶æ²¡æœ‰ä»”ç»†é˜…è¯»æ¯ä¸€ä¸ªæ¡æ¬¾ï¼Œç­¾å­—ä¹‹åï¼Œäº¤äº†é’±ï¼Œä»¥åå†å‘ç”Ÿä»€ä¹ˆä¸æ„‰å¿«ï¼Œé€€å¡è½¬å¡ä¹‹ç±»çš„ï¼ŒåŸºæœ¬ä¼šè¢«å„ç§ç†ç”±æ‰€é˜»æŒ ï¼Œé’±ç»™äº†äººå®¶ï¼Œäººå®¶å°±æ˜¯å¤§çˆ·äº†ä¸€èˆ¬ã€‚</p>
<blockquote>
<p>åŠå¡è€…è¯·è°¨æ…é€‰æ‹©ï¼Œå»ç½‘ä¸Šçœ‹çœ‹å…¶ä»–äººå¯¹è¿™å®¶çš„è¯„ä»·ç­‰ç­‰ä¸‰æ€è€Œåè¡Œã€‚</p>
<p>å…¸å‹ä¸º : ã€Šå”¯ç‘œä¼½ã€‹ å®³äººä¸æµ… ç­‰</p>
</blockquote>
<h2 id="2-ç§ç«‹åŒ»é™¢"><a href="#2-ç§ç«‹åŒ»é™¢" class="headerlink" title="2. ç§ç«‹åŒ»é™¢"></a>2. ç§ç«‹åŒ»é™¢</h2><p>è¿™ç±»åŒ»é™¢ï¼Œæˆ‘æƒ³å¤§å®¶éƒ½å¬è¯´è¿‡ è†ç”°ç³»-é­åˆ™è¥¿äº‹ä»¶ï¼Œåªæ˜¯è¿™ä¸ªäº‹ä»¶è¢«å…¬ä¼—å…³æ³¨äº†ã€‚å…¶å®å†…åœ°è¿™30å¹´æ¥ï¼Œå¯ä»¥è¯´ç±»ä¼¼æ™®é€šæ°‘ä¼—è¢«å‘çš„äº‹ä»¶æ— å¤„ä¸åœ¨ï¼Œè¿™ç±»åŒ»é™¢å¯¹äººä»¬é€ æˆäº†éå¸¸å¤§çš„ä¼¤å®³ã€‚æ·±åº¦æŒ–æ˜åŒ»é™¢èƒŒæ™¯æ›´æ˜¯æ¶‰åŠæƒé’±äº¤æ˜“ã€å®˜å•†å‹¾ç»“çš„å·¨å¤§é»‘å¹•ã€‚ä¸å¤šè®¨è®ºã€‚</p>
<h3 id="2-1-å¥—è·¯-æ¨å¹¿æ¸ é“"><a href="#2-1-å¥—è·¯-æ¨å¹¿æ¸ é“" class="headerlink" title="2.1 å¥—è·¯ æ¨å¹¿æ¸ é“"></a>2.1 å¥—è·¯ æ¨å¹¿æ¸ é“</h3><p>è¿™ç±»åŒ»é™¢ä¼šåœ¨ç¤¾ä¼šä¸Šå»‰ä»·æ‹›è˜å¾ˆå¤šæ‰¾ä¸åˆ°ä»€ä¹ˆæ­£è§„å·¥ä½œçš„äººï¼Œé€šè¿‡æµè¡Œç¤¾äº¤åª’ä½“æˆ–ç¤¾äº¤è½¯ä»¶ å¦‚ ï¼š å¾®åšã€å¾®ä¿¡ã€ç™¾åº¦æ¨å¹¿ ç­‰è¿›è¡Œå¤§é¢ç§¯æ¨å¹¿ã€‚å’Œå’¨è¯¢çš„ç—…äººè¿›è¡Œéå¸¸çƒ­å¿ƒç¤¼è²Œçš„é—®ç­”ï¼Œå½“ç„¶ç¬¬ä¸€æ­¥ä»–ä»¬ä¼šæƒ³åŠæ³•è·å–ä½ çš„å§“åã€ç”µè¯å·ç­‰ä¸ªäººä¿¡æ¯ã€‚</p>
<h3 id="2-2-å¥—è·¯-ä¼˜æƒ æ£€æŸ¥"><a href="#2-2-å¥—è·¯-ä¼˜æƒ æ£€æŸ¥" class="headerlink" title="2.2 å¥—è·¯ ä¼˜æƒ æ£€æŸ¥"></a>2.2 å¥—è·¯ ä¼˜æƒ æ£€æŸ¥</h3><p>ä¸ºäº†å¸å¼•ç—…äººï¼Œå¯ä»¥å»çœ‹ç—…ï¼Œä¼šç”¨ä¼˜æƒ ï¼Œå…è´¹ç»™ä½ ç”³è¯·çš„ä»€ä¹ˆé¡¹ç›®ç­‰æ¥å¿½æ‚ ä½ å»é‚£çœ‹ç—…ã€‚</p>
<h3 id="2-3-å¥—è·¯-å¤¸å¤§ç—…æƒ…"><a href="#2-3-å¥—è·¯-å¤¸å¤§ç—…æƒ…" class="headerlink" title="2.3 å¥—è·¯ å¤¸å¤§ç—…æƒ…"></a>2.3 å¥—è·¯ å¤¸å¤§ç—…æƒ…</h3><p>å¤¸å¤§ç—…æƒ…ï¼Œä¸€èˆ¬è¿™æ—¶å€™ä½ çš„åŒ»ç”Ÿ(å‡å­¦å†æˆ–è€…æ˜¯å»ä¸äº†æ­£è§„åŒ»é™¢çš„) å¯¹ä½ è¿›è¡Œåœ¨äº‹å®çš„åŸºç¡€ä¸Šå¤¸å¤§ç—…æƒ…ï¼Œç”¨ä¸€äº›æœ¯è¯­å’Œä½ è‡ªå·±é“å‡ºçš„å®é™…æƒ…å†µï¼Œè¿›è¡ŒåŒ…è£…å¼å¿½æ‚ ï¼Œä»¥è®©ç—…äººå¿ƒé‡Œäº§ç”Ÿå·¨å¤§çš„å¿ƒé‡Œææ…Œã€‚ä¼šç”¨éå¸¸å¿«çš„é€Ÿåº¦è®©ä½ å»äº¤é’±ã€å†æ£€æŸ¥ä»€ä¹ˆã€å†åšä»€ä¹ˆæ‰‹æœ¯ç­‰ç­‰ã€‚</p>
<h3 id="2-4-å¥—è·¯-åç»­å¤„ç†"><a href="#2-4-å¥—è·¯-åç»­å¤„ç†" class="headerlink" title="2.4 å¥—è·¯ åç»­å¤„ç†"></a>2.4 å¥—è·¯ åç»­å¤„ç†</h3><p>å¯èƒ½ä¼šè¿½è¸ªä½ çš„åç»­æƒ…å†µï¼Œè®©ä½ æ¥å¤æŸ¥ç­‰ç­‰ï¼Œè¿›è¡Œç¬¬äºŒè½®å¿½æ‚ ã€‚æœ€åä½ å‘ç°èŠ±äº†å¾ˆå¤šé’±ï¼Œä½ å°±ç®—çŸ¥é“è¢«å¿½æ‚ äº†ï¼Œä½†æ˜¯ä¹Ÿæ˜¯ä¸€ç‚¹åŠæ³•æ²¡æœ‰ï¼Œå› ä¸ºæ•´ä½“æµç¨‹æ˜¯æ­£ç¡®çš„ï¼Œä½ ç”¨æ³•å¾‹çš„æ‰‹æ®µä¹Ÿæ˜¯å‘Šä¸äº†ä»–ä»¬çš„ã€‚</p>
<blockquote>
<p>æ¨èäººä»¬åŠ¡å¿…æ“¦äº®åŒçœ¼ï¼Œçœ‹ç—…è¿˜æ˜¯æ¨èå»å›½å®¶å›½æœ‰ä¸‰çº§ç”²ç­‰ã€æˆ–è€…æ˜¯å…¶ä»–å›½æœ‰ç”²ç­‰åŒ»é™¢æ¥çœ‹ç—…æ²»ç–—ï¼Œå¦‚æœå¯¹éå¸¸åœ¨æ„çš„å¤§ç—…ï¼Œæ¨èå»2å®¶ä»¥ä¸Šä¸‰ç”²åŒ»é™¢è¿›ä¸€æ­¥ç¡®è¯Šï¼Œä»¥é˜²æ­¢è¯¯è¯Šçš„ä¸‡æ— ä¸€å¤±ã€‚</p>
<p>åƒä¸‡åˆ«å»å†…åœ°æ¯ä¸€ä¸ªåŸå¸‚éƒ½æœ‰çš„å¾ˆå¤šè†ç”°ç³»åŒ»é™¢ï¼Œåƒä¸‡æŸ¥è¯¢å¥½ä¸‰æ€è€Œè¡Œï¼Œåˆ«å»è†ç”°ç³»ã€‚</p>
</blockquote>
<h2 id="3-å©šæ‹ä¸­ä»‹"><a href="#3-å©šæ‹ä¸­ä»‹" class="headerlink" title="3. å©šæ‹ä¸­ä»‹"></a>3. å©šæ‹ä¸­ä»‹</h2><p>è¿™ç§æœºæ„ä¸€èˆ¬ä¼šé€šè¿‡å„ç§æ¸ é“ï¼Œæ¯”å¦‚å…¬äº¤è½¦ã€ç”µæ¢¯é‡Œã€å…¬äº¤ç«™ã€æŠ¥çº¸ ç­‰æ‰“ç€å·¨å¤§çš„å¹¿å‘Šè¿›è¡Œå®£ä¼ ã€‚</p>
<p>ä½ å»çš„è¯ï¼Œä¸€èˆ¬å·ç§°æ˜¯æƒ…æ„Ÿé¡¾é—®çš„è®©ä½ å¡«å†™ä½ ä¸ªäººçš„è¯¦ç»†ä¿¡æ¯ï¼ŒåŒ…æ‹¬éå¸¸æ•æ„Ÿçš„ä¿¡æ¯å…¨éƒ¨å†™ä¸€éï¼Œç„¶åé’ˆå¯¹ä½ çš„æƒ…å†µè¿›è¡Œå„ç§å¿½æ‚ ï¼Œæœ€åè´¹ç”¨å¿½æ‚ çš„æ–¹å¼å’Œå¥èº«ç‘œä¼½ç­‰ä¼šé¦†çš„å¿½æ‚ æ–¹å¼å¯èƒ½ç±»ä¼¼ï¼Œç»™ä½ ä¸€ä¸ªå·¨å¤§çš„å¤©æ–‡é‡‘é¢ï¼Œç„¶åç»™ä½ ç”³è¯·ä¼˜æƒ ï¼Œä¹Ÿå¯èƒ½æœ€åå¥¹æ²¡è¯´æœä½ ä»Šå¤©é©¬ä¸ŠåŠç†ï¼Œå°±ä¼šå†ç»™ä½ æ¢ä¸€ä¸ªå·ç§°æ›´èµ„æ·±çš„é¡¾é—®æ¥å†å’Œä½ èŠä¸€å¤§å †ï¼Œæƒ³åŠæ³•è®©ä½ é©¬ä¸Šç­¾åˆåŒäº¤é’±ç­‰ã€‚</p>
<blockquote>
<p>å¦‚ ï¼š æˆ‘ä¸»è‰¯ç¼˜ ç­‰æœºæ„ï¼ŒåŸºæœ¬å°±æ˜¯å‘è’™æ‹éª—ï¼Œèƒ½éª—å°±éª—ï¼Œå’Œç¾å®¹é™¢æ¨èä½ åŠç†ä¼šå‘˜ï¼Œä¸€ä¸ªäººå‘˜ä¸€ä¸ªäººå‘˜å’Œä½ èŠï¼Œç›´åˆ°ä½ åŠç†ä¸ºæ­¢ã€‚æ¨èä½ è¿™æ—¶å€™å½“æœºç«‹æ–­ã€‚</p>
</blockquote>
<h2 id="4-æˆ¿å±‹ä¸­ä»‹"><a href="#4-æˆ¿å±‹ä¸­ä»‹" class="headerlink" title="4. æˆ¿å±‹ä¸­ä»‹"></a>4. æˆ¿å±‹ä¸­ä»‹</h2><p>è¿™ç±»ä¸­ä»‹å…¬å¸ï¼Œç‰¹åˆ«å¤šï¼Œç»å¸¸è§å¾ˆå¤šå‹äººè¢« é»‘ä¸­ä»‹å˜´ä¸Šè¯´çš„ç‰¹åˆ«å¥½ï¼Œç»™ä½ å¾ˆå¤šå…è¯ºï¼Œæœ€åå¿½æ‚ è®©ä½ äº¤å®šé‡‘ä»€ä¹ˆçš„ï¼Œäº¤æ¬¾ä¹‹åï¼Œä½ å°±å…¥é“äº†ï¼ŒåŸºæœ¬ä½ ä¸ç§Ÿå®šé‡‘ä¹Ÿä¸ä¼šç»™ä½ é€€äº†ï¼Œä¹‹å‰å’Œä½ æ‰“ä¿è¯çš„ï¼Œä»–å¾ˆæœ‰å¯èƒ½è¯´æ²¡å’Œä½ è¯´è¿‡ã€‚è¿™æ—¶å€™ä½ å°±å®Œå…¨è¢«åŠ¨äº†ï¼Œç­¾åˆåŒçš„è¯ä¸€å®šè¦è®¤çœŸé˜…è¯»æ¯ä¸€ä¸ªæ¡æ¬¾ï¼Œå¦‚æœä½ æœ‰ä»€ä¹ˆè¦æ±‚éƒ½è¦å¢åŠ åˆ°åˆåŒä¸Šï¼Œå¦åˆ™ä¸€åˆ‡é»‘ä¸­ä»‹è¯´çš„è¯ï¼Œå…¨éƒ¨éƒ½æ˜¯å¯ä»¥ä¸è®¤è´¦çš„ã€‚</p>
<blockquote>
<p>åœ¨è¿™é‡Œï¼Œä½ ä¸èƒ½ç›¸ä¿¡ä»»ä½•äººï¼Œä½ åªèƒ½ç›¸ä¿¡ç™½çº¸é»‘å­—å†™ä¸‹æ¥çš„æ‰æ˜¯å¯¹çš„ã€‚</p>
</blockquote>
<h2 id="5-æŠ€èƒ½åŸ¹è®­æœºæ„"><a href="#5-æŠ€èƒ½åŸ¹è®­æœºæ„" class="headerlink" title="5. æŠ€èƒ½åŸ¹è®­æœºæ„"></a>5. æŠ€èƒ½åŸ¹è®­æœºæ„</h2><p>è¿™ç±»æœºæ„ï¼Œæ¯”å¦‚å„ç§ è‹±å­šè‹±è¯­ã€åå°”è¡—è‹±è¯­ã€æ¨±èŠ±æ—¥è¯­ã€è·³èˆç­ã€ä¹¦æ³•ç­ã€ç»˜ç”»ç­ç­‰ç­‰ï¼Œè¿™ç±»æœºæ„å‚å·®ä¸é½ï¼Œä¸èƒ½ä»¥åæ¦‚å…¨ã€‚ä¹Ÿæœ‰ä¸ä¹ä¸€äº›é¡¾é—®å°±åƒå¥èº«ä¸€æ ·çš„æ–¹å¼æ¥å¿½æ‚ ä½ ï¼Œç»™ä½ ä¼˜æƒ ï¼Œ1~2å†…ä¸å†³å®šä¼˜æƒ å°±æ²¡æœ‰äº†ç­‰è¯­è¨€æ¥ä½¿å¾—ä½ æ„Ÿåˆ°ææ…Œæ€§ç›²ä»ï¼Œä¸­é—´å½“ç„¶ä¹Ÿä¸ä¹ä½ å«Œå¼ƒè´µï¼Œé¡¾é—®å°±å«Œå¼ƒä½ å±Œä¸ï¼Œè¯­æ°”ç”»é£éƒ½å˜äº†çš„å¯èƒ½æ€§éå¸¸å¤§ã€‚</p>
<blockquote>
<p>æœ‰éå¸¸å°‘çš„ç±»ä¼¼æœºæ„æ˜¯ä¸é”™çš„ï¼Œå½“ç„¶ä¹Ÿå­˜åœ¨ä¸ªåˆ«çš„é¡¾é—®å¯èƒ½ä¼šå­˜åœ¨åŠ¿åˆ©çœ¼ï¼ŒåŠ¿åŠ›ç¬‘ç­‰ã€‚</p>
</blockquote>
<h2 id="To-summarize"><a href="#To-summarize" class="headerlink" title="To summarize"></a>To summarize</h2><p>ä¸­å›½è¿™ç§å®ä½“åˆ©ç›Šæ¶éœ¸ï¼Œå‘è’™æ‹éª—ã€åŠ¿åŠ›çœ¼ æ¯”æ¯”çš†æ˜¯ï¼Œæˆ‘æƒ³ç”µå­å•†åŠ¡æ·˜å®ã€å¤©çŒ«ç­‰æ­£æ˜¯ç”¨7å¤©æ— ç†ç”±é€€æ¢è´§ä»¥åŠå¹³å°ç›‘ç®¡æ–¹æ¡ˆæ‰ä½¿å¾—æ¶ˆè´¹è€…çš„æƒç›Šå¾—åˆ°ä¿éšœï¼Œç›´æ¥è§£å†³äº†äººä¸äººä¹‹é—´çš„ä¿¡ä»»é—®é¢˜ï¼Œä»ä»·å€¼è§‚çš„è§’åº¦æ¥çœ‹ï¼Œè¿™æ˜¯ä½¿å¾—å„ç±»ç”µå•†å–å¾—å¿«é€Ÿå‘å±•çš„é‡è¦å†³å®šæ€§æ¨åŠ›ã€‚</p>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[Spark Machine Learning p4 - Build Recommendation System]]></title>
      <url>http://iequa.com/2016/11/23/spark-machine-learning-p4-rs/</url>
      <content type="html"><![CDATA[<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js"],
    jax: ["input/TeX"],
    tex2jax: {
      inlineMath: [ ['$','$'], ['\\(','\\)'] ],
      displayMath: [ ['$$','$$']],
      processEscapes: true
    }
  });
</script>
<script type="text/javascript" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS_HTML,http://myserver.com/MathJax/config/local/local.js">
</script>

<blockquote>
<p>æ¨èå¼•æ“è¯•å›¾å¯¹ç”¨æˆ·ä¸æŸç±»ç‰©å“ä¹‹é—´çš„è”ç³»å»ºæ¨¡</p>
</blockquote>
<ul>
<li>æ¨èå¼•æ“çš„ç±»å‹ï¼›</li>
<li>ç”¨ç”¨æˆ·åå¥½æ•°æ®æ¥å»ºç«‹ä¸€ä¸ªæ¨èæ¨¡å‹ï¼›</li>
<li>ä¸ºç”¨æˆ·è¿›è¡Œæ¨èå’Œæ±‚æŒ‡å®šç‰©å“çš„ç±»ä¼¼ç‰©å“ï¼›</li>
<li>è¯„ä¼°è¯¥æ¨¡å‹çš„é¢„æµ‹èƒ½åŠ›ã€‚</li>
</ul>
<h2 id="1-æ¨èæ¨¡å‹åˆ†ç±»"><a href="#1-æ¨èæ¨¡å‹åˆ†ç±»" class="headerlink" title="1. æ¨èæ¨¡å‹åˆ†ç±»"></a>1. æ¨èæ¨¡å‹åˆ†ç±»</h2><ul>
<li>å†…å®¹è¿‡æ»¤</li>
<li>ååŒè¿‡æ»¤</li>
<li>çŸ©é˜µåˆ†è§£</li>
</ul>
<h3 id="1-1-å†…å®¹è¿‡æ»¤-ç±»ä¼¼ç‰©å“"><a href="#1-1-å†…å®¹è¿‡æ»¤-ç±»ä¼¼ç‰©å“" class="headerlink" title="1.1 å†…å®¹è¿‡æ»¤ - (ç±»ä¼¼ç‰©å“)"></a>1.1 å†…å®¹è¿‡æ»¤ - (ç±»ä¼¼ç‰©å“)</h3><p>åˆ©ç”¨ç‰©å“ç›¸ä¼¼åº¦å®šä¹‰ï¼Œæ¥æ±‚å‡ºä¸è¯¥ç‰©å“ç±»ä¼¼çš„ç‰©å“ã€‚</p>
<blockquote>
<p>å¯¹ç”¨æˆ·çš„æ¨èå¯ä»¥æ ¹æ®ç”¨æˆ·çš„å±æ€§æˆ–æè¿°å¾—å‡ºï¼Œä¹‹åå†é€šè¿‡ç›¸åŒçš„ç›¸ä¼¼åº¦å®šä¹‰æ¥ä¸ç‰©å“å±æ€§åšåŒ¹é…ã€‚</p>
</blockquote>
<h3 id="1-2-ååŒè¿‡æ»¤-ä¼°è®¡æœªè§¦"><a href="#1-2-ååŒè¿‡æ»¤-ä¼°è®¡æœªè§¦" class="headerlink" title="1.2 ååŒè¿‡æ»¤ - (ä¼°è®¡æœªè§¦)"></a>1.2 ååŒè¿‡æ»¤ - (ä¼°è®¡æœªè§¦)</h3><p>ååŒè¿‡æ»¤æ˜¯ä¸€ç§åˆ©ç”¨å¤§é‡å·²æœ‰çš„ç”¨æˆ·åå¥½æ¥ä¼°è®¡ç”¨æˆ·å¯¹å…¶<code>æœªæ¥è§¦è¿‡</code>çš„ç‰©å“çš„å–œå¥½ç¨‹åº¦ã€‚å…¶å†…åœ¨æ€æƒ³æ˜¯<strong>ç›¸ä¼¼åº¦çš„å®šä¹‰</strong>ã€‚</p>
<ul>
<li><p>åŸºäºç”¨æˆ·</p>
<blockquote>
<p>å¦‚æœä¸¤ä¸ªç”¨æˆ·è¡¨ç°å‡ºç›¸ä¼¼çš„åå¥½ï¼Œè®¤ä¸ºä»–ä»¬çš„å…´è¶£ç±»ä¼¼ã€‚è¦å¯¹ä»–ä»¬ä¸­çš„ä¸€ä¸ªç”¨æˆ·æ¨èä¸€ä¸ªæœªçŸ¥ç‰©å“ï¼Œä¾¿å¯é€‰å–è‹¥å¹²ä¸å…¶ç±»ä¼¼çš„ç”¨æˆ·å¹¶æ ¹æ®ä»–ä»¬çš„å–œå¥½è®¡ç®—å‡ºå¯¹å„ä¸ªç‰©å“çš„ç»¼åˆå¾—åˆ†ã€‚</p>
</blockquote>
</li>
<li><p>åŸºäºç‰©å“</p>
<blockquote>
<p>æ®ç°æœ‰ç”¨æˆ·å¯¹ç‰©å“çš„åå¥½æˆ–æ˜¯è¯„çº§æƒ…å†µï¼Œæ¥è®¡ç®—ç‰©å“ä¹‹é—´çš„æŸç§ç›¸ä¼¼åº¦ã€‚å·²æœ‰ç‰©å“ç›¸ä¼¼çš„ç‰©å“è¢«ç”¨æ¥ç”Ÿæˆä¸€ä¸ªç»¼åˆå¾—åˆ†ï¼Œè€Œè¯¥å¾—åˆ†ç”¨äºè¯„ä¼°æœªçŸ¥ç‰©å“çš„ç›¸ä¼¼åº¦ã€‚</p>
</blockquote>
</li>
</ul>
<p>åŸºäº<strong>ç”¨æˆ·</strong>æˆ–<strong>ç‰©å“</strong>çš„æ–¹æ³•å¾—åˆ†å–å†³äºè‹¥å¹²ç”¨æˆ·æˆ–æ˜¯ç‰©å“ä¹‹é—´ä¾æ®ç›¸ä¼¼åº¦æ‰€æ„æˆçš„é›†åˆï¼ˆå³é‚»å±…ï¼‰ï¼Œæ•…å®ƒä»¬ä¹Ÿå¸¸è¢«ç§°ä¸ºKNNã€‚</p>
<p>å¯¹â€œç”¨æˆ·-ç‰©å“â€<code>åå¥½å»ºæ¨¡</code></p>
<h3 id="1-3-çŸ©é˜µåˆ†è§£"><a href="#1-3-çŸ©é˜µåˆ†è§£" class="headerlink" title="1.3 çŸ©é˜µåˆ†è§£"></a>1.3 çŸ©é˜µåˆ†è§£</h3><p>Sparkæ¨èæ¨¡å‹åº“ åŒ…å«åŸºäºçŸ©é˜µåˆ†è§£ï¼ˆmatrix factorizationï¼‰çš„å®ç°ï¼Œè¯¥æ¨¡å‹åœ¨ååŒè¿‡æ»¤ä¸­çš„è¡¨ç°ååˆ†å‡ºè‰²ã€‚</p>
<h4 id="1-3-1-æ˜¾å¼çŸ©é˜µåˆ†è§£"><a href="#1-3-1-æ˜¾å¼çŸ©é˜µåˆ†è§£" class="headerlink" title="1.3.1 æ˜¾å¼çŸ©é˜µåˆ†è§£"></a>1.3.1 æ˜¾å¼çŸ©é˜µåˆ†è§£</h4><p>æ˜¾å¼è‡ªèº«åå¥½æ•°æ®</p>
<blockquote>
<p>è¿™ç±»æ•°æ®åŒ…æ‹¬å¦‚ç‰©å“è¯„çº§ã€èµã€å–œæ¬¢ç­‰ç”¨æˆ·å¯¹ç‰©å“çš„è¯„ä»·ã€‚è½¬æ¢ä¸ºä»¥ç”¨æˆ·ä¸ºè¡Œã€ç‰©å“ä¸ºåˆ—çš„äºŒç»´çŸ©é˜µã€‚</p>
<p>å¤§éƒ¨åˆ†æƒ…å†µä¸‹å•ä¸ªç”¨æˆ·åªä¼šå’Œå°‘éƒ¨åˆ†ç‰©å“æ¥è§¦ï¼Œæ‰€ä»¥è¯¥çŸ©é˜µå¾ˆç¨€ç–ã€‚</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">Tom, Star Wars, 5</span><br><span class="line">Jane, Titanic,ã€€4</span><br><span class="line">Bill, Batman,ã€€3</span><br><span class="line">Jane, Star Wars, 2</span><br><span class="line">Bill, Titanic, 3</span><br></pre></td></tr></table></figure>
<p><img src="/images/spark/spark-ml-4.1.png" alt="ä¸€ä¸ªç®€å•çš„ç”µå½±è¯„çº§çŸ©é˜µ"></p>
<p>ç”¨æˆ·-ç‰©å“ çŸ©é˜µçš„ç»´åº¦ä¸º U Ã— I</p>
<p><img src="/images/spark/spark-ml-4.2.jpg" alt="å›¾4-2 ä¸€ä¸ªç¨€ç–çš„è¯„çº§çŸ©é˜µ"> </p>
<p><strong>ä¸ºäº†é™ç»´</strong></p>
<ul>
<li>è¡¨ç¤ºç”¨æˆ·çš„ U Ã— k ç»´çŸ©é˜µ</li>
<li>è¡¨å¾ç‰©å“çš„ I Ã— k ç»´çŸ©é˜µ</li>
</ul>
<blockquote>
<p>è¿™ä¸¤ä¸ªçŸ©é˜µä¹Ÿç§°ä½œå› å­çŸ©é˜µ, ä¹˜ç§¯æ˜¯åŸå§‹è¯„çº§çŸ©é˜µçš„ä¸€ä¸ªè¿‘ä¼¼.</p>
<p>åŸå§‹è¯„çº§çŸ©é˜µé€šå¸¸å¾ˆç¨€ç–ï¼Œä½†å› å­çŸ©é˜µå´æ˜¯ç¨ å¯†çš„</p>
</blockquote>
<p><img src="/images/spark/spark-ml-4.3.jpg" alt="å›¾4-3 ç”¨æˆ·å› å­çŸ©é˜µå’Œç‰©å“å› å­çŸ©é˜µ"></p>
<blockquote>
<p>å› å­å¯èƒ½è¡¨ç¤ºäº†æŸäº›å«ä¹‰ï¼Œæ¯”å¦‚å¯¹ç”µå½±çš„æŸä¸ªå¯¼æ¼”ã€ç§ç±»ã€é£æ ¼æˆ–æŸäº›æ¼”å‘˜çš„åå¥½ã€‚</p>
</blockquote>
<p><code>è¦è®¡ç®—ç»™å®šç”¨æˆ·å¯¹æŸä¸ªç‰©å“çš„é¢„è®¡è¯„çº§</code> = è¡Œï¼ˆç”¨æˆ·å› å­å‘é‡ï¼‰ ä¸ åˆ—ï¼ˆç‰©å“å› å­å‘é‡ï¼‰ï¼Œä¸¤è€…ç‚¹ç§¯</p>
<p><img src="/images/spark/spark-ml-4.4.jpg" alt="å›¾4-4 ç”¨ç”¨æˆ·å› å­çŸ©é˜µå’Œç‰©å“å› å­çŸ©é˜µè®¡ç®—æ¨è"></p>
<blockquote>
<p>ç‰©å“ä¹‹é—´ç›¸ä¼¼åº¦çš„è®¡ç®—ï¼Œè½¬æ¢ä¸ºå¯¹ä¸¤ç‰©å“å› å­å‘é‡ä¹‹é—´ç›¸ä¼¼åº¦çš„è®¡ç®—</p>
</blockquote>
<p><img src="/images/spark/spark-ml-4.5.jpg" alt="å›¾4-5 ç”¨ç‰©å“å› å­çŸ©é˜µè®¡ç®—ç›¸ä¼¼åº¦"></p>
<table>
<thead>
<tr>
<th>ä¼˜ç‚¹</th>
<th>ç¼ºç‚¹</th>
</tr>
</thead>
<tbody>
<tr>
<td>å› å­åˆ†è§£ç±»æ¨¡å‹å»ºç«‹ï¼Œæ±‚è§£å®¹æ˜“</td>
<td>ç‰©å“æˆ–æ˜¯ç”¨æˆ·çš„å› å­å‘é‡å¯èƒ½è¾¾åˆ°æ•°ä»¥ç™¾ä¸‡è®¡ã€‚åœ¨å­˜å‚¨å’Œè®¡ç®—èƒ½åŠ›æœ‰æŒ‘æˆ˜ã€‚</td>
</tr>
</tbody>
</table>
<h4 id="1-3-2-éšå¼çŸ©é˜µåˆ†è§£"><a href="#1-3-2-éšå¼çŸ©é˜µåˆ†è§£" class="headerlink" title="1.3.2. éšå¼çŸ©é˜µåˆ†è§£"></a>1.3.2. éšå¼çŸ©é˜µåˆ†è§£</h4><p>éšå«åœ¨ç”¨æˆ·ä¸ç‰©å“çš„äº¤äº’ä¹‹ä¸­ã€‚äºŒå…ƒæ•°æ®ï¼ˆæ¯”å¦‚ç”¨æˆ·æ˜¯å¦è§‚çœ‹äº†æŸä¸ªç”µå½±æˆ–æ˜¯å¦è´­ä¹°äº†æŸä¸ªå•†å“ï¼‰å’Œè®¡æ•°æ•°æ®ï¼ˆæ¯”å¦‚ç”¨æˆ·è§‚çœ‹æŸç”µå½±çš„æ¬¡æ•°ï¼‰ä¾¿æ˜¯è¿™ç±»æ•°æ®ã€‚</p>
<p>MLlib å¤„ç†éšå¼æ•°æ®ï¼š</p>
<ol>
<li>ä¸€ä¸ªäºŒå…ƒåå¥½çŸ©é˜µ P </li>
<li>ä¸€ä¸ªä¿¡å¿ƒæƒé‡çŸ©é˜µ C</li>
</ol>
<p><img src="/images/spark/spark-ml-4.6.png" alt="å›¾4-6 ç”¨ç‰©å“å› å­çŸ©é˜µè®¡ç®—ç›¸ä¼¼åº¦"></p>
<p>éšå¼æ¨¡å‹ä»ç„¶ä¼šåˆ›å»ºä¸€ä¸ªç”¨æˆ·å› å­çŸ©é˜µå’Œä¸€ä¸ªç‰©å“å› å­çŸ©é˜µã€‚ä½†æ˜¯ï¼Œæ¨¡å‹æ‰€æ±‚è§£çš„æ˜¯åå¥½çŸ©é˜µè€Œéè¯„çº§çŸ©é˜µçš„è¿‘ä¼¼ã€‚</p>
<p><strong>3. æœ€å°äºŒä¹˜æ³•</strong></p>
<p>æœ€å°äºŒä¹˜æ³•ï¼ˆAlternating Least Squaresï¼ŒALSï¼‰æ˜¯ä¸€ç§æ±‚è§£çŸ©é˜µåˆ†è§£é—®é¢˜çš„æœ€ä¼˜åŒ–æ–¹æ³•ã€‚ä¸”ç›¸å¯¹å®¹æ˜“å¹¶è¡ŒåŒ–ã€‚</p>
<blockquote>
<p>ALSçš„å®ç°åŸç†æ˜¯è¿­ä»£å¼æ±‚è§£ä¸€ç³»åˆ—æœ€å°äºŒä¹˜å›å½’é—®é¢˜ã€‚åœ¨æ¯ä¸€æ¬¡è¿­ä»£æ—¶ï¼Œå›ºå®šç”¨æˆ·å› å­çŸ©é˜µæˆ–æ˜¯ç‰©å“å› å­çŸ©é˜µä¸­çš„ä¸€ä¸ªï¼Œç„¶åç”¨å›ºå®šçš„è¿™ä¸ªçŸ©é˜µä»¥åŠè¯„çº§æ•°æ®æ¥æ›´æ–°å¦ä¸€ä¸ªçŸ©é˜µã€‚ä¹‹åï¼Œè¢«æ›´æ–°çš„çŸ©é˜µè¢«å›ºå®šä½ï¼Œå†æ›´æ–°å¦å¤–ä¸€ä¸ªçŸ©é˜µã€‚å¦‚æ­¤è¿­ä»£ï¼Œç›´åˆ°æ¨¡å‹æ”¶æ•›ï¼ˆæˆ–æ˜¯è¿­ä»£äº†é¢„è®¾å¥½çš„æ¬¡æ•°ï¼‰ã€‚</p>
</blockquote>
<h2 id="2-æå–æœ‰æ•ˆç‰¹å¾"><a href="#2-æå–æœ‰æ•ˆç‰¹å¾" class="headerlink" title="2. æå–æœ‰æ•ˆç‰¹å¾"></a>2. æå–æœ‰æ•ˆç‰¹å¾</h2><figure class="highlight scala"><table><tr><td class="code"><pre><span class="line">&gt;./bin/spark-shell â€“-driver-memory <span class="number">2</span>g</span><br><span class="line"><span class="keyword">val</span> rawData = sc.textFile(<span class="string">"/Users/hp/ghome/github/Recommendation/spark-ml/ml-100k/u.data"</span>)</span><br><span class="line">rawData.first()</span><br><span class="line"><span class="keyword">val</span> rawRatings = rawData.map(_.split(<span class="string">"\t"</span>).take(<span class="number">3</span>))</span><br><span class="line"><span class="keyword">import</span> org.apache.spark.mllib.recommendation.<span class="type">ALS</span></span><br><span class="line"></span><br><span class="line"><span class="type">ALS</span>.</span><br><span class="line">asInstanceOf    isInstanceOf   main   toString        train           trainImplicit</span><br><span class="line"><span class="type">ALS</span>.train</span><br></pre></td></tr></table></figure>
<p>ALSæ¨¡å‹éœ€è¦ä¸€ä¸ªç”±Ratingè®°å½•æ„æˆçš„RDDï¼Œè€ŒRatingç±»åˆ™æ˜¯å¯¹ç”¨æˆ·IDã€å½±ç‰‡IDï¼ˆè¿™é‡Œæ˜¯é€šç§°productï¼‰å’Œå®é™…æ˜Ÿçº§è¿™äº›å‚æ•°çš„å°è£…ã€‚<br>æˆ‘ä»¬å¯ä»¥è°ƒç”¨mapæ–¹æ³•å°†åŸæ¥çš„å„IDå’Œæ˜Ÿçº§çš„æ•°ç»„è½¬æ¢ä¸ºå¯¹åº”çš„Ratingå¯¹è±¡ï¼Œä»è€Œåˆ›å»ºæ‰€éœ€çš„è¯„çº§æ•°æ®é›†ã€‚</p>
<figure class="highlight scala"><table><tr><td class="code"><pre><span class="line">scala&gt; <span class="keyword">import</span> org.apache.spark.mllib.recommendation.<span class="type">Rating</span></span><br><span class="line"><span class="keyword">import</span> org.apache.spark.mllib.recommendation.<span class="type">Rating</span></span><br><span class="line"></span><br><span class="line">scala&gt; <span class="keyword">val</span> ratings = rawRatings.map &#123; <span class="keyword">case</span> <span class="type">Array</span>(user, movie, rating) =&gt;</span><br><span class="line">     | <span class="type">Rating</span>(user.toInt, movie.toInt, rating.toDouble) &#125;</span><br><span class="line">ratings: org.apache.spark.rdd.<span class="type">RDD</span>[org.apache.spark.mllib.recommendation.<span class="type">Rating</span>] = <span class="type">MapPartitionsRDD</span>[<span class="number">3</span>] at map at &lt;console&gt;:<span class="number">27</span></span><br><span class="line"></span><br><span class="line">scala&gt; ratings.first()</span><br><span class="line">res3: org.apache.spark.mllib.recommendation.<span class="type">Rating</span> = <span class="type">Rating</span>(<span class="number">196</span>,<span class="number">242</span>,<span class="number">3.0</span>)</span><br><span class="line"></span><br><span class="line">scala&gt; ratings.take(<span class="number">10</span>)</span><br><span class="line">res4: <span class="type">Array</span>[org.apache.spark.mllib.recommendation.<span class="type">Rating</span>] = <span class="type">Array</span>(<span class="type">Rating</span>(<span class="number">196</span>,<span class="number">242</span>,<span class="number">3.0</span>), <span class="type">Rating</span>(<span class="number">186</span>,<span class="number">302</span>,<span class="number">3.0</span>), <span class="type">Rating</span>(<span class="number">22</span>,<span class="number">377</span>,<span class="number">1.0</span>), <span class="type">Rating</span>(<span class="number">244</span>,<span class="number">51</span>,<span class="number">2.0</span>), <span class="type">Rating</span>(<span class="number">166</span>,<span class="number">346</span>,<span class="number">1.0</span>), <span class="type">Rating</span>(<span class="number">298</span>,<span class="number">474</span>,<span class="number">4.0</span>), <span class="type">Rating</span>(<span class="number">115</span>,<span class="number">265</span>,<span class="number">2.0</span>), <span class="type">Rating</span>(<span class="number">253</span>,<span class="number">465</span>,<span class="number">5.0</span>), <span class="type">Rating</span>(<span class="number">305</span>,<span class="number">451</span>,<span class="number">3.0</span>), <span class="type">Rating</span>(<span class="number">6</span>,<span class="number">86</span>,<span class="number">3.0</span>))</span><br></pre></td></tr></table></figure>
<h2 id="3-è®­ç»ƒæ¨èæ¨¡å‹"><a href="#3-è®­ç»ƒæ¨èæ¨¡å‹" class="headerlink" title="3. è®­ç»ƒæ¨èæ¨¡å‹"></a>3. è®­ç»ƒæ¨èæ¨¡å‹</h2><p>ä»åŸå§‹æ•°æ®æå–å‡ºè¿™äº›ç®€å•ç‰¹å¾åï¼Œä¾¿å¯è®­ç»ƒæ¨¡å‹ã€‚MLlibå·²å®ç°æ¨¡å‹è®­ç»ƒçš„ç»†èŠ‚ï¼Œè¿™ä¸éœ€è¦æˆ‘ä»¬æ‹…å¿ƒã€‚æˆ‘ä»¬åªéœ€æä¾›ä¸Šè¿°æŒ‡å®šç±»å‹çš„æ–°RDDä»¥åŠå…¶ä»–æ‰€éœ€å‚æ•°æ¥ä½œä¸ºè®­ç»ƒçš„è¾“å…¥å³å¯ã€‚</p>
<h3 id="3-1-Movie-100k-train-model"><a href="#3-1-Movie-100k-train-model" class="headerlink" title="3.1 Movie-100k train model"></a>3.1 Movie-100k train model</h3><p>ç°åœ¨å¼€å§‹è®­ç»ƒæ¨¡å‹äº†ï¼Œæ‰€éœ€çš„å…¶ä»–å‚æ•°æœ‰ä»¥ä¸‹å‡ ä¸ª</p>
<ul>
<li><code>rank</code>ï¼šå¯¹åº”ALSæ¨¡å‹ä¸­çš„å› å­ä¸ªæ•°ï¼Œä¹Ÿå°±æ˜¯åœ¨ä½é˜¶è¿‘ä¼¼çŸ©é˜µä¸­çš„éšå«ç‰¹å¾ä¸ªæ•°ã€‚å› å­ä¸ªæ•°ä¸€èˆ¬è¶Šå¤šè¶Šå¥½ã€‚ä½†å®ƒä¹Ÿä¼šç›´æ¥å½±å“æ¨¡å‹è®­ç»ƒå’Œä¿å­˜æ—¶æ‰€éœ€çš„å†…å­˜å¼€é”€ï¼Œå°¤å…¶æ˜¯åœ¨ç”¨æˆ·å’Œç‰©å“å¾ˆå¤šçš„æ—¶å€™ã€‚å› æ­¤å®è·µä¸­è¯¥å‚æ•°å¸¸ä½œä¸ºè®­ç»ƒæ•ˆæœä¸ç³»ç»Ÿå¼€é”€ä¹‹é—´çš„è°ƒèŠ‚å‚æ•°ã€‚é€šå¸¸ï¼Œå…¶åˆç†å–å€¼ä¸º10åˆ°200ã€‚</li>
<li><code>iterations</code>ï¼šå¯¹åº”è¿è¡Œæ—¶çš„è¿­ä»£æ¬¡æ•°ã€‚ALSèƒ½ç¡®ä¿æ¯æ¬¡è¿­ä»£éƒ½èƒ½é™ä½è¯„çº§çŸ©é˜µçš„é‡å»ºè¯¯å·®ï¼Œä½†ä¸€èˆ¬ç»å°‘æ•°æ¬¡è¿­ä»£åALSæ¨¡å‹ä¾¿å·²èƒ½æ”¶æ•›ä¸ºä¸€ä¸ªæ¯”è¾ƒåˆç†çš„å¥½æ¨¡å‹ã€‚è¿™æ ·ï¼Œå¤§éƒ¨åˆ†æƒ…å†µä¸‹éƒ½æ²¡å¿…è¦è¿­ä»£å¤ªå¤šæ¬¡ï¼ˆ10æ¬¡å·¦å³ä¸€èˆ¬å°±æŒºå¥½ï¼‰ã€‚</li>
<li><code>lambda</code>ï¼šè¯¥å‚æ•°æ§åˆ¶æ¨¡å‹çš„æ­£åˆ™åŒ–è¿‡ç¨‹ï¼Œä»è€Œæ§åˆ¶æ¨¡å‹çš„è¿‡æ‹Ÿåˆæƒ…å†µã€‚å…¶å€¼è¶Šé«˜ï¼Œæ­£åˆ™åŒ–è¶Šä¸¥å‰ã€‚è¯¥å‚æ•°çš„èµ‹å€¼ä¸å®é™…æ•°æ®çš„å¤§å°ã€ç‰¹å¾å’Œç¨€ç–ç¨‹åº¦æœ‰å…³ã€‚å’Œå…¶ä»–çš„æœºå™¨å­¦ä¹ æ¨¡å‹ä¸€æ ·ï¼Œæ­£åˆ™å‚æ•°åº”è¯¥é€šè¿‡ç”¨éæ ·æœ¬çš„æµ‹è¯•æ•°æ®è¿›è¡Œäº¤å‰éªŒè¯æ¥è°ƒæ•´ã€‚</li>
</ul>
<figure class="highlight scala"><table><tr><td class="code"><pre><span class="line">scala&gt; <span class="keyword">val</span> model = <span class="type">ALS</span>.train(ratings, <span class="number">50</span>, <span class="number">10</span>, <span class="number">0.01</span>)</span><br><span class="line">model: org.apache.spark.mllib.recommendation.<span class="type">MatrixFactorizationModel</span> = org.apache.spark.mllib.recommendation.<span class="type">MatrixFactorizationModel</span>@<span class="number">2e835760</span></span><br><span class="line"></span><br><span class="line">scala&gt; model.userFeatures</span><br><span class="line">res5: org.apache.spark.rdd.<span class="type">RDD</span>[(<span class="type">Int</span>, <span class="type">Array</span>[<span class="type">Double</span>])] = users <span class="type">MapPartitionsRDD</span>[<span class="number">209</span>] at mapValues at <span class="type">ALS</span>.scala:<span class="number">255</span></span><br><span class="line"></span><br><span class="line">scala&gt; model.userFeatures.count</span><br><span class="line">res6: <span class="type">Long</span> = <span class="number">943</span></span><br></pre></td></tr></table></figure>
<blockquote>
<p><code>MatrixFactorizationModel</code> å¯¹è±¡å°† ç”¨æˆ·å› å­å’Œç‰©å“å› å­åˆ†åˆ«ä¿å­˜åœ¨ä¸€ä¸ª <code>(id,factor)</code> å¯¹ç±»å‹çš„RDDä¸­ã€‚<br>å®ƒä»¬åˆ†åˆ«ç§°ä½œ<code>userFeatures</code> å’Œ <code>productFeatures</code>ã€‚</p>
</blockquote>
<h3 id="3-2-éšå¼åé¦ˆæ•°æ®è®­ç»ƒæ¨¡å‹"><a href="#3-2-éšå¼åé¦ˆæ•°æ®è®­ç»ƒæ¨¡å‹" class="headerlink" title="3.2 éšå¼åé¦ˆæ•°æ®è®­ç»ƒæ¨¡å‹"></a>3.2 éšå¼åé¦ˆæ•°æ®è®­ç»ƒæ¨¡å‹</h3><p>MLlibä¸­æ ‡å‡†çš„çŸ©é˜µåˆ†è§£æ¨¡å‹ç”¨äºæ˜¾å¼è¯„çº§æ•°æ®çš„å¤„ç†ã€‚è‹¥è¦å¤„ç†éšå¼æ•°æ®ï¼Œåˆ™å¯ä½¿ç”¨<code>trainImplicit</code>å‡½æ•°ã€‚å…¶è°ƒç”¨æ–¹å¼å’Œæ ‡å‡†çš„<code>train</code>æ¨¡å¼ç±»ä¼¼ï¼Œä½†å¤šäº†ä¸€ä¸ªå¯è®¾ç½®çš„<code>alpha</code>å‚æ•°ï¼ˆä¹Ÿæ˜¯ä¸€ä¸ªæ­£åˆ™åŒ–å‚æ•°ï¼Œ<code>lambda</code>åº”é€šè¿‡æµ‹è¯•å’Œäº¤å‰éªŒè¯æ³•æ¥è®¾ç½®ï¼‰ã€‚</p>
<p>alphaå‚æ•°æŒ‡å®šäº†ä¿¡å¿ƒæƒé‡æ‰€åº”è¾¾åˆ°çš„åŸºå‡†çº¿ã€‚è¯¥å€¼è¶Šé«˜åˆ™æ‰€è®­ç»ƒå‡ºçš„æ¨¡å‹è¶Šè®¤ä¸ºç”¨æˆ·ä¸ä»–æ‰€æ²¡è¯„çº§è¿‡çš„ç”µå½±ä¹‹é—´æ²¡æœ‰ç›¸å…³æ€§ã€‚</p>
<h2 id="4-ä½¿ç”¨æ¨èæ¨¡å‹"><a href="#4-ä½¿ç”¨æ¨èæ¨¡å‹" class="headerlink" title="4. ä½¿ç”¨æ¨èæ¨¡å‹"></a>4. ä½¿ç”¨æ¨èæ¨¡å‹</h2><p>é¢„æµ‹é€šå¸¸æœ‰ä¸¤ç§ï¼šä¸ºæŸä¸ªç”¨æˆ·æ¨èç‰©å“ï¼Œæˆ–æ‰¾å‡ºä¸æŸä¸ªç‰©å“ç›¸å…³æˆ–ç›¸ä¼¼çš„å…¶ä»–ç‰©å“ã€‚</p>
<h3 id="4-1-ç”¨æˆ·æ¨è"><a href="#4-1-ç”¨æˆ·æ¨è" class="headerlink" title="4.1 ç”¨æˆ·æ¨è"></a>4.1 ç”¨æˆ·æ¨è</h3><p>é€šè¿‡æ¨¡å‹æ±‚å‡ºç”¨æˆ·å¯èƒ½å–œå¥½ç¨‹åº¦æœ€é«˜çš„å‰Kä¸ªå•†å“ã€‚</p>
<ol>
<li>åŸºäº<strong>ç”¨æˆ·çš„æ¨¡å‹</strong>ï¼Œåˆ™ä¼šåˆ©ç”¨ç›¸ä¼¼ç”¨æˆ·çš„è¯„çº§æ¥è®¡ç®—å¯¹æŸä¸ªç”¨æˆ·çš„æ¨èã€‚</li>
<li>åŸºäº<strong>ç‰©å“çš„æ¨¡å‹</strong>ï¼Œåˆ™ä¼šä¾é ç”¨æˆ·æ¥è§¦è¿‡çš„ç‰©å“ä¸å€™é€‰ç‰©å“ä¹‹é—´çš„ç›¸ä¼¼åº¦æ¥è·å¾—æ¨èã€‚</li>
</ol>
<p>åˆ©ç”¨çŸ©é˜µåˆ†è§£æ–¹æ³•æ—¶ï¼Œæ˜¯ç›´æ¥å¯¹è¯„çº§æ•°æ®è¿›è¡Œå»ºæ¨¡ï¼Œæ‰€ä»¥é¢„è®¡å¾—åˆ†å¯è§†ä½œç›¸åº”ç”¨æˆ·å› å­å‘é‡å’Œç‰©å“å› å­å‘é‡çš„ç‚¹ç§¯ã€‚</p>
<p><strong>1. ä»MovieLens 100kæ•°æ®é›†ç”Ÿæˆç”µå½±æ¨è</strong></p>
<p>MLlibçš„æ¨èæ¨¡å‹åŸºäºçŸ©é˜µåˆ†è§£ï¼Œå› æ­¤å¯ç”¨æ¨¡å‹æ‰€æ±‚å¾—çš„å› å­çŸ©é˜µæ¥è®¡ç®—ç”¨æˆ·å¯¹ç‰©å“çš„é¢„è®¡è¯„çº§ã€‚ä¸‹é¢åªé’ˆå¯¹åˆ©ç”¨MovieLensä¸­æ˜¾å¼æ•°æ®åšæ¨èçš„æƒ…å½¢ï¼Œä½¿ç”¨éšå¼æ¨¡å‹æ—¶çš„æ–¹æ³•ä¸ä¹‹ç›¸åŒã€‚</p>
<p><code>MatrixFactorizationModel</code>ç±» æä¾›äº†ä¸€ä¸ª<code>predict</code>å‡½æ•°ï¼Œä»¥æ–¹ä¾¿åœ°è®¡ç®—ç»™å®šç”¨æˆ·å¯¹ç»™å®šç‰©å“çš„é¢„æœŸå¾—åˆ†ï¼š</p>
<figure class="highlight scala"><table><tr><td class="code"><pre><span class="line">scala&gt; <span class="keyword">val</span> predictedRating = model.predict(<span class="number">789</span>, <span class="number">123</span>)</span><br><span class="line"><span class="number">16</span>/<span class="number">05</span>/<span class="number">04</span> <span class="number">16</span>:<span class="number">13</span>:<span class="number">08</span> <span class="type">WARN</span> <span class="type">BLAS</span>: <span class="type">Failed</span> to load implementation from: com.github.fommil.netlib.<span class="type">NativeSystemBLAS</span></span><br><span class="line"><span class="number">16</span>/<span class="number">05</span>/<span class="number">04</span> <span class="number">16</span>:<span class="number">13</span>:<span class="number">08</span> <span class="type">WARN</span> <span class="type">BLAS</span>: <span class="type">Failed</span> to load implementation from: com.github.fommil.netlib.<span class="type">NativeRefBLAS</span></span><br><span class="line">predictedRating: <span class="type">Double</span> = <span class="number">1.8390368814083764</span></span><br><span class="line"></span><br><span class="line">scala&gt; <span class="keyword">val</span> predictedRating = model.predict(<span class="number">789</span>, <span class="number">123</span>)</span><br><span class="line">predictedRating: <span class="type">Double</span> = <span class="number">1.8390368814083764</span></span><br><span class="line"></span><br><span class="line">scala&gt; <span class="keyword">val</span> userId = <span class="number">789</span></span><br><span class="line">userId: <span class="type">Int</span> = <span class="number">789</span></span><br><span class="line"></span><br><span class="line">scala&gt; <span class="keyword">val</span> <span class="type">K</span> = <span class="number">10</span></span><br><span class="line"><span class="type">K</span>: <span class="type">Int</span> = <span class="number">10</span></span><br><span class="line"></span><br><span class="line">scala&gt; <span class="keyword">val</span> topKRecs = model.recommendProducts(userId, <span class="type">K</span>)</span><br><span class="line">topKRecs: <span class="type">Array</span>[org.apache.spark.mllib.recommendation.<span class="type">Rating</span>] = <span class="type">Array</span>(<span class="type">Rating</span>(<span class="number">789</span>,<span class="number">180</span>,<span class="number">5.352418839062572</span>), <span class="type">Rating</span>(<span class="number">789</span>,<span class="number">887</span>,<span class="number">5.289455638310055</span>), <span class="type">Rating</span>(<span class="number">789</span>,<span class="number">484</span>,<span class="number">5.0301818688410025</span>), <span class="type">Rating</span>(<span class="number">789</span>,<span class="number">475</span>,<span class="number">5.011219778604191</span>), <span class="type">Rating</span>(<span class="number">789</span>,<span class="number">150</span>,<span class="number">5.003965038415291</span>), <span class="type">Rating</span>(<span class="number">789</span>,<span class="number">663</span>,<span class="number">4.991126084946501</span>), <span class="type">Rating</span>(<span class="number">789</span>,<span class="number">56</span>,<span class="number">4.974685008959871</span>), <span class="type">Rating</span>(<span class="number">789</span>,<span class="number">48</span>,<span class="number">4.965402351329832</span>), <span class="type">Rating</span>(<span class="number">789</span>,<span class="number">9</span>,<span class="number">4.963265626841469</span>), <span class="type">Rating</span>(<span class="number">789</span>,<span class="number">127</span>,<span class="number">4.963069165947614</span>))</span><br><span class="line"></span><br><span class="line">scala&gt; println(topKRecs.mkString(<span class="string">"\n"</span>))</span><br><span class="line"><span class="type">Rating</span>(<span class="number">789</span>,<span class="number">180</span>,<span class="number">5.352418839062572</span>)</span><br><span class="line"><span class="type">Rating</span>(<span class="number">789</span>,<span class="number">887</span>,<span class="number">5.289455638310055</span>)</span><br><span class="line"><span class="type">Rating</span>(<span class="number">789</span>,<span class="number">484</span>,<span class="number">5.0301818688410025</span>)</span><br><span class="line"><span class="type">Rating</span>(<span class="number">789</span>,<span class="number">475</span>,<span class="number">5.011219778604191</span>)</span><br><span class="line"><span class="type">Rating</span>(<span class="number">789</span>,<span class="number">150</span>,<span class="number">5.003965038415291</span>)</span><br><span class="line"><span class="type">Rating</span>(<span class="number">789</span>,<span class="number">663</span>,<span class="number">4.991126084946501</span>)</span><br><span class="line"><span class="type">Rating</span>(<span class="number">789</span>,<span class="number">56</span>,<span class="number">4.974685008959871</span>)</span><br><span class="line"><span class="type">Rating</span>(<span class="number">789</span>,<span class="number">48</span>,<span class="number">4.965402351329832</span>)</span><br><span class="line"><span class="type">Rating</span>(<span class="number">789</span>,<span class="number">9</span>,<span class="number">4.963265626841469</span>)</span><br><span class="line"><span class="type">Rating</span>(<span class="number">789</span>,<span class="number">127</span>,<span class="number">4.963069165947614</span>)</span><br></pre></td></tr></table></figure>
<blockquote>
<p>Reading notes</p>
</blockquote>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[Recommendation System What ?]]></title>
      <url>http://iequa.com/2016/11/22/recommendation-what/</url>
      <content type="html"><![CDATA[<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js"],
    jax: ["input/TeX"],
    tex2jax: {
      inlineMath: [ ['$','$'], ['\\(','\\)'] ],
      displayMath: [ ['$$','$$']],
      processEscapes: true
    }
  });
</script>
<script type="text/javascript" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS_HTML,http://myserver.com/MathJax/config/local/local.js">
</script>

<p>éšç€äº’è”ç½‘çš„æ·±å…¥å‘å±•ï¼Œè¶Šæ¥è¶Šå¤šçš„ä¿¡æ¯åœ¨äº’è”ç½‘ä¸Šä¼ æ’­ï¼Œäº§ç”Ÿäº†ä¸¥é‡çš„ä¿¡æ¯è¿‡è½½ã€‚å¦‚æœä¸é‡‡ç”¨ä¸€å®šçš„æ‰‹æ®µï¼Œç”¨æˆ·å¾ˆéš¾ä»å¦‚æ­¤å¤šçš„ä¿¡æ¯æµä¸­æ‰¾åˆ°å¯¹è‡ªå·±æœ‰ä»·å€¼çš„ä¿¡æ¯ã€‚</p>
<a id="more"></a>
<h2 id="1-æ¨èç³»ç»Ÿ"><a href="#1-æ¨èç³»ç»Ÿ" class="headerlink" title="1. æ¨èç³»ç»Ÿ ?"></a>1. æ¨èç³»ç»Ÿ ?</h2><p>ä¸ºè§£å†³ä¿¡æ¯è¿‡è½½çš„é—®é¢˜ï¼Œæ‰€ä»¥å‡ºç°äº†å¦‚ yahoo åˆ†ç±»ç›®å½• å’Œ google æœç´¢å¼•æ“ ç­‰å…¬å¸</p>
<table>
<thead>
<tr>
<th>solution</th>
<th>type</th>
</tr>
</thead>
<tbody>
<tr>
<td>æœç´¢å¼•æ“</td>
<td>ç”¨æˆ·å…·æœ‰æ˜ç¡®éœ€æ±‚</td>
</tr>
<tr>
<td>æ¨èç³»ç»Ÿ</td>
<td>ç”¨æˆ·ä¸å…·æ˜ç¡®éœ€æ±‚</td>
</tr>
</tbody>
</table>
<h3 id="1-1-æœç´¢å¼•æ“"><a href="#1-1-æœç´¢å¼•æ“" class="headerlink" title="1.1 æœç´¢å¼•æ“"></a>1.1 æœç´¢å¼•æ“</h3><table>
<thead>
<tr>
<th>Shop</th>
<th>ç”¨æˆ·ä¹°èŠ±ç”Ÿæµç¨‹</th>
</tr>
</thead>
<tbody>
<tr>
<td>ä¾¿åˆ©åº— &nbsp;</td>
<td>è½¬ä¸€åœˆæ‰¾åˆ°èŠ±ç”Ÿç±³,ç„¶åæ¯”è¾ƒå‡ ä¸ªç‰Œå­çš„å£ç¢‘æˆ–è€…ä»·æ ¼æ‰¾åˆ°è‡ªå·±å–œæ¬¢çš„ç‰Œå­ï¼Œæé’±ä»˜æ¬¾</td>
</tr>
<tr>
<td>æ²ƒå°”ç›</td>
<td>æŒ‰åˆ†ç±»æŒ‡ç¤ºç‰Œåˆ°é£Ÿå“æ¥¼å±‚ï¼ŒæŒ‰æŒ‡ç¤ºç‰Œåˆ°å–å¹²æœçš„è´§æ¶ï¼Œåä»”ç»†å¯»æ‰¾ä½ éœ€è¦çš„èŠ±ç”Ÿç±³ï¼Œæ‰¾åˆ°åä»˜æ¬¾</td>
</tr>
<tr>
<td>æ·˜å®</td>
<td>æœç´¢æ¡†çš„ä¸œè¥¿é‡Œè¾“å…¥èŠ±ç”Ÿç±³3ä¸ªå­—ï¼Œç„¶åä½ ä¼šçœ‹åˆ°ä¸€å †èŠ±ç”Ÿç±³ï¼Œæ‰¾åˆ°å–œæ¬¢çš„ç‰Œå­ï¼Œä»˜è´¹ï¼Œç„¶åç­‰å¾…é€è´§ä¸Šé—¨</td>
</tr>
</tbody>
</table>
<blockquote>
<p>ç”¨æˆ·å…·æœ‰æ˜ç¡®éœ€æ±‚ : æœç´¢å¼•æ“</p>
</blockquote>
<h3 id="1-2-æ¨èç³»ç»Ÿ"><a href="#1-2-æ¨èç³»ç»Ÿ" class="headerlink" title="1.2 æ¨èç³»ç»Ÿ"></a>1.2 æ¨èç³»ç»Ÿ</h3><p>æ¨èç³»ç»Ÿå’Œæœç´¢å¼•æ“ä¸åŒçš„æ˜¯ï¼Œæ¨èç³»ç»Ÿä¸éœ€è¦ç”¨æˆ·æä¾›æ˜ç¡®çš„éœ€æ±‚ï¼Œè€Œæ˜¯é€šè¿‡åˆ†æç”¨æˆ·çš„å†å²è¡Œä¸ºç»™ç”¨æˆ·çš„å…´è¶£å»ºæ¨¡ï¼Œä»è€Œä¸»åŠ¨ç»™ç”¨æˆ·æ¨èèƒ½å¤Ÿæ»¡è¶³ä»–ä»¬å…´è¶£å’Œéœ€æ±‚çš„ä¿¡æ¯ã€‚æ¨èç³»ç»Ÿ çš„åŸºæœ¬ä»»åŠ¡æ˜¯è”ç³»<strong>ç”¨æˆ·</strong>å’Œ<strong>ç‰©å“</strong>ï¼Œè§£å†³ä¿¡æ¯è¿‡è½½çš„é—®é¢˜</p>
<p><img src="/images/recommendation/rsac-1-1.png" alt="rsac-1"></p>
<blockquote>
<p>ç”¨æˆ·ä¸å…·æ˜ç¡®éœ€æ±‚ : æ¨èç³»ç»Ÿ</p>
</blockquote>
<h3 id="1-3-æ¨èç³»ç»Ÿåˆ†ç±»"><a href="#1-3-æ¨èç³»ç»Ÿåˆ†ç±»" class="headerlink" title="1.3 æ¨èç³»ç»Ÿåˆ†ç±»"></a>1.3 æ¨èç³»ç»Ÿåˆ†ç±»</h3><p>ç»å…¸çš„åˆ†ç±»æ–¹å¼:</p>
<ol>
<li>åŸºäº<code>Content</code>çš„æ¨èç³»ç»Ÿ</li>
<li>åŸºäº<code>User</code>çš„æ¨èç³»ç»Ÿ</li>
<li>åŸºäº<code>Item</code>çš„æ¨èç³»ç»Ÿ</li>
<li>åŸºäº<code>Model</code>çš„æ¨èç³»ç»Ÿ</li>
</ol>
<p><img src="/images/recommendation/rsac-1-2.png" alt="rsac-2"></p>
<p>æŒ‰ç…§ç®—æ³•ä¹Ÿå¯åˆ†æˆ åŸºäºé‚»åŸŸçš„ç®—æ³•ã€åŸºäºå›¾çš„ç®—æ³•ã€åŸºäºçŸ©é˜µåˆ†è§£ æˆ–è€… æ¦‚ç‡æ¨¡å‹çš„ç®—æ³•</p>
<h2 id="2-ä¸ªæ€§åŒ–æ¨èç³»ç»Ÿåº”ç”¨"><a href="#2-ä¸ªæ€§åŒ–æ¨èç³»ç»Ÿåº”ç”¨" class="headerlink" title="2. ä¸ªæ€§åŒ–æ¨èç³»ç»Ÿåº”ç”¨"></a>2. ä¸ªæ€§åŒ–æ¨èç³»ç»Ÿåº”ç”¨</h2><table>
<thead>
<tr>
<th>æ¨èç³»ç»Ÿçš„åº”ç”¨</th>
<th>ä»£è¡¨</th>
</tr>
</thead>
<tbody>
<tr>
<td>ç”µå­å•†åŠ¡</td>
<td>Amazonã€Taobao</td>
</tr>
<tr>
<td>ç”µå½±è§†é¢‘</td>
<td>Youtubeã€Netflix</td>
</tr>
<tr>
<td>ä¸ªæ€§åŒ–ç”µå°</td>
<td>Pandoraã€è±†ç“£ç”µå°</td>
</tr>
<tr>
<td>ç§»åŠ¨æ–°é—»</td>
<td>Yahoo newsã€ä»Šæ—¥å¤´æ¡</td>
</tr>
<tr>
<td>ç¤¾äº¤ç½‘ç»œ</td>
<td>Facebookã€Twitter</td>
</tr>
<tr>
<td>åŸºäºä½ç½®çš„æœåŠ¡</td>
<td>Maps nearby</td>
</tr>
<tr>
<td>ä¸ªæ€§åŒ–AD</td>
<td>Facebookã€Sinaã€Adç™¾åº¦è”ç›Ÿ</td>
</tr>
<tr>
<td>â€¦</td>
<td>â€¦</td>
</tr>
</tbody>
</table>
<h2 id="3-æ¨èç³»ç»Ÿè¯„æµ‹"><a href="#3-æ¨èç³»ç»Ÿè¯„æµ‹" class="headerlink" title="3. æ¨èç³»ç»Ÿè¯„æµ‹"></a>3. æ¨èç³»ç»Ÿè¯„æµ‹</h2><p><img src="/images/recommendation/rsac-1-3.png" alt="rsac-3"></p>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[Coursera Week 4 - Neural Networks Preface]]></title>
      <url>http://iequa.com/2016/11/17/ml-coursera-ng-w4-nn-01/</url>
      <content type="html"><![CDATA[<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js"],
    jax: ["input/TeX"],
    tex2jax: {
      inlineMath: [ ['$','$'], ['\\(','\\)'] ],
      displayMath: [ ['$$','$$']],
      processEscapes: true
    }
  });
</script>
<script type="text/javascript" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS_HTML,http://myserver.com/MathJax/config/local/local.js">
</script>


<p>coursera week 4 - ml neural networks representation</p>
<a id="more"></a>
<h2 id="1-Non-linear-Hypotheses"><a href="#1-Non-linear-Hypotheses" class="headerlink" title="1. Non-linear Hypotheses"></a>1. Non-linear Hypotheses</h2><p><img src="/images/ml/coursera/ml-ng-w4-01-01.png" alt="Non-linear Hypotheses"></p>
<p>Performing linear regression with a complex set of data with many features is very unwieldy. Say you wanted to create a hypothesis from three features that included all the <code>quadratic [kwÉ‘&#39;drÃ¦tÉªk]</code> terms:</p>
<p>$$<br>\begin{align}&amp; g(\theta_0 + \theta_1x_1^2 + \theta_2x_1x_2 + \theta_3x_1x_3 \newline&amp; + \theta_4x_2^2 + \theta_5x_2x_3 \newline&amp; + \theta_6x_3^2 )\end{align}<br>$$</p>
<h2 id="1-1-Computer-Vision"><a href="#1-1-Computer-Vision" class="headerlink" title="1.1 Computer Vision"></a>1.1 Computer Vision</h2><blockquote>
<p>For many machine learning problems, <code>n will be pretty large</code>. Hereâ€™s an example. </p>
</blockquote>
<p><img src="/images/ml/coursera/ml-ng-w4-01-02.png" alt="Computer Vision"></p>
<blockquote>
<p>It turns out that where you and I see a car, the computer sees that. What it sees is this matrix, or this grid</p>
</blockquote>
<h2 id="1-2-Car-detection"><a href="#1-2-Car-detection" class="headerlink" title="1.2 Car detection"></a>1.2 Car detection</h2><p><img src="/images/ml/coursera/ml-ng-w4-01-03.png" alt="Computer Vision"></p>
<p><img src="/images/ml/coursera/ml-ng-w4-01-04.png" alt="Computer Vision"></p>
<p><img src="/images/ml/coursera/ml-ng-w4-01-05.png" alt="Computer Vision"></p>
<h2 id="Reference-article"><a href="#Reference-article" class="headerlink" title="Reference article"></a>Reference article</h2>]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[Clothes and outfits L4 Complimenting people on their outfits]]></title>
      <url>http://iequa.com/2016/11/14/ef-l5u6-Clothes-and-outfits-l4/</url>
      <content type="html"><![CDATA[<h2 id="1-Vocabulary"><a href="#1-Vocabulary" class="headerlink" title="1. Vocabulary"></a>1. Vocabulary</h2><ul>
<li>Fabrics</li>
<li>pants </li>
</ul>
<p><img src="/images/ef-l5u6l4.png" width="460" height="400" img=""></p>
<table>
<thead>
<tr>
<th>Dialog</th>
</tr>
</thead>
<tbody>
<tr>
<td>[NINA] I always try to find the newest, coolest styles for my store.</td>
<td></td>
</tr>
<tr>
<td>[NINA] I read magazines, I go to fashion shows.</td>
<td></td>
</tr>
<tr>
<td>[NINA] Fashion is always changing. I like to keep up with the latest trends.</td>
<td></td>
</tr>
<tr>
<td>[NINA] Those are great shoes!</td>
<td></td>
</tr>
<tr>
<td>[NINA] See, I have a small shop and Iâ€™m always looking for new ideas.</td>
<td></td>
</tr>
<tr>
<td>[NINA] Do you mind if I take a photo?</td>
<td></td>
</tr>
<tr>
<td>[LADY] Not at all. Go ahead.</td>
<td></td>
</tr>
<tr>
<td>[NINA] Thatâ€™s lovely. Thank you.</td>
<td></td>
</tr>
<tr>
<td>[NINA] So, what are some of your favorite brands or designers?</td>
<td></td>
</tr>
<tr>
<td>[WOMAN 1] Merabi, definitely.</td>
<td></td>
</tr>
<tr>
<td>[WOMAN 2] Merabi, yeah, and YRed. I love YRed. My handbag is Yred.</td>
<td></td>
</tr>
<tr>
<td>[NINA] Thatâ€™s lovely. This is leather?</td>
<td></td>
</tr>
<tr>
<td>[NINA] So what kinds of fabrics and colors do you like?</td>
<td></td>
</tr>
<tr>
<td>[WOMAN 3] I like natural fabrics, like silk and cotton.</td>
<td></td>
</tr>
<tr>
<td>[WOMAN 1] Yeah, me, too. Itâ€™s nice in the summer, but in the winter, I wear woolens.</td>
<td></td>
</tr>
<tr>
<td>[WOMAN 3] You really should add more color to your wardrobe.</td>
<td></td>
</tr>
<tr>
<td>[NINA] So, what are some of your favorite pieces of clothing?</td>
<td></td>
</tr>
<tr>
<td>[WOMAN 2] Red. Leather. Mini-skirt.</td>
<td></td>
</tr>
<tr>
<td>[WOMAN 3] What?</td>
<td></td>
</tr>
<tr>
<td>[NINA] Thanks, Hereâ€™s my shop. Pop in any time.</td>
<td></td>
</tr>
</tbody>
</table>
<h2 id="2-Expression"><a href="#2-Expression" class="headerlink" title="2. Expression"></a>2. Expression</h2><p><img src="/images/ef-l5u6l4-1.png" width="460" height="400" img=""></p>
<table>
<thead>
<tr>
<th>Opinion</th>
<th>Size</th>
<th>Age</th>
<th>Color</th>
<th>Origin</th>
<th>Material</th>
</tr>
</thead>
<tbody>
<tr>
<td>fabulous</td>
<td>long</td>
<td>old</td>
<td>navy blue</td>
<td>Chinese</td>
<td>silk</td>
</tr>
</tbody>
</table>
<ul>
<li>Her hot Indian cotton dress.</li>
<li>A weird, long, old tie.</li>
<li>Chloe prefers silk to wool.</li>
</ul>
<p>Expression would rather. Notice that I would is usually contracted to Iâ€™d.</p>
<ul>
<li>I prefer cotton to wool in the summer.</li>
<li>I prefer cotton.</li>
<li>Iâ€™d rather wear light colors in the summer.</li>
<li>Iâ€™d rather wear wool clothes than cotton in the winter.</li>
</ul>
<h2 id="3-Writing"><a href="#3-Writing" class="headerlink" title="3. Writing"></a>3. Writing</h2><p>Most of my clothes are way too expensive. Iâ€™d rather wear cool brands from a small shop than a cheap, polyester thing from a department store. I prefer silk and wool to cotton and leather. I like wearing red, yellow and orange more than dark, boring colors. I just bought a fantastic, new, orange, Spanish, leather handbag. I absolutely love it!</p>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[Clothes and outfits L3 Discussing dress requirements]]></title>
      <url>http://iequa.com/2016/11/09/ef-l5u6-Clothes-and-outfits-l3/</url>
      <content type="html"><![CDATA[<h2 id="1-Vocabulary"><a href="#1-Vocabulary" class="headerlink" title="1. Vocabulary"></a>1. Vocabulary</h2><ul>
<li>hottest</li>
</ul>
<p><img src="/images/ef-l5u6l3.png" width="460" height="400" img=""></p>
<table>
<thead>
<tr>
<th>Dialog</th>
</tr>
</thead>
<tbody>
<tr>
<td>[KATE] You know, I could be a designer.</td>
<td></td>
</tr>
<tr>
<td>[KATE] Every season, itâ€™s something different.</td>
<td></td>
</tr>
<tr>
<td>[KATE] â€˜Hats will be the hottest thing.â€™</td>
<td></td>
</tr>
<tr>
<td>[KATE] â€˜Red could be the color this fall.â€™</td>
<td></td>
</tr>
<tr>
<td>[KATE] â€˜Tight jeans will be so hot!â€™ Who decides these things?</td>
<td></td>
</tr>
<tr>
<td>[KATE] You know, I could be a designer.</td>
<td></td>
</tr>
<tr>
<td>[EMMA] <strong>Well, can you draw?</strong></td>
<td></td>
</tr>
<tr>
<td>[KATE] I know clothes. Iâ€™m good at putting together outfits.</td>
<td></td>
</tr>
<tr>
<td>[KATE] Sometimes I buy things <strong>before theyâ€™re even in style.</strong></td>
<td></td>
</tr>
<tr>
<td>[EMMA] True, but designers go to fashion school.</td>
<td></td>
</tr>
<tr>
<td>[EMMA] They learn how to draw, how to sew â€¦ They work very hard to become designers.</td>
<td></td>
</tr>
<tr>
<td>[KATE] Maybe Iâ€™ll go to fashion school.</td>
<td></td>
</tr>
<tr>
<td>[EMMA] Yeah. You should.</td>
<td></td>
</tr>
</tbody>
</table>
<h2 id="2-Expression"><a href="#2-Expression" class="headerlink" title="2. Expression"></a>2. Expression</h2><p><strong>Want to</strong></p>
<ul>
<li>Want to create your own brand and sell your clothes?</li>
<li>Want to learn how to sew your own clothes?</li>
<li>Want to learn which color shirt to put together with which pants?</li>
</ul>
<ul>
<li>This style is really hot right now.</li>
<li>Sheâ€™s my favorite designer.</li>
<li>I love the design of this suit!</li>
<li>This is my favorite brand of jeans.</li>
</ul>
<p><strong>look</strong> + adj</p>
<ul>
<li>You look fantastic!</li>
<li>That shirt looks great on you.    </li>
<li>That color looks good with your hair.</li>
</ul>
<p><strong>good at</strong> + ing</p>
<ul>
<li>Youâ€™re good at putting together an outfit.</li>
<li>Youâ€™re great at creating new styles.</li>
</ul>
<table>
<thead>
<tr>
<th>not at all</th>
<th>Actually, no </th>
</tr>
</thead>
<tbody>
<tr>
<td>A: Do you think this outfit makes me look ugly?</td>
<td>A: You donâ€™t think this necklace is weird?</td>
</tr>
<tr>
<td>B: Not at all!</td>
<td>B: Actually, no. Donâ€™t worry, you look fabulous. [â€˜fÃ¦bjÊŠlÉ™s]</td>
</tr>
</tbody>
</table>
<h2 id="3-Expression"><a href="#3-Expression" class="headerlink" title="3. Expression"></a>3. Expression</h2><table>
<thead>
<tr>
<th>Seeking and giving reassurances</th>
</tr>
</thead>
<tbody>
<tr>
<td>CHRIS: Lauren, <strong>do you think</strong> this suit makes me look fat?</td>
<td></td>
</tr>
<tr>
<td>LAUREN: Fat? Actually, no. I think it makes you look thinner.</td>
<td></td>
</tr>
<tr>
<td>CHRIS: Really? Itâ€™s so cheap. <strong>You donâ€™t think</strong> I should go buy some fancy brand?</td>
<td></td>
</tr>
<tr>
<td>LAUREN: <code>Not at all</code>! You look fine. Very handsome.</td>
<td></td>
</tr>
<tr>
<td>CHRIS: But <strong>Iâ€™m not sure about</strong> this <strong>tie</strong>. Horrible color. Maybe I should wear this one instead.</td>
<td></td>
</tr>
<tr>
<td>LAUREN: I wouldnâ€™t worry about it. They both look great!</td>
<td></td>
</tr>
<tr>
<td>CHRIS: Hmm. I just donâ€™t know. I never learned how to put together an outfit.</td>
<td></td>
</tr>
<tr>
<td>LAUREN: Donâ€™t worry. Youâ€™ve got a classic style.</td>
<td></td>
</tr>
<tr>
<td>CHRIS: Aw, thanks, Lauren.</td>
<td></td>
</tr>
</tbody>
</table>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[Clothes and outfits L2 Talking about people's outfits]]></title>
      <url>http://iequa.com/2016/11/06/ef-l5u6-Clothes-and-outfits-l2/</url>
      <content type="html"><![CDATA[<h2 id="1-Vocabulary"><a href="#1-Vocabulary" class="headerlink" title="1. Vocabulary"></a>1. Vocabulary</h2><ul>
<li>trends</li>
<li>in style</li>
<li>fun</li>
<li>tight</li>
<li>clothing</li>
<li>pants</li>
</ul>
<p><img src="/images/ef-l5u6l2.png" width="460" height="400" img=""></p>
<table>
<thead>
<tr>
<th>Dialog</th>
</tr>
</thead>
<tbody>
<tr>
<td>[NINA] My business is fashion.</td>
<td></td>
</tr>
<tr>
<td>[NINA] People think that fashion is all about following the seasonâ€™s trends.</td>
<td></td>
</tr>
<tr>
<td>[NINA] But it isnâ€™t just about what the designers say is in style.</td>
<td></td>
</tr>
<tr>
<td>[NINA] Itâ€™s about finding your own style.</td>
<td></td>
</tr>
<tr>
<td>[NINA] Fashion is personal.</td>
<td></td>
</tr>
<tr>
<td>[NINA] Itâ€™s about expressing yourself.</td>
<td></td>
</tr>
<tr>
<td>[NINA] Having fun.</td>
<td></td>
</tr>
<tr>
<td>[NINA] Wearing the clothes that you like.</td>
<td></td>
</tr>
<tr>
<td>[NINA] Is everything OK in there?</td>
<td></td>
</tr>
<tr>
<td>[CUSTOMER] Yeah. The magazines say tight jeans are going to be really in this autumn. What am I going to do?</td>
<td></td>
</tr>
<tr>
<td>[NINA] Tight jeans arenâ€™t for everyone. If it doesnâ€™t look good, donâ€™t wear it.</td>
<td></td>
</tr>
<tr>
<td>[CUSTOMER] My legs donâ€™t look good in pants like these.</td>
<td></td>
</tr>
<tr>
<td>[NINA] You know what? Skirts are also going to be important this season.</td>
<td></td>
</tr>
<tr>
<td>[NINA] This skirt will look great on you.</td>
<td></td>
</tr>
<tr>
<td>[NINA] What size are you? Ten?</td>
<td></td>
</tr>
<tr>
<td>[CUSTOMER] Twelve.</td>
<td></td>
</tr>
<tr>
<td>[NINA] That skirt looks great on you!</td>
<td></td>
</tr>
<tr>
<td>[CUSTOMER] Mmm. It does.</td>
<td></td>
</tr>
</tbody>
</table>
<h2 id="2-Grammar"><a href="#2-Grammar" class="headerlink" title="2. Grammar"></a>2. Grammar</h2><table>
<thead>
<tr>
<th>Fashion adjectives</th>
</tr>
</thead>
<tbody>
<tr>
<td>stylish / in style [â€˜staÉªlÉªÊƒ]</td>
<td>out of style</td>
</tr>
<tr>
<td>-</td>
<td>dreadful</td>
</tr>
<tr>
<td>fashionable</td>
<td>unfashionable</td>
</tr>
<tr>
<td>classic</td>
<td>trendy</td>
</tr>
<tr>
<td>loose</td>
<td>tight</td>
</tr>
<tr>
<td>fake</td>
<td>real</td>
</tr>
<tr>
<td>formal</td>
<td>casual</td>
</tr>
</tbody>
</table>
<ul>
<li>I donâ€™t wear real fur, only fake.</li>
<li>Those jeans are way too trendy.</li>
<li>He doesnâ€™t keep up with fashion trends.</li>
<li>How do you choose your clothes?</li>
</ul>
<h2 id="3-Reading"><a href="#3-Reading" class="headerlink" title="3. Reading"></a>3. Reading</h2><p>HAYLEY: So, I just went shopping, and there were just too many amazing clothes. In the first shop, I found this classic pair of jeans  . They are so cute. I also tried on a skirt, but it was too loose  . Then, at the second place, I tried some interesting jeans, but I decided they were way too baggy  . But I did find a skirt that is pretty, and tight. It looks great. Then, I couldnâ€™t believe it: I also went to a hat store and bought this very stylish hat. Funny, because there were some hats there that were, like, totally out of  style. At the last shop, I tried on two dresses. One is very formal  , and the other one, here â€“ itâ€™s pretty casual. What do you think?</p>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[Clothes and outfits L1 Shopping for an outfit]]></title>
      <url>http://iequa.com/2016/11/04/ef-l5u6-Clothes-and-outfits-l1/</url>
      <content type="html"><![CDATA[<h2 id="1-Vocabulary"><a href="#1-Vocabulary" class="headerlink" title="1. Vocabulary"></a>1. Vocabulary</h2><p><img src="/images/ef-l5u6l1-1.png" width="460" height="400" img=""></p>
<table>
<thead>
<tr>
<th>handbag</th>
<th>baggy jeans</th>
<th>necklace</th>
<th>sandals</th>
<th>suit</th>
</tr>
</thead>
<tbody>
<tr>
<td>makeup</td>
<td>ring</td>
<td>baseball cap</td>
<td>outfit [â€˜aÊŠtfÉªt]</td>
<td>tie</td>
</tr>
</tbody>
</table>
<p><img src="/images/ef-l5u6l1.png" width="460" height="400" img=""></p>
<table>
<thead>
<tr>
<th>Dialog</th>
</tr>
</thead>
<tbody>
<tr>
<td>[EMMA] That hair! Yeah, itâ€™s horrid, itâ€™s pretty terrible.</td>
<td></td>
</tr>
<tr>
<td>[EMMA] So much <code>wax</code> in it.</td>
<td></td>
</tr>
<tr>
<td>[KATE] Sheâ€™s wearing socks with sandals.</td>
<td></td>
</tr>
<tr>
<td>[EMMA] Ooooooh. Itâ€™s quite nasty, actually.</td>
<td></td>
</tr>
<tr>
<td>[KATE] Oh. Look at that guy.</td>
<td></td>
</tr>
<tr>
<td>[KATE] Iâ€™m sorry, but heâ€™s far too old to be wearing those baggy jeans and that baseball cap.</td>
<td></td>
</tr>
<tr>
<td>[EMMA] Come on. He wants to feel young again.</td>
<td></td>
</tr>
<tr>
<td>[KATE] I know, but itâ€™s not a good look for a 40-year-old man.</td>
<td></td>
</tr>
<tr>
<td>[KATE] Ooooh! <code>Too much makeup</code>.</td>
<td></td>
</tr>
<tr>
<td>[KATE] Her shoes are cool.</td>
<td></td>
</tr>
<tr>
<td>[KATE] Handbagâ€™s plastic!</td>
<td></td>
</tr>
<tr>
<td>[KATE] Look - too much sun.</td>
<td></td>
</tr>
<tr>
<td>[EMMA] Oh, yeah. Way too much sun. So disgusting.</td>
<td></td>
</tr>
<tr>
<td>[KATE] And â€¦ not enough sun!</td>
<td></td>
</tr>
<tr>
<td>[EMMA] And not enough sun.</td>
<td></td>
</tr>
<tr>
<td>[KATE] Look at him.</td>
<td></td>
</tr>
<tr>
<td>[KATE] Somebody call the fashion police!</td>
<td></td>
</tr>
<tr>
<td>[EMMA] Kate! He can hear you!</td>
<td></td>
</tr>
<tr>
<td>[KATE] Look at his outfit!</td>
<td></td>
</tr>
<tr>
<td>[KATE] Heâ€™s wearing polyester.</td>
<td></td>
</tr>
<tr>
<td>[KATE] Iâ€™m sorry, but that jacketâ€™s too small for him.</td>
<td></td>
</tr>
<tr>
<td>[EMMA] Well, keep it down.</td>
<td></td>
</tr>
<tr>
<td>[EMMA] Not everybody cares much about fashion as you do.</td>
<td></td>
</tr>
</tbody>
</table>
<h2 id="2-Grammar"><a href="#2-Grammar" class="headerlink" title="2. Grammar"></a>2. Grammar</h2><table>
<thead>
<tr>
<th>Too many / Too much</th>
<th>enough</th>
</tr>
</thead>
<tbody>
<tr>
<td>Thatâ€™s <code>too many</code> hats!</td>
<td>I have enough handbags. I donâ€™t need any more.</td>
</tr>
<tr>
<td>Sheâ€™s wearing <code>too much</code> makeup.</td>
<td>I donâ€™t have enough money to buy that dress.</td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr>
<th>way too</th>
<th>far too</th>
</tr>
</thead>
<tbody>
<tr>
<td>That dress looks <code>way too</code> baggy.</td>
<td>sheâ€™s wearing <code>far too</code> many necklaces.</td>
</tr>
</tbody>
</table>
<ul>
<li>A: This plastic handbag is nasty.</li>
<li>B: Come on. Maybe youâ€™re being too critical.</li>
</ul>
<ul>
<li>A: I look terrible!</li>
<li>B: You look fine. Not everybody cares <code>as much about makeup as</code> you do.    </li>
</ul>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[Movies L4 Writing about a movie]]></title>
      <url>http://iequa.com/2016/11/03/ef-l5u5-Movies-l4/</url>
      <content type="html"><![CDATA[<h2 id="1-Vocabulary"><a href="#1-Vocabulary" class="headerlink" title="1. Vocabulary"></a>1. Vocabulary</h2><ul>
<li>sheriff</li>
</ul>
<p><img src="/images/ef-l5u5l4.png" width="460" height="400" img=""></p>
<table>
<thead>
<tr>
<th>Dialog</th>
</tr>
</thead>
<tbody>
<tr>
<td>[IAN] I donâ€™t agree with Kevin.</td>
<td></td>
</tr>
<tr>
<td>[IAN] He thinks that books are better than movies.</td>
<td></td>
</tr>
<tr>
<td>[IAN] I think movies are more fun.</td>
<td></td>
</tr>
<tr>
<td>[IAN] Some actors are amazing.</td>
<td></td>
</tr>
<tr>
<td>[IAN] They donâ€™t have to be famous.</td>
<td></td>
</tr>
<tr>
<td></td>
<td></td>
</tr>
<tr>
<td>[KEVIN] Ian likes westerns.</td>
<td></td>
</tr>
<tr>
<td>[KEVIN] Some westerns are dreadful.</td>
<td></td>
</tr>
<tr>
<td>[KEVIN] The plot and the setting are always the same.</td>
<td></td>
</tr>
<tr>
<td>[KEVIN] The characters are too simple: a good guy and a bad guy.</td>
<td></td>
</tr>
<tr>
<td>[KEVIN] First, thereâ€™s a town.</td>
<td></td>
</tr>
<tr>
<td>[KEVIN] Everybodyâ€™s happy there.</td>
<td></td>
</tr>
<tr>
<td>[KEVIN] Then, the bad guys arrive, and the people arenâ€™t happy anymore.</td>
<td></td>
</tr>
<tr>
<td>[KEVIN] And next, a new sheriff comes to town to help these poor people.</td>
<td></td>
</tr>
<tr>
<td>[KEVIN] And finally, there is a fight in the middle of the town between the new sheriff and the bad people.</td>
<td></td>
</tr>
<tr>
<td>[KEVIN] Guess who wins?</td>
<td></td>
</tr>
<tr>
<td>[KEVIN] Itâ€™s so simple, you know - a good guy and a bad guy, good against evil, saving a girl, always a happy ending.</td>
<td></td>
</tr>
<tr>
<td>[KEVIN] I mean, thatâ€™s just me.</td>
<td></td>
</tr>
<tr>
<td>[KEVIN] I prefer dark stories.</td>
<td></td>
</tr>
</tbody>
</table>
<h2 id="2-Grammar"><a href="#2-Grammar" class="headerlink" title="2. Grammar"></a>2. Grammar</h2><ul>
<li>The special effects were created by 23 people.</li>
<li>The bank manager was shot by the bad guys.</li>
</ul>
<table>
<thead>
<tr>
<th>Dialog</th>
</tr>
</thead>
<tbody>
<tr>
<td>A: Guess what? The producer was fired.</td>
<td></td>
</tr>
<tr>
<td>B: Why?</td>
<td></td>
</tr>
<tr>
<td>A: The actors werenâ€™t paid.</td>
<td></td>
</tr>
<tr>
<td>B: Oh, no! Was a new producer hired?</td>
<td></td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr>
<th>Dialog</th>
</tr>
</thead>
<tbody>
<tr>
<td>TIM: Wow. Amazing. â€˜Shaun of the Dead.â€™ I canâ€™t believe that movie was made with so little money.</td>
<td></td>
</tr>
<tr>
<td>MEGAN: Oh? How much money did they spend  ?</td>
<td></td>
</tr>
<tr>
<td>TIM: $6.1 million. It seemed like it was created for $50 million.</td>
<td></td>
</tr>
<tr>
<td>MEGAN: But $6.1 million is a lot of money!</td>
<td></td>
</tr>
<tr>
<td>TIM: Not really. Most Hollywood films cost, like, $100 million, or more.</td>
<td></td>
</tr>
<tr>
<td>MEGAN: Huh. How did they do it?</td>
<td></td>
</tr>
<tr>
<td>TIM: Well, it was directed by Edgar Wright. Heâ€™s brilliant.</td>
<td></td>
</tr>
<tr>
<td>MEGAN: Yeah?</td>
<td></td>
</tr>
<tr>
<td>TIM: He said they werenâ€™t given much money, and they were told  to spend it carefully. So he was really careful and worked really hard.</td>
<td></td>
</tr>
</tbody>
</table>
<h2 id="3-Reading-amp-Writing"><a href="#3-Reading-amp-Writing" class="headerlink" title="3. Reading &amp; Writing"></a>3. Reading &amp; Writing</h2><p><strong>Moneyball</strong></p>
<p>I donâ€™t like baseball, but â€˜Moneyballâ€™ was a very interesting movie. The story is a little dark. You learn some dreadful things about sports, but â€˜Moneyballâ€™ has a happy ending. â€˜Moneyballâ€™ is about the Oakland Aâ€™s general manager, the famous Billy Beane. Beane wasnâ€™t given much money. He had to get creative. Billy Beane was played by Brad Pitt, and â€˜Moneyballâ€™ was directed by Bennett Miller. I think that actors always do a good job when they work with Bennett Miller.</p>
<p>I just saw â€˜Rear Windowâ€™. What an amazing movie! â€˜Rear Windowâ€™ was made in 1954 and was directed by the famous Alfred Hitchcock. â€˜Rear Windowâ€™ is a dark story, like most Hitchcock movies. L.B. is played by James Stewart. L.B. is a photographer, but his leg is broken. He has to stay home, so he watches his neighbors through their windows. I felt sorry for his poor neighbors!</p>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[Movies L3 Choosing a movie to see]]></title>
      <url>http://iequa.com/2016/11/01/ef-l5u5-Movies-l3/</url>
      <content type="html"><![CDATA[<h2 id="1-Vocabulary"><a href="#1-Vocabulary" class="headerlink" title="1. Vocabulary"></a>1. Vocabulary</h2><ul>
<li>characters</li>
<li>remake</li>
</ul>
<p><img src="/images/ef-l5u5l3.png" width="460" height="400" img=""></p>
<table>
<thead>
<tr>
<th>Dialog</th>
</tr>
</thead>
<tbody>
<tr>
<td>[KEVIN] Whatâ€™s he doing to her?</td>
<td></td>
</tr>
<tr>
<td>[IAN] I think heâ€™s about to shoot her in the head.</td>
<td></td>
</tr>
<tr>
<td>[KEVIN] I canâ€™t believe he did that.</td>
<td></td>
</tr>
<tr>
<td>[KEVIN] Thatâ€™s pretty bad acting, actually.</td>
<td></td>
</tr>
<tr>
<td>[KEVIN] Well, itâ€™s OK.</td>
<td></td>
</tr>
<tr>
<td>[IAN] Itâ€™s in black and white.</td>
<td></td>
</tr>
<tr>
<td>[KEVIN] Why is it in black and white? What year is this movie?</td>
<td></td>
</tr>
<tr>
<td>[IAN] Itâ€™s like 1932.</td>
<td></td>
</tr>
<tr>
<td>[IAN] The <code>special effects</code> arenâ€™t brilliant.</td>
<td></td>
</tr>
<tr>
<td>[IAN] Itâ€™s an old movie, but itâ€™s a good story.</td>
<td></td>
</tr>
<tr>
<td>[IAN] Why the subtitles?</td>
<td></td>
</tr>
<tr>
<td>[IAN] We all speak English here, right?</td>
<td></td>
</tr>
<tr>
<td>[IAN] Oh! Oooh, I like her.</td>
<td></td>
</tr>
<tr>
<td>[IAN] Good actress.</td>
<td></td>
</tr>
<tr>
<td>[KEVIN] You think so?</td>
<td></td>
</tr>
<tr>
<td>[IAN] Itâ€™s a really good story.</td>
<td></td>
</tr>
<tr>
<td>[KEVIN] Itâ€™s not very original.</td>
<td></td>
</tr>
<tr>
<td>[KEVIN] I already know whatâ€™s going to happen.</td>
<td></td>
</tr>
<tr>
<td>[IAN] How do you know?</td>
<td></td>
</tr>
<tr>
<td>[KEVIN] Westerns are always the same.</td>
<td></td>
</tr>
<tr>
<td>[IAN] You saw the remake.</td>
<td></td>
</tr>
<tr>
<td>[IAN] Thatâ€™s how you know.</td>
<td></td>
</tr>
<tr>
<td>[KEVIN] No, I didnâ€™t see the remake.</td>
<td></td>
</tr>
<tr>
<td>[KEVIN] No, I just know how itâ€™s going to end.</td>
<td></td>
</tr>
</tbody>
</table>
<h2 id="2-Grammar"><a href="#2-Grammar" class="headerlink" title="2. Grammar"></a>2. Grammar</h2><table>
<thead>
<tr>
<th>sentence</th>
</tr>
</thead>
<tbody>
<tr>
<td>Beijing is the capital of China.</td>
<td></td>
</tr>
<tr>
<td><strong>Woody Allen directed the movie â€˜Annie Hall.â€™</strong></td>
<td></td>
</tr>
<tr>
<td></td>
<td></td>
</tr>
<tr>
<td>I think that â€˜Annie Hallâ€™ is an incredible film.</td>
<td></td>
</tr>
<tr>
<td>In my opinion, heâ€™s a terrible actor.</td>
<td></td>
</tr>
<tr>
<td></td>
<td></td>
</tr>
<tr>
<td><strong>Which movie do you want to see?</strong></td>
<td></td>
</tr>
<tr>
<td>What about this Tom Hanks movie?</td>
<td></td>
</tr>
<tr>
<td>Whatâ€™s it called?</td>
<td></td>
</tr>
<tr>
<td>Iâ€™ve never heard of it.</td>
<td></td>
</tr>
<tr>
<td></td>
<td></td>
</tr>
<tr>
<td>The movie <strong>is directed</strong> by George Lucas.</td>
<td></td>
</tr>
<tr>
<td>The costumes <strong>are designed</strong> by Virginia Poole.</td>
<td></td>
</tr>
<tr>
<td>The main character <strong>is played</strong> by Bruce Willis.</td>
<td></td>
</tr>
</tbody>
</table>
<h2 id="3-Reading"><a href="#3-Reading" class="headerlink" title="3. Reading"></a>3. Reading</h2><p>â€˜The Artistâ€™ is just like one of those old films. This romance was made in gorgeous black and white and takes place in the 1920s. And, just like the old films, thereâ€™s no talking. There are only a few subtitles. But itâ€™s certainly not a remake of one of the old films from the 1920s. <strong>Remember how some of those old movies had really bad acting</strong>? Well, the acting in â€˜The Artistâ€™ is brilliant, and actor  Berenice Bejo is incredible. This movie also has an original  plot. â€˜The Artistâ€™ shows us what happens when a famous person has really bad luck. I wonâ€™t tell you how it ends - see â€˜The Artistâ€™ for yourself.</p>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[Movies L2 Describing your favorite movie]]></title>
      <url>http://iequa.com/2016/10/30/ef-l5u5-Movies-l2/</url>
      <content type="html"><![CDATA[<h2 id="1-Vocabulary"><a href="#1-Vocabulary" class="headerlink" title="1. Vocabulary"></a>1. Vocabulary</h2><ul>
<li>characters</li>
<li>soundtrack</li>
<li>actor, actress</li>
<li>ridiculous [rÉªâ€™dÉªkjÊŠlÉ™s]</li>
<li>genius</li>
<li>dramas</li>
<li>dull</li>
</ul>
<p><img src="/images/ef-l5u5l2.png" width="460" height="400" img=""></p>
<table>
<thead>
<tr>
<th>Dialog</th>
</tr>
</thead>
<tbody>
<tr>
<td>[FELTON] I donâ€™t agree. You know?</td>
<td></td>
</tr>
<tr>
<td>[FELTON] I think a soundtrack is very important to a movie.</td>
<td></td>
</tr>
<tr>
<td>[FELTON] Soundtracks arenâ€™t boring.</td>
<td></td>
</tr>
<tr>
<td>[FELTON] OK, I agree that not all soundtracks are great.</td>
<td></td>
</tr>
<tr>
<td>[FELTON] But movies like â€˜Supermanâ€™ and â€˜Indiana Jonesâ€™ have some of the best action movie soundtracks of all time.</td>
<td></td>
</tr>
<tr>
<td>[FELTON] I think it was <strong>genius to use classical music</strong> in the science-fiction movie â€˜2001: A Space Odyssey.â€™</td>
<td></td>
</tr>
<tr>
<td>[FELTON] â€˜Love Storyâ€™ has one of the saddest soundtracks of all dramas.</td>
<td></td>
</tr>
<tr>
<td>[IAN] My favorite movies are westerns.</td>
<td></td>
</tr>
<tr>
<td>[IAN] â€¦ the characters are great, and thereâ€™s just never a dull or boring moment.</td>
<td></td>
</tr>
</tbody>
</table>
<h2 id="2-Grammar"><a href="#2-Grammar" class="headerlink" title="2. Grammar"></a>2. Grammar</h2><ul>
<li>â€˜The Birdsâ€™ has one of the most exciting plots Iâ€™ve ever seen.</li>
<li>â€˜Love Storyâ€™ has one of the worst soundtracks ever.</li>
<li>â€˜Emmaâ€™ has some of the best costumes of all time.</li>
<li>Marilyn Monroe is one of the biggest stars of all time.</li>
</ul>
<table>
<thead>
<tr>
<th>Dialog</th>
</tr>
</thead>
<tbody>
<tr>
<td>A: <strong>How did you like it?</strong></td>
<td></td>
</tr>
<tr>
<td>B: I didnâ€™t like it at all!</td>
<td></td>
</tr>
<tr>
<td>A: <strong>Who directed it?</strong></td>
<td></td>
</tr>
<tr>
<td>B: It was directed by Woody Allen.</td>
<td></td>
</tr>
<tr>
<td>A: <strong>Whoâ€™s in it?</strong></td>
<td></td>
</tr>
<tr>
<td>B: It stars Glenda Smith.</td>
<td></td>
</tr>
<tr>
<td>A: <strong>Howâ€™s the acting?</strong></td>
<td></td>
</tr>
<tr>
<td>B: Itâ€™s really good.</td>
<td></td>
</tr>
<tr>
<td>A: <strong>Where does the film take place?</strong></td>
<td></td>
</tr>
<tr>
<td>B: It takes place in Paris in 1952.</td>
<td></td>
</tr>
<tr>
<td>A: <strong>How does it end?</strong></td>
<td></td>
</tr>
<tr>
<td>B: Sheila and Mark get married.</td>
<td></td>
</tr>
</tbody>
</table>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[Movies L1 Talking about a movie you recently saw]]></title>
      <url>http://iequa.com/2016/10/28/ef-l5u5-Movies-l1/</url>
      <content type="html"><![CDATA[<h2 id="1-Vocabulary"><a href="#1-Vocabulary" class="headerlink" title="1. Vocabulary"></a>1. Vocabulary</h2><ul>
<li>horror</li>
<li>science fiction</li>
<li>romance</li>
<li>documentary</li>
<li>comedy</li>
<li>thriller</li>
<li>action</li>
<li>bioengineering</li>
<li>soundtrack</li>
</ul>
<p><img src="/images/ef-l5u5l1.png" width="460" height="400" img=""></p>
<table>
<thead>
<tr>
<th>Dialog</th>
</tr>
</thead>
<tbody>
<tr>
<td>[IAN] Let me introduce you to â€¦ Kevin.</td>
<td></td>
</tr>
<tr>
<td>[IAN] Student.</td>
<td></td>
</tr>
<tr>
<td>[IAN] Popular with the ladies.</td>
<td></td>
</tr>
<tr>
<td>[IAN] So, tell our <strong>viewers</strong>, why are you studying <strong>bioengineering</strong>?</td>
<td></td>
</tr>
<tr>
<td>[KEVIN] Well, Iâ€™ve always liked it, so <strong>thatâ€™s why I decided to study bioengineering</strong>.</td>
<td></td>
</tr>
<tr>
<td>[IAN] What are you reading ?</td>
<td></td>
</tr>
<tr>
<td>[IAN] I know the movies â€¦ So tell our viewers â€¦</td>
<td></td>
</tr>
<tr>
<td>[IAN] What did you think about the movies?</td>
<td></td>
</tr>
<tr>
<td>[KEVIN] Well, I hated the last one.</td>
<td></td>
</tr>
<tr>
<td>[KEVIN] The book is good, but the movie is like an action movie. Itâ€™s terrible.</td>
<td></td>
</tr>
<tr>
<td>[KEVIN] The first one is the best.</td>
<td></td>
</tr>
<tr>
<td>[KEVIN] Itâ€™s even <strong>a bit scary</strong>.</td>
<td></td>
</tr>
<tr>
<td>[IAN] So itâ€™s a horror movie.</td>
<td></td>
</tr>
<tr>
<td>[KEVIN] No, I feel itâ€™s not really a horror movie.</td>
<td></td>
</tr>
<tr>
<td>[KEVIN] I think itâ€™s more of a thriller. [â€˜Î¸rÉªlÉ™]</td>
<td></td>
</tr>
<tr>
<td>[IAN] So no happy ending.</td>
<td></td>
</tr>
<tr>
<td>[IAN] And <code>what do we have here?</code></td>
<td></td>
</tr>
<tr>
<td>[IAN] No girls, no life, and heâ€™s an Econ major.</td>
<td></td>
</tr>
<tr>
<td>[FELTON] No hobbies?</td>
<td></td>
</tr>
<tr>
<td>[FELTON] I like music.</td>
<td></td>
</tr>
<tr>
<td>[IAN] Wow, thatâ€™s really interesting, Felton â€¦ the Third.</td>
<td></td>
</tr>
<tr>
<td>[FELTON] I also like movies, especially the soundtrack.</td>
<td></td>
</tr>
<tr>
<td>[IAN] Well, thanks for joining us.</td>
<td></td>
</tr>
</tbody>
</table>
<blockquote>
<p>Iâ€™m in economics major</p>
</blockquote>
<h2 id="2-Expressions"><a href="#2-Expressions" class="headerlink" title="2. Expressions"></a>2. Expressions</h2><table>
<thead>
<tr>
<th>Dialog</th>
</tr>
</thead>
<tbody>
<tr>
<td>JENNY: I just saw another Joseph Fiennes movie.</td>
<td></td>
</tr>
<tr>
<td>LUCAS: Which one  ? Is it an action movie?</td>
<td></td>
</tr>
<tr>
<td>JENNY: Uh, â€˜Shakespeare in Love.â€™ Itâ€™s a romantic comedy. But <strong>I think that thereâ€™s some good history in it</strong>, too. Itâ€™s funny because Shakespeare canâ€™t think of any good ideas. I thought it was quite entertaining.</td>
<td></td>
</tr>
<tr>
<td>LUCAS: Me, too. I donâ€™t usually like romances, but <strong>thatâ€™s one of my favorite movies. Itâ€™s an old one.</strong></td>
<td></td>
</tr>
<tr>
<td>JENNY: Yeah, itâ€™s quite old, but itâ€™s still good.</td>
<td></td>
</tr>
<tr>
<td>LUCAS: Mm-hmm. Did you watch it with your kids?</td>
<td></td>
</tr>
<tr>
<td>JENNY: No, but <strong>I think I could show this one to my kids.</strong></td>
<td></td>
</tr>
</tbody>
</table>
<blockquote>
<p>I thought that they did a fantastic job.</p>
</blockquote>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[Travel Note For Thai]]></title>
      <url>http://iequa.com/2016/10/27/life-health-life-thai/</url>
      <content type="html"><![CDATA[<p>æèµ·æ³°ç‹å›½ï¼Œç»™æˆ‘æœ€æ·±çš„å°è±¡å°±æ˜¯å¯ä»¥è®©æˆ‘æ„Ÿå—åˆ°ï¼Œåˆ°åº•ä»€ä¹ˆæ˜¯ <a href="https://zh.wikipedia.org/wiki/ä¸‰å­—ç»" target="_blank" rel="external">äººä¹‹åˆã€æ€§æœ¬å–„</a>ã€‚ æˆ‘æƒ³è¿™éš¾ä»¥ç”¨æ–‡å­—æ¥è¡¨è¾¾ã€‚<a id="more"></a><br>çœŸæ˜¯çš„ å¹¸ç¦å›½åº¦ã€å¾®ç¬‘å›½åº¦ï¼Œåä¸è™šä¼ ã€‚åœ¨æˆ‘çœ‹æ¥ï¼Œé‚£é‡Œçš„ç™¾å§“æ˜¯å®‰å±…ä¹ä¸šï¼Œéå¸¸å¹¸ç¦ã€‚è´«å¯Œå·®è·ä¸å¤§ï¼Œèµ„æºåˆ†é…ç›¸å¯¹åˆç†ï¼Œå°åŸå¸‚å’Œ<a href="https://zh.wikipedia.org/wiki/äººå†å›§é€”ä¹‹æ³°å›§" target="_blank" rel="external">å¾å³¥ã€Šæ³°å›§ã€‹</a>æ¸…è¿ˆçš„å¤§åŸå¸‚åŸºç¡€è®¾æ–½ç›¸å·®ä¸å¤§ï¼Œå»è¿‡ä¸€æ¬¡çœŸçš„å¾ˆæƒ³åœ¨ä»¥åæ¥è¿™é‡Œå®‰åº¦æ™šå¹´ï¼Œæ„Ÿè§‰çœŸçš„éå¸¸ä¸é”™ã€‚æˆ‘è§‰å¾—å»ä»»ä½•ä¸€ä¸ªåœ°æ–¹äººæ–‡ç¯å¢ƒæ‰æ˜¯æœ€é‡è¦çš„ï¼Œå…¶ä»–çš„æ™¯è‰²ã€æ™¯ç‚¹æ˜¯æ¬¡è¦çš„ï¼Œå› ä¸ºæ™®é€šäººéƒ½éœ€è¦å…¥ä¸–ï¼Œéœ€è¦æ²Ÿé€šä¸äº¤æµã€‚</p>
<p>æˆ‘åˆ†åˆ«åœ¨ 15å¹´10æœˆ å’Œ 16å¹´9æœˆ å»æ³°å›½æ—…è¡Œï¼Œåˆ°è¿‡æ›¼è°·ã€å·´èœ€åºœã€åæ¬£ã€æ™®å‰å²› ç­‰åœ°ã€‚éå¸¸æ„Ÿè°¢åœ¨é‚£æ®µå¼‚å›½ä»–ä¹¡çš„æ—¶å…‰é‡Œæ›¾ç»™äºˆæˆ‘å¸®åŠ©çš„æœ‹å‹ã€‚</p>
<p><img src="/images/life/life-thai-01.jpg" width="800" height="550" img=""></p>
<h2 id="æ›¼è°·"><a href="#æ›¼è°·" class="headerlink" title="æ›¼è°·"></a>æ›¼è°·</h2><p>æ›¼è°·ï¼ˆæ³°æ–‡ï¼šà¸à¸£à¸¸à¸‡à¹€à¸—à¸à¸¡à¸«à¸²à¸™à¸„à¸£ï¼›è‹±æ–‡ï¼šBangkokï¼‰ï¼Œæ˜¯æ³°å›½é¦–éƒ½å’Œæœ€å¤§åŸå¸‚ï¼Œä¸œå—äºšç¬¬äºŒå¤§åŸå¸‚ï¼Œä¸ºæ³°å›½æ”¿æ²»ã€ç»æµã€è´¸æ˜“ã€äº¤é€šã€æ–‡åŒ–ã€ç§‘æŠ€ã€æ•™è‚²ã€å®—æ•™ä¸å„æ–¹é¢ä¸­å¿ƒã€‚</p>
<h2 id="èŠ­å ¤é›…"><a href="#èŠ­å ¤é›…" class="headerlink" title="èŠ­å ¤é›…"></a>èŠ­å ¤é›…</h2><p>èŠ­æé›…(Pattaya,åˆå¸¸è¢«è¯‘ä¸ºâ€œèŠ­å ¤é›…â€)ï¼Œæ˜¯ä¸­å—åŠå²›å—ç«¯çš„æ³°å›½ä¸€å¤„è‘—åæµ·æ™¯åº¦å‡èƒœåœ°ã€‚è·ç¦»æ›¼è°·ä¸œå—æ–¹154å…¬é‡Œã€‚</p>
<p>èŠ­æé›…è¿‘å¹´æ¥çƒ­åº¦æé«˜çš„æµ·æ»©åº¦å‡ã€æ—…æ¸¸ã€å…»è€åœ£åœ°ï¼Œäº«æœ‰â€œä¸œæ–¹å¤å¨å¤·â€ä¹‹èª‰ï¼ŒèŠ­æé›…å…·æœ‰æœ€è´Ÿç››åçš„äººå¦–è¡¨æ¼”ï¼Œç¼¤çº·æ— ä¼‘çš„å¤œæ–‡åŒ–ï¼Œå¸å¼•ç€å…¨ä¸–ç•Œçš„æ¸¸å®¢ã€‚</p>
<blockquote>
<p>æ®è¯´2018å¹´è½»è½¨ä¿®å»ºå®Œæˆï¼Œä»æ›¼è°·åˆ°èŠ­å ¤é›…åªéœ€è¦20å¤šåˆ†é’Ÿã€‚</p>
</blockquote>
<h2 id="åæ¬£"><a href="#åæ¬£" class="headerlink" title="åæ¬£"></a>åæ¬£</h2><p>åæ¬£ï¼ˆè‹±è¯­ï¼šHua Hinï¼Œæ³°è¯­ï¼šà¸«à¸±à¸§à¸«à¸´à¸™ï¼‰ï¼Œæ³°å›½ä¸­éƒ¨æµ·æ»¨å°é•‡ã€‚è·ç¦»æ³°å›½é¦–éƒ½æ›¼è°·200å¤šå…¬é‡Œï¼ˆåŒ—çº¬12Â°34â€²ï¼Œä¸œç»99Â°57â€²ï¼‰ï¼Œéš¶å±äºæ³°å›½å·´èœ€åºœã€‚ä¸èŠ­å ¤é›…éš”å²¸ç›¸æœ›ï¼Œè·ç¦»æ›¼è°·è¥¿å—281å…¬é‡Œï¼Œçº¦3å°æ—¶è¡Œç¨‹ã€‚å®ƒè¢«ç§°ä½œæ˜¯æ³°å›½æœ€ä¼ ç»Ÿçš„æµ·æ»¨èƒœåœ°ï¼Œçš‡å®¤è´µæ—ä»¬æ¯å¹´éƒ½ä¼šåˆ°åæ¬£ä½ä¸€æ®µæ—¶é—´ï¼Œå½“ä»Šæ³°çš‡å°±é•¿æœŸå±…ä½äºæ­¤åœ°çš„è¡Œå®«ã€‚</p>
<h2 id="æ™®å‰å²›"><a href="#æ™®å‰å²›" class="headerlink" title="æ™®å‰å²›"></a>æ™®å‰å²›</h2><p>æµ·æ»©æ—¥å…‰æµ´ äº«æ…µæ‡’æ…¢æ—¶å…‰<br>æ¸¸æµ·å²› æ½œå…¥å¤§æµ·çš„å¿ƒé‡Œå»<br>æ³›èˆŸæ³°å›½â€œå°æ¡‚æ—â€æ”€ç‰™æ¹¾<br>æµ®æ½œè®¾å¤‡</p>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[Shortest Path]]></title>
      <url>http://iequa.com/2016/10/27/acm-sp/</url>
      <content type="html"><![CDATA[<p>shortest path : <code>dijstra</code></p>
<a id="more"></a>
<h2 id="1-dijstra"><a href="#1-dijstra" class="headerlink" title="1. dijstra"></a>1. dijstra</h2><figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="keyword">int</span> data[M][M]; <span class="comment">// init INF</span></span><br><span class="line"><span class="keyword">int</span> lowc[M];</span><br><span class="line"><span class="keyword">int</span> vis[M];</span><br><span class="line"><span class="keyword">int</span> n, m;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">djst</span><span class="params">(<span class="keyword">int</span> p)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">int</span> i, j;</span><br><span class="line">    <span class="keyword">for</span>(i = <span class="number">1</span>; i &lt;= n; i++) &#123;</span><br><span class="line">        vis[i] = <span class="number">0</span>;</span><br><span class="line">        lowc[i] = data[p][i];</span><br><span class="line">    &#125;</span><br><span class="line">    vis[p] = <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">for</span>(i = <span class="number">1</span>; i &lt;= n<span class="number">-1</span>; i++) &#123;</span><br><span class="line">        <span class="keyword">int</span> minc = INF, c = <span class="number">0</span>, lk;</span><br><span class="line">        <span class="keyword">for</span>(j = <span class="number">1</span>; j &lt;= n; j++) &#123;</span><br><span class="line">            <span class="keyword">if</span>(vis[j] == <span class="number">0</span> &amp;&amp; lowc[j] &lt; minc) &#123;</span><br><span class="line">                minc = lowc[j];</span><br><span class="line">                c = j;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span>(c == <span class="number">1</span>) <span class="keyword">break</span>;</span><br><span class="line">        vis[c] = <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">for</span>(j = <span class="number">1</span>; j &lt;= n; j++) &#123;</span><br><span class="line">            <span class="keyword">if</span>(vis[j] == <span class="number">0</span> &amp;&amp; data[c][j] + minc &gt; <span class="number">0</span> &amp;&amp; data[c][j] + minc &lt; lowc[j]) &#123;</span><br><span class="line">                lowc[j] = data[c][j] + minc;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt; lowc[<span class="number">1</span>] &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="2-Bellman"><a href="#2-Bellman" class="headerlink" title="2. Bellman"></a>2. Bellman</h2><figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">define</span> INF ((long long)(1))&lt;&lt;62</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> N 301</span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="keyword">struct</span> edge&#123;</span><br><span class="line">   <span class="keyword">int</span> u;</span><br><span class="line">   <span class="keyword">int</span> v;</span><br><span class="line">   <span class="keyword">long</span> <span class="keyword">long</span> w; <span class="comment">// æ³¨æ„</span></span><br><span class="line">&#125;e[N*N];</span><br><span class="line"><span class="keyword">int</span> m, n;</span><br><span class="line"><span class="keyword">long</span> <span class="keyword">long</span> d[<span class="number">1005</span>];</span><br><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">bellman_ford</span><span class="params">(<span class="keyword">int</span> s, <span class="keyword">int</span> di)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">int</span> i, j;</span><br><span class="line">     <span class="keyword">for</span>(i = <span class="number">1</span>; i &lt; n; i++) &#123;</span><br><span class="line">        d[i] = INF;</span><br><span class="line">     &#125;</span><br><span class="line">     d[s] = <span class="number">0</span>;</span><br><span class="line">     <span class="keyword">for</span>(i = <span class="number">1</span>; i &lt;= n<span class="number">-1</span>; i++) &#123;</span><br><span class="line">        <span class="keyword">for</span>(j = <span class="number">1</span>; j &lt;= m; j++) &#123;</span><br><span class="line">            <span class="keyword">if</span>(d[e[j].u] != INF &amp;&amp; d[e[j].u]+e[j].w &lt; d[e[j].v])    <span class="comment">// å¯¹è¾¹è¿›è¡Œæ“ä½œ ã€æ¾å¼›</span></span><br><span class="line">                d[e[j].v] = d[e[j].u] + e[j].w;</span><br><span class="line">        &#125;</span><br><span class="line">     &#125;</span><br><span class="line">     <span class="keyword">for</span>(j = <span class="number">1</span>; j &lt;= m; j++) &#123;</span><br><span class="line">        <span class="keyword">if</span>(d[e[j].u] != INF &amp;&amp; (d[e[j].v] &gt; d[e[j].u]+e[j].w))    <span class="comment">// å¾ˆç†è§£</span></span><br><span class="line">            d[e[j].v] = -INF;</span><br><span class="line">     &#125;</span><br><span class="line">     <span class="keyword">if</span>(d[di] == INF || d[di] == -INF) <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">     <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="3-Floyd"><a href="#3-Floyd" class="headerlink" title="3. Floyd"></a>3. Floyd</h2><h2 id="4-SPFA"><a href="#4-SPFA" class="headerlink" title="4. SPFA"></a>4. SPFA</h2><figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> INF = <span class="number">0x7fffffff</span>;</span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> N = <span class="number">5501</span>;</span><br><span class="line"><span class="keyword">struct</span> edge &#123;</span><br><span class="line">    <span class="keyword">int</span> to;</span><br><span class="line">    <span class="keyword">int</span> w;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="built_in">vector</span>&lt;edge&gt; p[N]; <span class="comment">// vector å®ç°é‚»æ¥è¡¨</span></span><br><span class="line"><span class="keyword">int</span> d[N];</span><br><span class="line"><span class="keyword">bool</span> inque[N];     <span class="comment">// è®°å½•é¡¶ç‚¹æ˜¯å¦åœ¨é˜Ÿåˆ—ä¸­ï¼ŒSPFAç®—æ³•å¯ä»¥å…¥é˜Ÿåˆ—å¤šæ¬¡</span></span><br><span class="line"><span class="keyword">int</span> cnt[N];        <span class="comment">// è®°å½•é¡¶ç‚¹å…¥é˜Ÿçš„æ¬¡æ•°</span></span><br><span class="line"><span class="keyword">int</span> n, m, q;</span><br><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">SPFA</span><span class="params">(<span class="keyword">int</span> s)</span> </span>&#123;</span><br><span class="line">    <span class="built_in">queue</span>&lt;<span class="keyword">int</span>&gt; Q;</span><br><span class="line">    <span class="keyword">while</span>(!Q.empty()) Q.pop();</span><br><span class="line">    <span class="keyword">int</span> i;</span><br><span class="line">    <span class="keyword">for</span>(i = <span class="number">0</span>; i &lt;= n; i++) &#123;</span><br><span class="line">        d[i] = INF;</span><br><span class="line">    &#125;</span><br><span class="line">    d[s] = <span class="number">0</span>;      <span class="comment">// æºç‚¹çš„è·ç¦»ä¸º 0</span></span><br><span class="line">    <span class="built_in">memset</span>(inque, <span class="number">0</span>, <span class="keyword">sizeof</span>(inque));</span><br><span class="line">    <span class="built_in">memset</span>(cnt, <span class="number">0</span>, <span class="keyword">sizeof</span>(cnt));</span><br><span class="line">    Q.push(s);</span><br><span class="line">    inque[s] = <span class="literal">true</span>;</span><br><span class="line">    cnt[s]++;      <span class="comment">// æºç‚¹å…¥é˜Ÿåˆ—çš„æ¬¡æ•°å¢åŠ </span></span><br><span class="line">    <span class="keyword">while</span>(!Q.empty()) &#123;</span><br><span class="line">        <span class="keyword">int</span> t = Q.front();</span><br><span class="line">        Q.pop();</span><br><span class="line">        inque[t] = <span class="literal">false</span>;</span><br><span class="line">        <span class="keyword">for</span>(i = <span class="number">0</span>; i &lt; p[t].size(); i++) &#123;</span><br><span class="line">            <span class="keyword">int</span> to = p[t][i].to;</span><br><span class="line">            <span class="keyword">if</span>(d[t] &lt; INF &amp;&amp; d[to] &gt; d[t] + p[t][i].w) &#123;</span><br><span class="line">                d[to] = d[t] + p[t][i].w;</span><br><span class="line">                cnt[to]++;</span><br><span class="line">                <span class="keyword">if</span>(cnt[to] &gt;= n) &#123;  <span class="comment">//å½“ä¸€ä¸ªç‚¹å…¥é˜Ÿçš„æ¬¡æ•°&gt;=næ—¶å°±è¯æ˜å‡ºç°äº†è´Ÿç¯</span></span><br><span class="line">                    <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">if</span>(!inque[to]) &#123;</span><br><span class="line">                    Q.push(to);</span><br><span class="line">                    inque[to] = <span class="literal">true</span>;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[Minimum Spanning Tree]]></title>
      <url>http://iequa.com/2016/10/27/acm-mst/</url>
      <content type="html"><![CDATA[<p>data structure - minimal spanning tree</p>
<a id="more"></a>
<h2 id="1-prim"><a href="#1-prim" class="headerlink" title="1. prim"></a>1. prim</h2><blockquote>
<p><a href="http://acm.hdu.edu.cn/showproblem.php?pid=1233" target="_blank" rel="external">http://acm.hdu.edu.cn/showproblem.php?pid=1233</a></p>
</blockquote>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstdio&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstring&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> INF = <span class="number">0x7fffffff</span>; <span class="comment">// max int value</span></span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> N = <span class="number">101</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span> <span class="built_in">map</span>[N][N];</span><br><span class="line"><span class="keyword">int</span> dis[N];</span><br><span class="line"><span class="keyword">bool</span> vis[N];</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">prim</span><span class="params">(<span class="keyword">int</span> n)</span> </span>&#123;</span><br><span class="line">    <span class="built_in">memset</span>(vis, <span class="literal">false</span>, <span class="keyword">sizeof</span>(vis));</span><br><span class="line">    <span class="built_in">memset</span>(dis, <span class="number">0</span>, <span class="keyword">sizeof</span>(dis));</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= n; i++) &#123;</span><br><span class="line">        <span class="keyword">if</span>(<span class="built_in">map</span>[<span class="number">1</span>][i] != <span class="number">-1</span>) &#123;</span><br><span class="line">            dis[i] = <span class="built_in">map</span>[<span class="number">1</span>][i];</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span> dis[i] = INF;</span><br><span class="line">    &#125;</span><br><span class="line">    vis[<span class="number">1</span>] = <span class="literal">true</span>;</span><br><span class="line">    <span class="keyword">int</span> sum = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= n<span class="number">-1</span>; i++) &#123;</span><br><span class="line">        <span class="keyword">int</span> minv = INF, c = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> j = <span class="number">1</span>; j &lt;= n; j++) &#123;</span><br><span class="line">            <span class="keyword">if</span>(!vis[j] &amp;&amp; dis[j] &lt; minv) &#123;</span><br><span class="line">                minv = dis[j];</span><br><span class="line">                c = j;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        vis[c] = <span class="literal">true</span>;</span><br><span class="line">        sum += minv;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> j = <span class="number">1</span>; j &lt;= n; j++) &#123;</span><br><span class="line">            <span class="keyword">if</span>(!vis[j] &amp;&amp; <span class="built_in">map</span>[c][j] != <span class="number">-1</span> &amp;&amp;  <span class="built_in">map</span>[c][j] &lt; dis[j]) &#123;</span><br><span class="line">                dis[j] = <span class="built_in">map</span>[c][j];</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> sum;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">int</span> n, m;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">while</span>(<span class="number">1</span> == <span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;n) &amp;&amp; n != <span class="number">0</span>) &#123;</span><br><span class="line">        <span class="built_in">memset</span>(<span class="built_in">map</span>, <span class="number">255</span>, <span class="keyword">sizeof</span>(<span class="built_in">map</span>));</span><br><span class="line">        <span class="keyword">int</span> a, b, c;</span><br><span class="line">        m = (n * (n<span class="number">-1</span>)) / <span class="number">2</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; m; i++) &#123;</span><br><span class="line">            <span class="built_in">scanf</span>(<span class="string">"%d%d%d"</span>, &amp;a, &amp;b, &amp;c);</span><br><span class="line">            <span class="built_in">map</span>[a][b] = <span class="built_in">map</span>[b][a] = c;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"%d\n"</span>, prim(n));</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="2-kruskal"><a href="#2-kruskal" class="headerlink" title="2. kruskal"></a>2. kruskal</h2><figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="keyword">int</span> pre[N];</span><br><span class="line"><span class="keyword">int</span> n, m;</span><br><span class="line"><span class="keyword">struct</span> Edge &#123;</span><br><span class="line">    <span class="keyword">int</span> u, v;</span><br><span class="line">    <span class="keyword">int</span> w;</span><br><span class="line">&#125;e[N];</span><br><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">cmp</span><span class="params">(<span class="keyword">const</span> Edge a, <span class="keyword">const</span> Edge b)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> a.w &lt; b.w;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">make_set</span><span class="params">(<span class="keyword">int</span> n)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt;= n; i++)</span><br><span class="line">        pre[i] = i;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">find_set</span><span class="params">(<span class="keyword">int</span> a)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(pre[a] == a) <span class="keyword">return</span> a;</span><br><span class="line">    <span class="keyword">return</span> pre[a] = find_set(pre[a]);</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">kruskal</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="keyword">int</span> sum = <span class="number">0</span>;</span><br><span class="line">    sort(e, e + m, cmp);</span><br><span class="line">    make_set(n);</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>, fu, fv, cnt_e; i &lt; m; i++) &#123;</span><br><span class="line">        fu = find_set(e[i].u);</span><br><span class="line">        fv = find_set(e[i].v);</span><br><span class="line">        <span class="keyword">if</span> (fu != fv) &#123;</span><br><span class="line">            sum += e[i].w;</span><br><span class="line">            cnt_e++;</span><br><span class="line">            <span class="keyword">if</span> (cnt_e == n<span class="number">-1</span>) <span class="keyword">break</span>;</span><br><span class="line">            pre[fv] = fu;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt; sum &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[Six Kinds of Sort algorithms]]></title>
      <url>http://iequa.com/2016/10/27/acm-sort/</url>
      <content type="html"><![CDATA[<blockquote>
<p>input ï¼š 8, 5, 4, 9, 2, 3, 6</p>
</blockquote>
<a id="more"></a>
<h2 id="1-heapSort"><a href="#1-heapSort" class="headerlink" title="1. heapSort"></a>1. heapSort</h2><figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">heapify</span><span class="params">(<span class="keyword">int</span> a[], <span class="keyword">int</span> i, <span class="keyword">int</span> size)</span> </span>&#123; <span class="comment">// å †åŒ–çš„ç»´æŒéœ€è¦ç”¨é€’å½’</span></span><br><span class="line">    <span class="keyword">int</span> ls = <span class="number">2</span>*i, rs = <span class="number">2</span>*i + <span class="number">1</span>; </span><br><span class="line">    <span class="keyword">int</span> large = i;</span><br><span class="line">    <span class="keyword">if</span>(ls &lt;= size &amp;&amp; a[ls] &gt; a[i]) &#123;</span><br><span class="line">        large = ls; </span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span>(rs &lt;= size &amp;&amp; a[rs] &gt; a[large]) &#123;</span><br><span class="line">        large = rs; </span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span>(large != i) &#123;</span><br><span class="line">        swap(a[i], a[large]);</span><br><span class="line">        heapify(a, large, size);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">buildHeap</span><span class="params">(<span class="keyword">int</span> a[], <span class="keyword">int</span> size)</span> </span>&#123; </span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i = size/<span class="number">2</span>; i &gt;= <span class="number">1</span>; i--) &#123;</span><br><span class="line">        heapify(a, i, size);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">heapSort</span><span class="params">(<span class="keyword">int</span> a[], <span class="keyword">int</span> size)</span> </span>&#123;</span><br><span class="line">    buildHeap(a, size);</span><br><span class="line">    <span class="keyword">int</span> len = size;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i = len; i &gt;= <span class="number">2</span>; i--) &#123;</span><br><span class="line">        swap(a[i], a[<span class="number">1</span>]);</span><br><span class="line">        len--;</span><br><span class="line">        heapify(a, <span class="number">1</span>, len); </span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="2-quickSort"><a href="#2-quickSort" class="headerlink" title="2. quickSort"></a>2. quickSort</h2><figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">quickSort</span><span class="params">(<span class="keyword">int</span> a[], <span class="keyword">int</span> left, <span class="keyword">int</span> right)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(left &lt; right) &#123; <span class="comment">// exit. good idea!</span></span><br><span class="line">        <span class="keyword">int</span> l = left, r = right, x = a[l];</span><br><span class="line">        <span class="keyword">while</span>(<span class="number">1</span>) &#123;</span><br><span class="line">            <span class="keyword">while</span>(l &lt; r &amp;&amp; a[r] &gt;= x) r--;</span><br><span class="line">            <span class="keyword">while</span>(l &lt; r &amp;&amp; a[l] &lt;= x) l++;</span><br><span class="line">            <span class="keyword">if</span>(l &gt;= r) <span class="keyword">break</span>;</span><br><span class="line">            swap(a[r], a[l]);</span><br><span class="line">        &#125;</span><br><span class="line">        swap(a[left], a[l]);</span><br><span class="line">        quickSort(a, left, l<span class="number">-1</span>);</span><br><span class="line">        quickSort(a, l+<span class="number">1</span>, right);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="3-mergeSort"><a href="#3-mergeSort" class="headerlink" title="3. mergeSort"></a>3. mergeSort</h2><figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">mergeSort</span><span class="params">(<span class="keyword">int</span> a[], <span class="keyword">int</span> l, <span class="keyword">int</span> r)</span> </span>&#123; <span class="comment">//  8, 5, 4, 9, 2, 3, 6</span></span><br><span class="line">    <span class="keyword">if</span>(l &gt;= r) <span class="keyword">return</span>;   <span class="comment">// exit.</span></span><br><span class="line">    <span class="keyword">int</span> mid = (l+r) / <span class="number">2</span>; <span class="comment">// overflow  &lt;-&gt;  l + (r-l)/2</span></span><br><span class="line">    mergeSort(a, l, mid);</span><br><span class="line">    mergeSort(a, mid+<span class="number">1</span>, r);  </span><br><span class="line">    <span class="keyword">int</span> *arr = <span class="keyword">new</span> <span class="keyword">int</span>[r-l+<span class="number">1</span>];  </span><br><span class="line">    <span class="keyword">int</span> k = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">int</span> i = l, j = mid + <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">while</span>(i &lt;= mid &amp;&amp; j &lt;= r) &#123;  </span><br><span class="line">        <span class="keyword">if</span>(a[i] &lt;= a[j]) &#123;</span><br><span class="line">            arr[k++] = a[i++]; </span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span> &#123;</span><br><span class="line">            arr[k++] = a[j++]; <span class="comment">// ans += (mid-i+1);  </span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">while</span>(i &lt;= mid) arr[k++] = a[i++];</span><br><span class="line">    <span class="keyword">while</span>(j &lt;= r) arr[k++] = a[j++];</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i = l; i &lt;= r; i++) &#123;</span><br><span class="line">        a[i] = arr[i-l];</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">delete</span> []arr;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="4-insertSort"><a href="#4-insertSort" class="headerlink" title="4. insertSort"></a>4. insertSort</h2><figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">insertSort</span><span class="params">(<span class="keyword">int</span> a[], <span class="keyword">int</span> len)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">int</span> j;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">1</span>; i &lt; len; i++) &#123;<span class="comment">// æ–°æŠ“çš„æ¯å¼ æ‰‘å…‹ç‰Œ  </span></span><br><span class="line">        <span class="keyword">int</span> temp = a[i];</span><br><span class="line">        <span class="keyword">for</span>(j = i<span class="number">-1</span>; a[j] &gt; temp &amp;&amp; j &gt;= <span class="number">0</span>; j--) &#123;  </span><br><span class="line">            a[j+<span class="number">1</span>] = a[j];</span><br><span class="line">        &#125;</span><br><span class="line">        a[j+<span class="number">1</span>] = temp;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="5-bubbleSort"><a href="#5-bubbleSort" class="headerlink" title="5. bubbleSort"></a>5. bubbleSort</h2><figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">bubbleSort</span><span class="params">(<span class="keyword">int</span> a[], <span class="keyword">int</span> len)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">1</span>; i &lt; len; i++) &#123;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; len-i; j++) &#123;</span><br><span class="line">            <span class="keyword">if</span>(a[j] &gt; a[j+<span class="number">1</span>]) swap(a[j], a[j+<span class="number">1</span>]);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="6-selectSort"><a href="#6-selectSort" class="headerlink" title="6. selectSort"></a>6. selectSort</h2><figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">selectSort</span><span class="params">(<span class="keyword">int</span> a[], <span class="keyword">int</span> len)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">int</span> i, j, k;</span><br><span class="line">    <span class="keyword">for</span>(i = <span class="number">0</span>; i &lt; len<span class="number">-1</span>; i++) &#123;  </span><br><span class="line">        k = i;  </span><br><span class="line">        <span class="keyword">for</span>(j = i+<span class="number">1</span>; j &lt; len; j++) &#123;  </span><br><span class="line">            <span class="keyword">if</span>(a[j] &lt; a[k]) k = j;  </span><br><span class="line">        &#125;  </span><br><span class="line">        swap(a[i], a[k]);  <span class="comment">// å°†ç¬¬iä½å°çš„æ•°æ”¾å…¥iä½ç½®  </span></span><br><span class="line">    &#125;  </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[Going to a restaurant L4 Asking for the check and paying the bill]]></title>
      <url>http://iequa.com/2016/10/27/ef-l5u4-going-to-a-restaurant-l4/</url>
      <content type="html"><![CDATA[<h2 id="1-Vocabulary"><a href="#1-Vocabulary" class="headerlink" title="1. Vocabulary"></a>1. Vocabulary</h2><ul>
<li>check</li>
<li>tip</li>
<li>percent</li>
<li>Serene Grill</li>
<li>appetizers</li>
<li>shrimp cocktail</li>
<li>oysters</li>
<li>authentic</li>
<li>strawberries [â€˜strÉ”bÉ›riz]</li>
<li>entrees</li>
</ul>
<p><img src="/images/ef-l5u4l4.png" width="460" height="400" img=""></p>
<table>
<thead>
<tr>
<th>Dialog</th>
</tr>
</thead>
<tbody>
<tr>
<td>[WAITRESS] Would you care for a dessert or coffee?</td>
<td></td>
</tr>
<tr>
<td>[PAM] No, just the check, please. Oh, and <strong>could I take the rest of my steak to go?</strong></td>
<td></td>
</tr>
<tr>
<td>[WAITRESS] Of course. Was everything okay?</td>
<td></td>
</tr>
<tr>
<td>[PAM] Yes. The steak was delicious. It was just too big.</td>
<td></td>
</tr>
<tr>
<td>[WAITRESS] Here you go.</td>
<td></td>
</tr>
<tr>
<td>[PAM] Thanks.</td>
<td></td>
</tr>
<tr>
<td>[PAM] <strong>Tell you what - Iâ€™ll pay for the meal, if you leave the tip.</strong></td>
<td></td>
</tr>
<tr>
<td>[SALLY] Are you sure?</td>
<td></td>
</tr>
<tr>
<td>[PAM] Of course.</td>
<td></td>
</tr>
<tr>
<td>[SALLY] Okay. Thanks!</td>
<td></td>
</tr>
<tr>
<td>[SALLY] <strong>How much should I leave for the tip?</strong></td>
<td></td>
</tr>
<tr>
<td>[PAM] Um, I usually leave between 15 and 20 percent.</td>
<td></td>
</tr>
<tr>
<td>[SALLY] This meal was really good. I think Iâ€™ll leave 20.</td>
<td></td>
</tr>
<tr>
<td>[WAITRESS] Thank you very much.</td>
<td></td>
</tr>
</tbody>
</table>
<hr>
<table>
<thead>
<tr>
<th>Taking food home</th>
</tr>
</thead>
<tbody>
<tr>
<td>Waiter: Would you like to take that home with you?</td>
<td></td>
</tr>
<tr>
<td>Customer: Iâ€™d like the rest of my steak to go.</td>
<td></td>
</tr>
<tr>
<td>Waiter: No problem. Iâ€™ll bring it back in just a minute.</td>
<td></td>
</tr>
</tbody>
</table>
<h2 id="2-Reading"><a href="#2-Reading" class="headerlink" title="2. Reading"></a>2. Reading</h2><p><strong>Restaurant review</strong></p>
<p><code>Serene Grill</code></p>
<p>by Carey Smith</p>
<p>Serene Grill is a great choice for dinner. Their specialty is steak, but they serve many other excellent entrees like roasted chicken and <code>grilled salmon</code>. My favorite is the salmon. There is also a great selection of <code>appetizers</code>. The <code>shrimp cocktail</code> is very popular, and the restaurant is famous for its fresh oysters. The desserts are delicious and authentic. You can choose from apple pie with vanilla ice cream to chocolate cake with fresh strawberries. Prices are reasonable, and the servers are friendly. Outdoor seating is available in the summer, and parking is free before 9 p.m.</p>
<p><strong>Writing</strong></p>
<p>The Great Wall is my favorite restaurant. They serve authentic Chinese food. They have many different appetizer and entrees. the spicy beef entree is delicious.most entrees are between $10 and $15. The restaurant is very busy on the weekends, so make a reservation. The restaurant is noisy, but all the servers are friendly and everybody has fun.Desserts are not their specialty.</p>
<h2 id="3-Expressions"><a href="#3-Expressions" class="headerlink" title="3. Expressions"></a>3. Expressions</h2><p>Could I have the bill, please?<br>Weâ€™re ready for our check.<br>Do you take credit cards?  </p>
<p>A: Did you leave a tip?<br>B: I left 20 percent. Everything was excellent!</p>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[Going to a restaurant L3 Ordering food in a restaurant]]></title>
      <url>http://iequa.com/2016/10/26/ef-l5u4-going-to-a-restaurant-l3/</url>
      <content type="html"><![CDATA[<h2 id="1-Vocabulary"><a href="#1-Vocabulary" class="headerlink" title="1. Vocabulary"></a>1. Vocabulary</h2><ul>
<li>chefâ€™s salad</li>
<li>sour cream on the side</li>
<li>a glass of iced tea</li>
<li>wild salmon</li>
<li>french fries</li>
<li>steak and baked potato</li>
<li>blue cheese dressing</li>
<li>tiramisu                          </li>
<li>chocolate mousse</li>
<li>lemon sorbet  </li>
</ul>
<p><img src="/images/ef-l5u4l3.png" width="460" height="400" img=""></p>
<table>
<thead>
<tr>
<th>Dialog</th>
</tr>
</thead>
<tbody>
<tr>
<td>[PAM] The <strong>sirloin steak</strong> sounds really good.</td>
<td></td>
</tr>
<tr>
<td>[SALLY] Iâ€™m more interested in the salmon.</td>
<td></td>
</tr>
<tr>
<td>[WAITRESS] Are you ready to order?</td>
<td></td>
</tr>
<tr>
<td>[PAM] Umm, yes, I think so. Iâ€™ll have the sirloin steak, please.</td>
<td></td>
</tr>
<tr>
<td>[WAITRESS] Very good. And how would you like your steak?</td>
<td></td>
</tr>
<tr>
<td>[PAM] Medium rare, please.</td>
<td></td>
</tr>
<tr>
<td>[WAITRESS] Okay. And would you like a <strong>baked potato</strong> or french fries with that?</td>
<td></td>
</tr>
<tr>
<td>[PAM] A baked potato, please. And Iâ€™d like a little sour cream on the side.</td>
<td></td>
</tr>
<tr>
<td>[WAITRESS] Sure. And would you like something to drink?</td>
<td></td>
</tr>
<tr>
<td>[PAM] Yes. Iâ€™ll have a glass of iced tea.</td>
<td></td>
</tr>
<tr>
<td>[WAITRESS] Very good.</td>
<td></td>
</tr>
<tr>
<td>[SALLY] Iâ€™ll have the <code>chefâ€™s salad</code> to start. And then Iâ€™ll have the <strong>wild salmon</strong> with <strong>lemon</strong> and <strong>butter</strong>.</td>
<td></td>
</tr>
<tr>
<td>[WAITRESS] Okay. <strong>What kind of dressing</strong> would you like with your salad?</td>
<td></td>
</tr>
<tr>
<td>[SALLY] Blue cheese, please. And could I have that on the side?</td>
<td></td>
</tr>
<tr>
<td>[WAITRESS] Of course. Anything to drink?</td>
<td></td>
</tr>
<tr>
<td>[SALLY] Uh, Iâ€™ll also have a glass of iced tea.</td>
<td></td>
</tr>
<tr>
<td>[WAITRESS] Excellent. <strong>Iâ€™ll be right back with your tea.</strong></td>
<td></td>
</tr>
</tbody>
</table>
<h2 id="2-Grammar"><a href="#2-Grammar" class="headerlink" title="2. Grammar"></a>2. Grammar</h2><ul>
<li>A: Would you like a <strong>starter</strong>?</li>
<li>B: The <strong>cheese appetizer</strong> sounds really good. </li>
</ul>
<ul>
<li>A: Have you decided on your <strong>main course</strong>?</li>
<li>B: Does the <strong>chicken entree</strong> <strong>come with</strong> rice?</li>
</ul>
<ul>
<li>The steak is <strong>served with</strong> mashed potatoes and peas.</li>
<li>The fish <strong>comes with</strong> rice and beans. </li>
</ul>
<ul>
<li>Letâ€™s get some extra side dishes for everybody at the table.</li>
</ul>
<h2 id="3-Sentence"><a href="#3-Sentence" class="headerlink" title="3. Sentence"></a>3. Sentence</h2><table>
<thead>
<tr>
<th>Dialog</th>
</tr>
</thead>
<tbody>
<tr>
<td>For dessert, thereâ€™s tiramisu or lemon sorbet</td>
<td></td>
</tr>
<tr>
<td>The chicken is served with ice and green beans</td>
<td></td>
</tr>
<tr>
<td>The salad has a choice of three dressings</td>
<td></td>
</tr>
<tr>
<td>DO you want an appetizer or just a main course?</td>
<td></td>
</tr>
<tr>
<td>Letâ€™s get some extra side dishes for everyone</td>
<td></td>
</tr>
<tr>
<td>The apple pie comes with vanila ice cream.</td>
<td></td>
</tr>
</tbody>
</table>
<p><strong>You can use a lot of with both countable and uncountable nouns</strong></p>
<ul>
<li>The garden salad has a lot of tomatoes.</li>
<li>Is there a lot of bacon in the soup? </li>
</ul>
<p><strong>Use a few with countable nouns</strong></p>
<ul>
<li>I can only eat a few oysters.</li>
</ul>
<p><strong>Use how many to ask about the amount of a countable noun.</strong></p>
<ul>
<li>How much bread would you like?</li>
</ul>
<p><strong>Use a little with uncountable nouns</strong></p>
<h2 id="4-Expressions"><a href="#4-Expressions" class="headerlink" title="4. Expressions"></a>4. Expressions</h2><table>
<thead>
<tr>
<th>Dialog</th>
</tr>
</thead>
<tbody>
<tr>
<td>WAITER: What can I get you ?</td>
<td></td>
</tr>
<tr>
<td>CUSTOMER: Um, could I have the Caesar salad to start?</td>
<td></td>
</tr>
<tr>
<td>WAITER: Certainly. And for your main course?</td>
<td></td>
</tr>
<tr>
<td>CUSTOMER: Does the chicken come with  any vegetables?</td>
<td></td>
</tr>
<tr>
<td>WAITER: Yes, it does. It comes with peas and carrots.</td>
<td></td>
</tr>
<tr>
<td>CUSTOMER: Great. Iâ€™ll have  the chicken, please.</td>
<td></td>
</tr>
<tr>
<td>WAITER: Would you like french fries or a baked potato with that?</td>
<td></td>
</tr>
<tr>
<td>CUSTOMER: Um, Iâ€™d like  the french fries.</td>
<td></td>
</tr>
<tr>
<td>WAITER: And what would you like to drink  ?</td>
<td></td>
</tr>
<tr>
<td>CUSTOMER: A cup of coffee, please.</td>
<td></td>
</tr>
<tr>
<td>WAITER: And would you like to order dessert now?</td>
<td></td>
</tr>
<tr>
<td>CUSTOMER: No, Iâ€™ll wait, thank you.</td>
<td></td>
</tr>
</tbody>
</table>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[Going to a restaurant L2 Arriving at a restaurant]]></title>
      <url>http://iequa.com/2016/10/25/ef-l5u4-going-to-a-restaurant-l2/</url>
      <content type="html"><![CDATA[<h2 id="1-Vocabulary"><a href="#1-Vocabulary" class="headerlink" title="1. Vocabulary"></a>1. Vocabulary</h2><ul>
<li>mushroom soup</li>
<li>Caesar salad</li>
<li>fresh oysters</li>
<li>shrimp cocktail</li>
<li>roasted chicken with vegetables</li>
<li>steak and baked potato</li>
<li>fresh fish with rice</li>
<li>vanilla [vÉ™â€™nÉªlÉ™]</li>
<li>apple pie</li>
<li>chocolate mousse</li>
<li>lemon sorbet</li>
<li>As a starter</li>
<li>main course</li>
<li>dessert special</li>
</ul>
<p><img src="/images/ef-l5u4l2.png" width="460" height="400" img=""></p>
<table>
<thead>
<tr>
<th>Dialog</th>
</tr>
</thead>
<tbody>
<tr>
<td>[MAITRE Dâ€™] Good evening. Do you have a reservation?</td>
<td></td>
</tr>
<tr>
<td>[SALLY] Yes, we do.</td>
<td></td>
</tr>
<tr>
<td>[MAITRE Dâ€™] What name is it under?</td>
<td></td>
</tr>
<tr>
<td>[SALLY] Sally Phillips.</td>
<td></td>
</tr>
<tr>
<td>[MAITRE Dâ€™] Ah, yes. Ms. Phillips. Thatâ€™s two people, for inside.</td>
<td></td>
</tr>
<tr>
<td>[SALLY] Thatâ€™s right.</td>
<td></td>
</tr>
<tr>
<td>[MAITRE Dâ€™] come this way.</td>
<td></td>
</tr>
<tr>
<td>[WAITRESS] Good evening. My name is Barbara. Iâ€™ll be your waitress tonight. Here are your menus. Can I get you something to drink?</td>
<td></td>
</tr>
<tr>
<td>[PAM] Uh, waterâ€™s fine for now.</td>
<td></td>
</tr>
<tr>
<td>[WAITRESS] Can I tell you about our specials for tonight?</td>
<td></td>
</tr>
<tr>
<td>[SALLY] please.</td>
<td></td>
</tr>
<tr>
<td>[WAITRESS] <strong>As a starter</strong>, we have a <strong>tomato salad with goatâ€™s cheese and olives</strong>.</td>
<td></td>
</tr>
<tr>
<td>[WAITRESS] And we also have a lovely <code>mushroom soup</code>. For a main course, we have <code>wild salmon</code> with <code>lemon</code> and <code>butter</code>. And our dessert special is <code>fresh strawberries</code> with <code>vanilla</code> ice cream.</td>
<td></td>
</tr>
<tr>
<td>[SALLY] Thanks. Could we have some bread, please?</td>
<td></td>
</tr>
<tr>
<td>[WAITRESS] Certainly.</td>
<td></td>
</tr>
</tbody>
</table>
<h2 id="2-Grammar"><a href="#2-Grammar" class="headerlink" title="2. Grammar"></a>2. Grammar</h2><p>You can also use some to make requests and offers.</p>
<ul>
<li>Can I have some water, please?</li>
<li>Would you like some bread? </li>
</ul>
<ul>
<li>Do you have any fresh oysters this evening?</li>
<li>Do you have any lemon sorbet?</li>
</ul>
<ul>
<li>No, we donâ€™t have any salad this evening.</li>
<li>Iâ€™m sorry. We donâ€™t have any shrimp cocktail today.</li>
</ul>
<h2 id="3-Expressions"><a href="#3-Expressions" class="headerlink" title="3. Expressions"></a>3. Expressions</h2><table>
<thead>
<tr>
<th>Dialog</th>
</tr>
</thead>
<tbody>
<tr>
<td>SERVER: Good evening. My name is Carol. Iâ€™ll be your server  tonight. Here are your menus. Can I get you something to drink?</td>
<td></td>
</tr>
<tr>
<td>PENNY: No, thank you. Water is fine for now.</td>
<td></td>
</tr>
<tr>
<td>SERVER: Can I tell you about our specials this evening?</td>
<td></td>
</tr>
<tr>
<td>PENNY: Yes, please.</td>
<td></td>
</tr>
<tr>
<td>SERVER: As a starter, we have fresh oysters. We also have a very nice shrimp cocktail. For the main course  , we have chicken with vegetables, and we also have a sirloin steak with baked potato.</td>
<td></td>
</tr>
<tr>
<td>JOHN: Oh, Iâ€™m getting hungry!</td>
<td></td>
</tr>
<tr>
<td>SERVER: Our dessert special is chocolate mousse with fresh strawberries.</td>
<td></td>
</tr>
<tr>
<td>PENNY: Thank you very much. I think we need a few minutes.</td>
<td></td>
</tr>
</tbody>
</table>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[Coursera Week 3 - Logistic Regression]]></title>
      <url>http://iequa.com/2016/10/24/ml-coursera-ng-w3-LR/</url>
      <content type="html"><![CDATA[<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js"],
    jax: ["input/TeX"],
    tex2jax: {
      inlineMath: [ ['$','$'], ['\\(','\\)'] ],
      displayMath: [ ['$$','$$']],
      processEscapes: true
    }
  });
</script>
<script type="text/javascript" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS_HTML,http://myserver.com/MathJax/config/local/local.js">
</script>

<p>Logistic Regression</p>
<a id="more"></a>
<h2 id="1-Classification"><a href="#1-Classification" class="headerlink" title="1. Classification"></a>1. Classification</h2><blockquote>
<ol>
<li>Email: Spam / Not Spam</li>
<li>Online Transactions: Fraudulent (Yes/No)? </li>
<li>Tumor: Malignant / Benign ?  &emsp;&emsp;&emsp; [â€˜tju:mÉ™(r)]  [mÉ™â€™lÉªgnÉ™nt] / [bÉªâ€™naÉªn]</li>
</ol>
<p>$ y \in {0, 1}$</p>
</blockquote>
<h2 id="2-Binary-Classification"><a href="#2-Binary-Classification" class="headerlink" title="2. Binary Classification"></a>2. Binary Classification</h2><p>Instead of our output vector y being a continuous range of values, it will only be 0 or 1.</p>
<p>yâˆˆ{0,1}</p>
<blockquote>
<p>Where 0 is usually taken as the â€œnegative classâ€ and 1 as the â€œpositive classâ€, but you are free to assign any representation to it.</p>
</blockquote>
<p><strong>Hypothesis Representation</strong>  </p>
<blockquote>
<p>$$ 0 \leq h_\theta (x) \leq 1 $$<br>$$ \begin{align} &amp; h_\theta (x) =  g ( \theta^T x ) \newline \newline&amp; z = \theta^T x \newline&amp; g(z) = \dfrac{1}{1 + e^{-z}} \end{align} $$</p>
<p>â€œSigmoid Function,â€ also called the â€œLogistic Functionâ€:</p>
</blockquote>
<p><img src="/images/ml/coursera/ml-ng-w3-02.png" alt="Sigmoid Function"></p>
<blockquote>
<p>$h_Î¸$ will give us the probability that our output is 1. For example, $h_Î¸=0.7$ gives us the probability of 70% that our output is 1.</p>
</blockquote>
<p>$<br>\begin{align}<br>&amp; h_\theta(x) = P(y=1 | x ; \theta) = 1 - P(y=0 | x ; \theta) \newline&amp; P(y = 0 | x;\theta) + P(y = 1 | x ; \theta) = 1<br>\end{align}<br>$</p>
<p>Our probability that our prediction is 0 is just the complement of our probability that it is 1 (e.g. if probability that it is 1 is 70%, then the probability that it is 0 is 30%).</p>
<h2 id="3-Decision-Boundary"><a href="#3-Decision-Boundary" class="headerlink" title="3. Decision Boundary"></a>3. Decision Boundary</h2><p>$$<br>\begin{align}<br>&amp; h_\theta(x) \geq 0.5 \rightarrow y = 1 \newline&amp; h_\theta(x) &lt; 0.5 \rightarrow y = 0 \newline\end{align}<br>$$</p>
<table>
<thead>
<tr>
<th style="text-align:center"><font color="#0085a1"><strong>Logistic Function</strong></font></th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">$ \begin{align} &amp; g(z) \geq 0.5 \newline&amp; when \; z \geq 0 \end{align} $</td>
<td></td>
</tr>
<tr>
<td style="text-align:center">$ \begin{align} z=0,  e^{0}=1 \Rightarrow  g(z)=1/2\newline z \to \infty, e^{-\infty} \to 0 \Rightarrow g(z)=1 \newline z \to -\infty, e^{\infty}\to \infty \Rightarrow g(z)=0 \end{align} $</td>
<td></td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr>
<th style="text-align:center"><font color="#0085a1">g is $\theta^T X$, then that means</font>:</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">$ h_\theta(x) = g(\theta^T x) \geq 0.5 $ $ when \; \theta^T x \geq 0 $</td>
<td></td>
</tr>
<tr>
<td style="text-align:center">$ \begin{align} &amp; \theta^T x \geq 0 \Rightarrow y = 1 \newline&amp; \theta^T x &lt; 0 \Rightarrow y = 0 \newline \end{align} $</td>
<td></td>
</tr>
</tbody>
</table>
<p>The decision boundary is the line that separates the area where y = 0 and where y = 1. It is created by our hypothesis function.</p>
<p><strong>Example:</strong></p>
<p>$<br>\begin{align}<br>&amp; \theta = \begin{bmatrix}5 \newline -1 \newline 0\end{bmatrix} \newline &amp; y = 1 \; if \; 5 + (-1) x_1 + 0 x_2 \geq 0 \newline &amp; 5 - x_1 \geq 0 \newline &amp; - x_1 \geq -5 \newline&amp; x_1 \leq 5 \newline \end{align}<br>$</p>
<p>In this case, our decision boundary is a straight vertical line placed on the graph where $x_1=5$, and everything to the left of that denotes $y = 1$, while everything to the right denotes $y = 0$.</p>
<p><strong>linear decision boundaries</strong></p>
<p><img src="/images/ml/coursera/ml-ng-w3-01.png" alt="linear decision boundaries"></p>
<p><strong>Non-linear decision boundaries</strong></p>
<p><img src="/images/ml/coursera/ml-ng-w3-03.png" alt="Non-linear decision boundaries"></p>
<h2 id="4-Cost-Function"><a href="#4-Cost-Function" class="headerlink" title="4. Cost Function"></a>4. Cost Function</h2><p>We cannot use the same cost function that we use for linear regression because the Logistic Function will cause the output to be wavy, causing many local optima. In other words, it will not be a convex function.</p>
<p><img src="/images/ml/coursera/ml-ng-w3-12.png" alt=" $h_\theta(x)$ Complex nonlinear function"></p>
<p><img src="/images/ml/coursera/ml-ng-w3-06.png" alt="Cost Function"></p>
<p><code>Instead, our cost function for logistic regression looks like</code>:</p>
<p>$<br>\begin{align}<br>&amp; J(\theta) = \dfrac{1}{m} \sum_{i=1}^m \mathrm{Cost}(h_\theta(x^{(i)}),y^{(i)}) \newline &amp; \mathrm{Cost}(h_\theta(x),y) = -\log(h_\theta(x)) \; &amp; \text{if y = 1} \newline &amp; \mathrm{Cost}(h_\theta(x),y) = -\log(1-h_\theta(x)) \; &amp; \text{if y = 0}<br>\end{align}<br>$</p>
<p><img src="/images/ml/coursera/ml-ng-w3-04.png" alt="Cost Function"></p>
<p><img src="/images/ml/coursera/ml-ng-w3-05.png" alt="Cost Function"></p>
<p>$<br>\begin{align}<br>&amp; \mathrm{Cost}(h_\theta(x),y) = 0 \text{  if  } h_\theta(x) = y \newline &amp; \mathrm{Cost}(h_\theta(x),y) \rightarrow \infty \text{  if  } y = 0 \; \mathrm{and} \; h_\theta(x) \rightarrow 1 \newline &amp; \mathrm{Cost}(h_\theta(x),y) \rightarrow \infty \text{  if  } y = 1 \; \mathrm{and} \; h_\theta(x) \rightarrow 0 \newline<br>\end{align}<br>$</p>
<p>If our correct answer â€˜yâ€™ is 0, then the cost function will be 0 if our hypothesis function also outputs 0. If our hypothesis approaches 1, then the cost function will approach infinity.</p>
<p>If our correct answer â€˜yâ€™ is 1, then the cost function will be 0 if our hypothesis function outputs 1. If our hypothesis approaches 0, then the cost function will approach infinity.</p>
<h2 id="5-Cost-Function-amp-Gradient-Desc"><a href="#5-Cost-Function-amp-Gradient-Desc" class="headerlink" title="5. Cost Function &amp; Gradient Desc"></a>5. Cost Function &amp; Gradient Desc</h2><p><code>We can compress our cost function&#39;s two conditional cases into one case:</code></p>
<p>$ \mathrm{Cost}(h_\theta(x),y) = - y \cdot \log(h_\theta(x)) - (1 - y) \cdot \log(1 - h_\theta(x))$</p>
<p>We can fully write out our entire cost function as follows:</p>
<p>$<br>J(\theta) = - \frac{1}{m} \displaystyle \sum_{i=1}^m [y^{(i)}\log (h_\theta (x^{(i)})) + (1 - y^{(i)})\log (1 - h_\theta(x^{(i)}))]<br>$</p>
<p>A <code>vectorized</code> implementation is:</p>
<p>$<br>\begin{align}<br>&amp; h = g(X\theta)\newline<br>&amp; J(\theta)  = \frac{1}{m} \cdot \left(-y^{T}\log(h)-(1-y)^{T}\log(1-h)\right)<br>\end{align}<br>$</p>
<h3 id="5-1-Gradient-Descent"><a href="#5-1-Gradient-Descent" class="headerlink" title="5.1 Gradient Descent"></a>5.1 Gradient Descent</h3><p>Remember that the general form of gradient descent is:</p>
<p>$<br>\begin{align}<br>&amp; Repeat \; \lbrace \newline &amp; \; \theta_j := \theta_j - \alpha \dfrac{\partial}{\partial \theta_j}J(\theta) \newline &amp; \rbrace<br>\end{align}<br>$</p>
<p>We can work out the derivative part using calculus to get:</p>
<p>$<br>\begin{align}<br>&amp; Repeat \; \lbrace \newline<br>&amp; \; \theta_j := \theta_j - \frac{\alpha}{m} \sum_{i=1}^m (h_\theta(x^{(i)}) - y^{(i)}) x_j^{(i)} \newline &amp; \rbrace<br>\end{align}<br>$</p>
<blockquote>
<p><code>seen 5.2 detailed</code></p>
</blockquote>
<p><strong>A vectorized implementation is:</strong></p>
<p>$<br>\theta := \theta - \frac{\alpha}{m} X^{T} (g(X \theta ) - \vec{y})<br>$</p>
<h3 id="5-2-Partial-derivative-of-J-Î¸"><a href="#5-2-Partial-derivative-of-J-Î¸" class="headerlink" title="5.2 Partial derivative of J(Î¸)"></a>5.2 Partial derivative of J(Î¸)</h3><blockquote>
<p>partial [â€˜pÉ‘ËÊƒ(É™)l]<br>derivative [dÉªâ€™rÉªvÉ™tÉªv]</p>
</blockquote>
<p>$<br>\begin{align}<br>\sigma(x)â€™&amp;=\left(\frac{1}{1+e^{-x}}\right)â€™=\frac{-(1+e^{-x})â€™}{(1+e^{-x})^2}=\frac{-1â€™-(e^{-x})â€™}{(1+e^{-x})^2}=\frac{0-(-x)â€™(e^{-x})}{(1+e^{-x})^2}=\frac{-(-1)(e^{-x})}{(1+e^{-x})^2}=\frac{e^{-x}}{(1+e^{-x})^2} \newline &amp;=\left(\frac{1}{1+e^{-x}}\right)\left(\frac{e^{-x}}{1+e^{-x}}\right)=\sigma(x)\left(\frac{+1-1 + e^{-x}}{1+e^{-x}}\right)=\sigma(x)\left(\frac{1 + e^{-x}}{1+e^{-x}} - \frac{1}{1+e^{-x}}\right)=\sigma(x)(1 - \sigma(x))<br>\end{align}<br>$</p>
<p>Now we are ready to find out resulting partial derivative:</p>
<p>$<br>\begin{align}<br>\frac{\partial}{\partial \theta_j} J(\theta) &amp;= \frac{\partial}{\partial \theta_j} \frac{-1}{m}\sum_{i=1}^m \left [ y^{(i)} log (h_\theta(x^{(i)})) + (1-y^{(i)}) log (1 - h_\theta(x^{(i)})) \right ] \newline&amp;= - \frac{1}{m}\sum_{i=1}^m \left [     y^{(i)} \frac{\partial}{\partial \theta_j} log (h_\theta(x^{(i)}))   + (1-y^{(i)}) \frac{\partial}{\partial \theta_j} log (1 - h_\theta(x^{(i)}))\right ] \newline&amp;= - \frac{1}{m}\sum_{i=1}^m \left [     \frac{y^{(i)} \frac{\partial}{\partial \theta_j} h_\theta(x^{(i)})}{h_\theta(x^{(i)})}   + \frac{(1-y^{(i)})\frac{\partial}{\partial \theta_j} (1 - h_\theta(x^{(i)}))}{1 - h_\theta(x^{(i)})}\right ] \newline&amp;= - \frac{1}{m}\sum_{i=1}^m \left [     \frac{y^{(i)} \frac{\partial}{\partial \theta_j} \sigma(\theta^T x^{(i)})}{h_\theta(x^{(i)})}   + \frac{(1-y^{(i)})\frac{\partial}{\partial \theta_j} (1 - \sigma(\theta^T x^{(i)}))}{1 - h_\theta(x^{(i)})}\right ] \newline&amp;= - \frac{1}{m}\sum_{i=1}^m \left [     \frac{y^{(i)} \sigma(\theta^T x^{(i)}) (1 - \sigma(\theta^T x^{(i)})) \frac{\partial}{\partial \theta_j} \theta^T x^{(i)}}{h_\theta(x^{(i)})}   + \frac{- (1-y^{(i)}) \sigma(\theta^T x^{(i)}) (1 - \sigma(\theta^T x^{(i)})) \frac{\partial}{\partial \theta_j} \theta^T x^{(i)}}{1 - h_\theta(x^{(i)})}\right ] \newline&amp;= - \frac{1}{m}\sum_{i=1}^m \left [     \frac{y^{(i)} h_\theta(x^{(i)}) (1 - h_\theta(x^{(i)})) \frac{\partial}{\partial \theta_j} \theta^T x^{(i)}}{h_\theta(x^{(i)})}   - \frac{(1-y^{(i)}) h_\theta(x^{(i)}) (1 - h_\theta(x^{(i)})) \frac{\partial}{\partial \theta_j} \theta^T x^{(i)}}{1 - h_\theta(x^{(i)})}\right ] \newline&amp;= - \frac{1}{m}\sum_{i=1}^m \left [     y^{(i)} (1 - h_\theta(x^{(i)})) x^{(i)}_j - (1-y^{(i)}) h_\theta(x^{(i)}) x^{(i)}_j\right ] \newline&amp;= - \frac{1}{m}\sum_{i=1}^m \left [     y^{(i)} (1 - h_\theta(x^{(i)})) - (1-y^{(i)}) h_\theta(x^{(i)}) \right ] x^{(i)}_j \newline&amp;= - \frac{1}{m}\sum_{i=1}^m \left [     y^{(i)} - y^{(i)} h_\theta(x^{(i)}) - h_\theta(x^{(i)}) + y^{(i)} h_\theta(x^{(i)}) \right ] x^{(i)}_j \newline&amp;= - \frac{1}{m}\sum_{i=1}^m \left [ y^{(i)} - h_\theta(x^{(i)}) \right ] x^{(i)}_j  \newline&amp;= \frac{1}{m}\sum_{i=1}^m \left [ h_\theta(x^{(i)}) - y^{(i)} \right ] x^{(i)}_j<br>\end{align}<br>$</p>
<p>The vectorized version;</p>
<p>$<br>\nabla J(\theta) = \frac{1}{m} \cdot  X^T \cdot \left(g\left(X\cdot\theta\right) - \vec{y}\right)<br>$</p>
<h2 id="6-Advanced-Optimization"><a href="#6-Advanced-Optimization" class="headerlink" title="6. Advanced Optimization"></a>6. Advanced Optimization</h2><blockquote>
<p>We can apply regularization to both linear regression and logistic regression. We will approach linear regression first.</p>
</blockquote>
<p><img src="/images/ml/coursera/ml-ng-w3-07.png" alt="Advanced Optimization"></p>
<p>We first need to provide a function that evaluates the following two functions for a given input value Î¸:</p>
<p>$<br>\begin{align}<br>&amp; J(\theta) \newline &amp; \dfrac{\partial}{\partial \theta_j}J(\theta)<br>\end{align}<br>$</p>
<p>We can write a single function that returns both of theseâ€¦</p>
<h2 id="7-Multiclass-Classification"><a href="#7-Multiclass-Classification" class="headerlink" title="7. Multiclass Classification"></a>7. Multiclass Classification</h2><p><img src="/images/ml/coursera/ml-ng-w3-09.png" alt="Multiclass"></p>
<p>$<br>\begin{align}<br>&amp; y \in \lbrace0, 1 â€¦ n\rbrace \newline&amp; h_\theta^{(0)}(x) = P(y = 0 | x ; \theta) \newline&amp; h_\theta^{(1)}(x) = P(y = 1 | x ; \theta) \newline&amp; \cdots \newline&amp; h_\theta^{(n)}(x) = P(y = n | x ; \theta) \newline&amp; \mathrm{prediction} = \max_i( h_\theta ^{(i)}(x) )\newline<br>\end{align}<br>$</p>
<p>Train a logistic regression classifier $h_\theta ^{(i)}(x)$ for each class $i$ to predict the probability that $y = i$ .</p>
<p>On a new input $x$, to make a prediction, pick the $i$ class that maximizes $\max_i( h_\theta ^{(i)}(x)$</p>
<p>@2017-02-10 review done.</p>
<h2 id="8-Regularization"><a href="#8-Regularization" class="headerlink" title="8. Regularization"></a>8. Regularization</h2><p><strong>The Problem of Overfitting</strong></p>
<p>Regularization is designed to address the problem of overfitting.</p>
<p><strong>High bias</strong> or <strong>underfitting</strong> is when the form of our hypothesis function h maps poorly to the trend of the data. It is usually caused by a function that is too simple or <strong>uses too few features</strong>. </p>
<p>eg. if we take $h_Î¸(x)=Î¸_0+Î¸_1 \cdot x_1+Î¸_2 \cdot x_2$ then we are making an initial assumption that a linear model will fit the training data well and will be able to generalize but that may not be the case.</p>
<p>At the other extreme, overfitting or high variance is caused by a hypothesis function that fits the available data but does not generalize well to predict new data. It is usually caused by a complicated function that creates a lot of unnecessary curves and angles unrelated to the data.</p>
<p><img src="/images/ml/coursera/ml-ng-w3-10.png" alt="Regularization"></p>
<p>This terminology is applied to both linear and logistic regression. There are two main options to address the issue of overfitting:</p>
<p>1) Reduce the number of features:</p>
<ul>
<li><p>a) Manually select which features to keep.</p>
</li>
<li><p>b) Use a model selection algorithm .</p>
</li>
</ul>
<p>2) Regularization</p>
<ul>
<li>Keep all the features, but reduce the parameters $Î¸_j$.</li>
</ul>
<p>Regularization works well when we have a lot of slightly useful features.</p>
<blockquote>
<p>to address æå‡ºï¼Œå»è§£å†³</p>
</blockquote>
<h2 id="9-Regularization-Cost-Function"><a href="#9-Regularization-Cost-Function" class="headerlink" title="9. Regularization Cost Function"></a>9. Regularization Cost Function</h2><p>If we have overfitting from our hypothesis function, we can reduce the weight that some of the terms in our function carry by increasing their cost.</p>
<p>Say we wanted to make the following function more quadratic [kwÉ’â€™drÃ¦tÉªk]:</p>
<p>$<br>\theta_0 + \theta_1x + \theta_2x^2 + \theta_3x^3 + \theta_4x^4<br>$</p>
<p>Weâ€™ll want to eliminate the influence of $\theta_3x^3$ and $\theta_4x^4$. Without actually getting rid of these features or changing the form of our hypothesis, we can instead modify our cost function:</p>
<p><strong>$<br>min_\theta\ \dfrac{1}{2m}\sum_{i=1}^m (h_\theta(x^{(i)}) - y^{(i)})^2 + 1000 \cdot \theta_3^2 + 1000\cdot\theta_4^2<br>$</strong></p>
<p>Weâ€™ve added two extra terms at the end to inflate the cost of $\theta_3$ and $\theta_4$. Now, in order for the cost function to get close to zero, we will have to reduce the values of $\theta_3$ and $\theta_4$ to near zero. This will in turn greatly reduce the values of $\theta_3x^3$ and $\theta_4x^4$ in our hypothesis function.</p>
<p>We could also regularize all of our theta parameters in a single summation:</p>
<p>$<br>min_\theta\ \dfrac{1}{2m}\ \left[ \sum_{i=1}^m (h_\theta(x^{(i)}) - y^{(i)})^2 + \lambda\ \sum_{j=1}^n \theta_j^2 \right]<br>$</p>
<p>The Î», or lambda, is the <strong>regularization parameter</strong>. It determines how much the costs of our theta parameters are inflated. </p>
<blockquote>
<p>You can visualize the effect of regularization in this interactive plot : <a href="https://www.desmos.com/calculator/1hexc8ntqp" target="_blank" rel="external">https://www.desmos.com/calculator/1hexc8ntqp</a></p>
</blockquote>
<p>Using the above cost function with the extra summation, we can smooth the output of our hypothesis function to reduce overfitting. If lambda is chosen to be too large, it may smooth out the function too much and cause underfitting.</p>
<blockquote>
<p>æˆ‘ä»¬å¯ä»¥å¹³æ»‘æˆ‘ä»¬çš„å‡è®¾å‡½æ•°çš„è¾“å‡ºï¼Œä»¥å‡å°‘è¿‡åº¦æ‹Ÿåˆ</p>
</blockquote>
<h2 id="10-Regularized-Linear"><a href="#10-Regularized-Linear" class="headerlink" title="10. Regularized Linear"></a>10. Regularized Linear</h2><h3 id="10-1-Gradient-Descent"><a href="#10-1-Gradient-Descent" class="headerlink" title="10.1 Gradient Descent"></a>10.1 Gradient Descent</h3><p>$<br>\begin{align}<br>&amp; \text{Repeat}\ \lbrace \newline<br>&amp; \ \ \ \ \theta_0 := \theta_0 - \alpha\ \frac{1}{m}\ \sum_{i=1}^m (h_\theta(x^{(i)}) - y^{(i)})x_0^{(i)} \newline<br>&amp; \ \ \ \ \theta_j := \theta_j - \alpha\ \left[ \left( \frac{1}{m}\ \sum_{i=1}^m (h_\theta(x^{(i)}) - y^{(i)})x_j^{(i)} \right) + \frac{\lambda}{m}\theta_j \right] &amp;\ \ \ \ \ \ \ \ \ \ j \in \lbrace 1,2â€¦n\rbrace\newline<br>&amp; \rbrace<br>\end{align}<br>$</p>
<p>The term $\frac{\lambda}{m}\theta_j$ performs our regularization.</p>
<p><strong>$<br>\theta_j := \theta_j(1 - \alpha\frac{\lambda}{m}) - \alpha\frac{1}{m}\sum_{i=1}^m(h_\theta(x^{(i)}) - y^{(i)})x_j^{(i)}<br>$</strong></p>
<p>The first term in the above equation, $1 - \alpha\frac{\lambda}{m}$ will always be less than 1. Intuitively you can see it as reducing the value of $\theta_j$ by some amount on every update.</p>
<h3 id="10-2-Normal-Equation"><a href="#10-2-Normal-Equation" class="headerlink" title="10.2 Normal Equation"></a>10.2 Normal Equation</h3><p>Use less, temporarily ignored</p>
<h2 id="11-Regularized-Logistic"><a href="#11-Regularized-Logistic" class="headerlink" title="11. Regularized Logistic"></a>11. Regularized Logistic</h2><p><strong>Cost Function</strong></p>
<p>$<br>J(\theta) = - \frac{1}{m} \sum_{i=1}^m \large[ y^{(i)}\ \log (h_\theta (x^{(i)})) + (1 - y^{(i)})\ \log (1 - h_\theta(x^{(i)})) \large]<br>$</p>
<p>We can regularize this equation by adding a term to the end:</p>
<p>$<br>J(\theta) = - \frac{1}{m} \sum_{i=1}^m \large[ y^{(i)}\ \log (h_\theta (x^{(i)})) + (1 - y^{(i)})\ \log (1 - h_\theta(x^{(i)}))\large] + \frac{\lambda}{2m}\sum_{j=1}^n \theta_j^2<br>$</p>
<p><strong>Gradient Descent</strong></p>
<p>Just like with linear regression, we will want to separately update $\theta_0$ and the rest of the parameters because we do not want to regularize $\theta_0$.</p>
<p>$<br>\begin{align}<br>&amp; \text{Repeat}\ \lbrace \newline&amp; \ \ \ \ \theta_0 := \theta_0 - \alpha\ \frac{1}{m}\ \sum_{i=1}^m (h_\theta(x^{(i)}) - y^{(i)})x_0^{(i)} \newline&amp; \ \ \ \ \theta_j := \theta_j - \alpha\ \left[ \left( \frac{1}{m}\ \sum_{i=1}^m (h_\theta(x^{(i)}) - y^{(i)})x_j^{(i)} \right) + \frac{\lambda}{m}\theta_j \right] &amp;\ \ \ \ \ \ \ \ \ \ j \in \lbrace 1,2â€¦n\rbrace\newline&amp; \rbrace\end{align}<br>$</p>
<h2 id="Reference-article"><a href="#Reference-article" class="headerlink" title="Reference article"></a>Reference article</h2><p><a href="https://www.kaggle.com/c/titanic" target="_blank" rel="external">Kaggle_Titanic</a></p>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[Going to a restaurant L1 Making a restaurant reservation]]></title>
      <url>http://iequa.com/2016/10/24/ef-l5u4-going-to-a-restaurant-l1/</url>
      <content type="html"><![CDATA[<h2 id="1-Vocabulary"><a href="#1-Vocabulary" class="headerlink" title="1. Vocabulary"></a>1. Vocabulary</h2><ul>
<li>specialty</li>
<li>authentic</li>
<li>reputation</li>
<li>reviews</li>
<li>a wide variety of  [vÉ™â€™raÉªÉ™tÉª]</li>
<li>choices</li>
<li>free parking</li>
<li>steak</li>
</ul>
<p><img src="/images/ef-l5u4l1.png" width="460" height="400" img=""></p>
<table>
<thead>
<tr>
<th>Dialog</th>
</tr>
</thead>
<tbody>
<tr>
<td>[PAM] So what <strong>do you feel like eating</strong> tonight?</td>
<td></td>
</tr>
<tr>
<td>[SALLY] I was hoping to try that new place on 10th Street - The Kitchen.</td>
<td></td>
</tr>
<tr>
<td>[PAM] Oh, yeah, Iâ€™ve heard about it. What kind of food do they have?</td>
<td></td>
</tr>
<tr>
<td>[SALLY] Seafoodâ€™s their specialty, I think.</td>
<td></td>
</tr>
<tr>
<td>[PAM] Can I get a <strong>steak</strong>?</td>
<td></td>
</tr>
<tr>
<td>[SALLY] Iâ€™m sure you can. And the <strong>prices are supposed to be very reasonable</strong>.</td>
<td></td>
</tr>
<tr>
<td>[PAM] Okay, letâ€™s go to The Kitchen.</td>
<td></td>
</tr>
<tr>
<td>[SALLY] Iâ€™ll give them a call. Let me just find the number â€¦ Here it is.</td>
<td></td>
</tr>
<tr>
<td>[RECEPTION] The Kitchen. Can I help you?</td>
<td></td>
</tr>
<tr>
<td>[SALLY] Yes. Iâ€™d like to make a reservation.</td>
<td></td>
</tr>
<tr>
<td>[RECEPTION] For toninght?</td>
<td></td>
</tr>
<tr>
<td>[SALLY] Yes. at 7.</td>
<td></td>
</tr>
<tr>
<td>[RECEPTION] Iâ€™m sorry. <strong>Our first opening tonight</strong> is at 8:30. <strong>Is that okay for you?</strong></td>
<td></td>
</tr>
<tr>
<td>[SALLY] Umm, itâ€™s a bit late. <strong>Let me check</strong>. Pam, their first openingâ€™s at 8:30. What do you think?</td>
<td></td>
</tr>
<tr>
<td>[PAM] Yeah, I think thatâ€™s okay.</td>
<td></td>
</tr>
<tr>
<td>[SALLY] Okay. Eight-thirty will work.</td>
<td></td>
</tr>
<tr>
<td>[RECEPTION] And how many people will that be?</td>
<td></td>
</tr>
<tr>
<td>[SALLY] Two people.</td>
<td></td>
</tr>
<tr>
<td>[RECEPTION] And whatâ€™s the name?</td>
<td></td>
</tr>
<tr>
<td>[SALLY] Sally Phillips.</td>
<td></td>
</tr>
<tr>
<td>[RECEPTION] Would you like indoor or outdoor seating?</td>
<td></td>
</tr>
<tr>
<td>[SALLY] Weâ€™d like to sit inside.</td>
<td></td>
</tr>
<tr>
<td>[RECEPTION] Okay. So thatâ€™s two people, inside, at 8:30, for Sally Phillips. Could you just give me your phone number?</td>
<td></td>
</tr>
<tr>
<td>[SALLY] Sure. Itâ€™s 589-3420.</td>
<td></td>
</tr>
<tr>
<td>[RECEPTION] Okay. See you at 8:30.</td>
<td></td>
</tr>
</tbody>
</table>
<h2 id="2-Expressions"><a href="#2-Expressions" class="headerlink" title="2. Expressions"></a>2. Expressions</h2><ul>
<li>Seafood is their specialty.</li>
<li>They serve <code>authentic Italian</code> food.</li>
<li>The menu has <strong>a wide variety of</strong> choices.</li>
<li>Whatâ€™s the <code>specialty</code> of the restaurant?</li>
<li>Do you think the prices are reasonable?</li>
</ul>
<h2 id="3-Reading"><a href="#3-Reading" class="headerlink" title="3. Reading"></a>3. Reading</h2><p>Zen Garden is a great <code>choice</code> for lunch or dinner. Their <strong>specialty  is vegetarian dishes</strong>, but there are also some lovely fish and chicken choices. The restaurant is very popular, and many people come <strong>for the authentic French desserts</strong>. The menu doesnâ€™t have <code>a wide variety of</code> choices, but everything is fresh and the prices are reasonable. Outdoor seating is available from June to August. Zen Garden is located at 1415 Grove Street. Call 760-434-9292 for reservations  .</p>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[Coursera Week 2 - Octave Tutorial By NG]]></title>
      <url>http://iequa.com/2016/10/21/ml-coursera-ng-w2-03/</url>
      <content type="html"><![CDATA[<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js"],
    jax: ["input/TeX"],
    tex2jax: {
      inlineMath: [ ['$','$'], ['\\(','\\)'] ],
      displayMath: [ ['$$','$$']],
      processEscapes: true
    }
  });
</script>
<script type="text/javascript" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS_HTML,http://myserver.com/MathJax/config/local/local.js">
</script>

<p>ML:Octave Tutorial</p>
<a id="more"></a>
<h2 id="1-Basic-Operations"><a href="#1-Basic-Operations" class="headerlink" title="1. Basic Operations"></a>1. Basic Operations</h2><figure class="highlight matlab"><table><tr><td class="code"><pre><span class="line"><span class="comment">%% Change Octave prompt  </span></span><br><span class="line">PS1(<span class="string">'&gt;&gt; '</span>);</span><br><span class="line"><span class="comment">%% Change working directory in windows example:</span></span><br><span class="line">cd <span class="string">'c:/path/to/desired/directory name'</span></span><br><span class="line"><span class="comment">%% Note that it uses normal slashes and does not use escape characters for the empty spaces.</span></span><br><span class="line"></span><br><span class="line"><span class="comment">%% elementary operations</span></span><br><span class="line"><span class="number">5</span>+<span class="number">6</span></span><br><span class="line"><span class="number">3</span><span class="number">-2</span></span><br><span class="line"><span class="number">5</span>*<span class="number">8</span></span><br><span class="line"><span class="number">1</span>/<span class="number">2</span></span><br><span class="line"><span class="number">2</span>^<span class="number">6</span></span><br><span class="line"><span class="number">1</span> == <span class="number">2</span> <span class="comment">% false</span></span><br><span class="line"><span class="number">1</span> ~= <span class="number">2</span> <span class="comment">% true.  note, not "!="</span></span><br><span class="line"><span class="number">1</span> &amp;&amp; <span class="number">0</span></span><br><span class="line"><span class="number">1</span> || <span class="number">0</span></span><br><span class="line">xor(<span class="number">1</span>,<span class="number">0</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">%% variable assignment</span></span><br><span class="line">a = <span class="number">3</span>; <span class="comment">% semicolon suppresses output</span></span><br><span class="line">b = <span class="string">'hi'</span>;</span><br><span class="line">c = <span class="number">3</span>&gt;=<span class="number">1</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">% Displaying them:</span></span><br><span class="line">a = <span class="built_in">pi</span></span><br><span class="line"><span class="built_in">disp</span>(a)</span><br><span class="line"><span class="built_in">disp</span>(sprintf(<span class="string">'2 decimals: %0.2f'</span>, a))</span><br><span class="line"><span class="built_in">disp</span>(sprintf(<span class="string">'6 decimals: %0.6f'</span>, a))</span><br><span class="line">format long</span><br><span class="line">a</span><br><span class="line">format short</span><br><span class="line">a</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">%%  vectors and matrices</span></span><br><span class="line">A = [<span class="number">1</span> <span class="number">2</span>; <span class="number">3</span> <span class="number">4</span>; <span class="number">5</span> <span class="number">6</span>]</span><br><span class="line"></span><br><span class="line">v = [<span class="number">1</span> <span class="number">2</span> <span class="number">3</span>]</span><br><span class="line">v = [<span class="number">1</span>; <span class="number">2</span>; <span class="number">3</span>]</span><br><span class="line">v = <span class="number">1</span>:<span class="number">0.1</span>:<span class="number">2</span>   <span class="comment">% from 1 to 2, with stepsize of 0.1. Useful for plot axes</span></span><br><span class="line">v = <span class="number">1</span>:<span class="number">6</span>       <span class="comment">% from 1 to 6, assumes stepsize of 1 (row vector)</span></span><br><span class="line"></span><br><span class="line">C = <span class="number">2</span>*<span class="built_in">ones</span>(<span class="number">2</span>,<span class="number">3</span>) <span class="comment">% same as C = [2 2 2; 2 2 2]</span></span><br><span class="line">w = <span class="built_in">ones</span>(<span class="number">1</span>,<span class="number">3</span>)   <span class="comment">% 1x3 vector of ones</span></span><br><span class="line">w = <span class="built_in">zeros</span>(<span class="number">1</span>,<span class="number">3</span>)</span><br><span class="line">w = <span class="built_in">rand</span>(<span class="number">1</span>,<span class="number">3</span>) <span class="comment">% drawn from a uniform distribution </span></span><br><span class="line">w = <span class="built_in">randn</span>(<span class="number">1</span>,<span class="number">3</span>)<span class="comment">% drawn from a normal distribution (mean=0, var=1)</span></span><br><span class="line">w = <span class="number">-6</span> + <span class="built_in">sqrt</span>(<span class="number">10</span>)*(<span class="built_in">randn</span>(<span class="number">1</span>,<span class="number">10000</span>));  <span class="comment">% (mean = -6, var = 10) - note: add the semicolon</span></span><br><span class="line">hist(w)    <span class="comment">% plot histogram using 10 bins (default)</span></span><br><span class="line">hist(w,<span class="number">50</span>) <span class="comment">% plot histogram using 50 bins</span></span><br><span class="line"><span class="comment">% note: if hist() crashes, try "graphics_toolkit('gnu_plot')" </span></span><br><span class="line"></span><br><span class="line">I = <span class="built_in">eye</span>(<span class="number">4</span>)   <span class="comment">% 4x4 identity matrix</span></span><br><span class="line"></span><br><span class="line"><span class="comment">% help function</span></span><br><span class="line">help <span class="built_in">eye</span></span><br><span class="line">help <span class="built_in">rand</span></span><br><span class="line">help help</span><br></pre></td></tr></table></figure>
<h2 id="2-Moving-Data-Around"><a href="#2-Moving-Data-Around" class="headerlink" title="2. Moving Data Around"></a>2. Moving Data Around</h2><figure class="highlight matlab"><table><tr><td class="code"><pre><span class="line"><span class="comment">%% dimensions</span></span><br><span class="line">sz = <span class="built_in">size</span>(A) <span class="comment">% 1x2 matrix: [(number of rows) (number of columns)]</span></span><br><span class="line"><span class="built_in">size</span>(A,<span class="number">1</span>) <span class="comment">% number of rows</span></span><br><span class="line"><span class="built_in">size</span>(A,<span class="number">2</span>) <span class="comment">% number of cols</span></span><br><span class="line"><span class="built_in">length</span>(v) <span class="comment">% size of longest dimension</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">%% loading data</span></span><br><span class="line">pwd   <span class="comment">% show current directory (current path)</span></span><br><span class="line">cd <span class="string">'C:\Users\ang\Octave files'</span>  <span class="comment">% change directory </span></span><br><span class="line">ls    <span class="comment">% list files in current directory </span></span><br><span class="line">load q1y.dat   <span class="comment">% alternatively, load('q1y.dat')</span></span><br><span class="line">load q1x.dat</span><br><span class="line">who   <span class="comment">% list variables in workspace</span></span><br><span class="line">whos  <span class="comment">% list variables in workspace (detailed view) </span></span><br><span class="line">clear q1y      <span class="comment">% clear command without any args clears all vars</span></span><br><span class="line">v = q1x(<span class="number">1</span>:<span class="number">10</span>); <span class="comment">% first 10 elements of q1x (counts down the columns)</span></span><br><span class="line">save hello.mat v;  <span class="comment">% save variable v into file hello.mat</span></span><br><span class="line">save hello.txt v -ascii; <span class="comment">% save as ascii</span></span><br><span class="line"><span class="comment">% fopen, fread, fprintf, fscanf also work  [[not needed in class]]</span></span><br><span class="line"></span><br><span class="line"><span class="comment">%% indexing</span></span><br><span class="line">A(<span class="number">3</span>,<span class="number">2</span>)  <span class="comment">% indexing is (row,col)</span></span><br><span class="line">A(<span class="number">2</span>,:)  <span class="comment">% get the 2nd row. </span></span><br><span class="line">        <span class="comment">% ":" means every element along that dimension</span></span><br><span class="line">A(:,<span class="number">2</span>)  <span class="comment">% get the 2nd col</span></span><br><span class="line">A([<span class="number">1</span> <span class="number">3</span>],:) <span class="comment">% print all  the elements of rows 1 and 3</span></span><br><span class="line"></span><br><span class="line">A(:,<span class="number">2</span>) = [<span class="number">10</span>; <span class="number">11</span>; <span class="number">12</span>]     <span class="comment">% change second column</span></span><br><span class="line">A = [A, [<span class="number">100</span>; <span class="number">101</span>; <span class="number">102</span>]]; <span class="comment">% append column vec</span></span><br><span class="line">A(:) <span class="comment">% Select all elements as a column vector.</span></span><br><span class="line"></span><br><span class="line"><span class="comment">% Putting data together </span></span><br><span class="line">A = [<span class="number">1</span> <span class="number">2</span>; <span class="number">3</span> <span class="number">4</span>; <span class="number">5</span> <span class="number">6</span>]</span><br><span class="line">B = [<span class="number">11</span> <span class="number">12</span>; <span class="number">13</span> <span class="number">14</span>; <span class="number">15</span> <span class="number">16</span>] <span class="comment">% same dims as A</span></span><br><span class="line">C = [A B]  <span class="comment">% concatenating A and B matrices side by side</span></span><br><span class="line">C = [A, B] <span class="comment">% concatenating A and B matrices side by side</span></span><br><span class="line">C = [A; B] <span class="comment">% Concatenating A and B top and bottom</span></span><br></pre></td></tr></table></figure>
<h2 id="3-Computing-on-Data"><a href="#3-Computing-on-Data" class="headerlink" title="3. Computing on Data"></a>3. Computing on Data</h2><figure class="highlight matlab"><table><tr><td class="code"><pre><span class="line"><span class="comment">%% initialize variables</span></span><br><span class="line">A = [<span class="number">1</span> <span class="number">2</span>;<span class="number">3</span> <span class="number">4</span>;<span class="number">5</span> <span class="number">6</span>]</span><br><span class="line">B = [<span class="number">11</span> <span class="number">12</span>;<span class="number">13</span> <span class="number">14</span>;<span class="number">15</span> <span class="number">16</span>]</span><br><span class="line">C = [<span class="number">1</span> <span class="number">1</span>;<span class="number">2</span> <span class="number">2</span>]</span><br><span class="line">v = [<span class="number">1</span>;<span class="number">2</span>;<span class="number">3</span>]</span><br><span class="line"></span><br><span class="line"><span class="comment">%% matrix operations</span></span><br><span class="line">A * C  <span class="comment">% matrix multiplication</span></span><br><span class="line">A .* B <span class="comment">% element-wise multiplication</span></span><br><span class="line"><span class="comment">% A .* C  or A * B gives error - wrong dimensions</span></span><br><span class="line">A .^ <span class="number">2</span> <span class="comment">% element-wise square of each element in A</span></span><br><span class="line"><span class="number">1.</span>/v   <span class="comment">% element-wise reciprocal</span></span><br><span class="line"><span class="built_in">log</span>(v)  <span class="comment">% functions like this operate element-wise on vecs or matrices </span></span><br><span class="line"><span class="built_in">exp</span>(v)</span><br><span class="line"><span class="built_in">abs</span>(v)</span><br><span class="line"></span><br><span class="line">-v  <span class="comment">% -1*v</span></span><br><span class="line"></span><br><span class="line">v + <span class="built_in">ones</span>(<span class="built_in">length</span>(v), <span class="number">1</span>)  </span><br><span class="line"><span class="comment">% v + 1  % same</span></span><br><span class="line"></span><br><span class="line">A'  <span class="comment">% matrix transpose</span></span><br><span class="line"></span><br><span class="line"><span class="comment">%% misc useful functions</span></span><br><span class="line"></span><br><span class="line"><span class="comment">% max  (or min)</span></span><br><span class="line">a = [<span class="number">1</span> <span class="number">15</span> <span class="number">2</span> <span class="number">0.5</span>]</span><br><span class="line">val = max(a)</span><br><span class="line">[val,ind] = max(a) <span class="comment">% val -  maximum element of the vector a and index - index value where maximum occur</span></span><br><span class="line">val = max(A) <span class="comment">% if A is matrix, returns max from each column</span></span><br><span class="line"></span><br><span class="line"><span class="comment">% compare values in a matrix &amp; find</span></span><br><span class="line">a &lt; <span class="number">3</span> <span class="comment">% checks which values in a are less than 3</span></span><br><span class="line"><span class="built_in">find</span>(a &lt; <span class="number">3</span>) <span class="comment">% gives location of elements less than 3</span></span><br><span class="line">A = <span class="built_in">magic</span>(<span class="number">3</span>) <span class="comment">% generates a magic matrix - not much used in ML algorithms</span></span><br><span class="line">[r,c] = <span class="built_in">find</span>(A&gt;=<span class="number">7</span>)  <span class="comment">% row, column indices for values matching comparison</span></span><br><span class="line"></span><br><span class="line"><span class="comment">% sum, prod</span></span><br><span class="line">sum(a)</span><br><span class="line">prod(a)</span><br><span class="line"><span class="built_in">floor</span>(a) <span class="comment">% or ceil(a)</span></span><br><span class="line">max(<span class="built_in">rand</span>(<span class="number">3</span>),<span class="built_in">rand</span>(<span class="number">3</span>))</span><br><span class="line">max(A,[],<span class="number">1</span>) -  maximum along columns(defaults to columns - max(A,[]))</span><br><span class="line">max(A,[],<span class="number">2</span>) - maximum along rows</span><br><span class="line">A = <span class="built_in">magic</span>(<span class="number">9</span>)</span><br><span class="line">sum(A,<span class="number">1</span>)</span><br><span class="line">sum(A,<span class="number">2</span>)</span><br><span class="line">sum(sum( A .* <span class="built_in">eye</span>(<span class="number">9</span>) ))</span><br><span class="line">sum(sum( A .* <span class="built_in">flipud</span>(<span class="built_in">eye</span>(<span class="number">9</span>)) ))</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">% Matrix inverse (pseudo-inverse)</span></span><br><span class="line">pinv(A)        <span class="comment">% inv(A'*A)*A'</span></span><br></pre></td></tr></table></figure>
<h2 id="4-Plotting-Data"><a href="#4-Plotting-Data" class="headerlink" title="4. Plotting Data"></a>4. Plotting Data</h2><figure class="highlight matlab"><table><tr><td class="code"><pre><span class="line">&gt;&gt; t=[<span class="number">0</span>:<span class="number">0.01</span>:<span class="number">0.98</span>];</span><br><span class="line">&gt;&gt; t</span><br><span class="line">t =</span><br><span class="line"></span><br><span class="line"> Columns <span class="number">1</span> through <span class="number">10</span>:</span><br><span class="line"></span><br><span class="line">   <span class="number">0.00000</span>   <span class="number">0.01000</span>   <span class="number">0.02000</span>   <span class="number">0.03000</span>   <span class="number">0.04000</span>   <span class="number">0.05000</span>   <span class="number">0.06000</span>   <span class="number">0.07000</span>   <span class="number">0.08000</span>   <span class="number">0.09000</span></span><br><span class="line"></span><br><span class="line"> Columns <span class="number">11</span> through <span class="number">20</span>:</span><br><span class="line"></span><br><span class="line">   <span class="number">0.10000</span>   <span class="number">0.11000</span>   <span class="number">0.12000</span>   <span class="number">0.13000</span>   <span class="number">0.14000</span>   <span class="number">0.15000</span>   <span class="number">0.16000</span>   <span class="number">0.17000</span>   <span class="number">0.18000</span>   <span class="number">0.19000</span></span><br><span class="line"></span><br><span class="line"> Columns <span class="number">21</span> through <span class="number">30</span>:</span><br><span class="line"></span><br><span class="line">   <span class="number">0.20000</span>   <span class="number">0.21000</span>   <span class="number">0.22000</span>   <span class="number">0.23000</span>   <span class="number">0.24000</span>   <span class="number">0.25000</span>   <span class="number">0.26000</span>   <span class="number">0.27000</span>   <span class="number">0.28000</span>   <span class="number">0.29000</span></span><br><span class="line"></span><br><span class="line"> Columns <span class="number">31</span> through <span class="number">40</span>:</span><br><span class="line"></span><br><span class="line">   <span class="number">0.30000</span>   <span class="number">0.31000</span>   <span class="number">0.32000</span>   <span class="number">0.33000</span>   <span class="number">0.34000</span>   <span class="number">0.35000</span>   <span class="number">0.36000</span>   <span class="number">0.37000</span>   <span class="number">0.38000</span>   <span class="number">0.39000</span></span><br><span class="line"></span><br><span class="line"> Columns <span class="number">41</span> through <span class="number">50</span>:</span><br><span class="line"></span><br><span class="line">   <span class="number">0.40000</span>   <span class="number">0.41000</span>   <span class="number">0.42000</span>   <span class="number">0.43000</span>   <span class="number">0.44000</span>   <span class="number">0.45000</span>   <span class="number">0.46000</span>   <span class="number">0.47000</span>   <span class="number">0.48000</span>   <span class="number">0.49000</span></span><br><span class="line"></span><br><span class="line"> Columns <span class="number">51</span> through <span class="number">60</span>:</span><br><span class="line"></span><br><span class="line">   <span class="number">0.50000</span>   <span class="number">0.51000</span>   <span class="number">0.52000</span>   <span class="number">0.53000</span>   <span class="number">0.54000</span>   <span class="number">0.55000</span>   <span class="number">0.56000</span>   <span class="number">0.57000</span>   <span class="number">0.58000</span>   <span class="number">0.59000</span></span><br><span class="line"></span><br><span class="line"> Columns <span class="number">61</span> through <span class="number">70</span>:</span><br><span class="line"></span><br><span class="line">   <span class="number">0.60000</span>   <span class="number">0.61000</span>   <span class="number">0.62000</span>   <span class="number">0.63000</span>   <span class="number">0.64000</span>   <span class="number">0.65000</span>   <span class="number">0.66000</span>   <span class="number">0.67000</span>   <span class="number">0.68000</span>   <span class="number">0.69000</span></span><br><span class="line"></span><br><span class="line"> Columns <span class="number">71</span> through <span class="number">80</span>:</span><br><span class="line"></span><br><span class="line">   <span class="number">0.70000</span>   <span class="number">0.71000</span>   <span class="number">0.72000</span>   <span class="number">0.73000</span>   <span class="number">0.74000</span>   <span class="number">0.75000</span>   <span class="number">0.76000</span>   <span class="number">0.77000</span>   <span class="number">0.78000</span>   <span class="number">0.79000</span></span><br><span class="line"></span><br><span class="line"> Columns <span class="number">81</span> through <span class="number">90</span>:</span><br><span class="line"></span><br><span class="line">   <span class="number">0.80000</span>   <span class="number">0.81000</span>   <span class="number">0.82000</span>   <span class="number">0.83000</span>   <span class="number">0.84000</span>   <span class="number">0.85000</span>   <span class="number">0.86000</span>   <span class="number">0.87000</span>   <span class="number">0.88000</span>   <span class="number">0.89000</span></span><br><span class="line"></span><br><span class="line"> Columns <span class="number">91</span> through <span class="number">99</span>:</span><br><span class="line"></span><br><span class="line">   <span class="number">0.90000</span>   <span class="number">0.91000</span>   <span class="number">0.92000</span>   <span class="number">0.93000</span>   <span class="number">0.94000</span>   <span class="number">0.95000</span>   <span class="number">0.96000</span>   <span class="number">0.97000</span>   <span class="number">0.98000</span></span><br><span class="line"></span><br><span class="line">&gt;&gt; y1=<span class="built_in">sin</span>(<span class="number">2</span>*<span class="built_in">pi</span>*<span class="number">4</span>*t);</span><br><span class="line">&gt;&gt; plot(t,y1)</span><br><span class="line">&gt;&gt; y2=<span class="built_in">cos</span>(<span class="number">2</span>*<span class="built_in">pi</span>*<span class="number">4</span>*t);</span><br><span class="line">&gt;&gt; plot(t,y2)</span><br><span class="line">&gt;&gt; hold on</span><br><span class="line">&gt;&gt; plot(t,y1)</span><br><span class="line">&gt;&gt; plot(t,y2,<span class="string">'r'</span>)</span><br><span class="line">&gt;&gt; xlabel(<span class="string">'time'</span>)</span><br><span class="line">&gt;&gt; ylabel(<span class="string">'value'</span>)</span><br><span class="line">&gt;&gt; legend(<span class="string">'sin'</span>,<span class="string">'cos'</span>)</span><br><span class="line">&gt;&gt; title(<span class="string">'my plot'</span>)</span><br><span class="line">&gt;&gt; print -dpng <span class="string">'myPlot.png'</span></span><br><span class="line">warning: print.m: fig2dev binary is not available.</span><br><span class="line">Some output formats are not available.</span><br></pre></td></tr></table></figure>
<figure class="highlight matlab"><table><tr><td class="code"><pre><span class="line">&gt;&gt; figure(<span class="number">2</span>); plot(t, y2)</span><br><span class="line">&gt;&gt; subplot(<span class="number">1</span>,<span class="number">2</span>,<span class="number">1</span>);</span><br><span class="line">&gt;&gt; plot(t,y1)</span><br><span class="line">&gt;&gt; subplot(<span class="number">1</span>,<span class="number">2</span>,<span class="number">2</span>)</span><br><span class="line">&gt;&gt; plot(t,y2)</span><br><span class="line">&gt;&gt; axis([<span class="number">0.5</span> <span class="number">1</span> <span class="number">-1</span> <span class="number">1</span>])</span><br></pre></td></tr></table></figure>
<p><img src="/images/ml/coursera/ml-ng-w2-11.png" alt="matric"></p>
<figure class="highlight matlab"><table><tr><td class="code"><pre><span class="line">&gt;&gt; clf;</span><br><span class="line">&gt;&gt; A = <span class="built_in">magic</span>(<span class="number">5</span>)</span><br><span class="line">A =</span><br><span class="line"></span><br><span class="line">   <span class="number">17</span>   <span class="number">24</span>    <span class="number">1</span>    <span class="number">8</span>   <span class="number">15</span></span><br><span class="line">   <span class="number">23</span>    <span class="number">5</span>    <span class="number">7</span>   <span class="number">14</span>   <span class="number">16</span></span><br><span class="line">    <span class="number">4</span>    <span class="number">6</span>   <span class="number">13</span>   <span class="number">20</span>   <span class="number">22</span></span><br><span class="line">   <span class="number">10</span>   <span class="number">12</span>   <span class="number">19</span>   <span class="number">21</span>    <span class="number">3</span></span><br><span class="line">   <span class="number">11</span>   <span class="number">18</span>   <span class="number">25</span>    <span class="number">2</span>    <span class="number">9</span></span><br><span class="line"></span><br><span class="line">&gt;&gt; imagesc(A)</span><br><span class="line">&gt;&gt; imagesc(A), colorbar, colormap gray;</span><br></pre></td></tr></table></figure>
<p><img src="/images/ml/coursera/ml-ng-w2-12.png" alt="matric"></p>
<figure class="highlight matlab"><table><tr><td class="code"><pre><span class="line">&gt;&gt; imagesc(<span class="built_in">magic</span>(<span class="number">15</span>)), colorbar, colormap gray;</span><br><span class="line">&gt;&gt; a=<span class="number">1</span>,b=<span class="number">2</span>,c=<span class="number">3</span></span><br><span class="line">a =  <span class="number">1</span></span><br><span class="line">b =  <span class="number">2</span></span><br><span class="line">c =  <span class="number">3</span></span><br></pre></td></tr></table></figure>
<p><img src="/images/ml/coursera/ml-ng-w2-13.png" alt="matric"></p>
<h2 id="5-Control-statements-for-while-if"><a href="#5-Control-statements-for-while-if" class="headerlink" title="5. Control statements:for,while,if"></a>5. Control statements:for,while,if</h2><figure class="highlight matlab"><table><tr><td class="code"><pre><span class="line">v = <span class="built_in">zeros</span>(<span class="number">10</span>,<span class="number">1</span>);</span><br><span class="line"><span class="keyword">for</span> <span class="built_in">i</span>=<span class="number">1</span>:<span class="number">10</span>, </span><br><span class="line">    v(<span class="built_in">i</span>) = <span class="number">2</span>^<span class="built_in">i</span>;</span><br><span class="line"><span class="keyword">end</span>;</span><br><span class="line"><span class="comment">% Can also use "break" and "continue" inside for and while loops to control execution.</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">i</span> = <span class="number">1</span>;</span><br><span class="line"><span class="keyword">while</span> <span class="built_in">i</span> &lt;= <span class="number">5</span>,</span><br><span class="line">  v(<span class="built_in">i</span>) = <span class="number">100</span>; </span><br><span class="line">  <span class="built_in">i</span> = <span class="built_in">i</span>+<span class="number">1</span>;</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">i</span> = <span class="number">1</span>;</span><br><span class="line"><span class="keyword">while</span> true, </span><br><span class="line">  v(<span class="built_in">i</span>) = <span class="number">999</span>; </span><br><span class="line">  <span class="built_in">i</span> = <span class="built_in">i</span>+<span class="number">1</span>;</span><br><span class="line">  <span class="keyword">if</span> <span class="built_in">i</span> == <span class="number">6</span>,</span><br><span class="line">    <span class="keyword">break</span>;</span><br><span class="line">  <span class="keyword">end</span>;</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> v(<span class="number">1</span>)==<span class="number">1</span>,</span><br><span class="line">  <span class="built_in">disp</span>(<span class="string">'The value is one!'</span>);</span><br><span class="line"><span class="keyword">elseif</span> v(<span class="number">1</span>)==<span class="number">2</span>,</span><br><span class="line">  <span class="built_in">disp</span>(<span class="string">'The value is two!'</span>);</span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">  <span class="built_in">disp</span>(<span class="string">'The value is not one or two!'</span>);</span><br><span class="line"><span class="keyword">end</span></span><br></pre></td></tr></table></figure>
<p>run example :</p>
<figure class="highlight matlab"><table><tr><td class="code"><pre><span class="line">&gt;&gt; <span class="built_in">i</span> = <span class="number">1</span>;</span><br><span class="line">&gt;&gt; <span class="keyword">while</span> <span class="built_in">i</span> &lt;= <span class="number">5</span>,</span><br><span class="line">     v(<span class="built_in">i</span>) = <span class="number">100</span>;</span><br><span class="line">     <span class="built_in">i</span> = <span class="built_in">i</span>+<span class="number">1</span>;</span><br><span class="line">   <span class="keyword">end</span>;</span><br><span class="line">&gt;&gt; v</span><br><span class="line">v =</span><br><span class="line"></span><br><span class="line">    <span class="number">100</span></span><br><span class="line">    <span class="number">100</span></span><br><span class="line">    <span class="number">100</span></span><br><span class="line">    <span class="number">100</span></span><br><span class="line">    <span class="number">100</span></span><br><span class="line">     <span class="number">64</span></span><br><span class="line">    <span class="number">128</span></span><br><span class="line">    <span class="number">256</span></span><br><span class="line">    <span class="number">512</span></span><br><span class="line">   <span class="number">1024</span></span><br><span class="line"></span><br><span class="line">&gt;&gt; <span class="built_in">i</span> = <span class="number">1</span>;</span><br><span class="line">&gt;&gt; <span class="keyword">while</span> true,</span><br><span class="line">     v(<span class="built_in">i</span>) = <span class="number">999</span>;</span><br><span class="line">     <span class="built_in">i</span> = <span class="built_in">i</span> + <span class="number">1</span>;</span><br><span class="line">     <span class="keyword">if</span> <span class="built_in">i</span> == <span class="number">6</span>,</span><br><span class="line">       <span class="keyword">break</span>;</span><br><span class="line">     <span class="keyword">end</span>;</span><br><span class="line">   <span class="keyword">end</span>;</span><br><span class="line">&gt;&gt; v</span><br><span class="line">v =</span><br><span class="line"></span><br><span class="line">    <span class="number">999</span></span><br><span class="line">    <span class="number">999</span></span><br><span class="line">    <span class="number">999</span></span><br><span class="line">    <span class="number">999</span></span><br><span class="line">    <span class="number">999</span></span><br><span class="line">     <span class="number">64</span></span><br><span class="line">    <span class="number">128</span></span><br><span class="line">    <span class="number">256</span></span><br><span class="line">    <span class="number">512</span></span><br><span class="line">   <span class="number">1024</span></span><br><span class="line">&gt;&gt; v(<span class="number">1</span>)</span><br><span class="line"><span class="built_in">ans</span> =  <span class="number">999</span></span><br><span class="line">&gt;&gt; v(<span class="number">1</span>) = <span class="number">2</span>;</span><br><span class="line">&gt;&gt; <span class="keyword">if</span> v(<span class="number">1</span>) == <span class="number">1</span>,</span><br><span class="line">     <span class="built_in">disp</span>(<span class="string">'The value is one'</span>);</span><br><span class="line">   <span class="keyword">elseif</span> v(<span class="number">1</span>) == <span class="number">2</span>,</span><br><span class="line">     <span class="built_in">disp</span>(<span class="string">'The value is two'</span>);</span><br><span class="line">   <span class="keyword">else</span></span><br><span class="line">     <span class="built_in">disp</span>(<span class="string">'The value is not 1 or 2'</span>);</span><br><span class="line">   <span class="keyword">end</span>;</span><br><span class="line">The value is two</span><br></pre></td></tr></table></figure>
<h2 id="6-Functions"><a href="#6-Functions" class="headerlink" title="6. Functions"></a>6. Functions</h2><p>To call the function in Octave, do either:</p>
<p>1) Navigate to the directory of the functionName.m file and call the function:</p>
<figure class="highlight"><table><tr><td class="code"><pre><span class="line">% Navigate to directory:</span><br><span class="line">  cd /path/to/function</span><br><span class="line"></span><br><span class="line">  % Call the function:</span><br><span class="line">  functionName(args)</span><br></pre></td></tr></table></figure>
<blockquote>
<p>simple compute line regression</p>
</blockquote>
<figure class="highlight matlab"><table><tr><td class="code"><pre><span class="line">&gt;&gt; x = [<span class="number">1</span> <span class="number">1</span>; <span class="number">1</span> <span class="number">2</span>; <span class="number">1</span> <span class="number">3</span>;]</span><br><span class="line">x =</span><br><span class="line"></span><br><span class="line">   <span class="number">1</span>   <span class="number">1</span></span><br><span class="line">   <span class="number">1</span>   <span class="number">2</span></span><br><span class="line">   <span class="number">1</span>   <span class="number">3</span></span><br><span class="line"></span><br><span class="line">&gt;&gt; y = [<span class="number">1</span>; <span class="number">2</span>; <span class="number">3</span>]</span><br><span class="line">y =</span><br><span class="line"></span><br><span class="line">   <span class="number">1</span></span><br><span class="line">   <span class="number">2</span></span><br><span class="line">   <span class="number">3</span></span><br><span class="line"></span><br><span class="line">&gt;&gt; theta = [<span class="number">0</span>;<span class="number">1</span>];</span><br><span class="line">&gt;&gt; <span class="built_in">j</span> = costFunctionJ(x,y,theta)</span><br><span class="line"><span class="built_in">j</span> = <span class="number">0</span></span><br><span class="line">&gt;&gt; theta = [<span class="number">0</span>:<span class="number">0</span>];</span><br><span class="line">&gt;&gt; <span class="built_in">j</span> = costFunctionJ(x, y, theta)</span><br><span class="line">warning: operator -: automatic broadcasting operation applied</span><br><span class="line"><span class="built_in">j</span> =</span><br><span class="line"></span><br><span class="line">   <span class="number">2.3333</span>   <span class="number">2.3333</span></span><br><span class="line">   <span class="number">2.3333</span>   <span class="number">2.3333</span></span><br></pre></td></tr></table></figure>
<blockquote>
<p>åº”è¯¥ä¸ºä¸€ä¸ª 2.3333ï¼Œ è€Œä¸æ˜¯çŸ©é˜µ 2.3333</p>
</blockquote>
<figure class="highlight matlab"><table><tr><td class="code"><pre><span class="line">&gt;&gt; (<span class="number">1</span>^<span class="number">2</span> + <span class="number">2</span>^<span class="number">2</span> + <span class="number">3</span>^<span class="number">2</span>) / (<span class="number">2</span>*<span class="number">3</span>)</span><br><span class="line"><span class="built_in">ans</span> =  <span class="number">2.3333</span></span><br><span class="line">&gt;&gt; [<span class="number">-1</span>,<span class="number">-2</span>,<span class="number">-3</span>]*[<span class="number">-1</span>;<span class="number">-2</span>;<span class="number">-3</span>]</span><br><span class="line"><span class="built_in">ans</span> =  <span class="number">14</span></span><br><span class="line">&gt;&gt; <span class="number">14</span> / <span class="number">6</span></span><br><span class="line"><span class="built_in">ans</span> =  <span class="number">2.3333</span></span><br><span class="line">&gt;&gt;</span><br></pre></td></tr></table></figure>
<h2 id="7-Vectorization"><a href="#7-Vectorization" class="headerlink" title="7. Vectorization"></a>7. Vectorization</h2><p>Vectorization is the process of taking code that relies on loops and converting it into matrix operations. It is more efficient, more elegant, and more concise.</p>
<p>As an example, letâ€™s compute our prediction from a hypothesis. Theta is the vector of fields for the hypothesis and x is a vector of variables.</p>
<p>With loops:</p>
<figure class="highlight matlab"><table><tr><td class="code"><pre><span class="line">prediction = <span class="number">0.0</span>;</span><br><span class="line"><span class="keyword">for</span> <span class="built_in">j</span> = <span class="number">1</span>:n+<span class="number">1</span>,</span><br><span class="line">  prediction += theta(<span class="built_in">j</span>) * x(<span class="built_in">j</span>);</span><br><span class="line"><span class="keyword">end</span>;</span><br></pre></td></tr></table></figure>
<p>With vectorization:</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">prediction = theta&apos; * x;</span><br></pre></td></tr></table></figure>
<h2 id="Reference-article"><a href="#Reference-article" class="headerlink" title="Reference article"></a>Reference article</h2><blockquote>
<ol>
<li>coursera week 2 learning notes</li>
<li><a href="http://blog.chenming.info/blog/2012/07/15/learn-octave/" target="_blank" rel="external">å­¦ä¹ ä¸€ç‚¹</a></li>
</ol>
</blockquote>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[Country And City]]></title>
      <url>http://iequa.com/2016/10/15/english-knowledge-map-l1/</url>
      <content type="html"><![CDATA[<p>knowledge map - country and city</p>
<h2 id="Country-And-City"><a href="#Country-And-City" class="headerlink" title="Country And City"></a>Country And City</h2><table>
<thead>
<tr>
<th>country</th>
<th>capital</th>
<th>main city</th>
</tr>
</thead>
<tbody>
<tr>
<td>Britainã€€</td>
<td>London</td>
<td>London</td>
</tr>
<tr>
<td>The United States</td>
<td>Washington</td>
<td>New Yorkã€Bostonã€Los Angelesã€San Franciscoã€Seattleã€Chicagoã€ Miamiã€Hawaii</td>
</tr>
<tr>
<td>Canada</td>
<td>Ottawa</td>
<td>Toronto [tÉ™â€™rÉ’ntÉ™ÊŠ]</td>
</tr>
<tr>
<td>Japan</td>
<td>Tokyo</td>
<td>Osakaã€Fukuokaã€Hokkaidoã€Nagoya</td>
</tr>
<tr>
<td>South Korea</td>
<td>Seoul [sÉ™ÊŠl]</td>
<td>Busan </td>
</tr>
<tr>
<td>Australien</td>
<td>Canberra</td>
<td>Sydneyã€Melbourne</td>
</tr>
<tr>
<td>New Zealand</td>
<td>Wellington</td>
<td>Auckland</td>
</tr>
<tr>
<td>Singapore</td>
<td>Singapore</td>
<td>Singapore</td>
</tr>
<tr>
<td>Malaysia</td>
<td>Kuala Lumpur</td>
<td>Kuala Lumpur [ËˆkwÉ‘:lÉ™ËˆlumpuÉ™]ã€Malacca</td>
</tr>
<tr>
<td>Thailand</td>
<td>Bangkok</td>
<td>chiengmaiã€huahinã€Phuketã€Pattaya</td>
</tr>
<tr>
<td>Philippines</td>
<td>Manila  [mÉ™â€™nilÉ™]</td>
</tr>
<tr>
<td>India</td>
<td>New Delhi [â€˜deli]</td>
<td></td>
</tr>
<tr>
<td>Indonesia</td>
<td>Jakarta</td>
<td></td>
</tr>
<tr>
<td>Spain [spein]</td>
<td>Madrid</td>
<td></td>
</tr>
<tr>
<td>Germany</td>
<td>Berlin</td>
<td>Munich [â€˜mju:nik]</td>
</tr>
<tr>
<td>France</td>
<td>Paris</td>
</tr>
<tr>
<td>Italy</td>
<td>Rome</td>
</tr>
<tr>
<td>Russia</td>
<td>Moscow</td>
</tr>
<tr>
<td>Mexico</td>
<td>Mexico</td>
</tr>
</tbody>
</table>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[Coursera Week 2 - Octave learning]]></title>
      <url>http://iequa.com/2016/10/12/ml-coursera-ng-w2-02/</url>
      <content type="html"><![CDATA[<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js"],
    jax: ["input/TeX"],
    tex2jax: {
      inlineMath: [ ['$','$'], ['\\(','\\)'] ],
      displayMath: [ ['$$','$$']],
      processEscapes: true
    }
  });
</script>
<script type="text/javascript" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS_HTML,http://myserver.com/MathJax/config/local/local.js">
</script>

<p>Octave Tutorial, Octave Learning</p>
<a id="more"></a>
<h2 id="1-var"><a href="#1-var" class="headerlink" title="1. var"></a>1. var</h2><blockquote>
<p>ä¸åƒmatlabæœ‰å›¾å½¢ç•Œé¢ï¼Œoctaveåªæä¾›äº†å‘½ä»¤è¡Œæ¥å£ã€‚ è¦å¯åŠ¨octaveï¼Œåªéœ€è¦åœ¨å‘½ä»¤è¡Œè¾“å…¥octaveå³å¯ã€‚</p>
</blockquote>
<figure class="highlight matlab"><table><tr><td class="code"><pre><span class="line">&gt;&gt; <span class="number">2</span> * (<span class="number">3</span> + <span class="number">5</span>)</span><br><span class="line"><span class="built_in">ans</span> =  <span class="number">16</span></span><br><span class="line">&gt;&gt; <span class="number">2</span> ^ (<span class="number">3</span> + <span class="number">5</span>)</span><br><span class="line"><span class="built_in">ans</span> =  <span class="number">256</span></span><br><span class="line">&gt;&gt; x = <span class="number">2</span> * <span class="number">3</span></span><br><span class="line">x =  <span class="number">6</span></span><br><span class="line">&gt;&gt; who</span><br><span class="line">Variables in the current scope:</span><br><span class="line"></span><br><span class="line"><span class="built_in">ans</span>  x</span><br><span class="line"></span><br><span class="line">&gt;&gt; <span class="built_in">disp</span>(x)</span><br><span class="line"> <span class="number">6</span></span><br><span class="line">&gt;&gt;</span><br></pre></td></tr></table></figure>
<h2 id="2-constant"><a href="#2-constant" class="headerlink" title="2. constant"></a>2. constant</h2><figure class="highlight matlab"><table><tr><td class="code"><pre><span class="line">&gt; <span class="built_in">pi</span></span><br><span class="line"><span class="built_in">ans</span> =  <span class="number">3.1416</span></span><br><span class="line">&gt;&gt; e</span><br><span class="line"><span class="built_in">ans</span> =  <span class="number">2.7183</span></span><br><span class="line">&gt;&gt; format long</span><br><span class="line">&gt;&gt; <span class="built_in">pi</span></span><br><span class="line"><span class="built_in">ans</span> =  <span class="number">3.14159265358979</span></span><br><span class="line">&gt;&gt; format short</span><br><span class="line">&gt;&gt; <span class="built_in">pi</span></span><br><span class="line"><span class="built_in">ans</span> =  <span class="number">3.1416</span></span><br><span class="line">&gt;&gt;</span><br></pre></td></tr></table></figure>
<blockquote>
<p>octaveç³»ç»Ÿå®šä¹‰äº†åœ†å‘¨ç‡piå’Œè‡ªç„¶æŒ‡æ•°eè¿™ä¸¤ä¸ªå¸¸é‡, octave å¯ä»¥å®šä¹‰æ˜¾ç¤ºç»“æœ</p>
</blockquote>
<figure class="highlight matlab"><table><tr><td class="code"><pre><span class="line">&gt;&gt; <span class="number">3</span>/<span class="number">0</span></span><br><span class="line">warning: division by zero</span><br><span class="line"><span class="built_in">ans</span> = Inf</span><br><span class="line">&gt;&gt; <span class="number">0</span>/<span class="number">0</span></span><br><span class="line">warning: division by zero</span><br><span class="line"><span class="built_in">ans</span> = NaN</span><br><span class="line">&gt;&gt;</span><br></pre></td></tr></table></figure>
<blockquote>
<p>ç³»ç»Ÿå®šä¹‰äº†Infå’ŒNaNï¼ˆæ³¨æ„è¦åŒºåˆ†å¤§å°å†™ï¼‰ã€‚Inf(Infinity)è¡¨ç¤ºè¢«é›¶é™¤çš„ç»“æœï¼ŒNaN(Not a Number)è¡¨ç¤ºé›¶é™¤é›¶çš„ç»“æœã€‚</p>
</blockquote>
<h2 id="3-workspace"><a href="#3-workspace" class="headerlink" title="3. workspace"></a>3. workspace</h2><p>ä½¿ç”¨saveå‘½ä»¤ä¿å­˜å½“å‰å·¥ä½œåŒºåˆ°æ–‡ä»¶ work1</p>
<figure class="highlight matlab"><table><tr><td class="code"><pre><span class="line">&gt;&gt; save work1</span><br><span class="line">&gt;&gt; load work1</span><br><span class="line">&gt;&gt; <span class="built_in">pi</span></span><br><span class="line"><span class="built_in">ans</span> =  <span class="number">3.1416</span></span><br></pre></td></tr></table></figure>
<h2 id="4-semicolon"><a href="#4-semicolon" class="headerlink" title="4. semicolon"></a>4. semicolon</h2><figure class="highlight matlab"><table><tr><td class="code"><pre><span class="line">octave:<span class="number">32</span>&gt; x = <span class="number">2</span> * <span class="number">3</span></span><br><span class="line">x =  <span class="number">6</span></span><br><span class="line">octave:<span class="number">33</span>&gt; x = <span class="number">2</span> * <span class="number">3</span>;</span><br><span class="line">octave:<span class="number">34</span>&gt; <span class="built_in">disp</span>(x)</span><br><span class="line"> <span class="number">6</span></span><br></pre></td></tr></table></figure>
<h2 id="5-matrix"><a href="#5-matrix" class="headerlink" title="5. matrix"></a>5. matrix</h2><p>çŸ©é˜µä½¿ç”¨æ–¹æ‹¬å·([])æ‹¬èµ·æ¥ï¼Œç»´åº¦ä½¿ç”¨åˆ†å·(;)åˆ†å‰²ã€‚ åŒä¸€ç»´åº¦ä¹‹é—´çš„åˆ†éš”ç¬¦å¯ä»¥æ˜¯ç©ºæ ¼æˆ–é€—å·(,)</p>
<figure class="highlight matlab"><table><tr><td class="code"><pre><span class="line">octave:<span class="number">35</span>&gt; x = [ <span class="number">2</span> <span class="number">3</span> <span class="number">5</span> ]</span><br><span class="line">x =</span><br><span class="line"></span><br><span class="line">   <span class="number">2</span>   <span class="number">3</span>   <span class="number">5</span></span><br><span class="line"></span><br><span class="line">octave:<span class="number">36</span>&gt; y = [ <span class="number">2</span>, <span class="number">3</span>, <span class="number">5</span> ]</span><br><span class="line">y =</span><br><span class="line"></span><br><span class="line">   <span class="number">2</span>   <span class="number">3</span>   <span class="number">5</span></span><br><span class="line"></span><br><span class="line">octave:<span class="number">37</span>&gt; z = [ <span class="number">2</span>; <span class="number">3</span>; <span class="number">5</span> ]</span><br><span class="line">z =</span><br><span class="line"></span><br><span class="line">   <span class="number">2</span></span><br><span class="line">   <span class="number">3</span></span><br><span class="line">   <span class="number">5</span></span><br><span class="line"></span><br><span class="line">octave:<span class="number">39</span>&gt; a = [ <span class="number">1</span> <span class="number">2</span>; <span class="number">1</span>, <span class="number">3</span>; <span class="number">1</span>   <span class="number">5</span> ]</span><br><span class="line">a =</span><br><span class="line"></span><br><span class="line">   <span class="number">1</span>   <span class="number">2</span></span><br><span class="line">   <span class="number">1</span>   <span class="number">3</span></span><br><span class="line">   <span class="number">1</span>   <span class="number">5</span></span><br></pre></td></tr></table></figure>
<p>ä½¿ç”¨å†’å·è¡¨è¾¾å¼å¿«é€Ÿæ„é€ è¿ç»­çš„å‘é‡</p>
<figure class="highlight matlab"><table><tr><td class="code"><pre><span class="line">octave:<span class="number">43</span>&gt; v = <span class="number">2</span>:<span class="number">5</span></span><br><span class="line">v =</span><br><span class="line"></span><br><span class="line">   <span class="number">2</span>   <span class="number">3</span>   <span class="number">4</span>   <span class="number">5</span></span><br><span class="line">   </span><br><span class="line">octave:<span class="number">44</span>&gt; v = <span class="number">2</span>:<span class="number">0.3</span>:<span class="number">3</span></span><br><span class="line">v =</span><br><span class="line"></span><br><span class="line">    <span class="number">2.0000</span>    <span class="number">2.3000</span>    <span class="number">2.6000</span>    <span class="number">2.9000</span></span><br></pre></td></tr></table></figure>
<p>æ„é€ çŸ©é˜µçš„å‡½æ•°</p>
<blockquote>
<p><code>linspace(start, end, N)</code> äº§ç”ŸNä¸ªå‡åŒ€åˆ†å¸ƒäºstartå’Œendä¹‹é—´çš„å‘é‡ã€‚ åœ¨ç»˜å›¾æ—¶ç”¨äºäº§ç”Ÿxåæ ‡ç‰¹åˆ«æœ‰ç”¨ã€‚</p>
<p><code>logspace(start, end, N)</code> äº§ç”ŸNä¸ªæŒ‡æ•°åˆ†å¸ƒäº10^startå’Œ10^endä¹‹é—´çš„å‘é‡ã€‚ åœ¨ç»˜å›¾æ—¶ç”¨äºäº§ç”Ÿxåæ ‡ç‰¹åˆ«æœ‰ç”¨ã€‚</p>
<p>zeros(M, N)</p>
<p>zeros(N) = zeros(N, N)ã€‚</p>
<p>ones(M, N)</p>
<p>ones(N) = ones(N, N)ã€‚</p>
<p>rand(M, N) å€¼ä½äº0~1çš„éšæœºæ•°çš„çŸ©é˜µã€‚</p>
<p>rand(N) = rand(N, N)ã€‚</p>
</blockquote>
<figure class="highlight matlab"><table><tr><td class="code"><pre><span class="line">octave:<span class="number">66</span>&gt; x = <span class="built_in">linspace</span> (<span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>)</span><br><span class="line">x =</span><br><span class="line"></span><br><span class="line"> Columns <span class="number">1</span> through <span class="number">4</span>:</span><br><span class="line"></span><br><span class="line">   <span class="number">3.00000000000000</span>   <span class="number">3.25000000000000</span>   <span class="number">3.50000000000000</span>   <span class="number">3.75000000000000</span></span><br><span class="line"></span><br><span class="line"> Column <span class="number">5</span>:</span><br><span class="line"></span><br><span class="line">   <span class="number">4.00000000000000</span></span><br><span class="line"></span><br><span class="line">octave:<span class="number">67</span>&gt; <span class="built_in">logspace</span> (<span class="number">1</span>, <span class="number">2</span>, <span class="number">6</span>)</span><br><span class="line"><span class="built_in">ans</span> =</span><br><span class="line"></span><br><span class="line"> Columns <span class="number">1</span> through <span class="number">4</span>:</span><br><span class="line"></span><br><span class="line">    <span class="number">10.0000000000000</span>    <span class="number">15.8489319246111</span>    <span class="number">25.1188643150958</span>    <span class="number">39.8107170553497</span></span><br><span class="line"></span><br><span class="line"> Columns <span class="number">5</span> and <span class="number">6</span>:</span><br><span class="line"></span><br><span class="line">    <span class="number">63.0957344480193</span>   <span class="number">100.0000000000000</span></span><br></pre></td></tr></table></figure>
<h2 id="6-matrix-operation"><a href="#6-matrix-operation" class="headerlink" title="6. matrix operation"></a>6. matrix operation</h2><figure class="highlight matlab"><table><tr><td class="code"><pre><span class="line">A + B</span><br><span class="line">A - B</span><br><span class="line">A * B</span><br><span class="line">A \ B</span><br></pre></td></tr></table></figure>
<p>è¯´æ˜ï¼šA\Bä¸ºçŸ©é˜µå·¦é™¤ï¼Œç”¨äºæ±‚è§£çº¿æ€§æ–¹ç¨‹Wx=bï¼Œå…¶ä¸­Wä¸ºä¸€ä¸ªnxnçš„çŸ©é˜µï¼Œbä¸ºä¸€ä¸ªnç»´çš„åˆ—å‘é‡ã€‚ æ±‚è§£çº¿æ€§æ–¹å¼ç¤ºä¾‹ï¼š</p>
<figure class="highlight matlab"><table><tr><td class="code"><pre><span class="line">octave:<span class="number">15</span>&gt; W = [<span class="number">1</span> <span class="number">1</span> <span class="number">1</span> <span class="number">1</span>; <span class="number">1</span> <span class="number">2</span> <span class="number">3</span> <span class="number">4</span>; <span class="number">3</span> <span class="number">4</span> <span class="number">6</span> <span class="number">2</span>; <span class="number">2</span> <span class="number">7</span> <span class="number">10</span> <span class="number">5</span>];</span><br><span class="line">octave:<span class="number">16</span>&gt; b = [<span class="number">3</span>; <span class="number">5</span>; <span class="number">5</span>; <span class="number">8</span>];</span><br><span class="line">octave:<span class="number">17</span>&gt; x = W\b</span><br><span class="line">x =</span><br><span class="line"></span><br><span class="line">   <span class="number">1.0000</span></span><br><span class="line">   <span class="number">3.0000</span></span><br><span class="line">  <span class="number">-2.0000</span></span><br><span class="line">   <span class="number">1.0000</span></span><br></pre></td></tr></table></figure>
<p><strong>6.1 matrix transpose</strong></p>
<figure class="highlight matlab"><table><tr><td class="code"><pre><span class="line">octave:<span class="number">9</span>&gt; x = <span class="built_in">rand</span>(<span class="number">3</span>)</span><br><span class="line">x =</span><br><span class="line"></span><br><span class="line">   <span class="number">0.0052581</span>   <span class="number">0.4446771</span>   <span class="number">0.3970036</span></span><br><span class="line">   <span class="number">0.7844458</span>   <span class="number">0.3317067</span>   <span class="number">0.9633000</span></span><br><span class="line">   <span class="number">0.0577080</span>   <span class="number">0.9015905</span>   <span class="number">0.0344771</span></span><br><span class="line"></span><br><span class="line">octave:<span class="number">10</span>&gt; x'</span><br><span class="line"><span class="built_in">ans</span> =</span><br><span class="line"></span><br><span class="line">   <span class="number">0.0052581</span>   <span class="number">0.7844458</span>   <span class="number">0.0577080</span></span><br><span class="line">   <span class="number">0.4446771</span>   <span class="number">0.3317067</span>   <span class="number">0.9015905</span></span><br><span class="line">   <span class="number">0.3970036</span>   <span class="number">0.9633000</span>   <span class="number">0.034477</span></span><br></pre></td></tr></table></figure>
<h2 id="7-plotting"><a href="#7-plotting" class="headerlink" title="7. plotting"></a>7. plotting</h2><figure class="highlight matlab"><table><tr><td class="code"><pre><span class="line">&gt;&gt; t=[<span class="number">0</span>:<span class="number">0.01</span>:<span class="number">0.98</span>];</span><br><span class="line">&gt;&gt; t</span><br><span class="line">t =</span><br><span class="line"></span><br><span class="line"> Columns <span class="number">1</span> through <span class="number">10</span>:</span><br><span class="line"></span><br><span class="line">   <span class="number">0.00000</span>   <span class="number">0.01000</span>   <span class="number">0.02000</span>   <span class="number">0.03000</span>   <span class="number">0.04000</span>   <span class="number">0.05000</span>   <span class="number">0.06000</span>   <span class="number">0.07000</span>   <span class="number">0.08000</span>   <span class="number">0.09000</span></span><br><span class="line"></span><br><span class="line"> Columns <span class="number">11</span> through <span class="number">20</span>:</span><br><span class="line"></span><br><span class="line">   <span class="number">0.10000</span>   <span class="number">0.11000</span>   <span class="number">0.12000</span>   <span class="number">0.13000</span>   <span class="number">0.14000</span>   <span class="number">0.15000</span>   <span class="number">0.16000</span>   <span class="number">0.17000</span>   <span class="number">0.18000</span>   <span class="number">0.19000</span></span><br><span class="line"></span><br><span class="line"> Columns <span class="number">21</span> through <span class="number">30</span>:</span><br><span class="line"></span><br><span class="line">   <span class="number">0.20000</span>   <span class="number">0.21000</span>   <span class="number">0.22000</span>   <span class="number">0.23000</span>   <span class="number">0.24000</span>   <span class="number">0.25000</span>   <span class="number">0.26000</span>   <span class="number">0.27000</span>   <span class="number">0.28000</span>   <span class="number">0.29000</span></span><br><span class="line"></span><br><span class="line"> Columns <span class="number">31</span> through <span class="number">40</span>:</span><br><span class="line"></span><br><span class="line">   <span class="number">0.30000</span>   <span class="number">0.31000</span>   <span class="number">0.32000</span>   <span class="number">0.33000</span>   <span class="number">0.34000</span>   <span class="number">0.35000</span>   <span class="number">0.36000</span>   <span class="number">0.37000</span>   <span class="number">0.38000</span>   <span class="number">0.39000</span></span><br><span class="line"></span><br><span class="line"> Columns <span class="number">41</span> through <span class="number">50</span>:</span><br><span class="line"></span><br><span class="line">   <span class="number">0.40000</span>   <span class="number">0.41000</span>   <span class="number">0.42000</span>   <span class="number">0.43000</span>   <span class="number">0.44000</span>   <span class="number">0.45000</span>   <span class="number">0.46000</span>   <span class="number">0.47000</span>   <span class="number">0.48000</span>   <span class="number">0.49000</span></span><br><span class="line"></span><br><span class="line"> Columns <span class="number">51</span> through <span class="number">60</span>:</span><br><span class="line"></span><br><span class="line">   <span class="number">0.50000</span>   <span class="number">0.51000</span>   <span class="number">0.52000</span>   <span class="number">0.53000</span>   <span class="number">0.54000</span>   <span class="number">0.55000</span>   <span class="number">0.56000</span>   <span class="number">0.57000</span>   <span class="number">0.58000</span>   <span class="number">0.59000</span></span><br><span class="line"></span><br><span class="line"> Columns <span class="number">61</span> through <span class="number">70</span>:</span><br><span class="line"></span><br><span class="line">   <span class="number">0.60000</span>   <span class="number">0.61000</span>   <span class="number">0.62000</span>   <span class="number">0.63000</span>   <span class="number">0.64000</span>   <span class="number">0.65000</span>   <span class="number">0.66000</span>   <span class="number">0.67000</span>   <span class="number">0.68000</span>   <span class="number">0.69000</span></span><br><span class="line"></span><br><span class="line"> Columns <span class="number">71</span> through <span class="number">80</span>:</span><br><span class="line"></span><br><span class="line">   <span class="number">0.70000</span>   <span class="number">0.71000</span>   <span class="number">0.72000</span>   <span class="number">0.73000</span>   <span class="number">0.74000</span>   <span class="number">0.75000</span>   <span class="number">0.76000</span>   <span class="number">0.77000</span>   <span class="number">0.78000</span>   <span class="number">0.79000</span></span><br><span class="line"></span><br><span class="line"> Columns <span class="number">81</span> through <span class="number">90</span>:</span><br><span class="line"></span><br><span class="line">   <span class="number">0.80000</span>   <span class="number">0.81000</span>   <span class="number">0.82000</span>   <span class="number">0.83000</span>   <span class="number">0.84000</span>   <span class="number">0.85000</span>   <span class="number">0.86000</span>   <span class="number">0.87000</span>   <span class="number">0.88000</span>   <span class="number">0.89000</span></span><br><span class="line"></span><br><span class="line"> Columns <span class="number">91</span> through <span class="number">99</span>:</span><br><span class="line"></span><br><span class="line">   <span class="number">0.90000</span>   <span class="number">0.91000</span>   <span class="number">0.92000</span>   <span class="number">0.93000</span>   <span class="number">0.94000</span>   <span class="number">0.95000</span>   <span class="number">0.96000</span>   <span class="number">0.97000</span>   <span class="number">0.98000</span></span><br><span class="line"></span><br><span class="line">&gt;&gt; y1=<span class="built_in">sin</span>(<span class="number">2</span>*<span class="built_in">pi</span>*<span class="number">4</span>*t);</span><br><span class="line">&gt;&gt; plot(t,y1)</span><br><span class="line">&gt;&gt; y2=<span class="built_in">cos</span>(<span class="number">2</span>*<span class="built_in">pi</span>*<span class="number">4</span>*t);</span><br><span class="line">&gt;&gt; plot(t,y2)</span><br><span class="line">&gt;&gt; hold on</span><br><span class="line">&gt;&gt; plot(t,y1)</span><br><span class="line">&gt;&gt; plot(t,y2,<span class="string">'r'</span>)</span><br><span class="line">&gt;&gt; xlabel(<span class="string">'time'</span>)</span><br><span class="line">&gt;&gt; ylabel(<span class="string">'value'</span>)</span><br><span class="line">&gt;&gt; legend(<span class="string">'sin'</span>,<span class="string">'cos'</span>)</span><br><span class="line">&gt;&gt; title(<span class="string">'my plot'</span>)</span><br><span class="line">&gt;&gt; print -dpng <span class="string">'myPlot.png'</span></span><br><span class="line">warning: print.m: fig2dev binary is not available.</span><br><span class="line">Some output formats are not available.</span><br></pre></td></tr></table></figure>
<figure class="highlight matlab"><table><tr><td class="code"><pre><span class="line">&gt;&gt; figure(<span class="number">2</span>); plot(t, y2)</span><br><span class="line">&gt;&gt; subplot(<span class="number">1</span>,<span class="number">2</span>,<span class="number">1</span>);</span><br><span class="line">&gt;&gt; plot(t,y1)</span><br><span class="line">&gt;&gt; subplot(<span class="number">1</span>,<span class="number">2</span>,<span class="number">2</span>)</span><br><span class="line">&gt;&gt; plot(t,y2)</span><br><span class="line">&gt;&gt; axis([<span class="number">0.5</span> <span class="number">1</span> <span class="number">-1</span> <span class="number">1</span>])</span><br></pre></td></tr></table></figure>
<p><img src="/images/ml/coursera/ml-ng-w2-11.png" alt="matric"></p>
<figure class="highlight matlab"><table><tr><td class="code"><pre><span class="line">&gt;&gt; clf;</span><br><span class="line">&gt;&gt; A = <span class="built_in">magic</span>(<span class="number">5</span>)</span><br><span class="line">A =</span><br><span class="line"></span><br><span class="line">   <span class="number">17</span>   <span class="number">24</span>    <span class="number">1</span>    <span class="number">8</span>   <span class="number">15</span></span><br><span class="line">   <span class="number">23</span>    <span class="number">5</span>    <span class="number">7</span>   <span class="number">14</span>   <span class="number">16</span></span><br><span class="line">    <span class="number">4</span>    <span class="number">6</span>   <span class="number">13</span>   <span class="number">20</span>   <span class="number">22</span></span><br><span class="line">   <span class="number">10</span>   <span class="number">12</span>   <span class="number">19</span>   <span class="number">21</span>    <span class="number">3</span></span><br><span class="line">   <span class="number">11</span>   <span class="number">18</span>   <span class="number">25</span>    <span class="number">2</span>    <span class="number">9</span></span><br><span class="line"></span><br><span class="line">&gt;&gt; imagesc(A)</span><br><span class="line">&gt;&gt; imagesc(A), colorbar, colormap gray;</span><br></pre></td></tr></table></figure>
<p><img src="/images/ml/coursera/ml-ng-w2-12.png" alt="matric"></p>
<figure class="highlight matlab"><table><tr><td class="code"><pre><span class="line">&gt;&gt; imagesc(<span class="built_in">magic</span>(<span class="number">15</span>)), colorbar, colormap gray;</span><br><span class="line">&gt;&gt; a=<span class="number">1</span>,b=<span class="number">2</span>,c=<span class="number">3</span></span><br><span class="line">a =  <span class="number">1</span></span><br><span class="line">b =  <span class="number">2</span></span><br><span class="line">c =  <span class="number">3</span></span><br></pre></td></tr></table></figure>
<p><img src="/images/ml/coursera/ml-ng-w2-13.png" alt="matric"></p>
<h2 id="8-ng"><a href="#8-ng" class="headerlink" title="8. ng"></a>8. ng</h2><figure class="highlight matlab"><table><tr><td class="code"><pre><span class="line">&gt;&gt; A = [<span class="number">1</span> <span class="number">2</span>; <span class="number">3</span> <span class="number">4</span>; <span class="number">5</span> <span class="number">6</span>;]</span><br><span class="line">A =</span><br><span class="line"></span><br><span class="line">   <span class="number">1</span>   <span class="number">2</span></span><br><span class="line">   <span class="number">3</span>   <span class="number">4</span></span><br><span class="line">   <span class="number">5</span>   <span class="number">6</span></span><br><span class="line">&gt;&gt; </span><br><span class="line">save hello.mat v; (å‹ç¼©æ¯”ä¾‹å¾ˆå¤§)</span><br><span class="line">save hello.txt v -ascii <span class="comment">% save as text(ASCII)</span></span><br><span class="line"></span><br><span class="line">&gt;&gt; who</span><br><span class="line">Variables in the current scope:</span><br><span class="line"></span><br><span class="line">A</span><br><span class="line"></span><br><span class="line">&gt;&gt; whos</span><br><span class="line">Variables in the current scope:</span><br><span class="line"></span><br><span class="line">   Attr Name        Size                     Bytes  Class</span><br><span class="line">   ==== ====        ====                     =====  =====</span><br><span class="line">        A           <span class="number">3</span>x2                         <span class="number">48</span>  double</span><br><span class="line"></span><br><span class="line">Total is <span class="number">6</span> elements using <span class="number">48</span> bytes</span><br><span class="line"></span><br><span class="line">&gt;&gt; clear</span><br><span class="line">&gt;&gt; A(<span class="number">3</span>,<span class="number">2</span>)</span><br><span class="line"><span class="built_in">ans</span> =  <span class="number">6</span></span><br><span class="line">&gt;&gt; A(:,<span class="number">2</span>)</span><br><span class="line"><span class="built_in">ans</span> =</span><br><span class="line"></span><br><span class="line">   <span class="number">2</span></span><br><span class="line">   <span class="number">4</span></span><br><span class="line">   <span class="number">6</span></span><br><span class="line"></span><br><span class="line">&gt;&gt; A(<span class="number">2</span>,:)</span><br><span class="line"><span class="built_in">ans</span> =</span><br><span class="line"></span><br><span class="line">   <span class="number">3</span>   <span class="number">4</span></span><br><span class="line"></span><br><span class="line">&gt;&gt; A</span><br><span class="line">A =</span><br><span class="line"></span><br><span class="line">   <span class="number">1</span>   <span class="number">2</span></span><br><span class="line">   <span class="number">3</span>   <span class="number">4</span></span><br><span class="line">   <span class="number">5</span>   <span class="number">6</span></span><br><span class="line"></span><br><span class="line">&gt;&gt; A([<span class="number">1</span> <span class="number">3</span>], :)</span><br><span class="line"><span class="built_in">ans</span> =</span><br><span class="line"></span><br><span class="line">   <span class="number">1</span>   <span class="number">2</span></span><br><span class="line">   <span class="number">5</span>   <span class="number">6</span></span><br><span class="line"></span><br><span class="line">&gt;&gt; A(:,<span class="number">2</span>)</span><br><span class="line"><span class="built_in">ans</span> =</span><br><span class="line"></span><br><span class="line">   <span class="number">2</span></span><br><span class="line">   <span class="number">4</span></span><br><span class="line">   <span class="number">6</span></span><br><span class="line"></span><br><span class="line">&gt;&gt; A(:,<span class="number">2</span>) = [<span class="number">10</span>; <span class="number">11</span>; <span class="number">12</span>]</span><br><span class="line">A =</span><br><span class="line"></span><br><span class="line">    <span class="number">1</span>   <span class="number">10</span></span><br><span class="line">    <span class="number">3</span>   <span class="number">11</span></span><br><span class="line">    <span class="number">5</span>   <span class="number">12</span></span><br><span class="line"></span><br><span class="line">&gt;&gt; A = [A, [<span class="number">100</span>; <span class="number">101</span>; <span class="number">102</span>]];</span><br><span class="line">&gt;&gt; A</span><br><span class="line">A =</span><br><span class="line"></span><br><span class="line">     <span class="number">1</span>    <span class="number">10</span>   <span class="number">100</span></span><br><span class="line">     <span class="number">3</span>    <span class="number">11</span>   <span class="number">101</span></span><br><span class="line">     <span class="number">5</span>    <span class="number">12</span>   <span class="number">102</span></span><br><span class="line"></span><br><span class="line">&gt;&gt; [<span class="number">100</span>;<span class="number">101</span>;<span class="number">102</span>]</span><br><span class="line"><span class="built_in">ans</span> =</span><br><span class="line"></span><br><span class="line">   <span class="number">100</span></span><br><span class="line">   <span class="number">101</span></span><br><span class="line">   <span class="number">102</span></span><br><span class="line"></span><br><span class="line">&gt;&gt; <span class="built_in">size</span>(A)</span><br><span class="line"><span class="built_in">ans</span> =</span><br><span class="line"></span><br><span class="line">   <span class="number">3</span>   <span class="number">3</span></span><br><span class="line"></span><br><span class="line">&gt;&gt; A(:)</span><br><span class="line"><span class="built_in">ans</span> =</span><br><span class="line"></span><br><span class="line">     <span class="number">1</span></span><br><span class="line">     <span class="number">3</span></span><br><span class="line">     <span class="number">5</span></span><br><span class="line">    <span class="number">10</span></span><br><span class="line">    <span class="number">11</span></span><br><span class="line">    <span class="number">12</span></span><br><span class="line">   <span class="number">100</span></span><br><span class="line">   <span class="number">101</span></span><br><span class="line">   <span class="number">102</span></span><br><span class="line"></span><br><span class="line">&gt;&gt; A = [<span class="number">1</span> <span class="number">2</span>; <span class="number">3</span> <span class="number">4</span>; <span class="number">5</span> <span class="number">6</span>;]</span><br><span class="line">A =</span><br><span class="line"></span><br><span class="line">   <span class="number">1</span>   <span class="number">2</span></span><br><span class="line">   <span class="number">3</span>   <span class="number">4</span></span><br><span class="line">   <span class="number">5</span>   <span class="number">6</span></span><br><span class="line"></span><br><span class="line">&gt;&gt; B = [<span class="number">11</span> <span class="number">12</span>; <span class="number">13</span> <span class="number">14</span>; <span class="number">15</span> <span class="number">16</span>]</span><br><span class="line">B =</span><br><span class="line"></span><br><span class="line">   <span class="number">11</span>   <span class="number">12</span></span><br><span class="line">   <span class="number">13</span>   <span class="number">14</span></span><br><span class="line">   <span class="number">15</span>   <span class="number">16</span></span><br><span class="line"></span><br><span class="line">&gt;&gt; C = [A B]</span><br><span class="line">C =</span><br><span class="line"></span><br><span class="line">    <span class="number">1</span>    <span class="number">2</span>   <span class="number">11</span>   <span class="number">12</span></span><br><span class="line">    <span class="number">3</span>    <span class="number">4</span>   <span class="number">13</span>   <span class="number">14</span></span><br><span class="line">    <span class="number">5</span>    <span class="number">6</span>   <span class="number">15</span>   <span class="number">16</span></span><br><span class="line"></span><br><span class="line">&gt;&gt; D = [A;B]</span><br><span class="line">D =</span><br><span class="line"></span><br><span class="line">    <span class="number">1</span>    <span class="number">2</span></span><br><span class="line">    <span class="number">3</span>    <span class="number">4</span></span><br><span class="line">    <span class="number">5</span>    <span class="number">6</span></span><br><span class="line">   <span class="number">11</span>   <span class="number">12</span></span><br><span class="line">   <span class="number">13</span>   <span class="number">14</span></span><br><span class="line">   <span class="number">15</span>   <span class="number">16</span></span><br><span class="line"></span><br><span class="line">&gt;&gt; <span class="built_in">size</span>(D)</span><br><span class="line"><span class="built_in">ans</span> =</span><br><span class="line"></span><br><span class="line">   <span class="number">6</span>   <span class="number">2</span></span><br><span class="line"></span><br><span class="line">&gt;&gt; [A, B]</span><br><span class="line"><span class="built_in">ans</span> =</span><br><span class="line"></span><br><span class="line">    <span class="number">1</span>    <span class="number">2</span>   <span class="number">11</span>   <span class="number">12</span></span><br><span class="line">    <span class="number">3</span>    <span class="number">4</span>   <span class="number">13</span>   <span class="number">14</span></span><br><span class="line">    <span class="number">5</span>    <span class="number">6</span>   <span class="number">15</span>   <span class="number">16</span></span><br><span class="line"></span><br><span class="line">&gt;&gt; [A B]</span><br><span class="line"><span class="built_in">ans</span> =</span><br><span class="line"></span><br><span class="line">    <span class="number">1</span>    <span class="number">2</span>   <span class="number">11</span>   <span class="number">12</span></span><br><span class="line">    <span class="number">3</span>    <span class="number">4</span>   <span class="number">13</span>   <span class="number">14</span></span><br><span class="line">    <span class="number">5</span>    <span class="number">6</span>   <span class="number">15</span>   <span class="number">16</span></span><br><span class="line"></span><br><span class="line">&gt;&gt;</span><br><span class="line">&gt;&gt;</span><br><span class="line">&gt;&gt;&gt;&gt; A .* B</span><br><span class="line"><span class="built_in">ans</span> =</span><br><span class="line"></span><br><span class="line">   <span class="number">11</span>   <span class="number">24</span></span><br><span class="line">   <span class="number">39</span>   <span class="number">56</span></span><br><span class="line">   <span class="number">75</span>   <span class="number">96</span></span><br><span class="line"></span><br><span class="line">&gt;&gt; A .^ <span class="number">2</span></span><br><span class="line"><span class="built_in">ans</span> =</span><br><span class="line"></span><br><span class="line">    <span class="number">1</span>    <span class="number">4</span></span><br><span class="line">    <span class="number">9</span>   <span class="number">16</span></span><br><span class="line">   <span class="number">25</span>   <span class="number">36</span></span><br><span class="line"></span><br><span class="line">&gt;&gt; v = [<span class="number">1</span>; <span class="number">2</span>; <span class="number">3</span>]</span><br><span class="line">v =</span><br><span class="line"></span><br><span class="line">   <span class="number">1</span></span><br><span class="line">   <span class="number">2</span></span><br><span class="line">   <span class="number">3</span></span><br><span class="line"></span><br><span class="line">&gt;&gt; <span class="number">1</span> ./ v</span><br><span class="line"><span class="built_in">ans</span> =</span><br><span class="line"></span><br><span class="line">   <span class="number">1.00000</span></span><br><span class="line">   <span class="number">0.50000</span></span><br><span class="line">   <span class="number">0.33333</span></span><br><span class="line"></span><br><span class="line">&gt;&gt; <span class="number">1</span> ./ A</span><br><span class="line"><span class="built_in">ans</span> =</span><br><span class="line"></span><br><span class="line">   <span class="number">1.00000</span>   <span class="number">0.50000</span></span><br><span class="line">   <span class="number">0.33333</span>   <span class="number">0.25000</span></span><br><span class="line">   <span class="number">0.20000</span>   <span class="number">0.16667</span></span><br><span class="line"></span><br><span class="line">&gt;&gt; <span class="built_in">log</span>(v)</span><br><span class="line"><span class="built_in">ans</span> =</span><br><span class="line"></span><br><span class="line">   <span class="number">0.00000</span></span><br><span class="line">   <span class="number">0.69315</span></span><br><span class="line">   <span class="number">1.09861</span></span><br><span class="line"></span><br><span class="line">&gt;&gt; <span class="built_in">exp</span>(v)</span><br><span class="line"><span class="built_in">ans</span> =</span><br><span class="line"></span><br><span class="line">    <span class="number">2.7183</span></span><br><span class="line">    <span class="number">7.3891</span></span><br><span class="line">   <span class="number">20.0855</span></span><br><span class="line"></span><br><span class="line">&gt;&gt; <span class="built_in">abs</span>(v)</span><br><span class="line"><span class="built_in">ans</span> =</span><br><span class="line"></span><br><span class="line">   <span class="number">1</span></span><br><span class="line">   <span class="number">2</span></span><br><span class="line">   <span class="number">3</span></span><br><span class="line"></span><br><span class="line">&gt;&gt; <span class="built_in">abs</span>([<span class="number">-1</span>; <span class="number">-2</span>; <span class="number">-3</span>])</span><br><span class="line"><span class="built_in">ans</span> =</span><br><span class="line"></span><br><span class="line">   <span class="number">1</span></span><br><span class="line">   <span class="number">2</span></span><br><span class="line">   <span class="number">3</span></span><br><span class="line"></span><br><span class="line">&gt;&gt; V = v</span><br><span class="line">V =</span><br><span class="line"></span><br><span class="line">   <span class="number">1</span></span><br><span class="line">   <span class="number">2</span></span><br><span class="line">   <span class="number">3</span></span><br><span class="line"></span><br><span class="line">&gt;&gt; V</span><br><span class="line">V =</span><br><span class="line"></span><br><span class="line">   <span class="number">1</span></span><br><span class="line">   <span class="number">2</span></span><br><span class="line">   <span class="number">3</span></span><br><span class="line"></span><br><span class="line">&gt;&gt; V</span><br><span class="line">V =</span><br><span class="line"></span><br><span class="line">   <span class="number">1</span></span><br><span class="line">   <span class="number">2</span></span><br><span class="line">   <span class="number">3</span></span><br><span class="line"></span><br><span class="line">&gt;&gt; -V</span><br><span class="line"><span class="built_in">ans</span> =</span><br><span class="line"></span><br><span class="line">  <span class="number">-1</span></span><br><span class="line">  <span class="number">-2</span></span><br><span class="line">  <span class="number">-3</span></span><br><span class="line"></span><br><span class="line">&gt;&gt; V + <span class="built_in">ones</span>(<span class="built_in">length</span>(V))</span><br><span class="line">warning: operator +: automatic broadcasting operation applied</span><br><span class="line"><span class="built_in">ans</span> =</span><br><span class="line"></span><br><span class="line">   <span class="number">2</span>   <span class="number">2</span>   <span class="number">2</span></span><br><span class="line">   <span class="number">3</span>   <span class="number">3</span>   <span class="number">3</span></span><br><span class="line">   <span class="number">4</span>   <span class="number">4</span>   <span class="number">4</span></span><br><span class="line"></span><br><span class="line">&gt;&gt; <span class="built_in">length</span>(V)</span><br><span class="line"><span class="built_in">ans</span> =  <span class="number">3</span></span><br><span class="line">&gt;&gt; <span class="built_in">ones</span>(<span class="number">3</span>,<span class="number">1</span>)</span><br><span class="line"><span class="built_in">ans</span> =</span><br><span class="line"></span><br><span class="line">   <span class="number">1</span></span><br><span class="line">   <span class="number">1</span></span><br><span class="line">   <span class="number">1</span></span><br><span class="line"></span><br><span class="line">&gt;&gt; V + <span class="built_in">ones</span>(<span class="number">3</span>, <span class="number">1</span>)</span><br><span class="line"><span class="built_in">ans</span> =</span><br><span class="line"></span><br><span class="line">   <span class="number">2</span></span><br><span class="line">   <span class="number">3</span></span><br><span class="line">   <span class="number">4</span></span><br><span class="line"></span><br><span class="line">&gt;&gt; V + <span class="number">2</span></span><br><span class="line"><span class="built_in">ans</span> =</span><br><span class="line"></span><br><span class="line">   <span class="number">3</span></span><br><span class="line">   <span class="number">4</span></span><br><span class="line">   <span class="number">5</span></span><br><span class="line"></span><br><span class="line">&gt;&gt; V</span><br><span class="line">V =</span><br><span class="line"></span><br><span class="line">   <span class="number">1</span></span><br><span class="line">   <span class="number">2</span></span><br><span class="line">   <span class="number">3</span></span><br><span class="line"></span><br><span class="line">&gt;&gt; A</span><br><span class="line">A =</span><br><span class="line"></span><br><span class="line">   <span class="number">1</span>   <span class="number">2</span></span><br><span class="line">   <span class="number">3</span>   <span class="number">4</span></span><br><span class="line">   <span class="number">5</span>   <span class="number">6</span></span><br><span class="line"></span><br><span class="line">&gt;&gt; A'</span><br><span class="line"><span class="built_in">ans</span> =</span><br><span class="line"></span><br><span class="line">   <span class="number">1</span>   <span class="number">3</span>   <span class="number">5</span></span><br><span class="line">   <span class="number">2</span>   <span class="number">4</span>   <span class="number">6</span></span><br><span class="line"></span><br><span class="line">&gt;&gt; a  = [<span class="number">1</span> <span class="number">15</span> <span class="number">2</span> <span class="number">0.5</span>]</span><br><span class="line">a =</span><br><span class="line"></span><br><span class="line">    <span class="number">1.00000</span>   <span class="number">15.00000</span>    <span class="number">2.00000</span>    <span class="number">0.50000</span></span><br><span class="line"></span><br><span class="line">&gt;&gt; val = max(a)</span><br><span class="line">val =  <span class="number">15</span></span><br><span class="line">&gt;&gt; [val, ind] = max(a)</span><br><span class="line">val =  <span class="number">15</span></span><br><span class="line">ind =  <span class="number">2</span></span><br><span class="line">&gt;&gt; max(A)</span><br><span class="line"><span class="built_in">ans</span> =</span><br><span class="line"></span><br><span class="line">   <span class="number">5</span>   <span class="number">6</span></span><br><span class="line"></span><br><span class="line">&gt;&gt; A</span><br><span class="line">A =</span><br><span class="line"></span><br><span class="line">   <span class="number">1</span>   <span class="number">2</span></span><br><span class="line">   <span class="number">3</span>   <span class="number">4</span></span><br><span class="line">   <span class="number">5</span>   <span class="number">6</span></span><br><span class="line"></span><br><span class="line">&gt;&gt; a</span><br><span class="line">a =</span><br><span class="line"></span><br><span class="line">    <span class="number">1.00000</span>   <span class="number">15.00000</span>    <span class="number">2.00000</span>    <span class="number">0.50000</span></span><br><span class="line"></span><br><span class="line">&gt;&gt; a &lt; <span class="number">3</span></span><br><span class="line"><span class="built_in">ans</span> =</span><br><span class="line"></span><br><span class="line">   <span class="number">1</span>   <span class="number">0</span>   <span class="number">1</span>   <span class="number">1</span></span><br><span class="line"></span><br><span class="line">&gt;&gt; <span class="built_in">find</span>(a &lt; <span class="number">3</span>)</span><br><span class="line"><span class="built_in">ans</span> =</span><br><span class="line"></span><br><span class="line">   <span class="number">1</span>   <span class="number">3</span>   <span class="number">4</span></span><br><span class="line"></span><br><span class="line">&gt;&gt; A = magix(<span class="number">3</span>)</span><br><span class="line">error: <span class="string">'magix'</span> undefined near line <span class="number">1</span> column <span class="number">5</span></span><br><span class="line">&gt;&gt; A = <span class="built_in">magic</span>(<span class="number">3</span>)</span><br><span class="line">A =</span><br><span class="line"></span><br><span class="line">   <span class="number">8</span>   <span class="number">1</span>   <span class="number">6</span></span><br><span class="line">   <span class="number">3</span>   <span class="number">5</span>   <span class="number">7</span></span><br><span class="line">   <span class="number">4</span>   <span class="number">9</span>   <span class="number">2</span></span><br><span class="line"></span><br><span class="line">&gt;&gt; [r, c] = <span class="built_in">find</span>(A &gt;= <span class="number">7</span>)</span><br><span class="line">r =</span><br><span class="line"></span><br><span class="line">   <span class="number">1</span></span><br><span class="line">   <span class="number">3</span></span><br><span class="line">   <span class="number">2</span></span><br><span class="line"></span><br><span class="line">c =</span><br><span class="line"></span><br><span class="line">   <span class="number">1</span></span><br><span class="line">   <span class="number">2</span></span><br><span class="line">   <span class="number">3</span></span><br><span class="line"></span><br><span class="line">&gt;&gt; A(<span class="number">2</span>,<span class="number">3</span>)</span><br><span class="line"><span class="built_in">ans</span> =  <span class="number">7</span></span><br><span class="line">&gt;&gt; sum(a)</span><br><span class="line"><span class="built_in">ans</span> =  <span class="number">18.500</span></span><br><span class="line">&gt;&gt; prod(a)</span><br><span class="line"><span class="built_in">ans</span> =  <span class="number">15</span></span><br><span class="line">&gt;&gt; <span class="built_in">floor</span>(a)</span><br><span class="line"><span class="built_in">ans</span> =</span><br><span class="line"></span><br><span class="line">    <span class="number">1</span>   <span class="number">15</span>    <span class="number">2</span>    <span class="number">0</span></span><br><span class="line"></span><br><span class="line">&gt;&gt; <span class="built_in">ceil</span>(a)</span><br><span class="line"><span class="built_in">ans</span> =</span><br><span class="line"></span><br><span class="line">    <span class="number">1</span>   <span class="number">15</span>    <span class="number">2</span>    <span class="number">1</span></span><br><span class="line"></span><br><span class="line">&gt;&gt; <span class="built_in">rand</span>(<span class="number">3</span>)</span><br><span class="line"><span class="built_in">ans</span> =</span><br><span class="line"></span><br><span class="line">   <span class="number">0.708800</span>   <span class="number">0.905101</span>   <span class="number">0.837562</span></span><br><span class="line">   <span class="number">0.264139</span>   <span class="number">0.265985</span>   <span class="number">0.671546</span></span><br><span class="line">   <span class="number">0.411435</span>   <span class="number">0.058028</span>   <span class="number">0.454436</span></span><br><span class="line"></span><br><span class="line">&gt;&gt; max(<span class="built_in">rand</span>(<span class="number">3</span>), <span class="built_in">rand</span>(<span class="number">3</span>))</span><br><span class="line"><span class="built_in">ans</span> =</span><br><span class="line"></span><br><span class="line">   <span class="number">0.87641</span>   <span class="number">0.74541</span>   <span class="number">0.92027</span></span><br><span class="line">   <span class="number">0.61292</span>   <span class="number">0.57756</span>   <span class="number">0.95694</span></span><br><span class="line">   <span class="number">0.26555</span>   <span class="number">0.76822</span>   <span class="number">0.63566</span></span><br><span class="line"></span><br><span class="line">&gt;&gt; A</span><br><span class="line">A =</span><br><span class="line"></span><br><span class="line">   <span class="number">8</span>   <span class="number">1</span>   <span class="number">6</span></span><br><span class="line">   <span class="number">3</span>   <span class="number">5</span>   <span class="number">7</span></span><br><span class="line">   <span class="number">4</span>   <span class="number">9</span>   <span class="number">2</span></span><br><span class="line"></span><br><span class="line">&gt;&gt; max(A, [], <span class="number">1</span>)</span><br><span class="line"><span class="built_in">ans</span> =</span><br><span class="line"></span><br><span class="line">   <span class="number">8</span>   <span class="number">9</span>   <span class="number">7</span></span><br><span class="line"></span><br><span class="line">&gt;&gt; max(A, [], <span class="number">2</span>)</span><br><span class="line"><span class="built_in">ans</span> =</span><br><span class="line"></span><br><span class="line">   <span class="number">8</span></span><br><span class="line">   <span class="number">7</span></span><br><span class="line">   <span class="number">9</span></span><br><span class="line"></span><br><span class="line">&gt;&gt; max(A)</span><br><span class="line"><span class="built_in">ans</span> =</span><br><span class="line"></span><br><span class="line">   <span class="number">8</span>   <span class="number">9</span>   <span class="number">7</span></span><br><span class="line"></span><br><span class="line">&gt;&gt; max(max(A))</span><br><span class="line"><span class="built_in">ans</span> =  <span class="number">9</span></span><br><span class="line">&gt;&gt; A(:)</span><br><span class="line"><span class="built_in">ans</span> =</span><br><span class="line"></span><br><span class="line">   <span class="number">8</span></span><br><span class="line">   <span class="number">3</span></span><br><span class="line">   <span class="number">4</span></span><br><span class="line">   <span class="number">1</span></span><br><span class="line">   <span class="number">5</span></span><br><span class="line">   <span class="number">9</span></span><br><span class="line">   <span class="number">6</span></span><br><span class="line">   <span class="number">7</span></span><br><span class="line">   <span class="number">2</span></span><br><span class="line"></span><br><span class="line">&gt;&gt; max(A(:))</span><br><span class="line"><span class="built_in">ans</span> =  <span class="number">9</span></span><br><span class="line">&gt;&gt;</span><br><span class="line">&gt;&gt;</span><br><span class="line">&gt;&gt; A = <span class="built_in">magic</span>(<span class="number">9</span>)</span><br><span class="line">A =</span><br><span class="line"></span><br><span class="line">   <span class="number">47</span>   <span class="number">58</span>   <span class="number">69</span>   <span class="number">80</span>    <span class="number">1</span>   <span class="number">12</span>   <span class="number">23</span>   <span class="number">34</span>   <span class="number">45</span></span><br><span class="line">   <span class="number">57</span>   <span class="number">68</span>   <span class="number">79</span>    <span class="number">9</span>   <span class="number">11</span>   <span class="number">22</span>   <span class="number">33</span>   <span class="number">44</span>   <span class="number">46</span></span><br><span class="line">   <span class="number">67</span>   <span class="number">78</span>    <span class="number">8</span>   <span class="number">10</span>   <span class="number">21</span>   <span class="number">32</span>   <span class="number">43</span>   <span class="number">54</span>   <span class="number">56</span></span><br><span class="line">   <span class="number">77</span>    <span class="number">7</span>   <span class="number">18</span>   <span class="number">20</span>   <span class="number">31</span>   <span class="number">42</span>   <span class="number">53</span>   <span class="number">55</span>   <span class="number">66</span></span><br><span class="line">    <span class="number">6</span>   <span class="number">17</span>   <span class="number">19</span>   <span class="number">30</span>   <span class="number">41</span>   <span class="number">52</span>   <span class="number">63</span>   <span class="number">65</span>   <span class="number">76</span></span><br><span class="line">   <span class="number">16</span>   <span class="number">27</span>   <span class="number">29</span>   <span class="number">40</span>   <span class="number">51</span>   <span class="number">62</span>   <span class="number">64</span>   <span class="number">75</span>    <span class="number">5</span></span><br><span class="line">   <span class="number">26</span>   <span class="number">28</span>   <span class="number">39</span>   <span class="number">50</span>   <span class="number">61</span>   <span class="number">72</span>   <span class="number">74</span>    <span class="number">4</span>   <span class="number">15</span></span><br><span class="line">   <span class="number">36</span>   <span class="number">38</span>   <span class="number">49</span>   <span class="number">60</span>   <span class="number">71</span>   <span class="number">73</span>    <span class="number">3</span>   <span class="number">14</span>   <span class="number">25</span></span><br><span class="line">   <span class="number">37</span>   <span class="number">48</span>   <span class="number">59</span>   <span class="number">70</span>   <span class="number">81</span>    <span class="number">2</span>   <span class="number">13</span>   <span class="number">24</span>   <span class="number">35</span></span><br><span class="line"></span><br><span class="line">&gt;&gt; sum(A,<span class="number">1</span>)</span><br><span class="line"><span class="built_in">ans</span> =</span><br><span class="line"></span><br><span class="line">   <span class="number">369</span>   <span class="number">369</span>   <span class="number">369</span>   <span class="number">369</span>   <span class="number">369</span>   <span class="number">369</span>   <span class="number">369</span>   <span class="number">369</span>   <span class="number">369</span></span><br><span class="line"></span><br><span class="line">&gt;&gt; sum(A,<span class="number">2</span>)</span><br><span class="line"><span class="built_in">ans</span> =</span><br><span class="line"></span><br><span class="line">   <span class="number">369</span></span><br><span class="line">   <span class="number">369</span></span><br><span class="line">   <span class="number">369</span></span><br><span class="line">   <span class="number">369</span></span><br><span class="line">   <span class="number">369</span></span><br><span class="line">   <span class="number">369</span></span><br><span class="line">   <span class="number">369</span></span><br><span class="line">   <span class="number">369</span></span><br><span class="line">   <span class="number">369</span></span><br><span class="line"></span><br><span class="line">&gt;&gt; <span class="built_in">eye</span>(<span class="number">9</span>)</span><br><span class="line"><span class="built_in">ans</span> =</span><br><span class="line"></span><br><span class="line">Diagonal Matrix</span><br><span class="line"></span><br><span class="line">   <span class="number">1</span>   <span class="number">0</span>   <span class="number">0</span>   <span class="number">0</span>   <span class="number">0</span>   <span class="number">0</span>   <span class="number">0</span>   <span class="number">0</span>   <span class="number">0</span></span><br><span class="line">   <span class="number">0</span>   <span class="number">1</span>   <span class="number">0</span>   <span class="number">0</span>   <span class="number">0</span>   <span class="number">0</span>   <span class="number">0</span>   <span class="number">0</span>   <span class="number">0</span></span><br><span class="line">   <span class="number">0</span>   <span class="number">0</span>   <span class="number">1</span>   <span class="number">0</span>   <span class="number">0</span>   <span class="number">0</span>   <span class="number">0</span>   <span class="number">0</span>   <span class="number">0</span></span><br><span class="line">   <span class="number">0</span>   <span class="number">0</span>   <span class="number">0</span>   <span class="number">1</span>   <span class="number">0</span>   <span class="number">0</span>   <span class="number">0</span>   <span class="number">0</span>   <span class="number">0</span></span><br><span class="line">   <span class="number">0</span>   <span class="number">0</span>   <span class="number">0</span>   <span class="number">0</span>   <span class="number">1</span>   <span class="number">0</span>   <span class="number">0</span>   <span class="number">0</span>   <span class="number">0</span></span><br><span class="line">   <span class="number">0</span>   <span class="number">0</span>   <span class="number">0</span>   <span class="number">0</span>   <span class="number">0</span>   <span class="number">1</span>   <span class="number">0</span>   <span class="number">0</span>   <span class="number">0</span></span><br><span class="line">   <span class="number">0</span>   <span class="number">0</span>   <span class="number">0</span>   <span class="number">0</span>   <span class="number">0</span>   <span class="number">0</span>   <span class="number">1</span>   <span class="number">0</span>   <span class="number">0</span></span><br><span class="line">   <span class="number">0</span>   <span class="number">0</span>   <span class="number">0</span>   <span class="number">0</span>   <span class="number">0</span>   <span class="number">0</span>   <span class="number">0</span>   <span class="number">1</span>   <span class="number">0</span></span><br><span class="line">   <span class="number">0</span>   <span class="number">0</span>   <span class="number">0</span>   <span class="number">0</span>   <span class="number">0</span>   <span class="number">0</span>   <span class="number">0</span>   <span class="number">0</span>   <span class="number">1</span></span><br><span class="line"></span><br><span class="line">&gt;&gt; A</span><br><span class="line">A =</span><br><span class="line"></span><br><span class="line">   <span class="number">47</span>   <span class="number">58</span>   <span class="number">69</span>   <span class="number">80</span>    <span class="number">1</span>   <span class="number">12</span>   <span class="number">23</span>   <span class="number">34</span>   <span class="number">45</span></span><br><span class="line">   <span class="number">57</span>   <span class="number">68</span>   <span class="number">79</span>    <span class="number">9</span>   <span class="number">11</span>   <span class="number">22</span>   <span class="number">33</span>   <span class="number">44</span>   <span class="number">46</span></span><br><span class="line">   <span class="number">67</span>   <span class="number">78</span>    <span class="number">8</span>   <span class="number">10</span>   <span class="number">21</span>   <span class="number">32</span>   <span class="number">43</span>   <span class="number">54</span>   <span class="number">56</span></span><br><span class="line">   <span class="number">77</span>    <span class="number">7</span>   <span class="number">18</span>   <span class="number">20</span>   <span class="number">31</span>   <span class="number">42</span>   <span class="number">53</span>   <span class="number">55</span>   <span class="number">66</span></span><br><span class="line">    <span class="number">6</span>   <span class="number">17</span>   <span class="number">19</span>   <span class="number">30</span>   <span class="number">41</span>   <span class="number">52</span>   <span class="number">63</span>   <span class="number">65</span>   <span class="number">76</span></span><br><span class="line">   <span class="number">16</span>   <span class="number">27</span>   <span class="number">29</span>   <span class="number">40</span>   <span class="number">51</span>   <span class="number">62</span>   <span class="number">64</span>   <span class="number">75</span>    <span class="number">5</span></span><br><span class="line">   <span class="number">26</span>   <span class="number">28</span>   <span class="number">39</span>   <span class="number">50</span>   <span class="number">61</span>   <span class="number">72</span>   <span class="number">74</span>    <span class="number">4</span>   <span class="number">15</span></span><br><span class="line">   <span class="number">36</span>   <span class="number">38</span>   <span class="number">49</span>   <span class="number">60</span>   <span class="number">71</span>   <span class="number">73</span>    <span class="number">3</span>   <span class="number">14</span>   <span class="number">25</span></span><br><span class="line">   <span class="number">37</span>   <span class="number">48</span>   <span class="number">59</span>   <span class="number">70</span>   <span class="number">81</span>    <span class="number">2</span>   <span class="number">13</span>   <span class="number">24</span>   <span class="number">35</span></span><br><span class="line"></span><br><span class="line">&gt;&gt; A .* <span class="built_in">eye</span>(<span class="number">9</span>)</span><br><span class="line"><span class="built_in">ans</span> =</span><br><span class="line"></span><br><span class="line">   <span class="number">47</span>    <span class="number">0</span>    <span class="number">0</span>    <span class="number">0</span>    <span class="number">0</span>    <span class="number">0</span>    <span class="number">0</span>    <span class="number">0</span>    <span class="number">0</span></span><br><span class="line">    <span class="number">0</span>   <span class="number">68</span>    <span class="number">0</span>    <span class="number">0</span>    <span class="number">0</span>    <span class="number">0</span>    <span class="number">0</span>    <span class="number">0</span>    <span class="number">0</span></span><br><span class="line">    <span class="number">0</span>    <span class="number">0</span>    <span class="number">8</span>    <span class="number">0</span>    <span class="number">0</span>    <span class="number">0</span>    <span class="number">0</span>    <span class="number">0</span>    <span class="number">0</span></span><br><span class="line">    <span class="number">0</span>    <span class="number">0</span>    <span class="number">0</span>   <span class="number">20</span>    <span class="number">0</span>    <span class="number">0</span>    <span class="number">0</span>    <span class="number">0</span>    <span class="number">0</span></span><br><span class="line">    <span class="number">0</span>    <span class="number">0</span>    <span class="number">0</span>    <span class="number">0</span>   <span class="number">41</span>    <span class="number">0</span>    <span class="number">0</span>    <span class="number">0</span>    <span class="number">0</span></span><br><span class="line">    <span class="number">0</span>    <span class="number">0</span>    <span class="number">0</span>    <span class="number">0</span>    <span class="number">0</span>   <span class="number">62</span>    <span class="number">0</span>    <span class="number">0</span>    <span class="number">0</span></span><br><span class="line">    <span class="number">0</span>    <span class="number">0</span>    <span class="number">0</span>    <span class="number">0</span>    <span class="number">0</span>    <span class="number">0</span>   <span class="number">74</span>    <span class="number">0</span>    <span class="number">0</span></span><br><span class="line">    <span class="number">0</span>    <span class="number">0</span>    <span class="number">0</span>    <span class="number">0</span>    <span class="number">0</span>    <span class="number">0</span>    <span class="number">0</span>   <span class="number">14</span>    <span class="number">0</span></span><br><span class="line">    <span class="number">0</span>    <span class="number">0</span>    <span class="number">0</span>    <span class="number">0</span>    <span class="number">0</span>    <span class="number">0</span>    <span class="number">0</span>    <span class="number">0</span>   <span class="number">35</span></span><br><span class="line"></span><br><span class="line">&gt;&gt; sum(sum(A .* <span class="built_in">eye</span>(<span class="number">9</span>)))</span><br><span class="line"><span class="built_in">ans</span> =  <span class="number">369</span></span><br><span class="line">&gt;&gt; <span class="built_in">flipud</span>(<span class="built_in">eye</span>(<span class="number">9</span>))</span><br><span class="line"><span class="built_in">ans</span> =</span><br><span class="line"></span><br><span class="line">Permutation Matrix</span><br><span class="line"></span><br><span class="line">   <span class="number">0</span>   <span class="number">0</span>   <span class="number">0</span>   <span class="number">0</span>   <span class="number">0</span>   <span class="number">0</span>   <span class="number">0</span>   <span class="number">0</span>   <span class="number">1</span></span><br><span class="line">   <span class="number">0</span>   <span class="number">0</span>   <span class="number">0</span>   <span class="number">0</span>   <span class="number">0</span>   <span class="number">0</span>   <span class="number">0</span>   <span class="number">1</span>   <span class="number">0</span></span><br><span class="line">   <span class="number">0</span>   <span class="number">0</span>   <span class="number">0</span>   <span class="number">0</span>   <span class="number">0</span>   <span class="number">0</span>   <span class="number">1</span>   <span class="number">0</span>   <span class="number">0</span></span><br><span class="line">   <span class="number">0</span>   <span class="number">0</span>   <span class="number">0</span>   <span class="number">0</span>   <span class="number">0</span>   <span class="number">1</span>   <span class="number">0</span>   <span class="number">0</span>   <span class="number">0</span></span><br><span class="line">   <span class="number">0</span>   <span class="number">0</span>   <span class="number">0</span>   <span class="number">0</span>   <span class="number">1</span>   <span class="number">0</span>   <span class="number">0</span>   <span class="number">0</span>   <span class="number">0</span></span><br><span class="line">   <span class="number">0</span>   <span class="number">0</span>   <span class="number">0</span>   <span class="number">1</span>   <span class="number">0</span>   <span class="number">0</span>   <span class="number">0</span>   <span class="number">0</span>   <span class="number">0</span></span><br><span class="line">   <span class="number">0</span>   <span class="number">0</span>   <span class="number">1</span>   <span class="number">0</span>   <span class="number">0</span>   <span class="number">0</span>   <span class="number">0</span>   <span class="number">0</span>   <span class="number">0</span></span><br><span class="line">   <span class="number">0</span>   <span class="number">1</span>   <span class="number">0</span>   <span class="number">0</span>   <span class="number">0</span>   <span class="number">0</span>   <span class="number">0</span>   <span class="number">0</span>   <span class="number">0</span></span><br><span class="line">   <span class="number">1</span>   <span class="number">0</span>   <span class="number">0</span>   <span class="number">0</span>   <span class="number">0</span>   <span class="number">0</span>   <span class="number">0</span>   <span class="number">0</span>   <span class="number">0</span></span><br><span class="line"></span><br><span class="line">&gt;&gt; sum(sum(A.*<span class="built_in">flipud</span>(<span class="built_in">eye</span>(<span class="number">9</span>))))</span><br><span class="line"><span class="built_in">ans</span> =  <span class="number">369</span></span><br><span class="line">&gt;&gt; A</span><br><span class="line">A =</span><br><span class="line"></span><br><span class="line">   <span class="number">47</span>   <span class="number">58</span>   <span class="number">69</span>   <span class="number">80</span>    <span class="number">1</span>   <span class="number">12</span>   <span class="number">23</span>   <span class="number">34</span>   <span class="number">45</span></span><br><span class="line">   <span class="number">57</span>   <span class="number">68</span>   <span class="number">79</span>    <span class="number">9</span>   <span class="number">11</span>   <span class="number">22</span>   <span class="number">33</span>   <span class="number">44</span>   <span class="number">46</span></span><br><span class="line">   <span class="number">67</span>   <span class="number">78</span>    <span class="number">8</span>   <span class="number">10</span>   <span class="number">21</span>   <span class="number">32</span>   <span class="number">43</span>   <span class="number">54</span>   <span class="number">56</span></span><br><span class="line">   <span class="number">77</span>    <span class="number">7</span>   <span class="number">18</span>   <span class="number">20</span>   <span class="number">31</span>   <span class="number">42</span>   <span class="number">53</span>   <span class="number">55</span>   <span class="number">66</span></span><br><span class="line">    <span class="number">6</span>   <span class="number">17</span>   <span class="number">19</span>   <span class="number">30</span>   <span class="number">41</span>   <span class="number">52</span>   <span class="number">63</span>   <span class="number">65</span>   <span class="number">76</span></span><br><span class="line">   <span class="number">16</span>   <span class="number">27</span>   <span class="number">29</span>   <span class="number">40</span>   <span class="number">51</span>   <span class="number">62</span>   <span class="number">64</span>   <span class="number">75</span>    <span class="number">5</span></span><br><span class="line">   <span class="number">26</span>   <span class="number">28</span>   <span class="number">39</span>   <span class="number">50</span>   <span class="number">61</span>   <span class="number">72</span>   <span class="number">74</span>    <span class="number">4</span>   <span class="number">15</span></span><br><span class="line">   <span class="number">36</span>   <span class="number">38</span>   <span class="number">49</span>   <span class="number">60</span>   <span class="number">71</span>   <span class="number">73</span>    <span class="number">3</span>   <span class="number">14</span>   <span class="number">25</span></span><br><span class="line">   <span class="number">37</span>   <span class="number">48</span>   <span class="number">59</span>   <span class="number">70</span>   <span class="number">81</span>    <span class="number">2</span>   <span class="number">13</span>   <span class="number">24</span>   <span class="number">35</span></span><br><span class="line"></span><br><span class="line">&gt;&gt; A = <span class="built_in">magic</span>(<span class="number">3</span>)</span><br><span class="line">A =</span><br><span class="line"></span><br><span class="line">   <span class="number">8</span>   <span class="number">1</span>   <span class="number">6</span></span><br><span class="line">   <span class="number">3</span>   <span class="number">5</span>   <span class="number">7</span></span><br><span class="line">   <span class="number">4</span>   <span class="number">9</span>   <span class="number">2</span></span><br><span class="line"></span><br><span class="line">&gt;&gt; temp = pinv(A)</span><br><span class="line">temp =</span><br><span class="line"></span><br><span class="line">   <span class="number">0.147222</span>  <span class="number">-0.144444</span>   <span class="number">0.063889</span></span><br><span class="line">  <span class="number">-0.061111</span>   <span class="number">0.022222</span>   <span class="number">0.105556</span></span><br><span class="line">  <span class="number">-0.019444</span>   <span class="number">0.188889</span>  <span class="number">-0.102778</span></span><br></pre></td></tr></table></figure>
<h2 id="Reference-article"><a href="#Reference-article" class="headerlink" title="Reference article"></a>Reference article</h2><blockquote>
<ol>
<li>coursera week 2 learning notes</li>
<li><a href="http://blog.chenming.info/blog/2012/07/15/learn-octave/" target="_blank" rel="external">å­¦ä¹ ä¸€ç‚¹</a></li>
</ol>
</blockquote>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[Coursera Week 2 - Linear Regression with Multiple Variables]]></title>
      <url>http://iequa.com/2016/10/08/ml-coursera-ng-w2-01-Linear-Regression/</url>
      <content type="html"><![CDATA[<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js"],
    jax: ["input/TeX"],
    tex2jax: {
      inlineMath: [ ['$','$'], ['\\(','\\)'] ],
      displayMath: [ ['$$','$$']],
      processEscapes: true
    }
  });
</script>
<script type="text/javascript" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS_HTML,http://myserver.com/MathJax/config/local/local.js">
</script>

<p>coursera week 2 - linear regression with multiple variables 1</p>
<a id="more"></a>
<h2 id="1-Multiple-Features"><a href="#1-Multiple-Features" class="headerlink" title="1. Multiple Features"></a>1. Multiple Features</h2><p><img src="/images/ml/coursera/ml-ng-w2-01.png" alt="Multiple Features"></p>
<p>$<br>\begin{align}x_j^{(i)} &amp;= \text{value of feature } j \text{ in the }i^{th}\text{ training example} \newline<br>x^{(i)}&amp; = \text{the column vector of all the feature inputs of the }i^{th}\text{ training example} \newline<br>m &amp;= \text{the number of training examples} \newline<br>n &amp;= \left| x^{(i)} \right| ; \text{(the number of features)} \end{align}<br>$</p>
<blockquote>
<p>Macdown Version 0.6.4 (786) MathJax the same this web</p>
</blockquote>
<h3 id="1-1-hypothesis-function"><a href="#1-1-hypothesis-function" class="headerlink" title="1.1 hypothesis function"></a>1.1 hypothesis function</h3><p>Now define the multivariable form of the hypothesis function as follows, accommodating these multiple features:</p>
<p>$<br>h_\theta (x) = \theta_0 + \theta_1 x_1 + \theta_2 x_2 + \theta_3 x_3 + \cdots + \theta_n x_n<br>$</p>
<p><strong>multivariable hypothesis function</strong></p>
<p>Using the definition of matrix multiplication, our multivariable hypothesis function can be concisely represented as:</p>
<blockquote>
<p>$<br>\begin{align}<br>h_\theta(x) =\begin{bmatrix}\theta_0 \hspace{2em}  \theta_1 \hspace{2em}  â€¦  \hspace{2em}  \theta_n\end{bmatrix}\begin{bmatrix}x_0 \newline x_1 \newline \vdots \newline x_n\end{bmatrix}= \theta^T x<br>\end{align}<br>$</p>
</blockquote>
<p>The training examples are stored in X row-wise, like such:</p>
<blockquote>
<p>$<br>\begin{align}<br>X =<br>\begin{bmatrix}x^{(1)}_0 &amp; x^{(1)}_1  \newline x^{(2)}_0 &amp; x^{(2)}_1  \newline<br>x^{(3)}_0 &amp; x^{(3)}_1 \end{bmatrix}&amp;,\theta = \begin{bmatrix}\theta_0 \newline<br>\theta_1 \newline<br>\end{bmatrix}<br>\end{align}<br>$</p>
</blockquote>
<p>You can calculate the hypothesis as a column vector of size (m x 1) with:</p>
<blockquote>
<p>$<br>h_\theta(X) = X \theta<br>$</p>
<p>For the rest of these notes,  X will represent a matrix of training examples $x_{(i)}$ </p>
</blockquote>
<h2 id="2-Cost-function"><a href="#2-Cost-function" class="headerlink" title="2. Cost function"></a>2. Cost function</h2><p>For the parameter vector Î¸ (of type $\mathbb{R}^{n+1}$ or in $\mathbb{R}^{(n+1) \times 1}$, the cost function is:</p>
<p>$<br>J(\theta) = \dfrac {1}{2m} \displaystyle \sum_{i=1}^m \left (h_\theta (x^{(i)}) - y^{(i)} \right)^2<br>$</p>
<p><code>The vectorized version is:</code></p>
<p>$<br>J(\theta) = \dfrac {1}{2m} (X\theta - \vec{y})^{T} (X\theta - \vec{y})<br>$</p>
<blockquote>
<p>vectorized version is very good!</p>
</blockquote>
<h2 id="3-Gradient-Desc-Multivariable"><a href="#3-Gradient-Desc-Multivariable" class="headerlink" title="3. Gradient Desc Multivariable"></a>3. Gradient Desc Multivariable</h2><p><code>Matrix Notation</code></p>
<p>The Gradient Descent rule can be expressed as:</p>
<p>$<br>\theta := \theta - \alpha \nabla J(\theta)<br>$</p>
<p>Where $\nabla J(\theta)$ is a column vector of the form:</p>
<p>$<br>\nabla J(\theta)  = \begin{bmatrix}\frac{\partial J(\theta)}{\partial \theta_0}   \newline \frac{\partial J(\theta)}{\partial \theta_1}   \newline \vdots   \newline \frac{\partial J(\theta)}{\partial \theta_n} \end{bmatrix}<br>$</p>
<p>The j-th component of the gradient is the summation of the product of two terms:</p>
<p>$<br>\begin{align}<br>\; &amp;\frac{\partial J(\theta)}{\partial \theta_j} &amp;=&amp;  \frac{1}{m} \sum\limits_{i=1}^{m}  \left(h_\theta(x^{(i)}) - y^{(i)} \right) \cdot x_j^{(i)} \newline<br>\; &amp; &amp;=&amp; \frac{1}{m} \sum\limits_{i=1}^{m}   x_j^{(i)} \cdot \left(h_\theta(x^{(i)}) - y^{(i)}  \right)<br>\end{align}<br>$</p>
<blockquote>
<p>åœ¨æ•°å­¦ä¸­ï¼Œä¸€ä¸ªå¤šå˜é‡çš„å‡½æ•°çš„åå¯¼æ•°æ˜¯å®ƒå…³äºå…¶ä¸­ä¸€ä¸ªå˜é‡çš„å¯¼æ•°ï¼Œè€Œä¿æŒå…¶ä»–å˜é‡æ’å®šã€‚</p>
</blockquote>
<p>Sometimes, the summation of the product of two terms can be expressed as the product of two vectors.</p>
<blockquote>
<p>$<br>\begin{align}\; &amp;\frac{\partial J(\theta)}{\partial \theta_j} = \frac1m  \vec{x_j}^{T} (X\theta - \vec{y}) \newline<br>&amp;\nabla J(\theta)  =  \frac 1m X^{T} (X\theta - \vec{y}) \newline<br>\end{align}<br>$</p>
</blockquote>
<p>Finally, the matrix notation (vectorized) of the Gradient Descent rule is:</p>
<p>$<br>\theta := \theta - \frac{\alpha}{m} X^{T} (X\theta - \vec{y})<br>$</p>
<p>The gradient descent equation itself is generally the same form; we just have to repeat it for our â€˜nâ€™ features:</p>
<p>$<br>\begin{align}<br>&amp; \text{repeat until convergence:} \; \lbrace \newline<br>\; &amp; \theta_0 := \theta_0 - \alpha \frac{1}{m} \sum\limits_{i=1}^{m}  (h_\theta(x^{(i)}) - y^{(i)}) \cdot x_0^{(i)}\newline<br>\; &amp; \theta_1 := \theta_1 - \alpha \frac{1}{m} \sum\limits_{i=1}^{m} (h_\theta(x^{(i)}) - y^{(i)}) \cdot x_1^{(i)} \newline<br>\; &amp; \theta_2 := \theta_2 - \alpha \frac{1}{m} \sum\limits_{i=1}^{m} (h_\theta(x^{(i)}) - y^{(i)}) \cdot x_2^{(i)} \newline<br>&amp; \cdots<br>\newline \rbrace<br>\end{align}<br>$</p>
<p>In other words:</p>
<p>$<br>\begin{align}<br>&amp; \text{repeat until convergence:} \; \lbrace \newline \;<br>&amp; \theta_j := \theta_j - \alpha \frac{1}{m} \sum\limits_{i=1}^{m} (h_\theta(x^{(i)}) - y^{(i)}) \cdot x_j^{(i)} \;  &amp; \text{for j := 0..n}<br>\newline \rbrace<br>\end{align}<br>$</p>
<h3 id="3-1-Feature-Scaling"><a href="#3-1-Feature-Scaling" class="headerlink" title="3.1 Feature Scaling"></a>3.1 Feature Scaling</h3><p>Idea : Make sure features are on a similar scale ç‰¹å¾ç¼©æ”¾</p>
<p><img src="/images/ml/coursera/ml-ng-w2-02.png" alt="Multiple Features"></p>
<blockquote>
<p>Get every feature into approximately a $-1 \leq x_i \leq 1$ range.</p>
<p>Replace $x_i$ with $x_i - u_i$ to make features have approximately zero mean (Do not apply to $x_0$ = 1).</p>
<p>å¦‚æœå¤šä¸ªç‰¹å¾å€¼ï¼Œå¤§å¤šå¤„åœ¨ä¸€ä¸ªç›¸è¿‘çš„èŒƒå›´ï¼Œæ¢¯åº¦ä¸‹é™å°±èƒ½æ›´å¿«çš„æ”¶æ•›ã€‚</p>
</blockquote>
<p>å› ä¸º 2000/5 æ¯”è¾ƒå¤§ï¼Œæ‰€ä»¥è½®å»“å›¾ï¼Œä½¿å¾—æ¤­åœ†æ›´åŠ çš„ç˜¦é•¿ï¼Œå¥½æ¯” $J(\theta)$ æ”¶æ•›çš„æ›´æ…¢ã€‚</p>
<h3 id="3-2-learning-rate"><a href="#3-2-learning-rate" class="headerlink" title="3.2 learning rate"></a>3.2 learning rate</h3><p>$<br>\begin{align}<br>\theta_j := \theta_j - \alpha \frac{\partial}{\partial \theta_j} J(\theta)<br>\end{align}<br>$</p>
<ul>
<li>Debugging : How to make sure gradient descent is working correctly</li>
<li>How to choose learning rate $\alpha$</li>
</ul>
<p><img src="/images/ml/coursera/ml-ng-w2-03.png" alt="Multiple Features"></p>
<p><strong>Summary</strong></p>
<ul>
<li>if $\alpha$ is too small: slow convergence [kÉ™nâ€™vÉœËdÊ’É™ns] æ”¶æ•›</li>
<li>if $\alpha$ is too large: $J(\theta)$ may not decrease on every iteration; may not converge.</li>
</ul>
<p>To choose $\alpha$, try</p>
<p>â€¦, 0.001, 0.01, 0.1, 1, â€¦</p>
<h2 id="4-Polynomial-Regression"><a href="#4-Polynomial-Regression" class="headerlink" title="4. Polynomial Regression"></a>4. Polynomial Regression</h2><p><img src="/images/ml/coursera/ml-ng-w2-04.png" alt="Polynomial"></p>
<h3 id="4-1-Polynomial-Regression"><a href="#4-1-Polynomial-Regression" class="headerlink" title="4.1 Polynomial Regression"></a>4.1 Polynomial Regression</h3><p><img src="/images/ml/coursera/ml-ng-w2-05.png" alt="Polynomial [,pÉ’lÉª&#39;nÉ™ÊŠmÉªÉ™l]"></p>
<blockquote>
<p>Feature normalization is very important</p>
</blockquote>
<h3 id="4-2-Choice-of-features"><a href="#4-2-Choice-of-features" class="headerlink" title="4.2 Choice of features"></a>4.2 Choice of features</h3><p><img src="/images/ml/coursera/ml-ng-w2-06.png" alt="Choice of features"></p>
<p>@2017-02-10 review done</p>
<h2 id="5-Normal-Equation"><a href="#5-Normal-Equation" class="headerlink" title="5. Normal Equation"></a>5. Normal Equation</h2><p><img src="/images/ml/coursera/ml-ng-w2-07.png" alt="Normal Equation"></p>
<blockquote>
<p>$\theta = (X^T X)^{-1}X^T y$</p>
</blockquote>
<h3 id="5-1-num-and-vector"><a href="#5-1-num-and-vector" class="headerlink" title="5.1 num and vector"></a>5.1 num and vector</h3><p><img src="/images/ml/coursera/ml-ng-w2-08.png" alt="Normal Equation"></p>
<blockquote>
<p>$<br>J(\theta) = \dfrac {1}{2m} (X\theta - \vec{y})^{T} (X\theta - \vec{y})<br>$</p>
<p>$<br>\begin{align}\; &amp;\frac{\partial J(\theta)}{\partial \theta_j} = \frac1m  \vec{x_j}^{T} (X\theta - \vec{y}) \newline<br>&amp;\nabla J(\theta)  =  \frac 1m X^{T} (X\theta - \vec{y}) \newline<br>\end{align}<br>$</p>
</blockquote>
<h3 id="5-2-house-price-example"><a href="#5-2-house-price-example" class="headerlink" title="5.2 house price example"></a>5.2 house price example</h3><p><img src="/images/ml/coursera/ml-ng-w2-09.png" alt="Normal Equation"></p>
<blockquote>
<p>$<br>\begin{align}<br>\nabla J(\theta)  =  \frac 1m X^{T} (X\theta - \vec{y}) \newline<br>\end{align}<br>$</p>
<p>ä»¤ $\nabla J(\theta)  =  0 $</p>
<p>So, $\theta = (X^T X)^{-1}X^T y $</p>
</blockquote>
<h3 id="5-3-m-training-n-features"><a href="#5-3-m-training-n-features" class="headerlink" title="5.3 $m$ training, $n$ features"></a>5.3 $m$ training, $n$ features</h3><table>
<thead>
<tr>
<th>Gradient Descent</th>
<th>Normal Equation</th>
</tr>
</thead>
<tbody>
<tr>
<td>Need to choose $\alpha$</td>
<td>No need to choose $\alpha$ </td>
</tr>
<tr>
<td>Needs many iterations</td>
<td>Donâ€™t need to iterate</td>
</tr>
<tr>
<td>Works well even when $n$ is large</td>
<td>Slow if $n$ is very large</td>
</tr>
</tbody>
</table>
<blockquote>
<p>it is usually around ten thousand that I might start to consider switching over to gradient descents or maybe, some other algorithms that weâ€™ll talk about later in this class</p>
</blockquote>
<h3 id="5-4-X-T-X-is-non-invertible"><a href="#5-4-X-T-X-is-non-invertible" class="headerlink" title="5.4 $X^T X$ is non-invertible"></a>5.4 $X^T X$ is non-invertible</h3><p> $\theta = (X^T X)^{-1}X^T y $</p>
<p>What $X^T X$ is non-invertible? ï¼ˆsingular / degenerateï¼‰</p>
<blockquote>
<p>When $X^T X$ is non-invertible, this is very few.</p>
</blockquote>
<p><strong>What $X^T X$ is non-invertible?</strong></p>
<p><img src="/images/ml/coursera/ml-ng-w2-10.png" alt="non-invertible"></p>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[Coursera Week 1 - Linear Algebra Matrices And Vectors]]></title>
      <url>http://iequa.com/2016/09/30/ml-coursera-ng-w1-03-Linear-Algebra/</url>
      <content type="html"><![CDATA[<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js"],
    jax: ["input/TeX"],
    tex2jax: {
      inlineMath: [ ['$','$'], ['\\(','\\)'] ],
      displayMath: [ ['$$','$$']],
      processEscapes: true
    }
  });
</script>
<script type="text/javascript" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS_HTML,http://myserver.com/MathJax/config/local/local.js">
</script>

<p>coursera week 1 - <code>matrices</code> and <code>vectors</code></p>
<a id="more"></a>
<h2 id="1-Matrix-Elements"><a href="#1-Matrix-Elements" class="headerlink" title="1. Matrix Elements"></a>1. Matrix Elements</h2><p>$$<br>A =<br>\begin{bmatrix}<br>   1 &amp; 2 \\<br>   4 &amp; 5 \\<br>   7 &amp; 8<br>  \end{bmatrix} \tag{fmt.1  R^{32}}<br>$$</p>
<p>$ A_{ij} = $ â€œ$i, j$ entryâ€  in the $i^{th}$ row, $j^{th}$ column</p>
<p>$ A_{32} = 8 $</p>
<h2 id="2-Vector-A-n-n-1-matrix"><a href="#2-Vector-A-n-n-1-matrix" class="headerlink" title="2. Vector $A_n$ n*1 matrix"></a>2. Vector $A_n$ n*1 matrix</h2><p>$$<br>y =<br>\begin{bmatrix}<br>   460 \\<br>   232 \\<br>   315 \\<br>   178<br>  \end{bmatrix} \tag{fmt.2}<br>$$</p>
<blockquote>
<p>$R^4$ 4 dimensional vector<br>$y_i = i^{th} element$</p>
</blockquote>
<h3 id="2-1-math-1-indexed"><a href="#2-1-math-1-indexed" class="headerlink" title="2.1 math 1-indexed"></a>2.1 math 1-indexed</h3><p>$$<br>y =<br>\begin{bmatrix}<br>   y1 \\<br>   y2 \\<br>   y3 \\<br>   y4<br>  \end{bmatrix} \tag{fmt.3}<br>$$</p>
<h3 id="2-2-machine-learning-0-indexed"><a href="#2-2-machine-learning-0-indexed" class="headerlink" title="2.2 machine-learning 0-indexed"></a>2.2 machine-learning 0-indexed</h3><p>$$<br>y =<br>\begin{bmatrix}<br>   y0 \\<br>   y1 \\<br>   y2 \\<br>   y3<br>  \end{bmatrix} \tag{fmt.4}<br>$$</p>
<h2 id="3-Matrix-Addition"><a href="#3-Matrix-Addition" class="headerlink" title="3. Matrix Addition"></a>3. Matrix Addition</h2><p>$$ \begin{bmatrix} 1 &amp; 0 \\ 2 &amp; 5 \\ 3 &amp; 1 \end{bmatrix} + \begin{bmatrix} 4 &amp; 0.5 \\ 2 &amp; 5 \\ 0 &amp; 1 \end{bmatrix} =<br>\begin{bmatrix}<br>   5 &amp; 0.5 \\<br>   4 &amp; 10 \\<br>   3 &amp; 2<br> \end{bmatrix} $$</p>
<h2 id="4-Scalar-Multiplication"><a href="#4-Scalar-Multiplication" class="headerlink" title="4. Scalar Multiplication"></a>4. Scalar Multiplication</h2><p>$$ 3 \times \begin{bmatrix} 1 &amp; 0 \\ 2 &amp; 5 \\ 3 &amp; 1 \end{bmatrix}<br>= \begin{bmatrix}<br>   3 &amp; 0 \\<br>   6 &amp; 15 \\<br>   9 &amp; 3<br> \end{bmatrix}<br>$$</p>
<h2 id="5-Combination-of-Operands"><a href="#5-Combination-of-Operands" class="headerlink" title="5. Combination of Operands"></a>5. Combination of Operands</h2><p>$$ 3 \times<br>\begin{bmatrix}<br>1 \\<br>4 \\<br>2<br>\end{bmatrix}<br>+<br>\begin{bmatrix}<br>0 \\<br>0 \\<br>5<br>\end{bmatrix} -<br>\begin{bmatrix}<br>   3 \\<br>   0 \\<br>   2<br> \end{bmatrix} / 3 =<br>\begin{bmatrix}<br>2 \\<br>12 \\<br>31/3<br>\end{bmatrix}<br>$$</p>
<h2 id="6-Matrix-Vector-Multiplication"><a href="#6-Matrix-Vector-Multiplication" class="headerlink" title="6. Matrix Vector Multiplication"></a>6. Matrix Vector Multiplication</h2><p>$$<br>\begin{bmatrix}<br>1 &amp; 3 \\<br>4 &amp; 0 \\<br>2 &amp; 1<br>\end{bmatrix}<br>\times<br>\begin{bmatrix}<br>1 \\<br>5<br>\end{bmatrix} =<br>\begin{bmatrix}<br>16 \\<br>4 \\<br>7<br>\end{bmatrix}<br>$$</p>
<p><strong>Matrix Vector Multiplication Fmt :</strong></p>
<p><img src="/images/ml/coursera/ml-ng-w1-03-1.png" alt="Matrix Vector"></p>
<h3 id="6-1-House-sizes-example"><a href="#6-1-House-sizes-example" class="headerlink" title="6.1 House sizes example"></a>6.1 House sizes example</h3><p>$$<br>h_{\theta}  (x) = -40 + 0.25 x<br>$$</p>
<table>
<thead>
<tr>
<th>House sizes</th>
<th>Price</th>
</tr>
</thead>
<tbody>
<tr>
<td>2104</td>
<td>?</td>
</tr>
<tr>
<td>1416</td>
<td>?</td>
</tr>
<tr>
<td>1534</td>
<td>?</td>
</tr>
<tr>
<td>852</td>
<td>?</td>
</tr>
</tbody>
</table>
<p>$$ \begin{bmatrix}<br>1 &amp; 2104 \\<br>1 &amp; 1416 \\<br>1 &amp; 1534 \\<br>1 &amp; 852<br>\end{bmatrix} \times<br>\begin{bmatrix}<br>-40 \\<br>0.25<br>\end{bmatrix}<br>=<br>\begin{bmatrix}<br>-40 \times 1 + 0.25 \times 2104 \\<br>â€¦ \\<br>â€¦ \\<br>â€¦<br>\end{bmatrix}<br>$$</p>
<h2 id="7-Practice-Example"><a href="#7-Practice-Example" class="headerlink" title="7. Practice Example"></a>7. Practice Example</h2><p>$$ \begin{bmatrix}<br>1 &amp; 3 &amp; 2 \\<br>4 &amp; 0 &amp; 1<br>\end{bmatrix}<br>\begin{bmatrix}<br>1 &amp; 3 \\<br>0 &amp; 1 \\<br>5 &amp; 2<br>\end{bmatrix} =<br>\begin{bmatrix}<br>   11 &amp; 10 \\<br>   9 &amp; 14<br> \end{bmatrix} $$</p>
<blockquote>
<p>$ A_{2 \times 3} \times A_{3 \times 2} = A_{2 \times 2} $</p>
</blockquote>
<p><img src="/images/ml/coursera/ml-ng-w1-03-2.png" alt="Matrix"></p>
<h2 id="8-House-Example"><a href="#8-House-Example" class="headerlink" title="8. House Example"></a>8. House Example</h2><p><img src="/images/ml/coursera/ml-ng-w1-03-3.png" alt="Matrix"></p>
<h2 id="9-Matrix-A-times-B-neq-B-times-A"><a href="#9-Matrix-A-times-B-neq-B-times-A" class="headerlink" title="9. Matrix $A \times B \neq B \times A$"></a>9. Matrix $A \times B \neq B \times A$</h2><p>But, ç»“åˆå¾‹ï¼Œå¯ä»¥çš„</p>
<p>$ A \times B \times C = (A \times B) \times C = A \times (B \times C) $</p>
<h2 id="10-Identity-Matrix"><a href="#10-Identity-Matrix" class="headerlink" title="10. Identity Matrix"></a>10. Identity Matrix</h2><p>Denoted I (or I_{n*n}).</p>
<h3 id="10-1-2-times-2"><a href="#10-1-2-times-2" class="headerlink" title="10.1 $2 \times 2$"></a>10.1 $2 \times 2$</h3><p>$$<br>\begin{bmatrix}<br>   1 &amp; 0 \\<br>   0 &amp; 1<br>  \end{bmatrix} \tag{fmt.1  R^{32}}<br>$$</p>
<h3 id="10-2-3-times-3"><a href="#10-2-3-times-3" class="headerlink" title="10.2 $3 \times 3$"></a>10.2 $3 \times 3$</h3><p>$$<br>\begin{bmatrix}<br>   1 &amp; 0 &amp; 0 \\<br>   0 &amp; 1 &amp; 0 \\<br>   0 &amp; 0 &amp; 1<br>  \end{bmatrix} \tag{fmt.1  R^{32}}<br>$$</p>
<blockquote>
<p>$Z \times I = I \times Z = Z$</p>
</blockquote>
<h2 id="11-Matrix-Inverse"><a href="#11-Matrix-Inverse" class="headerlink" title="11. Matrix Inverse"></a>11. Matrix Inverse</h2><p>$3 \times 3^{-1} = 1$</p>
<blockquote>
<p>Not all numbers have an inverse.</p>
</blockquote>
<p>if $A$ is an $m \times m$ matrix, and if it has an inverse</p>
<p>$A \times A^{-1} = A^{-1} \times A = I$</p>
<p>$$<br>A =<br>\begin{bmatrix}<br>   3 &amp; 4 \\<br>   2 &amp; 16 \\<br>  \end{bmatrix}<br>$$</p>
<p>$$<br>A^{-1} =<br>\begin{bmatrix}<br>   0.4 &amp; -0.1 \\<br>   -0.05 &amp; 0.075 \\<br>  \end{bmatrix}<br>$$</p>
<p>$ A \times A^{-1} = I_{2 \times 2} $</p>
<p>$$<br>I_{2 \times 2} =<br>\begin{bmatrix}<br>   1 &amp; 0 \\<br>   0 &amp; 1 \\<br>  \end{bmatrix}<br>$$</p>
<h2 id="12-Matrix-Transpose"><a href="#12-Matrix-Transpose" class="headerlink" title="12. Matrix Transpose"></a>12. Matrix Transpose</h2><p>$$<br>A =<br>\begin{bmatrix}<br>   1 &amp; 2 &amp; 0 \\<br>   3 &amp; 5 &amp; 9 \\<br>  \end{bmatrix}<br>$$</p>
<p>$$<br>A^T =<br>\begin{bmatrix}<br>   1 &amp; 3 \\<br>   2 &amp; 5 \\<br>   0 &amp; 9<br>  \end{bmatrix}<br>$$</p>
<p>Let $A$ be an $m \times n$ matrix, and let $B = A^T$.<br>Then $B$ is an $n \times m$ matrix, and $B_{ij} = A_{ji}$</p>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[Coursera Week 1 - Linear Regression Cost Function & Gradient descent]]></title>
      <url>http://iequa.com/2016/09/28/ml-coursera-ng-w1-02-cost-function-gradient-descent/</url>
      <content type="html"><![CDATA[<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js"],
    jax: ["input/TeX"],
    tex2jax: {
      inlineMath: [ ['$','$'], ['\\(','\\)'] ],
      displayMath: [ ['$$','$$']],
      processEscapes: true
    }
  });
</script>
<script type="text/javascript" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS_HTML,http://myserver.com/MathJax/config/local/local.js">
</script>

<p>Linear Regression Cost Function &amp; Gradient descent</p>
<a id="more"></a>
<h2 id="1-Linear-Regression"><a href="#1-Linear-Regression" class="headerlink" title="1. Linear Regression"></a>1. Linear Regression</h2><p><img src="/images/ml/coursera/ml-ng-w1-02-1.png" alt="How to choose parameters"></p>
<h2 id="2-Cost-Function"><a href="#2-Cost-Function" class="headerlink" title="2. Cost Function"></a>2. Cost Function</h2><blockquote>
<p>Choose $\theta_0ï¼Œ\theta_1$ so that $h_{\theta} (x) $ is close to $y$ for our training examples ${(x, y)}$</p>
</blockquote>
<table>
<thead>
<tr>
<th style="text-align:center">Title</th>
<th style="text-align:center">fmt</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">Hypothesis</td>
<td style="text-align:center">$h_{\theta}  (x) = \theta_0 + \theta_1 x$</td>
</tr>
<tr>
<td style="text-align:center">Parameters</td>
<td style="text-align:center">$\theta_0 ã€\theta_1$</td>
</tr>
<tr>
<td style="text-align:center">Cost Function</td>
<td style="text-align:center">$J(\theta_0ï¼Œ\theta_1) = {\frac {1} {2m}} \sum_{i=1}^m (h_{\theta} (x^{i}) - (y^{i}))^2$</td>
</tr>
<tr>
<td style="text-align:center">Goal</td>
<td style="text-align:center">$minimize J(\theta_0ï¼Œ\theta_1)$</td>
</tr>
</tbody>
</table>
<h2 id="3-Simplified-Fmt"><a href="#3-Simplified-Fmt" class="headerlink" title="3. Simplified Fmt"></a>3. Simplified Fmt</h2><blockquote>
<p>$\theta_0$ = 0</p>
</blockquote>
<p><strong>hypothesis function $h_{\theta} (x)$  cost function $J(\theta_1)$</strong></p>
<p><img src="/images/ml/coursera/ml-ng-w1-02-3.png" alt="cost"></p>
<h2 id="4-Cost-function-visable"><a href="#4-Cost-function-visable" class="headerlink" title="4. Cost function visable"></a>4. Cost function visable</h2><p><img src="/images/ml/coursera/ml-ng-w1-02-4.png" alt="cost"></p>
<blockquote>
<p>æŠŠ x, y æƒ³è±¡æˆå‘é‡ï¼Œç¡®å®šçš„å‘é‡ï¼Œå‘é‡å†æƒ³è±¡ä¸ºä¸€ä¸ªç¡®å®šçš„æ•°ï¼Œæ€»ä¹‹å®ƒæ˜¯ä¸€ä¸ªäºŒæ¬¡å‡½æ•°ï¼ŒæŠ½è±¡çš„æƒ³ä¸€ä¸‹ï¼Œä¼šä¸ä¼šç†è§£</p>
</blockquote>
<ul>
<li>contour plots</li>
<li>contour figures</li>
</ul>
<p><img src="/images/ml/coursera/ml-ng-w1-02-5.png" alt="cost"></p>
<h2 id="5-Gradient-descent-target"><a href="#5-Gradient-descent-target" class="headerlink" title="5. Gradient descent target"></a>5. Gradient descent target</h2><p><img src="/images/ml/coursera/ml-ng-w1-02-6.png" alt="Gradient descent"></p>
<h2 id="6-Gradient-descent-visable"><a href="#6-Gradient-descent-visable" class="headerlink" title="6. Gradient descent visable"></a>6. Gradient descent visable</h2><p><img src="/images/ml/coursera/ml-ng-w1-02-7.png" alt="Local optimization"></p>
<p><strong>Convex function</strong></p>
<p><img src="/images/ml/coursera/ml-ng-w1-02-8.png" alt="Global optimization"></p>
<h2 id="7-Gradient-descent-algorithm"><a href="#7-Gradient-descent-algorithm" class="headerlink" title="7. Gradient descent algorithm"></a>7. Gradient descent algorithm</h2><blockquote>
<p>$ \alpha $ : learning rate</p>
</blockquote>
<p><img src="/images/ml/coursera/ml-ng-w1-02-9.png" alt="Gradient descent"></p>
<h2 id="8-Gradient-descent-only-theta-1"><a href="#8-Gradient-descent-only-theta-1" class="headerlink" title="8. Gradient descent only $ \theta_{1} $"></a>8. Gradient descent only $ \theta_{1} $</h2><p><img src="/images/ml/coursera/ml-ng-w1-02-10.png" alt="Gradient descent for one param : $ \theta\_{1} $"></p>
<p><img src="/images/ml/coursera/ml-ng-w1-02-11.png" alt="Gradient descent"></p>
<p><img src="/images/ml/coursera/ml-ng-w1-02-12.png" alt="Gradient descent"></p>
<p><img src="/images/ml/coursera/ml-ng-w1-02-13.png" alt="Gradient descent"></p>
<h2 id="9-Linear-Regression-Model"><a href="#9-Linear-Regression-Model" class="headerlink" title="9. Linear Regression Model"></a>9. Linear Regression Model</h2><p><img src="/images/ml/coursera/ml-ng-w1-02-14.png" alt="Gradient descent"></p>
<h3 id="9-1-Batch-Gradient-Descent"><a href="#9-1-Batch-Gradient-Descent" class="headerlink" title="9.1 Batch Gradient Descent"></a>9.1 Batch Gradient Descent</h3><blockquote>
<p>Batch : Each step of gradient descent uses all the training examples</p>
</blockquote>
<p><img src="/images/ml/coursera/ml-ng-w1-02-15.png" alt="Gradient descent"></p>
<blockquote>
<p>Coursera Learning Notes</p>
</blockquote>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[Coursera Week 1 - Machine Learning Introduction]]></title>
      <url>http://iequa.com/2016/09/20/ml-coursera-ng-w1-01-introduce/</url>
      <content type="html"><![CDATA[<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js"],
    jax: ["input/TeX"],
    tex2jax: {
      inlineMath: [ ['$','$'], ['\\(','\\)'] ],
      displayMath: [ ['$$','$$']],
      processEscapes: true
    }
  });
</script>
<script type="text/javascript" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS_HTML,http://myserver.com/MathJax/config/local/local.js">
</script>

<p>Machine-learning, Grew out of work in Artificial Intelligence, New capability for computers</p>
<a id="more"></a>
<h2 id="Machine-Learning"><a href="#Machine-Learning" class="headerlink" title="Machine Learning"></a>Machine Learning</h2><ul>
<li>Grew out of work in Artificial Intelligence</li>
<li>New capability for computers</li>
</ul>
<blockquote>
<p>search engine, recommendation system, image recognition</p>
<p>web click data, medical records , biology, engineering</p>
<p>Natural Language Processing (NLP), Computer Vision</p>
</blockquote>
<p><strong>Machine Learning definition</strong></p>
<p>Field of study that gives computers the ability to learn without being explicitly programmed. by ArthurSamuel(1959)</p>
<h2 id="1-Supervised-learning"><a href="#1-Supervised-learning" class="headerlink" title="1. Supervised learning"></a>1. Supervised learning</h2><p><img src="/images/ml/coursera/ml-ng-w1-01-1.png" alt="Supervised"></p>
<h2 id="2-Regression-amp-Classification"><a href="#2-Regression-amp-Classification" class="headerlink" title="2. Regression &amp; Classification"></a>2. Regression &amp; Classification</h2><p><img src="/images/ml/coursera/ml-ng-w1-01-2.png" alt="Classification"></p>
<h2 id="3-Unsupervised-learning"><a href="#3-Unsupervised-learning" class="headerlink" title="3. Unsupervised learning"></a>3. Unsupervised learning</h2><p><img src="/images/ml/coursera/ml-ng-w1-01-3.png" alt="Unsupervised"></p>
<p><strong>Unsupervised Examples</strong></p>
<p><img src="/images/ml/coursera/ml-ng-w1-01-4.png" alt="news.google"></p>
<blockquote>
<p>What Google News does is everyday it goes and looks at tens of thousands or hundreds of thousands of new stories on the web and it groups them into cohesive news stories. </p>
</blockquote>
<h2 id="4-Experience"><a href="#4-Experience" class="headerlink" title="4. Experience"></a>4. Experience</h2><p><strong>Xiaoyang è¯­å½•</strong> :</p>
<p>ã€è§£å†³ä¸€ä¸ªé—®é¢˜çš„æ–¹æ³•å’Œæ€è·¯ä¸æ­¢ä¸€ç§ã€<br>ã€æ²¡æœ‰æ‰€è°“çš„æœºå™¨å­¦ä¹ ç®—æ³•ä¼˜åŠ£ï¼Œä¹Ÿæ²¡æœ‰ç»å¯¹é«˜æ€§èƒ½çš„æœºå™¨å­¦ä¹ ç®—æ³•ï¼Œåªæœ‰åœ¨ç‰¹å®šçš„åœºæ™¯ã€æ•°æ®å’Œç‰¹å¾ä¸‹æ›´åˆé€‚çš„æœºå™¨å­¦ä¹ ç®—æ³•ã€‚ã€</p>
<p><strong>Andrew Ng è¯­å½•</strong></p>
<p>åº”ç”¨æœºå™¨å­¦ä¹ ï¼Œä¸è¦ä¸€ä¸Šæ¥å°±è¯•å›¾åšåˆ°å®Œç¾ï¼Œå…ˆluä¸€ä¸ªbaselineçš„modelå‡ºæ¥ï¼Œå†è¿›è¡Œåç»­çš„åˆ†ææ­¥éª¤ï¼Œä¸€æ­¥æ­¥æé«˜ï¼Œæ‰€è°“åç»­æ­¥éª¤å¯èƒ½åŒ…æ‹¬ã€åˆ†æmodelç°åœ¨çš„çŠ¶æ€(æ¬ /è¿‡æ‹Ÿåˆ)ï¼Œåˆ†ææˆ‘ä»¬ä½¿ç”¨çš„featureçš„ä½œç”¨å¤§å°ï¼Œè¿›è¡Œfeature selectionï¼Œä»¥åŠæˆ‘ä»¬æ¨¡å‹ä¸‹çš„bad caseå’Œäº§ç”Ÿçš„åŸå› ã€ç­‰ç­‰ã€‚</p>
<p><strong>Kaggleå¤§ç¥ä»¬ experience æ€»ç»“</strong> ï¼š</p>
<ol>
<li>ã€å¯¹æ•°æ®çš„è®¤è¯†å¤ªé‡è¦äº†ï¼ã€</li>
<li>ã€æ•°æ®ä¸­çš„ç‰¹æ®Šç‚¹/ç¦»ç¾¤ç‚¹çš„åˆ†æå’Œå¤„ç†å¤ªé‡è¦äº†ï¼ã€</li>
<li>ã€ç‰¹å¾å·¥ç¨‹(feature engineering)å¤ªé‡è¦äº†ï¼åœ¨å¾ˆå¤šKaggleçš„åœºæ™¯ä¸‹ï¼Œç”šè‡³æ¯”modelæœ¬èº«è¿˜è¦é‡è¦ã€</li>
<li>ã€è¦åšæ¨¡å‹èåˆ(model ensemble)å•Šå•Šå•Šï¼ã€</li>
</ol>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[Javaç¨‹åºå‘˜éœ€è¦çŸ¥é“çš„è®¡ç®—æœºåŸç† (not finish)]]></title>
      <url>http://iequa.com/2016/09/13/java-special-arms-p2-computer-principle/</url>
      <content type="html"><![CDATA[<p>Javaç‰¹ç§å…µ - Javaç¨‹åºå‘˜éœ€è¦çŸ¥é“çš„è®¡ç®—æœºåŸç†ï¼ŒReading Notes</p>
<a id="more"></a>
<h2 id="1-è®¡ç®—æœºåŸç†"><a href="#1-è®¡ç®—æœºåŸç†" class="headerlink" title="1. è®¡ç®—æœºåŸç†"></a>1. è®¡ç®—æœºåŸç†</h2><p>è®¡ç®—æœºæ€»ä½“ä½“ç³»ç»“æ„çš„å˜åŒ–ï¼Œä¸€ç›´ä¸æ˜¯ç‰¹åˆ«å¤§ï¼ŒåŸºç¡€åŸç†å°†å¼•å¯¼æˆ‘ä»¬ä»æ•´ä½“ä¸Šè®¤è¯†è®¡ç®—æœºæœ¬èº«ã€‚</p>
<h2 id="2-CPU"><a href="#2-CPU" class="headerlink" title="2. CPU"></a>2. CPU</h2><p>æ¯ä¸ªè¿›ç¨‹ or çº¿ç¨‹ å‘å‡ºè¯·æ±‚, æœ€åä¼šç”± CPU æ¥åˆ†é…æ—¶é—´ç‰‡å¤„ç†ï¼Œå¤„ç†æ—¶ æ“ä½œæ•° ä¼ é€’ç»™ CPU, CPU è®¡ç®—å°†å…¶å›å†™åˆ°æœ¬åœ°å˜é‡ã€‚è¿™ä¸ªæœ¬åœ°å˜é‡é€šå¸¸ä¼šå­˜åœ¨ç¨‹åºæ‰€è°“çš„ æ ˆ ä¸­ï¼Œå¤šæ¬¡å¯¹å…¶æ“ä½œï¼Œå®ƒå¯èƒ½ä¼šè¢« Cache åˆ° CPU çš„ç¼“å­˜ä¹‹ä¸­ã€‚CPU æœ‰ å¯„å­˜å™¨ï¼Œä¸€çº§ç¼“å­˜ï¼ŒäºŒçº§ç¼“å­˜ â€¦ , å…¶å®è®¾è®¡è¿™äº›ç»„ä»¶å°±æ˜¯ä¸ºäº†é‚£å››ä¸ªå­— <code>å°±è¿‘åŸåˆ™</code>ã€‚</p>
<h3 id="2-1-Cpu-è”ç³»-Java"><a href="#2-1-Cpu-è”ç³»-Java" class="headerlink" title="2.1 Cpu è”ç³» Java"></a>2.1 Cpu è”ç³» Java</h3><blockquote>
<p>åœ¨ ç¼–è¯‘é˜¶æ®µï¼ŒJava å°±å¯ä»¥å†³å®šæ–¹æ³•çš„ LocalVariable çš„ä¸ªæ•°ï¼Œåœ¨æ–¹æ³•è°ƒç”¨çš„æ—¶å€™ï¼Œå°±å¯ç›´æ¥åˆ†é…ä¸€ä¸ª LocalVariable åŒºåŸŸï¼Œè¿™ä¸ªç©ºé—´æ˜¯åŸºäº slot æ¥åˆ†é…çš„ï¼Œæ¯ä¸ª slot å ç”¨ 32 bitï¼Œboolean å ç”¨ 1 slotï¼Œlong and double å  2 ä¸ª slotã€‚</p>
</blockquote>
<p>LocalVariableTable :</p>
<table>
<thead>
<tr>
<th>Start</th>
<th>Length</th>
<th>Slot</th>
<th>Name</th>
<th>Signature</th>
</tr>
</thead>
<tbody>
<tr>
<td>0</td>
<td>9</td>
<td>0</td>
<td>args</td>
<td>Ljava/lang/String;</td>
</tr>
<tr>
<td>2</td>
<td>7</td>
<td>1</td>
<td>a</td>
<td>I</td>
</tr>
<tr>
<td>..</td>
<td>..</td>
<td>..</td>
<td>..</td>
<td>..</td>
</tr>
</tbody>
</table>
<ul>
<li>Start :  ä»£è¡¨LocalVariableåœ¨è™šæŒ‡ä»¤ä½œç”¨åŸŸçš„èµ·å§‹ä½ç½®</li>
<li>Length : ä»£è¡¨LocalVariableåœ¨è™šæŒ‡ä»¤ä½œç”¨åŸŸçš„é•¿åº¦(å¦‚ç¬¬1ä¸ªæœ¬åœ°å˜é‡argsæ˜¯9æ¡æŒ‡ä»¤çš„ä½œç”¨åŸŸ)</li>
</ul>
<h3 id="2-2-å¤šæ ¸"><a href="#2-2-å¤šæ ¸" class="headerlink" title="2.2 å¤šæ ¸"></a>2.2 å¤šæ ¸</h3><p>ä¸ºäº†å¤šä¸ªè®¡ç®—ä¸­å¿ƒåŒæ—¶åšäº‹æƒ…ï¼Œå¢åŠ æ•ˆç‡ã€‚</p>
<p><strong>è€ƒè™‘éœ€è¦å’Œè§£å†³çš„é—®é¢˜</strong></p>
<p>  ä¸€ä¸ªæŒ‡ä»¤æ¥äº†ï¼Œå“ªä¸ªCpuæ¥å¤„ç†ï¼Ÿ åŒä¸€ä»½æ•°æ®è¢«å¤šä¸ª Cpu å¤„ç†ï¼Œå¦‚ä½•åè°ƒå¹¶è®©å…¶ä»–Cpuéƒ½çŸ¥é“ã€‚<br>  å½“å‘èµ·ä¸€ä¸ªè®¡ç®—è¯·æ±‚ï¼Œä¾‹å¦‚ä¸€ä¸ªä¸­æ–­ï¼Œè¿™ä¹ˆå¤š Cpu ä¼šå¹²ä»€ä¹ˆï¼Ÿ</p>
<blockquote>
<p>ä¸­æ–­ : æŒ‡å½“å‡ºç°éœ€è¦æ—¶ï¼ŒCPUæš‚æ—¶åœæ­¢å½“å‰ç¨‹åºçš„æ‰§è¡Œè½¬è€Œæ‰§è¡Œå¤„ç†æ–°æƒ…å†µçš„ç¨‹åºå’Œæ‰§è¡Œè¿‡ç¨‹ã€‚</p>
</blockquote>
<p>Cpu çš„è®¡ç®—é€Ÿåº¦éå¸¸å¿«ï¼ŒOSä¸å¸Œæœ›å®ƒç­‰å¾…æˆ–è€…åœæ­¢ï¼Œæ‰€ä»¥åœ¨å‡ºç° I/O ç­‰å¾… (ç½‘ç»œI/O å’Œ ç£ç›˜I/O), å®ƒä¸­é€”åŸºæœ¬ä¸å‚ä¸ï¼Œè€Œä»¥äº‹ä»¶æ³¨å†Œçš„æ–¹å¼æ¥å®ç°å›è°ƒï¼Œå¯¹äºæŸäº›æ‰§è¡Œæ—¶é—´é•¿çš„taskï¼ŒCpuä¼šåˆ†é…ä¸€äº›æ—¶é—´ç‰‡æ‰§è¡Œå…¶ä»–çš„task.</p>
<blockquote>
<p>å½“ Cpu ä¸æ–­å»åˆ‡æ¢ task å¤„ç†æ—¶ï¼Œè¿™å°±ä¼šæ¶‰åŠåˆ° <code>ä¸Šä¸‹æ–‡åˆ‡æ¢</code>.</p>
</blockquote>
<h3 id="2-3-Cache-line"><a href="#2-3-Cache-line" class="headerlink" title="2.3 Cache line"></a>2.3 Cache line</h3><p>åŠäº‹å°±è¿‘åŸåˆ™ï¼Œå¯ä»¥ä¸€æ¬¡åŠå¤šä»¶äº‹æƒ… æˆ– ä¸€ä»¶äº‹æƒ…çš„å¤šä¸ªæ­¥éª¤å¯ä»¥ä¸€æ¬¡åŠå®Œã€‚</p>
<blockquote>
<p>Cache line å°±æ˜¯ å°† è¿ç»­çš„ä¸€æ®µå†…å­˜åŒºåŸŸ è¿›è¡Œ Cacheï¼Œä¸æ˜¯æ¯æ¬¡å°± Cache ä¸€ä¸ªå†…å­˜å•å…ƒï¼Œè€Œæ˜¯ä¸€ç³»åˆ—å†…å­˜å•å…ƒã€‚è®¡ç®—æœºä¸­ï¼Œé€šå¸¸ä»¥è¿ç»­ 64bit è¿›è¡ŒCacheã€‚</p>
</blockquote>
<p>æ„Ÿæ‚Ÿ : Cache Line å°±æ˜¯ ä¸€æ¬¡æ‹¿ä¸€æ‰¹ä¿¡æ¯å»å¤„ç†ã€‚ Cache line çš„ç›®çš„æ˜¯ä¸ºäº† å¿«é€Ÿè®¿é—®ã€‚</p>
<h3 id="2-4-ç¼“å­˜ä¸€è‡´æ€§åè®®"><a href="#2-4-ç¼“å­˜ä¸€è‡´æ€§åè®®" class="headerlink" title="2.4 ç¼“å­˜ä¸€è‡´æ€§åè®®"></a>2.4 ç¼“å­˜ä¸€è‡´æ€§åè®®</h3><p>å½“æœ‰ æ¥è‡ªäº å†…å­˜ ä¸­çš„åŒä¸€ä»½æ•°æ® Cache åœ¨å¤šä¸ª CPU ä¸­ï¼Œä¸”è¦æ±‚è¿™äº›æ•°æ®çš„è¯»å†™ä¸€è‡´æ—¶ï¼Œå¤šä¸ª CPU ä¹‹é—´å°±éœ€è¦éµå¾ªç¼“å­˜å…±äº«çš„ä¸€è‡´æ€§åŸåˆ™ã€‚</p>
<blockquote>
<p>ç›¸å½“äºå¤§å®¶éƒ½æ¥ä¿®æ”¹ä¸€ä»½è®¾è®¡æŠ¥å‘Šï¼Œå¤§å®¶éƒ½æ‹·è´äº†ä¸€ä»½ï¼Œå›å®¶ä¿®æ”¹ï¼Œæ¯ä¸ªäººä¿®æ”¹è¦åŠæ—¶è®©å…¶ä»–äººéƒ½çŸ¥é“ã€‚æœ‰ç‚¹åƒç‰ˆæœ¬æ§åˆ¶</p>
</blockquote>
<table>
<thead>
<tr>
<th>å†…å­˜å•å…ƒçš„çŠ¶æ€</th>
</tr>
</thead>
<tbody>
<tr>
<td>Modified</td>
<td>ä¿®æ”¹</td>
</tr>
<tr>
<td>Exclusive</td>
<td>ç‹¬å </td>
</tr>
<tr>
<td>Shared</td>
<td>å…±äº«</td>
</tr>
<tr>
<td>Invalid</td>
<td>å¤±æ•ˆ</td>
</tr>
</tbody>
</table>
<p>å¤šä¸ª CPU é€šè¿‡æ€»çº¿ç›¸äº’è¿æ¥ï¼Œæ¯ä¸ª CPU çš„cacheå¤„ç†å™¨ è¦å“åº”æœ¬èº«æ‰€å¯¹åº”çš„CPUè¯»å†™æ“ä½œå¤–ï¼Œè¿˜éœ€è¦ç›‘å¬æ€»çº¿ä¸Šå…¶ä»–CPUæ“ä½œï¼Œé€šè¿‡ç›‘å¬å¯¹è‡ªå·±çš„Cacheåšå¤„ç†ï¼Œå½¢æˆè™šå…±äº«ï¼Œè¿™ä¸ªåè®®å«åš MESI åè®®ã€‚</p>
<blockquote>
<p>ä¸€ä¸ªæ•°æ®ä¿®æ”¹äº†ï¼Œå®ƒéœ€è¦å‘Šè¯‰å…¶ä»– CPU è¿™ä»½æ•°æ®è¢«ä¿®æ”¹äº†ï¼Œç°åœ¨Intelé€šè¿‡ QPI æ¥å®Œæˆã€‚ä¸åŒCPUä¹‹é—´äº¤äº’éœ€è¦æ—¶é—´ 20~40 ns çº§åˆ«ã€‚</p>
</blockquote>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">VolatileInteger</span> </span>&#123;</span><br><span class="line">  <span class="keyword">volatile</span> <span class="keyword">int</span> number;</span><br><span class="line">&#125;</span><br><span class="line">VolatileInteger[] values = <span class="keyword">new</span> VolatileInteger[<span class="number">10</span>];</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">10</span>; i++) &#123;</span><br><span class="line">  values[i] = <span class="keyword">new</span> VolatileInteger();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>è¿™æ®µä»£ç çš„ä¾‹å­ï¼Œå¾ˆå¯èƒ½ä½¿çš„æ¯ä¸ªCPUå¯èƒ½åªä¿®æ”¹åˆ°æŸä¸ªå…ƒç´ ï¼Œä½†ä¼šæœ‰å¤§é‡ QPI å­˜åœ¨ã€‚</p>
<blockquote>
<p> QPI : Quick Path Interconnect</p>
</blockquote>
<h3 id="2-5-Context-switch"><a href="#2-5-Context-switch" class="headerlink" title="2.5 Context switch"></a>2.5 Context switch</h3><p>çº¿ç¨‹å·²ç»æ‰§è¡Œäº†ä¸€éƒ¨åˆ†å†…å®¹ï¼Œéœ€è¦è®°å½•ä¸‹å®ƒçš„å†…å®¹å’ŒçŠ¶æ€ï¼Œä¸­é€”ç”±äºè°ƒåº¦ç®—æ³•ã€‚</p>
<p>CPU è°ƒåº¦ çš„æœ€åŸºæœ¬å•ä½æ˜¯çº¿ç¨‹ï¼ŒJavaä¹Ÿæ˜¯åŸºäºå¤šçº¿ç¨‹æ¨¡å¼ã€‚ç”±äºå¤šçº¿ç¨‹æ¨¡å‹ä¸­å¤šä¸ªçº¿ç¨‹å…±äº«è¿›ç¨‹çš„èµ„æºï¼Œæ‰€ä»¥Javaç¨‹åºï¼Œå¦‚æŸä¸€ä¸ªçº¿ç¨‹å ç”¨èµ„æºè¿‡å¤§æ—¶ï¼Œå°±å¯èƒ½å¯¼è‡´æ•´ä¸ªJVMè¿›ç¨‹æŒ‚æ‰ã€‚(å½±å“éƒ½æ˜¯ç›¸å¯¹çš„)</p>
<blockquote>
<p>åœ¨å®é™…è¿è¡Œä¸­ä¼šæœ‰ä»£ç æ®µå’Œæ•°æ®æ®µï¼Œå†…å®¹åˆ‡æ¢æ—¶è¦ä¿å­˜è¿™äº›è¿è¡Œä¸­çš„ä¸Šä¸‹æ–‡ä¿¡æ¯ï¼Œå†ä½¿ç”¨çš„æ—¶å€™ï¼Œå†åŠ è½½å›æ¥ã€‚</p>
<p>æ—¥å¿—å†™æ“ä½œ (å¦‚ : log4j) éƒ½é‡‡ç”¨ <code>å¼‚æ­¥</code> æ¨¡å¼ å®ç°ï¼Œè€Œç¨‹åºé€šå¸¸ä¸ç›´æ¥å‚ä¸è¿™ä¸ªè¿‡ç¨‹ã€‚ å®ç°æ–¹å¼ (æ—¥å¿—å†™æ“ä½œåªæ˜¯å°†æ—¥å¿—å†™å…¥ä¸€ä¸ªæ¶ˆæ¯é˜Ÿåˆ—ä¸­ï¼Œç”±å•ç‹¬çš„çº¿ç¨‹æ¥å®Œæˆå†™æ“ä½œ)</p>
</blockquote>
<h3 id="2-6-å¹¶å‘ä¸äº‰ç”¨"><a href="#2-6-å¹¶å‘ä¸äº‰ç”¨" class="headerlink" title="2.6 å¹¶å‘ä¸äº‰ç”¨"></a>2.6 å¹¶å‘ä¸äº‰ç”¨</h3><p>åªè¦æ˜¯æœåŠ¡å™¨ç«¯ç¨‹åºï¼Œè¿Ÿæ—©ä¼šé‡åˆ°å¹¶å‘ã€‚å½“ å¹¶å‘ æ—¶ï¼Œå°±ä¼šå­˜åœ¨å¯¹å„ç§èµ„æºçš„äº‰ç”¨ï¼ŒåŒ…æ‹¬å¯¹å„ä¸ªéƒ¨ä»¶(å¦‚CPU)çš„äº‰ç”¨ã€‚</p>
<blockquote>
<p>Web ç¨‹åºä¹Ÿä¼šç»å¸¸é‡åˆ°å¹¶å‘é—®é¢˜çš„ï¼Œç¼–å†™è€…ï¼Œæ²¡æœ‰é‡åˆ°æ˜¯å› ä¸º Web å®¹å™¨å¸®åŠ©å¤„ç†å¥½äº†çº¿ç¨‹çš„æœ¬åœ°å˜é‡åˆ†é…ï¼Œæˆ‘ä»¬å‡ ä¹ä¸ç”¨å…³æ³¨å¹¶å‘ã€‚</p>
</blockquote>
<h4 id="2-6-1-ä¸´ç•ŒåŒº"><a href="#2-6-1-ä¸´ç•ŒåŒº" class="headerlink" title="2.6.1 ä¸´ç•ŒåŒº"></a>2.6.1 ä¸´ç•ŒåŒº</h4><blockquote>
<p>å½“ç¨‹åºå‡ºç° â€œåŠ é”â€ æ—¶ (å¦‚ Javaçš„ synchronized) è¯´æ˜è¿™ä¸€å—æ˜¯ä¸´ç•ŒåŒºï¼Œåªå…è®¸ä¸€ä¸ªçº¿ç¨‹è®¿é—®ï¼Œå…¶ä»–çº¿ç¨‹æ¥å›è¿›è¡Œç­‰å¾…é˜Ÿåˆ—ã€‚<br>äº‰ç”¨å¸¦æ¥çš„æ˜¯åŒæ­¥çš„å¼€é”€ï¼Œå®ƒä¼šå‘å‡ºè®¸å¤šæŒ‡ä»¤è¦æ±‚æ‰€æœ‰CPUå¤„ç†ä¸­ä¸å…è®¸å…¶ä»–çº¿ç¨‹è¿›å…¥ä¸´ç•ŒåŒºï¼Œä¸”éœ€è¦å°†ç­‰å¾…çº¿ç¨‹æ”¾å…¥é˜Ÿåˆ—é˜»å¡ã€‚<br>äº‰ç”¨ CPU çš„è®¿é—®ä¹Ÿä¸ä»…ä»…ä½“ç°åœ¨é”ä¸Šé¢ï¼ŒCPUæœ¬èº«æ•°é‡ä¹Ÿæœ‰é™ã€‚ å•ä¸ªCPUä¼šå¯¹ä»»åŠ¡è¿›è¡Œ åŸºäº æ—¶é—´ç‰‡ã€ä¼˜å…ˆçº§ã€ä»»åŠ¡å¤§å°åˆ†åˆ«è°ƒåº¦ã€‚</p>
</blockquote>
<h4 id="2-6-2-çº¿ç¨‹æ± æ•°"><a href="#2-6-2-çº¿ç¨‹æ± æ•°" class="headerlink" title="2.6.2 çº¿ç¨‹æ± æ•°"></a>2.6.2 çº¿ç¨‹æ± æ•°</h4><p>åœ¨ç†æƒ³çš„ CPU å¯†é›†å‹ç³»ç»Ÿï¼Œçº¿ç¨‹æ•°æ˜¯ CPUæ•°+1 / CPU-1</p>
<ul>
<li>ç³»ç»ŸCPUå¯†é›†åº¦</li>
</ul>
<p>ä¸€èˆ¬ç³»ç»Ÿåˆ†ä¸º è®¡ç®—å¯†é›†å‹ å’Œ I/O å¯†é›†å‹ã€‚</p>
<blockquote>
<p>ç³»ç»Ÿä¸­å…³é”®ç¨‹åºè®¿é—®æ€»å…±èŠ±è´¹ 120ms, I/Oæ“ä½œ å ç”¨ 100msï¼Œ100msæ—¶é—´å†… CPUæ˜¯å¯ä»¥è¢«å…¶ä»–çº¿ç¨‹è®¿é—®çš„ã€‚æ­¤æ—¶ï¼Œè¿™ä¸ªç¨‹åºåœ¨å•æ ¸ç³»ç»Ÿä¸­çš„çº¿ç¨‹æ•°ç†è®ºä¸Šå¯ä»¥è®¾ç½®ä¸º 6ï¼Œ åœ¨å¤šæ ¸ç³»ç»Ÿå°±æ˜¯ä¹˜ä»¥CPUä¸ªæ•° å·¦å³è¿™ä¸ªæ•°å­—ã€‚</p>
</blockquote>
<p>ä¸€èˆ¬è¿™ä¸ªçº¿ç¨‹æ•°çš„å†³å®šæ˜¯é€šè¿‡æµ‹è¯•çš„ã€‚</p>
<h4 id="2-6-3-é”"><a href="#2-6-3-é”" class="headerlink" title="2.6.3 é”"></a>2.6.3 é”</h4><p><code>é”</code> å°±æ˜¯ä¸´ç•ŒåŒºçš„èŒƒå›´ï¼Œæœ‰ç²’åº¦ã€‚å¦‚æœåœ¨ é”  å†…éƒ¨å‘é€ I/O, å¤§å¾ªç¯ã€é€’å½’ç­‰ï¼Œé‚£ä¹ˆå°±å¿…é¡»ç­‰å¾…è¿™äº›æ“ä½œå¤„ç†å®Œæˆåæ‰èƒ½æœ‰ä¸‹ä¸€ä¸ªçº¿ç¨‹è¿›å…¥å¤„ç†ã€‚å¦‚æœè¿™æ®µç¨‹åºæ˜¯ <code>å…³é”®ç¨‹åº</code>, å½“ç³»ç»ŸçœŸæ­£å¹¶å‘çš„æ—¶å€™ï¼Œå¾ˆå¤šçº¿ç¨‹éƒ½ä¼šé˜»å¡åœ¨è¿™é‡Œã€‚è¿™æ—¶è¦è®¡ç®—çº¿ç¨‹æ•°ï¼Œè¦çœ‹é”å¯¹è±¡ æ˜¯ä¸æ˜¯é™æ€å¯¹è±¡æˆ–Class, (å¦‚æœæ˜¯ï¼Œåˆ™æ˜¯ä¸€ä¸ªJVMå…¨å±€é”)ï¼Œæ— è®ºé…ç½®å¤šå°‘çº¿ç¨‹æ•ˆæœéƒ½ä¸€æ ·ã€‚<code>é”æ˜¯å…¨å±€çš„ï¼Œæ— è®ºå¤šå°‘ä¸ªCPUä¹Ÿæ˜¯æ— æµäºäº‹çš„ã€‚</code></p>
<blockquote>
<p>ç»“è®º : é”å°½é‡ä¸è¦è®¾ç½®ä¸º å…¨å±€é”ï¼Œèƒ½ç”¨ç²’åº¦æ§åˆ¶ï¼Œå°½é‡ç²’åº¦æ§åˆ¶</p>
</blockquote>
<h4 id="2-6-4-JVMè‡ªèº«è°ƒèŠ‚"><a href="#2-6-4-JVMè‡ªèº«è°ƒèŠ‚" class="headerlink" title="2.6.4 JVMè‡ªèº«è°ƒèŠ‚"></a>2.6.4 JVMè‡ªèº«è°ƒèŠ‚</h4><p>ä¸è®º CPU è·‘å¤šå¿«ï¼Œå¦‚ JVM holdä¸ä½èŠ‚å¥ï¼Œä¸æ–­åšGCï¼Œé‚£ä¹ˆå¦‚ä½•é…ç½®çº¿ç¨‹æ± ï¼Œç³»ç»Ÿæ€§èƒ½è¿˜æ˜¯ä¸Šä¸æ¥ã€‚</p>
<p>å¯ä»¥æ ¹æ® JVM è¿è¡Œæ—¥å¿—ä¸­ï¼Œå¹³å‡åš Young GC çš„æ—¶é—´é—´éš” (é€šè¿‡ Young GC ä¸ è¿è¡Œæ—¶é•¿å¯¹æ¯”)ï¼Œä»¥åŠç³»ç»Ÿçš„QPSï¼Œæ¥ä¼°ç®—æ¯ä¸ªè¯·æ±‚å¤§è‡´å ç”¨çš„å†…å­˜å¤§å°ï¼Œæœ‰æ—¶ä¸å‡†ï¼Œä½†å…·æœ‰å‚è€ƒä»·å€¼ã€‚</p>
<p><strong>å¦‚ä½•è®¡ç®—</strong></p>
<blockquote>
<p>Eden ç©ºé—´çš„å¤§å°æˆ‘ä»¬æ˜¯çŸ¥é“çš„ã€‚é€šå¸¸ä¸€ä¸ªè¯·æ±‚åˆ†é…ç©ºé—´éƒ½åœ¨ Eden åŒºåŸŸï¼ŒEdenåŒºåŸŸæ»¡å‘ç”ŸYoung GCã€‚Young GC æ—¶é—´é—´éš”å°±æ˜¯Edenæ»¡çš„æ—¶é—´é—´éš”ï¼Œä¾‹å¦‚ 3sï¼Œ è¿›ä¸€æ­¥é€šè¿‡ QPS*3 å¾—åˆ°å¤šå°‘ä¸ªè¯·æ±‚å¯ä»¥å¡«å……æ»¡ Eden åŒºåŸŸã€‚è¿™å¯åˆæ­¥ä¼°ç®—æ¯ä¸ªè¯·æ±‚å ç”¨çš„å†…å­˜ç©ºé—´ã€‚</p>
</blockquote>
<h2 id="3-å†…å­˜"><a href="#3-å†…å­˜" class="headerlink" title="3. å†…å­˜"></a>3. å†…å­˜</h2><p>åŸºæœ¬æ‰€æœ‰çš„ç¨‹åºçŒ¿ä¸ç¨‹åºåª›éƒ½çŸ¥é“ï¼Œå®ƒæ˜¯è·‘ç¨‹åºçš„åœ°æ–¹ã€‚</p>
<p>ç£ç›˜å­˜å‚¨ ä¸ CPU ä¹‹é—´çš„æ¡¥æ¢ã€‚æ‹¥æœ‰æ¯” CPUç¼“å­˜ å¤§å‡ ç™¾å€ã€ä¸Šåƒå€çš„ç©ºé—´ã€‚CPUä¸‰çº§ç¼“å­˜ä¹Ÿå°± å‡ åMã€‚</p>
<blockquote>
<p>ç£ç›˜ åˆ°è¾¾ CPUéœ€è¦ç»è¿‡ (ä¸»æ¿-å—æ¡¥ã€åŒ—æ¡¥) æ‰èƒ½åˆ°è¾¾CPUã€‚å¾ˆæ…¢ã€‚</p>
</blockquote>
<p>å†…å­˜çš„å®¹é‡éƒ½æ˜¯ GB å•ä½ï¼Œå¤§é‡ç¨‹åºè¿è¡Œéƒ½ä¾èµ–å†…å­˜ï¼Œåˆ OS æ¥ç®¡ç†å’Œè°ƒåº¦ã€‚</p>
<blockquote>
<p>åœ°å€ä½æ•°ã€é€»è¾‘åœ°å€ã€è™šæ‹Ÿåœ°å€ã€ç‰©ç†åœ°å€ã€çº¿æ€§åœ°å€ã€å†…æ ¸åŒºåŸŸç­‰ï¼Œå¾ˆå¤šäººçœ‹åˆ°è¿™ï¼Œç›´æ¥ç–¯äº†ï¼Œä½†æ˜¯ä½ éœ€è¦æ·¡å®šã€‚</p>
</blockquote>
<h3 id="3-1-è™šæ‹Ÿåœ°å€"><a href="#3-1-è™šæ‹Ÿåœ°å€" class="headerlink" title="3.1 è™šæ‹Ÿåœ°å€"></a>3.1 è™šæ‹Ÿåœ°å€</h3><p>æ‰€æœ‰çš„ç¨‹åºä¸­ä½¿ç”¨çš„åœ°å€éƒ½æ˜¯è™šæ‹Ÿåœ°å€ (åœ¨æ®µå¼ç®¡ç†ä¸­ä¹Ÿå«é€»è¾‘åœ°å€)ï¼Œè¿™äº›åœ°å€åœ¨ä¸åŒçš„è¿›ç¨‹ä¹‹é—´æ˜¯å¯ä»¥é‡å¤çš„ã€‚</p>
<blockquote>
<p>ç¨‹åºä¸ºä»€ä¹ˆè¦ä½¿ç”¨ è™šæ‹Ÿåœ°å€?</p>
<p>Cè¯­è¨€æ¥è¯´ï¼Œç¼–è¯‘åçš„æŒ‡ä»¤ä¸­ï¼Œè®¸å¤šè°ƒç”¨çš„åœ°å€åœ¨ç¼–è¯‘é˜¶æ®µå°±å¾—ç¡®å®šä¸‹æ¥ï¼Œè®¸å¤šæ–¹æ³•å…¥å£å’Œå˜é‡ä½ç½®åœ¨ç¼–è¯‘æ—¶ç¡®å®šäº†è™šæ‹Ÿåœ°å€ï¼ŒçœŸæ­£è¿è¡Œæ—¶è¦ç”±OSæ¥åˆ†é…å®é™…çš„åœ°å€ç»™ç¨‹åºã€‚<br>ä½¿ç”¨è™šæ‹Ÿåœ°å€åï¼Œåœ°å€æ˜¯å¯ä»¥è¢«å¤ç”¨çš„ï¼Œç¨‹åºä¸å…³å¿ƒä¸å…¶ä»–è¿›ç¨‹æ˜¯å¦ä¼šä½¿ç”¨åŒä¸€åœ°å€ï¼ŒOSä¼šåˆ†é…ç¡®ä¿ã€‚</p>
</blockquote>
<h3 id="3-2-åˆ†æ®µæœºåˆ¶"><a href="#3-2-åˆ†æ®µæœºåˆ¶" class="headerlink" title="3.2 åˆ†æ®µæœºåˆ¶"></a>3.2 åˆ†æ®µæœºåˆ¶</h3><p>ä¹Ÿå°±æ˜¯ä¸ºè¿›ç¨‹åˆ†é…çš„ä¸€æ®µå†…å­˜åŒº (è¿ç»­çš„åŒºåŸŸ)ï¼Œå®ƒçš„ <code>èµ·å§‹ä½ç½®</code> + <code>é€»è¾‘åœ°å€</code> = çº¿æ€§åœ°å€ (å°±æ˜¯ç‰©ç†åœ°å€)</p>
<blockquote>
<p>æœ¬è¿›ç¨‹è®¿é—®å…¶ä»–è¿›ç¨‹å†…å­˜ï¼Œå†…å­˜ä¸èƒ½read é”™è¯¯ã€‚</p>
</blockquote>
<h3 id="3-3-åˆ†é¡µæœºåˆ¶"><a href="#3-3-åˆ†é¡µæœºåˆ¶" class="headerlink" title="3.3 åˆ†é¡µæœºåˆ¶"></a>3.3 åˆ†é¡µæœºåˆ¶</h3><p>åˆ†é¡µæœºåˆ¶ å¯æ”¯æ’‘è¾ƒå¤§çš„å†…å­˜ï¼Œç‰©ç†ä¸Šå¤§å¤šå°†å…¶åˆ’åˆ†ä¸º 4KB/é¡µ</p>
<h3 id="3-4-Java-Heap"><a href="#3-4-Java-Heap" class="headerlink" title="3.4 Java Heap"></a>3.4 Java Heap</h3><p>Javaè¯­è¨€ï¼Œä¸»è¦çœ‹ Heap åŒºåŸŸï¼Œç³»ç»Ÿå‚æ•°è®¾ç½®ä¸º -Xms, -Xmx æ—¶ï¼ŒJVM é€šå¸¸æ˜¯ç”³è¯·ä¸€ä¸ªè¿ç»­çš„è™šæ‹Ÿåœ°å€ã€‚OSé¢„å…ˆåˆ†é…çš„ç‰©ç†å†…å­˜ç©ºé—´æ˜¯  -Xms çš„å¤§å°ï¼Œ -Xmx è®¸å¤šç©ºé—´çœŸæ­£ä½¿ç”¨çš„æ—¶å€™æ‰ä¼šåˆ†é…ã€‚</p>
<blockquote>
<p>32 bit ç³»ç»Ÿä¸­ï¼Œ1.5GB çš„ Heap åŒºåŸŸæ˜¯æ¯”è¾ƒåˆé€‚çš„ã€‚64bit ç©ºé—´ä¸ä¼šå—åˆ°é™åˆ¶ (JVMä¹Ÿå¿…é¡»æ¢æˆ64bitæ¨¡å¼)</p>
</blockquote>
<h2 id="4-Disk"><a href="#4-Disk" class="headerlink" title="4. Disk"></a>4. Disk</h2><p>disk ä¸€ç›´åœ¨æ‹–ç€è®¡ç®—æœºçš„åè…¿, SSDå¥½ä¸€äº›.</p>
<h2 id="5-Cache"><a href="#5-Cache" class="headerlink" title="5. Cache"></a>5. Cache</h2><p>CPU æœ‰ cacheï¼Œç³»ç»Ÿæ¶æ„æœ‰ cacheï¼Œå­˜å‚¨ä¸Šæœ‰cacheï¼Œåˆ†å¸ƒå¼ä¸Šæœ‰ cacheï¼Œæ•°æ®åº“ä¸Šæœ‰cacheï¼ŒORMæ¡†æ¶ä¸Šæœ‰cache â€¦</p>
<blockquote>
<p>Cache å°±æ˜¯  <code>é è¿‘åŸåˆ™</code></p>
</blockquote>
<h2 id="6-ç½‘ç»œä¸æ•°æ®åº“"><a href="#6-ç½‘ç»œä¸æ•°æ®åº“" class="headerlink" title="6. ç½‘ç»œä¸æ•°æ®åº“"></a>6. ç½‘ç»œä¸æ•°æ®åº“</h2><h3 id="6-1-Java-åŸºæœ¬-IO"><a href="#6-1-Java-åŸºæœ¬-IO" class="headerlink" title="6.1 Java åŸºæœ¬ IO"></a>6.1 Java åŸºæœ¬ IO</h3><p>åªè¦æ˜¯å†…å­˜ç¨‹åºçš„é€šä¿¡ï¼Œéƒ½å¯ä»¥ç†è§£ä¸º <strong>I</strong>nput / <strong>O</strong>utput</p>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[æ•°å­¦ä¹‹ç¾ 03 statistical language model]]></title>
      <url>http://iequa.com/2016/09/13/ml-beauty-of-mathematics-03-statistical-language-model/</url>
      <content type="html"><![CDATA[<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js"],
    jax: ["input/TeX"],
    tex2jax: {
      inlineMath: [ ['$','$'], ['\\(','\\)'] ],
      displayMath: [ ['$$','$$']],
      processEscapes: true
    }
  });
</script>
<script type="text/javascript" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS_HTML,http://myserver.com/MathJax/config/local/local.js">
</script>

<h2 id="1-ç”¨æ•°å­¦çš„æ–¹æ³•æè¿°è¯­è¨€è§„å¾‹"><a href="#1-ç”¨æ•°å­¦çš„æ–¹æ³•æè¿°è¯­è¨€è§„å¾‹" class="headerlink" title="1. ç”¨æ•°å­¦çš„æ–¹æ³•æè¿°è¯­è¨€è§„å¾‹"></a>1. ç”¨æ•°å­¦çš„æ–¹æ³•æè¿°è¯­è¨€è§„å¾‹</h2><blockquote>
<p>æ•°å­¦çš„ç¾å¦™åœ¨äº<code>ç®€å•çš„æ¨¡å‹å¯ä»¥å¹²å¤§äº‹</code></p>
</blockquote>
<h3 id="1-1-S-åœ¨æ–‡æœ¬ä¸­å‡ºç°çš„å¯èƒ½æ€§"><a href="#1-1-S-åœ¨æ–‡æœ¬ä¸­å‡ºç°çš„å¯èƒ½æ€§" class="headerlink" title="1.1 S åœ¨æ–‡æœ¬ä¸­å‡ºç°çš„å¯èƒ½æ€§"></a>1.1 S åœ¨æ–‡æœ¬ä¸­å‡ºç°çš„å¯èƒ½æ€§</h3><p>S è¿™ä¸ªåºåˆ—å‡ºç°çš„æ¦‚ç‡ç­‰äºæ¯ä¸ªè¯å‡ºç°çš„æ¦‚ç‡ç›¸ä¹˜</p>
<p>$$<br>P(w_1, w_2, â€¦, w_n) = P(w_1) \cdot P(w_2|w_1) \cdot P(w_3|w_1, w_2)â€¦P(w_n|w_1, w_2, â€¦, w_{n-1}) \qquad (fml.1.1)<br>$$</p>
<blockquote>
<p>$ P(w_3|w_1, w_2)  $ çš„æ¦‚ç‡å·²ç»éå¸¸éš¾ç®—ï¼Œæ¯ä¸ªå˜é‡çš„å¯èƒ½æ€§éƒ½æ˜¯ä¸€ç§è¯­è¨€å­—å…¸çš„å¤§å°äº†ã€‚$P(w_n|w_1, w_2, â€¦, w_{n-1})$ æ›´æ˜¯å¯èƒ½æ€§å¤ªå¤šï¼Œæ— æ³•ä¼°ç®—ã€‚æ€ä¹ˆåŠ ?</p>
</blockquote>
<h3 id="1-2-é©¬å°”ç§‘å¤«å‡è®¾"><a href="#1-2-é©¬å°”ç§‘å¤«å‡è®¾" class="headerlink" title="1.2 é©¬å°”ç§‘å¤«å‡è®¾"></a>1.2 é©¬å°”ç§‘å¤«å‡è®¾</h3><p>20ä¸–çºªåˆï¼ŒAndrey Markov æå‡ºå·æ‡’ä½†æœ‰æ•ˆçš„æ–¹æ³•,ä»»æ„ä¸€ä¸ªè¯ $w_i$ å‡ºç°çš„æ¦‚ç‡åªåŒå®ƒå‰é¢çš„ $w_{i-1}$ æœ‰å…³ ï¼Œ æ•°å­¦ä¸Šç§°ä¸º <code>é©¬å°”ç§‘å¤«å‡è®¾</code></p>
<p>$$<br>P(w_1, w_2, â€¦, w_n) = P(w_1) \cdot P(w_2|w_1) \cdot P(w_3|w_2)â€¦P(w_n| w_{n-1}) \qquad (fml.1.2)<br>$$</p>
<p>å…¬å¼ $ (fml.1.2) $ å¯¹åº”çš„  Statistical language model æ˜¯ äºŒå…ƒæ¨¡å‹ Bigram Model</p>
<p>å› ä¸º</p>
<p>$$<br>p(w_{i-1}, w_i) \approx \frac {\kappa (w_{i-1}, w_i)} {\kappa}<br>$$</p>
<p>$$<br>p(w_{i-1}) \approx \frac {\kappa (w_{i-1})} {\kappa}<br>$$</p>
<p>æ‰€ä»¥</p>
<p>$$<br>P(w_i|w_{i-1}) = \frac { p(w_{i-1}, w_i)} {p(w_{i-1})}<br>$$</p>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[æ•°å­¦ä¹‹ç¾ 19 æ•°å­¦æ¨¡å‹çš„é‡è¦æ€§ & 20 æœ€å¤§ç†µæ¨¡å‹]]></title>
      <url>http://iequa.com/2016/09/12/ml-beauty-of-mathematics-19&20-entropy/</url>
      <content type="html"><![CDATA[<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js"],
    jax: ["input/TeX"],
    tex2jax: {
      inlineMath: [ ['$','$'], ['\\(','\\)'] ],
      displayMath: [ ['$$','$$']],
      processEscapes: true
    }
  });
</script>
<script type="text/javascript" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS_HTML,http://myserver.com/MathJax/config/local/local.js">
</script>

<p>ã€Šæ•°å­¦ä¹‹ç¾ã€‹ 19 æ•°å­¦æ¨¡å‹çš„é‡è¦æ€§ &amp; 20 æœ€å¤§ç†µæ¨¡å‹ Reading Notes</p>
<h2 id="1-æ•°å­¦æ¨¡å‹çš„é‡è¦æ€§"><a href="#1-æ•°å­¦æ¨¡å‹çš„é‡è¦æ€§" class="headerlink" title="1. æ•°å­¦æ¨¡å‹çš„é‡è¦æ€§"></a>1. æ•°å­¦æ¨¡å‹çš„é‡è¦æ€§</h2><blockquote>
<p>ä¼Ÿå¤§çš„å¤©æ–‡å­¦å®¶æ‰˜å‹’å¯†<br>å“¥ç™½å°¼ã€ä¼½åˆ©ç•¥ã€ç‰›é¡¿</p>
</blockquote>
<p>å´å†›åšå£«çš„æ€»ç»“</p>
<ol>
<li>ä¸€ä¸ªæ­£ç¡®çš„æ•°å­¦æ¨¡å‹åº”å½“åœ¨å½¢å¼ä¸Šæ˜¯ç®€å•çš„</li>
<li>ä¸€ä¸ªæ­£ç¡®çš„æ¨¡å‹ä¸€å¼€å§‹å¯èƒ½è¿˜ä¸å¦‚ä¸€ä¸ªç²¾é›•ç»†ç¢è¿‡çš„é”™è¯¯æ¨¡å‹å‡†ç¡®ï¼Œä½†å¦‚è®¤å®šå¤§æ–¹å‘æ˜¯å¯¹çš„ï¼Œå°±åº”è¯¥åšæŒä¸‹å»</li>
<li>å¤§é‡å‡†ç¡®çš„æ•°æ®å¯¹ç ”å‘å¾ˆé‡è¦</li>
<li>æ­£ç¡®çš„æ¨¡å‹ä¹Ÿå¯èƒ½å— å™ªå£° å¹²æ‰°ï¼Œè€Œæ˜¾å¾—ä¸å‡†ç¡®ï¼›è¿™æ—¶åº”è¯¥æ‰¾åˆ°å™ªå£°çš„æ ¹æºï¼Œè¿™ä¹Ÿè®¸èƒ½é€šå¾€é‡å¤§çš„å‘ç°ã€‚</li>
</ol>
<h2 id="2-ä¸æŠŠæ‰€æœ‰é¸¡è›‹æ”¾åˆ°ä¸€ä¸ªç¯®å­é‡Œ"><a href="#2-ä¸æŠŠæ‰€æœ‰é¸¡è›‹æ”¾åˆ°ä¸€ä¸ªç¯®å­é‡Œ" class="headerlink" title="2. ä¸æŠŠæ‰€æœ‰é¸¡è›‹æ”¾åˆ°ä¸€ä¸ªç¯®å­é‡Œ"></a>2. ä¸æŠŠæ‰€æœ‰é¸¡è›‹æ”¾åˆ°ä¸€ä¸ªç¯®å­é‡Œ</h2><p>äººä»¬å¸¸è¯´ä¸è¦æŠŠæ‰€æœ‰çš„é¸¡è›‹æ”¾åœ¨ä¸€ä¸ªç¯®å­é‡Œï¼Œå¯ä»¥é™ä½é£é™©ã€‚åœ¨ä¿¡æ¯å¤„ç†ä¸­ï¼Œè¿™ä¸ªåŸç†åŒæ ·é€‚ç”¨ã€‚æ•°å­¦ä¸Šè¿™ä¸ªåŸç†ç§°ä¸º - The Maximum Entropy Principle.</p>
<p>Wang XiaoBo æ˜¯ ç‹å°æ³¢ or ç‹æ™“æ³¢ï¼Œ éœ€è¦æ ¹æ® <code>ä¸Šä¸‹æ–‡</code></p>
<p>æ•°å­¦ä¸Šè§£å†³è¯¥é—®é¢˜æœ€æ¼‚äº®çš„æ–¹æ³•å°±æ˜¯ ï¼š Maximum Entropyï¼Œå®ƒç›¸å½“äº è¡Œæ˜Ÿè¿åŠ¨çš„æ¤­åœ†æ¨¡å‹ã€‚</p>
<p>Maximum Entropy çš„åŸç†å¾ˆç®€å•ï¼Œå°±æ˜¯ä¿ç•™ å…¨éƒ¨çš„ä¸ç¡®å®šæ€§ï¼Œå°†é£é™©é™åˆ°æœ€å°ã€‚</p>
<h3 id="2-1-Maximum-Entropy"><a href="#2-1-Maximum-Entropy" class="headerlink" title="2.1 Maximum Entropy"></a>2.1 Maximum Entropy</h3><p> å¯¹ä¸€ä¸ªéšæœºäº‹ä»¶çš„æ¦‚ç‡åˆ†å¸ƒè¿›è¡Œé¢„æµ‹æ—¶ï¼Œæˆ‘ä»¬çš„é¢„æµ‹åº”å½“æ»¡è¶³å…¨éƒ¨å·²çŸ¥çš„æ¡ä»¶ï¼Œè€Œå¯¹æœªçŸ¥çš„æƒ…å†µ<code>ä¸è¦åšä»»ä½•ä¸»è§‚å‡è®¾</code>ã€‚</p>
<p>åŒˆç‰™åˆ©æ•°å­¦å®¶ï¼Œä¿¡æ¯è®ºæœ€é«˜å¥–é¦™å†œå¥–å¾—ä¸» å¸Œè¨ Csiszar è¯æ˜ : å¯¹ä»»ä¸€ç»„ä¸è‡ªç›¸çŸ›ç›¾çš„ä¿¡æ¯ï¼Œè¿™ä¸ªæœ€å¤§ç†µæ¨¡å‹å­˜åœ¨ï¼Œä¸”å”¯ä¸€ã€‚</p>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[æ·±å…¥æµ…å‡º Entropy Based]]></title>
      <url>http://iequa.com/2016/09/12/ml-entropy-base/</url>
      <content type="html"><![CDATA[<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js"],
    jax: ["input/TeX"],
    tex2jax: {
      inlineMath: [ ['$','$'], ['\\(','\\)'] ],
      displayMath: [ ['$$','$$']],
      processEscapes: true
    }
  });
</script>
<script type="text/javascript" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS_HTML,http://myserver.com/MathJax/config/local/local.js">
</script>


<h2 id="1-Entropy-çš„å«ä¹‰ï¼Ÿ"><a href="#1-Entropy-çš„å«ä¹‰ï¼Ÿ" class="headerlink" title="1. Entropy çš„å«ä¹‰ï¼Ÿ"></a>1. Entropy çš„å«ä¹‰ï¼Ÿ</h2><blockquote>
<p>è‡ªç„¶ç•Œçš„äº‹ç‰©ï¼Œå¦‚æœä»»å…¶è‡ªèº«å‘å±•ï¼Œæœ€ç»ˆéƒ½ä¼šè¾¾åˆ°å°½å¯èƒ½çš„å¹³è¡¡æˆ–äº’è¡¥çŠ¶æ€</p>
<p>ä¸€ç›’ç«æŸ´ï¼Œï¼ˆäººä¸ºæˆ–å¤–åŠ›ï¼‰æœ‰åºåœ°å°†å…¶æ‘†æ”¾åœ¨ä¸€ä¸ªå°ç›’å­é‡Œï¼Œå¦‚æœä¸å°å¿ƒç«æŸ´ç›’æ‰“ç¿»äº†ï¼Œç«æŸ´ä¼šâ€œæ•£ä¹±â€åœ°æ´’åœ¨åœ°æ¿ä¸Šã€‚æ­¤æ—¶ç«æŸ´è™½ç„¶å¾ˆä¹±ï¼Œä½†è¿™æ˜¯å®ƒè‡ªèº«å‘å±•çš„ç»“æœã€‚</p>
</blockquote>
<p>ç†µEntropyæ˜¯æè¿°äº‹ç‰©æ— åºæ€§çš„å‚æ•°ï¼Œç†µè¶Šå¤§åˆ™æ— åºæ€§è¶Šå¼ºã€‚</p>
<blockquote>
<p>åœ¨ä¿¡æ¯è®ºä¸­ï¼Œæˆ‘ä»¬ç”¨ç†µè¡¨ç¤ºä¸€ä¸ªéšæœºå˜é‡çš„ä¸ç¡®å®šæ€§ï¼Œé‚£ä¹ˆå¦‚ä½•é‡åŒ–ä¿¡æ¯çš„ä¸ç¡®å®šæ€§å‘¢ï¼Ÿ<br>è®¾ä¸€æ¬¡éšæœºäº‹ä»¶ï¼ˆç”¨éšæœºå˜é‡$X$è¡¨ç¤ºï¼‰å®ƒå¯èƒ½ä¼šæœ‰ $x_1ï¼Œx_2ï¼Œâ‹¯ï¼Œx_m$ å…± m ä¸ªä¸åŒçš„ç»“æœï¼Œæ¯ä¸ªç»“æœå‡ºç°çš„æ¦‚ç‡åˆ†åˆ«ä¸º $p_1ï¼Œp_2ï¼Œâ‹¯ï¼Œp_m$ï¼Œé‚£ä¹ˆ $X$ çš„ä¸ç¡®å®šåº¦ï¼Œå³ä¿¡æ¯Entropyä¸ºï¼š</p>
</blockquote>
<p>$$<br>H(X) =\sum_{i=1}^{m} p_i \cdot \log_{2} \frac{1}{p_i} = - \sum_{i=1}^{m} p_i \cdot \log_{2} p_i<br>$$</p>
<h2 id="2-Entropy"><a href="#2-Entropy" class="headerlink" title="2. Entropy"></a>2. Entropy</h2><p>Information Entropy [â€˜entrÉ™pÉª]</p>
<p>Entropy è¡¨ç¤ºçš„æ˜¯ä¸ç¡®å®šåº¦çš„åº¦é‡ï¼Œå¦‚æœæŸä¸ªæ•°æ®é›†çš„ç±»åˆ«çš„ä¸ç¡®å®šç¨‹åº¦è¶Šé«˜ï¼Œåˆ™å…¶ entropy å°±è¶Šå¤§ã€‚</p>
<p><strong><em>example</em></strong> : </p>
<p>å°†ä¸€ä¸ªç«‹æ–¹ä½“AæŠ›å‘ç©ºä¸­ï¼Œè®°è½åœ°æ—¶ç€åœ°çš„é¢ä¸º $c$, $c$ çš„å–å€¼ä¸º{1,2,3,4,5,6} </p>
<blockquote>
<p>$$<br>info(c) = - (1/6 \cdot log_{2}(1/6)+â€¦+1/6 \cdot log_{2}(1/6)) = -1 \cdot log(1/6) = 2.58ï¼›<br>$$</p>
</blockquote>
<p>å››é¢ä½“æŠ›å…¥ç©ºä¸­ :</p>
<blockquote>
<p>$$<br>info(c) = - (1/4 \cdot log_{2}(1/4)+â€¦+1/4 \cdot log_{2}(1/4)) = -1 \cdot log(1/4) = 2ï¼›<br>$$</p>
</blockquote>
<p>çƒä½“æŠ›å…¥ç©ºä¸­ :</p>
<blockquote>
<p>$$<br>info(c) = -1 \cdot log(1) = 0ï¼›<br>$$<br>æ­¤æ—¶è¡¨ç¤ºä¸ç¡®å®šç¨‹åº¦ä¸º0ï¼Œä¹Ÿå°±æ˜¯ç€åœ°æ—¶å‘ä¸‹çš„é¢æ˜¯ç¡®å®šçš„ã€‚</p>
</blockquote>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[ç§§ç§§æ•™ä½ å‘ç¾éŸ³ ï¼ˆnot finishï¼‰]]></title>
      <url>http://iequa.com/2016/09/11/english-yangyangjiaonifameiyin/</url>
      <content type="html"><![CDATA[<p><strong>world</strong></p>
<h2 id="5"><a href="#5" class="headerlink" title="5."></a>5.</h2><p>what would you like ?</p>
<h2 id="6-i-i"><a href="#6-i-i" class="headerlink" title="6. i: / i"></a>6. i: / i</h2><table>
<thead>
<tr>
<th>word i: / i</th>
<th>sentence</th>
</tr>
</thead>
<tbody>
<tr>
<td>beat, bit</td>
<td>The beat is a bit strong.</td>
</tr>
<tr>
<td>keys, kiss</td>
<td>Give me a kiss for the keys.</td>
</tr>
<tr>
<td>cheek, chick</td>
<td>The chickâ€™s cheek is soft.</td>
</tr>
<tr>
<td>deed, did</td>
<td>He did the deed.</td>
</tr>
<tr>
<td>feet, fit</td>
<td>These shoes fit my feet.</td>
</tr>
<tr>
<td>peel, pill</td>
<td>Donâ€™t peel that pill.</td>
</tr>
<tr>
<td>seek, sick</td>
<td>We were seeking that sick person.</td>
</tr>
<tr>
<td>sheep, ship</td>
<td>There are sheep on the ship.</td>
</tr>
<tr>
<td>these, this</td>
<td>These are better than this one.</td>
</tr>
</tbody>
</table>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[SpringMVC Demo]]></title>
      <url>http://iequa.com/2016/09/11/java-springMVC-mybatis-demo/</url>
      <content type="html"><![CDATA[<p>å†™ä¸€ä¸ªå…¥é—¨æ•´æ´çš„ç¼–å†™ java åç«¯ç¨‹åºçš„ä»£ç æ¶, ä¸»è¦ä½¿ç”¨äº† java + springMvc + mybatis + logback + spring task ç­‰æŠ€æœ¯.</p>
<p><a href="https://github.com/blair101/language/tree/master/java/springMVC_demo" target="_blank" rel="external">blairâ€™s github springMvc_demo</a></p>
<a id="more"></a>
<h2 id="Starting-Point"><a href="#Starting-Point" class="headerlink" title="Starting Point"></a>Starting Point</h2><p>ä¸ºä¸€äº›æ–°æ‰‹å’Œæˆ‘ä¸ªäººå¤‡ä»½ï¼Œå†™ä¸€ä¸ªå…¥é—¨<code>æ•´æ´</code>çš„ç¼–å†™ java åç«¯ç¨‹åºçš„ä»£ç æ¶.</p>
<blockquote>
<p>å†™è¿™æ ·çš„ç¨‹åºï¼Œæœ€é‡è¦çš„æ˜¯ <code>æ•´æ´ä¸çº¦å®šè§„èŒƒ</code> è€Œä¸æ˜¯å¤šä¹ˆé«˜æ·±çš„æŠ€æœ¯ï¼Œè®©æ¥æ‰‹ä½ ä»£ç çš„äººä¸ç—›è‹¦ï¼Œè¿™æ‰æ˜¯æˆåŠŸ</p>
</blockquote>
<h2 id="Involved-Tech"><a href="#Involved-Tech" class="headerlink" title="Involved Tech"></a>Involved Tech</h2><ul>
<li>Java</li>
<li>Restful</li>
<li>SpringMVC</li>
<li>Mybatis</li>
<li>logback</li>
<li>Spring-task</li>
</ul>
<blockquote>
<p>logback : ä¸€ä¸ªâ€œå¯é ã€é€šç”¨ã€å¿«é€Ÿè€Œåˆçµæ´»çš„Javaæ—¥å¿—æ¡†æ¶â€ã€‚<br>Spring-task ç¼–å†™éwebç¨‹åºï¼Œä»…ä»…æ˜¯åå°éœ€è¦å®šæ—¶è·‘çš„ä»»åŠ¡ï¼Œç»å¸¸è¢«ç”¨åˆ°ã€‚</p>
</blockquote>
<h2 id="How-to-Run"><a href="#How-to-Run" class="headerlink" title="How to Run"></a>How to Run</h2><h3 id="1-ä¿®æ”¹æ•°æ®åº“è¿æ¥ä¿¡æ¯"><a href="#1-ä¿®æ”¹æ•°æ®åº“è¿æ¥ä¿¡æ¯" class="headerlink" title="1. ä¿®æ”¹æ•°æ®åº“è¿æ¥ä¿¡æ¯"></a>1. ä¿®æ”¹æ•°æ®åº“è¿æ¥ä¿¡æ¯</h3><p>ç¼–è¾‘ ~/resources/props/db.properties å°†å…¶ä¸­çš„</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"># main mysql lib dataSource</span><br><span class="line">main.jdbc.driverClassName=com.mysql.jdbc.Driver</span><br><span class="line">main.jdbc.url=jdbc:mysql://192.168.***.**:3306/testdb01</span><br><span class="line">main.jdbc.username=your_username</span><br><span class="line">main.jdbc.password=your_password</span><br></pre></td></tr></table></figure>
<p>æ”¹ä¸ºä½ è‡ªå·±çš„ dataSource è¿æ¥ä¿¡æ¯</p>
<h3 id="2-æ•°æ®åº“ä¸­å»ºç«‹ä½ ç”¨åˆ°çš„è¡¨"><a href="#2-æ•°æ®åº“ä¸­å»ºç«‹ä½ ç”¨åˆ°çš„è¡¨" class="headerlink" title="2. æ•°æ®åº“ä¸­å»ºç«‹ä½ ç”¨åˆ°çš„è¡¨"></a>2. æ•°æ®åº“ä¸­å»ºç«‹ä½ ç”¨åˆ°çš„è¡¨</h3><p>å‚è§è¯­å¥  ~/resources/sql/projects.sql åœ¨ä½ çš„ æ•°æ®åº“ ä¸­æ‰§è¡Œå…¶ä¸­è¯­å¥ï¼Œå»ºç«‹ table <code>user</code>.</p>
<h3 id="3-ç¡®è®¤éœ€è¦çš„ç¯å¢ƒå·²å‡†å¤‡å¥½"><a href="#3-ç¡®è®¤éœ€è¦çš„ç¯å¢ƒå·²å‡†å¤‡å¥½" class="headerlink" title="3. ç¡®è®¤éœ€è¦çš„ç¯å¢ƒå·²å‡†å¤‡å¥½"></a>3. ç¡®è®¤éœ€è¦çš„ç¯å¢ƒå·²å‡†å¤‡å¥½</h3><blockquote>
<p>ç¡®è®¤ ~/resources/logback.xml ä¸­ï¼Œæ—¥å¿—çš„æ‰“å°è·¯å¾„ï¼Œæ˜¯å¦é€‚åˆä½ çš„ç¯å¢ƒ<br>æˆ‘è¿™é‡Œæ˜¯ /data0/www/logs/ ï¼Œ å¦‚æœ‰éœ€è¦æ”¹å˜ï¼Œè¯·è‡ªè¡Œæ›´æ”¹ã€‚ï¼ˆå¦‚æœä¸º windows ç¯å¢ƒï¼Œè¯·æ³¨æ„è·¯å¾„æ˜¯å¦æ­£ç¡®ï¼‰</p>
</blockquote>
<h3 id="4-ç¼–è¯‘-æ‰“åŒ…-å¯åŠ¨jetty"><a href="#4-ç¼–è¯‘-æ‰“åŒ…-å¯åŠ¨jetty" class="headerlink" title="4. ç¼–è¯‘-æ‰“åŒ…-å¯åŠ¨jetty"></a>4. ç¼–è¯‘-æ‰“åŒ…-å¯åŠ¨jetty</h3><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">âœ  github ll</span><br><span class="line">total 0</span><br><span class="line">drwxr-xr-x 13 hp staff 442 Sep 10 14:03 language/</span><br><span class="line">âœ  github cd language/java/springMVC_demo</span><br><span class="line">âœ  springMVC_demo git:(master) âœ— ll</span><br><span class="line">total 24</span><br><span class="line">-rw-r--r-- 1 hp staff   665 Sep 11 15:52 README.md</span><br><span class="line">-rw-r--r-- 1 hp staff 10712 Sep 11 15:10 pom.xml</span><br><span class="line">drwxr-xr-x 4 hp staff   136 Sep 10 13:30 src/</span><br><span class="line">âœ  springMVC_demo git:(master) âœ— mvn clean</span><br><span class="line">âœ  springMVC_demo git:(master) âœ— mvn compile</span><br><span class="line">âœ  springMVC_demo git:(master) âœ— mvn clean package</span><br><span class="line">âœ  springMVC_demo git:(master) âœ— mvn jetty:run</span><br><span class="line">[INFO] Scanning for projects...</span><br><span class="line">[INFO]</span><br><span class="line">[INFO] ------------------------------------------------------------------------</span><br><span class="line">[INFO] Building x_demo Maven Webapp 1.0-SNAPSHOT</span><br><span class="line">[INFO] ------------------------------------------------------------------------</span><br><span class="line">[INFO] FrameworkServlet &apos;mvc-dispatcher&apos;: initialization completed in 572 ms</span><br><span class="line">[INFO] Started SelectChannelConnector@0.0.0.0:8080</span><br><span class="line">[INFO] Started Jetty Server</span><br><span class="line">[INFO] Starting scanner at interval of 5 seconds.</span><br></pre></td></tr></table></figure>
<blockquote>
<p>å½“ç„¶ä½ ä¹Ÿå¯ä»¥é€šè¿‡ IDEA -&gt; Maven Projects -&gt; Plugins -&gt; jetty:run å¯åŠ¨ (æˆ–è€… Tomcat å¯åŠ¨)</p>
</blockquote>
<p>å¯åŠ¨æˆåŠŸåï¼Œè¿™æ—¶ä½ å¯ä»¥åœ¨ä½ çš„æµè§ˆå™¨åˆ†åˆ«è®¿é—®ä»¥ä¸‹æ¥å£ï¼ŒæŸ¥çœ‹æ•ˆæœäº†</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">http://localhost:8080/</span><br><span class="line">http://localhost:8080/user/getusers</span><br><span class="line">http://localhost:8080/user/addusers</span><br><span class="line">http://localhost:8080/user/getusers</span><br><span class="line">http://localhost:8080/user/getuser/2</span><br><span class="line"></span><br><span class="line">------</span><br><span class="line"></span><br><span class="line">http://localhost:8080/user/getuser/2</span><br><span class="line">&#123;</span><br><span class="line">  &quot;status&quot;: 0,</span><br><span class="line">  &quot;errmsg&quot;: &quot;success&quot;,</span><br><span class="line">  &quot;data&quot;: &#123;</span><br><span class="line">    &quot;id&quot;: 2,</span><br><span class="line">    &quot;firstName&quot;: &quot;Andy&quot;,</span><br><span class="line">    &quot;lastName&quot;: &quot;Wong&quot;,</span><br><span class="line">    &quot;age&quot;: 31</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<blockquote>
<p>åœ¨ä½ æµ‹è¯•çš„æ—¶å€™ï¼Œå¦‚æœä½ æƒ³åœ¨æµè§ˆå™¨ä¸­çœ‹åˆ°æ ¼å¼åŒ–åçš„jsonï¼Œè¯·è‡ªè¡Œå®‰è£… chrome ç›¸å…³çš„jsonæ’ä»¶ç­‰ã€‚</p>
</blockquote>
<h2 id="Desc"><a href="#Desc" class="headerlink" title="Desc"></a>Desc</h2><ol>
<li><p>å±•ç¤ºäº†å‰åç«¯å¼€å‘å¦‚ä½•ç”¨jsonè¿›è¡Œäº¤äº’çš„ä¸»æµæ–¹æ³•ï¼Œæ ‡å¿—çŠ¶æ€ä½ä¸é”™è¯¯ä¿¡æ¯ï¼Œè¿”å›ç»“æœå‘ˆç°ç»™å‰ç«¯ï¼Œç”¨ä¸€ä¸ª JsonResult ç±»æ¥å°è£…ï¼ŒåŒæ—¶åœ¨ web å±‚ï¼Œç”¨MappingJackson2HttpMessageConverter é…ç½®ï¼Œå¯è‡ªåŠ¨å°† Map\<string, object\=""> è½¬æ¢ä¸º json å‘ˆç°ç»™å‰ç«¯ç­‰ã€‚</string,></p>
</li>
<li><p>ä»£ç ç¼–å†™æ¯”è¾ƒè§„èŒƒï¼Œç”¨äº†ä¸»æµæ—¥å¿—æ¡†æ¶ï¼Œå°† info ä¸ error æ—¥å¿—åˆ†å¼€æ‰“å°ï¼Œä¸åå¼‚å¸¸ã€‚åˆ†å±‚è§„èŒƒï¼Œè¿˜ç‰¹æ„å†™äº†ä¸¤ä¸ªæ•°æ®æºå¦‚ä½•é…ç½®çš„æ ·ä¾‹ç­‰ã€‚</p>
</li>
<li><p>DAO å±‚ä¸å†™å®ç°ï¼Œåªå†™æ¥å£ï¼Œç”¨ Mybatis æ¥æ‰¿æ¥ï¼Œç±»å¯¹è±¡ä¸æ•°æ®åº“è¡¨ ç›´æ¥è‡ªåŠ¨è½¬æ¢è¯†åˆ«ï¼ŒåŒ…å«äº† æ•°æ®åº“è¡¨å­—æ®µä¸‹åˆ’çº¿ä¸javaç±»å­—æ®µé©¼å³°æ ‡è¯† å¦‚ä½•åŒ¹é…ç­‰ã€‚</p>
</li>
</ol>
<h2 id="Attentions"><a href="#Attentions" class="headerlink" title="Attentions"></a>Attentions</h2><blockquote>
<p>æ³¨æ„ï¼š ç‰ˆæœ¬æ§åˆ¶ä¸­ï¼Œæ¶‰åŠçš„æ•æ„Ÿ åº“åœ°å€ï¼Œç”¨æˆ·åï¼Œå¯†ç  ç­‰ ä¸ä¸Šä¼ .</p>
</blockquote>
<h2 id="Reference"><a href="#Reference" class="headerlink" title="Reference"></a>Reference</h2><ul>
<li><a href="https://github.com/blair101/language/tree/master/java/springMVC_demo" target="_blank" rel="external">blairâ€™s github springMVC_demo</a></li>
</ul>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[Spark Machine Learning p3 - æ•°æ®çš„è·å–ã€å¤„ç†ä¸å‡†å¤‡]]></title>
      <url>http://iequa.com/2016/09/09/spark-machine-learning-p3/</url>
      <content type="html"><![CDATA[<blockquote>
<p>ã€ŠSpark Machine Learingã€‹ Reading Notes</p>
</blockquote>
<p>MovieStream åŒ…æ‹¬ç½‘ç«™æä¾›çš„ç”µå½±æ•°æ®ã€ç”¨æˆ·çš„æœåŠ¡ä¿¡æ¯æ•°æ®ä»¥åŠè¡Œä¸ºæ•°æ®ã€‚</p>
<p>è¿™äº›æ•°æ®æ¶‰åŠç”µå½±å’Œç›¸å…³å†…å®¹ï¼ˆæ¯”å¦‚æ ‡é¢˜ã€åˆ†ç±»ã€å›¾ç‰‡ã€æ¼”å‘˜å’Œå¯¼æ¼”ï¼‰ã€ç”¨æˆ·ä¿¡æ¯ï¼ˆæ¯”å¦‚ç”¨æˆ·å±æ€§ã€ä½ç½®å’Œå…¶ä»–ä¿¡æ¯ï¼‰ä»¥åŠç”¨æˆ·æ´»åŠ¨æ•°æ®ï¼ˆæ¯”å¦‚æµè§ˆæ•°ã€é¢„è§ˆçš„æ ‡é¢˜å’Œæ¬¡æ•°ã€è¯„çº§ã€è¯„è®ºï¼Œä»¥åŠå¦‚èµã€åˆ†äº«ä¹‹ç±»çš„ç¤¾äº¤æ•°æ®ï¼Œè¿˜æœ‰åŒ…æ‹¬åƒFacebookå’ŒTwitterä¹‹ç±»çš„ç¤¾äº¤ç½‘ç»œå±æ€§ï¼‰ã€‚</p>
<p>å…¶å¤–éƒ¨æ•°æ®æ¥æºåˆ™å¯èƒ½åŒ…æ‹¬å¤©æ°”å’Œåœ°ç†å®šä½ä¿¡æ¯ï¼Œä»¥åŠå¦‚IMDBå’ŒRotten Tomatorsä¹‹ç±»çš„ç¬¬ä¸‰æ–¹ç”µå½±è¯„çº§ä¸è¯„è®ºä¿¡æ¯ç­‰ã€‚</p>
<p>ä¸€ä¸ªé¢„æµ‹ç²¾å‡†çš„å¥½æ¨¡å‹æœ‰ç€æé«˜çš„å•†ä¸šä»·å€¼ï¼ˆNetflix Prize å’Œ <strong>Kaggle</strong> ä¸Šæœºå™¨å­¦ä¹ æ¯”èµ›çš„æˆåŠŸå°±æ˜¯å¾ˆå¥½çš„è§è¯ï¼‰</p>
<p><strong>focus on</strong></p>
<ul>
<li>æ•°æ®çš„å¤„ç†ã€æ¸…ç†ã€æ¢ç´¢å’Œå¯è§†åŒ–æ–¹æ³•ï¼›</li>
<li>åŸå§‹æ•°æ®è½¬æ¢ä¸ºå¯ç”¨äºæœºå™¨å­¦ä¹ ç®—æ³•ç‰¹å¾çš„å„ç§æŠ€æœ¯ï¼›</li>
<li>å­¦ä¹ å¦‚ä½•ä½¿ç”¨å¤–éƒ¨åº“æˆ–Sparkå†…ç½®å‡½æ•°æ¥æ­£åˆ™åŒ–è¾“å…¥ç‰¹å¾.</li>
</ul>
<h2 id="1-è·å–å…¬å¼€æ•°æ®é›†"><a href="#1-è·å–å…¬å¼€æ•°æ®é›†" class="headerlink" title="1. è·å–å…¬å¼€æ•°æ®é›†"></a>1. è·å–å…¬å¼€æ•°æ®é›†</h2><p><strong>UCLæœºå™¨å­¦ä¹ çŸ¥è¯†åº“</strong></p>
<blockquote>
<p>åŒ…æ‹¬è¿‘300ä¸ªä¸åŒå¤§å°å’Œç±»å‹çš„æ•°æ®é›†ï¼Œå¯ç”¨äºåˆ†ç±»ã€å›å½’ã€èšç±»å’Œæ¨èç³»ç»Ÿä»»åŠ¡ã€‚æ•°æ®é›†åˆ—è¡¨ä½äºï¼š<a href="http://archive.ics.uci.edu/ml/ã€‚" target="_blank" rel="external">http://archive.ics.uci.edu/ml/ã€‚</a></p>
</blockquote>
<p><strong>Amazon AWSå…¬å¼€æ•°æ®é›†</strong></p>
<blockquote>
<p>åŒ…å«çš„é€šå¸¸æ˜¯å¤§å‹æ•°æ®é›†ï¼Œå¯é€šè¿‡Amazon S3è®¿é—®ã€‚è¿™äº›æ•°æ®é›†åŒ…æ‹¬äººç±»åŸºå› ç»„é¡¹ç›®ã€Common Crawlç½‘é¡µè¯­æ–™åº“ã€ç»´åŸºç™¾ç§‘æ•°æ®å’ŒGoogle Books Ngramsã€‚<br>ç›¸å…³ä¿¡æ¯å¯å‚è§ï¼š<a href="http://aws.amazon.com/publicdatasets/ã€‚" target="_blank" rel="external">http://aws.amazon.com/publicdatasets/ã€‚</a></p>
</blockquote>
<p><strong>Kaggle</strong></p>
<blockquote>
<p>è¿™é‡Œé›†åˆäº†Kaggleä¸¾è¡Œçš„å„ç§æœºå™¨å­¦ä¹ ç«èµ›æ‰€ç”¨çš„æ•°æ®é›†ã€‚<br>å®ƒä»¬è¦†ç›–åˆ†ç±»ã€å›å½’ã€æ’åã€æ¨èç³»ç»Ÿä»¥åŠå›¾åƒåˆ†æé¢†åŸŸï¼Œå¯ä»CompetitionsåŒºåŸŸä¸‹è½½ï¼š<a href="http://www.kaggle.com/competitionsã€‚" target="_blank" rel="external">http://www.kaggle.com/competitionsã€‚</a></p>
</blockquote>
<p><strong>KDnuggets</strong></p>
<blockquote>
<p>è¿™é‡ŒåŒ…å«ä¸€ä¸ªè¯¦ç»†çš„å…¬å¼€æ•°æ®é›†åˆ—è¡¨ï¼Œå…¶ä¸­ä¸€äº›ä¸Šé¢æåˆ°è¿‡çš„ã€‚<br>è¯¥åˆ—è¡¨ä½äºï¼š<a href="http://www.kdnuggets.com/datasets/index.htmlã€‚" target="_blank" rel="external">http://www.kdnuggets.com/datasets/index.htmlã€‚</a></p>
</blockquote>
<p><strong>MovieLens 100kæ•°æ®é›†</strong></p>
<p>MovieLens 100kæ•°æ®é›†åŒ…å«è¡¨ç¤ºå¤šä¸ªç”¨æˆ·å¯¹å¤šéƒ¨ç”µå½±çš„10ä¸‡æ¬¡è¯„çº§æ•°æ®ï¼Œä¹ŸåŒ…å«ç”µå½±å…ƒæ•°æ®å’Œç”¨æˆ·å±æ€§ä¿¡æ¯</p>
<p><a href="http://files.grouplens.org/datasets/movielens/ml-100k.zip" target="_blank" rel="external">http://files.grouplens.org/datasets/movielens/ml-100k.zip</a></p>
<p>ml-100k/  u.userï¼ˆç”¨æˆ·å±æ€§æ–‡ä»¶ï¼‰ã€u.itemï¼ˆç”µå½±å…ƒæ•°æ®ï¼‰å’Œu.dataï¼ˆç”¨æˆ·å¯¹ç”µå½±çš„è¯„çº§ï¼‰</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&gt;unzip ml-100k.zip</span><br><span class="line">  inflating: ml-100k/allbut.pl</span><br><span class="line">  inflating: ml-100k/mku.sh</span><br><span class="line">  inflating: ml-100k/README</span><br><span class="line">  ...</span><br><span class="line">  inflating: ml-100k/ub.base</span><br><span class="line">  inflating: ml-100k/ub.test</span><br></pre></td></tr></table></figure>
<hr>
<p><strong>u.user</strong></p>
<p>user.idã€ageã€genderã€occupationã€ZIP code</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&gt;head -5 u.user</span><br><span class="line">  1|24|M|technician|85711</span><br><span class="line">  2|53|F|other|94043</span><br><span class="line">  3|23|M|writer|32067</span><br><span class="line">  4|24|M|technician|43537</span><br><span class="line">  5|33|F|other|15213</span><br></pre></td></tr></table></figure>
<p><strong>u.item</strong></p>
<p>movie idã€titleã€release dateä»¥åŠè‹¥å¹²ä¸IMDB linkå’Œç”µå½±åˆ†ç±»ç›¸å…³çš„å±æ€§</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&gt;head -5 u.item</span><br><span class="line">  1|Toy Story (1995)|01-Jan-1995||http://us.imdb.com/M/title-exact?Toy%20 Story%20(1995)|0|0|0|1|1|1|0|0|0|0|0|0|0|0|0|0|0|0|0</span><br><span class="line">  2|GoldenEye (1995)|01-Jan-1995||http://us.imdb.com/M/title- exact?GoldenEye%20(1995)|0|1|1|0|0|0|0|0|0|0|0|0|0|0|0|0|1|0|0</span><br><span class="line">  3|Four Rooms (1995)|01-Jan-1995||http://us.imdb.com/M/title- exact?Four%20Rooms%20(1995)|0|0|0|0|0|0|0|0|0|0|0|0|0|0|0|0|1|0|0</span><br><span class="line">  4|Get Shorty (1995)|01-Jan-1995||http://us.imdb.com/M/title- exact?Get%20Shorty%20(1995)|0|1|0|0|0|1|0|0|1|0|0|0|0|0|0|0|0|0|0</span><br><span class="line">  5|Copycat (1995)|01-Jan-1995||http://us.imdb.com/M/title- exact?Copycat%20(1995)|0|0|0|0|0|0|1|0|1|0|0|0|0|0|0|0|1|0|0</span><br></pre></td></tr></table></figure>
<p><strong>u.data</strong></p>
<p>user idã€movie idã€ratingï¼ˆä»1åˆ°5ï¼‰å’Œtimestampå±æ€§ï¼Œå„å±æ€§é—´ç”¨åˆ¶è¡¨ç¬¦ï¼ˆ\tï¼‰åˆ†éš”</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&gt;head -5 u.data</span><br><span class="line">196    242    3    881250949</span><br><span class="line">186    302    3    891717742</span><br><span class="line">22     377    1    878887116</span><br><span class="line">244    51     2    880606923</span><br><span class="line">166    346    1    886397596</span><br></pre></td></tr></table></figure>
<h2 id="2-æ¢ç´¢ä¸å¯è§†åŒ–æ•°æ®"><a href="#2-æ¢ç´¢ä¸å¯è§†åŒ–æ•°æ®" class="headerlink" title="2. æ¢ç´¢ä¸å¯è§†åŒ–æ•°æ®"></a>2. æ¢ç´¢ä¸å¯è§†åŒ–æ•°æ®</h2><p>IPythonçš„å®‰è£…æ–¹æ³•å¯å‚è€ƒå¦‚ä¸‹æŒ‡å¼•ï¼š<a href="http://ipython.org/install.htmlã€‚" target="_blank" rel="external">http://ipython.org/install.htmlã€‚</a></p>
<p>å¦‚æœè¿™æ˜¯ä½ ç¬¬ä¸€æ¬¡ä½¿ç”¨IPythonï¼Œè¿™é‡Œæœ‰ä¸€ä¸ªæ•™ç¨‹ï¼š<a href="http://ipython.org/ipython-doc/stable/interactive/tutorial.htmlã€‚" target="_blank" rel="external">http://ipython.org/ipython-doc/stable/interactive/tutorial.htmlã€‚</a></p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&gt;IPYTHON=1 IPYTHON_OPTS=&quot;--pylab&quot; ./bin/pyspark</span><br></pre></td></tr></table></figure>
<blockquote>
<p>ç»ˆç«¯é‡Œçš„IPython 2.3.1 â€“ An enhanced Interactive Pythonå’ŒUsing matplotlib backend: MacOSXè¾“å‡ºè¡Œè¡¨ç¤ºIPythonå’Œpylabå‡å·²è¢«PySparkå¯ç”¨ã€‚</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">Welcome to</span><br><span class="line">      ____              __</span><br><span class="line">     / __/__  ___ _____/ /__</span><br><span class="line">    _\ \/ _ \/ _ `/ __/  &apos;_/</span><br><span class="line">   /__ / .__/\_,_/_/ /_/\_\   version 1.5.2</span><br><span class="line">      /_/</span><br><span class="line"></span><br><span class="line">Using Python version 2.7.10 (default, Jul 14 2015 19:46:27)</span><br><span class="line">SparkContext available as sc, HiveContext available as sqlContext.</span><br><span class="line"></span><br><span class="line">In [1]:</span><br></pre></td></tr></table></figure>
<blockquote>
<p>å¯ä»¥å°†æ ·æœ¬ä»£ç è¾“å…¥åˆ°IPythonç»ˆç«¯ï¼Œä¹Ÿå¯é€šè¿‡IPythonæä¾›çš„Notebook åº”ç”¨æ¥å®Œæˆã€‚Notebookæ”¯æŒHTMLæ˜¾ç¤ºï¼Œä¸”åœ¨IPythonç»ˆç«¯çš„åŸºç¡€ä¸Šæä¾›äº†ä¸€äº›å¢å¼ºåŠŸèƒ½ï¼Œå¦‚å³æ—¶ç»˜å›¾ã€HTMLæ ‡è®°ï¼Œä»¥åŠç‹¬ç«‹è¿è¡Œä»£ç ç‰‡æ®µçš„åŠŸèƒ½ã€‚</p>
<p>IPython Notebook ä½¿ç”¨æŒ‡å—ï¼š<a href="http://ipython.org/ipython-doc/stable/interactive/notebook.html" target="_blank" rel="external">http://ipython.org/ipython-doc/stable/interactive/notebook.html</a></p>
</blockquote>
<h3 id="2-1-æ¢ç´¢ç”¨æˆ·æ•°æ®"><a href="#2-1-æ¢ç´¢ç”¨æˆ·æ•°æ®" class="headerlink" title="2.1 æ¢ç´¢ç”¨æˆ·æ•°æ®"></a>2.1 æ¢ç´¢ç”¨æˆ·æ•°æ®</h3><figure class="highlight plain"><figcaption><span>python</span></figcaption><table><tr><td class="code"><pre><span class="line">user_data = sc.textFile(&quot;/Users/hp/ghome/ml/ml-100k/u.user&quot;)</span><br><span class="line">user_data.first()</span><br><span class="line">user_data.take(5)</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><figcaption><span>python</span></figcaption><table><tr><td class="code"><pre><span class="line">user_fields = user_data.map(lambda line: line.split(&quot;|&quot;))</span><br><span class="line">num_users = user_fields.map(lambda fields: fields[0]).count()</span><br><span class="line">num_genders = user_fields.map(lambda fields: fields[2]).distinct().count()</span><br><span class="line">num_occupations = user_fields.map(lambda fields: fields[3]).distinct().count()</span><br><span class="line">num_zipcodes = user_fields.map(lambda fields: fields[4]).distinct().count()</span><br><span class="line">print &quot;Users: %d, genders: %d, occupations: %d, ZIP codes: %d&quot; % (num_users, num_genders, num_occupations, num_zipcodes)</span><br></pre></td></tr></table></figure>
<p>Output</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">Users: 943, genders: 2, occupations: 21, ZIP codes: 795</span><br></pre></td></tr></table></figure>
<p>matplotlibçš„histä¸ªç›´æ–¹å›¾ï¼Œä»¥åˆ†æç”¨æˆ·å¹´é¾„çš„åˆ†å¸ƒæƒ…å†µï¼š</p>
<p><strong>age distribution</strong></p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">ages = user_fields.map(lambda x: int(x[1])).collect()</span><br><span class="line">hist(ages, bins=20, color=&apos;lightblue&apos;, normed=True)</span><br><span class="line">fig = matplotlib.pyplot.gcf()</span><br><span class="line">fig.set_size_inches(16, 10)</span><br></pre></td></tr></table></figure>
<p><img src="/images/spark/spark-ml-3.1.png" alt="screenshow?key=15055650f47cff956148"></p>
<p><strong>occupation distribution</strong></p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">count_by_occupation = user_fields.map(lambda fields: (fields[3], 1)).reduceByKey(lambda x, y: x + y).collect()</span><br><span class="line"></span><br><span class="line">x_axis1 = np.array([c[0] for c in count_by_occupation])</span><br><span class="line"></span><br><span class="line">y_axis1 = np.array([c[1] for c in count_by_occupation])</span><br><span class="line"></span><br><span class="line">print x_axis1</span><br><span class="line">[u&apos;administrator&apos; u&apos;retired&apos; u&apos;lawyer&apos; u&apos;none&apos; u&apos;student&apos; u&apos;technician&apos;</span><br><span class="line"> u&apos;programmer&apos; u&apos;salesman&apos; u&apos;homemaker&apos; u&apos;writer&apos; u&apos;doctor&apos;</span><br><span class="line"> u&apos;entertainment&apos; u&apos;marketing&apos; u&apos;executive&apos; u&apos;scientist&apos; u&apos;educator&apos;</span><br><span class="line"> u&apos;healthcare&apos; u&apos;librarian&apos; u&apos;artist&apos; u&apos;other&apos; u&apos;engineer&apos;]</span><br><span class="line"></span><br><span class="line">print y_axis1</span><br><span class="line">[ 79  14  12   9 196  27  66  12   7  45   7  18  26  32  31  95  16  51</span><br><span class="line">  28 105  67]</span><br></pre></td></tr></table></figure>
<p>plt.xticks(rotation=30)ä¹‹ç±»çš„ä»£ç  æ˜¯ ç¾åŒ–æ¡å½¢å›¾</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">pos = np.arange(len(x_axis))</span><br><span class="line">width = 1.0</span><br><span class="line"></span><br><span class="line">ax = plt.axes()</span><br><span class="line">ax.set_xticks(pos + (width / 2))</span><br><span class="line">ax.set_xticklabels(x_axis)</span><br><span class="line"></span><br><span class="line">plt.bar(pos, y_axis, width, color=&apos;lightblue&apos;)</span><br><span class="line">plt.xticks(rotation=30)</span><br><span class="line">fig = matplotlib.pyplot.gcf()</span><br><span class="line">fig.set_size_inches(16, 10)</span><br></pre></td></tr></table></figure>
<p><img src="/images/spark/spark-ml-3.2.png" alt="screenshow?key=15057f015ac5712d9a83"></p>
<p>Sparkå¯¹RDDæä¾›äº†ä¸€ä¸ªåä¸ºcountByValueçš„ä¾¿æ·å‡½æ•°</p>
<figure class="highlight plain"><figcaption><span>python</span></figcaption><table><tr><td class="code"><pre><span class="line">count_by_occupation2 = user_fields.map(lambda fields: fields[3]).countByValue()</span><br><span class="line">print &quot;Map-reduce approach:&quot;</span><br><span class="line">print dict(count_by_occupation2)</span><br><span class="line">print &quot;&quot;</span><br><span class="line">print &quot;countByValue approach:&quot;</span><br><span class="line">print dict(count_by_occupation)</span><br></pre></td></tr></table></figure>
<h3 id="2-2-æ¢ç´¢ç”µå½±æ•°æ®"><a href="#2-2-æ¢ç´¢ç”µå½±æ•°æ®" class="headerlink" title="2.2 æ¢ç´¢ç”µå½±æ•°æ®"></a>2.2 æ¢ç´¢ç”µå½±æ•°æ®</h3><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">movie_data = sc.textFile(&quot;/PATH/ml-100k/u.item&quot;)</span><br><span class="line">print movie_data.first()</span><br><span class="line">num_movies = movie_data.count()</span><br><span class="line">print &quot;Movies: %d&quot; % num_movies</span><br></pre></td></tr></table></figure>
<p>1|Toy Story (1995)|01-Jan-1995||<a href="http://us.imdb.com/M/title-exact?Toy%20Story%20(1995)|0|0|0|1|1|1|0|0|0|0|0|0|0|0|0|0|0|0|0" target="_blank" rel="external">http://us.imdb.com/M/title-exact?Toy%20Story%20(1995)|0|0|0|1|1|1|0|0|0|0|0|0|0|0|0|0|0|0|0</a><br>Movies: 1682</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">def convert_year(x):</span><br><span class="line">  try:</span><br><span class="line">    return int(x[-4:])</span><br><span class="line">  except:</span><br><span class="line">    return 1900</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">movie_fields = movie_data.map(lambda lines: lines.split(&quot;|&quot;))</span><br><span class="line">years = movie_fields.map(lambda fields: fields[2]).map(lambda x: convert_year(x))</span><br><span class="line"></span><br><span class="line">years_filtered = years.filter(lambda x: x != 1900)</span><br><span class="line"></span><br><span class="line">movie_ages = years_filtered.map(lambda yr: 1998-yr).countByValue()</span><br><span class="line">values = movie_ages.values()</span><br><span class="line">bins = movie_ages.keys()</span><br><span class="line">hist(values, bins=bins, color=&apos;lightblue&apos;, normed=True)</span><br><span class="line">fig = matplotlib.pyplot.gcf()</span><br><span class="line">fig.set_size_inches(16,10)</span><br></pre></td></tr></table></figure>
<p><img src="/images/spark/spark-ml-3.3.png" alt="screenshow?key=150556f33e22a36bb651"></p>
<h3 id="2-3-æ¢ç´¢è¯„çº§æ•°æ®"><a href="#2-3-æ¢ç´¢è¯„çº§æ•°æ®" class="headerlink" title="2.3 æ¢ç´¢è¯„çº§æ•°æ®"></a>2.3 æ¢ç´¢è¯„çº§æ•°æ®</h3><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">rating_data = sc.textFile(&quot;/Users/hp/ghome/ml/ml-100k/u.data&quot;)</span><br><span class="line">print rating_data.first()</span><br><span class="line">num_ratings = rating_data.count()</span><br><span class="line">print &quot;Ratings: %d&quot; % num_ratings</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">rating_data = rating_data.map(lambda line: line.split(&quot;\t&quot;))</span><br><span class="line">ratings = rating_data.map(lambda fields: int(fields[2]))</span><br><span class="line">max_rating = ratings.reduce(lambda x, y: max(x, y))</span><br><span class="line">min_rating = ratings.reduce(lambda x, y: min(x, y))</span><br><span class="line">mean_rating = ratings.reduce(lambda x, y: x + y) / num_ratings</span><br><span class="line">median_rating = np.median(ratings.collect())</span><br><span class="line">ratings_per_user = num_ratings / num_users</span><br><span class="line">ratings_per_movie = num_ratings / num_movies</span><br><span class="line">print &quot;Min rating: %d&quot; % min_rating</span><br><span class="line">print &quot;Max rating: %d&quot; % max_rating</span><br><span class="line">print &quot;Average rating: %2.2f&quot; % mean_rating</span><br><span class="line">print &quot;Median rating: %d&quot; % median_rating</span><br><span class="line">print &quot;Average # of ratings per user: %2.2f&quot; % ratings_per_user</span><br><span class="line">print &quot;Average # of ratings per movie: %2.2f&quot; % ratings_per_movie</span><br></pre></td></tr></table></figure>
<blockquote>
<p>Max rating: 5<br>Average rating: 3.00<br>Median rating: 4<br>Average # of ratings per user: 106.00<br>Average # of ratings per movie: 59.00</p>
</blockquote>
<p>Sparkå¯¹RDDä¹Ÿæä¾›ä¸€ä¸ªåä¸ºstatesçš„å‡½æ•°ã€‚è¯¥å‡½æ•°åŒ…å«ä¸€ä¸ªæ•°å€¼å˜é‡ç”¨äºåšç±»ä¼¼çš„ç»Ÿè®¡ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">ratings.stats()</span><br><span class="line"></span><br><span class="line">å…¶è¾“å‡ºä¸ºï¼š</span><br><span class="line">(count: 100000, mean: 3.52986, stdev: 1.12566797076, max: 5.0, min: 1.0)</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">count_by_rating = ratings.countByValue()</span><br><span class="line">x_axis = np.array(count_by_rating.keys())</span><br><span class="line">y_axis = np.array([float(c) for c in count_by_rating.values()])</span><br><span class="line"># è¿™é‡Œå¯¹yè½´æ­£åˆ™åŒ–ï¼Œä½¿å®ƒè¡¨ç¤ºç™¾åˆ†æ¯”</span><br><span class="line">y_axis_normed = y_axis / y_axis.sum()</span><br><span class="line">pos = np.arange(len(x_axis))</span><br><span class="line">width = 1.0</span><br><span class="line"></span><br><span class="line">ax = plt.axes()</span><br><span class="line">ax.set_xticks(pos + (width / 2))</span><br><span class="line">ax.set_xticklabels(x_axis)</span><br><span class="line"></span><br><span class="line">plt.bar(pos, y_axis_normed, width, color=&apos;lightblue&apos;)</span><br><span class="line">plt.xticks(rotation=30)</span><br><span class="line">fig = matplotlib.pyplot.gcf()</span><br><span class="line">fig.set_size_inches(16, 10)</span><br></pre></td></tr></table></figure>
<p><img src="/images/spark/spark-ml-3.4.png" alt="screenshow?key=1505422e3494afb95855"></p>
<p><strong>å„ä¸ªç”¨æˆ·è¯„çº§æ¬¡æ•°çš„åˆ†å¸ƒæƒ…å†µ</strong></p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">user_ratings_grouped = rating_data.map(lambda fields: (int(fields[0]), int(fields[2]))).groupByKey()</span><br><span class="line"></span><br><span class="line">user_ratings_byuser = user_ratings_grouped.map(lambda (k, v): (k, len(v)))</span><br><span class="line">user_ratings_byuser.take(10)</span><br><span class="line"></span><br><span class="line">Out[91]:</span><br><span class="line">[(2, 62),</span><br><span class="line"> (4, 24),</span><br><span class="line"> (6, 211),</span><br><span class="line"> (8, 59),</span><br><span class="line"> (10, 184),</span><br><span class="line"> (12, 51),</span><br><span class="line"> (14, 98),</span><br><span class="line"> (16, 140),</span><br><span class="line"> (18, 277),</span><br><span class="line"> (20, 48)]</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">user_ratings_byuser_local = user_ratings_byuser.map(lambda (k, v): v).collect()</span><br><span class="line">hist(user_ratings_byuser_local, bins=200, color=&apos;lightblue&apos;, normed=True)</span><br><span class="line">fig = matplotlib.pyplot.gcf()</span><br><span class="line">fig.set_size_inches(16,10)</span><br></pre></td></tr></table></figure>
<p><img src="/images/spark/spark-ml-3.5.png" alt="screenshow?key=15056b5ffb7672cee5d1"></p>
<h2 id="3-å¤„ç†ä¸è½¬æ¢æ•°æ®"><a href="#3-å¤„ç†ä¸è½¬æ¢æ•°æ®" class="headerlink" title="3. å¤„ç†ä¸è½¬æ¢æ•°æ®"></a>3. å¤„ç†ä¸è½¬æ¢æ•°æ®</h2><p><strong>éè§„æ•´æ•°æ®å’Œç¼ºå¤±æ•°æ®çš„å¡«å……</strong></p>
<h2 id="4-ä»æ•°æ®ä¸­æå–æœ‰ç”¨ç‰¹å¾"><a href="#4-ä»æ•°æ®ä¸­æå–æœ‰ç”¨ç‰¹å¾" class="headerlink" title="4. ä»æ•°æ®ä¸­æå–æœ‰ç”¨ç‰¹å¾"></a>4. ä»æ•°æ®ä¸­æå–æœ‰ç”¨ç‰¹å¾</h2><p>åœ¨å®Œæˆå¯¹æ•°æ®çš„åˆæ­¥æ¢ç´¢ã€å¤„ç†å’Œæ¸…ç†åï¼Œä¾¿å¯ä»ä¸­æå–å¯ä¾›æœºå™¨å­¦ä¹ æ¨¡å‹è®­ç»ƒç”¨çš„ç‰¹å¾ã€‚</p>
<p>ç‰¹å¾ï¼ˆ<code>feature</code>ï¼‰æŒ‡é‚£äº›ç”¨äº<strong><em>æ¨¡å‹è®­ç»ƒçš„å˜é‡</em></strong>ã€‚æ¯ä¸€è¡Œæ•°æ®åŒ…å«å¯ä¾›æå–åˆ°è®­ç»ƒæ ·æœ¬ä¸­çš„å„ç§ä¿¡æ¯ã€‚</p>
<p>å‡ ä¹æ‰€æœ‰æœºå™¨å­¦ä¹ æ¨¡å‹éƒ½æ˜¯ä¸ç”¨å‘é‡è¡¨ç¤ºçš„æ•°å€¼ç‰¹å¾æ‰“äº¤é“ï¼›éœ€å°†åŸå§‹æ•°æ®è½¬æ¢ä¸ºæ•°å€¼ã€‚</p>
<p>ç‰¹å¾å¯ä»¥æ¦‚æ‹¬åœ°åˆ†ä¸ºå¦‚ä¸‹å‡ ç§ã€‚</p>
<ul>
<li>æ•°å€¼ç‰¹å¾ï¼ˆnumerical featureï¼‰ï¼šè¿™äº›ç‰¹å¾é€šå¸¸ä¸ºå®æ•°æˆ–æ•´æ•°ï¼Œæ¯”å¦‚ä¹‹å‰ä¾‹å­ä¸­æåˆ°çš„å¹´é¾„ã€‚</li>
<li>ç±»åˆ«ç‰¹å¾ï¼ˆcategorical featureï¼‰ï¼šæˆ‘ä»¬æ•°æ®é›†ä¸­çš„ç”¨æˆ·æ€§åˆ«ã€èŒä¸šæˆ–ç”µå½±ç±»åˆ«ä¾¿æ˜¯è¿™ç±»ã€‚</li>
<li>æ–‡æœ¬ç‰¹å¾ï¼ˆtext featureï¼‰ï¼šå®ƒä»¬æ´¾ç”Ÿè‡ªæ•°æ®ä¸­çš„æ–‡æœ¬å†…å®¹ï¼Œæ¯”å¦‚ç”µå½±åã€æè¿°æˆ–æ˜¯è¯„è®ºã€‚</li>
<li>å…¶ä»–ç‰¹å¾ï¼šâ€¦ åœ°ç†ä½ç½®åˆ™å¯ç”±ç»çº¬åº¦æˆ–åœ°ç†æ•£åˆ—ï¼ˆgeohashï¼‰è¡¨ç¤ºã€‚</li>
</ul>
<h3 id="4-1-æ•°å€¼ç‰¹å¾"><a href="#4-1-æ•°å€¼ç‰¹å¾" class="headerlink" title="4.1 æ•°å€¼ç‰¹å¾"></a>4.1 æ•°å€¼ç‰¹å¾</h3><p>åŸå§‹çš„æ•°å€¼å’Œä¸€ä¸ªæ•°å€¼ç‰¹å¾ä¹‹é—´çš„åŒºåˆ«æ˜¯ä»€ä¹ˆï¼Ÿ</p>
<p>æœºå™¨å­¦ä¹ æ¨¡å‹ä¸­æ‰€å­¦ä¹ çš„æ˜¯å„ä¸ªç‰¹å¾æ‰€å¯¹åº”çš„å‘é‡çš„æƒå€¼ã€‚è¿™äº›æƒå€¼åœ¨<code>ç‰¹å¾å€¼</code>åˆ°è¾“å‡ºæˆ–æ˜¯<code>ç›®æ ‡å˜é‡</code>ï¼ˆæŒ‡åœ¨ç›‘ç£å­¦ä¹ æ¨¡å‹ä¸­ï¼‰is very importantã€‚</p>
<p>å½“æ•°å€¼ç‰¹å¾ä»å¤„äºåŸå§‹å½¢å¼æ—¶ï¼Œå…¶å¯ç”¨æ€§ç›¸å¯¹è¾ƒä½ï¼Œä½†å¯ä»¥è½¬åŒ–ä¸ºæ›´æœ‰ç”¨çš„è¡¨ç¤ºå½¢å¼ã€‚</p>
<p>å¦‚ (ä½ç½®ä¿¡æ¯ : åŸå§‹ä½ç½®ä¿¡æ¯ï¼ˆæ¯”å¦‚ç”¨ç»çº¬åº¦è¡¨ç¤ºçš„ï¼‰ï¼Œä¿¡æ¯å¯ç”¨æ€§å¾ˆä½ã€‚ ç„¶è‹¥å¯¹ä½ç½®è¿›è¡Œèšåˆï¼ˆæ¯”å¦‚èšç„¦ä¸ºä¸€ä¸ªcity or countryï¼‰ï¼Œå’Œç‰¹å®šè¾“å‡º ä¹‹é—´å­˜åœ¨æŸç§å…³è”ã€‚</p>
<h3 id="4-2-ç±»åˆ«ç‰¹å¾"><a href="#4-2-ç±»åˆ«ç‰¹å¾" class="headerlink" title="4.2 ç±»åˆ«ç‰¹å¾"></a>4.2 ç±»åˆ«ç‰¹å¾</h3><p>å°†ç±»åˆ«ç‰¹å¾è¡¨ç¤ºä¸ºæ•°å­—å½¢å¼ï¼Œå¸¸å¯å€ŸåŠ© k ä¹‹1ï¼ˆ1-of-kï¼‰æ–¹æ³•è¿›è¡Œ</p>
<p>æ¯”å¦‚ï¼Œå¯å–<code>occupation</code> æ‰€æœ‰å¯èƒ½å–å€¼ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">all_occupations = user_fields.map(lambda fields: fields[3]). distinct().collect()</span><br><span class="line">all_occupations.sort()</span><br></pre></td></tr></table></figure>
<p>ç„¶å¯ä¾æ¬¡å¯¹å„å¯èƒ½çš„èŒä¸šåˆ†é…åºå·ï¼ˆæ³¨æ„ ä»0å¼€å§‹ç¼–å·ï¼‰ï¼š</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">idx = <span class="number">0</span></span><br><span class="line">all_occupations_dict = &#123;&#125;</span><br><span class="line"><span class="keyword">for</span> o <span class="keyword">in</span> all_occupations:</span><br><span class="line">    all_occupations_dict[o] = idx</span><br><span class="line">    idx +=<span class="number">1</span></span><br><span class="line"><span class="comment"># çœ‹ä¸€ä¸‹â€œkä¹‹1â€ç¼–ç ä¼šå¯¹æ–°çš„ä¾‹å­åˆ†é…ä»€ä¹ˆå€¼</span></span><br><span class="line"><span class="keyword">print</span> <span class="string">"Encoding of 'doctor': %d"</span> % all_occupations_dict[<span class="string">'doctor'</span>]</span><br><span class="line"><span class="keyword">print</span> <span class="string">"Encoding of 'programmer': %d"</span> % all_occupations_dict[<span class="string">'programmer'</span>]</span><br></pre></td></tr></table></figure>
<p>å…¶è¾“å‡ºå¦‚ä¸‹ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">Encoding of &apos;doctor&apos;: 2</span><br><span class="line">Encoding of &apos;programmer&apos;: 14</span><br></pre></td></tr></table></figure>
<h3 id="4-3-æ´¾ç”Ÿç‰¹å¾"><a href="#4-3-æ´¾ç”Ÿç‰¹å¾" class="headerlink" title="4.3 æ´¾ç”Ÿç‰¹å¾"></a>4.3 æ´¾ç”Ÿç‰¹å¾</h3><p>ä»åŸå§‹æ•°æ®æ´¾ç”Ÿç‰¹å¾çš„ä¾‹å­åŒ…æ‹¬è®¡ç®—å¹³å‡å€¼ã€ä¸­ä½å€¼ã€æ–¹å·®ã€å’Œã€å·®ã€æœ€å¤§å€¼æˆ–æœ€å°å€¼ä»¥åŠè®¡æ•°ã€‚ä»ç”µå½±çš„å‘è¡Œå¹´ä»½å’Œå½“å‰å¹´ä»½æ´¾ç”Ÿäº†æ–°çš„movie ageç‰¹å¾çš„ã€‚è¿™ç±»è½¬æ¢èƒŒåçš„æƒ³æ³•å¸¸å¸¸æ˜¯å¯¹æ•°å€¼æ•°æ®è¿›è¡ŒæŸç§æ¦‚æ‹¬ï¼Œå¹¶æœŸæœ›å®ƒèƒ½è®©æ¨¡å‹å­¦ä¹ æ›´å®¹æ˜“ã€‚</p>
<p>æ•°å€¼ç‰¹å¾åˆ°ç±»åˆ«ç‰¹å¾çš„è½¬æ¢ä¹Ÿå¾ˆå¸¸è§ï¼Œæ¯”å¦‚åˆ’åˆ†ä¸ºåŒºé—´ç‰¹å¾ã€‚è¿›è¡Œè¿™ç±»è½¬æ¢çš„å˜é‡å¸¸è§çš„æœ‰å¹´é¾„ã€åœ°ç†ä½ç½®å’Œæ—¶é—´ã€‚</p>
<p><strong>å¦‚ ï¼š å°†æ—¶é—´æˆ³è½¬ä¸ºç±»åˆ«ç‰¹</strong></p>
<p>ç”µå½±è¯„çº§å‘ç”Ÿçš„æ—¶é—´</p>
<p>[â€˜afternoonâ€™, â€˜eveningâ€™, â€˜morningâ€™, â€˜morningâ€™, â€˜morningâ€™]</p>
<h3 id="4-4-æ–‡æœ¬ç‰¹å¾"><a href="#4-4-æ–‡æœ¬ç‰¹å¾" class="headerlink" title="4.4 æ–‡æœ¬ç‰¹å¾"></a>4.4 æ–‡æœ¬ç‰¹å¾</h3><p>æ–‡æœ¬ç‰¹å¾ä¹Ÿæ˜¯ä¸€ç§ç±»åˆ«ç‰¹å¾æˆ–æ´¾ç”Ÿç‰¹å¾</p>
<p>NLP ä¾¿æ˜¯ä¸“æ³¨äºæ–‡æœ¬å†…å®¹çš„å¤„ç†ã€è¡¨ç¤ºå’Œå»ºæ¨¡çš„ä¸€ä¸ªé¢†åŸŸã€‚</p>
<p>ä»‹ç»ä¸€ç§ç®€å•ä¸”æ ‡å‡†åŒ–çš„æ–‡æœ¬ç‰¹å¾æå–æ–¹æ³•ã€‚è¯¥æ–¹æ³•è¢«ç§°ä¸ºè¯è¢‹ï¼ˆbag-of-wordï¼‰è¡¨ç¤ºæ³•ã€‚</p>
<p>è¯è¢‹æ³•å°†ä¸€æ®µæ–‡æœ¬è§†ä¸ºç”±å…¶ä¸­çš„æ–‡æœ¬æˆ–æ•°å­—ç»„æˆçš„é›†åˆï¼Œå…¶å¤„ç†è¿‡ç¨‹å¦‚ä¸‹ã€‚</p>
<p><strong>bag-of-word</strong></p>
<p><strong>(1) åˆ†è¯ï¼ˆtokenizationï¼‰</strong></p>
<p>é¦–å…ˆä¼šåº”ç”¨æŸäº›åˆ†è¯æ–¹æ³•æ¥å°†æ–‡æœ¬åˆ†éš”ä¸ºä¸€ä¸ªç”±è¯ï¼ˆä¸€èˆ¬å¦‚å•è¯ã€æ•°å­—ç­‰ï¼‰ç»„æˆçš„é›†åˆã€‚</p>
<p><strong>(2) åˆ é™¤åœç”¨è¯ï¼ˆstop words removal)</strong></p>
<p>åˆ é™¤å¸¸è§çš„å•è¯ï¼Œæ¯”å¦‚theã€andå’Œbutï¼ˆè¿™äº›è¯è¢«ç§°ä½œåœç”¨è¯ï¼‰ã€‚</p>
<p><strong>(3) æå–è¯å¹²ï¼ˆstemmingï¼‰</strong>ï¼š</p>
<p>æ˜¯æŒ‡å°†å„ä¸ªè¯ç®€åŒ–ä¸ºå…¶åŸºæœ¬çš„å½¢å¼æˆ–è€…å¹²è¯ã€‚å¸¸è§çš„ä¾‹å­å¦‚å¤æ•°å˜ä¸ºå•æ•°ï¼ˆæ¯”å¦‚dogså˜ä¸ºdogç­‰ï¼‰ã€‚æå–çš„æ–¹æ³•æœ‰å¾ˆå¤šç§ï¼Œæ–‡æœ¬å¤„ç†ç®—æ³•åº“ä¸­å¸¸å¸¸ä¼šåŒ…æ‹¬å¤šç§è¯å¹²æå–æ–¹æ³•ã€‚</p>
<p><strong>(4) å‘é‡åŒ–ï¼ˆvectorizationï¼‰</strong> ï¼š</p>
<p>å‘é‡æ¥è¡¨ç¤ºå¤„ç†å¥½çš„è¯ã€‚äºŒå…ƒå‘é‡å¯èƒ½æ˜¯æœ€ä¸ºç®€å•çš„è¡¨ç¤ºæ–¹å¼ã€‚å®ƒç”¨1å’Œ0æ¥åˆ†åˆ«è¡¨ç¤ºæ˜¯å¦å­˜åœ¨æŸä¸ªè¯ã€‚ä»æ ¹æœ¬ä¸Šè¯´ï¼Œè¿™ä¸ä¹‹å‰æåˆ°çš„ k ä¹‹1ç¼–ç ç›¸åŒã€‚ä¸ k ä¹‹1ç›¸åŒï¼Œå®ƒéœ€è¦ä¸€ä¸ªè¯çš„å­—å…¸æ¥å®ç°è¯åˆ°ç´¢å¼•åºå·çš„æ˜ å°„ã€‚éšç€é‡åˆ°çš„è¯å¢å¤šï¼Œå„ç§è¯å¯èƒ½è¾¾æ•°ç™¾ä¸‡ã€‚ç”±æ­¤ï¼Œä½¿ç”¨ç¨€ç–çŸ©é˜µæ¥è¡¨ç¤ºå°±å¾ˆå…³é”®ã€‚è¿™ç§è¡¨ç¤ºåªè®°å½•æŸä¸ªè¯æ˜¯å¦å‡ºç°è¿‡ï¼Œä»è€ŒèŠ‚çœå†…å­˜å’Œç£ç›˜ç©ºé—´ï¼Œä»¥åŠè®¡ç®—æ—¶é—´ã€‚</p>
<p><strong>æå–ç®€å•çš„æ–‡æœ¬ç‰¹å¾</strong></p>
<p>å‚è§ : <a href="http://www.ituring.com.cn/tupubarticle/5567" target="_blank" rel="external">http://www.ituring.com.cn/tupubarticle/5567</a></p>
<p>ç°åœ¨æ¯ä¸€ä¸ªç”µå½±æ ‡é¢˜éƒ½è¢«è½¬æ¢ä¸ºä¸€ä¸ªç¨€ç–å‘é‡ã€‚</p>
<h3 id="4-5-æ­£åˆ™åŒ–ç‰¹å¾"><a href="#4-5-æ­£åˆ™åŒ–ç‰¹å¾" class="headerlink" title="4.5 æ­£åˆ™åŒ–ç‰¹å¾"></a>4.5 æ­£åˆ™åŒ–ç‰¹å¾</h3><p>åœ¨å°†ç‰¹å¾æå–ä¸ºå‘é‡å½¢å¼åï¼Œä¸€ç§å¸¸è§çš„é¢„å¤„ç†æ–¹å¼æ˜¯å°†æ•°å€¼æ•°æ®æ­£åˆ™åŒ–ï¼ˆnormalizationï¼‰ã€‚å…¶èƒŒåçš„æ€æƒ³æ˜¯å°†å„ä¸ªæ•°å€¼ç‰¹å¾è¿›è¡Œè½¬æ¢ï¼Œä»¥å°†å®ƒä»¬çš„å€¼åŸŸè§„èŒƒåˆ°ä¸€ä¸ªæ ‡å‡†åŒºé—´å†…ã€‚æ­£åˆ™åŒ–çš„æ–¹æ³•æœ‰å¦‚ä¸‹å‡ ç§ã€‚</p>
<ul>
<li>æ­£åˆ™åŒ–ç‰¹å¾ï¼šè¿™å®é™…ä¸Šæ˜¯å¯¹æ•°æ®é›†ä¸­çš„å•ä¸ªç‰¹å¾è¿›è¡Œè½¬æ¢ã€‚æ¯”å¦‚å‡å»å¹³å‡å€¼ï¼ˆç‰¹å¾å¯¹é½ï¼‰æˆ–æ˜¯è¿›è¡Œæ ‡å‡†çš„æ­£åˆ™è½¬æ¢ï¼ˆä»¥ä½¿å¾—è¯¥ç‰¹å¾çš„å¹³å‡å€¼å’Œæ ‡å‡†å·®åˆ†åˆ«ä¸º0å’Œ1ï¼‰ã€‚</li>
<li>æ­£åˆ™åŒ–ç‰¹å¾å‘é‡ï¼šè¿™é€šå¸¸æ˜¯å¯¹æ•°æ®ä¸­çš„æŸä¸€è¡Œçš„æ‰€æœ‰ç‰¹å¾è¿›è¡Œè½¬æ¢ï¼Œä»¥è®©è½¬æ¢åçš„ç‰¹å¾å‘é‡çš„é•¿åº¦æ ‡å‡†åŒ–ã€‚ä¹Ÿå°±æ˜¯ç¼©æ”¾å‘é‡ä¸­çš„å„ä¸ªç‰¹å¾ä»¥ä½¿å¾—å‘é‡çš„èŒƒæ•°ä¸º1ï¼ˆå¸¸æŒ‡ä¸€é˜¶æˆ–äºŒé˜¶èŒƒæ•°ï¼‰ã€‚</li>
</ul>
<p>å‘é‡æ­£åˆ™åŒ–å¯é€šè¿‡numpyçš„normå‡½æ•°æ¥å®ç°ã€‚å…·ä½“æ¥è¯´ï¼Œå…ˆè®¡ç®—ä¸€ä¸ªéšæœºå‘é‡çš„äºŒé˜¶èŒƒæ•°ï¼Œç„¶åè®©å‘é‡ä¸­çš„æ¯ä¸€ä¸ªå…ƒç´ éƒ½é™¤è¯¥èŒƒæ•°ï¼Œä»è€Œå¾—åˆ°æ­£åˆ™åŒ–åçš„å‘é‡ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">np.random.seed(42)</span><br><span class="line">x = np.random.randn(10)</span><br><span class="line">norm_x_2 = np.linalg.norm(x)</span><br><span class="line">normalized_x = x / norm_x_2</span><br><span class="line">print &quot;x:\n%s&quot; % x</span><br><span class="line">print &quot;2-Norm of x: %2.4f&quot; % norm_x_2</span><br><span class="line">print &quot;Normalized x:\n%s&quot; % normalized_x</span><br><span class="line">print &quot;2-Norm of normalized_x: %2.4f&quot; % np.linalg.norm(normalized_x)</span><br></pre></td></tr></table></figure>
<p>å…¶è¾“å‡ºåº”è¯¥å¦‚ä¸‹ï¼ˆä¸Šé¢å°†éšæœºç§å­çš„å€¼è®¾ä¸º42ï¼Œä¿è¯æ¯æ¬¡è¿è¡Œçš„ç»“æœç›¸åŒï¼‰ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">x: [ 0.49671415 -0.1382643  0.64768854  1.52302986 -0.23415337 -0.23413696</span><br><span class="line">1.57921282  0.76743473 -0.46947439  0.54256004]</span><br><span class="line">2-Norm of x: 2.5908</span><br><span class="line">Normalized x: [ 0.19172213 -0.05336737  0.24999534  0.58786029 -0.09037871 -0.09037237  0.60954584  0.29621508 -0.1812081  0.20941776]</span><br><span class="line">2-Norm of normalized_x: 1.0000</span><br></pre></td></tr></table></figure>
<p><strong>ç”¨ MLlib æ­£åˆ™åŒ–ç‰¹å¾</strong></p>
<p>Sparkåœ¨å…¶MLlibæœºå™¨å­¦ä¹ åº“ä¸­å†…ç½®äº†ä¸€äº›å‡½æ•°ç”¨äºç‰¹å¾çš„ç¼©æ”¾å’Œæ ‡å‡†åŒ–ã€‚å®ƒä»¬åŒ…æ‹¬ä¾›æ ‡å‡†æ­£æ€å˜æ¢çš„<code>StandardScaler</code>ï¼Œä»¥åŠæä¾›ä¸ä¸Šè¿°ç›¸åŒçš„ç‰¹å¾å‘é‡æ­£åˆ™åŒ–çš„ <code>Normalizer</code>ã€‚</p>
<p>æ¯”è¾ƒä¸€ä¸‹MLlibçš„Normalizerä¸æˆ‘ä»¬è‡ªå·±å‡½æ•°çš„ç»“æœï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">from pyspark.mllib.feature import Normalizer</span><br><span class="line">normalizer = Normalizer()</span><br><span class="line">vector =sc.parallelize([x])</span><br></pre></td></tr></table></figure>
<p>åœ¨å¯¼å…¥æ‰€éœ€çš„ç±»åï¼Œä¼šè¦åˆå§‹åŒ–Normalizerï¼ˆå…¶é»˜è®¤ä½¿ç”¨ä¸ä¹‹å‰ç›¸åŒçš„äºŒé˜¶èŒƒæ•°ï¼‰ã€‚æ³¨æ„ç”¨Sparkæ—¶ï¼Œå¤§éƒ¨åˆ†æƒ…å†µä¸‹Normalizeræ‰€éœ€çš„è¾“å…¥ä¸ºä¸€ä¸ªRDDï¼ˆå®ƒåŒ…å«numpyæ•°å€¼æˆ–MLlibå‘é‡ï¼‰ã€‚ä½œä¸ºä¸¾ä¾‹ï¼Œæˆ‘ä»¬ä¼šä»xå‘é‡åˆ›å»ºä¸€ä¸ªå•å…ƒç´ çš„RDDã€‚</p>
<p>ä¹‹åå°†ä¼šå¯¹æˆ‘ä»¬çš„RDDè°ƒç”¨Normalizerçš„transformå‡½æ•°ã€‚ç”±äºè¯¥RDDåªå«æœ‰ä¸€ä¸ªå‘é‡ï¼Œå¯é€šè¿‡firstå‡½æ•°æ¥è¿”å›å‘é‡åˆ°é©±åŠ¨ç¨‹åºã€‚æ¥ç€è°ƒç”¨toArrayå‡½æ•°æ¥å°†è¯¥å‘é‡è½¬æ¢ä¸ºnumpyæ•°ç»„ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">normalized_x_mllib = normalizer.transform(vector).first().toArray()</span><br><span class="line">#æœ€åæ¥çœ‹ä¸€ä¸‹ä¹‹å‰æ‰“å°è¿‡çš„é‚£äº›å€¼ï¼Œå¹¶åšä¸ªæ¯”è¾ƒï¼š</span><br><span class="line"></span><br><span class="line">print &quot;x:\n%s&quot; % x</span><br><span class="line">print &quot;2-Norm of x: %2.4f&quot; % norm_x_2</span><br><span class="line">print &quot;Normalized x MLlib:\n%s&quot; % normalized_x_mllib</span><br><span class="line">print &quot;2-Norm of normalized_x_mllib: %2.4f&quot; % np.linalg.norm(normalized_x_mllib)</span><br></pre></td></tr></table></figure>
<p>ç›¸æ¯”è‡ªå·±ç¼–å†™çš„å‡½æ•°ï¼Œä½¿ç”¨ MLlibå†…ç½®çš„å‡½æ•° æ›´æ–¹ä¾¿</p>
<h3 id="4-6-ç”¨è½¯ä»¶åŒ…æå–ç‰¹å¾"><a href="#4-6-ç”¨è½¯ä»¶åŒ…æå–ç‰¹å¾" class="headerlink" title="4.6 ç”¨è½¯ä»¶åŒ…æå–ç‰¹å¾"></a>4.6 ç”¨è½¯ä»¶åŒ…æå–ç‰¹å¾</h3><p>ç‰¹å¾æå–å¯å€ŸåŠ©çš„è½¯ä»¶åŒ…æœ‰scikit-learnã€gensimã€scikit-imageã€matplotlibã€Pythonçš„NLTKã€Javaç¼–å†™çš„OpenNLPä»¥åŠç”¨Scalaç¼–å†™çš„Breezeå’ŒChalkã€‚Breezeè‡ªSpark 1.0å¼€å§‹å°±æˆä¸ºSparkçš„ä¸€éƒ¨åˆ†äº†ã€‚Breezeæœ‰çº¿æ€§ä»£æ•°åŠŸèƒ½ã€‚</p>
<h2 id="5-å°ç»“"><a href="#5-å°ç»“" class="headerlink" title="5. å°ç»“"></a>5. å°ç»“</h2><p>äº†è§£ å¦‚ä½•å¯¼å…¥ã€å¤„ç†å’Œæ¸…ç†æ•°æ®ï¼Œå¦‚ä½•å°†åŸå§‹æ•°æ®è½¬ä¸º<strong>ç‰¹å¾å‘é‡</strong>ä»¥ä¾›æ¨¡å‹è®­ç»ƒçš„å¸¸è§æ–¹æ³•</p>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[Spark Machine Learning p2 - è®¾è®¡æœºå™¨å­¦ä¹ ç³»ç»Ÿ]]></title>
      <url>http://iequa.com/2016/09/08/spark-machine-learning-p2-design-ml-sys/</url>
      <content type="html"><![CDATA[<blockquote>
<p>Spark Machine Learing Reading Notes</p>
</blockquote>
<style>
img {
        display: block !important;
        height: 400px;
        width: 500px;
        margin-left: 180px !important;
}
</style>

<h2 id="1-åŸå§‹-MovieStream-ä»‹ç»"><a href="#1-åŸå§‹-MovieStream-ä»‹ç»" class="headerlink" title="1. åŸå§‹ MovieStream ä»‹ç»"></a>1. åŸå§‹ MovieStream ä»‹ç»</h2><p><img src="/images/spark/spark-ml-2.1.jpg" alt="MovieStream"></p>
<h3 id="1-1-ä¸ªæ€§åŒ–"><a href="#1-1-ä¸ªæ€§åŒ–" class="headerlink" title="1.1 ä¸ªæ€§åŒ–"></a>1.1 ä¸ªæ€§åŒ–</h3><p><code>ä¸ªæ€§åŒ–</code> æ˜¯æ ¹æ®å„å› ç´ æ¥æ”¹å˜ç”¨æˆ·ä½“éªŒå’Œ<code>å‘ˆç°ç»™ç”¨æˆ·å†…å®¹</code>ã€‚è¿™äº›å› ç´ å¯èƒ½åŒ…æ‹¬ç”¨æˆ·çš„è¡Œä¸ºæ•°æ®å’Œå¤–éƒ¨å› ç´ ã€‚</p>
<p><code>æ¨è</code>ï¼ˆrecommendationï¼‰, å¸¸æŒ‡å‘ç”¨æˆ·å‘ˆç°ä¸€ä¸ªä»–ä»¬å¯èƒ½æ„Ÿå…´è¶£çš„ç‰©å“åˆ—è¡¨ã€‚</p>
<p>ä¸ªæ€§åŒ–å’Œæ¨èååˆ†ç›¸ä¼¼, æ ¹æ®å› ç´ æ”¹å˜æœç´¢çš„å‘ˆç°ä¸åŒç”¨æˆ·ä¸åŒå†…å®¹ï¼Œè¿™æ˜¯éšå¼ä¸ªæ€§åŒ–</p>
<h3 id="1-2-å®¢æˆ·ç»†åˆ†"><a href="#1-2-å®¢æˆ·ç»†åˆ†" class="headerlink" title="1.2 å®¢æˆ·ç»†åˆ†"></a>1.2 å®¢æˆ·ç»†åˆ†</h3><p>ç›®æ ‡è¥é”€ç”¨ä¸æ¨èç±»ä¼¼çš„æ–¹æ³•ä»ç”¨æˆ·ç¾¤ä¸­æ‰¾å‡ºè¦è¥é”€çš„å¯¹è±¡ã€‚ä¸€èˆ¬æ¥è¯´ï¼Œæ¨èå’Œä¸ªæ€§åŒ–çš„åº”ç”¨åœºæ™¯éƒ½æ˜¯ä¸€å¯¹ä¸€ï¼Œæ ¹æ®ç”¨æˆ·çš„ç‰¹å¾è¿›è¡Œåˆ†ç»„ï¼Œå¹¶å¯èƒ½å‚è€ƒè¡Œä¸ºæ•°æ®ã€‚ä¹Ÿå¯èƒ½ä½¿ç”¨äº†æŸç§æœºå™¨å­¦ä¹ æ¨¡å‹ï¼Œæ¯”å¦‚ <code>èšç±»</code>ã€‚</p>
<h3 id="1-3-é¢„æµ‹å»ºæ¨¡"><a href="#1-3-é¢„æµ‹å»ºæ¨¡" class="headerlink" title="1.3 é¢„æµ‹å»ºæ¨¡"></a>1.3 é¢„æµ‹å»ºæ¨¡</h3><p><code>é¢„æµ‹æ€§åˆ†æ</code> ä»æŸç§æ„ä¹‰ä¸Šè¯´è¿˜è¦†ç›–æ¨èã€ä¸ªæ€§åŒ–å’Œç›®æ ‡è¥é”€ã€‚ç”¨é¢„æµ‹å»ºæ¨¡ï¼ˆpredictive modelingï¼‰æ¥è¡¨ç¤ºå…¶ä»–åšé¢„æµ‹çš„æ¨¡å‹ã€‚å€ŸåŠ©æ´»åŠ¨è®°å½•ã€æ”¶å…¥æ•°æ®ä»¥åŠå†…å®¹å±æ€§ï¼ŒMovieStream å¯ä»¥åˆ›å»ºä¸€ä¸ªå›å½’æ¨¡å‹ï¼ˆregression modelï¼‰æ¥é¢„æµ‹æ–°ç”µå½±çš„å¸‚åœºè¡¨ç°ã€‚</p>
<p>å¦å¤–ï¼Œæˆ‘ä»¬ä¹Ÿå¯ä½¿ç”¨åˆ†ç±»æ¨¡å‹ï¼ˆclassificaiton modelï¼‰æ¥å¯¹åªæœ‰éƒ¨åˆ†æ•°æ®çš„æ–°ç”µå½±è‡ªåŠ¨åˆ†é…æ ‡ç­¾ã€å…³é”®å­—æˆ–åˆ†ç±»ã€‚</p>
<h2 id="2-æœºå™¨å­¦ä¹ æ¨¡å‹çš„ç§ç±»"><a href="#2-æœºå™¨å­¦ä¹ æ¨¡å‹çš„ç§ç±»" class="headerlink" title="2. æœºå™¨å­¦ä¹ æ¨¡å‹çš„ç§ç±»"></a>2. æœºå™¨å­¦ä¹ æ¨¡å‹çš„ç§ç±»</h2><p><code>supervised learning</code>ï¼šè¿™ç§æ–¹æ³•ä½¿ç”¨å·²æ ‡è®°æ•°æ®æ¥å­¦ä¹ ã€‚<code>æ¨èå¼•æ“</code>ã€<code>å›å½’</code>å’Œ<code>åˆ†ç±»</code>ä¾¿æ˜¯ä¾‹å­ã€‚å®ƒä»¬æ‰€ä½¿ç”¨çš„æ ‡è®°æ•°æ®å¯ä»¥æ˜¯ç”¨æˆ·å¯¹ç”µå½±çš„è¯„çº§ï¼ˆå¯¹æ¨èæ¥è¯´ï¼‰ã€ç”µå½±æ ‡ç­¾ï¼ˆå¯¹ä¸Šè¿°åˆ†ç±»ä¾‹å­æ¥è¯´ï¼‰æˆ–æ˜¯æ”¶å…¥æ•°å­—ï¼ˆå¯¹å›å½’é¢„æµ‹æ¥è¯´ï¼‰.</p>
<p><code>unsupervised learning</code>ï¼šä¸€äº›æ¨¡å‹çš„å­¦ä¹ è¿‡ç¨‹ä¸éœ€è¦æ ‡è®°æ•°æ®ï¼Œæˆ‘ä»¬ç§°å…¶ä¸ºæ— ç›‘ç£å­¦ä¹ ã€‚è¿™ç±»æ¨¡å‹è¯•å›¾å­¦ä¹ æˆ–æ˜¯æå–æ•°æ®èƒŒåçš„ç»“æ„æˆ–ä»ä¸­æŠ½å–æœ€ä¸ºé‡è¦çš„ç‰¹å¾ã€‚<code>èšç±»</code>ã€<code>é™ç»´</code>å’Œ<code>æ–‡æœ¬å¤„ç†</code>çš„æŸäº›ç‰¹å¾æå–éƒ½æ˜¯æ— ç›‘ç£å­¦ä¹ .</p>
<h2 id="3-æ•°æ®é©±åŠ¨MLç³»ç»Ÿçš„ç»„æˆ"><a href="#3-æ•°æ®é©±åŠ¨MLç³»ç»Ÿçš„ç»„æˆ" class="headerlink" title="3. æ•°æ®é©±åŠ¨MLç³»ç»Ÿçš„ç»„æˆ"></a>3. æ•°æ®é©±åŠ¨MLç³»ç»Ÿçš„ç»„æˆ</h2><p><img src="/images/spark/spark-ml-2.2.jpg" alt="æœºå™¨å­¦ä¹ æµç¨‹"></p>
<h3 id="3-1-æ•°æ®è·å–ä¸å­˜å‚¨"><a href="#3-1-æ•°æ®è·å–ä¸å­˜å‚¨" class="headerlink" title="3.1 æ•°æ®è·å–ä¸å­˜å‚¨"></a>3.1 æ•°æ®è·å–ä¸å­˜å‚¨</h3><p>MovieStream çš„æ•°æ®é€šå¸¸æ¥è‡ªç”¨æˆ·æ´»åŠ¨.</p>
<p>è¦å­˜å‚¨çš„æ•°æ®åŒ…æ‹¬ï¼šåŸå§‹æ•°æ®ã€å³æ—¶å¤„ç†åçš„æ•°æ®ï¼Œä»¥åŠå¯ç”¨äºç”Ÿäº§ç³»ç»Ÿçš„æœ€ç»ˆå»ºæ¨¡ç»“æœã€‚</p>
<p><strong>æ•°æ®å­˜å‚¨</strong></p>
<ol>
<li><strong>æ–‡ä»¶ç³»ç»Ÿ</strong> : å¦‚ HDFSã€Amazon S3 ç­‰ï¼›</li>
<li><strong>SQLæ•°æ®åº“</strong> : å¦‚ MySQLã€PostgreSQLï¼›</li>
<li><strong>NoSQL</strong> : -å¦‚ HBaseã€Cassandraã€Mongodbï¼›</li>
<li><strong>æœç´¢å¼•æ“</strong> : å¦‚ Solr ã€Elasticsearchï¼›</li>
<li><strong>æµæ•°æ®</strong> : â€“ å¦‚ Kafkaã€Flumeã€Amazon Kinesis</li>
</ol>
<h3 id="3-2-æ•°æ®æ¸…ç†ä¸è½¬æ¢"><a href="#3-2-æ•°æ®æ¸…ç†ä¸è½¬æ¢" class="headerlink" title="3.2 æ•°æ®æ¸…ç†ä¸è½¬æ¢"></a>3.2 æ•°æ®æ¸…ç†ä¸è½¬æ¢</h3><p>å¤§éƒ¨åˆ†æœºå™¨å­¦ä¹ æ¨¡å‹æ‰€å¤„ç†çš„éƒ½æ˜¯ <code>feature</code>ã€‚ç‰¹å¾ é€šå¸¸æ˜¯è¾“å…¥å˜é‡æ‰€å¯¹åº”çš„å¯ç”¨äºæ¨¡å‹çš„æ•°å€¼è¡¨ç¤ºã€‚</p>
<p>åŸå§‹æ•°æ® é¢„å¤„ç† å‡ ç§ æƒ…å†µ</p>
<ol>
<li>æ•°æ®è¿‡æ»¤</li>
<li>åˆå¹¶å¤šä¸ªæ•°æ®æº</li>
<li>æ•°æ®æ±‡æ€»</li>
</ol>
<p>å¯¹è®¸å¤šæ¨¡å‹ç±»å‹æ¥è¯´ï¼Œè¿™ç§è¡¨ç¤ºå°±æ˜¯åŒ…å« <strong>æ•°å€¼æ•°æ®çš„</strong> <code>å‘é‡</code> or <code>çŸ©é˜µ</code>ã€‚</p>
<p>å°†ç±»åˆ«æ•°æ®ï¼ˆæ¯”å¦‚åœ°ç†ä½ç½®æ‰€åœ¨çš„å›½å®¶æˆ–æ˜¯ç”µå½±çš„ç±»åˆ«ï¼‰ç¼–ç ä¸ºå¯¹åº”çš„æ•°å€¼è¡¨ç¤ºã€‚</p>
<ol>
<li>æ–‡æœ¬æ•°æ®æå–æœ‰ç”¨ä¿¡æ¯ã€‚</li>
<li>å¤„ç†å›¾åƒæˆ–æ˜¯éŸ³é¢‘æ•°æ®ã€‚</li>
<li>æ•°å€¼æ•°æ®å¸¸è¢«è½¬æ¢ä¸ºç±»åˆ«æ•°æ®ä»¥å‡å°‘æŸä¸ªå˜é‡çš„å¯èƒ½å€¼çš„æ•°ç›®ã€‚ä¾‹å¦‚å°†å¹´é¾„åˆ†ä¸º 601, 602â€¦</li>
<li>å¯¹ç‰¹å¾è¿›è¡Œæ­£åˆ™åŒ–ã€æ ‡å‡†åŒ–ï¼Œä»¥ä¿è¯åŒä¸€æ¨¡å‹çš„ä¸åŒè¾“å…¥å˜é‡çš„å€¼åŸŸç›¸åŒã€‚</li>
</ol>
<p>è¿™äº›æ•°æ®æ¸…ç†ã€æ¢ç´¢ã€èšåˆå’Œè½¬æ¢æ­¥éª¤ï¼Œéƒ½èƒ½é€šè¿‡Sparkæ ¸å¿ƒAPIã€SparkSQLå¼•æ“å’Œå…¶ä»–å¤–éƒ¨Scalaã€Javaæˆ–PythonåŒ…åšåˆ°ã€‚å€ŸåŠ© Spark çš„ HadoopåŠŸèƒ½ è¿˜èƒ½å®ç°ä¸Šè¿°å¤šç§å­˜å‚¨ç³»ç»Ÿä¸Šçš„è¯»å†™ã€‚</p>
<h3 id="3-3-æ¨¡å‹è®­ç»ƒä¸æµ‹è¯•å›è·¯"><a href="#3-3-æ¨¡å‹è®­ç»ƒä¸æµ‹è¯•å›è·¯" class="headerlink" title="3.3 æ¨¡å‹è®­ç»ƒä¸æµ‹è¯•å›è·¯"></a>3.3 æ¨¡å‹è®­ç»ƒä¸æµ‹è¯•å›è·¯</h3><p>å½“æ•°æ®å·²è½¬æ¢ä¸ºå¯ç”¨äºæ¨¡å‹çš„å½¢å¼ï¼Œä¾¿å¯å¼€å§‹æ¨¡å‹çš„è®­ç»ƒå’Œæµ‹è¯•ã€‚</p>
<p>åœ¨è®­ç»ƒæ•°æ®é›†ä¸Šè¿è¡Œæ¨¡å‹å¹¶åœ¨æµ‹è¯•æ•°æ®é›†ï¼ˆå³ä¸ºè¯„ä¼°æ¨¡å‹è€Œé¢„ç•™çš„æ•°æ®ï¼Œåœ¨è®­ç»ƒé˜¶æ®µæ¨¡å‹æ²¡æ¥è§¦è¿‡è¯¥æ•°æ®ï¼‰ä¸Šæµ‹è¯•å…¶æ•ˆæœï¼Œè¿™ä¸ªè¿‡ç¨‹ä¸€èˆ¬ç›¸å¯¹ç›´æ¥ï¼Œè¢«ç§°ä½œäº¤å‰éªŒè¯ï¼ˆcross-validationï¼‰ã€‚</p>
<p>Spark MLlib æ¥å®ç°å¯¹å„ç§æœºå™¨å­¦ä¹ æ–¹æ³•çš„æ¨¡å‹è®­ç»ƒã€è¯„ä¼°ä»¥åŠäº¤å‰éªŒè¯ã€‚</p>
<h3 id="3-4-æ¨¡å‹éƒ¨ç½²ä¸æ•´åˆ"><a href="#3-4-æ¨¡å‹éƒ¨ç½²ä¸æ•´åˆ" class="headerlink" title="3.4 æ¨¡å‹éƒ¨ç½²ä¸æ•´åˆ"></a>3.4 æ¨¡å‹éƒ¨ç½²ä¸æ•´åˆ</h3><p>é€šè¿‡è®­ç»ƒæµ‹è¯•å¾ªç¯æ‰¾å‡ºæœ€ä½³æ¨¡å‹åï¼Œè¦è®©å®ƒèƒ½å¾—å‡ºå¯ä»˜è¯¸å®è·µçš„é¢„æµ‹ï¼Œè¿˜éœ€å°†å…¶éƒ¨ç½²åˆ°ç”Ÿäº§ç³»ç»Ÿä¸­ã€‚</p>
<p>è¿™ä¸ªè¿‡ç¨‹ä¸€èˆ¬è¦å°†å·²è®­ç»ƒçš„æ¨¡å‹å¯¼å…¥ç‰¹å®šçš„æ•°æ®å­˜å‚¨ä¸­ã€‚</p>
<h3 id="3-5-æ¨¡å‹ç›‘æ§ä¸åé¦ˆ"><a href="#3-5-æ¨¡å‹ç›‘æ§ä¸åé¦ˆ" class="headerlink" title="3.5 æ¨¡å‹ç›‘æ§ä¸åé¦ˆ"></a>3.5 æ¨¡å‹ç›‘æ§ä¸åé¦ˆ</h3><p>ç›‘æ§æœºå™¨å­¦ä¹ ç³»ç»Ÿåœ¨ç”Ÿäº§ç¯å¢ƒä¸‹çš„è¡¨ç°ååˆ†é‡è¦ã€‚</p>
<p>åŒæ ·å€¼å¾—æ³¨æ„çš„æ˜¯ï¼Œæ¨¡å‹å‡†ç¡®åº¦å’Œé¢„æµ‹æ•ˆæœåªæ˜¯ç°å®ä¸­ç³»ç»Ÿè¡¨ç°çš„ä¸€éƒ¨åˆ†ã€‚</p>
<p>æˆ‘ä»¬å¯ä»¥å°½å¯èƒ½åœ¨ç”Ÿäº§ç³»ç»Ÿä¸­éƒ¨ç½²ä¸åŒçš„æ¨¡å‹ï¼Œé€šè¿‡è°ƒæ•´å®ƒä»¬è€Œä¼˜åŒ–ä¸šåŠ¡æŒ‡æ ‡ã€‚å®è·µä¸­ï¼Œè¿™é€šå¸¸é€šè¿‡åœ¨çº¿åˆ†å‰²æµ‹è¯•ï¼ˆ<code>live split test</code>ï¼‰è¿›è¡Œã€‚</p>
<p>æ¨¡å‹åé¦ˆï¼ˆ<code>model feedback</code>ï¼‰ï¼ŒæŒ‡é€šè¿‡ç”¨æˆ·çš„è¡Œä¸ºæ¥å¯¹æ¨¡å‹çš„é¢„æµ‹è¿›è¡Œåé¦ˆçš„è¿‡ç¨‹ã€‚åœ¨ç°å®ç³»ç»Ÿä¸­ï¼Œæ¨¡å‹çš„åº”ç”¨å°†å½±å“ç”¨æˆ·çš„å†³ç­–å’Œæ½œåœ¨è¡Œä¸ºï¼Œä»è€Œåè¿‡æ¥å°†ä»æ ¹æœ¬ä¸Šæ”¹å˜æ¨¡å‹è‡ªå·±å°†æ¥çš„è®­ç»ƒæ•°æ®ã€‚</p>
<h3 id="3-6-æ‰¹å¤„ç†-å®æ—¶æ–¹æ¡ˆé€‰æ‹©"><a href="#3-6-æ‰¹å¤„ç†-å®æ—¶æ–¹æ¡ˆé€‰æ‹©" class="headerlink" title="3.6 æ‰¹å¤„ç†/å®æ—¶æ–¹æ¡ˆé€‰æ‹©"></a>3.6 æ‰¹å¤„ç†/å®æ—¶æ–¹æ¡ˆé€‰æ‹©</h3><p>å¸¸è§çš„æ‰¹å¤„ç†æ–¹æ³•ã€‚æ¨¡å‹ç”¨æ‰€æœ‰æ•°æ®æˆ–ä¸€éƒ¨åˆ†æ•°æ®è¿›è¡Œå‘¨æœŸæ€§çš„é‡æ–°è®­ç»ƒã€‚ç”±äºä¸Šè¿°æµç¨‹ä¼šèŠ±è´¹ä¸€å®šçš„æ—¶é—´ï¼Œè¿™å°±ä½¿å¾—æ‰¹å¤„ç†æ–¹æ³•éš¾ä»¥åœ¨æ–°æ•°æ®åˆ°è¾¾æ—¶ç«‹å³å®Œæˆæ¨¡å‹çš„æ›´æ–°ã€‚</p>
<p>å­˜åœ¨ä¸€ç±»åä¸ºåœ¨çº¿å­¦ä¹ ï¼ˆonline learningï¼‰çš„æœºå™¨å­¦ä¹ æ–¹æ³•ã€‚å®ƒä»¬åœ¨æ–°æ•°æ®åˆ°è¾¾æ—¶ä¾¿èƒ½ç«‹å³æ›´æ–°æ¨¡å‹ï¼Œä»è€Œä½¿å®æ—¶ç³»ç»Ÿæˆä¸ºå¯èƒ½ã€‚å¸¸è§çš„ä¾‹å­æœ‰å¯¹çº¿æ€§æ¨¡å‹çš„åœ¨çº¿ä¼˜åŒ–ç®—æ³•ï¼Œå¦‚<code>éšæœºæ¢¯åº¦ä¸‹é™æ³•</code>ã€‚</p>
<h2 id="4-æœºå™¨å­¦ä¹ ç³»ç»Ÿæ¶æ„"><a href="#4-æœºå™¨å­¦ä¹ ç³»ç»Ÿæ¶æ„" class="headerlink" title="4. æœºå™¨å­¦ä¹ ç³»ç»Ÿæ¶æ„"></a>4. æœºå™¨å­¦ä¹ ç³»ç»Ÿæ¶æ„</h2><p><img src="/images/spark/spark-ml-2.3.jpg" alt="æœºå™¨å­¦ä¹ ç³»ç»Ÿæ¶æ„"></p>
<p>æœºå™¨å­¦ä¹ æµç¨‹ç¤ºæ„å›¾çš„å†…å®¹ï¼š</p>
<ul>
<li>æ”¶é›†ä¸ç”¨æˆ·ã€ç”¨æˆ·è¡Œä¸ºå’Œç”µå½±æ ‡é¢˜æœ‰å…³çš„æ•°æ®ï¼›</li>
<li>å°†è¿™äº›æ•°æ®è½¬ä¸ºç‰¹å¾ï¼›</li>
<li>æ¨¡å‹è®­ç»ƒï¼ŒåŒ…æ‹¬è®­ç»ƒ-æµ‹è¯•å’Œæ¨¡å‹é€‰æ‹©ç¯èŠ‚ï¼›</li>
<li>å°†å·²è®­ç»ƒæ¨¡å‹éƒ¨ç½²åˆ°åœ¨çº¿æœåŠ¡ç³»ç»Ÿï¼Œå¹¶ç”¨äºç¦»çº¿å¤„ç†ï¼›</li>
<li>é€šè¿‡æ¨èå’Œç›®æ ‡é¡µé¢å°†æ¨¡å‹ç»“æœåé¦ˆåˆ°MovieStreamç«™ç‚¹ï¼›</li>
<li>å°†æ¨¡å‹ç»“æœè¿”å›åˆ°MovieStreamçš„ä¸ªæ€§åŒ–è¥é”€æ¸ é“ï¼›</li>
<li>ä½¿ç”¨ç¦»çº¿æ¨¡å‹æ¥ä¸ºMovieSteamçš„å„ä¸ªå›¢é˜Ÿæä¾›å·¥å…·ï¼Œä»¥å¸®åŠ©å…¶ç†è§£ç”¨æˆ·çš„è¡Œä¸ºã€å†…å®¹ç›®å½•çš„ç‰¹ç‚¹å’Œä¸šåŠ¡æ”¶å…¥çš„é©±åŠ¨å› ç´ ã€‚</li>
</ul>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[JVM è·¨å¹³å°ä¸å­—èŠ‚ç åŸç†åˆæ­¥]]></title>
      <url>http://iequa.com/2016/08/16/java-special-arms-p3-jvm/</url>
      <content type="html"><![CDATA[<p>ç”¨åˆ° JVM çš„åœºæ™¯</p>
<ol>
<li>Out of memory æ—¶ï¼Œå›¢é˜Ÿé«˜æ‰‹ä¸åœ¨</li>
<li>ç³»ç»ŸæœåŠ¡å™¨æ¶æ„ï¼Œè€å¤§é—®ä½  æŠ•å…¥å¤šå°‘æœåŠ¡å™¨æˆæœ¬ï¼ŒVM åˆ†é…å¤šå¤§ï¼Œ å¦‚ä½•åˆ†é…?</li>
</ol>
<h2 id="1-javap-å‘½ä»¤"><a href="#1-javap-å‘½ä»¤" class="headerlink" title="1. javap å‘½ä»¤"></a>1. javap å‘½ä»¤</h2><blockquote>
<p>é€šè¿‡è¿™ç§æ–¹å¼è®¤çŸ¥æ¯” Java æ›´ä½ä¸€ä¸ªæŠ½è±¡å±‚æ¬¡çš„é€»è¾‘ï¼Œè™šæŒ‡ä»¤æœ‰æ—¶å€™æ›´å¥½è§£é‡Šé—®é¢˜ã€‚</p>
</blockquote>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">StringTest</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">test1</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        String a = <span class="string">"a"</span> + <span class="string">"b"</span> + <span class="number">1</span>;</span><br><span class="line">        String b = <span class="string">"ab1"</span>;</span><br><span class="line">        System.out.println(a == b); <span class="comment">// true ç¼–è¯‘æ—¶ä¼˜åŒ–</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">âœ  p3jvm git:(master) âœ— <span class="built_in">pwd</span></span><br><span class="line">/Users/hp/ghome/github/language/java/jsarms/p3jvm</span><br><span class="line">âœ  p3jvm git:(master) âœ— javac</span><br><span class="line">Usage: javac &lt;options&gt; &lt;<span class="built_in">source</span> files&gt;</span><br><span class="line"><span class="built_in">where</span> possible options include:</span><br><span class="line">  -g                         Generate all debugging info</span><br><span class="line">  -g:none                    Generate no debugging info</span><br><span class="line">  -g:&#123;lines,vars,<span class="built_in">source</span>&#125;     Generate only some debugging info</span><br><span class="line">  -nowarn                    Generate no warnings</span><br><span class="line">  -verbose                   Output messages about what the compiler is doing</span><br></pre></td></tr></table></figure>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">âœ  p3jvm git:(master) âœ— javac -g:vars,lines StringTest.java</span><br><span class="line">âœ  p3jvm git:(master) âœ— javap -verbose StringTest</span><br><span class="line">Classfile /Users/hp/ghome/github/language/java/jsarms/p3jvm/StringTest.class</span><br><span class="line">  Last modified Aug 16, 2016; size 559 bytes</span><br><span class="line">  MD5 checksum 772d18512cb982c953e7db8c72522918</span><br><span class="line">public class StringTest</span><br><span class="line">  minor version: 0</span><br><span class="line">  major version: 51</span><br><span class="line">  flags: ACC_PUBLIC, ACC_SUPER</span><br><span class="line">Constant pool:</span><br><span class="line">   <span class="comment">#1 = Methodref          #6.#21         //  java/lang/Object."&lt;init&gt;":()V</span></span><br><span class="line">   <span class="comment">#2 = String             #22            //  ab1</span></span><br><span class="line">   <span class="comment">#3 = Fieldref           #23.#24        //  java/lang/System.out:Ljava/io/PrintStream;</span></span><br><span class="line">   <span class="comment">#4 = Methodref          #25.#26        //  java/io/PrintStream.println:(Z)V</span></span><br><span class="line">   <span class="comment">#5 = Class              #27            //  StringTest</span></span><br><span class="line">   <span class="comment">#6 = Class              #28            //  java/lang/Object</span></span><br><span class="line">   <span class="comment">#7 = Utf8               &lt;init&gt;</span></span><br><span class="line">   <span class="comment">#8 = Utf8               ()V</span></span><br><span class="line">   <span class="comment">#9 = Utf8               Code</span></span><br><span class="line">  <span class="comment">#10 = Utf8               LineNumberTable</span></span><br><span class="line">  <span class="comment">#11 = Utf8               LocalVariableTable</span></span><br><span class="line">  <span class="comment">#12 = Utf8               this</span></span><br><span class="line">  <span class="comment">#13 = Utf8               LStringTest;</span></span><br><span class="line">  <span class="comment">#14 = Utf8               test1</span></span><br><span class="line">  <span class="comment">#15 = Utf8               a</span></span><br><span class="line">  <span class="comment">#16 = Utf8               Ljava/lang/String;</span></span><br><span class="line">  <span class="comment">#17 = Utf8               b</span></span><br><span class="line">  <span class="comment">#18 = Utf8               StackMapTable</span></span><br><span class="line">  <span class="comment">#19 = Class              #29            //  java/lang/String</span></span><br><span class="line">  <span class="comment">#20 = Class              #30            //  java/io/PrintStream</span></span><br><span class="line">  <span class="comment">#21 = NameAndType        #7:#8          //  "&lt;init&gt;":()V</span></span><br><span class="line">  <span class="comment">#22 = Utf8               ab1</span></span><br><span class="line">  <span class="comment">#23 = Class              #31            //  java/lang/System</span></span><br><span class="line">  <span class="comment">#24 = NameAndType        #32:#33        //  out:Ljava/io/PrintStream;</span></span><br><span class="line">  <span class="comment">#25 = Class              #30            //  java/io/PrintStream</span></span><br><span class="line">  <span class="comment">#26 = NameAndType        #34:#35        //  println:(Z)V</span></span><br><span class="line">  <span class="comment">#27 = Utf8               StringTest</span></span><br><span class="line">  <span class="comment">#28 = Utf8               java/lang/Object</span></span><br><span class="line">  <span class="comment">#29 = Utf8               java/lang/String</span></span><br><span class="line">  <span class="comment">#30 = Utf8               java/io/PrintStream</span></span><br><span class="line">  <span class="comment">#31 = Utf8               java/lang/System</span></span><br><span class="line">  <span class="comment">#32 = Utf8               out</span></span><br><span class="line">  <span class="comment">#33 = Utf8               Ljava/io/PrintStream;</span></span><br><span class="line">  <span class="comment">#34 = Utf8               println</span></span><br><span class="line">  <span class="comment">#35 = Utf8               (Z)V</span></span><br><span class="line">// ä»¥ä¸Šæ˜¯ Constant poolï¼Œ ä»…ä»…æ˜¯é™ˆåˆ—æ“ä½œï¼Œå¹¶æ²¡æœ‰å¼€å§‹æ‰§è¡Œä»»åŠ¡ï¼Œçœ‹ä¸‹é¢å¼€å§‹</span><br><span class="line">&#123;</span><br><span class="line">  public StringTest();</span><br><span class="line">    flags: ACC_PUBLIC</span><br><span class="line">    Code:</span><br><span class="line">      stack=1, locals=1, args_size=1 // æ‰€æœ‰æ–¹æ³•éƒ½ä¼šæœ‰ã€‚</span><br><span class="line">      // stack ä¸ºæ ˆé¡¶çš„å•ä½å¤§å° (æ¯ä¸ªå¤§å°ä¸º 1 slotï¼Œ4 byte)</span><br><span class="line">      // locals=1ï¼Œéé™æ€æ–¹æ³•ï¼Œæœ¬åœ°å˜é‡å¢åŠ  this</span><br><span class="line">         0: aload_0</span><br><span class="line">         1: invokespecial <span class="comment">#1                  // Method java/lang/Object."&lt;init&gt;":()V</span></span><br><span class="line">         4: <span class="built_in">return</span></span><br><span class="line">      LineNumberTable:</span><br><span class="line">        line 1: 0</span><br><span class="line">      LocalVariableTable:</span><br><span class="line">        Start  Length  Slot  Name   Signature</span><br><span class="line">               0       5     0  this   LStringTest;</span><br><span class="line"></span><br><span class="line">  public static void <span class="built_in">test</span>1();</span><br><span class="line">    flags: ACC_PUBLIC, ACC_STATIC</span><br><span class="line">    Code:</span><br><span class="line">      stack=3, locals=2, args_size=0 </span><br><span class="line">      // stack=3ï¼Œæœ¬åœ°æ ˆslotä¸ªæ•°ä¸º3ï¼ŒStringéœ€è¦loadï¼ŒString.out å ç”¨ä¸€ä¸ªå†ã€‚å½“å¯¹æ¯”å‘ç”Ÿ boolean æ—¶ï¼Œä¸¤ä¸ªStringå¼•ç”¨æ ˆé¡¶pop</span><br><span class="line">      // locals=2ï¼Œ å› ä¸ºåªæœ‰ä¸¤ä¸ª String</span><br><span class="line">      // args_size=0ï¼Œæ–¹æ³•æ²¡æœ‰å…¥å£å‚æ•°</span><br><span class="line">         0: ldc           <span class="comment">#2                  // String ab1</span></span><br><span class="line">         // å¼•ç”¨å¸¸é‡æ± å†…å®¹</span><br><span class="line">         2: astore_0</span><br><span class="line">         // å°†æ ˆé¡¶å¼•ç”¨å€¼ï¼Œå†™å…¥ç¬¬ 1 ä¸ª slot æ‰€åœ¨çš„æœ¬åœ°å˜é‡</span><br><span class="line">         3: ldc           <span class="comment">#2                  // String ab1</span></span><br><span class="line">         5: astore_1</span><br><span class="line">         6: getstatic     <span class="comment">#3                  // Field java/lang/System.out:Ljava/io/PrintStream;</span></span><br><span class="line">         // è·å–é™æ€åŸŸï¼Œæ”¾å…¥æ ˆé¡¶ï¼Œæ­¤æ—¶é™æ€åŸŸæ˜¯ System.out å¯¹è±¡</span><br><span class="line">         9: aload_0</span><br><span class="line">        10: aload_1</span><br><span class="line">        11: <span class="keyword">if</span>_acmpne     18</span><br><span class="line">        14: iconst_1</span><br><span class="line">        15: goto          19</span><br><span class="line">        18: iconst_0</span><br><span class="line">        19: invokevirtual <span class="comment">#4                  // Method java/io/PrintStream.println:(Z)V</span></span><br><span class="line">        22: <span class="built_in">return</span></span><br><span class="line">      LineNumberTable:</span><br><span class="line">        line 4: 0</span><br><span class="line">        line 5: 3</span><br><span class="line">        line 6: 6</span><br><span class="line">        line 7: 22</span><br><span class="line">      LocalVariableTable:</span><br><span class="line">        Start  Length  Slot  Name   Signature</span><br><span class="line">               3      20     0     a   Ljava/lang/String;</span><br><span class="line">               6      17     1     b   Ljava/lang/String;</span><br><span class="line">      // æœ¬åœ°å˜é‡åˆ—è¡¨ LocalVariableTable. from javac -g:vars</span><br><span class="line">      StackMapTable: number_of_entries = 2</span><br><span class="line">           frame_<span class="built_in">type</span> = 255 /* full_frame */</span><br><span class="line">          offset_delta = 18</span><br><span class="line">          locals = [ class java/lang/String, class java/lang/String ]</span><br><span class="line">          stack = [ class java/io/PrintStream ]</span><br><span class="line">           frame_<span class="built_in">type</span> = 255 /* full_frame */</span><br><span class="line">          offset_delta = 0</span><br><span class="line">          locals = [ class java/lang/String, class java/lang/String ]</span><br><span class="line">          stack = [ class java/io/PrintStream, int ]</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line">âœ  p3jvm git:(master) âœ—</span><br></pre></td></tr></table></figure>
<h2 id="2-Java-å­—èŠ‚ç ç»“æ„"><a href="#2-Java-å­—èŠ‚ç ç»“æ„" class="headerlink" title="2. Java å­—èŠ‚ç ç»“æ„"></a>2. Java å­—èŠ‚ç ç»“æ„</h2><p>javac å‘½ä»¤æœ¬èº«åªæ˜¯ä¸€ä¸ªå¼•å¯¼å™¨ï¼Œå®ƒå¼•å¯¼ç¼–è¯‘å™¨ç¨‹åºçš„è¿è¡Œã€‚ç¼–è¯‘å™¨æœ¬èº«æ˜¯ä¸€ä¸ªjavaç¨‹åº <code>com.sun.tools.javac.main.JavaCompiler</code>, è¯¥ç±»å®Œæˆ java æºæ–‡ä»¶ çš„ Parserã€Annotation processã€æ£€æŸ¥ã€æ³›å‹å¤„ç†ã€è¯­æ³•è½¬æ¢ç­‰ï¼Œæœ€ç»ˆèƒœå‡º Class æ–‡ä»¶ã€‚</p>
<p>Java å­—èŠ‚ç æ–‡ä»¶ä¸»ä½“ç»“æ„: </p>
<table>
<thead>
<tr>
<th><strong>Class æ–‡ä»¶å¤´éƒ¨</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td>Constant pool</td>
<td></td>
</tr>
<tr>
<td>å½“å‰Clasçš„æè¿°ä¿¡æ¯</td>
<td></td>
</tr>
<tr>
<td>å±æ€§åˆ—è¡¨</td>
<td></td>
</tr>
<tr>
<td>æ–¹æ³•åˆ—è¡¨</td>
<td></td>
</tr>
<tr>
<td>â€¦</td>
<td></td>
</tr>
</tbody>
</table>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[Decision Tree (part1)]]></title>
      <url>http://iequa.com/2016/08/16/ml-5-decisionTree-part1/</url>
      <content type="html"><![CDATA[<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js"],
    jax: ["input/TeX"],
    tex2jax: {
      inlineMath: [ ['$','$'], ['\\(','\\)'] ],
      displayMath: [ ['$$','$$']],
      processEscapes: true
    }
  });
</script>
<script type="text/javascript" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS_HTML,http://myserver.com/MathJax/config/local/local.js">
</script>


<h2 id="1-Classification-Introduce"><a href="#1-Classification-Introduce" class="headerlink" title="1. Classification Introduce"></a>1. Classification Introduce</h2><blockquote>
<p>åˆ†ç±»æœ‰ç€å¹¿æ³›çš„åº”ç”¨ï¼Œå¦‚åŒ»å­¦ç–¾ç—…åˆ¤åˆ«ã€åƒåœ¾é‚®ä»¶è¿‡æ»¤ã€åƒåœ¾çŸ­ä¿¡æ‹¦æˆªã€å®¢æˆ·åˆ†æç­‰ç­‰ã€‚åˆ†ç±»é—®é¢˜å¯ä»¥åˆ†ä¸ºä¸¤ç±»</p>
</blockquote>
<h3 id="1-1-å½’ç±»-ç¦»æ•£"><a href="#1-1-å½’ç±»-ç¦»æ•£" class="headerlink" title="1.1 å½’ç±» : ç¦»æ•£"></a>1.1 å½’ç±» : ç¦»æ•£</h3><p>å½’ç±» æ˜¯æŒ‡å¯¹<code>ç¦»æ•£æ•°æ®</code>çš„åˆ†ç±»ï¼Œæ¯”å¦‚å¯¹æ ¹æ®ä¸€ä¸ªäººçš„ç¬”è¿¹åˆ¤åˆ«è¿™ä¸ªæ˜¯ç”·è¿˜æ˜¯å¥³ï¼Œè¿™é‡Œçš„ Category åªæœ‰ä¸¤ä¸ªï¼Œç±»åˆ«æ˜¯ç¦»æ•£çš„é›†åˆç©ºé—´{ç”·ï¼Œå¥³}çš„ã€‚</p>
<h3 id="1-2-é¢„æµ‹-è¿ç»­"><a href="#1-2-é¢„æµ‹-è¿ç»­" class="headerlink" title="1.2 é¢„æµ‹ : è¿ç»­"></a>1.2 é¢„æµ‹ : è¿ç»­</h3><p>é¢„æµ‹ æ˜¯æŒ‡å¯¹<code>è¿ç»­æ•°æ®</code>çš„åˆ†ç±»ï¼Œæ¯”å¦‚é¢„æµ‹æ˜å¤©8ç‚¹å¤©æ°”çš„æ¹¿åº¦æƒ…å†µï¼Œå¤©æ°”çš„æ¹¿åº¦åœ¨éšæ—¶å˜åŒ–ï¼Œ8ç‚¹æ—¶çš„å¤©æ°”æ˜¯ä¸€ä¸ªå…·ä½“å€¼ï¼Œå®ƒä¸å±äºæŸä¸ªæœ‰é™é›†åˆç©ºé—´ã€‚é¢„æµ‹ä¹Ÿå«å›å½’åˆ†æï¼Œåœ¨é‡‘èé¢†åŸŸæœ‰ç€å¹¿æ³›åº”ç”¨ã€‚</p>
<blockquote>
<p>è™½ç„¶å¯¹ç¦»æ•£æ•°æ®å’Œè¿ç»­æ•°æ®çš„å¤„ç†æ–¹å¼æœ‰æ‰€ä¸åŒï¼Œä½†å…¶å®ä»–ä»¬ä¹‹é—´ç›¸äº’è½¬åŒ–ï¼Œæ¯”å¦‚æˆ‘ä»¬å¯ä»¥æ ¹æ®æ¯”è¾ƒçš„æŸä¸ªç‰¹å¾å€¼åˆ¤æ–­ï¼Œå¦‚æœå€¼å¤§äº0.5å°±è®¤å®šä¸ºç”·æ€§ï¼Œå°äºç­‰äº0.5å°±è®¤ä¸ºæ˜¯å¥³æ€§ï¼Œè¿™æ ·å°±è½¬åŒ–ä¸ºè¿ç»­å¤„ç†æ–¹å¼ï¼›å°†å¤©æ°”æ¹¿åº¦å€¼åˆ†æ®µå¤„ç†ä¹Ÿå°±è½¬åŒ–ä¸ºç¦»æ•£æ•°æ®ã€‚</p>
</blockquote>
<p><strong>æ•°æ®åˆ†ç±»</strong> åˆ†ä¸¤ä¸ªæ­¥éª¤ï¼š</p>
<ol>
<li>æ„é€ æ¨¡å‹ï¼Œåˆ©ç”¨è®­ç»ƒæ•°æ®é›† è®­ç»ƒ åˆ†ç±»å™¨ï¼›</li>
<li>åˆ©ç”¨å»ºå¥½çš„åˆ†ç±»å™¨æ¨¡å‹å¯¹æµ‹è¯•æ•°æ®è¿›è¡Œåˆ†ç±»ã€‚</li>
</ol>
<blockquote>
<p>å¥½çš„åˆ†ç±»å™¨å…·æœ‰å¾ˆå¥½çš„æ³›åŒ–èƒ½åŠ›ï¼Œå³å®ƒä¸ä»…åœ¨è®­ç»ƒæ•°æ®é›†ä¸Šèƒ½è¾¾åˆ°å¾ˆé«˜çš„æ­£ç¡®ç‡ï¼Œè€Œä¸”èƒ½åœ¨æœªè§è¿‡å¾—æµ‹è¯•æ•°æ®é›†ä¹Ÿèƒ½è¾¾åˆ°è¾ƒé«˜çš„æ­£ç¡®ç‡ã€‚å¦‚æœä¸€ä¸ªåˆ†ç±»å™¨åªæ˜¯åœ¨è®­ç»ƒæ•°æ®ä¸Šè¡¨ç°ä¼˜ç§€ï¼Œä½†åœ¨æµ‹è¯•æ•°æ®ä¸Šè¡¨ç°ç¨€çƒ‚ï¼Œè¿™ä¸ªåˆ†ç±»å™¨å°±å·²ç»è¿‡æ‹Ÿåˆäº†ï¼Œå®ƒåªæ˜¯æŠŠè®­ç»ƒæ•°æ®è®°ä¸‹æ¥äº†ï¼Œå¹¶æ²¡æœ‰æŠ“åˆ°æ•´ä¸ªæ•°æ®ç©ºé—´çš„ç‰¹å¾ã€‚</p>
</blockquote>
<h2 id="2-Decision-Treeâ€™-Classification"><a href="#2-Decision-Treeâ€™-Classification" class="headerlink" title="2. Decision Treeâ€™ Classification"></a>2. Decision Treeâ€™ Classification</h2><p>ä»£è¡¨æ€§çš„ä¾‹å­è¯´æ˜ :</p>
<table>
<thead>
<tr>
<th>ID</th>
<th>é˜´æ™´(F)</th>
<th>æ¸©åº¦(F)</th>
<th>æ¹¿åº¦(F)</th>
<th>åˆ®é£(F)</th>
<th>æ˜¯å¦ç©ï¼ˆCï¼‰</th>
</tr>
</thead>
<tbody>
<tr>
<td>1</td>
<td>sunny</td>
<td>hot</td>
<td>high</td>
<td>false</td>
<td>å¦</td>
</tr>
<tr>
<td>2</td>
<td>sunny</td>
<td>hot</td>
<td>high</td>
<td>true</td>
<td>å¦</td>
</tr>
<tr>
<td>3</td>
<td>overcast</td>
<td>hot</td>
<td>high</td>
<td>false</td>
<td>æ˜¯</td>
</tr>
<tr>
<td>4</td>
<td>rainy</td>
<td>mild</td>
<td>high</td>
<td>false</td>
<td>æ˜¯</td>
</tr>
<tr>
<td>5</td>
<td>rainy</td>
<td>cool</td>
<td>normal</td>
<td>false</td>
<td>æ˜¯</td>
</tr>
<tr>
<td>6</td>
<td>rainy</td>
<td>cool</td>
<td>normal</td>
<td>true</td>
<td>å¦</td>
</tr>
<tr>
<td>7</td>
<td>overcast</td>
<td>cool</td>
<td>normal</td>
<td>true</td>
<td>æ˜¯</td>
</tr>
<tr>
<td>8</td>
<td>sunny</td>
<td>mild</td>
<td>high</td>
<td>false</td>
<td>å¦</td>
</tr>
<tr>
<td>9</td>
<td>sunny</td>
<td>cool</td>
<td>normal</td>
<td>false</td>
<td>æ˜¯</td>
</tr>
<tr>
<td>10</td>
<td>rainy</td>
<td>mild</td>
<td>normal</td>
<td>false</td>
<td>æ˜¯</td>
</tr>
<tr>
<td>11</td>
<td>sunny</td>
<td>mild</td>
<td>normal</td>
<td>true</td>
<td>æ˜¯</td>
</tr>
<tr>
<td>12</td>
<td>overcast</td>
<td>mild</td>
<td>high</td>
<td>true</td>
<td>æ˜¯</td>
</tr>
<tr>
<td>13</td>
<td>overcast</td>
<td>hot</td>
<td>normal</td>
<td>false</td>
<td>æ˜¯</td>
</tr>
<tr>
<td>14</td>
<td>rainy</td>
<td>mild</td>
<td>high</td>
<td>true</td>
<td>å¦</td>
</tr>
</tbody>
</table>
<p>åˆ©ç”¨ID3ç®—æ³•ä¸­çš„ Info Gain Feature Selectionï¼Œé€’å½’çš„å­¦ä¹ ä¸€æ£µå†³ç­–æ ‘ï¼Œå¾—åˆ°æ ‘ç»“æ„å¦‚ä¸‹</p>
<p><img src="/images/ml/decision-tree/decision-tree-2.png" width="560" height="400" img=""></p>
<blockquote>
<p>å†³ç­–æ ‘ï¼ˆdecision treeï¼‰æ˜¯ä¸€ä¸ªæ ‘ç»“æ„ï¼ˆå¯ä»¥æ˜¯äºŒå‰æ ‘æˆ–éäºŒå‰æ ‘ï¼‰ã€‚å…¶æ¯ä¸ªéå¶èŠ‚ç‚¹è¡¨ç¤ºä¸€ä¸ªFeatureå±æ€§ä¸Šçš„æµ‹è¯•ï¼Œæ¯ä¸ªåˆ†æ”¯ä»£è¡¨è¿™ä¸ªFeatureå±æ€§åœ¨æŸä¸ªå€¼åŸŸä¸Šçš„è¾“å‡ºï¼Œè€Œæ¯ä¸ªå¶èŠ‚ç‚¹å­˜æ”¾ä¸€ä¸ª Category ã€‚ä½¿ç”¨ DT è¿›è¡Œå†³ç­–çš„è¿‡ç¨‹å°±æ˜¯ä» root å¼€å§‹ï¼Œæµ‹è¯•å¾…åˆ†ç±»é¡¹ä¸­ç›¸åº”çš„ Feature å±æ€§ï¼Œå¹¶æŒ‰ç…§å…¶å€¼é€‰æ‹©è¾“å‡ºåˆ†æ”¯ï¼Œç›´åˆ°åˆ°è¾¾å¶å­èŠ‚ç‚¹ï¼Œå°†å¶å­èŠ‚ç‚¹å­˜æ”¾çš„ Category ä½œä¸ºå†³ç­–ç»“æœã€‚</p>
</blockquote>
<p>Feature Selectionï¼Œå¦‚ä½•é‡åŒ–æœ€ä¼˜Feature? <code>-&gt;</code> å¯¼è‡´ DT Algorithm å‡ºç°äº† ID3ã€C4.5ã€C5.0ã€CART ç­‰ã€‚</p>
<h2 id="3-Decision-Treeâ€™-Build"><a href="#3-Decision-Treeâ€™-Build" class="headerlink" title="3. Decision Treeâ€™ Build"></a>3. Decision Treeâ€™ Build</h2><p>æ„é€  Decision Tree çš„å…³é”®æ­¥éª¤æ˜¯åˆ†è£‚å±æ€§ã€‚æ‰€è°“åˆ†è£‚å±æ€§å°±æ˜¯åœ¨æŸä¸ªèŠ‚ç‚¹å¤„æŒ‰ç…§æŸä¸€ç‰¹å¾å±æ€§çš„ä¸åŒåˆ’åˆ†æ„é€ ä¸åŒçš„åˆ†æ”¯ï¼Œå…¶ç›®æ ‡æ˜¯è®©å„ä¸ªåˆ†è£‚å­é›†å°½å¯èƒ½åœ°â€œçº¯â€ã€‚å°½å¯èƒ½â€œçº¯â€å°±æ˜¯å°½é‡è®©ä¸€ä¸ªåˆ†è£‚å­é›†ä¸­å¾…åˆ†ç±»é¡¹å±äºåŒä¸€ç±»åˆ«ã€‚</p>
<blockquote>
<p>æ„é€ å†³ç­–æ ‘çš„è¿‡ç¨‹æœ¬è´¨ä¸Šå°±æ˜¯æ ¹æ® <strong>data-feature</strong> å°† æ•°æ®é›†(D) åˆ†ç±»çš„é€’å½’è¿‡ç¨‹ï¼Œæˆ‘ä»¬éœ€è¦è§£å†³çš„ç¬¬ä¸€ä¸ªé—®é¢˜å°±æ˜¯ï¼Œ<strong>å½“å‰ æ•°æ®é›†(D) ä¸Šå“ªä¸ª Feature åœ¨åˆ’åˆ†æ•°æ®åˆ†ç±»æ—¶èµ·å†³å®šæ€§ä½œç”¨</strong></p>
</blockquote>
<h3 id="3-1-æ„é€ -DT-æµç¨‹"><a href="#3-1-æ„é€ -DT-æµç¨‹" class="headerlink" title="3.1 æ„é€  DT æµç¨‹"></a>3.1 æ„é€  DT æµç¨‹</h3><p>è®­ç»ƒæ•°æ®é›† $D = \{ (x^{(1)}ï¼Œy^{(1)}) ï¼Œ (x^{(2)}ï¼Œy^{(2)})ï¼Œ â‹¯ ï¼Œ (x^{(m)}ï¼Œy^{(m)}) \}$ (Featureç”¨ç¦»æ•£å€¼è¡¨ç¤º)<br>å€™é€‰ç‰¹å¾é›† $F = \{f^1ï¼Œf^2ï¼Œ â‹¯ï¼Œf^n \}$</p>
<p>å¼€å§‹å»ºç«‹ RootèŠ‚ç‚¹ï¼Œå°†æ‰€æœ‰è®­ç»ƒæ•°æ®éƒ½ç½®äºæ ¹èŠ‚ç‚¹ï¼ˆ$m$æ¡æ ·æœ¬ï¼‰ã€‚ä» featureé›†åˆ $F$ ä¸­é€‰æ‹©ä¸€ä¸ªæœ€ä¼˜ç‰¹å¾ $f^âˆ—$ï¼ŒæŒ‰ç…§ $f^âˆ—$ å–å€¼å°† è®­ç»ƒæ•°æ®é›†(D) åˆ‡åˆ†æˆè‹¥å¹²å­é›†ï¼Œä½¿å¾—å„ä¸ªè‡ªå·±æœ‰ä¸€ä¸ªåœ¨å½“å‰æ¡ä»¶ä¸‹æœ€å¥½çš„åˆ†ç±»ã€‚</p>
<p>å¦‚æœå­é›†ä¸­æ ·æœ¬ç±»åˆ«åŸºæœ¬ç›¸åŒï¼Œé‚£ä¹ˆæ„å»ºå¶èŠ‚ç‚¹ï¼Œå¹¶å°†æ•°æ®å­é›†åˆ’åˆ†ç»™å¯¹åº”çš„å¶èŠ‚ç‚¹ï¼›å¦‚æœå­é›†ä¸­æ ·æœ¬ç±»åˆ«å·®å¼‚è¾ƒå¤§ï¼Œä¸èƒ½è¢«åŸºæœ¬æ­£ç¡®åˆ†ç±»ï¼Œéœ€è¦åœ¨å‰©ä¸‹çš„ç‰¹å¾é›†åˆ $ï¼ˆFâˆ’{f^âˆ—}ï¼‰$ ä¸­é€‰æ‹©æ–°çš„æœ€ä¼˜ç‰¹å¾ï¼Œç»§ç»­å¯¹æ•°æ®å­é›†è¿›è¡Œåˆ‡åˆ†ã€‚å¦‚æ­¤é€’å½’åœ°è¿›è¡Œä¸‹å»ï¼Œç›´è‡³æ‰€æœ‰æ•°æ®è‡ªå·±éƒ½èƒ½è¢«åŸºæœ¬æ­£ç¡® Categoryï¼Œæˆ–è€…æ²¡æœ‰åˆé€‚çš„æœ€ä¼˜ç‰¹å¾ä¸ºæ­¢ã€‚</p>
<p>è¿™æ ·æœ€ç»ˆç»“æœæ˜¯æ¯ä¸ªå­é›†éƒ½è¢«åˆ†åˆ°å¶èŠ‚ç‚¹ä¸Šï¼Œå¯¹åº”ç€ä¸€ä¸ªæ˜ç¡®çš„ç±»åˆ«ã€‚é‚£ä¹ˆï¼Œé€’å½’ç”Ÿæˆçš„å±‚çº§ç»“æ„å³ä¸ºä¸€æ£µ DTã€‚</p>
<h3 id="3-2-ä¼ªä»£ç æ„é€ -DT"><a href="#3-2-ä¼ªä»£ç æ„é€ -DT" class="headerlink" title="3.2 ä¼ªä»£ç æ„é€  DT"></a>3.2 ä¼ªä»£ç æ„é€  DT</h3><p>  è¾“å…¥ : è®­ç»ƒæ•°æ®é›† $D = \{ (x^{(1)}ï¼Œy^{(1)}) ï¼Œ (x^{(2)}ï¼Œy^{(2)})ï¼Œ â‹¯ ï¼Œ (x^{(m)}ï¼Œy^{(m)}) \}$(Featureç”¨ç¦»æ•£å€¼è¡¨ç¤º)<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;å€™é€‰ç‰¹å¾é›† $F = \{f^1ï¼Œf^2ï¼Œ â‹¯ï¼Œf^n \}$</p>
<p>  è¾“å‡º : T(D, F)</p>
<p><img src="/images/ml/decision-tree/decision-tree-3.png" width="760" height="400" img=""></p>
<p>å†³ç­–æ ‘å­¦ä¹ è¿‡ç¨‹ä¸­é€’å½’çš„æ¯ä¸€æ­¥ï¼Œåœ¨é€‰æ‹©æœ€ä¼˜ç‰¹å¾åï¼Œæ ¹æ®ç‰¹å¾å–å€¼åˆ‡å‰²å½“å‰èŠ‚ç‚¹çš„æ•°æ®é›†ï¼Œå¾—åˆ°è‹¥å¹²æ•°æ®å­é›†ã€‚<br>ç®—æ³•çš„æ—¶é—´å¤æ‚åº¦æ˜¯O(k<em>|D|</em>log(|D|))ï¼Œkä¸ºå±æ€§ä¸ªæ•°ï¼Œ|D|ä¸ºè®°å½•é›†Dçš„è®°å½•æ•°ã€‚</p>
<h2 id="4-Feature-Selection"><a href="#4-Feature-Selection" class="headerlink" title="4. Feature Selection"></a>4. Feature Selection</h2><p>é€’å½’åœ°é€‰æ‹©æœ€ä¼˜featureï¼Œæ ¹æ®featureå–å€¼åˆ‡å‰²æ•°æ®é›†ï¼Œä½¿å¾—å¯¹åº”çš„æ•°æ®å­é›†æœ‰ä¸€ä¸ªè¾ƒå¥½çš„åˆ†ç±»ã€‚ä»ä¼ªä»£ç ä¸­ä¹Ÿå¯ä»¥çœ‹å‡ºï¼Œåœ¨å†³ç­–æ ‘å­¦ä¹ è¿‡ç¨‹ä¸­ï¼Œæœ€é‡è¦çš„æ˜¯ç¬¬07è¡Œï¼Œå³å¦‚ä½•é€‰æ‹©æœ€ä¼˜featureï¼Ÿä¹Ÿå°±æ˜¯æˆ‘ä»¬å¸¸è¯´çš„featureé€‰æ‹©é—®é¢˜ã€‚</p>
<p>åœ¨è¿™é‡Œï¼Œå¸Œæœ›éšç€featureé€‰æ‹©è¿‡ç¨‹åœ°ä¸æ–­è¿›è¡Œï¼Œå†³ç­–æ ‘çš„åˆ†æ”¯èŠ‚ç‚¹æ‰€åŒ…å«çš„æ ·æœ¬å°½å¯èƒ½å±äºåŒä¸€ç±»åˆ«ï¼Œå³å¸Œæœ›èŠ‚ç‚¹çš„â€çº¯åº¦ï¼ˆpurityï¼‰â€è¶Šæ¥è¶Šé«˜ã€‚</p>
<blockquote>
<p>å¦‚å­é›†ä¸­çš„æ ·æœ¬éƒ½å±äºåŒä¸€ä¸ªç±»åˆ«ï¼Œæ˜¯æœ€å¥½çš„ç»“æœï¼›å¦‚æœè¯´å¤§å¤šæ•°çš„æ ·æœ¬ç±»å‹ç›¸åŒï¼Œåªæœ‰å°‘éƒ¨åˆ†æ ·æœ¬ä¸åŒï¼Œä¹Ÿå¯ä»¥æ¥å—ã€‚</p>
</blockquote>
<p>é‚£ä¹ˆå¦‚ä½•æ‰èƒ½åšåˆ°é€‰æ‹©çš„ç‰¹å¾å¯¹åº”çš„æ ·æœ¬å­é›†çº¯åº¦æœ€é«˜å‘¢ï¼Ÿ</p>
<table>
<thead>
<tr>
<th>Algorithm</th>
<th>Feature é€‰æ‹©æ–¹æ³•</th>
<th>Author</th>
</tr>
</thead>
<tbody>
<tr>
<td>ID3</td>
<td>Information gain</td>
<td>Quinlan. 1986</td>
</tr>
<tr>
<td>C4.5</td>
<td>Gain ratio</td>
<td>Quinlan. 1993.</td>
</tr>
<tr>
<td>CART</td>
<td>å›å½’æ ‘ï¼š æœ€å°äºŒä¹˜<br>åˆ†ç±»æ ‘ï¼š åŸºå°¼æŒ‡æ•° Gini index</td>
<td>Breiman. 1984<br>(Classification and Regression Tree åˆ†ç±»ä¸å›å½’æ ‘)</td>
</tr>
</tbody>
</table>
<blockquote>
<p>ID3 (Iterative Dichotomiser)</p>
</blockquote>
<h3 id="4-1-Information-Gain"><a href="#4-1-Information-Gain" class="headerlink" title="4.1 Information Gain"></a>4.1 Information Gain</h3><p>ä¿¡æ¯å¢ç›Šï¼ˆInformation Gainï¼‰è¡¡é‡ Feature çš„é‡è¦æ€§æ˜¯æ ¹æ®å½“å‰ Feature ä¸ºåˆ’åˆ†å¸¦æ¥å¤šå°‘ä¿¡æ¯é‡ï¼Œå¸¦æ¥çš„ä¿¡æ¯è¶Šå¤šï¼Œè¯¥ Feature å°±è¶Šé‡è¦ï¼Œæ­¤æ—¶èŠ‚ç‚¹çš„â€çº¯åº¦â€ä¹Ÿå°±è¶Šé«˜ã€‚</p>
<p><a href="/2016/08/18/ml-entropy-base/">Infomation Entropy</a></p>
<blockquote>
<p>å¯¹ä¸€ä¸ªåˆ†ç±»ç³»ç»Ÿæ¥è¯´ï¼Œå‡è®¾ç±»åˆ« $C$ å¯èƒ½çš„å–å€¼ä¸º $c_1ï¼Œc_2ï¼Œâ‹¯ï¼Œc_k$ï¼ˆ$k$æ˜¯ç±»åˆ«æ€»æ•°ï¼‰ï¼Œæ¯ä¸€ä¸ªç±»åˆ«å‡ºç°çš„æ¦‚ç‡åˆ†åˆ«æ˜¯ $p(c_1)ï¼Œp(c_2)ï¼Œâ‹¯ï¼Œp(c_k)$ã€‚æ­¤æ—¶ï¼Œåˆ†ç±»ç³»ç»Ÿçš„ Entropy å¯ä»¥è¡¨ç¤ºä¸º:</p>
<p>$$<br>info(C) = -  \sum_{i=1}^k p(c_i) \cdot log_2 p(c_i) \qquad (fml.4.1.1)<br>$$</p>
<p>åˆ†ç±»ç³»ç»Ÿçš„ä½œç”¨å°±æ˜¯è¾“å‡ºä¸€ä¸ªç‰¹å¾å‘é‡ï¼ˆæ–‡æœ¬ç‰¹å¾ã€IDç‰¹å¾ ç­‰ï¼‰å±äºå“ªä¸ª Category çš„å€¼ï¼Œè€Œè¿™ä¸ªå€¼å¯èƒ½æ˜¯ $c_1ï¼Œc_2ï¼Œâ‹¯ï¼Œc_k$ ï¼Œå› æ­¤è¿™ä¸ªå€¼æ‰€æºå¸¦çš„ä¿¡æ¯é‡å°±æ˜¯ (fml.4.1.1) å…¬å¼è¿™ä¹ˆå¤š</p>
</blockquote>
<p><strong>Condition Entropy</strong></p>
<p>å‡è®¾ ç¦»æ•£ç‰¹å¾ $f$ çš„å–å€¼æœ‰ $I$ ä¸ªï¼Œ$info(C|f=f_i)$ è¡¨ç¤ºç‰¹å¾ $f$ è¢«å–å€¼ä¸º $f_i$ æ—¶çš„<strong><em>Condition Entropy</em></strong>ï¼› $info(C|f)$ æ˜¯æŒ‡ç‰¹å¾ $f$ è¢«å›ºå®šæ—¶çš„ <strong><em>Condition Entropy</em></strong>ã€‚äºŒè€…ä¹‹é—´çš„å…³ç³»æ˜¯ï¼š</p>
<blockquote>
<p>$$<br>\begin{align}<br>info(C|f) &amp; = p_1 \cdot info(C|f=f_1) + p_2 \cdot info(C|f=f_2) + â€¦ + p_k \cdot info(C|f=f_{k}) \\ &amp; = \sum_{i=1}^{I} p_i \cdot info(C|f=f_i) \end{align}  \quad (fml.4.1.2)<br>$$<br>å‡è®¾æ€»æ ·æœ¬æ•°æœ‰ $m$ æ¡ï¼Œç‰¹å¾ $f=f_i$ æ—¶çš„æ ·æœ¬æ•° $m_iï¼Œp_i=\frac{m_i}{m}$.</p>
</blockquote>
<p><strong>å¦‚ä½•æ±‚ $P(C|f=f_i)$</strong> ?</p>
<blockquote>
<p>äºŒåˆ†ç±»æƒ…å†µ :</p>
<p>ä»¥äºŒåˆ†ç±»ä¸ºä¾‹ï¼ˆæ­£ä¾‹ä¸º1ï¼Œè´Ÿä¾‹ä¸º0ï¼‰ï¼Œæ€»æ ·æœ¬æ•°ä¸º $m$ æ¡ï¼Œç‰¹å¾ $f$ çš„å–å€¼ä¸º $I$ ä¸ªï¼Œå…¶ä¸­ç‰¹å¾ $f=f_i$ å¯¹åº”çš„æ ·æœ¬æ•°ä¸º $m_i$ æ¡ï¼Œå…¶ä¸­æ­£ä¾‹ $m_{i1}$ æ¡ï¼Œè´Ÿä¾‹ $m_{i0}$ æ¡ $m_i = m_{i0} + m_{i1}$ ã€‚é‚£ä¹ˆæœ‰ï¼š</p>
<p>$$<br>\begin{align} info(C|f=f_i) &amp; = - \frac{m_{i1}}{m_i} \cdot log_{2} \frac{m_{i1}}{m_i} - \frac{m_{i0}}{m_i} \cdot log_{2} \frac{m_{i0}}{m_i} \end{align} \qquad (fml.4.1.3)<br>$$<br>å¤šåˆ†ç±»æƒ…å†µ:</p>
<p>$$<br>\begin{align} info(C|f=f_i) = -\sum_{j=0}^{k-1} \frac{m_{ij}}{m_i} \cdot log_{2} \frac{m_{ij}}{m_i} \end{align} \qquad (fml.4.1.4)<br>$$</p>
<p>å…¬å¼$\frac{m_{ij}}{m_i}$ç‰©ç†å«ä¹‰æ˜¯å½“ $f=f_i$ ä¸” $C=c_j$ çš„æ¦‚ç‡ï¼Œå³æ¡ä»¶æ¦‚ç‡ $p(c_j|f_i)$</p>
<p>å› æ­¤ï¼Œ<strong><em>Condition Entropy</em></strong> è®¡ç®—å…¬å¼ä¸ºï¼š</p>
<p>$$<br>\begin{align} info(C|f) &amp; = \sum_{i=1}^{I} p(f_i) \cdot info(C|f=f_i) \\ &amp; = - \sum_{i=1}^{I} p(f_i) \cdot \underline { \sum_{j=0}^{k-1} p(c_j|f_i) \cdot log_2 p(c_j|f_i) } \qquad (fml.4.1.5)<br>\end{align}<br>$$</p>
</blockquote>
<p>ç‰¹å¾ $f$ ç»™ç³»ç»Ÿå¸¦æ¥çš„ info gain ç­‰äºç³»ç»ŸåŸæœ‰çš„ Entropy ä¸å›ºå®šç‰¹å¾ $f$ çš„ <strong><em>Condition Entropy</em></strong> ä¹‹å·®ï¼Œå…¬å¼è¡¨ç¤ºå¦‚ä¸‹:</p>
<blockquote>
<p>$$<br>\begin{align} IG(F) &amp; = E(C) - E(C|F) \\ &amp; = -\sum_{i=1}^{k} p(c_i) \cdot \log_{2} p(c_i) + \sum_{i=1}^{I} p(f_i) \cdot \underline { \sum_{j=0}^{k-1} p(c_j|f_i) \cdot log_2 p(c_j|f_i) } \end{align}  \qquad (fml.4.1.6)<br>$$</p>
<p>$n$ è¡¨ç¤ºç‰¹å¾ $f$ å–å€¼ä¸ªæ•°ï¼Œ$k$ è¡¨ç¤ºç±»åˆ« $C$ ä¸ªæ•°ï¼Œ$\sum_{j=0}^{n-1} \frac{m_{ij}}{m_i} \cdot log_{2} \frac{m_{ij}}{m_i}$ è¡¨ç¤ºæ¯ä¸€ä¸ªç±»åˆ«å¯¹åº”çš„ Entropy ã€‚</p>
</blockquote>
<hr>
<p><strong>ä¸‹é¢ä»¥å¤©æ°”æ•°æ®ä¸ºä¾‹,é€šè¿‡ <code>Info gain</code> é€‰æ‹©æœ€ä¼˜ feature çš„è¿‡ç¨‹ :</strong></p>
<blockquote>
<p>æ ¹æ® é˜´æ™´ã€æ¸©åº¦ã€æ¹¿åº¦ å’Œ åˆ®é£ æ¥å†³å®šæ˜¯å¦å‡ºå»ç©ã€‚æ ·æœ¬ä¸­æ€»å…±æœ‰ 14 æ¡è®°å½•ï¼Œå–å€¼ä¸º <code>æ˜¯</code>(9ä¸ªæ­£æ ·æœ¬)ã€<code>å¦</code>(5ä¸ªè´Ÿæ ·æœ¬)ï¼Œç”¨ $S(9+,5âˆ’)$ è¡¨ç¤º.</p>
<p>(1). åˆ†ç±»ç³»ç»Ÿçš„ Entropy :<br>$$<br>Entropy(S) = info(9,5) = (-\frac{9}{14} _ llog_2 (\frac{9}{14})) + (- \frac{5}{14} _ llog_2 (\frac{5}{14})) = 0.940ä½   \quad (exp.4.1.1)<br>$$<br>(2). å¦‚æœä»¥ç‰¹å¾â€é˜´æ™´â€ä½œä¸ºæ ¹èŠ‚ç‚¹ã€‚â€œé˜´æ™´â€å–å€¼ä¸º{sunny, overcast, rainy}, åˆ†åˆ«å¯¹åº”çš„æ­£è´Ÿæ ·æœ¬æ•°åˆ†åˆ«ä¸º(2+,3-), (4+,0-), (3+,2-)ï¼Œé‚£ä¹ˆåœ¨è¿™ä¸‰ä¸ªèŠ‚ç‚¹ä¸Šçš„ info Entropy åˆ†åˆ«ä¸ºï¼š<br>$$<br>\begin{align} &amp; Entropy(S| â€œé˜´æ™´â€=sunny) = info(2,3) = 0.971ä½  \quad(exp.4.1.1) \\ &amp; Entropy(S| â€œé˜´æ™´â€=overcast) = info(4,0) = 0ä½  \;\;\quad(exp.4.1.2) \\ &amp; Entropy(S| â€œé˜´æ™´â€=rainy) = info(3,2) = 0.971ä½  \;\quad(exp.4.1.3) \end{align}<br>$$</p>
<p>ä»¥ Feature â€œé˜´æ™´â€ ä¸ºæ ¹èŠ‚ç‚¹ï¼Œå¹³å‡ä¿¡æ¯å€¼ï¼ˆå³ <strong>Condition Entropy</strong>ï¼‰ä¸ºï¼š<br>$$<br>Entropy(S|â€œé˜´æ™´â€) = \frac{5}{14} * 0.971 + \frac{4}{14} * 0 + \frac{5}{14} * 0.971 = 0.693ä½ \quad (exp.4.1.4)<br>$$</p>
<p>ä»¥ Feature â€œé˜´æ™´â€ ä¸ºæ¡ä»¶ï¼Œè®¡ç®—å¾—åˆ°çš„ <strong>Condition Entropy</strong> ä»£è¡¨äº†æœŸæœ›çš„ä¿¡æ¯æ€»é‡ï¼Œå³å¯¹äºä¸€ä¸ªæ–°æ ·æœ¬åˆ¤å®šå…¶å±äºå“ªä¸ªç±»åˆ«æ‰€å¿…éœ€çš„ä¿¡æ¯é‡ã€‚</p>
<p>(3). è®¡ç®—ç‰¹å¾â€œé˜´æ™´â€â€œé˜´æ™´â€å¯¹åº”çš„ä¿¡æ¯å¢ç›Š:<br>$$<br>IG( â€œé˜´æ™´â€) = Entropy(S) - Entropy(S| â€œé˜´æ™´â€) = 0.247ä½ \quad\quad(exp.4.1.5)<br>$$</p>
<p>åŒæ ·çš„è®¡ç®—æ–¹æ³•ï¼Œå¯å¾—æ¯ä¸ªç‰¹å¾å¯¹åº”çš„ä¿¡æ¯å¢ç›Šï¼Œå³<br>$$<br>IG(â€œåˆ®é£â€) = Entropy(S) - Entropy(S|â€œåˆ®é£â€) = 0.048ä½ \qquad\qquad(exp.4.1.6) \\ IG(â€œæ¹¿åº¦â€) = Entropy(S) - Entropy(S|â€œæ¹¿åº¦â€) = 0.152ä½ \qquad\qquad(exp.4.1.7) \\ IG(â€œæ¸©åº¦â€) = Entropy(S) - Entropy(S|â€œæ¸©åº¦â€) = 0.029ä½ \qquad\qquad(exp.4.1.8)<br>$$</p>
<p>æ˜¾ç„¶ï¼ŒFeature â€œé˜´æ™´â€ çš„ info gain æœ€å¤§ï¼Œäºæ˜¯æŠŠå®ƒä½œä¸ºåˆ’åˆ†ç‰¹å¾ã€‚åŸºäºâ€œé˜´æ™´â€å¯¹æ ¹èŠ‚ç‚¹è¿›è¡Œåˆ’åˆ†çš„ç»“æœï¼Œå¦‚å›¾4.5æ‰€ç¤ºï¼ˆå†³ç­–æ ‘å­¦ä¹ è¿‡ç¨‹éƒ¨åˆ†ï¼‰ã€‚å†³ç­–æ ‘å­¦ä¹ ç®—æ³•å¯¹å­èŠ‚ç‚¹è¿›ä¸€æ­¥åˆ’åˆ†ï¼Œé‡å¤ä¸Šé¢çš„è®¡ç®—æ­¥éª¤ã€‚</p>
</blockquote>
<p><img src="/images/ml/decision-tree/decision-tree-2.png" width="560" height="400" img=""></p>
<h3 id="4-2-Gain-ratio"><a href="#4-2-Gain-ratio" class="headerlink" title="4.2 Gain ratio"></a>4.2 Gain ratio</h3><p>ä¸ Info Gain ä¸åŒï¼Œ<code>Gain ratio</code> çš„è®¡ç®—è€ƒè™‘äº† F åˆ†è£‚æ•°æ®é›†åæ‰€äº§ç”Ÿçš„å­èŠ‚ç‚¹çš„æ•°é‡å’Œè§„æ¨¡ï¼Œè€Œ<strong>å¿½ç•¥ä»»ä½•æœ‰å…³ç±»åˆ«çš„ä¿¡æ¯</strong>ã€‚</p>
<blockquote>
<p>ä»¥ info gain ç¤ºä¾‹ä¸ºä¾‹ï¼ŒæŒ‰ç…§ ç‰¹å¾â€œé˜´æ™´â€ å°†æ•°æ®é›†åˆ†è£‚æˆ3ä¸ªå­é›†ï¼Œè§„æ¨¡åˆ†åˆ«ä¸º5ã€4å’Œ5ï¼Œå› æ­¤ä¸è€ƒè™‘å­é›†ä¸­æ‰€åŒ…å«çš„ç±»åˆ«ï¼Œäº§ç”Ÿä¸€ä¸ªåˆ†è£‚ä¿¡æ¯ä¸ºï¼š</p>
<p>$$<br>SplitInfo(â€œé˜´æ™´â€) = info(5,4,5) = 1.577ä½ \qquad (exp.4.2.1)<br>$$<br><strong>Split Information Entropy</strong> å¯ç®€å•åœ°ç†è§£ä¸ºè¡¨ç¤ºä¿¡æ¯åˆ†æ”¯æ‰€éœ€è¦çš„ä¿¡æ¯é‡ã€‚ </p>
<p>é‚£ä¹ˆ Info Gain ratio ï¼š<br>$$<br>IG_{ratio}(F) = \frac {IG(F)} {SplitInfo(F)} \qquad (exp.4.2.2)<br>$$<br>åœ¨è¿™é‡Œï¼Œç‰¹å¾ â€œé˜´æ™´â€çš„ Gain ratio ä¸º $IG_{ratio}( â€œé˜´æ™´â€)=\frac{0.247}{1.577} = 0.157$ã€‚å‡å°‘ä¿¡æ¯å¢ç›Šæ–¹æ³•å¯¹å–å€¼æ•°è¾ƒå¤šçš„ç‰¹å¾çš„å½±å“ã€‚(å¯ä»¥å‡å°‘è¿‡æ‹Ÿåˆï¼Œè¿™ç­‰äºæ˜¯å¯¹ æŸç‰¹å¾å–å€¼è¿‡å¤šçš„ä¸€ä¸ªæƒ©ç½š)</p>
</blockquote>
<figure class="highlight py"><table><tr><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>-(math.log((<span class="number">5.0</span>/<span class="number">14.0</span>), <span class="number">2</span>) * (<span class="number">5.0</span>/<span class="number">14.0</span>) * <span class="number">2</span> + (<span class="number">4.0</span>/<span class="number">14.0</span>) * (math.log((<span class="number">4.0</span>/<span class="number">14.0</span>), <span class="number">2</span>)))</span><br><span class="line"><span class="number">1.577406282852345</span></span><br><span class="line">&gt;&gt;&gt;</span><br></pre></td></tr></table></figure>
<h2 id="Reference-article"><a href="#Reference-article" class="headerlink" title="Reference article"></a>Reference article</h2><ul>
<li><a href="http://www.cnblogs.com/fengfenggirl/p/classsify_decision_tree.html" target="_blank" rel="external">é€—æ¯”ç®—æ³•å·¥ç¨‹å¸ˆ</a>ã€<a href="http://www.52caml.com/" target="_blank" rel="external">ç®—æ³•æ‚è´§é“º</a>ã€<a href="http://www.cnblogs.com/leoo2sk/archive/2010/09/19/decision-tree.html" target="_blank" rel="external">52caml</a></li>
<li><a href="http://blog.csdn.net/ljp812184246/article/details/47402639" target="_blank" rel="external">å†³ç­–æ ‘ID3ã€C4.5ã€CARTç®—æ³•ï¼šä¿¡æ¯ç†µï¼ŒåŒºåˆ«ï¼Œå‰ªæç†è®ºæ€»ç»“</a></li>
<li>ã€Šæœºå™¨å­¦ä¹ å¯¼è®ºã€‹ã€Šç»Ÿè®¡å­¦ä¹ æ–¹æ³•ã€‹</li>
</ul>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[Hotels]]></title>
      <url>http://iequa.com/2016/08/15/ef-l3u3-Hotels/</url>
      <content type="html"><![CDATA[<style>
img {
        display: block !important;
        width: 550px;
        margin-left: 120px !important;
}
</style>

<h2 id="1-Recommending-a-hotel"><a href="#1-Recommending-a-hotel" class="headerlink" title="1. Recommending a hotel"></a>1. Recommending a hotel</h2><ul>
<li>right downtown.</li>
<li>The rates are reasonable.</li>
</ul>
<p><img src="/images/english/ef-l3u3l1.png" alt=""></p>
<table>
<thead>
<tr>
<th><strong>Dialog</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td>[JOAN] I have a meeting there on March 15th. Can you recommend a good hotel?</td>
<td></td>
</tr>
<tr>
<td>[TODD] How about the Hotel Anna? <code>Itâ€™s right downtown</code>. The rates are reasonable.</td>
<td></td>
</tr>
<tr>
<td>[JOAN] Thanks good. How much is it a night?</td>
<td></td>
</tr>
<tr>
<td>[TODD] I think itâ€™s around 200 a night.</td>
<td></td>
</tr>
<tr>
<td>[JOAN] Not bad. <code>Is there a fitness center</code> in the hotel ?</td>
<td></td>
</tr>
<tr>
<td>[TODD] Yes, there is. Oh! And you get free wireless internet in your room. I love that.</td>
<td></td>
</tr>
<tr>
<td>[JOAN] <code>What are the rooms like</code>?</td>
<td></td>
</tr>
<tr>
<td>[TODD] Theyâ€™re nice. The bathrooms are pretty small. But theyâ€™re modern and clean.</td>
<td></td>
</tr>
<tr>
<td>[JOAN] Great! sounds perfect.</td>
<td></td>
</tr>
</tbody>
</table>
<blockquote>
<p>It isnâ€™t near the airport.<br>Itâ€™s close to shopping.<br>Every room has free wireless internet.<br>It doesnâ€™t have a business center.</p>
</blockquote>
<h2 id="2-Making-a-hotel-reservation"><a href="#2-Making-a-hotel-reservation" class="headerlink" title="2. Making a hotel reservation"></a>2. Making a hotel reservation</h2><p><img src="/images/english/ef-l3u3l2.png" alt=""></p>
<table>
<thead>
<tr>
<th>Making a hotel reservation</th>
</tr>
</thead>
<tbody>
<tr>
<td>[CLERK] Hotel Annaï¼ŒHow Can I help you?</td>
<td></td>
</tr>
<tr>
<td>[JOAN] Iâ€™d like to make a reservation please.</td>
<td></td>
</tr>
<tr>
<td>[CLERK] <code>For how many people?</code> / For how many nights?</td>
<td></td>
</tr>
<tr>
<td>[JOAN] Just me.</td>
<td></td>
</tr>
<tr>
<td>[CLERK] OK, When are you <code>checking in</code>?</td>
<td></td>
</tr>
<tr>
<td>[JOAN] Check in March 15th and check out March 19th</td>
<td></td>
</tr>
<tr>
<td>[CLERK] 15th to 19th. So, that. Would you like a single room or a double ?</td>
<td></td>
</tr>
<tr>
<td>[JOAN] A single please. Iâ€™d like to have a nonsmoking room.</td>
<td></td>
</tr>
<tr>
<td>[CLERK] Thatâ€™s no problem. <code>Would you like me to reserve it for you, now?</code></td>
<td></td>
</tr>
<tr>
<td>[JOAN] Whatâ€™s the rate?</td>
<td></td>
</tr>
<tr>
<td>[CLERK] Itâ€™s 210 a night.</td>
<td></td>
</tr>
<tr>
<td>[JOAN] OK, Yes. Please reserve it for me now. My name is Baxter.</td>
<td></td>
</tr>
<tr>
<td>[CLERK] May I have your credit card number?</td>
<td></td>
</tr>
<tr>
<td>[JOAN] Itâ€™s 3788-6672-4038-24.</td>
<td></td>
</tr>
<tr>
<td>[CLERK] Great. Just one moment â€¦ All set. Can I help you with anything else?</td>
<td></td>
</tr>
</tbody>
</table>
<h2 id="3-Checking-in-to-a-hotel"><a href="#3-Checking-in-to-a-hotel" class="headerlink" title="3. Checking in to a hotel"></a>3. Checking in to a hotel</h2><ul>
<li>suitcase</li>
<li>front desk</li>
<li>luggage</li>
<li>lobby</li>
<li>key card</li>
<li>credit card</li>
<li>elevator</li>
<li>hotel clerk</li>
<li>umbrella</li>
</ul>
<p><img src="/images/english/ef-l3u3l3.png" alt=""></p>
<table>
<thead>
<tr>
<th><strong>Dialog</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td>[CLERK] Good afternoonï¼ŒMay I help you?</td>
<td></td>
</tr>
<tr>
<td>[JOAN] Yes, <code>I&#39;m checking in</code>.</td>
<td></td>
</tr>
<tr>
<td>[CLERK] May I see your passport?</td>
<td></td>
</tr>
<tr>
<td>[JOAN] Yes, Here you are.</td>
<td></td>
</tr>
<tr>
<td>[CLERK] OK, Welcome to the hotel Ana. So thatâ€™s two people, for four nights.</td>
<td></td>
</tr>
<tr>
<td>[JOAN] Actually, itâ€™s for one person â€“ just me.</td>
<td></td>
</tr>
<tr>
<td>[CLERK] Oh, sorry about it, Ah, yes - a nonsmoking single.</td>
<td></td>
</tr>
<tr>
<td>[JOAN] Thatâ€™s right.</td>
<td></td>
</tr>
<tr>
<td>[CLERK] And <code>you&#39;re staying with us for four nights</code>, checking out on the 19th.</td>
<td></td>
</tr>
<tr>
<td>[JOAN] Yes.</td>
<td></td>
</tr>
<tr>
<td>[CLERK] OK, May I see your credit card?</td>
<td></td>
</tr>
<tr>
<td>[JOAN] Here you are.</td>
<td></td>
</tr>
<tr>
<td>[CLERK] Wonderful ! <code>You&#39;re all set</code>. Here your credit card and Passport. Hereâ€™s your key card for 1412.</td>
<td></td>
</tr>
<tr>
<td>[CLERK] <code>You can take the elevator behind you</code>. Would you like help with your luggage?</td>
<td></td>
</tr>
<tr>
<td>[JOAN] No, Thank you.</td>
<td></td>
</tr>
<tr>
<td>[CLERK] Ok, <code>Have a pleasant stay</code>. [â€˜plez(É™)nt]</td>
<td></td>
</tr>
</tbody>
</table>
<blockquote>
<p>Weâ€™re checking in on the 3rd and checking out on the 14th.<br>So, thatâ€™s one person for 10 nights.  </p>
</blockquote>
<h2 id="4-Checking-out-to-a-hotel"><a href="#4-Checking-out-to-a-hotel" class="headerlink" title="4. Checking out to a hotel"></a>4. Checking out to a hotel</h2><ul>
<li>plus room service</li>
<li>Itâ€™s not a big deal.</li>
<li>receipt</li>
</ul>
<p><img src="/images/english/ef-l3u3l4.png" alt=""></p>
<table>
<thead>
<tr>
<th><strong>Dialog</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td>[CLERK] Good morningï¼ŒMay I help you?</td>
<td></td>
</tr>
<tr>
<td>[JOAN] Yes, <code>I&#39;d like to check out</code>, please.</td>
<td></td>
</tr>
<tr>
<td>[CLERK] <code>How was your stay?</code></td>
<td></td>
</tr>
<tr>
<td>[JOAN] Pretty good, But <code>The neighborhood&#39;s a little noisy</code>.</td>
<td></td>
</tr>
<tr>
<td>[CLERK] Oh, Iâ€™m sorry to hear that..</td>
<td></td>
</tr>
<tr>
<td>[JOAN] Itâ€™s okay. I love the room. <code>The fitness center&#39;s amazing</code>.</td>
<td></td>
</tr>
<tr>
<td>[CLERK] Great! Would you like pay with your credit card?</td>
<td></td>
</tr>
<tr>
<td>[JOAN] please.</td>
<td></td>
</tr>
<tr>
<td>[CLERK] Thatâ€™s 996.</td>
<td></td>
</tr>
<tr>
<td>[JOAN] Really? That seems high.</td>
<td></td>
</tr>
<tr>
<td>[CLERK] Would you like a receipt ?</td>
<td></td>
</tr>
<tr>
<td>[JOAN] Yes, I need the receipt.</td>
<td></td>
</tr>
</tbody>
</table>
<blockquote>
<p>Your bill comes to 996.<br>The total amount is 996.<br>That doesnâ€™t seem right.<br>Iâ€™d like to review my bill, please.<br>How would you like to pay for that? </p>
</blockquote>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[ä¸­å›½äººèµ·åå­—çš„å­¦é—® - è‡ªæˆ‘ç ”ç©¶]]></title>
      <url>http://iequa.com/2016/08/13/life-chinese-named/</url>
      <content type="html"><![CDATA[<h2 id="1-äº”è¡Œå…«å­—ä»‹ç»"><a href="#1-äº”è¡Œå…«å­—ä»‹ç»" class="headerlink" title="1. äº”è¡Œå…«å­—ä»‹ç»"></a>1. äº”è¡Œå…«å­—ä»‹ç»</h2><h3 id="1-1-äº”è¡Œ"><a href="#1-1-äº”è¡Œ" class="headerlink" title="1.1 äº”è¡Œ"></a>1.1 äº”è¡Œ</h3><p>ã€€äº”è¡Œå°±æ˜¯å‘¨æ˜“ä¸­å¸¸è¯´çš„æœ¨ã€ç«ã€åœŸã€é‡‘ã€æ°´ã€‚æ˜“ç»ä¸­å„ç±»äº‹ç‰©å‡å¯ä»¥äº”è¡Œæ¥åŒºåˆ†ï¼Œå¦‚å¹²æ”¯ã€åœ°æ”¯ã€å­£èŠ‚ã€æ–¹ä½ã€äººä½“ã€é¢œè‰²ã€å‘³é“ç­‰ç­‰ã€‚äº”è¡Œæœ‰ç›¸ç”Ÿä¸ç›¸å…‹çš„ç‰¹è´¨ï¼Œå¾ˆå¤šçš„äº‹ç‰©å¯è—‰ç”±äº”è¡Œçš„è¿ç®—ï¼Œäº†è§£å…ƒç´ ä¹‹å…´è¡°ï¼Œæ¥åˆ¤åˆ«äº‹ç‰©çš„èµ·ä¼å˜åŒ–å’Œä½ ä¸€ç”Ÿçš„å¥½åå‰å‡¶ã€‚</p>
<h3 id="1-2-ä¸‰æ‰"><a href="#1-2-ä¸‰æ‰" class="headerlink" title="1.2 ä¸‰æ‰"></a>1.2 ä¸‰æ‰</h3><p>ã€€ã€€ä¸‰æ‰é…ç½®å³å¤©ã€äººã€åœ°ã€‚ä¸­å›½ä¼ ç»Ÿæ–‡åŒ–ç†è§£äººç«‹è¶³äºå¤§åœ°ä¹‹ä¸Šï¼Œåœ¨å¤©ä¹‹ä¸‹ï¼Œå—åˆ°ä¸Šå¤©ä¹‹çœ·é¡¾ï¼Œå¤§åœ°çš„æ»‹å…»ï¼Œè€Œç”Ÿç”Ÿä¸æ¯ã€‚äº¦æœ‰é¡ºåº”å¤©æ—¶ã€åœ°åˆ©ã€äººå’Œçš„è¡Œäº‹å“²ç†ã€‚ä¸‰æ‰é…ç½®åœ¨å§“åå­¦ä¸­ï¼Œå æœ‰å¾ˆå¤§çš„åˆ†é‡ã€‚</p>
<h3 id="1-3-äº”æ ¼"><a href="#1-3-äº”æ ¼" class="headerlink" title="1.3 äº”æ ¼"></a>1.3 äº”æ ¼</h3><p>ã€€ã€€äº”æ ¼é…ç½®æ˜¯æŒ‡å¤©æ ¼ã€åœ°æ ¼ã€äººæ ¼ã€å¤–æ ¼ã€æ€»æ ¼å…±äº”æ ¼ä¹‹é—´çš„å…³ç³»ã€‚å¤©æ ¼æ˜¯ç”±ç¥–å…ˆæµä¼ è€Œæ¥ï¼Œå•ç‹¬å‡ºç°å¯¹äººç”Ÿæ²¡æœ‰å¤šå¤§å½±å“;äººæ ¼æ˜¯å§“åå‰–è±¡æ•°ç†çš„ä¸­å¿ƒæ‰€åœ¨ï¼Œå¯¹äººç”Ÿçš„å½±å“æœ€å¤§;äººæ ¼ä¸åœ°æ ¼ç»“åˆçš„æ•°ç†åˆ™ä¸ºåŸºç¡€è¿ã€‚åœ°æ ¼ä¸»è¦æ˜¯36å²å‰çš„äººç”Ÿï¼Œä¹Ÿå«å‰è¿åŠ›ï¼Œå¤–æ ¼ä»£è¡¨äººçš„å¤–å›´ï¼Œå‰å‡¶æ— è°“ã€‚æ€»æ ¼æ˜¯36å²ä»¥åçš„äººç”Ÿï¼Œä¹Ÿæ˜¯åè¿åŠ›ã€‚äº”æ ¼é…ç½®åœ¨å§“åå­¦ä¸­å æœ‰ä¸»è¦ä½ç½®ã€‚</p>
<h2 id="2-åˆ¤æ–­äº”è¡Œæ‰€ç¼º"><a href="#2-åˆ¤æ–­äº”è¡Œæ‰€ç¼º" class="headerlink" title="2. åˆ¤æ–­äº”è¡Œæ‰€ç¼º"></a>2. åˆ¤æ–­äº”è¡Œæ‰€ç¼º</h2><blockquote>
<p>èµ·åå­—ï¼Œéœ€è¦æ ¹æ®äº”è¡Œå…«å­—æ‰€ç¼ºå°‘çš„äº”è¡Œæ¥ç”¨ç›¸åº”çš„å±æ€§å­—(æ›´å‡†ç¡®çš„è¯´æ³•æ˜¯ç”¨<code>å–œç”¨ç¥</code>)æ¥å¡«è¡¥ï¼Œæ‰€ä»¥éœ€è¦åˆ¤æ–­äº”è¡Œæ‰€ç¼ºã€‚</p>
</blockquote>
<p><a href="http://www.360doc.com/content/15/0313/16/15585030_454852610.shtml" target="_blank" rel="external">è§£æå››æŸ±å…«å­—çš„ç²¾é«“å–œç”¨ç¥</a><br><a href="http://baike.baidu.com/view/1373942.htm" target="_blank" rel="external">å–œç”¨ç¥ç™¾ç§‘</a><br><a href="http://blog.sina.com.cn/s/blog_6e775646010136qp.html" target="_blank" rel="external">å¦‚ä½•çŸ¥é“è‡ªå·±å…«å­—çš„å–œç¥ï¼Œç”¨ç¥</a></p>
<blockquote>
<p>å…«å­—å°±æ˜¯ä»è¿™ä¸ªå¹³è¡¡ç†è®ºï¼Œå»åˆ†æäººä¸€ç”Ÿçš„èµ·è½</p>
</blockquote>
<p>ã€€ã€€çŸ¥é“äº†äº”è¡Œçš„çŸ¥è¯†ï¼Œæˆ‘ä»¬ä¹ŸçŸ¥é“å¾ˆå¤šäººçš„å…«å­—äº”è¡Œéƒ½ä¸å¤ªé½å…¨ï¼Œæœ‰çš„ä¸åªç¼ºä¸€ä¸ªï¼Œè¿˜ä¼šç¼ºä¸¤ä¸ªç”šè‡³ä¸‰ä¸ªã€‚æ¯”å¦‚æˆ‘ä»¬å¸¸å¬è¯´çš„â€œäº”è¡Œç¼ºé‡‘â€ä¹‹ç±»çš„è¯ï¼Œé‚£ä¹ˆå¦‚ä½•çŸ¥é“èµ·åå­—äº”è¡Œç¼ºä»€ä¹ˆå‘¢?</p>
<h3 id="2-1-åˆ¤æ–­äº”è¡Œå…«å­—åŠå–œç”¨ç¥"><a href="#2-1-åˆ¤æ–­äº”è¡Œå…«å­—åŠå–œç”¨ç¥" class="headerlink" title="2.1 åˆ¤æ–­äº”è¡Œå…«å­—åŠå–œç”¨ç¥"></a>2.1 åˆ¤æ–­äº”è¡Œå…«å­—åŠå–œç”¨ç¥</h3><p>æŸ¥è¯¢äº”è¡Œå…«å­—æ˜¯ä¸ºäº†çœ‹å…«å­—ä¸­ç¼ºå°‘äº”è¡Œä¸­çš„å“ªä¸€è¡Œ(<strong>ä»¥å–œç”¨ç¥ä¸ºå‡†</strong>)ï¼Œç„¶åç”¨åä¸­å­—å°½é‡è¡¥é½ : <code>é‡‘ã€æœ¨ã€æ°´ã€ç«ã€åœŸ</code></p>
<p><strong>ä»¥ 2015å¹´10æœˆ11æ—¥13æ—¶30åˆ† ä¸ºä¾‹æŸ¥è¯¢æ£€éªŒåˆ¤æ–­äº”è¡Œå…«å­—</strong></p>
<p>ä»¥ä¸‹ç½‘å€æŸ¥è¯¢ç»“æœä¸€è‡´ :</p>
<ul>
<li><a href="http://www.sheup.com/shengchenbazi.php" target="_blank" rel="external">ä¸‰è—å…«å­—æŸ¥è¯¢</a></li>
<li><a href="http://www.zhyw.net/myweb/bz/bazi.htm" target="_blank" rel="external">å‘¨æ˜“ç½‘</a>  </li>
<li><a href="http://www.69jk.cn/tools/bazi/" target="_blank" rel="external">ä¸­å›½å¥åº·ç½‘</a></li>
</ul>
<p>ä»¥ä¸‹ç½‘å€æŸ¥è¯¢ç»“æœä¸€è‡´ :</p>
<ul>
<li><a href="http://www.meimingteng.com/Tool/Bazi.aspx" target="_blank" rel="external">ç¾åè…¾</a></li>
<li><a href="http://m.zhouyi.cc/bazi/xys/xiyongsheng.php" target="_blank" rel="external">æ˜“å®‰å±…ç®—å‘½ç½‘</a></li>
<li><a href="http://www.fututa.com/" target="_blank" rel="external">æµ®å›¾å¡”</a></li>
<li><a href="http://bazi.dosame.com/" target="_blank" rel="external">ç”Ÿè¾°å…«å­—å–œç”¨ç¥æŸ¥è¯¢</a></li>
<li><a href="http://sm.wonyoo.com" target="_blank" rel="external">ä¸­åå¿˜å¿§ç½‘</a></li>
</ul>
<blockquote>
<p> è¿™ç±»ç½‘å€å¾ˆå¤šï¼Œå¦‚ : <a href="http://www.meimingteng.com/Tool/Bazi.aspx" target="_blank" rel="external">ç¾åè…¾</a>ã€<a href="http://www.pcbaby.com.cn/tools/scbz/" target="_blank" rel="external">å¤ªå¹³æ´‹äº²å­ç½‘</a>ã€<a href="http://www.zhyw.net/myweb/bz/bazi.htm" target="_blank" rel="external">å‘¨æ˜“ç½‘</a>ã€<a href="http://www.69jk.cn/tools/bazi/" target="_blank" rel="external">ä¸­å›½å¥åº·ç½‘</a>ã€<a href="http://www.sheup.com/shengchenbazi.php" target="_blank" rel="external">ä¸‰è—å…«å­—æŸ¥è¯¢</a> ç­‰ç­‰ã€‚è¯·è‡ªè¡Œåˆ¤æ–­æŸ¥è¯¢ç»“æœå‡†ç¡®æ€§ã€‚</p>
<p>å‘¨æ˜“ç½‘ã€ä¸­å›½å¥åº·ç½‘ã€ä¸‰è—å…«å­—æŸ¥è¯¢ç»“æœ ä¸ è€çˆ·ä¹¦ ä¸€è‡´</p>
</blockquote>
<p><code>å–œç”¨ç¥</code>æŸ¥è¯¢ä½ ä¹Ÿå¯ä»¥å‚è€ƒå¦‚ä¸‹ç½‘å€æŸ¥è¯¢ï¼Œä½†å‡†ç¡®æ€§è¯·è‡ªè¡Œè£æ–­ã€‚</p>
<ul>
<li><a href="http://www.meimingteng.com/Tool/Bazi.aspx" target="_blank" rel="external">ç¾åè…¾</a></li>
<li><a href="http://m.zhouyi.cc/bazi/xys/xiyongsheng.php" target="_blank" rel="external">æ˜“å®‰å±…</a></li>
<li><a href="http://www.fututa.com/" target="_blank" rel="external">æµ®å›¾å¡”</a></li>
<li><a href="http://www.babyqiming.com/zybz/bz.php" target="_blank" rel="external">babyqimingå–œç”¨ç¥</a></li>
<li><a href="http://v.youku.com/v_show/id_XNDAwMTAwNDQ0.html" target="_blank" rel="external">ä¼˜é…·è§†é¢‘: æ€ä¹ˆæ ·ç®—å…«å­— ä»€ä¹ˆæ˜¯å…«å­—å–œç”¨ç¥ å››æŸ±</a></li>
</ul>
<h3 id="2-2-äº”è¡Œä¸ç¼ºçš„æƒ…å†µ"><a href="#2-2-äº”è¡Œä¸ç¼ºçš„æƒ…å†µ" class="headerlink" title="2.2 äº”è¡Œä¸ç¼ºçš„æƒ…å†µ"></a>2.2 äº”è¡Œä¸ç¼ºçš„æƒ…å†µ</h3><p>äº”è¡Œä¸ç¼ºçš„æƒ…å†µï¼Œå‚è§ <a href="http://baike.baidu.com/view/1373942.htm" target="_blank" rel="external">å–œç”¨ç¥</a>ã€‚<br>äº”è¡Œç¼ºå°‘çš„æƒ…å†µï¼Œå‚è§ <a href="http://baike.baidu.com/view/1373942.htm" target="_blank" rel="external">å–œç”¨ç¥</a>ï¼Œä½†åœ¨å¤šæ•°æƒ…å†µä¸‹ï¼Œç¼ºå°‘çš„ä¸€ä¸ªå°±ä¸ºå®ƒçš„å–œç”¨ç¥ï¼Œå…·ä½“å‚è§å–œç”¨ç¥æŸ¥è¯¢ã€‚ </p>
<blockquote>
<p>å–œç”¨ç¥æŸ¥è¯¢ ä¸ å…«å­—äº”è¡Œ æŸ¥è¯¢ï¼Œè¯·ä»”ç»†è¾¨åˆ«æŸ¥è¯¢çš„ç»“æœå¯é æ€§ã€‚</p>
</blockquote>
<h2 id="3-å§“åç¬”ç”»å‰å‡¶"><a href="#3-å§“åç¬”ç”»å‰å‡¶" class="headerlink" title="3. å§“åç¬”ç”»å‰å‡¶"></a>3. å§“åç¬”ç”»å‰å‡¶</h2><blockquote>
<p>æ¨è 31 æˆ–è€… 23ç”»</p>
</blockquote>
<p>äºŒåä¸‰ç”»ã€€ã€€ã€€æ—­æ—¥å‡å¤©ï¼Œåæ˜¾å››æ–¹ï¼Œæ¸æ¬¡è¿›å±•ï¼Œç»ˆæˆå¤§ä¸šã€‚ã€€ã€€ï¼ˆå‰ï¼‰<br>ä¸‰åä¸€ç”»ã€€ã€€ã€€æ­¤æ•°å¤§å‰ï¼Œååˆ©åŒæ”¶ï¼Œæ¸è¿›å‘ä¸Šï¼Œå¤§ä¸šæˆå°±ã€‚ã€€ã€€ï¼ˆå‰ï¼‰</p>
<p><a href="http://blog.sina.com.cn/s/blog_4d4f386c0102vg9r.html" target="_blank" rel="external">è¯¦è§å§“åç¬”ç”»å‰å‡¶å¤§å…¨</a></p>
<blockquote>
<p>èµ·åä¸­ç”¨å­—çš„ç¬”ç”»æ•°å‚è§ <a href="http://tool.httpcn.com/KangXi/" target="_blank" rel="external">åº·å­å­—å…¸</a> (éç®€ä½“å­—æˆ–ç¹ä½“å­—)</p>
</blockquote>
<h2 id="4-æ‰‹æœºAPPçš„è¿ç”¨"><a href="#4-æ‰‹æœºAPPçš„è¿ç”¨" class="headerlink" title="4. æ‰‹æœºAPPçš„è¿ç”¨"></a>4. æ‰‹æœºAPPçš„è¿ç”¨</h2><ol>
<li>ç¾åè…¾æ™ºèƒ½èµ·å APP</li>
<li>â€¦</li>
</ol>
<blockquote>
<p>è¿ç”¨ç›¸å…³æ‰‹æœºappï¼Œå¯ä»¥æ›´æ–¹ä¾¿çš„è¾…åŠ©æƒ³å‡ºå¥½åå­—</p>
</blockquote>
<h2 id="5-å§“åæ‰“åˆ†æµ‹è¯•"><a href="#5-å§“åæ‰“åˆ†æµ‹è¯•" class="headerlink" title="5. å§“åæ‰“åˆ†æµ‹è¯•"></a>5. å§“åæ‰“åˆ†æµ‹è¯•</h2><p>æ‰“åˆ†æµ‹è¯•è¿™ç§ç½‘ç«™æ¯”è¾ƒå¤šï¼Œæ ¹æ®æˆ‘ä¸ªäººçš„ç»éªŒåˆ¤åˆ«æˆ‘æ¨è <a href="http://www.sheup.com/xingming_dafen.php" target="_blank" rel="external">ä¸‰è—ç½‘æ‰“åˆ†æµ‹è¯•</a>ï¼Œæ ¹æ®ä¸‰è—ç½‘æŸ¥è¯¢çš„ç»“æœï¼Œå¯ä»¥çœ‹åˆ° ä¸‰æ‰äº”æ ¼çš„è§£æä»¥åŠåº·ç†™å­—å…¸çš„ç¬”ç”»æ•°ç›®ç­‰ã€‚</p>
<hr>
<p>ä¸¾ä¾‹å¦‚ä¸‹ :</p>
<p><img src="/images/society/life-named-xin.png" alt="example"></p>
<h2 id="6-å°ç»“"><a href="#6-å°ç»“" class="headerlink" title="6. å°ç»“"></a>6. å°ç»“</h2><p>ç»¼ä¸Šæ‰€è¿°: èµ·åå­—åªéœ€è¦åœ¨åå­—ä¸­ï¼Œä½¿ç”¨å–œç”¨ç¥çš„å­— å¹¶ä¸” ä¸‰æ‰äº”æ ¼æ‰“åˆ† éƒ½æ¯”è¾ƒä¸é”™çš„æƒ…å†µä¸‹ï¼Œæ–¹ä¸ºå¥½åå­—ã€‚</p>
<blockquote>
<p>ä¸ªäººæ„è§ : åå­—è¿˜æ˜¯ é¡ºè€³ï¼Œè„±ä¿— çš„åå­—æ˜¯æœ€é‡è¦çš„ã€‚</p>
</blockquote>
<p><strong>èµ·åé€‰æ‹©å­—çš„æ–¹æ³•ä¸€å¦‚å¦‚ä¸‹å›¾ç‰‡æ‰€ç¤ºï¼Œå¯å‚è€ƒç™¾åº¦æœç´¢çš„å§“åå­¦</strong></p>
<p><img src="/images/society/life-named-searchword.png" alt="é€‰æ‹©å­—æ–¹æ³•å‚è§"></p>
<h2 id="7-Reference-article"><a href="#7-Reference-article" class="headerlink" title="7. Reference article"></a>7. Reference article</h2><ul>
<li><a href="http://www.zhyw.net/myweb/bz/bazi.htm" target="_blank" rel="external">å‘¨æ˜“ç½‘</a>  </li>
<li><a href="http://www.69jk.cn/tools/bazi/" target="_blank" rel="external">ä¸­å›½å¥åº·ç½‘</a></li>
<li><a href="http://www.meimingteng.com/Tool/Bazi.aspx" target="_blank" rel="external">ç¾åè…¾</a></li>
<li><a href="http://www.pcbaby.com.cn/tools/scbz/" target="_blank" rel="external">å¤ªå¹³æ´‹äº²å­ç½‘</a></li>
<li><a href="http://www.360doc.com/content/15/0313/16/15585030_454852610.shtml" target="_blank" rel="external">è§£æå››æŸ±å…«å­—çš„ç²¾é«“å–œç”¨ç¥</a>  </li>
<li><a href="http://www.babyqiming.com/zybz/bz.php" target="_blank" rel="external">ä¸ä¸€å®šå‡†ç¡®çš„å–œç”¨ç¥æŸ¥è¯¢</a></li>
<li><a href="http://www.chinesefortunecalendar.com/CAb5.htm" target="_blank" rel="external">å…«å­—äº”è¡Œç®—å‘½å’Œäººç”Ÿèµ·ä¼åœ–</a></li>
<li><a href="http://blog.sina.com.cn/s/blog_4d4f386c0102vg9r.html" target="_blank" rel="external">è¯¦è§å§“åç¬”ç”»å‰å‡¶å¤§å…¨</a></li>
<li><a href="http://tool.httpcn.com/KangXi/" target="_blank" rel="external">åº·å­å­—å…¸</a></li>
<li><a href="http://www.sheup.com/xingming_dafen.php" target="_blank" rel="external">ä¸‰è—ç½‘</a></li>
<li><a href="http://www.7mingzi.com/hanziwuxing-zi-%E9%99%88/" target="_blank" rel="external">èµ·åç½‘</a></li>
<li>â€¦</li>
</ul>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">å…¬å†ï¼š****å¹´**æœˆ**æ—¥(æ˜ŸæœŸå››)11ç‚¹</span><br><span class="line">å†œå†ï¼šä¸™ç”³å¹´å››æœˆåä¸‰æ—¥åˆæ—¶</span><br><span class="line">æ˜¥èŠ‚ï¼š2æœˆ8æ—¥</span><br><span class="line">èŠ‚å‰ï¼šä¹™æœªå¹´</span><br><span class="line">èŠ‚åï¼šä¸™ç”³å¹´</span><br><span class="line">å…«å­—ï¼šä¸™ç”³ã€€ç™¸å·³ã€€è¾›ä¸‘ã€€ç”²åˆ</span><br><span class="line">äº”è¡Œï¼šç«é‡‘ã€€æ°´ç«ã€€é‡‘åœŸã€€æœ¨ç«</span><br><span class="line">æ–¹ä½ï¼šå—è¥¿ã€€åŒ—å—ã€€è¥¿ä¸­ã€€ä¸œå—</span><br><span class="line">ç”Ÿè‚–ï¼šçŒ´</span><br><span class="line">92 ä¸‰æ‰é…ç½® å‰ï¼Œ å¤©åœ°äººå¤–æ€»æ ¼ å¤§å‰  31ç”»</span><br><span class="line">é™ˆä¿Šå¦ƒ</span><br><span class="line">é™ˆä¿Šå¸†</span><br><span class="line">é™ˆæ³Šç¾Š</span><br><span class="line">é™ˆæ³Šäº¦</span><br><span class="line">é™ˆéŸ³ç«¹</span><br><span class="line">...</span><br></pre></td></tr></table></figure>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[Pythonæ•°æ®åˆ†æä¸æŒ–æ˜å®æˆ˜ P5 model - Logistic regression]]></title>
      <url>http://iequa.com/2016/08/12/py-data-mining-p5-model-LR/</url>
      <content type="html"><![CDATA[<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js"],
    jax: ["input/TeX"],
    tex2jax: {
      inlineMath: [ ['$','$'], ['\\(','\\)'] ],
      displayMath: [ ['$$','$$']],
      processEscapes: true
    }
  });
</script>
<script type="text/javascript" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS_HTML,http://myserver.com/MathJax/config/local/local.js">
</script>

<p>Logistic å›å½’æ¨¡å‹å±äºæ¦‚ç‡å‹éçº¿æ€§å›å½’ï¼Œåˆ†ä¸º äºŒåˆ†ç±» å’Œ å¤šåˆ†ç±» çš„å›å½’æ¨¡å‹ã€‚</p>
<a id="more"></a>
<h2 id="1-Logistic-Function"><a href="#1-Logistic-Function" class="headerlink" title="1. Logistic Function"></a>1. Logistic Function</h2><p>Logistic model å› å˜é‡ åªæœ‰ 1, 0 ä¸¤ç§å–å€¼</p>
<p>å‡è®¾åœ¨ $p$ ä¸ªç‹¬ç«‹è‡ªå˜é‡ $x_1ï¼Œx_2ï¼Œx_3ï¼Œâ€¦ï¼Œx_p$  ä½œç”¨ä¸‹ : </p>
<ul>
<li>$y$ å– 1 çš„æ¦‚ç‡æ˜¯ $p$, $ p = P(y=1|X) $</li>
<li>$y$ å– 0 çš„æ¦‚ç‡æ˜¯ $1 -p$</li>
</ul>
<p>ä¼˜åŠ¿æ¯”</p>
<p>$$<br>odds = \frac p {p - 1}<br>$$</p>
<p>ä¸¤è¾¹å–è‡ªç„¶å¯¹æ•°å¾— Logistic å˜æ¢  :</p>
<p>$$<br>Logit(p) = ln(\frac {p} {1-p})<br>$$</p>
<p>ä»¤ $Logit(p) = z$</p>
<p>$$<br>Logit(p) = ln(\frac {p} {1-p}) = z<br>$$</p>
<p>=&gt;</p>
<p>$$<br>p = \frac {1} {1 + e^{-z}}<br>$$</p>
<p><img src="/images/model-logistic.jpg" alt="Logistic"></p>
<blockquote>
<p>$p \in (0, 1)$</p>
<p>$odds = {\frac p {p-1}} \in (0, +\infty)$ </p>
<p>$Logit(p) = z = ln(\frac p {p-1}) \in (-\infty, +\infty)$ </p>
</blockquote>
<h2 id="2-Logistic-regression-model"><a href="#2-Logistic-regression-model" class="headerlink" title="2. Logistic regression model"></a>2. Logistic regression model</h2><p>Logistic model å»ºç«‹ $ln(\frac p {p-1})$ ä¸ è‡ªå˜é‡ çš„çº¿æ€§å›å½’æ¨¡å‹ã€‚</p>
<p>Logistic regression model :</p>
<p>$$<br>ln(\frac p {p-1}) = {\beta}_0 + {\beta}_1 x_1 + â€¦ + {\beta}_p x_p + \varepsilon<br>$$</p>
<blockquote>
<p>$ln(\frac {p} {1-p}) \in (-\infty, +\infty) =&gt; è‡ªå˜é‡  x_1ï¼Œx_2ï¼Œâ€¦ï¼Œx_pï¼Œå¯åœ¨ä»»æ„èŒƒå›´å†…å–å€¼$</p>
</blockquote>
<p>è®° $g(x) = {\beta}_0 + {\beta}_1 x_1 + â€¦ + {\beta}_p x_p$ ï¼Œå¾—åˆ° :</p>
<p>$$<br>p = P(y=1|X) = \frac 1 {1+e^{-g(x)}}<br>$$</p>
<p>$$<br>1 - p = P(y=0|X) = \frac 1 {1+e^{g(x)}}<br>$$</p>
<hr>
<p>$$<br>\frac p {1-p} =  e^{\beta_0 + \beta_1 x_1 + â€¦ + \beta_p x_p + \varepsilon }<br>$$</p>
<h2 id="3-Logistic-model-steps"><a href="#3-Logistic-model-steps" class="headerlink" title="3. Logistic model steps"></a>3. Logistic model steps</h2><ul>
<li>æ ¹æ®æŒ–æ˜ç›®çš„setting feature</li>
<li>åˆ—å‡º regression æ–¹ç¨‹</li>
<li>ä¼°è®¡ regression ç³»æ•°</li>
<li>æ¨¡å‹æ£€éªŒ</li>
<li>é¢„æµ‹æ§åˆ¶</li>
</ul>
<p>æ ¹æ®æŒ–æ˜ç›®çš„è®¾ç½® featureï¼Œå¹¶ç­›é€‰ feature $y; x_1ï¼Œx_2ï¼Œâ€¦ ï¼Œx_p $</p>
<p>$<br>ln(\frac p {p-1}) = {\beta}_0 + {\beta}_1 x_1 + â€¦ + {\beta}_p x_p + \varepsilon<br>$</p>
<p>æ¨¡å‹æœ‰æ•ˆæ€§çš„æ£€éªŒæŒ‡æ ‡æœ‰å¾ˆå¤šï¼Œæœ€åŸºæœ¬çš„æœ‰ æ­£ç¡®ç‡ã€‚å…¶æ¬¡ : æ··æ·†çŸ©é˜µã€ROCæ›²çº¿ã€KSå€¼ç­‰ã€‚</p>
<h2 id="4-Feature-ç­›é€‰æ–¹æ³•"><a href="#4-Feature-ç­›é€‰æ–¹æ³•" class="headerlink" title="4. Feature ç­›é€‰æ–¹æ³•"></a>4. Feature ç­›é€‰æ–¹æ³•</h2><ol>
<li>F å€¼å¤§ ï¼Œpå€¼å°</li>
<li>Recursive Feature Elimination, RFE</li>
<li>Stability Selection</li>
</ol>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment">#-*- coding: utf-8 -*-</span></span><br><span class="line"><span class="comment">#é€»è¾‘å›å½’ è‡ªåŠ¨å»ºæ¨¡</span></span><br><span class="line"><span class="keyword">import</span> pandas <span class="keyword">as</span> pd</span><br><span class="line"></span><br><span class="line"><span class="comment">#å‚æ•°åˆå§‹åŒ–</span></span><br><span class="line">filename = <span class="string">'../data/bankloan.xls'</span></span><br><span class="line">data = pd.read_excel(filename)</span><br><span class="line">x = data.iloc[:,:<span class="number">8</span>].as_matrix()</span><br><span class="line">y = data.iloc[:,<span class="number">8</span>].as_matrix()</span><br><span class="line"></span><br><span class="line"><span class="comment"># print("x: ")</span></span><br><span class="line"><span class="comment"># print(x)</span></span><br><span class="line"><span class="comment"># print("y: ")</span></span><br><span class="line"><span class="comment"># print(y)</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">from</span> sklearn.linear_model <span class="keyword">import</span> LogisticRegression <span class="keyword">as</span> LR</span><br><span class="line"><span class="keyword">from</span> sklearn.linear_model <span class="keyword">import</span> RandomizedLogisticRegression <span class="keyword">as</span> RLR</span><br><span class="line">rlr = RLR() <span class="comment">#å»ºç«‹éšæœºé€»è¾‘å›å½’æ¨¡å‹ï¼Œç­›é€‰å˜é‡</span></span><br><span class="line">rlr.fit(x, y) <span class="comment">#è®­ç»ƒæ¨¡å‹</span></span><br><span class="line">rlr.get_support() <span class="comment">#è·å–ç‰¹å¾ç­›é€‰ç»“æœï¼Œä¹Ÿå¯ä»¥é€šè¿‡.scores_æ–¹æ³•è·å–å„ä¸ªç‰¹å¾çš„åˆ†æ•°</span></span><br><span class="line">print(<span class="string">u'é€šè¿‡éšæœºé€»è¾‘å›å½’æ¨¡å‹ç­›é€‰ç‰¹å¾ç»“æŸã€‚'</span>)</span><br><span class="line">print(<span class="string">u'æœ‰æ•ˆç‰¹å¾ä¸ºï¼š%s'</span> % <span class="string">','</span>.join(data.columns[rlr.get_support()]))</span><br><span class="line">x = data[data.columns[rlr.get_support()]].as_matrix() <span class="comment">#ç­›é€‰å¥½ç‰¹å¾</span></span><br><span class="line"></span><br><span class="line">lr = LR() <span class="comment">#å»ºç«‹é€»è¾‘å›å½’æ¨¡å‹</span></span><br><span class="line">lr.fit(x, y) <span class="comment">#ç”¨ç­›é€‰åçš„ç‰¹å¾æ•°æ®æ¥è®­ç»ƒæ¨¡å‹</span></span><br><span class="line">print(<span class="string">u'é€»è¾‘å›å½’æ¨¡å‹è®­ç»ƒç»“æŸã€‚'</span>)</span><br><span class="line">print(<span class="string">u'æ¨¡å‹çš„å¹³å‡æ­£ç¡®ç‡ä¸ºï¼š%s'</span> % lr.score(x, y)) <span class="comment">#ç»™å‡ºæ¨¡å‹çš„å¹³å‡æ­£ç¡®ç‡ï¼Œæœ¬ä¾‹ä¸º81.4%</span></span><br></pre></td></tr></table></figure>
<blockquote>
<p>åœ¨å»ºç«‹éšæœºLRæ—¶ï¼Œä½¿ç”¨äº†é»˜è®¤çš„é˜€å€¼ 0.25ï¼Œä¹Ÿå¯ä»¥ç”¨ RLR (selection_threshold = 0.5) è‡ªè¡Œè®¾ç½®ã€‚éšæœº Lasso<br>è¢«ç­›æ‰çš„å˜é‡å¹¶ä¸ä¸€å®šè·Ÿç»“æœæ²¡å…³ç³»ï¼Œå®ƒä»¬å¯èƒ½æ˜¯éçº¿æ€§å…³ç³»ï¼Œå¯¹åº”éçº¿æ€§å…³ç³»å¯ç”¨ DT å’Œ ç¥ç»ç½‘ç»œã€‚</p>
</blockquote>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[Pythonæ•°æ®åˆ†æä¸æŒ–æ˜å®æˆ˜ P5 model - all]]></title>
      <url>http://iequa.com/2016/08/11/py-data-mining-p5-model-all/</url>
      <content type="html"><![CDATA[<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js"],
    jax: ["input/TeX"],
    tex2jax: {
      inlineMath: [ ['$','$'], ['\\(','\\)'] ],
      displayMath: [ ['$$','$$']],
      processEscapes: true
    }
  });
</script>
<script type="text/javascript" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS_HTML,http://myserver.com/MathJax/config/local/local.js">
</script>

<p><strong>data mining steps</strong></p>
<ol>
<li>æŒ–æ˜ç›®æ ‡</li>
<li>æ•°æ®å–æ ·</li>
<li>æ•°æ®æ¢ç´¢</li>
<li>æ•°æ®é¢„å¤„ç†</li>
<li><code>æŒ–æ˜å»ºæ¨¡</code></li>
<li>æ¨¡å‹è¯„ä»·</li>
</ol>
<h2 id="1-åˆ†ç±»ä¸é¢„æµ‹"><a href="#1-åˆ†ç±»ä¸é¢„æµ‹" class="headerlink" title="1. åˆ†ç±»ä¸é¢„æµ‹"></a>1. åˆ†ç±»ä¸é¢„æµ‹</h2><h3 id="1-1-å®ç°è¿‡ç¨‹"><a href="#1-1-å®ç°è¿‡ç¨‹" class="headerlink" title="1.1 å®ç°è¿‡ç¨‹"></a>1.1 å®ç°è¿‡ç¨‹</h3><h3 id="1-2-å¸¸è§çš„åˆ†ç±»ä¸é¢„æµ‹ç®—æ³•"><a href="#1-2-å¸¸è§çš„åˆ†ç±»ä¸é¢„æµ‹ç®—æ³•" class="headerlink" title="1.2 å¸¸è§çš„åˆ†ç±»ä¸é¢„æµ‹ç®—æ³•"></a>1.2 å¸¸è§çš„åˆ†ç±»ä¸é¢„æµ‹ç®—æ³•</h3><table>
<thead>
<tr>
<th>Algorithm</th>
<th>desc</th>
</tr>
</thead>
<tbody>
<tr>
<td>å›å½’åˆ†æ</td>
<td>&nbsp;å›å½’åˆ†ææ˜¯ç¡®å®šé¢„æµ‹å±æ€§(æ•°å€¼å‹)ä¸å…¶ä»–å˜é‡é—´äº’ç›¸ä¾èµ–çš„å®šé‡å…³ç³»æœ€å¸¸ç”¨çš„ç»Ÿè®¡å­¦æ–¹æ³•ã€‚åŒ…æ‹¬ çº¿æ€§å›å½’ã€éçº¿æ€§å›å½’ã€Logisticå›å½’ã€åæœ€å°äºŒä¹˜å›å½’ç­‰ model</td>
</tr>
<tr>
<td>å†³ç­–æ ‘</td>
<td>&nbsp;å†³ç­–æ ‘é‡‡ç”¨è‡ªé¡¶å‘ä¸‹çš„é€’å½’æ–¹å¼ï¼Œåœ¨å†…éƒ¨èŠ‚ç‚¹è¿›è¡Œå±æ€§å€¼çš„æ¯”è¾ƒï¼Œå¹¶æ ¹æ®ä¸åŒçš„å±æ€§å€¼ä»è¯¥èŠ‚ç‚¹å‘ä¸‹åˆ†æ”¯ï¼Œæœ€ç»ˆå¾—åˆ°çš„å¶èŠ‚ç‚¹æ˜¯å­¦ä¹ åˆ’åˆ†çš„ç±»ã€‚</td>
</tr>
<tr>
<td>bayes-net</td>
<td>&nbsp;ç›®å‰ä¸ç¡®å®šçŸ¥è¯†è¡¨è¾¾å’Œæ¨ç†é¢†åŸŸæœ€æœ‰æ•ˆçš„ç†è®ºæ¨¡å‹ä¹‹ä¸€ã€‚</td>
</tr>
<tr>
<td>SVM</td>
<td>&nbsp;æ”¯æŒå‘é‡æœºæ˜¯ä¸€ç§é€šè¿‡éçº¿æ€§æ˜ å°„ï¼ŒæŠŠä½ç»´çš„éçº¿æ€§å¯åˆ†è½¬åŒ–ä¸ºé«˜ç»´çš„çº¿æ€§å¯åˆ†ï¼Œåœ¨é«˜ç»´ç©ºé—´è¿›è¡Œçº¿æ€§åˆ†æçš„ç®—æ³•ã€‚</td>
</tr>
<tr>
<td>äººå·¥ç¥ç»ç½‘ç»œ</td>
<td>â€¦</td>
</tr>
</tbody>
</table>
<h3 id="1-3-å›å½’åˆ†æ"><a href="#1-3-å›å½’åˆ†æ" class="headerlink" title="1.3 å›å½’åˆ†æ"></a>1.3 å›å½’åˆ†æ</h3><table>
<thead>
<tr>
<th>model</th>
<th>condition</th>
<th>desc</th>
</tr>
</thead>
<tbody>
<tr>
<td>çº¿æ€§å›å½’</td>
<td>å› å˜é‡ä¸è‡ªå˜é‡æ˜¯çº¿æ€§å…³ç³»</td>
<td>å¯¹ä¸€ä¸ªæˆ–å¤šä¸ªè‡ªå˜é‡å’Œå› å˜é‡ä¹‹é—´çš„çº¿æ€§å…³ç³»è¿›è¡Œå»ºæ¨¡ï¼Œå¯ç”¨æœ€å°äºŒä¹˜æ³•æ±‚è§£æ¨¡å‹ç³»æ•°</td>
</tr>
<tr>
<td>éçº¿æ€§å›å½’</td>
<td>å› å˜é‡ä¸è‡ªå˜é‡ä¹‹é—´ä¸éƒ½æ˜¯çº¿æ€§å…³ç³»</td>
<td></td>
</tr>
<tr>
<td>Logistic å›å½’</td>
<td>å› å˜é‡ä¸€èˆ¬æœ‰ 1 å’Œ 0 ä¸¤ç§</td>
<td>å¹¿ä¹‰çº¿æ€§å›å½’modelçš„ç‰¹ä¾‹ï¼Œåˆ©ç”¨Logisticå‡½æ•°å°†å› å˜é‡çš„å–å€¼èŒƒå›´æ§åˆ¶åœ¨0å’Œ1ä¹‹é—´ï¼Œè¡¨ç¤ºå–å€¼ä¸º 1 çš„æ¦‚ç‡</td>
</tr>
<tr>
<td>å²­å›å½’</td>
<td>â€¦</td>
<td>â€¦</td>
</tr>
<tr>
<td>ä¸»æˆåˆ†å›å½’</td>
<td>â€¦</td>
<td>â€¦</td>
</tr>
</tbody>
</table>
<blockquote>
<p>Logistic å›å½’æ¨¡å‹å±äºæ¦‚ç‡å‹éçº¿æ€§å›å½’ï¼Œåˆ†ä¸º äºŒåˆ†ç±» å’Œ å¤šåˆ†ç±» çš„å›å½’æ¨¡å‹ã€‚</p>
</blockquote>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[Locations and directions]]></title>
      <url>http://iequa.com/2016/08/10/ef-l3u2-Locations-and-directions/</url>
      <content type="html"><![CDATA[<style>
img {
        display: block !important;
        width: 550px;
        margin-left: 200px !important;
}
</style>

<h2 id="1-Telling-someone-where-you-live"><a href="#1-Telling-someone-where-you-live" class="headerlink" title="1. Telling someone where you live"></a>1. Telling someone where you live</h2><p>The bank is <code>on the corner of</code> Pine Street and First Street.<br>The bus stop is <code>in front of</code> the supermarket.<br>The post office is between the restaurant and the movie theater.<br>The pizza place is <code>behind</code> the library.<br>The bookstore is <code>across the street</code> from the restaurant.  </p>
<p><img src="/images/english/ef-l3u2l1.png" alt=""></p>
<p><strong>onï¼Œatï¼Œin</strong></p>
<ul>
<li>I live <code>on</code> Maple Road. I live <code>at</code> 1215 Maple Road. </li>
<li>They live <code>in</code> Paris, but theyâ€™re from the US.<br>&nbsp;</li>
<li>The library is <code>on</code> Pine Street.</li>
<li>The library is <code>at</code> 57 Pine Street.</li>
</ul>
<table>
<thead>
<tr>
<th><strong>Main Dialog</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td>B: Are you coming to my party Saturdayï¼Ÿ</td>
<td></td>
</tr>
<tr>
<td>A: Where do you live?</td>
<td></td>
</tr>
<tr>
<td>B: I live at 1215 Maple Road.</td>
<td></td>
</tr>
<tr>
<td>B: The cross street is 4th Avenue.</td>
<td></td>
</tr>
<tr>
<td>B: between the library and the park</td>
<td></td>
</tr>
<tr>
<td>B: Iâ€™m on the 11th floor, number 17.</td>
<td></td>
</tr>
</tbody>
</table>
<ul>
<li>street = St.    è¡—</li>
<li>road = Rd.    è·¯</li>
<li>avenue = Ave.    å¤§è¡—</li>
<li>boulevard = Blvd.    å¤§é“</li>
<li>drive = Dr.    é“</li>
</ul>
<h2 id="2-Giving-directions"><a href="#2-Giving-directions" class="headerlink" title="2. Giving directions"></a>2. Giving directions</h2><p><code>Go straight</code> on Pine Avenue. Then turn right on Central Boulevard.<br><code>Go down</code> Oak Street. Next, <code>turn left</code> on Valley Road.<br><code>Go right</code> on Central Boulevard.<br><code>Make a left</code> on Valley Road.</p>
<h2 id="3-Asking-for-directions-to-a-business"><a href="#3-Asking-for-directions-to-a-business" class="headerlink" title="3. Asking for directions to a business"></a>3. Asking for directions to a business</h2><ul>
<li>take the train</li>
<li>go by ferry  [â€˜ferÉª]</li>
<li>take the subway</li>
<li>ride the streetcar æœ‰è½¨ç”µè½¦</li>
<li>go on foot</li>
<li>ride a bike</li>
</ul>
<p><img src="/images/english/ef-l3u2l3.png" alt=""></p>
<table>
<thead>
<tr>
<th><strong>Dialog</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td>A: ABC Company. How can I help you?</td>
<td></td>
</tr>
<tr>
<td>B: I have a meeting at your company today. Can you tell me <code>how to get to your office</code>, please?</td>
<td></td>
</tr>
<tr>
<td>A: Where are you coming from ?</td>
<td></td>
</tr>
<tr>
<td>B: Iâ€™m in front of the Regency Hotel on Park Drive. Iâ€™m walking.</td>
<td></td>
</tr>
<tr>
<td>A: Oh, OK. First, <code>go north on Park Drive for two blocks</code>, and make a right on Seventh Avenue.</td>
<td></td>
</tr>
<tr>
<td>B: North on Park, turn right on Seventh.</td>
<td></td>
</tr>
<tr>
<td>A: Correct. Next, go one block  on Seventh, and take a left on Chase Street. Our building is on the right   - number 729. Weâ€™re on the third floor  . Our office is number 316.</td>
<td></td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr>
<th><strong>Visit a business</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td>How do I get to your office, please?</td>
<td></td>
</tr>
<tr>
<td>Can you please tell me how to get there?</td>
<td></td>
</tr>
<tr>
<td>How are you coming?</td>
<td></td>
</tr>
<tr>
<td>How long does it take?</td>
<td></td>
</tr>
<tr>
<td>It takes about 20 to 30 minutes.</td>
<td></td>
</tr>
</tbody>
</table>
<h2 id="4-Describing-the-location-of-a-city"><a href="#4-Describing-the-location-of-a-city" class="headerlink" title="4. Describing the location of a city"></a>4. Describing the location of a city</h2><ul>
<li>east coast</li>
<li>kilometers</li>
<li>ocean, desert</li>
<li>forest, hills, valley</li>
</ul>
<p><img src="/images/english/ef-l3u2l4-1.png" alt=""></p>
<blockquote>
<p>California [,kÃ¦lÉªâ€™fÉ”:njÉ™], summertime</p>
</blockquote>
<table>
<thead>
<tr>
<th><strong>Dialog</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td>[CARLOS]  Thatâ€™s my hometown.</td>
<td></td>
</tr>
<tr>
<td>[SALLY] best! on the esat coast. Where is Rio?</td>
<td></td>
</tr>
<tr>
<td>[CARLOS] Itâ€™s in the south. down here.</td>
<td></td>
</tr>
<tr>
<td>[SALLY] How far is it from Salvador to Rio?</td>
<td></td>
</tr>
<tr>
<td>[CARLOS] Itâ€™s about 1200 kilometers</td>
<td></td>
</tr>
<tr>
<td>[SALLY] So you live on the coast.  I love the oceanï¼ŒDo you know Big Sur?</td>
<td></td>
</tr>
<tr>
<td>[CARLOS] No, Whereâ€™s that?</td>
<td></td>
</tr>
<tr>
<td>[SALLY] Itâ€™s in California. Itâ€™s in the mountains, but itâ€™s also on the coast.</td>
<td></td>
</tr>
<tr>
<td>[SALLY] There it is, on the west coast. Itâ€™s so beautiful there. In the summertime, you can go campingâ€¦</td>
<td></td>
</tr>
</tbody>
</table>
<p><img src="/images/english/ef-l3u2l4.png" alt=""></p>
<h2 id="Expressions"><a href="#Expressions" class="headerlink" title="Expressions"></a>Expressions</h2><p>A: Letâ€™s go to the coffee shop.<br>B: How far is it?<br>A: Itâ€™s only two blocks.<br>A: How far is it from your house to the beach?<br>B: Itâ€™s about two kilometers.</p>
<h2 id="Reading"><a href="#Reading" class="headerlink" title="Reading"></a>Reading</h2><p>Rio de Janeiro is a big city in the south of Brazil. Itâ€™s on the east coast of the country. Rio has beautiful beaches on the Atlantic Ocean. Two very famous beaches are Ipanema and Copacabana. Rio also is in the mountains. Sugarloaf is the name of a very famous mountain in Rio.</p>
<h2 id="Writing"><a href="#Writing" class="headerlink" title="Writing"></a>Writing</h2><p>My hometown is China Hangzhou. It sits at the head of Hangzhou Bay, which separates Shanghai and Ningbo.  The city has many beautiful old buildingsã€temple and a lot of parks. The Qian Tang River is the cityâ€™s civilization. The cityâ€™s West Lake is its best-known attraction. and G20 economic conference to be held here. Many people like to visit west lake. </p>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[Pythonæ•°æ®åˆ†æä¸æŒ–æ˜å®æˆ˜ P4 data preprocess]]></title>
      <url>http://iequa.com/2016/08/09/py-data-mining-p4-data-preprocess/</url>
      <content type="html"><![CDATA[<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js"],
    jax: ["input/TeX"],
    tex2jax: {
      inlineMath: [ ['$','$'], ['\\(','\\)'] ],
      displayMath: [ ['$$','$$']],
      processEscapes: true
    }
  });
</script>
<script type="text/javascript" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS_HTML,http://myserver.com/MathJax/config/local/local.js">
</script>

<p><strong>data mining steps</strong></p>
<ol>
<li>æŒ–æ˜ç›®æ ‡</li>
<li>æ•°æ®å–æ ·</li>
<li>æ•°æ®æ¢ç´¢</li>
<li><code>æ•°æ®é¢„å¤„ç†</code> 60%</li>
<li>æŒ–æ˜å»ºæ¨¡</li>
<li>æ¨¡å‹è¯„ä»·</li>
</ol>
<p><strong>data preprocess steps</strong></p>
<ol>
<li>Data Clean</li>
<li>Data Integration  [ÉªntÉªâ€™greÉªÊƒ(É™)n]</li>
<li>Data Transformation</li>
<li>Data è§„çº¦</li>
</ol>
<p><img src="/images/py-datapreprocess.jpg" alt="preprocess steps"></p>
<h2 id="1-Data-Clean"><a href="#1-Data-Clean" class="headerlink" title="1. Data Clean"></a>1. Data Clean</h2><h3 id="1-1-ç¼ºå¤±å€¼å¤„ç†"><a href="#1-1-ç¼ºå¤±å€¼å¤„ç†" class="headerlink" title="1.1 ç¼ºå¤±å€¼å¤„ç†"></a>1.1 ç¼ºå¤±å€¼å¤„ç†</h3><table>
<thead>
<tr>
<th>æ’è¡¥æ–¹æ³•</th>
<th>æ–¹æ³•æè¿°</th>
</tr>
</thead>
<tbody>
<tr>
<td>å‡å€¼ã€ä¸­ä½æ•°ã€ä¼—æ•°æ’è¡¥</td>
<td></td>
</tr>
<tr>
<td>ä½¿ç”¨å›ºå®šå€¼</td>
<td></td>
</tr>
<tr>
<td>æœ€è¿‘ä¸´æ’è¡¥</td>
<td>æ¥è¿‘æ ·æœ¬çš„è¯¥å±æ€§å€¼æ’è¡¥</td>
</tr>
<tr>
<td>å›å½’æ–¹æ³•</td>
<td>æœ‰ç¼ºå¤±å€¼çš„å˜é‡ï¼Œæ ¹æ®å·²æœ‰æ•°æ®å’Œä¸å…¶æœ‰å…³çš„å…¶ä»–å˜é‡çš„æ•°æ®å»ºç«‹æ‹Ÿåˆæ¨¡å‹æ¥é¢„æµ‹ç¼ºå¤±çš„å±æ€§å€¼</td>
</tr>
<tr>
<td>æ’å€¼æ³•</td>
<td>å¦‚ : æ‹‰æ ¼æœ—æ—¥/ç‰›é¡¿ æ’å€¼æ³•ã€‚ $f(x_i)$</td>
</tr>
</tbody>
</table>
<h3 id="1-2-å¼‚å¸¸å€¼å¤„ç†"><a href="#1-2-å¼‚å¸¸å€¼å¤„ç†" class="headerlink" title="1.2 å¼‚å¸¸å€¼å¤„ç†"></a>1.2 å¼‚å¸¸å€¼å¤„ç†</h3><table>
<thead>
<tr>
<th>å¼‚å¸¸å€¼å¤„ç†æ–¹æ³•</th>
<th>æ–¹æ³•æè¿°</th>
</tr>
</thead>
<tbody>
<tr>
<td>åˆ é™¤å«æœ‰å¼‚å¸¸å€¼çš„è®°å½•</td>
<td>-</td>
</tr>
<tr>
<td>è§†ä¸ºç¼ºå¤±å€¼</td>
<td>-</td>
</tr>
<tr>
<td>å¹³å‡å€¼ä¿®æ­£</td>
<td>-</td>
</tr>
<tr>
<td>ä¸å¤„ç†</td>
<td>-</td>
</tr>
</tbody>
</table>
<h2 id="2-Data-Integration"><a href="#2-Data-Integration" class="headerlink" title="2. Data Integration"></a>2. Data Integration</h2><p>æ•°æ®æŒ–æ˜éœ€è¦çš„æ•°æ®å¾€å¾€åˆ†å¸ƒåœ¨ä¸åŒçš„æ•°æ®æºä¸­, æ•°æ®é›†æˆ å°±æ˜¯å¤šä¸ªæ•°æ®æº åˆå¹¶åœ¨ä¸€ä¸ªä¸€è‡´çš„åœ°æ–¹å­˜å‚¨ã€‚</p>
<p>Data-Integrationï¼Œå¤šæ•°æ®æºdataè¡¨è¾¾å½¢å¼å¯èƒ½æœ‰å·®å¼‚ï¼Œæ‰€ä»¥å¯èƒ½éœ€è¦è€ƒè™‘<code>å®ä½“è¯†åˆ«</code>ã€<code>å±æ€§å†—ä½™</code> ç­‰é—®é¢˜ï¼Œå°†æºæ•°æ®åœ¨æœ€åº•å±‚åŠ ä»¥è½¬æ¢ã€æç‚¼ã€é›†æˆã€‚</p>
<h2 id="3-Data-Transformation"><a href="#3-Data-Transformation" class="headerlink" title="3. Data Transformation"></a>3. Data Transformation</h2><p>å¯¹æ•°æ®è¿›è¡Œè§„èŒƒåŒ–å¤„ç†ï¼Œå°†æ•°æ®è½¬æ¢æˆ â€œé€‚å½“çš„â€ å½¢å¼ï¼Œä»¥é€‚ç”¨äºæŒ–æ˜ä»»åŠ¡åŠç®—æ³•çš„éœ€è¦ã€‚</p>
<blockquote>
<p><a href="http://jingyan.baidu.com/article/f54ae2fc2354a31e92b84934.html" target="_blank" rel="external">æ­£æ€åˆ†å¸ƒ</a> ï¼š å¹³å‡æ•°ä¸Šä¸‹1.96ä¸ªæ ‡å‡†å·®çš„å¾—åˆ†å åˆ°95%çš„æ€»ä½“</p>
</blockquote>
<h3 id="3-1-ç®€å•å‡½æ•°å˜æ¢"><a href="#3-1-ç®€å•å‡½æ•°å˜æ¢" class="headerlink" title="3.1 ç®€å•å‡½æ•°å˜æ¢"></a>3.1 ç®€å•å‡½æ•°å˜æ¢</h3><p>å¸¸ç”¨æ¥ å°† ä¸å…·æœ‰æ­£æ€åˆ†å¸ƒçš„æ•°æ®å˜æ¢æˆå…·æœ‰æ­£æ€åˆ†å¸ƒçš„æ•°æ®ã€‚</p>
<h3 id="3-2-è§„èŒƒåŒ–"><a href="#3-2-è§„èŒƒåŒ–" class="headerlink" title="3.2 è§„èŒƒåŒ–"></a>3.2 è§„èŒƒåŒ–</h3><p>æ•°æ®è§„èŒƒåŒ–(å½’ä¸€åŒ–)å¤„ç†æ˜¯ æ•°æ®æŒ–æ˜ çš„ä¸€é¡¹åŸºç¡€å·¥ä½œã€‚</p>
<blockquote>
<p>æ¯”å¦‚å°† å·¥èµ„æ”¶å…¥ å±æ€§å€¼æ˜ å°„åˆ° [-1, 1] æˆ–è€… [0, 1] å†…ã€‚<br>æ•°æ®è§„èŒƒåŒ–å¯¹äºåŸºäº è·ç¦» çš„æŒ–æ˜ç®—æ³•æ¯”è¾ƒé‡è¦ã€‚</p>
</blockquote>
<p>(1). æœ€å° - æœ€å¤§ è§„èŒƒåŒ–<br>(2). é›¶ - å‡å€¼è§„èŒƒåŒ–<br>(3). å°æ•°å®šæ ‡è§„èŒƒåŒ–</p>
<h3 id="3-3-è¿ç»­å±æ€§ç¦»æ•£åŒ–"><a href="#3-3-è¿ç»­å±æ€§ç¦»æ•£åŒ–" class="headerlink" title="3.3 è¿ç»­å±æ€§ç¦»æ•£åŒ–"></a>3.3 è¿ç»­å±æ€§ç¦»æ•£åŒ–</h3><p>å¦‚ åˆ†ç±»ç®—æ³• (ID3ç®—æ³•ã€Aprioriç®—æ³•ç­‰)ï¼Œè¦æ±‚æ•°æ®æ˜¯ åˆ†ç±»å±æ€§å½¢å¼ã€‚éœ€å°†è¿ç»­å±æ€§å˜æ¢æˆ<strong>åˆ†ç±»</strong>å±æ€§ï¼Œå³ <code>è¿ç»­å±æ€§ç¦»æ•£åŒ–</code>.</p>
<p>(1). ç­‰å®½æ³•<br>(2). ç­‰é¢‘æ³•<br>(3). åŸºäºèšç±»åˆ†æçš„æ–¹æ³•</p>
<h3 id="3-4-å±æ€§æ„é€ "><a href="#3-4-å±æ€§æ„é€ " class="headerlink" title="3.4 å±æ€§æ„é€ "></a>3.4 å±æ€§æ„é€ </h3><p>ä¸ºäº†æå–æ›´æœ‰ç”¨çš„ä¿¡æ¯ï¼Œæé«˜æŒ–æ˜ç²¾åº¦ã€‚è‡ªå·±æ ¹æ®åŸæœ‰å±æ€§æ„é€ æ–°çš„æœ‰ä»·å€¼å±æ€§</p>
<blockquote>
<p>å¦‚ : ä¾›å…¥ç”µé‡ã€ä¾›å‡ºç”µé‡ã€‚ æ¨å‡º æ–°å±æ€§  <code>çº¿æŸç‡</code></p>
</blockquote>
<h3 id="3-5-å°æ³¢å˜æ¢"><a href="#3-5-å°æ³¢å˜æ¢" class="headerlink" title="3.5 å°æ³¢å˜æ¢"></a>3.5 å°æ³¢å˜æ¢</h3><p>ä¸€ç§æ–°å‹çš„æ•°æ®åˆ†æå·¥å…·ï¼Œè¿‘å¹´æ¥å…´èµ·çš„ä¿¡å·åˆ†ææ‰‹æ®µã€‚å°æ³¢åˆ†æç†è®ºå’Œæ–¹æ³•åœ¨ä¿¡å·å¤„ç†ã€å›¾åƒå¤„ç†ã€è¯­éŸ³å¤„ç†ã€æ¨¡å¼è¯†åˆ« ç­‰é¢†åŸŸåº”ç”¨å¹¿æ³›ã€‚</p>
<h2 id="4-Data-è§„çº¦"><a href="#4-Data-è§„çº¦" class="headerlink" title="4. Data è§„çº¦"></a>4. Data è§„çº¦</h2><p>å¤§æ•°æ®é›†ä¸Šè¿›è¡Œå¤æ‚çš„æ•°æ®æŒ–æ˜éœ€è¦å¾ˆé•¿æ—¶é—´ï¼Œ<code>æ•°æ®è§„çº¦</code> äº§ç”Ÿæ›´å°ä½†ä¿æŒåŸæ•°æ®å®Œæ•´æ€§çš„æ–°æ•°æ®é›†ã€‚</p>
<p>(1). å±æ€§è§„çº¦<br>(2). æ•°å€¼è§„çº¦</p>
<h2 id="5-Python-ä¸»è¦æ•°æ®é¢„å¤„ç†å‡½æ•°"><a href="#5-Python-ä¸»è¦æ•°æ®é¢„å¤„ç†å‡½æ•°" class="headerlink" title="5. Python ä¸»è¦æ•°æ®é¢„å¤„ç†å‡½æ•°"></a>5. Python ä¸»è¦æ•°æ®é¢„å¤„ç†å‡½æ•°</h2><table>
<thead>
<tr>
<th>name</th>
<th>function</th>
<th>lib</th>
</tr>
</thead>
<tbody>
<tr>
<td>interpolate</td>
<td>ä¸€ç»´ã€é«˜ç»´æ•°æ®æ’å€¼</td>
<td>Scipy</td>
</tr>
<tr>
<td>unique</td>
<td>å¾—åˆ°å•æŒ‡å…ƒç´ List</td>
<td>Pandas / Numpy</td>
</tr>
<tr>
<td>isnull</td>
<td></td>
<td>Pandas</td>
</tr>
<tr>
<td>notnull</td>
<td></td>
<td>Pandas</td>
</tr>
<tr>
<td>PCA</td>
<td>å¯¹æŒ‡æ ‡å˜é‡çŸ©é˜µè¿›è¡Œä¸»æˆåˆ†åˆ†æ</td>
<td>Scikit-Learn</td>
</tr>
<tr>
<td>random</td>
<td>ç”ŸæˆéšæœºçŸ©é˜µ</td>
<td>Numpy</td>
</tr>
</tbody>
</table>
<h2 id="6-Summary"><a href="#6-Summary" class="headerlink" title="6. Summary"></a>6. Summary</h2><ul>
<li>Data Clean</li>
<li>Data Integration</li>
<li>Data Transformation</li>
<li>Data è§„çº¦</li>
</ul>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[Pythonæ•°æ®åˆ†æä¸æŒ–æ˜å®æˆ˜ P3 data exploring]]></title>
      <url>http://iequa.com/2016/08/09/py-data-mining-p3-exploring/</url>
      <content type="html"><![CDATA[<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js"],
    jax: ["input/TeX"],
    tex2jax: {
      inlineMath: [ ['$','$'], ['\\(','\\)'] ],
      displayMath: [ ['$$','$$'], ['\[','\]'] ],
      processEscapes: true
    }
  });
</script>
<script type="text/javascript" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS_HTML,http://myserver.com/MathJax/config/local/local.js">
</script>

<p><strong>data mining steps</strong></p>
<ol>
<li>æŒ–æ˜ç›®æ ‡</li>
<li>æ•°æ®å–æ ·</li>
<li><code>æ•°æ®æ¢ç´¢</code></li>
<li>æ•°æ®é¢„å¤„ç†</li>
<li>æŒ–æ˜å»ºæ¨¡</li>
<li>æ¨¡å‹è¯„ä»·</li>
</ol>
<h2 id="1-Data-Quality-analysis"><a href="#1-Data-Quality-analysis" class="headerlink" title="1. Data Quality analysis"></a>1. Data Quality analysis</h2><h3 id="1-1-è„æ•°æ®"><a href="#1-1-è„æ•°æ®" class="headerlink" title="1.1 è„æ•°æ®"></a>1.1 è„æ•°æ®</h3><ul>
<li>ç¼ºå¤±å€¼</li>
<li>å¼‚å¸¸å€¼</li>
<li>ä¸ä¸€è‡´å€¼</li>
<li>é‡å¤æ•°æ®åŠå«æœ‰ç‰¹æ®Šç¬¦å· (å¦‚: #ã€*) çš„æ•°æ®ã€‚</li>
</ul>
<p><strong>ç¼ºå¤±å€¼</strong></p>
<p>(1). ç¼ºå¤±å€¼çš„å½±å“</p>
<ul>
<li>data mining model å°†ä¸¢å¤±å¤§é‡çš„æœ‰ç”¨ä¿¡æ¯</li>
<li>data mining model ä¸ç¡®å®šæ€§å¢åŠ ï¼Œmodel è•´æ¶µçš„è§„å¾‹æ›´éš¾æŠŠæ¡</li>
<li>åŒ…å« NULL å€¼çš„æ•°æ®ä¼šä½¿ model è¿‡ç¨‹é™·å…¥æ··ä¹±, å¯¼è‡´ä¸å¯é è¾“å‡º</li>
</ul>
<p>(2). ç¼ºå¤±å€¼çš„åˆ†æ</p>
<ul>
<li>å¤„ç†å¯ä»¥é€‰æ‹©å¿½ç•¥ï¼Œæˆ–è€…è¡¥å…¨ç­‰ã€‚</li>
</ul>
<p><strong>å¼‚å¸¸å€¼</strong></p>
<blockquote>
<p>å¼‚å¸¸å€¼ æ˜¯æŒ‡æ ·æœ¬ä¸­çš„ä¸ªåˆ«å€¼, å…¶æ•°å€¼æ˜æ˜¾åç¦»å…¶ä½™çš„è§‚æµ‹å€¼ã€‚ä¹Ÿç§°ä¸º ç¦»ç¾¤ç‚¹ã€‚</p>
</blockquote>
<ul>
<li>ç®€å•ç»Ÿè®¡é‡åˆ†æï¼ˆ0~199 ageï¼‰</li>
<li>3 $\sigma$ åŸåˆ™ ( $p(|x-u| &gt; 3\sigma|) &lt;= 0.003$)</li>
<li>ç®±å‹å›¾åˆ†æ</li>
</ul>
<blockquote>
<p>3 $\sigma$ åŸåˆ™ (æœä»æ­£æ€åˆ†å¸ƒä¸‹ï¼Œå¼‚å¸¸å€¼å®šä¹‰ä¸ºæµ‹å®šå€¼ä¸å‡å€¼è¶…è¿‡3å€æ ‡å‡†å·®çš„å€¼ $p(|x-u| &gt; 3\sigma|) &lt;= 0.003$)</p>
</blockquote>
<h2 id="2-Data-Feature-analysis"><a href="#2-Data-Feature-analysis" class="headerlink" title="2. Data Feature analysis"></a>2. Data Feature analysis</h2><h3 id="2-1-å®šé‡æ•°æ®çš„åˆ†å¸ƒåˆ†æ"><a href="#2-1-å®šé‡æ•°æ®çš„åˆ†å¸ƒåˆ†æ" class="headerlink" title="2.1 å®šé‡æ•°æ®çš„åˆ†å¸ƒåˆ†æ"></a>2.1 å®šé‡æ•°æ®çš„åˆ†å¸ƒåˆ†æ</h3><ol>
<li>æå·®</li>
<li>ç»„è·ã€ç»„æ•°</li>
<li>åˆ†ç‚¹ã€é¢‘ç‡</li>
</ol>
<h3 id="2-2-å¯¹æ¯”åˆ†æ"><a href="#2-2-å¯¹æ¯”åˆ†æ" class="headerlink" title="2.2 å¯¹æ¯”åˆ†æ"></a>2.2 å¯¹æ¯”åˆ†æ</h3><ol>
<li>ç»å¯¹æ•°</li>
<li>ç›¸å¯¹æ•°</li>
</ol>
<h3 id="2-3-ç»Ÿè®¡é‡åˆ†æ"><a href="#2-3-ç»Ÿè®¡é‡åˆ†æ" class="headerlink" title="2.3 ç»Ÿè®¡é‡åˆ†æ"></a>2.3 ç»Ÿè®¡é‡åˆ†æ</h3><p>ç”¨ç»Ÿè®¡æŒ‡æ ‡å¯¹å®šé‡æ•°æ®è¿›è¡Œç»Ÿè®¡æè¿°ï¼Œå¸¸ä»é›†ä¸­è¶‹åŠ¿å’Œç¦»ä¸­è¶‹åŠ¿ä¸¤ä¸ªæ–¹é¢è¿›è¡Œåˆ†æã€‚</p>
<ul>
<li>é›†ä¸­åº¦é‡ : <strong>å‡å€¼</strong> &amp; <strong>ä¸­ä½æ•°</strong>  </li>
<li>ç¦»ä¸­åº¦é‡ : <strong>æ ‡å‡†å·® (æ–¹å·®)ã€å››åˆ†ä½é—´è·</strong>  </li>
</ul>
<p><strong>(1). é›†ä¸­è¶‹åŠ¿åº¦é‡</strong>  </p>
<ol>
<li>å‡å€¼</li>
<li>ä¸­ä½æ•°</li>
<li>ä¼—æ•°</li>
</ol>
<p><strong>(2). ç¦»ä¸­è¶‹åŠ¿åº¦é‡</strong>  </p>
<ol>
<li>æå·®</li>
<li>æ ‡å‡†å·®</li>
<li>å˜å¼‚ç³»æ•°</li>
<li>å››åˆ†ä½æ•°é—´è·</li>
</ol>
<blockquote>
<p>å˜å¼‚ç³»æ•°åº¦é‡ æ ‡å‡†å·® ç›¸å¯¹äº å‡å€¼çš„ç¦»ä¸­è¶‹åŠ¿</p>
</blockquote>
<p>statistics_analyze.py</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment">#-*- coding: utf-8 -*-</span></span><br><span class="line"><span class="comment">#é¤é¥®é”€é‡æ•°æ®ç»Ÿè®¡é‡åˆ†æ</span></span><br><span class="line"><span class="keyword">from</span> __future__ <span class="keyword">import</span> print_function</span><br><span class="line"><span class="keyword">import</span> pandas <span class="keyword">as</span> pd</span><br><span class="line"></span><br><span class="line">catering_sale = <span class="string">'../data/catering_sale.xls'</span> <span class="comment">#é¤é¥®æ•°æ®</span></span><br><span class="line">data = pd.read_excel(catering_sale, index_col = <span class="string">u'æ—¥æœŸ'</span>) <span class="comment">#è¯»å–æ•°æ®ï¼ŒæŒ‡å®šâ€œæ—¥æœŸâ€åˆ—ä¸ºç´¢å¼•åˆ—</span></span><br><span class="line">data = data[(data[<span class="string">u'é”€é‡'</span>] &gt; <span class="number">400</span>)&amp;(data[<span class="string">u'é”€é‡'</span>] &lt; <span class="number">5000</span>)] <span class="comment">#è¿‡æ»¤å¼‚å¸¸æ•°æ®</span></span><br><span class="line">statistics = data.describe() <span class="comment">#ä¿å­˜åŸºæœ¬ç»Ÿè®¡é‡</span></span><br><span class="line"></span><br><span class="line">statistics.loc[<span class="string">'range'</span>] = statistics.loc[<span class="string">'max'</span>]-statistics.loc[<span class="string">'min'</span>] <span class="comment">#æå·®</span></span><br><span class="line">statistics.loc[<span class="string">'var'</span>] = statistics.loc[<span class="string">'std'</span>]/statistics.loc[<span class="string">'mean'</span>] <span class="comment">#å˜å¼‚ç³»æ•°</span></span><br><span class="line">statistics.loc[<span class="string">'dis'</span>] = statistics.loc[<span class="string">'75%'</span>]-statistics.loc[<span class="string">'25%'</span>] <span class="comment">#å››åˆ†ä½æ•°é—´è·</span></span><br><span class="line"></span><br><span class="line">print(statistics)</span><br></pre></td></tr></table></figure>
<p>Output</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">           é”€é‡</span><br><span class="line">count   195.000000</span><br><span class="line">mean   2744.595385</span><br><span class="line">std     424.739407</span><br><span class="line">min     865.000000</span><br><span class="line">25%    2460.600000</span><br><span class="line">50%    2655.900000</span><br><span class="line">75%    3023.200000</span><br><span class="line">max    4065.200000</span><br><span class="line">range  3200.200000</span><br><span class="line">var       0.154755</span><br><span class="line">dis     562.600000</span><br></pre></td></tr></table></figure>
<h3 id="2-4-å‘¨æœŸæ€§åˆ†æ"><a href="#2-4-å‘¨æœŸæ€§åˆ†æ" class="headerlink" title="2.4 å‘¨æœŸæ€§åˆ†æ"></a>2.4 å‘¨æœŸæ€§åˆ†æ</h3><h3 id="2-5-è´¡çŒ®åº¦åˆ†æ"><a href="#2-5-è´¡çŒ®åº¦åˆ†æ" class="headerlink" title="2.5 è´¡çŒ®åº¦åˆ†æ"></a>2.5 è´¡çŒ®åº¦åˆ†æ</h3><blockquote>
<p>è´¡çŒ®åº¦åˆ†æ ç§° å¸•ç´¯æ‰˜åˆ†æã€‚åŸç†æ˜¯ å¸•ç´¯æ‰˜ æ³•åˆ™ã€‚åˆç§° 20/80 å®šå¾‹ã€‚åŒæ ·çš„æŠ•å…¥æ”¾åœ¨ä¸åŒçš„åœ°æ–¹ä¼šäº§ç”Ÿä¸åŒçš„æ•ˆç›Šã€‚å¯¹äº å…¬å¸ æ¥è¯´ï¼Œä¸€èˆ¬æƒ…å†µéƒ½æ˜¯ 80% çš„åˆ©æ¶¦å¸¸å¸¸æ¥è‡ªäº 20% æœ€ç•…é”€çš„äº§å“ã€‚</p>
</blockquote>
<h3 id="2-6-ç›¸å…³æ€§åˆ†æ"><a href="#2-6-ç›¸å…³æ€§åˆ†æ" class="headerlink" title="2.6 ç›¸å…³æ€§åˆ†æ"></a>2.6 ç›¸å…³æ€§åˆ†æ</h3><blockquote>
<p>åˆ†æè¿ç»­å˜é‡ä¹‹é—´çº¿æ€§ç›¸å…³ç¨‹åºçš„å¼ºå¼±ï¼Œå¹¶ç”¨é€‚å½“çš„ç»Ÿè®¡æŒ‡æ ‡è¡¨ç¤ºå‡ºæ¥çš„è¿‡ç¨‹ç§°ä¸ºç›¸å…³åˆ†æã€‚</p>
</blockquote>
<ol>
<li>ç›´æ¥ç»˜åˆ¶æ•£ç‚¹å›¾</li>
<li>ç»˜åˆ¶æ•£ç‚¹å›¾çŸ©é˜µ</li>
<li>è®¡ç®—ç›¸å…³ç³»æ•°</li>
</ol>
<p><strong>è®¡ç®—æœºç›¸å…³ç³»æ•°</strong></p>
<p>(1). Pearson ç›¸å…³ç³»æ•°</p>
<p>ä¸€èˆ¬ç”¨äºåˆ†æä¸¤ä¸ªè¿ç»­æ€§å˜é‡ä¹‹é—´çš„å…³ç³»</p>
<p>(2). Spearman è½¶ç›¸å…³ç³»æ•°</p>
<p>ä¸æœä»æ­£æ€åˆ†å¸ƒçš„å˜é‡, åˆ†ç±»æˆ–ç­‰çº§å˜é‡ä¹‹é—´çš„ç›¸å…³æ€§å¯é‡‡ç”¨ Spearman è½¶ç›¸å…³ç³»æ•°ã€‚</p>
<p>(3). åˆ¤å®šç³»æ•°</p>
<p>åˆ¤å®šç³»æ•° æ˜¯ç›¸å…³ç³»æ•°çš„å¹³æ–¹ï¼Œç”¨ $r^2$ è¡¨ç¤º; ç”¨æ¥è¡¡é‡å›å½’æ–¹å¼å¯¹ $y$ çš„è§£é‡Šç¨‹åº¦ã€‚</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">           ç™¾åˆé…±è’¸å‡¤çˆª    ç¿¡ç¿ è’¸é¦™èŒœé¥º   é‡‘é“¶è’œæ±è’¸æ’éª¨     ä¹è†³çœŸå‘³é¸¡     èœœæ±ç„—é¤åŒ…      ç”Ÿç‚’èœå¿ƒ    é“æ¿é…¸èœè±†è…</span><br><span class="line">ç™¾åˆé…±è’¸å‡¤çˆª   1.000000  0.009206  0.016799  0.455638  0.098085  0.308496  0.204898   </span><br><span class="line">ç¿¡ç¿ è’¸é¦™èŒœé¥º   0.009206  1.000000  0.304434 -0.012279  0.058745 -0.180446 -0.026908   </span><br><span class="line">é‡‘é“¶è’œæ±è’¸æ’éª¨  0.016799  0.304434  1.000000  0.035135  0.096218 -0.184290  0.187272   </span><br><span class="line">ä¹è†³çœŸå‘³é¸¡    0.455638 -0.012279  0.035135  1.000000  0.016006  0.325462  0.297692   </span><br><span class="line">èœœæ±ç„—é¤åŒ…    0.098085  0.058745  0.096218  0.016006  1.000000  0.308454  0.502025   </span><br><span class="line">ç”Ÿç‚’èœå¿ƒ     0.308496 -0.180446 -0.184290  0.325462  0.308454  1.000000  0.369787   </span><br><span class="line">é“æ¿é…¸èœè±†è…   0.204898 -0.026908  0.187272  0.297692  0.502025  0.369787  1.000000</span><br></pre></td></tr></table></figure>
<h2 id="3-Python-data-discovery-function"><a href="#3-Python-data-discovery-function" class="headerlink" title="3. Python data discovery function"></a>3. Python data discovery function</h2><h3 id="3-1-feature-functions"><a href="#3-1-feature-functions" class="headerlink" title="3.1 feature functions"></a>3.1 feature functions</h3><table>
<thead>
<tr>
<th>name</th>
<th>function</th>
<th>lib</th>
</tr>
</thead>
<tbody>
<tr>
<td>D.sum()</td>
<td>data sample æ€»å’Œ (æŒ‰åˆ—è®¡ç®—)</td>
<td>pandas</td>
</tr>
<tr>
<td>mean()</td>
<td>ç®—æœ¯å¹³å‡æ•°</td>
<td>pandas</td>
</tr>
<tr>
<td>var()</td>
<td>æ–¹å·®</td>
<td>pandas</td>
</tr>
<tr>
<td>std()</td>
<td>æ ‡å‡†å·®</td>
<td>pandas</td>
</tr>
<tr>
<td>corr()</td>
<td>Spearman (Pearson)ç›¸å…³ç³»æ•°çŸ©é˜µ</td>
<td>pandas</td>
</tr>
<tr>
<td>cov()</td>
<td>åæ–¹å·®çŸ©é˜µ</td>
<td>pandas</td>
</tr>
<tr>
<td>skew()</td>
<td>æ ·æœ¬å€¼çš„ååº¦(ä¸‰é˜¶çŸ©)</td>
<td>pandas</td>
</tr>
<tr>
<td>kurt()</td>
<td>æ ·æœ¬å€¼çš„å³°åº¦(å››é˜¶çŸ©)</td>
<td>pandas</td>
</tr>
<tr>
<td>describe()</td>
<td>ç»™å‡ºæ ·æœ¬çš„åŸºæœ¬æè¿°(å¦‚ï¼šmean, var ç­‰åŸºæœ¬ç»Ÿè®¡é‡)</td>
<td>pandas</td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr>
<th>name</th>
<th>function</th>
<th>lib</th>
</tr>
</thead>
<tbody>
<tr>
<td>cumsum()</td>
<td>ä¾æ¬¡ç»™å‡ºå‰ 1ã€2ã€3â€¦n ä¸ªæ•°çš„ sum</td>
<td>pandas</td>
</tr>
<tr>
<td>cumprod()</td>
<td>ä¾æ¬¡ç»™å‡ºå‰ 1ã€2ã€3â€¦n ä¸ªæ•°çš„ ç§¯</td>
<td>pandas</td>
</tr>
<tr>
<td>cummax()</td>
<td>ä¾æ¬¡ç»™å‡ºå‰ 1ã€2ã€3â€¦n ä¸ªæ•°çš„ max</td>
<td>pandas</td>
</tr>
<tr>
<td>cummin()</td>
<td>ä¾æ¬¡ç»™å‡ºå‰ 1ã€2ã€3â€¦n ä¸ªæ•°çš„ min</td>
<td>pandas</td>
</tr>
<tr>
<td>rolling_sum()</td>
<td>è®¡ç®—data sampleçš„æ€»å’Œ(æŒ‰åˆ—è®¡ç®—)</td>
<td>pandas</td>
</tr>
<tr>
<td>rolling_mean()</td>
<td>è®¡ç®—data sampleçš„ç®—æœ¯å¹³å‡æ•°</td>
<td>pandas</td>
</tr>
<tr>
<td>rolling_var()</td>
<td>è®¡ç®—data sampleçš„æ–¹å·®</td>
<td>pandas</td>
</tr>
<tr>
<td>â€¦</td>
<td>â€¦</td>
<td>pandas</td>
</tr>
</tbody>
</table>
<h3 id="3-2-make-picture-functions"><a href="#3-2-make-picture-functions" class="headerlink" title="3.2 make-picture functions"></a>3.2 make-picture functions</h3><table>
<thead>
<tr>
<th>name</th>
<th>function</th>
<th>lib</th>
</tr>
</thead>
<tbody>
<tr>
<td>plot()</td>
<td>ç»˜åˆ¶çº¿æ€§äºŒç»´å›¾ã€æŠ˜çº¿å›¾</td>
<td>Matplotlib / Pandas</td>
</tr>
<tr>
<td>pie()</td>
<td>ç»˜åˆ¶çº¿é¥¼å‹å›¾</td>
<td>Matplotlib / Pandas</td>
</tr>
<tr>
<td>hist()</td>
<td>ç»˜åˆ¶çº¿æ€§äºŒç»´æ¡å½¢ç›´æ–¹å›¾ï¼Œå¯æ˜¾ç¤ºæ•°æ®çš„åˆ†é…æƒ…å½¢</td>
<td>Matplotlib / Pandas</td>
</tr>
<tr>
<td>boxplot()</td>
<td>ç»˜åˆ¶æ ·æœ¬æ•°æ®çš„ç®±å‹å›¾</td>
<td>Pandas</td>
</tr>
<tr>
<td>plot(logy=true)</td>
<td>ç»˜åˆ¶ $y$ è½´çš„å¯¹æ•°å›¾å½¢</td>
<td>Pandas</td>
</tr>
<tr>
<td>plot(yerr=error)</td>
<td>ç»˜åˆ¶è¯¯å·®æ¡å½¢å›¾</td>
<td>Pandas</td>
</tr>
</tbody>
</table>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt <span class="comment">#å¯¼å…¥å›¾åƒåº“</span></span><br><span class="line">plt.rcParams[<span class="string">'font.sans-serif'</span>] = [<span class="string">'SimHei'</span>] <span class="comment">#ç”¨æ¥æ­£å¸¸æ˜¾ç¤ºä¸­æ–‡æ ‡ç­¾</span></span><br><span class="line">plt.rcParams[<span class="string">'axes.unicode_minus'</span>] = <span class="keyword">False</span> <span class="comment">#ç”¨æ¥æ­£å¸¸æ˜¾ç¤ºè´Ÿå·</span></span><br><span class="line">plt.figure(figsize = (<span class="number">7</span>, <span class="number">5</span>)) <span class="comment"># åˆ›å»ºå›¾åƒåŒºåŸŸï¼ŒæŒ‡å®šæ¯”ä¾‹</span></span><br><span class="line">...</span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure>
<h2 id="4-Summary"><a href="#4-Summary" class="headerlink" title="4. Summary"></a>4. Summary</h2><ul>
<li>Data Quality analysis</li>
<li>Data Feature analysis</li>
<li>Data discovery function</li>
</ul>
<blockquote>
<p>Data Feature analysis åœ¨æ•°æ®æŒ–æ˜å»ºæ¨¡ä¹‹å‰ï¼Œé€šè¿‡ <code>é¢‘ç‡åˆ†å¸ƒåˆ†æ</code>ã€å¯¹æ¯”åˆ†æã€å‘¨æœŸæ€§åˆ†æã€<code>ç›¸å…³æ€§åˆ†æ</code> ç­‰æ–¹æ³•ï¼Œå¯¹ data sample çš„ feature è§„å¾‹ è¿›è¡Œåˆ†æï¼Œäº†è§£æ•°æ®çš„è§„å¾‹å’Œè¶‹åŠ¿ï¼Œä¸ºæ•°æ®æŒ–æ˜æä¾›æ”¯æŒã€‚</p>
</blockquote>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[Hobbies and interests]]></title>
      <url>http://iequa.com/2016/08/07/ef-l3u1-Hobbies-and-interests/</url>
      <content type="html"><![CDATA[<style>
img {
        display: block !important;
        width: 500px;
        margin-left: 200px !important;
}
</style>

<h2 id="1-Talking-about-your-hobbies-and-interests"><a href="#1-Talking-about-your-hobbies-and-interests" class="headerlink" title="1. Talking about your hobbies and interests"></a>1. Talking about your hobbies and interests</h2><ul>
<li>stamp collectingã€taking photographs</li>
<li>woodworkingã€readingã€running</li>
<li>cookingã€drawingã€sewing [ËˆsÉ™ÊŠÉªÅ‹] </li>
</ul>
<p><img src="/images/english/ef-l3u1l1-2.png" alt=""></p>
<ul>
<li>travelingã€oil paintingã€gardeningã€camping</li>
<li>birdwatchingã€grow vegetables</li>
<li>going to the theater [â€˜Î¸ÉªÉ™tÉ™]</li>
<li>going to an exhibit [Éªgâ€™zÉªbÉªt]</li>
<li>collecting comic books [â€˜kÉ’mÉªk]</li>
</ul>
<p><img src="/images/english/ef-l3u1l2-1.png" alt=""></p>
<h3 id="be-good-at-be-interested-in"><a href="#be-good-at-be-interested-in" class="headerlink" title="be good at = be interested in"></a>be good at = be interested in</h3><p>A: <font color="#c7254e">What are you interested in?</font>  </p>
<p>A: What do you like doing?<br>B: Iâ€™m into doing things at home.  </p>
<p>A: Are you good at (interested in) cooking?<br>B: Sheâ€™s good at drawing.</p>
<p>A: <font color="#c7254e">What do you like to do in your free time?</font><br>B: I enjoy stamp collecting.<br>B: I like getting together with friends.</p>
<h2 id="2-Asking-people-about-their-interests"><a href="#2-Asking-people-about-their-interests" class="headerlink" title="2. Asking people about their interests"></a>2. Asking people about their interests</h2><p>A: <font color="#c7254e">How often</font> do you travel?<br>B: Well, I go to China every summer.</p>
<p>A: <font color="#c7254e">Do you ever</font> go fishing?<br>B: No, I donâ€™t. </p>
<p>A : <font color="#c7254e">What do you usually do?</font><br>B : Well, I watch TV. And I sometimes read comic books.</p>
<p>A: I do fun things near home.<br>B: <font color="#c7254e">Like what?</font><br>A: Like collecting comic books.  </p>
<p>A: <font color="#c7254e">What else do you like to do?</font><br>B: Well, I really like gardening.</p>
<h3 id="frequency"><a href="#frequency" class="headerlink" title="frequency"></a>frequency</h3><p>100% = alwaysã€80% = usuallyã€60% = often<br>40% = sometimesã€20% = rarelyã€0% = never  </p>
<h2 id="3-Talking-about-musical-instruments"><a href="#3-Talking-about-musical-instruments" class="headerlink" title="3. Talking about musical instruments"></a>3. Talking about musical instruments</h2><ul>
<li>cello piano guitar</li>
<li>violin trumpet drums</li>
<li>flute saxophone</li>
</ul>
<p><img src="/images/english/ef-l3u1l3-1.png" alt=""></p>
<p>Three people in my family can play a <code>musical instrument</code>. I play the saxophone. My father and mother play the violin. My sister canâ€™t play an instrument, but she can sing. Sometimes, people ask us to play a song.</p>
<p><strong>My Piano and Me</strong></p>
<p>Iâ€™m really into my piano. Itâ€™s very old and has a beautiful sound. Sometimes my friends come to my house. They enjoy listening to me play. They always ask me to play a new song. I can say beautiful things with piano music.</p>
<h2 id="4-Making-plans-for-a-visitor"><a href="#4-Making-plans-for-a-visitor" class="headerlink" title="4. Making plans for a visitor"></a>4. Making plans for a visitor</h2><p><img src="/images/english/ef-l3u1l4.png" alt=""></p>
<table>
<thead>
<tr>
<th><strong>Main Dialog</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td>[JOAN] Hi. Listen, Carlos, <code>do you have any plans</code> this weekend?</td>
<td></td>
</tr>
<tr>
<td>[Carlos] No , Why?</td>
<td></td>
</tr>
<tr>
<td>[JOAN] Gonzales is visiting. Heâ€™s the manager of the Mexico City office. And Iâ€™m <code>out of town</code> all weekend.</td>
<td></td>
</tr>
<tr>
<td>[Carlos] Right?</td>
<td></td>
</tr>
<tr>
<td>[JOAN] Can you show him around? Carlos  Itâ€™s really important.</td>
<td></td>
</tr>
<tr>
<td>[Carlos] Of courseï¼Œshow him aroundã€‚ <code>What&#39;s He interested in</code>?</td>
<td></td>
</tr>
<tr>
<td>[JOAN] I know he enjoys eating out.</td>
<td></td>
</tr>
<tr>
<td>[CARLOS] Well, I know a lot of good restaurants.</td>
<td></td>
</tr>
<tr>
<td>[JOAN] Oh, and heâ€™s really into art.</td>
<td></td>
</tr>
<tr>
<td>[CARLOS] Thereâ€™s probably a good exhibition at the art museum.</td>
<td></td>
</tr>
<tr>
<td>[JOAN] Great. Thank you. Look - you can have two extra daysâ€™ vacation for this.</td>
<td></td>
</tr>
<tr>
<td>[CARLOS] really? Thanks.</td>
<td></td>
</tr>
</tbody>
</table>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[MAC OSX Update Python Version]]></title>
      <url>http://iequa.com/2016/08/04/ops-macosx-update-python-version/</url>
      <content type="html"><![CDATA[<blockquote>
<p>by update Python 3.5.2 as example</p>
</blockquote>
<h2 id="1-Download"><a href="#1-Download" class="headerlink" title="1. Download"></a>1. Download</h2><ul>
<li><a href="https://www.python.org/downloads/mac-osx/" target="_blank" rel="external">https://www.python.org/downloads/mac-osx/</a></li>
<li>Latest Python 3 Release - Python 3.5.2</li>
</ul>
<h2 id="2-Install"><a href="#2-Install" class="headerlink" title="2. Install"></a>2. Install</h2><ul>
<li>python-3.5.2-macosx10.6.pkg</li>
</ul>
<h2 id="3-Update"><a href="#3-Update" class="headerlink" title="3. Update"></a>3. Update</h2><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="meta">#!/bin/bash</span></span><br><span class="line"><span class="comment">#pythonç‰ˆå·éœ€è¦ä¿®æ”¹ä¸¤ä¸ªåœ°æ–¹</span></span><br><span class="line"><span class="comment">#1. new_version</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#sudo -i #å¾—åˆ°è¶…çº§æƒé™</span></span><br><span class="line">new_version=<span class="string">"3.5"</span></span><br><span class="line"></span><br><span class="line">PYPATH=/System/Library/Frameworks/Python.framework/Versions/<span class="string">"<span class="variable">$new_version</span>"</span></span><br><span class="line"><span class="comment">#ç¬¬1æ­¥ ç§»åŠ¨æ–°ç‰ˆpythonåˆ°macé»˜è®¤ç›®å½•ä¸‹</span></span><br><span class="line"><span class="built_in">echo</span> <span class="string">"move.."</span></span><br><span class="line">mv /Library/Frameworks/Python.framework/Versions/<span class="string">"<span class="variable">$new_version</span>"</span> /System/Library/Frameworks/Python.framework/Versions/</span><br><span class="line"><span class="comment">#ç¬¬2æ­¥ æ”¹å˜ç”¨æˆ·ç›®å½•çš„ç”¨æˆ·ç»„</span></span><br><span class="line"><span class="built_in">echo</span> <span class="string">"chown.."</span></span><br><span class="line">chown -R root:wheel <span class="variable">$&#123;PYPATH&#125;</span></span><br><span class="line"><span class="comment">#ç¬¬3æ­¥ åˆ é™¤åŸæ¥2.7çš„é“¾æ¥æ–‡ä»¶</span></span><br><span class="line"><span class="built_in">echo</span> <span class="string">"del.."</span></span><br><span class="line">rm /System/Library/Frameworks/Python.framework/Versions/Current</span><br><span class="line"><span class="comment">#ç¬¬4æ­¥ é‡æ–°é“¾æ¥åˆ°æœ€æ–°ç‰ˆæœ¬çš„python</span></span><br><span class="line"><span class="built_in">echo</span> <span class="string">"ln.."</span></span><br><span class="line">ln <span class="_">-s</span> <span class="variable">$&#123;PYPATH&#125;</span> /System/Library/Frameworks/Python.framework/Versions/Current</span><br><span class="line"><span class="comment">#ç¬¬5æ­¥ åˆ é™¤æ—§çš„å‘½ä»¤ç¬¦å·é“¾æ¥</span></span><br><span class="line"><span class="built_in">echo</span> <span class="string">"rm.."</span></span><br><span class="line">rm /usr/bin/&#123;pydoc,python,pythonw,python-config&#125;</span><br><span class="line"><span class="built_in">echo</span> <span class="string">"ln bin.."</span></span><br><span class="line"><span class="comment">#ç¬¬6æ­¥ é‡æ–°å»ºç«‹æ–°çš„å‘½ä»¤ç¬¦å·é“¾æ¥</span></span><br><span class="line">ln <span class="_">-s</span> <span class="variable">$&#123;PYPATH&#125;</span>/bin/pydoc<span class="string">"<span class="variable">$new_version</span>"</span> /usr/bin/pydoc</span><br><span class="line">ln <span class="_">-s</span> <span class="variable">$&#123;PYPATH&#125;</span>/bin/python<span class="string">"<span class="variable">$new_version</span>"</span> /usr/bin/python</span><br><span class="line">ln <span class="_">-s</span> <span class="variable">$&#123;PYPATH&#125;</span>/bin/pythonw<span class="string">"<span class="variable">$new_version</span>"</span> /usr/bin/pythonw</span><br><span class="line">ln <span class="_">-s</span> <span class="variable">$&#123;PYPATH&#125;</span>/bin/python<span class="string">"<span class="variable">$new_version</span>"</span>m-config /usr/bin/python-config</span><br><span class="line"></span><br><span class="line">python_param_list=`<span class="built_in">cd</span> /usr/<span class="built_in">local</span>/bin &amp;&amp; ls -al |grep <span class="string">"Python"</span>|awk <span class="string">'ORS=" " &#123;print $9&#125;'</span>`</span><br><span class="line"><span class="comment">#ç¬¬7æ­¥ ä¿®å¤å…¶ä»–é“¾æ¥</span></span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> <span class="variable">$python_param_list</span>; <span class="keyword">do</span></span><br><span class="line">    <span class="built_in">echo</span> <span class="string">"info: <span class="variable">$i</span>"</span></span><br><span class="line">    rm <span class="_">-f</span> /usr/<span class="built_in">local</span>/bin/<span class="variable">$&#123;i&#125;</span></span><br><span class="line">    ln -sv /System/Library/Frameworks/Python.framework/Versions/<span class="string">"<span class="variable">$new_version</span>"</span>/bin/<span class="variable">$&#123;i&#125;</span> /usr/<span class="built_in">local</span>/bin/<span class="variable">$&#123;i&#125;</span></span><br><span class="line"><span class="keyword">done</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#ç¬¬8æ­¥ ç¯å¢ƒå˜é‡è¦ä¿®æ”¹ä¸ºæœ€æ–°çš„ç‰ˆæœ¬å·</span></span><br><span class="line"><span class="built_in">echo</span> <span class="string">'export PATH=/System/Library/Frameworks/Python.framework/Versions/3.5/bin:$&#123;PATH&#125;'</span> &gt;&gt; ~/.bashrc</span><br><span class="line"><span class="built_in">echo</span> <span class="string">'export PATH=/System/Library/Frameworks/Python.framework/Versions/3.5/bin:$&#123;PATH&#125;'</span> &gt;&gt; ~/.zshrc</span><br><span class="line"></span><br><span class="line"><span class="built_in">exit</span> <span class="comment">#é€€å‡ºè¶…çº§æƒé™</span></span><br></pre></td></tr></table></figure>
<h2 id="4-Verifiy"><a href="#4-Verifiy" class="headerlink" title="4. Verifiy"></a>4. Verifiy</h2><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">âœ  ~ Python -V</span><br><span class="line">Python 3.5.2</span><br><span class="line">âœ  ~</span><br></pre></td></tr></table></figure>
<h2 id="5-Refence-article"><a href="#5-Refence-article" class="headerlink" title="5. Refence article"></a>5. Refence article</h2><ul>
<li><a href="http://blog.csdn.net/wirelessqa/article/details/23261723" target="_blank" rel="external">è€æ¯•ç å†œ</a></li>
<li><a href="http://www.jianshu.com/p/1a002847265e" target="_blank" rel="external">mac pycharm åˆ‡æ¢PYTHONç‰ˆæœ¬</a></li>
</ul>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[Python Data Mining and Analysis environment]]></title>
      <url>http://iequa.com/2016/08/02/py-language-1-data-analysis-environment/</url>
      <content type="html"><![CDATA[<p>è¿™æ˜¯ç”¨ Python è¿›è¡Œæ•°æ®åˆ†ææŒ–æ˜çš„ä¸€å°éƒ¨åˆ†ï¼ŒåŒ…æ‹¬ é«˜ç»´æ•°ç»„ã€æ•°å€¼è®¡ç®—ã€æœºå™¨å­¦ä¹ ã€ç¥ç»ç½‘ç»œ å’Œ è¯­è¨€æ¨¡å‹ç­‰ã€‚</p>
<a id="more"></a>
<h2 id="1-Python-data-analysis-intro"><a href="#1-Python-data-analysis-intro" class="headerlink" title="1. Python data analysis intro"></a>1. Python data analysis intro</h2><p><a href="http://www.python.org" target="_blank" rel="external">Python</a></p>
<ul>
<li>ä¼˜é›…çš„è¯­æ³•å’ŒåŠ¨æ€ç±»å‹</li>
<li>æ‹¥æœ‰é«˜çº§æ•°æ®ç»“æ„ã€OO</li>
<li>Functional Programming</li>
<li>è§£é‡Šæ€§ã€èƒ¶æ°´è¯­è¨€ï¼Œå¼€å‘æ•ˆç‡é«˜</li>
<li>åº“ä¸°å¯Œ, NumPy, SciPy, Matplotlib, Pandas</li>
<li>é€‚åˆäº Scientific Computingã€Mathematical Modelingã€Data mining â€¦</li>
</ul>
<p><strong>import <code>future</code> feature</strong></p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">from __futrue__ import print_function</span><br><span class="line">from __futrue__ import division</span><br></pre></td></tr></table></figure>
<p><strong>install third package</strong></p>
<blockquote>
<p>ä¸‰ç§æ–¹å¼  </p>
<ol>
<li>ä¸‹è½½æºä»£ç è‡ªè¡Œå®‰è£… : å®‰è£…çµæ´»ï¼Œ ä½†éœ€è¦è‡ªè¡Œè§£å†³ä¸Šçº§ä¾èµ–é—®é¢˜ã€‚  </li>
<li>ç”¨ pip å®‰è£… : æ¯”è¾ƒæ–¹ä¾¿ï¼Œè‡ªåŠ¨è§£å†³ä¸Šçº§ä¾èµ–é—®é¢˜  </li>
<li>ç³»ç»Ÿè‡ªå¸¦çš„å®‰è£…æ–¹å¼ : apt-get or brew ..</li>
</ol>
</blockquote>
<h3 id="1-1-Install-pip"><a href="#1-1-Install-pip" class="headerlink" title="1.1 Install pip"></a>1.1 Install pip</h3><blockquote>
<p>pip æ˜¯å®‰è£…pythonåŒ…çš„å·¥å…·ï¼Œæä¾›äº†å®‰è£…åŒ…ï¼Œåˆ—å‡ºå·²ç»å®‰è£…çš„åŒ…ï¼Œå‡çº§åŒ…ä»¥åŠå¸è½½åŒ…çš„åŠŸèƒ½ã€‚<br>pip æ˜¯å¯¹easy_installçš„å–ä»£ï¼Œæä¾›äº†å’Œeasy_installç›¸åŒçš„æŸ¥æ‰¾åŒ…çš„åŠŸèƒ½</p>
</blockquote>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="built_in">which</span> python</span><br><span class="line">wget https://bootstrap.pypa.io/get-pip.py</span><br><span class="line">sudo python get-pip.py</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">ä¿®æ”¹pipæº ï¼ˆå¯é€‰ï¼‰</span><br><span class="line">ç”±äºå¤©æœåŸå› ,ä½¿ç”¨pipå®‰è£…ä¸€äº›æ¨¡å—ä¼šç‰¹åˆ«æ…¢ç”šè‡³æ— æ³•ä¸‹è½½,å› æ­¤æˆ‘ä»¬éœ€è¦ä¿®æ”¹pipçš„æºåˆ°å›½å†…çš„ä¸€äº›é•œåƒåœ°å€.</span><br><span class="line">cd ~</span><br><span class="line">mkdir .pip</span><br><span class="line">vim pip.conf</span><br><span class="line">æ·»åŠ ä»¥ä¸‹ä¸¤è¡Œ</span><br><span class="line">[global]</span><br><span class="line">index-url = http://pypi.v2ex.com/simple</span><br><span class="line">æŠŠindex-urlçš„å€¼è®¾ç½®ä¸ºè‡ªå·±å®é™…æºçš„åœ°å€.</span><br><span class="line">è‡³æ­¤pipæºä¿®æ”¹æˆåŠŸ,ä»¥åä½¿ç”¨pipå®‰è£…æ¨¡å—æ—¶éƒ½ä¼šä»è¿™ä¸ªæºå»ä¸‹è½½å®‰è£….</span><br></pre></td></tr></table></figure>
<p>or</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">âœ  tar.gz ll</span><br><span class="line">-rw-r--r-- 1 hp staff   1138794 Mar 11 16:09 pip-8.1.0.tar.gz</span><br><span class="line">-rw-r--r-- 1 hp staff    630700 Mar 11 13:38 setuptools-18.1.tar.gz</span><br><span class="line">tar -xvf setuptools-18.1.tar.gz</span><br><span class="line">tar -xvf pip-8.1.0.tar.gz</span><br><span class="line"><span class="built_in">cd</span> setuptools-18.1</span><br><span class="line">python setup.py build</span><br><span class="line">python setup.py install</span><br><span class="line"><span class="built_in">cd</span> pip-9.0.1/</span><br><span class="line">python setup.py build</span><br><span class="line">python setup.py install</span><br></pre></td></tr></table></figure>
<blockquote>
<p>9.0.1 è§ <a href="https://pypi.python.org/pypi/pip" target="_blank" rel="external">https://pypi.python.org/pypi/pip</a></p>
</blockquote>
<p><strong>ipython</strong></p>
<blockquote>
<p>sudo pip install â€“upgrade ipython â€“ignore-installed six<br>sudo pip install notebook</p>
</blockquote>
<p>startup ipython notebook</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">ipython notebook</span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">PYSPARK_DRIVER_PYTHON=ipython PYSPARK_DRIVER_PYTHON_OPTS=<span class="string">"notebook --ip=192.168.140.159"</span> $SPARK_HOME/bin/pyspark</span><br></pre></td></tr></table></figure>
<h2 id="2-Python-Tools-for-data-analysis"><a href="#2-Python-Tools-for-data-analysis" class="headerlink" title="2. Python Tools for data analysis"></a>2. Python Tools for data analysis</h2><table>
<thead>
<tr>
<th>Extension lib</th>
<th>introduction</th>
</tr>
</thead>
<tbody>
<tr>
<td>Numpy</td>
<td>æä¾›æ•°ç»„æ”¯æŒï¼Œä»¥åŠç›¸åº”çš„é«˜æ•ˆå¤„ç†å‡½æ•°</td>
</tr>
<tr>
<td>Scipy</td>
<td>æä¾›çŸ©é˜µæ”¯æŒï¼Œä»¥åŠçŸ©é˜µç›¸å…³çš„æ•°å€¼è®¡ç®—æ¨¡å—</td>
</tr>
<tr>
<td>Matplotlib</td>
<td>æ•°æ®å¯è§†åŒ–å·¥å…·ï¼Œä½œå›¾åº“</td>
</tr>
<tr>
<td>Pandas</td>
<td>æ•°æ®åˆ†æå’Œæ¢ç´¢å·¥å…·</td>
</tr>
<tr>
<td>StatsModels</td>
<td>ç»Ÿè®¡å»ºæ¨¡å’Œè®¡é‡ç»æµå­¦ï¼ŒåŒ…æ‹¬æè¿°ç»Ÿè®¡ï¼Œç»Ÿè®¡æ¨¡å‹ä¼°è®¡å’Œæ¨æ–­</td>
</tr>
<tr>
<td>Scikit-Learn</td>
<td>æ”¯æŒå›å½’ï¼Œåˆ†ç±»ï¼Œèšç±» ç­‰å¼ºå¤§çš„æœºå™¨å­¦ä¹ åº“</td>
</tr>
<tr>
<td>Keras</td>
<td>æ·±åº¦å­¦ä¹ åº“ï¼Œç”¨äºå»ºç«‹ç¥ç»ç½‘ç»œä»¥åŠ deep learning model</td>
</tr>
<tr>
<td>Gensim</td>
<td>ç”¨æ¥åš text topic model çš„åº“</td>
</tr>
<tr>
<td>Pillow</td>
<td>æ—§ç‰ˆçš„PIL, å›¾ç‰‡å¤„ç†ç›¸å…³</td>
</tr>
<tr>
<td>OpenCV</td>
<td>video å¤„ç†ç›¸å…³</td>
</tr>
<tr>
<td>GMPY2</td>
<td>é«˜ç²¾åº¦è®¡ç®—ç›¸å…³</td>
</tr>
</tbody>
</table>
<hr>
<h3 id="2-1-Numpy"><a href="#2-1-Numpy" class="headerlink" title="2.1 Numpy"></a>2.1 Numpy</h3><p><a href="www.numpy.prg">Numpy</a> æä¾›äº†æ•°æ®åŠŸèƒ½, åç»­ Scipyã€Matplotlibã€Pandas ç­‰éƒ½ä¾èµ–äºå®ƒã€‚    </p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment"># -*- coding: utf-8 -*-</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># sudo pip install numpy</span></span><br><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line">a = np.array([<span class="number">2</span>, <span class="number">0</span>, <span class="number">1</span>, <span class="number">5</span>])</span><br><span class="line"></span><br><span class="line">print(a)</span><br><span class="line">print(<span class="string">"hello world 3.0 !"</span>)</span><br></pre></td></tr></table></figure>
<h3 id="2-2-Scipy"><a href="#2-2-Scipy" class="headerlink" title="2.2 Scipy"></a>2.2 Scipy</h3><blockquote>
<p>Numpy æä¾›äº†å¤šç»´æ•°æ®åŠŸèƒ½ï¼Œä½†å®ƒåªæ˜¯æ•°ç»„ï¼Œå¹¶ä¸æ˜¯çŸ©é˜µã€‚Scipy æä¾›äº†çœŸæ­£çš„çŸ©é˜µï¼Œä»¥åŠå¤§é‡çŸ©é˜µè¿ç®—çš„å¯¹è±¡å’Œå‡½æ•°ã€‚<br>Scipy ä¾èµ–äº Numpy</p>
</blockquote>
<h3 id="2-3-Matplotlib"><a href="#2-3-Matplotlib" class="headerlink" title="2.3 Matplotlib"></a>2.3 Matplotlib</h3><blockquote>
<p>è‘—åçš„ç»˜å›¾åº“ï¼Œä¸»è¦ç”¨äºäºŒç»´ç»˜å›¾ï¼Œå½“ç„¶ä¹Ÿå¯ä»¥è¿›è¡Œä¸‰ç»´ç»˜å›¾ã€‚<br>sudo pip install matplotlib </p>
</blockquote>
<h3 id="2-4-Pandas"><a href="#2-4-Pandas" class="headerlink" title="2.4 Pandas"></a>2.4 Pandas</h3><p>Pandas æ˜¯ Python ä¸‹æœ€å¼ºå¤§çš„æ•°æ®åˆ†æ Toolï¼Œæ²¡æœ‰ä¹‹ä¸€ã€‚Pandas æ„å»ºåœ¨ Numpy ä¹‹ä¸Šã€‚  </p>
<p><strong>Pandas Function</strong></p>
<ol>
<li>ç±»SQLï¼ŒCRUD</li>
<li>æ•°æ®å¤„ç†å‡½æ•°</li>
<li>æ—¶é—´åºåˆ—åˆ†æåŠŸèƒ½</li>
<li>çµæ´»å¤„ç†ç¼ºå¤±æ•°æ®</li>
</ol>
<blockquote>
<p>sudo pip install pandas<br>sudo pip install xlrd<br>sudo pip install xlwt<br>ã€Šåˆ©ç”¨pythonè¿›è¡Œæ•°æ®åˆ†æã€‹è®²è§£è¯¦ç»†ï¼Œé’ˆå¯¹ Pandasã€‚  </p>
</blockquote>
<p>Pandas åŸºæœ¬çš„æ•°æ®ç»“æ„æ˜¯ : Series å’Œ DataFrame (å®ƒçš„æ¯ä¸€åˆ—éƒ½æ˜¯ä¸€ä¸ªSeries)ã€‚æ¯ä¸ª Series éƒ½ä¼šæœ‰ä¸€ä¸ªå¯¹åº”çš„ Indexï¼Œç”¨æ¥æ ‡è®°å…ƒã€‚(Indexç±»ä¼¼äº SQL ä¸»é”®)</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment"># -*- coding: utf-8 -*-</span></span><br><span class="line"><span class="keyword">import</span> pandas <span class="keyword">as</span> pd</span><br><span class="line"></span><br><span class="line">s = pd.Series([<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>], index=[<span class="string">'a'</span>, <span class="string">'b'</span>, <span class="string">'c'</span>]) <span class="comment"># åˆ›å»ºä¸€ä¸ªåºåˆ— s</span></span><br><span class="line">d2 = pd.DataFrame(s)</span><br><span class="line"></span><br><span class="line">d = pd.DataFrame([[<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>], [<span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>]], columns=[<span class="string">'a'</span>, <span class="string">'b'</span>, <span class="string">'c'</span>]) <span class="comment"># åˆ›å»ºä¸€ä¸ª table</span></span><br><span class="line"></span><br><span class="line">d.head() <span class="comment"># é»˜è®¤é¢„è§ˆå‰ 5 è¡Œ</span></span><br><span class="line"></span><br><span class="line">d.describe() <span class="comment"># æ•°æ®åŸºæœ¬ç»Ÿè®¡é‡</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># è¯»å–æ–‡ä»¶</span></span><br><span class="line">pd.read_excel(<span class="string">'data.xls'</span>) <span class="comment"># è¯»å– Excel æ–‡ä»¶, åˆ›å»º DataFrame.</span></span><br><span class="line"><span class="comment"># pd.read_csv('data.csv', encoding='utf-8') # è¯»å–æ–‡æœ¬, ä¸€èˆ¬æŒ‡å®š encoding</span></span><br></pre></td></tr></table></figure>
<h3 id="2-5-StatsModels"><a href="#2-5-StatsModels" class="headerlink" title="2.5 StatsModels"></a>2.5 StatsModels</h3><blockquote>
<p>StatsModels ä¸»è¦æ˜¯å¯¹ï¼Œæ•°æ®çš„è¯»å–ã€å¤„ç†ã€æ¢ç´¢ï¼Œæ›´åŠ æ³¨é‡æ•°æ®çš„ç»Ÿè®¡å»ºæ¨¡åˆ†æï¼Œæœ‰ R è¯­è¨€å‘³é“ã€‚<br>StatsModels ä¸ Pandas ç»“åˆ, æˆä¸º Python ä¸‹å¼ºå¤§çš„æ•°æ®æŒ–æ˜ç»„åˆã€‚<br>sudo pip install StatsModels</p>
</blockquote>
<h3 id="2-6-Scikit-Learn"><a href="#2-6-Scikit-Learn" class="headerlink" title="2.6 Scikit-Learn"></a>2.6 Scikit-Learn</h3><blockquote>
<p>Scikit-Learn å¼ºå¤§çš„ ML å·¥å…·åŒ…ã€‚åŒ…æ‹¬ æ•°æ®é¢„å¤„ç†ã€åˆ†ç±»ã€å›å½’ã€èšç±»ã€é¢„æµ‹ å’Œ æ¨¡å‹åˆ†æç­‰ã€‚<br>Scikit-Learn ä¾èµ–äº Numpyã€Scipyã€Matplotlibã€‚</p>
</blockquote>
<p><strong>install</strong></p>
<p>pip install scikit-learn ç”¨ pip å®‰è£…è¿™ä¸ªåŒ…ä¹‹åï¼Œåœ¨ä½¿ç”¨çš„æ—¶å€™ä¼šå‡ºç° ValueError: numpy.dtype has the wrong ç­‰é”™è¯¯ã€‚</p>
<p><strong>solution fun</strong></p>
<p>sudo pip install cython<br>git clone <a href="https://github.com/scikit-learn/scikit-learn" target="_blank" rel="external">https://github.com/scikit-learn/scikit-learn</a><br>sudo make<br>sudo python setup.py install</p>
<blockquote>
<p>ä¸å®‰è£… cython ï¼Œå®‰è£… scikit-learn ä¼šæŠ¥é”™ã€‚<br>è¿™ç§æ–¹å¼ å®‰è£… scikit-learn è¿‡ç¨‹ä¸­çš„ä¸€äº›é”™è¯¯æˆ–è­¦å‘Šä¸éœ€è¦ç®¡ã€‚å®‰è£…å®Œæˆæµ‹è¯•ä½¿ç”¨æ­£å¸¸<br>pip list<br>scikit-learn (0.18.dev0)<br>scipy (0.13.0b1)</p>
</blockquote>
<h3 id="2-7-Keras"><a href="#2-7-Keras" class="headerlink" title="2.7 Keras"></a>2.7 Keras</h3><blockquote>
<p>ç¥ç»ç½‘ç»œmodel</p>
</blockquote>
<h3 id="2-8-Gensim"><a href="#2-8-Gensim" class="headerlink" title="2.8 Gensim"></a>2.8 Gensim</h3><blockquote>
<p>topic modelling for humansï¼NLP</p>
</blockquote>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[Elasticsearch installation plugins]]></title>
      <url>http://iequa.com/2016/05/17/elasticsearch-0-install-plugins/</url>
      <content type="html"><![CDATA[<blockquote>
<p>Elasticsearch æ‰©å±•æ€§éå¸¸å¥½ï¼Œæœ‰å¾ˆå¤šå®˜æ–¹å’Œç¬¬ä¸‰æ–¹å¼€å‘çš„æ’ä»¶</p>
</blockquote>
<a id="more"></a>
<h2 id="1-Elasticsearch-Install"><a href="#1-Elasticsearch-Install" class="headerlink" title="1. Elasticsearch-Install"></a>1. Elasticsearch-Install</h2><p>å®˜ç½‘ : <a href="https://www.elastic.co/" target="_blank" rel="external">https://www.elastic.co/</a></p>
<p><strong>Install es</strong></p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">download elasticsearch-1.7.5.tar.gz</span><br><span class="line">cd usr/local/mySoft/deploy</span><br><span class="line">tar -xvf elasticsearch-1.7.5.tar.gz</span><br><span class="line">ln -s /usr/local/mySoft/deploy/elasticsearch-1.7.5/ elasticsearch</span><br><span class="line"></span><br><span class="line">------</span><br><span class="line"></span><br><span class="line">vim ~/.zshrc</span><br><span class="line">export ES_HOME=/usr/local/xSoft/elasticsearch</span><br></pre></td></tr></table></figure>
<p><strong>Config es</strong></p>
<p>$ES_HOME/config/elasticsearch.yml</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">cluster.name: elasticsearch_x</span><br><span class="line">node.name=test-node1</span><br></pre></td></tr></table></figure>
<p><strong>Startup</strong></p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">./bin/elasticsearch</span><br><span class="line"></span><br><span class="line">./bin/elasticsearch -d -Xms512m -Xmx512m</span><br></pre></td></tr></table></figure>
<blockquote>
<p>è¿è¡Œä¹‹åï¼Œä¼šäº§ç”Ÿ data å’Œ logs ç›®å½•</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">âœ  elasticsearch ll</span><br><span class="line">total 28</span><br><span class="line">-rw-r--r--  1 hp staff 11358 Feb  2 17:24 LICENSE.txt</span><br><span class="line">-rw-r--r--  1 hp staff   150 Feb  2 17:24 NOTICE.txt</span><br><span class="line">-rw-r--r--  1 hp staff  8700 Feb  2 17:24 README.textile</span><br><span class="line">drwxr-xr-x 14 hp staff   476 May 26 15:42 bin/</span><br><span class="line">drwxr-xr-x  4 hp staff   136 May 27 11:03 config/</span><br><span class="line">drwxr-xr-x  3 hp staff   102 May 26 11:01 data/</span><br><span class="line">drwxr-xr-x 26 hp staff   884 May 26 09:58 lib/</span><br><span class="line">drwxr-xr-x  7 hp staff   238 May 27 09:58 logs/</span><br><span class="line">drwxr-xr-x  7 hp staff   238 May 27 10:48 plugins/</span><br><span class="line">âœ  elasticsearch</span><br></pre></td></tr></table></figure>
<p><strong>Verify</strong></p>
<p>open <a href="http://ip:9200/" target="_blank" rel="external">http://ip:9200/</a></p>
<figure class="highlight json"><table><tr><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="attr">"status"</span> : <span class="number">200</span>,</span><br><span class="line">  <span class="attr">"name"</span> : <span class="string">"node01"</span>,</span><br><span class="line">  <span class="attr">"cluster_name"</span> : <span class="string">"elasticsearch_x"</span>,</span><br><span class="line">  <span class="attr">"version"</span> : &#123;</span><br><span class="line">    <span class="attr">"number"</span> : <span class="string">"1.7.5"</span>,</span><br><span class="line">    <span class="attr">"build_hash"</span> : <span class="string">"00f95f4ffca6de89d68b7ccaf80d148f1f70e4d4"</span>,</span><br><span class="line">    <span class="attr">"build_timestamp"</span> : <span class="string">"2016-02-02T09:55:30Z"</span>,</span><br><span class="line">    <span class="attr">"build_snapshot"</span> : <span class="literal">false</span>,</span><br><span class="line">    <span class="attr">"lucene_version"</span> : <span class="string">"4.10.4"</span></span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="attr">"tagline"</span> : <span class="string">"You Know, for Search"</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="2-Elasticsearch-Head"><a href="#2-Elasticsearch-Head" class="headerlink" title="2. Elasticsearch-Head"></a>2. Elasticsearch-Head</h2><p>ElasticSearch-Head æ˜¯ä¸€ä¸ªä¸Elasticé›†ç¾¤ï¼ˆClusterï¼‰ç›¸äº¤äº’çš„ Web å‰å°ã€‚</p>
<p><img src="/images/elastic/es-header.png" alt="header.png"></p>
<p>ES-Headçš„ä¸»è¦ä½œç”¨</p>
<ul>
<li>å®ƒå±•ç°ESé›†ç¾¤çš„æ‹“æ‰‘ç»“æ„ï¼Œå¹¶ä¸”å¯ä»¥é€šè¿‡å®ƒæ¥è¿›è¡Œç´¢å¼•ï¼ˆIndexï¼‰å’ŒèŠ‚ç‚¹ï¼ˆNodeï¼‰çº§åˆ«çš„æ“ä½œ</li>
<li>å®ƒæä¾›ä¸€ç»„é’ˆå¯¹é›†ç¾¤çš„æŸ¥è¯¢APIï¼Œå¹¶å°†ç»“æœä»¥jsonå’Œè¡¨æ ¼å½¢å¼è¿”å›</li>
<li>å®ƒæä¾›ä¸€äº›å¿«æ·èœå•ï¼Œç”¨ä»¥å±•ç°é›†ç¾¤çš„å„ç§çŠ¶æ€</li>
</ul>
<p><strong>Install-Verify</strong></p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">elasticsearch/bin/plugin install mobz/elasticsearch-head</span><br><span class="line">open ip:9200/_plugin/head/</span><br><span class="line">open ip:9200/_cluster/health?pretty</span><br></pre></td></tr></table></figure>
<h2 id="3-Elasticsearch-Kopf"><a href="#3-Elasticsearch-Kopf" class="headerlink" title="3. Elasticsearch-Kopf"></a>3. Elasticsearch-Kopf</h2><p>Kopfæ˜¯ä¸€ä¸ªElasticSearchçš„ç®¡ç†å·¥å…·ï¼Œå®ƒä¹Ÿæä¾›äº†å¯¹ESé›†ç¾¤æ“ä½œçš„APIã€‚</p>
<p><img src="/images/elastic/es-kopf.png" alt="613455-20160224102628443-1084839027.png"></p>
<p><strong>Install-Verify</strong></p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">./elasticsearch/bin/plugin install lmenezes/elasticsearch-kopf/&#123;branch|version&#125;</span><br><span class="line">open http://localhost:9200/_plugin/kopf</span><br></pre></td></tr></table></figure>
<hr>
<h2 id="4-Elasticsearch-bigdesk"><a href="#4-Elasticsearch-bigdesk" class="headerlink" title="4. Elasticsearch-bigdesk"></a>4. Elasticsearch-bigdesk</h2><p>Bigdeskä¸ºElasticé›†ç¾¤æä¾›åŠ¨æ€çš„å›¾è¡¨ä¸ç»Ÿè®¡æ•°æ®ã€‚</p>
<p><img src="/images/elastic/es-bigdesk.jpeg" alt="613455-20160224102646365-1432943551.jpg"></p>
<p><strong>Install-Verify</strong></p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">bin/plugin -install lukas-vlcek/bigdesk</span><br><span class="line">åˆ é™¤bin/plugin --remove bigdesk</span><br><span class="line">open ip:9200/_plugin/bigdesk</span><br><span class="line">open ip:9200/_cluster/state?pretty</span><br></pre></td></tr></table></figure>
<h2 id="5-Elasticsearch-service"><a href="#5-Elasticsearch-service" class="headerlink" title="5. Elasticsearch-service"></a>5. Elasticsearch-service</h2><p>elasticsearch ä½œä¸ºä¸€ä¸ªç³»ç»Ÿserviceåº”ç”¨ ï¼Œå¯ä»¥å®‰è£…elasticsearch-servicewrapperæ’ä»¶</p>
<p><a href="https://github.com/elastic/elasticsearch-servicewrapper" target="_blank" rel="external">github-es-service</a></p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">git clone https://github.com/elasticsearch/elasticsearch-servicewrapper</span><br><span class="line"></span><br><span class="line">ä¸‹è½½è¯¥æ’ä»¶åï¼Œè§£å‹ç¼©ã€‚å°†serviceç›®å½•æ‹·è´åˆ°elasticsearchå®‰è£…ç›®å½•çš„binç›®å½•ä¸‹ã€‚</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">âœ  service ll</span><br><span class="line">total 76</span><br><span class="line">-rwxr-xr-x  1 hp staff 55710 May 26 15:42 elasticsearch*</span><br><span class="line">-rw-r--r--  1 hp staff  2610 May 26 15:42 elasticsearch.bat</span><br><span class="line">-rw-r--r--  1 hp staff  4754 May 26 15:42 elasticsearch.conf</span><br><span class="line">-rwxr-xr-x  1 hp staff    64 May 26 15:42 elasticsearch32*</span><br><span class="line">-rwxr-xr-x  1 hp staff    64 May 26 15:42 elasticsearch64*</span><br><span class="line">drwxr-xr-x 16 hp staff   544 May 26 15:42 exec/</span><br><span class="line">drwxr-xr-x 17 hp staff   578 May 26 15:42 lib/</span><br><span class="line">âœ  service</span><br></pre></td></tr></table></figure>
<p>è¿è¡Œè¿™ä¸ªæ’ä»¶çš„å¥½å¤„æ˜¯ï¼šelasticsearch éœ€è¦çš„jvmå‚æ•°å’Œå…¶å®ƒé…ç½®éƒ½å·²ç»é…ç½®å¥½äº†ï¼Œéå¸¸æ–¹ä¾¿ã€‚</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">sh elasticsearch start;</span><br><span class="line">sh elasticsearch restart;</span><br><span class="line">sh elasticsearch stop;</span><br></pre></td></tr></table></figure>
<p>åœ¨å®é™…ç”Ÿäº§ç¯å¢ƒä¸­ï¼Œè¯¥æ’ä»¶åŸºæœ¬æŠŠå‚æ•°éƒ½é…ç½®å¥½äº†ã€‚æˆ‘ä»¬åªéœ€è¦ä¿®æ”¹ä¸€ä¸‹jvmåˆ†é…çš„å†…å­˜ç©ºé—´å°±å¥½äº†ï¼Œå¦‚ :</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">set.default.ES_HEAP_SIZE=16384</span><br><span class="line">set.default.ES_MIN_MEM=16384</span><br><span class="line">set.default.ES_MAX_MEM=19660</span><br></pre></td></tr></table></figure>
<blockquote>
<p>ç¬¬ä¸€æ¬¡è¿è¡Œ elaticsearch ä¼šäº§ç”Ÿ data-dir ä¸ log-dir</p>
<p>service log åœ¨ logs/service.log ä¸­ã€‚</p>
<p><a href="https://github.com/elastic/elasticsearch-servicewrapper" target="_blank" rel="external">more_info-service</a></p>
<p>Mac OS X Mountain Lion missing 32-bit Java<br>apple 6 maybe could</p>
</blockquote>
<hr>
<h2 id="6-Http-basic-server-plugin"><a href="#6-Http-basic-server-plugin" class="headerlink" title="6. Http-basic-server-plugin"></a>6. Http-basic-server-plugin</h2><p>ä¸è¦è£¸å¥”ï¼Œç©¿ä¸€å¥—æ¯”åŸºå°¼å§ã€‚</p>
<p>åšä¸€ä¸ªç®€å•çš„HTTPè®¤è¯ï¼Œelasticsearch-http-basic æä¾›äº†é’ˆå¯¹ ES HTTP è¿æ¥ çš„ IPç™½åå•ã€å¯†ç æƒé™ å’Œ  ä¿¡ä»»ä»£ç†åŠŸèƒ½ã€‚</p>
<p>github :<br><a href="https://github.com/Asquera/elasticsearch-http-basic" target="_blank" rel="external">Asquera_http_basic</a></p>
<p><strong>Install-Verify</strong></p>
<p>elasticsearch-http-basicè¿˜ä¸æ”¯æŒESæ ‡å‡†çš„bin/plugin install [github-name]/[repo-name]çš„å®‰è£…æ–¹å¼, æ‰€ä»¥æŒ‰ç…§å¦‚ä¸‹æ–¹å¼å®‰è£…</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">mkdir -p plugins/http-basic; </span><br><span class="line">mv elasticsearch-http-basic-1.5.1.jar plugins/http-basic</span><br></pre></td></tr></table></figure>
<p><strong>Config http-basic param</strong></p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">http.basic.enabled: true</span><br><span class="line">http.basic.user: &quot;admin&quot;</span><br><span class="line">http.basic.password: &quot;admin&quot;</span><br><span class="line">http.basic.ipwhitelist: [&quot;localhost&quot;, &quot;127.0.0.1&quot;]</span><br><span class="line">http.basic.trusted_proxy_chains: []</span><br><span class="line">http.basic.log: true</span><br><span class="line">...</span><br></pre></td></tr></table></figure>
<h2 id="7-Elasticsearch-sql"><a href="#7-Elasticsearch-sql" class="headerlink" title="7. Elasticsearch-sql"></a>7. Elasticsearch-sql</h2><p><img src="/images/elastic/es-sql.jpeg" alt="å›¾ç‰‡æè¿°"></p>
<p><strong>install</strong></p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">./plugin -u https://github.com/NLPchina/elasticsearch-sql/releases/download/1.4.5/elasticsearch-sql-1.4.5.zip --install sql</span><br></pre></td></tr></table></figure>
<p><strong>Verify</strong></p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">open http://node01:9200/_plugin/sql/</span><br></pre></td></tr></table></figure>
<p><strong>./bin/plugin â€“list</strong></p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">âœ  elasticsearch ./bin/plugin --list</span><br><span class="line">Installed plugins:</span><br><span class="line">    - bigdesk</span><br><span class="line">    - head</span><br><span class="line">    - http-basic</span><br><span class="line">    - jdbc</span><br><span class="line">    - kopf</span><br><span class="line">    - license</span><br><span class="line">    - shield</span><br><span class="line">    - sql</span><br></pre></td></tr></table></figure>
<h2 id="8-Elasticsearch-jdbc"><a href="#8-Elasticsearch-jdbc" class="headerlink" title="8. Elasticsearch-jdbc"></a>8. Elasticsearch-jdbc</h2><p>å…³ç³»å‹æ•°æ®åº“çš„åŒæ­¥æ’ä»¶</p>
<p><strong>install</strong></p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">./plugin --install jdbc --url http://xbib.org/repository/org/xbib/elasticsearch/plugin/elasticsearch-river-jdbc/1.5.0.5/elasticsearch-river-jdbc-1.5.0.5-plugin.zip</span><br></pre></td></tr></table></figure>
<p>download and add mysql-driver</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">curl -o mysql-connector-java-5.1.33.zip -L &apos;http://dev.mysql.com/get/Downloads/Connector-J/mysql-connector-java-5.1.33.zip/from/http://cdn.mysql.com/&apos;</span><br><span class="line"></span><br><span class="line">cp mysql-connector-java-5.1.33-bin.jar $ES_HOME/plugins/jdbc/</span><br><span class="line"></span><br><span class="line">chmod 644 $ES_HOME/plugins/jdbc/*</span><br></pre></td></tr></table></figure>
<p>åœæ­¢river</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">curl -XDELETE &apos;localhost:9200/_river/my_jdbc_river/&apos;</span><br></pre></td></tr></table></figure>
<p><strong>Verify</strong></p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">open http://node01:9200/_nodes/node01/plugins?pretty=true</span><br></pre></td></tr></table></figure>
<h2 id="9-Basic-operation"><a href="#9-Basic-operation" class="headerlink" title="9. Basic operation"></a>9. Basic operation</h2><p><strong>æŸ¥çœ‹è¯¥èŠ‚ç‚¹å®‰è£…çš„æ‰€æœ‰æ’ä»¶åˆ—è¡¨</strong></p>
<p><strong><em><a href="http://node01:9200/_nodes/node01/plugins?pretty=true" target="_blank" rel="external">http://node01:9200/_nodes/node01/plugins?pretty=true</a></em></strong></p>
<figure class="highlight json"><table><tr><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="attr">"cluster_name"</span> : <span class="string">"elasticsearch_x"</span>,</span><br><span class="line">  <span class="attr">"nodes"</span> : &#123;</span><br><span class="line">    <span class="attr">"nSitXzd8QvSxQRz3mni3BA"</span> : &#123;</span><br><span class="line">      <span class="attr">"name"</span> : <span class="string">"node01"</span>,</span><br><span class="line">      <span class="attr">"transport_address"</span> : <span class="string">"inet[/192.168.181.35:9300]"</span>,</span><br><span class="line">      <span class="attr">"host"</span> : <span class="string">"unix.local"</span>,</span><br><span class="line">      <span class="attr">"ip"</span> : <span class="string">"192.168.181.35"</span>,</span><br><span class="line">      <span class="attr">"version"</span> : <span class="string">"1.7.5"</span>,</span><br><span class="line">      <span class="attr">"build"</span> : <span class="string">"00f95f4"</span>,</span><br><span class="line">      <span class="attr">"http_address"</span> : <span class="string">"inet[/192.168.181.35:9200]"</span>,</span><br><span class="line">      <span class="attr">"plugins"</span> : [ &#123;</span><br><span class="line">        <span class="attr">"name"</span> : <span class="string">"sql"</span>,</span><br><span class="line">        <span class="attr">"version"</span> : <span class="string">"1.4.5"</span>,</span><br><span class="line">        <span class="attr">"description"</span> : <span class="string">"Use sql to query elasticsearch."</span>,</span><br><span class="line">        <span class="attr">"url"</span> : <span class="string">"/_plugin/sql/"</span>,</span><br><span class="line">        <span class="attr">"jvm"</span> : <span class="literal">true</span>,</span><br><span class="line">        <span class="attr">"site"</span> : <span class="literal">true</span></span><br><span class="line">      &#125;, &#123;</span><br><span class="line">        <span class="attr">"name"</span> : <span class="string">"http-basic-server-plugin"</span>,</span><br><span class="line">        <span class="attr">"version"</span> : <span class="string">"NA"</span>,</span><br><span class="line">        <span class="attr">"description"</span> : <span class="string">"HTTP Basic Server Plugin"</span>,</span><br><span class="line">        <span class="attr">"jvm"</span> : <span class="literal">true</span>,</span><br><span class="line">        <span class="attr">"site"</span> : <span class="literal">false</span></span><br><span class="line">      &#125;, &#123;</span><br><span class="line">        <span class="attr">"name"</span> : <span class="string">"bigdesk"</span>,</span><br><span class="line">        <span class="attr">"version"</span> : <span class="string">"NA"</span>,</span><br><span class="line">        <span class="attr">"description"</span> : <span class="string">"No description found."</span>,</span><br><span class="line">        <span class="attr">"url"</span> : <span class="string">"/_plugin/bigdesk/"</span>,</span><br><span class="line">        <span class="attr">"jvm"</span> : <span class="literal">false</span>,</span><br><span class="line">        <span class="attr">"site"</span> : <span class="literal">true</span></span><br><span class="line">      &#125;, &#123;</span><br><span class="line">        <span class="attr">"name"</span> : <span class="string">"head"</span>,</span><br><span class="line">        <span class="attr">"version"</span> : <span class="string">"NA"</span>,</span><br><span class="line">        <span class="attr">"description"</span> : <span class="string">"No description found."</span>,</span><br><span class="line">        <span class="attr">"url"</span> : <span class="string">"/_plugin/head/"</span>,</span><br><span class="line">        <span class="attr">"jvm"</span> : <span class="literal">false</span>,</span><br><span class="line">        <span class="attr">"site"</span> : <span class="literal">true</span></span><br><span class="line">      &#125;, &#123;</span><br><span class="line">        <span class="attr">"name"</span> : <span class="string">"kopf"</span>,</span><br><span class="line">        <span class="attr">"version"</span> : <span class="string">"1.5.7-SNAPSHOT"</span>,</span><br><span class="line">        <span class="attr">"description"</span> : <span class="string">"kopf - simple web administration tool for ElasticSearch"</span>,</span><br><span class="line">        <span class="attr">"url"</span> : <span class="string">"/_plugin/kopf/"</span>,</span><br><span class="line">        <span class="attr">"jvm"</span> : <span class="literal">false</span>,</span><br><span class="line">        <span class="attr">"site"</span> : <span class="literal">true</span></span><br><span class="line">      &#125; ]</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><strong>XPUT data</strong></p>
<figure class="highlight"><table><tr><td class="code"><pre><span class="line">curl -u admin:admin -XPUT http://node01:9200/megacorp/employee/1 -d '</span><br><span class="line"> &#123;</span><br><span class="line">     "first_name" : "John",</span><br><span class="line">     "last_name" :  "Smith",</span><br><span class="line">     "age" :        25,</span><br><span class="line">     "about" :      "I love to go rock climbing",</span><br><span class="line">     "interests": [ "sports", "music" ]</span><br><span class="line"> &#125;'</span><br></pre></td></tr></table></figure>
<p><strong>XGET data</strong></p>
<figure class="highlight"><table><tr><td class="code"><pre><span class="line">curl -XGET 'localhost:9200/_count?pretty' -d '</span><br><span class="line"> &#123;</span><br><span class="line">     "query": &#123;</span><br><span class="line">         "match_all": &#123;&#125;</span><br><span class="line">     &#125;</span><br><span class="line"> &#125;'</span><br></pre></td></tr></table></figure>
<p>output</p>
<figure class="highlight json"><table><tr><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="attr">"count"</span> : <span class="number">1</span>,</span><br><span class="line">  <span class="attr">"_shards"</span> : &#123;</span><br><span class="line">    <span class="attr">"total"</span> : <span class="number">5</span>,</span><br><span class="line">    <span class="attr">"successful"</span> : <span class="number">5</span>,</span><br><span class="line">    <span class="attr">"failed"</span> : <span class="number">0</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="10-Reference-article"><a href="#10-Reference-article" class="headerlink" title="10. Reference article"></a>10. Reference article</h2><ol>
<li><a href="http://www.cnblogs.com/richaaaard/p/5212044.html" target="_blank" rel="external">csdn-004-Elasticsearchæ’ä»¶çš„ä»‹ç»</a></li>
<li><a href="http://blog.csdn.net/shenfuli/article/details/49094935" target="_blank" rel="external">æ’ä»¶å®‰è£…Headã€Kopfä¸Bigdesk</a></li>
<li><a href="http://www.chepoo.com/elasticsearch-service-install.html" target="_blank" rel="external">chepoo.com/elasticsearch-service</a></li>
<li><a href="https://www.elastic.co/guide/en/elasticsearch/reference/current/setup-service.html" target="_blank" rel="external">elastic.co/guide/</a></li>
<li><a href="https://github.com/NLPchina/elasticsearch-sql" target="_blank" rel="external">NLPchina/elasticsearch-sql</a></li>
<li><a href="https://github.com/elasticfence/elasticsearch-http-user-auth" target="_blank" rel="external">elasticsearch-http-user-auth</a> (è¿™ä¸ªæˆ‘æ²¡æœ‰ä½¿ç”¨)</li>
<li><a href="http://guoze.me/2015/05/28/elasticsearch-http-basic-authentication/" target="_blank" rel="external">å»ºé€ è€…è¯´</a></li>
</ol>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[Elasticsearch * å…¥é—¨]]></title>
      <url>http://iequa.com/2016/05/17/elasticsearch-1-indoor/</url>
      <content type="html"><![CDATA[<p>Elasticsearch æ˜¯ä¸€ä¸ªåŸºäºApache Lucene(TM)çš„å¼€æºæœç´¢å¼•æ“ã€<code>å®æ—¶åˆ†å¸ƒå¼æœç´¢</code>å’Œ<code>åˆ†æå¼•æ“</code>ã€‚</p>
<a id="more"></a>
<blockquote>
<p>Lucene æ˜¯ æˆç†Ÿçš„<code>å…¨æ–‡ç´¢å¼•ä¸ä¿¡æ¯æ£€ç´¢(IR)åº“</code>ï¼Œé‡‡ç”¨Javaå®ç°ã€‚ä¿¡æ¯æ£€ç´¢å¼æŒ‡æ–‡æ¡£æœç´¢ã€æ–‡æ¡£å†…ä¿¡æ¯æœç´¢æˆ–è€…æ–‡æ¡£ç›¸å…³çš„å…ƒæ•°æ®æœç´¢ç­‰æ“ä½œã€‚ã€‚</p>
<p>Solræ˜¯ä¸€ä¸ªåŸºäºLucene <code>javaåº“çš„ä¼ä¸šçº§æœç´¢æœåŠ¡å™¨</code>ï¼ŒåŒ…å«XML/HTTPï¼ŒJSON APIï¼Œé«˜äº®æŸ¥è¯¢ç»“æœï¼Œç¼“å­˜ï¼Œå¤åˆ¶ï¼Œè¿˜æœ‰ä¸€ä¸ªWEBç®¡ç†ç•Œé¢ã€‚Solrè¿è¡Œåœ¨Servletå®¹å™¨ä¸­</p>
<p>2010 å¹´ Elasticsearch å‡ºç°å…¬å¼€ç‰ˆæœ¬</p>
</blockquote>
<p><strong>Elasticsearch æ¶‰åŠçš„æŠ€æœ¯</strong></p>
<ul>
<li>å…¨æ–‡æœç´¢</li>
<li>åˆ†æç³»ç»Ÿ</li>
<li>åˆ†å¸ƒå¼æ•°æ®åº“</li>
</ul>
<p><strong>è°åœ¨ä½¿ç”¨ Elasticsearch?</strong></p>
<ul>
<li><a href="https://zh.wikipedia.org/wiki/Wikipedia:%E9%A6%96%E9%A1%B5" target="_blank" rel="external">ç»´åŸºç™¾ç§‘</a></li>
<li><a href="http://stackoverflow.com/" target="_blank" rel="external">StackOverflow</a></li>
<li><a href="https://github.com/libean" target="_blank" rel="external">Github</a><br>â€¦</li>
</ul>
<h2 id="1-æ¦‚å¿µ"><a href="#1-æ¦‚å¿µ" class="headerlink" title="1. æ¦‚å¿µ"></a>1. æ¦‚å¿µ</h2><p>Elasticsearch æ˜¯ å¼€æºæœç´¢å¼•æ“.</p>
<p><strong>Elasticsearch ä¸ä»…æ˜¯å…¨æ–‡æœç´¢ï¼Œè¿˜æ˜¯ï¼š</strong></p>
<ul>
<li>åˆ†å¸ƒå¼ å®æ—¶æ–‡ä»¶å­˜å‚¨ï¼Œæ¯ä¸ªå­—æ®µéƒ½è¢«ç´¢å¼•å¹¶å¯è¢«æœç´¢</li>
<li>åˆ†å¸ƒå¼ å®æ—¶åˆ†ææœç´¢å¼•æ“</li>
<li>å¯æ‰©å±•æœåŠ¡å™¨ï¼Œå¤„ç†<strong>PB</strong>çº§ç»“æ„åŒ–æˆ–éç»“æ„åŒ–æ•°æ®</li>
</ul>
<p>è¿™äº›åŠŸèƒ½è¢«é›†æˆåˆ°ä¸€ä¸ªæœåŠ¡é‡Œé¢ï¼Œåº”ç”¨å¯é€šè¿‡ <code>RESTful API</code>ã€å„ç§è¯­è¨€çš„<code>å®¢æˆ·ç«¯</code>ã€<code>å‘½ä»¤è¡Œ</code> ä¸ä¹‹äº¤äº’ã€‚</p>
<p>Elasticsearchä¹Ÿä½¿ç”¨Javaå¼€å‘å¹¶ä½¿ç”¨Luceneä½œä¸ºå…¶æ ¸å¿ƒæ¥å®ç°æ‰€æœ‰ç´¢å¼•å’Œæœç´¢çš„åŠŸèƒ½ï¼Œä½†æ˜¯å®ƒçš„ç›®çš„æ˜¯é€šè¿‡ç®€å•çš„<code>RESTful API</code>æ¥éšè—Luceneçš„å¤æ‚æ€§ï¼Œä»è€Œè®©å…¨æ–‡æœç´¢å˜å¾—ç®€å•ã€‚</p>
<p><a href="http://es.xiaoleilu.com/010_Intro/10_Installing_ES.html" target="_blank" rel="external">more_info_install_elaticsearch</a></p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">[deploy@node196 config]$ ll</span><br><span class="line">total 20</span><br><span class="line">-rw-rw-r--  1 deploy deploy 13915 May 10 10:02 elasticsearch.yml</span><br><span class="line">-rw-rw-r--. 1 deploy deploy  2054 Jul 16  2015 logging.yml</span><br><span class="line">[deploy@node196 config]$ pwd</span><br><span class="line">/home/deploy/elasticsearch-1.7.1/config</span><br></pre></td></tr></table></figure>
<p><strong>ç¼–è¾‘ elasticsearch.yml</strong> </p>
<p>æ›¿ä»£cluster.nameçš„é»˜è®¤å€¼ï¼Œè¿™æ ·å¯ä»¥é˜²æ­¢ä¸€ä¸ªæ–°å¯åŠ¨çš„èŠ‚ç‚¹åŠ å…¥åˆ°ç›¸åŒç½‘ç»œä¸­çš„å¦ä¸€ä¸ªåŒåçš„é›†ç¾¤ä¸­ã€‚</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">cluster.name: elasticsearch_your-company-name</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">#################################### Node #####################################</span><br><span class="line"></span><br><span class="line"># Node names are generated dynamically on startup, so you&apos;re relieved</span><br><span class="line"># from configuring them manually. You can tie this node to a specific name:</span><br><span class="line">#</span><br><span class="line">node.name: &quot;node196&quot;</span><br></pre></td></tr></table></figure>
<h2 id="2-API"><a href="#2-API" class="headerlink" title="2. API"></a>2. API</h2><h3 id="2-1-Java-API"><a href="#2-1-Java-API" class="headerlink" title="2.1 Java API"></a>2.1 Java API</h3><p><strong>èŠ‚ç‚¹å®¢æˆ·ç«¯(node client)</strong></p>
<p>èŠ‚ç‚¹å®¢æˆ·ç«¯ä»¥æ— æ•°æ®èŠ‚ç‚¹(none data node)èº«ä»½åŠ å…¥é›†ç¾¤ï¼Œæ¢è¨€ä¹‹ï¼Œå®ƒè‡ªå·±ä¸å­˜å‚¨ä»»ä½•æ•°æ®ï¼Œä½†æ˜¯å®ƒçŸ¥é“æ•°æ®åœ¨é›†ç¾¤ä¸­çš„å…·ä½“ä½ç½®ï¼Œå¹¶ä¸”èƒ½ç›´æ¥è½¬å‘è¯·æ±‚åˆ°å¯¹åº”çš„èŠ‚ç‚¹ä¸Šã€‚</p>
<p><strong>ä¼ è¾“å®¢æˆ·ç«¯(Transport client)</strong></p>
<p>æ›´è½»é‡çš„ä¼ è¾“å®¢æˆ·ç«¯ èƒ½å‘é€è¯·æ±‚åˆ°è¿œç¨‹é›†ç¾¤ã€‚å®ƒè‡ªå·±ä¸åŠ å…¥é›†ç¾¤ï¼Œåªæ˜¯ç®€å•è½¬å‘è¯·æ±‚ç»™é›†ç¾¤ä¸­çš„èŠ‚ç‚¹ã€‚</p>
<blockquote>
<p>ä¸¤ä¸ªJavaå®¢æˆ·ç«¯éƒ½é€šè¿‡ 9300ç«¯å£ ä¸ é›†ç¾¤äº¤äº’ï¼Œä½¿ç”¨ Elasticsearchä¼ è¾“åè®®(<code>Elasticsearch Transport Protocol</code>)ã€‚é›†ç¾¤ä¸­çš„èŠ‚ç‚¹ä¹‹é—´ä¹Ÿé€šè¿‡ 9300 port è¿›è¡Œé€šä¿¡ã€‚</p>
</blockquote>
<p><a href="https://www.elastic.co/guide/index.html" target="_blank" rel="external">more_info_Java-API</a></p>
<h3 id="2-2-RESTful-API"><a href="#2-2-RESTful-API" class="headerlink" title="2.2 RESTful API"></a>2.2 RESTful API</h3><ul>
<li>åŸºäº HTTP åè®®ï¼Œä»¥ JSON ä¸ºæ•°æ®äº¤äº’æ ¼å¼çš„ RESTful API</li>
</ul>
<blockquote>
<p>å‘ Elasticsearch å‘å‡ºçš„è¯·æ±‚çš„ç»„æˆéƒ¨åˆ†ä¸å…¶å®ƒæ™®é€šçš„HTTPè¯·æ±‚æ˜¯ä¸€æ ·çš„ï¼š<br>curl -X<verb> â€˜<protocol>://<host>:<port>/<path></path>?<query_string>â€˜ -d â€˜<body>â€˜</body></query_string></port></host></protocol></verb></p>
<p>VERB HTTPæ–¹æ³•ï¼šGET, POST, PUT, HEAD, DELETE<br>â€¦</p>
</blockquote>
<p>example : æŸ¥è¯¢é›†ç¾¤ä¸­ æ–‡æ¡£æ•°é‡</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">[deploy@node196 config]$ curl -u username:passwd -XGET &apos;localhost:9200/_count?pretty&apos; -d &apos;</span><br><span class="line">&gt; &#123;</span><br><span class="line">&gt;     &quot;query&quot;: &#123;</span><br><span class="line">&gt;         &quot;match_all&quot;: &#123;&#125;</span><br><span class="line">&gt;     &#125;</span><br><span class="line">&gt; &#125;&apos;</span><br><span class="line">&#123;</span><br><span class="line">  &quot;count&quot; : 100001234,</span><br><span class="line">  &quot;_shards&quot; : &#123;</span><br><span class="line">    &quot;total&quot; : 376,</span><br><span class="line">    &quot;successful&quot; : 376,</span><br><span class="line">    &quot;failed&quot; : 0</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">curl -u name:pass -X DELETE http://ip:9200/your_index</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">GET /coupon_seeker/coupon_seeker/_search?q=source:dianping</span><br><span class="line"></span><br><span class="line">curl -u name:pass -XGET &apos;http://192.168.181.xxx:9200/coupon_seeker/coupon_seeker/_search?q=source:dianping</span><br></pre></td></tr></table></figure>
<p>æœ‰æ¡ä»¶çš„ç²¾ç¡®åŒ¹é…åˆ é™¤å‘½ä»¤</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">curl -u name:pass -XDELETE &apos;http://192.168.181.xxx:9200/coupon_seeker/coupon_seeker/_query?pretty=true&apos; -d &apos;&#123;&quot;query&quot;:&#123;&quot;match&quot;:&#123;source:&quot;dianping&quot;&#125;&#125;&#125;&apos;</span><br></pre></td></tr></table></figure>
<h2 id="3-æ–‡æ¡£"><a href="#3-æ–‡æ¡£" class="headerlink" title="3. æ–‡æ¡£"></a>3. æ–‡æ¡£</h2><p><strong>é¢å‘æ–‡æ¡£</strong></p>
<p>Elasticsearch is document orientedï¼Œè¿™æ„å‘³ç€å®ƒå¯ä»¥å­˜å‚¨æ•´ä¸ª <code>object</code> æˆ– <code>document</code>ã€‚</p>
<p>Elasticsearch è¿˜å¯ä»¥ ç´¢å¼•(index) æ¯ä¸ªæ–‡æ¡£çš„å†…å®¹ä½¿ä¹‹å¯ä»¥è¢« <strong>æœç´¢</strong>ã€‚</p>
<p>å¯å¯¹ <code>document</code> ï¼ˆè€Œéæˆè¡Œæˆåˆ—çš„æ•°æ®ï¼‰è¿›è¡Œ <code>index</code>ã€<code>æœç´¢</code>ã€<code>æ’åº</code>ã€<code>è¿‡æ»¤</code>ã€‚</p>
<p>è¿™ç§ç†è§£æ•°æ®çš„æ–¹å¼ä¸ä»¥å¾€å®Œå…¨ä¸åŒï¼Œè¿™ä¹Ÿæ˜¯ Elasticsearch èƒ½å¤Ÿæ‰§è¡Œå¤æ‚çš„å…¨æ–‡æœç´¢çš„åŸå› ä¹‹ä¸€ã€‚</p>
<p><strong>JSON</strong> (JavaScript Object Notation)ï¼Œæ–‡æ¡£åºåˆ—åŒ–æ ¼å¼</p>
<figure class="highlight json"><table><tr><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    <span class="attr">"email"</span>:      <span class="string">"john@smith.com"</span>,</span><br><span class="line">    <span class="attr">"first_name"</span>: <span class="string">"John"</span>,</span><br><span class="line">    <span class="attr">"last_name"</span>:  <span class="string">"Smith"</span>,</span><br><span class="line">    <span class="attr">"info"</span>: &#123;</span><br><span class="line">        <span class="attr">"bio"</span>:         <span class="string">"Eco-warrior and defender of the weak"</span>,</span><br><span class="line">        <span class="attr">"age"</span>:         <span class="number">25</span>,</span><br><span class="line">        <span class="attr">"interests"</span>: [ <span class="string">"dolphins"</span>, <span class="string">"whales"</span> ]</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="attr">"join_date"</span>: <span class="string">"2014/05/01"</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>å¦‚ä¸‹ userå¯¹è±¡å¾ˆå¤æ‚ï¼Œä½†å®ƒçš„ç»“æ„å’Œå¯¹è±¡çš„å«ä¹‰å·²ç»è¢«å®Œæ•´çš„ä½“ç°åœ¨JSONä¸­äº†ï¼Œåœ¨Elasticsearchä¸­å°†å¯¹è±¡è½¬åŒ–ä¸º JSON å¹¶åš indexç´¢å¼• è¦æ¯”åœ¨è¡¨ç»“æ„ä¸­åšç›¸åŒçš„äº‹æƒ…ç®€å•çš„å¤šã€‚</p>
<h2 id="5-ç´¢å¼•"><a href="#5-ç´¢å¼•" class="headerlink" title="5. ç´¢å¼•"></a>5. ç´¢å¼•</h2><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">[hdfs@node196 data_analysis]$ curl -u username:passwd -XPUT http://node190:9200/megacorp/employee/1 -d &apos;</span><br><span class="line">&gt; &#123;</span><br><span class="line">&gt;     &quot;first_name&quot; : &quot;John&quot;,</span><br><span class="line">&gt;     &quot;last_name&quot; :  &quot;Smith&quot;,</span><br><span class="line">&gt;     &quot;age&quot; :        25,</span><br><span class="line">&gt;     &quot;about&quot; :      &quot;I love to go rock climbing&quot;,</span><br><span class="line">&gt;     &quot;interests&quot;: [ &quot;sports&quot;, &quot;music&quot; ]</span><br><span class="line">&gt; &#125;&apos;</span><br><span class="line">&#123;&quot;_index&quot;:&quot;megacorp&quot;,&quot;_type&quot;:&quot;employee&quot;,&quot;_id&quot;:&quot;1&quot;,&quot;_version&quot;:1,&quot;created&quot;:true&#125;[hdfs@node196 data_analysis]$</span><br></pre></td></tr></table></figure>
<ul>
<li>indexing</li>
<li>search</li>
<li>aggregations  /ËŒÃ¦É¡rÉªËˆÉ¡eÉªÊƒÉ™n/</li>
</ul>
<p><strong>Elasticsearchèƒ½åšçš„äº‹</strong></p>
<p>åœºæ™¯: å‡è®¾æˆ‘ä»¬åˆšå¥½åœ¨Megacorpå·¥ä½œï¼Œè¿™æ—¶äººåŠ›èµ„æºéƒ¨é—¨å‡ºäºæŸç§ç›®çš„éœ€è¦è®©æˆ‘ä»¬åˆ›å»ºä¸€ä¸ªå‘˜å·¥ç›®å½•ï¼Œè¿™ä¸ªç›®å½•ç”¨äºä¿ƒè¿›äººæ–‡å…³æ€€å’Œç”¨äºå®æ—¶ååŒå·¥ä½œï¼Œæ‰€ä»¥å®ƒæœ‰ä»¥ä¸‹ä¸åŒçš„éœ€æ±‚ï¼š</p>
<ul>
<li>æ•°æ®èƒ½å¤ŸåŒ…å«å¤šä¸ªå€¼çš„æ ‡ç­¾ã€æ•°å­—å’Œçº¯æ–‡æœ¬ã€‚</li>
<li>æ£€ç´¢ä»»ä½•å‘˜å·¥çš„æ‰€æœ‰ä¿¡æ¯ã€‚</li>
<li>æ”¯æŒç»“æ„åŒ–æœç´¢ï¼Œä¾‹å¦‚æŸ¥æ‰¾30å²ä»¥ä¸Šçš„å‘˜å·¥ã€‚</li>
<li>æ”¯æŒç®€å•çš„å…¨æ–‡æœç´¢å’Œæ›´å¤æ‚çš„çŸ­è¯­(phrase)æœç´¢</li>
<li>é«˜äº®æœç´¢ç»“æœä¸­çš„å…³é”®å­—</li>
<li>èƒ½å¤Ÿåˆ©ç”¨å›¾è¡¨ç®¡ç†åˆ†æè¿™äº›æ•°æ®</li>
</ul>
<p><strong>ç´¢å¼•å‘˜å·¥æ–‡æ¡£</strong></p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">Relational DB -&gt; Databases -&gt; Tables -&gt; Rows -&gt; Columns</span><br><span class="line">Elasticsearch -&gt; Indices   -&gt; Types  -&gt; Documents -&gt; Fields</span><br></pre></td></tr></table></figure>
<table>
<thead>
<tr>
<th>Elasticsearch</th>
<th>Relational DB</th>
</tr>
</thead>
<tbody>
<tr>
<td>Indices</td>
<td>Databases</td>
</tr>
<tr>
<td>Types</td>
<td>Tables</td>
</tr>
<tr>
<td>Documents</td>
<td>Rows</td>
</tr>
<tr>
<td>Fields</td>
<td>Columns</td>
</tr>
</tbody>
</table>
<p><strong>Elasticsearch</strong></p>
<blockquote>
<p>ç´¢å¼•ã€å«ä¹‰çš„åŒºåˆ†</p>
<p>  <strong>index_num.</strong> : index (æ•°æ®åº“)ï¼Œå®ƒæ˜¯ç›¸å…³æ–‡æ¡£å­˜å‚¨çš„åœ°æ–¹ï¼Œ</p>
<p>  <strong>index_verb.</strong> ã€Œç´¢å¼•ä¸€ä¸ªæ–‡æ¡£ã€è¡¨ç¤ºæŠŠä¸€ä¸ªæ–‡æ¡£å­˜å‚¨åˆ°ç´¢å¼•ï¼ˆåè¯ï¼‰é‡Œï¼Œä»¥ä¾¿å®ƒå¯ä»¥è¢«æ£€ç´¢æˆ–è€…æŸ¥è¯¢ã€‚è¿™å¾ˆåƒSQL ä¸­çš„ INSERTå…³é”®å­—ï¼Œå·®åˆ«æ˜¯ï¼Œå¦‚æœæ–‡æ¡£å·²ç»å­˜åœ¨ï¼Œæ–°çš„æ–‡æ¡£å°†è¦†ç›–æ—§çš„æ–‡æ¡£ã€‚</p>
<p><strong>å€’æ’ç´¢å¼•</strong> : ä¼ ç»Ÿæ•°æ®åº“ä¸ºç‰¹å®šåˆ—å¢åŠ ä¸€ä¸ªç´¢å¼•ï¼Œä¾‹å¦‚ B-Treeç´¢å¼• æ¥åŠ é€Ÿæ£€ç´¢ã€‚Elasticsearchå’ŒLuceneä½¿ç”¨å€’æ’ç´¢å¼•(inverted index)çš„æ•°æ®ç»“æ„æ¥è¾¾åˆ°ç›¸åŒç›®çš„ã€‚</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">PUT /megacorp/employee/1</span><br><span class="line">&#123;</span><br><span class="line">    &quot;first_name&quot; : &quot;John&quot;,</span><br><span class="line">    &quot;last_name&quot; :  &quot;Smith&quot;,</span><br><span class="line">    &quot;age&quot; :        25,</span><br><span class="line">    &quot;about&quot; :      &quot;I love to go rock climbing&quot;,</span><br><span class="line">    &quot;interests&quot;: [ &quot;sports&quot;, &quot;music&quot; ]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="4-1-æ£€ç´¢æ–‡æ¡£"><a href="#4-1-æ£€ç´¢æ–‡æ¡£" class="headerlink" title="4.1 æ£€ç´¢æ–‡æ¡£"></a>4.1 æ£€ç´¢æ–‡æ¡£</h3><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">GET /megacorp/employee/1</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  &quot;_index&quot; :   &quot;megacorp&quot;,</span><br><span class="line">  &quot;_type&quot; :    &quot;employee&quot;,</span><br><span class="line">  &quot;_id&quot; :      &quot;1&quot;,</span><br><span class="line">  &quot;_version&quot; : 1,</span><br><span class="line">  &quot;found&quot; :    true,</span><br><span class="line">  &quot;_source&quot; :  &#123;</span><br><span class="line">      &quot;first_name&quot; :  &quot;John&quot;,</span><br><span class="line">      &quot;last_name&quot; :   &quot;Smith&quot;,</span><br><span class="line">      &quot;age&quot; :         25,</span><br><span class="line">      &quot;about&quot; :       &quot;I love to go rock climbing&quot;,</span><br><span class="line">      &quot;interests&quot;:  [ &quot;sports&quot;, &quot;music&quot; ]</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="4-2-ç®€å•æœç´¢"><a href="#4-2-ç®€å•æœç´¢" class="headerlink" title="4.2 ç®€å•æœç´¢"></a>4.2 ç®€å•æœç´¢</h3><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">GET /megacorp/employee/_search</span><br></pre></td></tr></table></figure>
<p>æŸ¥è¯¢ last_name ä¸º Smith çš„è®°å½•</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">GET /megacorp/employee/_search?q=last_name:Smith</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&#123;</span><br><span class="line">   ...</span><br><span class="line">   &quot;hits&quot;: &#123;</span><br><span class="line">      &quot;total&quot;:      2,</span><br><span class="line">      &quot;max_score&quot;:  0.30685282,</span><br><span class="line">      &quot;hits&quot;: [</span><br><span class="line">         &#123;</span><br><span class="line">            ...</span><br><span class="line">            &quot;_source&quot;: &#123;</span><br><span class="line">               &quot;first_name&quot;:  &quot;John&quot;,</span><br><span class="line">               &quot;last_name&quot;:   &quot;Smith&quot;,</span><br><span class="line">               &quot;age&quot;:         25,</span><br><span class="line">               &quot;about&quot;:       &quot;I love to go rock climbing&quot;,</span><br><span class="line">               &quot;interests&quot;: [ &quot;sports&quot;, &quot;music&quot; ]</span><br><span class="line">            &#125;</span><br><span class="line">         &#125;,</span><br><span class="line">         &#123;</span><br><span class="line">            ...</span><br><span class="line">            &quot;_source&quot;: &#123;</span><br><span class="line">               &quot;first_name&quot;:  &quot;Jane&quot;,</span><br><span class="line">               &quot;last_name&quot;:   &quot;Smith&quot;,</span><br><span class="line">               &quot;age&quot;:         32,</span><br><span class="line">               &quot;about&quot;:       &quot;I like to collect rock albums&quot;,</span><br><span class="line">               &quot;interests&quot;: [ &quot;music&quot; ]</span><br><span class="line">            &#125;</span><br><span class="line">         &#125;</span><br><span class="line">      ]</span><br><span class="line">   &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="4-3-ä½¿ç”¨DSLè¯­å¥æŸ¥è¯¢"><a href="#4-3-ä½¿ç”¨DSLè¯­å¥æŸ¥è¯¢" class="headerlink" title="4.3 ä½¿ç”¨DSLè¯­å¥æŸ¥è¯¢"></a>4.3 ä½¿ç”¨DSLè¯­å¥æŸ¥è¯¢</h3><p> DSL(Domain Specific Languageç‰¹å®šé¢†åŸŸè¯­è¨€) </p>
<p><strong>æŸ¥è¯¢å­—ç¬¦ä¸²ç­‰ä»·äº</strong>  q=last_name:Smith <strong>DSLæŸ¥è¯¢ : </strong></p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">GET /megacorp/employee/_search</span><br><span class="line">&#123;</span><br><span class="line">    &quot;query&quot; : &#123;</span><br><span class="line">        &quot;match&quot; : &#123;</span><br><span class="line">            &quot;last_name&quot; : &quot;Smith&quot;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="4-4-æ›´å¤æ‚çš„æœç´¢"><a href="#4-4-æ›´å¤æ‚çš„æœç´¢" class="headerlink" title="4.4 æ›´å¤æ‚çš„æœç´¢"></a>4.4 æ›´å¤æ‚çš„æœç´¢</h3><p><strong>filter range</strong></p>
<p>GET /megacorp/employee/_search<br>{<br>    â€œqueryâ€ : {<br>        â€œfilteredâ€ : {<br>            â€œfilterâ€ : {<br>                â€œrangeâ€ : {<br>                    â€œageâ€ : { â€œgtâ€ : 30 } <1><br>                }<br>            },<br>            â€œqueryâ€ : {<br>                â€œmatchâ€ : {<br>                    â€œlast_nameâ€ : â€œsmithâ€ <2><br>                }<br>            }<br>        }<br>    }<br>}</2></1></p>
<h3 id="4-5-å…¨æ–‡æœç´¢"><a href="#4-5-å…¨æ–‡æœç´¢" class="headerlink" title="4.5 å…¨æ–‡æœç´¢"></a>4.5 å…¨æ–‡æœç´¢</h3><p>ä¸€ç§ä¼ ç»Ÿæ•°æ®åº“éš¾ä»¥å®ç°çš„åŠŸèƒ½</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">GET /megacorp/employee/_search</span><br><span class="line">&#123;</span><br><span class="line">    &quot;query&quot; : &#123;</span><br><span class="line">        &quot;match&quot; : &#123;</span><br><span class="line">            &quot;about&quot; : &quot;rock climbing&quot;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>Result :</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&#123;</span><br><span class="line">   ...</span><br><span class="line">   &quot;hits&quot;: &#123;</span><br><span class="line">      &quot;total&quot;:      2,</span><br><span class="line">      &quot;max_score&quot;:  0.16273327,</span><br><span class="line">      &quot;hits&quot;: [</span><br><span class="line">         &#123;</span><br><span class="line">            ...</span><br><span class="line">            &quot;_score&quot;:         0.16273327, &lt;1&gt;</span><br><span class="line">            &quot;_source&quot;: &#123;</span><br><span class="line">               &quot;first_name&quot;:  &quot;John&quot;,</span><br><span class="line">               &quot;last_name&quot;:   &quot;Smith&quot;,</span><br><span class="line">               &quot;age&quot;:         25,</span><br><span class="line">               &quot;about&quot;:       &quot;I love to go rock climbing&quot;,</span><br><span class="line">               &quot;interests&quot;: [ &quot;sports&quot;, &quot;music&quot; ]</span><br><span class="line">            &#125;</span><br><span class="line">         &#125;,</span><br><span class="line">         &#123;</span><br><span class="line">            ...</span><br><span class="line">            &quot;_score&quot;:         0.016878016, &lt;2&gt;</span><br><span class="line">            &quot;_source&quot;: &#123;</span><br><span class="line">               &quot;first_name&quot;:  &quot;Jane&quot;,</span><br><span class="line">               &quot;last_name&quot;:   &quot;Smith&quot;,</span><br><span class="line">               &quot;age&quot;:         32,</span><br><span class="line">               &quot;about&quot;:       &quot;I like to collect rock albums&quot;,</span><br><span class="line">               &quot;interests&quot;: [ &quot;music&quot; ]</span><br><span class="line">             &#125;</span><br><span class="line">         &#125;</span><br><span class="line">      ]</span><br><span class="line">   &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="4-6-çŸ­è¯­æœç´¢-â€“-phrases"><a href="#4-6-çŸ­è¯­æœç´¢-â€“-phrases" class="headerlink" title="4.6 çŸ­è¯­æœç´¢ â€“ phrases"></a>4.6 çŸ­è¯­æœç´¢ â€“ phrases</h3><p>æƒ³è¦ç¡®åˆ‡çš„åŒ¹é…è‹¥å¹²ä¸ªå•è¯æˆ–è€…çŸ­è¯­(phrases), ä¾‹å¦‚  æˆ‘ä»¬æƒ³è¦æŸ¥è¯¢åŒæ—¶åŒ…å«â€rockâ€å’Œâ€climbingâ€ï¼ˆå¹¶ä¸”æ˜¯ç›¸é‚»çš„ï¼‰çš„å‘˜å·¥è®°å½•ã€‚</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">GET /megacorp/employee/_search</span><br><span class="line">&#123;</span><br><span class="line">    &quot;query&quot; : &#123;</span><br><span class="line">        &quot;match_phrase&quot; : &#123;</span><br><span class="line">            &quot;about&quot; : &quot;rock climbing&quot;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><strong><em>å¢åŠ é«˜äº®</em></strong></p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">GET /megacorp/employee/_search</span><br><span class="line">&#123;</span><br><span class="line">    &quot;query&quot; : &#123;</span><br><span class="line">        &quot;match_phrase&quot; : &#123;</span><br><span class="line">            &quot;about&quot; : &quot;rock climbing&quot;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    &quot;highlight&quot;: &#123;</span><br><span class="line">        &quot;fields&quot; : &#123;</span><br><span class="line">            &quot;about&quot; : &#123;&#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="5-aggregations"><a href="#5-aggregations" class="headerlink" title="5. aggregations"></a>5. aggregations</h2><p>èšåˆç›¸å½“äº group by</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">GET /megacorp/employee/_search</span><br><span class="line">&#123;</span><br><span class="line">  &quot;query&quot;: &#123;</span><br><span class="line">    &quot;match&quot;: &#123;</span><br><span class="line">      &quot;last_name&quot;: &quot;smith&quot;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  &quot;aggs&quot;: &#123;</span><br><span class="line">    &quot;all_interests&quot;: &#123;</span><br><span class="line">      &quot;terms&quot;: &#123;</span><br><span class="line">        &quot;field&quot;: &quot;interests&quot;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">...</span><br><span class="line">&quot;all_interests&quot;: &#123;</span><br><span class="line">   &quot;buckets&quot;: [</span><br><span class="line">      &#123;</span><br><span class="line">         &quot;key&quot;: &quot;music&quot;,</span><br><span class="line">         &quot;doc_count&quot;: 2</span><br><span class="line">      &#125;,</span><br><span class="line">      &#123;</span><br><span class="line">         &quot;key&quot;: &quot;sports&quot;,</span><br><span class="line">         &quot;doc_count&quot;: 1</span><br><span class="line">      &#125;</span><br><span class="line">   ]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>èšåˆä¹Ÿå…è®¸åˆ†çº§æ±‡æ€»ã€‚ä¾‹å¦‚ï¼Œè®©æˆ‘ä»¬ç»Ÿè®¡æ¯ç§å…´è¶£ä¸‹èŒå‘˜çš„å¹³å‡å¹´é¾„</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">GET /megacorp/employee/_search</span><br><span class="line">&#123;</span><br><span class="line">    &quot;aggs&quot; : &#123;</span><br><span class="line">        &quot;all_interests&quot; : &#123;</span><br><span class="line">            &quot;terms&quot; : &#123; &quot;field&quot; : &quot;interests&quot; &#125;,</span><br><span class="line">            &quot;aggs&quot; : &#123;</span><br><span class="line">                &quot;avg_age&quot; : &#123;</span><br><span class="line">                    &quot;avg&quot; : &#123; &quot;field&quot; : &quot;age&quot; &#125;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><strong>æ•™ç¨‹å°ç»“</strong></p>
<p> ä¸ºäº†ä¿æŒç®€çŸ­ï¼Œè¿˜æœ‰å¾ˆå¤šçš„ç‰¹æ€§æœªæåŠâ€”â€”åƒ æ¨èã€å®šä½ã€æ¸—é€ã€æ¨¡ç³Š ä»¥åŠ éƒ¨åˆ†åŒ¹é…ç­‰ã€‚ä½†è¿™ä¹Ÿçªå‡ºäº†æ„å»ºé«˜çº§æœç´¢åŠŸèƒ½æ˜¯å¤šä¹ˆçš„å®¹æ˜“ã€‚æ— éœ€é…ç½®ï¼Œåªéœ€è¦æ·»åŠ æ•°æ®ç„¶åå¼€å§‹æœç´¢ï¼</p>
<h2 id="6-åˆ†å¸ƒå¼çš„ç‰¹æ€§"><a href="#6-åˆ†å¸ƒå¼çš„ç‰¹æ€§" class="headerlink" title="6. åˆ†å¸ƒå¼çš„ç‰¹æ€§"></a>6. åˆ†å¸ƒå¼çš„ç‰¹æ€§</h2><p>Elasticsearch ä½ ä¸éœ€è¦çŸ¥é“ä»»ä½•å…³äºåˆ†å¸ƒå¼ç³»ç»Ÿã€åˆ†ç‰‡ã€é›†ç¾¤å‘ç°æˆ–è€…å…¶ä»–å¤§é‡çš„åˆ†å¸ƒå¼æ¦‚å¿µã€‚æ‰€æœ‰çš„æ•™ç¨‹ä½ å³å¯ä»¥è¿è¡Œåœ¨ä½ çš„ç¬”è®°æœ¬ä¸Šï¼Œä¹Ÿå¯ä»¥è¿è¡Œåœ¨æ‹¥æœ‰100ä¸ªèŠ‚ç‚¹çš„é›†ç¾¤ä¸Šï¼Œå…¶å·¥ä½œæ–¹å¼æ˜¯ä¸€æ ·çš„ã€‚</p>
<p>Elasticsearch è‡´åŠ›äºéšè—åˆ†å¸ƒå¼ç³»ç»Ÿçš„å¤æ‚æ€§ã€‚ä»¥ä¸‹è¿™äº›æ“ä½œéƒ½æ˜¯åœ¨åº•å±‚è‡ªåŠ¨å®Œæˆçš„ï¼š</p>
<ul>
<li>å°†ä½ çš„æ–‡æ¡£åˆ†åŒºåˆ°ä¸åŒçš„å®¹å™¨æˆ–è€…åˆ†ç‰‡(shards)ä¸­ï¼Œå®ƒä»¬å¯å­˜äºä¸€æˆ–å¤šä¸ªèŠ‚ç‚¹ä¸­ã€‚</li>
<li>å°†åˆ†ç‰‡å‡åŒ€çš„åˆ†é…åˆ°å„ä¸ªèŠ‚ç‚¹ï¼Œå¯¹ç´¢å¼•å’Œæœç´¢åšè´Ÿè½½å‡è¡¡ã€‚</li>
<li>å†—ä½™æ¯ä¸€ä¸ªåˆ†ç‰‡ï¼Œé˜²æ­¢ç¡¬ä»¶æ•…éšœé€ æˆçš„æ•°æ®ä¸¢å¤±ã€‚</li>
<li>å°†é›†ç¾¤ä¸­ä»»æ„ä¸€ä¸ªèŠ‚ç‚¹ä¸Šçš„è¯·æ±‚è·¯ç”±åˆ°ç›¸åº”æ•°æ®æ‰€åœ¨çš„èŠ‚ç‚¹ã€‚</li>
<li>æ— è®ºæ˜¯å¢åŠ èŠ‚ç‚¹ï¼Œè¿˜æ˜¯ç§»é™¤èŠ‚ç‚¹ï¼Œåˆ†ç‰‡éƒ½å¯ä»¥åšåˆ°æ— ç¼çš„æ‰©å±•å’Œè¿ç§»ã€‚</li>
</ul>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[Distance formula of point to plane]]></title>
      <url>http://iequa.com/2016/05/17/ml-math-distance-formula-of-point-to-plain/</url>
      <content type="html"><![CDATA[<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js"],
    jax: ["input/TeX"],
    tex2jax: {
      inlineMath: [ ['$','$'], ['\\(','\\)'] ],
      displayMath: [ ['$$','$$'], ['\[','\]'] ],
      processEscapes: true
    }
  });
</script>
<script type="text/javascript" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS_HTML,http://myserver.com/MathJax/config/local/local.js">
</script>

<p>å¹³é¢çš„ä¸€èˆ¬å¼æ–¹ç¨‹, å‘é‡çš„æ¨¡ï¼ˆé•¿åº¦ï¼‰, å‘é‡çš„æ•°é‡ç§¯, ç‚¹åˆ°å¹³é¢çš„è·ç¦»</p>
<a id="more"></a>
<p><a href="https://zh.wikipedia.org/wiki/%E5%90%91%E9%87%8F" target="_blank" rel="external">ç»´åŸºç™¾ç§‘_Vector</a></p>
<h2 id="1-å¹³é¢çš„ä¸€èˆ¬å¼æ–¹ç¨‹"><a href="#1-å¹³é¢çš„ä¸€èˆ¬å¼æ–¹ç¨‹" class="headerlink" title="1. å¹³é¢çš„ä¸€èˆ¬å¼æ–¹ç¨‹"></a>1. å¹³é¢çš„ä¸€èˆ¬å¼æ–¹ç¨‹</h2><p>Ax +By +Cz + D = 0</p>
<p>å…¶ä¸­n = (A, B, C)æ˜¯å¹³é¢çš„æ³•å‘é‡ï¼ŒDæ˜¯å°†å¹³é¢å¹³ç§»åˆ°åæ ‡åŸç‚¹æ‰€éœ€è·ç¦»ï¼ˆæ‰€ä»¥D=0æ—¶ï¼Œå¹³é¢è¿‡åŸç‚¹ï¼‰</p>
<h2 id="2-å‘é‡çš„æ¨¡ï¼ˆé•¿åº¦ï¼‰"><a href="#2-å‘é‡çš„æ¨¡ï¼ˆé•¿åº¦ï¼‰" class="headerlink" title="2. å‘é‡çš„æ¨¡ï¼ˆé•¿åº¦ï¼‰"></a>2. å‘é‡çš„æ¨¡ï¼ˆé•¿åº¦ï¼‰</h2><p>ç»™å®šä¸€ä¸ªå‘é‡Vï¼ˆx, y, z),åˆ™|V| = sqrt(x <em> x + y </em> y + z * z)</p>
<blockquote>
<p>åœ¨æ•°å­¦ä¸­ï¼ŒçŸ¢é‡å¸¸é‡‡ç”¨æ›´ä¸ºæŠ½è±¡çš„çŸ¢é‡ç©ºé—´ï¼ˆä¹Ÿç§°ä¸ºçº¿æ€§ç©ºé—´ï¼‰æ¥å®šä¹‰ï¼Œè€Œå®šä¹‰å…·æœ‰ç‰©ç†æ„ä¹‰ä¸Šçš„å¤§å°å’Œæ–¹å‘çš„çŸ¢é‡æ¦‚å¿µåˆ™éœ€è¦å¼•è¿›äº†èŒƒæ•°å’Œå†…ç§¯çš„æ¬§å‡ é‡Œå¾—ç©ºé—´ã€‚<br>èŒƒæ•°ï¼Œ æ¨¡é•¿</p>
</blockquote>
<h2 id="3-å‘é‡çš„æ•°é‡ç§¯-ç‚¹ç§¯-å†…ç§¯"><a href="#3-å‘é‡çš„æ•°é‡ç§¯-ç‚¹ç§¯-å†…ç§¯" class="headerlink" title="3. å‘é‡çš„æ•°é‡ç§¯/ç‚¹ç§¯/å†…ç§¯"></a>3. å‘é‡çš„æ•°é‡ç§¯/ç‚¹ç§¯/å†…ç§¯</h2><p>ç»™å®šä¸¤ä¸ªå‘é‡V1(x1, y1, z1)å’ŒV2(x2, y2, z2)åˆ™ä»–ä»¬çš„å†…ç§¯æ˜¯ V1V2 = x1x2 + y1y2 + z1z2</p>
<blockquote>
<p>æ•°é‡ç§¯è¢«å¹¿æ³›åº”ç”¨äºç‰©ç†ä¸­ï¼Œå¦‚åšåŠŸå°±æ˜¯ç”¨åŠ›çš„çŸ¢é‡ä¹˜ä½ç§»çš„çŸ¢é‡ï¼Œå³<img src="/images/math-pointdis.png" alt=""></p>
</blockquote>
<h2 id="4-ç‚¹åˆ°å¹³é¢çš„è·ç¦»-Yes"><a href="#4-ç‚¹åˆ°å¹³é¢çš„è·ç¦»-Yes" class="headerlink" title="4. ç‚¹åˆ°å¹³é¢çš„è·ç¦»(Yes)"></a>4. ç‚¹åˆ°å¹³é¢çš„è·ç¦»(Yes)</h2><p>æ±‚ç‚¹åˆ°ç›´çº¿çš„è·ç¦»ä¸å†æ˜¯éš¾äº‹ï¼Œæœ‰å›¾æœ‰çœŸç›¸</p>
<p><img src="/images/math-pointToPlane.jpeg" alt="Distance formula of point to plane"></p>
<blockquote>
<p>å¦‚æœæ³•å‘é‡æ˜¯å•ä½å‘é‡çš„è¯ï¼Œé‚£ä¹ˆåˆ†æ¯ä¸º1</p>
</blockquote>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[Spark Machine Learning p1 - Sparkç¼–ç¨‹å…¥é—¨]]></title>
      <url>http://iequa.com/2016/04/25/spark-machine-learning-p1/</url>
      <content type="html"><![CDATA[<p>Spark çš„ç¯å¢ƒæ­å»ºä¸è¿è¡Œ, æ¥è§¦äº† RDD ä¸ SparkContext, å¯åŠ¨ Spark-Shell ä»¥åŠå¦‚ä½•ä½¿ç”¨ Scalaã€Python ç¼–å†™ Spark ç¨‹åº. </p>
<a id="more"></a>
<p><strong>Apache Spark</strong></p>
<p>Spark çš„è®¾è®¡ç›®æ ‡ å³: <code>è¿­ä»£å¼+ä½å»¶è¿Ÿ</code> é€‚åˆ Machine Learning ç®—æ³•çš„ç‰¹æ€§<br>Spark åˆ†å¸ƒå¼è®¡ç®—æ¡†æ¶, å°†ä¸­é—´æ•°æ®å’Œç»“æœä¿å­˜åœ¨å†…å­˜ä¸­<br>Spark æä¾›å‡½æ•°å¼API, å¹¶å…¼å®¹ Hadoop ç”Ÿæ€<br>Spark æ¡†æ¶å¯¹ èµ„æºè°ƒåº¦ã€ä»»åŠ¡æäº¤ã€æ‰§è¡Œã€è·Ÿè¸ªï¼Œ èŠ‚ç‚¹é—´é€šä¿¡ä»¥åŠæ•°æ®å¹¶è¡Œå¤„ç†çš„å†…åœ¨åº•å±‚æ“ä½œéƒ½è¿›è¡Œäº†æŠ½è±¡</p>
<blockquote>
<p>ç®€åŒ–äº†æµ·é‡æ•°æ®çš„å­˜å‚¨(HDFS) å’Œ è®¡ç®—(MR) æµç¨‹ã€‚MapReduce ç¼ºç‚¹, å¦‚: å¯åŠ¨ä»»åŠ¡æ—¶çš„é«˜å¼€é”€ã€å¯¹ä¸­é—´æ•°æ® å’Œ è®¡ç®—ç»“æœ å†™å…¥ç£ç›˜çš„ä¾èµ–ã€‚è¿™ä½¿å¾— Hadoop ä¸é€‚åˆ è¿­ä»£å¼ æˆ– ä½å»¶è¿Ÿ çš„ä»»åŠ¡ã€‚</p>
</blockquote>
<p><strong>Spark çš„å››ç§è¿è¡Œæ¨¡å¼</strong></p>
<ol>
<li>æœ¬åœ°å•æœºæ¨¡å¼ â€“ Spark è¿›ç¨‹ all run in one JVM</li>
<li>é›†ç¾¤å•æœºæ¨¡å¼ â€“ ä½¿ç”¨ Spark è‡ªå·±å†…ç½®çš„ ä»»åŠ¡è°ƒåº¦æ¡†æ¶</li>
<li>åŸºäº Mesos ä¸€ä¸ªå¼€æºé›†ç¾¤è®¡ç®—æ¡†æ¶</li>
<li>åŸºäº YARN ä¸ Hadoop2 å…³è”å½¢æˆé›†ç¾¤è®¡ç®—å’Œèµ„æºè°ƒåº¦æ¡†æ¶</li>
</ol>
<h2 id="1-Sparkè¿è¡Œ"><a href="#1-Sparkè¿è¡Œ" class="headerlink" title="1. Sparkè¿è¡Œ"></a>1. Sparkè¿è¡Œ</h2><p>è¿è¡Œç¤ºä¾‹ç¨‹åºæ¥æµ‹è¯•æ˜¯å¦ä¸€åˆ‡æ­£å¸¸ï¼š</p>
<blockquote>
<p>./bin/run-example org.apache.spark.examples.SparkPi</p>
</blockquote>
<p>è¯¥å‘½ä»¤å°†åœ¨æœ¬åœ°å•æœºæ¨¡å¼ä¸‹æ‰§è¡ŒSparkPiè¿™ä¸ªç¤ºä¾‹ã€‚åœ¨è¯¥æ¨¡å¼ä¸‹ï¼Œæ‰€æœ‰çš„Sparkè¿›ç¨‹å‡è¿è¡ŒäºåŒä¸€ä¸ªJVMä¸­ï¼Œè€Œå¹¶è¡Œå¤„ç†åˆ™é€šè¿‡å¤šçº¿ç¨‹æ¥å®ç°ã€‚é»˜è®¤æƒ…å†µä¸‹ï¼Œè¯¥ç¤ºä¾‹ä¼šå¯ç”¨ä¸æœ¬åœ°ç³»ç»Ÿçš„CPUæ ¸å¿ƒæ•°ç›®ç›¸åŒçš„çº¿ç¨‹ã€‚</p>
<p>è¦åœ¨æœ¬åœ°æ¨¡å¼ä¸‹è®¾ç½®å¹¶è¡Œçš„çº§åˆ«ï¼Œä»¥local[N]çš„æ ¼å¼æ¥æŒ‡å®šä¸€ä¸ªmasterå˜é‡å³å¯ã€‚æ¯”å¦‚åªä½¿ç”¨ä¸¤ä¸ªçº¿ç¨‹æ—¶ï¼Œå¯è¾“å…¥å¦‚ä¸‹å‘½ä»¤ï¼š</p>
<blockquote>
<p>MASTER=local[2] ./bin/run-example org.apache.spark.examples.SparkPi</p>
</blockquote>
<h2 id="2-Sparké›†ç¾¤"><a href="#2-Sparké›†ç¾¤" class="headerlink" title="2. Sparké›†ç¾¤"></a>2. Sparké›†ç¾¤</h2><p>Sparké›†ç¾¤ç”±ä¸¤ç±»ç¨‹åºæ„æˆ: </p>
<ol>
<li>ä¸€ä¸ªé©±åŠ¨ç¨‹åº</li>
<li>å¤šä¸ªæ‰§è¡Œç¨‹åº</li>
</ol>
<blockquote>
<p>æœ¬åœ°æ¨¡å¼ä¸‹æ‰€æœ‰çš„å¤„ç†éƒ½è¿è¡Œåœ¨åŒä¸€ä¸ªJVMå†…ï¼Œè€Œåœ¨é›†ç¾¤æ¨¡å¼æ—¶å®ƒä»¬é€šå¸¸è¿è¡Œåœ¨ä¸åŒçš„èŠ‚ç‚¹ä¸Šã€‚</p>
</blockquote>
<p>ä¸€ä¸ªé‡‡ç”¨å•æœºæ¨¡å¼çš„Sparké›†ç¾¤åŒ…æ‹¬ï¼š</p>
<ol>
<li>ä¸€ä¸ªè¿è¡ŒSparkå•æœºä¸»è¿›ç¨‹å’Œé©±åŠ¨ç¨‹åºçš„ Masterï¼›</li>
<li>å„è‡ªè¿è¡Œä¸€ä¸ªæ‰§è¡Œç¨‹åºè¿›ç¨‹çš„å¤šä¸ª Workerã€‚</li>
</ol>
<p>æ¯”å¦‚åœ¨ä¸€ä¸ªSparkå•æœºé›†ç¾¤ä¸Šè¿è¡Œï¼Œåªéœ€ä¼ å…¥ä¸»èŠ‚ç‚¹çš„URLå³å¯ï¼š</p>
<blockquote>
<p>MASTER=spark://IP:PORT ./bin/run-example org.apache.spark.examples.SparkPi<br>å…¶ä¸­çš„IPå’ŒPORTåˆ†åˆ«æ˜¯ä¸»èŠ‚ç‚¹IPåœ°å€å’Œç«¯å£å·ã€‚è¿™æ˜¯å‘Šè¯‰Sparkè®©ç¤ºä¾‹ç¨‹åºè¿è¡Œåœ¨ä¸»èŠ‚ç‚¹æ‰€å¯¹åº”çš„é›†ç¾¤ä¸Š</p>
</blockquote>
<h2 id="3-Sparkç¼–ç¨‹æ¨¡å‹"><a href="#3-Sparkç¼–ç¨‹æ¨¡å‹" class="headerlink" title="3. Sparkç¼–ç¨‹æ¨¡å‹"></a>3. Sparkç¼–ç¨‹æ¨¡å‹</h2><h3 id="3-1-SparkContextç±»"><a href="#3-1-SparkContextç±»" class="headerlink" title="3.1 SparkContextç±»"></a>3.1 SparkContextç±»</h3><p><strong>SparkContextç±»ä¸SparkConfç±»</strong></p>
<p>ä»»ä½•Sparkç¨‹åºçš„ç¼–å†™éƒ½æ˜¯ä»SparkContextå¼€å§‹çš„ã€‚SparkContextçš„åˆå§‹åŒ–éœ€è¦ä¸€ä¸ªSparkConfå¯¹è±¡ï¼Œåè€…åŒ…å«äº†Sparké›†ç¾¤é…ç½®çš„å„ç§å‚æ•°ï¼ˆæ¯”å¦‚ä¸»èŠ‚ç‚¹çš„URLï¼‰ã€‚</p>
<p>åˆå§‹åŒ–åï¼Œæˆ‘ä»¬ä¾¿å¯ç”¨SparkContextå¯¹è±¡æ‰€åŒ…å«çš„å„ç§æ–¹æ³•æ¥åˆ›å»ºå’Œæ“ä½œRDDã€‚Spark shellï¼ˆåœ¨Scalaå’ŒPythonä¸‹å¯ä»¥ï¼Œä½†ä¸æ”¯æŒJavaï¼‰èƒ½è‡ªåŠ¨å®Œæˆä¸Šè¿°åˆå§‹åŒ–ã€‚è‹¥è¦ç”¨Scalaä»£ç æ¥å®ç°çš„è¯ï¼Œå¯å‚ç…§ä¸‹é¢çš„ä»£ç ï¼š</p>
<figure class="highlight scala"><table><tr><td class="code"><pre><span class="line"><span class="keyword">val</span> conf = <span class="keyword">new</span> <span class="type">SparkConf</span>().setAppName(<span class="string">"Test Spark App"</span>).setMaster(<span class="string">"local[4]"</span>)</span><br><span class="line"><span class="keyword">val</span> sc = <span class="keyword">new</span> <span class="type">SparkContext</span>(conf)</span><br></pre></td></tr></table></figure>
<p>è¿™æ®µä»£ç ä¼šåˆ›å»ºä¸€ä¸ª4çº¿ç¨‹çš„SparkContextå¯¹è±¡ï¼Œå¹¶å°†å…¶ç›¸åº”çš„ä»»åŠ¡å‘½åä¸ºTest Spark APPã€‚æˆ‘ä»¬ä¹Ÿå¯é€šè¿‡å¦‚ä¸‹æ–¹å¼è°ƒç”¨SparkContextçš„ç®€å•æ„é€ å‡½æ•°</p>
<figure class="highlight scala"><table><tr><td class="code"><pre><span class="line"><span class="keyword">val</span> sc = <span class="keyword">new</span> <span class="type">SparkContext</span>(<span class="string">"local[4]"</span>, <span class="string">"Test Spark App"</span>)</span><br></pre></td></tr></table></figure>
<h3 id="3-2-Spark-shell"><a href="#3-2-Spark-shell" class="headerlink" title="3.2 Spark shell"></a>3.2 Spark shell</h3><p>Sparkæ”¯æŒ ç”¨ Scala or Python REPLï¼ˆRead-Eval-Print-Loopï¼Œå³äº¤äº’å¼shellï¼‰æ¥è¿›è¡Œäº¤äº’å¼çš„ç¨‹åºç¼–å†™ã€‚</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">./bin/spark-shell</span><br></pre></td></tr></table></figure>
<p>ä¼šå¯åŠ¨Scala shell å¹¶åˆå§‹åŒ–ä¸€ä¸ªSparkContextå¯¹è±¡ã€‚æˆ‘ä»¬å¯ä»¥é€šè¿‡ scè¿™ä¸ªScalaå€¼æ¥è°ƒç”¨è¿™ä¸ªå¯¹è±¡</p>
<h3 id="3-3-RDD"><a href="#3-3-RDD" class="headerlink" title="3.3 RDD"></a>3.3 RDD</h3><p>ä¸€ä¸ª RDD ä»£è¡¨ä¸€ç³»åˆ—çš„â€œè®°å½•â€ï¼ˆä¸¥æ ¼æ¥è¯´ï¼ŒæŸç§ç±»å‹çš„å¯¹è±¡ï¼‰ã€‚<br>è¿™äº›è®°å½•è¢«åˆ†é…æˆ–åˆ†åŒºåˆ°ä¸€ä¸ªé›†ç¾¤çš„å¤šä¸ªèŠ‚ç‚¹ä¸Šï¼ˆåœ¨æœ¬åœ°æ¨¡å¼ä¸‹ï¼Œå¯ä»¥ç±»ä¼¼åœ°ç†è§£ä¸ºå•ä¸ªè¿›ç¨‹é‡Œçš„å¤šä¸ªçº¿ç¨‹ä¸Šï¼‰ã€‚</p>
<p>Sparkä¸­çš„RDDå…·å¤‡å®¹é”™æ€§ï¼Œå³å½“æŸä¸ªèŠ‚ç‚¹æˆ–ä»»åŠ¡å¤±è´¥æ—¶ï¼ˆå› éç”¨æˆ·ä»£ç åŸå› è€Œå¼•èµ·ï¼Œå¦‚ç¡¬ä»¶æ•…éšœã€ç½‘ç»œä¸é€šç­‰ï¼‰ï¼ŒRDDä¼šåœ¨ä½™ä¸‹çš„èŠ‚ç‚¹ä¸Šè‡ªåŠ¨é‡å»ºï¼Œä»¥ä¾¿ä»»åŠ¡èƒ½æœ€ç»ˆå®Œæˆã€‚</p>
<p><strong>1. åˆ›å»ºRDD</strong></p>
<p>RDDå¯ä»ç°æœ‰çš„é›†åˆåˆ›å»º ï¼š</p>
<figure class="highlight scala"><table><tr><td class="code"><pre><span class="line"><span class="keyword">val</span> collection = <span class="type">List</span>(<span class="string">"a"</span>, <span class="string">"b"</span>, <span class="string">"c"</span>, <span class="string">"d"</span>, <span class="string">"e"</span>)</span><br><span class="line"><span class="keyword">val</span> rddFromCollection = sc.parallelize(collection)</span><br></pre></td></tr></table></figure>
<p>RDDä¹Ÿå¯ä»¥åŸºäºHadoopçš„è¾“å…¥æºåˆ›å»ºï¼Œæ¯”å¦‚æœ¬åœ°æ–‡ä»¶ç³»ç»Ÿã€HDFSã€‚åŸºäºHadoopçš„RDDå¯ä»¥ä½¿ç”¨ä»»ä½•å®ç°äº†Hadoop InputFormatæ¥å£çš„è¾“å…¥æ ¼å¼ï¼ŒåŒ…æ‹¬æ–‡æœ¬æ–‡ä»¶ã€å…¶ä»–Hadoopæ ‡å‡†æ ¼å¼ã€HBaseç­‰ã€‚ä»¥ä¸‹ä¸¾ä¾‹è¯´æ˜å¦‚ä½•ç”¨ä¸€ä¸ªæœ¬åœ°æ–‡ä»¶ç³»ç»Ÿé‡Œçš„æ–‡ä»¶åˆ›å»ºRDDï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">val rddFromTextFile = sc.textFile(&quot;LICENSE&quot;)</span><br></pre></td></tr></table></figure>
<p>ä¸Šè¿°ä»£ç ä¸­çš„textFileå‡½æ•°ï¼ˆæ–¹æ³•ï¼‰ä¼šè¿”å›ä¸€ä¸ªRDDå¯¹è±¡ã€‚è¯¥å¯¹è±¡çš„æ¯ä¸€æ¡è®°å½•éƒ½æ˜¯ä¸€ä¸ªè¡¨ç¤ºæ–‡æœ¬æ–‡ä»¶ä¸­æŸä¸€è¡Œæ–‡å­—çš„Stringï¼ˆå­—ç¬¦ä¸²ï¼‰å¯¹è±¡ã€‚</p>
<p><strong>2. Sparkæ“ä½œ</strong></p>
<p>åœ¨Sparkç¼–ç¨‹æ¨¡å¼ä¸‹ï¼Œæ‰€æœ‰çš„æ“ä½œè¢«åˆ†ä¸º <code>transformation</code> å’Œ <code>action</code> ä¸¤ç§ã€‚</p>
<p><strong>transformation</strong> æ“ä½œæ˜¯å¯¹ä¸€ä¸ªæ•°æ®é›†é‡Œçš„æ‰€æœ‰è®°å½•æ‰§è¡ŒæŸç§å‡½æ•°ï¼Œä»è€Œä½¿è®°å½•å‘ç”Ÿæ”¹å˜ï¼›</p>
<p><strong>action</strong> é€šå¸¸æ˜¯è¿è¡ŒæŸäº›è®¡ç®—æˆ–èšåˆæ“ä½œï¼Œå¹¶å°†ç»“æœè¿”å›è¿è¡Œ SparkContext çš„é‚£ä¸ªé©±åŠ¨ç¨‹åºã€‚</p>
<p>Spark çš„æ“ä½œé€šå¸¸é‡‡ç”¨<code>å‡½æ•°å¼</code>é£æ ¼ã€‚</p>
<p>Sparkç¨‹åºä¸­æœ€å¸¸ç”¨çš„è½¬æ¢æ“ä½œä¾¿æ˜¯mapæ“ä½œã€‚è¯¥æ“ä½œå¯¹ä¸€ä¸ªRDDé‡Œçš„æ¯ä¸€æ¡è®°å½•éƒ½æ‰§è¡ŒæŸä¸ªå‡½æ•°ï¼Œä»è€Œå°†è¾“å…¥æ˜ å°„æˆä¸ºæ–°çš„è¾“å‡ºã€‚</p>
<p>æ¯”å¦‚ï¼Œä¸‹é¢è¿™æ®µä»£ç ä¾¿å¯¹ä¸€ä¸ªä»æœ¬åœ°æ–‡æœ¬æ–‡ä»¶åˆ›å»ºçš„RDDè¿›è¡Œæ“ä½œã€‚å®ƒå¯¹è¯¥RDDä¸­çš„æ¯ä¸€æ¡è®°å½•éƒ½æ‰§è¡Œsizeå‡½æ•°ã€‚<br>åˆ›å»ºä¸€ä¸ªè¿™æ ·çš„ç”±è‹¥å¹²Stringæ„æˆçš„RDDå¯¹è±¡ã€‚é€šè¿‡mapå‡½æ•°ï¼Œæˆ‘ä»¬å°†æ¯ä¸€ä¸ªå­—ç¬¦ä¸²éƒ½è½¬æ¢ä¸ºä¸€ä¸ªæ•´æ•°ï¼Œä»è€Œè¿”å›ä¸€ä¸ªç”±è‹¥å¹²Intæ„æˆçš„RDDå¯¹è±¡ã€‚</p>
<figure class="highlight scala"><table><tr><td class="code"><pre><span class="line">scala&gt; rddFromTextFile.count</span><br><span class="line">res2: <span class="type">Long</span> = <span class="number">294</span></span><br><span class="line"></span><br><span class="line">scala&gt; <span class="keyword">val</span> intsFromStringsRDD = rddFromTextFile.map(line =&gt; line.size)</span><br><span class="line">intsFromStringsRDD: org.apache.spark.rdd.<span class="type">RDD</span>[<span class="type">Int</span>] = <span class="type">MapPartitionsRDD</span>[<span class="number">3</span>] at map at &lt;console&gt;:<span class="number">23</span></span><br><span class="line"></span><br><span class="line">scala&gt; intsFromStringsRDD.count</span><br><span class="line">res3: <span class="type">Long</span> = <span class="number">294</span></span><br><span class="line"></span><br><span class="line">scala&gt; <span class="keyword">val</span> sumOfRecords = intsFromStringsRDD.sum</span><br><span class="line">sumOfRecords: <span class="type">Double</span> = <span class="number">17062.0</span></span><br><span class="line"></span><br><span class="line">scala&gt; <span class="keyword">val</span> numRecords = intsFromStringsRDD.count</span><br><span class="line">numRecords: <span class="type">Long</span> = <span class="number">294</span></span><br><span class="line"></span><br><span class="line">scala&gt; <span class="keyword">val</span> aveLengthOfRecord = sumOfRecords / numRecords</span><br><span class="line">aveLengthOfRecord: <span class="type">Double</span> = <span class="number">58.034013605442176</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// ç­‰ä»·äº</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">val</span> aveLengthOfRecordChained = rddFromTextFile.map(line =&gt; line.size).sum / rddFromTextFile.count</span><br></pre></td></tr></table></figure>
<blockquote>
<p>ç¤ºä¾‹ä¸­ <strong>=&gt;</strong> æ˜¯Scalaä¸‹è¡¨ç¤ºåŒ¿åå‡½æ•°çš„è¯­æ³•ã€‚è¯­æ³• <strong>line =&gt; line.size</strong> è¡¨ç¤ºä»¥ <strong>=&gt;</strong> æ“ä½œç¬¦å·¦è¾¹çš„éƒ¨åˆ†ä½œä¸ºè¾“å…¥ï¼Œå¯¹å…¶æ‰§è¡Œä¸€ä¸ªå‡½æ•°ï¼Œå¹¶ä»¥ <strong>=&gt;</strong> æ“ä½œç¬¦å³è¾¹ä»£ç çš„æ‰§è¡Œç»“æœä¸ºè¾“å‡ºã€‚åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œè¾“å…¥ä¸ºlineï¼Œè¾“å‡ºåˆ™æ˜¯ <strong>line.size</strong> å‡½æ•°çš„æ‰§è¡Œç»“æœã€‚åœ¨Scalaè¯­è¨€ä¸­ï¼Œè¿™ç§å°†ä¸€ä¸ªStringå¯¹è±¡æ˜ å°„ä¸ºä¸€ä¸ªIntçš„å‡½æ•°è¢«è¡¨ç¤ºä¸ºString =&gt; Intã€‚</p>
</blockquote>
<p>Sparkçš„å¤§å¤šæ•°æ“ä½œéƒ½ä¼šè¿”å›ä¸€ä¸ªæ–°RDDï¼Œä½†å¤šæ•°çš„Actionæ“ä½œåˆ™æ˜¯è¿”å›è®¡ç®—çš„ç»“æœ</p>
<blockquote>
<p>æ³¨ : Spark ä¸­çš„è½¬æ¢æ“ä½œæ˜¯å»¶åçš„ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œåœ¨RDDä¸Šè°ƒç”¨ä¸€ä¸ªè½¬æ¢æ“ä½œå¹¶ä¸ä¼šç«‹å³è§¦å‘ç›¸åº”çš„è®¡ç®—ã€‚ åªæœ‰å¿…è¦æ—¶æ‰è®¡ç®—ç»“æœå¹¶å°†å…¶è¿”å›ç»™é©±åŠ¨ç¨‹åºï¼Œä»è€Œæé«˜äº†Sparkçš„æ•ˆç‡ã€‚</p>
</blockquote>
<figure class="highlight scala"><table><tr><td class="code"><pre><span class="line">scala&gt; <span class="keyword">val</span> transformedRDD = rddFromTextFile.map(line =&gt; line.size).</span><br><span class="line">     | filter(size =&gt; size &gt; <span class="number">10</span>).map(size =&gt; size * <span class="number">2</span>)</span><br><span class="line">transformedRDD: org.apache.spark.rdd.<span class="type">RDD</span>[<span class="type">Int</span>] = <span class="type">MapPartitionsRDD</span>[<span class="number">7</span>] at map at &lt;console&gt;:<span class="number">24</span></span><br><span class="line"></span><br><span class="line">scala&gt;</span><br></pre></td></tr></table></figure>
<p>æ²¡æœ‰è§¦å‘ä»»ä½•è®¡ç®—ï¼Œä¹Ÿæ²¡æœ‰ç»“æœè¢«è¿”å›ã€‚<br>å¦‚æœæˆ‘ä»¬ç°åœ¨åœ¨æ–°çš„RDDä¸Šè°ƒç”¨ä¸€ä¸ªæ‰§è¡Œæ“ä½œï¼Œæ¯”å¦‚sumï¼Œè¯¥è®¡ç®—å°†ä¼šè¢«è§¦å‘ï¼š</p>
<p><strong><em>è§¦å‘è®¡ç®—</em></strong></p>
<figure class="highlight scala"><table><tr><td class="code"><pre><span class="line">scala&gt; <span class="keyword">val</span> computation = transformedRDD.sum</span><br><span class="line">computation: <span class="type">Double</span> = <span class="number">34106.0</span></span><br></pre></td></tr></table></figure>
<p><strong>3. RDDç¼“å­˜ç­–ç•¥</strong></p>
<p>Sparkæœ€ä¸ºå¼ºå¤§çš„åŠŸèƒ½ä¹‹ä¸€ä¾¿æ˜¯èƒ½å¤ŸæŠŠæ•°æ®ç¼“å­˜åœ¨é›†ç¾¤çš„å†…å­˜é‡Œã€‚è¿™é€šè¿‡è°ƒç”¨RDDçš„cacheå‡½æ•°æ¥å®ç°ï¼š</p>
<figure class="highlight scala"><table><tr><td class="code"><pre><span class="line">scala&gt; rddFromTextFile.cache</span><br><span class="line">res4: rddFromTextFile.<span class="keyword">type</span> = <span class="type">MapPartitionsRDD</span>[<span class="number">2</span>] at textFile at &lt;console&gt;:<span class="number">21</span></span><br><span class="line"></span><br><span class="line">scala&gt; <span class="keyword">val</span> aveLengthOfRecordChainedFromCached = rddFromTextFile.map(line =&gt; line.size).sum / rddFromTextFile.count</span><br><span class="line">aveLengthOfRecordChainedFromCached: <span class="type">Double</span> = <span class="number">58.034013605442176</span></span><br></pre></td></tr></table></figure>
<p>åœ¨RDDé¦–æ¬¡è°ƒç”¨ä¸€ä¸ªæ‰§è¡Œæ“ä½œæ—¶ï¼Œè¿™ä¸ªæ“ä½œå¯¹åº”çš„è®¡ç®—ä¼šç«‹å³æ‰§è¡Œï¼Œæ•°æ®ä¼šä»æ•°æ®æºé‡Œè¯»å‡ºå¹¶ä¿å­˜åˆ°å†…å­˜ã€‚å› æ­¤ï¼Œé¦–æ¬¡è°ƒç”¨cacheå‡½æ•°æ‰€éœ€è¦çš„æ—¶é—´ä¼šéƒ¨åˆ†å–å†³äºSparkä»è¾“å…¥æºè¯»å–æ•°æ®æ‰€éœ€è¦çš„æ—¶é—´ã€‚ä½†æ˜¯ï¼Œå½“ä¸‹ä¸€æ¬¡è®¿é—®è¯¥æ•°æ®é›†çš„æ—¶å€™ï¼Œæ•°æ®å¯ä»¥ç›´æ¥ä»å†…å­˜ä¸­è¯»å‡ºä»è€Œå‡å°‘ä½æ•ˆçš„I/Oæ“ä½œï¼ŒåŠ å¿«è®¡ç®—ã€‚å¤šæ•°æƒ…å†µä¸‹ï¼Œè¿™ä¼šå–å¾—æ•°å€çš„é€Ÿåº¦æå‡ã€‚</p>
<blockquote>
<p>Sparkæ”¯æŒæ›´ä¸ºç»†åŒ–çš„ç¼“å­˜ç­–ç•¥ã€‚é€šè¿‡persistå‡½æ•°å¯ä»¥æŒ‡å®šSparkçš„æ•°æ®ç¼“å­˜ç­–ç•¥ã€‚å…³äºRDDç¼“å­˜çš„æ›´å¤šä¿¡æ¯å¯å‚è§ï¼š<a href="http://spark.apache.org/docs/latest/programming-guide.html#rdd-persistenceã€‚" target="_blank" rel="external">http://spark.apache.org/docs/latest/programming-guide.html#rdd-persistenceã€‚</a></p>
</blockquote>
<h3 id="3-4-å¹¿æ’­å˜é‡å’Œç´¯åŠ å™¨"><a href="#3-4-å¹¿æ’­å˜é‡å’Œç´¯åŠ å™¨" class="headerlink" title="3.4 å¹¿æ’­å˜é‡å’Œç´¯åŠ å™¨"></a>3.4 å¹¿æ’­å˜é‡å’Œç´¯åŠ å™¨</h3><p>Sparkçš„å¦ä¸€ä¸ªæ ¸å¿ƒåŠŸèƒ½æ˜¯èƒ½åˆ›å»ºä¸¤ç§ç‰¹æ®Šç±»å‹çš„å˜é‡ï¼š<strong>å¹¿æ’­å˜é‡</strong> å’Œ ç´¯åŠ å™¨ã€‚</p>
<p>å¹¿æ’­å˜é‡ï¼ˆbroadcast variableï¼‰ä¸ºåªè¯»å˜é‡ï¼Œå®ƒç”±è¿è¡ŒSparkContextçš„é©±åŠ¨ç¨‹åºåˆ›å»ºåå‘é€ç»™ä¼šå‚ä¸è®¡ç®—çš„èŠ‚ç‚¹ã€‚å¯¹é‚£äº›éœ€è¦è®©å„å·¥ä½œèŠ‚ç‚¹é«˜æ•ˆåœ°è®¿é—®ç›¸åŒæ•°æ®çš„åº”ç”¨åœºæ™¯ï¼Œæ¯”å¦‚æœºå™¨å­¦ä¹ ï¼Œè¿™éå¸¸æœ‰ç”¨ã€‚</p>
<p>Sparkä¸‹åˆ›å»ºå¹¿æ’­å˜é‡åªéœ€åœ¨SparkContextä¸Šè°ƒç”¨ä¸€ä¸ªæ–¹æ³•å³å¯ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">scala&gt; val broadcastAList = sc.broadcast(List(&quot;a&quot;, &quot;b&quot;, &quot;c&quot;, &quot;d&quot;, &quot;e&quot;))</span><br><span class="line">broadcastAList: org.apache.spark.broadcast.Broadcast[List[String]] = Broadcast(11)</span><br><span class="line"></span><br><span class="line">scala&gt;</span><br></pre></td></tr></table></figure>
<p><strong>å¹¿æ’­å˜é‡</strong> ä¹Ÿå¯ä»¥è¢«éé©±åŠ¨ç¨‹åºæ‰€åœ¨çš„èŠ‚ç‚¹ï¼ˆå³å·¥ä½œèŠ‚ç‚¹ï¼‰è®¿é—®ï¼Œè®¿é—®çš„æ–¹æ³•æ˜¯è°ƒç”¨è¯¥å˜é‡çš„<code>value</code>æ–¹æ³•ï¼š</p>
<figure class="highlight scala"><table><tr><td class="code"><pre><span class="line">scala&gt; <span class="keyword">val</span> broadcastAList = sc.broadcast(<span class="type">List</span>(<span class="string">"a"</span>, <span class="string">"b"</span>, <span class="string">"c"</span>, <span class="string">"d"</span>, <span class="string">"e"</span>))</span><br><span class="line">broadcastAList: org.apache.spark.broadcast.<span class="type">Broadcast</span>[<span class="type">List</span>[<span class="type">String</span>]] = <span class="type">Broadcast</span>(<span class="number">11</span>)</span><br><span class="line"></span><br><span class="line">scala&gt; sc.parallelize(<span class="type">List</span>(<span class="string">"1"</span>, <span class="string">"2"</span>, <span class="string">"3"</span>)).map(x =&gt; broadcastAList.value ++ x).collect</span><br><span class="line">res5: <span class="type">Array</span>[<span class="type">List</span>[<span class="type">Any</span>]] = <span class="type">Array</span>(<span class="type">List</span>(a, b, c, d, e, <span class="number">1</span>), <span class="type">List</span>(a, b, c, d, e, <span class="number">2</span>), <span class="type">List</span>(a, b, c, d, e, <span class="number">3</span>))</span><br></pre></td></tr></table></figure>
<blockquote>
<p>æ³¨æ„ï¼Œcollect å‡½æ•°ä¸€èˆ¬ä»…åœ¨çš„ç¡®éœ€è¦å°†æ•´ä¸ªç»“æœé›†è¿”å›é©±åŠ¨ç¨‹åºå¹¶è¿›è¡Œåç»­å¤„ç†æ—¶æ‰æœ‰å¿…è¦è°ƒç”¨ã€‚å¦‚æœåœ¨ä¸€ä¸ªéå¸¸å¤§çš„æ•°æ®é›†ä¸Šè°ƒç”¨è¯¥å‡½æ•°ï¼Œå¯èƒ½è€—å°½é©±åŠ¨ç¨‹åºçš„å¯ç”¨å†…å­˜ï¼Œè¿›è€Œå¯¼è‡´ç¨‹åºå´©æºƒã€‚</p>
</blockquote>
<p>é«˜è´Ÿè·çš„å¤„ç†åº”å°½å¯èƒ½åœ°åœ¨æ•´ä¸ªé›†ç¾¤ä¸Šè¿›è¡Œï¼Œä»è€Œé¿å…é©±åŠ¨ç¨‹åºæˆä¸ºç³»ç»Ÿç“¶é¢ˆã€‚ç„¶è€Œåœ¨ä¸å°‘æƒ…å†µä¸‹ï¼Œå°†ç»“æœæ”¶é›†åˆ°é©±åŠ¨ç¨‹åºçš„ç¡®æ˜¯æœ‰å¿…è¦çš„ã€‚å¾ˆå¤šæœºå™¨å­¦ä¹ ç®—æ³•çš„è¿­ä»£è¿‡ç¨‹ä¾¿å±äºè¿™ç±»æƒ…å†µã€‚</p>
<p><strong>ç´¯åŠ å™¨</strong>ï¼ˆaccumulatorï¼‰ä¹Ÿæ˜¯ä¸€ç§è¢«å¹¿æ’­åˆ°å·¥ä½œèŠ‚ç‚¹çš„å˜é‡ã€‚ç´¯åŠ å™¨ä¸å¹¿æ’­å˜é‡çš„å…³é”®ä¸åŒï¼Œæ˜¯åè€…åªèƒ½è¯»å–è€Œå‰è€…å´å¯ç´¯åŠ ã€‚</p>
<blockquote>
<p>å…³äºç´¯åŠ å™¨çš„æ›´å¤šä¿¡æ¯ï¼Œå¯å‚è§ã€ŠSparkç¼–ç¨‹æŒ‡å—ã€‹ï¼š<a href="http://spark.apache.org/docs/latest/programming-guide.html#shared-variablesã€‚" target="_blank" rel="external">http://spark.apache.org/docs/latest/programming-guide.html#shared-variablesã€‚</a></p>
</blockquote>
<h2 id="4-Spark-Scala-ç¼–ç¨‹å…¥é—¨"><a href="#4-Spark-Scala-ç¼–ç¨‹å…¥é—¨" class="headerlink" title="4. Spark Scala ç¼–ç¨‹å…¥é—¨"></a>4. Spark Scala ç¼–ç¨‹å…¥é—¨</h2><p><a href="https://github.com/blair1/spark/tree/master/Spark-Machine-Learning_8519OSCode/Chapter%2001/scala-spark-app" target="_blank" rel="external">scala-spark-app</a></p>
<figure class="highlight scala"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> org.apache.spark.<span class="type">SparkContext</span></span><br><span class="line"><span class="keyword">import</span> org.apache.spark.<span class="type">SparkContext</span>._</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span><br><span class="line"> * A simple Spark app in Scala</span><br><span class="line"> */</span></span><br><span class="line"><span class="class"><span class="keyword">object</span> <span class="title">ScalaApp</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">main</span></span>(args: <span class="type">Array</span>[<span class="type">String</span>]) &#123;</span><br><span class="line">    <span class="keyword">val</span> sc = <span class="keyword">new</span> <span class="type">SparkContext</span>(<span class="string">"local[2]"</span>, <span class="string">"First Spark App"</span>)</span><br><span class="line"></span><br><span class="line">    <span class="comment">// we take the raw data in CSV format and convert it into a set of records of the form (user, product, price)</span></span><br><span class="line">    <span class="keyword">val</span> data = sc.textFile(<span class="string">"data/UserPurchaseHistory.csv"</span>)</span><br><span class="line">      .map(line =&gt; line.split(<span class="string">","</span>))</span><br><span class="line">      .map(purchaseRecord =&gt; (purchaseRecord(<span class="number">0</span>), purchaseRecord(<span class="number">1</span>), purchaseRecord(<span class="number">2</span>)))</span><br><span class="line"></span><br><span class="line">    <span class="comment">// let's count the number of purchases</span></span><br><span class="line">    <span class="keyword">val</span> numPurchases = data.count()</span><br><span class="line"></span><br><span class="line">    <span class="comment">// let's count how many unique users made purchases</span></span><br><span class="line">    <span class="keyword">val</span> uniqueUsers = data.map &#123; <span class="keyword">case</span> (user, product, price) =&gt; user &#125;.distinct().count()</span><br><span class="line"></span><br><span class="line">    <span class="comment">// let's sum up our total revenue</span></span><br><span class="line">    <span class="keyword">val</span> totalRevenue = data.map &#123; <span class="keyword">case</span> (user, product, price) =&gt; price.toDouble &#125;.sum()</span><br><span class="line"></span><br><span class="line">    <span class="comment">// let's find our most popular product</span></span><br><span class="line">    <span class="keyword">val</span> productsByPopularity = data</span><br><span class="line">      .map &#123; <span class="keyword">case</span> (user, product, price) =&gt; (product, <span class="number">1</span>) &#125;</span><br><span class="line">      .reduceByKey(_ + _)</span><br><span class="line">      .collect()</span><br><span class="line">      .sortBy(-_._2)</span><br><span class="line">    <span class="keyword">val</span> mostPopular = productsByPopularity(<span class="number">0</span>)</span><br><span class="line"></span><br><span class="line">    <span class="comment">// finally, print everything out</span></span><br><span class="line">    println(<span class="string">"Total purchases: "</span> + numPurchases)</span><br><span class="line">    println(<span class="string">"Unique users: "</span> + uniqueUsers)</span><br><span class="line">    println(<span class="string">"Total revenue: "</span> + totalRevenue)</span><br><span class="line">    println(<span class="string">"Most popular product: %s with %d purchases"</span>.format(mostPopular._1, mostPopular._2))</span><br><span class="line"></span><br><span class="line">    sc.stop()</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="5-Spark-Java-ç¼–ç¨‹å…¥é—¨"><a href="#5-Spark-Java-ç¼–ç¨‹å…¥é—¨" class="headerlink" title="5. Spark Java ç¼–ç¨‹å…¥é—¨"></a>5. Spark Java ç¼–ç¨‹å…¥é—¨</h2><p>Java APIä¸Scala APIæœ¬è´¨ä¸Šå¾ˆç›¸ä¼¼ã€‚Scalaä»£ç å¯ä»¥å¾ˆæ–¹ä¾¿åœ°è°ƒç”¨Javaä»£ç ï¼Œä½†æŸäº›Scalaä»£ç å´æ— æ³•åœ¨Javaé‡Œè°ƒç”¨ï¼Œç‰¹åˆ«æ˜¯é‚£äº›ä½¿ç”¨äº†éšå¼ç±»å‹è½¬æ¢ã€é»˜è®¤å‚æ•°å’Œé‡‡ç”¨äº†æŸäº›Scalaåå°„æœºåˆ¶çš„ä»£ç ã€‚</p>
<p>SparkContextæœ‰äº†å¯¹åº”çš„Javaç‰ˆæœ¬JavaSparkContextï¼Œè€ŒRDDåˆ™å¯¹åº”JavaRDDã€‚<br>Sparkæä¾›å¯¹Java 8åŒ¿åå‡½æ•°ï¼ˆlambdaï¼‰è¯­æ³•çš„æ”¯æŒã€‚</p>
<p>ç”¨Scalaç¼–å†™æ—¶ï¼Œé”®/å€¼å¯¹è®°å½•çš„RDDèƒ½æ”¯æŒä¸€äº›ç‰¹åˆ«çš„æ“ä½œï¼ˆæ¯”å¦‚reduceByKeyå’ŒsaveAsSequenceFileï¼‰ã€‚è¿™äº›æ“ä½œå¯ä»¥é€šè¿‡éšå¼ç±»å‹è½¬æ¢è€Œè‡ªåŠ¨è¢«è°ƒç”¨ã€‚ç”¨Javaç¼–å†™æ—¶ï¼Œåˆ™éœ€è¦ç‰¹åˆ«ç±»å‹çš„JavaRDDæ¥æ”¯æŒè¿™äº›æ“ä½œã€‚å®ƒä»¬åŒ…æ‹¬ç”¨äºé”®/å€¼å¯¹çš„JavaPairRDDï¼Œä»¥åŠç”¨äºæ•°å€¼è®°å½•çš„JavaDoubleRDDã€‚</p>
<p>Java 8 RDDä»¥åŠJava 8 lambdaè¡¨è¾¾å¼æ›´å¤šä¿¡æ¯å¯å‚è§ã€ŠSparkç¼–ç¨‹æŒ‡å—ã€‹ï¼š<a href="http://spark.apache.org/docs/latest/programming-guide.html#rdd-operationsã€‚" target="_blank" rel="external">http://spark.apache.org/docs/latest/programming-guide.html#rdd-operationsã€‚</a></p>
<h2 id="6-Spark-Python-ç¼–ç¨‹å…¥é—¨"><a href="#6-Spark-Python-ç¼–ç¨‹å…¥é—¨" class="headerlink" title="6. Spark Python ç¼–ç¨‹å…¥é—¨"></a>6. Spark Python ç¼–ç¨‹å…¥é—¨</h2><figure class="highlight py"><table><tr><td class="code"><pre><span class="line"><span class="string">"""ç”¨Pythonç¼–å†™çš„ä¸€ä¸ªç®€å•Sparkåº”ç”¨"""</span></span><br><span class="line"><span class="keyword">from</span> pyspark <span class="keyword">import</span> SparkContext</span><br><span class="line"></span><br><span class="line">sc = SparkContext(<span class="string">"local[2]"</span>, <span class="string">"First Spark App"</span>)</span><br><span class="line"><span class="comment"># å°†CSVæ ¼å¼çš„åŸå§‹æ•°æ®è½¬åŒ–ä¸º(user,product,price)æ ¼å¼çš„è®°å½•é›†</span></span><br><span class="line">data = sc.textFile(<span class="string">"data/UserPurchaseHistory.csv"</span>).map(<span class="keyword">lambda</span> line:</span><br><span class="line">line.split(<span class="string">","</span>)).map(<span class="keyword">lambda</span> record: (record[<span class="number">0</span>], record[<span class="number">1</span>], record[<span class="number">2</span>]))</span><br><span class="line"><span class="comment"># æ±‚æ€»è´­ä¹°æ¬¡æ•°</span></span><br><span class="line">numPurchases = data.count()</span><br><span class="line"><span class="comment"># æ±‚æœ‰å¤šå°‘ä¸åŒå®¢æˆ·è´­ä¹°è¿‡å•†å“</span></span><br><span class="line">uniqueUsers = data.map(<span class="keyword">lambda</span> record: record[<span class="number">0</span>]).distinct().count()</span><br><span class="line"><span class="comment"># æ±‚å’Œå¾—å‡ºæ€»æ”¶å…¥</span></span><br><span class="line">totalRevenue = data.map(<span class="keyword">lambda</span> record: float(record[<span class="number">2</span>])).sum()</span><br><span class="line"><span class="comment"># æ±‚æœ€ç•…é”€çš„äº§å“æ˜¯ä»€ä¹ˆ</span></span><br><span class="line">products = data.map(<span class="keyword">lambda</span> record: (record[<span class="number">1</span>], <span class="number">1.0</span>)).</span><br><span class="line">reduceByKey(<span class="keyword">lambda</span> a, b: a + b).collect()</span><br><span class="line">mostPopular = sorted(products, key=<span class="keyword">lambda</span> x: x[<span class="number">1</span>], reverse=<span class="keyword">True</span>)[<span class="number">0</span>]</span><br><span class="line"></span><br><span class="line"><span class="keyword">print</span> <span class="string">"Total purchases: %d"</span> % numPurchases</span><br><span class="line"><span class="keyword">print</span> <span class="string">"Unique users: %d"</span> % uniqueUsers</span><br><span class="line"><span class="keyword">print</span> <span class="string">"Total revenue: %2.2f"</span> % totalRevenue</span><br><span class="line"><span class="keyword">print</span> <span class="string">"Most popular product: %s with %d purchases"</span> % (mostPopular[<span class="number">0</span>], mostPopular[<span class="number">1</span>])</span><br></pre></td></tr></table></figure>
<p>åŒ¿åå‡½æ•°åœ¨Pythonè¯­è¨€ä¸­äº¦ç§°lambdaå‡½æ•°ï¼Œlambdaä¹Ÿæ˜¯è¯­æ³•è¡¨è¾¾ä¸Šçš„å…³é”®å­—ã€‚</p>
<p>ç”¨Scalaç¼–å†™æ—¶ï¼Œä¸€ä¸ªå°†è¾“å…¥xæ˜ å°„ä¸ºè¾“å‡ºyçš„åŒ¿åå‡½æ•°è¡¨ç¤ºä¸ºx =&gt; yï¼Œè€Œåœ¨Pythonä¸­åˆ™æ˜¯lambda x : yã€‚</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">âœ  python-spark-app git:(master) âœ— <span class="built_in">pwd</span></span><br><span class="line">/Users/hp/ghome/hadoop-spark/spark/Spark-Machine-Learning_8519OSCode/Chapter01/python-spark-app</span><br><span class="line">âœ  python-spark-app git:(master) âœ— <span class="variable">$SPARK_HOME</span>/bin/spark-submit pythonapp.py</span><br><span class="line">Using Spark<span class="string">'s default log4j profile: org/apache/spark/log4j-defaults.properties</span><br><span class="line">16/08/26 15:56:02 INFO SparkContext: Running Spark version 1.5.2</span><br><span class="line">...</span><br><span class="line">Total purchases: 5</span><br><span class="line">Unique users: 4</span><br><span class="line">Total revenue: 39.91</span><br><span class="line">Most popular product: iPhone Cover with 2 purchases</span><br><span class="line">16/08/26 15:56:07 INFO SparkUI: Stopped Spark web UI at http://192.168.143.84:4040</span><br><span class="line">...</span></span><br></pre></td></tr></table></figure>
<blockquote>
<p>Sparkçš„Python APIå‡ ä¹è¦†ç›–äº†æ‰€æœ‰Scala APIæ‰€èƒ½æä¾›çš„åŠŸèƒ½. ä½†çš„ç¡®æœ‰äº›ç‰¹æ€§ï¼Œæ¯”å¦‚Spark Streamingå’Œä¸ªåˆ«çš„APIæ–¹æ³•ï¼Œæš‚ä¸æ”¯æŒã€‚<br><a href="http://spark.apache.org/docs/latest/programming-guide.html" target="_blank" rel="external">å…·ä½“å‚è§ã€ŠSparkç¼–ç¨‹æŒ‡å—ã€‹çš„Pythonéƒ¨åˆ†</a></p>
</blockquote>
<h2 id="7-å°ç»“"><a href="#7-å°ç»“" class="headerlink" title="7. å°ç»“"></a>7. å°ç»“</h2><p>ä½“ä¼šäº† å‡½æ•°å¼ ç¼–ç¨‹çš„å¨åŠ›ï¼Œ scalaã€python éƒ½å¯ä»¥ã€‚java ä¸é€‚åˆå†™ spark ç¨‹åº</p>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[CentOS 7.1 install Common software]]></title>
      <url>http://iequa.com/2016/04/19/ops-centos7-install-common-software/</url>
      <content type="html"><![CDATA[<p>ifconfigã€vimã€wgetã€gitã€netcat â€¦</p>
<a id="more"></a>
<h2 id="1-install-ifconfig"><a href="#1-install-ifconfig" class="headerlink" title="1. install ifconfig"></a>1. install ifconfig</h2> <figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">yum search ifconfig</span><br><span class="line">yum install net-tools.x86_64</span><br></pre></td></tr></table></figure>
<h2 id="2-install-vim"><a href="#2-install-vim" class="headerlink" title="2. install vim"></a>2. install vim</h2> <figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">yum search vim</span><br><span class="line">yum install vim-enhanced</span><br></pre></td></tr></table></figure>
<h2 id="3-install-wget"><a href="#3-install-wget" class="headerlink" title="3. install wget"></a>3. install wget</h2> <figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"> [libin@centos-linux-1 x]$ yum search wget</span><br><span class="line">Loaded plugins: fastestmirror</span><br><span class="line">Loading mirror speeds from cached hostfile</span><br><span class="line"> * base: mirrors.skyshe.cn</span><br><span class="line"> * extras: mirrors.163.com</span><br><span class="line"> * updates: mirrors.163.com</span><br><span class="line">============================================================================================ N/S matched: wget =============================================================================================</span><br><span class="line">wget.x86_64 : A utility <span class="keyword">for</span> retrieving files using the HTTP or FTP protocols</span><br><span class="line"></span><br><span class="line">  Name and summary matches only, use <span class="string">"search all"</span> <span class="keyword">for</span> everything.</span><br><span class="line"> </span><br><span class="line"> [libin@centos-linux-1 x]$ yum install wget.x86_64</span><br></pre></td></tr></table></figure>
<h2 id="4-install-git"><a href="#4-install-git" class="headerlink" title="4. install git"></a>4. install git</h2><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">yum search git</span><br><span class="line">yum install git.x86_64</span><br></pre></td></tr></table></figure>
<p>defaultï¼Œgit havnâ€™t color, you can use under cmd give git add color</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ git config --global color.status auto </span><br><span class="line">$ git config --global color.diff auto </span><br><span class="line">$ git config --global color.branch auto </span><br><span class="line">$ git config --global color.interactive auto</span><br></pre></td></tr></table></figure>
<h2 id="5-install-netcat"><a href="#5-install-netcat" class="headerlink" title="5. install netcat"></a>5. install netcat</h2><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">yum search netcat</span><br><span class="line">yum install nmap-ncat.x86_64</span><br></pre></td></tr></table></figure>]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[äººå·¥æ™ºèƒ½ æœºå™¨å­¦ä¹ ã€ è®¡ç®—æœºè¯­è¨€å‘å±•å²ã€ æŠ€æœ¯èŒä½ ä»‹ç»]]></title>
      <url>http://iequa.com/2016/04/15/ops-internet-company-computer-introduce/</url>
      <content type="html"><![CDATA[<ul>
<li>äººå·¥æ™ºèƒ½ æœºå™¨å­¦ä¹  ä»‹ç»</li>
<li>è®¡ç®—æœºè¯­è¨€å‘å±•å²</li>
<li>æŠ€æœ¯èŒä½ä»‹ç»  </li>
</ul>
<a id="more"></a>
<p><img src="/images/ops/ops-ai-0.png" alt=""></p>
<h2 id="1-Machine-Learning-ML"><a href="#1-Machine-Learning-ML" class="headerlink" title="1. Machine Learning, ML"></a>1. Machine Learning, ML</h2><p>å¤šé¢†åŸŸäº¤å‰å­¦ç§‘ï¼Œæ¶‰åŠ <code>æ¦‚ç‡è®º</code>ã€<code>ç»Ÿè®¡å­¦</code>ã€<code>é€¼è¿‘è®º</code>ã€<code>å‡¸åˆ†æ</code>ã€<code>ä¿¡æ¯è®º</code>ã€ <code>ç®—æ³•å¤æ‚åº¦ç†è®º</code> ç­‰å¤šé—¨å­¦ç§‘ã€‚</p>
<p>ä¸“é—¨ç ”ç©¶è®¡ç®—æœºæ€æ ·æ¨¡æ‹Ÿæˆ–å®ç°äººç±»çš„å­¦ä¹ è¡Œä¸ºï¼Œä»¥è·å–æ–°çš„çŸ¥è¯†æˆ–æŠ€èƒ½ï¼Œé‡ç»„å·²æœ‰çš„çŸ¥è¯†ç»“æ„ä½¿ä¹‹ä¸æ–­æ”¹å–„è‡ªèº«çš„æ€§èƒ½ã€‚</p>
<p>æœºå™¨å­¦ä¹ æ˜¯ä¸€é—¨äººå·¥æ™ºèƒ½çš„ç§‘å­¦ï¼Œè¯¥é¢†åŸŸçš„ä¸»è¦ç ”ç©¶å¯¹è±¡æ˜¯äººå·¥æ™ºèƒ½ï¼Œç‰¹åˆ«æ˜¯å¦‚ä½•åœ¨ç»éªŒå­¦ä¹ ä¸­æ”¹å–„å…·ä½“ç®—æ³•çš„æ€§èƒ½â€</p>
<blockquote>
<p>ä½¿è®¡ç®—æœºå…·æœ‰å­¦ä¹ çš„èƒ½åŠ›</p>
</blockquote>
<p><img src="/images/ops/ops-ai-1.png" alt=""></p>
<h3 id="åº”ç”¨æ–¹å‘"><a href="#åº”ç”¨æ–¹å‘" class="headerlink" title="åº”ç”¨æ–¹å‘"></a>åº”ç”¨æ–¹å‘</h3><ul>
<li>è®¡ç®—æœºè§†è§‰ (äººè„¸è¯†åˆ«ã€æ‰«ææ–‡å­—è¯†åˆ«ã€å›¾ç‰‡å†…å®¹è¯†åˆ«ã€å›¾ç‰‡æœç´¢)</li>
<li>è‡ªç„¶è¯­è¨€å¤„ç† ï¼ˆå†…å®¹ç†è§£ã€æ–‡æœ¬æƒ…ç»ªåˆ¤æ–­ã€è¯­éŸ³è¯†åˆ«ã€è¾“å…¥æ³•ã€æœºå™¨ç¿»è¯‘ã€æœç´¢å¼•æ“æ™ºèƒ½åŒ¹é…ï¼‰</li>
<li>ç¤¾ä¼šç½‘ç»œåˆ†æ (ç”¨æˆ·ç”»åƒã€ç½‘ç»œå…³è”ã€åæ¬ºè¯ˆã€çƒ­ç‚¹å‘ç°)</li>
<li>æ¨èç³»ç»Ÿ ï¼ˆéŸ³ä¹ã€å•†å“ã€è§†é¢‘ã€å¹¿å‘Š æ¨èï¼‰</li>
<li>â€¦</li>
</ul>
<blockquote>
<p>å»¶ä¼¸ : æ·±åº¦å­¦ä¹ ã€å¼ºåŒ–å­¦ä¹ ï¼Œè¿ç§»å­¦ä¹ â€¦     </p>
</blockquote>
<h3 id="ä¸¾ä¸ªæ —å­"><a href="#ä¸¾ä¸ªæ —å­" class="headerlink" title="ä¸¾ä¸ªæ —å­"></a>ä¸¾ä¸ªæ —å­</h3><p><img src="/images/ops/ops-ai-2.png" alt=""></p>
<ul>
<li><p><a href="/2016/10/08/ml-coursera-ng-w2-01-Linear-Regression/">çº¿æ€§å›å½’ é¢„æµ‹æˆ¿ä»·</a></p>
</li>
<li><p><a href="/2016/08/16/ml-decisionTree-model/">å†³ç­–æ ‘ åˆ¤æ–­å‡ºå»ç©</a></p>
</li>
</ul>
<blockquote>
<p>éœ€è¦åŒæ—¶å…·å¤‡ ç®—æ³•èƒ½åŠ› + å·¥ç¨‹èƒ½åŠ›</p>
</blockquote>
<h2 id="2-è®¡ç®—æœºå‘å±•å²"><a href="#2-è®¡ç®—æœºå‘å±•å²" class="headerlink" title="2. è®¡ç®—æœºå‘å±•å²"></a>2. è®¡ç®—æœºå‘å±•å²</h2><ol>
<li>æœºå™¨è¯­è¨€</li>
<li>æ±‡ç¼–è¯­è¨€</li>
<li>C / C++è¯­è¨€</li>
<li>é¢å‘å¯¹è±¡çš„è¯­è¨€ (Javaâ€¦)</li>
<li>SQL ç»“æ„åŒ–è¯­è¨€  </li>
</ol>
<p><img src="/images/ops/ops-computer-1.png" alt=""> </p>
<blockquote>
<p>è®¡ç®—æœºè¯­è¨€(å¯¹è®¡ç®—æœºè¯´çš„è¯), è®¡ç®—æœºè¯­è¨€æœç€äººç±»æ˜“äºç†è§£çš„æ–¹å‘å‘å±• </p>
<p>è®¡ç®—æœº (ç¡¬ä»¶ä¸è½¯ä»¶ ~~ äººçš„å¤´é¢…ä¸æ€æƒ³) </p>
<p>OS ï¼š å¤§è„‘çš„å¸ä»¤éƒ¨</p>
<p>æ“ä½œç³»ç»Ÿæ˜¯ä¸€ç»„æ§åˆ¶å’Œç®¡ç†è®¡ç®—æœºç¡¬ä»¶å’Œè½¯ä»¶èµ„æº, åˆç†åœ°å¯¹å„ç±»ä½œä¸šè¿›è¡Œè°ƒåº¦ä»¥æ–¹ä¾¿ç”¨æˆ·ä½¿ç”¨çš„ç¨‹åºé›†åˆã€‚</p>
</blockquote>
<h2 id="3-æŠ€æœ¯èŒä½ä»‹ç»"><a href="#3-æŠ€æœ¯èŒä½ä»‹ç»" class="headerlink" title="3. æŠ€æœ¯èŒä½ä»‹ç»"></a>3. æŠ€æœ¯èŒä½ä»‹ç»</h2><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">  è¿ç»´ (ä¸€èˆ¬åç«¯)  </span><br><span class="line">  åç«¯ (Javaã€[Python/php/golang]...ã€ä¸šåŠ¡ &amp; æ¶æ„...)    </span><br><span class="line">  æµ‹è¯• (æ€§èƒ½æµ‹è¯•ã€åŠŸèƒ½æµ‹è¯•ã€æ¥å£æµ‹è¯•ã€è‡ªåŠ¨åŒ–æµ‹è¯•...)</span><br><span class="line">  å‰ç«¯ (htmlã€cssã€js...)  </span><br><span class="line">  å®¢æˆ·ç«¯ (iosã€andriod)  </span><br><span class="line">  å¤§æ•°æ® (</span><br><span class="line">     1. æ•°æ®åˆ†æ</span><br><span class="line">     2. æ•°æ®ä»“åº“</span><br><span class="line">     3. æ•°æ®å¼€å‘</span><br><span class="line">     4. ç®—æ³•å¼€å‘ (NLPã€RSã€æ•°æ®æŒ–æ˜ã€åæ¬ºè¯ˆ)... DLã€æ•°æ®ç§‘å­¦å®¶</span><br><span class="line">     5. ç®—æ³•ç ”ç©¶å‘˜</span><br><span class="line">     6. å¤§æ•°æ®è¿ç»´...</span><br><span class="line">)</span><br></pre></td></tr></table></figure>
<blockquote>
<p>å·¥ç¨‹ç±»æ˜¯ç›¸é€šçš„ (å·¥ç¨‹ &amp; ç­–ç•¥ ä¸¤å¤§ç±»)</p>
</blockquote>
<h2 id="Reference"><a href="#Reference" class="headerlink" title="Reference"></a>Reference</h2><ul>
<li><p><a href="https://blog.csdn.net/sinat_31828101/article/details/50500282" target="_blank" rel="external">è®¡ç®—æœºç»„ä»¶åŠæ“ä½œç³»ç»ŸåŸºç¡€çŸ¥è¯†</a></p>
</li>
<li><p><a href="http://www.10tiao.com/html/374/201603/402202511/1.html" target="_blank" rel="external">æœºå™¨å­¦ä¹ ï¼šå…¥é—¨æ–¹æ³•ä¸å­¦ä¹ è·¯å¾„ (é™„èµ„æ–™)</a></p>
</li>
<li><p><a href="http://www.cnblogs.com/subconscious/p/4107357.html" target="_blank" rel="external">ä»æœºå™¨å­¦ä¹ è°ˆèµ·</a></p>
</li>
</ul>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[SBT Hello]]></title>
      <url>http://iequa.com/2016/03/16/spark-scala-sbt-hello/</url>
      <content type="html"><![CDATA[<ol>
<li>ä»€ä¹ˆæ˜¯ SBT ?</li>
<li>SBT é¡¹ç›®å·¥ç¨‹ç›®å½•</li>
<li>SBT ç¼–è¯‘æ‰“åŒ… Scala HelloWorld</li>
</ol>
<a id="more"></a>
<h2 id="1-SBT-What"><a href="#1-SBT-What" class="headerlink" title="1. SBT, What?"></a>1. SBT, What?</h2><p>SBT æ˜¯ Simple Build Tool çš„ç®€ç§°. SBT å¯ä»¥è®¤ä¸ºæ˜¯ Scala ä¸–ç•Œçš„ mavenã€‚</p>
<p>SBTçš„ç€è¿·ç‰¹æ€§ï¼Œæ¯”å¦‚ï¼š</p>
<ol>
<li>DSL buildæ„å»º, å¹¶å¯æ··åˆæ„å»º Java å’Œ Scala é¡¹ç›®ï¼›</li>
<li>é€šè¿‡è§¦å‘æ‰§è¡Œ (trigger execution) ç‰¹æ€§æ”¯æŒæŒç»­çš„ç¼–è¯‘ä¸æµ‹è¯•ï¼›</li>
<li>å¯ä»¥é‡ç”¨ Maven æˆ–è€… ivyçš„repository è¿›è¡Œä¾èµ–ç®¡ç†ï¼›</li>
<li>å¢é‡ç¼–è¯‘ã€å¹¶è¡Œä»»åŠ¡ç­‰ç­‰â€¦</li>
</ol>
<h2 id="2-Hello-SBT"><a href="#2-Hello-SBT" class="headerlink" title="2. Hello, SBT"></a>2. Hello, SBT</h2><p>ä¸€ä¸ªæè‡´ç®€å•çš„ Scalaé¡¹ç›® ï¼ˆhello simple projectï¼‰</p>
<p>hello/HelloWorld.scala</p>
<figure class="highlight scala"><table><tr><td class="code"><pre><span class="line"><span class="class"><span class="keyword">object</span> <span class="title">HelloWorld</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">main</span></span>(args: <span class="type">Array</span>[<span class="type">String</span>]) &#123;</span><br><span class="line">        println(<span class="string">"Hello, SBT"</span>)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>sbt run</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">âœ  hello git:(master) âœ— sbt</span><br><span class="line">[info] Set current project to hello (in build file:/Users/hp/ghome/Spark-Scala/hello/)</span><br><span class="line">&gt; run</span><br><span class="line">[info] Updating &#123;file:/Users/hp/ghome/Spark-Scala/hello/&#125;hello...</span><br><span class="line">[info] Resolving org.fusesource.jansi#jansi;1.4 ...</span><br><span class="line">[info] Done updating.</span><br><span class="line">[info] Compiling 1 Scala source to /Users/hp/ghome/Spark-Scala/hello/target/scala-2.10/classes...</span><br><span class="line">[info] Running HelloWorld</span><br><span class="line">Hello, SBT</span><br><span class="line">[success] Total time: 3 s, completed 2016-3-17 9:38:44</span><br><span class="line">&gt;</span><br></pre></td></tr></table></figure>
<h2 id="3-SBT-é¡¹ç›®å·¥ç¨‹ç»“æ„è¯¦è§£"><a href="#3-SBT-é¡¹ç›®å·¥ç¨‹ç»“æ„è¯¦è§£" class="headerlink" title="3. SBT é¡¹ç›®å·¥ç¨‹ç»“æ„è¯¦è§£"></a>3. SBT é¡¹ç›®å·¥ç¨‹ç»“æ„è¯¦è§£</h2><p>ä¸€ä¸ªå…¸å‹çš„SBTé¡¹ç›®å·¥ç¨‹ç»“æ„å¦‚ä¸‹å›¾æ‰€ç¤ºï¼š</p>
<p><img src="https://segmentfault.com/img/bVtyRb" alt="å›¾ç‰‡æè¿°"></p>
<p><strong> build.sbt è¯¦è§£ </strong></p>
<p>build.sbt ç›¸å½“äº maven-pom.xmlï¼Œå®ƒæ˜¯buildå®šä¹‰æ–‡ä»¶ã€‚ </p>
<p>SBT è¿è¡Œ ä½¿ç”¨ 2 ç§å½¢å¼ çš„ build å®šä¹‰æ–‡ä»¶ï¼Œ</p>
<ol>
<li>one, put your projectâ€™s base directoryï¼Œâ€“ build.sbtï¼Œ a simple build definitionï¼› </li>
<li>other one, put project directoryï¼Œcan Use Scala language, more expressiveã€‚</li>
</ol>
<p>ä¸€ä¸ªç®€å•çš„build.sbtæ–‡ä»¶å†…å®¹å¦‚ä¸‹ï¼š</p>
<figure class="highlight scala"><table><tr><td class="code"><pre><span class="line">name := <span class="string">"hello"</span>      <span class="comment">// é¡¹ç›®åç§°</span></span><br><span class="line"></span><br><span class="line">organization := <span class="string">"xxx.xxx.xxx"</span>  <span class="comment">// ç»„ç»‡åç§°</span></span><br><span class="line"></span><br><span class="line">version := <span class="string">"0.0.1-SNAPSHOT"</span>  <span class="comment">// ç‰ˆæœ¬å·</span></span><br><span class="line"></span><br><span class="line">scalaVersion := <span class="string">"2.9.2"</span>   <span class="comment">// ä½¿ç”¨çš„Scalaç‰ˆæœ¬å·</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">// å…¶å®ƒbuildå®šä¹‰</span></span><br></pre></td></tr></table></figure>
<p> name å’Œ versionçš„å®šä¹‰æ˜¯å¿…é¡»çš„ï¼Œå› ä¸ºå¦‚æœæƒ³ç”ŸæˆjaråŒ…çš„è¯ï¼Œè¿™ä¸¤ä¸ªå±æ€§çš„å€¼å°†ä½œä¸ºjaråŒ…åç§°çš„ä¸€éƒ¨åˆ†, å„è¡Œä¹‹é—´ä»¥ç©ºè¡Œåˆ†éš”ã€‚<br>é™¤äº†å®šä¹‰ä»¥ä¸Šé¡¹ç›®ç›¸å…³ä¿¡æ¯ï¼Œæˆ‘ä»¬è¿˜å¯ä»¥åœ¨build.sbtä¸­æ·»åŠ é¡¹ç›®ä¾èµ–ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">// æ·»åŠ æºä»£ç ç¼–è¯‘æˆ–è€…è¿è¡ŒæœŸé—´ä½¿ç”¨çš„ä¾èµ–</span><br><span class="line">libraryDependencies += &quot;ch.qos.logback&quot; % &quot;logback-core&quot; % &quot;1.0.0&quot;</span><br><span class="line"></span><br><span class="line">libraryDependencies += &quot;ch.qos.logback&quot; % &quot;logback-classic&quot; % &quot;1.0.0&quot;</span><br><span class="line"></span><br><span class="line">// æˆ–è€…</span><br><span class="line"></span><br><span class="line">libraryDependencies ++= Seq(</span><br><span class="line">                            &quot;ch.qos.logback&quot; % &quot;logback-core&quot; % &quot;1.0.0&quot;,</span><br><span class="line">                            &quot;ch.qos.logback&quot; % &quot;logback-classic&quot; % &quot;1.0.0&quot;,</span><br><span class="line">                            ...</span><br><span class="line">                            )</span><br><span class="line"></span><br><span class="line">// æ·»åŠ æµ‹è¯•ä»£ç ç¼–è¯‘æˆ–è€…è¿è¡ŒæœŸé—´ä½¿ç”¨çš„ä¾èµ–</span><br><span class="line">libraryDependencies ++= Seq(&quot;org.scalatest&quot; %% &quot;scalatest&quot; % &quot;1.8&quot; % &quot;test&quot;)</span><br></pre></td></tr></table></figure>
<p>å½“ç„¶ï¼Œ build.sbtæ–‡ä»¶ä¸­è¿˜å¯ä»¥å®šä¹‰å¾ˆå¤šä¸œè¥¿ï¼Œæ¯”å¦‚æ·»åŠ æ’ä»¶ï¼Œå£°æ˜é¢å¤–çš„repositoryï¼Œå£°æ˜å„ç§ç¼–è¯‘å‚æ•°ç­‰ç­‰</p>
<p><strong> projectç›®å½•å³ç›¸å…³æ–‡ä»¶ä»‹ç» </strong></p>
<p>projectç›®å½•ä¸‹çš„å‡ ä¸ªæ–‡ä»¶å¯ä»¥æ ¹æ®æƒ…å†µæ·»åŠ ã€‚</p>
<p>build.properties æ–‡ä»¶å£°æ˜ä½¿ç”¨çš„è¦ä½¿ç”¨å“ªä¸ªç‰ˆæœ¬çš„SBTæ¥ç¼–è¯‘å½“å‰é¡¹ç›®ï¼Œ æœ€æ–°çš„sbt boot launcherå¯ä»¥èƒ½å¤Ÿå…¼å®¹ç¼–è¯‘æ‰€æœ‰0.10.xç‰ˆæœ¬çš„SBTæ„å»ºé¡¹ç›®ï¼Œæ¯”å¦‚å¦‚æœæˆ‘ä½¿ç”¨çš„æ˜¯0.12ç‰ˆæœ¬çš„sbtï¼Œä½†å´æƒ³ç”¨0.11.3ç‰ˆæœ¬çš„sbtæ¥ç¼–è¯‘å½“å‰é¡¹ç›®ï¼Œåˆ™å¯ä»¥åœ¨build.propertiesæ–‡ä»¶ä¸­æ·»åŠ sbt.version=0.11.3æ¥æŒ‡å®šã€‚</p>
<p>plugins.sbt æ–‡ä»¶ç”¨æ¥å£°æ˜å½“å‰é¡¹ç›®å¸Œæœ›ä½¿ç”¨å“ªäº›æ’ä»¶æ¥å¢å¼ºå½“å‰é¡¹ç›®ä½¿ç”¨çš„sbtçš„åŠŸèƒ½ï¼Œæ¯”å¦‚åƒassemblyåŠŸèƒ½ï¼Œæ¸…ç†ivy local cacheåŠŸèƒ½ï¼Œéƒ½æœ‰ç›¸åº”çš„sbtæ’ä»¶ä¾›ä½¿ç”¨ï¼Œ è¦ä½¿ç”¨è¿™äº›æ’ä»¶åªéœ€è¦åœ¨ plugins.sbt ä¸­å£°æ˜å³å¯.</p>
<p>ä¸ºäº†èƒ½å¤ŸæˆåŠŸåŠ è½½è¿™äº›sbtæ’ä»¶ï¼Œæˆ‘ä»¬å°†ä»–ä»¬çš„æŸ¥æ‰¾ä½ç½®æ·»åŠ åˆ°resoloverså½“ä¸­.</p>
<p><strong> å…¶ä»– </strong></p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">$ touch build.sbt</span><br><span class="line">$ mkdir src</span><br><span class="line">$ mkdir src/main</span><br><span class="line">$ mkdir src/main/java</span><br><span class="line">$ mkdir src/main/resources</span><br><span class="line">$ mkdir src/main/scala</span><br><span class="line">$ mkdir src/test</span><br><span class="line">$ mkdir src/test/java</span><br><span class="line">$ mkdir src/test/resources</span><br><span class="line">$ mkdir src/test/scala</span><br><span class="line">$ mkdir project</span><br><span class="line">$ ...</span><br></pre></td></tr></table></figure>
<p>å¯ä»¥ä½¿ç”¨giter8æ¥è‡ªåŠ¨åŒ–ä»¥ä¸Šæ­¥éª¤.<br>giter8çš„æ›´å¤šä¿¡æ¯å¯å‚è€ƒ<a href="https://github.com//giter8" target="_blank" rel="external">https://github.com//giter8</a>.</p>
<h2 id="4-SBT-Cmd"><a href="#4-SBT-Cmd" class="headerlink" title="4. SBT Cmd"></a>4. SBT Cmd</h2><ol>
<li>actions â€“ æ˜¾ç¤ºå¯¹å½“å‰å·¥ç¨‹å¯ç”¨çš„å‘½ä»¤</li>
<li>update â€“ ä¸‹è½½ä¾èµ–</li>
<li>compile â€“ ç¼–è¯‘ä»£ç </li>
<li>test â€“ è¿è¡Œæµ‹è¯•ä»£ç </li>
<li>package â€“ åˆ›å»ºä¸€ä¸ªå¯å‘å¸ƒçš„jaråŒ…</li>
<li>publish-local â€“ æŠŠæ„å»ºå‡ºæ¥çš„jaråŒ…å®‰è£…åˆ°æœ¬åœ°çš„ivyç¼“å­˜</li>
<li>publish â€“ æŠŠjaråŒ…å‘å¸ƒåˆ°è¿œç¨‹ä»“åº“ï¼ˆå¦‚æœé…ç½®äº†çš„è¯)</li>
</ol>
<p>more cmd</p>
<ol>
<li>test-failed â€“ è¿è¡Œå¤±è´¥çš„spec</li>
<li>test-quick â€“ è¿è¡Œæ‰€æœ‰å¤±è´¥çš„ä»¥åŠ/æˆ–è€…æ˜¯ç”±ä¾èµ–æ›´æ–°çš„spec</li>
<li>clean-cache â€“ æ¸…é™¤æ‰€æœ‰çš„sbtç¼“å­˜ã€‚ç±»ä¼¼äºsbtçš„cleanå‘½ä»¤</li>
<li>clean-lib â€“ åˆ é™¤lib_managedä¸‹çš„æ‰€æœ‰å†…å®¹</li>
</ol>
<h2 id="5-Scala-HelloWorld"><a href="#5-Scala-HelloWorld" class="headerlink" title="5. Scala HelloWorld"></a>5. Scala HelloWorld</h2><p>SBT Scala HelloWorld å…·ä½“è¯·çœ‹ : <a href="https://github.com/blair1/language/tree/master/scala/ScalaWorld" target="_blank" rel="external">Scala-Projects/HelloWorld</a></p>
<p>âœ  HelloWorld&gt; sbt package</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">[info] Loading project definition from /Users/hp/spark/HelloWorld/project</span><br><span class="line">[info] Set current project to HelloWorld (in build file:/Users/hp/spark/HelloWorld/)</span><br><span class="line">[info] Packaging /Users/hp/spark/HelloWorld/target/scala-2.11/helloworld_2.11-0.0.1-SNAPSHOT.jar ...</span><br><span class="line">[info] Done packaging.</span><br><span class="line">[success] Total time: 1 s, completed 2016-3-17 9:05:44</span><br></pre></td></tr></table></figure>
<p>âœ  HelloWorld&gt; sbt run</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">[info] Loading project definition from /Users/hp/spark/HelloWorld/project</span><br><span class="line">[info] Set current project to HelloWorld (in build file:/Users/hp/spark/HelloWorld/)</span><br><span class="line">[info] Running Hi</span><br><span class="line">Hi!</span><br><span class="line">[success] Total time: 1 s, completed 2016-3-17 9:07:43</span><br></pre></td></tr></table></figure>
<h2 id="6-Spark-HelloWorld"><a href="#6-Spark-HelloWorld" class="headerlink" title="6. Spark HelloWorld"></a>6. Spark HelloWorld</h2><p>Spark HelloWorld å…·ä½“è¯·çœ‹ : <a href="https://github.com/blair1/hadoop-spark/tree/master/spark/HelloWorld" target="_blank" rel="external">Spark-Projects/HelloWorld</a></p>
<p>âœ  HelloWorld&gt; sbt compile<br>âœ  HelloWorld&gt; sbt package</p>
<pre><code class="shell">$SPARK_HOME/bin/spark-submit \
  --class &quot;HelloWorld&quot; \
    target/scala-2.11/helloworld_2.11-1.0.jar
</code></pre>
<h2 id="7-Referenced-article"><a href="#7-Referenced-article" class="headerlink" title="7. Referenced article"></a>7. Referenced article</h2><p>å‚è€ƒ : <a href="http://www.scala-sbt.org/0.13/docs/zh-cn/Getting-Started.html" target="_blank" rel="external">scala-sbt.org/0.13/docs/zh-cn/Getting-Started.html</a><br>å‚è€ƒ : <a href="https://github.com/CSUG/real_world_scala/blob/master/02_sbt.markdown" target="_blank" rel="external">CSUG/real_world_scala/blob/master/02_sbt.markdown</a><br>å‚è€ƒ : <a href="http://www.scala-sbt.org/0.13.1/docs/Getting-Started/Hello.html" target="_blank" rel="external">scala-sbt.org/0.13.1/docs/Getting-Started</a><br>å‚è€ƒ : <a href="http://article.yeeyan.org/view/442873/404261" target="_blank" rel="external">è¯‘è¨€ç½‘</a></p>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[å¤§æ•°æ®å¹³å°CDHé›†ç¾¤åœ¨çº¿å®‰è£…]]></title>
      <url>http://iequa.com/2016/03/14/hadoop-cdh-install-online/</url>
      <content type="html"><![CDATA[<p>ä»‹ç»äº† CDH é›†ç¾¤çš„æ­å»ºä¸å®‰è£…ï¼Œå…¶ä¸­ Server å®‰è£…æ­¥éª¤éå¸¸å‡†ç¡®, Agent éœ€è¦è¿›ä¸€æ­¥éªŒè¯.</p>
<a id="more"></a>
<p>æ ‡ç­¾ï¼š Cloudera-Manager CDH Hadoop éƒ¨ç½² é›†ç¾¤</p>
<blockquote>
<p>æ‘˜è¦ï¼šç®¡ç†ã€éƒ¨ç½²Hadoopé›†ç¾¤éœ€è¦å·¥å…·ï¼ŒCloudera Managerä¾¿æ˜¯å…¶ä¸€ã€‚æœ¬æ–‡è¯¦ç»†è®°å½•äº†ä»¥åœ¨çº¿æ–¹å¼éƒ¨ç½²CDHé›†ç¾¤&gt;çš„æ­¥éª¤ã€‚</p>
</blockquote>
<p>ä»¥Apache Hadoopä¸ºä¸»å¯¼çš„å¤§æ•°æ®æŠ€æœ¯çš„å‡ºç°ï¼Œä½¿å¾—ä¸­å°å‹å…¬å¸å¯¹äºå¤§æ•°æ®çš„å­˜å‚¨ä¸å¤„ç†ä¹Ÿæ‹¥æœ‰äº†æ­¦å™¨ã€‚</p>
<p>ç›®å‰Hadoopæ¯”è¾ƒæµè¡Œçš„ä¸»è¦æœ‰2ä¸ªç‰ˆæœ¬ï¼ŒApacheå’ŒClouderaç‰ˆæœ¬ã€‚</p>
<p>Apache Hadoopï¼šç»´æŠ¤äººå‘˜æ¯”è¾ƒå¤šï¼Œæ›´æ–°é¢‘ç‡æ¯”è¾ƒå¿«ï¼Œä½†æ˜¯ç¨³å®šæ€§æ¯”è¾ƒå·®ã€‚<br>Cloudera Hadoopï¼ˆCDHï¼‰ï¼šCDHï¼šClouderaå…¬å¸çš„å‘è¡Œç‰ˆæœ¬ï¼ŒåŸºäºApache Hadoopçš„äºŒæ¬¡å¼€å‘ï¼Œä¼˜åŒ–äº†ç»„ä»¶å…¼å®¹å’Œäº¤äº’æ¥å£ã€ç®€åŒ–å®‰è£…é…ç½®ã€å¢åŠ Clouderaå…¼å®¹ç‰¹æ€§ã€‚</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">å¤§æ•°æ®å¹³å°CDHé›†ç¾¤ cdh-5.70-rpm_install è¯¦ç»†è¿‡ç¨‹</span><br></pre></td></tr></table></figure>
<h1 id="Part-1-install-cdh-server"><a href="#Part-1-install-cdh-server" class="headerlink" title="Part 1 install cdh server"></a>Part 1 install cdh server</h1><h2 id="1-1-Ready-install-resources"><a href="#1-1-Ready-install-resources" class="headerlink" title="1.1 Ready install resources"></a>1.1 Ready install resources</h2><ol>
<li>CentOS Linux release 7.1.1503 (Core) cm-5.7.0 </li>
<li>cloudera-manager-installer.bin</li>
<li>adduser deploy</li>
</ol>
<p>centos7.1 åœ¨å®‰è£…è¿‡ç¨‹æ—¶ï¼Œç½‘ç»œé…ç½®ï¼Œè®¾ç½®é™æ€IP</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">vim /etc/sysconfig/network-scripts/ifcfg-eth0</span><br></pre></td></tr></table></figure>
<p>è®¾ç½®é™æ€ipï¼Œä»¥åŠæŒ‡å®šipåœ°å€</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">DEVICE=&quot;eth0&quot;</span><br><span class="line">BOOTPROTO=&quot;static&quot;</span><br><span class="line">IPADDR=192.168.1.110</span><br><span class="line">NM_CONTROLLED=&quot;yes&quot;</span><br><span class="line">ONBOOT=&quot;yes&quot;</span><br><span class="line">TYPE=&quot;Ethernet&quot;</span><br><span class="line">DNS1=8.8.8.8</span><br><span class="line">DNS2=8.8.4.4</span><br><span class="line">GATEWAY=192.168.1.1</span><br></pre></td></tr></table></figure>
<h2 id="1-2-ç½‘ç»œé…ç½®ï¼ˆæ‰€æœ‰èŠ‚ç‚¹ï¼‰"><a href="#1-2-ç½‘ç»œé…ç½®ï¼ˆæ‰€æœ‰èŠ‚ç‚¹ï¼‰" class="headerlink" title="1.2 ç½‘ç»œé…ç½®ï¼ˆæ‰€æœ‰èŠ‚ç‚¹ï¼‰"></a>1.2 ç½‘ç»œé…ç½®ï¼ˆæ‰€æœ‰èŠ‚ç‚¹ï¼‰</h2><p><strong>ä¿®æ”¹hostnameä¸º cdh-server7</strong></p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">ã€€ã€€RedHat çš„ hostnameï¼Œå°±ä¿®æ”¹ /etc/sysconfig/networkæ–‡ä»¶ï¼Œå°†é‡Œé¢çš„ HOSTNAME è¿™ä¸€è¡Œä¿®æ”¹æˆ HOSTNAME=NEWNAMEï¼Œå…¶ä¸­ NEWNAME å°±æ˜¯ä½ è¦è®¾ç½®çš„ hostnameã€‚</span><br><span class="line"></span><br><span class="line">ã€€ã€€Debianå‘è¡Œç‰ˆçš„ hostname çš„é…ç½®æ–‡ä»¶æ˜¯ /etc/hostname</span><br></pre></td></tr></table></figure>
<p><strong>ä¿®æ”¹ipä¸ä¸»æœºåçš„å¯¹åº”å…³ç³»</strong></p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">[root@cdh-server7 ~]# vi /etc/hosts #ä¿®æ”¹ipä¸ä¸»æœºåçš„å¯¹åº”å…³ç³»:</span><br><span class="line">192.168.181.190 node190</span><br><span class="line">192.168.181.198 node198</span><br><span class="line">192.168.181.196 node196</span><br></pre></td></tr></table></figure>
<p><strong>é‡å¯ç½‘ç»œæœåŠ¡ç”Ÿæ•ˆ</strong></p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">[root@cdh-server7 ~]# service network restart</span><br></pre></td></tr></table></figure>
<p><strong>å…³é—­SELINUX</strong></p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">æŸ¥çœ‹SELINUXçŠ¶æ€</span><br><span class="line"></span><br><span class="line">[root@cdh-server7 ~]#getenforce</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">è‹¥ SELINUX æ²¡æœ‰å…³é—­ï¼ŒæŒ‰ç…§ä¸‹è¿°æ–¹å¼å…³é—­</span><br><span class="line"></span><br><span class="line">vi /etc/selinux/config</span><br><span class="line">ä¿®æ”¹SELinux=disabledã€‚é‡å¯ç”Ÿæ•ˆï¼Œå¯ä»¥ç­‰åé¢éƒ½è®¾ç½®å®Œäº†é‡å¯ä¸»æœº</span><br><span class="line"># This file controls the state of SELinux on the system.</span><br><span class="line"># SELINUX= can take one of these three values:</span><br><span class="line">#       enforcing - SELinux security policy is enforced.</span><br><span class="line">#       permissive - SELinux prints warnings instead of enforcing.</span><br><span class="line">#       disabled - SELinux is fully disabled.</span><br><span class="line">SELINUX=disabled</span><br><span class="line"># SELINUXTYPE= type of policy in use. Possible values are:</span><br><span class="line">#       targeted - Only targeted network daemons are protected.</span><br><span class="line">#       strict - Full SELinux protection.</span><br><span class="line">SELINUXTYPE=targeted</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">[root@cdh-server7 ~]# ping www.baidu.com</span><br></pre></td></tr></table></figure>
<p>ä»¥ä¸Šæ­¥éª¤æ‰§è¡Œå®Œæ¯•åï¼Œé‡å¯ä¸»æœº</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">reboot</span><br></pre></td></tr></table></figure>
<p>é‡å¯åå†æ¬¡æ£€æŸ¥ä¸‹ä»¥ä¸Šå‡ ç‚¹ï¼Œç¡®ä¿ç¯å¢ƒé…ç½®æ­£ç¡®ã€‚</p>
<h2 id="1-3-å¸è½½-openjdk-æ‰€æœ‰èŠ‚ç‚¹"><a href="#1-3-å¸è½½-openjdk-æ‰€æœ‰èŠ‚ç‚¹" class="headerlink" title="1.3 å¸è½½ openjdk (æ‰€æœ‰èŠ‚ç‚¹)"></a>1.3 å¸è½½ openjdk (æ‰€æœ‰èŠ‚ç‚¹)</h2><blockquote>
<p>æ³¨æ„ : å¦‚æœæ²¡æœ‰openjdk, åˆ™ä¸éœ€è¦å¸è½½ï¼Œé»˜è®¤ centos7 æ²¡æœ‰</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">[root@cdh-server7 deploy]# rpm -qa | grep java</span><br><span class="line">[root@cdh-server7 deploy]# rpm -qa | grep jdk</span><br><span class="line"></span><br><span class="line"># if exist java or jdk, uninstall, erase it.  example under this...</span><br><span class="line">[root@cdh-server7 deploy]# rpm -e --nodeps java-1.5.0-gcj-1.5.0.0-29.1.el6.x86_64</span><br><span class="line">[root@cdh-server7 deploy]# rpm -e --nodeps java-1.6.0-openjdk-1.6.0.0-1.66.1.13.0.el6.x86_64</span><br><span class="line">[root@cdh-server7 deploy]# rpm -e --nodeps java-1.7.0-openjdk-1.7.0.45-2.4.3.3.el6.x86_64</span><br></pre></td></tr></table></figure>
<h2 id="1-4-å¸è½½-centOS7-é»˜è®¤mysql"><a href="#1-4-å¸è½½-centOS7-é»˜è®¤mysql" class="headerlink" title="1.4 å¸è½½ centOS7 é»˜è®¤mysql"></a>1.4 å¸è½½ centOS7 é»˜è®¤mysql</h2><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">[root@cdh-server7 deploy]# rpm -qa | grep mariadb</span><br><span class="line">[root@cdh-server7 deploy]# rpm -e --nodeps mariadb-libs-5.5.41-2.el7_0.x86_64</span><br></pre></td></tr></table></figure>
<h2 id="1-5-Cloudera-Managerå®‰è£…"><a href="#1-5-Cloudera-Managerå®‰è£…" class="headerlink" title="1.5 Cloudera Managerå®‰è£…"></a>1.5 Cloudera Managerå®‰è£…</h2><p>ä¸‹è½½èµ„æºæ–‡ä»¶<a href="https://archive.cloudera.com/cm5/redhat/7/x86_64/cm/cloudera-manager.repo" target="_blank" rel="external">https://archive.cloudera.com/cm5/redhat/7/x86_64/cm/cloudera-manager.repo</a></p>
<p>å°†cloudera-manager.repoæ–‡ä»¶æ‹·è´åˆ°æ‰€æœ‰èŠ‚ç‚¹çš„/etc/yum.repos.d/æ–‡ä»¶å¤¹ä¸‹</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">[root@node196 ]# cd /home/deploy/cdh</span><br><span class="line">[root@node196 cdh]# wget https://archive.cloudera.com/cm5/redhat/7/x86_64/cm/cloudera-manager.repo</span><br><span class="line">[root@cdh-server7 cdh]# mv cloudera-manager.repo /etc/yum.repos.d/</span><br></pre></td></tr></table></figure>
<p>éªŒè¯repoæ–‡ä»¶æ˜¯å¦èµ·æ•ˆ</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">yum list|grep cloudera</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">[root@cdh-server7 cdh]# yum list | grep cloudera</span><br><span class="line">cloudera-manager-agent.x86_64           5.7.0-1.cm560.p0.54.el7        cloudera-manager</span><br><span class="line">cloudera-manager-daemons.x86_64         5.7.0-1.cm560.p0.54.el7        cloudera-manager</span><br><span class="line">cloudera-manager-server.x86_64          5.7.0-1.cm560.p0.54.el7        cloudera-manager</span><br><span class="line">cloudera-manager-server-db-2.x86_64     5.7.0-1.cm560.p0.54.el7        cloudera-manager</span><br><span class="line">enterprise-debuginfo.x86_64             5.7.0-1.cm560.p0.54.el7        cloudera-manager</span><br><span class="line">oracle-j2sdk1.7.x86_64                  1.7.0+update67-1               cloudera-manager</span><br></pre></td></tr></table></figure>
<p>å¦‚æœåˆ—å‡ºçš„ä¸æ˜¯ä½ å®‰è£…çš„ç‰ˆæœ¬ï¼Œæ‰§è¡Œä¸‹é¢å‘½ä»¤é‡è¯•</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">yum clean all </span><br><span class="line">yum list | grep cloudera</span><br></pre></td></tr></table></figure>
<p>ä¸Šä¼ ä¸‹åˆ— <strong>rpm åŒ…</strong> åˆ° [root@cdh-server7] çš„ /home/deploy/cdh/cloudera-rpms (ä»»æ„ç›®å½•)</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">cd /home/deploy/cdh/cloudera-rpms</span><br><span class="line">cloudera-manager-agent-5.7.0-1.cm560.p0.54.el7.x86_64.rpm</span><br><span class="line">cloudera-manager-daemons-5.7.0-1.cm560.p0.54.el7.x86_64.rpm</span><br><span class="line">cloudera-manager-server-5.7.0-1.cm560.p0.54.el7.x86_64.rpm   ## agent not use</span><br><span class="line">cloudera-manager-server-db-2-5.7.0-1.cm560.p0.54.el7.x86_64.rpm  ## agent not use</span><br><span class="line">enterprise-debuginfo-5.7.0-1.cm560.p0.54.el7.x86_64.rpm</span><br><span class="line">oracle-j2sdk1.7-1.7.0+update67-1.x86_64.rpm</span><br></pre></td></tr></table></figure>
<blockquote>
<p>è¯´æ˜ : å¯ä»<a href="https://archive.cloudera.com/cm5/redhat/7/x86_64/cm/5/RPMS/x86_64/" target="_blank" rel="external">https://archive.cloudera.com/cm5/redhat/7/x86_64/cm/5/RPMS/x86_64/</a> ä¸‹è½½ç›¸å…³rpmåŒ…</p>
</blockquote>
<p>åˆ‡æ¢åˆ°rpmsç›®å½•ä¸‹ï¼Œæ‰§è¡Œ</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">[root@cdh-server7 cdh]# cd /home/deploy/cdh/cloudera-rpms/</span><br><span class="line">[root@cdh-server7 cloudera-rpms]# yum -y install *.rpm</span><br></pre></td></tr></table></figure>
<h2 id="1-6-æ‹·è´èµ„æºåŒ…åˆ°ç›®æ ‡ç›®å½•"><a href="#1-6-æ‹·è´èµ„æºåŒ…åˆ°ç›®æ ‡ç›®å½•" class="headerlink" title="1.6 æ‹·è´èµ„æºåŒ…åˆ°ç›®æ ‡ç›®å½•"></a>1.6 æ‹·è´èµ„æºåŒ…åˆ°ç›®æ ‡ç›®å½•</h2><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">ä» http://archive.cloudera.com/cdh5/parcels/5.7.0/ ä¸‹è½½èµ„æºåŒ…</span><br></pre></td></tr></table></figure>
<p>å°†ä¹‹å‰ä¸‹è½½çš„Parcelé‚£3ä¸ªæ–‡ä»¶æ‹·è´åˆ°/opt/cloudera/parcel-repoç›®å½•ä¸‹ï¼ˆå¦‚æœæ²¡æœ‰è¯¥ç›®å½•ï¼Œè¯·è‡ªè¡Œåˆ›å»ºï¼‰</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">[root@cdh-server7 cdh]# cp CDH-5.7.0-1.cdh5.7.0.p0.45-el7.parcel /opt/cloudera/parcel-repo/CDH-5.7.0-1.cdh5.7.0.p0.45-el7.parcel</span><br><span class="line">[root@cdh-server7 cdh]# cp CDH-5.7.0-1.cdh5.7.0.p0.45-el7.parcel.sha1 /opt/cloudera/parcel-repo/CDH-5.7.0-1.cdh5.7.0.p0.45-el7.parcel.sha</span><br><span class="line">[root@cdh-server7 cdh]# cp manifest.json /opt/cloudera/parcel-repo/manifest.json</span><br></pre></td></tr></table></figure>
<h2 id="1-7-é…ç½®-java-ç¯å¢ƒå˜é‡"><a href="#1-7-é…ç½®-java-ç¯å¢ƒå˜é‡" class="headerlink" title="1.7 é…ç½® java ç¯å¢ƒå˜é‡"></a>1.7 é…ç½® java ç¯å¢ƒå˜é‡</h2><p>è®¾ç½®JAVA_HOME</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">[root@cdh-server7 cdh]#vi /etc/profile</span><br><span class="line">export JAVA_HOME=/usr/java/jdk1.7.0_67-cloudera/</span><br><span class="line">export PATH=$JAVA_HOME/bin:$PATH</span><br><span class="line">[root@cdh-server7 cdh]#source /etc/profile</span><br></pre></td></tr></table></figure>
<p>å…³é—­é˜²ç«å¢™</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">[root@cdh-server7 deploy]#systemctl stop firewalld.service  #centos7,å…³é—­é˜²ç«å¢™</span><br></pre></td></tr></table></figure>
<p>ä»¥ä¸Šæ­¥éª¤æ‰§è¡Œå®Œæ¯•åï¼Œé‡å¯ä¸»æœº</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">reboot</span><br></pre></td></tr></table></figure>
<h2 id="1-8-å®‰è£…CM-åªåœ¨ä¸»èŠ‚ç‚¹"><a href="#1-8-å®‰è£…CM-åªåœ¨ä¸»èŠ‚ç‚¹" class="headerlink" title="1.8 å®‰è£…CM (åªåœ¨ä¸»èŠ‚ç‚¹)"></a>1.8 å®‰è£…CM (åªåœ¨ä¸»èŠ‚ç‚¹)</h2><p><strong>ä»¥ä¸‹ä¸¤æ­¥éª¤è¯·åªåœ¨ä¸»èŠ‚ç‚¹ä¸Šæ‰§è¡Œ :</strong></p>
<ul>
<li><p>è¿›å…¥è¯¥ç›®å½•ï¼Œç»™binæ–‡ä»¶èµ‹äºˆå¯æ‰§è¡Œæƒé™</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">[root@cdh-server7 cdh]# chmod a+x ./cloudera-manager-installer.bin</span><br></pre></td></tr></table></figure>
</li>
<li><p>å®‰è£…CM (è¯¥æ­¥éª¤, å¯èƒ½æ˜¯ä¸éœ€è¦çš„)</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">[root@cdh-server7 cdh]# ./cloudera-manager-installer.bin</span><br></pre></td></tr></table></figure>
</li>
</ul>
<p><strong>å¼€å§‹å¯åŠ¨serverç«¯</strong></p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">[root@cdh-server7 cdh]# cd /etc/init.d/</span><br><span class="line">[root@cdh-server7 init.d]# ./cloudera-scm-server-db start</span><br><span class="line"></span><br><span class="line">[root@cdh-server7 init.d]# ./cloudera-scm-server start</span><br><span class="line">Starting cloudera-scm-server:                              [  OK  ]</span><br><span class="line">[root@cdh-server7 init.d]# tail -f /var/log/cloudera-scm-server/cloudera-scm-server.log</span><br></pre></td></tr></table></figure>
<blockquote>
<p>æ³¨æ„ :<br> æœºå™¨é‡å¯ä¹‹åï¼Œé»˜è®¤å¯åŠ¨ä¼šå¯¼è‡´å¼‚å¸¸<br> éœ€è¦æŒ‰ç…§è¯¥å…ˆå¯åŠ¨cloudera-scm-server-dbï¼Œå†å¯åŠ¨cloudera-scm-serverçš„é¡ºåºæ‰§è¡Œ</p>
</blockquote>
<h2 id="1-9-æµè§ˆå™¨è®¿é—®éªŒè¯-ä¸»èŠ‚ç‚¹"><a href="#1-9-æµè§ˆå™¨è®¿é—®éªŒè¯-ä¸»èŠ‚ç‚¹" class="headerlink" title="1.9 æµè§ˆå™¨è®¿é—®éªŒè¯(ä¸»èŠ‚ç‚¹)"></a>1.9 æµè§ˆå™¨è®¿é—®éªŒè¯(ä¸»èŠ‚ç‚¹)</h2><p>CMå®‰è£…æˆåŠŸåæµè§ˆå™¨è¾“å…¥<a href="http://ip:7180" target="_blank" rel="external">http://ip:7180</a>, ç”¨æˆ·åå’Œå¯†ç éƒ½è¾“å…¥adminï¼Œè¿›å…¥webç®¡ç†ç•Œé¢ã€‚</p>
<p>é€šè¿‡æµè§ˆå™¨è®¿é—®éªŒè¯</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">http://192.168.181.190:7180/</span><br></pre></td></tr></table></figure>
<p>å¦‚æœæ‰“ä¸å¼€æ”¹ç½‘é¡µï¼Œç­‰å¾…2åˆ†é’Ÿåã€‚è¿™ä¸ªæœåŠ¡å¯åŠ¨æ˜¯éœ€è¦ä¸€å®šæ—¶é—´çš„ã€‚</p>
<p>é€‰æ‹©éƒ¨ç½²çš„ç‰ˆæœ¬ï¼Œè¿™é‡Œæˆ‘ä»¬é€‰æ‹©å…è´¹ç‰ˆçš„å°±å¯ä»¥äº†ã€‚</p>
<blockquote>
<p>å¦‚æœä¸ä¼šè®¾ç½®ï¼Œé‚£ä¹ˆè¯·å‚è€ƒ æœ€é è°±çš„å®‰è£…æŒ‡å— <a href="http://www.jianshu.com/p/57179e03795f" target="_blank" rel="external">http://www.jianshu.com/p/57179e03795f</a></p>
</blockquote>
<p>å®‰è£…æœåŠ¡æ—¶ï¼Œæ•°æ®åº“é€‰æ‹©é»˜è®¤çš„åµŒå…¥å¼æ•°æ®åº“</p>
<h1 id="Part-2-å®‰è£…-agent"><a href="#Part-2-å®‰è£…-agent" class="headerlink" title="Part 2 å®‰è£… agent"></a>Part 2 å®‰è£… agent</h1><blockquote>
<p>this step is similarï¼Œ but I canâ€™t be sure, exactly right. </p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">å®‰è£… agent ï¼Œå¯ä»¥åœ¨å•ç‹¬çš„æœºå™¨ï¼Œä¸»èŠ‚ç‚¹ï¼Œå¯ä»¥åªå½“åšä¸»ï¼Œéšæ„ä½ </span><br></pre></td></tr></table></figure>
<blockquote>
<p>ä¸ºagentåšé…ç½®,å¯åŠ¨agent (æ‰€æœ‰èŠ‚ç‚¹)<br>agent ä¸éœ€è¦è£…serverï¼Œå…¶ä»–ç»å¤§éƒ¨åˆ†æ­¥éª¤å’Œ å®‰è£… server ç›¸åŒã€‚</p>
</blockquote>
<h2 id="2-1-ç½‘ç»œé…ç½®"><a href="#2-1-ç½‘ç»œé…ç½®" class="headerlink" title="2.1 ç½‘ç»œé…ç½®"></a>2.1 ç½‘ç»œé…ç½®</h2><p><strong>ä¿®æ”¹ipä¸ä¸»æœºåçš„å¯¹åº”å…³ç³»</strong></p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">[root@cdh-agent1 ~]# vi /etc/hosts #ä¿®æ”¹ipä¸ä¸»æœºåçš„å¯¹åº”å…³ç³»:</span><br><span class="line">192.168.181.190 cdh-server7(node190)</span><br><span class="line">192.168.181.198 cdh-agent1(node198)</span><br><span class="line">192.168.181.196 cdh-agent2(node196)</span><br></pre></td></tr></table></figure>
<p><strong>é‡å¯ç½‘ç»œæœåŠ¡ç”Ÿæ•ˆ</strong></p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">[root@cdh-server7 ~]# service network restart</span><br></pre></td></tr></table></figure>
<p><strong>å…³é—­SELINUX</strong></p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">æŸ¥çœ‹SELINUXçŠ¶æ€</span><br><span class="line"></span><br><span class="line">[root@cdh-server7 ~]#getenforce</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">è‹¥ SELINUX æ²¡æœ‰å…³é—­ï¼ŒæŒ‰ç…§ä¸‹è¿°æ–¹å¼å…³é—­</span><br><span class="line"></span><br><span class="line">vi /etc/selinux/config</span><br><span class="line">ä¿®æ”¹SELinux=disabledã€‚é‡å¯ç”Ÿæ•ˆï¼Œå¯ä»¥ç­‰åé¢éƒ½è®¾ç½®å®Œäº†é‡å¯ä¸»æœº</span><br><span class="line"># This file controls the state of SELinux on the system.</span><br><span class="line"># SELINUX= can take one of these three values:</span><br><span class="line">#       enforcing - SELinux security policy is enforced.</span><br><span class="line">#       permissive - SELinux prints warnings instead of enforcing.</span><br><span class="line">#       disabled - SELinux is fully disabled.</span><br><span class="line">SELINUX=disabled</span><br><span class="line"># SELINUXTYPE= type of policy in use. Possible values are:</span><br><span class="line">#       targeted - Only targeted network daemons are protected.</span><br><span class="line">#       strict - Full SELinux protection.</span><br><span class="line">SELINUXTYPE=targeted</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">[root@cdh-server7 ~]# ping www.baidu.com</span><br></pre></td></tr></table></figure>
<h2 id="2-2-å¸è½½-openjdk-æ‰€æœ‰èŠ‚ç‚¹"><a href="#2-2-å¸è½½-openjdk-æ‰€æœ‰èŠ‚ç‚¹" class="headerlink" title="2.2 å¸è½½ openjdk (æ‰€æœ‰èŠ‚ç‚¹)"></a>2.2 å¸è½½ openjdk (æ‰€æœ‰èŠ‚ç‚¹)</h2><blockquote>
<p>æ³¨æ„ : å¦‚æœæ²¡æœ‰openjdk, åˆ™ä¸éœ€è¦å¸è½½ï¼Œé»˜è®¤ centos7 æ²¡æœ‰</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">[root@cdh-server7 deploy]# rpm -qa | grep java</span><br><span class="line">[root@cdh-server7 deploy]# rpm -qa | grep jdk</span><br><span class="line"></span><br><span class="line"># if exist java or jdk, uninstall, erase it.  example under this...</span><br><span class="line">[root@cdh-server7 deploy]# rpm -e --nodeps java-1.5.0-gcj-1.5.0.0-29.1.el6.x86_64</span><br><span class="line">[root@cdh-server7 deploy]# rpm -e --nodeps java-1.6.0-openjdk-1.6.0.0-1.66.1.13.0.el6.x86_64</span><br><span class="line">[root@cdh-server7 deploy]# rpm -e --nodeps java-1.7.0-openjdk-1.7.0.45-2.4.3.3.el6.x86_64</span><br></pre></td></tr></table></figure>
<h2 id="2-3-å¸è½½centOS7é»˜è®¤mysql"><a href="#2-3-å¸è½½centOS7é»˜è®¤mysql" class="headerlink" title="2.3 å¸è½½centOS7é»˜è®¤mysql"></a>2.3 å¸è½½centOS7é»˜è®¤mysql</h2><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">[root@cdh-server7 deploy]# rpm -qa | grep mariadb</span><br><span class="line">[root@cdh-server7 deploy]# rpm -e --nodeps mariadb-libs-5.5.41-2.el7_0.x86_64</span><br></pre></td></tr></table></figure>
<h2 id="2-4-cloudera-manager-repo"><a href="#2-4-cloudera-manager-repo" class="headerlink" title="2.4 cloudera-manager.repo"></a>2.4 cloudera-manager.repo</h2><blockquote>
<p>ä¸Šä¼ cloudera-manager.repo åˆ° cdh-agent1</p>
</blockquote>
<p>[root@cdh-agent1 cdh]# cp cloudera-manager.repo /etc/yum.repos.d/</p>
<p><strong>transparent_hugepage</strong></p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">echo never &gt; /sys/kernel/mm/transparent_hugepage/enabled</span><br><span class="line">echo never &gt; /sys/kernel/mm/transparent_hugepage/defrag</span><br></pre></td></tr></table></figure>
<p><strong>vi /etc/rc.local åœ¨æ–‡ä»¶å°¾æ”¾å…¥ å¦‚ä¸‹ä¸¤æ¡è¯­å¥</strong></p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">echo never &gt; /sys/kernel/mm/transparent_hugepage/enabled</span><br><span class="line">echo never &gt; /sys/kernel/mm/transparent_hugepage/defrag</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">chmod +x /etc/rc.local</span><br></pre></td></tr></table></figure>
<p><strong>è°ƒæ•´swappiness</strong></p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">echo 10 &gt; /proc/sys/vm/swappiness</span><br><span class="line"># vi /etc/sysctl.conf</span><br><span class="line">vm.swappiness = 10</span><br></pre></td></tr></table></figure>
<h2 id="2-5-cdh-cloudera-rpms"><a href="#2-5-cdh-cloudera-rpms" class="headerlink" title="2.5 ~/cdh/cloudera-rpms"></a>2.5 ~/cdh/cloudera-rpms</h2><blockquote>
<p>ä¸Šä¼ ä¸‹åˆ—rpmåŒ…åˆ°cdh-agent1çš„/home/deploy/cdh/cloudera-rpms</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">cloudera-manager-agent-5.7.0-1.cm560.p0.54.el7.x86_64.rpm</span><br><span class="line">cloudera-manager-daemons-5.7.0-1.cm560.p0.54.el7.x86_64.rpm</span><br><span class="line">enterprise-debuginfo-5.7.0-1.cm560.p0.54.el7.x86_64.rpm</span><br><span class="line">oracle-j2sdk1.7-1.7.0+update67-1.x86_64.rpm</span><br><span class="line"></span><br><span class="line">[root@cdh-agent1 init.d]# cd /home/deploy/cdh/cloudera-rpms/</span><br><span class="line">[root@cdh-agent1 init.d]# yum -y install *.rpm</span><br></pre></td></tr></table></figure>
<p><strong>è®¾ç½®JAVA_HOME</strong></p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">[root@cdh-server7 cdh]#vi /etc/profile</span><br><span class="line">export JAVA_HOME=/usr/java/jdk1.7.0_67-cloudera/</span><br><span class="line">export PATH=$JAVA_HOME/bin:$PATH</span><br><span class="line">[root@cdh-server7 cdh]#source /etc/profile</span><br></pre></td></tr></table></figure>
<p>å…³é—­é˜²ç«å¢™</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">[root@cdh-server7 deploy]#systemctl stop firewalld.service  #centos7,å…³é—­é˜²ç«å¢™</span><br></pre></td></tr></table></figure>
<p>ä»¥ä¸Šæ­¥éª¤æ‰§è¡Œå®Œæ¯•åï¼Œé‡å¯ä¸»æœº</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">reboot</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">[root@cdh-agent1 init.d]# vi /etc/cloudera-scm-agent/config.ini</span><br><span class="line"></span><br><span class="line">+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++</span><br><span class="line"># Hostname of the CM server.</span><br><span class="line">#server_host=localhost</span><br><span class="line">server_host=cdh-server7(node190)</span><br><span class="line">+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">[root@cdh-server7 cdh]# cd /etc/init.d/</span><br><span class="line">[root@cdh-server7 init.d]# ./cloudera-scm-agent start</span><br><span class="line">Starting cloudera-scm-agent:                               [  OK  ]</span><br><span class="line">[root@cdh-server deploy]# tail -f /var/log//cloudera-scm-agent/cloudera-scm-agent.log</span><br></pre></td></tr></table></figure>
<hr>
<p>æ³¨æ„ : </p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">å®‰è£…YARN NodeManagerå¤±è´¥æ—¶ï¼Œéœ€è¦åˆ é™¤ /yarn /var/lib/hadoop-yarn ç›®å½•å†é‡æ–°æ·»åŠ </span><br></pre></td></tr></table></figure>
<hr>
<p>CDHæœ€é è°±çš„å®‰è£…æŒ‡å— : <a href="http://www.jianshu.com/p/57179e03795f" target="_blank" rel="external">http://www.jianshu.com/p/57179e03795f</a></p>
<h1 id="Part-3-æ¢å¤å¯åŠ¨-Our-é›†ç¾¤"><a href="#Part-3-æ¢å¤å¯åŠ¨-Our-é›†ç¾¤" class="headerlink" title="Part 3 æ¢å¤å¯åŠ¨ Our é›†ç¾¤"></a>Part 3 æ¢å¤å¯åŠ¨ Our é›†ç¾¤</h1><h2 id="3-1-ç¡®å®š-firewalld-close"><a href="#3-1-ç¡®å®š-firewalld-close" class="headerlink" title="3.1 ç¡®å®š firewalld close"></a>3.1 ç¡®å®š firewalld close</h2><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">systemctl start firewalld.service#å¯åŠ¨firewall</span><br><span class="line">systemctl stop firewalld.service#åœæ­¢firewall</span><br><span class="line">systemctl disable firewalld.service#ç¦æ­¢firewallå¼€æœºå¯åŠ¨</span><br></pre></td></tr></table></figure>
<blockquote>
<p>æ³¨æ„ : æ“ä½œä¹‹å‰ç¡®å®š firewalld æ˜¯å…³é—­çš„</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">[root@node19x flag]$ vim /etc/rc.local (/etc/rc.local å¯¹åº”è²Œä¼¼ç›¸å¯¹dir /ect/init.d)</span><br><span class="line"></span><br><span class="line">  1 #!/bin/bash</span><br><span class="line">  2 # THIS FILE IS ADDED FOR COMPATIBILITY PURPOSES</span><br><span class="line">  3 #</span><br><span class="line">  4 # It is highly advisable to create own systemd services or udev rules</span><br><span class="line">  5 # to run scripts during boot instead of using this file.</span><br><span class="line">  6 #</span><br><span class="line">  7 # In contrast to previous versions due to parallel execution during boot</span><br><span class="line">  8 # this script will NOT be run after all other services.</span><br><span class="line">  9 #</span><br><span class="line"> 10 # Please note that you must run &apos;chmod +x /etc/rc.d/rc.local&apos; to ensure</span><br><span class="line"> 11 # that this script will be executed during boot.</span><br><span class="line"> 12</span><br><span class="line"> 13 touch /var/lock/subsys/local</span><br><span class="line"> 14 echo never &gt; /sys/kernel/mm/transparent_hugepage/enabled</span><br><span class="line"> 15 echo never &gt; /sys/kernel/mm/transparent_hugepage/defrag</span><br><span class="line"> 16 service ntpd start</span><br><span class="line"> 17 service elasticsearch start</span><br></pre></td></tr></table></figure>
<h2 id="3-2-å¯åŠ¨serverç«¯ã€cm"><a href="#3-2-å¯åŠ¨serverç«¯ã€cm" class="headerlink" title="3.2 å¯åŠ¨serverç«¯ã€cm"></a>3.2 å¯åŠ¨serverç«¯ã€cm</h2><p>only at server node</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">[root@cdh-server7 cdh]# cd /etc/init.d/</span><br><span class="line">[root@cdh-server7 init.d]# ./cloudera-scm-server-db start</span><br><span class="line"></span><br><span class="line">[root@cdh-server7 init.d]# ./cloudera-scm-server start</span><br><span class="line">Starting cloudera-scm-server:                              [  OK  ]</span><br><span class="line">[root@cdh-server7 init.d]# tail -f /var/log/cloudera-scm-server/cloudera-scm-server.log</span><br><span class="line"></span><br><span class="line">// ç­‰å¾…æ—¥å¿— 7180 å¯åŠ¨æˆåŠŸï¼Œ è®¿é—® : http://node190:7180/cmf/home</span><br></pre></td></tr></table></figure>
<blockquote>
<p>æ³¨æ„ :<br>æœºå™¨é‡å¯ä¹‹åï¼Œé»˜è®¤å¯åŠ¨ä¼šå¯¼è‡´å¼‚å¸¸<br>éœ€è¦æŒ‰ç…§è¯¥å…ˆå¯åŠ¨cloudera-scm-server-dbï¼Œå†å¯åŠ¨cloudera-scm-serverçš„é¡ºåºæ‰§è¡Œ</p>
</blockquote>
<p>ä¸€èˆ¬ä»¥ä¸‹ agent æ˜¯è‡ªåŠ¨å¯åŠ¨çš„</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">[root@node190 init.d]# ./cloudera-scm-agent start</span><br><span class="line">cloudera-scm-agent is already running</span><br><span class="line">node190:./cloudera-scm-agent start</span><br><span class="line">node19x:./cloudera-scm-agent start</span><br><span class="line">node19x:./cloudera-scm-agent start</span><br><span class="line">...</span><br></pre></td></tr></table></figure>
<h2 id="3-3-CMé¡µé¢ä¸Šå¯åŠ¨å„æœåŠ¡"><a href="#3-3-CMé¡µé¢ä¸Šå¯åŠ¨å„æœåŠ¡" class="headerlink" title="3.3 CMé¡µé¢ä¸Šå¯åŠ¨å„æœåŠ¡"></a>3.3 CMé¡µé¢ä¸Šå¯åŠ¨å„æœåŠ¡</h2><ol>
<li>CM é¡µé¢ä¸Šé‡å¯ service monitor</li>
<li>CM é¡µé¢ä¸Šé‡å¯ host monitor</li>
<li>CM é¡µé¢ä¸Šå¯åŠ¨å„é¡¹æœåŠ¡ (å¦‚ : ZK, Flume, YARN, HDFS, Hive, Sqoop, Spark etc..)</li>
</ol>
<hr>
<h2 id="3-4-å„ä¸ªèŠ‚ç‚¹å¯åŠ¨-ES"><a href="#3-4-å„ä¸ªèŠ‚ç‚¹å¯åŠ¨-ES" class="headerlink" title="3.4 å„ä¸ªèŠ‚ç‚¹å¯åŠ¨ ES"></a>3.4 å„ä¸ªèŠ‚ç‚¹å¯åŠ¨ ES</h2><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">[deploy@node190 init.d]# ll</span><br><span class="line">total 44</span><br><span class="line">-rwxr-xr-x  1 root root  8671 Apr  2 04:52 cloudera-scm-agent</span><br><span class="line">lrwxrwxrwx. 1 root root    58 Apr 18 16:55 elasticsearch -&gt; /home/deploy/elasticsearch-1.7.1/bin/service/elasticsearch</span><br><span class="line">-rw-r--r--. 1 root root 13948 Sep 16  2015 functions</span><br><span class="line">-rwxr-xr-x. 1 root root  2989 Sep 16  2015 netconsole</span><br><span class="line">-rwxr-xr-x. 1 root root  6630 Sep 16  2015 network</span><br><span class="line">-rw-r--r--. 1 root root  1160 Apr  1 00:45 README</span><br></pre></td></tr></table></figure>
<p><strong>deploy</strong></p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="built_in">cd</span> /home/deploy/elasticsearch-1.7.1/bin/service</span><br><span class="line">[deploy@node190 init.d]<span class="comment"># ./elasticsearch start</span></span><br><span class="line">[deploy@node19x init.d]<span class="comment"># ./elasticsearch start</span></span><br><span class="line">[deploy@node19x init.d]<span class="comment"># ./elasticsearch start</span></span><br><span class="line">...</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">http://node190:9200/_plugin/bigdesk/#cluster</span><br></pre></td></tr></table></figure>
<blockquote>
<p>ç­‰å¾…åŒæ­¥æ•°æ®å®Œæˆï¼Œä¸€èˆ¬ä¼šå¾ˆå¿«ï¼Œç­‰å¾… Status ä» RED å˜ä¸º green çŠ¶æ€</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">http://node190:9200/_plugin/head/</span><br></pre></td></tr></table></figure>
<h2 id="3-5-å¯åŠ¨-kibana"><a href="#3-5-å¯åŠ¨-kibana" class="headerlink" title="3.5 å¯åŠ¨ kibana"></a>3.5 å¯åŠ¨ kibana</h2><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">[deploy@node196 ~]#</span><br><span class="line">cd /home/deploy/kibana-4.1.1-linux-x64</span><br><span class="line">    ./bin/kibana &gt; kibana.log 2&gt;&amp;1 &amp;              --@deploy</span><br></pre></td></tr></table></figure>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[CentOS 7 install spark ipython nodebook]]></title>
      <url>http://iequa.com/2016/03/11/ops-centos7-ipython-nodebook-install/</url>
      <content type="html"><![CDATA[<blockquote>
<p>IPython notebook ç›®å‰å·²ç»æˆä¸ºç”¨ Python åšæ•™å­¦ã€è®¡ç®—ã€ç§‘ç ”çš„ä¸€ä¸ªé‡è¦å·¥å…·ã€‚</p>
</blockquote>
<a id="more"></a>
<ul>
<li>IPython Notebook ä½¿ç”¨æµè§ˆå™¨ä½œä¸ºç•Œé¢ï¼Œå‘åå°çš„ IPython æœåŠ¡å™¨å‘é€è¯·æ±‚ï¼Œå¹¶æ˜¾ç¤ºç»“æœã€‚</li>
<li>IPython Notebook åœ¨æµè§ˆå™¨çš„ç•Œé¢ä¸­ä½¿ç”¨å•å…ƒ(Cell)ä¿å­˜å„ç§ä¿¡æ¯ã€‚Cell æœ‰å¤šç§ç±»å‹ï¼Œç»å¸¸ä½¿ç”¨çš„æœ‰è¡¨ç¤ºæ ¼å¼åŒ–æ–‡æœ¬çš„ Markdownå•å…ƒï¼Œå’Œè¡¨ç¤ºä»£ç çš„ Codeå•å…ƒã€‚</li>
</ul>
<h2 id="1-install-ifconfig"><a href="#1-install-ifconfig" class="headerlink" title="1. install ifconfig"></a>1. install ifconfig</h2> <figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">yum search ifconfig</span><br><span class="line">yum install net-tools.x86_64</span><br></pre></td></tr></table></figure>
<h2 id="2-install-vim"><a href="#2-install-vim" class="headerlink" title="2. install vim"></a>2. install vim</h2> <figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">yum search vim</span><br><span class="line">yum install vim-enhanced</span><br></pre></td></tr></table></figure>
<h2 id="3-install-wget"><a href="#3-install-wget" class="headerlink" title="3. install wget"></a>3. install wget</h2> <figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"> [libin@centos-linux-1 x]$ yum search wget</span><br><span class="line">Loaded plugins: fastestmirror</span><br><span class="line">Loading mirror speeds from cached hostfile</span><br><span class="line"> * base: mirrors.skyshe.cn</span><br><span class="line"> * extras: mirrors.163.com</span><br><span class="line"> * updates: mirrors.163.com</span><br><span class="line">============================================================================================ N/S matched: wget =============================================================================================</span><br><span class="line">wget.x86_64 : A utility <span class="keyword">for</span> retrieving files using the HTTP or FTP protocols</span><br><span class="line"></span><br><span class="line">  Name and summary matches only, use <span class="string">"search all"</span> <span class="keyword">for</span> everything.</span><br><span class="line"> </span><br><span class="line"> [libin@centos-linux-1 x]$ yum install wget.x86_64</span><br></pre></td></tr></table></figure>
<h2 id="4-install-Jdk"><a href="#4-install-Jdk" class="headerlink" title="4. install Jdk"></a>4. install Jdk</h2><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># green install jdk-7u80-linux-x64.gz</span></span><br><span class="line"><span class="comment"># edit /etc/profile add</span></span><br><span class="line"><span class="comment">## libin add ##</span></span><br><span class="line"></span><br><span class="line"><span class="comment">### JAVA ###</span></span><br><span class="line">JAVA_HOME=/home/x/jdk</span><br><span class="line">JAVA_BIN=<span class="variable">$JAVA_HOME</span>/bin</span><br><span class="line">PATH=<span class="variable">$JAVA_HOME</span>/bin:<span class="variable">$PATH</span></span><br><span class="line">CLASSPATH=.:<span class="variable">$JAVA_HOME</span>/jre/lib/rt.jar:<span class="variable">$JAVA_HOME</span>/jre/lib/dt.jar:<span class="variable">$JAVA_HOME</span>/jre/lib/tools.jar</span><br><span class="line"><span class="built_in">export</span> JAVA_HOME JAVA_BIN PATH CLASSPATH</span><br><span class="line"><span class="string">"/etc/profile"</span> 86L, 2035C</span><br><span class="line"></span><br><span class="line"><span class="comment"># /etc/profileï¼šè¯¥æ–‡ä»¶æ˜¯ç”¨æˆ·ç™»å½•æ—¶ï¼Œæ“ä½œç³»ç»Ÿå®šåˆ¶ç”¨æˆ·ç¯å¢ƒæ—¶ä½¿ç”¨çš„ç¬¬ä¸€ä¸ªæ–‡ä»¶ï¼Œåº”ç”¨äºç™»å½•åˆ°ç³»ç»Ÿçš„æ¯ä¸€ä¸ªç”¨æˆ·ã€‚ å¯¹æ‰€æœ‰ç”¨æˆ·æœ‰æ•ˆ ##</span></span><br></pre></td></tr></table></figure>
<h2 id="5-install-Scala"><a href="#5-install-Scala" class="headerlink" title="5. install Scala"></a>5. install Scala</h2><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># green install scala-2.10.4.tgz</span></span><br><span class="line"><span class="comment"># edit /etc/profile add</span></span><br><span class="line"></span><br><span class="line"><span class="comment">### Scala ###</span></span><br><span class="line"><span class="comment">#export SCALA_HOME=/usr/local/xSoft/scala</span></span><br><span class="line"><span class="built_in">export</span> SCALA_HOME=/home/x/scala</span><br><span class="line"><span class="built_in">export</span> PATH=<span class="variable">$&#123;SCALA_HOME&#125;</span>/bin:<span class="variable">$PATH</span></span><br></pre></td></tr></table></figure>
<h2 id="6-install-Spark-Standalone"><a href="#6-install-Spark-Standalone" class="headerlink" title="6. install Spark (Standalone)"></a>6. install Spark (Standalone)</h2><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">green install spark-1.5.2-bin-hadoop2.6.tgz</span><br><span class="line">cp conf/spark-env.sh.template conf/spark-env.sh</span><br></pre></td></tr></table></figure>
<p>edit conf/spark-env.sh add</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="built_in">export</span> JAVA_HOME=/home/x/jdk</span><br><span class="line"><span class="built_in">export</span> SCALA_HOME=/home/x/scala</span><br><span class="line"><span class="built_in">export</span> SPARK_HOME=/home/x/spark</span><br><span class="line"><span class="built_in">export</span> SPARK_MASTER_IP=192.168.181.113</span><br><span class="line"><span class="built_in">export</span> MASTER=spark://192.168.181.113:7077</span><br><span class="line"></span><br><span class="line"><span class="built_in">export</span> SPARK_EXECUTOR_INSTANCES=2</span><br><span class="line"><span class="built_in">export</span> SPARK_EXECUTOR_CORES=1</span><br><span class="line"></span><br><span class="line"><span class="built_in">export</span> SPARK_WORKER_MEMORY=1000m</span><br><span class="line"><span class="built_in">export</span> SPARK_EXECUTOR_MEMORY=300m</span><br><span class="line"></span><br><span class="line"><span class="built_in">export</span> SPARK_LIBRARY_PATH=<span class="variable">$&#123;SPARK_HOME&#125;</span>/lib</span><br><span class="line"></span><br><span class="line"><span class="comment">#export SPARK_LAUNCH_WITH_SCALA=0</span></span><br><span class="line"><span class="comment">#export SCALA_LIBRARY_PATH=$&#123;SPARK_HOME&#125;/lib</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">#export SPARK_LIBRARY_PATH=/home/deploy/spark/spark-1.5.2-bin-hadoop2.6/lib</span></span><br></pre></td></tr></table></figure>
<h2 id="7-install-ipython-nodebook"><a href="#7-install-ipython-nodebook" class="headerlink" title="7. install ipython-nodebook"></a>7. install ipython-nodebook</h2><p>opensshã€zlib<br><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">yum -y install openssh-clients</span><br><span class="line">yum install zlib</span><br></pre></td></tr></table></figure></p>
<p>setuptoolsã€pip</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">tar xvf setuptools-18.1.tar.gz</span><br><span class="line"><span class="built_in">cd</span> setuptools-18.1</span><br><span class="line">sudo python setup.py build</span><br><span class="line">sudo python setup.py install</span><br><span class="line"></span><br><span class="line">tar xvf pip-8.1.0.tar.gz</span><br><span class="line"><span class="built_in">cd</span> pip-8.1.0</span><br><span class="line">sudo python setup.py build</span><br><span class="line">sudo python setup.py install</span><br></pre></td></tr></table></figure>
<p>ipythonã€matplotlib</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">sudo pip install ipython</span><br><span class="line">sudo pip install matplotlib</span><br></pre></td></tr></table></figure>
<blockquote>
<p>mymac : sudo pip install â€“upgrade ipython â€“ignore-installed six</p>
</blockquote>
<p>python-devã€g++</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">sudo yum install python-devel ï¼ˆå¦‚æœæ²¡æœ‰å®‰è£… python æºä»£ç ï¼Œä¼šæŠ¥æ‰¾ä¸åˆ° Python.h çš„å¤´æ–‡ä»¶é”™è¯¯ï¼‰</span><br><span class="line">sudo yum install gcc-c++</span><br></pre></td></tr></table></figure>
<p><strong>install python-notebook</strong></p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># å‰é¢installçš„å„ç§pyç›¸å…³, ä¸ºä¸ªè¿™ä¸€æ­¥</span></span><br><span class="line"></span><br><span class="line">sudo pip install notebook</span><br></pre></td></tr></table></figure>
<h2 id="8-start-up-notebook"><a href="#8-start-up-notebook" class="headerlink" title="8. start-up notebook"></a>8. start-up notebook</h2><p><strong>startup ipython notebook</strong></p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="built_in">cd</span> your_dir</span><br><span class="line">ipython notebook</span><br></pre></td></tr></table></figure>
<p><strong>startup ipython spark notebook</strong></p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">PYSPARK_DRIVER_PYTHON=ipython PYSPARK_DRIVER_PYTHON_OPTS=<span class="string">"notebook --ip=192.168.181.113"</span> /home/x/spark/bin/pyspark</span><br></pre></td></tr></table></figure>
<p>æµè§ˆå™¨è®¿é—® <a href="http://192.168.181.113:8888/notebooks" target="_blank" rel="external">http://192.168.181.113:8888/notebooks</a></p>
<p><img src="/images/ops/ops-ipython-01.png" alt="ipython"></p>
<h2 id="9-spark-notebook-example1"><a href="#9-spark-notebook-example1" class="headerlink" title="9. spark-notebook example1"></a>9. spark-notebook example1</h2><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">%pylab inline</span><br><span class="line">%matplotlib inline</span><br><span class="line">import numpy as np</span><br><span class="line">import matplotlib.pyplot as plt</span><br><span class="line"></span><br><span class="line">data =[33,25,20,12,10]</span><br><span class="line">plt.figure(num=1, figsize=(6,6))</span><br><span class="line">plt.axes(aspect=1)</span><br><span class="line">plt.title(<span class="string">'Plot 3'</span>, size=14)</span><br><span class="line">plt.pie(data, labels=(<span class="string">'Group 1'</span>,<span class="string">'Group 2'</span>,<span class="string">'Group 3'</span>,<span class="string">'Group 4'</span>,<span class="string">'Group 5'</span>))</span><br><span class="line">plt.savefig(<span class="string">'/home/x/spark/test_libin/plot3.png'</span>, format=<span class="string">'png'</span>)</span><br></pre></td></tr></table></figure>
<p><img src="/images/ops/ops-ipython-02.png" alt="ipython"></p>
<h2 id="maybe-attention-point"><a href="#maybe-attention-point" class="headerlink" title="maybe attention point"></a>maybe attention point</h2><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">python -V</span><br><span class="line"></span><br><span class="line"><span class="comment">#è‹¥ç³»ç»Ÿé»˜è®¤æ˜¯python2.6ï¼Œéœ€è¦å‡çº§åˆ°2.7</span></span><br><span class="line">tar xvf Python-2.7.tgz</span><br><span class="line">./configure --with-zlib=/usr/include --prefix=/usr/<span class="built_in">local</span>/python27 --prefix=/usr/<span class="built_in">local</span>/python27</span><br><span class="line"></span><br><span class="line">make</span><br><span class="line">make install</span><br><span class="line">mv /usr/bin/python /usr/bin/python_old</span><br><span class="line">ln <span class="_">-s</span> /usr/<span class="built_in">local</span>/python27/bin/python /usr/bin/</span><br><span class="line">python</span><br><span class="line">æ­¤å¤„å·²ç»å¯ä»¥æ­£å¸¸ä½¿ç”¨python2.7äº†</span><br><span class="line">ä½†æ˜¯å› ä¸ºyumæ˜¯ä½¿ç”¨çš„2.6çš„ç‰ˆæœ¬æ¥ç”¨çš„ï¼Œæ‰€ä»¥ è¿˜éœ€è¦ä¿®æ”¹ä¸€ä¸‹</span><br><span class="line">[root@wangyuelou Python-2.7.2]<span class="comment"># vim /usr/bin/yum</span></span><br><span class="line"><span class="comment">#!/usr/bin/python   #ä¿®æ”¹æ­¤å¤„ä¸º2.6çš„ä½ç½®</span></span><br></pre></td></tr></table></figure>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[Sqoop introduce]]></title>
      <url>http://iequa.com/2016/02/16/hadoop-sqoop-learn-use01/</url>
      <content type="html"><![CDATA[<p>Sqoop å³ SQL to Hadoop, æ˜¯ä¸€æ¬¾æ–¹ä¾¿çš„åœ¨ä¼ ç»Ÿå…³ç³»æ•°æ®åº“ä¸ Hadoop ä¹‹é—´è¿›è¡Œæ•°æ®è¿ç§»çš„å·¥å…·ï¼Œå……åˆ†åˆ©ç”¨ MapReduce å¹¶è¡Œç‰¹ç‚¹ä»¥æ‰¹å¤„ç†çš„æ–¹å¼åŠ å¿«æ•°æ®ä¼ è¾“.</p>
<a id="more"></a>
<h2 id="1-Sqoop-what"><a href="#1-Sqoop-what" class="headerlink" title="1. Sqoop what ?"></a>1. Sqoop what ?</h2><p>sqoop å³ SQL to Hadoop ï¼Œæ˜¯ä¸€æ¬¾æ–¹ä¾¿çš„åœ¨ä¼ ç»Ÿå…³ç³»æ•°æ®åº“ä¸ Hadoop ä¹‹é—´è¿›è¡Œæ•°æ®è¿ç§»çš„å·¥å…·ï¼Œå……åˆ†åˆ©ç”¨ MapReduce å¹¶è¡Œç‰¹ç‚¹ä»¥æ‰¹å¤„ç†çš„æ–¹å¼åŠ å¿«æ•°æ®ä¼ è¾“ï¼Œå‘å±•è‡³ä»Šä¸»è¦æ¼”åŒ–äº†äºŒå¤§ç‰ˆæœ¬ï¼Œsqoop1å’Œsqoop2ã€‚ </p>
<p>sqoop : clouder å…¬å¸å¼€å‘</p>
<p><strong>ç”Ÿäº§èƒŒæ™¯</strong></p>
<ol>
<li>mysql  å¯¼å…¥ Hadoop </li>
<li>Hadoop å¯¼å…¥ mysql</li>
</ol>
<p>æ³¨ : ä»¥ä¸Š Hadoop æŒ‡ Hiveã€HBaseã€HDFS ç­‰</p>
<h2 id="2-Sqoop-ç‰¹ç‚¹"><a href="#2-Sqoop-ç‰¹ç‚¹" class="headerlink" title="2. Sqoop ç‰¹ç‚¹"></a>2. Sqoop ç‰¹ç‚¹</h2><p>sqoopæ¶æ„éå¸¸ç®€å•ï¼Œå…¶æ•´åˆäº†Hiveã€Hbaseå’ŒOozieï¼Œé€šè¿‡map-reduceä»»åŠ¡æ¥ä¼ è¾“æ•°æ®ï¼Œä»è€Œæä¾›å¹¶å‘ç‰¹æ€§å’Œå®¹é”™ã€‚</p>
<p>   Sqoop ç”±ä¸¤éƒ¨åˆ†ç»„æˆï¼šå®¢æˆ·ç«¯(client)å’ŒæœåŠ¡ç«¯(server)ã€‚éœ€è¦åœ¨é›†ç¾¤çš„å…¶ä¸­æŸä¸ªèŠ‚ç‚¹ä¸Šå®‰è£…serverï¼Œè¯¥èŠ‚ç‚¹çš„æœåŠ¡ç«¯å¯ä»¥ä½œä¸ºå…¶ä»– Sqoop å®¢æˆ·ç«¯çš„å…¥å£ç‚¹ã€‚</p>
<p>   åœ¨ server ç«¯çš„èŠ‚ç‚¹ä¸Šå¿…é¡»å®‰è£…æœ‰ Hadoopã€‚client å¯ä»¥å®‰è£…åœ¨ä»»æ„æ•°é‡çš„æœºå­ä¸Šã€‚åœ¨è£…æœ‰å®¢æˆ·ç«¯çš„æœºå­ä¸Šä¸éœ€è¦å®‰è£… Hadoopã€‚</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">sqoop å®˜ç½‘ : https://sqoop.apache.org</span><br><span class="line"></span><br><span class="line">1.4.5å®˜æ–¹æ–‡æ¡£ : https://sqoop.apache.org/docs/1.4.5/</span><br><span class="line"></span><br><span class="line">sqoop2ä¸æ¨èçš„åŸå›  : http://blog.csdn.net/robbyo/article/details/50737356</span><br></pre></td></tr></table></figure>
<h2 id="3-Sqoop-ä¼˜ç¼ºç‚¹"><a href="#3-Sqoop-ä¼˜ç¼ºç‚¹" class="headerlink" title="3. Sqoop ä¼˜ç¼ºç‚¹"></a>3. Sqoop ä¼˜ç¼ºç‚¹</h2><p><strong>ä¼˜ç‚¹</strong></p>
<ol>
<li>é«˜æ•ˆå¯æ§çš„åˆ©ç”¨èµ„æºï¼Œä»»åŠ¡å¹¶è¡Œåº¦ï¼Œè¶…æ—¶æ—¶é—´ã€‚</li>
<li>æ•°æ®ç±»å‹æ˜ å°„ä¸è½¬åŒ–ï¼Œå¯è‡ªåŠ¨è¿›è¡Œï¼Œç”¨æˆ·ä¹Ÿå¯è‡ªå®šä¹‰ .</li>
<li>æ”¯æŒå¤šç§ä¸»æµæ•°æ®åº“ï¼ŒMySQL,Oracleï¼ŒSQL Serverï¼ŒDB2ç­‰ç­‰ ã€‚</li>
</ol>
<p><strong>ç¼ºç‚¹</strong></p>
<ol>
<li>åŸºäºå‘½ä»¤è¡Œçš„æ“ä½œæ–¹å¼ï¼Œæ˜“å‡ºé”™ï¼Œä¸”ä¸å®‰å…¨ã€‚</li>
<li>æ•°æ®ä¼ è¾“å’Œæ•°æ®æ ¼å¼æ˜¯ç´§è€¦åˆçš„ï¼Œè¿™ä½¿å¾—connectoræ— æ³•æ”¯æŒæ‰€æœ‰çš„æ•°æ®æ ¼å¼</li>
<li>ç”¨æˆ·åå’Œå¯†ç æš´æ¼å‡ºæ¥</li>
</ol>
<h2 id="4-Sqoop-åŸç†"><a href="#4-Sqoop-åŸç†" class="headerlink" title="4. Sqoop åŸç†"></a>4. Sqoop åŸç†</h2><h3 id="4-1-Sqoopçš„importåŸç†"><a href="#4-1-Sqoopçš„importåŸç†" class="headerlink" title="4.1 Sqoopçš„importåŸç†"></a>4.1 Sqoopçš„importåŸç†</h3><p>Sqoop åœ¨ import æ—¶ï¼Œéœ€è¦åˆ¶å®š split-by å‚æ•°ã€‚</p>
<p>Sqoop æ ¹æ®ä¸åŒçš„ split-byå‚æ•°å€¼ æ¥è¿›è¡Œåˆ‡åˆ†, ç„¶åå°†åˆ‡åˆ†å‡ºæ¥çš„åŒºåŸŸåˆ†é…åˆ°ä¸åŒ map ä¸­ã€‚æ¯ä¸ªmapä¸­å†å¤„ç†æ•°æ®åº“ä¸­è·å–çš„ä¸€è¡Œä¸€è¡Œçš„å€¼ï¼Œå†™å…¥åˆ° HDFS ä¸­ã€‚åŒæ—¶split-by æ ¹æ®ä¸åŒçš„å‚æ•°ç±»å‹æœ‰ä¸åŒçš„åˆ‡åˆ†æ–¹æ³•ï¼Œå¦‚æ¯”è¾ƒç®€å•çš„intå‹ï¼ŒSqoopä¼šå–æœ€å¤§å’Œæœ€å°split-byå­—æ®µå€¼ï¼Œç„¶åæ ¹æ®ä¼ å…¥çš„ num-mappersæ¥ç¡®å®šåˆ’åˆ†å‡ ä¸ªåŒºåŸŸã€‚ </p>
<p>æ¯”å¦‚ select max(split_by),min(split-by) from å¾—åˆ°çš„ max(split-by)å’Œ min(split-by) åˆ†åˆ«ä¸º 1000 å’Œ 1, è€Œ num-mappers ä¸º 2 çš„è¯ï¼Œåˆ™ä¼šåˆ†æˆä¸¤ä¸ªåŒºåŸŸ (1,500) å’Œ (501-100), åŒæ—¶ä¹Ÿä¼šåˆ†æˆ 2ä¸ªsql ç»™ 2ä¸ªmap å»è¿›è¡Œå¯¼å…¥æ“ä½œï¼Œåˆ†åˆ«ä¸º select XXX from table where split-by&gt;=1 and split-by<500 å’Œ="" select="" xxx="" from="" table="" where="" split-by="">=501 and split-by&lt;=1000ã€‚æœ€åæ¯ä¸ªmapå„è‡ªè·å–å„è‡ªSQLä¸­çš„æ•°æ®è¿›è¡Œå¯¼å…¥å·¥ä½œã€‚</500></p>
<h3 id="4-2-Sqoopçš„exportåŸç†"><a href="#4-2-Sqoopçš„exportåŸç†" class="headerlink" title="4.2. Sqoopçš„exportåŸç†"></a>4.2. Sqoopçš„exportåŸç†</h3><p>æ ¹æ® mysql è¡¨åç§°ï¼Œç”Ÿæˆä¸€ä¸ªä»¥è¡¨åç§°å‘½åçš„ Javaç±»ï¼Œè¯¥ç±»ç»§æ‰¿äº† sqoopRecordçš„ï¼Œæ˜¯ä¸€ä¸ªåªæœ‰ Map çš„ MRï¼Œä¸”è‡ªå®šä¹‰äº†è¾“å‡ºå­—æ®µã€‚</p>
<p>sqoop export â€“connect jdbc:mysql://$url:3306/$3?characterEncoding=utf8 â€“username $username â€“password $password â€“table $1 â€“export-dir $2 â€“input-fields-terminated-by â€˜|â€™ â€“null-non-string â€˜0â€™ â€“null-string â€˜0â€™;</p>
<h2 id="5-Sqoop-ä½¿ç”¨å®ä¾‹"><a href="#5-Sqoop-ä½¿ç”¨å®ä¾‹" class="headerlink" title="5. Sqoop ä½¿ç”¨å®ä¾‹"></a>5. Sqoop ä½¿ç”¨å®ä¾‹</h2><p><strong>ç¯å¢ƒ</strong></p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">sqoop: sqoop-1.4.5+cdh5.3.6+78</span><br><span class="line">hive : hive-0.13.1+cdh5.3.6+397</span><br><span class="line">hbase: hbase-0.98.6+cdh5.3.6+115</span><br></pre></td></tr></table></figure>
<h3 id="5-1-Mysql-to-Hadoop"><a href="#5-1-Mysql-to-Hadoop" class="headerlink" title="5.1. Mysql to Hadoop"></a>5.1. Mysql to Hadoop</h3><ul>
<li>Mysql to Hdfs</li>
</ul>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">sqoop import \</span><br><span class="line">  --connect $&#123;jdbc_url&#125; --username $&#123;jdbc_username&#125; --password  $&#123;jdbc_passwd&#125; \</span><br><span class="line">  --query &quot;$&#123;exec_sql&#125;&quot; \</span><br><span class="line">  --split-by $&#123;id&#125; -m 10 \</span><br><span class="line">  --target-dir $&#123;target_dir&#125; \</span><br><span class="line">  --fields-terminated-by &quot;\001&quot; --lines-terminated-by &quot;\n&quot; \</span><br><span class="line">  --hive-drop-import-delims \</span><br><span class="line">  --null-string &apos;\\N&apos; --null-non-string &apos;\\N&apos;</span><br></pre></td></tr></table></figure>
<ul>
<li>Mysql To Hive</li>
</ul>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">sqoop import \</span><br><span class="line">  --connect $&#123;jdbc_url&#125; \</span><br><span class="line">  --username $&#123;jdbc_username&#125; --password  $&#123;jdbc_passwd&#125; \</span><br><span class="line">  --table $&#123;jdbc_table&#125; --fields-terminated-by &quot;\001&quot; --lines-terminated-by &quot;\n&quot; \</span><br><span class="line">  --hive-import --hive-overwrite --hive-table $&#123;hive_table&#125; \</span><br><span class="line">  --null-string &apos;\\N&apos; --null-non-string &apos;\\N&apos;</span><br></pre></td></tr></table></figure>
<ul>
<li>Mysql To HBase</li>
</ul>
<h3 id="5-2-Hadoop-to-Mysql"><a href="#5-2-Hadoop-to-Mysql" class="headerlink" title="5.2 Hadoop to Mysql"></a>5.2 Hadoop to Mysql</h3><ul>
<li>Hdfs To Mysql</li>
</ul>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">sqoop <span class="built_in">export</span> -D sqoop.export.records.per.statement=10 \</span><br><span class="line">--connect jdbc:mysql://192.168.***.**:3306/***?autoReconnect=<span class="literal">true</span> </span><br><span class="line">--username *** </span><br><span class="line">--password *** </span><br><span class="line">--table mds_dm_rs_shop_result \</span><br><span class="line">--fields-terminated-by <span class="string">'\t'</span> </span><br><span class="line">--export-dir <span class="string">"/dc_ext/xbd/dm/mds/mds_dm_rs_shop_result/dt=20170410"</span> </span><br><span class="line">--null-string <span class="string">'\\N'</span> </span><br><span class="line">--null-non-string <span class="string">'\\N'</span>;</span><br></pre></td></tr></table></figure>
<p><strong>refence article</strong></p>
<p><a href="http://www.zihou.me/html/2014/01/28/9114.html" target="_blank" rel="external">Sqoopä¸­æ–‡æ–‡æ¡£</a><br><a href="http://www.aboutyun.com/thread-12684-1-1.html" target="_blank" rel="external">Hive to Mysql å¸¸é‡ä¹å¤§é—®é¢˜æ€»ç»“</a> </p>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[Hive Introduce 1]]></title>
      <url>http://iequa.com/2016/02/15/hadoop-hive-brief/</url>
      <content type="html"><![CDATA[<ol>
<li>åˆæ­¥äº†è§£ Hadoop ç”Ÿæ€åœˆ</li>
<li>åˆæ­¥äº†è§£ Hive æ¶æ„å›¾</li>
</ol>
<a id="more"></a>
<h2 id="1-Hive-Introduce"><a href="#1-Hive-Introduce" class="headerlink" title="1. Hive Introduce"></a>1. Hive Introduce</h2><h3 id="1-1-Hive-Preface"><a href="#1-1-Hive-Preface" class="headerlink" title="1.1 Hive Preface"></a>1.1 Hive Preface</h3><p><strong>Hadoop</strong></p>
<ol>
<li>Hadoop ç”Ÿæ€ç³»ç»Ÿ æ˜¯ å¤„ç†å¤§æ•°æ®é›†è€Œäº§ç”Ÿçš„è§£å†³æ–¹æ¡ˆã€‚</li>
<li>Hadoop å®ç°è®¡ç®—æ¨¡å‹ MapReduce, å¯å°†è®¡ç®—ä»»åŠ¡åˆ†å‰²æˆå¤šä¸ªå¤„ç†å•å…ƒï¼Œè¿™ä¸ªè®¡ç®—æ¨¡å‹ä¸‹é¢æ˜¯ä¸€ä¸ª HDFSã€‚</li>
</ol>
<p><strong>Hive</strong></p>
<ol>
<li>Hive æä¾›äº†ä¸€ä¸ª HiveæŸ¥è¯¢è¯­è¨€ HiveQL, æŸ¥è¯¢è½¬æ¢ä¸º MapReduce job</li>
<li>Hive é€‚åˆåšæ•°æ®ä»“åº“ï¼Œå¯ç¦»çº¿ç»´æŠ¤æµ·é‡æ•°æ®ï¼Œå¯å¯¹æ•°æ®è¿›è¡ŒæŒ–æ˜, å½¢æˆæŠ¥å‘Šç­‰</li>
<li>Hadoopã€HDFS è®¾è®¡æœ¬èº«é™åˆ¶äº† Hive æ‰€èƒ½èƒœä»»çš„å·¥ä½œ, Hive ä¸æ”¯æŒè®°å½•çº§åˆ«çš„æ›´æ–°ã€æ’å…¥ æˆ–è€… åˆ é™¤ æ“ä½œã€‚</li>
</ol>
<p><strong>Hive è¿è¡Œæ¶æ„</strong></p>
<ol>
<li>ä½¿ç”¨ HQL ä½œä¸ºæŸ¥è¯¢æ¥å£ï¼›</li>
<li>ä½¿ç”¨ MapReduce ä½œä¸ºæ‰§è¡Œå±‚ï¼›</li>
<li>ä½¿ç”¨ HDFS ä½œä¸ºå­˜å‚¨å±‚ï¼›</li>
</ol>
<h3 id="1-2-Hadoop-Mapreduce"><a href="#1-2-Hadoop-Mapreduce" class="headerlink" title="1.2 Hadoop / Mapreduce"></a>1.2 Hadoop / Mapreduce</h3><p><code>Input -&gt; Mappers -&gt; Sort,Shuffle -&gt; Reducers -&gt; Output</code></p>
<h3 id="1-3-Hive-ç³»ç»Ÿæ¶æ„"><a href="#1-3-Hive-ç³»ç»Ÿæ¶æ„" class="headerlink" title="1.3 Hive ç³»ç»Ÿæ¶æ„"></a>1.3 Hive ç³»ç»Ÿæ¶æ„</h3><p><img src="/images/hadoop/hive-02.png" alt="Hive ç³»ç»Ÿæ¶æ„"></p>
<h2 id="2-Hive-æ¶æ„ç»„ä»¶åˆ†æ"><a href="#2-Hive-æ¶æ„ç»„ä»¶åˆ†æ" class="headerlink" title="2. Hive æ¶æ„ç»„ä»¶åˆ†æ"></a>2. Hive æ¶æ„ç»„ä»¶åˆ†æ</h2><p><strong>æœ¬ç« é‡ç‚¹ :</strong></p>
<ol>
<li>åˆæ­¥äº†è§£ Hive çš„å·¥ä½œæµ</li>
<li>åˆæ­¥äº†è§£ hive çš„å·¥ä½œç»„ä»¶</li>
</ol>
<h3 id="2-1-å…ƒæ•°æ®å­˜å‚¨Metastore"><a href="#2-1-å…ƒæ•°æ®å­˜å‚¨Metastore" class="headerlink" title="2.1 å…ƒæ•°æ®å­˜å‚¨Metastore"></a>2.1 å…ƒæ•°æ®å­˜å‚¨Metastore</h3><ul>
<li><p>Hiveçš„æ•°æ®ç”±ä¸¤éƒ¨åˆ†ç»„æˆï¼šæ•°æ®æ–‡ä»¶ å’Œ å…ƒæ•°æ®</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">å…ƒæ•°æ®å­˜å‚¨ï¼ŒDerbyåªèƒ½ç”¨äºä¸€ä¸ªHiveè¿æ¥ï¼Œä¸€èˆ¬å­˜å‚¨åœ¨MySQLã€‚</span><br><span class="line"></span><br><span class="line">å…ƒæ•°æ®åŒ…æ‹¬è¡¨çš„åå­—ï¼Œè¡¨çš„åˆ—å’Œåˆ†åŒºåŠå…¶å±æ€§ï¼Œè¡¨çš„å±æ€§ï¼ˆæ˜¯å¦ä¸ºå¤–éƒ¨è¡¨ç­‰ï¼‰ï¼Œè¡¨çš„æ•°æ®æ‰€åœ¨ç›®å½•ç­‰ã€‚</span><br></pre></td></tr></table></figure>
</li>
</ul>
<h3 id="2-2-é©±åŠ¨-Driver"><a href="#2-2-é©±åŠ¨-Driver" class="headerlink" title="2.2 é©±åŠ¨ (Driver)"></a>2.2 é©±åŠ¨ (Driver)</h3><ul>
<li>ç¼–è¯‘å™¨</li>
<li>ä¼˜åŒ–å™¨</li>
<li>æ‰§è¡Œå™¨</li>
</ul>
<p>ç”¨æˆ·é€šè¿‡ä¸‹é¢çš„æ¥å£æäº¤Hiveç»™Driverï¼Œç”±Driverè¿›è¡ŒHQLè¯­å¥è§£æï¼Œæ­¤æ—¶ä»Metastoreä¸­è·å–è¡¨çš„ä¿¡æ¯ï¼Œå…ˆç”Ÿæˆé€»è¾‘è®¡åˆ’ï¼Œå†ç”Ÿæˆç‰©ç†è®¡åˆ’ï¼Œå†ç”±Executorç”ŸæˆJobäº¤ç»™Hadoopè¿è¡Œï¼Œç„¶åç”±Driverå°†ç»“æœè¿”å›ç»™ç”¨æˆ·ã€‚</p>
<p>ç¼–è¯‘å™¨ï¼ˆHiveçš„æ ¸å¿ƒï¼‰ï¼š1ï¼Œè¯­ä¹‰è§£æå™¨ï¼ˆParseDriverï¼‰ï¼Œå°†æŸ¥è¯¢å­—ç¬¦ä¸²è½¬æ¢æˆè§£ææ ‘è¡¨è¾¾å¼ï¼›2ï¼Œè¯­æ³•è§£æå™¨ï¼ˆSemanticAnalyzerï¼‰ï¼Œå°†è§£ææ ‘è½¬æ¢æˆåŸºäºè¯­å¥å—çš„å†…éƒ¨æŸ¥è¯¢è¡¨è¾¾å¼ï¼›3ï¼Œé€»è¾‘è®¡åˆ’ç”Ÿæˆå™¨ï¼ˆLogical Plan Generatorï¼‰ï¼Œå°†å†…éƒ¨æŸ¥è¯¢è¡¨è¾¾å¼è½¬æ¢ä¸ºé€»è¾‘è®¡åˆ’ï¼Œè¿™äº›è®¡åˆ’ç”±é€»è¾‘æ“ä½œæ ‘ç»„æˆï¼Œæ“ä½œç¬¦æ˜¯Hiveçš„æœ€å°å¤„ç†å•å…ƒï¼Œæ¯ä¸ªæ“ä½œç¬¦å¤„ç†ä»£è¡¨ä¸€é“HDFSæ“ä½œæˆ–è€…æ˜¯MRä½œä¸šï¼›4ï¼ŒæŸ¥è¯¢è®¡åˆ’ç”Ÿæˆå™¨ï¼ˆQueryPlan Generatorï¼‰ï¼Œå°†é€»è¾‘è®¡åˆ’è½¬åŒ–æˆç‰©ç†è®¡åˆ’ï¼ˆMR Jobï¼‰ã€‚</p>
<p>ä¼˜åŒ–å™¨ï¼šä¼˜åŒ–å™¨æ˜¯ä¸€ä¸ªæ¼”åŒ–ç»„ä»¶ï¼Œå½“å‰å®ƒçš„è§„åˆ™æ˜¯ï¼šåˆ—ä¿®å‰ªï¼Œè°“è¯ä¸‹å‹ã€‚</p>
<p>æ‰§è¡Œå™¨ï¼šç¼–è¯‘å™¨å°†æ“ä½œæ ‘åˆ‡åˆ†æˆä¸€ä¸ªJobé“¾ï¼ˆDAGï¼‰ï¼Œæ‰§è¡Œå™¨ä¼šé¡ºåºæ‰§è¡Œå…¶ä¸­æ‰€æœ‰çš„Jobï¼›å¦‚æœTaské“¾ä¸å­˜åœ¨ä¾èµ–å…³ç³»ï¼Œå¯ä»¥é‡‡ç”¨å¹¶å‘æ‰§è¡Œçš„æ–¹å¼è¿›è¡ŒJobçš„æ‰§è¡Œã€‚</p>
<h3 id="2-3-æ¥å£"><a href="#2-3-æ¥å£" class="headerlink" title="2.3 æ¥å£"></a>2.3 æ¥å£</h3><p><strong>CLIã€HWIã€ThriftServer</strong></p>
<ol>
<li><p>CLIï¼šä¸ºå‘½ä»¤è¡Œå·¥å…·ï¼Œé»˜è®¤æœåŠ¡ã€‚bin/hiveæˆ–bin/hiveâ€“service cliï¼›</p>
</li>
<li><p>HWIï¼šä¸ºWebæ¥å£ï¼Œå¯ä»¥ç”¨è¿‡æµè§ˆå™¨è®¿é—®Hiveï¼Œé»˜è®¤ç«¯å£9999ï¼Œå¯åŠ¨æ–¹å¼ä¸ºbin/hive â€“service hwi;</p>
</li>
<li><p>ThriftServerï¼šé€šè¿‡Thriftå¯¹å¤–æä¾›æœåŠ¡ï¼Œé»˜è®¤ç«¯å£æ˜¯10000ï¼Œå¯åŠ¨æ–¹å¼ä¸ºbin/hive â€“service hiveserver;</p>
</li>
</ol>
<p><strong> è¿æ¥hive-metastore(å¦‚mysql)çš„ä¸‰ç§æ–¹å¼ </strong></p>
<ol>
<li>å•ç”¨æˆ·æ¨¡å¼ã€‚æ­¤æ¨¡å¼è¿åˆ°æ•°æ®åº“Derbyï¼Œä¸€èˆ¬ç”¨äºUnit Testã€‚<br><img src="/images/hadoop/hive-longdis-model.jpeg" alt="å•ç”¨æˆ·æ¨¡å¼"></li>
<li>å¤šç”¨æˆ·æ¨¡å¼ã€‚é€šè¿‡ç½‘ç»œè¿æ¥åˆ°ä¸€ä¸ªæ•°æ®åº“ä¸­ï¼Œæ˜¯æœ€ç»å¸¸ä½¿ç”¨åˆ°çš„æ¨¡å¼ã€‚<br><img src="/images/hadoop/hive-more-user-model.jpeg" alt="å¤šç”¨æˆ·æ¨¡å¼"></li>
<li>è¿œç¨‹æœåŠ¡å™¨æ¨¡å¼ã€‚ç”¨äºéJavaå®¢æˆ·ç«¯è®¿é—®å…ƒæ•°æ®åº“ï¼Œåœ¨æœåŠ¡å™¨ç«¯å¯åŠ¨MetaStoreServerï¼Œå®¢æˆ·ç«¯åˆ©ç”¨Thriftåè®®é€šè¿‡MetaStoreServerè®¿é—®å…ƒæ•°æ®åº“ã€‚<br><img src="/images/hadoop/hive-longdis-model.jpeg" alt="è¿œç¨‹æœåŠ¡å™¨æ¨¡å¼"></li>
</ol>
<h3 id="2-4-å…¶ä»–æœåŠ¡"><a href="#2-4-å…¶ä»–æœåŠ¡" class="headerlink" title="2.4 å…¶ä»–æœåŠ¡"></a>2.4 å…¶ä»–æœåŠ¡</h3><p><strong>bin/hive â€“service -help</strong></p>
<ol>
<li><p>metastore   (bin/hive â€“service metastore)</p>
</li>
<li><p>hiveserver2ï¼ˆbin/hive â€“service hiveserver2ï¼‰</p>
</li>
</ol>
<p><strong>HiveServer2</strong></p>
<ol>
<li><p>HiveServer2æ˜¯HieServeræ”¹è¿›ç‰ˆæœ¬ï¼Œå®ƒæä¾›ç»™æ–°çš„ThriftAPIæ¥å¤„ç†JDBCæˆ–è€…ODBCå®¢æˆ·ç«¯ï¼Œè¿›è¡ŒKerberosèº«ä»½éªŒè¯ï¼Œå¤šä¸ªå®¢æˆ·ç«¯å¹¶å‘</p>
</li>
<li><p>HS2è¿˜æä¾›äº†æ–°çš„CLIï¼šBeeLineï¼Œæ˜¯Hive 0.11å¼•å…¥çš„æ–°çš„äº¤äº’å¼CLIï¼ŒåŸºäºSQLLineï¼Œå¯ä»¥ä½œä¸ºHive JDBC Client ç«¯è®¿é—®HievServer2ï¼Œå¯åŠ¨ä¸€ä¸ªbeelineå°±æ˜¯ç»´æŠ¤äº†ä¸€ä¸ªsession.</p>
</li>
</ol>
<p><strong>Hiveä¸‹è½½åœ°å€</strong></p>
<ol>
<li><p>cdh-hive : <a href="https://repository.cloudera.com/artifactory/cloudera-repos/org/apache/hive/hive-exec/0.13.1-cdh5.3.6/" target="_blank" rel="external">hive0.13.1-cdh5.3.6 jar åŒ…</a> (æ²¡ç”¨)</p>
</li>
<li><p>apache-hive : <a href="http://archive.apache.org/dist/hive/" target="_blank" rel="external">Apache-Hive</a></p>
</li>
</ol>
<p><strong>Hive-Beeline è¯•éªŒæˆåŠŸ</strong></p>
<figure class="highlight"><table><tr><td class="code"><pre><span class="line">ä¸‹è½½ apache-hive-0.13.1-bin, apache-hadoop2.5ï¼Œé…ç½® HADOOP_HOME, å¯åŠ¨ </span><br><span class="line"></span><br><span class="line">âœ  ./apache-hive-0.13.1-bin/bin/beeline</span><br><span class="line">Beeline version 0.13.1 by Apache Hive</span><br><span class="line">beeline&gt; !connect jdbc:hive2://node190:10000 hdfs 1</span><br><span class="line">scan complete in 3ms</span><br><span class="line">Connecting to jdbc:hive2://node190:10000</span><br><span class="line">Connected to: Apache Hive (version 0.13.1-cdh5.3.6)</span><br><span class="line">Driver: Hive JDBC (version 0.13.1)</span><br><span class="line">Transaction isolation: TRANSACTION_REPEATABLE_READ</span><br><span class="line">0: jdbc:hive2://node190:10000&gt; select count(*) from ods_dm_shop_tmp;</span><br><span class="line">+-------+</span><br><span class="line">|  _c0  |</span><br><span class="line">+-------+</span><br><span class="line">| 1091  |</span><br><span class="line">+-------+</span><br><span class="line">1 row selected (24.815 seconds)</span><br><span class="line">0: jdbc:hive2://node190:10000&gt;</span><br><span class="line"></span><br><span class="line">è¯´æ˜ : beeline å¯ä»¥æˆåŠŸï¼Œç”¨ä»£ç  jdbc å°±å¯ä»¥æˆåŠŸ</span><br><span class="line"></span><br><span class="line">å®‰è£… hadoop å‚è€ƒäº† ã€ŠSparkå¤§æ•°æ®å¤„ç†ã€‹é«˜å½¦æ°@è‘—, ä¸ç”¨é…ç½®ç›´æ¥ç»¿è‰²ç®€å•ç‰ˆ</span><br></pre></td></tr></table></figure>
<p><strong>Hive table</strong></p>
<p>  table ä¸­çš„ä¸€ä¸ª Partition å¯¹åº”è¡¨ä¸‹çš„ä¸€ä¸ªå­ç›®å½•<br>  æ¯ä¸€ä¸ª Bucket å¯¹åº”ä¸€ä¸ªæ–‡ä»¶ï¼›<br>  Hiveçš„é»˜è®¤æ•°æ®ä»“åº“ç›®å½•æ˜¯/user/hive/warehouse<br>  åœ¨hive-site.xmlä¸­ç”±hive.metastore.warehouse.diré¡¹å®šä¹‰ï¼›</p>
<h2 id="reference-article"><a href="#reference-article" class="headerlink" title="reference article"></a>reference article</h2><p>å‚è€ƒ : <a href="http://blog.csdn.net/lalaguozhe/article/details/11776055" target="_blank" rel="external">CSDN - Hive Server 2 è°ƒç ”ï¼Œå®‰è£…å’Œéƒ¨ç½²</a><br>å‚è€ƒ : <a href="http://www.geedoo.info/beeline-abnormal-connection-hiveserver2.html" target="_blank" rel="external">æè±†æŠ€æœ¯åšå®¢ - Beelineè¿æ¥hiveserver2å¼‚å¸¸</a><br>å‚è€ƒ : <a href="http://blog.csdn.net/skywalker_only/article/details/38366347" target="_blank" rel="external">Hiveå­¦ä¹ ä¹‹HiveServer2 JDBCå®¢æˆ·ç«¯</a><br>å‚è€ƒ : <a href="https://cwiki.apache.org/confluence/display/Hive/HiveServer2+Clients#HiveServer2Clients-Beeline" target="_blank" rel="external">HiveServer2 Clients beeline</a><br>å‚è€ƒ : <a href="http://www.aboutyun.com/blog-6-1855.html" target="_blank" rel="external">Beelineè¿æ¥hiveserver2å¼‚å¸¸</a><br>å‚è€ƒ : <a href="http://blog.csdn.net/skywalker_only/article/details/38335235" target="_blank" rel="external">Hiveå­¦ä¹ ä¹‹HiveServer2æœåŠ¡ç«¯é…ç½®ä¸å¯åŠ¨</a></p>
<p><strong>other tmp</strong></p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">## Chap 7 HiveQL è§†å›¾ ##</span><br><span class="line">## Chap 8 HiveQL ç´¢å¼• ##</span><br><span class="line">## Chap 9 æ¨¡å¼è®¾è®¡ ##</span><br><span class="line">## Chap 10 è°ƒä¼˜ ##</span><br><span class="line">## Chap 11 å…¶ä»–æ–‡ä»¶æ ¼å¼å’Œå‹ç¼©æ–¹æ³• ##</span><br><span class="line">## Chap 12 å¼€å‘ ##</span><br><span class="line">## Chap 13 å‡½æ•° ##</span><br><span class="line">## Chap 14 Streaming ##</span><br><span class="line">## Chap 15 è‡ªå®šä¹‰Hiveæ–‡ä»¶å’Œè®°å½•æ ¼å¼ ##</span><br><span class="line">## Chap 16 Hive çš„ Thrift æœåŠ¡ ##</span><br><span class="line">## Chap 11 å…¶ä»–æ–‡ä»¶æ ¼å¼å’Œå‹ç¼©æ–¹æ³• ##</span><br></pre></td></tr></table></figure>
<hr>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[Spark Introduce and Install]]></title>
      <url>http://iequa.com/2016/02/01/spark-introduce-and-install/</url>
      <content type="html"><![CDATA[<p>ä»‹ç» Spark çš„å†å²ï¼Œä»‹ç» Spark çš„å®‰è£…ä¸éƒ¨ç½²ï¼Œä»‹ç» Spark çš„ä»£ç æ¶æ„ ç­‰</p>
<a id="more"></a>
<p>Spark å‘æºäº ç¾å›½åŠ å·å¤§å­¦ä¼¯å…‹åˆ©åˆ†æ ¡ AMPLap å¤§æ•°æ®åˆ†æå¹³å°<br>Spark ç«‹è¶³äºå†…å­˜è®¡ç®—ã€ä»å¤šè¿­ä»£æ‰¹é‡å¤„ç†å‡ºå‘<br>Spark å…¼é¡¾æ•°æ®ä»“åº“ã€æµå¤„ç†ã€å›¾è®¡ç®— ç­‰å¤šç§è®¡ç®—èŒƒå¼ï¼Œå¤§æ•°æ®ç³»ç»Ÿé¢†åŸŸå…¨æ ˆè®¡ç®—å¹³å°  </p>
<p><a href="http://spark.apache.org" target="_blank" rel="external">spark.apache.org</a> </p>
<blockquote>
<p>University of California, Berkeley </p>
</blockquote>
<h2 id="1-Spark-çš„å†å²ä¸å‘å±•"><a href="#1-Spark-çš„å†å²ä¸å‘å±•" class="headerlink" title="1. Spark çš„å†å²ä¸å‘å±•"></a>1. Spark çš„å†å²ä¸å‘å±•</h2><ul>
<li>2009 å¹´ : Spark è¯ç”Ÿäº AMPLab  </li>
<li>2014-02 : Apache é¡¶çº§é¡¹ç›®  </li>
<li>2014-05 : Spark 1.0.0 å‘å¸ƒ</li>
</ul>
<h2 id="2-Spark-ä¹‹äº-Hadoop"><a href="#2-Spark-ä¹‹äº-Hadoop" class="headerlink" title="2. Spark ä¹‹äº Hadoop"></a>2. Spark ä¹‹äº Hadoop</h2><p> Spark æ˜¯ MapReduce çš„æ›¿ä»£æ–¹æ¡ˆ, ä¸”å…¼å®¹ HDFSã€Hive ç­‰åˆ†å¸ƒå¼å­˜å‚¨å±‚ã€‚</p>
<p> Spark ç›¸æ¯” Hadoop MapReduce çš„ä¼˜åŠ¿å¦‚ä¸‹ :</p>
<ol>
<li>ä¸­é—´ç»“æœè¾“å‡º</li>
<li>æ•°æ®æ ¼å¼å’Œå†…å­˜å¸ƒå±€</li>
<li>æ‰§è¡Œç­–ç•¥  </li>
<li>ä»»åŠ¡è°ƒåº¦çš„å¼€é”€</li>
</ol>
<blockquote>
<p>Sparkç”¨äº‹ä»¶é©±åŠ¨ç±»åº“AKKAæ¥å¯åŠ¨ä»»åŠ¡, é€šè¿‡çº¿ç¨‹æ± å¤ç”¨çº¿ç¨‹é¿å…è¿›çº¿ç¨‹å¯åŠ¨åˆ‡æ¢å¼€é”€</p>
</blockquote>
<h2 id="3-Spark-èƒ½å¸¦æ¥ä»€ä¹ˆ"><a href="#3-Spark-èƒ½å¸¦æ¥ä»€ä¹ˆ" class="headerlink" title="3. Spark èƒ½å¸¦æ¥ä»€ä¹ˆ ?"></a>3. Spark èƒ½å¸¦æ¥ä»€ä¹ˆ ?</h2><ol>
<li>æ‰“é€ å…¨æ ˆå¤šè®¡ç®—èŒƒå¼çš„é«˜æ•ˆæ•°æ®æµæ°´çº¿</li>
<li>è½»é‡çº§å¿«é€Ÿå¤„ç†, å¹¶æ”¯æŒ Scalaã€Pythonã€Java</li>
<li>ä¸ HDFS ç­‰ å­˜å‚¨å±‚ å…¼å®¹</li>
</ol>
<h2 id="4-Spark-å®‰è£…ä¸éƒ¨ç½²"><a href="#4-Spark-å®‰è£…ä¸éƒ¨ç½²" class="headerlink" title="4. Spark å®‰è£…ä¸éƒ¨ç½²"></a>4. Spark å®‰è£…ä¸éƒ¨ç½²</h2><p>Spark ä¸»è¦ä½¿ç”¨ HDFS å……å½“æŒä¹…åŒ–å±‚ï¼Œæ‰€ä»¥å®Œæ•´çš„å®‰è£… Spark éœ€è¦å…ˆå®‰è£… Hadoop.<br>Spark æ˜¯è®¡ç®—æ¡†æ¶, å®ƒä¸»è¦ä½¿ç”¨ HDFS å……å½“æŒä¹…åŒ–å±‚ã€‚</p>
<p><strong>Linux é›†ç¾¤å®‰è£… Spark</strong></p>
<ol>
<li>å®‰è£… JDK</li>
<li>å®‰è£… Scala</li>
<li>é…ç½® SSH å…å¯†ç ç™»é™† (å¯é€‰)</li>
<li>å®‰è£… Hadoop</li>
<li>å®‰è£… Spark</li>
<li>å¯åŠ¨ Spark é›†ç¾¤</li>
</ol>
<p><a href="http://spark.apache.org/downloads.html" target="_blank" rel="external">Sparkå®˜ç½‘ä¸‹è½½</a></p>
<h3 id="4-1-å®‰è£…-Spark"><a href="#4-1-å®‰è£…-Spark" class="headerlink" title="4.1 å®‰è£… Spark"></a>4.1 å®‰è£… Spark</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">(1). download  spark-1.5.2-bin-hadoop2.6.tgz</span><br><span class="line"></span><br><span class="line">(2). tar -xzvf spark-1.5.2-bin-hadoop2.6.tgz</span><br><span class="line"></span><br><span class="line">(3). é…ç½® conf/spark-env.sh</span><br><span class="line">    1) è¯¦ç»†å¤æ‚å‚æ•°é…ç½®å‚è§ å®˜ç½‘ Configuration</span><br><span class="line">    2) vim conf/spark-env.sh</span><br><span class="line">    </span><br><span class="line">    <span class="built_in">export</span> JAVA_HOME=/Library/Java/JavaVirtualMachines/jdk1.7.0_79.jdk/Contents/Home</span><br><span class="line">    <span class="built_in">export</span> SCALA_HOME=/usr/<span class="built_in">local</span>/Cellar/scala/2.11.5</span><br><span class="line">    <span class="built_in">export</span> SPARK_HOME=/usr/<span class="built_in">local</span>/xSoft/spark</span><br><span class="line">    </span><br><span class="line">    <span class="built_in">export</span> SPARK_MASTER_IP=ip</span><br><span class="line">    <span class="built_in">export</span> MASTER=spark://ip:7077</span><br><span class="line"></span><br><span class="line">    <span class="built_in">export</span> SPARK_EXECUTOR_INSTANCES=2</span><br><span class="line">    <span class="built_in">export</span> SPARK_EXECUTOR_CORES=1</span><br><span class="line"></span><br><span class="line">    <span class="built_in">export</span> SPARK_WORKER_MEMORY=1000m</span><br><span class="line">    <span class="built_in">export</span> SPARK_EXECUTOR_MEMORY=300m</span><br><span class="line"></span><br><span class="line">    <span class="built_in">export</span> SPARK_LIBRARY_PATH=<span class="variable">$&#123;SPARK_HOME&#125;</span>/lib</span><br><span class="line"></span><br><span class="line">(4). é…ç½® conf/slaves (æµ‹è¯•å¯é€‰)</span><br><span class="line">(5). ä¸€èˆ¬éœ€è¦ startup ssh server.</span><br></pre></td></tr></table></figure>
<h3 id="4-2-å¯åŠ¨-Spark-é›†ç¾¤"><a href="#4-2-å¯åŠ¨-Spark-é›†ç¾¤" class="headerlink" title="4.2 å¯åŠ¨ Spark é›†ç¾¤"></a>4.2 å¯åŠ¨ Spark é›†ç¾¤</h3><p>åœ¨ Spark æ ¹ç›®å½•å¯åŠ¨ Spark</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">./sbin/start-all.sh</span><br><span class="line">./sbin/stop-all.sh</span><br></pre></td></tr></table></figure>
<p>å¯åŠ¨å jps æŸ¥çœ‹ ä¼šæœ‰ Master è¿›ç¨‹å­˜åœ¨</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">âœ  spark-1.5.2-bin-hadoop2.6  jps</span><br><span class="line">11262 Jps</span><br><span class="line">11101 Master</span><br><span class="line">11221 Worker</span><br></pre></td></tr></table></figure>
<h3 id="4-3-Spark-é›†ç¾¤åˆè¯•"><a href="#4-3-Spark-é›†ç¾¤åˆè¯•" class="headerlink" title="4.3 Spark é›†ç¾¤åˆè¯•"></a>4.3 Spark é›†ç¾¤åˆè¯•</h3><p>å¯ä»¥é€šè¿‡ä¸¤ç§æ–¹å¼è¿è¡Œ Spark æ ·ä¾‹ :</p>
<ul>
<li>ä»¥ ./run-example çš„æ–¹å¼æ‰§è¡Œ</li>
</ul>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">âœ  <span class="built_in">cd</span> /usr/<span class="built_in">local</span>/xSoft/spark</span><br><span class="line">âœ  spark ./sbin/start-all.sh</span><br><span class="line">âœ  spark ./bin/run-example org.apache.spark.examples.SparkPi</span><br></pre></td></tr></table></figure>
<ul>
<li>ä»¥ ./Spark Shell æ–¹å¼æ‰§è¡Œ</li>
</ul>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">scala&gt; import org.apache.spark._</span><br><span class="line">import org.apache.spark._</span><br><span class="line"></span><br><span class="line">scala&gt; object SparkPi &#123;</span><br><span class="line">     |</span><br><span class="line">     |   def main(args: Array[String]) &#123;</span><br><span class="line">     |</span><br><span class="line">     |     val slices = 2</span><br><span class="line">     |     val n = 100000 * slices</span><br><span class="line">     |</span><br><span class="line">     |     val count = sc.parallelize(1 to n, slices).map &#123; i =&gt;</span><br><span class="line">     |</span><br><span class="line">     |       val x = math.random * 2 - 1</span><br><span class="line">     |       val y = math.random * 2 - 1</span><br><span class="line">     |</span><br><span class="line">     |       if (x * x + y * y &lt; 1) 1 else 0</span><br><span class="line">     |</span><br><span class="line">     |     &#125;.reduce(_ + _)</span><br><span class="line">     |</span><br><span class="line">     |     println(&quot;Pi is rounghly &quot; + 4.0 * count / n)</span><br><span class="line">     |</span><br><span class="line">     |   &#125;</span><br><span class="line">     | &#125;</span><br><span class="line">defined module SparkPi</span><br><span class="line">scala&gt;</span><br><span class="line"></span><br><span class="line">// Spark Shell å·²é»˜è®¤å°† SparkContext ç±»åˆå§‹åŒ–ä¸ºå¯¹è±¡ sc, ç”¨æˆ·ä»£ç å¯ç›´æ¥ä½¿ç”¨ã€‚</span><br><span class="line">// Spark è‡ªå¸¦çš„äº¤äº’å¼çš„ Shell ç¨‹åºï¼Œæ–¹ä¾¿è¿›è¡Œäº¤äº’å¼ç¼–ç¨‹ã€‚</span><br></pre></td></tr></table></figure>
<ul>
<li><p>é€šè¿‡ Web UI æŸ¥çœ‹é›†ç¾¤çŠ¶æ€</p>
<pre><code>httpï¼š//masterIp:8080
</code></pre></li>
</ul>
<p><img src="/images/spark/spark-introduce-05.png" width="740" height="400" img=""></p>
<h3 id="4-4-Spark-quick-start"><a href="#4-4-Spark-quick-start" class="headerlink" title="4.4 Spark quick start"></a>4.4 Spark quick start</h3><p>quick-start : <a href="https://spark.apache.org/docs/latest/quick-start.html" target="_blank" rel="external">https://spark.apache.org/docs/latest/quick-start.html</a></p>
<p>./bin/spark-shell</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">scala&gt; val textFile = sc.textFile(&quot;README.md&quot;)</span><br><span class="line">textFile: spark.RDD[String] = spark.MappedRDD@2ee9b6e3</span><br><span class="line">RDDs have actions, which return values, and transformations, which return pointers to new RDDs. Letâ€™s start with a few actions:</span><br><span class="line"></span><br><span class="line">scala&gt; textFile.count() // Number of items in this RDD</span><br><span class="line">res0: Long = 126</span><br><span class="line"></span><br><span class="line">scala&gt; textFile.first() // First item in this RDD</span><br><span class="line">res1: String = # Apache Spark</span><br></pre></td></tr></table></figure>
<h2 id="5-Spark-ç”Ÿæ€-BDAS"><a href="#5-Spark-ç”Ÿæ€-BDAS" class="headerlink" title="5. Spark ç”Ÿæ€ BDAS"></a>5. Spark ç”Ÿæ€ BDAS</h2><ul>
<li>Spark æ¡†æ¶ã€æ¶æ„ã€è®¡ç®—æ¨¡å‹ã€æ•°æ®ç®¡ç†ç­–ç•¥</li>
<li>Spark BDAS é¡¹ç›®åŠå…¶å­é¡¹ç›®è¿›è¡Œäº†ç®€è¦ä»‹ç»</li>
<li>Spark ç”Ÿæ€ç³»ç»ŸåŒ…å«çš„å¤šä¸ªå­é¡¹ç›® : SparkSqlã€Spark Streamingã€GraphXã€MLlib</li>
</ul>
<p><img src="/images/spark/spark-introduce-01.png" alt="Spark EcoSystem = BDAS = ä¼¯å…‹åˆ©æ•°æ®åˆ†ææ ˆ"></p>
<ul>
<li>Spark æ˜¯ BDAS æ ¸å¿ƒ, æ˜¯ä¸€ å¤§æ•°æ®åˆ†å¸ƒå¼ç¼–ç¨‹æ¡†æ¶</li>
</ul>
<h2 id="6-Spark-æ¶æ„"><a href="#6-Spark-æ¶æ„" class="headerlink" title="6. Spark æ¶æ„"></a>6. Spark æ¶æ„</h2><ul>
<li>Spark çš„ä»£ç ç»“æ„</li>
<li>Spark çš„æ¶æ„</li>
<li>Spark è¿è¡Œé€»è¾‘</li>
</ul>
<h3 id="6-1-Spark-çš„ä»£ç ç»“æ„"><a href="#6-1-Spark-çš„ä»£ç ç»“æ„" class="headerlink" title="6.1 Spark çš„ä»£ç ç»“æ„"></a>6.1 Spark çš„ä»£ç ç»“æ„</h3><p><img src="/images/spark/spark-introduce-02.jpeg" alt="spark code"></p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">schedulerï¼šæ–‡ä»¶å¤¹ä¸­å«æœ‰è´Ÿè´£æ•´ä½“çš„Sparkåº”ç”¨ã€ä»»åŠ¡è°ƒåº¦çš„ä»£ç ã€‚</span><br><span class="line">broadcastï¼šå«æœ‰Broadcastï¼ˆå¹¿æ’­å˜é‡ï¼‰çš„å®ç°ä»£ç ï¼ŒAPIä¸­æ˜¯Javaå’ŒPython APIçš„å®ç°ã€‚</span><br><span class="line"></span><br><span class="line">deployï¼šå«æœ‰Sparkéƒ¨ç½²ä¸å¯åŠ¨è¿è¡Œçš„ä»£ç ã€‚</span><br><span class="line">commonï¼šä¸æ˜¯ä¸€ä¸ªæ–‡ä»¶å¤¹ï¼Œè€Œæ˜¯ä»£è¡¨Sparké€šç”¨çš„ç±»å’Œé€»è¾‘å®ç°ï¼Œæœ‰5000è¡Œä»£ç ã€‚</span><br><span class="line"></span><br><span class="line">metricsï¼šæ˜¯è¿è¡Œæ—¶çŠ¶æ€ç›‘æ§é€»è¾‘ä»£ç ï¼ŒExecutorä¸­å«æœ‰WorkerèŠ‚ç‚¹è´Ÿè´£è®¡ç®—çš„é€»è¾‘ä»£ç ã€‚</span><br><span class="line">partialï¼šå«æœ‰è¿‘ä¼¼è¯„ä¼°ä»£ç ã€‚</span><br></pre></td></tr></table></figure>
<h3 id="6-2-Spark-çš„æ¶æ„"><a href="#6-2-Spark-çš„æ¶æ„" class="headerlink" title="6.2 Spark çš„æ¶æ„"></a>6.2 Spark çš„æ¶æ„</h3><p>Sparkæ¶æ„é‡‡ç”¨äº†åˆ†å¸ƒå¼è®¡ç®—ä¸­çš„Master-Slaveæ¨¡å‹ã€‚</p>
<table>
<thead>
<tr>
<th>Role</th>
<th>description</th>
</tr>
</thead>
<tbody>
<tr>
<td>Master</td>
<td>å¯¹åº”é›†ç¾¤ä¸­çš„å«æœ‰Masterè¿›ç¨‹çš„èŠ‚ç‚¹, é›†ç¾¤çš„æ§åˆ¶å™¨</td>
</tr>
<tr>
<td>Slave</td>
<td>é›†ç¾¤ä¸­å«æœ‰Workerè¿›ç¨‹çš„èŠ‚ç‚¹</td>
</tr>
<tr>
<td></td>
<td></td>
</tr>
<tr>
<td>Client</td>
<td>ä½œä¸ºç”¨æˆ·çš„å®¢æˆ·ç«¯è´Ÿè´£æäº¤åº”ç”¨</td>
</tr>
<tr>
<td>Driver</td>
<td>è¿è¡ŒApplicationçš„main()å‡½æ•°å¹¶åˆ›å»ºSparkContextã€‚è´Ÿè´£ä½œä¸šçš„è°ƒåº¦ï¼Œå³Taskä»»åŠ¡çš„åˆ†å‘</td>
</tr>
<tr>
<td>Worker</td>
<td>ç®¡ç†è®¡ç®—èŠ‚ç‚¹å’Œåˆ›å»ºExecutorï¼Œå¯åŠ¨Executor æˆ– Driver. æ¥æ”¶ä¸»èŠ‚ç‚¹å‘½ä»¤ä¸è¿›è¡ŒçŠ¶æ€æ±‡æŠ¥</td>
</tr>
<tr>
<td>Executor</td>
<td>Worker nodeæ‰§è¡Œä»»åŠ¡çš„ç»„ä»¶,è´Ÿè´£ Task çš„æ‰§è¡Œ,ç”¨äºå¯åŠ¨çº¿ç¨‹æ± è¿è¡Œä»»åŠ¡</td>
</tr>
<tr>
<td></td>
<td></td>
</tr>
<tr>
<td>ClusterManager</td>
<td>Standalone æ¨¡å¼ä¸­ä¸º Master, æ§åˆ¶æ•´ä¸ªé›†ç¾¤, ç›‘æ§Worker</td>
</tr>
<tr>
<td>SparkContext</td>
<td>æ•´ä¸ªåº”ç”¨çš„ä¸Šä¸‹æ–‡, æ§åˆ¶Appçš„ç”Ÿå‘½å‘¨æœŸ</td>
</tr>
<tr>
<td>RDD</td>
<td>Sparkçš„åŸºæœ¬è®¡ç®—å•å…ƒï¼Œä¸€ç»„RDDå¯å½¢æˆæ‰§è¡Œçš„ DAG</td>
</tr>
</tbody>
</table>
<p><img src="/images/spark/spark-introduce-03.jpeg" alt="spark"></p>
<table>
<thead>
<tr>
<th>Spark App æµç¨‹</th>
</tr>
</thead>
<tbody>
<tr>
<td>1. Client æäº¤åº”ç”¨</td>
<td></td>
</tr>
<tr>
<td>2. Master æ‰¾åˆ°ä¸€ä¸ª Worker å¯åŠ¨ Driver</td>
<td></td>
</tr>
<tr>
<td>3. Driver å‘ Master æˆ–è€… èµ„æºç®¡ç†å™¨ç”³è¯·èµ„æºï¼Œä¹‹åå°†åº”ç”¨è½¬åŒ–ä¸º RDD Graph</td>
<td></td>
</tr>
<tr>
<td>4. DAGScheduler å°† RDD Graph è½¬åŒ–ä¸º Stageçš„æœ‰å‘æ— ç¯å›¾ æäº¤ç»™ TaskScheduler</td>
<td></td>
</tr>
<tr>
<td>5. TaskScheduler æäº¤ task ç»™Executoræ‰§è¡Œ</td>
<td></td>
</tr>
<tr>
<td>6. åœ¨ä»»åŠ¡æ‰§è¡Œçš„è¿‡ç¨‹ä¸­ï¼Œå…¶ä»–ç»„ä»¶ååŒå·¥ä½œï¼Œç¡®ä¿æ•´ä¸ªåº”ç”¨é¡ºåˆ©æ‰§è¡Œ</td>
<td></td>
</tr>
</tbody>
</table>
<blockquote>
<p>åœ¨æ‰§è¡Œé˜¶æ®µï¼ŒDriver ä¼šå°† Task å’Œ Taskæ‰€ä¾èµ–çš„file å’Œ jar åºåˆ—åŒ–åä¼ é€’ç»™å¯¹åº”çš„ Workeræœºå™¨ï¼ŒåŒæ—¶ Executorå¯¹ç›¸åº”æ•°æ®åˆ†åŒºçš„ä»»åŠ¡è¿›è¡Œå¤„ç†ã€‚</p>
</blockquote>
<h2 id="7-å°ç»“"><a href="#7-å°ç»“" class="headerlink" title="7. å°ç»“"></a>7. å°ç»“</h2><p>ç”±äº Spark ä¸»è¦ä½¿ç”¨ HDFS å……å½“æŒä¹…åŒ–å±‚ï¼Œæ‰€ä»¥å®Œæ•´çš„ä½¿ç”¨ Spark éœ€è¦é¢„å…ˆå®‰è£… Hadoop.</p>
<p>Spark å°†åˆ†å¸ƒå¼çš„å†…å­˜æ•°æ®æŠ½è±¡ä¸ºå¼¹æ€§åˆ†å¸ƒå¼æ•°æ®é›† (RDD), å¹¶åœ¨å…¶ä¸Šå®ç°äº†ä¸°å¯Œçš„ç®—å­ï¼Œä»è€Œå¯¹ RDD è¿›è¡Œè®¡ç®—ï¼Œæœ€åå°† ç®—å­åºåˆ— è½¬åŒ–ä¸º DAG è¿›è¡Œæ‰§è¡Œå’Œè°ƒåº¦ã€‚</p>
<blockquote>
<p>Sparkçš„Python APIå‡ ä¹è¦†ç›–äº†æ‰€æœ‰Scala APIæ‰€èƒ½æä¾›çš„åŠŸèƒ½. ä½†çš„ç¡®æœ‰äº›ç‰¹æ€§ï¼Œæ¯”å¦‚Spark Streamingå’Œä¸ªåˆ«çš„APIæ–¹æ³•ï¼Œæš‚ä¸æ”¯æŒã€‚<br><a href="http://spark.apache.org/docs/latest/programming-guide.html" target="_blank" rel="external">å…·ä½“å‚è§ã€ŠSparkç¼–ç¨‹æŒ‡å—ã€‹çš„Pythonéƒ¨åˆ†</a></p>
</blockquote>
<p>ä½“ä¼šäº† å‡½æ•°å¼ ç¼–ç¨‹. ä¸ªäººè®¤ä¸º scalaã€python æ¯”è¾ƒé€‚åˆå†™ spark ç¨‹åº.</p>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[Kettle ETL]]></title>
      <url>http://iequa.com/2016/01/22/ops-db-etl-kettle/</url>
      <content type="html"><![CDATA[<p>Kettle çš„ä½¿ç”¨åˆæ­¥ä»‹ç»</p>
<a id="more"></a>
<ol>
<li>ETL æ˜¯æ•°æ®æŠ½å–ï¼ˆExtractï¼‰ã€æ¸…æ´—ï¼ˆCleaningï¼‰ã€è½¬æ¢ï¼ˆTransformï¼‰ã€è£…è½½ï¼ˆLoadï¼‰çš„è¿‡ç¨‹ã€‚</li>
<li>ETL æ˜¯æ„å»º <strong>DW</strong> çš„é‡è¦ä¸€ç¯ï¼Œç”¨æˆ·ä»æ•°æ®æºæŠ½å–å‡ºæ•°æ®ï¼Œç» æ•°æ®æ¸…æ´—,æŒ‰ç…§é¢„å®šä¹‰å¥½çš„ DWæ¨¡å‹ï¼Œå°†æ•°æ®åŠ è½½åˆ° DW ä¸­å»ã€‚</li>
<li>ETL æ˜¯å°†ä¸šåŠ¡ç³»ç»Ÿçš„æ•°æ®ç»è¿‡æŠ½å–ã€æ¸…æ´—è½¬æ¢ä¹‹ååŠ è½½åˆ° DW çš„è¿‡ç¨‹ï¼Œç›®çš„æ˜¯å°†ä¼ä¸šä¸­çš„åˆ†æ•£é›¶ä¹±ã€æ ‡å‡†ä¸ç»Ÿä¸€çš„æ•°æ®åˆ°ä¸€èµ·ï¼Œä¸ºä¼ä¸šçš„å†³ç­–æä¾›åˆ†æä¾æ®ã€‚</li>
<li>ETL æ˜¯ <strong>BI</strong> é¡¹ç›®ä¸­ä¸€ä¸ªé‡è¦ç¯èŠ‚ã€‚</li>
</ol>
<p><strong>ETLçš„è®¾è®¡åˆ†ä¸‰ä¸ªéƒ¨åˆ†ï¼š</strong></p>
<ol>
<li>æ•°æ®æŠ½å–</li>
<li>æ•°æ®çš„æ¸…æ´—è½¬æ¢</li>
<li>æ•°æ®çš„åŠ è½½</li>
</ol>
<h2 id="1-Kettle-å¼€æºçš„-ETL-å·¥å…·"><a href="#1-Kettle-å¼€æºçš„-ETL-å·¥å…·" class="headerlink" title="1. Kettle å¼€æºçš„ ETL å·¥å…·"></a>1. Kettle å¼€æºçš„ ETL å·¥å…·</h2><h3 id="1-1-Kettle-çš„ä»‹ç»"><a href="#1-1-Kettle-çš„ä»‹ç»" class="headerlink" title="1-1. Kettle çš„ä»‹ç»"></a>1-1. Kettle çš„ä»‹ç»</h3><p>  ETLï¼ˆExtract-Transform-Loadçš„ç¼©å†™ï¼Œå³æ•°æ®æŠ½å–ã€è½¬æ¢ã€è£…è½½çš„è¿‡ç¨‹ï¼Œ æˆ‘ä»¬ç»å¸¸ä¼šé‡åˆ°å„ç§æ•°æ®çš„å¤„ç†ï¼Œè½¬æ¢ï¼Œè¿ç§»ï¼Œæ‰€ä»¥æŒæ¡ä¸€ç§ ETL å·¥å…·çš„ä½¿ç”¨å¿…ä¸å¯å°‘ã€‚</p>
<p>  Kettle æ”¯æŒå›¾å½¢åŒ–çš„GUIè®¾è®¡ç•Œé¢ï¼Œç„¶åå¯ä»¥ä»¥å·¥ä½œæµçš„å½¢å¼æµè½¬ï¼Œç†Ÿç»ƒå®ƒå¯ä»¥å‡å°‘éå¸¸å¤šçš„ç ”å‘å·¥ä½œé‡ï¼Œæé«˜å·¥ä½œæ•ˆç‡ã€‚</p>
<p>  Kettle å…è®¸ä½ ç®¡ç†æ¥è‡ªä¸åŒæ•°æ®åº“çš„æ•°æ®ï¼Œé€šè¿‡æä¾›ä¸€ä¸ªå›¾å½¢åŒ–çš„ç”¨æˆ·ç¯å¢ƒæ¥æè¿°ä½ æƒ³åšä»€ä¹ˆã€‚</p>
<p>  Kettle ä¸­æœ‰ä¸¤ç§è„šæœ¬æ–‡ä»¶ï¼Œtransformation å’Œ job.</p>
<ul>
<li>transformation å®Œæˆé’ˆå¯¹æ•°æ®çš„åŸºç¡€è½¬æ¢.</li>
<li>job åˆ™å®Œæˆæ•´ä¸ªå·¥ä½œæµçš„æ§åˆ¶ã€‚</li>
</ul>
<h3 id="1-2-Kettle-å®¶æ—äº§å“"><a href="#1-2-Kettle-å®¶æ—äº§å“" class="headerlink" title="1-2. Kettle å®¶æ—äº§å“"></a>1-2. Kettle å®¶æ—äº§å“</h3><p> <strong> Kettleå®¶æ—ç›®å‰åŒ…æ‹¬ 4 ä¸ªäº§å“ï¼šSpoonã€Panã€CHEFã€Kitchenã€‚</strong></p>
<p> Spoon å…è®¸ä½ é€šè¿‡å›¾å½¢ç•Œé¢æ¥è®¾è®¡ ETL è½¬æ¢è¿‡ç¨‹ï¼ˆTransformationï¼‰ã€‚</p>
<p> Pan   å…è®¸ä½ æ‰¹é‡è¿è¡Œç”± Spoon è®¾è®¡çš„ ETL è½¬æ¢ (ä¾‹å¦‚ä½¿ç”¨ä¸€ä¸ªæ—¶é—´è°ƒåº¦å™¨)ã€‚Pan æ˜¯ä¸€åå°æ‰§è¡Œçš„ç¨‹åºï¼Œæ²¡å›¾ç•Œé¢ã€‚</p>
<p> Chef  å…è®¸ä½ åˆ›å»ºä»»åŠ¡ï¼ˆJobï¼‰ã€‚ ä»»åŠ¡é€šè¿‡å…è®¸æ¯ä¸ªè½¬æ¢ï¼Œä»»åŠ¡ï¼Œè„šæœ¬ç­‰ç­‰ï¼Œæ›´æœ‰åˆ©äºè‡ªåŠ¨åŒ–æ›´æ–°æ•°æ®ä»“åº“çš„å¤æ‚å·¥ä½œã€‚ä»»åŠ¡é€šè¿‡å…è®¸æ¯ä¸ªè½¬æ¢ï¼Œä»»åŠ¡ï¼Œè„šæœ¬ç­‰ç­‰ã€‚ä»»åŠ¡å°†ä¼šè¢«æ£€æŸ¥ï¼Œçœ‹çœ‹æ˜¯å¦æ­£ç¡®åœ°è¿è¡Œäº†ã€‚</p>
<p> Kitchen å…è®¸ä½ æ‰¹é‡ä½¿ç”¨ç”± Chef è®¾è®¡çš„ä»»åŠ¡ (ä¾‹å¦‚ä½¿ç”¨ä¸€ä¸ªæ—¶é—´è°ƒåº¦å™¨)ã€‚Kitchen ä¹Ÿæ˜¯åå°è¿è¡Œçš„ç¨‹åºã€‚</p>
<h2 id="2-ä¸‹è½½å’Œéƒ¨ç½²å®‰è£…"><a href="#2-ä¸‹è½½å’Œéƒ¨ç½²å®‰è£…" class="headerlink" title="2. ä¸‹è½½å’Œéƒ¨ç½²å®‰è£…"></a>2. ä¸‹è½½å’Œéƒ¨ç½²å®‰è£…</h2><p>ÂKettleå¯ä»¥åœ¨<a href="http://kettle.pentaho.org/" target="_blank" rel="external">http://kettle.pentaho.org/</a> ç½‘ç«™ä¸‹è½½<br>Â<br>Âä¸‹è½½ kettle å‹ç¼©åŒ…ï¼Œå›  kettle ä¸ºç»¿è‰²è½¯ä»¶ï¼Œè§£å‹ç¼©åˆ°ä»»æ„æœ¬åœ°è·¯å¾„å³å¯</p>
<p>å®‰è£…éœ€è¦ : JDKã€JAVA_HOMEã€CLASSPATHã€PENTAHO_JAVA_HOME ç­‰ç¯å¢ƒå˜é‡ã€‚</p>
<blockquote>
<p>å¦‚éœ€è¿æ¥mysqlï¼Œåˆ™éœ€å°† mysql-connector-java-5.1.38.jar æ”¾å…¥åˆ° lib ä¸­ã€‚</p>
</blockquote>
<h3 id="2-1-kettle-windows-å®‰è£…"><a href="#2-1-kettle-windows-å®‰è£…" class="headerlink" title="2-1 kettle windows å®‰è£…"></a>2-1 kettle windows å®‰è£…</h3><ul>
<li>å»ºè®®åœ¨ windows ä¸‹ä½¿ç”¨æ“ä½œç»ƒä¹  kettle<br> windows å¯¹å›¾å½¢åŒ– æ”¯æŒå¥½ </li>
<li>ç›´æ¥å¯åŠ¨ Spoon.bat å³å¯</li>
</ul>
<h3 id="2-2-kettle-Linux-å®‰è£…"><a href="#2-2-kettle-Linux-å®‰è£…" class="headerlink" title="2-2 kettle Linux å®‰è£…"></a>2-2 kettle Linux å®‰è£…</h3><p> linux å›¾å½¢åŒ–ä¸å¼ºï¼Œå¦‚éœ€è¦åœ¨ linux ä¸­æŸ¥çœ‹ä¸€ä¸‹ kettle èµ„æºåº“æ˜¯å¦è¿æ¥æ­£å¸¸ï¼Œä»¥åŠåœ¨ linux ä¸Šè°ƒåº¦ kettle çš„ jobï¼Œå°±éœ€è¦åœ¨ Linuxä¸Š é…ç½® kettle ç¯å¢ƒäº†ã€‚</p>
<p>éªŒè¯ kettle éƒ¨ç½²æˆåŠŸ</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">cd data-integration</span><br><span class="line">è¾“å…¥å‘½ä»¤./kitchen.shã€‚å¦‚æœå‡ºç°å¸®åŠ©ä¿¡æ¯è¯´æ˜éƒ¨ç½²æˆåŠŸ</span><br></pre></td></tr></table></figure>
<blockquote>
<p>å¦‚å‡ºç°é”™è¯¯ï¼Œè¯· chmod +x *.shï¼Œå†è¯•ã€‚</p>
</blockquote>
<h3 id="2-3-kettle-osx-å®‰è£…"><a href="#2-3-kettle-osx-å®‰è£…" class="headerlink" title="2-3 kettle osx å®‰è£…"></a>2-3 kettle osx å®‰è£…</h3><p> å·²ç»å­˜åœ¨</p>
<h2 id="3-åº”ç”¨åœºæ™¯"><a href="#3-åº”ç”¨åœºæ™¯" class="headerlink" title="3. åº”ç”¨åœºæ™¯"></a>3. åº”ç”¨åœºæ™¯</h2><p>è¿™é‡Œç®€å•æ¦‚æ‹¬ä¸€ä¸‹å‡ ç§å…·ä½“çš„åº”ç”¨åœºæ™¯ï¼ŒæŒ‰ç½‘ç»œç¯å¢ƒåˆ’åˆ†ä¸»è¦åŒ…æ‹¬ï¼š</p>
<h3 id="3-1-è¡¨è§†å›¾æ¨¡å¼ï¼š"><a href="#3-1-è¡¨è§†å›¾æ¨¡å¼ï¼š" class="headerlink" title="3-1 è¡¨è§†å›¾æ¨¡å¼ï¼š"></a>3-1 è¡¨è§†å›¾æ¨¡å¼ï¼š</h3><p>  è¿™ç§æƒ…å†µæˆ‘ä»¬ç»å¸¸é‡åˆ°ï¼Œå°±æ˜¯åœ¨åŒä¸€ç½‘ç»œç¯å¢ƒä¸‹ï¼Œæˆ‘ä»¬å¯¹å„ç§æ•°æ®æºçš„è¡¨æ•°æ®è¿›è¡ŒæŠ½å–ã€è¿‡æ»¤ã€æ¸…æ´—ç­‰ï¼Œä¾‹å¦‚å†å²æ•°æ®åŒæ­¥ã€å¼‚æ„ç³»ç»Ÿæ•°æ®äº¤äº’ã€æ•°æ®å¯¹ç§°å‘å¸ƒæˆ–å¤‡ä»½ç­‰éƒ½å½’å±äºè¿™ä¸ªæ¨¡å¼ï¼›ä¼ ç»Ÿçš„å®ç°æ–¹å¼ä¸€èˆ¬éƒ½è¦è¿›è¡Œç ”å‘ï¼ˆä¸€å°éƒ¨åˆ†ä¾‹å¦‚ä¸¤ä¸ªç›¸åŒè¡¨ç»“æ„çš„è¡¨ä¹‹é—´çš„æ•°æ®åŒæ­¥ï¼Œå¦‚æœsqlserveræ•°æ®åº“å¯ä»¥é€šè¿‡å‘å¸ƒ/è®¢é˜…å®ç°ï¼‰ï¼Œæ¶‰åŠåˆ°ä¸€äº›å¤æ‚çš„ä¸€äº›ä¸šåŠ¡é€»è¾‘å¦‚æœæˆ‘ä»¬ç ”å‘å‡ºæ¥è¿˜å®¹æ˜“å‡ºå„ç§bugï¼›</p>
<h3 id="3-2-å‰ç½®æœºæ¨¡å¼"><a href="#3-2-å‰ç½®æœºæ¨¡å¼" class="headerlink" title="3-2 å‰ç½®æœºæ¨¡å¼"></a>3-2 å‰ç½®æœºæ¨¡å¼</h3><p>  æ•°æ®äº¤æ¢çš„åŒæ–¹ A å’Œ B ç½‘ç»œä¸é€šï¼Œä½†æ˜¯ A å’Œ B éƒ½å¯ä»¥å’Œå‰ç½®æœº C è¿æ¥..</p>
<h3 id="3-3-æ–‡ä»¶æ¨¡å¼"><a href="#3-3-æ–‡ä»¶æ¨¡å¼" class="headerlink" title="3-3 æ–‡ä»¶æ¨¡å¼"></a>3-3 æ–‡ä»¶æ¨¡å¼</h3><p>  æ•°æ®äº¤äº’çš„åŒæ–¹ A å’Œ B æ˜¯å®Œå…¨çš„ç‰©ç†éš”ç¦»ï¼Œè¿™æ ·å°±åªèƒ½é€šè¿‡ä»¥æ–‡ä»¶çš„æ–¹å¼æ¥è¿›è¡Œæ•°æ®äº¤äº’äº†ï¼Œä¾‹å¦‚ XML æ ¼å¼.</p>
<h2 id="4-DEMOå®æˆ˜"><a href="#4-DEMOå®æˆ˜" class="headerlink" title="4. DEMOå®æˆ˜"></a>4. DEMOå®æˆ˜</h2><h3 id="4-1-ç®€å•è¡¨åŒæ­¥"><a href="#4-1-ç®€å•è¡¨åŒæ­¥" class="headerlink" title="4-1 ç®€å•è¡¨åŒæ­¥"></a>4-1 ç®€å•è¡¨åŒæ­¥</h3><p>åŠŸèƒ½æè¿° : æ•°æ®åº“ TestDB01 ä¸­çš„ UsersAè¡¨ åˆ° æ•°æ®åº“TestDB02 çš„UsersBè¡¨ï¼›<br>å®ç°æµç¨‹ : å»ºç«‹ä¸€ä¸ªè½¬æ¢å’Œä¸€ä¸ªä½œä¸šJobï¼›</p>
<p><strong>ä¸€ã€å»ºç«‹è½¬æ¢</strong></p>
<ol>
<li><p>è¿›å…¥ä¸»ç•Œé¢ï¼Œæ–°å»ºä¸€ä¸ªè½¬æ¢ï¼Œè½¬æ¢çš„åç¼€åä¸º ktr.<br>  åˆ›å»º DBè¿æ¥ï¼Œé€‰æ‹©æ–°å»º DBè¿æ¥, TestæŒ‰é’®æµ‹è¯•æ˜¯å¦é…ç½®æ­£ç¡®ï¼</p>
<p>  æˆ‘ä»¬éœ€è¦å»ºç«‹ä¸¤ä¸ª DBè¿æ¥ï¼Œåˆ†åˆ«ä¸º TestDB01 å’Œ TestDB02ï¼›</p>
<p>  (å¦‚æŠ¥é”™å¯ä»¥ : ä¸‹è½½ mysql-connect jar æ”¾å…¥ lib ç›®å½•ä¸‹)</p>
</li>
<li><p>å»ºç«‹æ­¥éª¤å’Œæ­¥éª¤å…³ç³» <strong>:</strong> [è¾“å…¥] -&gt; [è¡¨è¾“å…¥]<br>  ç‚¹å‡»æ ¸å¿ƒå¯¹è±¡ï¼Œæˆ‘ä»¬ä»æ­¥éª¤æ ‘ä¸­é€‰æ‹©ã€è¡¨è¾“å…¥ã€‘, è¿™æ ·æ‹–æ‹½ä¸€ä¸ª è¡¨è¾“å…¥<br>  ä¹‹åï¼Œæˆ‘ä»¬åŒå‡»è¡¨è¾“å…¥ä¹‹åï¼Œæˆ‘ä»¬è‡ªå·±å¯ä»¥éšæ„å†™ä¸€ä¸ª sql è¯­å¥ï¼Œè¿™ä¸ªè¯­å¥è¡¨ç¤º<br>  å¯ä»¥åœ¨è¿™ä¸ªåº“ä¸­éšæ„ç»„åˆï¼Œåªè¦ sql è¯­å¥æ²¡æœ‰é”™è¯¯å³å¯ï¼Œæˆ‘è¿™é‡Œåªæ˜¯æœ€ç®€å•çš„æŠŠ<br>  TestA ä¸­çš„æ‰€æœ‰æ•°æ®æŸ¥å‡ºæ¥ï¼Œè¯­å¥ä¸º select * from usersAã€‚</p>
</li>
<li><p>å»ºç«‹æ­¥éª¤å’Œæ­¥éª¤å…³ç³» <strong>:</strong> [è¾“å‡º] -&gt; [æ’å…¥/æ›´æ–°]<br>  åŒä¸Šç±»ä¼¼</p>
</li>
<li><p>å»ºç«‹ è¿æ¥ å…³ç³»<br>  ç„¶ååœ¨ã€è¡¨è¾“å…¥ã€‘ä¸ŠåŒæ—¶æŒ‰ä½ shift é”®å’Œé¼ æ ‡å·¦é”®æ»‘å‘ã€æ’å…¥/æ›´æ–°ã€‘ï¼Œè¿™æ ·å»ºç«‹ä¸¤ä¸ªæ­¥éª¤ä¹‹é—´çš„è¿æ¥</p>
</li>
<li><p>è¿è¡Œ<br>  å»ºç«‹å¥½è½¬æ¢ä¹‹åï¼Œæˆ‘ä»¬å¯ä»¥ç›´æ¥è¿è¡Œ(ç‚¹å‡»ä¸Šé¢çš„å°ä¸‰è§’å½¢)è¿™ä¸ªè½¬æ¢ï¼Œæ£€æŸ¥ä¸€ä¸‹æ˜¯å¦æœ‰é”™ï¼Œå¦‚å›¾ï¼Œæœ‰é”™è¯¯éƒ½ä¼šåœ¨ä¸‹é¢çš„æ§åˆ¶å°ä¸Šè¾“å‡ºã€‚</p>
</li>
</ol>
<p><strong>äºŒã€å»ºç«‹ä½œä¸š :</strong></p>
<p>å¦‚æœæˆ‘ä»¬éœ€è¦è®©è¿™ä¸ªè½¬æ¢å®šæ—¶æ‰§è¡Œæ€ä¹ˆåŠå‘¢ï¼Œé‚£ä¹ˆæˆ‘ä»¬éœ€è¦å»ºç«‹ä¸€ä¸ªä½œä¸šjob</p>
<ol>
<li><p>æ–°å»º Job</p>
<p> æ–‡ä»¶-&gt;æ–°å»º-&gt;Job</p>
</li>
<li><p>åœ¨ Job ä¸­ æ·»åŠ  è½¬æ¢</p>
<p> åœ¨æ–°å»ºçš„ä½œä¸šä¸­, æ‰“å¼€åˆšæ‰æ–°å»ºçš„ [ç®€å•è¡¨åŒæ­¥] çš„ transformation</p>
</li>
<li><p>æ·»åŠ  START</p>
<p> é€šç”¨ -&gt; START</p>
<p> ä½¿ START å…³è” -&gt;  [ç®€å•è¡¨åŒæ­¥] Transformation</p>
</li>
<li><p>è¿™æ ·æˆ‘ä»¬åœ¨ã€Startã€‘æ­¥éª¤ä¸Šé¢åŒå‡»</p>
<p> è®¾ç½®æ—¶é—´é—´éš”ã€å®šæ—¶æ‰§è¡Œ ç­‰éœ€è¦çš„å‚æ•°</p>
<p>è¿™æ ·è¿™ä¸ªä½œä¸šå°±åˆ¶å®šå¥½äº†ï¼Œç‚¹å‡»ä¿å­˜ä¹‹åï¼Œå°±å¯ä»¥åœ¨å›¾å½¢åŒ–ç•Œé¢ä¸Šç‚¹å‡»å¼€å§‹æ‰§è¡Œäº†ã€‚</p>
</li>
</ol>
<h2 id="5-win-linux-åå°è¿è¡Œ"><a href="#5-win-linux-åå°è¿è¡Œ" class="headerlink" title="5. win/linux åå°è¿è¡Œ"></a>5. win/linux åå°è¿è¡Œ</h2><h3 id="5-1-win-åå°è¿è¡Œ"><a href="#5-1-win-åå°è¿è¡Œ" class="headerlink" title="5-1 win åå°è¿è¡Œ"></a>5-1 win åå°è¿è¡Œ</h3><p>simpleTableSync.bat</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">@echo off </span><br><span class="line"></span><br><span class="line">if &quot;%1&quot; == &quot;h&quot; goto begin </span><br><span class="line"></span><br><span class="line">mshta vbscript:createobject(&quot;wscript.shell&quot;).run(&quot;%~nx0 h&quot;,0)(window.close)&amp;&amp;exit </span><br><span class="line"></span><br><span class="line">:begin</span><br><span class="line">C:</span><br><span class="line">cd C:\WorkSoft\data-integration</span><br><span class="line">kitchen /file:C:\WorkJob\ETL\tSyncTestJob.kjb /level:Basic&gt;&gt;C:\WorkJob\ETL\MyTest.log /level:Basic&gt;&gt;C:\WorkJob\ETL\MyTest.log</span><br></pre></td></tr></table></figure>
<h3 id="5-2-linux-åå°è¿è¡Œ"><a href="#5-2-linux-åå°è¿è¡Œ" class="headerlink" title="5-2 linux åå°è¿è¡Œ"></a>5-2 linux åå°è¿è¡Œ</h3><p>simpleTableSync.sh</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">#!/bin/bash</span><br><span class="line">#################################################################</span><br><span class="line">#</span><br><span class="line"># @date:   2016.01.28</span><br><span class="line"># @desc:   simpleTableSync @kettle</span><br><span class="line">#</span><br><span class="line">#################################################################</span><br><span class="line"></span><br><span class="line">cd `dirname $0`/.. &amp;&amp; wk_dir=`pwd` &amp;&amp; cd -</span><br><span class="line">source $&#123;wk_dir&#125;/util/env</span><br><span class="line"></span><br><span class="line">echo_ex &quot;$&#123;data_integration&#125;/kitchen.sh -file=$&#123;data_dir&#125;/tSyncTestJob.kjb&quot;</span><br><span class="line">$&#123;data_integration&#125;/kitchen.sh -file=$&#123;data_dir&#125;/tSyncTestJob.kjb</span><br><span class="line">check_success</span><br><span class="line"></span><br><span class="line">exit 0</span><br></pre></td></tr></table></figure>
<p>æ³¨æ„ : kjb ä¸ ktr æœ€å¥½æ”¾åœ¨ä¸€ä¸ªç›®å½•ä¸‹ã€‚</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">[hdfs@node196 simpleTableSync]$ cd data/</span><br><span class="line">[hdfs@node196 data]$ ll</span><br><span class="line">total 24</span><br><span class="line">-rw-rw-r--. 1 hdfs hdfs  6944 Jan 29 18:22 tSyncTestJob.kjb</span><br><span class="line">-rw-rw-r--. 1 hdfs hdfs 13450 Jan 29 18:22 tSyncTestTrans.ktr</span><br></pre></td></tr></table></figure>
<blockquote>
<p>ä» win æ‹·è´è¿‡æ¥çš„æ–‡ä»¶ï¼Œfileformat å¯èƒ½æ˜¯ dos æ ¼å¼ï¼Œå¯ä»¥ :set ff=unix.</p>
</blockquote>
<h2 id="Reference-article"><a href="#Reference-article" class="headerlink" title="Reference article"></a>Reference article</h2><p><a href="http://www.cnblogs.com/limengqiang/archive/2013/01/16/KettleApply2.html#sz" target="_blank" rel="external">kettleç³»åˆ—</a></p>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[Logback å…¥é—¨åˆæ­¥]]></title>
      <url>http://iequa.com/2015/12/27/java-logback-indoor/</url>
      <content type="html"><![CDATA[<p>Logback ä¸€ä¸ªå¼€æºæ—¥å¿—ç»„ä»¶, SLF4J è¿™ä¸ªç®€å•çš„æ—¥å¿—å‰ç«¯æ¥å£ï¼ˆFaÃ§adeï¼‰æ¥æ›¿ä»£ Jakarta Commons-Logging ã€‚</p>
<a id="more"></a>
<p>Logback ä¸€ä¸ªå¼€æºæ—¥å¿—ç»„ä»¶ã€‚<br>Logback å½“å‰åˆ†æˆä¸‰ä¸ªæ¨¡å—ï¼šlogback-core  logback- classic  å’Œ  logback-accessã€‚</p>
<h2 id="1-logback-ç®€ä»‹"><a href="#1-logback-ç®€ä»‹" class="headerlink" title="1. logback ç®€ä»‹"></a>1. logback ç®€ä»‹</h2><p>Cekiåœ¨Javaæ—¥å¿—é¢†åŸŸä¸–ç•ŒçŸ¥åã€‚ä»–åˆ›é€ äº†Log4J ï¼Œè¿™ä¸ªæœ€æ—©çš„Javaæ—¥å¿—æ¡†æ¶å³ä¾¿åœ¨JREå†…ç½®æ—¥å¿—åŠŸèƒ½çš„ç«äº‰ä¸‹ä»ç„¶éå¸¸æµè¡Œã€‚éšåä»–åˆç€æ‰‹å®ç°SLF4J è¿™ä¸ªâ€œç®€å•çš„æ—¥å¿—å‰ç«¯æ¥å£ï¼ˆFaÃ§adeï¼‰â€æ¥æ›¿ä»£Jakarta Commons-Logging ã€‚</p>
<p>Logbackï¼Œä¸€ä¸ªâ€œå¯é ã€é€šç”¨ã€å¿«é€Ÿè€Œåˆçµæ´»çš„Javaæ—¥å¿—æ¡†æ¶â€ã€‚</p>
<p><strong>å®˜ç½‘ç½‘å€ :</strong> <a href="http://logback.qos.ch/" target="_blank" rel="external">http://logback.qos.ch/</a></p>
<h2 id="2-å·¥ç¨‹ä½¿ç”¨éœ€è¦çš„-jar"><a href="#2-å·¥ç¨‹ä½¿ç”¨éœ€è¦çš„-jar" class="headerlink" title="2. å·¥ç¨‹ä½¿ç”¨éœ€è¦çš„ jar"></a>2. å·¥ç¨‹ä½¿ç”¨éœ€è¦çš„ jar</h2><p>è¦åœ¨å·¥ç¨‹é‡Œé¢ä½¿ç”¨ logback , åªéœ€è¦ä»¥ä¸‹jaræ–‡ä»¶ï¼š</p>
<pre><code>(1). slf4j-api.jar       
(2). logback-access.jar
(3). logback-classic.jar
(4). logback-core.jar

logback-core    æ˜¯å…¶å®ƒä¸¤ä¸ªæ¨¡å—çš„åŸºç¡€æ¨¡å—ã€‚   
logback-classic æ˜¯ log4j çš„ä¸€ä¸ª æ”¹è‰¯ç‰ˆæœ¬ã€‚   
logback-access  ä¸Servletå®¹å™¨é›†æˆæä¾›é€šè¿‡Httpæ¥è®¿é—®æ—¥å¿—åŠŸèƒ½
</code></pre><p>logback-classic å®Œæ•´å®ç° SLF4J API ä½¿ä½ å¯ä»¥å¾ˆæ–¹ä¾¿åœ°æ›´æ¢æˆå…¶å®ƒæ—¥å¿—ç³»ç»Ÿå¦‚ log4j æˆ– JDK Loggingã€‚</p>
<h2 id="3-logback-å¸¸ç”¨é…ç½®è¯¦è§£"><a href="#3-logback-å¸¸ç”¨é…ç½®è¯¦è§£" class="headerlink" title="3. logback å¸¸ç”¨é…ç½®è¯¦è§£"></a>3. logback å¸¸ç”¨é…ç½®è¯¦è§£</h2><h3 id="3-1-æ ¹èŠ‚ç‚¹-lt-configuration-gt"><a href="#3-1-æ ¹èŠ‚ç‚¹-lt-configuration-gt" class="headerlink" title="3.1 æ ¹èŠ‚ç‚¹&lt; configuration &gt;"></a>3.1 æ ¹èŠ‚ç‚¹&lt; configuration &gt;</h3><table>
<thead>
<tr>
<th>configuration</th>
<th>è¯´æ˜</th>
</tr>
</thead>
<tbody>
<tr>
<td>scan</td>
<td>å½“æ­¤å±æ€§è®¾ç½®ä¸ºtrueæ—¶ï¼Œé…ç½®æ–‡ä»¶å¦‚æœå‘ç”Ÿæ”¹å˜ï¼Œå°†ä¼šè¢«é‡æ–°åŠ è½½ï¼Œé»˜è®¤å€¼ä¸ºtrueã€‚</td>
</tr>
<tr>
<td>scanPeriod</td>
<td>è®¾ç½®ç›‘æµ‹é…ç½®æ–‡ä»¶æ˜¯å¦æœ‰ä¿®æ”¹çš„æ—¶é—´é—´éš”ï¼Œå¦‚æœæ²¡æœ‰ç»™å‡ºæ—¶é—´å•ä½ï¼Œé»˜è®¤å•ä½æ˜¯æ¯«ç§’ã€‚å½“scanä¸ºtrueæ—¶ï¼Œæ­¤å±æ€§ç”Ÿæ•ˆã€‚é»˜è®¤çš„æ—¶é—´é—´éš”ä¸º1åˆ†é’Ÿã€‚</td>
</tr>
<tr>
<td>debug</td>
<td>å½“æ­¤å±æ€§è®¾ç½®ä¸ºtrueæ—¶ï¼Œå°†æ‰“å°å‡º logback å†…éƒ¨æ—¥å¿—ä¿¡æ¯ï¼Œå®æ—¶æŸ¥çœ‹logbackè¿è¡ŒçŠ¶æ€ã€‚é»˜è®¤å€¼ä¸ºfalseã€‚</td>
</tr>
</tbody>
</table>
<h2 id="4-logback-é…ç½®ç¤ºä¾‹"><a href="#4-logback-é…ç½®ç¤ºä¾‹" class="headerlink" title="4. logback é…ç½®ç¤ºä¾‹"></a>4. logback é…ç½®ç¤ºä¾‹</h2><h3 id="4-1-Myself-resources-logback-xml-example"><a href="#4-1-Myself-resources-logback-xml-example" class="headerlink" title="4.1 Myself resources/logback.xml example"></a>4.1 Myself resources/logback.xml example</h3><figure class="highlight xml"><table><tr><td class="code"><pre><span class="line">&lt;?xml version="1.0" encoding="UTF-8"?&gt;</span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!--å½“æ­¤å±æ€§è®¾ç½®ä¸ºtrueæ—¶ï¼Œå°†æ‰“å°å‡ºlogbackå†…éƒ¨æ—¥å¿—ä¿¡æ¯ï¼Œå®æ—¶æŸ¥çœ‹logbackè¿è¡ŒçŠ¶æ€ã€‚é»˜è®¤å€¼ä¸ºfalseã€‚--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">configuration</span> <span class="attr">scan</span>=<span class="string">"true"</span> <span class="attr">scanPeriod</span>=<span class="string">"3600 seconds"</span> <span class="attr">debug</span>=<span class="string">"false"</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"AppName"</span> <span class="attr">value</span>=<span class="string">"your_app_name"</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"LogParentDir"</span> <span class="attr">value</span>=<span class="string">"/home/www/logs/"</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">contextName</span>&gt;</span>$&#123;AppName&#125;<span class="tag">&lt;/<span class="name">contextName</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">appender</span> <span class="attr">name</span>=<span class="string">"infoAppender"</span> <span class="attr">class</span>=<span class="string">"ch.qos.logback.core.rolling.RollingFileAppender"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">filter</span> <span class="attr">class</span>=<span class="string">"ch.qos.logback.classic.filter.LevelFilter"</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">level</span>&gt;</span>INFO<span class="tag">&lt;/<span class="name">level</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">onMatch</span>&gt;</span>ACCEPT<span class="tag">&lt;/<span class="name">onMatch</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">onMismatch</span>&gt;</span>DENY<span class="tag">&lt;/<span class="name">onMismatch</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">filter</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">rollingPolicy</span> <span class="attr">class</span>=<span class="string">"ch.qos.logback.core.rolling.TimeBasedRollingPolicy"</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">fileNamePattern</span>&gt;</span>$&#123;LogParentDir&#125;/$&#123;AppName&#125;/infoLogFile.%d&#123;yyyy-MM-dd&#125;.log<span class="tag">&lt;/<span class="name">fileNamePattern</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">maxHistory</span>&gt;</span>30<span class="tag">&lt;/<span class="name">maxHistory</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">rollingPolicy</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">encoder</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">pattern</span>&gt;</span>%d&#123;yyyy-MM-dd HH:mm:ss.SSS&#125; [%thread] %-5level %logger&#123;36&#125; - %msg%n<span class="tag">&lt;/<span class="name">pattern</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">encoder</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">appender</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">appender</span> <span class="attr">name</span>=<span class="string">"errorAppender"</span> <span class="attr">class</span>=<span class="string">"ch.qos.logback.core.rolling.RollingFileAppender"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">filter</span> <span class="attr">class</span>=<span class="string">"ch.qos.logback.classic.filter.LevelFilter"</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">level</span>&gt;</span>ERROR<span class="tag">&lt;/<span class="name">level</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">onMatch</span>&gt;</span>ACCEPT<span class="tag">&lt;/<span class="name">onMatch</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">onMismatch</span>&gt;</span>DENY<span class="tag">&lt;/<span class="name">onMismatch</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">filter</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">rollingPolicy</span> <span class="attr">class</span>=<span class="string">"ch.qos.logback.core.rolling.TimeBasedRollingPolicy"</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">fileNamePattern</span>&gt;</span>$&#123;LogParentDir&#125;/$&#123;AppName&#125;/errorLogFile.%d&#123;yyyy-MM-dd&#125;.log<span class="tag">&lt;/<span class="name">fileNamePattern</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">maxHistory</span>&gt;</span>30<span class="tag">&lt;/<span class="name">maxHistory</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">rollingPolicy</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">encoder</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">pattern</span>&gt;</span>%d&#123;yyyy-MM-dd HH:mm:ss.SSS&#125; [%thread] %-5level %logger&#123;36&#125; - %msg%n<span class="tag">&lt;/<span class="name">pattern</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">encoder</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">appender</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">&lt;!--å…¶ä¸­appenderçš„é…ç½®è¡¨ç¤ºæ‰“å°åˆ°æ§åˆ¶å°--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">appender</span> <span class="attr">name</span>=<span class="string">"STDOUT"</span> <span class="attr">class</span>=<span class="string">"ch.qos.logback.core.ConsoleAppender"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">encoder</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">pattern</span>&gt;</span>%d&#123;yyyy-MM-dd HH:mm:ss.SSS&#125; [%thread] %-5level %logger&#123;36&#125; - %msg%n<span class="tag">&lt;/<span class="name">pattern</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">encoder</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">appender</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">logger</span> <span class="attr">name</span>=<span class="string">"com.x.dmt"</span> <span class="attr">level</span>=<span class="string">"ERROR"</span> <span class="attr">additivity</span>=<span class="string">"false"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">appender-ref</span> <span class="attr">ref</span>=<span class="string">"errorAppender"</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">logger</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">&lt;!--è®¾ç½®addtivityä¸ºfalseï¼Œå°†æ­¤logerçš„æ‰“å°ä¿¡æ¯ä¸å‘ä¸Šçº§ä¼ é€’ï¼›--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">logger</span> <span class="attr">name</span>=<span class="string">"com.x.dmt.service"</span> <span class="attr">level</span>=<span class="string">"INFO"</span> <span class="attr">additivity</span>=<span class="string">"fasle"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">appender-ref</span> <span class="attr">ref</span>=<span class="string">"infoAppender"</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">logger</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">&lt;!-- æ³¨æ„: logger åŒåæƒ…å†µ, çº§åˆ«ä½çš„,éœ€è¦æ”¾åœ¨ä¸‹é¢,å¦åˆ™çº§åˆ«é«˜çš„ä¼šè¦†ç›–çº§åˆ«ä½çš„æƒé™,æ—©æ™¨çº§åˆ«ä½çš„æ‰“å°ä¸å‡ºæ¥æ—¥å¿— --&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">configuration</span>&gt;</span></span><br></pre></td></tr></table></figure>
<hr>
<p><a href="http://aub.iteye.com/blog/1101260" target="_blank" rel="external">æ›´å¤šå‚è§ iteye1101260</a></p>
<p><a href="http://logback.qos.ch/" target="_blank" rel="external">å®˜æ–¹ç½‘å€</a></p>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[Linux, profile / bashrc Brief Introduce]]></title>
      <url>http://iequa.com/2014/05/18/ops-linux-bashrc-profile/</url>
      <content type="html"><![CDATA[<p>/etc/profileã€/etc/bashrcã€~/.bash_profileã€~/.bashrc </p>
<a id="more"></a>
<table>
<thead>
<tr>
<th>config file</th>
<th>desc</th>
</tr>
</thead>
<tbody>
<tr>
<td>/etc/profileï¼Œ/etc/bashrc</td>
<td>ç³»ç»Ÿå…¨å±€ç¯å¢ƒå˜é‡è®¾å®š</td>
</tr>
<tr>
<td>~/.profileï¼Œ~/.bashrc</td>
<td>ç”¨æˆ·å®¶ç›®å½•ä¸‹çš„ç§æœ‰ç¯å¢ƒå˜é‡è®¾å®š </td>
</tr>
</tbody>
</table>
<h2 id="1-login-env-steps"><a href="#1-login-env-steps" class="headerlink" title="1. login env steps"></a>1. login env steps</h2><blockquote>
<p>ä»¥ä¸‹æ˜¯ ç™»å…¥ç³»ç»Ÿ,ç¯å¢ƒè®¾å®šæ¡£ æµç¨‹</p>
</blockquote>
<table>
<thead>
<tr>
<th>Read step</th>
<th>desc</th>
</tr>
</thead>
<tbody>
<tr>
<td>/etc/profile</td>
<td>/etc/profile.d å’Œ /etc/inputrc ã€‚ ä»/etc/profile.dç›®å½•çš„é…ç½®æ–‡ä»¶æœé›†shellçš„è®¾ç½®</td>
</tr>
<tr>
<td>~/.bash_profile</td>
<td>~/.bash_profileï¼Œå¦‚æ— åˆ™è¯»å– ~/.bash_loginï¼Œå¦‚æ— åˆ™è¯»å– ~/.profile</td>
</tr>
<tr>
<td>~/.bashrc</td>
<td>~/.bashrc (äº¤äº’å¼ non-login æ–¹å¼è¿›å…¥ bash è¿è¡Œçš„)</td>
</tr>
</tbody>
</table>
<h2 id="2-profile-and-bashrc"><a href="#2-profile-and-bashrc" class="headerlink" title="2. ~/.profile and ~/.bashrc"></a>2. ~/.profile and ~/.bashrc</h2><table>
<thead>
<tr>
<th>~/.profile ã€ ~/.bashrc ç›¸åŒç‚¹</th>
</tr>
</thead>
<tbody>
<tr>
<td>éƒ½å…·æœ‰ä¸ªæ€§åŒ–å®šåˆ¶åŠŸèƒ½</td>
<td></td>
</tr>
<tr>
<td>~/.profile å¯ä»¥è®¾å®šæœ¬ç”¨æˆ·ä¸“æœ‰çš„è·¯å¾„ï¼Œç¯å¢ƒå˜é‡ï¼Œç­‰ï¼Œå®ƒåªèƒ½ç™»å…¥çš„æ—¶å€™æ‰§è¡Œä¸€æ¬¡</td>
<td></td>
</tr>
<tr>
<td>~/.bashrc ä¹Ÿæ˜¯æŸç”¨æˆ·ä¸“æœ‰è®¾å®šæ–‡æ¡£ï¼Œå¯ä»¥è®¾å®šè·¯å¾„ï¼Œå‘½ä»¤åˆ«åï¼Œæ¯æ¬¡shell scriptçš„æ‰§è¡Œéƒ½ä¼šä½¿ç”¨å®ƒä¸€æ¬¡</td>
<td></td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr>
<th>bashrc å’Œ profile çš„åŒºåˆ«</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>äº¤äº’å¼æ¨¡å¼</code> : shellç­‰å¾…ä½ çš„è¾“å…¥ï¼Œå¹¶ä¸”æ‰§è¡Œä½ æäº¤çš„å‘½ä»¤ã€‚ shellä¸ç”¨æˆ·è¿›è¡Œäº¤äº’ ç™»å½•ã€æ‰§è¡Œå‘½ä»¤ã€ç­¾é€€ã€shellç»ˆæ­¢</td>
<td></td>
</tr>
<tr>
<td><code>éäº¤äº’å¼æ¨¡å¼</code> : shellä¸ä¸ä½ è¿›è¡Œäº¤äº’ï¼Œæ˜¯è¯»å–å­˜åœ¨æ–‡ä»¶ä¸­çš„å‘½ä»¤,å¹¶ä¸”æ‰§è¡Œå®ƒä»¬ã€‚å½“å®ƒè¯»åˆ°æ–‡ä»¶çš„ç»“å°¾ï¼Œshellç»ˆæ­¢</td>
<td></td>
</tr>
</tbody>
</table>
<blockquote>
<p>~/.bash_profile æ˜¯äº¤äº’å¼ã€login æ–¹å¼è¿›å…¥ bash è¿è¡Œçš„<br>~/.bashrc æ˜¯äº¤äº’å¼ non-login æ–¹å¼è¿›å…¥ bash è¿è¡Œçš„ </p>
</blockquote>
<h2 id="3-reference-article"><a href="#3-reference-article" class="headerlink" title="3. reference article"></a>3. reference article</h2><p><a href="http://blog.chinaunix.net/uid-26435987-id-3400127.html" target="_blank" rel="external">blog.chinaunix.net/</a></p>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[Qunar Trainee Summary]]></title>
      <url>http://iequa.com/2014/05/07/life-trainee/</url>
      <content type="html"><![CDATA[<blockquote>
<p>an trainee in qunar</p>
</blockquote>
<a id="more"></a>
<p>  æ—¶é—´è¿‡å¾—çœŸå¿«ï¼Œè½¬çœ¼é—´ï¼Œæˆ‘åœ¨å»å“ªå„¿ç½‘å®ä¹ çš„è¿™æ®µæ—¶é—´é©¬ä¸Šå°±è¦è¿‡å»äº†ï¼Œåœ¨è¿™æ®µå®ä¹ çš„æ—¥å­çœŸçš„å­¦ä¼šäº†å¾ˆå¤šï¼Œç»è¿‡è¿™æ¬¡åŸ¹è®­ï¼Œæˆ‘å­¦ä¼šäº†javaï¼Œäº†è§£äº†guavaï¼Œå­¦ä¹ äº†SVNï¼Œ gitç‰ˆæœ¬ç®¡ç†å·¥å…·ï¼Œ Mavené¡¹ç›®ç®¡ç†åŠè‡ªåŠ¨æ„å»ºå·¥å…·ï¼Œ SpringMVCçš„å¼€å‘ï¼Œmybatis çš„ä½¿ç”¨ï¼ŒServletï¼Œ jspï¼Œ htmlï¼Œ http çš„åˆæ­¥äº†è§£ï¼ŒåŠ¨æ€ä»£ç†ä¸AOPï¼Œ å•å…ƒæµ‹è¯•ä¸è‡ªåŠ¨åŒ–æµ‹è¯•ï¼Œæ•°æ®åº“å»ºè¡¨è§„èŒƒï¼Œ Linuxç³»ç»Ÿçš„ä½¿ç”¨ç­‰ç­‰ç­‰ç­‰ï¼Œç†Ÿæ‚‰äº†å…¬å¸å†…éƒ¨çš„å¼€å‘æ¡†æ¶ï¼Œäº†è§£å…¬å¸å¼€å‘è§„èŒƒï¼Œé€‚åº”å…¬å¸æ–‡åŒ–ï¼Œç¯å¢ƒã€‚</p>
<p>  åœ¨è¿™äº›å¤©å®ä¹ çš„æ—¥å­ï¼Œæœ€åˆæœ¬æƒ³ä¸èµ° java è·¯çº¿çš„ï¼Œè§‰å¾—å°è£…å¥½ä¸¥é‡ï¼Œä½ æ ¹æœ¬ä¸çŸ¥é“é‚£ä¸ªåŒ…æ˜¯æ€ä¹ˆå›äº‹ï¼Œå°±å¯ä»¥æ‹¿è¿‡æ¥ä¸€ç”¨ï¼Œå°±å‡ºæ¥äº†ä¸€ä¸ªçœ‹èµ·æ¥æ¯”è¾ƒé«˜å¤§ä¸Šçš„ä½œå“ï¼Œå­¦å¾ˆçŸ­çš„æ—¶é—´å°±å¯ä»¥æå‡ºä¸ªä¸œè¥¿æ¥ï¼Œè§‰å¾—æ²¡æœ‰Cã€C++æˆ–è€…æ˜¯ç®—æ³•ï¼Œæ¥å¾—é‚£ä¹ˆçˆ½ã€‚ä½†æ˜¯ç»è¿‡åŸ¹è®­åï¼Œæˆ‘æ‰å‘ç°äº†javaçš„å¯çˆ±ä¹‹å¤„ä¸å¼ºå¤§ï¼Œä»¥å‰å¯¹javaæœ‰è¯¯è§£ï¼Œå®Œå…¨æ˜¯è‡ªå·±çš„æ— çŸ¥ä¸ä¸æ‡‚ï¼Œé‡åˆ°äº†é…’åº—äº‹ä¸šéƒ¨çš„ æ€é›¨å¤§ç¥ï¼Œæ›´æ˜¯æ„Ÿå—åˆ°äº†å­¦ä¹ javaè¿™æ–¹é¢çš„çŸ¥è¯†ï¼Œå¯ä»¥å¾ˆç‰›å¾ˆç‰›ï¼Œå­¦ä»»ä½•ä¸€é—¨æŠ€æœ¯éƒ½å…·æœ‰æ›´ä¸ºå¹¿é˜”çš„ç©ºé—´ï¼Œå®ä¹ åˆæœŸï¼Œç”±äºæˆ‘å¯¹javaçŸ¥è¯†ä¹‹å‰æ˜¯æ²¡æœ‰ä»»ä½•ç»éªŒçš„ï¼Œæ‰€ä»¥é¢å¯¹ä¸¥æ ¼å¿«é€Ÿæ­£è§„çš„åŸ¹è®­ï¼ŒçœŸçš„æ„Ÿåˆ°å‹åŠ›å¾ˆå¤§ï¼Œå¹¸å¥½å°ç»„çš„åˆ†äº«è¿˜æœ‰åšä½œä¸šé‡åˆ°é—®é¢˜ï¼Œç»„å†…å¤–åŒå­¦çš„å¸®åŠ©ï¼Œæ‰å¯ä»¥è·Ÿä¸‹æ¥ï¼Œç”±äºåˆå­¦ï¼ŒèŠ‚å¥å¾ˆå¿«ï¼Œé‚£ä¹ˆå¤šçŸ¥è¯†ï¼Œåœ¨ä¸åˆ°2ä¸ªæœˆçš„æ—¶é—´å†…å…¨éƒ¨å­¦ç†Ÿæ˜¯å¾ˆéš¾åšåˆ°çš„ï¼Œæˆ‘ç°åœ¨å¯¹ SpringMVC è¿˜æœ‰ä¸€äº› Guavaï¼Œwebçš„çŸ¥è¯†ï¼Œè¿˜ä¸æ˜¯å¾ˆç†Ÿç»ƒï¼Œä»¥åä¸€å®šè¦æ‰¾æ—¶é—´åœ¨è‡ªå·±è¡¥ä¹ ä¸‹è¿™æ–¹é¢çš„çŸ¥è¯†ã€‚å¹¶æŠŠè‡ªå·±åœ¨å…¬å¸å­¦åˆ°çš„ä¸€äº›çŸ¥è¯†ï¼Œä»‹ç»ç»™å­¦æ ¡çš„ä¸€äº›è¿˜åœ¨è¿·èŒ«æ‡µæ‡‚çš„å­¦å¦¹ï¼Œå­¦å¼Ÿä»¬ã€‚åœ¨å…¬å¸ä¸¤ä¸ªå¤šæœˆçš„å®ä¹ ç”Ÿæ´»ï¼Œå¯¹æˆ‘æ¥è¯´ä¸ä»…ä»…æ˜¯æŠ€æœ¯å’Œèƒ½åŠ›ä¸Šçš„æå‡ï¼Œæ›´å¤šçš„è¿˜æœ‰æ€æƒ³å’Œæ€åº¦çš„è½¬å˜ã€‚</p>
<p>  æœ€åï¼Œé¦–å…ˆï¼Œè¦æ„Ÿè°¢å…¬å¸ç»™æˆ‘ä»¬åº”å±Šç”Ÿæä¾›çš„è¿™ä¸ªåŸ¹è®­å¹³å°ï¼Œå¯ä»¥è®©æˆ‘å­¦åˆ°è¿™ä¹ˆå¤šçš„ä¸“ä¸šçŸ¥è¯†ï¼Œè®¤è¯†åˆ°æ›´å¤šçš„å¿—åŒé“åˆçš„æœ‹å‹ï¼›æ„Ÿè°¢ä¸«ä¸«å§ï¼Œè¾›è‹¦æ“åŠ³çš„å°½å¯èƒ½ç»™æˆ‘ä»¬æä¾›æ¬¢æ„‰çš„å­¦ä¹ ç¯å¢ƒï¼Œä»¥åŠé‚€è¯·å¾ˆå¤šçš„ä¼˜ç§€è®²å¸ˆï¼›æ„Ÿè°¢å…¨ä½“ç»™æˆ‘ä»¬è®²è¯¾çš„è®²å¸ˆä»¬ï¼Œæ„Ÿè°¢æˆ‘çš„å›¢é˜Ÿä»¥åŠå‘¨è¾¹çš„åŒäº‹ï¼Œåœ¨å·¥ä½œå­¦ä¹ çš„ç¹å¿™ä¹‹ä½™ï¼Œè¿˜å¯ä»¥å¸¦æ¥å„ç§å„æ ·çš„æ¬¢å£°ç¬‘è¯­ï¼Œæ„Ÿè°¢è€ä½•ä¸davidï¼Œè®©æˆ‘å­¦åˆ°äº†ä¸¥è°¨ï¼Œè´Ÿè´£ï¼Œè®¤çœŸçš„å·¥ä½œæ€åº¦ä¸ç”Ÿæ´»æ€åº¦ã€‚</p>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[Java SE Learning Notes for Exception]]></title>
      <url>http://iequa.com/2013/11/24/java-se-2.4-notes-exception-2/</url>
      <content type="html"><![CDATA[<p>Java SE <code>å¼‚å¸¸å¤„ç†</code>éƒ¨åˆ†çš„æ¦‚è¦ç¬”è®°: <code>æ‰‹ä¸­æ— å‰‘</code>, <code>å¿ƒä¸­æœ‰å‰‘</code>.</p>
<a id="more"></a> 
<h2 id="ç¬¬å››ç« -å¼‚å¸¸å¤„ç†"><a href="#ç¬¬å››ç« -å¼‚å¸¸å¤„ç†" class="headerlink" title="ç¬¬å››ç«  å¼‚å¸¸å¤„ç†"></a>ç¬¬å››ç«  å¼‚å¸¸å¤„ç†</h2><ul>
<li><p>Java å¼‚å¸¸æ˜¯ Java æä¾›çš„ç”¨äºå¤„ç†ç¨‹åºä¸­é”™è¯¯çš„ä¸€ç§æœºåˆ¶ã€‚<br>java.langâ€¦.Exceptions<br>å†™ç¨‹åºæœ‰é—®é¢˜è¦æœ‰å‹å¥½ç•Œé¢<br>åŒ»ç”Ÿå¼€å•å­ {<br>  1, é¼»è…”å†…æ„Ÿè§‰å¼‚å¸¸<br>  2, ä½“æ¸©æŒç»­å‡é«˜<br>  3, åˆ†æ³Œä¹³ç™½è‰²æ¶²ä½“<br>  ç›´æ¥è¯´æ„Ÿå†’ä¸å°±å¾—äº†ä¹ˆï¼Ÿ<br>}<br>e.printStackTrace(); éå¸¸å¥½ï¼ç»™ç¨‹åºå‘˜è¯»ã€‚å †æ ˆä¿¡æ¯éƒ½æ‰“å°å‡ºæ¥ï¼  </p>
<p>java.lang.Throwable { å¼€è½¦åœ¨ä¸Šå±±èµ°ï¼Œ  </p>
<pre><code>1, Error         å±±çˆ†å‘ JVM å‡ºé—®é¢˜ã€‚  
2, Exception {   ä½ å¯ä»¥å¤„ç†çš„ -- åˆ¹è½¦åå•¦ï¼ä¿®å¥½å†èµ°ã€‚ã€‚ã€‚  
  1, ...  
  2, RuntimeException  (ç»å¸¸å‡ºï¼Œä¸ç”¨é€®) å‹è·¯é¢ä¸Šçš„å°çŸ³å­  
</code></pre><p>  }<br>ä¸€ä¸ª try å¯ä»¥è·Ÿå¤šä¸ªcatch<br>æ‰€ä»¥ { ä¸€ä¸ªèŒ¶å£¶å¯ä»¥è·Ÿå¤šä¸ªèŒ¶ç¢—ï¼Œä¸€ä¸ªç”·äººå¯ä»¥ä¸‰å¦»å››å¦¾ã€‚}<br>try {<br>  // å¯èƒ½æŠ›å‡ºå¼‚å¸¸çš„è¯­å¥<br>  è¯­å¥ä¸€ï¼›<br>  è¯­å¥äºŒï¼›<br>} catch(someEx e) {<br>  è¯­å¥ï¼›<br>  }<br>  catch() {  </p>
<pre><code>è¯­å¥  
</code></pre><p>  }<br>  finally {<br>  }<br>ä¸€ ï¼š æ‰“å¼€<br>äºŒ ï¼š å…³é—­<br>finally : ä¸€èˆ¬è¿›è¡Œèµ„æºçš„æ¸…é™¤å·¥ä½œã€‚ã€‚ã€‚ï¼  </p>
</li>
</ul>
<p>æˆ‘å¤„ç†ä¸äº†çš„äº‹æƒ… ï¼š æˆ‘äº¤ç»™ä¸Šä¸€çº§éƒ¨é—¨å»å¤„ç†ï¼<br>å½“æ—¶ catch åˆ° Ex çš„æ—¶å€™ï¼Œä½ è‡³å°‘è¦åšå‡ºä¸€ç§å¤„ç†ã€‚è¦ä¸é‚£æ˜¯å±é™©çš„ç¼–ç¨‹ä¹ æƒ¯ï¼<br>main() æŠ›å‡º å°±æ˜¯äº¤ç»™ java è¿è¡Œæ—¶ç³»ç»Ÿå•¦ï¼ å®ƒä¼šæŠŠå †æ ˆä¿¡æ¯æ‰“å‡ºæ¥ï¼  </p>
<p>ä¸€ä¸ªå›¾ ï¼š äº”ä¸ªå…³é”®å­— {<br>    try, catch, finally, throw, throws<br>}<br>ä¸€ç‚¹é—®é¢˜ {<br>    å…ˆé€®å¤§çš„ï¼Œåé€®å°çš„ï¼ŒæŠ¥é”™ã€‚<br>}<br>ä½¿ç”¨è‡ªå®šä¹‰å¼‚å¸¸  </p>
<p>ç¨‹åºä¸­å¯ä»¥ä½¿ç”¨ throw - æ–¹æ³•å throws<br>å¦‚æœthrowæŠ›å‡ºå¼‚å¸¸ä¹‹å,æ–¹æ³•å°±ç»“æŸå•¦ï¼  </p>
<p>æ³¨æ„ ï¼š é‡å†™æ–¹æ³•éœ€è¦æŠ›å‡ºä¸åŸæ–¹æ³•æ‰€æŠ›å‡ºå¼‚å¸¸ç±»å‹ä¸€è‡´å¼‚å¸¸æˆ–ä¸æŠ›å‡ºå¼‚å¸¸ã€‚  </p>
<ul>
<li>æ€»ç»“ ï¼š{  <ul>
<li>ä¸€ä¸ªå›¾  </li>
<li>äº”ä¸ªå…³é”®å­—  </li>
<li>å…ˆé€®å°çš„ï¼Œå†é€®å¤§çš„ã€‚  </li>
<li>å¼‚å¸¸ä¸é‡å†™çš„å…³ç³»<br>}  </li>
</ul>
</li>
</ul>
<h2 id="Reference"><a href="#Reference" class="headerlink" title="Reference"></a>Reference</h2><ul>
<li><a href="http://blog.csdn.net/robbyo/article/category/1328994/14" target="_blank" rel="external">csdn robbyo java</a>            </li>
</ul>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[Java SE Learning Notes for OO]]></title>
      <url>http://iequa.com/2013/11/24/java-se-2.3-notes-oo/</url>
      <content type="html"><![CDATA[<p>Java SE <code>é¢å‘å¯¹è±¡</code>éƒ¨åˆ†çš„æ¦‚è¦ç¬”è®°: <code>æ‰‹ä¸­æ— å‰‘</code>, <code>å¿ƒä¸­æœ‰å‰‘</code>.</p>
<p>å®šä¹‰ç±»  ç”Ÿæˆå¯¹è±¡  ï¼Œ å®šä¹‰æ–¹æ³•  è¢«è°ƒç”¨ </p>
<a id="more"></a> 
<h2 id="1-static"><a href="#1-static" class="headerlink" title="1. static"></a>1. static</h2><p><code>static var</code> çŸ¥é“äº†å†…å­˜ï¼Œä½ å°±çŸ¥é“äº†ä¸€åˆ‡.  </p>
<ul>
<li>å±€éƒ¨å˜é‡ åˆ†é…åœ¨ <strong>stack</strong> memory</li>
<li>æˆå‘˜å˜é‡ åˆ†é…åœ¨ <strong>heap</strong> memory</li>
</ul>
<p><code>static var</code> ä¸ºç±»å¯¹è±¡å…±äº«çš„å˜é‡ åœ¨æ•°æ®åŒº  </p>
<ul>
<li>éé™æ€å˜é‡ ä¸“å±äºæŸä¸€ä¸ªå¯¹è±¡  </li>
<li>é™æ€æ–¹æ³•ä¸å†æ˜¯é’ˆå¯¹æŸä¸€ä¸ªå¯¹è±¡è¿›è¡Œè°ƒç”¨, æ‰€ä»¥ä¸èƒ½è®¿é—®éé™æ€æˆå‘˜ã€‚  </li>
</ul>
<h2 id="2-package"><a href="#2-package" class="headerlink" title="2. package"></a>2. package</h2><p>åŒ…åèµ·åæ–¹æ³• ï¼š å…¬å¸åŸŸåå€’è¿‡æ¥.</p>
<ul>
<li>å¿…é¡»ä¿è¯è¯¥ç±» class æ–‡ä»¶ä½äºæ­£ç¡®çš„ç›®å½•ä¸‹.  </li>
<li>å¿…é¡»classæ–‡ä»¶çš„æœ€ä¸Šå±‚åŒ…çš„çˆ¶ç›®å½•ä½äºclasspathä¸‹.  </li>
<li>æ‰§è¡Œä¸€ä¸ªç±»éœ€è¦å†™å…¨åŒ…å.  </li>
</ul>
<p><strong>SDK ä¸»è¦çš„åŒ…ä»‹ç»</strong>  </p>
<pre><code>* java.lang - åŒ…å«ä¸€äº› java è¯­è¨€çš„æ ¸å¿ƒç±»ï¼Œ å¦‚ : String, Math, Integer, System, Thread.  
* java.net  - åŒ…å«æ‰§è¡Œä¸ç½‘ç»œç›¸å…³çš„æ“ä½œçš„ç±»  
* java.io   - åŒ…å«èƒ½æä¾›å¤šç§è¾“å…¥/è¾“å‡ºåŠŸèƒ½çš„ç±»  
* java.util - åŒ…å«ä¸€äº›å®ç”¨å·¥å…·ç±».  
</code></pre><h2 id="3-ç±»çš„ç»§æ‰¿ä¸æƒé™æ§åˆ¶"><a href="#3-ç±»çš„ç»§æ‰¿ä¸æƒé™æ§åˆ¶" class="headerlink" title="3. ç±»çš„ç»§æ‰¿ä¸æƒé™æ§åˆ¶"></a>3. ç±»çš„ç»§æ‰¿ä¸æƒé™æ§åˆ¶</h2><pre><code>* ä¿®é¥°ç¬¦      ç±»å†…éƒ¨     åŒä¸€åŒ…å†…      å­ç±»     ä»»ä½•åœ°æ–¹  
* private      Yes  
* default      Yes      Yes  
* protected    Yes      Yes         Yes  
* public       Yes      Yes         Yes       Yes    
</code></pre><blockquote>
<p>åˆ†æå†…å­˜ : å­ç±»å¯¹è±¡åŒ…å«ä¸€ä¸ªçˆ¶ç±»å¯¹è±¡.<br>é‡å†™æ–¹æ³•ä¸èƒ½ä½¿ç”¨æ¯”è¢«é‡å†™æ–¹æ³•æ›´ä¸¥æ ¼çš„è®¿é—®æƒé™ â€“ å…¶å®è¿™å’Œå¤šæ€æœ‰å…³  </p>
</blockquote>
<p>super å…³é”®å­—  &amp; ç»§æ‰¿ä¸­çš„æ„é€ æ–¹æ³•</p>
<pre><code>å¦‚æœè°ƒç”¨ super å¿…é¡»å†™åœ¨æ„é€ æ–¹æ³•çš„ç¬¬ä¸€è¡Œ  
å¦‚æœæ²¡è°ƒç”¨ï¼Œç³»ç»Ÿè‡ªåŠ¨è°ƒç”¨ super(), å¦‚æœæ²¡è°ƒï¼Œçˆ¶ç±»ä¸­åˆæ²¡å†™å‚æ•°ä¸ºç©ºè¿™ä¸ªæ„é€ æ–¹æ³•åˆ™å‡ºé”™ã€‚  
</code></pre><ul>
<li><p>Object ç±»</p>
<pre><code>instanceof æ˜¯ä¸€ä¸ªæ“ä½œç¬¦  
equalsæ–¹æ³• J2SDK æä¾›çš„ä¸€äº›ç±» å¦‚ String , Date é‡å†™äº†Object çš„ equals() æ–¹æ³•.  
</code></pre></li>
<li><p>å¯¹è±¡è½¬å‹ casting</p>
<pre><code>* ä¸€ä¸ªåŸºç±»çš„å¼•ç”¨ç±»å‹å˜é‡å¯ä»¥æŒ‡å‘ â€œå…¶å­ç±»çš„å¯¹è±¡â€ã€‚  
* ä¸€ä¸ªåŸºç±»çš„å¼•ç”¨ä¸å¯ä»¥è®¿é—®å…¶å­ç±»æ–°å¢åŠ çš„æˆå‘˜  
* å¯ä»¥ä½¿ç”¨ å¼•ç”¨ å˜é‡ instanceof ç±»å æ¥åˆ¤æ–­è¯¥å¼•ç”¨å‹å˜é‡æ‰€&quot;æŒ‡å‘&quot;çš„å¯¹è±¡æ˜¯å¦å±äºè¯¥ç±»æˆ–è¯¥ç±»çš„å­ç±»ã€‚  
* upcasting / downcasting  

    å†…å­˜åˆ†æ - æ˜ç™½äº†å†…å­˜ä½ å°±æ˜ç™½äº†ä¸€åˆ‡ï¼  
</code></pre></li>
</ul>
<ul>
<li><p>åŠ¨æ€ç»‘å®š, æ± ç»‘å®š, å¤šæ€</p>
<pre><code>* åŠ¨æ€ç»‘å®šçš„æœºåˆ¶ æ˜¯ å®é™…ç±»å‹ new çš„æ˜¯ï¼  
* æ·±ä¸€ç‚¹ -- æ˜¯å¯¹è±¡å†…éƒ¨æœ‰ä¸€ä¸ªæŒ‡é’ˆã€‚ã€‚ã€‚ã€‚ã€‚ã€‚  
* åŠ¨æ€ç»‘å®šçš„æœºåˆ¶æ˜¯ ï¼š å®é™…ç±»å‹ï¼Œè¿˜æ˜¯å¼•ç”¨ç±»å‹ã€‚æ˜¯è°ƒç”¨å®é™…ç±»å‹ï¼Œä¸æ˜¯å¼•ç”¨ç±»å‹ã€‚  

* å®é™…åœ°å€æ‰ä¼šç»‘å®šåˆ°é‚£ä¸ªæ–¹æ³•ä¸Šã€‚ æ–¹æ³•åœ¨  code segment  
* åªæœ‰åœ¨è¿è¡ŒæœŸé—´(ä¸æ˜¯åœ¨ç¼–è¯‘æœŸé—´)ï¼Œè¿è¡Œå‡ºå¯¹è±¡æ¥ï¼Œæ‰èƒ½åˆ¤æ–­è°ƒç”¨å“ªä¸€ä¸ªã€‚ã€‚ã€‚ã€‚  
</code></pre></li>
</ul>
<blockquote>
<p>è¿™æ˜¯é¢å‘å¯¹è±¡æ ¸å¿ƒä¸­çš„æ ¸å¿ƒã€‚æ ¸å¿ƒä¸­çš„æ ¸å¿ƒ ! å¸¦æ¥çš„è«å¤§å¥½å¤„: å¯æ‰©å±•æ€§è¾¾åˆ°äº†éå¸¸éå¸¸çš„æè‡´å¥½ï¼</p>
<p>å¤šæ€æ€»ç»“:</p>
<ol>
<li>è¦æœ‰<strong>ç»§æ‰¿</strong>  </li>
<li>è¦æœ‰<strong>é‡å†™</strong>  </li>
<li>çˆ¶ç±»å¼•ç”¨æŒ‡å‘å­ç±»å¯¹è±¡  </li>
</ol>
</blockquote>
<h2 id="4-Abstract-class"><a href="#4-Abstract-class" class="headerlink" title="4. Abstract class"></a>4. Abstract class</h2><ul>
<li>abstract ä¿®é¥°classæ—¶ï¼Œè¿™ä¸ªç±»å«åšæŠ½è±¡ç±».</li>
<li>abstract ä¿®é¥°æ–¹æ³•æ—¶ï¼Œè¯¥æ–¹æ³•å«åšæŠ½è±¡æ–¹æ³•.</li>
<li>abstract class å¿…é¡»è¢«ç»§æ‰¿ï¼ŒæŠ½è±¡æ–¹æ³•å¿…é¡»è¢«é‡å†™. å«æœ‰æŠ½è±¡æ–¹æ³•çš„ç±»å¿…é¡»å£°æ˜ä¸ºæŠ½è±¡ç±».</li>
<li>abstract class ä¸èƒ½è¢«å®ä¾‹åŒ–, æŠ½è±¡æ–¹æ³•åªéœ€å£°æ˜ï¼Œè€Œä¸éœ€è¦å®ç°.</li>
</ul>
<h2 id="5-Final-å…³é”®å­—"><a href="#5-Final-å…³é”®å­—" class="headerlink" title="5. Final å…³é”®å­—"></a>5. Final å…³é”®å­—</h2><ul>
<li>final çš„å˜é‡çš„å€¼ä¸èƒ½å¤Ÿè¢«æ”¹å˜. final çš„æˆå‘˜å˜é‡ã€å±€éƒ¨å˜é‡(å½¢å‚)</li>
<li><p>final çš„æ–¹æ³•ä¸èƒ½å¤Ÿè¢«é‡å†™ï¼Œ final çš„ç±»ä¸èƒ½å¤Ÿè¢«ç»§æ‰¿.</p>
</li>
<li><p>ç³»ç»Ÿä¸­çš„ final class ä¾‹å¦‚ï¼š </p>
<pre><code>public final class String  
public final class Math  
public final class Boolean
</code></pre></li>
</ul>
<h2 id="6-interface-ä¸€ç§ç‰¹æ®Šçš„æŠ½è±¡ç±»"><a href="#6-interface-ä¸€ç§ç‰¹æ®Šçš„æŠ½è±¡ç±»" class="headerlink" title="6. interface: ä¸€ç§ç‰¹æ®Šçš„æŠ½è±¡ç±»"></a>6. interface: ä¸€ç§ç‰¹æ®Šçš„æŠ½è±¡ç±»</h2><ul>
<li>å˜é‡å…¨æ˜¯: public static final int id = 1;</li>
<li>æ–¹æ³•å…¨æ˜¯: abstract function()  </li>
</ul>
<ul>
<li>java.lang - Comparable æˆ‘çœ‹å°±åƒ cmp ä¸€æ ·ï¼(ä¸ªäººè®¤ä¸º)  <pre><code>Interface Comparable&lt;T&gt; å¯ä»¥æ‰©å±•  
</code></pre></li>
</ul>
<ul>
<li><strong>interface</strong> <strong>interface</strong> å¯ä»¥ç›¸äº’ç»§æ‰¿  </li>
<li><strong>class</strong> <strong>interface</strong> åªèƒ½æ˜¯ implement å…³ç³»  </li>
</ul>
<h2 id="Reference"><a href="#Reference" class="headerlink" title="Reference"></a>Reference</h2><ul>
<li><a href="http://blog.csdn.net/robbyo/article/category/1328994/14" target="_blank" rel="external">csdn robbyo java</a>            </li>
</ul>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[Java SE Learning Notes for Hello World]]></title>
      <url>http://iequa.com/2013/02/02/java-se-2.2-notes-app/</url>
      <content type="html"><![CDATA[<p>ç¬¬ä¸€ä¸ª Java ç¨‹åº HelloWorld.java.  <code>æ‰‹ä¸­æ— å‰‘</code>, <code>å¿ƒä¸­æœ‰å‰‘</code>.</p>
<a id="more"></a>
<h2 id="Hello-World"><a href="#Hello-World" class="headerlink" title="Hello World"></a>Hello World</h2><p>HelloWorld.java</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">public class HelloWorld &#123;</span><br><span class="line">  public static void main(String[] args) &#123;</span><br><span class="line">    System.out.println(&quot;Hello Java.&quot;);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">/**</span><br><span class="line">  * è¿™é‡Œæ˜¯æ³¨é‡Š</span><br><span class="line">  */</span><br></pre></td></tr></table></figure>
<p>ä¸€ä¸ªæºæ–‡ä»¶ä¸­æœ€å¤šåªèƒ½æœ‰ä¸€ä¸ªpublicç±». å¦‚æœæºæ–‡ä»¶ æ–‡ä»¶åŒ…å«ä¸€ä¸ªpublic class å®ƒå¿…éœ€æŒ‰è¯¥ class_name å‘½å  </p>
<h2 id="Java-ç¨‹åºè®¾è®¡"><a href="#Java-ç¨‹åºè®¾è®¡" class="headerlink" title="Java ç¨‹åºè®¾è®¡"></a>Java ç¨‹åºè®¾è®¡</h2><p><strong>data type</strong></p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">                                      -- æ•´æ•°ç±»å‹ (byte, short, int, long)  </span><br><span class="line">                          -- æ•°å€¼å‹ --     </span><br><span class="line">                         |            -- æµ®ç‚¹ç±»å‹ (float, double)  </span><br><span class="line">           --åŸºæœ¬æ•°æ®ç±»å‹  -- å­—ç¬¦å‹ (char)  </span><br><span class="line">          |              |  </span><br><span class="line">          |               -- å¸ƒå°”å‹ (boolean)  </span><br><span class="line">æ•°æ®ç±»å‹ --                           </span><br><span class="line">          |               -- ç±» (class)  </span><br><span class="line">          |              |  </span><br><span class="line">           --å¼•ç”¨æ•°æ®ç±»å‹  -- æ¥å£ (interface)  </span><br><span class="line">                         |  </span><br><span class="line">                          -- æ•°ç»„ (array)</span><br></pre></td></tr></table></figure>
<blockquote>
<p>java ä¸­å®šä¹‰äº† <strong>4ç±» 8ç§</strong> åŸºæœ¬æ•°æ®ç±»å‹<br>boolean ç±»å‹åªå…è®¸å–å€¼ true / false , ä¸å¯ä»¥ç”¨ 0 æˆ– é0 æ›¿ä»£ã€‚<br>char é‡‡ç”¨ Unicode ç¼–ç  (å…¨çƒè¯­è¨€ç»Ÿä¸€ç¼–ç ), æ¯ä¸ªå­—ç¬¦å ä¸¤ä¸ªå­—èŠ‚  </p>
</blockquote>
<h2 id="Reference"><a href="#Reference" class="headerlink" title="Reference"></a>Reference</h2>]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[Java SE Learning Notes for Environment]]></title>
      <url>http://iequa.com/2013/02/02/java-se-2.1-notes-env/</url>
      <content type="html"><![CDATA[<p>Java ç¯å¢ƒçš„æ­å»º <code>æ‰‹ä¸­æ— å‰‘</code>, <code>å¿ƒä¸­æœ‰å‰‘</code>.</p>
<a id="more"></a>
<h2 id="1-JDK"><a href="#1-JDK" class="headerlink" title="1. JDK"></a>1. JDK</h2><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">MS=/usr/<span class="built_in">local</span>/xsoft/software</span><br><span class="line"></span><br><span class="line"><span class="comment">### JAVA ###</span></span><br><span class="line">JAVA_HOME=/Library/Java/JavaVirtualMachines/jdk/Contents/Home</span><br><span class="line">JAVA_BIN=<span class="variable">$JAVA_HOME</span>/bin</span><br><span class="line">PATH=<span class="variable">$JAVA_HOME</span>/bin:<span class="variable">$PATH</span></span><br><span class="line">CLASSPATH=.:<span class="variable">$JAVA_HOME</span>/jre/lib/rt.jar:<span class="variable">$JAVA_HOME</span>/jre/lib/dt.jar:<span class="variable">$JAVA_HOME</span>/jre/lib/tools.jar</span><br><span class="line"><span class="built_in">export</span> JAVA_HOME JAVA_BIN PATH CLASSPATH</span><br></pre></td></tr></table></figure>
<h2 id="2-Maven"><a href="#2-Maven" class="headerlink" title="2. Maven"></a>2. Maven</h2><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment">### Maven ###</span></span><br><span class="line">M2_HOME=/usr/<span class="built_in">local</span>/xsoft/software/apache-maven</span><br><span class="line">MAVEN_HOME=<span class="variable">$M2_HOME</span></span><br><span class="line">M3_HOME=<span class="variable">$M2_HOME</span></span><br><span class="line">PATH=<span class="variable">$M3_HOME</span>/bin:<span class="variable">$PATH</span></span><br><span class="line"><span class="built_in">export</span> MAVEN_HOME M2_HOME PATH</span><br><span class="line"><span class="comment">#MAVEN_OPTS=-Xms128m -Xmx512m</span></span><br></pre></td></tr></table></figure>
<h2 id="3-Tomcat"><a href="#3-Tomcat" class="headerlink" title="3. Tomcat"></a>3. Tomcat</h2><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment">### Tomcat ###</span></span><br><span class="line">CATALINA_HOME=/usr/<span class="built_in">local</span>/xsoft/software/apache-tomcat</span><br><span class="line">PATH=<span class="variable">$CATALINA_HOME</span>/bin:<span class="variable">$PATH</span></span><br><span class="line"><span class="built_in">export</span> CATALINA_HOME PATH</span><br></pre></td></tr></table></figure>
<h2 id="4-IDE"><a href="#4-IDE" class="headerlink" title="4. IDE"></a>4. IDE</h2><ul>
<li><a href="https://www.jetbrains.com/idea/" target="_blank" rel="external">Intellij IDEA</a></li>
</ul>
<h2 id="Reference"><a href="#Reference" class="headerlink" title="Reference"></a>Reference</h2><ul>
<li><a href="/2017/10/21/ops-zsh-config/">Blair Zsh Config</a></li>
</ul>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[Java SE Learning Notes for All]]></title>
      <url>http://iequa.com/2013/02/02/java-se-2.4-notes-exception/</url>
      <content type="html"><![CDATA[<p>è¿™ç¯‡ä¸»è¦æ˜¯è®°å½•äº†æˆ‘å­¦ä¹  Java SE çš„æ¦‚è¦ç¬”è®°: <code>æ‰‹ä¸­æ— å‰‘</code>, <code>å¿ƒä¸­æœ‰å‰‘</code>, <code>æ‘˜èŠ±é£å¶å¯ä»¥ä¼¤äºº</code>.</p>
<a id="more"></a>
<h2 id="1-ç¯å¢ƒé…ç½®"><a href="#1-ç¯å¢ƒé…ç½®" class="headerlink" title="1. ç¯å¢ƒé…ç½®"></a>1. ç¯å¢ƒé…ç½®</h2><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment">### JAVA ###</span></span><br><span class="line">JAVA_HOME=/Library/Java/JavaVirtualMachines/jdk/Contents/Home</span><br><span class="line">JAVA_BIN=<span class="variable">$JAVA_HOME</span>/bin</span><br><span class="line">PATH=<span class="variable">$JAVA_HOME</span>/bin:<span class="variable">$PATH</span></span><br><span class="line">CLASSPATH=.:<span class="variable">$JAVA_HOME</span>/jre/lib/rt.jar:<span class="variable">$JAVA_HOME</span>/jre/lib/dt.jar:<span class="variable">$JAVA_HOME</span>/jre/lib/tools.jar</span><br><span class="line"><span class="built_in">export</span> JAVA_HOME JAVA_BIN PATH CLASSPATH</span><br></pre></td></tr></table></figure>
<h2 id="2-åŸºç¡€"><a href="#2-åŸºç¡€" class="headerlink" title="2. åŸºç¡€"></a>2. åŸºç¡€</h2><p>åˆ†æè®¾è®¡ ï¼š  </p>
<pre><code>1. è¿™ä¸ªä¸œè¥¿æœ‰ å“ªäº›ç±»  
2. ç±»çš„ å±æ€§å’Œæ–¹æ³•  
3. ç±»ä¸ç±»ä¹‹é—´çš„å…³ç³»  
4. å®ç°  
</code></pre><h2 id="3-é¢å‘å¯¹è±¡"><a href="#3-é¢å‘å¯¹è±¡" class="headerlink" title="3. é¢å‘å¯¹è±¡"></a>3. é¢å‘å¯¹è±¡</h2><ul>
<li>å®šä¹‰ç±»  ç”Ÿæˆå¯¹è±¡ </li>
<li>å®šä¹‰æ–¹æ³•  è¢«è°ƒç”¨  </li>
</ul>
<h3 id="3-1-static"><a href="#3-1-static" class="headerlink" title="3.1 static"></a>3.1 static</h3><p><code>static var</code> çŸ¥é“äº†å†…å­˜ï¼Œä½ å°±çŸ¥é“äº†ä¸€åˆ‡.  </p>
<ul>
<li>å±€éƒ¨å˜é‡ åˆ†é…åœ¨ <strong>stack</strong> memory</li>
<li>æˆå‘˜å˜é‡ åˆ†é…åœ¨ <strong>heap</strong> memory</li>
</ul>
<p><code>static var</code> ä¸ºç±»å¯¹è±¡å…±äº«çš„å˜é‡ åœ¨æ•°æ®åŒº  </p>
<ul>
<li>éé™æ€å˜é‡ ä¸“å±äºæŸä¸€ä¸ªå¯¹è±¡  </li>
<li>é™æ€æ–¹æ³•ä¸å†æ˜¯é’ˆå¯¹æŸä¸€ä¸ªå¯¹è±¡è¿›è¡Œè°ƒç”¨, æ‰€ä»¥ä¸èƒ½è®¿é—®éé™æ€æˆå‘˜ã€‚  </li>
</ul>
<h3 id="3-2-package"><a href="#3-2-package" class="headerlink" title="3.2 package"></a>3.2 package</h3><p>åŒ…åèµ·åæ–¹æ³• ï¼š å…¬å¸åŸŸåå€’è¿‡æ¥.</p>
<ul>
<li>å¿…é¡»ä¿è¯è¯¥ç±» class æ–‡ä»¶ä½äºæ­£ç¡®çš„ç›®å½•ä¸‹.  </li>
<li>å¿…é¡»classæ–‡ä»¶çš„æœ€ä¸Šå±‚åŒ…çš„çˆ¶ç›®å½•ä½äºclasspathä¸‹.  </li>
<li>æ‰§è¡Œä¸€ä¸ªç±»éœ€è¦å†™å…¨åŒ…å.  </li>
</ul>
<p><strong>SDK ä¸»è¦çš„åŒ…ä»‹ç»</strong>  </p>
<pre><code>* java.lang - åŒ…å«ä¸€äº› java è¯­è¨€çš„æ ¸å¿ƒç±»ï¼Œ å¦‚ : String, Math, Integer, System, Thread.  
* java.net  - åŒ…å«æ‰§è¡Œä¸ç½‘ç»œç›¸å…³çš„æ“ä½œçš„ç±»  
* java.io   - åŒ…å«èƒ½æä¾›å¤šç§è¾“å…¥/è¾“å‡ºåŠŸèƒ½çš„ç±»  
* java.util - åŒ…å«ä¸€äº›å®ç”¨å·¥å…·ç±».  
</code></pre><h3 id="3-3-ç±»çš„ç»§æ‰¿ä¸æƒé™æ§åˆ¶"><a href="#3-3-ç±»çš„ç»§æ‰¿ä¸æƒé™æ§åˆ¶" class="headerlink" title="3.3 ç±»çš„ç»§æ‰¿ä¸æƒé™æ§åˆ¶"></a>3.3 ç±»çš„ç»§æ‰¿ä¸æƒé™æ§åˆ¶</h3><pre><code>* ä¿®é¥°ç¬¦      ç±»å†…éƒ¨     åŒä¸€åŒ…å†…      å­ç±»     ä»»ä½•åœ°æ–¹  
* private      Yes  
* default      Yes      Yes  
* protected    Yes      Yes         Yes  
* public       Yes      Yes         Yes       Yes    
</code></pre><blockquote>
<p>åˆ†æå†…å­˜ : å­ç±»å¯¹è±¡åŒ…å«ä¸€ä¸ªçˆ¶ç±»å¯¹è±¡.<br>é‡å†™æ–¹æ³•ä¸èƒ½ä½¿ç”¨æ¯”è¢«é‡å†™æ–¹æ³•æ›´ä¸¥æ ¼çš„è®¿é—®æƒé™ â€“ å…¶å®è¿™å’Œå¤šæ€æœ‰å…³  </p>
</blockquote>
<p>super å…³é”®å­—  &amp; ç»§æ‰¿ä¸­çš„æ„é€ æ–¹æ³•</p>
<pre><code>å¦‚æœè°ƒç”¨ super å¿…é¡»å†™åœ¨æ„é€ æ–¹æ³•çš„ç¬¬ä¸€è¡Œ  
å¦‚æœæ²¡è°ƒç”¨ï¼Œç³»ç»Ÿè‡ªåŠ¨è°ƒç”¨ super(), å¦‚æœæ²¡è°ƒï¼Œçˆ¶ç±»ä¸­åˆæ²¡å†™å‚æ•°ä¸ºç©ºè¿™ä¸ªæ„é€ æ–¹æ³•åˆ™å‡ºé”™ã€‚  
</code></pre><ul>
<li><p>Object ç±»</p>
<pre><code>instanceof æ˜¯ä¸€ä¸ªæ“ä½œç¬¦  
equalsæ–¹æ³• J2SDK æä¾›çš„ä¸€äº›ç±» å¦‚ String , Date é‡å†™äº†Object çš„ equals() æ–¹æ³•.  
</code></pre></li>
<li><p>å¯¹è±¡è½¬å‹ casting</p>
<pre><code>* ä¸€ä¸ªåŸºç±»çš„å¼•ç”¨ç±»å‹å˜é‡å¯ä»¥æŒ‡å‘ â€œå…¶å­ç±»çš„å¯¹è±¡â€ã€‚  
* ä¸€ä¸ªåŸºç±»çš„å¼•ç”¨ä¸å¯ä»¥è®¿é—®å…¶å­ç±»æ–°å¢åŠ çš„æˆå‘˜  
* å¯ä»¥ä½¿ç”¨ å¼•ç”¨ å˜é‡ instanceof ç±»å æ¥åˆ¤æ–­è¯¥å¼•ç”¨å‹å˜é‡æ‰€&quot;æŒ‡å‘&quot;çš„å¯¹è±¡æ˜¯å¦å±äºè¯¥ç±»æˆ–è¯¥ç±»çš„å­ç±»ã€‚  
* upcasting / downcasting  

    å†…å­˜åˆ†æ - æ˜ç™½äº†å†…å­˜ä½ å°±æ˜ç™½äº†ä¸€åˆ‡ï¼  
</code></pre></li>
</ul>
<ul>
<li><p>åŠ¨æ€ç»‘å®š, æ± ç»‘å®š, å¤šæ€</p>
<pre><code>* åŠ¨æ€ç»‘å®šçš„æœºåˆ¶ æ˜¯ å®é™…ç±»å‹ new çš„æ˜¯ï¼  
* æ·±ä¸€ç‚¹ -- æ˜¯å¯¹è±¡å†…éƒ¨æœ‰ä¸€ä¸ªæŒ‡é’ˆã€‚ã€‚ã€‚ã€‚ã€‚ã€‚  
* åŠ¨æ€ç»‘å®šçš„æœºåˆ¶æ˜¯ ï¼š å®é™…ç±»å‹ï¼Œè¿˜æ˜¯å¼•ç”¨ç±»å‹ã€‚æ˜¯è°ƒç”¨å®é™…ç±»å‹ï¼Œä¸æ˜¯å¼•ç”¨ç±»å‹ã€‚  

* å®é™…åœ°å€æ‰ä¼šç»‘å®šåˆ°é‚£ä¸ªæ–¹æ³•ä¸Šã€‚ æ–¹æ³•åœ¨  code segment  
* åªæœ‰åœ¨è¿è¡ŒæœŸé—´(ä¸æ˜¯åœ¨ç¼–è¯‘æœŸé—´)ï¼Œè¿è¡Œå‡ºå¯¹è±¡æ¥ï¼Œæ‰èƒ½åˆ¤æ–­è°ƒç”¨å“ªä¸€ä¸ªã€‚ã€‚ã€‚ã€‚  
</code></pre></li>
</ul>
<blockquote>
<p>è¿™æ˜¯é¢å‘å¯¹è±¡æ ¸å¿ƒä¸­çš„æ ¸å¿ƒã€‚æ ¸å¿ƒä¸­çš„æ ¸å¿ƒ ! å¸¦æ¥çš„è«å¤§å¥½å¤„: å¯æ‰©å±•æ€§è¾¾åˆ°äº†éå¸¸éå¸¸çš„æè‡´å¥½ï¼</p>
<p>å¤šæ€æ€»ç»“:</p>
<ol>
<li>è¦æœ‰<strong>ç»§æ‰¿</strong>  </li>
<li>è¦æœ‰<strong>é‡å†™</strong>  </li>
<li>çˆ¶ç±»å¼•ç”¨æŒ‡å‘å­ç±»å¯¹è±¡  </li>
</ol>
</blockquote>
<h3 id="3-4-Abstract-class"><a href="#3-4-Abstract-class" class="headerlink" title="3.4 Abstract class"></a>3.4 Abstract class</h3><ul>
<li>abstract ä¿®é¥°classæ—¶ï¼Œè¿™ä¸ªç±»å«åšæŠ½è±¡ç±».</li>
<li>abstract ä¿®é¥°æ–¹æ³•æ—¶ï¼Œè¯¥æ–¹æ³•å«åšæŠ½è±¡æ–¹æ³•.</li>
<li>abstract class å¿…é¡»è¢«ç»§æ‰¿ï¼ŒæŠ½è±¡æ–¹æ³•å¿…é¡»è¢«é‡å†™. å«æœ‰æŠ½è±¡æ–¹æ³•çš„ç±»å¿…é¡»å£°æ˜ä¸ºæŠ½è±¡ç±».</li>
<li>abstract class ä¸èƒ½è¢«å®ä¾‹åŒ–, æŠ½è±¡æ–¹æ³•åªéœ€å£°æ˜ï¼Œè€Œä¸éœ€è¦å®ç°.</li>
</ul>
<h3 id="3-5-Final-å…³é”®å­—"><a href="#3-5-Final-å…³é”®å­—" class="headerlink" title="3.5 Final å…³é”®å­—"></a>3.5 Final å…³é”®å­—</h3><ul>
<li>final çš„å˜é‡çš„å€¼ä¸èƒ½å¤Ÿè¢«æ”¹å˜. final çš„æˆå‘˜å˜é‡ã€å±€éƒ¨å˜é‡(å½¢å‚)</li>
<li><p>final çš„æ–¹æ³•ä¸èƒ½å¤Ÿè¢«é‡å†™ï¼Œ final çš„ç±»ä¸èƒ½å¤Ÿè¢«ç»§æ‰¿.</p>
</li>
<li><p>ç³»ç»Ÿä¸­çš„ final class ä¾‹å¦‚ï¼š </p>
<pre><code>public final class String  
public final class Math  
public final class Boolean
</code></pre></li>
</ul>
<h3 id="3-6-æ¥å£-ä¸€ç§ç‰¹æ®Šçš„æŠ½è±¡ç±»"><a href="#3-6-æ¥å£-ä¸€ç§ç‰¹æ®Šçš„æŠ½è±¡ç±»" class="headerlink" title="3.6 æ¥å£: ä¸€ç§ç‰¹æ®Šçš„æŠ½è±¡ç±»"></a>3.6 æ¥å£: ä¸€ç§ç‰¹æ®Šçš„æŠ½è±¡ç±»</h3><ul>
<li>å˜é‡å…¨æ˜¯: public static final int id = 1;</li>
<li>æ–¹æ³•å…¨æ˜¯: abstract function()  </li>
</ul>
<ul>
<li>java.lang - Comparable æˆ‘çœ‹å°±åƒ cmp ä¸€æ ·ï¼(ä¸ªäººè®¤ä¸º)  <pre><code>Interface Comparable&lt;T&gt; å¯ä»¥æ‰©å±•  
</code></pre></li>
</ul>
<ul>
<li><strong>interface</strong> <strong>interface</strong> å¯ä»¥ç›¸äº’ç»§æ‰¿  </li>
<li><strong>class</strong> <strong>interface</strong> åªèƒ½æ˜¯ implement å…³ç³»  </li>
</ul>
<h2 id="ç¬¬å››ç« -å¼‚å¸¸å¤„ç†"><a href="#ç¬¬å››ç« -å¼‚å¸¸å¤„ç†" class="headerlink" title="ç¬¬å››ç«  å¼‚å¸¸å¤„ç†"></a>ç¬¬å››ç«  å¼‚å¸¸å¤„ç†</h2><ul>
<li><p>Java å¼‚å¸¸æ˜¯ Java æä¾›çš„ç”¨äºå¤„ç†ç¨‹åºä¸­é”™è¯¯çš„ä¸€ç§æœºåˆ¶ã€‚<br>java.langâ€¦.Exceptions<br>å†™ç¨‹åºæœ‰é—®é¢˜è¦æœ‰å‹å¥½ç•Œé¢<br>åŒ»ç”Ÿå¼€å•å­ {<br>  1, é¼»è…”å†…æ„Ÿè§‰å¼‚å¸¸<br>  2, ä½“æ¸©æŒç»­å‡é«˜<br>  3, åˆ†æ³Œä¹³ç™½è‰²æ¶²ä½“<br>  ç›´æ¥è¯´æ„Ÿå†’ä¸å°±å¾—äº†ä¹ˆï¼Ÿ<br>}<br>e.printStackTrace(); éå¸¸å¥½ï¼ç»™ç¨‹åºå‘˜è¯»ã€‚å †æ ˆä¿¡æ¯éƒ½æ‰“å°å‡ºæ¥ï¼  </p>
<p>java.lang.Throwable { å¼€è½¦åœ¨ä¸Šå±±èµ°ï¼Œ  </p>
<pre><code>1, Error         å±±çˆ†å‘ JVM å‡ºé—®é¢˜ã€‚  
2, Exception {   ä½ å¯ä»¥å¤„ç†çš„ -- åˆ¹è½¦åå•¦ï¼ä¿®å¥½å†èµ°ã€‚ã€‚ã€‚  
  1, ...  
  2, RuntimeException  (ç»å¸¸å‡ºï¼Œä¸ç”¨é€®) å‹è·¯é¢ä¸Šçš„å°çŸ³å­  
</code></pre><p>  }<br>ä¸€ä¸ª try å¯ä»¥è·Ÿå¤šä¸ªcatch<br>æ‰€ä»¥ { ä¸€ä¸ªèŒ¶å£¶å¯ä»¥è·Ÿå¤šä¸ªèŒ¶ç¢—ï¼Œä¸€ä¸ªç”·äººå¯ä»¥ä¸‰å¦»å››å¦¾ã€‚}<br>try {<br>  // å¯èƒ½æŠ›å‡ºå¼‚å¸¸çš„è¯­å¥<br>  è¯­å¥ä¸€ï¼›<br>  è¯­å¥äºŒï¼›<br>} catch(someEx e) {<br>  è¯­å¥ï¼›<br>  }<br>  catch() {  </p>
<pre><code>è¯­å¥  
</code></pre><p>  }<br>  finally {<br>  }<br>ä¸€ ï¼š æ‰“å¼€<br>äºŒ ï¼š å…³é—­<br>finally : ä¸€èˆ¬è¿›è¡Œèµ„æºçš„æ¸…é™¤å·¥ä½œã€‚ã€‚ã€‚ï¼  </p>
</li>
</ul>
<p>æˆ‘å¤„ç†ä¸äº†çš„äº‹æƒ… ï¼š æˆ‘äº¤ç»™ä¸Šä¸€çº§éƒ¨é—¨å»å¤„ç†ï¼<br>å½“æ—¶ catch åˆ° Ex çš„æ—¶å€™ï¼Œä½ è‡³å°‘è¦åšå‡ºä¸€ç§å¤„ç†ã€‚è¦ä¸é‚£æ˜¯å±é™©çš„ç¼–ç¨‹ä¹ æƒ¯ï¼<br>main() æŠ›å‡º å°±æ˜¯äº¤ç»™ java è¿è¡Œæ—¶ç³»ç»Ÿå•¦ï¼ å®ƒä¼šæŠŠå †æ ˆä¿¡æ¯æ‰“å‡ºæ¥ï¼  </p>
<p>ä¸€ä¸ªå›¾ ï¼š äº”ä¸ªå…³é”®å­— {<br>    try, catch, finally, throw, throws<br>}<br>ä¸€ç‚¹é—®é¢˜ {<br>    å…ˆé€®å¤§çš„ï¼Œåé€®å°çš„ï¼ŒæŠ¥é”™ã€‚<br>}<br>ä½¿ç”¨è‡ªå®šä¹‰å¼‚å¸¸  </p>
<p>ç¨‹åºä¸­å¯ä»¥ä½¿ç”¨ throw - æ–¹æ³•å throws<br>å¦‚æœthrowæŠ›å‡ºå¼‚å¸¸ä¹‹å,æ–¹æ³•å°±ç»“æŸå•¦ï¼  </p>
<p>æ³¨æ„ ï¼š é‡å†™æ–¹æ³•éœ€è¦æŠ›å‡ºä¸åŸæ–¹æ³•æ‰€æŠ›å‡ºå¼‚å¸¸ç±»å‹ä¸€è‡´å¼‚å¸¸æˆ–ä¸æŠ›å‡ºå¼‚å¸¸ã€‚  </p>
<ul>
<li>æ€»ç»“ ï¼š{  <ul>
<li>ä¸€ä¸ªå›¾  </li>
<li>äº”ä¸ªå…³é”®å­—  </li>
<li>å…ˆé€®å°çš„ï¼Œå†é€®å¤§çš„ã€‚  </li>
<li>å¼‚å¸¸ä¸é‡å†™çš„å…³ç³»<br>}  </li>
</ul>
</li>
</ul>
<h2 id="5-æ•°ç»„"><a href="#5-æ•°ç»„" class="headerlink" title="5. æ•°ç»„"></a>5. æ•°ç»„</h2><ul>
<li>å››ç»´ç©ºé—´<br>int[] a, int a[];<br>å†…å­˜åˆ†æ - çŸ¥é“äº†å†…å­˜ä½ å°±æ˜ç™½äº†ä¸€åˆ‡ï¼<br>æœ¬æ¥æ— ä¸€ç‰© ï¼š ä½•å¤„è£…æ•°ç»„ã€‚  </li>
<li>åŠ¨æ€åˆå§‹åŒ–  </li>
<li><p>é™æ€åˆå§‹åŒ– int a[] = {3, 9, 8}; å†…éƒ¨è¿‡ç¨‹å±è”½æ‰å•¦ï¼  </p>
<p>ipconfig<br>ipconfig -all  è¿™é‡Œ -all å°±æ˜¯å‘½ä»¤è¡Œå‚æ•°ã€‚  </p>
<p>åŸºç¡€ç±»å‹ä¸€èˆ¬åˆ†é…åœ¨æ ˆä¸Šé¢ï¼åŒ…è£…ç±»ï¼Œç”¨äºæŠŠåŸºç¡€ç±»å‹åŒ…è£…æˆå¯¹è±¡ï¼Œåˆ™åˆ†é…åœ¨å †ä¸Šäº†ã€‚<br>ä¾‹å¦‚ ç±» Double, Integer  </p>
<p>çº¦ç‘Ÿå¤«ç¯ - é¢å‘è¿‡ç¨‹ å’Œ é¢å‘å¯¹è±¡ å†™æ³•  </p>
<p>å¦ä¸€ä¸ªæ¯”è¾ƒç²¾å·§çš„ç®—æ³• ï¼š ç”¨æ•°ç»„æ¥æ¨¡æ‹Ÿé“¾è¡¨<br>ç®—æ³•å’Œé€»è¾‘æ€ç»´èƒ½åŠ›ä¸æ˜¯ä¸€æœä¸€å¤•èƒ½å®Œæˆçš„ã€‚<br>æ’åºç®—æ³•ç´§è·Ÿç€çš„æ˜¯ - æœç´¢ç®—æ³•  </p>
</li>
</ul>
<hr>
<p>  ä½ è¿™é‡Œæ˜¯é€šè¿‡å¯¹è±¡square1è°ƒç”¨çš„æ–¹æ³•getsquare()<br>    public static void main(String[] args){<br>        getsquare(); //è¿™é‡Œä¼šå‡ºé”™<br>    }<br>    æ˜¯çš„ã€‚å…¶å®mainå‡½æ•°å¯ä»¥ç®€å•è®¤ä¸ºè·Ÿæœ¬ç±»æ²¡ä»€ä¹ˆå…³ç³»ï¼Œåªæ˜¯è°ƒç”¨æœ¬ç±»çš„<br>    å…¶å®ƒé™æ€æ–¹æ³•æ—¶ä¸ç”¨å†™ç±»åè€Œå·²ã€‚æ‰€ä»¥ï¼Œè¦è°ƒç”¨å…¶å®ƒéé™æ€æ–¹æ³•ï¼Œéƒ½è¦<br>    å…ˆå®ä¾‹åŒ–ï¼Œå°±åƒåˆ«çš„ç±»æ¥è°ƒç”¨ä¸€æ ·ã€‚<br>â€”â€”â€“ æˆ‘æœ‰äº›æ‡‚å•¦ï¼ ä½†è¿˜æ˜¯ä¸å¤ªæ‡‚ï¼Œæˆ‘èƒ½ç†è§£å•¦ï¼ (ä¸ªäººç†è§£)â€”â€”â€“  </p>
<pre><code>äºŒç»´æ•°ç»„ ï¼š å¯ä»¥çœ‹æˆä»¥æ•°ç»„ä¸ºå…ƒç´ çš„æ•°ç»„  
* æ•°ç»„çš„æ‹·è´ {  
}  
å¤§å…¬å¸å‰¥å‰Šäººå‰¥å‰Šå¾—æœ€å‰å®³ï¼  
</code></pre><p>  æ˜ç™½å†…å­˜ä½ å°±æ˜ç™½äº†ä¸€åˆ‡ï¼ã€‚ã€‚ã€‚  </p>
<p>  æ€»ç»“ {  </p>
<pre><code>* æ•°ç»„å†…å­˜çš„å¸ƒå±€  
* å¸¸è§ç®—æ³•  
</code></pre><p>  }<br>}  </p>
<h2 id="6-å¸¸ç”¨ç±»"><a href="#6-å¸¸ç”¨ç±»" class="headerlink" title="6. å¸¸ç”¨ç±»"></a>6. å¸¸ç”¨ç±»</h2><p>æœ¬ç« å†…å®¹ {  </p>
<pre><code>* å­—ç¬¦ä¸²ç›¸å…³ç±» (String, StringBuffer)  
* åŸºæœ¬æ•°æ®ç±»å‹åŒ…è£…ç±»  
* Mathç±»  
* Fileç±»  
* æšä¸¾ç±»  

* java.lang.String ç±»ä»£è¡¨ä¸å¯å˜çš„å­—ç¬¦åºåˆ—  

    String s1 = &quot;helo&quot;;  
    String s3 = &quot;hello&quot;;  
    s1 == s3 true  
    å­—ç¬¦ä¸²å¸¸é‡ - data seg åŒº  
    data segment ç¼–è¯‘å™¨æœ‰ä¼˜åŒ–  

    å¦‚æœæ˜¯ new s1 == s3 false  
          s1.equals(s3) true  
    å­—ç¬¦ä¸²ä½ å¯ä»¥çœ‹æˆæ˜¯ä¸€ä¸ªå­—ç¬¦æ•°ç»„ï¼  

    String ç±»å¸¸ç”¨æ–¹æ³• {  
        * é™æ€é‡è½½æ–¹æ³• public static String valueOf(...)  
        * public String[] spllit(String regex)  
    }  
    String.valueOf(Object obj);  å¤šæ€çš„å­˜åœ¨  
    toString  
    java.lang.StringBuffer ä»£è¡¨å¯å˜çš„å­—ç¬¦åºåˆ—  

    * åŸºæœ¬æ•°æ®ç±»å‹åŒ…è£…ç±»  
        åŸºæœ¬æ•°æ® ï¼š æ ˆ  -&gt; åŒ…è£… --&gt; å †ä¸Šé¢  
        * åŒ…è£…ç±» {  
            * å†™ç¨‹åºè¦å¾ªåºæ¸è¿›æ–¹æ³•  
        }  
    * Math ç±» { java.lang.Math å…¶ä¸­æ–¹æ³•çš„å‚æ•°å’Œè¿”å›å€¼ç±»å‹éƒ½ä¸º double }  
    * File ç±» { java.io.File ç±»ä»£è¡¨ç³»ç»Ÿæ–‡ä»¶å (è·¯å¾„å’Œæ–‡ä»¶å)   
            File ç±»çš„å¸¸è§æ„é€ æ–¹æ³• ï¼š  
            * public File(String pathname)     
                ä»¥ pathname ä¸ºè·¯å¾„åˆ›å»º File å¯¹è±¡, å¦‚æœ pathname æ˜¯ç›¸å¯¹è·¯å¾„ï¼Œåˆ™é»˜è®¤çš„å½“å‰è·¯å¾„åœ¨ç³»ç»Ÿå±æ€§ user.dir ä¸­å­˜å‚¨  
            * public File(String parent, String child)  
            * File çš„é™æ€å±æ€§ String separator å­˜å‚¨äº†å½“å‰ç³»ç»Ÿçš„è·¯å¾„åˆ†éš”ç¬¦ã€‚  
                åŸå‹ ï¼š public static final String separator ä½†æ˜¯äº‹å®ä¸Šæ— è®ºåœ¨å“ª ä½ å†™ / éƒ½æ²¡æœ‰é—®é¢˜  

                æ³¨æ„ \ åœ¨ java é‡Œé¢æ˜¯è½¬ä¹‰å­—ç¬¦  
        }  
     * Enum - java.lang.Enum æšä¸¾ç±»å‹ {  
            1, åªèƒ½å¤Ÿå–ç‰¹å®šå€¼ä¸­çš„ä¸€ä¸ª   
            2, ä½¿ç”¨ enum å…³é”®å­—  
            3, æ˜¯ java.lang.Enum  
            4, ä¸¾ä¾‹ ï¼š TestEnum.java  
        }  
æ€»ç»“~~~ API å’Œ é‡‘åº¸çš„ä¹¦å·®ä¸å¤šï¼  
</code></pre><h2 id="7-å®¹å™¨"><a href="#7-å®¹å™¨" class="headerlink" title="7. å®¹å™¨"></a>7. å®¹å™¨</h2><pre><code>ç¬¬ä¸ƒç«  å®¹å™¨ {  
    * å®¹å™¨çš„æ¦‚å¿µ       -        æ•°ç»„æ˜¯ä¹ˆï¼Œ å½“ç„¶æ˜¯ï¼  
    * å®¹å™¨API  
    * Collection æ¥å£  
    * Iterator æ¥å£  
    * å¢å¼ºçš„ for å¾ªç¯  
    * Set æ¥å£  
    * Listæ¥å£ å’Œ Comparableæ¥å£  
    * Collections ç±»  
    * Map æ¥å£  
    * è‡ªåŠ¨æ‰“åŒ… / è§£åŒ…  
    * æ³›å‹ (JDK1.5æ–°å¢)  
    -----  
    * J2SDk æ‰€æä¾›çš„å®¹å™¨ä½äº java.util åŒ…å†…ã€‚  
    * å®¹å™¨APIçš„ç±»å›¾å¦‚ä¸‹å›¾æ‰€ç¤ºï¼š  
    --------------------------------------------------  


    1136 1136 1136   --  ä¸€ä¸ªå›¾, ä¸€ä¸ªç±», ä¸‰ä¸ªçŸ¥è¯†ç‚¹ï¼Œå…­ä¸ªæ¥å£  

           &lt;&lt;interface&gt;&gt;  
            Collection  
           /           \                        &lt;&lt;interface&gt;&gt;  
</code></pre><p> &lt;<interface>&gt;      &lt;<interface>&gt;                 ^<br>      Set                List                     |<br>       ^                  ^                       |<br>       |           <strong>___</strong>|<strong>__</strong>                 |<br>         HashSet   LinkedList    ArrayList          HashMap  </interface></interface></p>
<pre><code>1136  1136  1136  ä¸€ä¸ªå›¾, ä¸€ä¸ªç±», ä¸‰ä¸ªçŸ¥è¯†ç‚¹ï¼Œå…­ä¸ªæ¥å£  

---------------------------------------------------  


* Collection æ¥å£ -- å®šä¹‰äº†å­˜å–ä¸€ç»„å¯¹è±¡çš„æ–¹æ³•, å…¶å­æ¥å£ Set å’Œ List åˆ†åˆ«å®š  
    ä¹‰äº†å­˜å‚¨æ–¹å¼ã€‚  

    * Set ä¸­çš„æ•°æ®å¯¹è±¡æ²¡æœ‰é¡ºåºä¸”ä¸å¯ä»¥é‡å¤ã€‚  
    * Listä¸­çš„æ•°æ®å¯¹è±¡æœ‰é¡ºåºä¸”å¯ä»¥é‡å¤  

* Map æ¥å£å®šä¹‰äº†å­˜å‚¨ â€œé”® (key) -- å€¼ (value) æ˜ å°„&quot;å¯¹&quot;çš„æ–¹æ³•ã€‚  

Collection æ–¹æ³•ä¸¾ä¾‹  
    * å®¹å™¨ç±»å¯¹è±¡åœ¨è°ƒç”¨ remove, contains ç­‰æ–¹æ³•æ—¶éœ€è¦æ¯”è¾ƒå¯¹è±¡æ˜¯å¦ç›¸ç­‰  
        è¿™ä¼šæ¶‰åŠåˆ°å¯¹è±¡ç±»å‹çš„ equals æ–¹æ³•å’Œ hashCode æ–¹æ³•ï¼Œå¯¹äºè‡ªå®šä¹‰çš„  
        ç±»å‹ï¼Œéœ€è¦è¦é‡å†™ equals å’Œ hashCode æ–¹æ³•ä»¥å®ç°è‡ªå®šä¹‰çš„å¯¹è±¡ç›¸ç­‰  
        è§„åˆ™ã€‚  
        *ã€€æ³¨æ„ ï¼š ç›¸ç­‰çš„å¯¹è±¡åº”è¯¥å…·æœ‰ç›¸ç­‰çš„ hashcodes  
    * ---  
    ArrayList åº•å±‚æ˜¯ä¸€ä¸ªæ•°ç»„  
</code></pre><p>å“ˆå“ˆå“ˆå“ˆå“ˆ ï¼š è£…å…¥çš„æ˜¯å¯¹è±¡ï¼Œå› ä¸ºå¯¹è±¡åœ¨å †ä¸Šï¼Œæ ˆé‡Œé¢çš„å†…å®¹éšæ—¶å¯èƒ½è¢«æ¸…ç©ºï¼  </p>
<pre><code>    hashCode èƒ½ç›´æ¥å®šä½åˆ°é‚£ä¸ªå¯¹è±¡  

    toyreb  

    Iterator - æ¥å£æœ€å°åŒ–åŸåˆ™  
    æˆ‘è¿™å¤§ç®¡å®¶åœ¨åšæ“ä½œçš„æ—¶å€™ ï¼š è¿ä¸»äººåšä»»ä½•çš„æ“ä½œéƒ½ä¸è®©æ“ä½œå•¦ï¼å› ä¸º iterater æ‰§è¡Œäº†é”å®šï¼Œè°ä¹Ÿä¸è®©è°çœ‹ï¼  

    JDK 1.5 å¢å¼ºçš„ for å¾ªç¯  

Set {  
    HashSet, TreeSet ä¸€ä¸ªä»¥ hash è¡¨å®ç°ï¼Œ ä¸€ä¸ªä»¥ æ ‘ ç»“æ„å®ç°  
}  
List {  
    Object set(int index, Object element)  
    int indexof(Object o);  
    int lastIndexof(Object o);  
}  
</code></pre><p><em>*</em> ä¸€ä¸ªç±» {<br>    Collections  â€“ java.util.Collections æä¾›äº†ä¸€äº›é™æ€æ–¹æ³•å®ç°äº†åŸºäºListå®¹å™¨çš„ä¸€äº›å¸¸ç”¨ç®—æ³•  </p>
<pre><code>ä¾‹å¦‚ {  
    void sort(List)  
    ...  
    ...  
    ...  
}  
LinkedList -- é€†åºçš„æ—¶å€™æ•ˆç‡è¾ƒ ArrayList é«˜ï¼  

å¯¹äº ç‰¹å®šçš„ å¯¹è±¡æ€ä¹ˆç¡®å®šè°å¤§è°å°ã€‚ {  
    å¯¹è±¡é—´å¯ä»¥æ¯”è¾ƒå¤§å°  
    é€šè¿‡ æ¥å£ åªèƒ½çœ‹è§å¯¹è±¡çš„ä¸€ç‚¹ã€‘  
    Comparable æ¥å£  -- æ‰€æœ‰å¯ä»¥å®ç°æ’åºçš„ç±» éƒ½å®ç°äº† Comparable æ¥å£  
}  
public int compareTo(Object obj)  

æ³›å‹è§„å®š - åªèƒ½ä¼  â€œçŒ«â€  

vector / hashtable ä»¥å‰é—ç•™ä¸‹æ¥çš„ã€‚æ•ˆç‡ç‰¹åˆ«ä½  


Map æ¥å£ {  
    Map æ¥å£çš„å®ç°ç±»æœ‰ HashMap å’Œ TreeMap ç­‰ã€‚ {hashmap ç”¨ hashè¡¨æ¥å®ç°ï¼Œ TreeMap ç”¨äºŒå‰æ ‘æ¥å®ç°-çº¢é»‘}  
    Map ç±»ä¸­å­˜å‚¨çš„é”® - å€¼å¯¹é€šè¿‡é”®æ¥æ ‡è¯†ï¼Œæ‰€ä»¥é”®å€¼ä¸èƒ½é‡å¤ã€‚{  
        ä¸èƒ½é‡å¤ ï¼š æ˜¯equals()  
                                equals() å¤ªæ…¢ï¼Œ æ‰€ä»¥æˆ‘ä»¬ç”¨ hashCode() æ¥æ¯”è¾ƒ  
                            }  
    }  
JDK 1.5 ä¹‹å {  
    å¯ä»¥è‡ªåŠ¨æ‰“åŒ…å’Œè§£åŒ…  
</code></pre><h1 id="Auto-boxing-unboxing"><a href="#Auto-boxing-unboxing" class="headerlink" title="- Auto-boxing / unboxing"></a>- Auto-boxing / unboxing</h1><pre><code>    * åœ¨åˆé€‚çš„æ—¶æœºè‡ªåŠ¨æ‰“åŒ… , è§£åŒ…  
        * è‡ªåŠ¨å°†åŸºç¡€ç±»å‹è½¬åŒ–ä¸ºå¯¹è±¡  
        * è‡ªåŠ¨å°†å¯¹è±¡è½¬æ¢ä¸ºåŸºç¡€ç±»å‹  
    * TestMap2.java  
    }  

ç¤ºä¾‹ç»ƒä¹  {  
    TestArgsWords.java  
}  
</code></pre><p>JDK 1.5 æ³›å‹  </p>
<ul>
<li>èµ·å›  ï¼š  <ul>
<li>JDK 1.4 ä»¥å‰ç±»å‹ä¸æ˜ç¡®  <ul>
<li>è£…å…¥é›†åˆç±»å‹éƒ½è¢«å½“ä½œ Object å¯¹å¾…, ä»è€Œå¤±å»è‡ªå·±çš„å®é™…ç±»å‹ã€‚  </li>
<li>ä»é›†åˆä¸­å–å‡ºæ—¶å¾€å¾€éœ€è¦è½¬å‹, æ•ˆç‡ä½, å®¹æ˜“äº§ç”Ÿé”™è¯¯ã€‚  </li>
</ul>
</li>
</ul>
</li>
<li>è§£å†³åŠæ³• ï¼š  <ul>
<li>åœ¨å®šä¹‰é›†åˆçš„æ—¶å€™åŒæ—¶å®šä¹‰é›†åˆä¸­å¯¹è±¡çš„ç±»å‹  </li>
<li>ç¤ºä¾‹ ï¼š BasicGeneric.java  <ul>
<li>å¯ä»¥åœ¨å®šä¹‰ Collection çš„æ—¶å€™æŒ‡å®š  </li>
<li>ä¹Ÿå¯ä»¥åœ¨å¾ªç¯æ—¶ç”¨ Iterator æŒ‡å®š  </li>
</ul>
</li>
</ul>
</li>
<li><p>å¥½å¤„ ï¼š  </p>
<ul>
<li><p>å¢å¼ºç¨‹åºçš„å¯è¯»æ€§å’Œç¨³å®šæ€§  </p>
<p>ä»€ä¹ˆæ—¶å€™å¯ä»¥æŒ‡å®šè‡ªå·±çš„ç±»å‹ ï¼š ä½ çœ‹ APIï¼Œ ä»–è·Ÿä½ å°±å¯ä»¥è·Ÿ  </p>
</li>
</ul>
</li>
<li>æ€»ç»“ {<br>  1136  <ul>
<li>ä¸€ä¸ªå›¾  </li>
<li>ä¸€ä¸ªç±»  <ul>
<li>Collections  <ul>
<li>ä¸‰ä¸ªçŸ¥è¯†ç‚¹  </li>
</ul>
</li>
</ul>
</li>
<li>For  </li>
<li>Generic  </li>
<li>Auto-boxing / unboxing  <ul>
<li>å…­ä¸ªæ¥å£ {<br>1, Collection {<br>2, Set,<br>3, List<br>}<br>4, Map<br>5, Iterator<br>6, Comparable<br>}  </li>
</ul>
</li>
</ul>
</li>
</ul>
<h2 id="8-IO-æµ"><a href="#8-IO-æµ" class="headerlink" title="8. IO æµ"></a>8. IO æµ</h2><pre><code>èƒ½å¸®åŠ©ä½ å»ºç«‹æ–‡ä»¶ï¼Œä¸èƒ½å¸®ä½ å»ºç›®å½•  

è¯»åˆ°å†…å­˜åŒº -   

* è½¬æ¢æµ {  
    ä¸­æ–‡ windos ç¼–ç  JBK  
    å½“å‰ç³»ç»Ÿé»˜è®¤çš„ ç¼–ç æ˜¯ JBK  
    IOS8859_1 åŒ…å«çš„æ‰€æœ‰è¥¿æ¬§è¯­è¨€ --&gt; åæ¥æ‰æ¨å‡º UniCode (å›½é™…æ ‡å‡†åŒ–ç»„ç»‡ä¸ºäº†åŒ…å«å…¨çƒ)  
    JBK   JB2312   JB18030  ä¸œæ–¹äººè‡ªå·±çš„ç¼–ç  - å›½æ ‡ç  - å°±æ˜¯æ±‰å­—ï¼Œä½ å¯ä»¥è®¤ä¸º  
    æ—¥æ–‡ï¼ŒéŸ©æ–‡ éƒ½æœ‰è‡ªå·±çš„ç¼–ç   - å°æ¹¾æœ‰è‡ªå·±çš„ å¤§äº”ç   
    æ‹‰ä¸1ï¼Œ 2ï¼Œ 3ï¼Œ 4ï¼Œ 5. 6. 7. 8. 9 éƒ½åŒæ„å•¦ï¼åŒ…æ‹¬ä¿„ç½—æ–¯ï¼Œ ä½†æ˜¯ä¸­æ–‡è¿˜ä¸è¡Œ ---- &gt; UniCode  
    FileOutputStream() æ„é€ æ–¹æ³•è‡ªå·±å»æŸ¥  
* System.in {  
    System ç±»   --   in æ˜¯ InputStream ç±»å‹  
    public static final InputStream in   æŠ½è±¡ç±» ç±»å‹ï¼Œ  åˆæ˜¯çˆ¶ç±»å¼•ç”¨æŒ‡å‘å­ç±»å¯¹è±¡  
    InputStreamReader isr = new InputStreamReader(System.in);  
    System.in -&gt; ç®¡é“ç›´æ¥å †åˆ°é»‘çª—å£ä¸Š  
    BufferedReader br = new BufferedReader(isr);  

    wait()   
    è¿è¡Œå ï¼š ç­‰å¾…åœ¨é‚£ - é˜»å¡å¼çš„æ–¹æ³• å¾ˆå¤š   
    readLine() æœ‰ç‚¹ç‰¹æ®Š  
    å…¶å®æ˜¯ System.in æ¯”è¾ƒç‰¹æ®Š  -- æ ‡å‡†è¾“å…¥ - ç­‰å¾…ç€æ ‡å‡†è¾“å…¥ {  
        ä½ ä¸è¾“å…¥ - æˆ‘å¯ä¸å°±ç­‰ç€ä¹ˆï¼Œå½“ç„¶è¿™ä¸ªä¹Ÿå«åšåŒæ­¥æ–¹æ³•ã€‚  
        ä½ ä¸è¾“å…¥ï¼Œæˆ‘å°±ä¸èƒ½å¹²åˆ«çš„  
        åŒæ­¥å¼çš„  
    }  

* æ•°æ®æµ {  
    è¯·ä½ æŠŠ long ç±»å‹çš„æ•°ï¼Œ å†™åˆ° --&gt; æ–‡ä»¶é‡Œé¢å»  
    readUTF()  
    UTF8 æ¯”è¾ƒçœç©ºé—´  
}  
* æ‰“å°æµ {  
    System.out   
    out - public static final PrintStream  
    é»˜è®¤åœ¨æˆ‘ä»¬çš„é»‘çª—å£è¾“å‡º  
    è¯­è¨€ä»£è¡¨äººçš„æ€ç»´ - èƒ½å¤Ÿä¿ƒè¿›äººçš„æ€ç»´  
    log4J è‘—åçš„æ—¥å¿—å¼€å‘åŒ…  
}  

* Object æµ {  
    æŠŠæ•´ä¸ª Object å…¨éƒ¨å†™å…¥ç¡¬ç›˜è¢«  
    åœ¨ VC ä¸Šå«åšç³»åˆ—åŒ–  
    å­˜ç›˜ç‚¹ã€‚  
    æŒ¨ç€æ’çš„åºåˆ—åŒ–  
    å†ä¸€ç‚¹ä¸€ç‚¹è¯»å‡ºæ¥  

    Serializable æ¥å£  --- æ ‡è®°æ€§çš„æ¥å£  
    transient int k = 15;  
    ç›¸å½“äºè¿™ä¸ª k æ˜¯é€æ˜çš„ã€‚åœ¨åºåˆ—åŒ–çš„æ—¶å€™ä¸ç»™äºè€ƒè™‘ï¼Œè¯»çš„æ—¶å€™è¯»é»˜è®¤å€¼ã€‚  

    * Serializable æ¥å£  
    * Externalizable æ¥å£  extends  Serializable   
}  
</code></pre><p>}  </p>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[Java SE Introduce]]></title>
      <url>http://iequa.com/2013/02/02/java-se-1-introduce/</url>
      <content type="html"><![CDATA[<p>Javaæ˜¯ä¸€ç§å¹¿æ³›ä½¿ç”¨çš„è®¡ç®—æœºç¼–ç¨‹è¯­è¨€ï¼Œæ‹¥æœ‰è·¨å¹³å°ã€é¢å‘å¯¹è±¡ã€æ³›å‹ç¼–ç¨‹çš„ç‰¹æ€§.</p>
<a id="more"></a>
<ul>
<li>Java data type</li>
<li>OO</li>
<li>Exception</li>
<li>Java Array  </li>
<li>Java å¸¸ç”¨ç±» </li>
<li>Java å®¹å™¨ç±»</li>
<li>Collection / Generic</li>
<li>Java I/O Stream</li>
<li>Java Thread</li>
<li>Java TCP/UDP, socket</li>
</ul>
<h2 id="1-Java-æ¦‚è¿°"><a href="#1-Java-æ¦‚è¿°" class="headerlink" title="1. Java æ¦‚è¿°"></a>1. Java æ¦‚è¿°</h2><ul>
<li>Java è¿è¡Œæœºåˆ¶</li>
<li>JDK &amp; JRE</li>
<li>Java env install</li>
<li>Java Basic Content</li>
</ul>
<blockquote>
<p>conclude : è®¡ç®—æœºè¯­è¨€æœç€äººç±»æ˜“äºç†è§£çš„æ–¹å‘å‘å±•  </p>
</blockquote>
<h2 id="2-Java-ç‰¹ç‚¹"><a href="#2-Java-ç‰¹ç‚¹" class="headerlink" title="2. Java ç‰¹ç‚¹"></a>2. Java ç‰¹ç‚¹</h2><ul>
<li>ä¸€ç§ OO è¯­è¨€  </li>
<li>ä¸€ç§å¹³å°æ— å…³çš„è¯­è¨€, æä¾›ç¨‹åºè¿è¡Œçš„è§£é‡Šç¯å¢ƒ  </li>
<li>ä¸€ç§å¥å£®çš„è¯­è¨€, å¸æ”¶äº†C/C++è¯­è¨€çš„ä¼˜ç‚¹ï¼Œ ä½†å»æ‰äº†å…¶å½±å“ç¨‹åºå¥å£®æ€§çš„éƒ¨åˆ†(å¦‚: æŒ‡é’ˆï¼Œ å†…å­˜çš„ç”³è¯·ä¸é‡Šæ”¾ç­‰)ã€‚  </li>
</ul>
<h2 id="3-Javaç¨‹åºè¿è¡Œæœºåˆ¶"><a href="#3-Javaç¨‹åºè¿è¡Œæœºåˆ¶" class="headerlink" title="3. Javaç¨‹åºè¿è¡Œæœºåˆ¶"></a>3. Javaç¨‹åºè¿è¡Œæœºåˆ¶</h2><p><strong>Java 2ç§æ ¸å¿ƒæœºåˆ¶</strong></p>
<ul>
<li>Java Virtual Machine</li>
<li>Garbage collection</li>
</ul>
<blockquote>
<p>JVM å¯ç†è§£æˆä¸€ä¸ªä»¥å­—èŠ‚ç ä¸ºæœºå™¨æŒ‡ä»¤çš„CPU<br>JVM æœºåˆ¶å±è”½äº†åº•å±‚è¿è¡Œå¹³å°çš„å·®åˆ«, å®ç°äº†â€ä¸€æ¬¡ç¼–è¯‘, éšå¤„è¿è¡Œâ€ã€‚</p>
<p>x.java â€“ç¼–è¯‘â€“&gt; x.class â€“æ‰§è¡Œâ€“&gt; JVM</p>
<p>Javaè¯­è¨€æ¶ˆé™¤äº†ç¨‹åºå‘˜å›æ”¶æ— ç”¨å†…å­˜ç©ºé—´çš„è´£ä»»;<br>å®ƒæä¾›ä¸€ç§ç³»ç»Ÿçº§çº¿ç¨‹è·Ÿè¸ªå­˜å‚¨ç©ºé—´çš„åˆ†é…æƒ…å†µï¼Œå¹¶åœ¨JVMçš„ç©ºé—²æ—¶, æ£€æŸ¥å¹¶é‡Šæ”¾é‚£äº›å¯è¢«é‡Šæ”¾çš„å­˜å‚¨å™¨ç©ºé—´ã€‚  </p>
</blockquote>
<h2 id="4-JDK-amp-JRE-amp-env-install"><a href="#4-JDK-amp-JRE-amp-env-install" class="headerlink" title="4. JDK &amp; JRE &amp; env install"></a>4. JDK &amp; JRE &amp; env install</h2><ul>
<li>Software Development Kit (è½¯ä»¶å¼€å‘åŒ…)  å¼€å‘éœ€è¦ JDK  </li>
<li>Java Runtime Environment  ç”¨æˆ·åªéœ€ JRE  </li>
</ul>
<p><code>/etc/profile</code> or  <code>~/.zshrc</code> or  <code>~/.zprofile</code></p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">### JAVA ###</span><br><span class="line">JAVA_HOME=/Library/Java/JavaVirtualMachines/jdk1.7.0_79.jdk/Contents/Home</span><br><span class="line">JAVA_BIN=$JAVA_HOME/bin</span><br><span class="line">PATH=$JAVA_HOME/bin:$PATH</span><br><span class="line">CLASSPATH=.:$JAVA_HOME/jre/lib/rt.jar:$JAVA_HOME/jre/lib/dt.jar:$JAVA_HOME/jre/lib/tools.jar</span><br><span class="line">export JAVA_HOME JAVA_BIN PATH CLASSPATH</span><br></pre></td></tr></table></figure>
<blockquote>
<p>classpath : javaåœ¨ç¼–è¯‘å’Œè¿è¡Œæ—¶è¦æ‰¾çš„classæ‰€åœ¨çš„è·¯å¾„<br>å»ºè®®ä½ çš„ JDK è£…åœ¨ä¸å¸¦ç©ºæ ¼çš„ç›®å½•é‡Œé¢</p>
</blockquote>
<h2 id="5-å‘½åè§„åˆ™"><a href="#5-å‘½åè§„åˆ™" class="headerlink" title="5. å‘½åè§„åˆ™"></a>5. å‘½åè§„åˆ™</h2><ol>
<li>ç±»åé¦–å­—æ¯å¤§å†™  </li>
<li>å˜é‡åå’Œæ–¹æ³•åçš„é¦–å­—æ¯å°å†™  </li>
<li>è¿ç”¨é©¼å³°æ ‡è¯†   </li>
</ol>
<p>HelloWorld.java</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">public class HelloWorld &#123;</span><br><span class="line">  public static void main(String[] args) &#123;</span><br><span class="line">    System.out.println(&quot;Hello Java.&quot;);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">/**</span><br><span class="line">  * è¿™é‡Œæ˜¯æ³¨é‡Š</span><br><span class="line">  */</span><br></pre></td></tr></table></figure>
<blockquote>
<p>ä¸€ä¸ªæºæ–‡ä»¶ä¸­æœ€å¤šåªèƒ½æœ‰ä¸€ä¸ªpublicç±». å…¶å®ƒç±»çš„ä¸ªæ•°ä¸é™ï¼Œå¦‚æœæºæ–‡ä»¶ æ–‡ä»¶åŒ…å«ä¸€ä¸ªpublic class å®ƒå¿…éœ€æŒ‰è¯¥ class-name å‘½å  </p>
</blockquote>
<h2 id="6-Java-ç¨‹åºè®¾è®¡"><a href="#6-Java-ç¨‹åºè®¾è®¡" class="headerlink" title="6. Java ç¨‹åºè®¾è®¡"></a>6. Java ç¨‹åºè®¾è®¡</h2><p><strong>data type</strong></p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">                                      -- æ•´æ•°ç±»å‹ (byte, short, int, long)  </span><br><span class="line">                          -- æ•°å€¼å‹ --     </span><br><span class="line">                         |            -- æµ®ç‚¹ç±»å‹ (float, double)  </span><br><span class="line">           --åŸºæœ¬æ•°æ®ç±»å‹  -- å­—ç¬¦å‹ (char)  </span><br><span class="line">          |              |  </span><br><span class="line">          |               -- å¸ƒå°”å‹ (boolean)  </span><br><span class="line">æ•°æ®ç±»å‹ --                           </span><br><span class="line">          |               -- ç±» (class)  </span><br><span class="line">          |              |  </span><br><span class="line">           --å¼•ç”¨æ•°æ®ç±»å‹  -- æ¥å£ (interface)  </span><br><span class="line">                         |  </span><br><span class="line">                          -- æ•°ç»„ (array)</span><br></pre></td></tr></table></figure>
<hr>
<blockquote>
<p>java ä¸­å®šä¹‰äº† <strong>4ç±» 8ç§</strong> åŸºæœ¬æ•°æ®ç±»å‹<br>boolean ç±»å‹åªå…è®¸å–å€¼ true / false , ä¸å¯ä»¥ç”¨ 0 æˆ– é0 æ›¿ä»£ã€‚<br>char é‡‡ç”¨ Unicode ç¼–ç  (å…¨çƒè¯­è¨€ç»Ÿä¸€ç¼–ç ), æ¯ä¸ªå­—ç¬¦å ä¸¤ä¸ªå­—èŠ‚  </p>
</blockquote>
<h2 id="7-Array-amp-Method"><a href="#7-Array-amp-Method" class="headerlink" title="7. Array &amp; Method"></a>7. Array &amp; Method</h2><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">public class Test &#123;  </span><br><span class="line">    public static void main(String[] args) &#123;  </span><br><span class="line">        Date[] days;  </span><br><span class="line">        days = new Date[3];  </span><br><span class="line">        for (int i = 0; i &lt; 3; i++) &#123;  </span><br><span class="line">            days[i] = new Date(2004, 4, i+1);  </span><br><span class="line">        &#125;</span><br><span class="line">        // </span><br><span class="line">        int[] a = &#123;1, 2, 3, 4, 5, 6, 7&#125;;  </span><br><span class="line">        for (int i = 0; i &lt; a.length; i++) &#123;  </span><br><span class="line">            System.out.print(a[i] + &quot; &quot;);  </span><br><span class="line">        &#125;  </span><br><span class="line">    &#125;  </span><br><span class="line">&#125;  </span><br><span class="line">class Date &#123;  </span><br><span class="line">    int year;  </span><br><span class="line">    int month;  </span><br><span class="line">    int day;  </span><br><span class="line">    Date(int y, int m, int d) &#123;  </span><br><span class="line">        year = y;  </span><br><span class="line">        month = m;  </span><br><span class="line">        day = d;  </span><br><span class="line">    &#125;  </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><a href="http://blog.csdn.net/robbyo/article/details/16942921" target="_blank" rel="external">é¢å‘è¿‡ç¨‹-çº¦ç‘Ÿå¤«ç¯</a></p>
<p><a href="http://blog.csdn.net/robbyo/article/details/16967715" target="_blank" rel="external">é¢å‘å¯¹è±¡-çº¦ç‘Ÿå¤«ç¯</a></p>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[Java SE Learning Notes for All]]></title>
      <url>http://iequa.com/2013/02/02/java-se-2.5-notes-array/</url>
      <content type="html"><![CDATA[<p>è¿™ç¯‡ä¸»è¦æ˜¯è®°å½•äº†æˆ‘å­¦ä¹  Java SE çš„æ¦‚è¦ç¬”è®°: <code>æ‰‹ä¸­æ— å‰‘</code>, <code>å¿ƒä¸­æœ‰å‰‘</code>, <code>æ‘˜èŠ±é£å¶å¯ä»¥ä¼¤äºº</code>.</p>
<a id="more"></a>
<h2 id="1-ç¯å¢ƒé…ç½®"><a href="#1-ç¯å¢ƒé…ç½®" class="headerlink" title="1. ç¯å¢ƒé…ç½®"></a>1. ç¯å¢ƒé…ç½®</h2><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment">### JAVA ###</span></span><br><span class="line">JAVA_HOME=/Library/Java/JavaVirtualMachines/jdk/Contents/Home</span><br><span class="line">JAVA_BIN=<span class="variable">$JAVA_HOME</span>/bin</span><br><span class="line">PATH=<span class="variable">$JAVA_HOME</span>/bin:<span class="variable">$PATH</span></span><br><span class="line">CLASSPATH=.:<span class="variable">$JAVA_HOME</span>/jre/lib/rt.jar:<span class="variable">$JAVA_HOME</span>/jre/lib/dt.jar:<span class="variable">$JAVA_HOME</span>/jre/lib/tools.jar</span><br><span class="line"><span class="built_in">export</span> JAVA_HOME JAVA_BIN PATH CLASSPATH</span><br></pre></td></tr></table></figure>
<h2 id="2-åŸºç¡€"><a href="#2-åŸºç¡€" class="headerlink" title="2. åŸºç¡€"></a>2. åŸºç¡€</h2><p>åˆ†æè®¾è®¡ ï¼š  </p>
<pre><code>1. è¿™ä¸ªä¸œè¥¿æœ‰ å“ªäº›ç±»  
2. ç±»çš„ å±æ€§å’Œæ–¹æ³•  
3. ç±»ä¸ç±»ä¹‹é—´çš„å…³ç³»  
4. å®ç°  
</code></pre><h2 id="3-é¢å‘å¯¹è±¡"><a href="#3-é¢å‘å¯¹è±¡" class="headerlink" title="3. é¢å‘å¯¹è±¡"></a>3. é¢å‘å¯¹è±¡</h2><ul>
<li>å®šä¹‰ç±»  ç”Ÿæˆå¯¹è±¡ </li>
<li>å®šä¹‰æ–¹æ³•  è¢«è°ƒç”¨  </li>
</ul>
<h3 id="3-1-static"><a href="#3-1-static" class="headerlink" title="3.1 static"></a>3.1 static</h3><p><code>static var</code> çŸ¥é“äº†å†…å­˜ï¼Œä½ å°±çŸ¥é“äº†ä¸€åˆ‡.  </p>
<ul>
<li>å±€éƒ¨å˜é‡ åˆ†é…åœ¨ <strong>stack</strong> memory</li>
<li>æˆå‘˜å˜é‡ åˆ†é…åœ¨ <strong>heap</strong> memory</li>
</ul>
<p><code>static var</code> ä¸ºç±»å¯¹è±¡å…±äº«çš„å˜é‡ åœ¨æ•°æ®åŒº  </p>
<ul>
<li>éé™æ€å˜é‡ ä¸“å±äºæŸä¸€ä¸ªå¯¹è±¡  </li>
<li>é™æ€æ–¹æ³•ä¸å†æ˜¯é’ˆå¯¹æŸä¸€ä¸ªå¯¹è±¡è¿›è¡Œè°ƒç”¨, æ‰€ä»¥ä¸èƒ½è®¿é—®éé™æ€æˆå‘˜ã€‚  </li>
</ul>
<h3 id="3-2-package"><a href="#3-2-package" class="headerlink" title="3.2 package"></a>3.2 package</h3><p>åŒ…åèµ·åæ–¹æ³• ï¼š å…¬å¸åŸŸåå€’è¿‡æ¥.</p>
<ul>
<li>å¿…é¡»ä¿è¯è¯¥ç±» class æ–‡ä»¶ä½äºæ­£ç¡®çš„ç›®å½•ä¸‹.  </li>
<li>å¿…é¡»classæ–‡ä»¶çš„æœ€ä¸Šå±‚åŒ…çš„çˆ¶ç›®å½•ä½äºclasspathä¸‹.  </li>
<li>æ‰§è¡Œä¸€ä¸ªç±»éœ€è¦å†™å…¨åŒ…å.  </li>
</ul>
<p><strong>SDK ä¸»è¦çš„åŒ…ä»‹ç»</strong>  </p>
<pre><code>* java.lang - åŒ…å«ä¸€äº› java è¯­è¨€çš„æ ¸å¿ƒç±»ï¼Œ å¦‚ : String, Math, Integer, System, Thread.  
* java.net  - åŒ…å«æ‰§è¡Œä¸ç½‘ç»œç›¸å…³çš„æ“ä½œçš„ç±»  
* java.io   - åŒ…å«èƒ½æä¾›å¤šç§è¾“å…¥/è¾“å‡ºåŠŸèƒ½çš„ç±»  
* java.util - åŒ…å«ä¸€äº›å®ç”¨å·¥å…·ç±».  
</code></pre><h3 id="3-3-ç±»çš„ç»§æ‰¿ä¸æƒé™æ§åˆ¶"><a href="#3-3-ç±»çš„ç»§æ‰¿ä¸æƒé™æ§åˆ¶" class="headerlink" title="3.3 ç±»çš„ç»§æ‰¿ä¸æƒé™æ§åˆ¶"></a>3.3 ç±»çš„ç»§æ‰¿ä¸æƒé™æ§åˆ¶</h3><pre><code>* ä¿®é¥°ç¬¦      ç±»å†…éƒ¨     åŒä¸€åŒ…å†…      å­ç±»     ä»»ä½•åœ°æ–¹  
* private      Yes  
* default      Yes      Yes  
* protected    Yes      Yes         Yes  
* public       Yes      Yes         Yes       Yes    
</code></pre><blockquote>
<p>åˆ†æå†…å­˜ : å­ç±»å¯¹è±¡åŒ…å«ä¸€ä¸ªçˆ¶ç±»å¯¹è±¡.<br>é‡å†™æ–¹æ³•ä¸èƒ½ä½¿ç”¨æ¯”è¢«é‡å†™æ–¹æ³•æ›´ä¸¥æ ¼çš„è®¿é—®æƒé™ â€“ å…¶å®è¿™å’Œå¤šæ€æœ‰å…³  </p>
</blockquote>
<p>super å…³é”®å­—  &amp; ç»§æ‰¿ä¸­çš„æ„é€ æ–¹æ³•</p>
<pre><code>å¦‚æœè°ƒç”¨ super å¿…é¡»å†™åœ¨æ„é€ æ–¹æ³•çš„ç¬¬ä¸€è¡Œ  
å¦‚æœæ²¡è°ƒç”¨ï¼Œç³»ç»Ÿè‡ªåŠ¨è°ƒç”¨ super(), å¦‚æœæ²¡è°ƒï¼Œçˆ¶ç±»ä¸­åˆæ²¡å†™å‚æ•°ä¸ºç©ºè¿™ä¸ªæ„é€ æ–¹æ³•åˆ™å‡ºé”™ã€‚  
</code></pre><ul>
<li><p>Object ç±»</p>
<pre><code>instanceof æ˜¯ä¸€ä¸ªæ“ä½œç¬¦  
equalsæ–¹æ³• J2SDK æä¾›çš„ä¸€äº›ç±» å¦‚ String , Date é‡å†™äº†Object çš„ equals() æ–¹æ³•.  
</code></pre></li>
<li><p>å¯¹è±¡è½¬å‹ casting</p>
<pre><code>* ä¸€ä¸ªåŸºç±»çš„å¼•ç”¨ç±»å‹å˜é‡å¯ä»¥æŒ‡å‘ â€œå…¶å­ç±»çš„å¯¹è±¡â€ã€‚  
* ä¸€ä¸ªåŸºç±»çš„å¼•ç”¨ä¸å¯ä»¥è®¿é—®å…¶å­ç±»æ–°å¢åŠ çš„æˆå‘˜  
* å¯ä»¥ä½¿ç”¨ å¼•ç”¨ å˜é‡ instanceof ç±»å æ¥åˆ¤æ–­è¯¥å¼•ç”¨å‹å˜é‡æ‰€&quot;æŒ‡å‘&quot;çš„å¯¹è±¡æ˜¯å¦å±äºè¯¥ç±»æˆ–è¯¥ç±»çš„å­ç±»ã€‚  
* upcasting / downcasting  

    å†…å­˜åˆ†æ - æ˜ç™½äº†å†…å­˜ä½ å°±æ˜ç™½äº†ä¸€åˆ‡ï¼  
</code></pre></li>
</ul>
<ul>
<li><p>åŠ¨æ€ç»‘å®š, æ± ç»‘å®š, å¤šæ€</p>
<pre><code>* åŠ¨æ€ç»‘å®šçš„æœºåˆ¶ æ˜¯ å®é™…ç±»å‹ new çš„æ˜¯ï¼  
* æ·±ä¸€ç‚¹ -- æ˜¯å¯¹è±¡å†…éƒ¨æœ‰ä¸€ä¸ªæŒ‡é’ˆã€‚ã€‚ã€‚ã€‚ã€‚ã€‚  
* åŠ¨æ€ç»‘å®šçš„æœºåˆ¶æ˜¯ ï¼š å®é™…ç±»å‹ï¼Œè¿˜æ˜¯å¼•ç”¨ç±»å‹ã€‚æ˜¯è°ƒç”¨å®é™…ç±»å‹ï¼Œä¸æ˜¯å¼•ç”¨ç±»å‹ã€‚  

* å®é™…åœ°å€æ‰ä¼šç»‘å®šåˆ°é‚£ä¸ªæ–¹æ³•ä¸Šã€‚ æ–¹æ³•åœ¨  code segment  
* åªæœ‰åœ¨è¿è¡ŒæœŸé—´(ä¸æ˜¯åœ¨ç¼–è¯‘æœŸé—´)ï¼Œè¿è¡Œå‡ºå¯¹è±¡æ¥ï¼Œæ‰èƒ½åˆ¤æ–­è°ƒç”¨å“ªä¸€ä¸ªã€‚ã€‚ã€‚ã€‚  
</code></pre></li>
</ul>
<blockquote>
<p>è¿™æ˜¯é¢å‘å¯¹è±¡æ ¸å¿ƒä¸­çš„æ ¸å¿ƒã€‚æ ¸å¿ƒä¸­çš„æ ¸å¿ƒ ! å¸¦æ¥çš„è«å¤§å¥½å¤„: å¯æ‰©å±•æ€§è¾¾åˆ°äº†éå¸¸éå¸¸çš„æè‡´å¥½ï¼</p>
<p>å¤šæ€æ€»ç»“:</p>
<ol>
<li>è¦æœ‰<strong>ç»§æ‰¿</strong>  </li>
<li>è¦æœ‰<strong>é‡å†™</strong>  </li>
<li>çˆ¶ç±»å¼•ç”¨æŒ‡å‘å­ç±»å¯¹è±¡  </li>
</ol>
</blockquote>
<h3 id="3-4-Abstract-class"><a href="#3-4-Abstract-class" class="headerlink" title="3.4 Abstract class"></a>3.4 Abstract class</h3><ul>
<li>abstract ä¿®é¥°classæ—¶ï¼Œè¿™ä¸ªç±»å«åšæŠ½è±¡ç±».</li>
<li>abstract ä¿®é¥°æ–¹æ³•æ—¶ï¼Œè¯¥æ–¹æ³•å«åšæŠ½è±¡æ–¹æ³•.</li>
<li>abstract class å¿…é¡»è¢«ç»§æ‰¿ï¼ŒæŠ½è±¡æ–¹æ³•å¿…é¡»è¢«é‡å†™. å«æœ‰æŠ½è±¡æ–¹æ³•çš„ç±»å¿…é¡»å£°æ˜ä¸ºæŠ½è±¡ç±».</li>
<li>abstract class ä¸èƒ½è¢«å®ä¾‹åŒ–, æŠ½è±¡æ–¹æ³•åªéœ€å£°æ˜ï¼Œè€Œä¸éœ€è¦å®ç°.</li>
</ul>
<h3 id="3-5-Final-å…³é”®å­—"><a href="#3-5-Final-å…³é”®å­—" class="headerlink" title="3.5 Final å…³é”®å­—"></a>3.5 Final å…³é”®å­—</h3><ul>
<li>final çš„å˜é‡çš„å€¼ä¸èƒ½å¤Ÿè¢«æ”¹å˜. final çš„æˆå‘˜å˜é‡ã€å±€éƒ¨å˜é‡(å½¢å‚)</li>
<li><p>final çš„æ–¹æ³•ä¸èƒ½å¤Ÿè¢«é‡å†™ï¼Œ final çš„ç±»ä¸èƒ½å¤Ÿè¢«ç»§æ‰¿.</p>
</li>
<li><p>ç³»ç»Ÿä¸­çš„ final class ä¾‹å¦‚ï¼š </p>
<pre><code>public final class String  
public final class Math  
public final class Boolean
</code></pre></li>
</ul>
<h3 id="3-6-æ¥å£-ä¸€ç§ç‰¹æ®Šçš„æŠ½è±¡ç±»"><a href="#3-6-æ¥å£-ä¸€ç§ç‰¹æ®Šçš„æŠ½è±¡ç±»" class="headerlink" title="3.6 æ¥å£: ä¸€ç§ç‰¹æ®Šçš„æŠ½è±¡ç±»"></a>3.6 æ¥å£: ä¸€ç§ç‰¹æ®Šçš„æŠ½è±¡ç±»</h3><ul>
<li>å˜é‡å…¨æ˜¯: public static final int id = 1;</li>
<li>æ–¹æ³•å…¨æ˜¯: abstract function()  </li>
</ul>
<ul>
<li>java.lang - Comparable æˆ‘çœ‹å°±åƒ cmp ä¸€æ ·ï¼(ä¸ªäººè®¤ä¸º)  <pre><code>Interface Comparable&lt;T&gt; å¯ä»¥æ‰©å±•  
</code></pre></li>
</ul>
<ul>
<li><strong>interface</strong> <strong>interface</strong> å¯ä»¥ç›¸äº’ç»§æ‰¿  </li>
<li><strong>class</strong> <strong>interface</strong> åªèƒ½æ˜¯ implement å…³ç³»  </li>
</ul>
<h2 id="ç¬¬å››ç« -å¼‚å¸¸å¤„ç†"><a href="#ç¬¬å››ç« -å¼‚å¸¸å¤„ç†" class="headerlink" title="ç¬¬å››ç«  å¼‚å¸¸å¤„ç†"></a>ç¬¬å››ç«  å¼‚å¸¸å¤„ç†</h2><ul>
<li><p>Java å¼‚å¸¸æ˜¯ Java æä¾›çš„ç”¨äºå¤„ç†ç¨‹åºä¸­é”™è¯¯çš„ä¸€ç§æœºåˆ¶ã€‚<br>java.langâ€¦.Exceptions<br>å†™ç¨‹åºæœ‰é—®é¢˜è¦æœ‰å‹å¥½ç•Œé¢<br>åŒ»ç”Ÿå¼€å•å­ {<br>  1, é¼»è…”å†…æ„Ÿè§‰å¼‚å¸¸<br>  2, ä½“æ¸©æŒç»­å‡é«˜<br>  3, åˆ†æ³Œä¹³ç™½è‰²æ¶²ä½“<br>  ç›´æ¥è¯´æ„Ÿå†’ä¸å°±å¾—äº†ä¹ˆï¼Ÿ<br>}<br>e.printStackTrace(); éå¸¸å¥½ï¼ç»™ç¨‹åºå‘˜è¯»ã€‚å †æ ˆä¿¡æ¯éƒ½æ‰“å°å‡ºæ¥ï¼  </p>
<p>java.lang.Throwable { å¼€è½¦åœ¨ä¸Šå±±èµ°ï¼Œ  </p>
<pre><code>1, Error         å±±çˆ†å‘ JVM å‡ºé—®é¢˜ã€‚  
2, Exception {   ä½ å¯ä»¥å¤„ç†çš„ -- åˆ¹è½¦åå•¦ï¼ä¿®å¥½å†èµ°ã€‚ã€‚ã€‚  
  1, ...  
  2, RuntimeException  (ç»å¸¸å‡ºï¼Œä¸ç”¨é€®) å‹è·¯é¢ä¸Šçš„å°çŸ³å­  
</code></pre><p>  }<br>ä¸€ä¸ª try å¯ä»¥è·Ÿå¤šä¸ªcatch<br>æ‰€ä»¥ { ä¸€ä¸ªèŒ¶å£¶å¯ä»¥è·Ÿå¤šä¸ªèŒ¶ç¢—ï¼Œä¸€ä¸ªç”·äººå¯ä»¥ä¸‰å¦»å››å¦¾ã€‚}<br>try {<br>  // å¯èƒ½æŠ›å‡ºå¼‚å¸¸çš„è¯­å¥<br>  è¯­å¥ä¸€ï¼›<br>  è¯­å¥äºŒï¼›<br>} catch(someEx e) {<br>  è¯­å¥ï¼›<br>  }<br>  catch() {  </p>
<pre><code>è¯­å¥  
</code></pre><p>  }<br>  finally {<br>  }<br>ä¸€ ï¼š æ‰“å¼€<br>äºŒ ï¼š å…³é—­<br>finally : ä¸€èˆ¬è¿›è¡Œèµ„æºçš„æ¸…é™¤å·¥ä½œã€‚ã€‚ã€‚ï¼  </p>
</li>
</ul>
<p>æˆ‘å¤„ç†ä¸äº†çš„äº‹æƒ… ï¼š æˆ‘äº¤ç»™ä¸Šä¸€çº§éƒ¨é—¨å»å¤„ç†ï¼<br>å½“æ—¶ catch åˆ° Ex çš„æ—¶å€™ï¼Œä½ è‡³å°‘è¦åšå‡ºä¸€ç§å¤„ç†ã€‚è¦ä¸é‚£æ˜¯å±é™©çš„ç¼–ç¨‹ä¹ æƒ¯ï¼<br>main() æŠ›å‡º å°±æ˜¯äº¤ç»™ java è¿è¡Œæ—¶ç³»ç»Ÿå•¦ï¼ å®ƒä¼šæŠŠå †æ ˆä¿¡æ¯æ‰“å‡ºæ¥ï¼  </p>
<p>ä¸€ä¸ªå›¾ ï¼š äº”ä¸ªå…³é”®å­— {<br>    try, catch, finally, throw, throws<br>}<br>ä¸€ç‚¹é—®é¢˜ {<br>    å…ˆé€®å¤§çš„ï¼Œåé€®å°çš„ï¼ŒæŠ¥é”™ã€‚<br>}<br>ä½¿ç”¨è‡ªå®šä¹‰å¼‚å¸¸  </p>
<p>ç¨‹åºä¸­å¯ä»¥ä½¿ç”¨ throw - æ–¹æ³•å throws<br>å¦‚æœthrowæŠ›å‡ºå¼‚å¸¸ä¹‹å,æ–¹æ³•å°±ç»“æŸå•¦ï¼  </p>
<p>æ³¨æ„ ï¼š é‡å†™æ–¹æ³•éœ€è¦æŠ›å‡ºä¸åŸæ–¹æ³•æ‰€æŠ›å‡ºå¼‚å¸¸ç±»å‹ä¸€è‡´å¼‚å¸¸æˆ–ä¸æŠ›å‡ºå¼‚å¸¸ã€‚  </p>
<ul>
<li>æ€»ç»“ ï¼š{  <ul>
<li>ä¸€ä¸ªå›¾  </li>
<li>äº”ä¸ªå…³é”®å­—  </li>
<li>å…ˆé€®å°çš„ï¼Œå†é€®å¤§çš„ã€‚  </li>
<li>å¼‚å¸¸ä¸é‡å†™çš„å…³ç³»<br>}  </li>
</ul>
</li>
</ul>
<h2 id="5-æ•°ç»„"><a href="#5-æ•°ç»„" class="headerlink" title="5. æ•°ç»„"></a>5. æ•°ç»„</h2><ul>
<li>å››ç»´ç©ºé—´<br>int[] a, int a[];<br>å†…å­˜åˆ†æ - çŸ¥é“äº†å†…å­˜ä½ å°±æ˜ç™½äº†ä¸€åˆ‡ï¼<br>æœ¬æ¥æ— ä¸€ç‰© ï¼š ä½•å¤„è£…æ•°ç»„ã€‚  </li>
<li>åŠ¨æ€åˆå§‹åŒ–  </li>
<li><p>é™æ€åˆå§‹åŒ– int a[] = {3, 9, 8}; å†…éƒ¨è¿‡ç¨‹å±è”½æ‰å•¦ï¼  </p>
<p>ipconfig<br>ipconfig -all  è¿™é‡Œ -all å°±æ˜¯å‘½ä»¤è¡Œå‚æ•°ã€‚  </p>
<p>åŸºç¡€ç±»å‹ä¸€èˆ¬åˆ†é…åœ¨æ ˆä¸Šé¢ï¼åŒ…è£…ç±»ï¼Œç”¨äºæŠŠåŸºç¡€ç±»å‹åŒ…è£…æˆå¯¹è±¡ï¼Œåˆ™åˆ†é…åœ¨å †ä¸Šäº†ã€‚<br>ä¾‹å¦‚ ç±» Double, Integer  </p>
<p>çº¦ç‘Ÿå¤«ç¯ - é¢å‘è¿‡ç¨‹ å’Œ é¢å‘å¯¹è±¡ å†™æ³•  </p>
<p>å¦ä¸€ä¸ªæ¯”è¾ƒç²¾å·§çš„ç®—æ³• ï¼š ç”¨æ•°ç»„æ¥æ¨¡æ‹Ÿé“¾è¡¨<br>ç®—æ³•å’Œé€»è¾‘æ€ç»´èƒ½åŠ›ä¸æ˜¯ä¸€æœä¸€å¤•èƒ½å®Œæˆçš„ã€‚<br>æ’åºç®—æ³•ç´§è·Ÿç€çš„æ˜¯ - æœç´¢ç®—æ³•  </p>
</li>
</ul>
<hr>
<p>  ä½ è¿™é‡Œæ˜¯é€šè¿‡å¯¹è±¡square1è°ƒç”¨çš„æ–¹æ³•getsquare()<br>    public static void main(String[] args){<br>        getsquare(); //è¿™é‡Œä¼šå‡ºé”™<br>    }<br>    æ˜¯çš„ã€‚å…¶å®mainå‡½æ•°å¯ä»¥ç®€å•è®¤ä¸ºè·Ÿæœ¬ç±»æ²¡ä»€ä¹ˆå…³ç³»ï¼Œåªæ˜¯è°ƒç”¨æœ¬ç±»çš„<br>    å…¶å®ƒé™æ€æ–¹æ³•æ—¶ä¸ç”¨å†™ç±»åè€Œå·²ã€‚æ‰€ä»¥ï¼Œè¦è°ƒç”¨å…¶å®ƒéé™æ€æ–¹æ³•ï¼Œéƒ½è¦<br>    å…ˆå®ä¾‹åŒ–ï¼Œå°±åƒåˆ«çš„ç±»æ¥è°ƒç”¨ä¸€æ ·ã€‚<br>â€”â€”â€“ æˆ‘æœ‰äº›æ‡‚å•¦ï¼ ä½†è¿˜æ˜¯ä¸å¤ªæ‡‚ï¼Œæˆ‘èƒ½ç†è§£å•¦ï¼ (ä¸ªäººç†è§£)â€”â€”â€“  </p>
<pre><code>äºŒç»´æ•°ç»„ ï¼š å¯ä»¥çœ‹æˆä»¥æ•°ç»„ä¸ºå…ƒç´ çš„æ•°ç»„  
* æ•°ç»„çš„æ‹·è´ {  
}  
å¤§å…¬å¸å‰¥å‰Šäººå‰¥å‰Šå¾—æœ€å‰å®³ï¼  
</code></pre><p>  æ˜ç™½å†…å­˜ä½ å°±æ˜ç™½äº†ä¸€åˆ‡ï¼ã€‚ã€‚ã€‚  </p>
<p>  æ€»ç»“ {  </p>
<pre><code>* æ•°ç»„å†…å­˜çš„å¸ƒå±€  
* å¸¸è§ç®—æ³•  
</code></pre><p>  }<br>}  </p>
<h2 id="6-å¸¸ç”¨ç±»"><a href="#6-å¸¸ç”¨ç±»" class="headerlink" title="6. å¸¸ç”¨ç±»"></a>6. å¸¸ç”¨ç±»</h2><p>æœ¬ç« å†…å®¹ {  </p>
<pre><code>* å­—ç¬¦ä¸²ç›¸å…³ç±» (String, StringBuffer)  
* åŸºæœ¬æ•°æ®ç±»å‹åŒ…è£…ç±»  
* Mathç±»  
* Fileç±»  
* æšä¸¾ç±»  

* java.lang.String ç±»ä»£è¡¨ä¸å¯å˜çš„å­—ç¬¦åºåˆ—  

    String s1 = &quot;helo&quot;;  
    String s3 = &quot;hello&quot;;  
    s1 == s3 true  
    å­—ç¬¦ä¸²å¸¸é‡ - data seg åŒº  
    data segment ç¼–è¯‘å™¨æœ‰ä¼˜åŒ–  

    å¦‚æœæ˜¯ new s1 == s3 false  
          s1.equals(s3) true  
    å­—ç¬¦ä¸²ä½ å¯ä»¥çœ‹æˆæ˜¯ä¸€ä¸ªå­—ç¬¦æ•°ç»„ï¼  

    String ç±»å¸¸ç”¨æ–¹æ³• {  
        * é™æ€é‡è½½æ–¹æ³• public static String valueOf(...)  
        * public String[] spllit(String regex)  
    }  
    String.valueOf(Object obj);  å¤šæ€çš„å­˜åœ¨  
    toString  
    java.lang.StringBuffer ä»£è¡¨å¯å˜çš„å­—ç¬¦åºåˆ—  

    * åŸºæœ¬æ•°æ®ç±»å‹åŒ…è£…ç±»  
        åŸºæœ¬æ•°æ® ï¼š æ ˆ  -&gt; åŒ…è£… --&gt; å †ä¸Šé¢  
        * åŒ…è£…ç±» {  
            * å†™ç¨‹åºè¦å¾ªåºæ¸è¿›æ–¹æ³•  
        }  
    * Math ç±» { java.lang.Math å…¶ä¸­æ–¹æ³•çš„å‚æ•°å’Œè¿”å›å€¼ç±»å‹éƒ½ä¸º double }  
    * File ç±» { java.io.File ç±»ä»£è¡¨ç³»ç»Ÿæ–‡ä»¶å (è·¯å¾„å’Œæ–‡ä»¶å)   
            File ç±»çš„å¸¸è§æ„é€ æ–¹æ³• ï¼š  
            * public File(String pathname)     
                ä»¥ pathname ä¸ºè·¯å¾„åˆ›å»º File å¯¹è±¡, å¦‚æœ pathname æ˜¯ç›¸å¯¹è·¯å¾„ï¼Œåˆ™é»˜è®¤çš„å½“å‰è·¯å¾„åœ¨ç³»ç»Ÿå±æ€§ user.dir ä¸­å­˜å‚¨  
            * public File(String parent, String child)  
            * File çš„é™æ€å±æ€§ String separator å­˜å‚¨äº†å½“å‰ç³»ç»Ÿçš„è·¯å¾„åˆ†éš”ç¬¦ã€‚  
                åŸå‹ ï¼š public static final String separator ä½†æ˜¯äº‹å®ä¸Šæ— è®ºåœ¨å“ª ä½ å†™ / éƒ½æ²¡æœ‰é—®é¢˜  

                æ³¨æ„ \ åœ¨ java é‡Œé¢æ˜¯è½¬ä¹‰å­—ç¬¦  
        }  
     * Enum - java.lang.Enum æšä¸¾ç±»å‹ {  
            1, åªèƒ½å¤Ÿå–ç‰¹å®šå€¼ä¸­çš„ä¸€ä¸ª   
            2, ä½¿ç”¨ enum å…³é”®å­—  
            3, æ˜¯ java.lang.Enum  
            4, ä¸¾ä¾‹ ï¼š TestEnum.java  
        }  
æ€»ç»“~~~ API å’Œ é‡‘åº¸çš„ä¹¦å·®ä¸å¤šï¼  
</code></pre><h2 id="7-å®¹å™¨"><a href="#7-å®¹å™¨" class="headerlink" title="7. å®¹å™¨"></a>7. å®¹å™¨</h2><pre><code>ç¬¬ä¸ƒç«  å®¹å™¨ {  
    * å®¹å™¨çš„æ¦‚å¿µ       -        æ•°ç»„æ˜¯ä¹ˆï¼Œ å½“ç„¶æ˜¯ï¼  
    * å®¹å™¨API  
    * Collection æ¥å£  
    * Iterator æ¥å£  
    * å¢å¼ºçš„ for å¾ªç¯  
    * Set æ¥å£  
    * Listæ¥å£ å’Œ Comparableæ¥å£  
    * Collections ç±»  
    * Map æ¥å£  
    * è‡ªåŠ¨æ‰“åŒ… / è§£åŒ…  
    * æ³›å‹ (JDK1.5æ–°å¢)  
    -----  
    * J2SDk æ‰€æä¾›çš„å®¹å™¨ä½äº java.util åŒ…å†…ã€‚  
    * å®¹å™¨APIçš„ç±»å›¾å¦‚ä¸‹å›¾æ‰€ç¤ºï¼š  
    --------------------------------------------------  


    1136 1136 1136   --  ä¸€ä¸ªå›¾, ä¸€ä¸ªç±», ä¸‰ä¸ªçŸ¥è¯†ç‚¹ï¼Œå…­ä¸ªæ¥å£  

           &lt;&lt;interface&gt;&gt;  
            Collection  
           /           \                        &lt;&lt;interface&gt;&gt;  
</code></pre><p> &lt;<interface>&gt;      &lt;<interface>&gt;                 ^<br>      Set                List                     |<br>       ^                  ^                       |<br>       |           <strong>___</strong>|<strong>__</strong>                 |<br>         HashSet   LinkedList    ArrayList          HashMap  </interface></interface></p>
<pre><code>1136  1136  1136  ä¸€ä¸ªå›¾, ä¸€ä¸ªç±», ä¸‰ä¸ªçŸ¥è¯†ç‚¹ï¼Œå…­ä¸ªæ¥å£  

---------------------------------------------------  


* Collection æ¥å£ -- å®šä¹‰äº†å­˜å–ä¸€ç»„å¯¹è±¡çš„æ–¹æ³•, å…¶å­æ¥å£ Set å’Œ List åˆ†åˆ«å®š  
    ä¹‰äº†å­˜å‚¨æ–¹å¼ã€‚  

    * Set ä¸­çš„æ•°æ®å¯¹è±¡æ²¡æœ‰é¡ºåºä¸”ä¸å¯ä»¥é‡å¤ã€‚  
    * Listä¸­çš„æ•°æ®å¯¹è±¡æœ‰é¡ºåºä¸”å¯ä»¥é‡å¤  

* Map æ¥å£å®šä¹‰äº†å­˜å‚¨ â€œé”® (key) -- å€¼ (value) æ˜ å°„&quot;å¯¹&quot;çš„æ–¹æ³•ã€‚  

Collection æ–¹æ³•ä¸¾ä¾‹  
    * å®¹å™¨ç±»å¯¹è±¡åœ¨è°ƒç”¨ remove, contains ç­‰æ–¹æ³•æ—¶éœ€è¦æ¯”è¾ƒå¯¹è±¡æ˜¯å¦ç›¸ç­‰  
        è¿™ä¼šæ¶‰åŠåˆ°å¯¹è±¡ç±»å‹çš„ equals æ–¹æ³•å’Œ hashCode æ–¹æ³•ï¼Œå¯¹äºè‡ªå®šä¹‰çš„  
        ç±»å‹ï¼Œéœ€è¦è¦é‡å†™ equals å’Œ hashCode æ–¹æ³•ä»¥å®ç°è‡ªå®šä¹‰çš„å¯¹è±¡ç›¸ç­‰  
        è§„åˆ™ã€‚  
        *ã€€æ³¨æ„ ï¼š ç›¸ç­‰çš„å¯¹è±¡åº”è¯¥å…·æœ‰ç›¸ç­‰çš„ hashcodes  
    * ---  
    ArrayList åº•å±‚æ˜¯ä¸€ä¸ªæ•°ç»„  
</code></pre><p>å“ˆå“ˆå“ˆå“ˆå“ˆ ï¼š è£…å…¥çš„æ˜¯å¯¹è±¡ï¼Œå› ä¸ºå¯¹è±¡åœ¨å †ä¸Šï¼Œæ ˆé‡Œé¢çš„å†…å®¹éšæ—¶å¯èƒ½è¢«æ¸…ç©ºï¼  </p>
<pre><code>    hashCode èƒ½ç›´æ¥å®šä½åˆ°é‚£ä¸ªå¯¹è±¡  

    toyreb  

    Iterator - æ¥å£æœ€å°åŒ–åŸåˆ™  
    æˆ‘è¿™å¤§ç®¡å®¶åœ¨åšæ“ä½œçš„æ—¶å€™ ï¼š è¿ä¸»äººåšä»»ä½•çš„æ“ä½œéƒ½ä¸è®©æ“ä½œå•¦ï¼å› ä¸º iterater æ‰§è¡Œäº†é”å®šï¼Œè°ä¹Ÿä¸è®©è°çœ‹ï¼  

    JDK 1.5 å¢å¼ºçš„ for å¾ªç¯  

Set {  
    HashSet, TreeSet ä¸€ä¸ªä»¥ hash è¡¨å®ç°ï¼Œ ä¸€ä¸ªä»¥ æ ‘ ç»“æ„å®ç°  
}  
List {  
    Object set(int index, Object element)  
    int indexof(Object o);  
    int lastIndexof(Object o);  
}  
</code></pre><p><em>*</em> ä¸€ä¸ªç±» {<br>    Collections  â€“ java.util.Collections æä¾›äº†ä¸€äº›é™æ€æ–¹æ³•å®ç°äº†åŸºäºListå®¹å™¨çš„ä¸€äº›å¸¸ç”¨ç®—æ³•  </p>
<pre><code>ä¾‹å¦‚ {  
    void sort(List)  
    ...  
    ...  
    ...  
}  
LinkedList -- é€†åºçš„æ—¶å€™æ•ˆç‡è¾ƒ ArrayList é«˜ï¼  

å¯¹äº ç‰¹å®šçš„ å¯¹è±¡æ€ä¹ˆç¡®å®šè°å¤§è°å°ã€‚ {  
    å¯¹è±¡é—´å¯ä»¥æ¯”è¾ƒå¤§å°  
    é€šè¿‡ æ¥å£ åªèƒ½çœ‹è§å¯¹è±¡çš„ä¸€ç‚¹ã€‘  
    Comparable æ¥å£  -- æ‰€æœ‰å¯ä»¥å®ç°æ’åºçš„ç±» éƒ½å®ç°äº† Comparable æ¥å£  
}  
public int compareTo(Object obj)  

æ³›å‹è§„å®š - åªèƒ½ä¼  â€œçŒ«â€  

vector / hashtable ä»¥å‰é—ç•™ä¸‹æ¥çš„ã€‚æ•ˆç‡ç‰¹åˆ«ä½  


Map æ¥å£ {  
    Map æ¥å£çš„å®ç°ç±»æœ‰ HashMap å’Œ TreeMap ç­‰ã€‚ {hashmap ç”¨ hashè¡¨æ¥å®ç°ï¼Œ TreeMap ç”¨äºŒå‰æ ‘æ¥å®ç°-çº¢é»‘}  
    Map ç±»ä¸­å­˜å‚¨çš„é”® - å€¼å¯¹é€šè¿‡é”®æ¥æ ‡è¯†ï¼Œæ‰€ä»¥é”®å€¼ä¸èƒ½é‡å¤ã€‚{  
        ä¸èƒ½é‡å¤ ï¼š æ˜¯equals()  
                                equals() å¤ªæ…¢ï¼Œ æ‰€ä»¥æˆ‘ä»¬ç”¨ hashCode() æ¥æ¯”è¾ƒ  
                            }  
    }  
JDK 1.5 ä¹‹å {  
    å¯ä»¥è‡ªåŠ¨æ‰“åŒ…å’Œè§£åŒ…  
</code></pre><h1 id="Auto-boxing-unboxing"><a href="#Auto-boxing-unboxing" class="headerlink" title="- Auto-boxing / unboxing"></a>- Auto-boxing / unboxing</h1><pre><code>    * åœ¨åˆé€‚çš„æ—¶æœºè‡ªåŠ¨æ‰“åŒ… , è§£åŒ…  
        * è‡ªåŠ¨å°†åŸºç¡€ç±»å‹è½¬åŒ–ä¸ºå¯¹è±¡  
        * è‡ªåŠ¨å°†å¯¹è±¡è½¬æ¢ä¸ºåŸºç¡€ç±»å‹  
    * TestMap2.java  
    }  

ç¤ºä¾‹ç»ƒä¹  {  
    TestArgsWords.java  
}  
</code></pre><p>JDK 1.5 æ³›å‹  </p>
<ul>
<li>èµ·å›  ï¼š  <ul>
<li>JDK 1.4 ä»¥å‰ç±»å‹ä¸æ˜ç¡®  <ul>
<li>è£…å…¥é›†åˆç±»å‹éƒ½è¢«å½“ä½œ Object å¯¹å¾…, ä»è€Œå¤±å»è‡ªå·±çš„å®é™…ç±»å‹ã€‚  </li>
<li>ä»é›†åˆä¸­å–å‡ºæ—¶å¾€å¾€éœ€è¦è½¬å‹, æ•ˆç‡ä½, å®¹æ˜“äº§ç”Ÿé”™è¯¯ã€‚  </li>
</ul>
</li>
</ul>
</li>
<li>è§£å†³åŠæ³• ï¼š  <ul>
<li>åœ¨å®šä¹‰é›†åˆçš„æ—¶å€™åŒæ—¶å®šä¹‰é›†åˆä¸­å¯¹è±¡çš„ç±»å‹  </li>
<li>ç¤ºä¾‹ ï¼š BasicGeneric.java  <ul>
<li>å¯ä»¥åœ¨å®šä¹‰ Collection çš„æ—¶å€™æŒ‡å®š  </li>
<li>ä¹Ÿå¯ä»¥åœ¨å¾ªç¯æ—¶ç”¨ Iterator æŒ‡å®š  </li>
</ul>
</li>
</ul>
</li>
<li><p>å¥½å¤„ ï¼š  </p>
<ul>
<li><p>å¢å¼ºç¨‹åºçš„å¯è¯»æ€§å’Œç¨³å®šæ€§  </p>
<p>ä»€ä¹ˆæ—¶å€™å¯ä»¥æŒ‡å®šè‡ªå·±çš„ç±»å‹ ï¼š ä½ çœ‹ APIï¼Œ ä»–è·Ÿä½ å°±å¯ä»¥è·Ÿ  </p>
</li>
</ul>
</li>
<li>æ€»ç»“ {<br>  1136  <ul>
<li>ä¸€ä¸ªå›¾  </li>
<li>ä¸€ä¸ªç±»  <ul>
<li>Collections  <ul>
<li>ä¸‰ä¸ªçŸ¥è¯†ç‚¹  </li>
</ul>
</li>
</ul>
</li>
<li>For  </li>
<li>Generic  </li>
<li>Auto-boxing / unboxing  <ul>
<li>å…­ä¸ªæ¥å£ {<br>1, Collection {<br>2, Set,<br>3, List<br>}<br>4, Map<br>5, Iterator<br>6, Comparable<br>}  </li>
</ul>
</li>
</ul>
</li>
</ul>
<h2 id="8-IO-æµ"><a href="#8-IO-æµ" class="headerlink" title="8. IO æµ"></a>8. IO æµ</h2><pre><code>èƒ½å¸®åŠ©ä½ å»ºç«‹æ–‡ä»¶ï¼Œä¸èƒ½å¸®ä½ å»ºç›®å½•  

è¯»åˆ°å†…å­˜åŒº -   

* è½¬æ¢æµ {  
    ä¸­æ–‡ windos ç¼–ç  JBK  
    å½“å‰ç³»ç»Ÿé»˜è®¤çš„ ç¼–ç æ˜¯ JBK  
    IOS8859_1 åŒ…å«çš„æ‰€æœ‰è¥¿æ¬§è¯­è¨€ --&gt; åæ¥æ‰æ¨å‡º UniCode (å›½é™…æ ‡å‡†åŒ–ç»„ç»‡ä¸ºäº†åŒ…å«å…¨çƒ)  
    JBK   JB2312   JB18030  ä¸œæ–¹äººè‡ªå·±çš„ç¼–ç  - å›½æ ‡ç  - å°±æ˜¯æ±‰å­—ï¼Œä½ å¯ä»¥è®¤ä¸º  
    æ—¥æ–‡ï¼ŒéŸ©æ–‡ éƒ½æœ‰è‡ªå·±çš„ç¼–ç   - å°æ¹¾æœ‰è‡ªå·±çš„ å¤§äº”ç   
    æ‹‰ä¸1ï¼Œ 2ï¼Œ 3ï¼Œ 4ï¼Œ 5. 6. 7. 8. 9 éƒ½åŒæ„å•¦ï¼åŒ…æ‹¬ä¿„ç½—æ–¯ï¼Œ ä½†æ˜¯ä¸­æ–‡è¿˜ä¸è¡Œ ---- &gt; UniCode  
    FileOutputStream() æ„é€ æ–¹æ³•è‡ªå·±å»æŸ¥  
* System.in {  
    System ç±»   --   in æ˜¯ InputStream ç±»å‹  
    public static final InputStream in   æŠ½è±¡ç±» ç±»å‹ï¼Œ  åˆæ˜¯çˆ¶ç±»å¼•ç”¨æŒ‡å‘å­ç±»å¯¹è±¡  
    InputStreamReader isr = new InputStreamReader(System.in);  
    System.in -&gt; ç®¡é“ç›´æ¥å †åˆ°é»‘çª—å£ä¸Š  
    BufferedReader br = new BufferedReader(isr);  

    wait()   
    è¿è¡Œå ï¼š ç­‰å¾…åœ¨é‚£ - é˜»å¡å¼çš„æ–¹æ³• å¾ˆå¤š   
    readLine() æœ‰ç‚¹ç‰¹æ®Š  
    å…¶å®æ˜¯ System.in æ¯”è¾ƒç‰¹æ®Š  -- æ ‡å‡†è¾“å…¥ - ç­‰å¾…ç€æ ‡å‡†è¾“å…¥ {  
        ä½ ä¸è¾“å…¥ - æˆ‘å¯ä¸å°±ç­‰ç€ä¹ˆï¼Œå½“ç„¶è¿™ä¸ªä¹Ÿå«åšåŒæ­¥æ–¹æ³•ã€‚  
        ä½ ä¸è¾“å…¥ï¼Œæˆ‘å°±ä¸èƒ½å¹²åˆ«çš„  
        åŒæ­¥å¼çš„  
    }  

* æ•°æ®æµ {  
    è¯·ä½ æŠŠ long ç±»å‹çš„æ•°ï¼Œ å†™åˆ° --&gt; æ–‡ä»¶é‡Œé¢å»  
    readUTF()  
    UTF8 æ¯”è¾ƒçœç©ºé—´  
}  
* æ‰“å°æµ {  
    System.out   
    out - public static final PrintStream  
    é»˜è®¤åœ¨æˆ‘ä»¬çš„é»‘çª—å£è¾“å‡º  
    è¯­è¨€ä»£è¡¨äººçš„æ€ç»´ - èƒ½å¤Ÿä¿ƒè¿›äººçš„æ€ç»´  
    log4J è‘—åçš„æ—¥å¿—å¼€å‘åŒ…  
}  

* Object æµ {  
    æŠŠæ•´ä¸ª Object å…¨éƒ¨å†™å…¥ç¡¬ç›˜è¢«  
    åœ¨ VC ä¸Šå«åšç³»åˆ—åŒ–  
    å­˜ç›˜ç‚¹ã€‚  
    æŒ¨ç€æ’çš„åºåˆ—åŒ–  
    å†ä¸€ç‚¹ä¸€ç‚¹è¯»å‡ºæ¥  

    Serializable æ¥å£  --- æ ‡è®°æ€§çš„æ¥å£  
    transient int k = 15;  
    ç›¸å½“äºè¿™ä¸ª k æ˜¯é€æ˜çš„ã€‚åœ¨åºåˆ—åŒ–çš„æ—¶å€™ä¸ç»™äºè€ƒè™‘ï¼Œè¯»çš„æ—¶å€™è¯»é»˜è®¤å€¼ã€‚  

    * Serializable æ¥å£  
    * Externalizable æ¥å£  extends  Serializable   
}  
</code></pre><p>}  </p>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[Trie Tree POJ 2001]]></title>
      <url>http://iequa.com/2013/01/17/acm-Trie_Tree-POJ-2001/</url>
      <content type="html"><![CDATA[<p>trie tree poj 2001 shortest prefixes</p>
<a id="more"></a>
<h2 id="POJ-2001-Shortest-Prefixes"><a href="#POJ-2001-Shortest-Prefixes" class="headerlink" title="POJ 2001 Shortest Prefixes"></a><a href="http://poj.org/problem?id=2001" target="_blank" rel="external">POJ 2001 Shortest Prefixes</a></h2><figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span>  </span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;string&gt;</span>  </span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstring&gt;</span>  </span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstdlib&gt;</span>  </span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstdio&gt;</span>  </span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cmath&gt;</span>  </span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;vector&gt;</span>  </span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stack&gt;</span>  </span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;deque&gt;</span>  </span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;queue&gt;</span>  </span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;bitset&gt;</span>  </span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;list&gt;</span>  </span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;map&gt;</span>  </span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;set&gt;</span>  </span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iterator&gt;</span>  </span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;algorithm&gt;</span>  </span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;functional&gt;</span>  </span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;utility&gt;</span>  </span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;sstream&gt;</span>  </span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;climits&gt;</span>  </span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cassert&gt;</span>  </span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> BUG puts(<span class="string">"here!!!"</span>);  </span></span><br><span class="line">  </span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;  </span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> N = <span class="number">1010</span>;  </span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> kind = <span class="number">26</span>;  </span><br><span class="line"><span class="keyword">char</span> str[N][<span class="number">25</span>];  </span><br><span class="line"><span class="keyword">struct</span> Node &#123;  </span><br><span class="line">    <span class="keyword">int</span> num;  </span><br><span class="line">    <span class="keyword">bool</span> tail;  </span><br><span class="line">    Node* next[kind];  </span><br><span class="line">    Node() : num(<span class="number">1</span>), tail(<span class="literal">false</span>) &#123;  </span><br><span class="line">        <span class="built_in">memset</span>(next, <span class="number">0</span>, <span class="keyword">sizeof</span>(next));  </span><br><span class="line">    &#125;  </span><br><span class="line">&#125;;  </span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">insert</span><span class="params">(Node* root, <span class="keyword">char</span> *s)</span> </span>&#123;  </span><br><span class="line">    Node* p = root;  </span><br><span class="line">    <span class="keyword">int</span> i = <span class="number">0</span>, index;  </span><br><span class="line">    <span class="keyword">while</span>(s[i]) &#123;  </span><br><span class="line">        index = s[i] - <span class="string">'a'</span>;  </span><br><span class="line">        <span class="keyword">if</span>(p-&gt;next[index] == <span class="literal">NULL</span>) &#123;  </span><br><span class="line">            p-&gt;next[index] = <span class="keyword">new</span> Node();  </span><br><span class="line">        &#125;  </span><br><span class="line">        <span class="keyword">else</span> p-&gt;next[index]-&gt;num++;  </span><br><span class="line">        p = p-&gt;next[index];  </span><br><span class="line">        i++;  </span><br><span class="line">    &#125;  </span><br><span class="line">    p-&gt;tail = <span class="literal">true</span>;  </span><br><span class="line">&#125;  </span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">solve</span><span class="params">(Node* root, <span class="keyword">int</span> count)</span> </span>&#123;  </span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; count; i++) &#123;  </span><br><span class="line">        Node* p = root;  </span><br><span class="line">        <span class="keyword">int</span> len = <span class="built_in">strlen</span>(str[i]);  </span><br><span class="line">        <span class="keyword">char</span>* s = str[i];  </span><br><span class="line">        <span class="built_in">cout</span> &lt;&lt; s &lt;&lt; <span class="string">' '</span>;  </span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; len; j++) &#123;  </span><br><span class="line">            <span class="built_in">cout</span> &lt;&lt; s[j];  </span><br><span class="line">            <span class="keyword">int</span> index = s[j] - <span class="string">'a'</span>;  </span><br><span class="line">            <span class="keyword">if</span>(p-&gt;next[index]-&gt;num == <span class="number">1</span>) &#123;  </span><br><span class="line">                <span class="keyword">break</span>;  </span><br><span class="line">            &#125;  </span><br><span class="line">            p = p-&gt;next[index];  </span><br><span class="line">        &#125;  </span><br><span class="line">        <span class="built_in">cout</span> &lt;&lt; <span class="built_in">endl</span>;  </span><br><span class="line">    &#125;  </span><br><span class="line">&#125;  </span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;  </span><br><span class="line">    Node* root = <span class="keyword">new</span> Node(); <span class="comment">// æ ¹èŠ‚ç‚¹ä¸åŒ…å«ä»»ä½•å­—ç¬¦  </span></span><br><span class="line">    <span class="keyword">int</span> i = <span class="number">0</span>, count = <span class="number">0</span>;  </span><br><span class="line">    <span class="keyword">while</span>(<span class="built_in">scanf</span>(<span class="string">"%s"</span>, str[i]) == <span class="number">1</span>) &#123;  </span><br><span class="line">        insert(root, str[i]);  </span><br><span class="line">        i++;  </span><br><span class="line">    &#125;  </span><br><span class="line">    count = i;  </span><br><span class="line">    solve(root, count);  </span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;  </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[Union-Find Sets POJ 1703]]></title>
      <url>http://iequa.com/2013/01/17/acm-union-find_sets-POJ-1703/</url>
      <content type="html"><![CDATA[<p>union-find sets poj 1703 find them, catch them å¸®æ´¾ä¹‹äº‰</p>
<a id="more"></a>
<h2 id="Find-them-Catch-them"><a href="#Find-them-Catch-them" class="headerlink" title="Find them, Catch them"></a><a href="http://poj.org/problem?id=1703" target="_blank" rel="external">Find them, Catch them</a></h2><h3 id="Sample-Input"><a href="#Sample-Input" class="headerlink" title="Sample Input"></a>Sample Input</h3><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">1</span><br><span class="line">5 5</span><br><span class="line">A 1 2</span><br><span class="line">D 1 2</span><br><span class="line">A 1 2</span><br><span class="line">D 2 4</span><br><span class="line">A 1 4</span><br></pre></td></tr></table></figure>
<h3 id="Sample-Output"><a href="#Sample-Output" class="headerlink" title="Sample Output"></a>Sample Output</h3><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">Not sure yet.</span><br><span class="line">In different gangs.</span><br><span class="line">In the same gang.</span><br></pre></td></tr></table></figure>
<h3 id="Code"><a href="#Code" class="headerlink" title="Code"></a>Code</h3><figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span>  </span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;string&gt;</span>  </span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstring&gt;</span>  </span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstdlib&gt;</span>  </span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstdio&gt;</span>  </span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cmath&gt;</span>  </span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;vector&gt;</span>  </span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stack&gt;</span>  </span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;deque&gt;</span>  </span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;queue&gt;</span>  </span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;bitset&gt;</span>  </span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;list&gt;</span>  </span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;map&gt;</span>  </span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;set&gt;</span>  </span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iterator&gt;</span>  </span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;algorithm&gt;</span>  </span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;functional&gt;</span>  </span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;utility&gt;</span>  </span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;sstream&gt;</span>  </span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;climits&gt;</span>  </span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cassert&gt;</span>  </span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> MID(x,y) ( ( x + y ) &gt;&gt; 1 )  </span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> L(x) ( x &lt;&lt; 1 )  </span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> R(x) ( x &lt;&lt; 1 | 1 )  </span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> BUG puts(<span class="string">"here!!!"</span>);  </span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> STOP system(<span class="string">"pause"</span>);  </span></span><br><span class="line">  </span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;  </span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> N = <span class="number">100005</span>;  </span><br><span class="line"><span class="keyword">int</span> f[N+N];  </span><br><span class="line"><span class="keyword">int</span> n, m;  </span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">find</span><span class="params">(<span class="keyword">int</span> x)</span> </span>&#123;  </span><br><span class="line">    <span class="keyword">if</span>(f[x] &lt; <span class="number">0</span>) <span class="keyword">return</span> x;  </span><br><span class="line">    <span class="keyword">return</span> f[x] = find(f[x]);  </span><br><span class="line">&#125;  </span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;  </span><br><span class="line">    <span class="keyword">int</span> loop;  </span><br><span class="line">    <span class="built_in">cin</span> &gt;&gt; loop;  </span><br><span class="line">    <span class="keyword">while</span>(loop--) &#123;  </span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">"%d%d"</span>, &amp;n, &amp;m);  </span><br><span class="line">        <span class="built_in">memset</span>(f, <span class="number">255</span>, <span class="keyword">sizeof</span>(f));  </span><br><span class="line">        <span class="keyword">while</span>(m--) &#123;  </span><br><span class="line">            <span class="keyword">int</span> a, b;  </span><br><span class="line">            <span class="keyword">char</span> s[<span class="number">3</span>];  </span><br><span class="line">            <span class="built_in">scanf</span>(<span class="string">"%s%d%d"</span>, s, &amp;a, &amp;b);  </span><br><span class="line">            <span class="keyword">if</span>(s[<span class="number">0</span>] == <span class="string">'A'</span>) &#123;  </span><br><span class="line">                <span class="keyword">if</span>(find(a) != find(b) &amp;&amp; find(a) != find(b+n)) &#123;  </span><br><span class="line">                    <span class="built_in">printf</span>(<span class="string">"Not sure yet.\n"</span>);  </span><br><span class="line">                &#125;  </span><br><span class="line">                <span class="keyword">else</span> <span class="keyword">if</span>(find(a) == find(b)) &#123;  </span><br><span class="line">                    <span class="built_in">printf</span>(<span class="string">"In the same gang.\n"</span>);  </span><br><span class="line">                &#125;  </span><br><span class="line">                <span class="keyword">else</span> <span class="built_in">printf</span>(<span class="string">"In different gangs.\n"</span>);  </span><br><span class="line">            &#125;  </span><br><span class="line">            <span class="keyword">else</span> &#123;  </span><br><span class="line">                <span class="keyword">if</span>(find(a) != find(b+n)) &#123;  </span><br><span class="line">                    f[find(a)] = find(b+n);  </span><br><span class="line">                    f[find(b)] = find(a+n);  </span><br><span class="line">                &#125;  </span><br><span class="line">            &#125;  </span><br><span class="line">        &#125;  </span><br><span class="line">    &#125;  </span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;  </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[Union-Find Sets HDU 1856]]></title>
      <url>http://iequa.com/2013/01/17/acm-union-find_sets-hdu_1856/</url>
      <content type="html"><![CDATA[<p>union-find sets hdu 1856 more is better</p>
<a id="more"></a>
<p><strong><a href="http://acm.hdu.edu.cn/showproblem.php?pid=1856" target="_blank" rel="external">More is better</a></strong></p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">Mr Wang wants some boys to help him with a project. ...</span><br></pre></td></tr></table></figure>
<p><strong><font color="#2561c2">Sample Input</font></strong></p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">4</span><br><span class="line">1 2</span><br><span class="line">3 4</span><br><span class="line">5 6</span><br><span class="line">1 6</span><br><span class="line">4</span><br><span class="line">1 2</span><br><span class="line">3 4</span><br><span class="line">5 6</span><br><span class="line">7 8</span><br></pre></td></tr></table></figure>
<p><strong><font color="#2561c2">Sample Output</font></strong></p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">4</span><br><span class="line">2</span><br></pre></td></tr></table></figure>
<p><strong><font color="#2561c2">Code</font></strong></p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span>  </span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;string&gt;</span>  </span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstring&gt;</span>  </span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstdlib&gt;</span>  </span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstdio&gt;</span>  </span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cmath&gt;</span>  </span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;vector&gt;</span>  </span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stack&gt;</span>  </span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;deque&gt;</span>  </span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;queue&gt;</span>  </span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;bitset&gt;</span>  </span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;list&gt;</span>  </span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;map&gt;</span>  </span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;set&gt;</span>  </span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iterator&gt;</span>  </span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;algorithm&gt;</span>  </span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;functional&gt;</span>  </span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;utility&gt;</span>  </span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;sstream&gt;</span>  </span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;climits&gt;</span>  </span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cassert&gt;</span>  </span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> BUG puts(<span class="string">"here!!!"</span>);  </span></span><br><span class="line">  </span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;  </span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> N = <span class="number">100005</span>;  </span><br><span class="line"><span class="keyword">struct</span> Node &#123;  </span><br><span class="line">    <span class="keyword">int</span> par;  </span><br><span class="line">    <span class="keyword">int</span> sum;  </span><br><span class="line">&#125;;  </span><br><span class="line"><span class="keyword">int</span> SUM;  </span><br><span class="line">  </span><br><span class="line">Node p[<span class="number">2</span>*N + <span class="number">5</span>];  </span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">makeSet</span><span class="params">(<span class="keyword">int</span> n)</span> </span>&#123;  </span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt;= <span class="number">2</span>*n; i++) &#123;  </span><br><span class="line">        p[i].par = i;  </span><br><span class="line">        p[i].sum = <span class="number">1</span>;  </span><br><span class="line">    &#125;  </span><br><span class="line">    SUM = <span class="number">1</span>;  </span><br><span class="line">&#125;  </span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">find</span><span class="params">(<span class="keyword">int</span> a)</span> </span>&#123;  </span><br><span class="line">    <span class="keyword">if</span>(a == p[a].par) <span class="keyword">return</span> a;  </span><br><span class="line">    <span class="keyword">return</span> p[a].par = find(p[a].par);  </span><br><span class="line">&#125;  </span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">union1</span><span class="params">(<span class="keyword">int</span> a, <span class="keyword">int</span> b)</span> </span>&#123;  </span><br><span class="line">    <span class="keyword">int</span> fa = find(a);  </span><br><span class="line">    <span class="keyword">int</span> fb = find(b);  </span><br><span class="line">    <span class="keyword">if</span>(fa != fb) &#123;  </span><br><span class="line">        p[fa].par = fb;  </span><br><span class="line">        p[fb].sum += p[fa].sum;  </span><br><span class="line">    &#125;  </span><br><span class="line">    <span class="keyword">if</span>(p[fb].sum &gt; SUM) &#123;  </span><br><span class="line">        SUM = p[fb].sum;  </span><br><span class="line">    &#125;  </span><br><span class="line">&#125;  </span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;  </span><br><span class="line">    <span class="keyword">int</span> n, a, b;  </span><br><span class="line">    <span class="keyword">while</span>(<span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;n) == <span class="number">1</span>) &#123;  </span><br><span class="line">        makeSet(n);  </span><br><span class="line">        <span class="keyword">while</span>(n--) &#123;  </span><br><span class="line">            <span class="built_in">scanf</span>(<span class="string">"%d%d"</span>, &amp;a, &amp;b);  </span><br><span class="line">            union1(a, b);  </span><br><span class="line">        &#125;  </span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"%d\n"</span>, SUM);  </span><br><span class="line">    &#125;  </span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;  </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[KMP / HDU 1711 æ‰¾åˆ°åŒ¹é…çš„ä½ç½®å¹¶è¿”å›]]></title>
      <url>http://iequa.com/2013/01/17/acm-kmp-for-hdu_1711/</url>
      <content type="html"><![CDATA[<p>kmp hdu 1711 number sequence</p>
<a id="more"></a>
<h3 id="Description"><a href="#Description" class="headerlink" title="Description"></a><font color="#2561c2">Description</font></h3><p>Given two sequences of numbers : a[1], a[2], â€¦â€¦ , a[N], and b[1], b[2], â€¦â€¦ , b[M] (1 &lt;= M &lt;= 10000, 1 &lt;= N &lt;= 1000000). Your task is to find a number K which make a[K] = b[1], a[K + 1] = b[2], â€¦â€¦ , a[K + M â€“ 1] = b[M]. If there are more than one K exist, output the smallest one.</p>
<h3 id="Input"><a href="#Input" class="headerlink" title="Input"></a><font color="#2561c2">Input</font></h3><p>The first line of input is a number T which indicate the number of cases. Each case contains three lines. The first line is two numbers N and M (1 &lt;= M &lt;= 10000, 1 &lt;= N &lt;= 1000000). The second line contains N integers which indicate a[1], a[2], â€¦â€¦ , a[N]. The third line contains M integers which indicate b[1], b[2], â€¦â€¦ , b[M]. All integers are in the range of [-1000000, 1000000].</p>
<h3 id="Output"><a href="#Output" class="headerlink" title="Output"></a><font color="#2561c2">Output</font></h3><p>For each test case, you should output one line which only contain K described above. If no such K exists, output -1 instead.</p>
<h3 id="Sample-Input"><a href="#Sample-Input" class="headerlink" title="Sample Input"></a><font color="#2561c2">Sample Input</font></h3><p>2<br>13 5<br>1 2 1 2 3 1 2 3 1 3 2 1 2<br>1 2 3 1 3<br>13 5<br>1 2 1 2 3 1 2 3 1 3 2 1 2<br>1 2 3 2 1</p>
<h3 id="Sample-Output"><a href="#Sample-Output" class="headerlink" title="Sample Output"></a><font color="#2561c2">Sample Output</font></h3><p>6<br>-1</p>
<h3 id="Code"><a href="#Code" class="headerlink" title="Code"></a><font color="#2561c2">Code</font></h3><figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span>  </span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;string&gt;</span>  </span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstring&gt;</span>  </span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstdlib&gt;</span>  </span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstdio&gt;</span>  </span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cmath&gt;</span>  </span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;vector&gt;</span>  </span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stack&gt;</span>  </span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;deque&gt;</span>  </span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;queue&gt;</span>  </span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;bitset&gt;</span>  </span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;list&gt;</span>  </span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;map&gt;</span>  </span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;set&gt;</span>  </span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iterator&gt;</span>  </span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;algorithm&gt;</span>  </span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;functional&gt;</span>  </span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;utility&gt;</span>  </span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;sstream&gt;</span>  </span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;climits&gt;</span>  </span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cassert&gt;</span>  </span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> BUG puts(<span class="string">"here!!!"</span>);  </span></span><br><span class="line">  </span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;  </span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> N = <span class="number">1000005</span>;  </span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> M = <span class="number">10005</span>;  </span><br><span class="line">  </span><br><span class="line"><span class="keyword">int</span> s[N];  </span><br><span class="line"><span class="keyword">int</span> t[M];  </span><br><span class="line"><span class="keyword">int</span> next[M];  </span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">getNext</span><span class="params">(<span class="keyword">int</span> len)</span> </span>&#123;  </span><br><span class="line">    <span class="keyword">int</span> i, j;  </span><br><span class="line">    i = <span class="number">0</span>, j = <span class="number">-1</span>;  </span><br><span class="line">    next[<span class="number">0</span>] = <span class="number">-1</span>;  </span><br><span class="line">    <span class="keyword">while</span>(i &lt; len<span class="number">-1</span>) &#123;  </span><br><span class="line">        <span class="keyword">if</span>(j == <span class="number">-1</span> || t[i] == t[j]) &#123;  </span><br><span class="line">            i++, j++, next[i] = j;  </span><br><span class="line">        &#125;  </span><br><span class="line">        <span class="keyword">else</span> &#123;  </span><br><span class="line">            j = next[j];  </span><br><span class="line">        &#125;  </span><br><span class="line">    &#125;  </span><br><span class="line">&#125;  </span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">kmp</span><span class="params">(<span class="keyword">int</span> sl, <span class="keyword">int</span> tl)</span> </span>&#123;  </span><br><span class="line">    <span class="keyword">int</span> i = <span class="number">0</span>, j = <span class="number">0</span>;  </span><br><span class="line">    <span class="keyword">while</span>(i &lt; sl &amp;&amp; j &lt; tl) &#123;  </span><br><span class="line">        <span class="keyword">if</span>(j == <span class="number">-1</span> || s[i] == t[j]) &#123;  </span><br><span class="line">            i++, j++;  </span><br><span class="line">        &#125;  </span><br><span class="line">        <span class="keyword">else</span> j = next[j];  </span><br><span class="line">    &#125;  </span><br><span class="line">    <span class="keyword">if</span>(j == tl) <span class="keyword">return</span> i-j+<span class="number">1</span>;  </span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">return</span> <span class="number">-1</span>;  </span><br><span class="line">&#125;  </span><br><span class="line"><span class="comment">// abcabcababcabcabdef  </span></span><br><span class="line"><span class="comment">// abcabcabd  </span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;  </span><br><span class="line">    <span class="keyword">int</span> T, n, m, ans;  </span><br><span class="line">    <span class="built_in">cin</span> &gt;&gt; T;  </span><br><span class="line">    <span class="keyword">while</span>(T--) &#123;  </span><br><span class="line">        <span class="built_in">cin</span> &gt;&gt; n &gt;&gt; m;  </span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; n; i++) &#123;  </span><br><span class="line">            <span class="built_in">scanf</span>(<span class="string">"%d"</span>, s+i);  </span><br><span class="line">        &#125;  </span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; m; i++) &#123;  </span><br><span class="line">            <span class="built_in">scanf</span>(<span class="string">"%d"</span>, t+i);  </span><br><span class="line">        &#125;  </span><br><span class="line">        getNext(m);  </span><br><span class="line">        ans = kmp(n, m);  </span><br><span class="line">        <span class="built_in">cout</span> &lt;&lt; ans &lt;&lt; <span class="built_in">endl</span>;  </span><br><span class="line">    &#125;  </span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;  </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[æ°”è´¨çš„åŸ¹å…»]]></title>
      <url>http://iequa.com/2013/01/17/life-being-eq-gentleman/</url>
      <content type="html"><![CDATA[<p>åšä¸€ä¸ª æˆç†Ÿã€ç»…å£«ã€ç¨³é‡ çš„äººï¼Œæˆ‘æœ€è¿‘è¶Šæ¥è¶Šè§‰å¾—å®ƒéå¸¸éå¸¸éå¸¸é‡è¦â€¦</p>
<a id="more"></a>
<h2 id="ä¸€ï¼šæ²‰ç¨³"><a href="#ä¸€ï¼šæ²‰ç¨³" class="headerlink" title="ä¸€ï¼šæ²‰ç¨³"></a>ä¸€ï¼šæ²‰ç¨³</h2><p>ï¼ˆ1ï¼‰ä¸è¦éšä¾¿æ˜¾éœ²ä½ çš„æƒ…ç»ªã€‚<br>ï¼ˆ2ï¼‰ä¸è¦é€¢äººå°±è¯‰è¯´ä½ çš„å›°éš¾å’Œé­é‡ã€‚<br>ï¼ˆ3ï¼‰åœ¨å¾è¯¢åˆ«äººçš„æ„è§ä¹‹å‰ï¼Œè‡ªå·±å…ˆæ€è€ƒï¼Œä½†ä¸è¦å…ˆè®²ã€‚<br>ï¼ˆ4ï¼‰ä¸è¦ä¸€æœ‰æœºä¼šå°±å” å¨ä½ çš„ä¸æ»¡ã€‚<br>ï¼ˆ5ï¼‰é‡è¦çš„å†³å®šå°½é‡æœ‰åˆ«äººå•†é‡ï¼Œæœ€å¥½éš”ä¸€å¤©å†å‘å¸ƒã€‚<br>ï¼ˆ6ï¼‰è®²è¯ä¸è¦æœ‰ä»»ä½•çš„æ…Œå¼ ï¼Œèµ°è·¯ä¹Ÿæ˜¯ã€‚  </p>
<h2 id="äºŒï¼šç»†å¿ƒ"><a href="#äºŒï¼šç»†å¿ƒ" class="headerlink" title="äºŒï¼šç»†å¿ƒ"></a>äºŒï¼šç»†å¿ƒ</h2><p>ï¼ˆ1ï¼‰å¯¹èº«è¾¹å‘ç”Ÿçš„äº‹æƒ…ï¼Œå¸¸æ€è€ƒå®ƒä»¬çš„å› æœå…³ç³»ã€‚<br>ï¼ˆ2ï¼‰å¯¹åšä¸åˆ°ä½çš„æ‰§è¡Œé—®é¢˜ï¼Œè¦å‘æ˜å®ƒä»¬çš„æ ¹æœ¬ç—‡ç»“ã€‚<br>ï¼ˆ3ï¼‰å¯¹ä¹ ä»¥ä¸ºå¸¸çš„åšäº‹æ–¹æ³•ï¼Œè¦æœ‰æ”¹è¿›æˆ–ä¼˜åŒ–çš„å»ºè®®ã€‚<br>ï¼ˆ4ï¼‰åšä»€ä¹ˆäº‹æƒ…éƒ½è¦å…»æˆæœ‰æ¡ä¸ç´Šå’Œäº•ç„¶æœ‰åºçš„ä¹ æƒ¯ã€‚<br>ï¼ˆ5ï¼‰ç»å¸¸å»æ‰¾å‡ ä¸ªåˆ«äººçœ‹ä¸å‡ºæ¥çš„æ¯›ç—…æˆ–å¼Šç«¯ã€‚<br>ï¼ˆ6ï¼‰è‡ªå·±è¦éšæ—¶éšåœ°å¯¹æœ‰æ‰€ä¸è¶³çš„åœ°æ–¹è¡¥ä½ã€‚   </p>
<h2 id="ä¸‰ï¼šèƒ†è¯†"><a href="#ä¸‰ï¼šèƒ†è¯†" class="headerlink" title="ä¸‰ï¼šèƒ†è¯†"></a>ä¸‰ï¼šèƒ†è¯†</h2><p>ï¼ˆ1ï¼‰ä¸è¦å¸¸ç”¨ç¼ºä¹è‡ªä¿¡çš„è¯å¥<br>ï¼ˆ2ï¼‰ä¸è¦å¸¸å¸¸åæ‚”ï¼Œè½»æ˜“æ¨ç¿»å·²ç»å†³å®šçš„äº‹ã€‚<br>ï¼ˆ3ï¼‰åœ¨ä¼—äººäº‰æ‰§ä¸ä¼‘æ—¶ï¼Œä¸è¦æ²¡æœ‰ä¸»è§ã€‚<br>ï¼ˆ4ï¼‰æ•´ä½“æ°›å›´ä½è½æ—¶ï¼Œä½ è¦ä¹è§‚ã€é˜³å…‰ã€‚<br>ï¼ˆ5ï¼‰åšä»»ä½•äº‹æƒ…éƒ½è¦ç”¨å¿ƒï¼Œå› ä¸ºæœ‰äººåœ¨çœ‹ç€ä½ ã€‚<br>ï¼ˆ6ï¼‰äº‹æƒ…ä¸é¡ºçš„æ—¶å€™ï¼Œæ­‡å£æ°”ï¼Œé‡æ–°å¯»æ‰¾çªç ´å£ï¼Œå°±ç»“æŸä¹Ÿè¦å¹²å‡€åˆ©è½ã€‚   </p>
<h2 id="å››ï¼šå¤§åº¦"><a href="#å››ï¼šå¤§åº¦" class="headerlink" title="å››ï¼šå¤§åº¦"></a>å››ï¼šå¤§åº¦</h2><p>ï¼ˆ1ï¼‰ä¸è¦åˆ»æ„æŠŠæœ‰å¯èƒ½æ˜¯ä¼™ä¼´çš„äººå˜æˆå¯¹æ‰‹ã€‚<br>ï¼ˆ2ï¼‰å¯¹åˆ«äººçš„å°è¿‡å¤±ã€å°é”™è¯¯ä¸è¦æ–¤æ–¤è®¡è¾ƒã€‚<br>ï¼ˆ3ï¼‰åœ¨é‡‘é’±ä¸Šè¦å¤§æ–¹ï¼Œå­¦ä¹ ä¸‰æ–½ï¼ˆè´¢æ–½ã€æ³•æ–½ã€æ— ç•æ–½ï¼‰<br>ï¼ˆ4ï¼‰ä¸è¦æœ‰æƒåŠ›çš„å‚²æ…¢å’ŒçŸ¥è¯†çš„åè§ã€‚<br>ï¼ˆ5ï¼‰ä»»ä½•æˆæœå’Œæˆå°±éƒ½åº”å’Œåˆ«äººåˆ†äº«ã€‚<br>ï¼ˆ6ï¼‰å¿…é¡»æœ‰äººç‰ºç‰²æˆ–å¥‰çŒ®çš„æ—¶å€™ï¼Œè‡ªå·±èµ°åœ¨å‰é¢ã€‚  </p>
<h2 id="äº”ï¼šè¯šä¿¡"><a href="#äº”ï¼šè¯šä¿¡" class="headerlink" title="äº”ï¼šè¯šä¿¡"></a>äº”ï¼šè¯šä¿¡</h2><p>ï¼ˆ1ï¼‰åšä¸åˆ°çš„äº‹æƒ…ä¸è¦è¯´ï¼Œè¯´äº†å°±åŠªåŠ›åšåˆ°ã€‚<br>ï¼ˆ2ï¼‰è™šçš„å£å·æˆ–æ ‡è¯­ä¸è¦å¸¸æŒ‚å˜´ä¸Šã€‚<br>ï¼ˆ3ï¼‰é’ˆå¯¹å®¢æˆ·æå‡ºçš„â€œä¸è¯šä¿¡â€é—®é¢˜ï¼Œæ‹¿å‡ºæ”¹å–„çš„æ–¹æ³•ã€‚<br>ï¼ˆ4ï¼‰åœæ­¢ä¸€åˆ‡â€œä¸é“å¾·â€çš„æ‰‹æ®µã€‚<br>ï¼ˆ5ï¼‰è€å¼„å°èªæ˜ï¼Œè¦ä¸å¾—ï¼<br>ï¼ˆ6ï¼‰è®¡ç®—ä¸€ä¸‹äº§å“æˆ–æœåŠ¡çš„è¯šä¿¡ä»£ä»·ï¼Œé‚£å°±æ˜¯å“ç‰Œæˆæœ¬ã€‚   </p>
<h2 id="å…­ï¼šæ‹…å½“"><a href="#å…­ï¼šæ‹…å½“" class="headerlink" title="å…­ï¼šæ‹…å½“"></a>å…­ï¼šæ‹…å½“</h2><p>ï¼ˆ1ï¼‰æ£€è®¨ä»»ä½•è¿‡å¤±çš„æ—¶å€™ï¼Œå…ˆä»è‡ªèº«æˆ–è‡ªå·±äººå¼€å§‹åçœã€‚<br>ï¼ˆ2ï¼‰äº‹é¡¹ç»“æŸåï¼Œå…ˆå®¡æŸ¥è¿‡é”™ï¼Œå†åˆ—è¿°åŠŸåŠ³ã€‚<br>ï¼ˆ3ï¼‰è®¤é”™ä»ä¸Šçº§å¼€å§‹ï¼Œè¡¨åŠŸä»ä¸‹çº§å¯åŠ¨.<br>ï¼ˆ4ï¼‰ç€æ‰‹ä¸€ä¸ªè®¡åˆ’ï¼Œå…ˆå°†æƒè´£ç•Œå®šæ¸…æ¥šï¼Œè€Œä¸”åˆ†é…å¾—å½“ã€‚<br>ï¼ˆ5ï¼‰å¯¹â€œæ€•äº‹â€çš„äººæˆ–ç»„ç»‡è¦æŒ‘æ˜äº†è¯´ã€‚<br>ï¼ˆ6ï¼‰å› ä¸ºå‹‡äºæ‰¿æ‹…è´£ä»»æ‰€é€ æˆçš„æŸå¤±ï¼Œå…¬å¸åº”è¯¥æ‰¿æ‹…   </p>
<h2 id="Reference"><a href="#Reference" class="headerlink" title="Reference"></a>Reference</h2><ul>
<li><a href="http://blog.csdn.net/robbyo/article/details/8514334" target="_blank" rel="external">è½¬è‡ªç½‘ç»œ</a></li>
</ul>
]]></content>
    </entry>
    
  
  
</search>
