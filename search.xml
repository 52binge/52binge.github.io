<?xml version="1.0" encoding="utf-8"?>
<search>
  
  
    
    <entry>
      <title><![CDATA[è¯å‘é‡åˆ°word2vecä¸ç›¸å…³åº”ç”¨]]></title>
      <url>http://iequa.com/2017/07/12/nlp-word2vector/</url>
      <content type="html"><![CDATA[<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js"],
    jax: ["input/TeX"],
    tex2jax: {
      inlineMath: [ ['$','$'], ['\\(','\\)'] ],
      displayMath: [ ['$$','$$']],
      processEscapes: true
    }
  });
</script>
<script type="text/javascript" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS_HTML,http://myserver.com/MathJax/config/local/local.js">
</script>

<style>
img {
        display: block !important;
        width: 600px;
        margin-left: 100px !important;
}
</style>


<h2 id="1-NLP-å¸¸è§ä»»åŠ¡"><a href="#1-NLP-å¸¸è§ä»»åŠ¡" class="headerlink" title="1. NLP å¸¸è§ä»»åŠ¡"></a>1. NLP å¸¸è§ä»»åŠ¡</h2><ol>
<li>è‡ªåŠ¨æ‘˜è¦</li>
<li>æŒ‡ä»£æ¶ˆè§£   </li>
<li>æœºå™¨ç¿»è¯‘ </li>
<li>è¯æ€§æ ‡æ³¨   </li>
<li>åˆ†è¯ (ä¸­æ–‡ã€æ—¥æ–‡ç­‰)</li>
<li>ä¸»é¢˜è¯†åˆ«</li>
<li>æ–‡æœ¬åˆ†ç±»</li>
</ol>
<blockquote>
<p>æŒ‡ä»£æ¶ˆè§£   -&gt;   å°æ˜æ”¾å­¦äº†, å¦ˆå¦ˆå»æ¥<code>ä»–</code><br>æœºå™¨ç¿»è¯‘   -&gt;   å°å¿ƒåœ°æ»‘ã€å¹²è´§ =&gt; Slide carefully<br>è¯æ€§æ ‡æ³¨   -&gt;   heat(v.) water(n.) in(p.) a(det.) pot(n.)<br>åˆ†è¯ (ä¸­æ–‡ã€æ—¥æ–‡ç­‰)   -&gt;   å¤§æ°´æ²Ÿ/å¾ˆ/éš¾/è¿‡</p>
</blockquote>
<h2 id="2-NLP-å¤„ç†æ–¹æ³•"><a href="#2-NLP-å¤„ç†æ–¹æ³•" class="headerlink" title="2. NLP å¤„ç†æ–¹æ³•"></a>2. NLP å¤„ç†æ–¹æ³•</h2><h3 id="2-1-ä¼ ç»Ÿ-åŸºäºè§„åˆ™"><a href="#2-1-ä¼ ç»Ÿ-åŸºäºè§„åˆ™" class="headerlink" title="2.1 ä¼ ç»Ÿ: åŸºäºè§„åˆ™"></a>2.1 ä¼ ç»Ÿ: åŸºäºè§„åˆ™</h3><p>Dictâ€¦</p>
<blockquote>
<p>ç®€å•ã€ç²—æš´ã€æœ‰ç”¨</p>
</blockquote>
<h3 id="2-2-ç°ä»£-åŸºäºæœºå™¨å­¦ä¹ "><a href="#2-2-ç°ä»£-åŸºäºæœºå™¨å­¦ä¹ " class="headerlink" title="2.2 ç°ä»£: åŸºäºæœºå™¨å­¦ä¹ "></a>2.2 ç°ä»£: åŸºäºæœºå™¨å­¦ä¹ </h3><blockquote>
<p>HMM, CRF, SVM, LDA, CNNâ€¦<br>â€œè§„åˆ™â€éšå«åœ¨æ¨¡å‹å‚æ•°é‡Œ</p>
</blockquote>
<h2 id="3-è¯ç¼–ç å’Œè¯å‘é‡"><a href="#3-è¯ç¼–ç å’Œè¯å‘é‡" class="headerlink" title="3. è¯ç¼–ç å’Œè¯å‘é‡"></a>3. è¯ç¼–ç å’Œè¯å‘é‡</h2><h3 id="3-1-Preface"><a href="#3-1-Preface" class="headerlink" title="3.1 Preface"></a>3.1 Preface</h3><p><font color="black">ã€è¯ç¼–ç éœ€è¦ä¿è¯è¯çš„ç›¸ä¼¼æ€§ã€<font></font></font></p>
<p>Glove results</p>
<p>Nearest words to</p>
<ol>
<li>frog</li>
<li>toad</li>
<li>rana</li>
<li>â€¦</li>
</ol>
<p><font color="black">ã€å‘é‡ç©ºé—´åˆ†å¸ƒçš„ç›¸ä¼¼æ€§ã€<font></font></font></p>
<p><img src="/images/ml/nlp-word2vector-2.png" alt=""></p>
<p><font color="black">ã€å‘é‡ç©ºé—´å­ç»“æ„ã€<font></font></font></p>
<p>$V_{King}$ - $V_{Queen}$ + $V_{Women}$ = $V_{Man}$</p>
<p>$V_{Paris}$ - $V_{France}$ + $V_{German}$ = $V_{Berlin}$</p>
<blockquote>
<p>æœ€ç»ˆç›®æ ‡: è¯å‘é‡è¡¨ç¤ºä½œä¸ºæœºå™¨å­¦ä¹ ã€ç‰¹åˆ«æ˜¯æ·±åº¦å­¦ä¹ çš„è¾“å…¥å’Œè¡¨ç¤ºç©ºé—´</p>
</blockquote>
<h3 id="3-2-è¯çš„è¡¨ç¤º"><a href="#3-2-è¯çš„è¡¨ç¤º" class="headerlink" title="3.2 è¯çš„è¡¨ç¤º"></a>3.2 è¯çš„è¡¨ç¤º</h3><h4 id="3-2-1-Linguists"><a href="#3-2-1-Linguists" class="headerlink" title="3.2.1 Linguists"></a>3.2.1 Linguists</h4><p><img src="/images/ml/nlp-word2vector-3.png" alt=""></p>
<h4 id="3-2-2-One-hot"><a href="#3-2-2-One-hot" class="headerlink" title="3.2.2 One-hot"></a>3.2.2 One-hot</h4><ul>
<li><font color="blue">è¯­æ–™åº“<font></font></font></li>
</ul>
<figure class="highlight py"><table><tr><td class="code"><pre><span class="line">John likes to watch movies. Mary likes too.John also likes to watch football games.</span><br></pre></td></tr></table></figure>
<ul>
<li><font color="blue">è¯å…¸<font></font></font></li>
</ul>
<figure class="highlight py"><table><tr><td class="code"><pre><span class="line">&#123;<span class="string">"John"</span>: <span class="number">1</span>, <span class="string">"likes"</span>: <span class="number">2</span>, <span class="string">"to"</span>: <span class="number">3</span>, <span class="string">"watch"</span>: <span class="number">4</span>, <span class="string">"movies"</span>: <span class="number">5</span>, </span><br><span class="line"><span class="string">"also"</span>: <span class="number">6</span>, <span class="string">"football"</span>: <span class="number">7</span>, <span class="string">"games"</span>: <span class="number">8</span>, <span class="string">"Mary"</span>: <span class="number">9</span>, <span class="string">"too"</span>: <span class="number">10</span>&#125;</span><br></pre></td></tr></table></figure>
<ul>
<li><font color="blue">One-hotè¡¨ç¤º<font></font></font></li>
</ul>
<figure class="highlight py"><table><tr><td class="code"><pre><span class="line">John: [<span class="number">1</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>]likes: [<span class="number">0</span>, <span class="number">1</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>]</span><br><span class="line">...</span><br><span class="line">too : [<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">1</span>]</span><br></pre></td></tr></table></figure>
<h4 id="3-2-3-Bag-of-Words"><a href="#3-2-3-Bag-of-Words" class="headerlink" title="3.2.3 Bag of Words"></a>3.2.3 Bag of Words</h4><blockquote>
<p>æ–‡æ¡£çš„å‘é‡è¡¨ç¤ºå¯ä»¥ç›´æ¥å°†å„è¯çš„è¯å‘é‡è¡¨ç¤ºåŠ å’Œ</p>
</blockquote>
<p>John likes to watch movies. Mary likes too. =&gt; [1, 2, 1, 1, 1, 0, 0, 0, 1, 1]<br>John also likes to watch football games. =&gt; [1, 1, 1, 1, 0, 1, 1, 1, 0, 0]</p>
<blockquote>
<p>è¯æƒé‡  - (<code>è¯åœ¨æ–‡æ¡£ä¸­çš„é¡ºåºæ²¡æœ‰è¢«è€ƒè™‘</code>)</p>
</blockquote>
<ul>
<li>TF-IDF (Term Frequency - Inverse Document Frequency)</li>
</ul>
<p>ä¿¡æ¯æ£€ç´¢è¯ t çš„ IDF </p>
<p>$$\log (1 + {\frac{N}{n^t}})$$</p>
<blockquote>
<p>N: æ–‡æ¡£æ€»æ•°ï¼Œ n: å«æœ‰è¯ t çš„æ–‡æ¡£æ•°</p>
</blockquote>
<p>[0.693, 1.386, 0.693, 0.693, 1.099, 0, 0, 0, 0.693, 0.693]</p>
<p>Binary weighting</p>
<blockquote>
<p>ä¸åšè®¡æ•°çš„ç‰ˆæœ¬</p>
<p>çŸ­æ–‡æœ¬ç›¸ä¼¼æ€§, Bernoulli Naive Bayes [1, 1, 1, 1, 1, 0, 0, 0, 1, 1]</p>
</blockquote>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[Cooking]]></title>
      <url>http://iequa.com/2017/07/09/life-cooking/</url>
      <content type="html"><![CDATA[<h2 id="1-ç«è…¿ç‚’è›‹"><a href="#1-ç«è…¿ç‚’è›‹" class="headerlink" title="1. ç«è…¿ç‚’è›‹"></a>1. ç«è…¿ç‚’è›‹</h2><ol>
<li>2ä¸ªé¸¡è›‹ï¼Œæ‰“å…¥å°ç¢—ä¸­ï¼Œæ…æ‹Œå‡åŒ€</li>
<li>åˆ‡ä¸€æ ¹ç«è…¿ï¼Œåˆ‡æˆç‰‡çŠ¶</li>
<li>æ‰“å¼€ç‡ƒæ°”é˜€é—¨ä¸èµ·ç«ï¼Œå¼€å°ç«ä¾¿å¯</li>
<li>æ”¾å…¥ä¸€äº›è±†æ²¹ï¼Œå¾…æ²¹çƒ­ä¸€ç‚¹</li>
<li>é¸¡è›‹æ…¢æ…¢å€’å…¥æ²¹é”…ï¼Œé¸¡è›‹æˆé¥¼ç‹€ï¼ŒæœŸé—´å¯ä»¥é¢ å‹º</li>
<li>å°†ç«è…¿ç‰‡ï¼Œæ”¾å…¥å…¶ä¸­ï¼Œè¿›è¡Œä¸€èµ·ç‚’ï¼Œå¹¶å¯æ”¾å…¥å°‘é‡ç›</li>
<li>ç‚’å¾—å·®ä¸å¤šåï¼Œå…³é—­ç‡ƒæ°”é˜€é—¨ï¼Œå¹¶å…³é—­èµ·ç«å¼€å…³</li>
</ol>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[åŸå¸‚çš„ç»çº¬åº¦]]></title>
      <url>http://iequa.com/2017/07/06/elastic-city-postion/</url>
      <content type="html"><![CDATA[<h2 id="1-æ­å·"><a href="#1-æ­å·" class="headerlink" title="1. æ­å·"></a>1. æ­å·</h2><h3 id="1-1-ç¬¬ä¸€ç‰ˆ"><a href="#1-1-ç¬¬ä¸€ç‰ˆ" class="headerlink" title="1.1 ç¬¬ä¸€ç‰ˆ"></a>1.1 ç¬¬ä¸€ç‰ˆ</h3><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">ä¸­æºªæ‘: [120.01114, 30.417591]</span><br><span class="line">è´¢ç»å¤§å­¦ä¸œæ–¹å­¦é™¢: [120.618727, 30.442177]</span><br><span class="line">å¯Œé˜³å®¢è¿ç«™[119.957687, 30.06436]</span><br><span class="line">[120.445745, 30.14519]</span><br></pre></td></tr></table></figure>
<h3 id="1-2-ç¬¬äºŒç‰ˆ"><a href="#1-2-ç¬¬äºŒç‰ˆ" class="headerlink" title="1.2 ç¬¬äºŒç‰ˆ"></a>1.2 ç¬¬äºŒç‰ˆ</h3><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">119.998168</span><br><span class="line">120.492553</span><br><span class="line">30.099792</span><br><span class="line">30.407409</span><br></pre></td></tr></table></figure>
<h2 id="2-ä¸Šæµ·"><a href="#2-ä¸Šæµ·" class="headerlink" title="2. ä¸Šæµ·"></a>2. ä¸Šæµ·</h2><h3 id="2-1-ç¬¬ä¸€ç‰ˆ"><a href="#2-1-ç¬¬ä¸€ç‰ˆ" class="headerlink" title="2.1 ç¬¬ä¸€ç‰ˆ"></a>2.1 ç¬¬ä¸€ç‰ˆ</h3><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">120.942186</span><br><span class="line">122.140337</span><br><span class="line">30.606932</span><br><span class="line">31.671275</span><br></pre></td></tr></table></figure>
<h3 id="2-2-ç¬¬äºŒç‰ˆ"><a href="#2-2-ç¬¬äºŒç‰ˆ" class="headerlink" title="2.2 ç¬¬äºŒç‰ˆ"></a>2.2 ç¬¬äºŒç‰ˆ</h3><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">120.959472</span><br><span class="line">121.970214</span><br><span class="line">30.815527</span><br><span class="line">31.486816</span><br></pre></td></tr></table></figure>
<h2 id="3-é’å²›"><a href="#3-é’å²›" class="headerlink" title="3. é’å²›"></a>3. é’å²›</h2><h3 id="3-1-ç¬¬ä¸€ç‰ˆ"><a href="#3-1-ç¬¬ä¸€ç‰ˆ" class="headerlink" title="3.1 ç¬¬ä¸€ç‰ˆ"></a>3.1 ç¬¬ä¸€ç‰ˆ</h3><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">119.578234</span><br><span class="line">120.961582</span><br><span class="line">35.643559</span><br><span class="line">36.976174</span><br></pre></td></tr></table></figure>
<h3 id="3-2-ç¬¬äºŒç‰ˆ"><a href="#3-2-ç¬¬äºŒç‰ˆ" class="headerlink" title="3.2 ç¬¬äºŒç‰ˆ"></a>3.2 ç¬¬äºŒç‰ˆ</h3><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">120.272827</span><br><span class="line">120.701293</span><br><span class="line">36.015930</span><br><span class="line">36.312561</span><br></pre></td></tr></table></figure>
<h2 id="4-å¦é—¨"><a href="#4-å¦é—¨" class="headerlink" title="4. å¦é—¨"></a>4. å¦é—¨</h2><h3 id="4-1-ç¬¬ä¸€ç‰ˆ"><a href="#4-1-ç¬¬ä¸€ç‰ˆ" class="headerlink" title="4.1 ç¬¬ä¸€ç‰ˆ"></a>4.1 ç¬¬ä¸€ç‰ˆ</h3><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">117.820569</span><br><span class="line">118.583220</span><br><span class="line">24.273182</span><br><span class="line">25.064185</span><br></pre></td></tr></table></figure>
<h3 id="4-2-ç¬¬äºŒç‰ˆ"><a href="#4-2-ç¬¬äºŒç‰ˆ" class="headerlink" title="4.2 ç¬¬äºŒç‰ˆ"></a>4.2 ç¬¬äºŒç‰ˆ</h3><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">117.943720</span><br><span class="line">118.317260</span><br><span class="line">24.419860</span><br><span class="line">24.765930</span><br></pre></td></tr></table></figure>
<h2 id="5-æ­¦æ±‰"><a href="#5-æ­¦æ±‰" class="headerlink" title="5. æ­¦æ±‰"></a>5. æ­¦æ±‰</h2><h3 id="5-1-ç¬¬ä¸€ç‰ˆ"><a href="#5-1-ç¬¬ä¸€ç‰ˆ" class="headerlink" title="5.1 ç¬¬ä¸€ç‰ˆ"></a>5.1 ç¬¬ä¸€ç‰ˆ</h3><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">113.819498</span><br><span class="line">115.112853</span><br><span class="line">30.262890</span><br><span class="line">31.593052</span><br></pre></td></tr></table></figure>
<h3 id="5-2-ç¬¬äºŒç‰ˆ"><a href="#5-2-ç¬¬äºŒç‰ˆ" class="headerlink" title="5.2 ç¬¬äºŒç‰ˆ"></a>5.2 ç¬¬äºŒç‰ˆ</h3><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">113.944702</span><br><span class="line">114.790649</span><br><span class="line">30.281066</span><br><span class="line">30.885314</span><br></pre></td></tr></table></figure>
<h2 id="6-æˆéƒ½"><a href="#6-æˆéƒ½" class="headerlink" title="6. æˆéƒ½"></a>6. æˆéƒ½</h2><h3 id="6-2-ç¬¬äºŒç‰ˆ"><a href="#6-2-ç¬¬äºŒç‰ˆ" class="headerlink" title="6.2 ç¬¬äºŒç‰ˆ"></a>6.2 ç¬¬äºŒç‰ˆ</h3><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">103.749389</span><br><span class="line">104.408569</span><br><span class="line">30.445861</span><br><span class="line">30.907287</span><br></pre></td></tr></table></figure>]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[EF Conversation]]></title>
      <url>http://iequa.com/2017/06/30/ef-conversaion/</url>
      <content type="html"><![CDATA[<style>
img {
        display: block !important;
        width: 550px;
        margin-left: 120px !important;
}
audio {
        display: block !important;
        width: 550px;
        margin-left: 120px !important;
}

</style>


<h2 id="2017-06-30"><a href="#2017-06-30" class="headerlink" title="2017-06-30"></a>2017-06-30</h2><p>According to statistics, online recruitment is becoming more and more common. Whatâ€™s the best way to advertise a job in your country?</p>
<h2 id="2017-06-29"><a href="#2017-06-29" class="headerlink" title="2017-06-29"></a>2017-06-29</h2><p>Call it â€˜gossipâ€™, â€˜small talkâ€™ or â€˜networkingâ€™, almost everyone participates in idle chat with their co-workers. Practicing sharing gossip with your classmates today.</p>
<p><code>What do you like to chat about with your friends?</code></p>
<p><code>Do you gossip with friends about these things?</code></p>
<p>politicianï¼Œsalaryï¼Œcelebrity</p>
<p>What does the media say about celebrities in your country?</p>
<p>People gossip about things that should be private</p>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[NLP åŸç†ä¸åŸºç¡€]]></title>
      <url>http://iequa.com/2017/06/29/nlp-nltk/</url>
      <content type="html"><![CDATA[<style>
img {
        display: block !important;
        width: 600px;
        margin-left: 100px !important;
}
</style>

<blockquote>
<p>NLTK æ˜¯ä¸€ä¸ªæœ‰è‚‰æœ‰è¡€çš„</p>
<p>æ–¯å¦ä½› CoreNLP (è‹±æ–‡ã€ä¸­æ–‡ã€è¥¿ç­ç‰™è¯­)</p>
</blockquote>
<h2 id="1-NLTK"><a href="#1-NLTK" class="headerlink" title="1. NLTK"></a>1. NLTK</h2><p><a href="http://www.nltk.org/" target="_blank" rel="external">nltk.org</a></p>
<ol>
<li>Python è‘—åçš„è‡ªç„¶è¯­è¨€å¤„ç†åº“</li>
<li>è‡ªå¸¦è¯­æ–™åº“ã€è¯æ€§åˆ†ç±»åº“</li>
<li>è‡ªå¸¦åˆ†ç±»ã€åˆ†è¯ ç­‰åŠŸèƒ½</li>
<li>å¼ºå¤§çš„ç¤¾åŒºæ”¯æŒ</li>
</ol>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">sudo pip install -U nltk</span><br><span class="line">sudo pip install -U numpy</span><br></pre></td></tr></table></figure>
<figure class="highlight py"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> nltk</span><br><span class="line">nltk.download()</span><br></pre></td></tr></table></figure>
<table>
<thead>
<tr>
<th>NLTK Modules</th>
<th>Functionality</th>
</tr>
</thead>
<tbody>
<tr>
<td>nltk.corpus</td>
<td>Corpus</td>
</tr>
<tr>
<td>nltk.tokenize, nltk.stem</td>
<td>Tokenizers, stemmers</td>
</tr>
</tbody>
</table>
<h2 id="2-NLTK-è‡ªå¸¦è¯­æ–™åº“"><a href="#2-NLTK-è‡ªå¸¦è¯­æ–™åº“" class="headerlink" title="2. NLTK è‡ªå¸¦è¯­æ–™åº“"></a>2. NLTK è‡ªå¸¦è¯­æ–™åº“</h2><figure class="highlight py"><table><tr><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="keyword">from</span> nltk.corpus <span class="keyword">import</span> brown</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>brown.categories()</span><br><span class="line">[<span class="string">u'adventure'</span>, <span class="string">u'belles_lettres'</span>, <span class="string">u'editorial'</span>, <span class="string">u'fiction'</span>, <span class="string">u'government'</span>, <span class="string">u'hobbies'</span>, <span class="string">u'humor'</span>, <span class="string">u'learned'</span>, <span class="string">u'lore'</span>, <span class="string">u'mystery'</span>, <span class="string">u'news'</span>, <span class="string">u'religion'</span>, <span class="string">u'reviews'</span>, <span class="string">u'romance'</span>, <span class="string">u'science_fiction'</span>]</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>len(brown.sents())</span><br><span class="line"><span class="number">57340</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>len(brown.words())</span><br><span class="line"><span class="number">1161192</span></span><br><span class="line">&gt;&gt;&gt;</span><br></pre></td></tr></table></figure>
<h2 id="3-æ–‡æœ¬å¤„ç†æµç¨‹"><a href="#3-æ–‡æœ¬å¤„ç†æµç¨‹" class="headerlink" title="3. æ–‡æœ¬å¤„ç†æµç¨‹"></a>3. æ–‡æœ¬å¤„ç†æµç¨‹</h2><p><img src="/images/ml/nlp-text-deal-process.png" alt=""></p>
<h2 id="4-Tokenize"><a href="#4-Tokenize" class="headerlink" title="4. Tokenize"></a>4. Tokenize</h2><figure class="highlight py"><table><tr><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="keyword">import</span> nltk<span class="meta">&gt;&gt;&gt; </span>sentence = â€œhello, world<span class="string">"&gt;&gt;&gt; tokens = nltk.word_tokenize(sentence)&gt;&gt;&gt; tokens['hello', â€˜,', 'world']</span></span><br></pre></td></tr></table></figure>
<h3 id="4-1-ä¸­è‹±æ–‡åˆ†è¯"><a href="#4-1-ä¸­è‹±æ–‡åˆ†è¯" class="headerlink" title="4.1 ä¸­è‹±æ–‡åˆ†è¯"></a>4.1 ä¸­è‹±æ–‡åˆ†è¯</h3><p>ä»Šå¤© / å¤©â½“ / ä¸é”™ / !<br>What a nice weather today !</p>
<p>[â€˜whatâ€™, â€˜aâ€™, â€˜niceâ€™, â€˜weatherâ€™, â€˜todayâ€™]<br>[â€˜ä»Šå¤©â€™,â€™å¤©æ°”â€™,â€™çœŸâ€™,â€™ä¸é”™â€™]</p>
<p>NLTK</p>
<p>word_tokenize åˆ†è¯å™¨</p>
<h3 id="4-2-ä¸­æ–‡åˆ†è¯"><a href="#4-2-ä¸­æ–‡åˆ†è¯" class="headerlink" title="4.2 ä¸­æ–‡åˆ†è¯"></a>4.2 ä¸­æ–‡åˆ†è¯</h3><blockquote>
<p>jieba (ç¬¬ä¸‰æ–¹å¼€æºåº“)</p>
</blockquote>
<figure class="highlight py"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> jiebaseg_list = jieba.cut(<span class="string">"æˆ‘æ¥åˆ°ï¥£äº¬æ¸…åâ¼¤å­¦"</span>, cut_all=<span class="keyword">True</span>)<span class="keyword">print</span> <span class="string">"Full Mode:"</span>, <span class="string">"/ "</span>.join(seg_list) <span class="comment"># å…¨æ¨¡å¼</span>seg_list = jieba.cut(<span class="string">"æˆ‘æ¥åˆ°åŒ—äº¬æ¸…åâ¼¤å­¦"</span>, cut_all=<span class="keyword">False</span>)<span class="keyword">print</span> <span class="string">"Default Mode:"</span>, <span class="string">"/ "</span>.join(seg_list) <span class="comment"># ç²¾ç¡®æ¨¡å¼</span>seg_list = jieba.cut(<span class="string">"ä»–æ¥åˆ°äº†ç½‘ï§ æ­ç ”â¼¤å¦"</span>) <span class="comment"># é»˜è®¤æ˜¯ç²¾ç¡®æ¨¡å¼</span><span class="keyword">print</span> <span class="string">", "</span>.join(seg_list)seg_list = jieba.cut_for_search(<span class="string">"â¼©æ˜ç¡•å£«æ¯•ä¸šäºä¸­å›½ç§‘å­¦é™¢è®¡ç®—æ‰€,ååœ¨æ—¥æœ¬äº¬éƒ½â¼¤å­¦æ·±é€ "</span>) <span class="comment"># æœç´¢å¼•æ“æ¨¡å¼</span><span class="keyword">print</span> <span class="string">", "</span>.join(seg_list)</span><br></pre></td></tr></table></figure>
<p>ã€å…¨æ¨¡å¼ã€‘: æˆ‘/ æ¥åˆ°/ åŒ—ï¥£äº¬/ æ¸…å/ æ¸…åâ¼¤å¤§å­¦/ åâ¼¤å¤§/ â¼¤å¤§å­¦<br>ã€ç²¾ç¡®æ¨¡å¼ã€‘: æˆ‘/ æ¥åˆ°/ åŒ—ï¥£äº¬/ æ¸…åâ¼¤å¤§å­¦<br>ã€æ–°è¯è¯†åˆ«ã€‘:ä»–, æ¥åˆ°, äº†ï¦º, â½¹ç½‘æ˜“ï§ , æ­ç ”, â¼¤å¤§å¦ (æ­¤å¤„,â€œæ­ç ”â€å¹¶æ²¡æœ‰åœ¨è¯å…¸ä¸­,ä½†æ˜¯ä¹Ÿè¢«Viterbiç®—æ³•è¯†åˆ«å‡ºæ¥äº†ï¦º)<br>ã€æœç´¢å¼•æ“æ¨¡å¼ã€‘: â¼©å°æ˜, ç¡•â¼ å£«, æ¯•ä¸š, äº, ä¸­å›½, ç§‘å­¦, å­¦é™¢, ç§‘å­¦é™¢, ä¸­å›½ç§‘å­¦é™¢, è®¡ç®—, è®¡ç®—æ‰€, å, åœ¨, â½‡æ—¥æœ¬, äº¬éƒ½, â¼¤å¤§å­¦, â½‡æ—¥æœ¬äº¬éƒ½â¼¤å¤§å­¦, æ·±é€ </p>
<blockquote>
<p>æœ‰æ—¶å€™tokenizeæ²¡é‚£ä¹ˆç®€å• :</p>
<p>æ¯”å¦‚ç¤¾äº¤ç½‘ç»œä¸Š,è¿™äº›ä¹±ä¸ƒå…«ç³Ÿçš„ä¸åˆè¯­æ³•ä¸åˆæ­£å¸¸é€»è¾‘çš„è¯­è¨€å¾ˆå¤š:<br>æ‹¯æ•‘ @æŸäºº, è¡¨æƒ…ç¬¦å·, URL, #è¯é¢˜ç¬¦å·</p>
</blockquote>
<p><strong>ç¤¾äº¤ç½‘ç»œè¯­è¨€çš„tokenize :</strong></p>
<figure class="highlight py"><table><tr><td class="code"><pre><span class="line"><span class="keyword">from</span> nltk.tokenize <span class="keyword">import</span> word_tokenizetweet = <span class="string">'RT @angelababy: love you baby! :D http://ah.love #168cm'</span>print(word_tokenize(tweet))</span><br></pre></td></tr></table></figure>
<p><a href="http://www.nltk.org/" target="_blank" rel="external">æ­£åˆ™è¡¨è¾¾å¼å¯¹ç…§è¡¨</a></p>
<h2 id="5-è¯å½¢å½’ä¸€åŒ–"><a href="#5-è¯å½¢å½’ä¸€åŒ–" class="headerlink" title="5. è¯å½¢å½’ä¸€åŒ–"></a>5. è¯å½¢å½’ä¸€åŒ–</h2><p>Inflectionå˜åŒ–: walk =&gt; walking =&gt; walked ä¸å½±å“è¯æ€§</p>
<p>derivation å¼•ç”³: nation (noun) =&gt; national (adjective) =&gt; nationalize (verb) å½±å“è¯æ€§</p>
<h3 id="5-1-Stemming"><a href="#5-1-Stemming" class="headerlink" title="5.1 Stemming"></a>5.1 Stemming</h3><p>Stemming è¯å¹²æå–:ä¸€èˆ¬æ¥è¯´,å°±æ˜¯æŠŠä¸å½±å“è¯æ€§çš„inflectionçš„å°å°¾å·´ç æ‰</p>
<p>walking ç ing = walk<br>walked ç ed = walk</p>
<p><strong>PorterStemmer</strong></p>
<figure class="highlight py"><table><tr><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="keyword">from</span> nltk.stem.porter <span class="keyword">import</span> PorterStemmer<span class="meta">&gt;&gt;&gt; </span>porter_stemmer = PorterStemmer()<span class="meta">&gt;&gt;&gt; </span>porter_stemmer.stem(â€˜maximumâ€™)uâ€™maximumâ€™<span class="meta">&gt;&gt;&gt; </span>porter_stemmer.stem(â€˜presumablyâ€™)uâ€™presumâ€™<span class="meta">&gt;&gt;&gt; </span>porter_stemmer.stem(â€˜multiplyâ€™)uâ€™multipliâ€™<span class="meta">&gt;&gt;&gt; </span>porter_stemmer.stem(â€˜provisionâ€™)uâ€™provisâ€™</span><br></pre></td></tr></table></figure>
<p><strong>SnowballStemmer</strong></p>
<figure class="highlight py"><table><tr><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="keyword">from</span> nltk.stem <span class="keyword">import</span> SnowballStemmer</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>snowball_stemmer = SnowballStemmer(<span class="string">"english"</span>)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>snowball_stemmer.stem(<span class="string">'maximum'</span>)</span><br><span class="line"><span class="string">u'maximum'</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>snowball_stemmer.stem(<span class="string">'presumably'</span>)</span><br><span class="line">uâ€™presumâ€™</span><br></pre></td></tr></table></figure>
<p><strong>LancasterStemmer</strong></p>
<figure class="highlight py"><table><tr><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="keyword">from</span> nltk.stem.lancaster <span class="keyword">import</span> LancasterStemmer</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>lancaster_stemmer = LancasterStemmer()</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>lancaster_stemmer.stem(â€˜maximumâ€™)</span><br><span class="line">â€˜maximâ€™</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>lancaster_stemmer.stem(â€˜presumablyâ€™)</span><br><span class="line">â€˜presumâ€™</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>lancaster_stemmer.stem(â€˜presumablyâ€™)</span><br><span class="line">â€˜presumâ€™</span><br></pre></td></tr></table></figure>
<p><strong>PorterStemmer</strong></p>
<figure class="highlight py"><table><tr><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="keyword">from</span> nltk.stem.porter <span class="keyword">import</span> PorterStemmer</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>p = PorterStemmer()</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>p.stem(<span class="string">'went'</span>)</span><br><span class="line"><span class="string">'went'</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>p.stem(<span class="string">'wenting'</span>)</span><br><span class="line"><span class="string">'went'</span></span><br></pre></td></tr></table></figure>
<h3 id="5-2-Lemmatization"><a href="#5-2-Lemmatization" class="headerlink" title="5.2 Lemmatization"></a>5.2 Lemmatization</h3><p>è¯å½¢å½’ä¸€:æŠŠå„ç§ç±»å‹çš„è¯çš„å˜å½¢,éƒ½å½’ä¸ºä¸€ä¸ªå½¢å¼ </p>
<p>went å½’ä¸€ = go<br>are å½’ä¸€ = be</p>
<figure class="highlight py"><table><tr><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="keyword">from</span> nltk.stem <span class="keyword">import</span> WordNetLemmatizer<span class="meta">&gt;&gt;&gt; </span>wordnet_lemmatizer = WordNetLemmatizer()<span class="meta">&gt;&gt;&gt; </span>wordnet_lemmatizer.lemmatize(â€˜dogsâ€™)uâ€™dogâ€™<span class="meta">&gt;&gt;&gt; </span>wordnet_lemmatizer.lemmatize(â€˜churchesâ€™)uâ€™churchâ€™<span class="meta">&gt;&gt;&gt; </span>wordnet_lemmatizer.lemmatize(â€˜aardwolvesâ€™)uâ€™aardwolfâ€™<span class="meta">&gt;&gt;&gt; </span>wordnet_lemmatizer.lemmatize(â€˜abaciâ€™)uâ€™abacusâ€™<span class="meta">&gt;&gt;&gt; </span>wordnet_lemmatizer.lemmatize(â€˜hardrockâ€™)â€˜hardrockâ€™</span><br></pre></td></tr></table></figure>
<p>NLTKæ›´å¥½åœ°å®ç°Lemma</p>
<figure class="highlight py"><table><tr><td class="code"><pre><span class="line"><span class="comment"># â½Šæœ¨æœ‰POS Tag,é»˜è®¤æ˜¯NN åè¯</span><span class="meta">&gt;&gt;&gt; </span>wordnet_lemmatizer.lemmatize(â€˜areâ€™) â€˜areâ€™<span class="meta">&gt;&gt;&gt; </span>wordnet_lemmatizer.lemmatize(â€˜<span class="keyword">is</span>â€™) â€˜<span class="keyword">is</span>â€™<span class="comment"># åŠ ä¸ŠPOS Tag</span><span class="meta">&gt;&gt;&gt; </span>wordnet_lemmatizer.lemmatize(â€˜<span class="keyword">is</span>â€™, pos=â€™vâ€™) uâ€™beâ€™<span class="meta">&gt;&gt;&gt; </span>wordnet_lemmatizer.lemmatize(â€˜areâ€™, pos=â€™vâ€™) uâ€™beâ€™</span><br></pre></td></tr></table></figure>
<h2 id="6-Part-Of-Speech"><a href="#6-Part-Of-Speech" class="headerlink" title="6. Part Of Speech"></a>6. Part Of Speech</h2><table>
<thead>
<tr>
<th>TAG</th>
<th>Meaning</th>
</tr>
</thead>
<tbody>
<tr>
<td>CC</td>
<td>coordinating conjunction</td>
</tr>
<tr>
<td>CD</td>
<td>cardinal digit</td>
</tr>
<tr>
<td>DT</td>
<td>determiner</td>
</tr>
<tr>
<td>EX</td>
<td>existential there (like: â€œthere isâ€ â€¦ think of it like â€œthere existsâ€)</td>
</tr>
<tr>
<td>FW</td>
<td>foreign word</td>
</tr>
<tr>
<td>IN</td>
<td>preposition/subordinating conjunction</td>
</tr>
<tr>
<td>JJ</td>
<td>adjective    â€˜bigâ€™</td>
</tr>
<tr>
<td>â€¦</td>
<td>â€¦</td>
</tr>
</tbody>
</table>
<h3 id="6-1-NLTK-æ ‡æ³¨-POS-Tag"><a href="#6-1-NLTK-æ ‡æ³¨-POS-Tag" class="headerlink" title="6.1 NLTK æ ‡æ³¨ POS Tag"></a>6.1 NLTK æ ‡æ³¨ POS Tag</h3><figure class="highlight py"><table><tr><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="keyword">import</span> nltk<span class="meta">&gt;&gt;&gt; </span>text = nltk.word_tokenize(<span class="string">'what does the fox say'</span>)<span class="meta">&gt;&gt;&gt; </span>text[<span class="string">'what'</span>, <span class="string">'does'</span>, <span class="string">'the'</span>, <span class="string">'fox'</span>, <span class="string">'say'</span>]<span class="meta">&gt;&gt;&gt; </span>nltk.pos_tag(text)[(<span class="string">'what'</span>, <span class="string">'WDT'</span>), (<span class="string">'does'</span>, <span class="string">'VBZ'</span>), (<span class="string">'the'</span>, <span class="string">'DT'</span>), (<span class="string">'fox'</span>, <span class="string">'NNS'</span>), (<span class="string">'say'</span>, <span class="string">'VBP'</span>)]</span><br></pre></td></tr></table></figure>
<h2 id="7-Stopwords"><a href="#7-Stopwords" class="headerlink" title="7. Stopwords"></a>7. Stopwords</h2><p>ä¸€åƒä¸ªHEæœ‰ä¸€åƒç§æŒ‡ä»£</p>
<p>ä¸€åƒä¸ªTHEæœ‰ä¸€åƒç§æŒ‡äº‹ å¯¹äºæ³¨é‡ç†è§£æ–‡æœ¬ã€æ„æ€ã€çš„åº”ç”¨åœºæ™¯æ¥è¯´</p>
<p>æ­§ä¹‰å¤ªå¤š</p>
<p><a href="http://www.ranks.nl/stopwords" target="_blank" rel="external">å…¨ä½“stopwordsåˆ—è¡¨</a> </p>
<h3 id="7-1-NLTKå»é™¤stopwords"><a href="#7-1-NLTKå»é™¤stopwords" class="headerlink" title="7.1 NLTKå»é™¤stopwords"></a>7.1 NLTKå»é™¤stopwords</h3><blockquote>
<p>é¦–å…ˆè®°å¾—åœ¨consoleé‡Œé¢ä¸‹è½½ä¸€ä¸‹è¯åº“<br>æˆ–è€… nltk.download(â€˜stopwordsâ€™)</p>
</blockquote>
<figure class="highlight py"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> nltk</span><br><span class="line"><span class="keyword">from</span> nltk.corpus <span class="keyword">import</span> stopwords </span><br><span class="line"></span><br><span class="line"><span class="comment"># å…ˆtokenâ¼€ä¸€æŠŠ,å¾—åˆ°â¼€ä¸€ä¸ªword_list</span></span><br><span class="line"></span><br><span class="line">word_list = nltk.word_tokenize(<span class="string">'what does the fox say'</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># ç„¶åfilterâ¼€ä¸€æŠŠ</span></span><br><span class="line"></span><br><span class="line">filtered_words = [word <span class="keyword">for</span> word <span class="keyword">in</span> word_list <span class="keyword">if</span> word <span class="keyword">not</span> <span class="keyword">in</span> stopwords.words(<span class="string">'english'</span>)]</span><br><span class="line"></span><br><span class="line">filtered_words</span><br></pre></td></tr></table></figure>
<h2 id="8-æ–‡æœ¬é¢„å¤„ç†æµæ°´çº¿"><a href="#8-æ–‡æœ¬é¢„å¤„ç†æµæ°´çº¿" class="headerlink" title="8. æ–‡æœ¬é¢„å¤„ç†æµæ°´çº¿"></a>8. æ–‡æœ¬é¢„å¤„ç†æµæ°´çº¿</h2><blockquote>
<p>ä¸€æ¡typicalçš„æ–‡æœ¬é¢„å¤„ç†æµæ°´çº¿</p>
</blockquote>
<p><img src="/images/ml/nlp-nltk-raw.png" alt=""></p>
<p><strong>æ–‡æœ¬é¢„å¤„ç†è®©æˆ‘ä»¬å¾—åˆ°äº†ä»€ä¹ˆ?</strong></p>
<p><img src="/images/ml/nlp-pre-deal.png" alt=""></p>
<h2 id="9-NLPä¸Šçš„ç»å…¸åº”ç”¨"><a href="#9-NLPä¸Šçš„ç»å…¸åº”ç”¨" class="headerlink" title="9. NLPä¸Šçš„ç»å…¸åº”ç”¨"></a>9. NLPä¸Šçš„ç»å…¸åº”ç”¨</h2><ol>
<li>æƒ…æ„Ÿåˆ†æ</li>
<li>æ–‡æœ¬ç›¸ä¼¼åº¦ </li>
<li>æ–‡æœ¬åˆ†ç±»</li>
</ol>
<h3 id="9-1-æƒ…æ„Ÿåˆ†æ"><a href="#9-1-æƒ…æ„Ÿåˆ†æ" class="headerlink" title="9.1 æƒ…æ„Ÿåˆ†æ"></a>9.1 æƒ…æ„Ÿåˆ†æ</h3><p><img src="/images/ml/nlp-nltk-2.png" alt=""></p>
<p>å“ªäº›æ˜¯å¤¸ä½ ï¼Ÿå“ªäº›æ˜¯é»‘ä½ ï¼Ÿ</p>
<p><strong>æœ€ç®€å•çš„ sentiment dictionary</strong></p>
<ul>
<li>like 1 </li>
<li>good 2 </li>
<li>bad -2 </li>
<li>terrible -3</li>
</ul>
<blockquote>
<p>æœ€ç®€å•ä¹Ÿæ¯”è¾ƒæœ‰æ•ˆçš„æ–¹æ³•ï¼Œä¸éœ€è¦å­¦ä¹ </p>
<p>æ¯”å¦‚:AFINN-111<br><a href="http://www2.imm.dtu.dk/pubdb/views/publication_details.php?id=6010" target="_blank" rel="external">http://www2.imm.dtu.dk/pubdb/views/publication_details.php?id=6010</a></p>
</blockquote>
<p><strong>NLTK å®Œæˆç®€å•çš„æƒ…æ„Ÿåˆ†æ</strong></p>
<figure class="highlight py"><table><tr><td class="code"><pre><span class="line">sentiment_dictionary = &#123;&#125;<span class="keyword">for</span> line <span class="keyword">in</span> open(<span class="string">'data/AFINN-111.txt'</span>)    word, score = line.split(<span class="string">'\t'</span>)    sentiment_dictionary[word] = int(score)<span class="comment"># æŠŠè¿™ä¸ªæ‰“åˆ†è¡¨è®°å½•åœ¨â¼€ä¸€ä¸ªDictä¸Šä»¥å </span></span><br><span class="line"><span class="comment"># è·‘â¼€ä¸€éæ•´ä¸ªå¥ï¤†â¼¦å­,æŠŠå¯¹åº”çš„å€¼ç›¸åŠ </span>total_score = sum(sentiment_dictionary.get(word, <span class="number">0</span>) <span class="keyword">for</span> word <span class="keyword">in</span> </span><br><span class="line">words) </span><br><span class="line"></span><br><span class="line"><span class="comment"># æœ‰å€¼å°±æ˜¯Dictä¸­çš„å€¼,æ²¡æœ‰å°±æ˜¯0</span><span class="comment"># äºæ˜¯ä½ å°±å¾—åˆ°äº†ï¦ºâ¼€ä¸€ä¸ª sentiment score</span></span><br></pre></td></tr></table></figure>
<blockquote>
<p>æ˜¾ç„¶è¿™ä¸ªæ–¹æ³•å¤ªNaive<br>æ–°è¯æ€ä¹ˆåŠ?<br>ç‰¹æ®Šè¯æ±‡æ€ä¹ˆåŠ?<br>æ›´æ·±å±‚æ¬¡çš„ç©æ„å„¿æ€ä¹ˆåŠ?</p>
</blockquote>
<p><strong>é…ä¸ŠMLçš„æƒ…æ„Ÿåˆ†æ</strong></p>
<figure class="highlight py"><table><tr><td class="code"><pre><span class="line"><span class="keyword">from</span> nltk.classify <span class="keyword">import</span> NaiveBayesClassifier<span class="comment"># éšâ¼¿æ‰‹é€ ç‚¹è®­ç»ƒé›†</span>s1 = <span class="string">'this is a good book'</span>s2 = <span class="string">'this is a awesome book'</span>s3 = <span class="string">'this is a bad book'</span>s4 = <span class="string">'this is a terrible book'</span><span class="function"><span class="keyword">def</span> <span class="title">preprocess</span><span class="params">(s)</span>:</span> <span class="comment"># Func: å¥â¼¦å¤„ç†</span><span class="comment"># è¿™â¾¥ç®€å•çš„â½¤äº†ï¦ºsplit(), æŠŠå¥å­ä¸­æ¯ä¸ªå•è¯åˆ†å¼€ # æ˜¾ç„¶ è¿˜æœ‰æ›´å¤šçš„processing methodå¯ä»¥â½¤ </span></span><br><span class="line">    <span class="keyword">return</span> &#123;word: <span class="keyword">True</span> <span class="keyword">for</span> word <span class="keyword">in</span> s.lower().split()&#125;<span class="comment"># returné•¿è¿™æ ·:</span><span class="comment"># &#123;'this': True, 'is':True, 'a':True, 'good':True, 'book':True&#125; # å…¶ä¸­, å‰â¼€ä¸€ä¸ªå«fname, å¯¹åº”æ¯ä¸ªå‡ºç°çš„æ–‡æœ¬å•è¯;</span><span class="comment"># åâ¼€ä¸€ä¸ªå«fval, æŒ‡çš„æ˜¯æ¯ä¸ªâ½‚æ–‡æœ¬å•è¯å¯¹åº”çš„å€¼ã€‚</span><span class="comment"># è¿™â¾¥é‡Œï§©æˆ‘ä»¬â½¤ç”¨æœ€ç®€å•çš„True,æ¥è¡¨ç¤º,è¿™ä¸ªè¯ã€å‡ºç°åœ¨å½“å‰çš„å¥ï¤†â¼¦å­ä¸­ã€çš„æ„ä¹‰ã€‚</span><span class="comment"># å½“ç„¶å•¦, æˆ‘ä»¬ä»¥åå¯ä»¥å‡çº§è¿™ä¸ªâ½…æ–¹ç¨‹, è®©å®ƒå¸¦æœ‰æ›´ï¤åŠ â½œç‰›é€¼çš„fval, æ¯”å¦‚ word2vec</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># æŠŠè®­ç»ƒé›†ç»™åšæˆæ ‡å‡†å½¢å¼</span>training_data = [[preprocess(s1), <span class="string">'pos'</span>],                 [preprocess(s2), <span class="string">'pos'</span>],                 [preprocess(s3), <span class="string">'neg'</span>],                 [preprocess(s4), <span class="string">'neg'</span>]]<span class="comment"># å–‚ç»™modelåƒ</span>model = NaiveBayesClassifier.train(training_data)<span class="comment"># æ‰“å‡ºç»“æœ</span>print(model.classify(preprocess(<span class="string">'this is a good book'</span>)))</span><br></pre></td></tr></table></figure>
<h3 id="9-2-æ–‡æœ¬ç›¸ä¼¼åº¦"><a href="#9-2-æ–‡æœ¬ç›¸ä¼¼åº¦" class="headerlink" title="9.2 æ–‡æœ¬ç›¸ä¼¼åº¦"></a>9.2 æ–‡æœ¬ç›¸ä¼¼åº¦</h3><p><img src="/images/ml/nlp-nltk-3.png" alt=""></p>
<p><strong>9.2.1 ç”¨å…ƒç´ é¢‘ç‡è¡¨ç¤ºæ–‡æœ¬ç‰¹å¾</strong></p>
<p><img src="/images/ml/nlp-nltk-4.png" alt=""></p>
<p><strong>9.2.2 Frequency é¢‘ç‡ç»Ÿè®¡</strong></p>
<figure class="highlight py"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> nltk</span><br><span class="line"><span class="keyword">from</span> nltk <span class="keyword">import</span> FreqDist</span><br><span class="line"><span class="comment"># åšä¸ªè¯åº“å…ˆ</span></span><br><span class="line">corpus = <span class="string">'this is my sentence '</span> \</span><br><span class="line">           <span class="string">'this is my life '</span> \</span><br><span class="line">           <span class="string">'this is the day'</span></span><br><span class="line"><span class="comment"># éšä¾¿tokenizeä¸€ä¸‹, æ˜¾ç„¶, æ­£å¦‚ä¸Šæ–‡æåˆ°,</span></span><br><span class="line"><span class="comment"># è¿™ï§©å¯ä»¥æ ¹æ®éœ€è¦åšä»»ä½•çš„preprocessing:  stopwords, lemma, stemming, etc.</span></span><br><span class="line"><span class="comment"># å€Ÿâ½¤NLTKçš„FreqDistç»Ÿè®¡â¼€ä¸‹â½‚å­—å‡ºç°çš„é¢‘ç‡ fdist = FreqDist(tokens)</span></span><br><span class="line"><span class="comment"># å®ƒå°±ç±»ä¼¼äºâ¼€ä¸ªDic,  å¸¦ä¸ŠæŸä¸ªå•è¯, å¯ä»¥çœ‹åˆ°å®ƒåœ¨æ•´ä¸ªæ–‡ç« ä¸­å‡ºç°çš„æ¬¡æ•°</span></span><br><span class="line"></span><br><span class="line">tokens = nltk.word_tokenize(corpus) </span><br><span class="line">print(tokens)</span><br><span class="line"><span class="comment"># å¾—åˆ° token å¥½çš„ word list</span></span><br><span class="line"><span class="comment"># ['this', 'is', 'my', 'sentence',</span></span><br><span class="line"><span class="comment"># 'this', 'is', 'my', 'life', 'this', # 'is', 'the', 'day']</span></span><br><span class="line"><span class="comment"># å€Ÿâ½¤ NLTK çš„ FreqDist ç»Ÿè®¡â¼€ä¸‹æ–‡å­—å‡ºç°çš„é¢‘ç‡</span></span><br><span class="line">fdist = FreqDist(tokens)</span><br><span class="line"></span><br><span class="line"><span class="comment"># å®ƒå°±ç±»ä¼¼äºâ¼€ä¸€ä¸ªDict</span></span><br><span class="line"><span class="comment"># å¸¦ä¸ŠæŸä¸ªå•è¯, å¯ä»¥çœ‹åˆ°å®ƒåœ¨æ•´ä¸ªæ–‡ç« ä¸­å‡ºç°çš„æ¬¡æ•°</span></span><br><span class="line">print(fdist[<span class="string">'is'</span>]) <span class="comment">#3</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># å¥½, æ­¤åˆ», æˆ‘ä»¬å¯ä»¥æŠŠæœ€å¸¸â½¤ç”¨çš„50ä¸ªå•è¯æ‹¿å‡ºæ¥ </span></span><br><span class="line">standard_freq_vector = fdist.most_common(<span class="number">50</span>) </span><br><span class="line">size = len(standard_freq_vector) </span><br><span class="line"><span class="keyword">print</span> <span class="string">"size: %s"</span> % (size)</span><br><span class="line">print(standard_freq_vector)</span><br><span class="line"><span class="comment"># [('is', 3), ('this', 3), ('my', 2),</span></span><br><span class="line"><span class="comment"># ('the', 1), ('day', 1), ('sentence', 1),</span></span><br><span class="line"><span class="comment"># ('life', 1)</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Func: æŒ‰ç…§å‡ºç°é¢‘ç‡â¼¤å°, è®°å½•ä¸‹æ¯â¼€ä¸ªå•è¯çš„ä½ç½® </span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">position_lookup</span><span class="params">(v)</span>:</span></span><br><span class="line">    res = &#123;&#125;</span><br><span class="line">    counter = <span class="number">0</span></span><br><span class="line">    <span class="keyword">for</span> word <span class="keyword">in</span> v:</span><br><span class="line">        res[word[<span class="number">0</span>]] = counter</span><br><span class="line">        counter += <span class="number">1</span></span><br><span class="line">    <span class="keyword">return</span> res</span><br><span class="line"><span class="comment"># æŠŠæ ‡å‡†çš„å•è¯ä½ç½®è®°å½•ä¸‹æ¥</span></span><br><span class="line">standard_position_dict = position_lookup(standard_freq_vector) </span><br><span class="line">print(standard_position_dict)</span><br><span class="line"><span class="comment"># å¾—åˆ°â¼€ä¸€ä¸ªä½ç½®å¯¹ç…§è¡¨</span></span><br><span class="line"><span class="comment"># &#123;'is': 0, 'the': 3, 'day': 4, 'this': 1, 'sentence': 5, 'my': 2, 'life': 6&#125;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># è¿™æ—¶, å¦‚æœæˆ‘ä»¬æœ‰ä¸ªæ–°å¥ï¤†â¼¦å­:</span></span><br><span class="line">sentence = <span class="string">'this is cool'</span></span><br><span class="line"><span class="comment"># å…ˆæ–°å»ºâ¼€ä¸€ä¸ªè·Ÿæˆ‘ä»¬çš„æ ‡å‡†vectoråŒæ ·â¼¤å°çš„å‘é‡ </span></span><br><span class="line">freq_vector = [<span class="number">0</span>] * size</span><br><span class="line"><span class="comment"># ç®€å•çš„Preprocessing</span></span><br><span class="line">tokens = nltk.word_tokenize(sentence) <span class="comment"># å¯¹äºè¿™ä¸ªæ–°å¥â¼¦â¾¥çš„æ¯ä¸€ä¸ªå•è¯</span></span><br><span class="line"><span class="keyword">for</span> word <span class="keyword">in</span> tokens:</span><br><span class="line">    <span class="keyword">try</span>:</span><br><span class="line">    <span class="comment"># å¦‚æœåœ¨æˆ‘ä»¬çš„è¯åº“ï§©å‡ºç°è¿‡</span></span><br><span class="line">    <span class="comment"># é‚£ä¹ˆå°±åœ¨"æ ‡å‡†ä½ç½®"ä¸Š+1 </span></span><br><span class="line">        freq_vector[standard_position_dict[word]] += <span class="number">1</span></span><br><span class="line">    <span class="keyword">except</span> KeyError: <span class="comment"># å¦‚æœæ˜¯ä¸ªæ–°è¯</span></span><br><span class="line">        <span class="keyword">continue</span></span><br><span class="line">print(freq_vector)   <span class="comment"># [1, 1, 0, 0, 0, 0, 0]</span></span><br></pre></td></tr></table></figure>
<h3 id="9-3-æ–‡æœ¬åˆ†ç±»"><a href="#9-3-æ–‡æœ¬åˆ†ç±»" class="headerlink" title="9.3 æ–‡æœ¬åˆ†ç±»"></a>9.3 æ–‡æœ¬åˆ†ç±»</h3><h4 id="9-3-1-tf-idf"><a href="#9-3-1-tf-idf" class="headerlink" title="9.3.1 tf-idf"></a>9.3.1 tf-idf</h4><p><strong>TF: Term Frequency</strong>, è¡¡é‡ä¸€ä¸ªtermåœ¨æ–‡æ¡£ä¸­å‡ºç°å¾—æœ‰å¤šé¢‘ç¹ã€‚ T</p>
<p>F(t) = (tå‡ºç°åœ¨æ–‡æ¡£ä¸­çš„æ¬¡æ•°) / (æ–‡æ¡£ä¸­çš„termæ€»æ•°).</p>
<p><strong>IDF: Inverse Document Frequency</strong>, è¡¡é‡ä¸€ä¸ªtermæœ‰å¤šé‡è¦ã€‚ æœ‰äº›è¯å‡ºç°çš„å¾ˆå¤š,ä½†æ˜¯æ˜æ˜¾ä¸æ˜¯å¾ˆæœ‰åµç”¨ã€‚æ¯”å¦‚â€™isâ€™,â€™theâ€˜,â€™andâ€˜ä¹‹ç±» çš„ã€‚</p>
<p>ä¸ºäº†å¹³è¡¡,æˆ‘ä»¬æŠŠç½•è§çš„è¯çš„é‡è¦æ€§(weight)æé«˜, æŠŠå¸¸è§è¯çš„é‡è¦æ€§æä½ã€‚</p>
<p>IDF(t) = log_e(æ–‡æ¡£æ€»æ•° / å«æœ‰tçš„æ–‡æ¡£æ€»æ•°). </p>
<p><strong>TF-IDF = TF * IDF</strong></p>
<p>ä¸¾ä¸ªæ —å­ğŸŒ° :</p>
<p>ä¸€ä¸ªæ–‡æ¡£æœ‰100ä¸ªå•è¯,å…¶ä¸­å•è¯babyå‡ºç°äº†3æ¬¡ã€‚ é‚£ä¹ˆ,TF(baby) = (3/100) = 0.03.</p>
<p>å¥½,ç°åœ¨æˆ‘ä»¬å¦‚æœæœ‰10Mçš„æ–‡æ¡£, babyå‡ºç°åœ¨å…¶ä¸­çš„1000ä¸ªæ–‡æ¡£ä¸­ã€‚ é‚£ä¹ˆ,IDF(baby) = log(10,000,000 / 1,000) = 4</p>
<p>æ‰€ä»¥, TF-IDF(baby) = TF(baby) * IDF(baby) = 0.03 * 4 = 0.12</p>
<h4 id="9-3-2-nltk-implement-tf-idf"><a href="#9-3-2-nltk-implement-tf-idf" class="headerlink" title="9.3.2 nltk implement tf-idf"></a>9.3.2 nltk implement tf-idf</h4><figure class="highlight py"><table><tr><td class="code"><pre><span class="line"><span class="keyword">from</span> nltk.text <span class="keyword">import</span> TextCollection</span><br><span class="line"><span class="comment"># â¾¸å…ˆ, æŠŠæ‰€æœ‰çš„â½‚æ¡£æ”¾åˆ°TextCollectionç±»ä¸­ã€‚</span></span><br><span class="line"><span class="comment"># è¿™ä¸ªç±»ä¼šâ¾ƒåŠ¨å¸®ä½ æ–­ï¤†, åšç»Ÿè®¡, åšè®¡ç®—</span></span><br><span class="line">corpus = TextCollection([<span class="string">'this is sentence one'</span>,</span><br><span class="line">                        <span class="string">'this is sentence two'</span>,</span><br><span class="line">                        <span class="string">'sentence three six'</span>,</span><br><span class="line">                        <span class="string">'this is sentence three'</span>])</span><br><span class="line"><span class="comment"># ç›´æ¥å°±èƒ½ç®—å‡ºtfidf</span></span><br><span class="line"><span class="comment"># (term: â¼€ä¸€å¥ï¤†è¯ä¸­çš„æŸä¸ªterm, text: è¿™å¥ï¤†è¯)</span></span><br><span class="line">print(corpus.tf_idf(<span class="string">'this'</span>, <span class="string">'this is sentence four'</span>))</span><br><span class="line"><span class="comment"># 0.444342</span></span><br><span class="line"><span class="comment"># åŒç†, æ€ä¹ˆå¾—åˆ°â¼€ä¸€ä¸ªæ ‡å‡†â¼¤å°çš„vectoræ¥è¡¨ç¤ºæ‰€æœ‰çš„å¥å­?</span></span><br><span class="line"><span class="comment"># å¯¹äºæ¯ä¸ªæ–°å¥å­</span></span><br><span class="line"><span class="comment">#new_sentence = 'this is sentence five' # éå†â¼€ä¸€éæ‰€æœ‰çš„vocabularyä¸­çš„è¯:</span></span><br><span class="line"><span class="comment">#for word in standard_vocab:</span></span><br><span class="line"><span class="comment">#    print(corpus.tf_idf(word, new_sentence)) # æˆ‘ä»¬ä¼šå¾—åˆ°â¼€ä¸ªå·¨é•¿(=æ‰€æœ‰vocabâ»“åº¦)çš„å‘é‡</span></span><br></pre></td></tr></table></figure>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[Guitar Learning]]></title>
      <url>http://iequa.com/2017/06/25/music-guitar/</url>
      <content type="html"><![CDATA[<h2 id="1-Guitar-è°ƒéŸ³æ“ä½œ"><a href="#1-Guitar-è°ƒéŸ³æ“ä½œ" class="headerlink" title="1. Guitar è°ƒéŸ³æ“ä½œ"></a>1. Guitar è°ƒéŸ³æ“ä½œ</h2><p>å°†è°ƒéŸ³å™¨å¤¹ç´å¤´ç©ºç™½ä½ç½®ï¼ŒçŸ­æŒ‰å¼€å…³é”®å°†æ¨¡å¼è°ƒèŠ‚åˆ°Gå­—æ¯å†è¿›è¡Œè°ƒè¯•~</p>
<p>ä»ç»†åˆ°ç²—1-6å¼¦çš„æ ‡å‡†éŸ³åˆ†åˆ«æ˜¯ï¼š1E 2B 3G 4D 5A 6Eï¼Œ</p>
<p>è¦å°†æ¯æ ¹å¼¦éƒ½å¯¹åº”åˆ°æ­£ç¡®çš„å­—æ¯åˆ°ä¸­é—´å˜ç»¿æ‰æ˜¯æ ‡å‡†éŸ³å“Ÿ~</p>
<p><a href="http://v.youku.com/v_show/id_XMTQ3NDEzOTgzNg==.html?from=y1.7-2" target="_blank" rel="external">è°ƒéŸ³æ“ä½œ</a></p>
<p>è°ƒåˆ° C å­—æ¯çš„è°ƒéŸ³æ–¹æ³• :</p>
<p>ä»ç»†åˆ°ç²—1-6å¼¦çš„æ ‡å‡†éŸ³åˆ†åˆ«æ˜¯ï¼šE B G D A Eï¼Œ</p>
<p>è¦å°†æ¯æ ¹å¼¦éƒ½å¯¹åº”åˆ°æ­£ç¡®çš„å­—æ¯åˆ°ä¸­é—´å˜ç»¿æ‰æ˜¯æ ‡å‡†éŸ³å“Ÿ~</p>
<blockquote>
<p>æ³¨æ„å…ˆä»æœ€ç²—çš„6å¼¦å¼€å§‹ï¼Œæœ€åè°ƒ1å¼¦ï¼Œè°ƒéŸ³è¿‡ç¨‹éœ€è¦è€å¿ƒå¤šä¸€ç‚¹ï¼ŒåŠ›åº¦å°ä¸€ç‚¹.</p>
</blockquote>
<h2 id="2-æ¢å¼¦æ“ä½œæ–¹æ³•"><a href="#2-æ¢å¼¦æ“ä½œæ–¹æ³•" class="headerlink" title="2. æ¢å¼¦æ“ä½œæ–¹æ³•"></a>2. æ¢å¼¦æ“ä½œæ–¹æ³•</h2><p>æ³¨æ„è§†é¢‘é‡Œé¢æåˆ°çš„æ’¬å¼¦å™¨æ˜¯æ²¡æœ‰èµ é€çš„ï¼Œæ‚¨å¯ä»¥ä½¿ç”¨é’¥åŒ™æˆ–è€…å°å‹ºå­æ”¾åœ¨å›ºå¼¦é”¥ä¸‹æ–¹è½»è½»å¾€ä¸Šæ’¬ä¸€ä¸‹å³å¯å–å‡ºå›ºå¼¦é”¥.</p>
<p><a href="http://v.youku.com/v_show/id_XMTM4MDkyNjQ0MA==.html?from=y1.7-2" target="_blank" rel="external">æ¢å¼¦æ“ä½œ</a></p>
<p>å‰ä»–æ­£å¯¹è‡ªå·±ï¼Œä¸€äºŒä¸‰å¼¦å¾€è‡ªå·±æ€€é‡Œæ–¹å‘æ˜¯æ‹§ç´§è°ƒé«˜ï¼Œå¾€å¤–çš„æ–¹å‘æ˜¯æ”¾æ¾è°ƒä½ï¼Œå››äº”å…­å¼¦æ˜¯ç›¸åæ–¹å‘</p>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[EF 5.3 Telling story]]></title>
      <url>http://iequa.com/2017/06/25/ef-l5u3-Telling-stories/</url>
      <content type="html"><![CDATA[<style>
img {
        display: block !important;
        width: 550px;
        margin-left: 120px !important;
}
audio {
        display: block !important;
        width: 550px;
        margin-left: 120px !important;
}

</style>

<h2 id="1-Explaining-how-you-met-someone"><a href="#1-Explaining-how-you-met-someone" class="headerlink" title="1. Explaining how you met someone"></a>1. Explaining how you met someone</h2><p><img src="/images/english/ef-l5u3l1.png" alt=""></p>
<audio src="/voices/ef/l5u3-explain-how-to-met-someone.m4a" controls="controls"><br>Your browser does not support the audio tag.<br></audio>

<table>
<thead>
<tr>
<th>Dialog</th>
</tr>
</thead>
<tbody>
<tr>
<td>[KATE] So did I tell you I met this guy?</td>
<td></td>
</tr>
<tr>
<td>[EMMA] Yeah, the one from the bank? or The guy at the beach?</td>
<td></td>
</tr>
<tr>
<td>[KATE] No! Not them.</td>
<td></td>
</tr>
<tr>
<td>[KATE] Someone â€¦ better.</td>
<td></td>
</tr>
<tr>
<td>[KATE] Well, let me tell you the story.</td>
<td></td>
</tr>
<tr>
<td>[KATE] Um, I was shopping.</td>
<td></td>
</tr>
<tr>
<td>[KATE] And, uh, as I was leaving, I was in the car.</td>
<td></td>
</tr>
<tr>
<td>[KATE] â€¦ and you know <strong>how suddenly things just come out of nowhere?</strong></td>
<td></td>
</tr>
<tr>
<td>[KATE] Well, I had a lot of shopping bags, and I was <strong>putting on my lip gloss</strong> as I was driving.</td>
<td></td>
</tr>
<tr>
<td>[KATE] I know - stupid. And then â€¦ and then, I just didnâ€™t see it.</td>
<td></td>
</tr>
<tr>
<td>[KATE] <code>It all happened so, so fast</code>.</td>
<td></td>
</tr>
<tr>
<td>[KATE] I was putting on my lip gloss, and then â€˜Bang!â€™</td>
<td></td>
</tr>
<tr>
<td>[KATE] I hit his car.</td>
<td></td>
</tr>
<tr>
<td>[KATE] But there was a reward: the driver.</td>
<td></td>
</tr>
<tr>
<td>[KATE] He is great !</td>
<td></td>
</tr>
<tr>
<td>[EMMA] Oh, I see. So now this guy <strong>is interested in you</strong>.</td>
<td></td>
</tr>
<tr>
<td>[EMMA] You hit his car!</td>
<td></td>
</tr>
<tr>
<td>[KATE] Yeah. and itâ€™s a nice car, too.</td>
<td></td>
</tr>
<tr>
<td>[EMMA] Yeah, and he was probably very angry.</td>
<td></td>
</tr>
<tr>
<td>[KATE] Not very angry.</td>
<td></td>
</tr>
<tr>
<td>[KATE] He called me later about the accident, and he invited me to dinner.</td>
<td></td>
</tr>
<tr>
<td>[EMMA] No way!</td>
<td></td>
</tr>
<tr>
<td>[KATE] Yep. We have a date.</td>
<td></td>
</tr>
<tr>
<td>[EMMA] Why am I not surprised?</td>
<td></td>
</tr>
<tr>
<td>[KATE] Come on! Letâ€™s go.</td>
<td></td>
</tr>
</tbody>
</table>
<h3 id="1-1-Grammar"><a href="#1-1-Grammar" class="headerlink" title="1.1 Grammar"></a>1.1 Grammar</h3><ul>
<li>In 1960, they were both living in France.</li>
<li>Larry was <code>working</code> in Orleans.</li>
</ul>
<ul>
<li>Where did they meet ?</li>
<li>Was she <strong>hoping</strong> to find a husband?</li>
<li>Theyâ€™re <strong>celebrating</strong> 25 years of marriage.</li>
</ul>
<ul>
<li>What was she doing?</li>
</ul>
<h3 id="1-2-Sequencing-events-in-a-story"><a href="#1-2-Sequencing-events-in-a-story" class="headerlink" title="1.2 Sequencing events in a story"></a>1.2 Sequencing events in a story</h3><blockquote>
<p><strong>At first</strong>, I didnâ€™t like him.<br><strong>In the beginning</strong>, he seemed unfriendly.<br><strong>Later</strong>, we started talking in the break room.<br><strong>After that</strong>, we had lunch a couple of times.<br><strong>Next</strong>, we went on a date.<br><strong>Finally</strong>, he asked me to marry him.<br><strong>In the end</strong>, we got married and had three children.</p>
</blockquote>
<h2 id="2-Talking-about-a-relationship"><a href="#2-Talking-about-a-relationship" class="headerlink" title="2. Talking about a relationship"></a>2. Talking about a relationship</h2><ul>
<li>close friends</li>
<li>old friends</li>
<li>My buddy</li>
<li>relatives</li>
<li>colleagues</li>
<li>acquaintance  [É™â€™kweÉªnt(É™)ns]</li>
<li>instrument</li>
<li>gorgeous</li>
</ul>
<p><img src="/images/english/ef-l5u3l2.png" alt=""></p>
<audio src="/voices/ef/l5u3-talking-about-a-relationship.m4a" controls="controls"><br>Your browser does not support the audio tag.<br></audio>

<table>
<thead>
<tr>
<th>Dialog</th>
</tr>
</thead>
<tbody>
<tr>
<td>[LISA] Petey! Peter Oakes.</td>
<td></td>
</tr>
<tr>
<td>[LISA] Hi! Lisa. Lisa Gomez. Remember me?</td>
<td></td>
</tr>
<tr>
<td>[PETER] Lisa Gomez. How can I forget?</td>
<td></td>
</tr>
<tr>
<td>[PETER] Lisa and I, eh, knew each other at university.</td>
<td></td>
</tr>
<tr>
<td>[PETER] Well, actually, you were dating Leo Cole when we first met, do you remember?</td>
<td></td>
</tr>
<tr>
<td>[LISA] Leo? Dating? No, not really.</td>
<td></td>
</tr>
<tr>
<td>[LISA] Well, he was so romantic, you know, with the flowers and the chocolates and everything. Oh, my â€¦</td>
<td></td>
</tr>
<tr>
<td>[PETER] Lisa, it was really nice to meet you, but we really have to be going now.</td>
<td></td>
</tr>
<tr>
<td>[PETER] see you around</td>
<td></td>
</tr>
<tr>
<td>[KATE] So, uh, she was dating Leo when she met you?</td>
<td></td>
</tr>
<tr>
<td>[PETER] It wasnâ€™t really like that.</td>
<td></td>
</tr>
</tbody>
</table>
<h3 id="2-2-Grammar"><a href="#2-2-Grammar" class="headerlink" title="2.2 Grammar"></a>2.2 Grammar</h3><p>Iâ€™<strong>ve known</strong> my best friend for 22 years.<br>I was writing an email <strong>when</strong> the phone rang.<br>I was taking a shower <strong>when</strong> someone knocked on the door.</p>
<table>
<thead>
<tr>
<th>word</th>
</tr>
</thead>
<tbody>
<tr>
<td>swimming</td>
<td></td>
</tr>
<tr>
<td>8 years old</td>
<td></td>
</tr>
<tr>
<td>incredibly tall</td>
<td></td>
</tr>
<tr>
<td>taller than others</td>
<td></td>
</tr>
<tr>
<td>asked a question</td>
<td></td>
</tr>
<tr>
<td>an orange swim cap</td>
<td></td>
</tr>
<tr>
<td>a purple mouth</td>
<td></td>
</tr>
<tr>
<td>laughed</td>
<td></td>
</tr>
</tbody>
</table>
<p>My Best Friend Natasha</p>
<p>I first met my best friend when we were swimming at summer camp. We were 8 years old. Natasha was incredibly tall. She was taller than all the other children. She asked me a question: â€˜Why are you wearing that orange swim cap?â€™ So I asked her: â€˜Why are you so tall?â€™ Natasha laughed. Her mouth was purple from eating strange candy. I laughed, too.    </p>
<h3 id="2-3-Reading-and-Writing"><a href="#2-3-Reading-and-Writing" class="headerlink" title="2.3 Reading and Writing"></a>2.3 Reading and Writing</h3><p>I first met my colleague, John, when we were studying at Duke University. He walked into my room, said hello, and then we started talking about history together. John looks like one of those little people in â€˜Lord of the Rings,â€™ with funny ears. He always has a smile in his eyes. He also tells crazy stories. He has one story about playing the flute in New Orleans. He was playing on the street when a river of water came down the street. He ran! In the end, both John and I got hired by BTC. Now heâ€™s an old friend.</p>
<p>I first met my colleague, Jamie, when I was getting coffee at the office eight years ago. She was putting five spoons of sugar in her cup when I walked into the coffee room. When I saw that, I really liked her. She has gorgeous red hair and a funny laugh, like a little mouse. She has lived in 12 countries;</p>
<h2 id="3-Talking-about-a-good-experience"><a href="#3-Talking-about-a-good-experience" class="headerlink" title="3. Talking about a good experience"></a>3. Talking about a good experience</h2><ul>
<li>backyard</li>
<li>guilty</li>
<li>embarrassed</li>
</ul>
<p><img src="/images/english/ef-l5u3l3.png" alt=""></p>
<audio src="/voices/ef/l5u3-talking-about-a-good-experience.m4a
" controls="controls"><br>Your browser does not support the audio tag.<br></audio>

<table>
<thead>
<tr>
<th>Dialog</th>
</tr>
</thead>
<tbody>
<tr>
<td>[PETER] Leo is my best friend.</td>
<td></td>
</tr>
<tr>
<td>[PETER] But I did not steal his girlfriend</td>
<td></td>
</tr>
<tr>
<td>[PETER] A couple of years ago, I was studying business at the university, and Lisa was in my class.</td>
<td></td>
</tr>
<tr>
<td>[PETER] I didnâ€™t know she had a boyfriend.</td>
<td></td>
</tr>
<tr>
<td>[PETER] One evening I was waiting for Lisa outside a movie theater.</td>
<td></td>
</tr>
<tr>
<td>[PETER] And, uh, I saw this other guy.</td>
<td></td>
</tr>
<tr>
<td>[PETER] He was also waiting outside the movie theater.</td>
<td></td>
</tr>
<tr>
<td>[PETER] And we started talking.</td>
<td></td>
</tr>
<tr>
<td>[PETER] Well, his date was late, too.</td>
<td></td>
</tr>
<tr>
<td>[PETER] When Lisa arrived, she looked at me, she looked at Leo, and then she ran away.</td>
<td></td>
</tr>
<tr>
<td>[PETER] She had two dates at the same time!</td>
<td></td>
</tr>
<tr>
<td>[PETER] Well, anyways, I saw Leo at school the next day, and now weâ€™re best friends!</td>
<td></td>
</tr>
</tbody>
</table>
<h3 id="3-1-Grammar"><a href="#3-1-Grammar" class="headerlink" title="3.1 Grammar"></a>3.1 Grammar</h3><table>
<thead>
<tr>
<th>Adjective</th>
<th>Adverb</th>
</tr>
</thead>
<tbody>
<tr>
<td>lucky</td>
<td>luckily</td>
</tr>
<tr>
<td>unexpected</td>
<td>unexpectedly</td>
</tr>
<tr>
<td>fortunate</td>
<td>fortunately</td>
</tr>
<tr>
<td>grateful</td>
<td>gratefully</td>
</tr>
<tr>
<td>positive</td>
<td>positively</td>
</tr>
<tr>
<td>surpring</td>
<td>surpringly</td>
</tr>
</tbody>
</table>
<ul>
<li>Heather <strong>got an unexpected promotion</strong> at work.</li>
<li>Fortunately, Jean found her wallet.</li>
<li>Surprisingly, John didnâ€™t get the job.</li>
<li>I was really embarrassed.</li>
<li>I felt <strong>guilty</strong>.</li>
<li>He seemed upset.    </li>
<li>The hike was fantastic!</li>
<li>Something crazy happened.</li>
</ul>
<h3 id="3-2-Expressions"><a href="#3-2-Expressions" class="headerlink" title="3.2 Expressions"></a>3.2 Expressions</h3><p><strong>Listen to the audio. Move the text to the correct gaps.</strong></p>
<table>
<thead>
<tr>
<th>text</th>
</tr>
</thead>
<tbody>
<tr>
<td>I finally went up OId Rag Mountain.</td>
<td></td>
</tr>
<tr>
<td>I feel fantastic !</td>
<td></td>
</tr>
<tr>
<td>Something crazy happened, though. I felt guilty leaving him here.</td>
<td></td>
</tr>
<tr>
<td>Yeah, he was a little upset when you left.</td>
<td></td>
</tr>
<tr>
<td>He seems okay  now.</td>
<td></td>
</tr>
</tbody>
</table>
<ul>
<li>Did he seem calm after going to the spa?</li>
<li>Everyone seemed so embarrassed.</li>
<li>I forgot the date and felt guilty for three days.</li>
</ul>
<table>
<thead>
<tr>
<th>Dialog</th>
</tr>
</thead>
<tbody>
<tr>
<td>MELISSA: Okay, so Ralph <strong>walks up to</strong> me, and he has a picture  in his hand.</td>
<td></td>
</tr>
<tr>
<td>NICK: A picture of what?</td>
<td></td>
</tr>
<tr>
<td>MELISSA: A cat. In a pink sweater.</td>
<td></td>
</tr>
<tr>
<td>NICK: What? Whose cat?</td>
<td></td>
</tr>
<tr>
<td>MELISSA: His. The cat in the pink sweater is Ralphâ€™s!</td>
<td></td>
</tr>
<tr>
<td>NICK: Really?</td>
<td></td>
</tr>
<tr>
<td>MELISSA: Yep, and so Ralph gives  me the picture. He says  , â€˜Isnâ€™t Lucky cute in this picture?â€™</td>
<td></td>
</tr>
<tr>
<td>NICK: Ha! Very surprising.</td>
<td></td>
</tr>
<tr>
<td>MELISSA: I know! I couldnâ€™t believe it! Ralph isnâ€™t all bad. He is very strange, though.</td>
<td></td>
</tr>
</tbody>
</table>
<h2 id="4-Telling-a-story-about-a-bad-experience"><a href="#4-Telling-a-story-about-a-bad-experience" class="headerlink" title="4. Telling a story about a bad experience"></a>4. Telling a story about a bad experience</h2><table>
<thead>
<tr>
<th>Word</th>
<th>meaning</th>
</tr>
</thead>
<tbody>
<tr>
<td>delivery [dÉªâ€™lÉªv(É™)rÉª]</td>
<td></td>
</tr>
<tr>
<td>disaster [dÉªâ€™zÉ‘ËstÉ™]</td>
<td></td>
</tr>
<tr>
<td>pothole [â€˜pÉ’thÉ™ÊŠl]</td>
<td></td>
</tr>
<tr>
<td>motorcycle</td>
<td></td>
</tr>
</tbody>
</table>
<blockquote>
<p>swerved [swÉœËv] | vi, vt, n.</p>
</blockquote>
<p><img src="/images/english/ef-l5u3l4.png" alt=""></p>
<audio src="/voices/ef/l5u3-story-about-a-bad-experience.m4a
" controls="controls"><br>Your browser does not support the audio tag.<br></audio>

<table>
<thead>
<tr>
<th>Dialog</th>
</tr>
</thead>
<tbody>
<tr>
<td>[JAKE] Have I ever told you about my job as a pizza delivery guy?</td>
<td></td>
</tr>
<tr>
<td>[SIMON] No. What about it?</td>
<td></td>
</tr>
<tr>
<td>[JAKE] It ended in disaster.</td>
<td></td>
</tr>
<tr>
<td>[SIMON] What happened?</td>
<td></td>
</tr>
<tr>
<td>[JAKE] One night, I had a really big delivery, like, 20 pizzas. They were on the back of the motorcycle.</td>
<td></td>
</tr>
<tr>
<td>[JAKE] I was driving down the road, and I was in a hurry, and then this dog ran out in front of me.</td>
<td></td>
</tr>
<tr>
<td>[JAKE] So I swerved, and I missed the dog. But I hit this really big pothole.</td>
<td></td>
</tr>
<tr>
<td>[SIMON] So then what happened?</td>
<td></td>
</tr>
<tr>
<td>[JAKE] There were pizzas all over the street, and I ended up on the sidewalk.</td>
<td></td>
</tr>
<tr>
<td>[SIMON] Ouch !</td>
<td></td>
</tr>
<tr>
<td>[JAKE] And <strong>while they were putting me into the ambulance, the neighborhood dogs were having a pizza party</strong>.</td>
<td></td>
</tr>
<tr>
<td>[SIMON] Were you badly hurt?</td>
<td></td>
</tr>
<tr>
<td>[JAKE] No. I just had a broken arm â€¦ and no job.</td>
<td></td>
</tr>
</tbody>
</table>
<blockquote>
<p>How terrible!</p>
</blockquote>
<h3 id="4-1-Grammar"><a href="#4-1-Grammar" class="headerlink" title="4.1 Grammar"></a>4.1 Grammar</h3><table>
<thead>
<tr>
<th>clauses with past continuous</th>
</tr>
</thead>
<tbody>
<tr>
<td>While it was raining, the electricity went out.</td>
<td></td>
</tr>
<tr>
<td>The electricity came back on while we were sleeping.</td>
<td></td>
</tr>
<tr>
<td>While it was raining, he took a nap.</td>
<td></td>
</tr>
<tr>
<td>The phone rang while I was taking a shower.</td>
<td></td>
</tr>
<tr>
<td>She was watching TV while he was studying.</td>
<td></td>
</tr>
</tbody>
</table>
<blockquote>
<p>â€˜Whileâ€™ clauses with past continuous</p>
</blockquote>
<h3 id="4-2-Expressions"><a href="#4-2-Expressions" class="headerlink" title="4.2 Expressions"></a>4.2 Expressions</h3><ul>
<li>I was watching a movie at the theater.</li>
<li>She was laughing and laughing.</li>
<li>That was my best date ever.</li>
</ul>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[EF 5.2 Making decisions]]></title>
      <url>http://iequa.com/2017/06/19/ef-l5u2-Making-Decisions/</url>
      <content type="html"><![CDATA[<style>
img {
        display: block !important;
        width: 550px;
        margin-left: 120px !important;
}
audio {
        display: block !important;
        width: 550px;
        margin-left: 120px !important;
}

</style>

<h2 id="1-Comparing-options"><a href="#1-Comparing-options" class="headerlink" title="1. Comparing options"></a>1. Comparing options</h2><ul>
<li>parrot [ËˆperÉ™t] </li>
<li>turtle [ËˆtÉœ:rtl] </li>
<li>rabbit</li>
<li>goldfish</li>
</ul>
<p><img src="/images/english/ef-l5u2l1.png" alt=""></p>
<audio src="/voices/ef/l5u2-comparing-options.m4a" controls="controls"><br>Your browser does not support the audio tag.<br></audio>

<table>
<thead>
<tr>
<th>Dialog</th>
</tr>
</thead>
<tbody>
<tr>
<td>[LEO] They say that a dog is a manâ€™s best friend.</td>
<td></td>
</tr>
<tr>
<td>[LEO] In Britain, some people spend <strong>as much money on their pets as</strong> others spend on their children.</td>
<td></td>
</tr>
<tr>
<td>[LEO] I know.</td>
<td></td>
</tr>
<tr>
<td>[LEO] You know, they â€¦ they â€¦ they buy presents for them.</td>
<td></td>
</tr>
<tr>
<td>[LEO] They take pictures with them!</td>
<td></td>
</tr>
<tr>
<td>[LEO] In my job, I meet a lot of interesting people, and their pets.</td>
<td></td>
</tr>
<tr>
<td>[LEO] Wow! Look at your hair!</td>
<td></td>
</tr>
<tr>
<td>[MRS.JAMES] Yeah, you like it?</td>
<td></td>
</tr>
<tr>
<td>[MRS.JAMES] Itâ€™s as white as Cocoâ€™s now. Coco loves Mommyâ€™s hair. Yes, she does!</td>
<td></td>
</tr>
<tr>
<td>[MRS.JAMES] Mommyâ€™s as beautiful as Coco now. Mommy loves her Coco. They did her hair and nails yesterday.</td>
<td></td>
</tr>
<tr>
<td>[MRS. JAMES] Isnâ€™t she beautiful?</td>
<td></td>
</tr>
<tr>
<td>[LEO] As beautiful as a princess<code>[prÉªn&#39;ses]</code>.</td>
<td></td>
</tr>
<tr>
<td>[LEO] Whoa! Hi, Miles!</td>
<td></td>
</tr>
<tr>
<td>[LEO] Long time, no see, boy!</td>
<td></td>
</tr>
<tr>
<td>[MR.BRADY] Heâ€™s almost as big as me.</td>
<td></td>
</tr>
<tr>
<td>[MR.BRADY] Weâ€™re both on a <code>diet</code> [â€˜daÉªÉ™t].</td>
<td></td>
</tr>
<tr>
<td>[MR. BRADY] Iâ€™m as hungry as a bear.</td>
<td></td>
</tr>
<tr>
<td>[MR. BRADY] Now we go for long walks.</td>
<td></td>
</tr>
<tr>
<td>[MR. BRADY] See you later.</td>
<td></td>
</tr>
</tbody>
</table>
<h3 id="1-1-grammar"><a href="#1-1-grammar" class="headerlink" title="1.1 grammar"></a>1.1 grammar</h3><ul>
<li>My cat, Gatsby, is as intelligent as a person. </li>
<li>That dog isnâ€™t as loud as my parrot. </li>
</ul>
<table>
<thead>
<tr>
<th>Dialog</th>
</tr>
</thead>
<tbody>
<tr>
<td>A: What does your dog look like?</td>
<td></td>
</tr>
<tr>
<td>B: Heâ€™s really big and he has black fur.</td>
<td></td>
</tr>
<tr>
<td>A: Did I tell you what my dog did?</td>
<td></td>
</tr>
<tr>
<td>B: No. What happened?</td>
<td></td>
</tr>
<tr>
<td>A: What did it look like?</td>
<td></td>
</tr>
<tr>
<td>B: It had really big ears.</td>
<td></td>
</tr>
<tr>
<td>A: Which do you prefer?</td>
<td></td>
</tr>
<tr>
<td>B: I think I prefer cats.</td>
<td></td>
</tr>
</tbody>
</table>
<h2 id="2-Making-decisions"><a href="#2-Making-decisions" class="headerlink" title="2. Making decisions"></a>2. Making decisions</h2><table>
<thead>
<tr>
<th>seal</th>
<th>cheetah[ËˆtÊƒi:tÉ™]</th>
<th>penguin [ËˆpeÅ‹gwÉªn]</th>
</tr>
</thead>
<tbody>
<tr>
<td>zebra</td>
<td>dolphin[â€˜dÉ’lfÉªn]</td>
<td>whale [weÉªl]</td>
</tr>
</tbody>
</table>
<p><img src="/images/english/ef-l5u2l2.png" alt=""></p>
<audio src="/voices/ef/l5u2-making-decision.m4a" controls="controls"><br>Your browser does not support the audio tag.<br></audio>

<table>
<thead>
<tr>
<th>Dialog</th>
</tr>
</thead>
<tbody>
<tr>
<td>[SALLY] Hey, Todd, whatâ€™s all this?</td>
<td></td>
</tr>
<tr>
<td>[TODD] Iâ€™m planning a trip with my family. I want something big this year, something really special for the kids.</td>
<td></td>
</tr>
<tr>
<td>[SALLY] Where are you <code>thinking of going</code>?</td>
<td></td>
</tr>
<tr>
<td>[TODD] <code>Itâ€™s down to two options</code>: Patagonia, or Kenya.</td>
<td></td>
</tr>
<tr>
<td>[SALLY] Wow! Cool!</td>
<td></td>
</tr>
<tr>
<td>[TODD] Yeah. Both places have <code>amazing animals</code>. My kids are crazy about animals.</td>
<td></td>
</tr>
<tr>
<td>[TODD] You see, theyâ€™ve been to the zoo, but I want them to see animals in the wild.</td>
<td></td>
</tr>
<tr>
<td>[SALLY] Yeah.</td>
<td></td>
</tr>
<tr>
<td>[TODD] So, itâ€™s down to whales, penguins and seals in Patagonia; or, zebras, lions and elephants in Kenya. I feel like a child, too, planning this trip.</td>
<td></td>
</tr>
<tr>
<td>[SALLY] Maybe <code>I should go on a trip</code>. Where did you get these brochures?  [broâ€™ÊƒÊŠr]</td>
<td></td>
</tr>
<tr>
<td>[TODD] Oh. Thereâ€™s a great little travel agency on 6th Street. They have some great deals right now.</td>
<td></td>
</tr>
</tbody>
</table>
<ul>
<li>Iâ€™m planning an amazing trip.</li>
<li>Which animals are you planning to see?</li>
</ul>
<h3 id="2-1-grammar"><a href="#2-1-grammar" class="headerlink" title="2.1 grammar"></a>2.1 grammar</h3><ul>
<li>Whales are the <strong>biggest</strong> animals.    </li>
<li>The <strong>fastest</strong> runner is the cheetah.</li>
<li>Penguins live in the <strong>coldest</strong> places on earth.</li>
</ul>
<blockquote>
<p>intelligent &gt; most intelligent / least intelligent</p>
</blockquote>
<ul>
<li>Penguins live in the coldest places on earth</li>
<li>Dolphins are probably the most intelligent animal.</li>
</ul>
<h3 id="2-2-reading"><a href="#2-2-reading" class="headerlink" title="2.2 reading"></a>2.2 reading</h3><p>Of all animals, the cheetah is the fastest runner. Cheetahs can run faster than 95 kilometers an hour. (The slowest animal is the sloth. It moves slower than one kilometer per hour.) Cheetahs have very large eyes, but maybe the most interesting thing about cheetahs is their colors. Their black and yellow colors are perhaps the most gorgeous of any animal. Their fur looks just like the African wilderness, so itâ€™s difficult to see them. Itâ€™s unlikely that youâ€™ll ever visit the beautiful cheetah in the wilderness of Africa, or the Middle East. The easiest way to see a cheetah is to come here. Today, 10 amazing cheetahs are living with us at Adventure Park.</p>
<h2 id="3-Discussing-the-details"><a href="#3-Discussing-the-details" class="headerlink" title="3. Discussing the details"></a>3. Discussing the details</h2><p><img src="/images/english/ef-l5u2l3-word.png" alt=""></p>
<table>
<thead>
<tr>
<th>volcano  [vÉ’lâ€™keÉªnÉ™ÊŠ]</th>
<th>package tours</th>
<th>coral reefs  [â€˜kÉ’r(É™)l]</th>
</tr>
</thead>
<tbody>
<tr>
<td>rainforest</td>
<td>desert</td>
<td>glacier  [â€˜gleÉªsÉªÉ™]</td>
</tr>
</tbody>
</table>
<p><img src="/images/english/ef-l5u2l3.png" alt=""></p>
<audio src="/voices/ef/l5u2-discussing-the-details.m4a" controls="controls"><br>Your browser does not support the audio tag.<br></audio>

<table>
<thead>
<tr>
<th>Dialog</th>
</tr>
</thead>
<tbody>
<tr>
<td>[AGENT] Good afternoon. May I help you?</td>
<td></td>
</tr>
<tr>
<td>[SALLY] Iâ€™m thinking about taking a vacation in March.</td>
<td></td>
</tr>
<tr>
<td>[AGENT] <code>How many of you are there?</code></td>
<td></td>
</tr>
<tr>
<td>[SALLY] Two. Iâ€™m going with a friend.</td>
<td></td>
</tr>
<tr>
<td>[AGENT] Okay. And, uh, where are you thinking of going?</td>
<td></td>
</tr>
<tr>
<td>[SALLY] We havenâ€™t decided yet. We want a relaxing vacation, definitely a nice beach, some nature, and not too expensive. <code>What would you suggest</code>?</td>
<td></td>
</tr>
<tr>
<td>[AGENT] Well, at that time of year, Iâ€™d recommend Hawaii. They have some of the best <code>package tours</code>.</td>
<td></td>
</tr>
<tr>
<td>[SALLY] Iâ€™ve always wanted to go to Hawaii.</td>
<td></td>
</tr>
<tr>
<td>[AGENT] I just got this brochure from a hotel in Maui, <code>right on the ocean</code>. Great diving just off the beach, lots of coral reefs and mountains not too far away.</td>
<td></td>
</tr>
<tr>
<td>[SALLY] That sounds perfect! Oh! And can we see a volcano?</td>
<td></td>
</tr>
<tr>
<td>[AGENT] Thatâ€™s actually on another island, but I can arrange a tour.</td>
<td></td>
</tr>
<tr>
<td>[SALLY] Cool. So <code>how much would it all be</code>?</td>
<td></td>
</tr>
<tr>
<td>[AGENT] Well, how many nights would you like to stay?</td>
<td></td>
</tr>
<tr>
<td>[SALLY] Ummm, maybe six? Or seven?</td>
<td></td>
</tr>
<tr>
<td>[AGENT] Okay. Give me a minute, and I can give you some prices.</td>
<td></td>
</tr>
</tbody>
</table>
<h3 id="3-2-grammar"><a href="#3-2-grammar" class="headerlink" title="3.2 grammar"></a>3.2 grammar</h3><table>
<thead>
<tr>
<th>Dialog</th>
</tr>
</thead>
<tbody>
<tr>
<td>The weather in Hawaii is the best in the United States.</td>
<td></td>
</tr>
<tr>
<td>It was a worse vacation than last year.</td>
<td></td>
</tr>
<tr>
<td>It was the worst vacation ever.</td>
<td></td>
</tr>
<tr>
<td>A glacier is a really bad place to be in the winter.</td>
<td></td>
</tr>
<tr>
<td>The weather this year was worse than last year</td>
<td></td>
</tr>
</tbody>
</table>
<blockquote>
<p>My summer vacation in the United States</p>
<p>I just returned from the United States. I had a really good time. <strong>Los Angeles was the best place I went</strong>. There were amazing beaches and great things to do. I also loved New York and Chicago, but Chicago was better than New York. The people were wonderful. Dallas was the worst place. It was too hot!</p>
</blockquote>
<h3 id="3-3-expressions"><a href="#3-3-expressions" class="headerlink" title="3.3 expressions"></a>3.3 expressions</h3><table>
<thead>
<tr>
<th>Dialog</th>
</tr>
</thead>
<tbody>
<tr>
<td>A: When are you thinking of going?</td>
<td></td>
</tr>
<tr>
<td>B: Iâ€™m thinking of going in January.</td>
<td></td>
</tr>
<tr>
<td>A: What are you looking for, exactly?</td>
<td></td>
</tr>
<tr>
<td>B: Iâ€™m interested in going somewhere beautiful.</td>
<td></td>
</tr>
<tr>
<td>A: Are you thinking more of mountains or the ocean?</td>
<td></td>
</tr>
<tr>
<td>B: Iâ€™m thinking more of the mountains.</td>
<td></td>
</tr>
<tr>
<td>B: What would you suggest? What would you recommend?</td>
<td></td>
</tr>
<tr>
<td>A: Iâ€™d recommend that you go to Hawaii.</td>
<td></td>
</tr>
</tbody>
</table>
<h2 id="4-Summarizing-decisions"><a href="#4-Summarizing-decisions" class="headerlink" title="4. Summarizing decisions"></a>4. Summarizing decisions</h2><ul>
<li>trail [trel] ã€stream ã€ bushã€backpacking</li>
</ul>
<p><img src="/images/english/ef-l5u2l4.png" alt=""></p>
<audio src="/voices/ef/l5u2-summarizing-decisions.m4a" controls="controls"><br>Your browser does not support the audio tag.<br></audio>

<table>
<thead>
<tr>
<th>Dialog</th>
</tr>
</thead>
<tbody>
<tr>
<td>[SIMON] Thatâ€™s Jake in Barcelona. [,ba:siâ€™lÉ™unÉ™]</td>
<td></td>
</tr>
<tr>
<td>[PAM] cool.</td>
<td></td>
</tr>
<tr>
<td>[SIMON] And thatâ€™s me at the Eiffel Tower.</td>
<td></td>
</tr>
<tr>
<td>[PAM] Ha-ha! Nice.</td>
<td></td>
</tr>
<tr>
<td>[SIMON] Ooh! And these are the mountains in Switzerland. [ËˆswÉªtsÉ™lÉ™nd]</td>
<td></td>
</tr>
<tr>
<td>[PAM] Wow! Beautiful trees. And <strong>amazing mountain flowers. Those colors.</strong></td>
<td></td>
</tr>
<tr>
<td>[SIMON] Yeah, it was really beautiful.</td>
<td></td>
</tr>
<tr>
<td>[PAM] Letâ€™s try hiking in the mountains sometime. <strong>Iâ€™ve never done it before</strong>.</td>
<td></td>
</tr>
<tr>
<td>[JAKE] Really? Youâ€™ve never gone hiking before?</td>
<td></td>
</tr>
<tr>
<td>[PAM] No. <code>I mean, itâ€™s not something my family did</code>.</td>
<td></td>
</tr>
<tr>
<td>[JAKE] Well, if you do go hiking, <strong>youâ€™d better be careful</strong>. The mountains can be dangerous.</td>
<td></td>
</tr>
<tr>
<td>[SIMON] Yeah. Donâ€™t go into the mountains alone. <strong>Go with a group of people</strong>.</td>
<td></td>
</tr>
<tr>
<td>[JAKE] Also, uh, <code>it can be freezing cold</code> at night, even in the summer.</td>
<td></td>
</tr>
<tr>
<td>[SIMON] Make sure you get excellent equipment, especially boots and a tent.</td>
<td></td>
</tr>
<tr>
<td>[JAKE] And always tell someone where youâ€™re going.</td>
<td></td>
</tr>
<tr>
<td>[PAM] Okay. Donâ€™t go alone. Get excellent equipment. Be careful. Tell someone where youâ€™re going. I got it. Hey, why donâ€™t we go hiking this weekend?</td>
<td></td>
</tr>
<tr>
<td>[SIMON] Well, uh, I have work to do this weekend.</td>
<td></td>
</tr>
<tr>
<td>[JAKE] And I have a, uh â€¦ thing.</td>
<td></td>
</tr>
<tr>
<td>[PAM] <code>Did you even go up these mountains?</code></td>
<td></td>
</tr>
<tr>
<td>[SIMON] Of course, we did.</td>
<td></td>
</tr>
<tr>
<td>[SIMON] Thatâ€™s us at the Munich beer festival!</td>
<td></td>
</tr>
</tbody>
</table>
<blockquote>
<p>Munich beer [ËˆmjunÉªk bÉªr]</p>
</blockquote>
<h3 id="4-2-expressions"><a href="#4-2-expressions" class="headerlink" title="4.2 expressions"></a>4.2 expressions</h3><table>
<thead>
<tr>
<th>Dialog</th>
</tr>
</thead>
<tbody>
<tr>
<td>JOHNNY: Iâ€™m going <code>backpacking</code> this weekend.</td>
<td></td>
</tr>
<tr>
<td>MOM: Well, donâ€™t go alone.</td>
<td></td>
</tr>
<tr>
<td>JOHNNY: Iâ€™m not. <strong>Iâ€™m going</strong> with some friends.</td>
<td></td>
</tr>
<tr>
<td>MOM: And make sure you have good shoes.</td>
<td></td>
</tr>
<tr>
<td>JOHNNY:  <strong>I do have good shoes</strong>.</td>
<td></td>
</tr>
<tr>
<td>MOM: OK, thatâ€™s good. <strong>Be sure to stay on the trails</strong>. n. å±±å¾„ï¼›è¸ªè¿¹ï¼ˆtrailçš„å¤æ•°ï¼‰ï¼›æ¸¸å¾„</td>
<td></td>
</tr>
<tr>
<td>JOHNNY: I will.</td>
<td></td>
</tr>
<tr>
<td>MOM: And <strong>youâ€™d better</strong> get a good jacket.</td>
<td></td>
</tr>
<tr>
<td>JOHNNY: Mom, Iâ€™m going to be OK.</td>
<td></td>
</tr>
<tr>
<td>MOM: Iâ€™m sorry. I just love you, and I worry.</td>
<td></td>
</tr>
</tbody>
</table>
<h3 id="4-3-writing"><a href="#4-3-writing" class="headerlink" title="4.3 writing"></a>4.3 writing</h3><p>Using commas</p>
<ul>
<li>When I was on vacation in Chile, I saw a lot of wild animals.</li>
<li>After I got home, I looked at all my photographs.</li>
</ul>
<p>I live in San Francisco, California [,kÃ¦lÉªâ€™fÉ”:njÉ™]. There are wonderful plants and animals here. In the city, there are wonderful parks with a lot of beautiful birds, rabbits, turtles and other animals. When I go there, I always sit under the big redwood, <strong>oak  [É™ÊŠk] and pine trees</strong>. Redwoods are the tallest trees in the world. San Francisco is on the Pacific Ocean. You can sometimes see whales swimming in the ocean. Whales are the largest animals in the world.</p>
<p>My name is Blair. I live in Hangzhou, China. Hangzhou is the most beautiful city in the China. We have incredible nature lake in my state. There are a lot of forests and mountains. West lake Nine Stream is the largest stream in the Hangzhou. Iâ€™d suggest you hike Nine Stream. I often see deer and kinds of birds. But, Donâ€™t go hiking alone.</p>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[EF 5.1 Travel]]></title>
      <url>http://iequa.com/2017/06/14/ef-l5u1-Travel/</url>
      <content type="html"><![CDATA[<style>
img {
        display: block !important;
        width: 550px;
        margin-left: 120px !important;
}
audio {
        display: block !important;
        width: 550px;
        margin-left: 120px !important;
}

</style>

<h2 id="1-Talking-about-flight-arrangements"><a href="#1-Talking-about-flight-arrangements" class="headerlink" title="1. Talking about flight arrangements"></a>1. Talking about flight arrangements</h2><ul>
<li>boarding pass</li>
<li>luggage</li>
<li>pack</li>
</ul>
<p><img src="/images/english/ef-l5u1l1.png" alt=""></p>
<audio src="/voices/ef/l5u1-travel-flight-arrangements.m4a" controls="controls"><br>Your browser does not support the audio tag.<br></audio>

<table>
<thead>
<tr>
<th>Dialog</th>
</tr>
</thead>
<tbody>
<tr>
<td>[TODD] Passport, ticket, uh, donâ€™t need a visa for Sweden.</td>
<td></td>
</tr>
<tr>
<td>[SALLY] Are you going somewhere?</td>
<td></td>
</tr>
<tr>
<td>[TODD] Joan called last night, around 3 oâ€™clock.</td>
<td></td>
</tr>
<tr>
<td>[SALLY] in the morning?</td>
<td></td>
</tr>
<tr>
<td>[TODD] Yeah. Iâ€™m flying to, uh, Stockholm. Thereâ€™s a â€¦ She needs help with a client. I packed this morning.</td>
<td></td>
</tr>
<tr>
<td>[SALLY] Stockholm? Thatâ€™s a long trip. Looks like youâ€™re in a hurry.</td>
<td></td>
</tr>
<tr>
<td>[TODD] My flight leaves in three hours, and I havenâ€™t printed my boarding pass, called a taxi or â€¦</td>
<td></td>
</tr>
<tr>
<td>[SALLY] Todd, let me help. How about you print your boarding pass? Iâ€™ll call a taxi for you. What timeâ€™s your flight?</td>
<td></td>
</tr>
<tr>
<td>[TODD] Itâ€™s 5:15.</td>
<td></td>
</tr>
<tr>
<td>[SALLY] You have plenty of time. Whatâ€™s the airline?</td>
<td></td>
</tr>
<tr>
<td>[TODD] Itâ€™s, uh, itâ€™s Western Airlines. I leave from, uh, the international terminal.</td>
<td></td>
</tr>
<tr>
<td>[SALLY] Okay. Western. No problem. Yes. I need a taxi at 3 p.m.</td>
<td></td>
</tr>
</tbody>
</table>
<h3 id="1-1-grammar"><a href="#1-1-grammar" class="headerlink" title="1.1 grammar"></a>1.1 grammar</h3><ul>
<li>I have printed my boarding pass.</li>
<li>She has lost her ticket.    </li>
</ul>
<table>
<thead>
<tr>
<th>The subject pronoun</th>
<th>have are contracted as follows</th>
</tr>
</thead>
<tbody>
<tr>
<td>I have worded</td>
<td>Iâ€™ve worded.</td>
</tr>
<tr>
<td>You have    worked</td>
<td>Youâ€™ve    worked.</td>
</tr>
<tr>
<td>It has rained</td>
<td>Itâ€™s    rained.</td>
</tr>
<tr>
<td>He has worked</td>
<td>Heâ€™s worked.</td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr>
<th>Dialog</th>
</tr>
</thead>
<tbody>
<tr>
<td>A: Has she packed her bags?</td>
<td></td>
</tr>
<tr>
<td>B: Yes, she has.</td>
<td></td>
</tr>
<tr>
<td>A: Have the Taylors bought their tickets?</td>
<td></td>
</tr>
<tr>
<td>B: No, they havenâ€™t.</td>
<td></td>
</tr>
</tbody>
</table>
<ul>
<li>Alice has <code>bought</code> a new suitcase.</li>
<li>Have you <code>packed</code> your bags?</li>
<li>I have lost my passport.</li>
<li>They have worked so hard!</li>
<li>He hasnâ€™t found my sweater.</li>
</ul>
<h3 id="1-2-expressions"><a href="#1-2-expressions" class="headerlink" title="1.2 expressions"></a>1.2 expressions</h3><table>
<thead>
<tr>
<th>Dialog</th>
</tr>
</thead>
<tbody>
<tr>
<td>A: When are you leaving?</td>
<td></td>
</tr>
<tr>
<td>B: On the 23rd.</td>
<td></td>
</tr>
<tr>
<td>A: When are you returning?</td>
<td></td>
</tr>
<tr>
<td>B: On Friday the 31st.</td>
<td></td>
</tr>
<tr>
<td>A: What timeâ€™s your flight?</td>
<td></td>
</tr>
<tr>
<td>B: Itâ€™s at 7:38 a.m.</td>
<td></td>
</tr>
<tr>
<td>A: Whatâ€™s the airline?</td>
<td></td>
</tr>
<tr>
<td>B: Air Pacifica.</td>
<td></td>
</tr>
<tr>
<td>A: When do you arrive in Paris?</td>
<td></td>
</tr>
<tr>
<td>B: At 11:42 p.m.</td>
<td></td>
</tr>
<tr>
<td>A: Is that our time or Paris time?</td>
<td></td>
</tr>
<tr>
<td>B: Paris time.</td>
<td></td>
</tr>
<tr>
<td>A: Which airport do you fly out of?</td>
<td></td>
</tr>
<tr>
<td>B: Oâ€™Hare.</td>
<td></td>
</tr>
<tr>
<td>A: Which airport do you fly in to?</td>
<td></td>
</tr>
<tr>
<td>B: I fly in to De Gaulle.</td>
<td></td>
</tr>
</tbody>
</table>
<h2 id="2-Checking-in-for-a-flight"><a href="#2-Checking-in-for-a-flight" class="headerlink" title="2. Checking in for a flight"></a>2. Checking in for a flight</h2><ul>
<li>boarding pass</li>
<li>luggage [â€˜lÊŒgÉªdÊ’]</li>
</ul>
<p><img src="/images/english/ef-l5u1l2.png" alt=""></p>
<audio src="/voices/ef/l5u1-travel-Checking-in-for-a-flight.m4a" controls="controls"><br>Your browser does not support the audio tag.<br></audio>

<table>
<thead>
<tr>
<th>Dialog</th>
</tr>
</thead>
<tbody>
<tr>
<td>[AGENT] Good afternoon. Where are you flying today?</td>
<td></td>
</tr>
<tr>
<td>[TODD] Iâ€™m flying to Stockholm.  [â€˜stÉ”khÉ™um; â€˜stÉ”:k,hÉ”:lm]</td>
<td></td>
</tr>
<tr>
<td>[AGENT] May I see your passport, please?</td>
<td></td>
</tr>
<tr>
<td>[TODD] Yes. Here you are. Do you need to see my boarding pass?</td>
<td></td>
</tr>
<tr>
<td>[AGENT] Uh, no, I donâ€™t. Unfortunately, your flight has been delayed. <code>Itâ€™s now scheduled to depart at 6 p.m.</code> [ÊŒnËˆfÉ”ËtÊƒÉ™nÉ™tli]</td>
<td></td>
</tr>
<tr>
<td>[TODD] Oh, well. Thatâ€™s not too bad.</td>
<td></td>
</tr>
<tr>
<td>[AGENT] Iâ€™m sorry for any inconvenience. [ÉªnkÉ™nâ€™viËnÉªÉ™ns]</td>
<td></td>
</tr>
<tr>
<td>[TODD] Thatâ€™s okay.</td>
<td></td>
</tr>
<tr>
<td>[AGENT] Are you checking any bags today?</td>
<td></td>
</tr>
<tr>
<td>[TODD] Yes. I have one bag to check and one bag to carry on.</td>
<td></td>
</tr>
<tr>
<td>[AGENT] Have you left your bags unattended at any time?</td>
<td></td>
</tr>
<tr>
<td>[TODD] No. Iâ€™ve always had my bags with me.</td>
<td></td>
</tr>
<tr>
<td>[AGENT] Okay. Thatâ€™s good. Right now you have a middle seat. Would you prefer a window seat or an aisle seat? [aÉªl]</td>
<td></td>
</tr>
<tr>
<td>[TODD] Umm, an <code>aisle seat</code>, please.</td>
<td></td>
</tr>
<tr>
<td>[AGENT] Okay. Hereâ€™s your new boarding pass and your <code>baggage claim</code>.</td>
<td></td>
</tr>
<tr>
<td>[TOOD] Thanks.</td>
<td></td>
</tr>
<tr>
<td>[AGENT] Go through security, and your flight to Stockholm will depart from Gate B25. The flight boards at 5:30.</td>
<td></td>
</tr>
<tr>
<td>[TODD] Gate B25. Okay. Thank you.</td>
<td></td>
</tr>
</tbody>
</table>
<h2 id="3-Getting-to-your-hotel"><a href="#3-Getting-to-your-hotel" class="headerlink" title="3. Getting to your hotel"></a>3. Getting to your hotel</h2><ul>
<li>limousine</li>
<li>express train</li>
<li>shuttle  [ËˆÊƒÊŒtl] </li>
<li>rental car</li>
</ul>
<p><img src="/images/english/ef-l5u1l3.png" alt=""></p>
<table>
<thead>
<tr>
<th>Dialog</th>
</tr>
</thead>
<tbody>
<tr>
<td>[TODD] Excuse me. Could you help me?</td>
<td></td>
</tr>
<tr>
<td>[PASSERBY] Sure. What do you need?</td>
<td></td>
</tr>
<tr>
<td>[TODD] How do I get downtown? Iâ€™m staying in a hotel there.</td>
<td></td>
</tr>
<tr>
<td>[PASSERBY] Uh, well, you basically have three options.</td>
<td></td>
</tr>
<tr>
<td>[TODD] Okay.</td>
<td></td>
</tr>
<tr>
<td>[PASSERBY] You can take a taxi.</td>
<td></td>
</tr>
<tr>
<td>[PASSERBY] There are also buses to downtown. Or you could take the express train.</td>
<td></td>
</tr>
<tr>
<td>[TODD] Would a taxi be the fastest?</td>
<td></td>
</tr>
<tr>
<td>[PASSERBY] Umm, not always. The trafficâ€™s usually pretty bad at this time.</td>
<td></td>
</tr>
<tr>
<td>[TODD] Oh. So what do you suggest?</td>
<td></td>
</tr>
<tr>
<td>[PASSERBY] Umm, whatâ€™s the name of your hotel?</td>
<td></td>
</tr>
<tr>
<td>[TODD] Itâ€™s the â€¦</td>
<td></td>
</tr>
<tr>
<td>[TODD] Itâ€™s the The Royal Stockholm Hotel.</td>
<td></td>
</tr>
<tr>
<td>[PASSERBY] Can I see the address?</td>
<td></td>
</tr>
<tr>
<td>[TODD] Certainly.</td>
<td></td>
</tr>
<tr>
<td>[PASSERBY] Okay, this is going to be easy. Your hotel is near Stockholm Central Station, so the best choice for you is the express train.</td>
<td></td>
</tr>
<tr>
<td>[TODD] The express train.</td>
<td></td>
</tr>
<tr>
<td>[PASSERBY] Yeah. Itâ€™s a little expensive, but itâ€™s really fast. Just get off at Central Station.</td>
<td></td>
</tr>
<tr>
<td>[TODD] Where is the express train from here?</td>
<td></td>
</tr>
<tr>
<td>[PASSERBY] Go straight this way. See the woman with the big hat?</td>
<td></td>
</tr>
<tr>
<td>[TODD] Yes.</td>
<td></td>
</tr>
<tr>
<td>[PASSERBY] Turn left there. The station is really close.</td>
<td></td>
</tr>
<tr>
<td>[TODD] Thank you very much.</td>
<td></td>
</tr>
</tbody>
</table>
<h3 id="3-1-grammar"><a href="#3-1-grammar" class="headerlink" title="3.1 grammar"></a>3.1 grammar</h3><p>Hi, Martin!</p>
<p>I <strong>have to fly</strong> to Budapest on Thursday. After I arrive, I <strong>have to</strong> go to Vaci Utca and then find Parliament. I also want to eat at an interesting restaurant, but it doesnâ€™t <strong>have to be fancy</strong>. Then I <strong>have to check in</strong> to my hotel. And Iâ€™d like to go to a good museum. Do you have any recommendations?</p>
<p>Thanks.</p>
<p>Karl</p>
<h3 id="3-2-expressions"><a href="#3-2-expressions" class="headerlink" title="3.2 expressions"></a>3.2 expressions</h3><ul>
<li>There are several options.</li>
<li>Your best option is to go by subway.</li>
<li>A rental car would be the cheapest option.</li>
</ul>
<h2 id="4-Letting-someone-know-youâ€™ve-arrived"><a href="#4-Letting-someone-know-youâ€™ve-arrived" class="headerlink" title="4. Letting someone know youâ€™ve arrived"></a>4. Letting someone know youâ€™ve arrived</h2><ul>
<li>immigration [ÉªmÉªâ€™É¡reÉªÊƒn]</li>
<li>shuttle  [ËˆÊƒÊŒtl] </li>
</ul>
<p><img src="/images/english/ef-l5u1l4.png" alt=""></p>
<table>
<thead>
<tr>
<th>Dialog</th>
</tr>
</thead>
<tbody>
<tr>
<td>[JOAN] Welcome to Stockholm. How was your flight?  [â€˜stÉ”khÉ™um]</td>
<td></td>
</tr>
<tr>
<td>[TODD] Not bad, but very long. I <strong>had to change planes</strong> in Philadelphia and London. [,filÉ™â€™delfjÉ™; -fiÉ™]</td>
<td></td>
</tr>
<tr>
<td>[JOAN] Ouch. That was a long trip. No problems in <code>customs</code> or immigration?</td>
<td></td>
</tr>
<tr>
<td>[TODD] None at all. I went through really fast.</td>
<td></td>
</tr>
<tr>
<td>[JOAN] Thatâ€™s good. Now, uh, how are you feeling? Any <code>jet lag</code>?</td>
<td></td>
</tr>
<tr>
<td>[TODD] No, not really. Back home, itâ€™s about 2 p.m., so Iâ€™m okay.</td>
<td></td>
</tr>
<tr>
<td>[JOAN] Good. Because, uh, I have some bad news.</td>
<td></td>
</tr>
<tr>
<td>[TODD] uh~</td>
<td></td>
</tr>
<tr>
<td>[JOAN] Unfortunately, our clients moved our meeting up to 9 oâ€™clock tomorrow morning.</td>
<td></td>
</tr>
<tr>
<td>[TODD] So we have to work tonight.</td>
<td></td>
</tr>
<tr>
<td>[JOAN] Yeah. Iâ€™m sorry. Have you eaten yet?</td>
<td></td>
</tr>
<tr>
<td>[TODD] I had dinner on the plane. But Iâ€™d love to get some coffee.</td>
<td></td>
</tr>
<tr>
<td>[JOAN] Thereâ€™s a restaurant over there. Come on. Iâ€™m buying.</td>
<td></td>
</tr>
</tbody>
</table>
<h3 id="4-1-present"><a href="#4-1-present" class="headerlink" title="4.1 present"></a>4.1 present</h3><table>
<thead>
<tr>
<th>Present</th>
<th>Past</th>
<th>Present perfect</th>
</tr>
</thead>
<tbody>
<tr>
<td>be</td>
<td>was</td>
<td>been</td>
</tr>
<tr>
<td>see</td>
<td>saw</td>
<td>seen</td>
</tr>
<tr>
<td>do</td>
<td>did</td>
<td>done</td>
</tr>
<tr>
<td>go</td>
<td>went</td>
<td>gone</td>
</tr>
</tbody>
</table>
<ul>
<li>I think heâ€™s feeling some culture shock.</li>
<li>They checked my visa when I went through immigration.</li>
</ul>
<p>Use the adverbs <strong>yet</strong>, <strong>already</strong>, <strong>never</strong> and <strong>ever</strong> with the present perfect to indicate a period of time up until the present.</p>
<ul>
<li>I havenâ€™t printed my boarding pass <strong>yet</strong>.</li>
<li>They havenâ€™t packed their bags <strong>yet</strong>.</li>
<li>Has she left for the airport <strong>yet</strong>?</li>
</ul>
<ul>
<li>You canâ€™t come? But Iâ€™ve <strong>already</strong> booked the tickets!</li>
<li>Carly has <strong>already</strong> been to Paris, but I havenâ€™t.</li>
<li>Has John <strong>already</strong> been to the Louvre?</li>
</ul>
<ul>
<li>A: Have you <strong>ever</strong> lived in another country? </li>
<li>B: No, Iâ€™ve <strong>never</strong> lived in another country.</li>
</ul>
<ul>
<li>A: Have you <strong>ever been to</strong> Paris?</li>
<li>B: Yes, I <strong>have been to</strong> Paris.</li>
</ul>
<h3 id="4-2-reading"><a href="#4-2-reading" class="headerlink" title="4.2 reading"></a>4.2 reading</h3><p>The bad news is that <strong>Iâ€™ve still got terrible jet lag</strong> after my 26-hour flight on Monday. The good news is that, yesterday, I hiked the red coast of Tasmania. Itâ€™s the most beautiful place <strong>Iâ€™ve ever</strong> camped, and the night sky is gorgeous. <code>I&#39;ve been to</code> the Atacama Desert in Chile. <strong>Iâ€™ve visited</strong> Valentia Island in Ireland. And Iâ€™ve traveled in Australia before, but <strong>Iâ€™ve never seen</strong> so much light in the night sky. Tonight, Iâ€™ll <code>have to go for</code> a walk and look for Tasmaniaâ€™s special animals, like wombats and kangaroos. I <strong>havenâ€™t seen</strong> any of them in the wilderness yet.</p>
<h3 id="4-3-writing"><a href="#4-3-writing" class="headerlink" title="4.3 writing"></a>4.3 writing</h3><p>I absolutely love traveling. Iâ€™ve traveled to 7 countries. Iâ€™ve been to Thailand 3 times. bought fancy clothes and taken an elephant tour.</p>
<p>I havenâ€™t been to Africa yet, but I really want to go. My trip last month to Thailand was difficult. The flight took 17 hours. When I arrived, customs took my cellphone, and I had to buy a new one!</p>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[Coursera 7 - Optimization Objective]]></title>
      <url>http://iequa.com/2017/06/11/ml-coursera-ng-w7-optimization-objective/</url>
      <content type="html"><![CDATA[<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js"],
    jax: ["input/TeX"],
    tex2jax: {
      inlineMath: [ ['$','$'], ['\\(','\\)'] ],
      displayMath: [ ['$$','$$']],
      processEscapes: true
    }
  });
</script>
<script type="text/javascript" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS_HTML,http://myserver.com/MathJax/config/local/local.js">
</script>


<h2 id="1-Support-Vector-Machines"><a href="#1-Support-Vector-Machines" class="headerlink" title="1. Support Vector Machines"></a>1. Support Vector Machines</h2><h3 id="1-1-Optimization-Objective"><a href="#1-1-Optimization-Objective" class="headerlink" title="1.1 Optimization Objective"></a>1.1 Optimization Objective</h3><blockquote>
<p>Support Vector Machines</p>
</blockquote>
<h3 id="1-2-Large-Margin-Intuition"><a href="#1-2-Large-Margin-Intuition" class="headerlink" title="1.2 Large Margin Intuition"></a>1.2 Large Margin Intuition</h3><h3 id="1-3-Mathematics-Behind-Large-Margin-Classification"><a href="#1-3-Mathematics-Behind-Large-Margin-Classification" class="headerlink" title="1.3 Mathematics Behind Large Margin Classification"></a>1.3 Mathematics Behind Large Margin Classification</h3><blockquote>
<p>å¤§é—´è·åˆ†ç±»å™¨</p>
</blockquote>
<h2 id="2-Kernels"><a href="#2-Kernels" class="headerlink" title="2. Kernels"></a>2. Kernels</h2><h3 id="2-1-Kernels-I"><a href="#2-1-Kernels-I" class="headerlink" title="2.1 Kernels I"></a>2.1 Kernels I</h3><h3 id="2-2-Kernels-II"><a href="#2-2-Kernels-II" class="headerlink" title="2.2 Kernels II"></a>2.2 Kernels II</h3><h2 id="3-SVMs-in-Practice"><a href="#3-SVMs-in-Practice" class="headerlink" title="3. SVMs in Practice"></a>3. SVMs in Practice</h2><h3 id="3-1-Using-An-SVM"><a href="#3-1-Using-An-SVM" class="headerlink" title="3.1 Using An SVM"></a>3.1 Using An SVM</h3>]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[EF 4.6 Vacations]]></title>
      <url>http://iequa.com/2017/06/11/ef-l4u6-Vacations/</url>
      <content type="html"><![CDATA[<style>
img {
        display: block !important;
        width: 550px;
        margin-left: 120px !important;
}
audio {
        display: block !important;
        width: 550px;
        margin-left: 120px !important;
}

</style>


<h2 id="1-Getting-information-about-a-destination"><a href="#1-Getting-information-about-a-destination" class="headerlink" title="1. Getting information about a destination"></a>1. Getting information about a destination</h2><ul>
<li>forest</li>
<li>coast</li>
<li>ocean</li>
<li>valley</li>
<li>lake  </li>
</ul>
<p><img src="/images/english/ef-l4u6l1.png" alt=""></p>
<audio src="/voices/ef/l4u6-vacation-desert.m4a" controls="controls"><br>Your browser does not support the audio tag.<br></audio>

<table>
<thead>
<tr>
<th>Dialog</th>
</tr>
</thead>
<tbody>
<tr>
<td>[SARAH] Itâ€™s a desert, Mark. A desert!</td>
<td></td>
</tr>
<tr>
<td>[SARAH] It gets to 115 degrees. Fahrenheit [ËˆfarÉ™nËŒhÄ«t]</td>
<td></td>
</tr>
<tr>
<td>[SARAH] Thatâ€™s, like, 46 degrees Celsius! [ËˆselsÄ“É™s]</td>
<td></td>
</tr>
<tr>
<td>[MARK] Donâ€™t look at that.</td>
<td></td>
</tr>
<tr>
<td>[MARK] Anyways, it gets cooler at night.</td>
<td></td>
</tr>
<tr>
<td>[MARK] Listen - we have a tent. Thatâ€™s more fun than a hotel.</td>
<td></td>
</tr>
<tr>
<td>[SARAH] Mark, I love the coast.</td>
<td></td>
</tr>
<tr>
<td>[SARAH] I love the beach.</td>
<td></td>
</tr>
<tr>
<td>[SARAH] Itâ€™s nicer here!</td>
<td></td>
</tr>
<tr>
<td>[SARAH] Itâ€™s a desert. A desert, and you want to go camping there?</td>
<td></td>
</tr>
<tr>
<td>[SARAH] I mean, who does that?</td>
<td></td>
</tr>
<tr>
<td>[MARK] The desert - itâ€™s beautiful.</td>
<td></td>
</tr>
<tr>
<td>[MARK] I really want you to see it.</td>
<td></td>
</tr>
<tr>
<td>[SARAH] Okay.</td>
<td></td>
</tr>
</tbody>
</table>
<h3 id="1-1-sentence"><a href="#1-1-sentence" class="headerlink" title="1.1 sentence"></a>1.1 sentence</h3><ul>
<li>It gets cooler in fall.</li>
<li>Winter is cold and rainy.</li>
<li>It snows a lot in winter.</li>
<li>Itâ€™s foggy in the morning and sunny in the afternoon.</li>
<li>It can get to about 65 degrees.</li>
<li>It gets really windy in spring.</li>
</ul>
<h2 id="1-2-whatâ€™s-the-noun-like"><a href="#1-2-whatâ€™s-the-noun-like" class="headerlink" title="1.2 whatâ€™s the + noun + like?"></a>1.2 whatâ€™s the + noun + like?</h2><ul>
<li>A: <strong>Whatâ€™s the weather like</strong> in your hometown?</li>
<li>B: Itâ€™s cold and snowy in winter. It gets to -30 degrees. But itâ€™s warm in summer and fall.</li>
</ul>
<ul>
<li>A: <strong>Whatâ€™s the food like</strong> in Ottawa?</li>
<li>B: Well, we eat a lot of fish. And poutine is popular. Itâ€™s special french fries with cheese.    </li>
</ul>
<ul>
<li>A: <strong>What are the people like</strong>?</li>
<li>B: Many people are university graduates and can speak English and French.</li>
</ul>
<blockquote>
<p>fries/chips with cheese è–¯æ¡å¥¶é…ª<br>poutine è–¯æ¡</p>
<p>What kind of food <code>do</code> people eat in your hometown?</p>
</blockquote>
<h2 id="2-Discussing-vacation-plans"><a href="#2-Discussing-vacation-plans" class="headerlink" title="2. Discussing vacation plans"></a>2. Discussing vacation plans</h2><ul>
<li>camping      </li>
<li>horseback riding</li>
<li>going to the beach</li>
<li>visiting family</li>
<li>diving</li>
<li>going to a spa</li>
<li>sightseeing</li>
<li>biking</li>
</ul>
<p><img src="/images/english/ef-l4u6l2.png" alt=""></p>
<audio src="/voices/ef/l4u6-vacation-plans.m4a" controls="controls"><br>Your browser does not support the audio tag.<br></audio>

<table>
<thead>
<tr>
<th>Dialog</th>
</tr>
</thead>
<tbody>
<tr>
<td>[EMMA] So <code>where are you going this year</code>?</td>
<td></td>
</tr>
<tr>
<td>[NANCY] To the Lake District.</td>
<td></td>
</tr>
<tr>
<td>[EMMA] Oh. Not Paris or Tokyo?</td>
<td></td>
</tr>
<tr>
<td>[NANCY] No. Your father wants to go fishing.</td>
<td></td>
</tr>
<tr>
<td>[EMMA] <code>Where are you going to stay?</code></td>
<td></td>
</tr>
<tr>
<td>[NANCY] We are going to sleep in a tent.</td>
<td></td>
</tr>
<tr>
<td>[EMMA] You mean camping.</td>
<td></td>
</tr>
<tr>
<td>[NANCY] Thatâ€™s right. Camping.</td>
<td></td>
</tr>
<tr>
<td>[NANCY] Yes, Emma, weâ€™re going to go fishing and camping.</td>
<td></td>
</tr>
<tr>
<td>[NANCY] It will be fun. <code>It will be an adventure</code>.</td>
<td></td>
</tr>
<tr>
<td>[EMMA] OK - if you say so.</td>
<td></td>
</tr>
<tr>
<td>[EMMA] <code>How long is the drive</code>?</td>
<td></td>
</tr>
<tr>
<td>[NANCY] Six hours.</td>
<td></td>
</tr>
<tr>
<td>[EMMA] Six hours? To go camping?</td>
<td></td>
</tr>
<tr>
<td>[NANCY] <code>Could you please check on your father</code>?</td>
<td></td>
</tr>
</tbody>
</table>
<h3 id="2-1-be-going-to-for-plan"><a href="#2-1-be-going-to-for-plan" class="headerlink" title="2.1 be + going to for plan"></a>2.1 be + going to for plan</h3><ul>
<li>Oscar is going to drive to the store.</li>
<li>Frank thinks itâ€™ll be safer to walk.</li>
</ul>
<ul>
<li>A: <code>What are you going to do</code> on vacation?</li>
<li>B: Iâ€™m going to visit friends and family. And Iâ€™m not going to work</li>
</ul>
<ul>
<li>Weâ€™ll probably stay in a hotel.</li>
<li>Iâ€™ll be happy living by the sea.</li>
<li>We will not fight. </li>
<li>I wonâ€™t get sick.</li>
<li>They wonâ€™t come with us.  </li>
</ul>
<h3 id="2-2-Dialog"><a href="#2-2-Dialog" class="headerlink" title="2.2 Dialog"></a>2.2 Dialog</h3><table>
<thead>
<tr>
<th>Dialog</th>
</tr>
</thead>
<tbody>
<tr>
<td>KARA: What are you doing ?</td>
<td></td>
</tr>
<tr>
<td>SETH: Oh, nothing much. Iâ€™m just relaxing. Listening to some music.</td>
<td></td>
</tr>
<tr>
<td>KARA: Whatâ€™s that book there?</td>
<td></td>
</tr>
<tr>
<td>SETH: Uh, Iâ€™m reading about Prague. The history. Iâ€™m really enjoying it.</td>
<td></td>
</tr>
<tr>
<td>KARA: Oh, thatâ€™s right - youâ€™re going  there on vacation next month.</td>
<td></td>
</tr>
<tr>
<td>SETH: Yep. Itâ€™ll be great.</td>
<td></td>
</tr>
<tr>
<td>KARA: Iâ€™m sure it will. What are you going to do in Prague?</td>
<td></td>
</tr>
<tr>
<td>SETH: Umm, Iâ€™m going to go sightseeing in the Old Town. Iâ€™m going to walk everywhere. Across the Charles Bridge â€¦</td>
<td></td>
</tr>
<tr>
<td>KARA: Excellent!</td>
<td></td>
</tr>
<tr>
<td>SETH: Yeah â€¦ And Iâ€™ll eat lots of good food.</td>
<td></td>
</tr>
<tr>
<td>KARA: Youâ€™re so lucky! Where are you going to stay ?</td>
<td></td>
</tr>
<tr>
<td>SETH: Oh, Iâ€™ll  probably camp somewhere. Maybe Iâ€™ll pay for a nice hotel on the weekend.</td>
<td></td>
</tr>
</tbody>
</table>
<blockquote>
<p>doubtful<br>Iâ€™ll help you <code>pay for</code> the vacation.<br>Nice. Are you going to stay in a hotel?</p>
</blockquote>
<h2 id="3-Seeing-someone-off"><a href="#3-Seeing-someone-off" class="headerlink" title="3. Seeing someone off"></a>3. Seeing someone off</h2><p><img src="/images/english/ef-l4u6l3.png" alt=""></p>
<audio src="/voices/ef/l4u6-vacation-someone-off.m4a" controls="controls"><br>Your browser does not support the audio tag.<br></audio>

<table>
<thead>
<tr>
<th>Dialog</th>
</tr>
</thead>
<tbody>
<tr>
<td>[BOB] OK.</td>
<td></td>
</tr>
<tr>
<td>[BOB] Now, remember to bring in the mail every day, and donâ€™t forget the newspaper.</td>
<td></td>
</tr>
<tr>
<td>[EMMA] OK, Dad, Donâ€™t worry.</td>
<td></td>
</tr>
<tr>
<td>[BOB] Oh!, I almost forgot.</td>
<td></td>
</tr>
<tr>
<td>[EMMA] Whatâ€™s that?</td>
<td></td>
</tr>
<tr>
<td>[BOB] Itâ€™s for our hotel.</td>
<td></td>
</tr>
<tr>
<td>[EMMA] I thought you were going to go camping.</td>
<td></td>
</tr>
<tr>
<td>[BOB] Shhh! Itâ€™s a surprise.</td>
<td></td>
</tr>
<tr>
<td>[BOB] Your mother thinks weâ€™re going camping.</td>
<td></td>
</tr>
<tr>
<td>[BOB] But weâ€™re not, weâ€™re staying at a five-star hotel.</td>
<td></td>
</tr>
<tr>
<td>[EMMA] Dad! You old romantic!</td>
<td></td>
</tr>
<tr>
<td>[BOB] But I am going fishing.</td>
<td></td>
</tr>
<tr>
<td>[EMMA] Have a great trip!</td>
<td></td>
</tr>
<tr>
<td>[EMMA] Drive safely, and call me when you get there.</td>
<td></td>
</tr>
</tbody>
</table>
<ul>
<li>A: When I go on vacation, will you take care of my dog?</li>
<li>B: Sure, Iâ€™ll take care of little Sammie.</li>
</ul>
<ul>
<li><p>Iâ€™ll drive you to the airport next week, if you want.</p>
</li>
<li><p>Will you get the bags?</p>
</li>
<li>Iâ€™ll make the reservations [rezÉ™â€™veÉªÊƒnz] </li>
</ul>
<h3 id="3-1-Grammar"><a href="#3-1-Grammar" class="headerlink" title="3.1 Grammar"></a>3.1 Grammar</h3><p><code>Try</code></p>
<ul>
<li>I canâ€™t go to the mall. Maybe Iâ€™ll try to buy something online.          </li>
<li>I donâ€™t like biking. Maybe Iâ€™ll try swimming on my vacation.</li>
</ul>
<blockquote>
<p>When the verb try is followed by an infinitive (to + verb), like to buy, it describes an attempt to do something.</p>
<p>When the verb try is followed by a gerund (verb + -ing), like swimming, it means doing something for the first time or doing something different.</p>
</blockquote>
<p><code>Remember</code></p>
<ul>
<li>I always remember to call my mother on Sunday.</li>
<li>I remember calling the neighbors.</li>
<li>I remember seeing  you at the party last week.</li>
</ul>
<blockquote>
<p>When the verb remember is followed by an infinitive, like to call, it describes remembering to do a duty or task.</p>
<p>When the verb remember is followed by a gerund, like calling, it describes a memory of something done in the past.</p>
</blockquote>
<p><code>Stop</code></p>
<ul>
<li>I stopped to eat when I got hungry.</li>
<li>I stopped eating when I felt sick.</li>
</ul>
<blockquote>
<p>When the verb stop is followed by an infinitive, like to eat, it describes stopping one action to begin another. In this example, the person was working, but stopped her work to eat.</p>
<p>When the verb stop is followed by a gerund, like eating, it describes a discontinued action.</p>
</blockquote>
<p><code>be going</code>, <code>want to</code>ã€<code>have to</code></p>
<ul>
<li>I have to go.</li>
<li>We have to be quick.    </li>
<li>She has to leave.</li>
<li>He has to get up early.</li>
</ul>
<h2 id="4-Describing-a-vacation"><a href="#4-Describing-a-vacation" class="headerlink" title="4. Describing a vacation"></a>4. Describing a vacation</h2><ul>
<li>I was sick, so I stayed home</li>
<li>I stayed home because I was sick.</li>
<li>In order to</li>
<li>embassy</li>
</ul>
<p><img src="/images/english/ef-l4u6l4.png" alt=""></p>
<audio src="/voices/ef/l4u6-vacation-describing.m4a" controls="controls"><br>Your browser does not support the audio tag.<br></audio>

<table>
<thead>
<tr>
<th>Dialog</th>
</tr>
</thead>
<tbody>
<tr>
<td>[PAM] Hey, Sally, we got a postcard from Simon.</td>
<td></td>
</tr>
<tr>
<td>[SALLY] Really? How are Simon and Jake doing? Where are they?</td>
<td></td>
</tr>
<tr>
<td>[PAM] Theyâ€™re in London. They went there to visit Simonâ€™s friend, Karl.</td>
<td></td>
</tr>
<tr>
<td>[SALLY] Go on, then. Read it!</td>
<td></td>
</tr>
<tr>
<td>[PAM] OK.</td>
<td></td>
</tr>
<tr>
<td>[PAM] Dear Pam and Sally. Weâ€™re relaxing in London. Weâ€™re eating out almost every night.</td>
<td></td>
</tr>
<tr>
<td>[PAM] The British Museum is incredible. Yesterday, we took a tour of the Tower of London.</td>
<td></td>
</tr>
<tr>
<td>[PAM] Jake lost his passport, so we have to stay in London an extra week.</td>
<td></td>
</tr>
<tr>
<td>[PAM] In order to get a new passport, we had to go to the <code>embassy</code>.</td>
<td></td>
</tr>
<tr>
<td>[PAM] I hope our money lasts because London is really expensive. Love, Simon.</td>
<td></td>
</tr>
<tr>
<td>[SALLY] Jake. Itâ€™s always Jake.</td>
<td></td>
</tr>
</tbody>
</table>
<h3 id="4-1-in-order-to-so-that"><a href="#4-1-in-order-to-so-that" class="headerlink" title="4.1 in order to / so that"></a>4.1 in order to / so that</h3><ul>
<li>In order to reserve our room, I called the hotel.</li>
<li>I called the hotel in order to reserve our room.</li>
</ul>
<ul>
<li>I turned off my phone so that I could relax.</li>
<li>So that I could relax, I turned off my phone. </li>
</ul>
<ul>
<li>I saved my money so I could visit Terry.</li>
</ul>
<h3 id="4-2-writing"><a href="#4-2-writing" class="headerlink" title="4.2 writing"></a>4.2 writing</h3><p>Hi, Nicole!</p>
<p>How are you? Iâ€™m going to stay another night in Mali so that I can relax and do more sightseeing. Today, Iâ€™ll take a tour  of Djenne to see the amazing old buildings. The downtown market is full of wonderful smells, so Iâ€™m eating a lot of good food. I hope my money lasts because Iâ€™m buying many beautiful clothes. Iâ€™ll give  some to you!   </p>
<p>Love, Megan </p>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[EF 4.5 Welcome]]></title>
      <url>http://iequa.com/2017/06/08/ef-l4u5-Welcome/</url>
      <content type="html"><![CDATA[<style>
img {
        display: block !important;
        width: 550px;
        margin-left: 120px !important;
}
audio {
        display: block !important;
        width: 550px;
        margin-left: 120px !important;
}

</style>


<h2 id="1-Inviting-someone-to-your-home"><a href="#1-Inviting-someone-to-your-home" class="headerlink" title="1. Inviting someone to your home"></a>1. Inviting someone to your home</h2><ul>
<li>that reminds me</li>
<li>by the way</li>
</ul>
<p><img src="/images/english/ef-l4u5l1.png" alt=""></p>
<table>
<thead>
<tr>
<th>Dialog</th>
</tr>
</thead>
<tbody>
<tr>
<td>[JOAN] Oh, Todd, did I tell you?</td>
<td></td>
</tr>
<tr>
<td>[TODD] What?</td>
<td></td>
</tr>
<tr>
<td>[JOAN] Al and I just bought a house.</td>
<td></td>
</tr>
<tr>
<td>[TODD] Really? Congratulations!</td>
<td></td>
</tr>
<tr>
<td>[JOAN] Thanks! Actually, weâ€™re a little nervous about it.</td>
<td></td>
</tr>
<tr>
<td>[TODD] I can imagine. Buying a house is a big decision.</td>
<td></td>
</tr>
<tr>
<td>[JOAN] Yes, it is. Anyway, weâ€™re having some people over on Saturday night.</td>
<td></td>
</tr>
<tr>
<td>[TODD] A housewarming party!</td>
<td></td>
</tr>
<tr>
<td>[JOAN] Exactly. Al and I were hoping you and Angela could come.</td>
<td></td>
</tr>
<tr>
<td>[TODD] Well, Iâ€™m <code>definitely</code> coming â€¦ [â€˜dÉ›fÉªnÉ™tli]</td>
<td></td>
</tr>
<tr>
<td>[JOAN] Great!</td>
<td></td>
</tr>
<tr>
<td>[TODD] But Angela probably canâ€™t come. Her mothersâ€™s sick.</td>
<td></td>
</tr>
<tr>
<td>[JOAN] Oh, thatâ€™s too bad.</td>
<td></td>
</tr>
<tr>
<td>[TODD] Yeah. Angelaâ€™s in Las Vegas, taking care of her.</td>
<td></td>
</tr>
<tr>
<td>[JOAN] I understand. Well, Iâ€™m happy you can come.</td>
<td></td>
</tr>
<tr>
<td>[TODD] Ah! That reminds me. Angelaâ€™s birthdayâ€™s in two weeks. Iâ€™m thinking about having a party for her.</td>
<td></td>
</tr>
<tr>
<td>[JOAN] Nice!.</td>
<td></td>
</tr>
<tr>
<td>[TODD] And Iâ€™d like you and Al to come.</td>
<td></td>
</tr>
<tr>
<td>[JOAN] Weâ€™d be <code>delighted</code>. [dÉªâ€™laÉªtÉªd]</td>
<td></td>
</tr>
<tr>
<td>[JOAN] Great!</td>
<td></td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr>
<th>Sentence</th>
</tr>
</thead>
<tbody>
<tr>
<td>Zach and I just bought a house.</td>
<td></td>
</tr>
<tr>
<td>Carla just got promoted.</td>
<td></td>
</tr>
<tr>
<td>Bill just got promoted to vice president.</td>
<td></td>
</tr>
<tr>
<td>Did you just go to the <code>grocery</code> store ?  <strong><em>[ËˆgroÊŠsÉ™ri]</em></strong></td>
<td></td>
</tr>
<tr>
<td>We should get together for dinner this week. <strong>What does your <code>schedule</code> look like?</strong></td>
<td></td>
</tr>
<tr>
<td>Great! Iâ€™m definitely coming.</td>
<td></td>
</tr>
<tr>
<td>Thanks - Iâ€™d be delighted.</td>
<td></td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr>
<th>Dialog</th>
</tr>
</thead>
<tbody>
<tr>
<td>DANA: OK, letâ€™s see â€¦ Whoâ€™s invited to the party?</td>
<td></td>
</tr>
<tr>
<td>JONATHAN: Natasha. She is <code>definitely</code> coming.</td>
<td></td>
</tr>
<tr>
<td>DANA: Great! How about Michael?</td>
<td></td>
</tr>
<tr>
<td>JONATHAN: <code>Probably not</code>.</td>
<td></td>
</tr>
<tr>
<td>DANA: Too bad! Anyway, Laurie <code>probably</code> can come.</td>
<td></td>
</tr>
<tr>
<td>JONATHAN: Cool.</td>
<td></td>
</tr>
<tr>
<td>DANA: And Kylie said â€˜<code>absolutely</code>.â€™</td>
<td></td>
</tr>
<tr>
<td>JONATHAN: Nice! <code>Maybe</code> she can bring her tasty, dark chocolate cake.</td>
<td></td>
</tr>
<tr>
<td>DANA: Maybe â€¦ or <code>maybe not</code>. Itâ€™s <code>unlikely</code>  . Sheâ€™s pretty busy.</td>
<td></td>
</tr>
</tbody>
</table>
<h2 id="2-Welcoming-someone-to-your-home"><a href="#2-Welcoming-someone-to-your-home" class="headerlink" title="2. Welcoming someone to your home"></a>2. Welcoming someone to your home</h2><ul>
<li>How was traffic ?</li>
<li>Can I get you something to drink? </li>
<li>whine [waÉªn]</li>
</ul>
<p><img src="/images/english/ef-l4u5l2.png" alt=""></p>
<table>
<thead>
<tr>
<th>Dialog</th>
</tr>
</thead>
<tbody>
<tr>
<td>[SOPHIE] Hi!</td>
<td></td>
</tr>
<tr>
<td>[SOPHIE] Oh, so good to see you. Iâ€™ve missed you so much.</td>
<td></td>
</tr>
<tr>
<td>[NANI] Me too!</td>
<td></td>
</tr>
<tr>
<td>[NANI] hey, Eric.</td>
<td></td>
</tr>
<tr>
<td>[ERIC] Hi, Nani, Great to see you.</td>
<td></td>
</tr>
<tr>
<td>[NANI] So, come in, come in. Make yourselves at home.</td>
<td></td>
</tr>
<tr>
<td>[NINA] Here - you can put those over there.</td>
<td></td>
</tr>
<tr>
<td>[NINA] <code>Can I get you something to drink?</code></td>
<td></td>
</tr>
<tr>
<td>[ERIC] That would be lovely, thanks.</td>
<td></td>
</tr>
<tr>
<td>[SOPHIE] Yes, Please.</td>
<td></td>
</tr>
<tr>
<td>[SOPHIE] Ummm, cup of tea?</td>
<td></td>
</tr>
<tr>
<td>[NINA] So how was your trip?</td>
<td></td>
</tr>
<tr>
<td>[SOPHIE] Yeah, it was fine, thanks.</td>
<td></td>
</tr>
<tr>
<td>[SOPHIE] <code>Except for Eric and his whining. &#39;Are we there yet? Are we there yet?&#39;</code></td>
<td></td>
</tr>
<tr>
<td>[ERIC] I was just wondering how much further we had to go.</td>
<td></td>
</tr>
<tr>
<td>[ERIC] Nina, your flat is lovely.</td>
<td></td>
</tr>
<tr>
<td>[NINA] Well, as you can see, thereâ€™s not much here yet.</td>
<td></td>
</tr>
<tr>
<td>[NINA] No sofa, no curtains.</td>
<td></td>
</tr>
<tr>
<td>[SOPHIE] Yeah, thatâ€™s OK.</td>
<td></td>
</tr>
<tr>
<td>[SOPHIE] We can sleep on the floor.</td>
<td></td>
</tr>
<tr>
<td>[SOPHIE] What? Come on, stop it!</td>
<td></td>
</tr>
<tr>
<td>[ERIC] No, itâ€™s not right.</td>
<td></td>
</tr>
<tr>
<td>[SOPHIE] Of course, we can.</td>
<td></td>
</tr>
<tr>
<td>[ERIC] Itâ€™s inappropriate.</td>
<td></td>
</tr>
<tr>
<td>[ERIC] I really liked the ones with tomato. They were the best.</td>
<td></td>
</tr>
<tr>
<td>[SOPHIE] Nina, letâ€™s go and see it.</td>
<td></td>
</tr>
<tr>
<td>[SOPHIE] The shop.</td>
<td></td>
</tr>
<tr>
<td>[NINA] Really?</td>
<td></td>
</tr>
<tr>
<td>[SOPHIE] Yeah !</td>
<td></td>
</tr>
<tr>
<td>[NINA] You want to see it?</td>
<td></td>
</tr>
<tr>
<td>[SOPHIE] Course, I do.</td>
<td></td>
</tr>
<tr>
<td>[NINA] Itâ€™s a bit late.</td>
<td></td>
</tr>
<tr>
<td>[SOPHIE] No, it isnâ€™t. Come on.</td>
<td></td>
</tr>
<tr>
<td>[SOPHIE] I know itâ€™s a big step for you.</td>
<td></td>
</tr>
<tr>
<td>[SOPHIE] And, um, speaking of big steps â€¦</td>
<td></td>
</tr>
<tr>
<td>[SOPHIE] Eric and I have something we want to tell you â€¦</td>
<td></td>
</tr>
<tr>
<td>[SOPHIE] Weâ€™re going to have a baby!</td>
<td></td>
</tr>
</tbody>
</table>
<h3 id="make-politely-offers"><a href="#make-politely-offers" class="headerlink" title="make politely offers"></a>make politely offers</h3><p>Use would you like to politely offer something to your guest</p>
<ul>
<li>Would you like something to drink?                            </li>
<li>Would you like to have a seat?</li>
</ul>
<p>Use could or may to make a polite request of your host.</p>
<ul>
<li>May I use the restroom?</li>
<li>Could I have some water?</li>
</ul>
<table>
<thead>
<tr>
<th>Dialog</th>
</tr>
</thead>
<tbody>
<tr>
<td>MRS. KUMAR: Welcome. Nice to see you.</td>
<td></td>
</tr>
<tr>
<td>MR. BRADLEY: Very nice to see  you, too, Mrs. Kumar.</td>
<td></td>
</tr>
<tr>
<td>MRS. KUMAR: Please come in.</td>
<td></td>
</tr>
<tr>
<td>MR. BRADLEY: You have a beautiful home.</td>
<td></td>
</tr>
<tr>
<td>MRS. KUMAR: Thank you. Would you like to have a seat?</td>
<td></td>
</tr>
<tr>
<td>MR. BRADLEY: Yes, thanks.</td>
<td></td>
</tr>
<tr>
<td>MRS. KUMAR: And would you like something to drink ?</td>
<td></td>
</tr>
<tr>
<td>MR. BRADLEY: Please. Could I have some water?</td>
<td></td>
</tr>
<tr>
<td>MRS. KUMAR: Of course.</td>
<td></td>
</tr>
</tbody>
</table>
<p>If you have a drink, you can say to your and cheers to offer a toast.</p>
<ul>
<li><code>To your new job! Cheers!</code></li>
<li>To your new baby. Cheers!</li>
<li>To your retirement. Cheers!</li>
</ul>
<p>You can use itâ€™s crazy to react to both good and bad news.</p>
<ul>
<li>I was surprised to get this great promotion. Itâ€™s crazy.</li>
<li><code>It felt terrible to get fired. It&#39;s totally crazy.</code></li>
</ul>
<blockquote>
<p>Absolutely, Itâ€™s right over there</p>
</blockquote>
<h2 id="3-Parting-at-the-end-of-an-evening"><a href="#3-Parting-at-the-end-of-an-evening" class="headerlink" title="3. Parting at the end of an evening"></a>3. Parting at the end of an evening</h2><ul>
<li>great - wonderful - delightful - ç¾å¥½çš„/ç¾å¦™çš„/ä»¤äººæ„‰æ‚…çš„                          </li>
<li>fun - enjoyable</li>
<li>happy - glad - pleased </li>
<li>beautiful - lovely - gorgeous - æ¼‚äº®çš„/å¯æ„›çš„/è¯éº—çš„ [â€˜É¡É”rdÊ’É™s]</li>
<li>delicious - tasty - yummy</li>
</ul>
<p><img src="/images/english/ef-l4u5l3.png" alt=""></p>
<table>
<thead>
<tr>
<th>Dialog</th>
<th>-</th>
</tr>
</thead>
<tbody>
<tr>
<td>[ERIC] Have you got everything?</td>
<td>ä½ çš„æ±è¥¿éƒ½é½Šäº†å—ï¼Ÿ</td>
</tr>
<tr>
<td>[SOPHIE] I think so.</td>
<td></td>
</tr>
<tr>
<td>[ERIC] Iâ€™ll take that.</td>
<td></td>
</tr>
<tr>
<td>[SOPHIE] OK, thanks.</td>
<td></td>
</tr>
<tr>
<td>[SOPHIE] Well, thatâ€™s us then.</td>
<td></td>
</tr>
<tr>
<td>[SOPHIE] <code>Thanks for inviting us.</code></td>
<td></td>
</tr>
<tr>
<td>[NINA] Thanks for coming.</td>
<td></td>
</tr>
<tr>
<td>[SOPHIE] Your shopâ€™s really lovely.</td>
<td></td>
</tr>
<tr>
<td>[NINA] Thanks</td>
<td></td>
</tr>
<tr>
<td>[SOPHIE] <code>We had a great time.</code></td>
<td></td>
</tr>
<tr>
<td>[SOPHIE] You must come to us next time, okay?</td>
<td></td>
</tr>
<tr>
<td>[NINA] I will.</td>
<td></td>
</tr>
<tr>
<td>[ERIC] It was lovely to see again.</td>
<td></td>
</tr>
<tr>
<td>[NINA] And you.</td>
<td></td>
</tr>
<tr>
<td>[SOPHIE] take care.</td>
<td></td>
</tr>
<tr>
<td>[ERIC] Good luck with the shop.</td>
<td></td>
</tr>
<tr>
<td>[NINA] Drive safely.</td>
<td></td>
</tr>
<tr>
<td>[NINA] All right, Bye.</td>
<td></td>
</tr>
</tbody>
</table>
<blockquote>
<p>Next time, itâ€™s our turn to host.<br>Iâ€™m glad you enjoyed it.   enjoyedit</p>
</blockquote>
<h3 id="Sentence"><a href="#Sentence" class="headerlink" title="Sentence"></a>Sentence</h3><ul>
<li>The price of petrol is really going up.</li>
<li>I definitely need some gas.</li>
<li>Do you have the car keys?</li>
</ul>
<h3 id="American-amp-British"><a href="#American-amp-British" class="headerlink" title="American &amp; British"></a>American &amp; British</h3><table>
<thead>
<tr>
<th>American</th>
<th>British</th>
</tr>
</thead>
<tbody>
<tr>
<td>restroom</td>
<td>toilet</td>
</tr>
<tr>
<td>gas</td>
<td>petrol</td>
</tr>
<tr>
<td>cellphone</td>
<td>mobile</td>
</tr>
<tr>
<td>Thatâ€™s exactly right!</td>
<td>Spot on!</td>
</tr>
<tr>
<td>Do you have a pen?</td>
<td>Have you got a pen?</td>
</tr>
</tbody>
</table>
<h2 id="4-Thanking-someone-on-the-phone"><a href="#4-Thanking-someone-on-the-phone" class="headerlink" title="4. Thanking someone on the phone"></a>4. Thanking someone on the phone</h2><ul>
<li>I hope to see you again soon.                  </li>
<li>I hope that I see you again soon. </li>
</ul>
<ul>
<li>A: I hope to see you again soon.                </li>
<li>B: I hope so, too.</li>
</ul>
<p><img src="/images/english/ef-l4u5l4.png" alt=""></p>
<table>
<thead>
<tr>
<th>TODD to Joan</th>
</tr>
</thead>
<tbody>
<tr>
<td>Dear Joan, Thank you for inviting me to your housewarming party.</td>
<td></td>
</tr>
<tr>
<td>I had a really good time. Your new home is lovely.</td>
<td></td>
</tr>
<tr>
<td>And the food was delicious.</td>
<td></td>
</tr>
<tr>
<td>I hope that I see you and Al again soon.</td>
<td></td>
</tr>
<tr>
<td>Sincerely, Todd.  [sÉªnËˆsÉªÉ™li]</td>
<td></td>
</tr>
<tr>
<td>[TODD] Oh, uh, Joan. Your, um, party was wonderful. I really enjoyed myself. Your new home is beautiful. And I loved the food.</td>
<td></td>
</tr>
<tr>
<td>[JOAN] Thanks.</td>
<td></td>
</tr>
<tr>
<td>[TODD] I hope to see you and Al again soon.</td>
<td></td>
</tr>
<tr>
<td>[JOAN] I hope so, too. Actually, youâ€™ll see me very soon. We, uh, have a meeting in five minutes.</td>
<td></td>
</tr>
</tbody>
</table>
<blockquote>
<p>uhï¼Œum å—¯</p>
</blockquote>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[EF 4.4 MileStones]]></title>
      <url>http://iequa.com/2017/06/07/ef-l4u4-Milestones/</url>
      <content type="html"><![CDATA[<style>
img {
        display: block !important;
        width: 550px;
        margin-left: 120px !important;
}
audio {
        display: block !important;
        width: 550px;
        margin-left: 120px !important;
}

</style>

<h2 id="1-Talking-about-your-life"><a href="#1-Talking-about-your-life" class="headerlink" title="1. Talking about your life"></a>1. Talking about your life</h2><ul>
<li>I wasnâ€™t born in a hospital.</li>
<li>I didnâ€™t get promoted.</li>
</ul>
<p><img src="/images/english/ef-l4u4l1.png" alt=""></p>
<table>
<thead>
<tr>
<th>Dialog</th>
</tr>
</thead>
<tbody>
<tr>
<td>[NANCY] Did you watch TV all day?</td>
<td></td>
</tr>
<tr>
<td>[BOB] My wife worked all day.</td>
<td></td>
</tr>
<tr>
<td>[BOB] What did I do ?</td>
<td></td>
</tr>
<tr>
<td>[BOB] I just sat in front of the TV. But <code>I&#39;m retired</code>. I mean, <code>I have all this time on my hands</code>.</td>
<td></td>
</tr>
<tr>
<td>[EMMA] I graduated from university last year.</td>
<td></td>
</tr>
<tr>
<td>[EMMA] Iâ€™m <code>looking for a job</code>, but â€¦ you know, itâ€™s not that easy.</td>
<td></td>
</tr>
</tbody>
</table>
<blockquote>
<p>noun : death, retirement, marriage, birth, graduation </p>
</blockquote>
<h3 id="make-past-tense-questions"><a href="#make-past-tense-questions" class="headerlink" title="make past tense questions."></a>make past tense questions.</h3><ul>
<li>Where were you born?</li>
<li>I was born in Seoul.</li>
</ul>
<ul>
<li>A: Where did you grow up?</li>
<li>B: I grew up in <strong>Belgium</strong>.</li>
</ul>
<blockquote>
<p> æ¯”åˆ©æ—¶</p>
</blockquote>
<ul>
<li>When did she start working there?</li>
</ul>
<table>
<thead>
<tr>
<th>Dialog</th>
</tr>
</thead>
<tbody>
<tr>
<td>JAMES: So, Hailey, letâ€™s start with some basic information. Where were you born?</td>
<td></td>
</tr>
<tr>
<td>HAILEY: I was born in  Amman, Jordan.</td>
<td></td>
</tr>
<tr>
<td>JAMES: And when were you born?</td>
<td></td>
</tr>
<tr>
<td>HAILEY: I was born on  April 22nd. The first day of spring.</td>
<td></td>
</tr>
<tr>
<td>JAMES: Thatâ€™s lucky. And, uh, where did you grow up?</td>
<td></td>
</tr>
<tr>
<td>HAILEY: I grew up  with my family in Al Karak, Jordan. Near the Dead Sea.</td>
<td></td>
</tr>
<tr>
<td>JAMES: Beautiful. And now a question about your high school, or university. Where did you graduate from  ?</td>
<td></td>
</tr>
<tr>
<td>HAILEY: I graduated from  the University of Chicago in 2009.</td>
<td></td>
</tr>
<tr>
<td>JAMES: Uh-huh? Now letâ€™s talk about your work experience. Where are you working?</td>
<td></td>
</tr>
<tr>
<td>HAILEY: Iâ€™m working at Carter and Lindsey, in Chicago, as the creative director.</td>
<td></td>
</tr>
<tr>
<td>JAMES: And when did you start working there?</td>
<td></td>
</tr>
<tr>
<td>HAILEY: I got my job  there in May 2011.</td>
<td></td>
</tr>
</tbody>
</table>
<blockquote>
<p>Geneva<br>Itâ€™s my pleasure</p>
</blockquote>
<h2 id="2-Discussing-important-life-events"><a href="#2-Discussing-important-life-events" class="headerlink" title="2. Discussing important life events"></a>2. Discussing important life events</h2><ul>
<li>Itâ€™s my turn, right?</li>
<li>people got married very young then</li>
</ul>
<p><img src="/images/english/ef-l4u4l2.png" alt=""></p>
<h3 id="2-1-â€˜Getâ€™-for-life-events"><a href="#2-1-â€˜Getâ€™-for-life-events" class="headerlink" title="2.1 â€˜Getâ€™ for life events"></a>2.1 â€˜Getâ€™ for life events</h3><ul>
<li>get married</li>
<li>get pregnant [â€˜prÉ›É¡nÉ™nt]</li>
<li>get over a relationship</li>
<li>get a degree</li>
<li>get a job</li>
<li>get promoted</li>
<li>get fired</li>
<li>get a driverâ€™s license</li>
<li>get old</li>
</ul>
<blockquote>
<p>My best friend is six months pregnant<br>Sheâ€™s getting her driverâ€™s license next year.<br>Theyâ€™re getting married next month.</p>
</blockquote>
<h3 id="2-2-Clauses-with-â€˜whenâ€™"><a href="#2-2-Clauses-with-â€˜whenâ€™" class="headerlink" title="2.2 Clauses with â€˜whenâ€™"></a>2.2 Clauses with â€˜whenâ€™</h3><ul>
<li>When I was young, we didnâ€™t sit around all day texting.</li>
<li>Do you remember when we bought that house on Oak Street.</li>
<li>She spent a lot of time in her car when she first got her driverâ€™s license.</li>
</ul>
<h3 id="2-3-text"><a href="#2-3-text" class="headerlink" title="2.3 text"></a>2.3 text</h3><p>I got my driverâ€™s license when I was  16. <code>I was 18 years old when I got  my first job.</code> When I was 21, I graduated from university. When I was 23, I left New York. When I was married for two years, I got pregnant.</p>
<blockquote>
<p>Tell me something about yourself.<br>What do you want to know?<br>When did you get your first job?<br>She left Los Angeles when she got divorced.</p>
</blockquote>
<h2 id="3-Giving-details-about-someoneâ€™s-life"><a href="#3-Giving-details-about-someoneâ€™s-life" class="headerlink" title="3. Giving details about someoneâ€™s life"></a>3. Giving details about someoneâ€™s life</h2><ul>
<li>move out</li>
<li>meet the love of her life</li>
</ul>
<p><img src="/images/english/ef-l4u4l3.png" alt=""></p>
<table>
<thead>
<tr>
<th>More life events</th>
</tr>
</thead>
<tbody>
<tr>
<td>I first traveled abroad when I was 15.</td>
<td></td>
</tr>
<tr>
<td>I got my first car when I was 17.</td>
<td></td>
</tr>
<tr>
<td>I moved away from home when I was 18.</td>
<td></td>
</tr>
<tr>
<td>I moved out of my parentsâ€™ house when I was 18.</td>
<td></td>
</tr>
<tr>
<td>I met the love of my life when I was 22.</td>
<td></td>
</tr>
<tr>
<td>We fell in love and got married.</td>
<td></td>
</tr>
<tr>
<td>We had our first child when I was 25.</td>
<td></td>
</tr>
</tbody>
</table>
<p>I first <code>traveled abroad</code> when I was 16. I went to Paris with my family. It was fantastic. The next year, I got my first car. It was red! I <strong>moved out of my parentsâ€™ house</strong> when I was 18, to go to university. I got my first apartment with a friend near the university. <code>My second year of university</code>, I met the love of my life. We fell in love and got married one year later. We had our first child after we graduated from university. I was only 22!  We didnâ€™t have a lot of money, but we were happy.</p>
<blockquote>
<p>He traveled abroad after he graduated.</p>
</blockquote>
<table>
<thead>
<tr>
<th>Clauses with â€˜afterâ€™</th>
</tr>
</thead>
<tbody>
<tr>
<td>After I moved out of my parentsâ€™ house, I got my first apartment.</td>
<td></td>
</tr>
<tr>
<td>I got my first apartment after I moved out of my parentsâ€™ house.</td>
<td></td>
</tr>
</tbody>
</table>
<p>I was born in 1975. I got my first car when I was 16 years old. After I graduated from high school, I moved out of my parentsâ€™ house. After I got an apartment, I got a good job. I met a girl at work, and we fell in love. After <code>I got a promotion</code>, we got married. When our first child was born, I really became an adult.</p>
<h2 id="4-Interviewing-for-a-job"><a href="#4-Interviewing-for-a-job" class="headerlink" title="4. Interviewing for a job"></a>4. Interviewing for a job</h2><ul>
<li>appointment</li>
<li>candidate</li>
<li>strengths [streÅ‹Î¸s] </li>
<li>opportunity</li>
</ul>
<p><img src="/images/english/ef-l4u4l4.png" alt=""></p>
<audio src="/voices/ef/l4u4-interviewing-for-a-job.m4a" controls="controls"><br>Your browser does not support the audio tag.<br></audio>

<table>
<thead>
<tr>
<th>Dialog</th>
</tr>
</thead>
<tbody>
<tr>
<td>[SALLY] Can I help you?</td>
<td></td>
</tr>
<tr>
<td>[CAROL] Yes. I <code>have a 2 oâ€™clock appointment</code> with Joan Baxter.</td>
<td></td>
</tr>
<tr>
<td>[SALLY] Oh, yes. Thatâ€™s her office over there. Sheâ€™s waiting for you. Good luck!</td>
<td></td>
</tr>
<tr>
<td>[CAROL] Thanks.</td>
<td></td>
</tr>
<tr>
<td>[CAROL] Hi. Iâ€™m Carol.</td>
<td></td>
</tr>
<tr>
<td>[JOAN] Nice to meet you, Carol. Have a seat.</td>
<td></td>
</tr>
<tr>
<td>[CAROL] Thanks.</td>
<td></td>
</tr>
<tr>
<td>[JOAN] So, <code>Iâ€™ve looked over your resume</code>, and Iâ€™ve talked with Todd.</td>
<td></td>
</tr>
<tr>
<td>[JOAN] He was very impressed with your last interview. He thinks youâ€™re a <code>suitable candidate</code> for the position.</td>
<td></td>
</tr>
<tr>
<td>[CAROL] Iâ€™m happy to hear that.</td>
<td></td>
</tr>
<tr>
<td>[JOAN] Youâ€™re a designer over at Future Studios?</td>
<td></td>
</tr>
<tr>
<td>[CAROL] Yes, thatâ€™s right. For six years now.</td>
<td></td>
</tr>
<tr>
<td>[JOAN] Why do you wanna leave?</td>
<td></td>
</tr>
<tr>
<td>[CAROL] Opportunity. I mean, Future Studios is a very small company, with only three designers. There isnâ€™t much chance for me to advance.</td>
<td></td>
</tr>
<tr>
<td>[JOAN] I see.</td>
<td></td>
</tr>
<tr>
<td>[CAROL] And you are looking for a senior designer.</td>
<td></td>
</tr>
<tr>
<td>[JOAN] Thatâ€™s right. So, what do you think are your strengths?</td>
<td></td>
</tr>
<tr>
<td>[CAROL] Well, Iâ€™m very creative. My boss and the other designers love my designs.</td>
<td></td>
</tr>
<tr>
<td>[JOAN] Yes. Your designs are impressive.</td>
<td></td>
</tr>
<tr>
<td>[CAROL] Thank you. I also have an excellent technical background.</td>
<td></td>
</tr>
<tr>
<td>[JOAN] <code>When would you be available to start?</code></td>
<td></td>
</tr>
<tr>
<td>[CAROL] I could start next month.</td>
<td></td>
</tr>
<tr>
<td>[JOAN] Great! Well, Iâ€™d like you to talk to a few other members of the team. Uh, do you have time now?</td>
<td></td>
</tr>
<tr>
<td>[CAROL] Yes, I do. That would be great.</td>
<td></td>
</tr>
<tr>
<td>[JOAN] Okay. Come this way.</td>
<td></td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr>
<th>interview sentence 1</th>
</tr>
</thead>
<tbody>
<tr>
<td>Can you send me your resume?</td>
<td></td>
</tr>
<tr>
<td>There are many candidates for this job.</td>
<td></td>
</tr>
<tr>
<td>Iâ€™m very interested in the position.</td>
<td></td>
</tr>
<tr>
<td>I have an appointment to talk to the manager.</td>
<td></td>
</tr>
<tr>
<td>I have an interview on Thursday.</td>
<td></td>
</tr>
<tr>
<td>This is a really good opportunity for me.</td>
<td></td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr>
<th>interview sentence 2</th>
</tr>
</thead>
<tbody>
<tr>
<td>Do you have any teaching experience?</td>
<td></td>
</tr>
<tr>
<td>Could you talk about your education?</td>
<td></td>
</tr>
<tr>
<td>What are your strengths?</td>
<td></td>
</tr>
<tr>
<td>What is your greatest weakness?</td>
<td></td>
</tr>
<tr>
<td>Tell me about your work background.</td>
<td></td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr>
<th>interview sentence 3</th>
</tr>
</thead>
<tbody>
<tr>
<td>Could you come back for a second interview?</td>
<td></td>
</tr>
<tr>
<td>Iâ€™d like to introduce you to the other people on the team.</td>
<td></td>
</tr>
<tr>
<td>How is February 1st as a start date?</td>
<td></td>
</tr>
</tbody>
</table>
<h3 id="reading"><a href="#reading" class="headerlink" title="reading"></a>reading</h3><p>Thank you very much for this opportunity to speak with you. I think I am a very strong candidate for this position. As you can see on my resume, I have a lot of work experience, and my university education was excellent. I want to talk to you about both my strengths and weaknesses. I know I can do great work on your team  .</p>
<h3 id="interview-dialog"><a href="#interview-dialog" class="headerlink" title="interview dialog"></a>interview dialog</h3><ul>
<li>I have a 3 oâ€™clock job interview with Ken Smith.</li>
<li>Thank you for seeing me, Mr. Smith.</li>
<li>Thank you for the opportunity to meet with you.</li>
</ul>
<table>
<thead>
<tr>
<th>Dialog</th>
</tr>
</thead>
<tbody>
<tr>
<td>INTERVIEWER: Good afternoon. Iâ€™m Carol Higgins, <code>director of Human Resources</code>. Please have a seat.</td>
<td></td>
</tr>
<tr>
<td>CANDIDATE: Thank you. And thank you very much <code>for speaking with me</code> today.</td>
<td></td>
</tr>
<tr>
<td>INTERVIEWER: My pleasure. Your resume is impressive. I think you are a strong candidate for the position of IT manager.  I just have one question about your resume. Who was your supervisor at Data Systems?</td>
<td></td>
</tr>
<tr>
<td>CANDIDATE: Oh, that was Trisha Chambers. She left the company last month.</td>
<td></td>
</tr>
<tr>
<td>INTERVIEWER: Why is that, and why do you want to leave?</td>
<td></td>
</tr>
<tr>
<td>CANDIDATE: Well, I donâ€™t think the work is challenging  . Business isnâ€™t good, and people are worried.</td>
<td></td>
</tr>
<tr>
<td>INTERVIEWER: I see. And you like a good challenge?</td>
<td></td>
</tr>
<tr>
<td>CANDIDATE: I do. The more challenging, the better.</td>
<td></td>
</tr>
<tr>
<td>INTERVIEWER: Good. How about weaknesses ? Where do you think you need to improve?</td>
<td></td>
</tr>
<tr>
<td>CANDIDATE: Well, sometimes I try to do too much. I need to work on one thing at a time.</td>
<td></td>
</tr>
</tbody>
</table>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[Python Basic Learning III (not finish)]]></title>
      <url>http://iequa.com/2017/06/05/python-basic-learning-III/</url>
      <content type="html"><![CDATA[<h2 id="1-å‡½æ•°å¼ç¼–ç¨‹"><a href="#1-å‡½æ•°å¼ç¼–ç¨‹" class="headerlink" title="1. å‡½æ•°å¼ç¼–ç¨‹"></a>1. å‡½æ•°å¼ç¼–ç¨‹</h2><p>å‡½æ•°å°±æ˜¯é¢å‘è¿‡ç¨‹çš„ç¨‹åºè®¾è®¡çš„åŸºæœ¬å•å…ƒã€‚</p>
<p>Functional Programming å…¶æ€æƒ³æ›´æ¥è¿‘æ•°å­¦è®¡ç®—ã€‚</p>
<p>åœ¨è®¡ç®—æœºçš„å±‚æ¬¡ä¸Šï¼ŒCPUæ‰§è¡Œçš„æ˜¯åŠ å‡ä¹˜é™¤çš„æŒ‡ä»¤ä»£ç ï¼Œä»¥åŠå„ç§æ¡ä»¶åˆ¤æ–­å’Œè·³è½¬æŒ‡ä»¤ï¼Œæ‰€ä»¥ï¼Œæ±‡ç¼–è¯­è¨€æ˜¯æœ€è´´è¿‘è®¡ç®—æœºçš„è¯­è¨€ã€‚</p>
<p>è€Œè®¡ç®—åˆ™æŒ‡æ•°å­¦æ„ä¹‰ä¸Šçš„è®¡ç®—ï¼Œè¶Šæ˜¯æŠ½è±¡çš„è®¡ç®—ï¼Œç¦»è®¡ç®—æœºç¡¬ä»¶è¶Šè¿œã€‚</p>
<p>å¯¹åº”åˆ°ç¼–ç¨‹è¯­è¨€ï¼Œå°±æ˜¯è¶Šä½çº§çš„è¯­è¨€ï¼Œè¶Šè´´è¿‘è®¡ç®—æœºï¼ŒæŠ½è±¡ç¨‹åº¦ä½ï¼Œæ‰§è¡Œæ•ˆç‡é«˜ï¼Œæ¯”å¦‚Cè¯­è¨€ï¼›è¶Šé«˜çº§çš„è¯­è¨€ï¼Œè¶Šè´´è¿‘è®¡ç®—ï¼ŒæŠ½è±¡ç¨‹åº¦é«˜ï¼Œæ‰§è¡Œæ•ˆç‡ä½ï¼Œæ¯”å¦‚Lispè¯­è¨€ã€‚</p>
<p>å‡½æ•°å¼ç¼–ç¨‹å°±æ˜¯ä¸€ç§æŠ½è±¡ç¨‹åº¦å¾ˆé«˜çš„ç¼–ç¨‹èŒƒå¼ï¼Œ<code>çº¯ç²¹çš„å‡½æ•°å¼ç¼–ç¨‹è¯­è¨€ç¼–å†™çš„å‡½æ•°æ²¡æœ‰å˜é‡</code>ï¼Œå› æ­¤ï¼Œä»»æ„ä¸€ä¸ªå‡½æ•°ï¼Œåªè¦è¾“å…¥æ˜¯ç¡®å®šçš„ï¼Œè¾“å‡ºå°±æ˜¯ç¡®å®šçš„ï¼Œè¿™ç§çº¯å‡½æ•°æˆ‘ä»¬ç§°ä¹‹ä¸ºæ²¡æœ‰å‰¯ä½œç”¨ã€‚è€Œå…è®¸ä½¿ç”¨å˜é‡çš„ç¨‹åºè®¾è®¡è¯­è¨€ï¼Œç”±äºå‡½æ•°å†…éƒ¨çš„å˜é‡çŠ¶æ€ä¸ç¡®å®šï¼ŒåŒæ ·çš„è¾“å…¥ï¼Œå¯èƒ½å¾—åˆ°ä¸åŒçš„è¾“å‡ºï¼Œå› æ­¤ï¼Œè¿™ç§å‡½æ•°æ˜¯æœ‰å‰¯ä½œç”¨çš„ã€‚</p>
<p>å‡½æ•°å¼ç¼–ç¨‹çš„ä¸€ä¸ªç‰¹ç‚¹å°±æ˜¯ï¼Œå…è®¸æŠŠå‡½æ•°æœ¬èº«ä½œä¸ºå‚æ•°ä¼ å…¥å¦ä¸€ä¸ªå‡½æ•°ï¼Œè¿˜å…è®¸è¿”å›ä¸€ä¸ªå‡½æ•°ï¼</p>
<p>Pythonå¯¹å‡½æ•°å¼ç¼–ç¨‹æä¾›éƒ¨åˆ†æ”¯æŒã€‚ç”±äºPythonå…è®¸ä½¿ç”¨å˜é‡ï¼Œå› æ­¤ï¼ŒPythonä¸æ˜¯çº¯å‡½æ•°å¼ç¼–ç¨‹è¯­è¨€ã€‚</p>
<h3 id="1-1-é«˜é˜¶å‡½æ•°"><a href="#1-1-é«˜é˜¶å‡½æ•°" class="headerlink" title="1.1 é«˜é˜¶å‡½æ•°"></a>1.1 é«˜é˜¶å‡½æ•°</h3><p>Higher-order function</p>
<h2 id="Reference-article"><a href="#Reference-article" class="headerlink" title="Reference article"></a>Reference article</h2><ul>
<li><a href="http://www.liaoxuefeng.com/wiki/001374738125095c955c1e6d8bb493182103fac9270762a000/001386819196283586a37629844456ca7e5a7faa9b94ee8000" target="_blank" rel="external">å»–é›ªå³°çš„å®˜æ–¹ç½‘ç«™ liaoxuefeng</a></li>
</ul>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[Python Basic Learning II]]></title>
      <url>http://iequa.com/2017/06/02/python-basic-learning-II/</url>
      <content type="html"><![CDATA[<h2 id="1-å‡½æ•°"><a href="#1-å‡½æ•°" class="headerlink" title="1. å‡½æ•°"></a>1. å‡½æ•°</h2><h3 id="1-1-è°ƒç”¨å‡½æ•°"><a href="#1-1-è°ƒç”¨å‡½æ•°" class="headerlink" title="1.1 è°ƒç”¨å‡½æ•°"></a>1.1 è°ƒç”¨å‡½æ•°</h3><p>å†…ç½®å‡½æ•°</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>abs(<span class="number">-12.34</span>)</span><br><span class="line"><span class="number">12.34</span></span><br></pre></td></tr></table></figure>
<p><a href="https://docs.python.org/2/library/functions.html#abs" target="_blank" rel="external">abs api</a></p>
<figure class="highlight py"><table><tr><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>cmp(<span class="number">1</span>, <span class="number">2</span>)</span><br><span class="line"><span class="number">-1</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>cmp(<span class="number">10</span>, <span class="number">2</span>)</span><br><span class="line"><span class="number">1</span></span><br></pre></td></tr></table></figure>
<p>æ•°æ®ç±»å‹è½¬æ¢</p>
<figure class="highlight py"><table><tr><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>int(<span class="string">'123'</span>)</span><br><span class="line"><span class="number">123</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>int(<span class="number">12.34</span>)</span><br><span class="line"><span class="number">12</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>float(<span class="string">'12.34'</span>)</span><br><span class="line"><span class="number">12.34</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>str(<span class="number">1.23</span>)</span><br><span class="line"><span class="string">'1.23'</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>unicode(<span class="number">100</span>)</span><br><span class="line"><span class="string">u'100'</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>bool(<span class="number">1</span>)</span><br><span class="line"><span class="keyword">True</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>bool(<span class="string">''</span>)</span><br><span class="line"><span class="keyword">False</span></span><br></pre></td></tr></table></figure>
<p>å‡½æ•°åå…¶å®å°±æ˜¯æŒ‡å‘ä¸€ä¸ªå‡½æ•°å¯¹è±¡çš„å¼•ç”¨ï¼Œå®Œå…¨å¯ä»¥æŠŠå‡½æ•°åèµ‹ç»™ä¸€ä¸ªå˜é‡ï¼Œç›¸å½“äºç»™è¿™ä¸ªå‡½æ•°èµ·äº†ä¸€ä¸ªâ€œåˆ«åâ€ï¼š</p>
<figure class="highlight py"><table><tr><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>a = abs <span class="comment"># å˜é‡aæŒ‡å‘abså‡½æ•°</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>a(<span class="number">-1</span>) <span class="comment"># æ‰€ä»¥ä¹Ÿå¯ä»¥é€šè¿‡aè°ƒç”¨abså‡½æ•°</span></span><br><span class="line"><span class="number">1</span></span><br></pre></td></tr></table></figure>
<h3 id="1-2-å®šä¹‰å‡½æ•°"><a href="#1-2-å®šä¹‰å‡½æ•°" class="headerlink" title="1.2 å®šä¹‰å‡½æ•°"></a>1.2 å®šä¹‰å‡½æ•°</h3><figure class="highlight py"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">my_abs</span><span class="params">(x)</span>:</span></span><br><span class="line">    <span class="keyword">if</span> x &gt;= <span class="number">0</span>:</span><br><span class="line">        <span class="keyword">return</span> x</span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        <span class="keyword">return</span> -x</span><br></pre></td></tr></table></figure>
<blockquote>
<p><code>return None</code> å¯ä»¥ç®€å†™ä¸º <code>return</code>ã€‚</p>
</blockquote>
<p>ç©ºå‡½æ•°</p>
<figure class="highlight py"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">nop</span><span class="params">()</span>:</span></span><br><span class="line">    <span class="keyword">pass</span></span><br></pre></td></tr></table></figure>
<p>å‡½æ•°å‚æ•°ç±»å‹æ£€æŸ¥</p>
<figure class="highlight py"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">my_abs</span><span class="params">(x)</span>:</span></span><br><span class="line">    <span class="keyword">if</span> <span class="keyword">not</span> isinstance(x, (int, float)):</span><br><span class="line">        <span class="keyword">raise</span> TypeError(<span class="string">'bad operand type'</span>)</span><br><span class="line">    <span class="keyword">if</span> x &gt;= <span class="number">0</span>:</span><br><span class="line">        <span class="keyword">return</span> x</span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        <span class="keyword">return</span> -x</span><br></pre></td></tr></table></figure>
<p>è¿”å›å¤šä¸ªå€¼ (ä½†å…¶å®å°±æ˜¯ä¸€ä¸ªtuple)</p>
<figure class="highlight py"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> math</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">move</span><span class="params">(x, y, step, angle=<span class="number">0</span>)</span>:</span></span><br><span class="line">    nx = x + step * math.cos(angle)</span><br><span class="line">    ny = y - step * math.sin(angle)</span><br><span class="line">    <span class="keyword">return</span> nx, ny</span><br><span class="line"></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>x, y = move(<span class="number">100</span>, <span class="number">100</span>, <span class="number">60</span>, math.pi / <span class="number">6</span>)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="keyword">print</span> x, y</span><br><span class="line"><span class="number">151.961524227</span> <span class="number">70.0</span></span><br></pre></td></tr></table></figure>
<h3 id="1-3-å‡½æ•°çš„å‚æ•°"><a href="#1-3-å‡½æ•°çš„å‚æ•°" class="headerlink" title="1.3 å‡½æ•°çš„å‚æ•°"></a>1.3 å‡½æ•°çš„å‚æ•°</h3><figure class="highlight py"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">power</span><span class="params">(x, n=<span class="number">2</span>)</span>:</span></span><br><span class="line">    s = <span class="number">1</span></span><br><span class="line">    <span class="keyword">while</span> n &gt; <span class="number">0</span>:</span><br><span class="line">        n = n - <span class="number">1</span></span><br><span class="line">        s = s * x</span><br><span class="line">    <span class="keyword">return</span> s</span><br></pre></td></tr></table></figure>
<blockquote>
<p>ä¸€æ˜¯å¿…é€‰å‚æ•°åœ¨å‰ï¼Œé»˜è®¤å‚æ•°åœ¨åï¼Œå¦åˆ™Pythonçš„è§£é‡Šå™¨ä¼šæŠ¥é”™</p>
<p>äºŒæ˜¯å¦‚ä½•è®¾ç½®é»˜è®¤å‚æ•°ã€‚</p>
<p>å½“å‡½æ•°æœ‰å¤šä¸ªå‚æ•°æ—¶ï¼ŒæŠŠå˜åŒ–å¤§çš„å‚æ•°æ”¾å‰é¢ï¼Œå˜åŒ–å°çš„å‚æ•°æ”¾åé¢ã€‚å˜åŒ–å°çš„å‚æ•°å°±å¯ä»¥ä½œä¸ºé»˜è®¤å‚æ•°ã€‚</p>
<p>ä½¿ç”¨é»˜è®¤å‚æ•°æœ‰ä»€ä¹ˆå¥½å¤„ï¼Ÿæœ€å¤§çš„å¥½å¤„æ˜¯èƒ½é™ä½è°ƒç”¨å‡½æ•°çš„éš¾åº¦ã€‚</p>
<p>å®šä¹‰é»˜è®¤å‚æ•°è¦ç‰¢è®°ä¸€ç‚¹ï¼š<code>é»˜è®¤å‚æ•°å¿…é¡»æŒ‡å‘ä¸å˜å¯¹è±¡ï¼</code></p>
</blockquote>
<figure class="highlight py"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">add_end</span><span class="params">(L=None)</span>:</span></span><br><span class="line">    <span class="keyword">if</span> L <span class="keyword">is</span> <span class="keyword">None</span>:</span><br><span class="line">        L = []</span><br><span class="line">    L.append(<span class="string">'END'</span>)</span><br><span class="line">    <span class="keyword">return</span> L</span><br></pre></td></tr></table></figure>
<blockquote>
<p>ä¸ºä»€ä¹ˆè¦è®¾è®¡strã€Noneè¿™æ ·çš„ä¸å˜å¯¹è±¡å‘¢ï¼Ÿå› ä¸ºä¸å˜å¯¹è±¡ä¸€æ—¦åˆ›å»ºï¼Œå¯¹è±¡å†…éƒ¨çš„æ•°æ®å°±ä¸èƒ½ä¿®æ”¹ï¼Œè¿™æ ·å°±å‡å°‘äº†ç”±äºä¿®æ”¹æ•°æ®å¯¼è‡´çš„é”™è¯¯ã€‚æ­¤å¤–ï¼Œç”±äºå¯¹è±¡ä¸å˜ï¼Œå¤šä»»åŠ¡ç¯å¢ƒä¸‹åŒæ—¶è¯»å–å¯¹è±¡ä¸éœ€è¦åŠ é”ï¼ŒåŒæ—¶è¯»ä¸€ç‚¹é—®é¢˜éƒ½æ²¡æœ‰ã€‚æˆ‘ä»¬åœ¨ç¼–å†™ç¨‹åºæ—¶ï¼Œå¦‚æœå¯ä»¥è®¾è®¡ä¸€ä¸ªä¸å˜å¯¹è±¡ï¼Œé‚£å°±å°½é‡è®¾è®¡æˆä¸å˜å¯¹è±¡ã€‚</p>
</blockquote>
<p><strong>å¯å˜å‚æ•°</strong></p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">calc</span><span class="params">(numbers)</span>:</span></span><br><span class="line">    sum = <span class="number">0</span></span><br><span class="line">    <span class="keyword">for</span> n <span class="keyword">in</span> numbers:</span><br><span class="line">        sum = sum + n * n</span><br><span class="line">    <span class="keyword">return</span> sum</span><br><span class="line"></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>calc([<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>])</span><br><span class="line"><span class="number">14</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>calc((<span class="number">1</span>, <span class="number">3</span>, <span class="number">5</span>, <span class="number">7</span>))</span><br><span class="line"><span class="number">84</span></span><br></pre></td></tr></table></figure>
<p>å¦‚æœåˆ©ç”¨å¯å˜å‚æ•°ï¼Œè°ƒç”¨å‡½æ•°çš„æ–¹å¼å¯ä»¥ç®€åŒ–æˆè¿™æ ·ï¼š</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">calc</span><span class="params">(*numbers)</span>:</span></span><br><span class="line">    sum = <span class="number">0</span></span><br><span class="line">    <span class="keyword">for</span> n <span class="keyword">in</span> numbers:</span><br><span class="line">        sum = sum + n * n</span><br><span class="line">    <span class="keyword">return</span> sum</span><br></pre></td></tr></table></figure>
<p>å®šä¹‰å¯å˜å‚æ•°å’Œå®šä¹‰listæˆ–tupleå‚æ•°ç›¸æ¯”ï¼Œä»…ä»…åœ¨å‚æ•°å‰é¢åŠ äº†ä¸€ä¸ª*å·ã€‚åœ¨å‡½æ•°å†…éƒ¨ï¼Œå‚æ•°numbersæ¥æ”¶åˆ°çš„æ˜¯ä¸€ä¸ªtupleï¼Œå› æ­¤ï¼Œå‡½æ•°ä»£ç å®Œå…¨ä¸å˜ã€‚ä½†æ˜¯ï¼Œè°ƒç”¨è¯¥å‡½æ•°æ—¶ï¼Œå¯ä»¥ä¼ å…¥ä»»æ„ä¸ªå‚æ•°ï¼ŒåŒ…æ‹¬0ä¸ªå‚æ•°ï¼š</p>
<figure class="highlight py"><table><tr><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>calc(<span class="number">1</span>, <span class="number">2</span>)</span><br><span class="line"><span class="number">5</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>calc()</span><br><span class="line"><span class="number">0</span></span><br></pre></td></tr></table></figure>
<p>è¿™ç§å†™æ³•ç›¸å½“æœ‰ç”¨ï¼Œè€Œä¸”å¾ˆå¸¸è§ï¼Œè§å¦‚ä¸‹ :</p>
<figure class="highlight py"><table><tr><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>nums = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>]</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>calc(*nums)</span><br><span class="line"><span class="number">14</span></span><br></pre></td></tr></table></figure>
<p><strong>å…³é”®å­—å‚æ•°</strong></p>
<p><code>å¯å˜å‚æ•°</code>å…è®¸ä½ ä¼ å…¥0ä¸ªæˆ–ä»»æ„ä¸ªå‚æ•°ï¼Œè¿™äº›å¯å˜å‚æ•°åœ¨å‡½æ•°è°ƒç”¨æ—¶è‡ªåŠ¨ç»„è£…ä¸ºä¸€ä¸ªtupleã€‚</p>
<p><code>å…³é”®å­—å‚æ•°</code>å…è®¸ä½ ä¼ å…¥0ä¸ªæˆ–ä»»æ„ä¸ªå«å‚æ•°åçš„å‚æ•°ï¼Œè¿™äº›å…³é”®å­—å‚æ•°åœ¨å‡½æ•°å†…éƒ¨è‡ªåŠ¨ç»„è£…ä¸ºä¸€ä¸ªdictã€‚</p>
<p>è¯·çœ‹ç¤ºä¾‹ï¼š</p>
<figure class="highlight py"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">person</span><span class="params">(name, age, **kw)</span>:</span></span><br><span class="line">    <span class="keyword">print</span> <span class="string">'name:'</span>, name, <span class="string">'age:'</span>, age, <span class="string">'other:'</span>, kw</span><br></pre></td></tr></table></figure>
<p>å‡½æ•°<code>person</code>é™¤äº†å¿…é€‰å‚æ•°<code>name</code>å’Œ<code>age</code>å¤–ï¼Œè¿˜æ¥å—å…³é”®å­—å‚æ•°<code>kw</code>ã€‚åœ¨è°ƒç”¨è¯¥å‡½æ•°æ—¶ï¼Œå¯ä»¥åªä¼ å…¥å¿…é€‰å‚æ•°; ä¹Ÿå¯ä»¥ä¼ å…¥ä»»æ„ä¸ªæ•°çš„å…³é”®å­—å‚æ•°;</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>person(<span class="string">'Bob'</span>, <span class="number">35</span>, city=<span class="string">'Beijing'</span>)</span><br><span class="line">name: Bob age: <span class="number">35</span> other: &#123;<span class="string">'city'</span>: <span class="string">'Beijing'</span>&#125;</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>person(<span class="string">'Adam'</span>, <span class="number">45</span>, gender=<span class="string">'M'</span>, job=<span class="string">'Engineer'</span>)</span><br><span class="line">name: Adam age: <span class="number">45</span> other: &#123;<span class="string">'gender'</span>: <span class="string">'M'</span>, <span class="string">'job'</span>: <span class="string">'Engineer'</span>&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>kw = &#123;<span class="string">'city'</span>: <span class="string">'Beijing'</span>, <span class="string">'job'</span>: <span class="string">'Engineer'</span>&#125;</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>person(<span class="string">'Jack'</span>, <span class="number">24</span>, **kw)</span><br><span class="line">name: Jack age: <span class="number">24</span> other: &#123;<span class="string">'city'</span>: <span class="string">'Beijing'</span>, <span class="string">'job'</span>: <span class="string">'Engineer'</span>&#125;</span><br></pre></td></tr></table></figure>
<p><strong>å‚æ•°ç»„åˆ</strong></p>
<p>åœ¨Pythonä¸­å®šä¹‰å‡½æ•°ï¼Œå¯ä»¥ç”¨å¿…é€‰å‚æ•°ã€é»˜è®¤å‚æ•°ã€å¯å˜å‚æ•°å’Œå…³é”®å­—å‚æ•°ï¼Œè¿™4ç§å‚æ•°éƒ½å¯ä»¥ä¸€èµ·ä½¿ç”¨ï¼Œæˆ–è€…åªç”¨å…¶ä¸­æŸäº›ï¼Œä½†æ˜¯è¯·æ³¨æ„ï¼Œå‚æ•°å®šä¹‰çš„é¡ºåºå¿…é¡»æ˜¯ï¼šå¿…é€‰å‚æ•°ã€é»˜è®¤å‚æ•°ã€å¯å˜å‚æ•°å’Œå…³é”®å­—å‚æ•°ã€‚</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">func</span><span class="params">(a, b, c=<span class="number">0</span>, *args, **kw)</span>:</span></span><br><span class="line">    <span class="keyword">print</span> <span class="string">'a ='</span>, a, <span class="string">'b ='</span>, b, <span class="string">'c ='</span>, c, <span class="string">'args ='</span>, args, <span class="string">'kw ='</span>, kw</span><br></pre></td></tr></table></figure>
<p>åœ¨å‡½æ•°è°ƒç”¨çš„æ—¶å€™ï¼ŒPythonè§£é‡Šå™¨è‡ªåŠ¨æŒ‰ç…§å‚æ•°ä½ç½®å’Œå‚æ•°åæŠŠå¯¹åº”çš„å‚æ•°ä¼ è¿›å»ã€‚</p>
<figure class="highlight py"><table><tr><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>func(<span class="number">1</span>, <span class="number">2</span>)</span><br><span class="line">a = <span class="number">1</span> b = <span class="number">2</span> c = <span class="number">0</span> args = () kw = &#123;&#125;</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>func(<span class="number">1</span>, <span class="number">2</span>, c=<span class="number">3</span>)</span><br><span class="line">a = <span class="number">1</span> b = <span class="number">2</span> c = <span class="number">3</span> args = () kw = &#123;&#125;</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>func(<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="string">'a'</span>, <span class="string">'b'</span>)</span><br><span class="line">a = <span class="number">1</span> b = <span class="number">2</span> c = <span class="number">3</span> args = (<span class="string">'a'</span>, <span class="string">'b'</span>) kw = &#123;&#125;</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>func(<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="string">'a'</span>, <span class="string">'b'</span>, x=<span class="number">99</span>)</span><br><span class="line">a = <span class="number">1</span> b = <span class="number">2</span> c = <span class="number">3</span> args = (<span class="string">'a'</span>, <span class="string">'b'</span>) kw = &#123;<span class="string">'x'</span>: <span class="number">99</span>&#125;</span><br></pre></td></tr></table></figure>
<p>ç¥å¥‡çš„æ˜¯é€šè¿‡ä¸€ä¸ªtupleå’Œdictï¼Œä½ ä¹Ÿå¯ä»¥è°ƒç”¨è¯¥å‡½æ•°ï¼š</p>
<figure class="highlight py"><table><tr><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>args = (<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>kw = &#123;<span class="string">'x'</span>: <span class="number">99</span>&#125;</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>func(*args, **kw)</span><br><span class="line">a = <span class="number">1</span> b = <span class="number">2</span> c = <span class="number">3</span> args = (<span class="number">4</span>,) kw = &#123;<span class="string">'x'</span>: <span class="number">99</span>&#125;</span><br></pre></td></tr></table></figure>
<p>æ‰€ä»¥ï¼Œå¯¹äºä»»æ„å‡½æ•°ï¼Œéƒ½å¯ä»¥é€šè¿‡ç±»ä¼¼<code>func(*args, **kw)</code>çš„å½¢å¼è°ƒç”¨å®ƒï¼Œæ— è®ºå®ƒçš„å‚æ•°æ˜¯å¦‚ä½•å®šä¹‰çš„ã€‚</p>
<p><strong>å°ç»“</strong></p>
<p>Pythonçš„å‡½æ•°å…·æœ‰éå¸¸çµæ´»çš„å‚æ•°å½¢æ€ï¼Œæ—¢å¯ä»¥å®ç°ç®€å•çš„è°ƒç”¨ï¼Œåˆå¯ä»¥ä¼ å…¥éå¸¸å¤æ‚çš„å‚æ•°ã€‚</p>
<p>é»˜è®¤å‚æ•°ä¸€å®šè¦ç”¨ä¸å¯å˜å¯¹è±¡ï¼Œå¦‚æœæ˜¯å¯å˜å¯¹è±¡ï¼Œè¿è¡Œä¼šæœ‰é€»è¾‘é”™è¯¯ï¼</p>
<p>è¦æ³¨æ„å®šä¹‰å¯å˜å‚æ•°å’Œå…³é”®å­—å‚æ•°çš„è¯­æ³•ï¼š</p>
<p><code>*args</code>æ˜¯å¯å˜å‚æ•°ï¼Œargsæ¥æ”¶çš„æ˜¯ä¸€ä¸ªtupleï¼›</p>
<p><code>**kw</code>æ˜¯å…³é”®å­—å‚æ•°ï¼Œkwæ¥æ”¶çš„æ˜¯ä¸€ä¸ªdictã€‚</p>
<p>ä»¥åŠè°ƒç”¨å‡½æ•°æ—¶å¦‚ä½•ä¼ å…¥å¯å˜å‚æ•°å’Œå…³é”®å­—å‚æ•°çš„è¯­æ³•ï¼š</p>
<p>å¯å˜å‚æ•°æ—¢å¯ç›´æ¥ä¼ å…¥ï¼š<code>func(1, 2, 3)</code>ï¼Œåˆå¯å…ˆç»„è£…listæˆ–tupleï¼Œå†é€šè¿‡<code>*args</code>ä¼ å…¥ï¼š<code>func(*(1, 2, 3))</code>ï¼›</p>
<p>å…³é”®å­—å‚æ•°æ—¢å¯ç›´æ¥ä¼ å…¥ï¼š<code>func(a=1, b=2)</code>ï¼Œåˆå¯å…ˆç»„è£…dictï¼Œå†é€šè¿‡<code>**kw</code>ä¼ å…¥ï¼š<code>func(**{&#39;a&#39;: 1, &#39;b&#39;: 2})</code>ã€‚</p>
<p>ä½¿ç”¨<code>*args</code>å’Œ<code>**kw</code>æ˜¯Pythonçš„ä¹ æƒ¯å†™æ³•ï¼Œå½“ç„¶ä¹Ÿå¯ä»¥ç”¨å…¶ä»–å‚æ•°åï¼Œä½†æœ€å¥½ä½¿ç”¨ä¹ æƒ¯ç”¨æ³•ã€‚</p>
<h3 id="1-4-é€’å½’å‡½æ•°"><a href="#1-4-é€’å½’å‡½æ•°" class="headerlink" title="1.4 é€’å½’å‡½æ•°"></a>1.4 é€’å½’å‡½æ•°</h3><figure class="highlight py"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">fact</span><span class="params">(n)</span>:</span></span><br><span class="line">    <span class="keyword">if</span> n==<span class="number">1</span>:</span><br><span class="line">        <span class="keyword">return</span> <span class="number">1</span></span><br><span class="line">    <span class="keyword">return</span> n * fact(n - <span class="number">1</span>)</span><br></pre></td></tr></table></figure>
<blockquote>
<p>ä½¿ç”¨é€’å½’å‡½æ•°éœ€è¦æ³¨æ„é˜²æ­¢æ ˆæº¢å‡ºã€‚åœ¨è®¡ç®—æœºä¸­ï¼Œå‡½æ•°è°ƒç”¨æ˜¯é€šè¿‡æ ˆï¼ˆstackï¼‰è¿™ç§æ•°æ®ç»“æ„å®ç°çš„ï¼Œæ¯å½“è¿›å…¥ä¸€ä¸ªå‡½æ•°è°ƒç”¨ï¼Œæ ˆå°±ä¼šåŠ ä¸€å±‚æ ˆå¸§ï¼Œæ¯å½“å‡½æ•°è¿”å›ï¼Œæ ˆå°±ä¼šå‡ä¸€å±‚æ ˆå¸§ã€‚ç”±äºæ ˆçš„å¤§å°ä¸æ˜¯æ— é™çš„ï¼Œæ‰€ä»¥ï¼Œé€’å½’è°ƒç”¨çš„æ¬¡æ•°è¿‡å¤šï¼Œä¼šå¯¼è‡´æ ˆæº¢å‡ºã€‚</p>
<p>ä½¿ç”¨é€’å½’å‡½æ•°çš„ä¼˜ç‚¹æ˜¯é€»è¾‘ç®€å•æ¸…æ™°ï¼Œç¼ºç‚¹æ˜¯è¿‡æ·±çš„è°ƒç”¨ä¼šå¯¼è‡´æ ˆæº¢å‡ºã€‚</p>
</blockquote>
<h2 id="2-é«˜çº§ç‰¹æ€§"><a href="#2-é«˜çº§ç‰¹æ€§" class="headerlink" title="2. é«˜çº§ç‰¹æ€§"></a>2. é«˜çº§ç‰¹æ€§</h2><figure class="highlight py"><table><tr><td class="code"><pre><span class="line">L = []</span><br><span class="line">n = <span class="number">1</span></span><br><span class="line"><span class="keyword">while</span> n &lt;= <span class="number">99</span>:</span><br><span class="line">    L.append(n)</span><br><span class="line">    n = n + <span class="number">2</span></span><br></pre></td></tr></table></figure>
<h3 id="2-1-åˆ‡ç‰‡"><a href="#2-1-åˆ‡ç‰‡" class="headerlink" title="2.1 åˆ‡ç‰‡"></a>2.1 åˆ‡ç‰‡</h3><p>list</p>
<figure class="highlight py"><table><tr><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>L = [<span class="string">'Michael'</span>, <span class="string">'Sarah'</span>, <span class="string">'Tracy'</span>, <span class="string">'Bob'</span>, <span class="string">'Jack'</span>]</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>L[<span class="number">1</span>:<span class="number">3</span>]</span><br><span class="line">[<span class="string">'Sarah'</span>, <span class="string">'Tracy'</span>]</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>L[<span class="number">-2</span>:]</span><br><span class="line">[<span class="string">'Bob'</span>, <span class="string">'Jack'</span>]</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>L = range(<span class="number">100</span>)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>L</span><br><span class="line">[<span class="number">0</span>, <span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>, <span class="number">7</span>, <span class="number">8</span>, <span class="number">9</span>, <span class="number">10</span>, <span class="number">11</span>, <span class="number">12</span>, <span class="number">13</span>, <span class="number">14</span>, <span class="number">15</span>, <span class="number">16</span>, <span class="number">17</span>, <span class="number">18</span>, <span class="number">19</span>, <span class="number">20</span>, <span class="number">21</span>, <span class="number">22</span>, <span class="number">23</span>, <span class="number">24</span>, <span class="number">25</span>, <span class="number">26</span>, <span class="number">27</span>, <span class="number">28</span>, <span class="number">29</span>, <span class="number">30</span>, <span class="number">31</span>, <span class="number">32</span>, <span class="number">33</span>, <span class="number">34</span>, <span class="number">35</span>, <span class="number">36</span>, <span class="number">37</span>, <span class="number">38</span>, <span class="number">39</span>, <span class="number">40</span>, <span class="number">41</span>, <span class="number">42</span>, <span class="number">43</span>, <span class="number">44</span>, <span class="number">45</span>, <span class="number">46</span>, <span class="number">47</span>, <span class="number">48</span>, <span class="number">49</span>, <span class="number">50</span>, <span class="number">51</span>, <span class="number">52</span>, <span class="number">53</span>, <span class="number">54</span>, <span class="number">55</span>, <span class="number">56</span>, <span class="number">57</span>, <span class="number">58</span>, <span class="number">59</span>, <span class="number">60</span>, <span class="number">61</span>, <span class="number">62</span>, <span class="number">63</span>, <span class="number">64</span>, <span class="number">65</span>, <span class="number">66</span>, <span class="number">67</span>, <span class="number">68</span>, <span class="number">69</span>, <span class="number">70</span>, <span class="number">71</span>, <span class="number">72</span>, <span class="number">73</span>, <span class="number">74</span>, <span class="number">75</span>, <span class="number">76</span>, <span class="number">77</span>, <span class="number">78</span>, <span class="number">79</span>, <span class="number">80</span>, <span class="number">81</span>, <span class="number">82</span>, <span class="number">83</span>, <span class="number">84</span>, <span class="number">85</span>, <span class="number">86</span>, <span class="number">87</span>, <span class="number">88</span>, <span class="number">89</span>, <span class="number">90</span>, <span class="number">91</span>, <span class="number">92</span>, <span class="number">93</span>, <span class="number">94</span>, <span class="number">95</span>, <span class="number">96</span>, <span class="number">97</span>, <span class="number">98</span>, <span class="number">99</span>]</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>L[:<span class="number">10</span>:<span class="number">2</span>]</span><br><span class="line">[<span class="number">0</span>, <span class="number">2</span>, <span class="number">4</span>, <span class="number">6</span>, <span class="number">8</span>]</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>L[::<span class="number">5</span>]</span><br><span class="line">[<span class="number">0</span>, <span class="number">5</span>, <span class="number">10</span>, <span class="number">15</span>, <span class="number">20</span>, <span class="number">25</span>, <span class="number">30</span>, <span class="number">35</span>, <span class="number">40</span>, <span class="number">45</span>, <span class="number">50</span>, <span class="number">55</span>, <span class="number">60</span>, <span class="number">65</span>, <span class="number">70</span>, <span class="number">75</span>, <span class="number">80</span>, <span class="number">85</span>, <span class="number">90</span>, <span class="number">95</span>]</span><br><span class="line">&gt;&gt;&gt;</span><br></pre></td></tr></table></figure>
<p>tupleä¹Ÿæ˜¯ä¸€ç§listï¼Œå”¯ä¸€åŒºåˆ«æ˜¯tupleä¸å¯å˜ã€‚å› æ­¤ï¼Œtupleä¹Ÿå¯ä»¥ç”¨åˆ‡ç‰‡æ“ä½œï¼Œåªæ˜¯æ“ä½œçš„ç»“æœä»æ˜¯tuple</p>
<figure class="highlight py"><table><tr><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>(<span class="number">0</span>, <span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>)[:<span class="number">3</span>]</span><br><span class="line">(<span class="number">0</span>, <span class="number">1</span>, <span class="number">2</span>)</span><br></pre></td></tr></table></figure>
<p>å­—ç¬¦ä¸²<code>&#39;xxx&#39;</code>æˆ–Unicodeå­—ç¬¦ä¸²<code>u&#39;xxx&#39;</code>ä¹Ÿå¯ä»¥çœ‹æˆæ˜¯ä¸€ç§listï¼Œæ¯ä¸ªå…ƒç´ å°±æ˜¯ä¸€ä¸ªå­—ç¬¦ã€‚å› æ­¤ï¼Œå­—ç¬¦ä¸²ä¹Ÿå¯ä»¥ç”¨åˆ‡ç‰‡æ“ä½œï¼Œåªæ˜¯æ“ä½œç»“æœä»æ˜¯å­—ç¬¦ä¸²ï¼š</p>
<figure class="highlight py"><table><tr><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="string">'ABCDEFG'</span>[:<span class="number">3</span>]</span><br><span class="line"><span class="string">'ABC'</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="string">'ABCDEFG'</span>[::<span class="number">2</span>]</span><br><span class="line"><span class="string">'ACEG'</span></span><br></pre></td></tr></table></figure>
<h3 id="2-2-Iteration"><a href="#2-2-Iteration" class="headerlink" title="2.2 Iteration"></a>2.2 Iteration</h3><p>åªè¦æ˜¯å¯è¿­ä»£å¯¹è±¡ï¼Œæ— è®ºæœ‰æ— ä¸‹æ ‡ï¼Œéƒ½å¯ä»¥è¿­ä»£ï¼Œæ¯”å¦‚dictå°±å¯ä»¥è¿­ä»£</p>
<figure class="highlight py"><table><tr><td class="code"><pre><span class="line"><span class="keyword">for</span> (i=<span class="number">0</span>; i&lt;list.length; i++) &#123;</span><br><span class="line">    n = list[i];</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight py"><table><tr><td class="code"><pre><span class="line">d = &#123;<span class="string">'a'</span>: <span class="number">1</span>, <span class="string">'b'</span>: <span class="number">2</span>, <span class="string">'c'</span>: <span class="number">3</span>&#125;</span><br><span class="line"><span class="keyword">for</span> key <span class="keyword">in</span> d:</span><br><span class="line">    <span class="keyword">print</span> key</span><br></pre></td></tr></table></figure>
<figure class="highlight py"><table><tr><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="keyword">for</span> ch <span class="keyword">in</span> <span class="string">'ABC'</span>:</span><br><span class="line"><span class="meta">... </span>    <span class="keyword">print</span> ch</span><br><span class="line">...</span><br><span class="line">A</span><br><span class="line">B</span><br><span class="line">C</span><br></pre></td></tr></table></figure>
<p>å¦‚ä½•åˆ¤æ–­ä¸€ä¸ªå¯¹è±¡æ˜¯å¯è¿­ä»£å¯¹è±¡å‘¢ï¼Ÿæ–¹æ³•æ˜¯é€šè¿‡<code>collectionsæ¨¡å—</code>çš„<code>Iterable</code>ç±»å‹åˆ¤æ–­ï¼š</p>
<figure class="highlight py"><table><tr><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="keyword">from</span> collections <span class="keyword">import</span> Iterable</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>isinstance(<span class="string">'abc'</span>, Iterable) <span class="comment"># stræ˜¯å¦å¯è¿­ä»£</span></span><br><span class="line"><span class="keyword">True</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>isinstance([<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>], Iterable) <span class="comment"># listæ˜¯å¦å¯è¿­ä»£</span></span><br><span class="line"><span class="keyword">True</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>isinstance(<span class="number">123</span>, Iterable) <span class="comment"># æ•´æ•°æ˜¯å¦å¯è¿­ä»£</span></span><br><span class="line"><span class="keyword">False</span></span><br></pre></td></tr></table></figure>
<p>å¦‚æœè¦å¯¹listå®ç°ç±»ä¼¼Javaé‚£æ ·çš„ä¸‹æ ‡å¾ªç¯æ€ä¹ˆåŠï¼ŸPythonå†…ç½®çš„<code>enumerate</code>å‡½æ•°å¯ä»¥æŠŠä¸€ä¸ªlistå˜æˆç´¢å¼•-å…ƒç´ å¯¹ï¼Œè¿™æ ·å°±å¯ä»¥åœ¨forå¾ªç¯ä¸­åŒæ—¶è¿­ä»£ç´¢å¼•å’Œå…ƒç´ æœ¬èº«ï¼š</p>
<figure class="highlight py"><table><tr><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="keyword">for</span> i, value <span class="keyword">in</span> enumerate([<span class="string">'A'</span>, <span class="string">'B'</span>, <span class="string">'C'</span>]):</span><br><span class="line"><span class="meta">... </span>    <span class="keyword">print</span> i, value</span><br><span class="line">...</span><br><span class="line"><span class="number">0</span> A</span><br><span class="line"><span class="number">1</span> B</span><br><span class="line"><span class="number">2</span> C</span><br></pre></td></tr></table></figure>
<p><code>for</code>å¾ªç¯é‡Œï¼ŒåŒæ—¶å¼•ç”¨äº†ä¸¤ä¸ªå˜é‡ï¼Œåœ¨Pythoné‡Œæ˜¯å¾ˆå¸¸è§</p>
<figure class="highlight py"><table><tr><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="keyword">for</span> x, y <span class="keyword">in</span> [(<span class="number">1</span>, <span class="number">1</span>), (<span class="number">2</span>, <span class="number">4</span>), (<span class="number">3</span>, <span class="number">9</span>)]:</span><br><span class="line"><span class="meta">... </span>    <span class="keyword">print</span> x, y</span><br><span class="line">...</span><br><span class="line"><span class="number">1</span> <span class="number">1</span></span><br><span class="line"><span class="number">2</span> <span class="number">4</span></span><br><span class="line"><span class="number">3</span> <span class="number">9</span></span><br></pre></td></tr></table></figure>
<h3 id="2-3-åˆ—è¡¨ç”Ÿæˆå¼"><a href="#2-3-åˆ—è¡¨ç”Ÿæˆå¼" class="headerlink" title="2.3 åˆ—è¡¨ç”Ÿæˆå¼"></a>2.3 åˆ—è¡¨ç”Ÿæˆå¼</h3><figure class="highlight py"><table><tr><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>[x * x <span class="keyword">for</span> x <span class="keyword">in</span> range(<span class="number">1</span>, <span class="number">11</span>) <span class="keyword">if</span> x % <span class="number">2</span> == <span class="number">0</span>]</span><br><span class="line">[<span class="number">4</span>, <span class="number">16</span>, <span class="number">36</span>, <span class="number">64</span>, <span class="number">100</span>]</span><br></pre></td></tr></table></figure>
<p>è¿˜å¯ä»¥ä½¿ç”¨ä¸¤å±‚å¾ªç¯ï¼Œå¯ä»¥ç”Ÿæˆå…¨æ’åˆ—ï¼š</p>
<figure class="highlight py"><table><tr><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>[m + n <span class="keyword">for</span> m <span class="keyword">in</span> <span class="string">'ABC'</span> <span class="keyword">for</span> n <span class="keyword">in</span> <span class="string">'XYZ'</span>]</span><br><span class="line">[<span class="string">'AX'</span>, <span class="string">'AY'</span>, <span class="string">'AZ'</span>, <span class="string">'BX'</span>, <span class="string">'BY'</span>, <span class="string">'BZ'</span>, <span class="string">'CX'</span>, <span class="string">'CY'</span>, <span class="string">'CZ'</span>]</span><br></pre></td></tr></table></figure>
<p>è¿ç”¨åˆ—è¡¨ç”Ÿæˆå¼ï¼Œå¯ä»¥å†™å‡ºéå¸¸ç®€æ´çš„ä»£ç ã€‚</p>
<p>ä¾‹å¦‚ï¼Œåˆ—å‡ºå½“å‰ç›®å½•ä¸‹çš„æ‰€æœ‰æ–‡ä»¶å’Œç›®å½•å</p>
<figure class="highlight py"><table><tr><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="keyword">import</span> os <span class="comment"># å¯¼å…¥osæ¨¡å—ï¼Œæ¨¡å—çš„æ¦‚å¿µåé¢è®²åˆ°</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>[d <span class="keyword">for</span> d <span class="keyword">in</span> os.listdir(<span class="string">'.'</span>)] <span class="comment"># os.listdirå¯ä»¥åˆ—å‡ºæ–‡ä»¶å’Œç›®å½•</span></span><br><span class="line">[<span class="string">'.emacs.d'</span>, <span class="string">'.ssh'</span>, <span class="string">'.Trash'</span>, <span class="string">'Adlm'</span>, <span class="string">'Applications'</span>, <span class="string">'Desktop'</span>, <span class="string">'Documents'</span>, <span class="string">'Downloads'</span>, <span class="string">'Library'</span>, <span class="string">'Movies'</span>, <span class="string">'Music'</span>, <span class="string">'Pictures'</span>, <span class="string">'Public'</span>, <span class="string">'VirtualBox VMs'</span>, <span class="string">'Workspace'</span>, <span class="string">'XCode'</span>]</span><br></pre></td></tr></table></figure>
<p>forå¾ªç¯å…¶å®å¯ä»¥åŒæ—¶ä½¿ç”¨ä¸¤ä¸ªç”šè‡³å¤šä¸ªå˜é‡ï¼Œæ¯”å¦‚<code>dict</code>çš„<code>iteritems()</code>å¯ä»¥åŒæ—¶è¿­ä»£keyå’Œvalueï¼š</p>
<figure class="highlight py"><table><tr><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>d = &#123;<span class="string">'x'</span>: <span class="string">'A'</span>, <span class="string">'y'</span>: <span class="string">'B'</span>, <span class="string">'z'</span>: <span class="string">'C'</span> &#125;</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="keyword">for</span> k, v <span class="keyword">in</span> d.iteritems():</span><br><span class="line"><span class="meta">... </span>    <span class="keyword">print</span> k, <span class="string">'='</span>, v</span><br><span class="line"><span class="meta">... </span></span><br><span class="line">y = B</span><br><span class="line">x = A</span><br><span class="line">z = C</span><br></pre></td></tr></table></figure>
<p>åˆ—è¡¨ç”Ÿæˆå¼ä¹Ÿå¯ä»¥ä½¿ç”¨ä¸¤ä¸ªå˜é‡æ¥ç”Ÿæˆlistï¼š</p>
<figure class="highlight py"><table><tr><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>d = &#123;<span class="string">'x'</span>: <span class="string">'A'</span>, <span class="string">'y'</span>: <span class="string">'B'</span>, <span class="string">'z'</span>: <span class="string">'C'</span> &#125;</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>[k + <span class="string">'='</span> + v <span class="keyword">for</span> k, v <span class="keyword">in</span> d.iteritems()]</span><br><span class="line">[<span class="string">'y=B'</span>, <span class="string">'x=A'</span>, <span class="string">'z=C'</span>]</span><br></pre></td></tr></table></figure>
<p>æœ€åæŠŠä¸€ä¸ªlistä¸­æ‰€æœ‰çš„å­—ç¬¦ä¸²å˜æˆå°å†™ï¼š</p>
<figure class="highlight py"><table><tr><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>L = [<span class="string">'Hello'</span>, <span class="string">'World'</span>, <span class="string">'IBM'</span>, <span class="string">'Apple'</span>]</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>[s.lower() <span class="keyword">for</span> s <span class="keyword">in</span> L]</span><br><span class="line">[<span class="string">'hello'</span>, <span class="string">'world'</span>, <span class="string">'ibm'</span>, <span class="string">'apple'</span>]</span><br></pre></td></tr></table></figure>
<p><strong>å°ç»“</strong></p>
<p>è¿ç”¨åˆ—è¡¨ç”Ÿæˆå¼ï¼Œå¯ä»¥å¿«é€Ÿç”Ÿæˆlistï¼Œå¯ä»¥é€šè¿‡ä¸€ä¸ªlistæ¨å¯¼å‡ºå¦ä¸€ä¸ªlistï¼Œè€Œä»£ç å´ååˆ†ç®€æ´ã€‚</p>
<h3 id="2-4-ç”Ÿæˆå™¨"><a href="#2-4-ç”Ÿæˆå™¨" class="headerlink" title="2.4 ç”Ÿæˆå™¨"></a>2.4 ç”Ÿæˆå™¨</h3><p>å¦‚æœåˆ—è¡¨å…ƒç´ å¯ä»¥æŒ‰ç…§æŸç§ç®—æ³•æ¨ç®—å‡ºæ¥ï¼Œé‚£æˆ‘ä»¬æ˜¯å¦å¯ä»¥åœ¨å¾ªç¯çš„è¿‡ç¨‹ä¸­ä¸æ–­æ¨ç®—å‡ºåç»­çš„å…ƒç´ å‘¢ï¼Ÿè¿™æ ·å°±ä¸å¿…åˆ›å»ºå®Œæ•´çš„listï¼Œä»è€ŒèŠ‚çœå¤§é‡çš„ç©ºé—´ã€‚åœ¨Pythonä¸­ï¼Œè¿™ç§ä¸€è¾¹å¾ªç¯ä¸€è¾¹è®¡ç®—çš„æœºåˆ¶ï¼Œç§°ä¸ºç”Ÿæˆå™¨ï¼ˆ<code>Generator</code>ï¼‰</p>
<p>è¦åˆ›å»ºä¸€ä¸ªgeneratorï¼Œæœ‰å¾ˆå¤šç§æ–¹æ³•ã€‚ç¬¬ä¸€ç§æ–¹æ³•å¾ˆç®€å•ï¼Œåªè¦æŠŠä¸€ä¸ªåˆ—è¡¨ç”Ÿæˆå¼çš„<code>[]</code>æ”¹æˆ<code>()</code>ï¼Œå°±åˆ›å»ºäº†ä¸€ä¸ªgeneratorï¼š</p>
<figure class="highlight py"><table><tr><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>L = [x * x <span class="keyword">for</span> x <span class="keyword">in</span> range(<span class="number">10</span>)]</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>L</span><br><span class="line">[<span class="number">0</span>, <span class="number">1</span>, <span class="number">4</span>, <span class="number">9</span>, <span class="number">16</span>, <span class="number">25</span>, <span class="number">36</span>, <span class="number">49</span>, <span class="number">64</span>, <span class="number">81</span>]</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>g = (x * x <span class="keyword">for</span> x <span class="keyword">in</span> range(<span class="number">10</span>))</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>g</span><br><span class="line">&lt;generator object &lt;genexpr&gt; at <span class="number">0x104feab40</span>&gt;</span><br></pre></td></tr></table></figure>
<p>generator æ˜¯ä¸€ä¸ªå¯è¿­ä»£çš„å¯¹è±¡</p>
<figure class="highlight py"><table><tr><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>g = (x * x <span class="keyword">for</span> x <span class="keyword">in</span> range(<span class="number">10</span>))</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="keyword">for</span> n <span class="keyword">in</span> g:</span><br><span class="line"><span class="meta">... </span>    <span class="keyword">print</span> n</span><br><span class="line">...</span><br><span class="line"><span class="number">0</span></span><br><span class="line"><span class="number">1</span></span><br><span class="line"><span class="number">4</span></span><br><span class="line"><span class="number">9</span></span><br><span class="line"><span class="number">16</span></span><br><span class="line"><span class="number">25</span></span><br><span class="line"><span class="number">36</span></span><br><span class="line"><span class="number">49</span></span><br><span class="line"><span class="number">64</span></span><br><span class="line"><span class="number">81</span></span><br></pre></td></tr></table></figure>
<p>æ–æ³¢æ‹‰å¥‘æ•°åˆ—</p>
<figure class="highlight py"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">fib</span><span class="params">(max)</span>:</span></span><br><span class="line">    n, a, b = <span class="number">0</span>, <span class="number">0</span>, <span class="number">1</span></span><br><span class="line">    <span class="keyword">while</span> n &lt; max:</span><br><span class="line">        <span class="keyword">print</span> b</span><br><span class="line">        a, b = b, a + b</span><br><span class="line">        n = n + <span class="number">1</span></span><br></pre></td></tr></table></figure>
<p><code>fib</code>å‡½æ•°å®é™…ä¸Šæ˜¯å®šä¹‰äº†æ–æ³¢æ‹‰å¥‘æ•°åˆ—çš„æ¨ç®—è§„åˆ™ï¼Œå¯ä»¥ä»ç¬¬ä¸€ä¸ªå…ƒç´ å¼€å§‹ï¼Œæ¨ç®—å‡ºåç»­ä»»æ„çš„å…ƒç´ ï¼Œè¿™ç§é€»è¾‘å…¶å®éå¸¸ç±»ä¼¼generatorã€‚</p>
<p>æŠŠ<code>fib</code>å‡½æ•°å˜æˆ<code>generator</code>ï¼Œåªéœ€è¦æŠŠ <code>print b</code> æ”¹ä¸º <code>yield b</code> å°±å¯ä»¥äº†</p>
<figure class="highlight py"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">fib</span><span class="params">(max)</span>:</span></span><br><span class="line">    n, a, b = <span class="number">0</span>, <span class="number">0</span>, <span class="number">1</span></span><br><span class="line">    <span class="keyword">while</span> n &lt; max:</span><br><span class="line">        <span class="keyword">yield</span> b</span><br><span class="line">        a, b = b, a + b</span><br><span class="line">        n = n + <span class="number">1</span></span><br></pre></td></tr></table></figure>
<blockquote>
<p>å¦‚æœä¸€ä¸ªå‡½æ•°å®šä¹‰ä¸­åŒ…å« <code>yield</code>å…³é”®å­—ï¼Œé‚£ä¹ˆè¿™ä¸ªå‡½æ•°å°±ä¸å†æ˜¯ä¸€ä¸ªæ™®é€šå‡½æ•°ï¼Œè€Œæ˜¯ä¸€ä¸ªgenerator</p>
</blockquote>
<figure class="highlight py"><table><tr><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>fib(<span class="number">6</span>)</span><br><span class="line">&lt;generator object fib at <span class="number">0x104feaaa0</span>&gt;</span><br></pre></td></tr></table></figure>
<blockquote>
<p>å‡½æ•°æ˜¯é¡ºåºæ‰§è¡Œï¼Œé‡åˆ°<code>return</code>è¯­å¥æˆ–è€…æœ€åä¸€è¡Œå‡½æ•°è¯­å¥å°±è¿”å›ã€‚è€Œå˜æˆ<code>generator</code>çš„å‡½æ•°ï¼Œåœ¨æ¯æ¬¡è°ƒç”¨<code>next()</code>çš„æ—¶å€™æ‰§è¡Œï¼Œé‡åˆ°<code>yield</code>è¯­å¥è¿”å›ï¼Œå†æ¬¡æ‰§è¡Œæ—¶ä»ä¸Šæ¬¡è¿”å›çš„<code>yield</code> è¯­å¥å¤„ç»§ç»­æ‰§è¡Œã€‚</p>
</blockquote>
<figure class="highlight py"><table><tr><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="function"><span class="keyword">def</span> <span class="title">odd</span><span class="params">()</span>:</span></span><br><span class="line"><span class="meta">... </span>    <span class="keyword">print</span> <span class="string">'step 1'</span></span><br><span class="line"><span class="meta">... </span>    <span class="keyword">yield</span> <span class="number">1</span></span><br><span class="line"><span class="meta">... </span>    <span class="keyword">print</span> <span class="string">'step 2'</span></span><br><span class="line"><span class="meta">... </span>    <span class="keyword">yield</span> <span class="number">3</span></span><br><span class="line"><span class="meta">... </span>    <span class="keyword">print</span> <span class="string">'step 3'</span></span><br><span class="line"><span class="meta">... </span>    <span class="keyword">yield</span> <span class="number">5</span></span><br><span class="line">...</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>o = odd()</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>o.next()</span><br><span class="line">step <span class="number">1</span></span><br><span class="line"><span class="number">1</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>o.next()</span><br><span class="line">step <span class="number">2</span></span><br><span class="line"><span class="number">3</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>o.next()</span><br><span class="line">step <span class="number">3</span></span><br><span class="line"><span class="number">5</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>o.next()</span><br><span class="line">Traceback (most recent call last):</span><br><span class="line">  File <span class="string">"&lt;stdin&gt;"</span>, line <span class="number">1</span>, <span class="keyword">in</span> &lt;module&gt;</span><br><span class="line">StopIteration</span><br></pre></td></tr></table></figure>
<p><strong>å°ç»“</strong></p>
<p>generatoræ˜¯éå¸¸å¼ºå¤§çš„å·¥å…·ï¼Œåœ¨Pythonä¸­ï¼Œå¯ä»¥ç®€å•åœ°æŠŠåˆ—è¡¨ç”Ÿæˆå¼æ”¹æˆgeneratorï¼Œä¹Ÿå¯ä»¥é€šè¿‡å‡½æ•°å®ç°å¤æ‚é€»è¾‘çš„generatorã€‚</p>
<p>è¦ç†è§£generatorçš„å·¥ä½œåŸç†ï¼Œå®ƒæ˜¯åœ¨forå¾ªç¯çš„è¿‡ç¨‹ä¸­ä¸æ–­è®¡ç®—å‡ºä¸‹ä¸€ä¸ªå…ƒç´ ï¼Œå¹¶åœ¨é€‚å½“çš„æ¡ä»¶ç»“æŸ<code>for</code>å¾ªç¯ã€‚å¯¹äºå‡½æ•°æ”¹æˆçš„generatoræ¥è¯´ï¼Œé‡åˆ°returnè¯­å¥æˆ–è€…æ‰§è¡Œåˆ°å‡½æ•°ä½“æœ€åä¸€è¡Œè¯­å¥ï¼Œå°±æ˜¯ç»“æŸgeneratorçš„æŒ‡ä»¤ï¼Œ<code>for</code>å¾ªç¯éšä¹‹ç»“æŸã€‚</p>
<h2 id="Reference-article"><a href="#Reference-article" class="headerlink" title="Reference article"></a>Reference article</h2><ul>
<li><a href="http://www.liaoxuefeng.com/wiki/001374738125095c955c1e6d8bb493182103fac9270762a000/0013868196169906eb9ca5864384546bf3405ae6a172b3e000" target="_blank" rel="external">å»–é›ªå³°çš„å®˜æ–¹ç½‘ç«™ liaoxuefeng</a></li>
</ul>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[Python Basic Learning I]]></title>
      <url>http://iequa.com/2017/05/31/python-basic-learning-I/</url>
      <content type="html"><![CDATA[<h2 id="1-Python-introduce"><a href="#1-Python-introduce" class="headerlink" title="1. Python introduce"></a>1. Python introduce</h2><ul>
<li><code>è§£é‡Šå‹</code>ã€<code>é¢å‘å¯¹è±¡</code>ã€<code>åŠ¨æ€æ•°æ®ç±»å‹</code> çš„é«˜çº§ç¨‹åºè®¾è®¡è¯­è¨€ã€‚</li>
</ul>
<h2 id="2-First-Python-program"><a href="#2-First-Python-program" class="headerlink" title="2. First Python program"></a>2. First Python program</h2><h3 id="2-1-output"><a href="#2-1-output" class="headerlink" title="2.1 output"></a>2.1 output</h3><p><code>print</code>è¯­å¥ä¹Ÿå¯ä»¥è·Ÿä¸Šå¤šä¸ªå­—ç¬¦ä¸²ï¼Œç”¨é€—å·â€œ,â€éš”å¼€ï¼Œå°±å¯ä»¥è¿æˆä¸€ä¸²è¾“å‡ºï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&gt;&gt;&gt; print &apos;The quick brown fox&apos;, &apos;jumps over&apos;, &apos;the lazy dog&apos;</span><br><span class="line">The quick brown fox jumps over the lazy dog</span><br><span class="line">&gt;&gt;&gt;</span><br></pre></td></tr></table></figure>
<p><code>print</code>ä¼šä¾æ¬¡æ‰“å°æ¯ä¸ªå­—ç¬¦ä¸²ï¼Œé‡åˆ°é€—å·â€œ,â€ä¼šè¾“å‡ºä¸€ä¸ªç©ºæ ¼</p>
<h3 id="2-2-input"><a href="#2-2-input" class="headerlink" title="2.2 input"></a>2.2 input</h3><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>name = raw_input()</span><br><span class="line">Blair</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="keyword">print</span> <span class="string">'hello,'</span>, name</span><br><span class="line">hello, Blair</span><br></pre></td></tr></table></figure>
<p><code>raw_input</code> å’Œ <code>print</code> æ˜¯åœ¨å‘½ä»¤è¡Œä¸‹é¢æœ€åŸºæœ¬çš„è¾“å…¥å’Œè¾“å‡º</p>
<h2 id="3-Python-åŸºç¡€"><a href="#3-Python-åŸºç¡€" class="headerlink" title="3. Python åŸºç¡€"></a>3. Python åŸºç¡€</h2><h3 id="3-1-æ•°æ®ç±»å‹"><a href="#3-1-æ•°æ®ç±»å‹" class="headerlink" title="3.1 æ•°æ®ç±»å‹"></a>3.1 æ•°æ®ç±»å‹</h3><ol>
<li>int</li>
<li>float</li>
<li>str</li>
<li>boolean</li>
<li>None</li>
<li>å¸¸é‡</li>
</ol>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&gt;&gt;&gt; &apos;I\&apos;m \&quot;OK\&quot;!&apos;</span><br><span class="line">&apos;I\&apos;m &quot;OK&quot;!&apos;</span><br><span class="line">&gt;&gt;&gt; a = &apos;ABC&apos;</span><br><span class="line">&gt;&gt;&gt; b = a</span><br><span class="line">&gt;&gt;&gt; a = &apos;XYZ&apos;</span><br><span class="line">&gt;&gt;&gt; print b</span><br><span class="line">ABC</span><br><span class="line">&gt;&gt;&gt;</span><br></pre></td></tr></table></figure>
<h3 id="3-2-å­—ç¬¦ç¼–ç "><a href="#3-2-å­—ç¬¦ç¼–ç " class="headerlink" title="3.2 å­—ç¬¦ç¼–ç "></a>3.2 å­—ç¬¦ç¼–ç </h3><p>å› ä¸ºè®¡ç®—æœºåªèƒ½å¤„ç†æ•°å­—ï¼Œå¦‚æœè¦å¤„ç†æ–‡æœ¬ï¼Œå°±å¿…é¡»å…ˆæŠŠæ–‡æœ¬è½¬æ¢ä¸ºæ•°å­—æ‰èƒ½å¤„ç†ã€‚æœ€æ—©çš„è®¡ç®—æœºåœ¨è®¾è®¡æ—¶é‡‡ç”¨8ä¸ªæ¯”ç‰¹ï¼ˆbitï¼‰ä½œä¸ºä¸€ä¸ªå­—èŠ‚ï¼ˆbyteï¼‰ï¼Œæ‰€ä»¥ï¼Œä¸€ä¸ªå­—èŠ‚èƒ½è¡¨ç¤ºçš„æœ€å¤§çš„æ•´æ•°å°±æ˜¯255ï¼ˆäºŒè¿›åˆ¶11111111=åè¿›åˆ¶255ï¼‰ï¼Œå¦‚æœè¦è¡¨ç¤ºæ›´å¤§çš„æ•´æ•°ï¼Œå°±å¿…é¡»ç”¨æ›´å¤šçš„å­—èŠ‚ã€‚æ¯”å¦‚ä¸¤ä¸ªå­—èŠ‚å¯ä»¥è¡¨ç¤ºçš„æœ€å¤§æ•´æ•°æ˜¯65535ï¼Œ4ä¸ªå­—èŠ‚å¯ä»¥è¡¨ç¤ºçš„æœ€å¤§æ•´æ•°æ˜¯4294967295ã€‚</p>
<p>ç”±äºè®¡ç®—æœºæ˜¯ç¾å›½äººå‘æ˜çš„ï¼Œå› æ­¤ï¼Œæœ€æ—©åªæœ‰127ä¸ªå­—æ¯è¢«ç¼–ç åˆ°è®¡ç®—æœºé‡Œï¼Œä¹Ÿå°±æ˜¯å¤§å°å†™è‹±æ–‡å­—æ¯ã€æ•°å­—å’Œä¸€äº›ç¬¦å·ï¼Œè¿™ä¸ªç¼–ç è¡¨è¢«ç§°ä¸ºASCIIç¼–ç ï¼Œæ¯”å¦‚å¤§å†™å­—æ¯Açš„ç¼–ç æ˜¯65ï¼Œå°å†™å­—æ¯zçš„ç¼–ç æ˜¯122ã€‚</p>
<p>ä½†æ˜¯è¦å¤„ç†ä¸­æ–‡æ˜¾ç„¶ä¸€ä¸ªå­—èŠ‚æ˜¯ä¸å¤Ÿçš„ï¼Œè‡³å°‘éœ€è¦ä¸¤ä¸ªå­—èŠ‚ï¼Œè€Œä¸”è¿˜ä¸èƒ½å’ŒASCIIç¼–ç å†²çªï¼Œæ‰€ä»¥ï¼Œä¸­å›½åˆ¶å®šäº†GB2312ç¼–ç ï¼Œç”¨æ¥æŠŠä¸­æ–‡ç¼–è¿›å»ã€‚</p>
<p><img src="/images/python/py_str_code.png" alt=""></p>
<p>å› æ­¤ï¼ŒUnicodeåº”è¿è€Œç”Ÿã€‚UnicodeæŠŠæ‰€æœ‰è¯­è¨€éƒ½ç»Ÿä¸€åˆ°ä¸€å¥—ç¼–ç é‡Œï¼Œè¿™æ ·å°±ä¸ä¼šå†æœ‰ä¹±ç é—®é¢˜äº†ã€‚</p>
<p>Unicodeæ ‡å‡†ä¹Ÿåœ¨ä¸æ–­å‘å±•ï¼Œä½†æœ€å¸¸ç”¨çš„æ˜¯ç”¨ä¸¤ä¸ªå­—èŠ‚è¡¨ç¤ºä¸€ä¸ªå­—ç¬¦ï¼ˆå¦‚æœè¦ç”¨åˆ°éå¸¸ååƒ»çš„å­—ç¬¦ï¼Œå°±éœ€è¦4ä¸ªå­—èŠ‚ï¼‰ã€‚ç°ä»£æ“ä½œç³»ç»Ÿå’Œå¤§å¤šæ•°ç¼–ç¨‹è¯­è¨€éƒ½ç›´æ¥æ”¯æŒUnicodeã€‚</p>
<p>å­—æ¯<code>A</code>ç”¨ASCIIç¼–ç æ˜¯åè¿›åˆ¶çš„<code>65</code>ï¼ŒäºŒè¿›åˆ¶çš„01000001ï¼›</p>
<p>å­—ç¬¦<code>0</code>ç”¨ASCIIç¼–ç æ˜¯åè¿›åˆ¶çš„<code>48</code>ï¼ŒäºŒè¿›åˆ¶çš„00110000ï¼Œæ³¨æ„å­—ç¬¦â€™0â€™å’Œæ•´æ•°0æ˜¯ä¸åŒçš„ï¼›</p>
<p>ä½ å¯ä»¥çŒœæµ‹ï¼Œå¦‚æœæŠŠASCIIç¼–ç çš„<code>A</code>ç”¨Unicodeç¼–ç ï¼Œåªéœ€è¦åœ¨å‰é¢è¡¥0å°±å¯ä»¥ï¼Œå› æ­¤ï¼ŒAçš„Unicodeç¼–ç æ˜¯00000000 01000001ã€‚</p>
<p>æ–°çš„é—®é¢˜åˆå‡ºç°äº†ï¼šå¦‚æœç»Ÿä¸€æˆUnicodeç¼–ç ï¼Œä¹±ç é—®é¢˜ä»æ­¤æ¶ˆå¤±äº†ã€‚ä½†æ˜¯ï¼Œå¦‚æœä½ å†™çš„æ–‡æœ¬åŸºæœ¬ä¸Šå…¨éƒ¨æ˜¯è‹±æ–‡çš„è¯ï¼Œç”¨Unicodeç¼–ç æ¯”ASCIIç¼–ç éœ€è¦å¤šä¸€å€çš„å­˜å‚¨ç©ºé—´ï¼Œåœ¨å­˜å‚¨å’Œä¼ è¾“ä¸Šå°±ååˆ†ä¸åˆ’ç®—ã€‚</p>
<p>æ‰€ä»¥ï¼Œæœ¬ç€èŠ‚çº¦çš„ç²¾ç¥ï¼Œåˆå‡ºç°äº†æŠŠUnicodeç¼–ç è½¬åŒ–ä¸ºâ€œå¯å˜é•¿ç¼–ç â€çš„<code>UTF-8</code>ç¼–ç ã€‚UTF-8ç¼–ç æŠŠä¸€ä¸ªUnicodeå­—ç¬¦æ ¹æ®ä¸åŒçš„æ•°å­—å¤§å°ç¼–ç æˆ1-6ä¸ªå­—èŠ‚ï¼Œå¸¸ç”¨çš„è‹±æ–‡å­—æ¯è¢«ç¼–ç æˆ1ä¸ªå­—èŠ‚ï¼Œæ±‰å­—é€šå¸¸æ˜¯3ä¸ªå­—èŠ‚ï¼Œåªæœ‰å¾ˆç”Ÿåƒ»çš„å­—ç¬¦æ‰ä¼šè¢«ç¼–ç æˆ4-6ä¸ªå­—èŠ‚ã€‚å¦‚æœä½ è¦ä¼ è¾“çš„æ–‡æœ¬åŒ…å«å¤§é‡è‹±æ–‡å­—ç¬¦ï¼Œç”¨UTF-8ç¼–ç å°±èƒ½èŠ‚çœç©ºé—´ï¼š</p>
<blockquote>
<p>åœ¨è®¡ç®—æœºå†…å­˜ä¸­ï¼Œç»Ÿä¸€ä½¿ç”¨Unicodeç¼–ç ï¼Œå½“éœ€è¦ä¿å­˜åˆ°ç¡¬ç›˜æˆ–è€…éœ€è¦ä¼ è¾“çš„æ—¶å€™ï¼Œå°±è½¬æ¢ä¸ºUTF-8ç¼–ç ã€‚</p>
</blockquote>
<h3 id="3-3-Pythonçš„å­—ç¬¦ä¸²"><a href="#3-3-Pythonçš„å­—ç¬¦ä¸²" class="headerlink" title="3.3 Pythonçš„å­—ç¬¦ä¸²"></a>3.3 Pythonçš„å­—ç¬¦ä¸²</h3><p>å› ä¸ºPythonçš„è¯ç”Ÿæ¯”Unicodeæ ‡å‡†å‘å¸ƒçš„æ—¶é—´è¿˜è¦æ—©ï¼Œæ‰€ä»¥æœ€æ—©çš„Pythonåªæ”¯æŒASCIIç¼–ç ï¼Œæ™®é€šçš„å­—ç¬¦ä¸²<code>&#39;ABC&#39;</code>åœ¨Pythonå†…éƒ¨éƒ½æ˜¯ASCIIç¼–ç çš„ã€‚</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>ord(<span class="string">'A'</span>)</span><br><span class="line"><span class="number">65</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>chr(<span class="number">65</span>)</span><br><span class="line"><span class="string">'A'</span></span><br></pre></td></tr></table></figure>
<p>Pythonåœ¨åæ¥æ·»åŠ äº†å¯¹Unicodeçš„æ”¯æŒï¼Œä»¥Unicodeè¡¨ç¤ºçš„å­—ç¬¦ä¸²ç”¨<code>u&#39;...&#39;</code>è¡¨ç¤ºï¼Œæ¯”å¦‚ï¼š</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="keyword">print</span> <span class="string">u'ä¸­æ–‡'</span></span><br><span class="line">ä¸­æ–‡</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="string">u'ä¸­'</span></span><br><span class="line"><span class="string">u'\u4e2d'</span></span><br></pre></td></tr></table></figure>
<p>å†™<code>u&#39;ä¸­&#39;</code>å’Œ<code>u&#39;\u4e2d&#39;</code>æ˜¯ä¸€æ ·çš„ï¼Œ<code>\u</code>åé¢æ˜¯åå…­è¿›åˆ¶çš„Unicodeç ã€‚å› æ­¤ï¼Œ<code>u&#39;A&#39;</code>å’Œ<code>u&#39;\u0041&#39;</code>ä¹Ÿä¸€æ ·çš„ã€‚</p>
<p>ä¸¤ç§å­—ç¬¦ä¸²å¦‚ä½•ç›¸äº’è½¬æ¢ï¼Ÿå­—ç¬¦ä¸²<code>&#39;xxx&#39;</code>è™½ç„¶æ˜¯ASCIIç¼–ç ï¼Œä½†ä¹Ÿå¯ä»¥çœ‹æˆæ˜¯UTF-8ç¼–ç ï¼Œè€Œ<code>u&#39;xxx&#39;</code>åˆ™åªèƒ½æ˜¯Unicodeç¼–ç ã€‚</p>
<p>æŠŠ<code>u&#39;xxx&#39;</code>è½¬æ¢ä¸ºUTF-8ç¼–ç çš„<code>&#39;xxx&#39;</code>ç”¨<code>encode(&#39;utf-8&#39;)</code>æ–¹æ³•ï¼š</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="string">u'ABC'</span>.encode(<span class="string">'utf-8'</span>)</span><br><span class="line"><span class="string">'ABC'</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="string">u'ä¸­æ–‡'</span>.encode(<span class="string">'utf-8'</span>)</span><br><span class="line"><span class="string">'\xe4\xb8\xad\xe6\x96\x87'</span></span><br></pre></td></tr></table></figure>
<p>è‹±æ–‡å­—ç¬¦è½¬æ¢åè¡¨ç¤ºçš„UTF-8çš„å€¼å’ŒUnicodeå€¼ç›¸ç­‰ï¼ˆä½†å ç”¨çš„å­˜å‚¨ç©ºé—´ä¸åŒï¼‰ï¼Œè€Œä¸­æ–‡å­—ç¬¦è½¬æ¢å1ä¸ªUnicodeå­—ç¬¦å°†å˜ä¸º3ä¸ªUTF-8å­—ç¬¦ï¼Œä½ çœ‹åˆ°çš„<code>\xe4</code>å°±æ˜¯å…¶ä¸­ä¸€ä¸ªå­—èŠ‚ï¼Œå› ä¸ºå®ƒçš„å€¼æ˜¯<code>228</code>ï¼Œæ²¡æœ‰å¯¹åº”çš„å­—æ¯å¯ä»¥æ˜¾ç¤ºï¼Œæ‰€ä»¥ä»¥åå…­è¿›åˆ¶æ˜¾ç¤ºå­—èŠ‚çš„æ•°å€¼ã€‚<code>len()</code>å‡½æ•°å¯ä»¥è¿”å›å­—ç¬¦ä¸²çš„é•¿åº¦ï¼š</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>len(<span class="string">u'ABC'</span>)</span><br><span class="line"><span class="number">3</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>len(<span class="string">'ABC'</span>)</span><br><span class="line"><span class="number">3</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>len(<span class="string">u'ä¸­æ–‡'</span>)</span><br><span class="line"><span class="number">2</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>len(<span class="string">'\xe4\xb8\xad\xe6\x96\x87'</span>)</span><br><span class="line"><span class="number">6</span></span><br></pre></td></tr></table></figure>
<p>åè¿‡æ¥ï¼ŒæŠŠUTF-8ç¼–ç è¡¨ç¤ºçš„å­—ç¬¦ä¸²<code>&#39;xxx&#39;</code>è½¬æ¢ä¸ºUnicodeå­—ç¬¦ä¸²<code>u&#39;xxx&#39;</code>ç”¨<code>decode(&#39;utf-8&#39;)</code>æ–¹æ³•ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&gt;&gt;&gt; &apos;abc&apos;.decode(&apos;utf-8&apos;)</span><br><span class="line">u&apos;abc&apos;</span><br><span class="line">&gt;&gt;&gt; &apos;\xe4\xb8\xad\xe6\x96\x87&apos;.decode(&apos;utf-8&apos;)</span><br><span class="line">u&apos;\u4e2d\u6587&apos;</span><br><span class="line">&gt;&gt;&gt; print &apos;\xe4\xb8\xad\xe6\x96\x87&apos;.decode(&apos;utf-8&apos;)</span><br><span class="line">ä¸­æ–‡</span><br></pre></td></tr></table></figure>
<p>py æºæ–‡ä»¶çš„å¤´éƒ¨</p>
<figure class="highlight py"><table><tr><td class="code"><pre><span class="line"><span class="comment">#!/usr/bin/env python</span></span><br><span class="line"><span class="comment"># -*- coding: utf-8 -*-</span></span><br></pre></td></tr></table></figure>
<p>ç¬¬ä¸€è¡Œæ³¨é‡Šæ˜¯ä¸ºäº†å‘Šè¯‰Linux/OS Xç³»ç»Ÿï¼Œè¿™æ˜¯ä¸€ä¸ªPythonå¯æ‰§è¡Œç¨‹åºï¼ŒWindowsç³»ç»Ÿä¼šå¿½ç•¥è¿™ä¸ªæ³¨é‡Šï¼›</p>
<p>ç¬¬äºŒè¡Œæ³¨é‡Šæ˜¯ä¸ºäº†å‘Šè¯‰Pythonè§£é‡Šå™¨ï¼ŒæŒ‰ç…§UTF-8ç¼–ç è¯»å–æºä»£ç ï¼Œå¦åˆ™ï¼Œåœ¨æºä»£ç ä¸­å†™çš„ä¸­æ–‡è¾“å‡ºå¯èƒ½ä¼šä¹±ç ã€‚</p>
<p><strong>æ ¼å¼åŒ–</strong></p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="string">'Hello, %s'</span> % <span class="string">'world'</span></span><br><span class="line"><span class="string">'Hello, world'</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="string">'Hi, %s, you have $%d.'</span> % (<span class="string">'Michael'</span>, <span class="number">1000000</span>)</span><br><span class="line"><span class="string">'Hi, Michael, you have $1000000.'</span></span><br></pre></td></tr></table></figure>
<figure class="highlight py"><table><tr><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="string">'%2d-%02d'</span> % (<span class="number">3</span>, <span class="number">1</span>)</span><br><span class="line"><span class="string">' 3-01'</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="string">'%.2f'</span> % <span class="number">3.1415926</span></span><br><span class="line"><span class="string">'3.14'</span></span><br></pre></td></tr></table></figure>
<h3 id="3-4-List-amp-Tuple"><a href="#3-4-List-amp-Tuple" class="headerlink" title="3.4 List &amp; Tuple"></a>3.4 List &amp; Tuple</h3><p><strong>List</strong></p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>classmates = [<span class="string">'Michael'</span>, <span class="string">'Bob'</span>, <span class="string">'Tracy'</span>]</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>classmates</span><br><span class="line">[<span class="string">'Michael'</span>, <span class="string">'Bob'</span>, <span class="string">'Tracy'</span>]</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>classmates[<span class="number">-1</span>]</span><br><span class="line"><span class="string">'Tracy'</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>classmates.append(<span class="string">'Adam'</span>)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>classmates</span><br><span class="line">[<span class="string">'Michael'</span>, <span class="string">'Bob'</span>, <span class="string">'Tracy'</span>, <span class="string">'Adam'</span>]</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>classmates.insert(<span class="number">1</span>, <span class="string">'Jack'</span>)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>classmates</span><br><span class="line">[<span class="string">'Michael'</span>, <span class="string">'Jack'</span>, <span class="string">'Bob'</span>, <span class="string">'Tracy'</span>, <span class="string">'Adam'</span>]</span><br></pre></td></tr></table></figure>
<p>è¦åˆ é™¤listæœ«å°¾çš„å…ƒç´ ï¼Œç”¨<code>pop()</code>æ–¹æ³•ï¼š</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>classmates.pop()</span><br><span class="line"><span class="string">'Adam'</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>classmates</span><br><span class="line">[<span class="string">'Michael'</span>, <span class="string">'Jack'</span>, <span class="string">'Bob'</span>, <span class="string">'Tracy'</span>]</span><br></pre></td></tr></table></figure>
<p>è¦åˆ é™¤æŒ‡å®šä½ç½®çš„å…ƒç´ ï¼Œç”¨<code>pop(i)</code>æ–¹æ³•ï¼Œå…¶ä¸­<code>i</code>æ˜¯ç´¢å¼•ä½ç½®ï¼š</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>classmates.pop(<span class="number">1</span>)</span><br><span class="line"><span class="string">'Jack'</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>classmates</span><br><span class="line">[<span class="string">'Michael'</span>, <span class="string">'Bob'</span>, <span class="string">'Tracy'</span>]</span><br></pre></td></tr></table></figure>
<p>listé‡Œé¢çš„å…ƒç´ çš„æ•°æ®ç±»å‹ä¹Ÿå¯ä»¥ä¸åŒï¼Œæ¯”å¦‚ï¼š</p>
<figure class="highlight py"><table><tr><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>L = [<span class="string">'Apple'</span>, <span class="number">123</span>, <span class="keyword">True</span>]</span><br></pre></td></tr></table></figure>
<p>listå…ƒç´ ä¹Ÿå¯ä»¥æ˜¯å¦ä¸€ä¸ªlistï¼Œæ¯”å¦‚ï¼š</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>s = [<span class="string">'python'</span>, <span class="string">'java'</span>, [<span class="string">'asp'</span>, <span class="string">'php'</span>], <span class="string">'scheme'</span>]</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>len(s)</span><br><span class="line"><span class="number">4</span></span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>p = [<span class="string">'asp'</span>, <span class="string">'php'</span>]</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>s = [<span class="string">'python'</span>, <span class="string">'java'</span>, p, <span class="string">'scheme'</span>]</span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>L = []</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>len(L)</span><br><span class="line"><span class="number">0</span></span><br></pre></td></tr></table></figure>
<p><strong>Tuple</strong></p>
<p>å¦ä¸€ç§æœ‰åºåˆ—è¡¨å«å…ƒç»„ï¼štupleã€‚tupleå’Œlistéå¸¸ç±»ä¼¼ï¼Œä½†<code>tuple</code>ä¸€æ—¦åˆå§‹åŒ–å°±ä¸èƒ½ä¿®æ”¹,å…ƒç´ æŒ‡å‘ä¸æ”¹å˜ã€‚</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>classmates = (<span class="string">'Michael'</span>, <span class="string">'Bob'</span>, <span class="string">'Tracy'</span>)</span><br></pre></td></tr></table></figure>
<p>å¦ä¸€ç§æœ‰åºåˆ—è¡¨å«å…ƒç»„ï¼štupleã€‚tupleå’Œlistéå¸¸ç±»ä¼¼ï¼Œä½†æ˜¯tupleä¸€æ—¦åˆå§‹åŒ–å°±ä¸èƒ½ä¿®æ”¹</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>t = (<span class="number">1</span>, <span class="number">2</span>)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>t</span><br><span class="line">(<span class="number">1</span>, <span class="number">2</span>)</span><br></pre></td></tr></table></figure>
<p>å¦‚æœè¦å®šä¹‰ä¸€ä¸ªç©ºçš„tupleï¼Œå¯ä»¥å†™æˆ<code>()</code>ï¼š</p>
<blockquote>
<p>tuple çš„é™·é˜±</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&gt;&gt;&gt; t = (1)</span><br><span class="line">&gt;&gt;&gt; t</span><br><span class="line">1</span><br></pre></td></tr></table></figure>
<p>æ­£ç¡®çš„æ–¹å¼å¦‚ä¸‹ :</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&gt;&gt;&gt; t = (1,)</span><br><span class="line">&gt;&gt;&gt; t</span><br><span class="line">(1,)</span><br></pre></td></tr></table></figure>
<p>æœ€åæ¥çœ‹ä¸€ä¸ªâ€œå¯å˜çš„â€tupleï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&gt;&gt;&gt; t = (&apos;a&apos;, &apos;b&apos;, [&apos;A&apos;, &apos;B&apos;])</span><br><span class="line">&gt;&gt;&gt; t[2][0] = &apos;X&apos;</span><br><span class="line">&gt;&gt;&gt; t[2][1] = &apos;Y&apos;</span><br><span class="line">&gt;&gt;&gt; t</span><br><span class="line">(&apos;a&apos;, &apos;b&apos;, [&apos;X&apos;, &apos;Y&apos;])</span><br></pre></td></tr></table></figure>
<p>å…¶å®å˜çš„ä¸æ˜¯tupleçš„å…ƒç´ ï¼Œè€Œæ˜¯listçš„å…ƒç´ ã€‚tupleä¸€å¼€å§‹æŒ‡å‘çš„listå¹¶æ²¡æœ‰æ”¹æˆåˆ«çš„list</p>
<p>å°ç»“</p>
<p>listå’Œtupleæ˜¯Pythonå†…ç½®çš„æœ‰åºé›†åˆï¼Œä¸€ä¸ªå¯å˜ï¼Œä¸€ä¸ªä¸å¯å˜ã€‚æ ¹æ®éœ€è¦æ¥é€‰æ‹©ä½¿ç”¨å®ƒä»¬ã€‚</p>
<h3 id="3-5-æ¡ä»¶ä¸å¾ªç¯"><a href="#3-5-æ¡ä»¶ä¸å¾ªç¯" class="headerlink" title="3.5 æ¡ä»¶ä¸å¾ªç¯"></a>3.5 æ¡ä»¶ä¸å¾ªç¯</h3><p><strong>æ¡ä»¶è¡¨è¾¾å¼</strong></p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">age = <span class="number">20</span></span><br><span class="line"><span class="keyword">if</span> age &gt;= <span class="number">6</span>:</span><br><span class="line">    <span class="keyword">print</span> <span class="string">'teenager'</span></span><br><span class="line"><span class="keyword">elif</span> age &gt;= <span class="number">18</span>:</span><br><span class="line">    <span class="keyword">print</span> <span class="string">'adult'</span></span><br><span class="line"><span class="keyword">else</span>:</span><br><span class="line">    <span class="keyword">print</span> <span class="string">'kid'</span></span><br></pre></td></tr></table></figure>
<p><strong>å¾ªç¯</strong></p>
<p>forâ€¦inâ€¦</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">names = [<span class="string">'Michael'</span>, <span class="string">'Bob'</span>, <span class="string">'Tracy'</span>]</span><br><span class="line"><span class="keyword">for</span> name <span class="keyword">in</span> names:</span><br><span class="line">    <span class="keyword">print</span> name</span><br></pre></td></tr></table></figure>
<p>for &amp; range</p>
<figure class="highlight py"><table><tr><td class="code"><pre><span class="line">sum = <span class="number">0</span></span><br><span class="line"><span class="keyword">for</span> x <span class="keyword">in</span> range(<span class="number">101</span>):</span><br><span class="line">    sum = sum + x</span><br><span class="line"><span class="keyword">print</span> sum</span><br></pre></td></tr></table></figure>
<p>while</p>
<figure class="highlight py"><table><tr><td class="code"><pre><span class="line">sum = <span class="number">0</span></span><br><span class="line">n = <span class="number">99</span></span><br><span class="line"><span class="keyword">while</span> n &gt; <span class="number">0</span>:</span><br><span class="line">    sum = sum + n</span><br><span class="line">    n = n - <span class="number">2</span></span><br><span class="line"><span class="keyword">print</span> sum</span><br></pre></td></tr></table></figure>
<h3 id="3-6-Dict-ä¸-Set"><a href="#3-6-Dict-ä¸-Set" class="headerlink" title="3.6 Dict ä¸ Set"></a>3.6 Dict ä¸ Set</h3><p><strong>Dict</strong></p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>d = &#123;<span class="string">'Michael'</span>: <span class="number">95</span>, <span class="string">'Bob'</span>: <span class="number">75</span>, <span class="string">'Tracy'</span>: <span class="number">85</span>&#125;</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>d[<span class="string">'Michael'</span>]</span><br><span class="line"><span class="number">95</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>d[<span class="string">'Adam'</span>] = <span class="number">67</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>d[<span class="string">'Adam'</span>]</span><br><span class="line"><span class="number">67</span></span><br></pre></td></tr></table></figure>
<p>è¦é¿å…keyä¸å­˜åœ¨çš„é”™è¯¯ï¼Œæœ‰ä¸¤ç§åŠæ³•ï¼Œä¸€æ˜¯é€šè¿‡inåˆ¤æ–­keyæ˜¯å¦å­˜åœ¨ï¼š</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="string">'Thomas'</span> <span class="keyword">in</span> d</span><br><span class="line"><span class="keyword">False</span></span><br></pre></td></tr></table></figure>
<p>äºŒæ˜¯é€šè¿‡dictæä¾›çš„getæ–¹æ³•ï¼Œå¦‚æœkeyä¸å­˜åœ¨ï¼Œå¯ä»¥è¿”å›Noneï¼Œæˆ–è€…è‡ªå·±æŒ‡å®šçš„valueï¼š</p>
<figure class="highlight py"><table><tr><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>d.get(<span class="string">'Thomas'</span>)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>d.get(<span class="string">'Thomas'</span>, <span class="number">-1</span>)</span><br><span class="line"><span class="number">-1</span></span><br></pre></td></tr></table></figure>
<blockquote>
<p>æ³¨æ„ï¼šè¿”å›Noneçš„æ—¶å€™Pythonçš„äº¤äº’å¼å‘½ä»¤è¡Œä¸æ˜¾ç¤ºç»“æœã€‚</p>
</blockquote>
<p>è¦åˆ é™¤ä¸€ä¸ªkeyï¼Œç”¨pop(key)æ–¹æ³•ï¼Œå¯¹åº”çš„valueä¹Ÿä¼šä»dictä¸­åˆ é™¤ï¼š</p>
<figure class="highlight py"><table><tr><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>d.pop(<span class="string">'Bob'</span>)</span><br><span class="line"><span class="number">75</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>d</span><br><span class="line">&#123;<span class="string">'Michael'</span>: <span class="number">95</span>, <span class="string">'Tracy'</span>: <span class="number">85</span>&#125;</span><br></pre></td></tr></table></figure>
<table>
<thead>
<tr>
<th>dict</th>
<th>list</th>
</tr>
</thead>
<tbody>
<tr>
<td>æŸ¥æ‰¾å’Œæ’å…¥çš„é€Ÿåº¦æå¿«ï¼Œä¸ä¼šéšç€keyçš„å¢åŠ è€Œå¢åŠ </td>
<td>æŸ¥æ‰¾å’Œæ’å…¥çš„æ—¶é—´éšç€å…ƒç´ çš„å¢åŠ è€Œå¢åŠ </td>
</tr>
<tr>
<td>éœ€è¦å ç”¨å¤§é‡çš„å†…å­˜ï¼Œå†…å­˜æµªè´¹å¤š</td>
<td>å ç”¨ç©ºé—´å°ï¼Œæµªè´¹å†…å­˜å¾ˆå°‘</td>
</tr>
</tbody>
</table>
<p><strong>æ‰€ä»¥ï¼Œdictæ˜¯ç”¨ç©ºé—´æ¥æ¢å–æ—¶é—´çš„ä¸€ç§æ–¹æ³•ã€‚</strong></p>
<blockquote>
<p>dictå¯ä»¥ç”¨åœ¨éœ€è¦é«˜é€ŸæŸ¥æ‰¾çš„å¾ˆå¤šåœ°æ–¹ï¼Œåœ¨Pythonä»£ç ä¸­å‡ ä¹æ— å¤„ä¸åœ¨ï¼Œæ­£ç¡®ä½¿ç”¨dictéå¸¸é‡è¦ï¼Œéœ€è¦ç‰¢è®°çš„ç¬¬ä¸€æ¡å°±æ˜¯dictçš„keyå¿…é¡»æ˜¯ä¸å¯å˜å¯¹è±¡ã€‚</p>
<p>æ˜¯å› ä¸ºdictæ ¹æ®keyæ¥è®¡ç®—valueçš„å­˜å‚¨ä½ç½®ï¼Œå¦‚æœæ¯æ¬¡è®¡ç®—ç›¸åŒçš„keyå¾—å‡ºçš„ç»“æœä¸åŒï¼Œé‚£dictå†…éƒ¨å°±å®Œå…¨æ··ä¹±äº†ã€‚è¿™ä¸ªé€šè¿‡keyè®¡ç®—ä½ç½®çš„ç®—æ³•ç§°ä¸ºå“ˆå¸Œç®—æ³•ï¼ˆHashï¼‰ã€‚</p>
<p>ä¿è¯hashçš„æ­£ç¡®æ€§ï¼Œä½œä¸ºkeyçš„å¯¹è±¡å°±ä¸èƒ½å˜ã€‚åœ¨Pythonä¸­ï¼Œå­—ç¬¦ä¸²ã€æ•´æ•°ç­‰éƒ½æ˜¯ä¸å¯å˜çš„ï¼Œå› æ­¤ï¼Œå¯ä»¥æ”¾å¿ƒåœ°ä½œä¸ºkeyã€‚è€Œlistæ˜¯å¯å˜çš„ï¼Œå°±ä¸èƒ½ä½œä¸ºkeyï¼š</p>
</blockquote>
<p><strong>Set</strong></p>
<p>setå’Œdictç±»ä¼¼ï¼Œä¹Ÿæ˜¯ä¸€ç»„keyçš„é›†åˆï¼Œä½†ä¸å­˜å‚¨valueã€‚ç”±äºkeyä¸èƒ½é‡å¤ï¼Œæ‰€ä»¥ï¼Œåœ¨setä¸­ï¼Œæ²¡æœ‰é‡å¤çš„keyã€‚</p>
<p>è¦åˆ›å»ºä¸€ä¸ªsetï¼Œéœ€è¦æä¾›ä¸€ä¸ªlistä½œä¸ºè¾“å…¥é›†åˆï¼š</p>
<figure class="highlight py"><table><tr><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>s = set([<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>])</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>s</span><br><span class="line">set([<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>])</span><br></pre></td></tr></table></figure>
<blockquote>
<p>æ³¨æ„ï¼Œä¼ å…¥çš„å‚æ•°<code>[1, 2, 3]</code>æ˜¯ä¸€ä¸ªlistï¼Œè€Œæ˜¾ç¤ºçš„<code>set([1, 2, 3])</code>åªæ˜¯å‘Šè¯‰ä½ è¿™ä¸ªsetå†…éƒ¨æœ‰1ï¼Œ2ï¼Œ3è¿™3ä¸ªå…ƒç´ ï¼Œæ˜¾ç¤ºçš„[]ä¸è¡¨ç¤ºè¿™æ˜¯ä¸€ä¸ªlistã€‚</p>
</blockquote>
<figure class="highlight py"><table><tr><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>s = set([<span class="number">1</span>, <span class="number">1</span>, <span class="number">2</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">3</span>])</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>s</span><br><span class="line">set([<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>])</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>s.add(<span class="number">4</span>)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>s</span><br><span class="line">set([<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>])</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>s.add(<span class="number">4</span>)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>s</span><br><span class="line">set([<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>])</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>s.remove(<span class="number">4</span>)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>s</span><br><span class="line">set([<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>])</span><br></pre></td></tr></table></figure>
<p>setå¯ä»¥çœ‹æˆæ•°å­¦æ„ä¹‰ä¸Šçš„æ— åºå’Œæ— é‡å¤å…ƒç´ çš„é›†åˆï¼Œå› æ­¤ï¼Œä¸¤ä¸ªsetå¯ä»¥åšæ•°å­¦æ„ä¹‰ä¸Šçš„äº¤é›†ã€å¹¶é›†ç­‰æ“ä½œï¼š</p>
<figure class="highlight py"><table><tr><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>s1 = set([<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>])</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>s2 = set([<span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>])</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>s1 &amp; s2</span><br><span class="line">set([<span class="number">2</span>, <span class="number">3</span>])</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>s1 | s2</span><br><span class="line">set([<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>])</span><br></pre></td></tr></table></figure>
<blockquote>
<p>setå’Œdictçš„å”¯ä¸€åŒºåˆ«ä»…åœ¨äºæ²¡æœ‰å­˜å‚¨å¯¹åº”çš„valueï¼Œsetçš„åŸç†å’Œdictä¸€æ ·.</p>
</blockquote>
<p><strong>å†è®®ä¸å¯å˜å¯¹è±¡</strong></p>
<figure class="highlight py"><table><tr><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>a = [<span class="string">'c'</span>, <span class="string">'b'</span>, <span class="string">'a'</span>]</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>a.sort()</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>a</span><br><span class="line">[<span class="string">'a'</span>, <span class="string">'b'</span>, <span class="string">'c'</span>]</span><br><span class="line"></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>a = <span class="string">'abc'</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>a.replace(<span class="string">'a'</span>, <span class="string">'A'</span>)</span><br><span class="line"><span class="string">'Abc'</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>a</span><br><span class="line"><span class="string">'abc'</span></span><br></pre></td></tr></table></figure>
<p>å°ç»“ :</p>
<p>ä½¿ç”¨key-valueå­˜å‚¨ç»“æ„çš„dictåœ¨Pythonä¸­éå¸¸æœ‰ç”¨ï¼Œé€‰æ‹©ä¸å¯å˜å¯¹è±¡ä½œä¸ºkeyå¾ˆé‡è¦ï¼Œæœ€å¸¸ç”¨çš„keyæ˜¯å­—ç¬¦ä¸²ã€‚</p>
<p><code>tuple</code> è™½ç„¶æ˜¯ä¸å˜å¯¹è±¡ï¼Œä½†è¯•è¯•æŠŠ <code>(1, 2, 3)</code> å’Œ <code>(1, [2, 3])</code> æ”¾å…¥dictæˆ–setä¸­ï¼Œå¹¶è§£é‡Šç»“æœã€‚</p>
<h2 id="Reference-article"><a href="#Reference-article" class="headerlink" title="Reference article"></a>Reference article</h2><ul>
<li><a href="http://www.liaoxuefeng.com/wiki/001374738125095c955c1e6d8bb493182103fac9270762a000/001386819196283586a37629844456ca7e5a7faa9b94ee8000" target="_blank" rel="external">å»–é›ªå³°çš„å®˜æ–¹ç½‘ç«™ liaoxuefeng</a></li>
</ul>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[EF 4 The Past]]></title>
      <url>http://iequa.com/2017/05/31/ef-l4u3-The-past/</url>
      <content type="html"><![CDATA[<style>
img {
        display: block !important;
        width: 550px;
        margin-left: 120px !important;
}
audio {
        display: block !important;
        width: 550px;
        margin-left: 120px !important;
}

</style>

<h2 id="1-Asking-about-someoneâ€™s-day"><a href="#1-Asking-about-someoneâ€™s-day" class="headerlink" title="1. Asking about someoneâ€™s day"></a>1. Asking about someoneâ€™s day</h2><table>
<thead>
<tr>
<th>desc</th>
</tr>
</thead>
<tbody>
<tr>
<td>I had a great day. I got up. I went for a run</td>
<td></td>
</tr>
<tr>
<td>I did the dishes. I ironed my clothes</td>
<td></td>
</tr>
<tr>
<td>Yesterday, What a bad day. I had a job interview.</td>
<td></td>
</tr>
<tr>
<td>I washed my clothes. I cleaned my apartment.</td>
<td></td>
</tr>
</tbody>
</table>
<blockquote>
<p>iron[â€˜aÉªÉ™n] n. é“å™¨;ç†¨æ–—;è„šé•£ adj. é“åˆ¶çš„;åšå¼ºçš„;é¡½å¼ºçš„; vt. ç†¨çƒ«;ç”¨é“é“¸æˆ vi. ç†¨è¡£;</p>
<p>dish [dÉªÊƒ] ç›˜;é¤å…·<br>eat - ateã€drink - drankã€let - let </p>
</blockquote>
<h2 id="1-1-dialog-about-todd"><a href="#1-1-dialog-about-todd" class="headerlink" title="1.1 dialog about todd"></a>1.1 dialog about todd</h2><table>
<thead>
<tr>
<th>Dialog</th>
</tr>
</thead>
<tbody>
<tr>
<td>JENNY: Todd, itâ€™s good to see you again. How are you doing?</td>
<td></td>
</tr>
<tr>
<td>TODD: Fine, Jenny! I just got back from Tokyo two days ago.</td>
<td></td>
</tr>
<tr>
<td>JENNY: Business trip?</td>
<td></td>
</tr>
<tr>
<td>TODD: Yeah.</td>
<td></td>
</tr>
<tr>
<td>JENNY: How was it?</td>
<td></td>
</tr>
<tr>
<td>TODD: It was good, but Tokyoâ€™s so busy!  and I was in Kyoto last week.</td>
<td></td>
</tr>
<tr>
<td>JENNY: How was that?</td>
<td></td>
</tr>
<tr>
<td>TODD: It was incredible! So how are you?</td>
<td></td>
</tr>
<tr>
<td>JENNY: Iâ€™m good. I was in Chicago the day before yesterday. I had  dinner with Mark and Paula.</td>
<td></td>
</tr>
<tr>
<td>TODD: How are they doing?</td>
<td></td>
</tr>
<tr>
<td>JENNY: Theyâ€™re fine. Oh, you know they had a baby, right?</td>
<td></td>
</tr>
</tbody>
</table>
<blockquote>
<p>Kyoto [kiËˆoto, Ëˆkjo-] äº¬éƒ½</p>
</blockquote>
<h3 id="1-2-description-questions"><a href="#1-2-description-questions" class="headerlink" title="1.2 description questions"></a>1.2 description questions</h3><ul>
<li>What was it like?</li>
<li>What was the wedding like?</li>
<li>What did he look like?</li>
</ul>
<ul>
<li>How did you like Beijing?</li>
<li>How was your vacation?</li>
</ul>
<ul>
<li>Did you go to Paris?</li>
<li>We did not meet John yesterday.</li>
<li>Frank wasnâ€™t happy in Los Angeles.</li>
</ul>
<h2 id="2-Talking-about-your-weekend"><a href="#2-Talking-about-your-weekend" class="headerlink" title="2. Talking about your weekend"></a>2. Talking about your weekend</h2><ul>
<li>bring - brought</li>
<li>leave - left</li>
<li>sell - sold  </li>
<li>rise - rose</li>
<li>shut - shut</li>
</ul>
<p><img src="/images/english/ef-l4u3l2.png" alt=""></p>
<audio src="/voices/ef/l4u3-talking-about-your-weekend.m4a" controls="controls"><br>Your browser does not support the audio tag.<br></audio>

<table>
<thead>
<tr>
<th>Dialog</th>
</tr>
</thead>
<tbody>
<tr>
<td>[LEO] In the afternoon, I went to Peteâ€™s. We had lunch and watched a match.</td>
<td></td>
</tr>
<tr>
<td>[LEO] All right, man, Iâ€™m off.</td>
<td></td>
</tr>
<tr>
<td>[PETER] Yeah. Later. dude.</td>
<td></td>
</tr>
<tr>
<td>[LEO] Hey, are you going to throw that away?</td>
<td></td>
</tr>
<tr>
<td>[PETER] That one ?</td>
<td></td>
</tr>
<tr>
<td>[LEO] The coffee table</td>
<td></td>
</tr>
<tr>
<td>[PETER] Yup !</td>
<td></td>
</tr>
<tr>
<td>[LEO] Can I have it ?</td>
<td></td>
</tr>
<tr>
<td>[PETER] You take it.</td>
<td></td>
</tr>
<tr>
<td>[LEO] It would be great. I think it would suit my apartment perfectly</td>
<td></td>
</tr>
<tr>
<td>[PETER] take it.</td>
<td></td>
</tr>
<tr>
<td>[LEO] Great ! Thanks a lot.</td>
<td></td>
</tr>
<tr>
<td>[PETER] later</td>
<td></td>
</tr>
<tr>
<td>[LEO] Peter gave me a table.</td>
<td></td>
</tr>
<tr>
<td>[EMMA] At 3, I started off for a job interview. My shoe broke.</td>
<td></td>
</tr>
<tr>
<td>[LEO] I got to the station at 3:30.</td>
<td></td>
</tr>
<tr>
<td>[EMMA] I got to the station at 3:30.</td>
<td></td>
</tr>
</tbody>
</table>
<h3 id="2-1-In-the-past"><a href="#2-1-In-the-past" class="headerlink" title="2.1 In the past"></a>2.1 In the past</h3><ul>
<li>I read a good novel last week.</li>
<li>He cooked dinner.</li>
<li>We drove to Las Vegas.</li>
<li>She brought a gift.</li>
<li>I ate some spaghetti. [spÉ™ËˆÉ¡É›ti] </li>
<li>I went jogging.</li>
<li>brought a gift</li>
</ul>
<h3 id="2-2-General-questions"><a href="#2-2-General-questions" class="headerlink" title="2.2 General questions"></a>2.2 General questions</h3><ul>
<li>How was your weekend?</li>
<li>How is your mom feeling?     </li>
</ul>
<ul>
<li>A: Hey, there was a great movie on last night.</li>
<li>B: Really? What was it? </li>
</ul>
<h3 id="2-3-Changing-a-topic"><a href="#2-3-Changing-a-topic" class="headerlink" title="2.3 Changing a topic"></a>2.3 Changing a topic</h3><table>
<thead>
<tr>
<th>By the way</th>
</tr>
</thead>
<tbody>
<tr>
<td>A: By the way, I saw Joe last night. He looked good.</td>
<td></td>
</tr>
<tr>
<td>B: Really? Iâ€™m so glad!</td>
<td></td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr>
<th>That reminds me</th>
</tr>
</thead>
<tbody>
<tr>
<td>A: There was a great baseball game on TV last night.</td>
<td></td>
</tr>
<tr>
<td>B: Oh, that reminds me. I have two tickets to tonightâ€™s game. Do you want to go?</td>
<td></td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr>
<th>Anyway</th>
</tr>
</thead>
<tbody>
<tr>
<td>A: That restaurant wasnâ€™t very good.</td>
<td></td>
</tr>
<tr>
<td>B: No, it wasnâ€™t! The meat tasted bad, and the salad wasnâ€™t fresh. And the waiter was awful! His clothes were dirty!</td>
<td></td>
</tr>
<tr>
<td>A: Anyway, weâ€™re not going there again. So, howâ€™s Jane</td>
<td></td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr>
<th>Dialog2</th>
</tr>
</thead>
<tbody>
<tr>
<td>JERRY: Jessica, how was your weekend ?</td>
<td></td>
</tr>
<tr>
<td>JESSICA: Oh, hi, Jerry! The weekend was great! On Friday night, Jim and I flew down to Acapulco. é˜¿å¡æ™®å°”ç§‘</td>
<td></td>
</tr>
<tr>
<td>JERRY: You went to Mexico for the weekend?</td>
<td></td>
</tr>
<tr>
<td>JESSICA: Yeah. Itâ€™s only a short flight from here. The beaches were fantastic and the food, well, it was amazing â€“ fresh fish and delicious fruit every day!</td>
<td></td>
</tr>
<tr>
<td>JERRY: Wow! It does sound amazing.</td>
<td></td>
</tr>
<tr>
<td>JESSICA: Yeah, and it wasnâ€™t  expensive. The hotel was pretty cheap. Anyway  , it was a lot of fun â€“ and relaxing, too. So, how was your weekend?</td>
<td></td>
</tr>
<tr>
<td>JERRY: It was OK. On Saturday night, Kerstin and I went to a party at a friendâ€™s house.</td>
<td></td>
</tr>
<tr>
<td>JESSICA: Oh, that reminds me  . Jim and I are having people over next weekend on, uh, Sunday afternoon. Of course, we want you and Kerstin to come.</td>
<td></td>
</tr>
<tr>
<td>JERRY: Thanks! I really want to meet Jim.</td>
<td></td>
</tr>
<tr>
<td>JESSICA: And, by the way  , we have a meeting at 9 oâ€™clock with Harry and his team.</td>
<td></td>
</tr>
<tr>
<td>JERRY: Really?</td>
<td></td>
</tr>
<tr>
<td>JESSICA: Yeah, and itâ€™s 8:55 now.</td>
<td></td>
</tr>
<tr>
<td>JERRY: Oh. Well, see you at the meeting.</td>
<td></td>
</tr>
<tr>
<td>JESSICA: Yeah!</td>
<td></td>
</tr>
</tbody>
</table>
<h2 id="3-Telling-a-story"><a href="#3-Telling-a-story" class="headerlink" title="3. Telling a story"></a>3. Telling a story</h2><ul>
<li>crime [kraÉªm]</li>
<li>economy [ÉªËˆkÉ‘:nÉ™mi]</li>
<li>security guard  [siËˆkjuÉ™riti É¡É‘:d] </li>
<li>stole</li>
<li>robbery</li>
<li>thieves n.  [Î¸i:vz] </li>
<li>scary</li>
<li>Corporation  [ËŒkÉ”:rpÉ™ËˆreÉªÊƒn] </li>
</ul>
<p><img src="/images/english/ef-l4u3l3.png" alt=""></p>
<audio src="/voices/ef/l4u3-telling-a-story.m4a" controls="controls"><br>Your browser does not support the audio tag.<br></audio>

<table>
<thead>
<tr>
<th>Dialog</th>
</tr>
</thead>
<tbody>
<tr>
<td>[SALLY] Hey, Harry. Did you see the story about Apex Corporation?</td>
<td></td>
</tr>
<tr>
<td>[HARRY] No.</td>
<td></td>
</tr>
<tr>
<td>[SALLY] There was a robbery there last Friday night.</td>
<td></td>
</tr>
<tr>
<td>[HARRY] Really?</td>
<td></td>
</tr>
<tr>
<td>[SALLY] Yeah. One of the thieves came in through a window, then he opened the door for the others.</td>
<td></td>
</tr>
<tr>
<td>[SALLY] They stole all the computers in the office, and some money. The staff arrived the next day to find everything gone.</td>
<td></td>
</tr>
<tr>
<td>[HARRY] Thatâ€™s a bit scary. Apex Corporation is just three blocks from us.</td>
<td></td>
</tr>
<tr>
<td>[SALLY] Yeah. Thereâ€™s too much crime in this neighborhood.</td>
<td></td>
</tr>
<tr>
<td>[HARRY] Oh, itâ€™s the economy. No one has any money right now.</td>
<td></td>
</tr>
<tr>
<td>[SALLY] Hey. I heard that Todd asked Joan two months ago about hiring a security guard, but Joan said no. A guard was too expensive.</td>
<td></td>
</tr>
<tr>
<td>[HARRY] Let me guess: Weâ€™re hiring a guard now.</td>
<td></td>
</tr>
<tr>
<td>[SALLY] Yep. She starts tomorrow.</td>
<td></td>
</tr>
<tr>
<td>[HARRY] She? A female guard?</td>
<td></td>
</tr>
<tr>
<td>[SALLY] Uh-huh.</td>
<td></td>
</tr>
</tbody>
</table>
<h3 id="3-1-crime-story"><a href="#3-1-crime-story" class="headerlink" title="3.1 crime story"></a>3.1 crime story</h3><ul>
<li>break into</li>
<li>murder  [ËˆmÉœ:rdÉ™(r)]</li>
<li>crime</li>
<li>police</li>
<li>thief [Î¸if]  n. å°å·</li>
<li>theft [Î¸É›ft] n. å·ç›—</li>
<li>arrest [É™ËˆrÉ›st] </li>
<li>steal</li>
</ul>
<p>Jenny,</p>
<p>Iâ€™m visiting a friend in New Orleans. Itâ€™s a beautiful city. I love the buildings and the people. Iâ€™m having a good time, but a thief broke into my friendâ€™s apartment and stole $130! Thatâ€™s a lot of money. We called the police, and they are looking for the thief. Iâ€™m going home to Springdale tomorrow, and thatâ€™s OK with me. Iâ€™m really upset about the theft.</p>
<p>Sarah</p>
<blockquote>
<p>Chicagoã€London</p>
</blockquote>
<h3 id="3-2-somewhere-thing-one"><a href="#3-2-somewhere-thing-one" class="headerlink" title="3.2 somewhere / thing / one"></a>3.2 somewhere / thing / one</h3><ul>
<li>John lives somewhere in Tokyo. I donâ€™t know his address.</li>
</ul>
<h2 id="4-Listening-to-a-story"><a href="#4-Listening-to-a-story" class="headerlink" title="4. Listening to a story"></a>4. Listening to a story</h2><ul>
<li>Yosemite çº¦å¡ç±³è’‚</li>
<li>tent</li>
<li>bear</li>
<li>camped</li>
<li>tore</li>
<li>trail</li>
<li>backpack</li>
<li>boots</li>
<li>cabin</li>
<li>campfire</li>
</ul>
<p><img src="/images/english/ef-l4u3l4.png" alt=""></p>
<audio src="/voices/ef/l4u3-listening-to-a-story.m4a" controls="controls"><br>Your browser does not support the audio tag.<br></audio>

<table>
<thead>
<tr>
<th>Dialog</th>
</tr>
</thead>
<tbody>
<tr>
<td>[SALLY] You guys are going to love Yosemite National Park.</td>
<td></td>
</tr>
<tr>
<td>[SIMON] I canâ€™t wait.</td>
<td></td>
</tr>
<tr>
<td>[SALLY] Weâ€™re going to hike on a special trail. Very few people know about it.</td>
<td></td>
</tr>
<tr>
<td>[SIMON] Sounds good.</td>
<td></td>
</tr>
<tr>
<td>[SALLY] You feel so close to nature there. Especially when you see a deer, or a bear.</td>
<td></td>
</tr>
<tr>
<td>[JAKE] Did you say, bear?</td>
<td></td>
</tr>
<tr>
<td>[SALLY] Yeah. There are black bears in Yosemite. Theyâ€™re really beautiful. And big.</td>
<td></td>
</tr>
<tr>
<td>[SIMON] Oh.</td>
<td></td>
</tr>
<tr>
<td>[SALLY] Actually, I have an interesting story about a bear. Last time I camped in Yosemite, we had a problem with one.</td>
<td></td>
</tr>
<tr>
<td>[JAKE] A problem? With a bear?</td>
<td></td>
</tr>
<tr>
<td>[SALLY] Uh-huh.</td>
<td></td>
</tr>
<tr>
<td>[JAKE] I donâ€™t think Iâ€™m going to like this story.</td>
<td></td>
</tr>
<tr>
<td>[SALLY] It was really late at night. We were asleep. Then, we heard a noise outside the tent.</td>
<td></td>
</tr>
<tr>
<td>[SIMON] Go on.</td>
<td></td>
</tr>
<tr>
<td>[SALLY] We left the tent, and outside we saw a huge bear.</td>
<td></td>
</tr>
<tr>
<td>[SIMON] What did you do?</td>
<td></td>
</tr>
<tr>
<td>[SALLY] Oh, nothing.</td>
<td></td>
</tr>
<tr>
<td>[SALLY] We just, uh, watched him, and he watched us. And then he tore open our backpacks, and sat down, and slowly ate all our food.</td>
<td></td>
</tr>
<tr>
<td>[SIMON] Then what happened?</td>
<td></td>
</tr>
<tr>
<td>[SALLY] Finally, he just walked away. He didnâ€™t even look at us, as he went back into the trees.</td>
<td></td>
</tr>
<tr>
<td>[JAKE] And weâ€™re going to the same place?</td>
<td></td>
</tr>
<tr>
<td>[SALLY] Donâ€™t worry, Jake. Itâ€™s very safe.</td>
<td></td>
</tr>
</tbody>
</table>
<h3 id="4-1-Hiking-sentence"><a href="#4-1-Hiking-sentence" class="headerlink" title="4.1 Hiking sentence"></a>4.1 Hiking sentence</h3><ul>
<li>A: What did you do on the weekend?</li>
<li>B: I played badminton.</li>
</ul>
<ul>
<li>A: Where did you go for your vacation?</li>
<li>B: I went to Peru.</li>
</ul>
<ul>
<li>A: Whose backpack did you borrow?</li>
<li>B: I borrowed my brotherâ€™s.    </li>
</ul>
<ul>
<li>A: What kind of tent did you buy?</li>
<li>B: I bought a Shelty. Itâ€™s the best brand.</li>
</ul>
<ul>
<li>A: What kind of animals did you see?</li>
<li>B: We saw deer, wolves and a snake.</li>
</ul>
<blockquote>
<p>How far did you walk?<br>How difficult was the hike?</p>
</blockquote>
<h3 id="4-2-Connect-the-matching"><a href="#4-2-Connect-the-matching" class="headerlink" title="4.2 Connect the matching"></a>4.2 Connect the matching</h3><table>
<thead>
<tr>
<th>questions</th>
<th>answer</th>
</tr>
</thead>
<tbody>
<tr>
<td>How was your weekend?</td>
<td>It was great, thanks.</td>
</tr>
<tr>
<td>How long was your trip?</td>
<td>We hiked for two weeks.</td>
</tr>
<tr>
<td><code>How many times were you there ?</code></td>
<td>Six times.</td>
</tr>
<tr>
<td>How did you get home?</td>
<td>I walked</td>
</tr>
<tr>
<td>Where did you eat lunch</td>
<td>I ate at the mountain</td>
</tr>
</tbody>
</table>
<h3 id="4-3-Hiking-Dialog"><a href="#4-3-Hiking-Dialog" class="headerlink" title="4.3 Hiking Dialog"></a>4.3 Hiking Dialog</h3><table>
<thead>
<tr>
<th>Dialog</th>
</tr>
</thead>
<tbody>
<tr>
<td>KYLE: Hey, Jane! How was  your backpacking trip?</td>
<td></td>
</tr>
<tr>
<td>JANE: It was fantastic.</td>
<td></td>
</tr>
<tr>
<td>KYLE: Where did you go?</td>
<td></td>
</tr>
<tr>
<td>JANE: Uh, we went to Virginia and hiked part of the Appalachian Trail.</td>
<td></td>
</tr>
<tr>
<td>KYLE: Wow! The Appalachian Trail! How far did  you hike?</td>
<td></td>
</tr>
<tr>
<td>JANE: In five days, we hiked about 25 kilometers.</td>
<td></td>
</tr>
<tr>
<td>KYLE: Wow! Thatâ€™s pretty far. How cold did it get?</td>
<td></td>
</tr>
<tr>
<td>JANE: Well, you know itâ€™s October, so it was really cold at night.</td>
<td></td>
</tr>
<tr>
<td>KYLE: What kind of tent did you take?</td>
<td></td>
</tr>
<tr>
<td>JANE: No tent. There are little cabins on the trail. We all slept in them.</td>
<td></td>
</tr>
<tr>
<td>KYLE: Really? What kind of animals did you see? Any bears?</td>
<td></td>
</tr>
<tr>
<td>JANE: No bears. Just a lot of deer.</td>
<td></td>
</tr>
<tr>
<td>KYLE: Thatâ€™s good.</td>
<td></td>
</tr>
</tbody>
</table>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[Coursera 6 - Machine Learning System Design *]]></title>
      <url>http://iequa.com/2017/05/29/ml-coursera-ng-w6-Machine-Learning-System-Design/</url>
      <content type="html"><![CDATA[<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js"],
    jax: ["input/TeX"],
    tex2jax: {
      inlineMath: [ ['$','$'], ['\\(','\\)'] ],
      displayMath: [ ['$$','$$']],
      processEscapes: true
    }
  });
</script>
<script type="text/javascript" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS_HTML,http://myserver.com/MathJax/config/local/local.js">
</script>


<h2 id="1-Building-a-Spam-Classifier"><a href="#1-Building-a-Spam-Classifier" class="headerlink" title="1. Building a Spam Classifier"></a>1. Building a Spam Classifier</h2><h3 id="1-1-prioritize-what-to-work-on"><a href="#1-1-prioritize-what-to-work-on" class="headerlink" title="1.1 prioritize what to work on"></a>1.1 prioritize what to work on</h3><p>System Design Example:</p>
<p>Given a data set of emails, we could construct a vector for each email. Each entry in this vector represents a word. The vector normally contains 10,000 to 50,000 entries gathered by finding the most frequently used words in our data set. If a word is to be found in the email, we would assign its respective entry a 1, else if it is not found, that entry would be a 0. Once we have all our x vectors ready, we train our algorithm and finally, we could use it to classify if an email is a spam or not.</p>
<p><img src="/images/ml/ml-ng-w6-02-01.png" alt=""></p>
<p>So how could you spend your time to improve the accuracy of this classifier?</p>
<ul>
<li>Collect lots of data (for example â€œhoneypotâ€ project but doesnâ€™t always work)</li>
<li>Develop sophisticated features (for example: using email header data in spam emails)</li>
<li>Develop algorithms to process your input in different ways (recognizing misspellings in spam).</li>
</ul>
<p>It is difficult to tell which of the options will be most helpful.</p>
<h3 id="1-2-error-analysis"><a href="#1-2-error-analysis" class="headerlink" title="1.2 error analysis"></a>1.2 error analysis</h3><p>The recommended approach to solving machine learning problems is to:</p>
<ul>
<li>Start with a simple algorithm, implement it quickly, and test it early on your cross validation data.</li>
<li>Plot learning curves to decide if more data, more features, etc. are likely to help.</li>
<li>Manually examine the errors on examples in the cross validation set and try to spot a trend where most of the errors were made.</li>
</ul>
<p>For example, assume that we have 500 emails and our algorithm misclassifies a 100 of them. We could manually analyze the 100 emails and categorize them based on what type of emails they are. We could then try to come up with new cues and features that would help us classify these 100 emails correctly. Hence, if most of our misclassified emails are those which try to steal passwords, then we could find some features that are particular to those emails and add them to our model. We could also see how classifying each word according to its root changes our error rate:</p>
<p><img src="/images/ml/ml-ng-w6-02-02.png" alt=""></p>
<p>It is very important to get error results as a single, numerical value. Otherwise it is difficult to assess your algorithmâ€™s performance. For example if we use stemming, which is the process of treating the same word with different forms (fail/failing/failed) as one word (fail), and get a 3% error rate instead of 5%, then we should definitely add it to our model. However, if we try to distinguish between upper case and lower case letters and end up getting a 3.2% error rate instead of 3%, then we should avoid using this new feature. Hence, we should try new things, get a numerical value for our error rate, and based on our result decide whether we want to keep the new feature or not.</p>
<h2 id="2-Handling-Skewed-Data"><a href="#2-Handling-Skewed-Data" class="headerlink" title="2. Handling Skewed Data"></a>2. Handling Skewed Data</h2><h3 id="2-1-error-for-skewed-classes"><a href="#2-1-error-for-skewed-classes" class="headerlink" title="2.1 error for skewed classes"></a>2.1 error for skewed classes</h3><p><img src="/images/ml/ml-ng-w6-02-03.png" alt=""></p>
<p>So for the problem of skewed classes precision recall gives us more direct insight into how the learning algorithm is doing and this is often a much better way to evaluate our learning algorithms</p>
<h3 id="2-2-precision-and-recall"><a href="#2-2-precision-and-recall" class="headerlink" title="2.2 precision and recall"></a>2.2 precision and recall</h3><p><img src="/images/ml/ml-ng-w6-02-04.png" alt=""></p>
<h2 id="3-Using-Large-Data-Sets"><a href="#3-Using-Large-Data-Sets" class="headerlink" title="3. Using Large Data Sets"></a>3. Using Large Data Sets</h2><p><img src="/images/ml/ml-ng-w6-02-05.png" alt=""></p>
<h2 id="Reference-article"><a href="#Reference-article" class="headerlink" title="Reference article"></a>Reference article</h2>]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[Shuping Yang's University of Maryland speech]]></title>
      <url>http://iequa.com/2017/05/28/en-Shuping-Yang-at-Maryyland/</url>
      <content type="html"><![CDATA[<h2 id="Shuping-Yang-Maryland-Graduation-Speech"><a href="#Shuping-Yang-Maryland-Graduation-Speech" class="headerlink" title="Shuping Yang Maryland Graduation Speech"></a>Shuping Yang Maryland Graduation Speech</h2><div class="video-container"><iframe src="//www.youtube.com/embed/9bMX-ctieHI" frameborder="0" allowfullscreen></iframe></div>
<h2 id="Speech-Full-Text"><a href="#Speech-Full-Text" class="headerlink" title="Speech Full Text"></a>Speech Full Text</h2><blockquote>
<p><strong>Good afternoon faculty, students, parents and friends.</strong></p>
<p>I am truly honored and grateful to speak at the commencement for the University of Maryland, Class of 2017. </p>
<p>People often ask me: Why did you come to the University of Maryland?<br>I always answer: Fresh air.</p>
<p>Five years ago, as I step off the plane from China, and left the terminal at Dallas Airport. I was ready to put on one of my five face masks, but when I took my first breath of American air. I put my mask away. </p>
<p>The air was so sweet and fresh, and utterly luxurious.</p>
<p>I was surprised by this. I grew up in a city in China, where I had to wear a face mask every time I went outside, otherwise, I might get sick.</p>
<p>However, the moment Iinhaled and exhaled outside the airportï¼ŒI felt free.</p>
<p>No more fog on my glasses, no more difficult breathing, no more suppression.</p>
<p>Every breath was a delight. As I stand here today, I cannot help, but recall that feeling of freedom. </p>
</blockquote>
<p>&nbsp;</p>
<blockquote>
<p>At the University of Maryland, I will soon feel another kind of fresh air for which I will beforever grateful â€” the fresh air of free speech.</p>
<p>Before I came to the UnitedStates, I learned in history class about the Declaration of Independence, butthese words had no meaning to meâ€” Life, Liberty and the Pursuit of happiness.</p>
<p>I was merely memorizing the words to get good grades.</p>
<p>These words sounded so strange, so abstract and foreign to me, until I came to University of Maryland.</p>
<p>I have learned the right to freely express oneself is sacred in American.</p>
<p>Each day in Maryland, I was encouraged to express my opinions on controversial issues. </p>
<p>I could challenge astatement made by my instructor. I could even rate my professors online.</p>
<p>But nothing prepared me forthe culture shock I experienced when I watched a university production of the playâ€” Twilight: Los Angeles.</p>
<p>Twilight is a play by AnnaDeavere Smith about the 1992 Los Angeles Riots.</p>
<p>The riots followed acquittal of four Los Angeles police officers in the videotaped arrest and beating of Rodney King.</p>
<p>For six days, the city was in chaos as citizens took to the streets.</p>
<p>In Twilight, the student actors were openly talking about racism, sexism and politics.</p>
<p>I was shocked, I never thought such topic could be discussed openly.</p>
<p>The play was my first taste of political story telling, one that makes the audience think critically. </p>
<p>I have always had a burning desire to tell these kinds of stories, but I was convinced that only authorities on the narrative, only authorities could define the truth. </p>
<p>However, the opportunity toimmerse myself in the perse community at the University of Maryland exposed me to various, many different perspectives on truth.</p>
<p>I soon realized that here I have the opportunity to speak freely. </p>
<p>My voice matters. </p>
<p>Your voice matters.</p>
<p>Our voices matter.</p>
<p>Civil engagement is not at ask just for politicians. I have witnessed this when I saw my fellow student smarching in Washington DC, voting in the presidential election and raising money to support various causes.</p>
<p>I have seen that everyone has a right to participate and advocate for change.</p>
<p>I used to believe that one inpidual participation could not make a difference, but here we are, United Terps.</p>
<p>Together, we can push our society to be more just, open and peaceful.</p>
<p>Class of 2017, we are graduating from a university that embraces a liberal arts education that nurtures us to think critically, and also to care and feel for humanity. </p>
<p>We are equipped with the knowledge of various disciplines and we are ready to face  the challenges of our society.</p>
<p>Some of us may go to graduate school, some us may step into professions and some of us may begin ajourney of exploration.</p>
<p>But no matter what we do,remember, democracy and free speech should not be taken for granted.</p>
<p>Democracy and freedom are the fresh air that is worth fighting for.</p>
<p>Freedom is oxygen. Freedomis passion. Freedom is love.</p>
<p>And as a French philosopher Jean Paul Sartre once said: freedom is a choice, our future is dependent on the choices we make today and tomorrow.</p>
<p>We are all playwrights of the next chapters of our lives. Together, we write the human history.</p>
<p>My friends, enjoy the fresh air and never ever let it go.</p>
<p>Thank you.</p>
</blockquote>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[EF Describing people]]></title>
      <url>http://iequa.com/2017/05/27/ef-l4u2-Describing-people/</url>
      <content type="html"><![CDATA[<style>
img {
        display: block !important;
        width: 550px;
        margin-left: 120px !important;
}
</style>

<h2 id="1-Describing-someone-you-know"><a href="#1-Describing-someone-you-know" class="headerlink" title="1. Describing someone you know"></a>1. Describing someone you know</h2><ul>
<li>good-looking</li>
<li>long and dirty</li>
<li>tall, short</li>
<li>medium height</li>
<li>middle-aged</li>
<li>blond [blÉ‘nd] å¸ƒéš†ï¼›ç™½è‚¤é‡‘å‘ç¢§çœ¼çš„äºº</li>
<li>bald</li>
<li>curly</li>
</ul>
<p><img src="/images/english/ef-l4u2l1.png" alt=""></p>
<p>My boyfriend â€¦ heâ€™s nice â€¦, but , itâ€™s over. Heâ€™s good-looking. He has a nice smile. Blue eyes. But his hair! Itâ€™s long and dirty. I donâ€™t think he washes it. Heâ€™s an artist. He spends all day painting, and thatâ€™s all he does. He doesnâ€™t have a job, he lives in his mumâ€™s house! I want a boyfriend who has a plan. Successful, Smart, Funny, Handsome, I want something different now.</p>
<h3 id="2-Sencence"><a href="#2-Sencence" class="headerlink" title="2. Sencence"></a>2. Sencence</h3><ul>
<li>She is tall and thin.</li>
<li>Her hair is shorter and grayer than before.</li>
<li>That tall, young, blond man drives a truck.</li>
<li><p>Heâ€™s very attractive.        </p>
</li>
<li><p>A: What does he look like?  </p>
</li>
<li>B: He is tall and middle-aged. Heâ€™s very good-looking.</li>
</ul>
<ul>
<li>A: What color are his eyes?</li>
<li>B: Theyâ€™re brown.    Theyâ€™re brown.</li>
</ul>
<ul>
<li>A: How tall is she?</li>
<li>B: Sheâ€™s very tall.</li>
</ul>
<h2 id="2-Describing-relationships"><a href="#2-Describing-relationships" class="headerlink" title="2. Describing relationships"></a>2. Describing relationships</h2><ul>
<li>granddaughter</li>
<li>grandson</li>
<li>niece [niËs]</li>
<li>nephew [â€˜nÉ›fju]</li>
<li>cousin [â€˜kÊŒzn]</li>
</ul>
<p><img src="/images/english/ef-l4u2l2.png" alt=""></p>
<table>
<thead>
<tr>
<th>Dialog</th>
</tr>
</thead>
<tbody>
<tr>
<td>P: So how many people are coming?</td>
<td></td>
</tr>
<tr>
<td>S: Well. thereâ€™s the three of us.</td>
<td></td>
</tr>
<tr>
<td>P: Weâ€™re inviting Jake to the party?</td>
<td></td>
</tr>
<tr>
<td>J: Invite me to the party? I am the party. Oh. Can my cousin come?</td>
<td></td>
</tr>
<tr>
<td>S: Jake, this is a party for Simon, to celebrate his new job. Weâ€™re only inviting family and friends.</td>
<td></td>
</tr>
<tr>
<td>J: My cousin is family.</td>
<td></td>
</tr>
<tr>
<td>S: Yeah, your family, not Simonâ€™s.</td>
<td></td>
</tr>
<tr>
<td>P: Itâ€™s a small apartment. We canâ€™t invite too many people.</td>
<td></td>
</tr>
<tr>
<td>S: I think we should invite Todd, and his wife, Angela.</td>
<td></td>
</tr>
<tr>
<td>J: Yeah, heâ€™s nice, and sheâ€™s cute.</td>
<td></td>
</tr>
<tr>
<td>S: Jake !</td>
<td></td>
</tr>
<tr>
<td>J: What did I say ?</td>
<td></td>
</tr>
<tr>
<td>P: Whatâ€™s your bossâ€™s name? I can never remember.</td>
<td></td>
</tr>
<tr>
<td>S: Joan. We should definitely invite Joan. And her husband, Al.</td>
<td></td>
</tr>
<tr>
<td>P: And, of course, we need to invite Simonâ€™s mom.</td>
<td></td>
</tr>
<tr>
<td>J: Definitely. She makes great cheesecake.</td>
<td></td>
</tr>
<tr>
<td>S: OK, Who else?</td>
<td></td>
</tr>
<tr>
<td>P: Whoâ€™s your friend in the office? The guy from Seattle.</td>
<td></td>
</tr>
<tr>
<td>S: Oh, Harry! I canâ€™t believe I almost forgot him.</td>
<td></td>
</tr>
<tr>
<td>P: And does he have a girlfriend?</td>
<td></td>
</tr>
<tr>
<td>S: Heâ€™s married.</td>
<td></td>
</tr>
<tr>
<td>P: This list is getting bigger.</td>
<td></td>
</tr>
<tr>
<td>S: Shall we talk about food ?</td>
<td></td>
</tr>
</tbody>
</table>
<h3 id="2-1-Relationshops"><a href="#2-1-Relationshops" class="headerlink" title="2.1 Relationshops"></a>2.1 Relationshops</h3><ul>
<li>Iâ€™m meeting my girlfriend tonight.</li>
<li>James and I are business partners. [â€˜pÉ‘rtnÉš] </li>
</ul>
<p><strong>gerund (verb + -ing)</strong></p>
<ul>
<li>We spend time watching movies. </li>
<li>I always have fun talking with him.</li>
</ul>
<ul>
<li>We have a hard time getting together.</li>
<li>She has trouble making money.</li>
<li>They often waste time fighting.</li>
</ul>
<table>
<thead>
<tr>
<th>D1</th>
</tr>
</thead>
<tbody>
<tr>
<td>A: How are you and your brother doing?</td>
<td></td>
</tr>
<tr>
<td>B: Weâ€™re doing well, thanks. We spend time talking on the phone.</td>
<td></td>
</tr>
<tr>
<td>A: What do you and Sylvia do for fun?</td>
<td></td>
</tr>
<tr>
<td>B: Letâ€™s see â€¦ We have a lot of fun playing tennis together.</td>
<td></td>
</tr>
</tbody>
</table>
<ul>
<li>What do you and your partner do for fun?</li>
<li>We spend time taking nice walks.</li>
<li>Are you having trouble?</li>
<li>What else do you enjoying doing?</li>
</ul>
<h2 id="3-Evaluating-employees"><a href="#3-Evaluating-employees" class="headerlink" title="3. Evaluating employees"></a>3. Evaluating employees</h2><ul>
<li>appraisal [É™ËˆprezÉ™l]  è€ƒç ” / IELTS / TOEFL / BEC</li>
<li>hardworking</li>
<li>efficient</li>
<li>creative [kriËˆetÉªv]</li>
<li>getting better</li>
<li>could do better </li>
<li>disorganized</li>
</ul>
<p><img src="/images/english/ef-l4u2l3.png" alt=""></p>
<table>
<thead>
<tr>
<th>Dialog</th>
</tr>
</thead>
<tbody>
<tr>
<td>[TODD] Thanks for taking the time to meet me, Joan?</td>
<td></td>
</tr>
<tr>
<td>[JOAN] No problem. Whatâ€™s up?</td>
<td></td>
</tr>
<tr>
<td>[TODD] Well, the <code>performance appraisals</code> are next week, and I want to talk with you about Sally and Harry.</td>
<td></td>
</tr>
<tr>
<td>[JOAN] Okay. Letâ€™s start with Harry.</td>
<td></td>
</tr>
<tr>
<td>[TODD] Well, Harry hasnâ€™t been with us that long, but I can see that heâ€™s very hardworking. I think he does a really good job.</td>
<td></td>
</tr>
<tr>
<td>[JOAN] So do I. He did a great job on his last project â€¦ What was it?</td>
<td></td>
</tr>
<tr>
<td>[TODD] The Smith Electric [Éªâ€™lÉ›ktrÉªk] project.</td>
<td></td>
</tr>
<tr>
<td>[JOAN] Thatâ€™s right.     He <code>worked really well</code> with the team.</td>
<td></td>
</tr>
<tr>
<td>[TODD] A real team player. But there is one thing. Heâ€™s often late.</td>
<td></td>
</tr>
<tr>
<td>[JOAN] Yeah! he is</td>
<td></td>
</tr>
<tr>
<td>[TODD] Often late. Now. Sally.</td>
<td></td>
</tr>
<tr>
<td>[JOAN] Sally â€¦ I like Sally, but, umm â€¦</td>
<td></td>
</tr>
<tr>
<td>[TODD] Sheâ€™s just not <code>efficient enough</code> sometimes. She needs to be more organized. I mean, I donâ€™t think sheâ€™s lazy.</td>
<td></td>
</tr>
<tr>
<td>[JOAN] <code>Neither do I</code>. She works hard. And sheâ€™s good in meetings.</td>
<td></td>
</tr>
<tr>
<td>[TODD] Yeah. And sheâ€™s also very helpful. Sometimes I have a computer problem and â€¦</td>
<td></td>
</tr>
<tr>
<td>[JOAN] Yes, you do sometimes have computer problems.</td>
<td></td>
</tr>
<tr>
<td>[TODD] Well, I like them both.</td>
<td></td>
</tr>
<tr>
<td>[JOAN] So do I. You have two great people on your team.</td>
<td></td>
</tr>
</tbody>
</table>
<h3 id="3-1-Senctence"><a href="#3-1-Senctence" class="headerlink" title="3.1 Senctence"></a>3.1 Senctence</h3><ul>
<li>Her project is late because sheâ€™s too disorganized.</li>
<li>Sheâ€™s too negative. She thinks too much about problems.</li>
<li>Heâ€™s not creative enough to work in marketing.   </li>
</ul>
<p>Use neither do I to agree with an opinion expressed by I donâ€™t think that, or any other opinion expressed in the negative.</p>
<ul>
<li>Sheâ€™s so disorganized. &gt; She needs to be more organized.</li>
<li>Heâ€™s too negative. &gt; He should be more positive.</li>
</ul>
<h2 id="4-giving-a-recommendation"><a href="#4-giving-a-recommendation" class="headerlink" title="4. giving a recommendation"></a>4. giving a recommendation</h2><ul>
<li>brochure  [â€˜brÉ™ÊŠÊƒÉ™]</li>
</ul>
<p><img src="/images/english/ef-l4u2l4.png" alt=""></p>
<table>
<thead>
<tr>
<th>Dialog</th>
</tr>
</thead>
<tbody>
<tr>
<td>[JOAN] Oh, Martinaâ€™s letter of recommendation. When is she going to New York?</td>
<td></td>
</tr>
<tr>
<td>[TODD] Next Friday. Her husbandâ€™s already there.</td>
<td></td>
</tr>
<tr>
<td>[JOAN] That soon. Iâ€™m going to miss her.</td>
<td></td>
</tr>
<tr>
<td>[TODD] Yeah, so am I.</td>
<td></td>
</tr>
<tr>
<td>[JOAN] Last week I asked her to make a new company <code>brochure [bro&#39;ÊƒÊŠr]</code>. It only took her two days.</td>
<td></td>
</tr>
<tr>
<td>[TODD] Really? I should put that in. Martina works quickly and efficiently â€¦</td>
<td></td>
</tr>
<tr>
<td>[JOAN] Yeah. The brochure was really beautiful. Sheâ€™s so creative. And her team really loves her.</td>
<td></td>
</tr>
<tr>
<td>[TODD] Creative â€¦ Works well with a team. What else?</td>
<td></td>
</tr>
<tr>
<td>[JOAN] Well, she always wrote our marketing copy. She was really good at it.</td>
<td></td>
</tr>
<tr>
<td>[TODD] Thatâ€™s right! Whoâ€™s going to do that now?</td>
<td></td>
</tr>
<tr>
<td>[JOAN] <code>Why donâ€™t you ask Sally? Sheâ€™s smart. She can learn it pretty quickly, right?</code></td>
<td></td>
</tr>
<tr>
<td>[TODD] Not that quickly. But, yeah, she could learn it.</td>
<td></td>
</tr>
<tr>
<td>[JOAN] Great. So do you have enough for your letter?</td>
<td></td>
</tr>
<tr>
<td>[TODD] Umm â€¦ I think so. Thanks.</td>
<td></td>
</tr>
<tr>
<td>[JOAN] Sure.</td>
<td></td>
</tr>
<tr>
<td>[TODD] I had the pleasure to work with Martina for three years, and I highly recommend her.</td>
<td></td>
</tr>
</tbody>
</table>
<h3 id="2-Senctence"><a href="#2-Senctence" class="headerlink" title="2. Senctence"></a>2. Senctence</h3><ul>
<li>She was always organized.  </li>
<li>She can probably learn that in one or two days.</li>
<li>The project only took her one day.</li>
</ul>
<ul>
<li>The brochure was really beautiful.   </li>
<li>Sheâ€™s so creative.</li>
<li>She can learn that pretty quickly.</li>
</ul>
<h3 id="3-So-amp-Such"><a href="#3-So-amp-Such" class="headerlink" title="3. So &amp; Such"></a>3. So &amp; Such</h3><p>Use so + adjective or so + adverb to emphasize a personal quality.</p>
<ul>
<li>Kyle is so disorganized.      </li>
<li>She works so quickly.       </li>
</ul>
<p>Use such + noun to emphasize a personal quality.</p>
<ul>
<li>Debra is such a team player.  </li>
<li>She shows such creativity.  </li>
<li>Oscar is such a hard worker.  </li>
</ul>
<table>
<thead>
<tr>
<th>Dialog So Such</th>
</tr>
</thead>
<tbody>
<tr>
<td>FRED: Youâ€™re already done with the Franco project?</td>
<td></td>
</tr>
<tr>
<td>LOUISE: Fantastic, right? It only  took us two weeks.</td>
<td></td>
</tr>
<tr>
<td>FRED: You finished that soon  ? Wow. You work so well  with your team.</td>
<td></td>
</tr>
<tr>
<td>LOUISE: Thanks! Itâ€™s such  a hardworking team.</td>
<td></td>
</tr>
<tr>
<td>FRED: Yeah. Lizaâ€™s great. Sheâ€™s such a creative designer.</td>
<td></td>
</tr>
<tr>
<td>LOUISE: Yes, and Tomâ€™s so efficient. Honestly, Jaydenâ€™s really helpful, too</td>
<td></td>
</tr>
</tbody>
</table>
<h3 id="4-Writing"><a href="#4-Writing" class="headerlink" title="4. Writing"></a>4. Writing</h3><p>Sep 21,2016</p>
<p>To whom it may concern:</p>
<p>I am writing to highly recommend Jim. I worked with Jim for 2 years at LLQ company.<br>Jim was product manager of R&amp;D. He was always hardworking, efficient and well-organized. Please feel free to contact me about Jim.</p>
<p>Sincerely<br>Blair</p>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[Coursera 6 - Advice for Applying Machine Learning *]]></title>
      <url>http://iequa.com/2017/05/24/ml-coursera-ng-w6-Advice-for-Applying-Machine-Learning/</url>
      <content type="html"><![CDATA[<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js"],
    jax: ["input/TeX"],
    tex2jax: {
      inlineMath: [ ['$','$'], ['\\(','\\)'] ],
      displayMath: [ ['$$','$$']],
      processEscapes: true
    }
  });
</script>
<script type="text/javascript" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS_HTML,http://myserver.com/MathJax/config/local/local.js">
</script>


<h2 id="1-Evaluating-a-Hypothesis"><a href="#1-Evaluating-a-Hypothesis" class="headerlink" title="1. Evaluating a Hypothesis"></a>1. Evaluating a Hypothesis</h2><p>Once we have done some <strong>trouble shooting</strong> for errors in our predictions by:</p>
<ul>
<li>Getting more training examples</li>
<li>Trying smaller sets of features</li>
<li>Trying additional features</li>
<li>Trying polynomial features</li>
<li>Increasing or decreasing $Î»$</li>
</ul>
<p>We can move on to evaluate our new hypothesis.</p>
<p>A hypothesis may have a low error for the training examples but still be inaccurate (because of overfitting). Thus, to evaluate a hypothesis, given a dataset of training examples, we can split up the data into two sets: a training set and a test set. Typically, the training set consists of 70% of your data and the test set is the remaining 30%.</p>
<p>The new procedure using these two sets is then:</p>
<ol>
<li>Learn $\Theta$ and minimize $J_{train}(\Theta)$ using the training set</li>
<li>Compute the test set error $J_{test}(\Theta)$</li>
</ol>
<p><strong>The test set error</strong></p>
<ol>
<li>For linear regression: $J_{test}(\Theta) = \dfrac{1}{2m_{test}} \sum_{i=1}^{m_{test}}(h_\Theta(x^{(i)}_{test}) - y^{(i)}_{test})^2$</li>
<li>For classification ~ Misclassification error (aka 0/1 misclassification error):</li>
</ol>
<p>$$<br>err(h_\Theta(x),y) = \begin{matrix} 1 &amp; \mbox{if } h_\Theta(x) \geq 0.5\ and\ y = 0\ or\ h_\Theta(x) &lt; 0.5\ and\ y = 1\newline 0 &amp; \mbox otherwise \end{matrix}<br>$$</p>
<p>This gives us a binary 0 or 1 error result based on a misclassification. The average test error for the test set is:</p>
<p>$$<br>\text{Test Error} = \dfrac{1}{m_{test}} \sum^{m_{test}}_{i=1} err(h_\Theta(x^{(i)}_{test}), y^{(i)}_{test})<br>$$</p>
<p>This gives us the proportion of the test data that was misclassified.</p>
<blockquote>
<p>inaccurate[Éªnâ€™Ã¦kjÉ™rÉ™t]ã€procedure [prÉ™â€™sidÊ’Éš] æ¯”ä¾‹<br>remaining [riâ€™men..]ã€ Misclassification [â€˜mis,klÃ¦sifiâ€™keiÊƒÉ™n]<br>validation [,vÃ¦lÉ™â€™deÊƒÉ™n] ç¡®è®¤ï¼Œæ‰¹å‡†</p>
</blockquote>
<h2 id="2-Model-Selection"><a href="#2-Model-Selection" class="headerlink" title="2. Model Selection"></a>2. Model Selection</h2><p><strong>Train/Validtion/Test Sets</strong></p>
<p>Just because a learning algorithm fits a training set well, that does not mean it is a good hypothesis. It could over fit and as a result your predictions on the test set would be poor. The error of your hypothesis as measured on the data set with which you trained the parameters will be lower than the error on any other data set.</p>
<p>Given many models with different polynomial degrees, we can use a systematic approach to identify the â€˜bestâ€™ function. In order to choose the model of your hypothesis, you can test each degree of polynomial and look at the error result.</p>
<p>One way to break down our dataset into the three sets is:</p>
<ul>
<li><font color="blue"> Training set: 60%</font></li>
<li><font color="blue"> Cross validation set: 20%</font></li>
<li><font color="blue"> Test set: 20%</font>

</li>
</ul>
<p>We can now calculate three separate error values for the three different sets using the following method:</p>
<ol>
<li>Optimize the parameters in Î˜ using the training set for each polynomial degree.</li>
<li>Find the polynomial degree d with the least error using the cross validation set.</li>
<li>Estimate the generalization error using the test set with $J_{test}(\Theta^{(d)})$, (d = theta from polynomial with lower error);</li>
</ol>
<blockquote>
<p>This way, the degree of the polynomial d has not been trained using the test set.</p>
</blockquote>
<h2 id="3-Diagnosing-Bias-vs-Variance"><a href="#3-Diagnosing-Bias-vs-Variance" class="headerlink" title="3. Diagnosing Bias vs. Variance"></a>3. Diagnosing Bias vs. Variance</h2><p>In this section we examine the relationship between the degree of the polynomial d and the underfitting or overfitting of our hypothesis.</p>
<ul>
<li>We need to distinguish whether <code>bias</code> or <code>variance</code> is the problem contributing to bad predictions.</li>
<li>High bias is underfitting and high variance is overfitting. Ideally, we need to find a golden mean between these two.</li>
</ul>
<p>The training error will tend to <code>decrease</code> as we increase the degree d of the polynomial.</p>
<p>At the same time, the cross validation error will tend to decrease as we increase d up to a point, and then it will increase as d is increased, forming a convex curve.</p>
<p><strong>High bias (underfitting)</strong>: both $J_{train}(\Theta)$ and $J_{CV}(\Theta)$ will be high. Also, $J_{CV}(\Theta) \approx J_{train}(\Theta)$.</p>
<p><strong>High variance (overfitting)</strong>: $J_{train}(\Theta)$ will be low and $J_{CV}(\Theta)$ will be much greater than $J_{train}(\Theta)$.</p>
<p>The is summarized in the figure below:</p>
<p><img src="/images/ml/ml-ng-w6-01-01.png" alt=""></p>
<h2 id="4-Regularization-Bias-Variance"><a href="#4-Regularization-Bias-Variance" class="headerlink" title="4. Regularization Bias/Variance"></a>4. Regularization Bias/Variance</h2><p>Note: [The regularization term below and through out the video should be $\frac \lambda {2m} \sum_{j=1}^n \theta_j ^2$ and NOT $\frac \lambda {2m} \sum_{j=1}^m \theta_j ^2$]</p>
<p><img src="/images/ml/ml-ng-w6-01-02.png" alt=""></p>
<p>In the figure above, we see that as Î» increases, our fit becomes more rigid. On the other hand, as Î» approaches 0, we tend to over overfit the data. So how do we choose our parameter Î» to get it â€˜just rightâ€™ ? In order to choose the model and the regularization term Î», we need to:</p>
<ol>
<li>Create a list of lambdas (i.e. Î»âˆˆ{0,0.01,0.02,0.04,0.08,0.16,0.32,0.64,1.28,2.56,5.12,10.24});</li>
<li>Create a set of models with different degrees or any other variants.</li>
<li>Iterate through the Î»s and for each Î» go through all the models to learn some Î˜.</li>
<li>Compute the cross validation error using the learned Î˜ (computed with Î») on the $J_{CV}(\Theta)$ <strong>without</strong> regularization or Î» = 0. <code>ï¼Ÿï¼Ÿ</code></li>
<li>Select the best combo that produces the lowest error on the cross validation set.</li>
<li>Using the best combo Î˜ and Î», apply it on $J_{test}(\Theta)$ to see if it has a good generalization of the problem.</li>
</ol>
<h2 id="5-Learning-Curves"><a href="#5-Learning-Curves" class="headerlink" title="5. Learning Curves"></a>5. Learning Curves</h2><p>Training an algorithm on a very few number of data points (such as 1, 2 or 3) will easily have 0 errors because we can always find a quadratic curve that touches exactly those number of points. Hence:</p>
<ul>
<li>As the training set gets larger, the error for a quadratic function increases.</li>
<li>The error value will plateau out after a certain m, or training set size.</li>
</ul>
<p><strong>Experiencing high bias:</strong></p>
<p>Low training set size: causes $J_{train}(\Theta)$ to be low and $J_{CV}(\Theta)$ to be high.</p>
<p>Large training set size: causes both $J_{train}(\Theta)$ and $J_{CV}(\Theta)$  to be high with $J_{train}(\Theta)$â‰ˆ$J_{CV}(\Theta)$.</p>
<p>If a learning algorithm is suffering from high bias, getting more training data will not (by itself) help much.</p>
<p><img src="/images/ml/ml-ng-w6-01-03.png" alt=""></p>
<p>me : éšç€train setsçš„å¢åŠ ï¼Œé«˜åå·®ä¼šé™ä½ï¼Œå› ä¸ºæ›´å®¹æ˜“æ‰¾åˆ°åˆé€‚çš„ Hypothesis å»æ‹Ÿåˆæ•°æ®ã€‚æ‰€ä»¥CV errorä¸‹é™ã€‚</p>
<p><strong>Experiencing high variance:</strong></p>
<p><strong>Low training set size:</strong> $J_{train}(\Theta)$ will be low and $J_{CV}(\Theta)$ will be high.</p>
<p><strong>Large training set size:</strong> $J_{train}(\Theta)$ increases with training set size and $J_{CV}(\Theta)$ continues to decrease without leveling off. Also, $J_{train}(\Theta)$ &lt; $J_{CV}(\Theta)$ but the difference between them remains significant.</p>
<p>If a learning algorithm is suffering from high variance, getting more training data is likely to help.</p>
<p><img src="/images/ml/ml-ng-w6-01-04.png" alt=""></p>
<p>me : éšç€ train sets çš„å¢åŠ ï¼Œoverfiting è¶Šæ¥è¶Šä¸å®¹æ˜“ã€‚é€ æˆ CV error ä¸‹é™ã€‚</p>
<blockquote>
<p>plateau out / leveling off è¾¾åˆ°å¹³ç¨³çŠ¶æ€<br><code>test error will be CV error on picture.</code></p>
</blockquote>
<h2 id="6-What-to-Do-Next-Revisited"><a href="#6-What-to-Do-Next-Revisited" class="headerlink" title="6. What to Do Next Revisited"></a>6. What to Do Next Revisited</h2><p><em>*Our decision process can be broken down as follows</em>:</p>
<table>
<thead>
<tr>
<th>Function</th>
<th>Result</th>
</tr>
</thead>
<tbody>
<tr>
<td>Getting more training examples</td>
<td>Fixes high variance</td>
</tr>
<tr>
<td>Trying smaller sets of features</td>
<td>Fixes high variance</td>
</tr>
<tr>
<td>Increasing Î»</td>
<td>Fixes high variance</td>
</tr>
<tr>
<td></td>
<td></td>
</tr>
<tr>
<td>Adding features</td>
<td>Fixes high bias</td>
</tr>
<tr>
<td>Adding polynomial features</td>
<td>Fixes high bias</td>
</tr>
<tr>
<td>Decreasing Î»</td>
<td>Fixes high bias</td>
</tr>
</tbody>
</table>
<h3 id="6-1-Diagnosing-NN"><a href="#6-1-Diagnosing-NN" class="headerlink" title="6.1 Diagnosing NN"></a>6.1 Diagnosing NN</h3><ul>
<li><p>A neural network with fewer parameters is <strong>prone to underfitting</strong>. It is also <strong>computationally cheaper</strong>.</p>
</li>
<li><p>A large neural network with more parameters is <strong>prone to overfitting</strong>. It is also <strong>computationally expensive</strong>. </p>
</li>
</ul>
<p>In this case you can use regularization (increase Î») to address the overfitting.</p>
<h3 id="6-2-Model-Complexity-Effects"><a href="#6-2-Model-Complexity-Effects" class="headerlink" title="6.2 Model Complexity Effects"></a>6.2 Model Complexity Effects</h3><ul>
<li><p>Lower-order polynomials (low model complexity) have high bias and low variance. In this case, the model fits poorly consistently.</p>
</li>
<li><p>Higher-order polynomials (high model complexity) fit the training data extremely well and the test data extremely poorly. These have low bias on the training data, but very high variance.</p>
</li>
<li><p>In reality, we would want to choose a model somewhere in between, that can generalize well but also fits the data reasonably well.</p>
</li>
</ul>
<h2 id="Reference-article"><a href="#Reference-article" class="headerlink" title="Reference article"></a>Reference article</h2><ul>
<li><a href="https://www.coursera.org/learn/machine-learning/home/week/6" target="_blank" rel="external">coursera 6 @ng</a></li>
</ul>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[Coursera 6 - Advice for Applying Machine Learning *]]></title>
      <url>http://iequa.com/2017/05/24/ml-coursera-ng-w6-Advice-for-Applying-Machine-Learning%20copy/</url>
      <content type="html"><![CDATA[<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js"],
    jax: ["input/TeX"],
    tex2jax: {
      inlineMath: [ ['$','$'], ['\\(','\\)'] ],
      displayMath: [ ['$$','$$']],
      processEscapes: true
    }
  });
</script>
<script type="text/javascript" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS_HTML,http://myserver.com/MathJax/config/local/local.js">
</script>


<h2 id="1-Evaluating-a-Hypothesis"><a href="#1-Evaluating-a-Hypothesis" class="headerlink" title="1. Evaluating a Hypothesis"></a>1. Evaluating a Hypothesis</h2><p>Once we have done some <strong>trouble shooting</strong> for errors in our predictions by:</p>
<ul>
<li>Getting more training examples</li>
<li>Trying smaller sets of features</li>
<li>Trying additional features</li>
<li>Trying polynomial features</li>
<li>Increasing or decreasing $Î»$</li>
</ul>
<p>We can move on to evaluate our new hypothesis.</p>
<p>A hypothesis may have a low error for the training examples but still be inaccurate (because of overfitting). Thus, to evaluate a hypothesis, given a dataset of training examples, we can split up the data into two sets: a training set and a test set. Typically, the training set consists of 70% of your data and the test set is the remaining 30%.</p>
<p>The new procedure using these two sets is then:</p>
<ol>
<li>Learn $\Theta$ and minimize $J_{train}(\Theta)$ using the training set</li>
<li>Compute the test set error $J_{test}(\Theta)$</li>
</ol>
<p><strong>The test set error</strong></p>
<ol>
<li>For linear regression: $J_{test}(\Theta) = \dfrac{1}{2m_{test}} \sum_{i=1}^{m_{test}}(h_\Theta(x^{(i)}_{test}) - y^{(i)}_{test})^2$</li>
<li>For classification ~ Misclassification error (aka 0/1 misclassification error):</li>
</ol>
<p>$$<br>err(h_\Theta(x),y) = \begin{matrix} 1 &amp; \mbox{if } h_\Theta(x) \geq 0.5\ and\ y = 0\ or\ h_\Theta(x) &lt; 0.5\ and\ y = 1\newline 0 &amp; \mbox otherwise \end{matrix}<br>$$</p>
<p>This gives us a binary 0 or 1 error result based on a misclassification. The average test error for the test set is:</p>
<p>$$<br>\text{Test Error} = \dfrac{1}{m_{test}} \sum^{m_{test}}_{i=1} err(h_\Theta(x^{(i)}_{test}), y^{(i)}_{test})<br>$$</p>
<p>This gives us the proportion of the test data that was misclassified.</p>
<blockquote>
<p>inaccurate[Éªnâ€™Ã¦kjÉ™rÉ™t]ã€procedure [prÉ™â€™sidÊ’Éš] æ¯”ä¾‹<br>remaining [riâ€™men..]ã€ Misclassification [â€˜mis,klÃ¦sifiâ€™keiÊƒÉ™n]<br>validation [,vÃ¦lÉ™â€™deÊƒÉ™n] ç¡®è®¤ï¼Œæ‰¹å‡†</p>
</blockquote>
<h2 id="2-Model-Selection"><a href="#2-Model-Selection" class="headerlink" title="2. Model Selection"></a>2. Model Selection</h2><p><strong>Train/Validtion/Test Sets</strong></p>
<p>Just because a learning algorithm fits a training set well, that does not mean it is a good hypothesis. It could over fit and as a result your predictions on the test set would be poor. The error of your hypothesis as measured on the data set with which you trained the parameters will be lower than the error on any other data set.</p>
<p>Given many models with different polynomial degrees, we can use a systematic approach to identify the â€˜bestâ€™ function. In order to choose the model of your hypothesis, you can test each degree of polynomial and look at the error result.</p>
<p>One way to break down our dataset into the three sets is:</p>
<ul>
<li><font color="blue"> Training set: 60%</font></li>
<li><font color="blue"> Cross validation set: 20%</font></li>
<li><font color="blue"> Test set: 20%</font>

</li>
</ul>
<p>We can now calculate three separate error values for the three different sets using the following method:</p>
<ol>
<li>Optimize the parameters in Î˜ using the training set for each polynomial degree.</li>
<li>Find the polynomial degree d with the least error using the cross validation set.</li>
<li>Estimate the generalization error using the test set with $J_{test}(\Theta^{(d)})$, (d = theta from polynomial with lower error);</li>
</ol>
<blockquote>
<p>This way, the degree of the polynomial d has not been trained using the test set.</p>
</blockquote>
<h2 id="3-Diagnosing-Bias-vs-Variance"><a href="#3-Diagnosing-Bias-vs-Variance" class="headerlink" title="3. Diagnosing Bias vs. Variance"></a>3. Diagnosing Bias vs. Variance</h2><p>In this section we examine the relationship between the degree of the polynomial d and the underfitting or overfitting of our hypothesis.</p>
<ul>
<li>We need to distinguish whether <code>bias</code> or <code>variance</code> is the problem contributing to bad predictions.</li>
<li>High bias is underfitting and high variance is overfitting. Ideally, we need to find a golden mean between these two.</li>
</ul>
<p>The training error will tend to <code>decrease</code> as we increase the degree d of the polynomial.</p>
<p>At the same time, the cross validation error will tend to decrease as we increase d up to a point, and then it will increase as d is increased, forming a convex curve.</p>
<p><strong>High bias (underfitting)</strong>: both $J_{train}(\Theta)$ and $J_{CV}(\Theta)$ will be high. Also, $J_{CV}(\Theta) \approx J_{train}(\Theta)$.</p>
<p><strong>High variance (overfitting)</strong>: $J_{train}(\Theta)$ will be low and $J_{CV}(\Theta)$ will be much greater than $J_{train}(\Theta)$.</p>
<p>The is summarized in the figure below:</p>
<p><img src="/images/ml/ml-ng-w6-01-01.png" alt=""></p>
<h2 id="4-Regularization-Bias-Variance"><a href="#4-Regularization-Bias-Variance" class="headerlink" title="4. Regularization Bias/Variance"></a>4. Regularization Bias/Variance</h2><p>Note: [The regularization term below and through out the video should be $\frac \lambda {2m} \sum_{j=1}^n \theta_j ^2$ and NOT $\frac \lambda {2m} \sum_{j=1}^m \theta_j ^2$]</p>
<p><img src="/images/ml/ml-ng-w6-01-02.png" alt=""></p>
<p>In the figure above, we see that as Î» increases, our fit becomes more rigid. On the other hand, as Î» approaches 0, we tend to over overfit the data. So how do we choose our parameter Î» to get it â€˜just rightâ€™ ? In order to choose the model and the regularization term Î», we need to:</p>
<ol>
<li>Create a list of lambdas (i.e. Î»âˆˆ{0,0.01,0.02,0.04,0.08,0.16,0.32,0.64,1.28,2.56,5.12,10.24});</li>
<li>Create a set of models with different degrees or any other variants.</li>
<li>Iterate through the Î»s and for each Î» go through all the models to learn some Î˜.</li>
<li>Compute the cross validation error using the learned Î˜ (computed with Î») on the $J_{CV}(\Theta)$ <strong>without</strong> regularization or Î» = 0. <code>ï¼Ÿï¼Ÿ</code></li>
<li>Select the best combo that produces the lowest error on the cross validation set.</li>
<li>Using the best combo Î˜ and Î», apply it on $J_{test}(\Theta)$ to see if it has a good generalization of the problem.</li>
</ol>
<h2 id="5-Learning-Curves"><a href="#5-Learning-Curves" class="headerlink" title="5. Learning Curves"></a>5. Learning Curves</h2><p>Training an algorithm on a very few number of data points (such as 1, 2 or 3) will easily have 0 errors because we can always find a quadratic curve that touches exactly those number of points. Hence:</p>
<ul>
<li>As the training set gets larger, the error for a quadratic function increases.</li>
<li>The error value will plateau out after a certain m, or training set size.</li>
</ul>
<p><strong>Experiencing high bias:</strong></p>
<p>Low training set size: causes $J_{train}(\Theta)$ to be low and $J_{CV}(\Theta)$ to be high.</p>
<p>Large training set size: causes both $J_{train}(\Theta)$ and $J_{CV}(\Theta)$  to be high with $J_{train}(\Theta)$â‰ˆ$J_{CV}(\Theta)$.</p>
<p>If a learning algorithm is suffering from high bias, getting more training data will not (by itself) help much.</p>
<p><img src="/images/ml/ml-ng-w6-01-03.png" alt=""></p>
<p>me : éšç€train setsçš„å¢åŠ ï¼Œé«˜åå·®ä¼šé™ä½ï¼Œå› ä¸ºæ›´å®¹æ˜“æ‰¾åˆ°åˆé€‚çš„ Hypothesis å»æ‹Ÿåˆæ•°æ®ã€‚æ‰€ä»¥CV errorä¸‹é™ã€‚</p>
<p><strong>Experiencing high variance:</strong></p>
<p><strong>Low training set size:</strong> $J_{train}(\Theta)$ will be low and $J_{CV}(\Theta)$ will be high.</p>
<p><strong>Large training set size:</strong> $J_{train}(\Theta)$ increases with training set size and $J_{CV}(\Theta)$ continues to decrease without leveling off. Also, $J_{train}(\Theta)$ &lt; $J_{CV}(\Theta)$ but the difference between them remains significant.</p>
<p>If a learning algorithm is suffering from high variance, getting more training data is likely to help.</p>
<p><img src="/images/ml/ml-ng-w6-01-04.png" alt=""></p>
<p>me : éšç€ train sets çš„å¢åŠ ï¼Œoverfiting è¶Šæ¥è¶Šä¸å®¹æ˜“ã€‚é€ æˆ CV error ä¸‹é™ã€‚</p>
<blockquote>
<p>plateau out / leveling off è¾¾åˆ°å¹³ç¨³çŠ¶æ€<br><code>test error will be CV error on picture.</code></p>
</blockquote>
<h2 id="6-What-to-Do-Next-Revisited"><a href="#6-What-to-Do-Next-Revisited" class="headerlink" title="6. What to Do Next Revisited"></a>6. What to Do Next Revisited</h2><p><em>*Our decision process can be broken down as follows</em>:</p>
<table>
<thead>
<tr>
<th>Function</th>
<th>Result</th>
</tr>
</thead>
<tbody>
<tr>
<td>Getting more training examples</td>
<td>Fixes high variance</td>
</tr>
<tr>
<td>Trying smaller sets of features</td>
<td>Fixes high variance</td>
</tr>
<tr>
<td>Increasing Î»</td>
<td>Fixes high variance</td>
</tr>
<tr>
<td></td>
<td></td>
</tr>
<tr>
<td>Adding features</td>
<td>Fixes high bias</td>
</tr>
<tr>
<td>Adding polynomial features</td>
<td>Fixes high bias</td>
</tr>
<tr>
<td>Decreasing Î»</td>
<td>Fixes high bias</td>
</tr>
</tbody>
</table>
<h3 id="6-1-Diagnosing-NN"><a href="#6-1-Diagnosing-NN" class="headerlink" title="6.1 Diagnosing NN"></a>6.1 Diagnosing NN</h3><ul>
<li><p>A neural network with fewer parameters is <strong>prone to underfitting</strong>. It is also <strong>computationally cheaper</strong>.</p>
</li>
<li><p>A large neural network with more parameters is <strong>prone to overfitting</strong>. It is also <strong>computationally expensive</strong>. </p>
</li>
</ul>
<p>In this case you can use regularization (increase Î») to address the overfitting.</p>
<h3 id="6-2-Model-Complexity-Effects"><a href="#6-2-Model-Complexity-Effects" class="headerlink" title="6.2 Model Complexity Effects"></a>6.2 Model Complexity Effects</h3><ul>
<li><p>Lower-order polynomials (low model complexity) have high bias and low variance. In this case, the model fits poorly consistently.</p>
</li>
<li><p>Higher-order polynomials (high model complexity) fit the training data extremely well and the test data extremely poorly. These have low bias on the training data, but very high variance.</p>
</li>
<li><p>In reality, we would want to choose a model somewhere in between, that can generalize well but also fits the data reasonably well.</p>
</li>
</ul>
<h2 id="Reference-article"><a href="#Reference-article" class="headerlink" title="Reference article"></a>Reference article</h2><ul>
<li><a href="https://www.coursera.org/learn/machine-learning/home/week/6" target="_blank" rel="external">coursera 6 @ng</a></li>
</ul>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[EF Entertainment]]></title>
      <url>http://iequa.com/2017/05/24/ef-l4u1-Entertainment/</url>
      <content type="html"><![CDATA[<style>
img {
        display: block !important;
        width: 550px;
        margin-left: 120px !important;
}
</style>

<h2 id="1-describing-entertainment-options"><a href="#1-describing-entertainment-options" class="headerlink" title="1. describing entertainment options"></a>1. describing entertainment options</h2><ul>
<li>a concert</li>
<li>a musical</li>
<li>a lecture</li>
<li>a play</li>
</ul>
<p><img src="/images/english/ef-l4u1l1.png" alt=""></p>
<table>
<thead>
<tr>
<th>Dialog</th>
</tr>
</thead>
<tbody>
<tr>
<td>S: Hey, Joe. <code>What are we going to do</code> tonight?</td>
<td></td>
</tr>
<tr>
<td>J: I know! Letâ€™s go to that play downtown.</td>
<td></td>
</tr>
<tr>
<td>S: Nah, itâ€™s too far.</td>
<td></td>
</tr>
<tr>
<td>J: Well, <code>what else is going on</code>?</td>
<td></td>
</tr>
<tr>
<td>S: Well, thereâ€™s a new movie at the theater. Itâ€™s â€˜The Big Cheeseâ€™ with May Jackson.</td>
<td></td>
</tr>
<tr>
<td>J: Or we could go to the football game.</td>
<td></td>
</tr>
<tr>
<td>S: I do not enjoy watching football games.</td>
<td></td>
</tr>
<tr>
<td>J: Oh, yeah. So the movie sounds good.</td>
<td></td>
</tr>
<tr>
<td>S: Great!</td>
<td></td>
</tr>
</tbody>
</table>
<h3 id="1-1-gerunds-amp-infinitives"><a href="#1-1-gerunds-amp-infinitives" class="headerlink" title="1.1 gerunds &amp; infinitives"></a>1.1 gerunds &amp; infinitives</h3><ul>
<li>Frank enjoys cooking dinner for Lilei</li>
<li>Blair <code>plans to eat</code> out.</li>
<li>Weâ€™re <code>planning to go to</code> the soccer game. [â€˜sÉ’kÉ™]</li>
<li>I need to get some money for the concert.</li>
<li>Bluce Lee <code>kept playing</code> his guitar until midnight</li>
<li>Weâ€™re <code>thinking about</code> going to a concert.</li>
</ul>
<table>
<thead>
<tr>
<th>gerunds &amp; infinitives</th>
<th>sentence</th>
</tr>
</thead>
<tbody>
<tr>
<td>like</td>
<td>I like going to musicals.</td>
</tr>
<tr>
<td>-</td>
<td>I like to go to musicals.     </td>
</tr>
<tr>
<td>love</td>
<td>June loves eating in restaurants.</td>
</tr>
<tr>
<td>-</td>
<td>June loves to eat in restaurants.     </td>
</tr>
<tr>
<td>begin</td>
<td>It began to snow.</td>
</tr>
<tr>
<td>-</td>
<td>It began snowing.</td>
</tr>
</tbody>
</table>
<h3 id="1-2-know-how-good-at"><a href="#1-2-know-how-good-at" class="headerlink" title="1.2 know how / good at"></a>1.2 know how / good at</h3><ul>
<li>I donâ€™t know how to swim. </li>
<li>Iâ€™m terrible at driving.</li>
</ul>
<h3 id="1-3-describing-options"><a href="#1-3-describing-options" class="headerlink" title="1.3 describing options"></a>1.3 describing options</h3><ul>
<li>What do you want to do?  </li>
<li>What are we going to do tonight?</li>
<li>Whatâ€™s going on?     </li>
</ul>
<ul>
<li>There are some great movies and plays going on this week.</li>
<li>You could go swimming or you could go hiking.  </li>
</ul>
<ul>
<li>What else is there to do?</li>
<li>What else is going on?</li>
</ul>
<h2 id="2-talking-about-upcoming-events"><a href="#2-talking-about-upcoming-events" class="headerlink" title="2. talking about upcoming events"></a>2. talking about upcoming events</h2><ul>
<li>bar</li>
<li>stadium [â€˜steÉªdÉªÉ™m]</li>
<li>aquarium [É™â€™kweÉ™rÉªÉ™m]</li>
<li>concert hall</li>
<li>auditorium  [É”ËdÉªâ€™tÉ”ËrÉªÉ™m]</li>
<li>Theater  [â€˜Î¸ÉªÉ™tÉ™]</li>
<li>nightclub</li>
<li>check it out</li>
</ul>
<p><img src="/images/english/ef-l4u1l2.png" alt=""></p>
<table>
<thead>
<tr>
<th>Dialog</th>
</tr>
</thead>
<tbody>
<tr>
<td>[TODD] Hi, Could you <code>do me a favor</code>?</td>
<td></td>
</tr>
<tr>
<td>[SALLY] Sure, What do you need?</td>
<td></td>
</tr>
<tr>
<td>[TODD] Well, Angela and I want to do <code>something special</code> this weekend. Itâ€™s our 20th <code>wedding anniversary</code>.</td>
<td></td>
</tr>
<tr>
<td>[SALLY] Wow! Twenty years together, Congratulations.</td>
<td></td>
</tr>
<tr>
<td>[TODD] Thanks, Could you help me <code>find something interesting</code> ?</td>
<td></td>
</tr>
<tr>
<td>[SALLY] Springdale.com has all the events listed for the city.</td>
<td></td>
</tr>
<tr>
<td>[SALLY] It covers the concert hall, the auditorium â€¦ , You really should check it out.</td>
<td></td>
</tr>
<tr>
<td>[TODD] Thatâ€™s a good idea.</td>
<td></td>
</tr>
<tr>
<td>[SALLY] Thereâ€™s an incredible same band at the Blue Banana.</td>
<td></td>
</tr>
<tr>
<td>[SALLY] Thatâ€™s the <code>hottest nightclub</code> in town right now. Do you and Angela like to dance?</td>
<td></td>
</tr>
<tr>
<td>[TODD] Yes! But, Like a classical concert. Beethoven. Or Mozart.</td>
<td></td>
</tr>
<tr>
<td>[SALLY] Here is a play,  How about Shakespeare? Itâ€™s â€˜Hamletâ€™.</td>
<td></td>
</tr>
<tr>
<td>[SALLY] Itâ€™s in the Main Street <code>Theater</code>[ËˆÎ¸i:É™tÉ™r] on Saturday.</td>
<td></td>
</tr>
<tr>
<td>[TODD] Angela loves plays. Thank you so much!</td>
<td></td>
</tr>
</tbody>
</table>
<h3 id="1-1-Prepositions-of-time-and-place"><a href="#1-1-Prepositions-of-time-and-place" class="headerlink" title="1.1 Prepositions of time and place"></a>1.1 Prepositions of time and place</h3><p><strong><code>on</code> for smaller areas, and for days and dates.</strong></p>
<ul>
<li>I live on Main Street.</li>
<li>The lecture is on Monday.    </li>
<li>My birthday is on April 17th.</li>
</ul>
<p><strong><code>at</code> for addresses</strong></p>
<ul>
<li>His house is at 465 Pine Street.</li>
<li>The lecture is at the auditorium.</li>
<li>At night, I like to read.</li>
</ul>
<p><strong><code>in</code></strong></p>
<ul>
<li>My brother is coming in February.</li>
<li>I lived in France for one year.</li>
</ul>
<h3 id="1-2-Asking-for-help"><a href="#1-2-Asking-for-help" class="headerlink" title="1.2 Asking for help"></a>1.2 Asking for help</h3><ul>
<li>Could you do me a favor? </li>
<li>Iâ€™m sorry, but Iâ€™m really busy right now.</li>
<li>The party will start at 10 in the morning and continue until 7 in the evening</li>
</ul>
<h3 id="1-3-Writing"><a href="#1-3-Writing" class="headerlink" title="1.3 Writing"></a>1.3 Writing</h3><p>This Saturday night, there is going to be a english lecture, â€˜two minutesâ€™. June is going to talk about â€œthe important of timeâ€. The lecture starts at 8 p.m. Itâ€™s at the Auditorium. Admission is free. I like learning english, so I am thinking about going.</p>
<h2 id="3-planning-a-night-out-with-friends"><a href="#3-planning-a-night-out-with-friends" class="headerlink" title="3. planning a night out with friends"></a>3. planning a night out with friends</h2><h3 id="1-Vocabulary"><a href="#1-Vocabulary" class="headerlink" title="1. Vocabulary"></a>1. Vocabulary</h3><ul>
<li>boring</li>
<li>loud</li>
<li>relaxing</li>
<li>incredible</li>
<li>horror [â€˜hÉ’rÉ™]</li>
<li>romance [roâ€™mÃ¦ns]</li>
<li>drama  [ËˆdrÉ‘mÉ™] </li>
<li>comedy [â€˜kÉ‘mÉ™di]</li>
</ul>
<p><img src="/images/english/ef-l4u1l3.png" alt=""></p>
<table>
<thead>
<tr>
<th>Dialog</th>
</tr>
</thead>
<tbody>
<tr>
<td>M: Why donâ€™t we go to that new sports bar?</td>
<td></td>
</tr>
<tr>
<td>F: ~</td>
<td></td>
</tr>
<tr>
<td>M: Yup, There is a football game</td>
<td></td>
</tr>
<tr>
<td>F: I hate the sports bar</td>
<td></td>
</tr>
<tr>
<td>M: Really, why?</td>
<td></td>
</tr>
<tr>
<td>F: Because that is boring, the music is so loud and diffcult convasition.</td>
<td></td>
</tr>
<tr>
<td>F: How about a quiet, relaxing dinner?</td>
<td></td>
</tr>
<tr>
<td>M: We do that a name</td>
<td></td>
</tr>
<tr>
<td>F: OK ! you are right, Letâ€™s do something different.</td>
<td></td>
</tr>
<tr>
<td>M: I know, Letâ€™s go to the movie. the New York</td>
<td></td>
</tr>
<tr>
<td>F: The horror  movie, I donâ€™t think so, How about a romance, or a drama</td>
<td></td>
</tr>
<tr>
<td>M: Oh, look, really, It is incredible !</td>
<td></td>
</tr>
<tr>
<td>F: I love it. Can you buy the ticket ?</td>
<td></td>
</tr>
<tr>
<td>M: Sure, Thanks</td>
<td></td>
</tr>
</tbody>
</table>
<h3 id="2-Adjectives-for-events"><a href="#2-Adjectives-for-events" class="headerlink" title="2. Adjectives for events"></a>2. Adjectives for events</h3><ul>
<li>interesting           </li>
<li>boring</li>
<li>relaxing</li>
<li>exciting</li>
<li>surprising</li>
<li>fun</li>
<li>incredible</li>
<li>loud</li>
<li>quiet</li>
<li>wonderful</li>
<li>terrible</li>
</ul>
<h3 id="3-New-York-text"><a href="#3-New-York-text" class="headerlink" title="3. New York, text"></a>3. New York, text</h3><table>
<thead>
<tr>
<th>Dialog</th>
</tr>
</thead>
<tbody>
<tr>
<td>J: Hi, Ann! Hey, how was your vacation? You went to New York, right?</td>
<td></td>
</tr>
<tr>
<td>A: Yeah.</td>
<td></td>
</tr>
<tr>
<td>J: How was it?</td>
<td></td>
</tr>
<tr>
<td>A: Oh, I love New York! Itâ€™s a really exciting  city.</td>
<td></td>
</tr>
<tr>
<td>J: Nah. Itâ€™s too big and too loud  for me. So, what did you do in New York?</td>
<td></td>
</tr>
<tr>
<td>A: Well, we went to a musical. That was fun  ! And we ate at some really interesting restaurants. The food was delicious.</td>
<td></td>
</tr>
<tr>
<td>J: It sounds wonderful.</td>
<td></td>
</tr>
<tr>
<td>A: And the Museum of Modern Art was incredible !</td>
<td></td>
</tr>
<tr>
<td>J: Thatâ€™s great! Well, I have a meeting. See you later.</td>
<td></td>
</tr>
<tr>
<td>A: Bye.</td>
<td></td>
</tr>
</tbody>
</table>
<h3 id="4-â€˜Whyâ€™-and-â€˜becauseâ€™"><a href="#4-â€˜Whyâ€™-and-â€˜becauseâ€™" class="headerlink" title="4. â€˜Whyâ€™ and â€˜becauseâ€™"></a>4. â€˜Whyâ€™ and â€˜becauseâ€™</h3><ul>
<li>Why did you go to Paris?</li>
<li>I went to Paris because itâ€™s beautiful!</li>
</ul>
<ul>
<li>Why is Frank angry?</li>
<li>I go to that restaurant     because itâ€™s cheap, and the food is delicious.  </li>
</ul>
<h3 id="5-Suggesting-activities"><a href="#5-Suggesting-activities" class="headerlink" title="5. Suggesting activities"></a>5. Suggesting activities</h3><p>â€˜Letâ€™sâ€™ + base form of verb</p>
<ul>
<li>Letâ€™s go to the dance performance. </li>
</ul>
<p>â€˜How aboutâ€™ or â€˜what aboutâ€™ + verb + â€˜-ingâ€™</p>
<ul>
<li>What about meeting some friends?</li>
</ul>
<p>â€˜Couldâ€™ + base form of verb</p>
<ul>
<li>We could go out for a drink at Harryâ€™s Bar.</li>
</ul>
<p>â€˜Why donâ€™t weâ€™ + base form of verb</p>
<ul>
<li>Why donâ€™t we try a new restaurant?</li>
</ul>
<h2 id="4-going-to-the-movies"><a href="#4-going-to-the-movies" class="headerlink" title="4. going to the movies"></a>4. going to the movies</h2><h3 id="1-Vocabulary-1"><a href="#1-Vocabulary-1" class="headerlink" title="1. Vocabulary"></a>1. Vocabulary</h3><ul>
<li>The 8 oâ€™clock showâ€™s sold out now.</li>
<li>There are still some tickets left</li>
</ul>
<p><img src="/images/english/ef-l4u1l4.png" alt=""></p>
<table>
<thead>
<tr>
<th>Dialog</th>
</tr>
</thead>
<tbody>
<tr>
<td>S: Jake? Jake! Itâ€™s 7 oâ€™clock! The movie starts at 8!</td>
<td></td>
</tr>
<tr>
<td>J: Okay, Okay. I am ready.</td>
<td></td>
</tr>
<tr>
<td>S: Did you book the tickets?</td>
<td></td>
</tr>
<tr>
<td>J: The tickets.</td>
<td></td>
</tr>
<tr>
<td>S: The tickets you book them. right?</td>
<td></td>
</tr>
<tr>
<td>J: Ohhh.</td>
<td></td>
</tr>
<tr>
<td>S: I canâ€™t believe it. How Could you forget to book the tickets? The 8 oâ€™clock show is sold out now.</td>
<td></td>
</tr>
<tr>
<td>J: Sally, Iâ€™m really sorry. Is there a second show?</td>
<td></td>
</tr>
<tr>
<td>S: The next show begins at 10:30. There are still some tickets left. But itâ€™s over after midnight.</td>
<td></td>
</tr>
<tr>
<td>J: That sounds good. Iâ€™m so sorry. I canâ€™t believe I forgot. So, Do you want to watch some TV?</td>
<td></td>
</tr>
<tr>
<td>S: This is stupid!</td>
<td></td>
</tr>
</tbody>
</table>
<h3 id="2-Simple-present"><a href="#2-Simple-present" class="headerlink" title="2. Simple present"></a>2. Simple present</h3><table>
<thead>
<tr>
<th>beginã€startã€open</th>
</tr>
</thead>
<tbody>
<tr>
<td>The dance performance begins at 8 oâ€™clock tonight.</td>
<td></td>
</tr>
<tr>
<td>Jim Department Store opens at 9 a.m. tomorrow.</td>
<td></td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr>
<th>closeã€endã€be overã€finish</th>
</tr>
</thead>
<tbody>
<tr>
<td>The movie is over at 9:15 p.m.</td>
<td></td>
</tr>
<tr>
<td>She closes her shop at 6 oâ€™clock.</td>
<td></td>
</tr>
<tr>
<td>The movie ends at midnight.</td>
<td></td>
</tr>
</tbody>
</table>
<h3 id="3-Asking-for-info-about-movies"><a href="#3-Asking-for-info-about-movies" class="headerlink" title="3. Asking for info about movies"></a>3. Asking for info about movies</h3><ul>
<li>Can you give me some information?</li>
<li>Do you have a website?</li>
<li>Can I buy tickets online?</li>
<li>Whatâ€™s your address?</li>
<li>What time is the next show?</li>
<li>Are tickets still available?</li>
<li>How much are tickets?</li>
</ul>
<h3 id="4-Dialog-with-theater-â€˜Î¸iÉ™tÉ™"><a href="#4-Dialog-with-theater-â€˜Î¸iÉ™tÉ™" class="headerlink" title="4. Dialog with theater  [â€˜Î¸iÉ™tÉ™]"></a>4. Dialog with theater  [â€˜Î¸iÉ™tÉ™]</h3><table>
<thead>
<tr>
<th>Dialog</th>
</tr>
</thead>
<tbody>
<tr>
<td>A: Good afternoon. Springdale Theater.</td>
<td></td>
</tr>
<tr>
<td>B: Good afternoon. Can you give me some information  about the film â€˜Mommy Mommyâ€™?</td>
<td></td>
</tr>
<tr>
<td>A: Certainly. What would you like to know?</td>
<td></td>
</tr>
<tr>
<td>B: When is the next show  ?</td>
<td></td>
</tr>
<tr>
<td>A: Itâ€™s at 3:15.</td>
<td></td>
</tr>
<tr>
<td>B: Thatâ€™s good. And are there still tickets for it?</td>
<td></td>
</tr>
<tr>
<td>A: Yes. Thatâ€™s not a problem. Afternoons are never sold out.</td>
<td></td>
</tr>
<tr>
<td>B: OK. And can I buy tickets online?</td>
<td></td>
</tr>
<tr>
<td>A: Yes, just go to our website  , www.springdaletheater.com.</td>
<td></td>
</tr>
<tr>
<td>B: Thanks! Oh, and how much are tickets for adults  and children?</td>
<td></td>
</tr>
<tr>
<td>A: Adults are $13, and kids are $6.</td>
<td></td>
</tr>
</tbody>
</table>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[Jobs and companies]]></title>
      <url>http://iequa.com/2017/05/19/ef-l3u6-Jobs-and-companies/</url>
      <content type="html"><![CDATA[<style>
img {
        display: block !important;
        width: 550px;
        margin-left: 120px !important;
}
</style>

<h2 id="1-Asking-about-work-experience"><a href="#1-Asking-about-work-experience" class="headerlink" title="1. Asking about work experience"></a>1. Asking about work experience</h2><ul>
<li>bank &gt; banker</li>
<li>design &gt; designer</li>
<li>act  &gt; actor</li>
<li>direct &gt; director</li>
<li>supervise  &gt; supervisor    </li>
<li>illustrate &gt; illustrator [â€˜ÉªlÉ™streÉªtÉ™]</li>
<li>firefighter</li>
</ul>
<p><img src="/images/english/ef-l3u6l1.png" alt=""></p>
<table>
<thead>
<tr>
<th><strong>Dialog 1</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td>[SIMON] hi, how do your job?</td>
<td></td>
</tr>
<tr>
<td>[KELLY] I love it! Iâ€™m so happy I got it.</td>
<td></td>
</tr>
<tr>
<td>[SIMON] good.</td>
<td></td>
</tr>
<tr>
<td>[KELLY] The payâ€™s higher than my last job. My boss is really nice.</td>
<td></td>
</tr>
<tr>
<td>[SIMON] <code>Where were you before</code>?</td>
<td></td>
</tr>
<tr>
<td>[KELLY] Sunset Computer Systems.</td>
<td></td>
</tr>
<tr>
<td>[SIMON] How was it there?</td>
<td></td>
</tr>
<tr>
<td>[KELLY] It was terrible. The pay was low. My boss was horrible. Business was really bad.</td>
<td></td>
</tr>
<tr>
<td>[SIMON] <code>How long were you there for</code>?</td>
<td></td>
</tr>
<tr>
<td>[KELLY] I was there for eight months. Long enough. But Iâ€™m much happier at Nuway Networks.</td>
<td></td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr>
<th><strong>Dialog 2</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td>MAN: Iâ€™m very happy in my new job at Tomorrow Computers. Iâ€™m a programmer. My last  boss was awful. I wasnâ€™t  happy there.</td>
<td></td>
</tr>
<tr>
<td>WOMAN: Where were you before  ?</td>
<td></td>
</tr>
<tr>
<td>MAN: I was at Dyno Systems. I was an engineer.</td>
<td></td>
</tr>
<tr>
<td>WOMAN: Was that your first job?</td>
<td></td>
</tr>
<tr>
<td>MAN: No. Before that  , I was at LM Computers.</td>
<td></td>
</tr>
<tr>
<td>WOMAN: Well, Iâ€™m happy that you like your new job.</td>
<td></td>
</tr>
<tr>
<td>MAN: Me, too. Thanks.</td>
<td></td>
</tr>
</tbody>
</table>
<h3 id="1-2-expressions"><a href="#1-2-expressions" class="headerlink" title="1.2 expressions"></a>1.2 expressions</h3><ul>
<li>Where were you last night?</li>
<li>She was a waiter <code>before</code> she was a supervisor.</li>
<li>She was a supervisor. <code>After that</code>, she was the manager.</li>
</ul>
<h3 id="1-3-talkig-about-your-job"><a href="#1-3-talkig-about-your-job" class="headerlink" title="1.3 talkig about your job"></a>1.3 talkig about your job</h3><ul>
<li><code>How was your last job?</code></li>
<li><code>What was your last job like?</code></li>
</ul>
<ul>
<li>I like my job, but I work too many hours.</li>
<li>The pay is really good in my new job.</li>
<li>My boss is OK, but sometimes heâ€™s difficult.</li>
</ul>
<ul>
<li>My last job was easier than this job.</li>
<li>My pay is better now, but I work longer hours.</li>
</ul>
<h2 id="2-Introducing-a-new-employee"><a href="#2-Introducing-a-new-employee" class="headerlink" title="2. Introducing a new employee"></a>2. Introducing a new employee</h2><ul>
<li>He worked in Paris for three years.</li>
<li>I moved to a new apartment last week.</li>
<li>We played tennis last weekend.</li>
</ul>
<ul>
<li>We didnâ€™t study last night.</li>
<li>He didnâ€™t work in London.</li>
<li>Did you study last night?</li>
<li>Where did you work before?</li>
</ul>
<ul>
<li>We lived in Beijing for two years.</li>
<li>The weekend was very busy. I didnâ€™t relax for a minute!</li>
</ul>
<p><img src="/images/english/ef-l3u6l2.png" alt=""></p>
<table>
<thead>
<tr>
<th><strong>Dialog 1</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td>[JOAN]: <code>I&#39;d like to introduce Simon</code>, our new director of engineering - a new employee</td>
<td></td>
</tr>
<tr>
<td>[JOAN]: Simon comes to us from Dyna-Tek Systems. He was the engineering manager there three years.</td>
<td></td>
</tr>
<tr>
<td>[JOAN]: He was the engineering manager.</td>
<td></td>
</tr>
<tr>
<td>[JOAN]: a masterâ€™s degree in computer science [â€˜saÉªÉ™ns]</td>
<td></td>
</tr>
<tr>
<td>[JOAN]: He speaks fluent French.</td>
<td></td>
</tr>
<tr>
<td>[JOAN]: Simon is married and has one kids.</td>
<td></td>
</tr>
<tr>
<td>[JOAN]: Letâ€™s welcome Simon to his new company!</td>
<td></td>
</tr>
<tr>
<td>[Simon]: Thanks, everyone, <code>for the warm welcome. I&#39;m excited to be here</code>.</td>
<td></td>
</tr>
</tbody>
</table>
<h3 id="2-simple-verbs"><a href="#2-simple-verbs" class="headerlink" title="2. simple verbs"></a>2. simple verbs</h3><ul>
<li>What did you do last night?</li>
<li>I relaxed and played computer games.</li>
<li>How long did you work there?</li>
<li>I worked there for three years.</li>
</ul>
<table>
<thead>
<tr>
<th><strong>Dialog 2</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td>[BOSS]: Julie, Iâ€™d like to introduce  Ken Stevens. Ken is our new  director of engineering.</td>
<td></td>
</tr>
<tr>
<td>[JULIE]: Itâ€™s a pleasure  to meet you, Ken. Welcome. I work in sales here.</td>
<td></td>
</tr>
<tr>
<td>[KEN]: Oh, thanks, Julie. Nice to meet you, too.</td>
<td></td>
</tr>
<tr>
<td>[BOSS]: Ken comes to us  from XYZ Systems. He was the engineering manager for five years.</td>
<td></td>
</tr>
<tr>
<td>[JULIE]: Oh, nice. How was it?</td>
<td></td>
</tr>
<tr>
<td>[KEN]: It was good, but Iâ€™m happy to be here now.</td>
<td></td>
</tr>
<tr>
<td>[JULIE]: This is a great place to work.</td>
<td></td>
</tr>
<tr>
<td>[BOSS]: Good answer, Julie!</td>
<td></td>
</tr>
</tbody>
</table>
<h2 id="3-Understanding-company-structure"><a href="#3-Understanding-company-structure" class="headerlink" title="3. Understanding company structure"></a>3. Understanding company structure</h2><ul>
<li>Human Resources (HR)</li>
<li>Operations</li>
<li>Finance   [faÉªâ€™nÃ¦ns; fÉª-; â€˜faÉªnÃ¦ns]</li>
<li>Sales and Marketing   </li>
<li>Customer Service   </li>
<li>Purchasing [ËˆpÉœ:rtÊƒÉ™sÉªÅ‹]</li>
<li>Research and Development (R&amp;D)</li>
<li>chief executive officer (CEO)        </li>
<li>vice president â€“ VP</li>
<li>chief financial officer (CFO)</li>
<li>chief operations officer (COO)     </li>
<li>chief technology officer (CTO)</li>
<li>She is the director of IT.</li>
<li>buy - bought </li>
</ul>
<p><img src="/images/english/ef-l3u6l3.png" alt=""></p>
<table>
<thead>
<tr>
<th>Company departments and job titles</th>
</tr>
</thead>
<tbody>
<tr>
<td>[JOAN] So, <code>did you meet anyone good</code> last night?</td>
<td></td>
</tr>
<tr>
<td>[TODD] I got 20 business cards. I talked to a lot of people. A few of them, very interesting</td>
<td></td>
</tr>
<tr>
<td>[JOAN] How about for the <code>Finance Department</code>?</td>
<td></td>
</tr>
<tr>
<td>[TODD] <code>Take a look at this one</code>. I wrote some notes on the back.</td>
<td></td>
</tr>
<tr>
<td>[TODD] She has an MBA from Harvard. Right now, sheâ€™s working at Network Tek as the CFO.</td>
<td></td>
</tr>
<tr>
<td>[JOAN] Interesting. Is she available?</td>
<td></td>
</tr>
<tr>
<td>[TODD] She wants to talk to us.</td>
<td></td>
</tr>
<tr>
<td>[JOAN] Great! How about for HR?</td>
<td></td>
</tr>
<tr>
<td>[TODD] Umm, This guy looks good.</td>
<td></td>
</tr>
<tr>
<td>[TODD] Heâ€™s an HR manager in a small company in Springdale. He has a BA in HR management.</td>
<td></td>
</tr>
<tr>
<td>[JOAN] Itâ€™s not a problem. Thanks for going last night.</td>
<td></td>
</tr>
</tbody>
</table>
<p><strong>Use did + subject + base verb</strong></p>
<ul>
<li>Did you see him last night?</li>
<li>Did they have dinner at the hotel?</li>
</ul>
<h2 id="4-Describing-a-job"><a href="#4-Describing-a-job" class="headerlink" title="4. Describing a job"></a>4. Describing a job</h2><p><img src="/images/english/ef-l3u6l4.png" alt=""></p>
<table>
<thead>
<tr>
<th>Describing a job</th>
</tr>
</thead>
<tbody>
<tr>
<td>[TODD] Ohï¼ŒJoan. <code>Do you have a minute?</code></td>
<td></td>
</tr>
<tr>
<td>[TODD] <code>I found someone good for production manager</code>.</td>
<td></td>
</tr>
<tr>
<td>[JOAN] Great. Letâ€™s have a look.</td>
<td></td>
</tr>
<tr>
<td>[TODD] She worked at Parmatek for three years as a project manager. <code>She was responsible for</code> the production schedule.</td>
<td></td>
</tr>
<tr>
<td>[TODD] And <code>she reported to the vice president</code> of production.</td>
<td></td>
</tr>
<tr>
<td>[JOAN] Where is she working now?</td>
<td></td>
</tr>
<tr>
<td>[TODD] Sheâ€™s at Blue Sky Tech.</td>
<td></td>
</tr>
<tr>
<td>[JOAN] Whatâ€™s her <code>job title</code> ?</td>
<td></td>
</tr>
<tr>
<td>[TODD] Production manager. <code>She got her BS in computer engineering in 2007</code>.</td>
<td></td>
</tr>
<tr>
<td>[JOAN] She does sound good.</td>
<td></td>
</tr>
<tr>
<td>[TODD] Shall I call her for an interview?</td>
<td></td>
</tr>
<tr>
<td>[JOAN] Yes, call her. send me her resume.</td>
<td></td>
</tr>
</tbody>
</table>
<ul>
<li>I worked there from 2009 to 2012.</li>
<li>I am responsible for marketing new products.</li>
<li>I reported to the vice president of production.</li>
</ul>
<p>My job now is at a restaurant. Iâ€™m a supervisor. Iâ€™m responsible for around 12 servers. Itâ€™s difficult work, but I like it. Before this job, I worked in a different restaurant as a server. I worked there for about 15 months. I wasnâ€™t very happy there. I didnâ€™t like my boss. She was very unfriendly. Before that, I was a student.</p>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[Money and buying]]></title>
      <url>http://iequa.com/2017/05/18/ef-l3u5-Money-and-buying/</url>
      <content type="html"><![CDATA[<style>
img {
        display: block !important;
        width: 550px;
        margin-left: 120px !important;
}
</style>

<h2 id="1-Choosing-a-product"><a href="#1-Choosing-a-product" class="headerlink" title="1. Choosing a product"></a>1. Choosing a product</h2><ul>
<li>attractive - unattractive</li>
<li>attractive - ugly</li>
<li>safe - unsafe</li>
<li>safe - dangerous</li>
<li>reliable - unreliable</li>
<li>fancy - plain</li>
<li>powerful - weak</li>
</ul>
<p><img src="/images/english/ef-l3u5l1.png" alt=""></p>
<table>
<thead>
<tr>
<th>Choosing a product</th>
</tr>
</thead>
<tbody>
<tr>
<td>[TODD] Can I ask you a question about computers?</td>
<td></td>
</tr>
<tr>
<td>[SALLY] Sure</td>
<td></td>
</tr>
<tr>
<td>[TODD] My sonâ€™s computerâ€™s really old and slow. <code>He needs something faster for his classes. And for all those computer games he plays</code>.</td>
<td></td>
</tr>
<tr>
<td>[SALLY] You want a laptop, not a desktop, right?</td>
<td></td>
</tr>
<tr>
<td>[TODD] Yes, Iâ€™m thinking about the B-Tek 13-72.</td>
<td></td>
</tr>
<tr>
<td>[SALLY] Hmm. <code>You need a better computer for gaming</code>.</td>
<td></td>
</tr>
<tr>
<td>[SALLY] You should buy the 13-82. You see, the 82â€™s faster and more powerful than the 72.</td>
<td></td>
</tr>
<tr>
<td>[TODD] Yeah. And itâ€™s also more expensive.</td>
<td></td>
</tr>
<tr>
<td>[SALLY] Twelve hundred dollars isnâ€™t bad - for a fast, powerful laptop.</td>
<td></td>
</tr>
</tbody>
</table>
<h3 id="1-1-expressions"><a href="#1-1-expressions" class="headerlink" title="1.1 expressions"></a>1.1 expressions</h3><ol>
<li>The desktop computer is <code>slower than</code> the laptop computer.</li>
<li>The desktop computer is <code>less</code> expensive <code>than</code> the laptop.</li>
<li>My old computer is slow. I <code>need something faster. (than my old computer)</code></li>
<li>For me, Chinese is more difficult than French.</li>
<li>The subway is faster than driving.</li>
</ol>
<h2 id="2-Making-a-purchase"><a href="#2-Making-a-purchase" class="headerlink" title="2. Making a purchase"></a>2. Making a purchase</h2><ul>
<li>cellphone</li>
<li>digital camera</li>
<li>tablet computer</li>
<li>smartphone</li>
<li>e-reader</li>
<li>game console</li>
<li>laptop computer [â€˜lÃ¦ptÉ’p]</li>
<li>desktop computer [â€˜desktÉ’p]</li>
</ul>
<p><img src="/images/english/ef-l3u5l2.png" alt=""></p>
<table>
<thead>
<tr>
<th><strong>Dialog</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td>A:  Excuse me. Could you help me? I want to buy a new laptop.</td>
<td></td>
</tr>
<tr>
<td>B: right over here. very good computer, powerful and fast and very popular for young people.</td>
<td></td>
</tr>
<tr>
<td>A: How much is it?</td>
<td></td>
</tr>
<tr>
<td>B: Itâ€™s on sale. 1120 <code>$</code></td>
<td></td>
</tr>
<tr>
<td>A: Iâ€™ll take it.</td>
<td></td>
</tr>
<tr>
<td>B: How would you like to pay?</td>
<td></td>
</tr>
<tr>
<td>A: By credit card.</td>
<td></td>
</tr>
<tr>
<td>B: Could I see some identification?</td>
<td></td>
</tr>
<tr>
<td>A: Hereâ€™s my driverâ€™s license.</td>
<td></td>
</tr>
<tr>
<td>B: Please sign here. Thank you. Hereâ€™s your receipt.</td>
<td></td>
</tr>
<tr>
<td>A: Thank you.</td>
<td></td>
</tr>
</tbody>
</table>
<h3 id="2-1-expressions"><a href="#2-1-expressions" class="headerlink" title="2.1 expressions"></a>2.1 expressions</h3><p>Once you have someone to help you, tell them what you need.</p>
<ul>
<li>I want to buy a new camera.  </li>
<li>I need a game console for my son.  </li>
<li>Iâ€™m looking for a TV.      </li>
<li>Could you tell me about your digital cameras?</li>
</ul>
<p>You can ask specific questions about the product you are interested in.</p>
<ul>
<li>How much is it?  </li>
<li>Is there a warranty?  </li>
<li>Whatâ€™s it made of?    </li>
<li>Is it reliable?  </li>
<li>Is it easy to use?  </li>
</ul>
<p>The salesperson might tell you about the storeâ€™s promotions.</p>
<ul>
<li>Itâ€™s on sale today.</li>
<li>Itâ€™s 25% off. </li>
</ul>
<p>If you decide to buy the product, you can say:</p>
<ul>
<li>Iâ€™ll take it.  </li>
</ul>
<p>If you decide not to buy the product, you can say:</p>
<ul>
<li>I donâ€™t think so.  </li>
<li>I need to think about it.       </li>
</ul>
<p>When youâ€™re paying for a product, these phrases might come up:</p>
<ul>
<li>How would you like to pay?    </li>
<li>Cash or credit?</li>
</ul>
<h3 id="2-2-irregular-comparative-adjectives"><a href="#2-2-irregular-comparative-adjectives" class="headerlink" title="2.2 irregular comparative adjectives"></a>2.2 irregular comparative adjectives</h3><ul>
<li>This e-reader is easier to use than that one.</li>
<li>My new e-reader cost more than a smartphone.   </li>
</ul>
<ul>
<li>The woman is friendlier than the man.           </li>
<li>The woman is more friendly than the man.  </li>
</ul>
<ul>
<li>This store is (bad) worse than the first one.  </li>
<li>The train station is (far) farther from here than the bus station.  </li>
</ul>
<ul>
<li>Are you feeling better or worse?</li>
<li>Itâ€™s less expensive to buy online.</li>
<li>The online price is less than the store price.</li>
<li>I need something easier to use.</li>
<li>Iâ€™ll take this one. Itâ€™s better.</li>
<li>Do you have a cheaper one?</li>
</ul>
<h2 id="3-Returning-a-purchase"><a href="#3-Returning-a-purchase" class="headerlink" title="3. Returning a purchase"></a>3. Returning a purchase</h2><ul>
<li>jeans</li>
<li>jacket</li>
<li>skirt [skÉœËt]</li>
<li>shirt</li>
<li>dress</li>
<li>shorts</li>
<li>socks</li>
</ul>
<p><img src="/images/english/ef-l3u5l3.png" alt=""></p>
<table>
<thead>
<tr>
<th>Returning a purchase</th>
</tr>
</thead>
<tbody>
<tr>
<td>JACK:  Oh! This digital camera!</td>
<td></td>
</tr>
<tr>
<td>NANCY: Whatâ€™s the problem ?</td>
<td></td>
</tr>
<tr>
<td>JACK: It doesnâ€™t work.</td>
<td></td>
</tr>
<tr>
<td>NANCY: Is it broken?</td>
<td></td>
</tr>
<tr>
<td>JACK: No, itâ€™s just too difficult to use.</td>
<td></td>
</tr>
<tr>
<td>NANCY: Can I help ?</td>
<td></td>
</tr>
<tr>
<td>JACK: No, I donâ€™t like it. Iâ€™m going to the store.</td>
<td></td>
</tr>
<tr>
<td>-</td>
<td></td>
</tr>
<tr>
<td>SALE: How can I help you?</td>
<td></td>
</tr>
<tr>
<td>JACK: Iâ€™d like to return this digital camera.</td>
<td></td>
</tr>
<tr>
<td>SALE: Whatâ€™s the problem?</td>
<td></td>
</tr>
<tr>
<td>JACK: Thereâ€™s nothing wrong. itâ€™s just too difficult to use. I donâ€™t like it.</td>
<td></td>
</tr>
<tr>
<td>SALE: Do you have the receipt?</td>
<td></td>
</tr>
<tr>
<td>JACK: Yes, Here it is.</td>
<td></td>
</tr>
<tr>
<td>SALE: Hereâ€™s your refund of <code>$</code>27.99.</td>
<td></td>
</tr>
<tr>
<td>JACK: Thank you!</td>
<td></td>
</tr>
</tbody>
</table>
<h3 id="3-1-some-wrong"><a href="#3-1-some-wrong" class="headerlink" title="3.1 some wrong"></a>3.1 some wrong</h3><ul>
<li>Whatâ€™s the problem?</li>
<li>Whatâ€™s wrong with it?</li>
<li>Whatâ€™s the matter?</li>
<li>What seems to be the problem? ï¼ˆcustomer service..ï¼‰</li>
</ul>
<ul>
<li>Itâ€™s too big.    </li>
<li>It doesnâ€™t fit.    </li>
<li>Thereâ€™s a hole in it.</li>
<li>Itâ€™s stained. [steÉªnd]</li>
<li>Itâ€™s damaged.    </li>
<li>It doesnâ€™t work.</li>
<li>Itâ€™s broken.</li>
<li>Itâ€™s too difficult to use.</li>
<li>I donâ€™t like it.</li>
</ul>
<h3 id="3-2-returning-a-purchase"><a href="#3-2-returning-a-purchase" class="headerlink" title="3.2 returning a purchase"></a>3.2 returning a purchase</h3><ul>
<li>Iâ€™d like to return these shorts.</li>
<li>Iâ€™d like a refund, please.    </li>
<li>Iâ€™d like to exchange this dress.          </li>
<li>Thereâ€™s nothing wrong. I just donâ€™t like it</li>
</ul>
<p>The customer service representative will likely ask why you want to return or exchange the item.</p>
<ul>
<li>What seems to be the problem?    </li>
<li>Is there something wrong with it?</li>
<li>Do you have the receipt?</li>
<li>Hereâ€™s your refund of $27.99.</li>
</ul>
<h2 id="4-Talking-about-prices"><a href="#4-Talking-about-prices" class="headerlink" title="4. Talking about prices"></a>4. Talking about prices</h2><ul>
<li>gas</li>
<li>office supplies</li>
<li>healthcare  [â€˜helÎ¸keÉ™] </li>
<li>entertainment</li>
<li>utilities  [juËâ€™tÉªlÉªtÉªz]</li>
<li>housing [ËˆhaÊŠzÉªÅ‹] ä½æˆ¿</li>
<li>clothing</li>
<li>gasoline</li>
</ul>
<p><img src="/images/english/ef-l3u5l4.png" alt=""></p>
<table>
<thead>
<tr>
<th><strong>Dialog</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td>A: gas price is going up fast.</td>
<td></td>
</tr>
<tr>
<td>B: yeah ! I know</td>
<td></td>
</tr>
<tr>
<td>A: office supplies price is going up fast. .</td>
<td></td>
</tr>
<tr>
<td>B: Ouch !</td>
<td></td>
</tr>
<tr>
<td>A: going to hurtï¼Œalsoï¼Œnext monthï¼Œthe building going to increase</td>
<td></td>
</tr>
<tr>
<td>B: Thatâ€™s terrible !</td>
<td></td>
</tr>
<tr>
<td>A: everything is going up.</td>
<td></td>
</tr>
<tr>
<td>B: I do some good news. The company sales are up</td>
<td></td>
</tr>
</tbody>
</table>
<h3 id="4-1-expressions"><a href="#4-1-expressions" class="headerlink" title="4.1 expressions"></a>4.1 expressions</h3><p>Use these expressions to explain an increase in something:</p>
<ul>
<li>Prices are going up.</li>
<li>The rent is going to increase.</li>
<li>Company sales are up.    </li>
</ul>
<p>Use these expressions to explain a decrease in something:</p>
<ul>
<li>Company sales are going down.                          </li>
<li>The temperature is going to decrease.                             </li>
<li>Gas prices are down. </li>
</ul>
<p>When we get bad news about an increase or decrease, we can say that it hurts. </p>
<ul>
<li>A: The price of food is up 25%.</li>
<li>B: Ouch! That hurts.</li>
</ul>
<p>The amount of money we need to live on is called the cost of living. </p>
<ul>
<li>The cost of living is going up and up.    <h3 id="4-2-increases-and-decreases"><a href="#4-2-increases-and-decreases" class="headerlink" title="4.2 increases and decreases"></a>4.2 increases and decreases</h3></li>
</ul>
<p>More bad  news today: The prices of housing  and utilities are both up by more than 20%. Gas prices are going to increase  for the next few months. The cost  of education is also going up.  There is some good  news: The price of food is down by 10%.</p>
<ul>
<li>Technology prices are decreasing.</li>
<li>Gas prices are increasing.</li>
<li>The price of entertainment is up.</li>
<li>The cost of living is going down.</li>
<li>The cost of education is going up.</li>
<li>Food prices are down.</li>
</ul>
<h3 id="4-3-adverbs-with-â€˜-lyâ€™-or-â€˜-ilyâ€™"><a href="#4-3-adverbs-with-â€˜-lyâ€™-or-â€˜-ilyâ€™" class="headerlink" title="4.3 adverbs with â€˜-lyâ€™ or â€˜-ilyâ€™"></a>4.3 adverbs with â€˜-lyâ€™ or â€˜-ilyâ€™</h3><ul>
<li>The price is decreasing slowly.</li>
<li><p>The price is decreasing quickly.                  </p>
</li>
<li><p>The people in the office are working busily.        </p>
</li>
<li>Heâ€™s walking lazily down the street.                </li>
</ul>
<p>Not all adjectives can be turned into adverbs with -ly. Here are three important examples:</p>
<p><code>good &gt; well,  fast &gt; fast,  hard &gt; hard</code></p>
<ul>
<li>He is doing well in school.                        </li>
<li>Gas prices are going up fast.</li>
<li>She studies really hard.</li>
</ul>
<ul>
<li>People canâ€™t pay for it easily.</li>
</ul>
<h3 id="4-4-reading"><a href="#4-4-reading" class="headerlink" title="4.4 reading"></a>4.4 reading</h3><p>In my country, prices are always increasing. Healthcare and housing costs are going up fast. Prices for food are also increasing, but more slowly. People live well, but the cost of living is difficult. The good news is that technology prices are decreasing. I want to buy a new tablet computer, but itâ€™s too expensive right now.</p>
<h3 id="4-5-writing"><a href="#4-5-writing" class="headerlink" title="4.5 writing"></a>4.5 writing</h3><p>In my country, the price of everything is going up. Housing is very expensive, and the price of gasoline is increasing quickly. I donot know how people do it. The cost of living is very difficult. Transportation and food are not expensive, but they are going up. I need a good job.</p>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[Holidays and celebrations]]></title>
      <url>http://iequa.com/2017/05/16/ef-l3u4-Holidays-and-celebrations/</url>
      <content type="html"><![CDATA[<style>
img {
        display: block !important;
        width: 550px;
        margin-left: 120px !important;
}
</style>


<ul>
<li>soda</li>
<li>snacks [snÃ¦ks]</li>
<li>dancing</li>
<li>wine  [waÉªn] </li>
</ul>
<h2 id="1-Inviting-someone-to-a-party"><a href="#1-Inviting-someone-to-a-party" class="headerlink" title="1. Inviting someone to a party"></a>1. Inviting someone to a party</h2><p><img src="/images/english/ef-l3u4l1.png" alt=""></p>
<table>
<thead>
<tr>
<th><strong>Dialog</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td>A: Hi, Mona. What are you doing  tonight?</td>
<td></td>
</tr>
<tr>
<td>B: Umm, Iâ€™m going to the gym in an hour. Why?</td>
<td></td>
</tr>
<tr>
<td>A: Iâ€™m having people over for a little birthday party at seven.</td>
<td></td>
</tr>
<tr>
<td>B: Happy birthday! Iâ€™d love to come. And I know the perfect gift for you.</td>
<td></td>
</tr>
<tr>
<td>A: Thanks! Paulâ€™s making  a big chocolate cake later.</td>
<td></td>
</tr>
<tr>
<td>B: Ooh, cake! I can bring some snacks, or wine and sodas.</td>
<td></td>
</tr>
</tbody>
</table>
<ul>
<li>Are you going to that party on Wednesday?</li>
<li>Iâ€™m getting together with some friends in an hour.</li>
<li>Weâ€™re having some friends <code>over to dinner later</code>.</li>
<li>Sheâ€™s making the cake tomorrow.<br>&nbsp;</li>
<li>Are you free on Sunday?</li>
<li>Would you like to come to a party?<br>&nbsp;</li>
<li>What time should I come?</li>
<li>Thanks for the invitation</li>
<li>Iâ€™m afraid Iâ€™m busy.</li>
</ul>
<h2 id="2-Talking-with-people-at-a-party"><a href="#2-Talking-with-people-at-a-party" class="headerlink" title="2. Talking with people at a party"></a>2. Talking with people at a party</h2><p><img src="/images/english/ef-l3u4l2.png" alt=""></p>
<table>
<thead>
<tr>
<th><strong>Dialog</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td>[SALLY] Hey, Todd. Thanks for coming.</td>
<td></td>
</tr>
<tr>
<td>[TODD] <code>Thanks for inviting me</code>! Itâ€™s a great party.</td>
<td></td>
</tr>
<tr>
<td>[SALLY] Howâ€™s your wife feeling?</td>
<td></td>
</tr>
<tr>
<td>[TODD] poor Angela. She had a cold.</td>
<td></td>
</tr>
<tr>
<td>[SALLY] Iâ€™m sorry to hear that. Give her my best.</td>
<td></td>
</tr>
<tr>
<td>[TODD] I will. So, whatâ€™s happening with you?.</td>
<td></td>
</tr>
<tr>
<td>[SALLY] not much. Iâ€™m going to the birthday party next week, My grandmotherâ€™s 87.</td>
<td></td>
</tr>
<tr>
<td>[TODD] Eighty-seven! Thatâ€™s amazing.</td>
<td></td>
</tr>
<tr>
<td>[SALLY] yep, it is. <code>What about you? Anything new?</code></td>
<td></td>
</tr>
<tr>
<td>[TODD] Well, Take my wife go to the bangkok.</td>
<td></td>
</tr>
<tr>
<td>[SALLY] Wow! That sounds wonderful!</td>
<td></td>
</tr>
<tr>
<td>[TODD] Angela is sick. I should go.</td>
<td></td>
</tr>
<tr>
<td>[SALLY] I understand. <code>Thanks again for the coming</code>.</td>
<td></td>
</tr>
<tr>
<td>[TODD] Bye! Have a good evening. Thanks for the party! See you soon.</td>
<td></td>
</tr>
</tbody>
</table>
<h3 id="2-1-party-expressions"><a href="#2-1-party-expressions" class="headerlink" title="2.1 party expressions"></a>2.1 party expressions</h3><ul>
<li>Thanks for coming to the party.</li>
<li>Thanks for having this party.</li>
<li>Anything new?</li>
<li>Great snacks. Do you enjoy cooking?</li>
<li>How are you feeling?<br>&nbsp;</li>
<li>That sounds incredible.   [Éªnâ€™kredÉªb(É™)l] ï¼ŒæƒŠäººçš„ </li>
<li>Thatâ€™s awful!<br>&nbsp;</li>
<li>Itâ€™s late. I should go.</li>
<li>Say hello to Jose. (å‘è‹¥æ³½é—®å¥½)</li>
<li>Thanks for the amazing party!</li>
</ul>
<h2 id="3-Discussing-vacation-plans"><a href="#3-Discussing-vacation-plans" class="headerlink" title="3. Discussing vacation plans"></a>3. Discussing vacation plans</h2><ul>
<li>tickets</li>
<li>film festival</li>
<li>films</li>
<li>parade [pÉ™ËˆreÉªd]</li>
<li>costume  [â€˜kÉ’stjuËm] n. æœè£…</li>
<li>entertaining [entÉ™â€™xteÉªnÉªÅ‹]</li>
<li>crowded [â€˜kraÊŠdÉªd]<br>&nbsp;</li>
<li>What are you going to do?</li>
<li>Iâ€™m going to go to the film festival.</li>
<li>How many films are you going to see?</li>
<li>Are you going to drive there?</li>
<li>Iâ€™m going to take the train.</li>
<li>Hmm. What are you going to do after that?</li>
</ul>
<p>A: Which costume are you going to wear?<br>B: Let me see â€¦ The red one, I think.</p>
<p>A: Is the festival going to be crowded?<br>B: Hmm â€¦ I donâ€™t know.</p>
<p><img src="/images/english/ef-l3u4l3.png" alt=""></p>
<table>
<thead>
<tr>
<th><strong>Dialog</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td>A: Hi</td>
<td></td>
</tr>
<tr>
<td>B: I and my parents are going to go on vacaton.</td>
<td></td>
</tr>
<tr>
<td>A: you go on the vacation. Great! where are you going?</td>
<td></td>
</tr>
<tr>
<td>B: Iâ€™m going to travel to Scotland.</td>
<td></td>
</tr>
<tr>
<td>A: Nice, What are you doing to do there?</td>
<td></td>
</tr>
<tr>
<td>B: Iâ€™m going to see 7 films and 4 night</td>
<td></td>
</tr>
<tr>
<td>A: Fantastic! Thatâ€™s a lot movies.</td>
<td></td>
</tr>
<tr>
<td>B: Iâ€™m going to the mountains. Itâ€™s beatiful.</td>
<td></td>
</tr>
<tr>
<td>B: We are going to go skiing.</td>
<td></td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr>
<th><strong>Dialog</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td>DONALD: Iâ€™m going to the Fresh Film Festival  this summer.</td>
<td></td>
</tr>
<tr>
<td>LIZA: Sounds like fun. What films are you seeing?</td>
<td></td>
</tr>
<tr>
<td>DONALD: Lots. Look â€“ there are hundreds in the program  .</td>
<td></td>
</tr>
<tr>
<td>LIZA: Are the tickets expensive?</td>
<td></td>
</tr>
<tr>
<td>DONALD: Fifty dollars. But there are so many different events.</td>
<td></td>
</tr>
<tr>
<td>LIZA: What? Youâ€™re paying Fifty dollars a ticket? Sounds very entertaining.</td>
<td></td>
</tr>
<tr>
<td>DONALD: Yeah. Thereâ€™s a big parade  on the first night. It has about a thousand people.</td>
<td></td>
</tr>
</tbody>
</table>
<p>LIZA: What are you going to do at the festival?<br>DONALD: We are going to dance in the parade.</p>
<h3 id="3-1-expressions"><a href="#3-1-expressions" class="headerlink" title="3.1 expressions"></a>3.1 expressions</h3><ul>
<li>Iâ€™m going to an exciting festival.</li>
<li>Theyâ€™re showing films from many countries.</li>
<li>I know! The festival is a lot of fun.</li>
<li>Exactly. A good film is very entertaining.<br>&nbsp;</li>
<li>There are some cool events this weekend</li>
<li>People are wearing costumes</li>
<li>Thereâ€™s a long parade with music and dancing.</li>
<li>I enjoy watching the fireworks.<br>&nbsp;</li>
<li>Wow! This place is really crowded.<br>&nbsp;</li>
</ul>
<h2 id="4-Describing-a-holiday-or-celebration"><a href="#4-Describing-a-holiday-or-celebration" class="headerlink" title="4. Describing a holiday or celebration"></a>4. Describing a holiday or celebration</h2><ul>
<li>partying</li>
<li>Diwali [diËËˆwÉ‘Ëli]</li>
<li>celebrate</li>
<li>How long does Carnaval last for?</li>
<li>The big events last four days.</li>
<li>We usually party for a week.</li>
</ul>
<p><img src="/images/english/ef-l3u4l4.png" alt=""></p>
<table>
<thead>
<tr>
<th><strong>Dialog main</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td>A: Hi,Sorry, we areâ€¦</td>
<td></td>
</tr>
<tr>
<td>B: How are take? I like music.</td>
<td></td>
</tr>
<tr>
<td>A: Yup. Itâ€™s summer. you know everybody celebrate it right now</td>
<td></td>
</tr>
<tr>
<td>B: Itâ€™s Carnaval.</td>
<td></td>
</tr>
<tr>
<td>A: Carnaval.</td>
<td></td>
</tr>
<tr>
<td>C: How do you celebrate?</td>
<td></td>
</tr>
<tr>
<td>A: Some my friends are come to school.</td>
<td></td>
</tr>
<tr>
<td>C: Sounds good !</td>
<td></td>
</tr>
<tr>
<td>B: How long does Carnaval last?</td>
<td></td>
</tr>
<tr>
<td>A: The big events <strong>last</strong> a few days, We usually party for a week.</td>
<td></td>
</tr>
</tbody>
</table>
<h3 id="4-1-expressions"><a href="#4-1-expressions" class="headerlink" title="4.1 expressions"></a>4.1 expressions</h3><ul>
<li>How long does it take to walk from the hotel to the parade? </li>
<li>It takes a half-hour.<br>&nbsp;</li>
<li>The big events <strong>last</strong> four days</li>
<li>We celebrate <strong>for</strong> a week.</li>
<li>I party a lot <strong>during</strong> the summer.</li>
<li>What do you do <strong>during</strong> Carnaval?<br>&nbsp;</li>
<li>How long does it <strong>take to walk</strong>?</li>
<li>I usually visit my family <strong>for</strong> 10 days.</li>
<li>We celebrate <strong>for</strong> a week.</li>
</ul>
<table>
<thead>
<tr>
<th><strong>Dialog two</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td>LEAH: How long does the Sun Festival last ?</td>
<td></td>
</tr>
<tr>
<td>JASON: It lasts, um, six days.</td>
<td></td>
</tr>
<tr>
<td>LEAH: What do you do <strong>during</strong> the festival?</td>
<td></td>
</tr>
<tr>
<td>JASON: Letâ€™s see â€¦ We eat and dance <strong>for</strong> a week. We celebrate the sun â€¦</td>
<td></td>
</tr>
<tr>
<td>LEAH: Sounds fantastic  .</td>
<td></td>
</tr>
<tr>
<td>JASON: Definitely. Iâ€™m going to make my own costume this year.</td>
<td></td>
</tr>
<tr>
<td>LEAH: Wow! How long does it <strong>take</strong> to make a costume?</td>
<td></td>
</tr>
<tr>
<td>JASON: Iâ€™m slow. It <code>takes</code> me about three weeks.</td>
<td></td>
</tr>
</tbody>
</table>
<h3 id="4-2-asking-about-a-holiday-or-celebration"><a href="#4-2-asking-about-a-holiday-or-celebration" class="headerlink" title="4.2 asking about a holiday or celebration"></a>4.2 asking about a holiday or celebration</h3><ul>
<li>A: How do you celebrate New Yearâ€™s?</li>
<li>B: We usually watch the big fireworks show.</li>
<li>A: What do people usually do? </li>
<li>B: They usually have a big meal.<br>&nbsp;</li>
<li>A: How long does the holiday last?</li>
<li>B: People usually celebrate for six nights. </li>
<li>A: What do people do during the festival?</li>
<li>B: They dance and sing songs.</li>
</ul>
<h3 id="4-3-adjectives"><a href="#4-3-adjectives" class="headerlink" title="4.3 adjectives"></a>4.3 adjectives</h3><ul>
<li>special - ordinary </li>
<li>entertaining - dull </li>
<li>funny - serious</li>
<li>colorful - colorless     </li>
<li>gorgeous [â€˜gÉ”ËdÊ’É™s] - hideous  [â€˜hÉªdÉªÉ™s]</li>
<li>popular - unpopular </li>
<li>noisy - quiet</li>
<li>crowded - empty </li>
</ul>
<h3 id="4-4-writing"><a href="#4-4-writing" class="headerlink" title="4.4 writing"></a>4.4 writing</h3><p>The Sziget Festival is my favorite. This big festival lasts for 4 days, The Sziget Festival is a special place with a forest. There are 10 entertaining, crowded events every day. They have popular music and art exhibitions. People usually camp in the forest and have great fun.</p>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[python sys ä¸ os æ¨¡å—]]></title>
      <url>http://iequa.com/2017/05/12/python-os-sys-module/</url>
      <content type="html"><![CDATA[<h2 id="1-sys"><a href="#1-sys" class="headerlink" title="1. sys"></a>1. sys</h2><p>ç³»ç»Ÿç›¸å…³çš„ä¿¡æ¯æ¨¡å—: import sys</p>
<figure class="highlight py"><table><tr><td class="code"><pre><span class="line">sys.argv æ˜¯ä¸€ä¸ª list,åŒ…å«æ‰€æœ‰çš„å‘½ä»¤è¡Œå‚æ•°.    </span><br><span class="line">sys.stdout sys.stdin sys.stderr åˆ†åˆ«è¡¨ç¤ºæ ‡å‡†è¾“å…¥è¾“å‡º,é”™è¯¯è¾“å‡ºçš„æ–‡ä»¶å¯¹è±¡.    </span><br><span class="line">sys.stdin.readline() ä»æ ‡å‡†è¾“å…¥è¯»ä¸€è¡Œ sys.stdout.write(<span class="string">"a"</span>) å±å¹•è¾“å‡ºa    </span><br><span class="line">sys.exit(exit_code) é€€å‡ºç¨‹åº    </span><br><span class="line">sys.modules æ˜¯ä¸€ä¸ªdictionaryï¼Œè¡¨ç¤ºç³»ç»Ÿä¸­æ‰€æœ‰å¯ç”¨çš„module    </span><br><span class="line">sys.platform å¾—åˆ°è¿è¡Œçš„æ“ä½œç³»ç»Ÿç¯å¢ƒ    </span><br><span class="line">sys.path æ˜¯ä¸€ä¸ªlist,æŒ‡æ˜æ‰€æœ‰æŸ¥æ‰¾moduleï¼Œpackageçš„è·¯å¾„.</span><br></pre></td></tr></table></figure>
<h2 id="2-os"><a href="#2-os" class="headerlink" title="2. os"></a>2. os</h2><p>æ“ä½œç³»ç»Ÿç›¸å…³çš„è°ƒç”¨å’Œæ“ä½œ: import os</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">os.environ ä¸€ä¸ªdictionary åŒ…å«ç¯å¢ƒå˜é‡çš„æ˜ å°„å…³ç³»   </span><br><span class="line">os.environ[<span class="string">"HOME"</span>] å¯ä»¥å¾—åˆ°ç¯å¢ƒå˜é‡HOMEçš„å€¼     </span><br><span class="line">os.chdir(dir) æ”¹å˜å½“å‰ç›®å½• os.chdir(<span class="string">'d:\\outlook'</span>)   </span><br><span class="line">æ³¨æ„windowsä¸‹ç”¨åˆ°è½¬ä¹‰     </span><br><span class="line">os.getcwd() å¾—åˆ°å½“å‰ç›®å½•     </span><br><span class="line">os.getegid() å¾—åˆ°æœ‰æ•ˆç»„id os.getgid() å¾—åˆ°ç»„id     </span><br><span class="line">os.getuid() å¾—åˆ°ç”¨æˆ·id os.geteuid() å¾—åˆ°æœ‰æ•ˆç”¨æˆ·id     </span><br><span class="line">os.setegid os.setegid() os.seteuid() os.setuid()     </span><br><span class="line">os.getgruops() å¾—åˆ°ç”¨æˆ·ç»„åç§°åˆ—è¡¨     </span><br><span class="line">os.getlogin() å¾—åˆ°ç”¨æˆ·ç™»å½•åç§°     </span><br><span class="line">os.getenv å¾—åˆ°ç¯å¢ƒå˜é‡     </span><br><span class="line">os.putenv è®¾ç½®ç¯å¢ƒå˜é‡     </span><br><span class="line">os.umask è®¾ç½®umask     </span><br><span class="line">os.system(cmd) åˆ©ç”¨ç³»ç»Ÿè°ƒç”¨ï¼Œè¿è¡Œcmdå‘½ä»¤   os.environ ä¸€ä¸ªdictionary åŒ…å«ç¯å¢ƒå˜é‡çš„æ˜ å°„å…³ç³»   </span><br><span class="line">os.environ[<span class="string">"HOME"</span>] å¯ä»¥å¾—åˆ°ç¯å¢ƒå˜é‡HOMEçš„å€¼     </span><br><span class="line">os.chdir(dir) æ”¹å˜å½“å‰ç›®å½• os.chdir(<span class="string">'d:\\outlook'</span>)   </span><br><span class="line">æ³¨æ„windowsä¸‹ç”¨åˆ°è½¬ä¹‰     </span><br><span class="line">os.getcwd() å¾—åˆ°å½“å‰ç›®å½•     </span><br><span class="line">os.getegid() å¾—åˆ°æœ‰æ•ˆç»„id os.getgid() å¾—åˆ°ç»„id     </span><br><span class="line">os.getuid() å¾—åˆ°ç”¨æˆ·id os.geteuid() å¾—åˆ°æœ‰æ•ˆç”¨æˆ·id     </span><br><span class="line">os.setegid os.setegid() os.seteuid() os.setuid()     </span><br><span class="line">os.getgruops() å¾—åˆ°ç”¨æˆ·ç»„åç§°åˆ—è¡¨     </span><br><span class="line">os.getlogin() å¾—åˆ°ç”¨æˆ·ç™»å½•åç§°     </span><br><span class="line">os.getenv å¾—åˆ°ç¯å¢ƒå˜é‡     </span><br><span class="line">os.putenv è®¾ç½®ç¯å¢ƒå˜é‡     </span><br><span class="line">os.umask è®¾ç½®umask     </span><br><span class="line">os.system(cmd) åˆ©ç”¨ç³»ç»Ÿè°ƒç”¨ï¼Œè¿è¡Œcmdå‘½ä»¤</span><br></pre></td></tr></table></figure>
<h2 id="3-å†…ç½®å‡½æ•°"><a href="#3-å†…ç½®å‡½æ•°" class="headerlink" title="3. å†…ç½®å‡½æ•°"></a>3. å†…ç½®å‡½æ•°</h2><p>å†…ç½®æ¨¡å—(ä¸ç”¨importå°±å¯ä»¥ç›´æ¥ä½¿ç”¨)å¸¸ç”¨å†…ç½®å‡½æ•°ï¼š</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">help(obj) åœ¨çº¿å¸®åŠ©, objå¯æ˜¯ä»»ä½•ç±»å‹    </span><br><span class="line">callable(obj) æŸ¥çœ‹ä¸€ä¸ªobjæ˜¯ä¸æ˜¯å¯ä»¥åƒå‡½æ•°ä¸€æ ·è°ƒç”¨    </span><br><span class="line">repr(obj) å¾—åˆ°objçš„è¡¨ç¤ºå­—ç¬¦ä¸²ï¼Œå¯ä»¥åˆ©ç”¨è¿™ä¸ªå­—ç¬¦ä¸²evalé‡å»ºè¯¥å¯¹è±¡çš„ä¸€ä¸ªæ‹·è´    </span><br><span class="line">eval_r(str) è¡¨ç¤ºåˆæ³•çš„pythonè¡¨è¾¾å¼ï¼Œè¿”å›è¿™ä¸ªè¡¨è¾¾å¼    </span><br><span class="line">dir(obj) æŸ¥çœ‹objçš„name spaceä¸­å¯è§çš„name    </span><br><span class="line">hasattr(obj,name) æŸ¥çœ‹ä¸€ä¸ªobjçš„name spaceä¸­æ˜¯å¦æœ‰name    </span><br><span class="line">getattr(obj,name) å¾—åˆ°ä¸€ä¸ªobjçš„name spaceä¸­çš„ä¸€ä¸ªname    </span><br><span class="line">setattr(obj,name,value) ä¸ºä¸€ä¸ªobjçš„name   </span><br><span class="line">spaceä¸­çš„ä¸€ä¸ªnameæŒ‡å‘valeè¿™ä¸ªobject    </span><br><span class="line">delattr(obj,name) ä»objçš„name spaceä¸­åˆ é™¤ä¸€ä¸ªname    </span><br><span class="line">vars(obj) è¿”å›ä¸€ä¸ªobjectçš„name spaceã€‚ç”¨dictionaryè¡¨ç¤º    </span><br><span class="line">locals() è¿”å›ä¸€ä¸ªå±€éƒ¨name space,ç”¨dictionaryè¡¨ç¤º    </span><br><span class="line">globals() è¿”å›ä¸€ä¸ªå…¨å±€name space,ç”¨dictionaryè¡¨ç¤º    </span><br><span class="line">type(obj) æŸ¥çœ‹ä¸€ä¸ªobjçš„ç±»å‹    </span><br><span class="line">isinstance(obj,cls) æŸ¥çœ‹objæ˜¯ä¸æ˜¯clsçš„instance    </span><br><span class="line">issubclass(subcls,supcls) æŸ¥çœ‹subclsæ˜¯ä¸æ˜¯supclsçš„å­ç±»  </span><br><span class="line"></span><br><span class="line"><span class="comment">##################    ç±»å‹è½¬æ¢  ##################</span></span><br><span class="line"></span><br><span class="line">chr(i) æŠŠä¸€ä¸ªASCIIæ•°å€¼,å˜æˆå­—ç¬¦    </span><br><span class="line">ord(i) æŠŠä¸€ä¸ªå­—ç¬¦æˆ–è€…unicodeå­—ç¬¦,å˜æˆASCIIæ•°å€¼    </span><br><span class="line">oct(x) æŠŠæ•´æ•°xå˜æˆå…«è¿›åˆ¶è¡¨ç¤ºçš„å­—ç¬¦ä¸²    </span><br><span class="line">hex(x) æŠŠæ•´æ•°xå˜æˆåå…­è¿›åˆ¶è¡¨ç¤ºçš„å­—ç¬¦ä¸²    </span><br><span class="line">str(obj) å¾—åˆ°objçš„å­—ç¬¦ä¸²æè¿°    </span><br><span class="line">list(seq) æŠŠä¸€ä¸ªsequenceè½¬æ¢æˆä¸€ä¸ªlist    </span><br><span class="line">tuple(seq) æŠŠä¸€ä¸ªsequenceè½¬æ¢æˆä¸€ä¸ªtuple    </span><br><span class="line">dict(),dict(list) è½¬æ¢æˆä¸€ä¸ªdictionary    </span><br><span class="line">int(x) è½¬æ¢æˆä¸€ä¸ªinteger    </span><br><span class="line">long(x) è½¬æ¢æˆä¸€ä¸ªlong interger    </span><br><span class="line">float(x) è½¬æ¢æˆä¸€ä¸ªæµ®ç‚¹æ•°    </span><br><span class="line">complex(x) è½¬æ¢æˆå¤æ•°    </span><br><span class="line">max(...) æ±‚æœ€å¤§å€¼    </span><br><span class="line">min(...) æ±‚æœ€å°å€¼</span><br></pre></td></tr></table></figure>]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[Spark ALS]]></title>
      <url>http://iequa.com/2017/05/07/Spark-ALS/</url>
      <content type="html"><![CDATA[<p><a href="http://spark.apache.org/examples.html" target="_blank" rel="external">Spark.apache.org</a><br><a href="http://blog.javachen.com/2015/06/07/spark-configuration.html" target="_blank" rel="external">Java Chen Spark</a></p>
<p>ä»¥ä¸‹ä¸ºæ‰‹åŠ¨è®¡ç®—æµç¨‹ :</p>
<h3 id="4-2-å¯åŠ¨-spark-shell"><a href="#4-2-å¯åŠ¨-spark-shell" class="headerlink" title="4.2 å¯åŠ¨ spark-shell"></a>4.2 å¯åŠ¨ spark-shell</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">SPARK_CLASSPATH=/opt/cloudera/parcels/CDH/lib/sqoop/mysql-connector-java-5.1.40.jar spark-shell</span><br></pre></td></tr></table></figure>
<h3 id="4-3-è¾“å…¥è¾“å‡º-ç›¸å…³å˜é‡"><a href="#4-3-è¾“å…¥è¾“å‡º-ç›¸å…³å˜é‡" class="headerlink" title="4.3 è¾“å…¥è¾“å‡º:ç›¸å…³å˜é‡"></a>4.3 è¾“å…¥è¾“å‡º:ç›¸å…³å˜é‡</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">val inputTable = <span class="string">"mds_user_coupon_bhv"</span></span><br><span class="line">val inputUrl = <span class="string">"jdbc:mysql://192.168.xxx.xx:3306/com_profile?user=your_name&amp;password=your_password"</span></span><br><span class="line">val outputTable = <span class="string">"mds_rs_shop_coupon_tmp"</span></span><br></pre></td></tr></table></figure>
<h3 id="4-4-æ ¸å¿ƒç¨‹åºä»£ç "><a href="#4-4-æ ¸å¿ƒç¨‹åºä»£ç " class="headerlink" title="4.4 æ ¸å¿ƒç¨‹åºä»£ç "></a>4.4 æ ¸å¿ƒç¨‹åºä»£ç </h3><figure class="highlight"><table><tr><td class="code"><pre><span class="line">package com.x.rs.service</span><br><span class="line"></span><br><span class="line">import java.text.SimpleDateFormat</span><br><span class="line">import java.util.Date</span><br><span class="line">import java.util.Properties</span><br><span class="line"></span><br><span class="line">import org.apache.spark.sql.Row</span><br><span class="line">import org.apache.spark.sql.types._</span><br><span class="line"></span><br><span class="line">import org.apache.spark.&#123;SparkConf, SparkContext&#125;</span><br><span class="line"></span><br><span class="line">import org.apache.spark.mllib.recommendation.&#123;ALS, Rating&#125;</span><br><span class="line"></span><br><span class="line">/**</span><br><span class="line">  * Date : 2017-04-20</span><br><span class="line">  * Author : Blair Chan</span><br><span class="line">  */</span><br><span class="line">object RsCouponCalc &#123;</span><br><span class="line">  def main(args: Array[String]) &#123;</span><br><span class="line"></span><br><span class="line">    println("start...")</span><br><span class="line"></span><br><span class="line">    if (args.length &lt; 3) &#123;</span><br><span class="line">      System.err.println("Usage: &lt;file&gt;")</span><br><span class="line">      System.exit(1)</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    val inputTable = args(0) // Should be some file on your system // conf = new SparkConf().setAppName(appName).setMaster("local");</span><br><span class="line">    val inputUrl = args(1)</span><br><span class="line">    val outputTable = args(2)</span><br><span class="line"></span><br><span class="line">    val conf = new SparkConf().setAppName("SparkRsOne");</span><br><span class="line">    val sc = new SparkContext(conf)</span><br><span class="line">    val sqlContext = new org.apache.spark.sql.SQLContext(sc)</span><br><span class="line"></span><br><span class="line">    //    val rawData = sc.textFile(inputFile)</span><br><span class="line">    //    val rawRatings = rawData.map(_.split("\t").take(3))</span><br><span class="line"></span><br><span class="line">    val url = inputUrl</span><br><span class="line">    val prop = new Properties()</span><br><span class="line"></span><br><span class="line">    val dfForRawData = sqlContext.read.jdbc(url, inputTable, prop)</span><br><span class="line"></span><br><span class="line">    val ratings_tmp = dfForRawData.map &#123; row =&gt; (row(1).toString().toInt, row(4).toString().toInt, row(6).toString().toDouble) &#125;</span><br><span class="line"></span><br><span class="line">    val ratings = ratings_tmp.map &#123; case (uid, couponId, rating) =&gt; Rating(uid.toInt, couponId.toInt, rating.toDouble) &#125;</span><br><span class="line"></span><br><span class="line">    val model = ALS.train(ratings, 50, 10, 0.01)</span><br><span class="line"></span><br><span class="line">    model.userFeatures.count</span><br><span class="line"></span><br><span class="line">    val K = 10</span><br><span class="line"></span><br><span class="line">    model.recommendProductsForUsers(K)</span><br><span class="line"></span><br><span class="line">    val originResultRdd1 = model.recommendProductsForUsers(K)</span><br><span class="line"></span><br><span class="line">    val curDate = new Date()</span><br><span class="line">    val createDateString = new SimpleDateFormat("yyyy-MM-dd").format(curDate)</span><br><span class="line"></span><br><span class="line">    val originResultRdd2 = originResultRdd1.map(tuple =&gt; &#123;</span><br><span class="line">      val uid = tuple._1</span><br><span class="line">      val product = tuple._2.map &#123; case Rating(user, product, score) =&gt; (product.toString, score.toString) &#125;</span><br><span class="line">      (uid, product)</span><br><span class="line">    &#125;).flatMap &#123;</span><br><span class="line">      case (uid, product) =&gt; &#123;</span><br><span class="line">        product.map &#123; case (itemId, score) =&gt; Row.apply(uid.toLong, itemId.toString, score.toDouble, createDateString.toString) &#125;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    // println(originResultRdd2.first())</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    val schema = StructType(</span><br><span class="line">      StructField("uid", LongType) ::</span><br><span class="line">        StructField("coupon_id", LongType) ::</span><br><span class="line">        StructField("score", DoubleType) ::</span><br><span class="line">        StructField("calc_date", StringType) :: Nil)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    val df = sqlContext.createDataFrame(originResultRdd2, schema)</span><br><span class="line"></span><br><span class="line">    df.insertIntoJDBC(url, outputTable, false)</span><br><span class="line">    // è®¾ç½®ä¸º trueï¼Œåˆ™ä¸º åˆ é™¤è¡¨ï¼Œç„¶åè‡ªåŠ¨åˆ›å»ºï¼Œå†æ’å…¥</span><br><span class="line"></span><br><span class="line">    println("end !")</span><br><span class="line"></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<blockquote>
<p>DF é€šè¿‡æ’å…¥ RMDB.  schema å¯ä»¥é€šè¿‡åå°„æ¥ä½¿å¾—ç¨‹åºæ‰©å±•æ€§æé«˜ã€‚</p>
</blockquote>
<p><a href="http://www.cnblogs.com/yaohaitao/articles/5681984.html" target="_blank" rel="external">spark sql internet</a></p>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[Pythonç‰¹æ®Šè¯­æ³•ï¼šfilterã€mapã€reduceã€lambda]]></title>
      <url>http://iequa.com/2017/05/01/ml-python-filter-map-reduce/</url>
      <content type="html"><![CDATA[<p>Pythonå†…ç½®äº†ä¸€äº›éå¸¸æœ‰è¶£ä½†éå¸¸æœ‰ç”¨çš„å‡½æ•°ï¼Œå……åˆ†ä½“ç°äº†Pythonçš„è¯­è¨€é­…åŠ›ï¼</p>
<h2 id="filter"><a href="#filter" class="headerlink" title="filter"></a>filter</h2><p>filter(function, sequence)ï¼šå¯¹sequenceä¸­çš„itemä¾æ¬¡æ‰§è¡Œfunction(item)ï¼Œå°†æ‰§è¡Œç»“æœä¸ºTrueçš„itemç»„æˆä¸€ä¸ªList/String/Tupleï¼ˆå–å†³äºsequenceçš„ç±»å‹ï¼‰è¿”å›ï¼š</p>
<figure class="highlight py"><table><tr><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="function"><span class="keyword">def</span> <span class="title">f</span><span class="params">(x)</span>:</span> <span class="keyword">return</span> x % <span class="number">2</span> != <span class="number">0</span> <span class="keyword">and</span> x % <span class="number">3</span> != <span class="number">0</span> </span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>filter(f, range(<span class="number">2</span>, <span class="number">25</span>)) </span><br><span class="line">[<span class="number">5</span>, <span class="number">7</span>, <span class="number">11</span>, <span class="number">13</span>, <span class="number">17</span>, <span class="number">19</span>, <span class="number">23</span>]</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="function"><span class="keyword">def</span> <span class="title">f</span><span class="params">(x)</span>:</span> <span class="keyword">return</span> x != <span class="string">'a'</span> </span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>filter(f, <span class="string">"abcdef"</span>) </span><br><span class="line"><span class="string">'bcdef'</span></span><br></pre></td></tr></table></figure>
<h2 id="map"><a href="#map" class="headerlink" title="map"></a>map</h2><p>map(function, sequence) ï¼šå¯¹sequenceä¸­çš„itemä¾æ¬¡æ‰§è¡Œfunction(item)ï¼Œè§æ‰§è¡Œç»“æœç»„æˆä¸€ä¸ªListè¿”å›ï¼š</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="function"><span class="keyword">def</span> <span class="title">cube</span><span class="params">(x)</span>:</span> <span class="keyword">return</span> x*x*x </span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>map(cube, range(<span class="number">1</span>, <span class="number">11</span>)) </span><br><span class="line">[<span class="number">1</span>, <span class="number">8</span>, <span class="number">27</span>, <span class="number">64</span>, <span class="number">125</span>, <span class="number">216</span>, <span class="number">343</span>, <span class="number">512</span>, <span class="number">729</span>, <span class="number">1000</span>]</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="function"><span class="keyword">def</span> <span class="title">cube</span><span class="params">(x)</span> :</span> <span class="keyword">return</span> x + x </span><br><span class="line"><span class="meta">... </span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>map(cube , <span class="string">"abcde"</span>) </span><br><span class="line">[<span class="string">'aa'</span>, <span class="string">'bb'</span>, <span class="string">'cc'</span>, <span class="string">'dd'</span>, <span class="string">'ee'</span>]</span><br><span class="line">å¦å¤–mapä¹Ÿæ”¯æŒå¤šä¸ªsequenceï¼Œè¿™å°±è¦æ±‚functionä¹Ÿæ”¯æŒç›¸åº”æ•°é‡çš„å‚æ•°è¾“å…¥ï¼š</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="function"><span class="keyword">def</span> <span class="title">add</span><span class="params">(x, y)</span>:</span> <span class="keyword">return</span> x+y </span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>map(add, range(<span class="number">8</span>), range(<span class="number">8</span>)) </span><br><span class="line">[<span class="number">0</span>, <span class="number">2</span>, <span class="number">4</span>, <span class="number">6</span>, <span class="number">8</span>, <span class="number">10</span>, <span class="number">12</span>, <span class="number">14</span>]</span><br></pre></td></tr></table></figure>
<h2 id="reduce"><a href="#reduce" class="headerlink" title="reduce"></a>reduce</h2><p>reduce(function, sequence, starting_value)ï¼šå¯¹sequenceä¸­çš„itemé¡ºåºè¿­ä»£è°ƒç”¨functionï¼Œå¦‚æœæœ‰starting_valueï¼Œè¿˜å¯ä»¥ä½œä¸ºåˆå§‹å€¼è°ƒç”¨ï¼Œä¾‹å¦‚å¯ä»¥ç”¨æ¥å¯¹Listæ±‚å’Œï¼š</p>
<figure class="highlight py"><table><tr><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="function"><span class="keyword">def</span> <span class="title">add</span><span class="params">(x,y)</span>:</span> <span class="keyword">return</span> x + y </span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>reduce(add, range(<span class="number">1</span>, <span class="number">11</span>)) </span><br><span class="line"><span class="number">55</span> ï¼ˆæ³¨ï¼š<span class="number">1</span>+<span class="number">2</span>+<span class="number">3</span>+<span class="number">4</span>+<span class="number">5</span>+<span class="number">6</span>+<span class="number">7</span>+<span class="number">8</span>+<span class="number">9</span>+<span class="number">10</span>ï¼‰</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>reduce(add, range(<span class="number">1</span>, <span class="number">11</span>), <span class="number">20</span>) </span><br><span class="line"><span class="number">75</span> ï¼ˆæ³¨ï¼š<span class="number">1</span>+<span class="number">2</span>+<span class="number">3</span>+<span class="number">4</span>+<span class="number">5</span>+<span class="number">6</span>+<span class="number">7</span>+<span class="number">8</span>+<span class="number">9</span>+<span class="number">10</span>+<span class="number">20</span>ï¼‰</span><br></pre></td></tr></table></figure>
<h2 id="lambda"><a href="#lambda" class="headerlink" title="lambda"></a>lambda</h2><p>lambdaï¼šè¿™æ˜¯Pythonæ”¯æŒä¸€ç§æœ‰è¶£çš„è¯­æ³•ï¼Œå®ƒå…è®¸ä½ å¿«é€Ÿå®šä¹‰å•è¡Œçš„æœ€å°å‡½æ•°ï¼Œç±»ä¼¼ä¸Cè¯­è¨€ä¸­çš„å®ï¼Œè¿™äº›å«åšlambdaçš„å‡½æ•°ï¼Œæ˜¯ä»LISPå€Ÿç”¨æ¥çš„ï¼Œå¯ä»¥ç”¨åœ¨ä»»ä½•éœ€è¦å‡½æ•°çš„åœ°æ–¹ï¼š </p>
<figure class="highlight py"><table><tr><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>g = <span class="keyword">lambda</span> x: x * <span class="number">2</span> </span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>g(<span class="number">3</span>) </span><br><span class="line"><span class="number">6</span> </span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>(<span class="keyword">lambda</span> x: x * <span class="number">2</span>)(<span class="number">3</span>) </span><br><span class="line"><span class="number">6</span></span><br></pre></td></tr></table></figure>
<p>æˆ‘ä»¬ä¹Ÿå¯ä»¥æŠŠfilter map reduce å’Œlambdaç»“åˆèµ·æ¥ç”¨ï¼Œå‡½æ•°å°±å¯ä»¥ç®€å•çš„å†™æˆä¸€è¡Œã€‚<br>ä¾‹å¦‚<br>kmpathes = filter(lambda kmpath: kmpath,<br>map(lambda kmpath: string.strip(kmpath),<br>string.split(l, â€˜:â€™)))<br>çœ‹èµ·æ¥éº»çƒ¦ï¼Œå…¶å®å°±åƒç”¨è¯­è¨€æ¥æè¿°é—®é¢˜ä¸€æ ·ï¼Œéå¸¸ä¼˜é›…ã€‚<br>å¯¹ l ä¸­çš„æ‰€æœ‰å…ƒç´ ä»¥â€™:â€™åšåˆ†å‰²ï¼Œå¾—å‡ºä¸€ä¸ªåˆ—è¡¨ã€‚å¯¹è¿™ä¸ªåˆ—è¡¨çš„æ¯ä¸€ä¸ªå…ƒç´ åšå­—ç¬¦ä¸²stripï¼Œå½¢æˆä¸€ä¸ªåˆ—è¡¨ã€‚å¯¹è¿™ä¸ªåˆ—è¡¨çš„æ¯ä¸€ä¸ªå…ƒç´ åšç›´æ¥è¿”å›æ“ä½œ(è¿™ä¸ªåœ°æ–¹å¯ä»¥åŠ ä¸Šè¿‡æ»¤æ¡ä»¶é™åˆ¶)ï¼Œæœ€ç»ˆè·å¾—ä¸€ä¸ªå­—ç¬¦ä¸²è¢«â€™:â€™åˆ†å‰²çš„åˆ—è¡¨ï¼Œåˆ—è¡¨ä¸­çš„æ¯ä¸€ä¸ªå­—ç¬¦ä¸²éƒ½åšäº†stripï¼Œå¹¶å¯ä»¥å¯¹ç‰¹æ®Šå­—ç¬¦ä¸²è¿‡æ»¤ã€‚</p>
<p>[è½¬] <a href="http://hi.baidu.com/black/item/307001d18715fc322a35c747" target="_blank" rel="external">http://hi.baidu.com/black/item/307001d18715fc322a35c747</a></p>
<hr>
<p>lambdaè¡¨è¾¾å¼è¿”å›ä¸€ä¸ªå‡½æ•°å¯¹è±¡<br>ä¾‹å­ï¼š<br>func = lambda x,y:x+y<br>funcç›¸å½“äºä¸‹é¢è¿™ä¸ªå‡½æ•°<br>def func(x,y):<br>    return x+y</p>
<p>æ³¨æ„defæ˜¯è¯­å¥è€Œlambdaæ˜¯è¡¨è¾¾å¼<br>ä¸‹é¢è¿™ç§æƒ…å†µä¸‹å°±åªèƒ½ç”¨lambdaè€Œä¸èƒ½ç”¨def<br>[(lambda x:x*x)(x) for x in range(1,11)]</p>
<p>mapï¼Œreduceï¼Œfilterä¸­çš„functionéƒ½å¯ä»¥ç”¨lambdaè¡¨è¾¾å¼æ¥ç”Ÿæˆï¼</p>
<p>map(function,sequence)<br>æŠŠsequenceä¸­çš„å€¼å½“å‚æ•°é€ä¸ªä¼ ç»™functionï¼Œè¿”å›ä¸€ä¸ªåŒ…å«å‡½æ•°æ‰§è¡Œç»“æœçš„listã€‚<br>å¦‚æœfunctionæœ‰ä¸¤ä¸ªå‚æ•°ï¼Œå³map(function,sequence1,sequence2)ã€‚</p>
<p>ä¾‹å­ï¼š<br>æ±‚1<em>1,2</em>2,3<em>3,4</em>4<br>map(lambda x:x*x,range(1,5))<br>è¿”å›å€¼æ˜¯[1,4,9,16]</p>
<p>reduce(function,sequence)<br>functionæ¥æ”¶çš„å‚æ•°ä¸ªæ•°åªèƒ½ä¸º2<br>å…ˆæŠŠsequenceä¸­ç¬¬ä¸€ä¸ªå€¼å’Œç¬¬äºŒä¸ªå€¼å½“å‚æ•°ä¼ ç»™functionï¼Œå†æŠŠfunctionçš„è¿”å›å€¼å’Œç¬¬ä¸‰ä¸ªå€¼å½“å‚æ•°ä¼ ç»™<br>functionï¼Œç„¶ååªè¿”å›ä¸€ä¸ªç»“æœã€‚</p>
<p>ä¾‹å­ï¼š<br>æ±‚1åˆ°10çš„ç´¯åŠ <br>reduce(lambda x,y:x+y,range(1,11))<br>è¿”å›å€¼æ˜¯55ã€‚</p>
<p>filter(function,sequence)<br>functionçš„è¿”å›å€¼åªèƒ½æ˜¯Trueæˆ–False<br>æŠŠsequenceä¸­çš„å€¼é€ä¸ªå½“å‚æ•°ä¼ ç»™functionï¼Œå¦‚æœfunction(x)çš„è¿”å›å€¼æ˜¯Trueï¼Œå°±æŠŠxåŠ åˆ°filterçš„è¿”å›å€¼é‡Œé¢ã€‚ä¸€èˆ¬æ¥è¯´filterçš„è¿”å›å€¼æ˜¯listï¼Œç‰¹æ®Šæƒ…å†µå¦‚sequenceæ˜¯stringæˆ–tupleï¼Œåˆ™è¿”å›å€¼æŒ‰ç…§sequenceçš„ç±»å‹ã€‚</p>
<p>ä¾‹å­ï¼š<br>æ‰¾å‡º1åˆ°10ä¹‹é—´çš„å¥‡æ•°<br>filter(lambda x:x%2!=0,range(1,11))<br>è¿”å›å€¼<br>[1,3,5,7,9]</p>
<p>å¦‚æœsequenceæ˜¯ä¸€ä¸ªstring<br>filter(lambda x:len(x)!=0,â€™helloâ€™)è¿”å›â€™helloâ€™<br>filter(lambda x:len(x)==0,â€™helloâ€™)è¿”å›â€™â€™</p>
<p>[è½¬] <a href="http://blog.csdn.net/myzhan/article/details/7269471" target="_blank" rel="external">http://blog.csdn.net/myzhan/article/details/7269471</a></p>
<p>åˆ†ç±»: Functional Programming</p>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[Sparkä¹‹è·¯â€”Spark SQLç¼–ç¨‹]]></title>
      <url>http://iequa.com/2017/04/28/spark-SQL/</url>
      <content type="html"><![CDATA[<p>Spark SQLï¼Œå¯å¯¹ä¸åŒæ ¼å¼çš„æ•°æ®æ‰§è¡ŒETLæ“ä½œï¼ˆå¦‚JSONï¼ŒParquetï¼Œæ•°æ®åº“ï¼‰ç„¶åå®Œæˆç‰¹å®šçš„æŸ¥è¯¢æ“ä½œã€‚</p>
<ul>
<li>DataFrame</li>
<li>Data Sources</li>
<li>JDBC Server</li>
</ul>
<p>ä½¿ç”¨Spark SQLæ—¶ï¼Œæœ€ä¸»è¦çš„ä¸¤ä¸ªç»„ä»¶å°±æ˜¯ <strong>DataFrame</strong> å’Œ <strong>SQLContext</strong>ã€‚</p>
<h2 id="1-DataFrame"><a href="#1-DataFrame" class="headerlink" title="1. DataFrame"></a>1. DataFrame</h2><p>DataFrame æ˜¯ä¸€ä¸ªåˆ†å¸ƒå¼çš„ï¼ŒæŒ‰ç…§å‘½ååˆ—çš„å½¢å¼ç»„ç»‡çš„æ•°æ®é›†åˆã€‚DataFrameåŸºäºRè¯­è¨€ä¸­çš„dataframeæ¦‚å¿µï¼Œä¸å…³ç³»å‹æ•°æ®åº“ä¸­çš„æ•°æ®åº“è¡¨ç±»ä¼¼ã€‚</p>
<blockquote>
<p>ä¹‹å‰ç‰ˆæœ¬çš„Spark SQL APIä¸­çš„SchemaRDDå·²ç»æ›´åä¸ºDataFrame</p>
</blockquote>
<p>è°ƒç”¨å°†DataFrameçš„å†…å®¹ä½œä¸ºè¡ŒRDDï¼ˆRDD of Rowsï¼‰è¿”å›çš„<a href="https://spark.apache.org/docs/1.3.0/api/scala/index.html#org.apache.spark.sql.DataFrame" target="_blank" rel="external">rddæ–¹æ³•</a>ï¼Œå¯ä»¥å°†DataFrameè½¬æ¢æˆRDDã€‚</p>
<p><strong>åˆ›å»º DataFrame</strong></p>
<p>å¯ä»¥é€šè¿‡å¦‚ä¸‹ <font color="#c7254e">æ•°æ®æºåˆ›å»º DataFrame</font> : </p>
<ul>
<li>å·²æœ‰çš„RDD</li>
<li>ç»“æ„åŒ–æ•°æ®æ–‡ä»¶</li>
<li>JSONæ•°æ®é›†</li>
<li>Hiveè¡¨</li>
<li>å¤–éƒ¨æ•°æ®åº“</li>
</ul>
<p><strong>DataFrame API</strong></p>
<p>Spark SQLå’ŒDataFrame APIå·²ç»åœ¨ä¸‹è¿°å‡ ç§ç¨‹åºè®¾è®¡è¯­è¨€ä¸­å®ç°ï¼š</p>
<ul>
<li><a href="https://spark.apache.org/docs/1.3.0/api/scala/index.html#org.apache.spark.sql.package" target="_blank" rel="external">Scala DataFrame API</a></li>
<li><a href="https://spark.apache.org/docs/1.3.0/api/java/index.html?org/apache/spark/sql/api/java/package-summary.html" target="_blank" rel="external">Java DataFrame API</a></li>
<li><a href="https://spark.apache.org/docs/1.3.0/api/python/pyspark.sql.html" target="_blank" rel="external">Python DataFrame API</a></li>
</ul>
<h2 id="2-SQLContext"><a href="#2-SQLContext" class="headerlink" title="2. SQLContext"></a>2. SQLContext</h2><p>SQLContextå°è£…Sparkä¸­çš„æ‰€æœ‰å…³ç³»å‹åŠŸèƒ½ã€‚å¯ä»¥ç”¨ä¹‹å‰çš„ç¤ºä¾‹ä¸­çš„ç°æœ‰SparkContextåˆ›å»ºSQLContextã€‚</p>
<figure class="highlight scala"><table><tr><td class="code"><pre><span class="line"><span class="keyword">val</span> sqlContext = <span class="keyword">new</span> org.apache.spark.sql.<span class="type">SQLContext</span>(sc)</span><br></pre></td></tr></table></figure>
<blockquote>
<p><a href="http://spark.apache.org/docs/latest/api/scala/index.html#org.apache.spark.sql.SQLContext" target="_blank" rel="external">SQLContext</a><br><a href="https://spark.apache.org/docs/1.3.0/api/scala/index.html#org.apache.spark.sql.hive.HiveContext" target="_blank" rel="external">HiveContext</a></p>
</blockquote>
<h2 id="3-JDBCæ•°æ®æº"><a href="#3-JDBCæ•°æ®æº" class="headerlink" title="3. JDBCæ•°æ®æº"></a>3. JDBCæ•°æ®æº</h2><p>JDBC æ•°æ®æº å¯ç”¨äºé€šè¿‡JDBC APIè¯»å–å…³ç³»å‹æ•°æ®åº“ä¸­çš„æ•°æ®ã€‚ç›¸æ¯”äºä½¿ç”¨JdbcRDDï¼Œåº”è¯¥å°†JDBCæ•°æ®æºçš„æ–¹å¼ä½œä¸ºé¦–é€‰ï¼Œå› ä¸ºJDBCæ•°æ®æºèƒ½å¤Ÿå°†ç»“æœä½œä¸ºDataFrameå¯¹è±¡è¿”å›ï¼Œç›´æ¥ç”¨Spark SQLå¤„ç†æˆ–ä¸å…¶ä»–æ•°æ®æºè¿æ¥ã€‚</p>
<p>ä¸ºç¡®ä¿Spark Shellç¨‹åºæœ‰è¶³å¤Ÿçš„å†…å­˜ï¼Œå¯ä»¥åœ¨è¿è¡Œspark-shellå‘½ä»¤æ—¶ï¼ŒåŠ å…¥driver-memoryå‘½ä»¤è¡Œå‚æ•°ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">spark-shell.cmd --driver-memory 1G</span><br></pre></td></tr></table></figure>
<h2 id="Ref"><a href="#Ref" class="headerlink" title="Ref"></a>Ref</h2><p><a href="http://www.infoq.com/cn/articles/apache-spark-sql" target="_blank" rel="external">ç”¨Apache Sparkè¿›è¡Œå¤§æ•°æ®å¤„ç†â€”â€”ç¬¬äºŒéƒ¨åˆ†ï¼šSpark SQL</a></p>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[Spark Read Mysql çš„å››ç§æ–¹å¼ (not finish)]]></title>
      <url>http://iequa.com/2017/04/20/spark-read-mysql-four-functions/</url>
      <content type="html"><![CDATA[<p>ç›®å‰ <code>Spark</code> æ”¯æŒå››ç§æ–¹å¼ä»æ•°æ®åº“ä¸­è¯»å–æ•°æ®ï¼Œè¿™é‡Œä»¥ <code>MySQL</code> ä¸ºä¾‹è¿›è¡Œä»‹ç»ã€‚</p>
<h2 id="Startup-spark-shell"><a href="#Startup-spark-shell" class="headerlink" title="Startup spark-shell"></a>Startup spark-shell</h2><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">SPARK_CLASSPATH=/opt/cloudera/parcels/CDH/lib/sqoop/mysql-connector-java-5.1.40.jar spark-shell</span><br></pre></td></tr></table></figure>
<h2 id="1-ä¸æŒ‡å®šæŸ¥è¯¢æ¡ä»¶"><a href="#1-ä¸æŒ‡å®šæŸ¥è¯¢æ¡ä»¶" class="headerlink" title="1. ä¸æŒ‡å®šæŸ¥è¯¢æ¡ä»¶"></a>1. ä¸æŒ‡å®šæŸ¥è¯¢æ¡ä»¶</h2><h3 id="1-1-function-define"><a href="#1-1-function-define" class="headerlink" title="1.1 function define"></a>1.1 function define</h3><figure class="highlight scala"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">jdbc</span></span>(url: <span class="type">String</span>, table: <span class="type">String</span>, properties: <span class="type">Properties</span>): <span class="type">DataFrame</span></span><br></pre></td></tr></table></figure>
<h3 id="1-2-detail-example"><a href="#1-2-detail-example" class="headerlink" title="1.2 detail example"></a>1.2 detail example</h3><figure class="highlight scala"><table><tr><td class="code"><pre><span class="line"><span class="keyword">val</span> url = <span class="string">"jdbc:mysql://192.168.***.**:3306/your_lib_name?user= your_username&amp;password=your_password"</span></span><br><span class="line"><span class="keyword">import</span> java.util.<span class="type">Properties</span></span><br><span class="line"><span class="keyword">val</span> prop = <span class="keyword">new</span> <span class="type">Properties</span>()</span><br><span class="line"><span class="keyword">val</span> df = sqlContext.read.jdbc(url, <span class="string">"mds_user_coupon_bhv"</span>, prop )</span><br><span class="line">println(df.count())</span><br><span class="line">println(df.rdd.partitions.size)</span><br></pre></td></tr></table></figure>
<p>æˆ‘ä»¬è¿è¡Œä¸Šé¢çš„ç¨‹åºï¼Œå¯ä»¥çœ‹åˆ°df.rdd.partitions.sizeè¾“å‡ºç»“æœæ˜¯1ï¼Œè¿™ä¸ªç»“æœçš„å«ä¹‰æ˜¯iteblogè¡¨çš„æ‰€æœ‰æ•°æ®éƒ½æ˜¯ç”±RDDçš„ä¸€ä¸ªåˆ†åŒºå¤„ç†çš„ï¼Œæ‰€ä»¥è¯´ï¼Œå¦‚æœä½ è¿™ä¸ªè¡¨å¾ˆå¤§ï¼Œå¾ˆå¯èƒ½ä¼šå‡ºç°OOM</p>
<blockquote>
<p>Note : è¿™ç§æ–¹å¼åœ¨æ•°æ®é‡å¤§çš„æ—¶å€™ä¸å»ºè®®ä½¿ç”¨ã€‚</p>
</blockquote>
<h2 id="2-æŒ‡å®šæ•°æ®åº“å­—æ®µçš„èŒƒå›´"><a href="#2-æŒ‡å®šæ•°æ®åº“å­—æ®µçš„èŒƒå›´" class="headerlink" title="2. æŒ‡å®šæ•°æ®åº“å­—æ®µçš„èŒƒå›´"></a>2. æŒ‡å®šæ•°æ®åº“å­—æ®µçš„èŒƒå›´</h2><p>è¿™ç§æ–¹å¼å°±æ˜¯é€šè¿‡æŒ‡å®šæ•°æ®åº“ä¸­æŸä¸ªå­—æ®µçš„èŒƒå›´ï¼Œä½†æ˜¯<code>è¿™ä¸ªå­—æ®µå¿…é¡»æ˜¯æ•°å­—</code>ï¼Œæ¥çœ‹çœ‹è¿™ä¸ªå‡½æ•°çš„å‡½æ•°åŸå‹ï¼š</p>
<figure class="highlight scala"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">jdbc</span></span>(</span><br><span class="line">    url: <span class="type">String</span>,</span><br><span class="line">    table: <span class="type">String</span>,</span><br><span class="line">    columnName: <span class="type">String</span>,</span><br><span class="line">    lowerBound: <span class="type">Long</span>,</span><br><span class="line">    upperBound: <span class="type">Long</span>,</span><br><span class="line">    numPartitions: <span class="type">Int</span>,</span><br><span class="line">    connectionProperties: <span class="type">Properties</span>): <span class="type">DataFrame</span></span><br></pre></td></tr></table></figure>
<p>â€¦ not finish</p>
<h2 id="3-æ ¹æ®ä»»æ„å­—æ®µè¿›è¡Œåˆ†åŒº"><a href="#3-æ ¹æ®ä»»æ„å­—æ®µè¿›è¡Œåˆ†åŒº" class="headerlink" title="3. æ ¹æ®ä»»æ„å­—æ®µè¿›è¡Œåˆ†åŒº"></a>3. æ ¹æ®ä»»æ„å­—æ®µè¿›è¡Œåˆ†åŒº</h2><p>â€¦ not finish</p>
<h2 id="4-é€šè¿‡-load-è·å–"><a href="#4-é€šè¿‡-load-è·å–" class="headerlink" title="4. é€šè¿‡ load è·å–"></a>4. é€šè¿‡ load è·å–</h2><figure class="highlight scala"><table><tr><td class="code"><pre><span class="line"><span class="keyword">val</span> df = sqlContext.load(<span class="string">"jdbc"</span>, <span class="type">Map</span>(<span class="string">"url"</span> -&gt; <span class="string">"jdbc:mysql://..."</span>, </span><br><span class="line">              <span class="string">"dbtable"</span> -&gt; <span class="string">"mds_user_coupon_bhv"</span>)</span><br><span class="line">         )</span><br></pre></td></tr></table></figure>
<p>æ¢ä¸€ç§æ›´æ­£å¼çš„å†™æ³•å¦‚ä¸‹ :</p>
<figure class="highlight scala"><table><tr><td class="code"><pre><span class="line"><span class="keyword">val</span> df = sqlContext.read.format(<span class="string">"jdbc"</span>).options(<span class="type">Map</span>(</span><br><span class="line">      <span class="string">"url"</span> -&gt; <span class="string">"jdbc:mysql://192.168.***.**:3306/your_lib_name?user= your_username&amp;password=your_password"</span>,</span><br><span class="line">      <span class="string">"dbtable"</span> -&gt; <span class="string">"mds_user_coupon_bhv"</span>)</span><br><span class="line">   ).load()</span><br></pre></td></tr></table></figure>
<p>optionså‡½æ•°æ”¯æŒurlã€driverã€dbtableã€partitionColumnã€lowerBoundã€upperBoundä»¥åŠnumPartitionsé€‰é¡¹ï¼Œè¿™ä¸ªå’Œæ–¹æ³•äºŒçš„å‚æ•°ä¸€è‡´ã€‚å…¶å†…éƒ¨å®ç°åŸç†éƒ¨åˆ†å’Œæ–¹æ³•äºŒå¤§ä½“ä¸€è‡´ã€‚åŒæ—¶loadæ–¹æ³•è¿˜æ”¯æŒjsonã€orcç­‰æ•°æ®æºçš„è¯»å–ã€‚</p>
<blockquote>
<p>Reading notes</p>
</blockquote>
<h2 id="5-Ref"><a href="#5-Ref" class="headerlink" title="5. Ref"></a>5. Ref</h2><blockquote>
<p>å°Šé‡åŸåˆ›ï¼Œè½¬è½½è¯·æ³¨æ˜ï¼š è½¬è½½è‡ªè¿‡å¾€è®°å¿†ï¼ˆ<a href="http://www.iteblog.com/ï¼‰" target="_blank" rel="external">http://www.iteblog.com/ï¼‰</a> </p>
</blockquote>
<p><a href="http://blog.csdn.net/mlljava1111/article/details/50432569" target="_blank" rel="external">Spark Read Mysql-csdn</a></p>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[NodeJs Learning]]></title>
      <url>http://iequa.com/2017/03/30/frontend-nodejs/</url>
      <content type="html"><![CDATA[<blockquote>
<p>Node.js å°±æ˜¯è¿è¡Œåœ¨æœåŠ¡ç«¯çš„ JavaScriptã€‚<br>Node.js æ˜¯ä¸€ä¸ªåŸºäºChrome JavaScript è¿è¡Œæ—¶å»ºç«‹çš„ä¸€ä¸ªå¹³å°ã€‚<br>Node.js æ˜¯ä¸€ä¸ªäº‹ä»¶é©±åŠ¨ I/OæœåŠ¡ç«¯ JavaScriptç¯å¢ƒï¼ŒåŸºäºGoogleçš„V8å¼•æ“ï¼ŒV8å¼•æ“æ‰§è¡ŒJavascriptçš„éå¸¸å¿«ã€‚</p>
</blockquote>
<h2 id="1-Hello-nodejs"><a href="#1-Hello-nodejs" class="headerlink" title="1. Hello nodejs"></a>1. Hello nodejs</h2><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">âœ  nodejs git:(master) âœ— node -v</span><br><span class="line">v4.4.0</span><br><span class="line">âœ  nodejs git:(master) âœ— cat helloworld.js</span><br><span class="line">console.log(<span class="string">"Hello World"</span>);</span><br><span class="line">âœ  nodejs git:(master) âœ— node helloworld.js</span><br><span class="line">Hello World</span><br></pre></td></tr></table></figure>
<h2 id="2-Install-nodejs"><a href="#2-Install-nodejs" class="headerlink" title="2. Install nodejs"></a>2. Install nodejs</h2><p>â€¦</p>
<h2 id="3-First-app-nodejs"><a href="#3-First-app-nodejs" class="headerlink" title="3. First app @nodejs"></a>3. First app @nodejs</h2><p>ä½¿ç”¨ Node.js æ—¶ï¼Œæˆ‘ä»¬ä¸ä»…ä»… åœ¨å®ç°ä¸€ä¸ªåº”ç”¨ï¼ŒåŒæ—¶è¿˜å®ç°äº†æ•´ä¸ª HTTP æœåŠ¡å™¨ã€‚äº‹å®ä¸Šï¼Œæˆ‘ä»¬çš„ Web åº”ç”¨ä»¥åŠå¯¹åº”çš„ Web æœåŠ¡å™¨åŸºæœ¬ä¸Šæ˜¯ä¸€æ ·çš„ã€‚</p>
<h3 id="3-1-nodejs-app-ç»„æˆ"><a href="#3-1-nodejs-app-ç»„æˆ" class="headerlink" title="3.1 nodejs app ç»„æˆ"></a>3.1 nodejs app ç»„æˆ</h3><p>Node.js åº”ç”¨æ˜¯ç”±å“ªå‡ éƒ¨åˆ†ç»„æˆçš„ï¼š</p>
<ol>
<li>å¼•å…¥ required æ¨¡å—ï¼šæˆ‘ä»¬å¯ä»¥ä½¿ç”¨ require æŒ‡ä»¤æ¥è½½å…¥ Node.js æ¨¡å—ã€‚</li>
<li>åˆ›å»ºæœåŠ¡å™¨ï¼šæœåŠ¡å™¨å¯ä»¥ç›‘å¬å®¢æˆ·ç«¯çš„è¯·æ±‚ï¼Œç±»ä¼¼äº Apache ã€Nginx ç­‰ HTTP æœåŠ¡å™¨ã€‚</li>
<li>æ¥æ”¶è¯·æ±‚ä¸å“åº”è¯·æ±‚ æœåŠ¡å™¨å¾ˆå®¹æ˜“åˆ›å»ºï¼Œå®¢æˆ·ç«¯å¯ä»¥ä½¿ç”¨æµè§ˆå™¨æˆ–ç»ˆç«¯å‘é€ HTTP è¯·æ±‚ï¼ŒæœåŠ¡å™¨æ¥æ”¶è¯·æ±‚åè¿”å›å“åº”æ•°æ®ã€‚</li>
</ol>
<h3 id="3-2-åˆ›å»º-nodejs-app"><a href="#3-2-åˆ›å»º-nodejs-app" class="headerlink" title="3.2 åˆ›å»º nodejs app"></a>3.2 åˆ›å»º nodejs app</h3><p>server.js</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">// æˆ‘ä»¬ä½¿ç”¨ require æŒ‡ä»¤æ¥è½½å…¥ http æ¨¡å—ï¼Œå¹¶å°†å®ä¾‹åŒ–çš„ HTTP èµ‹å€¼ç»™å˜é‡ httpï¼Œå®ä¾‹å¦‚ä¸‹:</span><br><span class="line">var http = require(<span class="string">'http'</span>);</span><br><span class="line"></span><br><span class="line">// ä½¿ç”¨ http.createServer() æ–¹æ³•åˆ›å»ºæœåŠ¡å™¨ï¼Œå¹¶ä½¿ç”¨ listen æ–¹æ³•ç»‘å®š 8888 ç«¯å£ã€‚ å‡½æ•°é€šè¿‡ request, response å‚æ•°æ¥æ¥æ”¶å’Œå“åº”æ•°æ®ã€‚</span><br><span class="line">http.createServer(<span class="keyword">function</span> (request, response) &#123;</span><br><span class="line"></span><br><span class="line">        // å‘é€ HTTP å¤´éƒ¨</span><br><span class="line">        // HTTP çŠ¶æ€å€¼: 200 : OK</span><br><span class="line">        // å†…å®¹ç±»å‹: text/plain</span><br><span class="line">        response.writeHead(200, &#123;<span class="string">'Content-Type'</span>: <span class="string">'text/plain'</span>&#125;);</span><br><span class="line"></span><br><span class="line">        // å‘é€å“åº”æ•°æ® <span class="string">"Hello World"</span></span><br><span class="line">        response.end(<span class="string">'Hello World\n'</span>);</span><br><span class="line">        &#125;).listen(8889);</span><br><span class="line"></span><br><span class="line">// ç»ˆç«¯æ‰“å°å¦‚ä¸‹ä¿¡æ¯</span><br><span class="line">console.log(<span class="string">'Server running at http://127.0.0.1:8888/'</span>);</span><br></pre></td></tr></table></figure>
<p>run it</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">node server.js</span><br></pre></td></tr></table></figure>
<h2 id="4-NPM-ä½¿ç”¨ä»‹ç»"><a href="#4-NPM-ä½¿ç”¨ä»‹ç»" class="headerlink" title="4. NPM ä½¿ç”¨ä»‹ç»"></a>4. NPM ä½¿ç”¨ä»‹ç»</h2><p>NPM æ˜¯ éšåŒ NodeJS ä¸€èµ·å®‰è£…çš„åŒ…ç®¡ç†å·¥å…·ï¼Œèƒ½è§£å†³NodeJSä»£ç éƒ¨ç½²ä¸Šçš„å¾ˆå¤šé—®é¢˜</p>
<ol>
<li>å…è®¸ç”¨æˆ· ä» NPMæœåŠ¡å™¨ä¸‹è½½åˆ«äººç¼–å†™çš„ <code>ç¬¬ä¸‰æ–¹åŒ…</code> åˆ°æœ¬åœ°ä½¿ç”¨ã€‚</li>
<li>å…è®¸ç”¨æˆ· ä» NPMæœåŠ¡å™¨ä¸‹è½½å¹¶å®‰è£…åˆ«äºº <code>ç¼–å†™çš„å‘½ä»¤è¡Œç¨‹åº</code> åˆ°æœ¬åœ°ä½¿ç”¨ã€‚</li>
<li>å…è®¸ç”¨æˆ· å°† è‡ªå·±ç¼–å†™çš„åŒ…æˆ–å‘½ä»¤è¡Œç¨‹åº <code>ä¸Šä¼ åˆ°NPMæœåŠ¡å™¨</code> ä¾›åˆ«äººä½¿ç”¨ã€‚</li>
</ol>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">âœ  firstWebApp git:(master) âœ— npm -v</span><br><span class="line">2.14.20</span><br></pre></td></tr></table></figure>
<p>å‡çº§ npm</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">sudo npm install npm -g</span><br></pre></td></tr></table></figure>
<p>å®‰è£…æ¨¡å—</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ npm install &lt;Module Name&gt;</span><br><span class="line">$ npm install express</span><br><span class="line">$ npm uninstall express</span><br><span class="line">$ npm ls</span><br><span class="line">$ npm update express</span><br><span class="line">$ npm search express</span><br><span class="line">npm <span class="built_in">help</span> &lt;<span class="built_in">command</span>&gt; ä¾‹å¦‚ : npm <span class="built_in">help</span> installã€‚</span><br></pre></td></tr></table></figure>
<p>å®‰è£…å¥½ä¹‹åï¼Œexpress åŒ…å°±æ”¾åœ¨äº†å·¥ç¨‹ç›®å½•ä¸‹çš„ node_modules ç›®å½•ä¸­ï¼Œå› æ­¤åœ¨ä»£ç ä¸­åªéœ€è¦é€šè¿‡ require(â€˜expressâ€™) çš„æ–¹å¼å°±å¥½ï¼Œæ— éœ€æŒ‡å®šç¬¬ä¸‰æ–¹åŒ…è·¯å¾„ã€‚</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">var express = require(&apos;express&apos;);</span><br></pre></td></tr></table></figure>
<p><a href="http://www.runoob.com/nodejs/nodejs-npm.html" target="_blank" rel="external">more-info_runoob</a></p>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[Recommendation System - éšè¯­ä¹‰æ¨¡å‹]]></title>
      <url>http://iequa.com/2017/03/24/rs-six-mouth-ALS/</url>
      <content type="html"><![CDATA[<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js"],
    jax: ["input/TeX"],
    tex2jax: {
      inlineMath: [ ['$','$'], ['\\(','\\)'] ],
      displayMath: [ ['$$','$$']],
      processEscapes: true
    }
  });
</script>
<script type="text/javascript" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS_HTML,http://myserver.com/MathJax/config/local/local.js">
</script>

<blockquote>
<p>éšè¯­ä¹‰æ¨¡å‹</p>
<p>ä¸€ä¸ª Userè¯„åˆ†çŸ©é˜µï¼Œä½†æœ‰äº›ä½ç½®æ˜¯ç©ºç€çš„ã€‚(æ²¡æ‰“åˆ†)<br>æˆ‘ä»¬è¦åšçš„äº‹æƒ…æ˜¯ï¼Œå°½é‡å¡«æ»¡æœªæ‰“åˆ†é¡¹</p>
<p>alternating least squares</p>
</blockquote>
<h2 id="1-Main-Idea"><a href="#1-Main-Idea" class="headerlink" title="1. Main Idea"></a>1. Main Idea</h2><p>åº”è¯¥æœ‰ä¸€äº›éšè—çš„å› ç´ ï¼Œå½±å“ç”¨æˆ·æ‰“åˆ† :</p>
<ol>
<li><code>Movie</code> : æ¼”å‘˜ã€é¢˜æã€ä¸»é¢˜ã€å¹´ä»£ â€¦</li>
<li>ä¸ä¸€å®šæ˜¯ äºº ç›´æ¥å¯ç†è§£çš„éšè—å› å­</li>
<li>æ‰¾åˆ°éšè—å› å­ï¼Œå¯ä»¥å¯¹ user å’Œ item è¿›è¡Œå…³è”</li>
</ol>
<h2 id="2-çŸ©é˜µåˆ†è§£"><a href="#2-çŸ©é˜µåˆ†è§£" class="headerlink" title="2. çŸ©é˜µåˆ†è§£"></a>2. çŸ©é˜µåˆ†è§£</h2><p><img src="/images/ml/rs-six-month-06.png" alt="Latent semantic model"></p>
<p><img src="/images/ml/rs-six-month-07.png" alt="Latent semantic model"></p>
<blockquote>
<p>æ€»ç»“: CF ç®€å•ç›´æ¥å¯è§£é‡Šæ€§å¼ºï¼Œä½† <code>éšè¯­ä¹‰æ¨¡å‹èƒ½æ›´å¥½åœ°æŒ–æ˜ User å’Œ Item å…³è”çš„ éšè—å› å­</code>ã€‚<br>SVD æ—¶é—´å¤æ‚åº¦å¤ªé«˜ï¼Œå¿…é¡»è¡¥å……ç¼ºå¤±çš„å€¼ (ä¸Šå›¾æ•°æ®ä¸å‡†ç¡®ï¼Œåˆ«åœ¨æ„ç»†èŠ‚)</p>
</blockquote>
<table>
<thead>
<tr>
<th>-</th>
<th>D1</th>
<th>D2</th>
<th>D3</th>
<th>D4</th>
</tr>
</thead>
<tbody>
<tr>
<td>U1</td>
<td>5</td>
<td>3</td>
<td>-</td>
<td>1</td>
</tr>
<tr>
<td>U2</td>
<td>4</td>
<td>-</td>
<td>-</td>
<td>1</td>
</tr>
<tr>
<td>U3</td>
<td>1</td>
<td>1</td>
<td>-</td>
<td>5</td>
</tr>
<tr>
<td>U4</td>
<td>1</td>
<td>-</td>
<td>-</td>
<td>4</td>
</tr>
<tr>
<td>U5</td>
<td>-</td>
<td>1</td>
<td>5</td>
<td>4</td>
</tr>
</tbody>
</table>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[New Mac Install Soft]]></title>
      <url>http://iequa.com/2017/03/22/ops-new-macosx-install-soft/</url>
      <content type="html"><![CDATA[<h2 id="1-install-homebrew"><a href="#1-install-homebrew" class="headerlink" title="1. install homebrew"></a>1. install homebrew</h2><p>Mac ä¸‹é¢çš„åŒ…ç®¡ç†å·¥å…·ï¼Œé€šè¿‡ Github æ‰˜ç®¡é€‚åˆ Mac çš„ç¼–è¯‘é…ç½®ä»¥åŠ Patchï¼Œå¯ä»¥æ–¹ä¾¿çš„å®‰è£…å¼€å‘å·¥å…·ã€‚</p>
<p>Mac è‡ªå¸¦ruby æ‰€ä»¥å®‰è£…èµ·æ¥å¾ˆæ–¹ä¾¿ï¼ŒåŒæ—¶å®ƒä¹Ÿä¼šè‡ªåŠ¨æŠŠgitä¹Ÿç»™ä½ è£…ä¸Šã€‚</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">ruby <span class="_">-e</span> <span class="string">"<span class="variable">$(curl -fsSL https://raw.github.com/mxcl/homebrew/go/install)</span>"</span></span><br></pre></td></tr></table></figure>
<blockquote>
<p>å®‰è£…è¿‡ç¨‹å¯èƒ½ä¼šæœ‰ç‚¹æ…¢ï¼Œå®Œæˆä¹‹åï¼Œå»ºè®®æ‰§è¡Œä¸€ä¸‹è‡ªæ£€ï¼Œbrew doctor<br>çœ‹åˆ°<br>Your system is ready to brew.<br>é‚£ä¹ˆæ­å–œä½ çš„ brew å·²ç»å¯ä»¥å¼€å§‹ä½¿ç”¨äº†ã€‚</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">brew install wget tree</span><br></pre></td></tr></table></figure>
<hr>
<p>brew å¸¸ç”¨å‘½ä»¤ï¼š ï¼ˆæ‰€æœ‰è½¯ä»¶ä»¥PHP5.5ä¸ºä¾‹å­ï¼‰</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">brew update                        <span class="comment">#æ›´æ–°brewå¯å®‰è£…åŒ…ï¼Œå»ºè®®æ¯æ¬¡æ‰§è¡Œä¸€ä¸‹</span></span><br><span class="line">brew search php55                  <span class="comment">#æœç´¢php5.5</span></span><br><span class="line">brew tap josegonzalez/php          <span class="comment">#å®‰è£…æ‰©å±•&lt;gihhub_user/repo&gt; </span></span><br><span class="line">brew tap                          <span class="comment">#æŸ¥çœ‹å®‰è£…çš„æ‰©å±•åˆ—è¡¨</span></span><br><span class="line">brew install php55                <span class="comment">#å®‰è£…php5.5</span></span><br><span class="line">brew remove  php55                <span class="comment">#å¸è½½php5.5</span></span><br><span class="line">brew upgrade php55                <span class="comment">#å‡çº§php5.5</span></span><br><span class="line">brew options php55                <span class="comment">#æŸ¥çœ‹php5.5å®‰è£…é€‰é¡¹</span></span><br><span class="line">brew info    php55                <span class="comment">#æŸ¥çœ‹php5.5ç›¸å…³ä¿¡æ¯</span></span><br><span class="line">brew home    php55                <span class="comment">#è®¿é—®php5.5å®˜æ–¹ç½‘ç«™</span></span><br><span class="line">brew services list                <span class="comment">#æŸ¥çœ‹ç³»ç»Ÿé€šè¿‡ brew å®‰è£…çš„æœåŠ¡</span></span><br><span class="line">brew services cleanup              <span class="comment">#æ¸…é™¤å·²å¸è½½æ— ç”¨çš„å¯åŠ¨é…ç½®æ–‡ä»¶</span></span><br><span class="line">brew services restart php55        <span class="comment">#é‡å¯php-fpm</span></span><br><span class="line"> </span><br><span class="line">æ³¨æ„ï¼šbrew services ç›¸å…³å‘½ä»¤æœ€å¥½åˆ«ç»å¸¸ç”¨äº†ï¼Œæç¤ºä¼šè¢«ç§»é™¤</span><br></pre></td></tr></table></figure>
<h2 id="2-install-zsh"><a href="#2-install-zsh" class="headerlink" title="2. install zsh"></a>2. install zsh</h2><p>ohmyzsh &amp; iTerm2 ä¸¤ä¸ªç¥å™¨ï¼Œåœ¨Mac os xä¸‹æ˜¯ä¸€å®šè¦è£…çš„. </p>
<h3 id="2-1-install-onmyzsh"><a href="#2-1-install-onmyzsh" class="headerlink" title="2.1 install onmyzsh"></a>2.1 install onmyzsh</h3><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">curl -L http://install.ohmyz.sh | sh</span><br></pre></td></tr></table></figure>
<h3 id="2-2-install-zsh"><a href="#2-2-install-zsh" class="headerlink" title="2.2 install zsh"></a>2.2 install zsh</h3><p>åœ¨ Terminal ä¸‹ï¼Œç›´æ¥æ•² zsh.</p>
<blockquote>
<p>ä¸‹é¢è¯·æš‚æ—¶å¿½ç•¥ </p>
</blockquote>
<hr>
<p>è®¾ç½®é»˜è®¤shell</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">cat /etc/shells </span><br><span class="line"># List of acceptable shells for chpass(1). </span><br><span class="line"># Ftpd will not allow users to connect who are not using </span><br><span class="line"># one of these shells. /bin/bash /bin/csh /bin/ksh /bin/sh /bin/tcsh /bin/zsh zsh --version zsh 5.0.2 (x86_64-apple-darwin13.0) chsh -s /bin/zsh</span><br></pre></td></tr></table></figure>
<p>è™½ç„¶Macè‡ªå¸¦äº†zshï¼Œå¦‚æœä½ æƒ³è¦æœ€æ–°ç‰ˆçš„zshï¼Œé‚£ä¹ˆä½ ç”¨ brew install zshå®‰è£…ä¸€ä¸ªæœ€æ–°çš„å§ã€‚</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">/usr/local/bin/zsh --version</span><br></pre></td></tr></table></figure>
<p>zsh 5.0.5 (x86_64-apple-darwin13.3.0) åŒºåˆ«ä¹Ÿä¸ä¼šå¾ˆå¤§ï¼Œ é»˜è®¤çš„ç‰ˆæœ¬å·²ç»å¾ˆæ–°äº†ã€‚  </p>
<p>å®‰è£…åæœ€å¥½å¤‡ä»½ : cp ~/.zshrc ~/.zshrc.orig</p>
<h2 id="3-homebrew-cask"><a href="#3-homebrew-cask" class="headerlink" title="3. homebrew-cask"></a>3. homebrew-cask</h2><p>install brew cask</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">brew tap phinze/homebrew-cask</span><br></pre></td></tr></table></figure>
<p>caskå¸¸ç”¨å‘½ä»¤ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">brew cask search        #åˆ—å‡ºæ‰€æœ‰å¯ä»¥è¢«å®‰è£…çš„è½¯ä»¶</span><br><span class="line">brew cask search php    #æŸ¥æ‰¾æ‰€æœ‰å’Œphpç›¸å…³çš„åº”ç”¨</span><br><span class="line">brew cask list          #åˆ—å‡ºæ‰€æœ‰é€šè¿‡caskå®‰è£…çš„è½¯ä»¶</span><br><span class="line">brew cask info phpstorm #æŸ¥çœ‹ phpstorm çš„ä¿¡æ¯</span><br><span class="line">brew cask uninstall qq  #å¸è½½ QQ</span><br></pre></td></tr></table></figure>
<blockquote>
<p>brew cask install sublime-text</p>
</blockquote>
<p>è¿™é‡Œè°ˆè°ˆcaskå¯¹æ¯”Mac App Storeçš„ä¼˜åŠ¿ï¼š</p>
<ul>
<li>å¯¹å¸¸ç”¨è½¯ä»¶æ”¯æŒæ›´å…¨é¢ï¼ˆç‰¹åˆ«æ˜¯å¼€å‘è€…ï¼‰ï¼Œcaské‡Œé¢ä¼šç»™ä½ ä¸€äº›æƒŠå–œï¼›</li>
<li>è½¯ä»¶æ›´æ–°é€Ÿåº¦å¿«ï¼Œä¸€èˆ¬éƒ½æ˜¯æœ€æ–°ç‰ˆæœ¬ Storeä¸Šå¾ˆä¹…å¾ˆä¹…æ‰ä¼šæ›´æ–°ç‰ˆæœ¬ï¼›</li>
<li>å‘½ä»¤å®‰è£…æ„Ÿè§‰æ¯”æ‰“å¼€Storeæ–¹ä¾¿ï¼Œå¦å¤–Storeåœ¨å›½å†…çš„é€Ÿåº¦ä¹Ÿæ˜¯XXOOã€‚</li>
</ul>
<h2 id="4-iterm2"><a href="#4-iterm2" class="headerlink" title="4. iterm2"></a>4. iterm2</h2><p>â€¦</p>
<h2 id="5-SimpleHTTPServer"><a href="#5-SimpleHTTPServer" class="headerlink" title="5. SimpleHTTPServer"></a>5. SimpleHTTPServer</h2><p>A computer</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">python -m SimpleHTTPServer</span><br></pre></td></tr></table></figure>
<p>B computer</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">wget http://192.168.xx.xx:8000/your-filename</span><br></pre></td></tr></table></figure>
<blockquote>
<p>nc ç‘å£«å†›åˆ€ï¼Œä¹Ÿå¯ä»¥ä¸¤å°ç”µè„‘ä¼ è¾“æ–‡ä»¶</p>
</blockquote>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[Recommendation System - CF]]></title>
      <url>http://iequa.com/2017/02/28/rs-six-mouth-CF/</url>
      <content type="html"><![CDATA[<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js"],
    jax: ["input/TeX"],
    tex2jax: {
      inlineMath: [ ['$','$'], ['\\(','\\)'] ],
      displayMath: [ ['$$','$$']],
      processEscapes: true
    }
  });
</script>
<script type="text/javascript" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS_HTML,http://myserver.com/MathJax/config/local/local.js">
</script>


<p>æ¨èç®—æ³•</p>
<ul>
<li>åŸºäºå†…å®¹çš„æ¨è</li>
<li>ååŒè¿‡æ»¤ CF</li>
<li>çŸ©é˜µåˆ†è§£ ä¸ éšè¯­ä¹‰æ¨¡å‹</li>
</ul>
<h2 id="1-æ¨èç³»ç»Ÿ-What"><a href="#1-æ¨èç³»ç»Ÿ-What" class="headerlink" title="1. æ¨èç³»ç»Ÿ What?"></a>1. æ¨èç³»ç»Ÿ What?</h2><h3 id="1-1-æ•°å­¦å®šä¹‰"><a href="#1-1-æ•°å­¦å®šä¹‰" class="headerlink" title="1.1 æ•°å­¦å®šä¹‰"></a>1.1 æ•°å­¦å®šä¹‰</h3><ul>
<li>è®¾ C ä¸ºå…¨ä½“ç”¨æˆ·é›†åˆ</li>
<li>è®¾ S ä¸ºå…¨éƒ¨å•†å“/æ¨èå†…å®¹é›†åˆ</li>
<li>è®¾ u æ˜¯è¯„åˆ¤æŠŠ $s_i$ æ¨è $c_i$ çš„å¥½åè¯„åˆ¤å‡½æ•°</li>
</ul>
<blockquote>
<p>æ¨èæ˜¯å¯¹äº $câˆˆC$ ,æ‰¾åˆ° $sâˆˆS$ ,ä½¿å¾— $u$ æœ€å¤§</p>
</blockquote>
<h3 id="1-2-äººè¯ç‰ˆæœ¬"><a href="#1-2-äººè¯ç‰ˆæœ¬" class="headerlink" title="1.2 äººè¯ç‰ˆæœ¬"></a>1.2 äººè¯ç‰ˆæœ¬</h3><p>æ ¹æ®ç”¨æˆ·çš„ :</p>
<ol>
<li>å†å²è¡Œä¸º</li>
<li>ç¤¾äº¤å…³ç³»</li>
<li>å…´è¶£ç‚¹</li>
<li>ä¸Šä¸‹æ–‡ç¯å¢ƒ</li>
<li>â€¦</li>
</ol>
<blockquote>
<p>å»åˆ¤æ–­ç”¨æˆ·çš„å½“å‰éœ€æ±‚ / æ„Ÿå…´è¶£çš„ Item</p>
</blockquote>
<h2 id="2-æ¨èç³»ç»Ÿ-Why"><a href="#2-æ¨èç³»ç»Ÿ-Why" class="headerlink" title="2. æ¨èç³»ç»Ÿ Why?"></a>2. æ¨èç³»ç»Ÿ Why?</h2><p>Infomation Overload<br>ç”¨æˆ·éœ€æ±‚ä¸æ˜ç¡®</p>
<h3 id="2-1-å¯¹ç”¨æˆ·"><a href="#2-1-å¯¹ç”¨æˆ·" class="headerlink" title="2.1 å¯¹ç”¨æˆ·"></a>2.1 å¯¹ç”¨æˆ·</h3><ul>
<li>æ‰¾åˆ°å¥½ç©çš„ä¸œè¥¿</li>
<li>å‘ç°æ–°é²œäº‹ç‰© Surprise</li>
</ul>
<h3 id="2-2-å¯¹å•†å®¶"><a href="#2-2-å¯¹å•†å®¶" class="headerlink" title="2.2 å¯¹å•†å®¶"></a>2.2 å¯¹å•†å®¶</h3><ul>
<li>ä¸ªæ€§åŒ–æœåŠ¡ã€æé«˜ç²˜æ€§</li>
<li>å¢åŠ è¥æ”¶</li>
</ul>
<h2 id="3-è¯„å®šæ ‡å‡†"><a href="#3-è¯„å®šæ ‡å‡†" class="headerlink" title="3. è¯„å®šæ ‡å‡†"></a>3. è¯„å®šæ ‡å‡†</h2><ul>
<li>å‡†ç¡®åº¦</li>
<li>è¦†ç›–åº¦</li>
<li>å¤šæ ·æ€§</li>
<li>è¯„ä¼°æ ‡å‡†</li>
</ul>
<h3 id="3-1-å‡†ç¡®åº¦-Top-N"><a href="#3-1-å‡†ç¡®åº¦-Top-N" class="headerlink" title="3.1 å‡†ç¡®åº¦ Top N"></a>3.1 å‡†ç¡®åº¦ Top N</h3><p>è®¾ $R(u)$ ä¸ºæ ¹æ®è®­ç»ƒå»ºç«‹çš„æ¨¡å‹åœ¨æµ‹è¯•é›†ä¸Šçš„æ¨è, $T(u)$ ä¸ºæµ‹è¯•é›†ä¸Šç”¨æˆ·çš„é€‰æ‹©ã€‚</p>
<p>$$<br>Precision =  \frac{\sum_{uâˆˆU} | R(u) \bigcap T(u) | }{\sum_{uâˆˆU} R(u)}<br>$$</p>
<p>$$<br>Recall =  \frac{\sum_{uâˆˆU} | R(u) \bigcap T(u) | }{\sum_{uâˆˆU} T(u)}<br>$$</p>
<blockquote>
<p>Recall è¯´æ˜ : ç”¨æˆ·çœ‹çš„ 80 ç¯‡æ–°é—»ï¼Œä½ åˆ°åº•ç»™æˆ‘ <code>æ¨</code> å‡ºæ¥å¤šå°‘ç¯‡</p>
</blockquote>
<h3 id="3-2-è¦†ç›–ç‡"><a href="#3-2-è¦†ç›–ç‡" class="headerlink" title="3.2 è¦†ç›–ç‡"></a>3.2 è¦†ç›–ç‡</h3><p>è¡¨ç¤ºå¯¹ç‰©å“é•¿å°¾çš„å‘æ˜èƒ½åŠ› (æ¨èç³»ç»Ÿå¸Œæœ›æ¶ˆé™¤é©¬å¤ªæ•ˆåº”)</p>
<p>$$<br>Coverage = \frac{|U_{uâˆˆU} R(u)|}{|I|}<br>$$</p>
<blockquote>
<p>è¦†ç›–ç‡æ˜¯å¯¹å¹³å°æ‰€æœ‰ç‰©å“æ‰€è¨€ï¼Œæ·˜å®æ¨èç­‰ä¼šå…³åˆ‡è¿™ä¸ªæŒ‡æ ‡ã€‚</p>
<p>éå¸¸ç‹¬ç‰¹çš„å•†å“å’Œæ–°é—», è¢«çœ‹åˆ°çš„é‡, æ˜¯ä¸€æ¡ä¸‹æ»‘æ›²çº¿</p>
<p>å¸Œæœ›ä¸ªæ€§åŒ–æ¨èï¼ŒæŠŠå°ä¼—çš„å•†å“ ä¹Ÿæ¨èå±•ç¤ºå‡ºæ¥</p>
</blockquote>
<h3 id="3-3-å¤šæ ·æ€§"><a href="#3-3-å¤šæ ·æ€§" class="headerlink" title="3.3 å¤šæ ·æ€§"></a>3.3 å¤šæ ·æ€§</h3><p>è¡¨ç¤ºæ¨èåˆ—è¡¨ä¸­ç‰©å“ä¸¤ä¸¤ä¹‹é—´çš„ä¸ç›¸ä¼¼æ€§.</p>
<p>$$<br>Diversity(R(u)) = 1 - \frac {\sum_{i, j \in R(u), {i \neq j}, {s(i, j)} }} {\frac {1}{2} |R(u)|(|R(u) - 1|)}<br>$$</p>
<p>$$<br>Diversity = \frac {1} {|U|} {\sum_{u \in U} {Diversity(R(u))}}<br>$$</p>
<blockquote>
<p>å…¨æ˜¯ç‰›ä»”è£¤çš„è¯ï¼Œç”¨æˆ·å®¡ç¾ç–²åŠ³, tag(çº¯æ£‰ 0ï¼Œåœ†é¢† 1) è¿è¡£è£™, è®¡ç®— vector è·ç¦»ã€‚å“ç±»ä¸åŒï¼Œç›¸ä¼¼åº¦è®¾ä¸º 0.</p>
</blockquote>
<h3 id="3-4-è¯„ä¼°æ ‡å‡†"><a href="#3-4-è¯„ä¼°æ ‡å‡†" class="headerlink" title="3.4 è¯„ä¼°æ ‡å‡†"></a>3.4 è¯„ä¼°æ ‡å‡†</h3><ul>
<li>æ–°é¢–åº¦ : ç»™ç”¨æˆ· Surprise</li>
<li>æƒŠå–œåº¦ : æ¨èå’Œç”¨æˆ·å†å²å…´è¶£ä¸ç›¸ä¼¼ï¼Œå´æ»¡æ„çš„</li>
<li>ä¿¡ä»»åº¦ : æä¾›å¯é çš„æ¨èç†ç”±</li>
<li>å®æ—¶æ€§ : å®æ—¶æ›´æ–°ç¨‹åº¦ (context, session â€¦)</li>
<li>â€¦</li>
</ul>
<h2 id="4-ç›¸ä¼¼åº¦-è·ç¦»å®šä¹‰"><a href="#4-ç›¸ä¼¼åº¦-è·ç¦»å®šä¹‰" class="headerlink" title="4. ç›¸ä¼¼åº¦/è·ç¦»å®šä¹‰"></a>4. ç›¸ä¼¼åº¦/è·ç¦»å®šä¹‰</h2><ul>
<li>æ¬§æ°è·ç¦»</li>
<li>Jaccard ç›¸ä¼¼åº¦</li>
<li>ä½™å¼¦ç›¸ä¼¼åº¦</li>
<li>Pearson ç›¸ä¼¼åº¦</li>
</ul>
<h3 id="4-1-æ¬§æ°è·ç¦»"><a href="#4-1-æ¬§æ°è·ç¦»" class="headerlink" title="4.1 æ¬§æ°è·ç¦»"></a>4.1 æ¬§æ°è·ç¦»</h3><p>$$<br>dist(X, Y) = \left( \sum_{i=1}^n {| x_i - y_i|}^p \right)^{\frac {1}{p}}<br>$$</p>
<h3 id="4-2-Jaccard-ç›¸ä¼¼åº¦"><a href="#4-2-Jaccard-ç›¸ä¼¼åº¦" class="headerlink" title="4.2 Jaccard ç›¸ä¼¼åº¦"></a>4.2 Jaccard ç›¸ä¼¼åº¦</h3><p>$$<br>J(A, B) = \frac {|A \bigcap B|}{|A \bigcup B|}<br>$$</p>
<blockquote>
<p>é€‚ç”¨äº top N æ¨èï¼Œè¦ä¹ˆ çœ‹ï¼Œè¦ä¹ˆ æ²¡çœ‹</p>
</blockquote>
<h3 id="4-3-ä½™å¼¦ç›¸ä¼¼åº¦"><a href="#4-3-ä½™å¼¦ç›¸ä¼¼åº¦" class="headerlink" title="4.3 ä½™å¼¦ç›¸ä¼¼åº¦"></a>4.3 ä½™å¼¦ç›¸ä¼¼åº¦</h3><p>$$<br>\cos(\theta) = \frac {a^Tb}{|a| \cdot |b|}<br>$$</p>
<h3 id="4-4-Pearson-ç›¸ä¼¼åº¦"><a href="#4-4-Pearson-ç›¸ä¼¼åº¦" class="headerlink" title="4.4 Pearson ç›¸ä¼¼åº¦"></a>4.4 Pearson ç›¸ä¼¼åº¦</h3><p>$$<br>\frac { \sum_{i=1}^n (X_i - {\mu}_x) (Y_i - {\mu}_y)} {\sqrt{ \sum_{i=1}^n (X_i - {\mu}_x)^2} \sqrt{ \sum_{i=1}^n (Y_i - {\mu}_y)^2}}<br>$$</p>
<blockquote>
<p>(5, 6, 9)<br>(1, 2, 6)</p>
</blockquote>
<h2 id="5-æ¨èç®—æ³•"><a href="#5-æ¨èç®—æ³•" class="headerlink" title="5. æ¨èç®—æ³•"></a>5. æ¨èç®—æ³•</h2><ol>
<li>åŸºäºå†…å®¹çš„æ¨è</li>
<li>ååŒè¿‡æ»¤CF</li>
<li>éšè¯­ä¹‰æ¨¡å‹</li>
</ol>
<h3 id="5-1-åŸºäºå†…å®¹æ¨è"><a href="#5-1-åŸºäºå†…å®¹æ¨è" class="headerlink" title="5.1 åŸºäºå†…å®¹æ¨è"></a>5.1 åŸºäºå†…å®¹æ¨è</h3><ul>
<li>åŸºäºç”¨æˆ·å–œæ¬¢çš„ Item çš„å±æ€§ / å†…å®¹è¿›è¡ŒæŒ–æ˜</li>
<li>åŸºäºåˆ†æå†…å®¹ï¼Œæ— éœ€è€ƒè™‘å½“å‰userä¸å…¶ä»–userçš„è¡Œä¸ºçš„äº¤äº’å…³è”ç­‰</li>
<li>é€šå¸¸ä½¿ç”¨åœ¨ <code>æ–‡æœ¬ç›¸å…³</code> çš„äº§å“ä¸Šè¿›è¡Œæ¨è</li>
<li>Item é€šè¿‡å†…å®¹ (æ¯”å¦‚ å…³é”®è¯) å…³è”</li>
</ul>
<p>åœ¨æ¨èç”µå½±ä¸­ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨ï¼Œä½†æ˜¯æ•ˆæœä¸è§å¾—å¥½. ä½ éœ€è¦æ‰‹åŠ¨å¯¹ Item è¿›è¡Œç¦»çº¿æŒ–æ˜ï¼Œæ‹¿å‡º tag</p>
<blockquote>
<p>ç”µå½±é¢˜æ : çˆ±æƒ… / æ¢é™© / åŠ¨ä½œ  / å–œå‰§<br>æ ‡å¿—ç‰¹å¾ : é»„æ™“æ˜ / ç‹å®å¼º<br>å¹´ä»£ : 1995, 2016 â€¦<br>å…³é”®è¯</p>
</blockquote>
<p>ä¸¤ä¸ªItemæ ¹æ® tag çš„åˆ†å€¼ï¼Œè¿›è¡Œæ±‚ è·ç¦».</p>
<hr>
<p><strong>ä¸¾ä¾‹æ–‡æœ¬æŒ–æ˜ :</strong></p>
<p>One : å¯¹äºæ¯ä¸ªè¦æ¨èçš„å†…å®¹,æˆ‘ä»¬éœ€è¦å»ºç«‹ä¸€ä»½èµ„æ–™ :</p>
<blockquote>
<p>æ¯”å¦‚è¯ $k_i$ åœ¨æ–‡æ¡£ $d_j$ ä¸­çš„æƒé‡ $w_{ij}$ (å¸¸ç”¨çš„æ–¹æ³•æ¯”å¦‚ TF-IDF)</p>
<p>æœ‰ä¸€ä¸ªè¯è¡¨ Item [$w_1$, $w_2$, â€¦ ,$w_{4000}$], å¯¹æ¯ä¸ª document å»ºç«‹ä¸€ä¸ªè¯è¡¨ vectorã€‚</p>
</blockquote>
<p>Two : éœ€è¦å¯¹ç”¨æˆ·ä¹Ÿå»ºç«‹ä¸€ä»½èµ„æ–™ :</p>
<blockquote>
<p>æ¯”å¦‚è¯´å®šä¹‰ä¸€ä¸ªæƒé‡å‘é‡ ($w_{c1},â€¦,w_{ck}$) , å…¶ä¸­ $w_{ci}$ è¡¨ç¤ºç¬¬ $k_i$ ä¸ªè¯å¯¹ç”¨æˆ· $c$ çš„é‡è¦åº¦<br>user ä¹‹å‰æœ‰çœ‹è¿‡çš„ å°è¯´ æˆ– æ–‡æ¡£ã€‚(çœ‹è¿‡çš„æ–‡æ¡£æ”¾åœ¨ä¸€èµ·æä¸€ä¸ªdoc_vectorï¼Œæˆ–è€… å°† doc_vector åŠ æƒå¹³å‡)</p>
</blockquote>
<p>Three : è®¡ç®—åŒ¹é…åº¦ </p>
<blockquote>
<p>ä½™å¼¦è·ç¦»å…¬å¼</p>
</blockquote>
<p>$$<br>u(c, s) = \cos(\vec{w_c}, \vec{w_s}) = \frac{\vec{w_c} \cdot \vec{w_s}}{\vec{||w_c||} \times \vec{||w_s||}}<br>$$</p>
<blockquote>
<p>æ€»ç»“ä¸‰æ­¥ :</p>
<ol>
<li>å¯¹ æ¯ä¸ª document å»ºç«‹ vector</li>
<li>å¯¹ æ¯ä¸ª user å»ºç«‹ vector</li>
<li>æ¯”å¯¹ user å‘é‡ï¼Œä¸ è¯¥user æ²¡æœ‰çœ‹è¿‡çš„ document å‘é‡ ä¹‹é—´çš„ç›¸ä¼¼åº¦</li>
</ol>
<p>TF-IDF : è¯„ä¼°ä¸€ä¸ª word å¯¹å½“å‰ document çš„é‡è¦æ€§ã€‚ å½“å‰å‡é«˜è€Œå‡é«˜ï¼Œæ‰€æœ‰docä¸­ï¼Œå‡é«˜è€Œä¸‹é™ã€‚</p>
</blockquote>
<p><strong>Sample Example : åŸºäºä¹¦åè¿›è¡Œä¹¦æ¨è</strong></p>
<p>ä¸€ä¸ªç”¨æˆ·å¯¹ã€ŠBuilding data mining applications for CRMã€‹æ„Ÿå…´è¶£ï¼Œä»ä»¥ä¸‹ä¹¦ä¸­è¿›è¡Œæ¨è :</p>
<ol>
<li><code>Building data mining applications for CRM</code></li>
<li>Accelerating Customer Relationships: Using CRM and Relationship Technologies</li>
<li>Mastering Data Mining: The Art and Science of Customer Relationship Management</li>
<li>Data Mining Your Website</li>
<li>Introduction to marketing</li>
<li>Consumer behavior</li>
<li>marketing research, a handbook </li>
<li>Customer knowledge manag</li>
</ol>
<p><img src="/images/ml/rs-six-month-01.png" alt="åŸºäºå†…å®¹çš„æ¨è"></p>
<blockquote>
<p>TF-IDF Normed Vectors å€¼ (0.187ã€0.316) ä»£è¡¨ <code>Data</code> å¯¹äºå½“å‰ <code>æ ‡é¢˜</code> çš„é‡è¦ç¨‹åº¦. </p>
<p>æ ¹æ® TF-IDFï¼Œå½“å‰ä¹¦å ä¸ å›¾ä¹¦é¦†æ‰€æœ‰ä¹¦å å‡ºç°çš„æ¬¡æ•°, (å»æ‰åœç”¨è¯, å¦‚ and) è®¡ç®—å‡ºæ¥çš„æƒé‡ã€‚</p>
<p>æ‰€ä»¥ <code>ã€ŠBuilding data mining applications for CRMã€‹</code> å·²ç»æœ‰ä¸€ä¸ªåˆ— vectorï¼Œ ä¸ å…¶ä»–æ‰€æœ‰ ä¹¦ è®¡ç®— ç›¸ä¼¼åº¦ï¼Œç›¸ä¼¼åº¦ é«˜çš„ï¼Œä¸ºæ¨èæœ€å¥½çš„ã€‚</p>
<p>This is only a sample show exampleï¼Œ not the real method of thing.</p>
</blockquote>
<p>è®¡ç®—è¿™æœ¬ä¹¦å’Œå…¶ä½™7æœ¬ä¹¦çš„ç›¸ä¼¼åº¦ï¼Œæ¨èæœ€è¿‘çš„ï¼Œè¿™é‡Œç»“æœä¸º :</p>
<blockquote>
<p>rank 1 : Data Mining Your Website<br>ô°…rank 2 : Accelerating Custom Relationships: Using CRM â€¦<br>rank 3 : Mastering Data Mining: The Art and Scienceâ€¦ ô°¬ô°­ô°®ô°€ô°â€¦</p>
</blockquote>
<p>ç»“è®º : åŸºäºå†…å®¹çš„æ¨èï¼Œæ— éœ€ç”¨æˆ·è¡Œä¸ºçš„äº¤äº’å…³è”ã€‚</p>
<h3 id="5-2-ååŒè¿‡æ»¤-User-based"><a href="#5-2-ååŒè¿‡æ»¤-User-based" class="headerlink" title="5.2 ååŒè¿‡æ»¤ (User-based)"></a>5.2 ååŒè¿‡æ»¤ (User-based)</h3><p>æ‰¾åˆ°å’Œ User æœ€è¿‘çš„ å…¶ä»– Userô°¼ô°½ô°Ÿô°²ô°³ô°§ô°¨ô°’ô° ô°¾ô°²ô°³ ô±…ô°²ô°³ô±†ô±€ô±ô±‚ô°•, æ‰¾åˆ°ä»–ä»¬ çœ‹/ä¹°è¿‡ä½†å½“å‰ User æ²¡çœ‹/ä¹°è¿‡çš„ itemï¼Œæ ¹æ®è·ç¦»åŠ æƒæ‰“åˆ†<br>æ‰¾å¾—åˆ†æœ€é«˜çš„æ¨è</p>
<blockquote>
<p>ä¸éœ€è¦æå‰æŒ–æ˜ Itemï¼Œ æ‰¾å“å‘³æ¥è¿‘çš„ 5 ä¸ª friendsã€‚</p>
</blockquote>
<p><img src="/images/ml/rs-six-month-02.png" alt="User-based CF"></p>
<p>è¿‘é‚»æ€ä¹ˆæ‰¾ ?</p>
<table>
<thead>
<tr>
<th>U</th>
<th>a</th>
<th>b</th>
<th>c</th>
<th>d</th>
<th>e</th>
</tr>
</thead>
<tbody>
<tr>
<td>A</td>
<td>5</td>
<td>1</td>
<td>5</td>
<td>3</td>
<td>2</td>
</tr>
<tr>
<td>B</td>
<td>4</td>
<td></td>
<td>3</td>
<td>1</td>
<td>1</td>
</tr>
</tbody>
</table>
<h3 id="5-3-ååŒè¿‡æ»¤-Item-based"><a href="#5-3-ååŒè¿‡æ»¤-Item-based" class="headerlink" title="5.3 ååŒè¿‡æ»¤ (Item-based)"></a>5.3 ååŒè¿‡æ»¤ (Item-based)</h3><blockquote>
<p>æ®ç°æœ‰ User å¯¹ Item çš„è¯„çº§æƒ…å†µï¼Œæ¥è®¡ç®— Item ä¹‹é—´çš„æŸç§ç›¸ä¼¼åº¦ã€‚å·²æœ‰Item ç›¸ä¼¼çš„ Item è¢«ç”¨æ¥ç”Ÿæˆä¸€ä¸ªç»¼åˆå¾—åˆ†ï¼Œè€Œè¯¥å¾—åˆ†ç”¨äºè¯„ä¼°æœªçŸ¥ç‰©å“çš„ç›¸ä¼¼åº¦ã€‚</p>
</blockquote>
<p>æ ¹æ® User å¯¹ Item çš„è¡Œä¸ºï¼Œè®¡ç®— item å’Œ item ç›¸ä¼¼åº¦ï¼Œæ‰¾åˆ°å’Œå½“å‰ item æœ€è¿‘çš„è¿›è¡Œæ¨èã€‚</p>
<p><img src="/images/ml/rs-six-month-03.png" alt="Item-based CF"></p>
<blockquote>
<p>Collaborative filtering åŸºäº è¿‘é‚» çš„æ€æƒ³</p>
</blockquote>
<p>CF (Item-based) Summary :</p>
<ul>
<li>ä¸€ä¸ª User List ($u_i$, i = 1, â€¦, n), ä¸€ä¸ª Item List ($p_j$, j = 1, â€¦, m)</li>
<li>ä¸€ä¸ª $n * m$ çŸ©é˜µ W, æ¯ä¸ªå…ƒç´  $W_{ij}$, è¡¨ç¤º ${User}_i$ å¯¹ ${Item}_j$ çš„æ‰“åˆ†</li>
<li>è®¡ç®— item å’Œ item ä¹‹é—´çš„ç›¸ä¼¼åº¦</li>
</ul>
<p>$$<br>S(i, j) = \cos(\vec{i}, \vec{j}) = \frac{\vec{i} \cdot \vec{j}}{\vec{||i||} \times \vec{||j||}}<br>$$</p>
<ul>
<li>é€‰å– Top K æ¨è æˆ– åŠ æƒé¢„æµ‹å¾—åˆ†</li>
</ul>
<p>$$<br>r_{xi} = \frac { {\sum_{j \in N (i;x)} S_{ij} \times r_{xj}}} { {\sum_{j \in N (i;x)} S_{ij}}}<br>$$</p>
<p><strong>Item-based Collaborative Filtering</strong></p>
<p><img src="/images/ml/rs-six-month-05.png" alt="CF-Item Collaborative Filtering"></p>
<blockquote>
<p>1 ä¸ 4 ä¹‹é—´çš„ç›¸ä¼¼åº¦-0.10ä¸å¯¹ï¼Œ åº”è¯¥æ˜¯ -0.83 ç­‰ï¼Œæ•°æ®æœ‰è¯¯ã€‚(æŒ‰ç…§ Pearson overlap è®¡ç®—).</p>
<p>$r_{1.5}$ = (0.41*2 + 0.59*3) / (0.41 + 0.59) = 2.6</p>
<p>åŸºäº Top N æ¥è®¡ç®—ï¼Œè¿™é‡Œæ˜¯ Top 2.</p>
</blockquote>
<h4 id="User-CF-vs-Item-CF"><a href="#User-CF-vs-Item-CF" class="headerlink" title="User CF vs Item CF"></a>User CF vs Item CF</h4><table>
<thead>
<tr>
<th>å±æ€§</th>
<th>UserCF</th>
<th>ItemCF</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>æ€§èƒ½</code></td>
<td>Userå¤šï¼Œè®¡ç®—Userç›¸ä¼¼åº¦çŸ©é˜µä»£ä»·å¾ˆå¤§</td>
<td>Itemå¤šï¼Œè®¡ç®—Itemç›¸ä¼¼åº¦çŸ©é˜µä»£ä»·å¾ˆå¤§</td>
</tr>
<tr>
<td><code>é¢†åŸŸ</code></td>
<td>User ä¸ªæ€§åŒ–å…´è¶£ä¸å¤ªæ˜æ˜¾çš„é¢†åŸŸ</td>
<td>é•¿å°¾ç‰©å“ä¸°å¯Œï¼Œç”¨æˆ·ä¸ªæ€§åŒ–éœ€æ±‚å¼ºçƒˆçš„é¢†åŸŸ</td>
</tr>
<tr>
<td><code>å®æ—¶æ€§</code></td>
<td>ç”¨æˆ·æœ‰æ–°è¡Œä¸ºï¼Œä¸ä¸€å®šæ¨èç»“æœé©¬ä¸Šå˜åŒ–</td>
<td>ç”¨æˆ·æœ‰æ–°è¡Œä¸ºï¼Œä¼šå¯¼è‡´æ¨èç»“æœå®æ—¶å˜åŒ–</td>
</tr>
<tr>
<td><code>å†·å¯åŠ¨</code></td>
<td>æ–°ç”¨æˆ·è¡Œä¸ºï¼Œä¸èƒ½ç«‹å³è¿›è¡Œä¸ªæ€§åŒ–æ¨è<br>(ç”¨æˆ·ç›¸ä¼¼åº¦æ˜¯æ¯éš”ä¸€æ®µæ—¶é—´ç¦»çº¿è®¡ç®—çš„)</td>
<td>æ–°ç”¨æˆ·å¯¹ç‰©å“æœ‰è¡Œä¸ºï¼Œå°±å¯ä»¥ç»™ä»–æ¨èå’Œè¯¥ç‰©å“ç›¸å…³ç‰©å“</td>
</tr>
<tr>
<td><code>æ¨èç†ç”±</code></td>
<td>å¾ˆéš¾æä¾›ä»¤ç”¨æˆ·ä¿¡æœçš„æ¨èè§£é‡Š</td>
<td>åˆ©ç”¨ç”¨æˆ·çš„å†å²è¡Œä¸ºç»™ç”¨æˆ·åšæ¨èè§£é‡Š</td>
</tr>
</tbody>
</table>
<h4 id="CF-ä¼˜ç¼ºç‚¹"><a href="#CF-ä¼˜ç¼ºç‚¹" class="headerlink" title="CF ä¼˜ç¼ºç‚¹"></a>CF ä¼˜ç¼ºç‚¹</h4><table>
<thead>
<tr>
<th>ä¼˜ç‚¹</th>
<th>ç¼ºç‚¹</th>
</tr>
</thead>
<tbody>
<tr>
<td>åŸºäºç”¨æˆ·è¡Œä¸ºï¼Œå› æ­¤å¯¹æ¨èå†…å®¹æ— éœ€å…ˆéªŒçŸ¥è¯†</td>
<td>éœ€è¦å¤§é‡çš„æ˜¾æ€§ / éšæ€§ç”¨æˆ·è¡Œä¸º (å†·å¯åŠ¨)</td>
</tr>
<tr>
<td>åªéœ€è¦ç”¨æˆ·å’Œå•†å“å…³è”çŸ©é˜µå³å¯ï¼Œç»“æ„ç®€å•</td>
<td>éœ€è¦å®Œå…¨ç›¸åŒçš„å•†å“å…³è”ï¼Œç›¸ä¼¼çš„ä¸åŒ</td>
</tr>
<tr>
<td>åœ¨ç”¨æˆ·è¡Œä¸ºä¸°å¯Œçš„æƒ…å†µä¸‹ï¼Œæ•ˆæœå¥½</td>
<td></td>
</tr>
</tbody>
</table>
<blockquote>
<p>(a, c) (b, c) é€šè¿‡ä¼ é€’å…³ç³»ï¼Œå¯ä»¥è¿‘ä¼¼çš„è®¡ç®—å‡ºæ¥ (a, b) ç›¸ä¼¼åº¦ï¼ŒçŸ©é˜µç¨€ç–çš„äºŒåº¦å…³è”ã€‚</p>
</blockquote>
<h2 id="6-å†·å¯åŠ¨é—®é¢˜"><a href="#6-å†·å¯åŠ¨é—®é¢˜" class="headerlink" title="6. å†·å¯åŠ¨é—®é¢˜"></a>6. å†·å¯åŠ¨é—®é¢˜</h2><h3 id="6-1-New-User"><a href="#6-1-New-User" class="headerlink" title="6.1 New User"></a>6.1 New User</h3><ul>
<li>æ¨è éå¸¸ çƒ­é—¨ çš„å•†å“ï¼Œæ”¶é›†ä¸€äº›ä¿¡æ¯</li>
<li>ç”¨æˆ·æ³¨å†Œçš„æ—¶å€™ï¼Œæ”¶é›†ä¿¡æ¯ï¼Œæˆ–è€…äº’åŠ¨æ¸¸æˆï¼Œç¡®å®šä½ å–œæ¬¢å¦</li>
</ul>
<h3 id="6-2-New-Item"><a href="#6-2-New-Item" class="headerlink" title="6.2 New Item"></a>6.2 New Item</h3><ul>
<li>æ ¹æ®æœ¬èº«å±æ€§ï¼Œæ±‚ä¸åŸæ¥ Item ç›¸ä¼¼åº¦</li>
<li>Item-based CF å¯æ¨èå‡ºå»</li>
</ul>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[About Keras Some Concepts]]></title>
      <url>http://iequa.com/2017/02/23/ml-keras-some-concept/</url>
      <content type="html"><![CDATA[<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js"],
    jax: ["input/TeX"],
    tex2jax: {
      inlineMath: [ ['$','$'], ['\\(','\\)'] ],
      displayMath: [ ['$$','$$']],
      processEscapes: true
    }
  });
</script>
<script type="text/javascript" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS_HTML,http://myserver.com/MathJax/config/local/local.js">
</script>


<h2 id="1-symbolic-computation"><a href="#1-symbolic-computation" class="headerlink" title="1. symbolic computation"></a>1. symbolic computation</h2><p>Kerasçš„åº•å±‚åº“ä½¿ç”¨Theanoæˆ–TensorFlowï¼Œè¿™ä¸¤ä¸ªåº“ä¹Ÿç§°ä¸ºKerasçš„åç«¯ã€‚</p>
<blockquote>
<p>æ— è®ºæ˜¯Theanoè¿˜æ˜¯TensorFlowï¼Œéƒ½æ˜¯ä¸€ä¸ªâ€œç¬¦å·ä¸»ä¹‰â€çš„åº“ã€‚</p>
</blockquote>
<h2 id="2-tensor-å¼ é‡"><a href="#2-tensor-å¼ é‡" class="headerlink" title="2. tensor (å¼ é‡)"></a>2. tensor (å¼ é‡)</h2><p>å¼ é‡å¯ä»¥çœ‹ä½œæ˜¯å‘é‡ã€çŸ©é˜µçš„è‡ªç„¶æ¨å¹¿ï¼Œæˆ‘ä»¬ç”¨å¼ é‡æ¥è¡¨ç¤ºå¹¿æ³›çš„æ•°æ®ç±»å‹ã€‚</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"></span><br><span class="line">a = np.array([[<span class="number">1</span>,<span class="number">2</span>],[<span class="number">3</span>,<span class="number">4</span>]])</span><br><span class="line">sum0 = np.sum(a, axis=<span class="number">0</span>)</span><br><span class="line">sum1 = np.sum(a, axis=<span class="number">1</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">print</span> sum0</span><br><span class="line"><span class="keyword">print</span> sum1</span><br></pre></td></tr></table></figure>
<p>[4 6]<br>[3 7]</p>
<h2 id="3-â€˜thâ€™ä¸â€™tfâ€™"><a href="#3-â€˜thâ€™ä¸â€™tfâ€™" class="headerlink" title="3. â€˜thâ€™ä¸â€™tfâ€™"></a>3. â€˜thâ€™ä¸â€™tfâ€™</h2><p>åœ¨å¦‚ä½•è¡¨ç¤ºä¸€ç»„å½©è‰²å›¾ç‰‡çš„é—®é¢˜ä¸Šï¼ŒTheanoå’ŒTensorFlowå‘ç”Ÿäº†åˆ†æ­§</p>
<h2 id="4-batch"><a href="#4-batch" class="headerlink" title="4. batch"></a>4. batch</h2><p><code>batch gradient descent</code></p>
<p>éå†å…¨éƒ¨æ•°æ®é›†ç®—ä¸€æ¬¡æŸå¤±å‡½æ•°ï¼Œç„¶åç®—å‡½æ•°å¯¹å„ä¸ªå‚æ•°çš„æ¢¯åº¦ï¼Œæ›´æ–°æ¢¯åº¦ã€‚è¿™ç§æ–¹æ³•æ¯æ›´æ–°ä¸€æ¬¡å‚æ•°éƒ½è¦æŠŠæ•°æ®é›†é‡Œçš„æ‰€æœ‰æ ·æœ¬éƒ½çœ‹ä¸€éï¼Œè®¡ç®—é‡å¼€é”€å¤§ï¼Œè®¡ç®—é€Ÿåº¦æ…¢ï¼Œä¸æ”¯æŒåœ¨çº¿å­¦ä¹ ï¼Œè¿™ç§°ä¸ºBatch gradient descentï¼Œæ‰¹æ¢¯åº¦ä¸‹é™ã€‚</p>
<p><code>stochastic gradient descent</code></p>
<p>æ¯çœ‹ä¸€ä¸ªæ•°æ®å°±ç®—ä¸€ä¸‹æŸå¤±å‡½æ•°ï¼Œç„¶åæ±‚æ¢¯åº¦æ›´æ–°å‚æ•°ï¼Œè¿™ä¸ªç§°ä¸ºéšæœºæ¢¯åº¦ä¸‹é™ï¼Œstochastic gradient descentã€‚è¿™ä¸ªæ–¹æ³•é€Ÿåº¦æ¯”è¾ƒå¿«ï¼Œä½†æ˜¯æ”¶æ•›æ€§èƒ½ä¸å¤ªå¥½ï¼Œå¯èƒ½åœ¨æœ€ä¼˜ç‚¹é™„è¿‘æ™ƒæ¥æ™ƒå»ï¼Œhitä¸åˆ°æœ€ä¼˜ç‚¹ã€‚ä¸¤æ¬¡å‚æ•°çš„æ›´æ–°ä¹Ÿæœ‰å¯èƒ½äº’ç›¸æŠµæ¶ˆæ‰ï¼Œé€ æˆç›®æ ‡å‡½æ•°éœ‡è¡çš„æ¯”è¾ƒå‰§çƒˆã€‚</p>
<p><code>mini batch gradient decent</code></p>
<p>ä¸ºäº†å…‹æœ batch å’Œ stochastic ä¸¤ç§æ–¹æ³•çš„ç¼ºç‚¹ï¼Œç°åœ¨ä¸€èˆ¬é‡‡ç”¨çš„æ˜¯ä¸€ç§æŠ˜ä¸­æ‰‹æ®µï¼Œmini-batch gradient decentï¼Œå°æ‰¹çš„æ¢¯åº¦ä¸‹é™ï¼Œè¿™ç§æ–¹æ³•æŠŠæ•°æ®åˆ†ä¸ºè‹¥å¹²ä¸ªæ‰¹ï¼ŒæŒ‰æ‰¹æ¥æ›´æ–°å‚æ•°ï¼Œè¿™æ ·ï¼Œä¸€ä¸ªæ‰¹ä¸­çš„ä¸€ç»„æ•°æ®å…±åŒå†³å®šäº†æœ¬æ¬¡æ¢¯åº¦çš„æ–¹å‘ï¼Œä¸‹é™èµ·æ¥å°±ä¸å®¹æ˜“è·‘åï¼Œå‡å°‘äº†éšæœºæ€§ã€‚å¦ä¸€æ–¹é¢å› ä¸ºæ‰¹çš„æ ·æœ¬æ•°ä¸æ•´ä¸ªæ•°æ®é›†ç›¸æ¯”å°äº†å¾ˆå¤šï¼Œè®¡ç®—é‡ä¹Ÿä¸æ˜¯å¾ˆå¤§ã€‚</p>
<p>åŸºæœ¬ä¸Šç°åœ¨çš„æ¢¯åº¦ä¸‹é™éƒ½æ˜¯åŸºäºmini-batchçš„ï¼Œæ‰€ä»¥Kerasçš„æ¨¡å—ä¸­ç»å¸¸ä¼šå‡ºç°batch_sizeï¼Œå°±æ˜¯æŒ‡è¿™ä¸ªã€‚</p>
<blockquote>
<p>Kerasçš„ä¼˜åŒ–å™¨SGDæ˜¯stochastic gradient descentçš„ç¼©å†™ï¼Œä½†ä¸ä»£è¡¨æ˜¯ä¸€ä¸ªæ ·æœ¬å°±æ›´æ–°ä¸€å›ï¼Œè¿˜æ˜¯mini-batch</p>
</blockquote>
<h2 id="5-to-new-beginner-explain"><a href="#5-to-new-beginner-explain" class="headerlink" title="5. to new beginner explain"></a>5. to new beginner explain</h2><p><a href="http://www.liaoxuefeng.com/wiki/0014316089557264a6b348958f449949df42a6d3a2e542c000" target="_blank" rel="external">Python Learning</a></p>
<ul>
<li>numpy, scipy, scikit-learn, pandasâ€¦</li>
<li>generatorã€lambda</li>
</ul>
<h2 id="6-about-deep-learning-concepts"><a href="#6-about-deep-learning-concepts" class="headerlink" title="6. about deep-learning concepts"></a>6. about deep-learning concepts</h2><blockquote>
<p>Keras æ˜¯ä¸ºæ·±åº¦å­¦ä¹ è®¾è®¡çš„å·¥å…·</p>
</blockquote>
<ul>
<li>æœ‰ç›‘ç£å­¦ä¹ ï¼Œæ— ç›‘ç£å­¦ä¹ ï¼Œåˆ†ç±»ï¼Œèšç±»ï¼Œå›å½’</li>
<li>ç¥ç»å…ƒæ¨¡å‹ï¼Œå¤šå±‚æ„ŸçŸ¥å™¨ï¼ŒBPç®—æ³•</li>
<li>ç›®æ ‡å‡½æ•°ï¼ˆæŸå¤±å‡½æ•°ï¼‰ï¼Œæ¿€æ´»å‡½æ•°ï¼Œæ¢¯åº¦ä¸‹é™æ³•</li>
<li>å…¨è¿æ¥ç½‘ç»œã€å·ç§¯ç¥ç»ç½‘ç»œã€é€’å½’ç¥ç»ç½‘ç»œ</li>
<li>è®­ç»ƒé›†ï¼Œæµ‹è¯•é›†ï¼Œäº¤å‰éªŒè¯ï¼Œæ¬ æ‹Ÿåˆï¼Œè¿‡æ‹Ÿåˆ</li>
<li>æ•°æ®è§„èŒƒåŒ–</li>
</ul>
<h2 id="Refence-article"><a href="#Refence-article" class="headerlink" title="Refence article"></a>Refence article</h2><p><a href="https://keras.io/getting-started/sequential-model-guide/" target="_blank" rel="external">keras.io</a><br><a href="http://keras-cn.readthedocs.io/en/latest/" target="_blank" rel="external">keras-cn.readthedocs.io</a></p>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[Python numpy.shape å’Œ numpy.reshape]]></title>
      <url>http://iequa.com/2017/02/21/ml-python-numpy-shape/</url>
      <content type="html"><![CDATA[<table>
<thead>
<tr>
<th>Extension lib</th>
<th>introduction</th>
</tr>
</thead>
<tbody>
<tr>
<td>Numpy</td>
<td>æä¾›æ•°ç»„æ”¯æŒï¼Œä»¥åŠç›¸åº”çš„é«˜æ•ˆå¤„ç†å‡½æ•°</td>
</tr>
</tbody>
</table>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">from</span> numpy <span class="keyword">import</span> *  </span><br><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br></pre></td></tr></table></figure>
<h2 id="1-shape"><a href="#1-shape" class="headerlink" title="1. shape"></a>1. shape</h2><p>åŠŸèƒ½ï¼šç»™äºˆæ•°ç»„ä¸€ä¸ªæ–°çš„å½¢çŠ¶ï¼Œè€Œä¸æ”¹å˜å®ƒçš„æ•°æ®</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment"># list</span></span><br><span class="line">L=range(<span class="number">5</span>) <span class="comment"># [0, 1, 2, 3, 4]</span></span><br><span class="line">shape(L)   <span class="comment"># [5,]</span></span><br><span class="line">L=[[<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>],[<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>]] </span><br><span class="line">shape(L)</span><br></pre></td></tr></table></figure>
<p>(2, 3)</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment"># array</span></span><br><span class="line"></span><br><span class="line">arr=array(range(<span class="number">5</span>)) </span><br><span class="line"><span class="keyword">print</span> arr</span><br><span class="line">shape(arr)</span><br><span class="line"></span><br><span class="line"><span class="keyword">print</span> <span class="string">"======  two dimension  ======"</span></span><br><span class="line"></span><br><span class="line">arr=array([[<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>], [<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>]])</span><br><span class="line"><span class="keyword">print</span> arr</span><br><span class="line">shape(arr)</span><br></pre></td></tr></table></figure>
<p>======  two dimension  ======<br>[[1 2 3]<br>[4 5 6]]</p>
<p>(2, 3)</p>
<h2 id="2-reshape"><a href="#2-reshape" class="headerlink" title="2. reshape"></a>2. reshape</h2><p>newshapeï¼šæ•´æ•°å€¼æˆ–æ•´æ•°å…ƒç»„ã€‚æ–°çš„å½¢çŠ¶åº”è¯¥å…¼å®¹äºåŸå§‹å½¢çŠ¶ã€‚<br>å¦‚æœæ˜¯ä¸€ä¸ªæ•´æ•°å€¼ï¼Œè¡¨ç¤ºä¸€ä¸ªä¸€ç»´æ•°ç»„çš„é•¿åº¦ï¼›<br>å¦‚æœæ˜¯å…ƒç»„ï¼Œä¸€ä¸ªå…ƒç´ å€¼å¯ä»¥ä¸º-1ï¼Œæ­¤æ—¶è¯¥å…ƒç´ å€¼è¡¨ç¤ºä¸ºæŒ‡å®šï¼Œæ­¤æ—¶ä¼šä»æ•°ç»„çš„é•¿åº¦å’Œå‰©ä½™çš„ç»´åº¦ä¸­æ¨æ–­å‡º</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">a=array([[<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>],[<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>]])  </span><br><span class="line">reshape(a, <span class="number">6</span>)</span><br></pre></td></tr></table></figure>
<p>array([1, 2, 3, 4, 5, 6])</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">reshape(a, (<span class="number">3</span>, <span class="number">-1</span>)) <span class="comment">#ä¸ºæŒ‡å®šçš„å€¼å°†è¢«æ¨æ–­å‡ºä¸º2</span></span><br></pre></td></tr></table></figure>
<p>array([[1, 2],<br>       [3, 4],<br>       [5, 6]])</p>
<h2 id="Refence-article"><a href="#Refence-article" class="headerlink" title="Refence article"></a>Refence article</h2><p><a href="http://blog.csdn.net/u012005313/article/details/49383551" target="_blank" rel="external">numpy.shape</a></p>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[Mac install tensorFlow]]></title>
      <url>http://iequa.com/2017/02/21/ops-mac-install-tensorflow/</url>
      <content type="html"><![CDATA[<h2 id="1-instaled-pip"><a href="#1-instaled-pip" class="headerlink" title="1. instaled pip"></a>1. instaled pip</h2><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># å®‰è£…å®Œåæ‰§è¡Œå‘½ä»¤pip freezeåˆ—å‡ºå®‰è£…çš„packageséªŒè¯ä¸€ä¸‹pipå®‰è£…å¥½æ²¡.</span></span><br><span class="line"></span><br><span class="line">$ pip freeze</span><br><span class="line">python-dateutil==1.5</span><br><span class="line">scikit-learn==0.18.dev0</span><br><span class="line">scipy==0.13.0b1</span><br><span class="line">six==1.10.0</span><br><span class="line">tensorflow==0.5.0</span><br><span class="line">terminado==0.6</span><br><span class="line">TFL==2.0.5</span><br><span class="line">tornado==4.3</span><br><span class="line">vboxapi==1.0</span><br><span class="line">virtualenv==15.1.0</span><br><span class="line">...</span><br></pre></td></tr></table></figure>
<h2 id="2-install-tensorflow"><a href="#2-install-tensorflow" class="headerlink" title="2. install tensorflow"></a>2. install tensorflow</h2><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># Mac OS X, CPU only, Python 2.7:</span></span><br><span class="line">$ <span class="built_in">export</span> TF_BINARY_URL=https://storage.googleapis.com/tensorflow/mac/cpu/tensorflow-1.0.0-py2-none-any.whl</span><br><span class="line"></span><br><span class="line"><span class="comment"># Only CPU-version is available at the moment.</span></span><br><span class="line">$ sudo pip install <span class="variable">$TF_BINARY_URL</span></span><br></pre></td></tr></table></figure>
<blockquote>
<p>maybe by vpn in China</p>
</blockquote>
<h2 id="3-install-virtualenv"><a href="#3-install-virtualenv" class="headerlink" title="3. install virtualenv"></a>3. install virtualenv</h2><p>virtualenvæ˜¯pythonçš„æ²™ç®±å·¥å…·.æˆ‘ä»¬æ¯•ç«Ÿæ˜¯åœ¨è‡ªå·±æœºå™¨ä¸Šåšå®éªŒ,ä¸ºäº†ä¸æ¥å›ä¿®æ”¹å„ç§ç¯å¢ƒå˜é‡,æˆ‘ä»¬ä¸€èˆ¬è¿˜æ˜¯å¼„ä¸ªæ²™ç®±å®Œæ¯”è¾ƒå¥½.æµ‹è¯•å®Œç›´æ¥åˆ é™¤å°±è¡Œ,ä¸ç”¨å†å»æ”¹å„ç§é…ç½®æ–‡ä»¶.</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ sudo pip install --upgrade virtualenv</span><br><span class="line"></span><br><span class="line">Collecting virtualenv</span><br><span class="line">  Downloading virtualenv-15.1.0-py2.py3-none-any.whl (1.8MB)</span><br><span class="line">    100% |â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ| 1.8MB 156kB/s</span><br><span class="line">Installing collected packages: virtualenv</span><br><span class="line">Successfully installed virtualenv-15.1.0</span><br></pre></td></tr></table></figure>
<p>å®‰è£…å¥½ååˆ›å»ºä¸€ä¸ªå·¥ä½œç›®å½•,æˆ‘ç›´æ¥åœ¨homeé‡Œåˆ›å»ºäº†ä¸ªæ–‡ä»¶å¤¹.</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ virtualenv --system-site-packages ~/tensorflow</span><br></pre></td></tr></table></figure>
<p>ç„¶åè¿›å…¥ç›®å½•æ¿€æ´»æ²™ç®±.</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">$ cd ~/tensorflow</span><br><span class="line">$ source bin/activate</span><br></pre></td></tr></table></figure>
<h2 id="4-install-tensorflow-in-virtualenv"><a href="#4-install-tensorflow-in-virtualenv" class="headerlink" title="4. install tensorflow in virtualenv"></a>4. install tensorflow in virtualenv</h2><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">(tensorflow) âœ  tensorflow pip install <span class="variable">$TF_BINARY_URL</span></span><br></pre></td></tr></table></figure>
<h2 id="5-run-tensorflow"><a href="#5-run-tensorflow" class="headerlink" title="5. run tensorflow"></a>5. run tensorflow</h2><p><a href="http://tensorflow.org/get_started/os_setup.md#try_your_first_tensorflow_program" target="_blank" rel="external">hello world</a></p>
<figure class="highlight"><table><tr><td class="code"><pre><span class="line">(tensorflow) âœ  tensorflow python</span><br><span class="line">Python 2.7.10 (default, Jul 14 2015, 19:46:27)</span><br><span class="line">[GCC 4.2.1 Compatible Apple LLVM 6.0 (clang-600.0.39)] on darwin</span><br><span class="line">Type "help", "copyright", "credits" or "license" for more information.</span><br><span class="line">&gt;&gt;&gt; import tensorflow as tf</span><br><span class="line">&gt;&gt;&gt; hello = tf.constant('Hello,TensorFlow!')</span><br><span class="line">&gt;&gt;&gt; sess = tf.Session()</span><br><span class="line">can't determine number of CPU cores: assuming 4</span><br><span class="line">I tensorflow/core/common_runtime/local_device.cc:25] Local device intra op parallelism threads: 4</span><br><span class="line">can't determine number of CPU cores: assuming 4</span><br><span class="line">I tensorflow/core/common_runtime/local_session.cc:45] Local session inter op parallelism threads: 4</span><br><span class="line">&gt;&gt;&gt; print sess.run(hello)</span><br><span class="line">Hello,TensorFlow!</span><br><span class="line">&gt;&gt;&gt;</span><br></pre></td></tr></table></figure>
<p>letâ€™s see this tensorflow dir</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">âœ  tensorflow ll</span><br><span class="line">total 4.0K</span><br><span class="line">drwxr-xr-x 16 hp staff 544 Feb 21 10:45 bin/</span><br><span class="line">drwxr-xr-x  3 hp staff 102 Feb 21 10:38 include/</span><br><span class="line">drwxr-xr-x  3 hp staff 102 Feb 21 10:38 lib/</span><br><span class="line">-rw-r--r--  1 hp staff  60 Feb 21 10:45 pip-selfcheck.json</span><br><span class="line">âœ  tensorflow</span><br></pre></td></tr></table></figure>
<h2 id="6-install-keras"><a href="#6-install-keras" class="headerlink" title="6. install keras"></a>6. install keras</h2><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">sudo pip install keras</span><br><span class="line"></span><br><span class="line">Successfully installed keras-1.2.2 pyyaml-3.12 theano-0.8.2</span><br></pre></td></tr></table></figure>
<h2 id="Refence"><a href="#Refence" class="headerlink" title="Refence"></a>Refence</h2><ol>
<li><a href="http://tensorflow.org" target="_blank" rel="external">tensorflowå®˜æ–¹åœ°å€</a></li>
<li><a href="https://pypi.python.org/pypi/pip" target="_blank" rel="external">pipå®˜æ–¹åœ°å€</a></li>
<li><a href="https://pypi.python.org/pypi/setuptools" target="_blank" rel="external">setuptoolså®˜æ–¹åœ°å€</a></li>
<li><a href="http://www.111cn.net/phper/python/66848.htm" target="_blank" rel="external">pythonå®‰è£…setuptoolsæ­¥éª¤è¯¦è§£</a></li>
<li><a href="http://pan.baidu.com/s/1c1corG8" target="_blank" rel="external">about pdfæ–‡ä»¶ä¸‹è½½</a></li>
<li><a href="http://tflearn.org/installation/#upgrade-tensorflow" target="_blank" rel="external">tflearn.org/installation</a></li>
</ol>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[Abalone's Age]]></title>
      <url>http://iequa.com/2017/02/17/ml-Abalone-Age-2017-02-17-1413/</url>
      <content type="html"><![CDATA[<h2 id="Abaloneâ€™s-Age"><a href="#Abaloneâ€™s-Age" class="headerlink" title="Abaloneâ€™s Age"></a><a href="http://www.pkbigdata.com/common/cmpt/æˆç”µå¤§æ•°æ®åŸ¹è®­å®è·µ_ç«èµ›ä¿¡æ¯.html" target="_blank" rel="external">Abaloneâ€™s Age</a></h2><p>ã€Abaloneâ€™s Ageã€</p>
<p>é²é±¼ï¼Œåœ¨ç°ä»£æ±‰è¯­ä¸­æœ‰å¤šç§å«ä¹‰ã€‚æœ€å¸¸ç”¨çš„æ˜¯æŒ‡ä¸€ç§åŸå§‹çš„æµ·æ´‹è´ç±»ï¼Œå±äºå•å£³è½¯ä½“åŠ¨ç‰©ï¼Œå…¶åªæœ‰åŠé¢å¤–å£³ï¼Œå£³åšåšã€æ‰è€Œå®½ï¼Œé²é±¼æ˜¯ä¸­å›½ä¼ ç»Ÿçš„åè´µé£Ÿæï¼Œä½å±…å››å¤§æµ·å‘³ä¹‹é¦–ã€‚<br>é²é±¼çš„ä¼˜åŠ£ä¸å¹´é¾„ç›¸å…³ã€‚ä¸€èˆ¬æ¥è¯´ï¼Œæˆ‘ä»¬å¯ä»¥æ•°é²é±¼çš„ç”Ÿé•¿çº¹æ¥ç¡®å®šé²é±¼çš„å¹´é¾„ï¼Œä½†æ•°ç”Ÿé•¿çº¹ä¹Ÿæ˜¯ä¸€ä»¶æŒºéº»çƒ¦çš„äº‹æƒ…ã€‚åœ¨è¿™é‡Œï¼Œæˆ‘ä»¬é‡‡ç”¨ä¸é²é±¼å¹´é¾„æœ‰å…³çš„å› ç´ æ¥é¢„æµ‹é²é±¼çš„å¹´é¾„ã€‚</p>
<p>æ„å»ºPybrainç¥ç»ç½‘ç»œçš„åŸºæœ¬æ­¥éª¤ï¼š</p>
<ol>
<li>æ„å»ºç¥ç»ç½‘è·¯</li>
<li>æ„é€ æ•°æ®é›†</li>
<li>è®­ç»ƒç¥ç»ç½‘ç»œ</li>
<li>é¢„æµ‹æµ‹è¯•é›†ç»“æœ</li>
<li>æäº¤,éªŒè¯å’Œåˆ†æ</li>
</ol>
<h2 id="1-åˆ†æé—®é¢˜"><a href="#1-åˆ†æé—®é¢˜" class="headerlink" title="1. åˆ†æé—®é¢˜"></a>1. åˆ†æé—®é¢˜</h2><p>åˆ†æä»€ä¹ˆç‰¹å¾æ˜¯æ›´é‡è¦çš„</p>
<p><strong><font color="red">å…ˆçœ‹çœ‹æ•°æ®é•¿ä»€ä¹ˆæ · </font></strong> è¿˜æ˜¯ç”¨pandasåŠ è½½æ•°æ®</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment"># è¿™ä¸ªipython notebookä¸»è¦æ˜¯æˆ‘è§£å†³Kaggle Titanicé—®é¢˜çš„æ€è·¯å’Œè¿‡ç¨‹</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> pandas <span class="keyword">as</span> pd <span class="comment">#æ•°æ®åˆ†æ</span></span><br><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np <span class="comment">#ç§‘å­¦è®¡ç®—</span></span><br><span class="line"><span class="keyword">from</span> pandas <span class="keyword">import</span> Series,DataFrame</span><br><span class="line"></span><br><span class="line">data_train = pd.read_csv(<span class="string">"traindata.csv"</span>)</span><br><span class="line"><span class="keyword">print</span> data_train.columns</span><br><span class="line"><span class="keyword">print</span> <span class="string">"============ df info ============"</span></span><br><span class="line">data_train.info()</span><br></pre></td></tr></table></figure>
<pre><code>Index([u&apos;Sex&apos;, u&apos;Length&apos;, u&apos;Diameter&apos;, u&apos;Hight&apos;, u&apos;Whole&apos;, u&apos;Shucked&apos;,
       u&apos;Viscera&apos;, u&apos;Shell&apos;, u&apos;Rings&apos;],
      dtype=&apos;object&apos;)
============ df info ============
&lt;class &apos;pandas.core.frame.DataFrame&apos;&gt;
RangeIndex: 3177 entries, 0 to 3176
Data columns (total 9 columns):
Sex         3177 non-null object
Length      3177 non-null float64
Diameter    3177 non-null float64
Hight       3177 non-null float64
Whole       3177 non-null float64
Shucked     3177 non-null float64
Viscera     3177 non-null float64
Shell       3177 non-null float64
Rings       3177 non-null int64
dtypes: float64(7), int64(1), object(1)
memory usage: 223.5+ KB
</code></pre><font color="blue">æˆ‘ä»¬çœ‹å¤§æ¦‚æœ‰ä»¥ä¸‹è¿™äº›å­—æ®µ</font>

<ol>
<li>Sex</li>
<li>Length</li>
<li>Diameter</li>
<li>Hight</li>
<li>Whole</li>
<li>Shucked</li>
<li>Viscera</li>
<li>Shell</li>
<li>Rings =&gt; Age</li>
</ol>
<p>ä¸Šé¢çš„æ•°æ®è¯´ä»€ä¹ˆäº†ï¼Ÿå®ƒå‘Šè¯‰æˆ‘ä»¬ï¼Œä¸€å…±æœ‰9 Column æ•°æ®ï¼Œè®­ç»ƒæ•°æ®ä¸­æ€»å…±æœ‰ 3177 åª abaloneï¼Œæ‰€æœ‰çš„æ•°æ®éƒ½æ˜¯å…¨çš„ã€‚</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">data_train.describe()</span><br></pre></td></tr></table></figure>
<table>
<thead>
<tr>
<th>~</th>
<th>Length</th>
<th>Diameter</th>
<th>Hight</th>
<th>Whole</th>
<th>Shucked</th>
<th>Viscera</th>
<th>Shell</th>
<th>Rings</th>
</tr>
</thead>
<tbody>
<tr>
<td>count</td>
<td>3177</td>
<td>3177</td>
<td>3177</td>
<td>3177</td>
<td>3177</td>
<td>3177</td>
<td>3177</td>
<td>3177</td>
</tr>
<tr>
<td>mean</td>
<td>0.52</td>
<td>0.41</td>
<td>0.14</td>
<td>0.83</td>
<td>0.36</td>
<td>0.18</td>
<td>0.24</td>
<td>9.92</td>
</tr>
</tbody>
</table>
<ul>
<li><font color="blue">ã€å¯¹æ•°æ®çš„è®¤è¯†å¤ªé‡è¦äº†ï¼ã€<font></font></font></li>
<li><font color="red">ã€å¯¹æ•°æ®çš„è®¤è¯†å¤ªé‡è¦äº†ï¼ã€<font></font></font></li>
<li><font color="green">ã€å¯¹æ•°æ®çš„è®¤è¯†å¤ªé‡è¦äº†ï¼ã€<font></font></font></li>
</ul>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">data_train</span><br></pre></td></tr></table></figure>
<h2 id="2-å‡†å¤‡æ•°æ®"><a href="#2-å‡†å¤‡æ•°æ®" class="headerlink" title="2. å‡†å¤‡æ•°æ®"></a>2. å‡†å¤‡æ•°æ®</h2><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment"># å¯¹ sex è¿›è¡Œ one-hot ç¼–ç </span></span><br><span class="line">dummies_Sex = pd.get_dummies(data_train[<span class="string">'Sex'</span>], prefix= <span class="string">'Sex'</span>)</span><br><span class="line"></span><br><span class="line">df = pd.concat([data_train, dummies_Sex], axis=<span class="number">1</span>)</span><br><span class="line">df.drop([<span class="string">'Sex'</span>], axis=<span class="number">1</span>, inplace=<span class="keyword">True</span>)</span><br><span class="line">train_df = df</span><br><span class="line">train_df</span><br></pre></td></tr></table></figure>
<h2 id="3-æ„é€ ç¥ç»ç½‘ç»œ-NN"><a href="#3-æ„é€ ç¥ç»ç½‘ç»œ-NN" class="headerlink" title="3. æ„é€ ç¥ç»ç½‘ç»œ NN"></a>3. æ„é€ ç¥ç»ç½‘ç»œ NN</h2><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"><span class="keyword">import</span> pandas <span class="keyword">as</span> pd</span><br><span class="line"></span><br><span class="line"><span class="keyword">from</span> pandas <span class="keyword">import</span> Series,DataFrame</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> pandas.io.data <span class="keyword">as</span> wb</span><br><span class="line"></span><br><span class="line"><span class="keyword">from</span> pybrain.structure <span class="keyword">import</span> *</span><br><span class="line"><span class="keyword">from</span> pybrain.datasets <span class="keyword">import</span> SupervisedDataSet</span><br><span class="line"><span class="keyword">from</span> pybrain.supervised.trainers <span class="keyword">import</span> BackpropTrainer</span><br><span class="line"></span><br><span class="line"><span class="comment"># createa neural network</span></span><br><span class="line">fnn = FeedForwardNetwork()</span><br><span class="line"></span><br><span class="line"><span class="comment"># create three layers, input layer:2 input unit; hidden layer: 10 units; output layer: 1 output</span></span><br><span class="line">inLayer = LinearLayer(<span class="number">10</span>, name=<span class="string">'inLayer'</span>)</span><br><span class="line">hiddenLayer0 = SigmoidLayer(<span class="number">3</span>, name=<span class="string">'hiddenLayer0'</span>)</span><br><span class="line">outLayer = LinearLayer(<span class="number">1</span>, name=<span class="string">'outLayer'</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># add three layers to the neural network</span></span><br><span class="line">fnn.addInputModule(inLayer)</span><br><span class="line">fnn.addModule(hiddenLayer0)</span><br><span class="line">fnn.addOutputModule(outLayer)</span><br><span class="line"></span><br><span class="line"><span class="comment"># link three layers</span></span><br><span class="line">in_to_hidden0 = FullConnection(inLayer,hiddenLayer0)</span><br><span class="line">hidden0_to_out = FullConnection(hiddenLayer0, outLayer)</span><br><span class="line"></span><br><span class="line"><span class="comment"># add the links to neural network</span></span><br><span class="line">fnn.addConnection(in_to_hidden0)</span><br><span class="line">fnn.addConnection(hidden0_to_out)</span><br><span class="line"></span><br><span class="line"><span class="comment"># make neural network come into effect</span></span><br><span class="line">fnn.sortModules()</span><br></pre></td></tr></table></figure>
<h2 id="4-æ„é€ æ•°æ®é›†"><a href="#4-æ„é€ æ•°æ®é›†" class="headerlink" title="4. æ„é€ æ•°æ®é›†"></a>4. æ„é€ æ•°æ®é›†</h2><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment"># obtain the original data</span></span><br><span class="line"></span><br><span class="line">x1 = train_df[<span class="string">'Length'</span>]</span><br><span class="line">x2 = train_df[<span class="string">'Diameter'</span>]</span><br><span class="line">x3 = train_df[<span class="string">'Hight'</span>]</span><br><span class="line">x4 = train_df[<span class="string">'Whole'</span>]</span><br><span class="line">x5 = train_df[<span class="string">'Shucked'</span>]</span><br><span class="line">x6 = train_df[<span class="string">'Viscera'</span>]</span><br><span class="line">x7 = train_df[<span class="string">'Shell'</span>]</span><br><span class="line">x8 = train_df[<span class="string">'Sex_F'</span>]</span><br><span class="line">x9 = train_df[<span class="string">'Sex_I'</span>]</span><br><span class="line">x10 = train_df[<span class="string">'Sex_M'</span>]</span><br><span class="line"></span><br><span class="line">y = train_df[<span class="string">'Rings'</span>]</span><br><span class="line"></span><br><span class="line"><span class="comment"># definite the dataset as two input , one output</span></span><br><span class="line">DS = SupervisedDataSet(<span class="number">10</span>,<span class="number">1</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># add data element to the dataset</span></span><br><span class="line"><span class="comment"># å¾€æ•°æ®é›†å†…åŠ æ ·æœ¬ç‚¹</span></span><br><span class="line"><span class="comment"># å‡è®¾x1ï¼Œx2ï¼Œx3æ˜¯è¾“å…¥çš„ä¸‰ä¸ªç»´åº¦å‘é‡ï¼Œyæ˜¯è¾“å‡ºå‘é‡ï¼Œå¹¶ä¸”å®ƒä»¬çš„é•¿åº¦ç›¸åŒ</span></span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> np.arange(len(train_df)):</span><br><span class="line">    DS.addSample([x1[i],x2[i],x3[i],x4[i],x5[i],x6[i],x7[i],x8[i],x9[i],x10[i]],[y[i]])</span><br><span class="line"></span><br><span class="line"><span class="comment"># you can get your input/output this way</span></span><br><span class="line"><span class="comment"># å¦‚æœè¦è·å¾—é‡Œé¢çš„è¾“å…¥ï¼è¾“å‡ºæ—¶ï¼Œå¯ä»¥ç”¨</span></span><br><span class="line">X = DS[<span class="string">'input'</span>]</span><br><span class="line">Y = DS[<span class="string">'target'</span>]</span><br><span class="line"></span><br><span class="line"><span class="comment"># split the dataset into train dataset and test dataset</span></span><br><span class="line"><span class="comment"># å¦‚æœè¦æŠŠæ•°æ®é›†åˆ‡åˆ†æˆè®­ç»ƒé›†å’Œæµ‹è¯•é›†ï¼Œå¯ä»¥ç”¨ä¸‹é¢çš„è¯­å¥ï¼Œè®­ç»ƒé›†ï¼šæµ‹è¯•é›†ï¼8:2</span></span><br><span class="line"><span class="comment"># ä¸ºäº†æ–¹ä¾¿ä¹‹åçš„è°ƒç”¨ï¼Œå¯ä»¥æŠŠè¾“å…¥å’Œè¾“å‡ºæ‹å‡ºæ¥</span></span><br><span class="line">dataTrain, dataTest = DS.splitWithProportion(<span class="number">0.8</span>)</span><br><span class="line">xTrain, yTrain = dataTrain[<span class="string">'input'</span>],dataTrain[<span class="string">'target'</span>]</span><br><span class="line">xTest, yTest = dataTest[<span class="string">'input'</span>], dataTest[<span class="string">'target'</span>]</span><br><span class="line"></span><br><span class="line"><span class="keyword">print</span> <span class="string">"bulid data sets end ï¼"</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#print xTest[1]</span></span><br><span class="line">type(xTest)</span><br></pre></td></tr></table></figure>
<pre><code>bulid data sets end ï¼

numpy.ndarray
</code></pre><h2 id="5-è®­ç»ƒç¥ç»ç½‘ç»œ"><a href="#5-è®­ç»ƒç¥ç»ç½‘ç»œ" class="headerlink" title="5. è®­ç»ƒç¥ç»ç½‘ç»œ"></a>5. è®­ç»ƒç¥ç»ç½‘ç»œ</h2><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment"># train the NN</span></span><br><span class="line"><span class="comment"># we use BP Algorithm</span></span><br><span class="line"><span class="comment"># verbose = True means print th total error</span></span><br><span class="line"><span class="keyword">print</span> <span class="string">"trainer start..."</span></span><br><span class="line">trainer = BackpropTrainer(fnn, dataTrain, verbose=<span class="keyword">False</span>,learningrate=<span class="number">0.01</span>)</span><br><span class="line"><span class="keyword">print</span> <span class="string">"run..."</span></span><br><span class="line"><span class="comment"># set the epoch times to make the NN  fit</span></span><br><span class="line">trainer.trainUntilConvergence(maxEpochs=<span class="number">500</span>)</span><br><span class="line"><span class="keyword">print</span> <span class="string">"trainer end!"</span></span><br></pre></td></tr></table></figure>
<pre><code>trainer start...
run...
trainer end!
</code></pre><h2 id="6-é¢„æµ‹testdata"><a href="#6-é¢„æµ‹testdata" class="headerlink" title="6. é¢„æµ‹testdata"></a>6. é¢„æµ‹testdata</h2><figure class="highlight python"><table><tr><td class="code"><pre><span class="line">data_test = pd.read_csv(<span class="string">"testdata.csv"</span>)</span><br><span class="line"><span class="comment"># å¯¹ sex è¿›è¡Œ one-hot ç¼–ç </span></span><br><span class="line">dummies_Sex = pd.get_dummies(data_test[<span class="string">'Sex'</span>], prefix= <span class="string">'Sex'</span>)</span><br><span class="line"></span><br><span class="line">df = pd.concat([data_test, dummies_Sex], axis=<span class="number">1</span>)</span><br><span class="line">df.drop([<span class="string">'Sex'</span>], axis=<span class="number">1</span>, inplace=<span class="keyword">True</span>)</span><br><span class="line">df_test = df</span><br><span class="line">df_test</span><br><span class="line"></span><br><span class="line">test = df_test.filter(regex=<span class="string">'Length|Diameter|Hight|Whole|Shucked|Viscera|Shell|Sex_F|Sex_I|Sex_M'</span>)</span><br><span class="line">test</span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">xTest = test.as_matrix()</span><br><span class="line">xTest</span><br><span class="line"><span class="comment"># prediction = fnn.activate(xTest[1])</span></span><br><span class="line"><span class="comment"># print("the prediction number is :",prediction," the real number is:  ",yTest[1])</span></span><br><span class="line">predict_resutl=[]</span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> np.arange(len(xTest)):</span><br><span class="line">    res = fnn.activate(xTest[i])[<span class="number">0</span>]</span><br><span class="line">    predict_resutl.append(round(res))</span><br><span class="line"></span><br><span class="line">final_res = np.array(predict_resutl).T</span><br><span class="line"></span><br><span class="line">result = pd.DataFrame(&#123;<span class="string">'ID'</span>:data_test[<span class="string">'ID'</span>].as_matrix(), <span class="string">'Rings'</span>:final_res&#125;)</span><br><span class="line">result</span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">result.to_csv(<span class="string">"abalone_predictions.csv"</span>, index=<span class="keyword">False</span>)</span><br></pre></td></tr></table></figure>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[Kaggle_Titanic]]></title>
      <url>http://iequa.com/2017/02/16/pybrain-NN-BPNN-Titanic-2017-02-16-1732-ipynb/</url>
      <content type="html"><![CDATA[<h2 id="æ³°å¦å°¼å…‹å·"><a href="#æ³°å¦å°¼å…‹å·" class="headerlink" title="æ³°å¦å°¼å…‹å·"></a><a href="https://www.kaggle.com/c/titanic" target="_blank" rel="external">æ³°å¦å°¼å…‹å·</a></h2><p>ã€Jack and Roseã€çš„æ•…äº‹ï¼Œè±ªåæ¸¸è‰‡å€’äº†ï¼Œå¤§å®¶éƒ½æƒŠæé€ƒç”Ÿï¼Œå¯æ˜¯æ•‘ç”Ÿè‰‡çš„æ•°é‡æœ‰é™ï¼Œæ— æ³•äººäººéƒ½æœ‰ï¼Œå‰¯èˆ¹é•¿å‘è¯äº†ã€lady and kid firstï¼ã€ï¼Œæ‰€ä»¥æ˜¯å¦è·æ•‘å…¶å®å¹¶ééšæœºï¼Œè€Œæ˜¯åŸºäºä¸€äº›èƒŒæ™¯æœ‰rankå…ˆåçš„ã€‚<br><br>è®­ç»ƒå’Œæµ‹è¯•æ•°æ®æ˜¯ä¸€äº›ä¹˜å®¢çš„ä¸ªäººä¿¡æ¯ä»¥åŠå­˜æ´»çŠ¶å†µï¼Œè¦å°è¯•æ ¹æ®å®ƒç”Ÿæˆåˆé€‚çš„æ¨¡å‹å¹¶é¢„æµ‹å…¶ä»–äººçš„å­˜æ´»çŠ¶å†µã€‚<br></p>
<p>è¿™æ˜¯ä¸€ä¸ªäºŒåˆ†ç±»é—®é¢˜ï¼Œå¾ˆå¤šåˆ†ç±»ç®—æ³•éƒ½å¯ä»¥è§£å†³ã€‚</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">æ„å»ºPybrainç¥ç»ç½‘ç»œçš„åŸºæœ¬æ­¥éª¤ï¼š</span><br><span class="line"></span><br><span class="line">1. æ„å»ºç¥ç»ç½‘è·¯</span><br><span class="line">2. æ„é€ æ•°æ®é›†</span><br><span class="line">3. è®­ç»ƒç¥ç»ç½‘ç»œ</span><br><span class="line">4. é¢„æµ‹æµ‹è¯•é›†ç»“æœ</span><br><span class="line">5. éªŒè¯å’Œåˆ†æ</span><br></pre></td></tr></table></figure>
<h2 id="1-åˆ†æé—®é¢˜"><a href="#1-åˆ†æé—®é¢˜" class="headerlink" title="1. åˆ†æé—®é¢˜"></a>1. åˆ†æé—®é¢˜</h2><blockquote>
<p>åˆ†æä»€ä¹ˆç‰¹å¾æ˜¯æ›´é‡è¦çš„</p>
</blockquote>
<p>å…ˆçœ‹çœ‹æ•°æ®é•¿ä»€ä¹ˆæ ·ï¼Ÿ è¿˜æ˜¯ç”¨pandasåŠ è½½æ•°æ®</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment"># è¿™ä¸ªipython notebookä¸»è¦æ˜¯æˆ‘è§£å†³Kaggle Titanicé—®é¢˜çš„æ€è·¯å’Œè¿‡ç¨‹</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> pandas <span class="keyword">as</span> pd <span class="comment">#æ•°æ®åˆ†æ</span></span><br><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np <span class="comment">#ç§‘å­¦è®¡ç®—</span></span><br><span class="line"><span class="keyword">from</span> pandas <span class="keyword">import</span> Series,DataFrame</span><br><span class="line"></span><br><span class="line">data_train = pd.read_csv(<span class="string">"Train.csv"</span>)</span><br><span class="line"><span class="keyword">print</span> data_train.columns</span><br><span class="line"><span class="keyword">print</span> <span class="string">"============ df info ============"</span></span><br><span class="line">data_train.info()</span><br></pre></td></tr></table></figure>
<pre><code>Index([u&apos;PassengerId&apos;, u&apos;Survived&apos;, u&apos;Pclass&apos;, u&apos;Name&apos;, u&apos;Sex&apos;, u&apos;Age&apos;,
       u&apos;SibSp&apos;, u&apos;Parch&apos;, u&apos;Ticket&apos;, u&apos;Fare&apos;, u&apos;Cabin&apos;, u&apos;Embarked&apos;],
      dtype=&apos;object&apos;)
============ df info ============
&lt;class &apos;pandas.core.frame.DataFrame&apos;&gt;
RangeIndex: 891 entries, 0 to 890
Data columns (total 12 columns):
PassengerId    891 non-null int64
Survived       891 non-null int64
Pclass         891 non-null int64
Name           891 non-null object
Sex            891 non-null object
Age            714 non-null float64
SibSp          891 non-null int64
Parch          891 non-null int64
Ticket         891 non-null object
Fare           891 non-null float64
Cabin          204 non-null object
Embarked       889 non-null object
dtypes: float64(2), int64(5), object(5)
memory usage: 83.6+ KB
</code></pre><p>æˆ‘ä»¬çœ‹å¤§æ¦‚æœ‰ä»¥ä¸‹è¿™äº›å­—æ®µ</p>
<p>PassengerId =&gt; ä¹˜å®¢ID<br>Pclass =&gt; ä¹˜å®¢ç­‰çº§(1/2/3ç­‰èˆ±ä½)<br>Name =&gt; ä¹˜å®¢å§“å<br>Sex =&gt; æ€§åˆ«<br>Age =&gt; å¹´é¾„<br>SibSp =&gt; å ‚å…„å¼Ÿ/å¦¹ä¸ªæ•°<br>Parch =&gt; çˆ¶æ¯ä¸å°å­©ä¸ªæ•°<br>Ticket =&gt; èˆ¹ç¥¨ä¿¡æ¯<br>Fare =&gt; ç¥¨ä»·<br>Cabin =&gt; å®¢èˆ±<br>Embarked =&gt; ç™»èˆ¹æ¸¯å£</p>
<p>ä¸Šé¢çš„æ•°æ®è¯´ä»€ä¹ˆäº†ï¼Ÿå®ƒå‘Šè¯‰æˆ‘ä»¬ï¼Œè®­ç»ƒæ•°æ®ä¸­æ€»å…±æœ‰891åä¹˜å®¢ï¼Œä½†æ˜¯å¾ˆä¸å¹¸ï¼Œæˆ‘ä»¬æœ‰äº›å±æ€§çš„æ•°æ®ä¸å…¨ï¼Œæ¯”å¦‚è¯´ï¼š</p>
<ul>
<li>Ageï¼ˆå¹´é¾„ï¼‰å±æ€§åªæœ‰714åä¹˜å®¢æœ‰è®°å½•</li>
<li>Cabinï¼ˆå®¢èˆ±ï¼‰æ›´æ˜¯åªæœ‰204åä¹˜å®¢æ˜¯å·²çŸ¥çš„</li>
</ul>
<p>å†ç„ä¸€çœ¼å…·ä½“æ•°æ®æ•°å€¼æƒ…å†µï¼Œå¾—åˆ°æ•°å€¼å‹æ•°æ®çš„ä¸€äº›åˆ†å¸ƒ(å› ä¸ºæœ‰äº›å±æ€§ï¼Œæ¯”å¦‚å§“åï¼Œæ˜¯æ–‡æœ¬å‹ï¼›è€Œå¦å¤–ä¸€äº›å±æ€§ï¼Œæ¯”å¦‚ç™»èˆ¹æ¸¯å£ï¼Œæ˜¯ç±»ç›®å‹ã€‚è¿™äº›æˆ‘ä»¬ç”¨ä¸‹é¢çš„å‡½æ•°æ˜¯çœ‹ä¸åˆ°çš„)</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">data_train.describe()</span><br></pre></td></tr></table></figure>
<table>
<thead>
<tr>
<th>-</th>
<th>PassengerId</th>
<th>Survived</th>
<th>Pclass</th>
<th>Age</th>
<th>SibSp</th>
<th>Parch</th>
<th>Fare</th>
</tr>
</thead>
<tbody>
<tr>
<td>count</td>
<td>891.000000</td>
<td>891.000000</td>
<td>891.000000</td>
<td>714.000000</td>
<td>891.000000</td>
<td>891.000000</td>
<td>891.000000</td>
</tr>
<tr>
<td>mean</td>
<td>446.000000</td>
<td>0.383838</td>
<td>2.308642</td>
<td>29.699118</td>
<td>0.523008</td>
<td>0.381594</td>
<td>32.204208</td>
</tr>
</tbody>
</table>
<p><font color="red">meanå­—æ®µå‘Šè¯‰æˆ‘ä»¬ï¼Œå¤§æ¦‚0.383838çš„äººæœ€åè·æ•‘äº†ï¼Œ2/3ç­‰èˆ±çš„äººæ•°æ¯”1ç­‰èˆ±è¦å¤šï¼Œå¹³å‡ä¹˜å®¢å¹´é¾„å¤§æ¦‚æ˜¯29.7å²(è®¡ç®—è¿™ä¸ªæ—¶å€™ä¼šç•¥æ‰æ— è®°å½•çš„)ç­‰ç­‰â€¦<font></font></font></p>
<ul>
<li><font color="blue">ã€å¯¹æ•°æ®çš„è®¤è¯†å¤ªé‡è¦äº†ï¼ã€<font></font></font></li>
<li><font color="red">ã€å¯¹æ•°æ®çš„è®¤è¯†å¤ªé‡è¦äº†ï¼ã€<font></font></font></li>
<li><font color="green">ã€å¯¹æ•°æ®çš„è®¤è¯†å¤ªé‡è¦äº†ï¼ã€<font></font></font></li>
</ul>
<p>æ€»ç»“ : </p>
<ol>
<li>Cabinï¼Œæ²¡çœ‹å‡ºä»€ä¹ˆæ˜æ˜¾ç‰¹å¾ï¼Œç¼ºå¤±å€¼åˆå¤ªå¤š</li>
<li>Ageï¼šå¯ä»¥å°è¯•è¡¥å…¨ç¼ºå¤±çš„æ•°æ®</li>
</ol>
<p><strong>é€šå¸¸é‡åˆ°ç¼ºå€¼çš„æƒ…å†µï¼Œæˆ‘ä»¬ä¼šæœ‰å‡ ç§å¸¸è§çš„å¤„ç†æ–¹å¼</strong><br><br></p>
<ol>
<li>å¦‚æœç¼ºå€¼çš„æ ·æœ¬å æ€»æ•°æ¯”ä¾‹æé«˜ï¼Œæˆ‘ä»¬å¯èƒ½å°±ç›´æ¥èˆå¼ƒäº†ï¼Œä½œä¸ºç‰¹å¾åŠ å…¥çš„è¯ï¼Œå¯èƒ½åå€’å¸¦å…¥noiseï¼Œå½±å“æœ€åçš„ç»“æœäº†</li>
<li>å¦‚æœç¼ºå€¼çš„æ ·æœ¬é€‚ä¸­ï¼Œè€Œè¯¥å±æ€§éè¿ç»­å€¼ç‰¹å¾å±æ€§(æ¯”å¦‚è¯´ç±»ç›®å±æ€§)ï¼Œé‚£å°±æŠŠNaNä½œä¸ºä¸€ä¸ªæ–°ç±»åˆ«ï¼ŒåŠ åˆ°ç±»åˆ«ç‰¹å¾ä¸­</li>
<li>å¦‚æœç¼ºå€¼çš„æ ·æœ¬é€‚ä¸­ï¼Œè€Œè¯¥å±æ€§ä¸ºè¿ç»­å€¼ç‰¹å¾å±æ€§ï¼Œæœ‰æ—¶å€™æˆ‘ä»¬ä¼šè€ƒè™‘ç»™å®šä¸€ä¸ªstep(æ¯”å¦‚è¿™é‡Œçš„ageï¼Œæˆ‘ä»¬å¯ä»¥è€ƒè™‘æ¯éš”2/3å²ä¸ºä¸€ä¸ªæ­¥é•¿)ï¼Œç„¶åæŠŠå®ƒç¦»æ•£åŒ–ï¼Œä¹‹åæŠŠNaNä½œä¸ºä¸€ä¸ªtypeåŠ åˆ°å±æ€§ç±»ç›®ä¸­ã€‚</li>
<li>æœ‰äº›æƒ…å†µä¸‹ï¼Œç¼ºå¤±çš„å€¼ä¸ªæ•°å¹¶ä¸æ˜¯ç‰¹åˆ«å¤šï¼Œé‚£æˆ‘ä»¬ä¹Ÿå¯ä»¥è¯•ç€æ ¹æ®å·²æœ‰çš„å€¼ï¼Œæ‹Ÿåˆä¸€ä¸‹æ•°æ®ï¼Œè¡¥å……ä¸Šã€‚</li>
</ol>
<p>æœ¬ä¾‹ä¸­ï¼Œåä¸¤ç§å¤„ç†æ–¹å¼åº”è¯¥éƒ½æ˜¯å¯è¡Œçš„ï¼Œæˆ‘ä»¬å…ˆè¯•è¯•æ‹Ÿåˆè¡¥å…¨å§(æ²¡æœ‰ç‰¹åˆ«å¤šçš„èƒŒæ™¯å¯ä¾›æˆ‘ä»¬æ‹Ÿåˆï¼Œè¿™ä¸ä¸€å®šæ˜¯ä¸€ä¸ªå¥½çš„é€‰æ‹©)</p>
<p>æˆ‘ä»¬è¿™é‡Œç”¨scikit-learnä¸­çš„RandomForestæ¥æ‹Ÿåˆä¸€ä¸‹ç¼ºå¤±çš„å¹´é¾„æ•°æ®<br></p>
<ol>
<li>ä»æ•°æ®æ¥ä¼°è®¡ Age åº”è¯¥æ˜¯æ¯”è¾ƒé‡è¦çš„, è¿˜æœ‰æ¯•ç«Ÿ å‰¯èˆ¹é•¿å‘è¯äº†ã€lady and kid firstï¼ã€</li>
<li>Cabin ç¼ºå¤±å€¼å¤ªå¤šäº†ï¼Œå…ˆæŒ‰Cabinæœ‰æ— æ•°æ®ï¼Œå°†è¿™ä¸ªå±æ€§å¤„ç†æˆYeså’ŒNoä¸¤ç§ç±»å‹å§</li>
</ol>
<h2 id="2-å‡†å¤‡æ•°æ®"><a href="#2-å‡†å¤‡æ•°æ®" class="headerlink" title="2. å‡†å¤‡æ•°æ®"></a>2. å‡†å¤‡æ•°æ®</h2><ol>
<li>Age ä¸ cabin è¡¥å…¨</li>
<li>one-hot ç¼–ç </li>
<li>Feature Scaling</li>
</ol>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment"># æˆ‘ä»¬è¿™é‡Œç”¨scikit-learnä¸­çš„RandomForestæ¥æ‹Ÿåˆä¸€ä¸‹ç¼ºå¤±çš„å¹´é¾„æ•°æ®</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">from</span> sklearn.ensemble <span class="keyword">import</span> RandomForestRegressor</span><br><span class="line"> </span><br><span class="line"><span class="comment">### ä½¿ç”¨ RandomForestClassifier å¡«è¡¥ç¼ºå¤±çš„å¹´é¾„å±æ€§</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">set_missing_ages</span><span class="params">(df)</span>:</span></span><br><span class="line">    </span><br><span class="line">    <span class="comment"># æŠŠå·²æœ‰çš„æ•°å€¼å‹ç‰¹å¾å–å‡ºæ¥ä¸¢è¿›Random Forest Regressorä¸­</span></span><br><span class="line">    age_df = df[[<span class="string">'Age'</span>,<span class="string">'Fare'</span>, <span class="string">'Parch'</span>, <span class="string">'SibSp'</span>, <span class="string">'Pclass'</span>]]</span><br><span class="line"></span><br><span class="line">    <span class="comment"># ä¹˜å®¢åˆ†æˆå·²çŸ¥å¹´é¾„å’ŒæœªçŸ¥å¹´é¾„ä¸¤éƒ¨åˆ†</span></span><br><span class="line">    known_age = age_df[age_df.Age.notnull()].as_matrix()</span><br><span class="line">    unknown_age = age_df[age_df.Age.isnull()].as_matrix()</span><br><span class="line"></span><br><span class="line">    <span class="comment"># yå³ç›®æ ‡å¹´é¾„</span></span><br><span class="line">    y = known_age[:, <span class="number">0</span>] <span class="comment">## Age â€˜s value list</span></span><br><span class="line"></span><br><span class="line">    <span class="comment"># Xå³ç‰¹å¾å±æ€§å€¼</span></span><br><span class="line">    X = known_age[:, <span class="number">1</span>:] <span class="comment">## Fare çš„å€¼ list</span></span><br><span class="line"></span><br><span class="line">    <span class="comment"># fitåˆ°RandomForestRegressorä¹‹ä¸­</span></span><br><span class="line">    rfr = RandomForestRegressor(random_state=<span class="number">0</span>, n_estimators=<span class="number">2000</span>, n_jobs=<span class="number">-1</span>)</span><br><span class="line">    rfr.fit(X, y)</span><br><span class="line">    </span><br><span class="line">    <span class="comment"># ç”¨å¾—åˆ°çš„æ¨¡å‹è¿›è¡ŒæœªçŸ¥å¹´é¾„ç»“æœé¢„æµ‹</span></span><br><span class="line">    predictedAges = rfr.predict(unknown_age[:, <span class="number">1</span>::])</span><br><span class="line">    </span><br><span class="line">    <span class="comment"># ç”¨å¾—åˆ°çš„é¢„æµ‹ç»“æœå¡«è¡¥åŸç¼ºå¤±æ•°æ®</span></span><br><span class="line">    df.loc[ (df.Age.isnull()), <span class="string">'Age'</span> ] = predictedAges </span><br><span class="line">    </span><br><span class="line">    <span class="keyword">return</span> df, rfr</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">set_Cabin_type</span><span class="params">(df)</span>:</span></span><br><span class="line">    df.loc[ (df.Cabin.notnull()), <span class="string">'Cabin'</span> ] = <span class="string">"Yes"</span></span><br><span class="line">    df.loc[ (df.Cabin.isnull()), <span class="string">'Cabin'</span> ] = <span class="string">"No"</span></span><br><span class="line">    <span class="keyword">return</span> df</span><br><span class="line"></span><br><span class="line">data_train, rfr = set_missing_ages(data_train)</span><br><span class="line">data_train = set_Cabin_type(data_train)</span><br><span class="line">data_train</span><br></pre></td></tr></table></figure>
<p><strong>one-hot ç¼–ç </strong></p>
<p>å› ä¸ºé€»è¾‘å›å½’å»ºæ¨¡æ—¶ï¼Œéœ€è¦è¾“å…¥çš„ç‰¹å¾éƒ½æ˜¯æ•°å€¼å‹ç‰¹å¾ï¼Œæˆ‘ä»¬é€šå¸¸ä¼šå…ˆå¯¹ç±»ç›®å‹çš„ç‰¹å¾å› å­åŒ–/one-hotç¼–ç ã€‚ <br><br>ä»€ä¹ˆå«åšå› å­åŒ–/one-hotç¼–ç ï¼Ÿä¸¾ä¸ªä¾‹å­ï¼š<font><br></font></p>
<p>ä»¥Embarkedä¸ºä¾‹ï¼ŒåŸæœ¬ä¸€ä¸ªå±æ€§ç»´åº¦ï¼Œå› ä¸ºå…¶å–å€¼å¯ä»¥æ˜¯[â€˜Sâ€™,â€™Câ€™,â€™Qâ€˜]ï¼Œè€Œå°†å…¶å¹³å±•å¼€ä¸ºâ€™Embarked_Câ€™,â€™Embarked_Sâ€™, â€˜Embarked_Qâ€™ä¸‰ä¸ªå±æ€§<font><br></font></p>
<ol>
<li>åŸEmbarkedå–Sçš„ï¼Œåœ¨æ­¤å¤„çš„â€Embarked_Sâ€ä¸‹å–å€¼ä¸º1ï¼Œåœ¨â€™Embarked_Câ€™, â€˜Embarked_Qâ€™ä¸‹å–å€¼ä¸º0<br></li>
<li>åŸEmbarkedå–Cçš„ï¼Œåœ¨æ­¤å¤„çš„â€Embarked_Câ€ä¸‹å–å€¼ä¸º1ï¼Œåœ¨â€™Embarked_Sâ€™, â€˜Embarked_Qâ€™ä¸‹å–å€¼ä¸º0<br></li>
<li>åŸEmbarkedå–Qçš„ï¼Œåœ¨æ­¤å¤„çš„â€Embarked_Qâ€ä¸‹å–å€¼ä¸º1ï¼Œåœ¨â€™Embarked_Câ€™, â€˜Embarked_Sâ€™ä¸‹å–å€¼ä¸º0<br></li>
</ol>
<p>æˆ‘ä»¬ä½¿ç”¨pandasçš„â€get_dummiesâ€æ¥å®Œæˆè¿™ä¸ªå·¥ä½œï¼Œå¹¶æ‹¼æ¥åœ¨åŸæ¥çš„â€data_trainâ€ä¹‹ä¸Šï¼Œå¦‚ä¸‹æ‰€ç¤ºã€‚<br></p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment"># å› ä¸ºé€»è¾‘å›å½’å»ºæ¨¡æ—¶ï¼Œéœ€è¦è¾“å…¥çš„ç‰¹å¾éƒ½æ˜¯æ•°å€¼å‹ç‰¹å¾</span></span><br><span class="line"><span class="comment"># æˆ‘ä»¬å…ˆå¯¹ç±»ç›®å‹çš„ç‰¹å¾ç¦»æ•£/å› å­åŒ–</span></span><br><span class="line"><span class="comment"># ä»¥Cabinä¸ºä¾‹ï¼ŒåŸæœ¬ä¸€ä¸ªå±æ€§ç»´åº¦ï¼Œå› ä¸ºå…¶å–å€¼å¯ä»¥æ˜¯['yes','no']ï¼Œè€Œå°†å…¶å¹³å±•å¼€ä¸º'Cabin_yes','Cabin_no'ä¸¤ä¸ªå±æ€§</span></span><br><span class="line"><span class="comment"># åŸæœ¬Cabinå–å€¼ä¸ºyesçš„ï¼Œåœ¨æ­¤å¤„çš„'Cabin_yes'ä¸‹å–å€¼ä¸º1ï¼Œåœ¨'Cabin_no'ä¸‹å–å€¼ä¸º0</span></span><br><span class="line"><span class="comment"># åŸæœ¬Cabinå–å€¼ä¸ºnoçš„ï¼Œåœ¨æ­¤å¤„çš„'Cabin_yes'ä¸‹å–å€¼ä¸º0ï¼Œåœ¨'Cabin_no'ä¸‹å–å€¼ä¸º1</span></span><br><span class="line"><span class="comment"># æˆ‘ä»¬ä½¿ç”¨pandasçš„get_dummiesæ¥å®Œæˆè¿™ä¸ªå·¥ä½œï¼Œå¹¶æ‹¼æ¥åœ¨åŸæ¥çš„data_trainä¹‹ä¸Šï¼Œå¦‚ä¸‹æ‰€ç¤º</span></span><br><span class="line">dummies_Cabin = pd.get_dummies(data_train[<span class="string">'Cabin'</span>], prefix= <span class="string">'Cabin'</span>)</span><br><span class="line"></span><br><span class="line">dummies_Embarked = pd.get_dummies(data_train[<span class="string">'Embarked'</span>], prefix= <span class="string">'Embarked'</span>)</span><br><span class="line"></span><br><span class="line">dummies_Sex = pd.get_dummies(data_train[<span class="string">'Sex'</span>], prefix= <span class="string">'Sex'</span>)</span><br><span class="line"></span><br><span class="line">dummies_Pclass = pd.get_dummies(data_train[<span class="string">'Pclass'</span>], prefix= <span class="string">'Pclass'</span>)</span><br><span class="line">df = pd.concat([data_train, dummies_Cabin, dummies_Embarked, dummies_Sex, dummies_Pclass], axis=<span class="number">1</span>)</span><br><span class="line">df.drop([<span class="string">'Pclass'</span>, <span class="string">'Name'</span>, <span class="string">'Sex'</span>, <span class="string">'Ticket'</span>, <span class="string">'Cabin'</span>, <span class="string">'Embarked'</span>], axis=<span class="number">1</span>, inplace=<span class="keyword">True</span>)</span><br><span class="line">df</span><br></pre></td></tr></table></figure>
<table>
<thead>
<tr>
<th>PassengerId</th>
<th>â€¦</th>
<th>Embarked_C</th>
<th>Embarked_Q</th>
<th>Embarked_S</th>
<th>Sex_female</th>
<th>Sex_male</th>
<th>Pclass_1</th>
<th>Pclass_2</th>
<th>Pclass_3</th>
</tr>
</thead>
<tbody>
<tr>
<td>1</td>
<td>â€¦</td>
<td>1.0</td>
<td>0.0</td>
<td>0.0</td>
<td>0.0</td>
<td>1.0</td>
<td>0.0</td>
<td>0.0</td>
<td>1.0</td>
</tr>
</tbody>
</table>
<p><strong>Feature Scaling</strong></p>
<p><font color="red">Ageå’ŒFareä¸¤ä¸ªå±æ€§ï¼Œä¹˜å®¢çš„æ•°å€¼å¹…åº¦å˜åŒ–ï¼Œscalingï¼Œå…¶å®å°±æ˜¯å°†ä¸€äº›å˜åŒ–å¹…åº¦è¾ƒå¤§çš„ç‰¹å¾åŒ–åˆ°[-1,1]ä¹‹å†…ã€‚<font></font></font></p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment"># æ¥ä¸‹æ¥æˆ‘ä»¬è¦æ¥ç€åšä¸€äº›æ•°æ®é¢„å¤„ç†çš„å·¥ä½œï¼Œæ¯”å¦‚scalingï¼Œå°†ä¸€äº›å˜åŒ–å¹…åº¦è¾ƒå¤§çš„ç‰¹å¾åŒ–åˆ°[-1,1]ä¹‹å†…</span></span><br><span class="line"><span class="comment"># è¿™æ ·å¯ä»¥åŠ é€Ÿlogistic regressionçš„æ”¶æ•›</span></span><br><span class="line"><span class="keyword">import</span> sklearn.preprocessing <span class="keyword">as</span> preprocessing</span><br><span class="line">scaler = preprocessing.StandardScaler()</span><br><span class="line">age_scale_param = scaler.fit(df[<span class="string">'Age'</span>])</span><br><span class="line">df[<span class="string">'Age_scaled'</span>] = scaler.fit_transform(df[<span class="string">'Age'</span>], age_scale_param)</span><br><span class="line">fare_scale_param = scaler.fit(df[<span class="string">'Fare'</span>])</span><br><span class="line">df[<span class="string">'Fare_scaled'</span>] = scaler.fit_transform(df[<span class="string">'Fare'</span>], fare_scale_param)</span><br><span class="line">df</span><br><span class="line">train_df = df.filter(regex=<span class="string">'Survived|Age_.*|SibSp|Parch|Fare_.*|Cabin_.*|Embarked_.*|Sex_.*|Pclass_.*'</span>)</span><br><span class="line">train_df</span><br></pre></td></tr></table></figure>
<h2 id="3-æ„é€ ç¥ç»ç½‘ç»œ"><a href="#3-æ„é€ ç¥ç»ç½‘ç»œ" class="headerlink" title="3. æ„é€ ç¥ç»ç½‘ç»œ"></a>3. æ„é€ ç¥ç»ç½‘ç»œ</h2><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"><span class="keyword">import</span> pandas <span class="keyword">as</span> pd</span><br><span class="line"></span><br><span class="line"><span class="keyword">from</span> pandas <span class="keyword">import</span> Series,DataFrame</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> pandas.io.data <span class="keyword">as</span> wb</span><br><span class="line"></span><br><span class="line"><span class="keyword">from</span> pybrain.structure <span class="keyword">import</span> *</span><br><span class="line"><span class="keyword">from</span> pybrain.datasets <span class="keyword">import</span> SupervisedDataSet</span><br><span class="line"><span class="keyword">from</span> pybrain.supervised.trainers <span class="keyword">import</span> BackpropTrainer</span><br><span class="line"></span><br><span class="line"><span class="comment"># createa neural network</span></span><br><span class="line">fnn = FeedForwardNetwork()</span><br><span class="line"></span><br><span class="line"><span class="comment"># create three layers, input layer:2 input unit; hidden layer: 10 units; output layer: 1 output</span></span><br><span class="line">inLayer = LinearLayer(<span class="number">9</span>, name=<span class="string">'inLayer'</span>)</span><br><span class="line">hiddenLayer0 = SigmoidLayer(<span class="number">1</span>, name=<span class="string">'hiddenLayer0'</span>)</span><br><span class="line">outLayer = LinearLayer(<span class="number">1</span>, name=<span class="string">'outLayer'</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># add three layers to the neural network</span></span><br><span class="line">fnn.addInputModule(inLayer)</span><br><span class="line">fnn.addModule(hiddenLayer0)</span><br><span class="line">fnn.addOutputModule(outLayer)</span><br><span class="line"></span><br><span class="line"><span class="comment"># link three layers</span></span><br><span class="line">in_to_hidden0 = FullConnection(inLayer,hiddenLayer0)</span><br><span class="line">hidden0_to_out = FullConnection(hiddenLayer0, outLayer)</span><br><span class="line"></span><br><span class="line"><span class="comment"># add the links to neural network</span></span><br><span class="line">fnn.addConnection(in_to_hidden0)</span><br><span class="line">fnn.addConnection(hidden0_to_out)</span><br><span class="line"></span><br><span class="line"><span class="comment"># make neural network come into effect</span></span><br><span class="line">fnn.sortModules()</span><br></pre></td></tr></table></figure>
<h2 id="4-æ„é€ æ•°æ®é›†"><a href="#4-æ„é€ æ•°æ®é›†" class="headerlink" title="4. æ„é€ æ•°æ®é›†"></a>4. æ„é€ æ•°æ®é›†</h2><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment"># obtain the original data</span></span><br><span class="line"></span><br><span class="line">x1 = train_df[<span class="string">'SibSp'</span>]</span><br><span class="line">x2 = train_df[<span class="string">'Parch'</span>]</span><br><span class="line">x3 = train_df[<span class="string">'Sex_female'</span>]</span><br><span class="line">x4 = train_df[<span class="string">'Sex_male'</span>]</span><br><span class="line">x5 = train_df[<span class="string">'Pclass_1'</span>]</span><br><span class="line">x6 = train_df[<span class="string">'Pclass_2'</span>]</span><br><span class="line">x7 = train_df[<span class="string">'Pclass_3'</span>]</span><br><span class="line">x8 = train_df[<span class="string">'Age_scaled'</span>]</span><br><span class="line">x9 = train_df[<span class="string">'Fare_scaled'</span>]</span><br><span class="line"></span><br><span class="line">y = train_df[<span class="string">'Survived'</span>]</span><br><span class="line"></span><br><span class="line"><span class="comment"># definite the dataset as two input , one output</span></span><br><span class="line">DS = SupervisedDataSet(<span class="number">9</span>,<span class="number">1</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># add data element to the dataset</span></span><br><span class="line"><span class="comment"># å¾€æ•°æ®é›†å†…åŠ æ ·æœ¬ç‚¹</span></span><br><span class="line"><span class="comment"># å‡è®¾x1ï¼Œx2ï¼Œx3æ˜¯è¾“å…¥çš„ä¸‰ä¸ªç»´åº¦å‘é‡ï¼Œyæ˜¯è¾“å‡ºå‘é‡ï¼Œå¹¶ä¸”å®ƒä»¬çš„é•¿åº¦ç›¸åŒ</span></span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> np.arange(len(train_df)):</span><br><span class="line">    DS.addSample([x1[i],x2[i],x3[i],x4[i],x5[i],x6[i],x7[i],x8[i],x9[i]],[y[i]])</span><br><span class="line"></span><br><span class="line"><span class="comment"># you can get your input/output this way</span></span><br><span class="line"><span class="comment"># å¦‚æœè¦è·å¾—é‡Œé¢çš„è¾“å…¥ï¼è¾“å‡ºæ—¶ï¼Œå¯ä»¥ç”¨</span></span><br><span class="line">X = DS[<span class="string">'input'</span>]</span><br><span class="line">Y = DS[<span class="string">'target'</span>]</span><br><span class="line"></span><br><span class="line"><span class="comment"># split the dataset into train dataset and test dataset</span></span><br><span class="line"><span class="comment"># å¦‚æœè¦æŠŠæ•°æ®é›†åˆ‡åˆ†æˆè®­ç»ƒé›†å’Œæµ‹è¯•é›†ï¼Œå¯ä»¥ç”¨ä¸‹é¢çš„è¯­å¥ï¼Œè®­ç»ƒé›†ï¼šæµ‹è¯•é›†ï¼8:2</span></span><br><span class="line"><span class="comment"># ä¸ºäº†æ–¹ä¾¿ä¹‹åçš„è°ƒç”¨ï¼Œå¯ä»¥æŠŠè¾“å…¥å’Œè¾“å‡ºæ‹å‡ºæ¥</span></span><br><span class="line">dataTrain, dataTest = DS.splitWithProportion(<span class="number">0.8</span>)</span><br><span class="line">xTrain, yTrain = dataTrain[<span class="string">'input'</span>],dataTrain[<span class="string">'target'</span>]</span><br><span class="line">xTest, yTest = dataTest[<span class="string">'input'</span>], dataTest[<span class="string">'target'</span>]</span><br><span class="line"></span><br><span class="line"><span class="keyword">print</span> <span class="string">"bulid data sets end ï¼"</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#print xTest[1]</span></span><br><span class="line">type(xTest)</span><br></pre></td></tr></table></figure>
<pre><code>bulid data sets end ï¼
numpy.ndarray
</code></pre><h2 id="5-è®­ç»ƒç¥ç»ç½‘ç»œ"><a href="#5-è®­ç»ƒç¥ç»ç½‘ç»œ" class="headerlink" title="5. è®­ç»ƒç¥ç»ç½‘ç»œ"></a>5. è®­ç»ƒç¥ç»ç½‘ç»œ</h2><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment"># train the NN</span></span><br><span class="line"><span class="comment"># we use BP Algorithm</span></span><br><span class="line"><span class="comment"># verbose = True means print th total error</span></span><br><span class="line"><span class="keyword">print</span> <span class="string">"trainer start..."</span></span><br><span class="line">trainer = BackpropTrainer(fnn, dataTrain, verbose=<span class="keyword">False</span>,learningrate=<span class="number">0.01</span>)</span><br><span class="line"><span class="keyword">print</span> <span class="string">"run..."</span></span><br><span class="line"><span class="comment"># set the epoch times to make the NN  fit</span></span><br><span class="line">trainer.trainUntilConvergence(maxEpochs=<span class="number">500</span>)</span><br><span class="line"><span class="keyword">print</span> <span class="string">"trainer end!"</span></span><br></pre></td></tr></table></figure>
<pre><code>trainer start...
run...
trainer end!
</code></pre><h2 id="6-é¢„æµ‹-test-csv"><a href="#6-é¢„æµ‹-test-csv" class="headerlink" title="6. é¢„æµ‹ test.csv"></a>6. é¢„æµ‹ test.csv</h2><figure class="highlight python"><table><tr><td class="code"><pre><span class="line">data_test = pd.read_csv(<span class="string">"test.csv"</span>)</span><br><span class="line">data_test.loc[ (data_test.Fare.isnull()), <span class="string">'Fare'</span> ] = <span class="number">0</span></span><br><span class="line"><span class="comment"># æ¥ç€æˆ‘ä»¬å¯¹test_dataåšå’Œtrain_dataä¸­ä¸€è‡´çš„ç‰¹å¾å˜æ¢</span></span><br><span class="line"><span class="comment"># é¦–å…ˆç”¨åŒæ ·çš„RandomForestRegressoræ¨¡å‹å¡«ä¸Šä¸¢å¤±çš„å¹´é¾„</span></span><br><span class="line">tmp_df = data_test[[<span class="string">'Age'</span>,<span class="string">'Fare'</span>, <span class="string">'Parch'</span>, <span class="string">'SibSp'</span>, <span class="string">'Pclass'</span>]]</span><br><span class="line">null_age = tmp_df[data_test.Age.isnull()].as_matrix()</span><br><span class="line"><span class="comment"># æ ¹æ®ç‰¹å¾å±æ€§Xé¢„æµ‹å¹´é¾„å¹¶è¡¥ä¸Š</span></span><br><span class="line">X = null_age[:, <span class="number">1</span>:]</span><br><span class="line">predictedAges = rfr.predict(X)</span><br><span class="line">data_test.loc[ (data_test.Age.isnull()), <span class="string">'Age'</span> ] = predictedAges</span><br><span class="line"></span><br><span class="line">data_test = set_Cabin_type(data_test)</span><br><span class="line">dummies_Cabin = pd.get_dummies(data_test[<span class="string">'Cabin'</span>], prefix= <span class="string">'Cabin'</span>)</span><br><span class="line">dummies_Embarked = pd.get_dummies(data_test[<span class="string">'Embarked'</span>], prefix= <span class="string">'Embarked'</span>)</span><br><span class="line">dummies_Sex = pd.get_dummies(data_test[<span class="string">'Sex'</span>], prefix= <span class="string">'Sex'</span>)</span><br><span class="line">dummies_Pclass = pd.get_dummies(data_test[<span class="string">'Pclass'</span>], prefix= <span class="string">'Pclass'</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">df_test = pd.concat([data_test, dummies_Cabin, dummies_Embarked, dummies_Sex, dummies_Pclass], axis=<span class="number">1</span>)</span><br><span class="line">df_test.drop([<span class="string">'Pclass'</span>, <span class="string">'Name'</span>, <span class="string">'Sex'</span>, <span class="string">'Ticket'</span>, <span class="string">'Cabin'</span>, <span class="string">'Embarked'</span>], axis=<span class="number">1</span>, inplace=<span class="keyword">True</span>)</span><br><span class="line">df_test[<span class="string">'Age_scaled'</span>] = scaler.fit_transform(df_test[<span class="string">'Age'</span>], age_scale_param)</span><br><span class="line">df_test[<span class="string">'Fare_scaled'</span>] = scaler.fit_transform(df_test[<span class="string">'Fare'</span>], fare_scale_param)</span><br><span class="line">df_test</span><br><span class="line"></span><br><span class="line">test = df_test.filter(regex=<span class="string">'SibSp|Parch|Sex_female|Sex_male|Pclass_1|Pclass_2|Pclass_3|Age_scaled|Fare_scaled'</span>)</span><br><span class="line">xTest = test.as_matrix()</span><br><span class="line"><span class="comment"># prediction = fnn.activate(xTest[1])</span></span><br><span class="line"><span class="comment"># print("the prediction number is :",prediction," the real number is:  ",yTest[1])</span></span><br><span class="line">predict_resutl=[]</span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> np.arange(len(xTest)):</span><br><span class="line">    res = fnn.activate(xTest[i])[<span class="number">0</span>]</span><br><span class="line">    <span class="keyword">if</span> (res &gt; <span class="number">0.5</span>) :</span><br><span class="line">        res = <span class="number">1</span></span><br><span class="line">    <span class="keyword">else</span> :</span><br><span class="line">        res = <span class="number">0</span></span><br><span class="line">    predict_resutl.append(res)</span><br><span class="line"></span><br><span class="line">final_res = np.array(predict_resutl).T</span><br><span class="line"></span><br><span class="line">result = pd.DataFrame(&#123;<span class="string">'PassengerId'</span>:data_test[<span class="string">'PassengerId'</span>].as_matrix(), <span class="string">'Survived'</span>:final_res&#125;)</span><br><span class="line">result</span><br></pre></td></tr></table></figure>
<h2 id="7-ç»“æœå†™å…¥æ–‡ä»¶"><a href="#7-ç»“æœå†™å…¥æ–‡ä»¶" class="headerlink" title="7. ç»“æœå†™å…¥æ–‡ä»¶"></a>7. ç»“æœå†™å…¥æ–‡ä»¶</h2><figure class="highlight python"><table><tr><td class="code"><pre><span class="line">result.to_csv(<span class="string">"logistic_regression_predictions.csv"</span>, index=<span class="keyword">False</span>)</span><br></pre></td></tr></table></figure>
<h2 id="8-éªŒè¯å’Œåˆ†æ"><a href="#8-éªŒè¯å’Œåˆ†æ" class="headerlink" title="8. éªŒè¯å’Œåˆ†æ"></a>8. éªŒè¯å’Œåˆ†æ</h2><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">for</span> mod <span class="keyword">in</span> fnn.modules:</span><br><span class="line">  <span class="keyword">print</span> (<span class="string">"Module:"</span>, mod.name)</span><br><span class="line">  <span class="keyword">if</span> mod.paramdim &gt; <span class="number">0</span>:</span><br><span class="line">    <span class="keyword">print</span> (<span class="string">"--parameters:"</span>, mod.params)</span><br><span class="line">  <span class="keyword">for</span> conn <span class="keyword">in</span> fnn.connections[mod]:</span><br><span class="line">    <span class="keyword">print</span> (<span class="string">"-connection to"</span>, conn.outmod.name)</span><br><span class="line">    <span class="keyword">if</span> conn.paramdim &gt; <span class="number">0</span>:</span><br><span class="line">       <span class="keyword">print</span> (<span class="string">"- parameters"</span>, conn.params)</span><br><span class="line">  <span class="keyword">if</span> hasattr(fnn, <span class="string">"recurrentConns"</span>):</span><br><span class="line">    <span class="keyword">print</span> (<span class="string">"Recurrent connections"</span>)</span><br><span class="line">    <span class="keyword">for</span> conn <span class="keyword">in</span> fnn.recurrentConns:</span><br><span class="line">       <span class="keyword">print</span> (<span class="string">"-"</span>, conn.inmod.name, <span class="string">" to"</span>, conn.outmod.name)</span><br><span class="line">       <span class="keyword">if</span> conn.paramdim &gt; <span class="number">0</span>:</span><br><span class="line">          <span class="keyword">print</span> (<span class="string">"- parameters"</span>, conn.params)</span><br></pre></td></tr></table></figure>
<pre><code>(&apos;Module:&apos;, &apos;outLayer&apos;)
(&apos;Module:&apos;, &apos;inLayer&apos;)
(&apos;-connection to&apos;, &apos;hiddenLayer0&apos;)
(&apos;- parameters&apos;, array([-0.47294263, -0.04334279,  0.77615167, -2.03865708,  2.38243634,
        0.69678661, -0.82062356, -0.70921933, -0.12044558]))
(&apos;Module:&apos;, &apos;hiddenLayer0&apos;)
(&apos;-connection to&apos;, &apos;outLayer&apos;)
(&apos;- parameters&apos;, array([ 1.08050317]))
</code></pre><h2 id="Reference"><a href="#Reference" class="headerlink" title="Reference"></a>Reference</h2><ul>
<li><a href="http://blog.csdn.net/han_xiaoyang/article/details/49797143" target="_blank" rel="external">å¯’å°é˜³-Titanic</a></li>
<li><a href="http://www.zengmingxia.com/topics/computing/" target="_blank" rel="external">ä¸€è“‘çƒŸé›¨ä»»å¹³ç”Ÿ</a></li>
</ul>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[Python pandas.DataFrame ç±»å‹æ•°æ®æ“ä½œå‡½æ•° (not finish)]]></title>
      <url>http://iequa.com/2017/02/15/ml-python-pandas-2/</url>
      <content type="html"><![CDATA[<table>
<thead>
<tr>
<th>Extension lib</th>
<th>introduction</th>
</tr>
</thead>
<tbody>
<tr>
<td>Numpy</td>
<td>æä¾›æ•°ç»„æ”¯æŒï¼Œä»¥åŠç›¸åº”çš„é«˜æ•ˆå¤„ç†å‡½æ•°</td>
</tr>
<tr>
<td>Scipy</td>
<td>æä¾›çŸ©é˜µæ”¯æŒï¼Œä»¥åŠçŸ©é˜µç›¸å…³çš„æ•°å€¼è®¡ç®—æ¨¡å—</td>
</tr>
<tr>
<td>Matplotlib</td>
<td>æ•°æ®å¯è§†åŒ–å·¥å…·ï¼Œä½œå›¾åº“</td>
</tr>
<tr>
<td>Pandas</td>
<td>æ•°æ®åˆ†æå’Œæ¢ç´¢å·¥å…·</td>
</tr>
<tr>
<td>Scikit-Learn</td>
<td>æ”¯æŒå›å½’ï¼Œåˆ†ç±»ï¼Œèšç±» ç­‰å¼ºå¤§çš„æœºå™¨å­¦ä¹ åº“</td>
</tr>
</tbody>
</table>
<blockquote>
<p>Pythonæ•°æ®åˆ†æå·¥å…·pandasä¸­DataFrameå’ŒSeriesä½œä¸ºä¸»è¦çš„æ•°æ®ç»“æ„. æœ¬æ–‡ä¸»è¦æ˜¯ä»‹ç»å¦‚ä½•å¯¹DataFrameæ•°æ®è¿›è¡Œæ“ä½œå¹¶ç»“åˆä¸€ä¸ªå®ä¾‹æµ‹è¯•æ“ä½œå‡½æ•°ã€‚</p>
</blockquote>
<h2 id="1-æŸ¥çœ‹DataFrameæ•°æ®åŠå±æ€§"><a href="#1-æŸ¥çœ‹DataFrameæ•°æ®åŠå±æ€§" class="headerlink" title="1. æŸ¥çœ‹DataFrameæ•°æ®åŠå±æ€§"></a>1. æŸ¥çœ‹DataFrameæ•°æ®åŠå±æ€§</h2><figure class="highlight python"><table><tr><td class="code"><pre><span class="line">df_obj = DataFrame() <span class="comment">#åˆ›å»ºDataFrameå¯¹è±¡</span></span><br><span class="line">df_obj.dtypes <span class="comment">#æŸ¥çœ‹å„è¡Œçš„æ•°æ®æ ¼å¼</span></span><br><span class="line">df_obj[<span class="string">'åˆ—å'</span>].astype(int)<span class="comment">#è½¬æ¢æŸåˆ—çš„æ•°æ®ç±»å‹</span></span><br><span class="line">df_obj.head() <span class="comment">#æŸ¥çœ‹å‰å‡ è¡Œçš„æ•°æ®,é»˜è®¤å‰5è¡Œ</span></span><br><span class="line">df_obj.tail() <span class="comment">#æŸ¥çœ‹åå‡ è¡Œçš„æ•°æ®,é»˜è®¤å5è¡Œ</span></span><br><span class="line">df_obj.index <span class="comment">#æŸ¥çœ‹ç´¢å¼•</span></span><br><span class="line">df_obj.columns <span class="comment">#æŸ¥çœ‹åˆ—å</span></span><br><span class="line">df_obj.values <span class="comment">#æŸ¥çœ‹æ•°æ®å€¼</span></span><br><span class="line">df_obj.describe() <span class="comment">#æè¿°æ€§ç»Ÿè®¡</span></span><br><span class="line">df_obj.T <span class="comment">#è½¬ç½®</span></span><br><span class="line">df_obj.sort_values(by=[<span class="string">''</span>,<span class="string">''</span>])<span class="comment">#åŒä¸Š</span></span><br></pre></td></tr></table></figure>
<h2 id="2-DataFrameé€‰æ‹©æ•°æ®"><a href="#2-DataFrameé€‰æ‹©æ•°æ®" class="headerlink" title="2. DataFrameé€‰æ‹©æ•°æ®"></a>2. DataFrameé€‰æ‹©æ•°æ®</h2><figure class="highlight python"><table><tr><td class="code"><pre><span class="line">df_obj.ix[<span class="number">1</span>:<span class="number">3</span>] <span class="comment">#è·å–1-3è¡Œçš„æ•°æ®,è¯¥æ“ä½œå«åˆ‡ç‰‡æ“ä½œ,è·å–è¡Œæ•°æ®</span></span><br><span class="line">df_obj.ix[columns_index] <span class="comment">#è·å–åˆ—çš„æ•°æ®</span></span><br><span class="line">df_obj.ix[<span class="number">1</span>:<span class="number">3</span>ï¼Œ[<span class="number">1</span>,<span class="number">3</span>]]<span class="comment">#è·å–1åˆ—3åˆ—çš„1~3è¡Œæ•°æ®</span></span><br><span class="line">df_obj[columns].drop_duplicates() <span class="comment">#å‰”é™¤é‡å¤è¡Œæ•°æ®</span></span><br></pre></td></tr></table></figure>
<h2 id="3-DataFrameé‡ç½®æ•°æ®"><a href="#3-DataFrameé‡ç½®æ•°æ®" class="headerlink" title="3. DataFrameé‡ç½®æ•°æ®"></a>3. DataFrameé‡ç½®æ•°æ®</h2><figure class="highlight python"><table><tr><td class="code"><pre><span class="line">df_obj.ix[<span class="number">1</span>:<span class="number">3</span>ï¼Œ[<span class="number">1</span>,<span class="number">3</span>]]=<span class="number">1</span> <span class="comment">#æ‰€é€‰ä½ç½®æ•°æ®æ›¿æ¢ä¸º1</span></span><br></pre></td></tr></table></figure>
<h2 id="4-DataFrameç­›é€‰æ•°æ®"><a href="#4-DataFrameç­›é€‰æ•°æ®" class="headerlink" title="4. DataFrameç­›é€‰æ•°æ®"></a>4. DataFrameç­›é€‰æ•°æ®</h2><figure class="highlight python"><table><tr><td class="code"><pre><span class="line">alist = [<span class="string">'023-18996609823'</span>]</span><br><span class="line">df_obj[<span class="string">'ç”¨æˆ·å·ç '</span>].isin(alist) <span class="comment">#å°†è¦è¿‡æ»¤çš„æ•°æ®æ”¾å…¥å­—å…¸ä¸­,ä½¿ç”¨isinå¯¹æ•°æ®è¿›è¡Œç­›é€‰,è¿”å›è¡Œç´¢å¼•ä»¥åŠæ¯è¡Œç­›é€‰çš„ç»“æœ,è‹¥åŒ¹é…åˆ™è¿”å›ture</span></span><br><span class="line">df_obj[df_obj[<span class="string">'ç”¨æˆ·å·ç '</span>].isin(alist)] <span class="comment">#è·å–åŒ¹é…ç»“æœä¸ºtureçš„è¡Œ</span></span><br></pre></td></tr></table></figure>
<h2 id="Refence-article"><a href="#Refence-article" class="headerlink" title="Refence article"></a>Refence article</h2><p><a href="http://blog.csdn.net/ly_ysys629/article/details/54428838" target="_blank" rel="external">csdn-LY_ysys629</a></p>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[Coursera Week 5 - Neural Networks II]]></title>
      <url>http://iequa.com/2017/02/13/ml-coursera-ng-w4-nn-03/</url>
      <content type="html"><![CDATA[<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js"],
    jax: ["input/TeX"],
    tex2jax: {
      inlineMath: [ ['$','$'], ['\\(','\\)'] ],
      displayMath: [ ['$$','$$']],
      processEscapes: true
    }
  });
</script>
<script type="text/javascript" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS_HTML,http://myserver.com/MathJax/config/local/local.js">
</script>

<p><img src="/images/ml/ml-ng-w4-02-02.png" alt=""></p>
<h2 id="1-Cost-Function"><a href="#1-Cost-Function" class="headerlink" title="1. Cost Function"></a>1. Cost Function</h2><p><img src="/images/ml/ml-ng-w4-02-04-2.png" alt=""></p>
<p>fmt.</p>
<p>$$<br>\begin{align} a_1^{(2)} = g(\Theta_{10}^{(1)}x_0 + \Theta_{11}^{(1)}x_1 + \Theta_{12}^{(1)}x_2 + \Theta_{13}^{(1)}x_3) \newline a_2^{(2)} = g(\Theta_{20}^{(1)}x_0 + \Theta_{21}^{(1)}x_1 + \Theta_{22}^{(1)}x_2 + \Theta_{23}^{(1)}x_3) \newline a_3^{(2)} = g(\Theta_{30}^{(1)}x_0 + \Theta_{31}^{(1)}x_1 + \Theta_{32}^{(1)}x_2 + \Theta_{33}^{(1)}x_3) \newline h_\Theta(x) = a_1^{(3)} = g(\Theta_{10}^{(2)}a_0^{(2)} + \Theta_{11}^{(2)}a_1^{(2)} + \Theta_{12}^{(2)}a_2^{(2)} + \Theta_{13}^{(2)}a_3^{(2)}) \newline \end{align}<br>$$</p>
<p>Letâ€™s first define a few variables that we will need to use:</p>
<ul>
<li>$L$ = total number of layers in the network</li>
<li>$s_l$ = number of units (not counting bias unit) in layer l</li>
<li>$K$ = number of output units/classes</li>
</ul>
<p>Recall that in neural networks, we may have many output nodes. We denote $h_\Theta(x)_k$ as being a hypothesis that results in the $k^{th}$ output. Our cost function for neural networks is going to be a generalization of the one we used for logistic regression. Recall that the cost function for regularized logistic regression was:</p>
<p>$$<br>J(\theta) = - \frac{1}{m} \sum_{i=1}^m [ y^{(i)}\ \log (h_\theta (x^{(i)})) + (1 - y^{(i)})\ \log (1 - h_\theta(x^{(i)}))] + \frac{\lambda}{2m}\sum_{j=1}^n \theta_j^2<br>$$</p>
<p>For neural networks, it is going to be slightly more complicated:</p>
<p>$$<br>\begin{gather} J(\Theta) = - \frac{1}{m} \sum_{i=1}^m \sum_{k=1}^K \left[y^{(i)}_k \log ((h_\Theta (x^{(i)}))_k) + (1 - y^{(i)}_k)\log (1 - (h_\Theta(x^{(i)}))_k)\right] + \frac{\lambda}{2m}\sum_{l=1}^{L-1} \sum_{i=1}^{s_l} \sum_{j=1}^{s_{l+1}} ( \Theta_{j,i}^{(l)})^2\end{gather}<br>$$</p>
<p>We have added a few nested summations to account for our multiple output nodes. In the first part of the equation, before the square brackets, we have an additional nested summation that loops through the number of output nodes.</p>
<p>In the regularization part, after the square brackets, we must account for multiple theta matrices. The number of columns in our current theta matrix is equal to the number of nodes in our current layer (including the bias unit). The number of rows in our current theta matrix is equal to the number of nodes in the next layer (excluding the bias unit). As before with logistic regression, we square every term.</p>
<h2 id="2-Backpropagation-Algorithm"><a href="#2-Backpropagation-Algorithm" class="headerlink" title="2. Backpropagation Algorithm"></a>2. Backpropagation Algorithm</h2><p>â€œBackpropagationâ€ is neural-network terminology for minimizing our cost function, just like what we were doing with gradient descent in logistic and linear regression. Our goal is to compute:</p>
<p>$$<br>\min_\Theta J(\Theta)<br>$$</p>
<p>That is, we want to minimize our cost function $J$ using an optimal set of parameters in theta. In this section weâ€™ll look at the equations we use to compute the partial derivative of J(Î˜):</p>
<p>$$<br>\dfrac{\partial}{\partial \Theta_{i,j}^{(l)}}J(\Theta)<br>$$</p>
<p>To do so, we use the following algorithm:</p>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[Coursera Week 4 - Neural Networks I]]></title>
      <url>http://iequa.com/2017/02/07/ml-coursera-ng-w4-nn-02/</url>
      <content type="html"><![CDATA[<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js"],
    jax: ["input/TeX"],
    tex2jax: {
      inlineMath: [ ['$','$'], ['\\(','\\)'] ],
      displayMath: [ ['$$','$$']],
      processEscapes: true
    }
  });
</script>
<script type="text/javascript" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS_HTML,http://myserver.com/MathJax/config/local/local.js">
</script>

<p><img src="/images/ml/ml-ng-w4-02-02.png" alt="NN"></p>
<p>neuron is a computational unit that gets a number of inputs through it input wires and does some computation and then it says outputs via its axon to other nodes or to other neurons in the brain.</p>
<h2 id="1-Model-Representation-I"><a href="#1-Model-Representation-I" class="headerlink" title="1. Model Representation I"></a>1. Model Representation I</h2><p>Letâ€™s examine how we will represent a hypothesis function using neural networks. At a very simple level, neurons are basically computational units that take inputs (<strong>dendrites</strong>) as electrical inputs (called â€œspikesâ€) that are channeled to outputs (<strong>axons</strong>). In our model, <strong>our dendrites are like the input features</strong> $x_1\cdots x_n$, and the <strong>output is the result of our hypothesis function</strong>. In this model our $x_0$ input node is sometimes called the â€œbias unit.â€ It is always equal to 1. In neural networks, we use the same logistic function as in classification, $\frac{1}{1 + e^{-\theta^Tx}}$, yet we sometimes call it a sigmoid (logistic) <strong>activation</strong> function. In this situation, our â€œthetaâ€ parameters are sometimes called â€œweightsâ€.</p>
<p>Visually, a simplistic representation looks like:</p>
<p>$$<br>\begin{bmatrix}x_0 \newline x_1 \newline x_2 \newline \end{bmatrix}\rightarrow\begin{bmatrix}\ \ \ \newline \end{bmatrix}\rightarrow h_\theta(x)<br>$$</p>
<p><img src="/images/ml/ml-ng-w4-02-03.png" alt="NN"></p>
<p>Our input nodes (layer 1), also known as the â€œinput layerâ€, go into another node (layer 2), which finally outputs the hypothesis function, known as the â€œoutput layerâ€.</p>
<p>We can have intermediate layers of nodes between the input and output layers called the â€œhidden layers.â€</p>
<p>In this example, we label these intermediate or â€œhiddenâ€ layer nodes $a^2_0 \cdots a^2_n$ and call them â€œactivation units.â€</p>
<p>$$<br>\begin{align} &amp; a_i^{(j)} = \text{â€œactivationâ€ of unit $i$ in layer $j$} \newline&amp; \Theta^{(j)} = \text{matrix of weights controlling function mapping from layer $j$ to layer $j+1$} \end{align}<br>$$</p>
<p>If we had one hidden layer, it would <a href="/images/ml/ml-ng-w4-02-04-2.png">look like</a>:</p>
<p>$$<br>\begin{bmatrix}x_0 \newline x_1 \newline x_2 \newline x_3\end{bmatrix}\rightarrow\begin{bmatrix}a_1^{(2)} \newline a_2^{(2)} \newline a_3^{(2)} \newline \end{bmatrix}\rightarrow h_\theta(x)<br>$$</p>
<p>The values for each of the â€œactivationâ€ nodes is obtained as follows:</p>
<p>$$<br>\begin{align} a_1^{(2)} = g(\Theta_{10}^{(1)}x_0 + \Theta_{11}^{(1)}x_1 + \Theta_{12}^{(1)}x_2 + \Theta_{13}^{(1)}x_3) \newline a_2^{(2)} = g(\Theta_{20}^{(1)}x_0 + \Theta_{21}^{(1)}x_1 + \Theta_{22}^{(1)}x_2 + \Theta_{23}^{(1)}x_3) \newline a_3^{(2)} = g(\Theta_{30}^{(1)}x_0 + \Theta_{31}^{(1)}x_1 + \Theta_{32}^{(1)}x_2 + \Theta_{33}^{(1)}x_3) \newline h_\Theta(x) = a_1^{(3)} = g(\Theta_{10}^{(2)}a_0^{(2)} + \Theta_{11}^{(2)}a_1^{(2)} + \Theta_{12}^{(2)}a_2^{(2)} + \Theta_{13}^{(2)}a_3^{(2)}) \newline \end{align}<br>$$</p>
<p>This is saying that we compute our activation nodes by using a 3Ã—4 matrix of parameters. We apply each row of the parameters to our inputs to obtain the value for one activation node. Our hypothesis output is the logistic function applied to the sum of the values of our activation nodes, which have been multiplied by yet another parameter matrix $\Theta^{(2)}$ containing the weights for our second layer of nodes.</p>
<p>Each layer gets its own matrix of weights, $\Theta^{(j)}$</p>
<p>The dimensions of these matrices of weights is determined as follows:</p>
<p>If network has $s_j$ units in layer $j$ and $s_{j+1}$ units in layer $j+1$, then $\Theta^{(j)}$ will be of dimension $s_{j+1} \times (s_j + 1)$</p>
<p>The +1 comes from the addition in $\Theta^{(j)}$ of the â€œbias nodes,â€ $x_0$ and $\Theta_0^{(j)}$. In other words the output nodes will not include the bias nodes while the inputs will. </p>
<h2 id="2-Model-Representation-II"><a href="#2-Model-Representation-II" class="headerlink" title="2. Model Representation II"></a>2. Model Representation II</h2><p>To re-iterate, the following is an example of a neural network:</p>
<p>$$<br>\begin{align} a_1^{(2)} = g(\Theta_{10}^{(1)}x_0 + \Theta_{11}^{(1)}x_1 + \Theta_{12}^{(1)}x_2 + \Theta_{13}^{(1)}x_3) \newline a_2^{(2)} = g(\Theta_{20}^{(1)}x_0 + \Theta_{21}^{(1)}x_1 + \Theta_{22}^{(1)}x_2 + \Theta_{23}^{(1)}x_3) \newline a_3^{(2)} = g(\Theta_{30}^{(1)}x_0 + \Theta_{31}^{(1)}x_1 + \Theta_{32}^{(1)}x_2 + \Theta_{33}^{(1)}x_3) \newline h_\Theta(x) = a_1^{(3)} = g(\Theta_{10}^{(2)}a_0^{(2)} + \Theta_{11}^{(2)}a_1^{(2)} + \Theta_{12}^{(2)}a_2^{(2)} + \Theta_{13}^{(2)}a_3^{(2)}) \newline \end{align}<br>$$</p>
<p>In this section weâ€™ll do a vectorized implementation of the above functions. Weâ€™re going to define a new variable $z_k^{(j)}$ that encompasses the parameters inside our g function. In our previous example if we replaced by the variable z for all the parameters we would get:</p>
<p>$$<br>\begin{align}a_1^{(2)} = g(z_1^{(2)}) \newline a_2^{(2)} = g(z_2^{(2)}) \newline a_3^{(2)} = g(z_3^{(2)}) \newline \end{align}<br>$$</p>
<p>In other words, for layer $j=2$ and node $k$, the variable $z$ will be:</p>
<p>$$<br>z_k^{(2)} = \Theta_{k,0}^{(1)}x_0 + \Theta_{k,1}^{(1)}x_1 + \cdots + \Theta_{k,n}^{(1)}x_n<br>$$</p>
<p>The vector representation of $x$ and $z^{j}$ is:</p>
<p>$$<br>\begin{align}x = \begin{bmatrix}x_0 \newline x_1 \newline\cdots \newline x_n\end{bmatrix} &amp;z^{(j)} = \begin{bmatrix}z_1^{(j)} \newline z_2^{(j)} \newline\cdots \newline z_n^{(j)}\end{bmatrix}\end{align}<br>$$</p>
<p>Setting $x = a^{(1)}$, we can rewrite the equation as:</p>
<p>$$<br>z^{(j)} = \Theta^{(j-1)}a^{(j-1)}<br>$$</p>
<p>We are multiplying our matrix $\Theta^{(j-1)}$ with dimensions $s_j\times (n+1)$ (where $s_j$ is the number of our activation nodes) by our vector $a^{(j-1)}$ with height (n+1). This gives us our vector $z^{(j)}$ with height $s_j$. Now we can get a vector of our activation nodes for layer $j$ as follows:</p>
<p>$$<br>a^{(j)} = g(z^{(j)})<br>$$</p>
<p>Where our function $g$ can be applied element-wise to our vector $z^{(j)}$.</p>
<p>We can then add a bias unit (equal to 1) to layer j after we have computed $a^{(j)}$. This will be element $a_0^{(j)}$ and will be equal to 1. To compute our final hypothesis, letâ€™s first compute another $z$ vector:</p>
<p>$$<br>z^{(j+1)} = \Theta^{(j)}a^{(j)}<br>$$</p>
<p>We get this final z vector by multiplying the next theta matrix after $\Theta^{(j-1)}$ with the values of all the activation nodes we just got. This last theta matrix $\Theta^{(j)}$ will have only one row which is multiplied by one column $a^{(j)}$ so that our result is a single number. We then get our final result with:</p>
<p>$$<br>h_\Theta(x) = a^{(j+1)} = g(z^{(j+1)})<br>$$</p>
<h2 id="3-Simple-Example"><a href="#3-Simple-Example" class="headerlink" title="3. Simple Example"></a>3. Simple Example</h2><p><img src="/images/ml/ml-ng-w4-02-06.png" alt="NN"></p>
<h3 id="3-1-x-1-AND-x-2"><a href="#3-1-x-1-AND-x-2" class="headerlink" title="3.1 $x_1$ AND $x_2$"></a>3.1 $x_1$ AND $x_2$</h3><p>A simple example of applying neural networks is by predicting $x_1$ AND $x_2$</p>
<p>$$<br>\begin{align} \begin{bmatrix}x_0 \newline x_1 \newline x_2\end{bmatrix} \rightarrow\begin{bmatrix}g(z^{(2)})\end{bmatrix} \rightarrow h_\Theta(x) \end{align}<br>$$</p>
<p>Letâ€™s set our first theta matrix as:</p>
<p>$$<br>\Theta^{(1)} =\begin{bmatrix}-30 &amp; 20 &amp; 20\end{bmatrix}<br>$$</p>
<p>This will cause the output of our hypothesis to only be positive if both $x_1$ and $x_2$ are 1. In other words:</p>
<p>$$<br>\begin{align}&amp; h_\Theta(x) = g(-30 + 20x_1 + 20x_2) \newline \newline &amp; x_1 = 0 \ \ and \ \ x_2 = 0 \ \ then \ \ g(-30) \approx 0 \newline &amp; x_1 = 0 \ \ and \ \ x_2 = 1 \ \ then \ \ g(-10) \approx 0 \newline &amp; x_1 = 1 \ \ and \ \ x_2 = 0 \ \ then \ \ g(-10) \approx 0 \newline &amp; x_1 = 1 \ \ and \ \ x_2 = 1 \ \ then \ \ g(10) \approx 1\end{align}<br>$$</p>
<p><img src="/images/ml/ml-ng-w4-02-07.png" alt="NN"></p>
<h3 id="3-2-x-1-XNOR-x-2"><a href="#3-2-x-1-XNOR-x-2" class="headerlink" title="3.2 $x_1$ XNOR $x_2$"></a>3.2 $x_1$ XNOR $x_2$</h3><p>The $Î˜^{(1)}$ matrices for AND, NOR, and OR are:</p>
<p>$$<br>\begin{align}AND:\newline\Theta^{(1)} &amp;=\begin{bmatrix}-30 &amp; 20 &amp; 20\end{bmatrix} \newline NOR:\newline\Theta^{(1)} &amp;= \begin{bmatrix}10 &amp; -20 &amp; -20\end{bmatrix} \newline OR:\newline\Theta^{(1)} &amp;= \begin{bmatrix}-10 &amp; 20 &amp; 20\end{bmatrix} \newline\end{align}<br>$$</p>
<p>We can combine these to get the XNOR logical operator (which gives 1 if $x_1$ and $x_2$ are both 0 or both 1).</p>
<p>$$<br>\begin{align} \begin{bmatrix}x_0 \newline x_1 \newline x_2\end{bmatrix} \rightarrow\begin{bmatrix}a_1^{(2)} \newline a_2^{(2)} \end{bmatrix} \rightarrow\begin{bmatrix}a^{(3)}\end{bmatrix} \rightarrow h_\Theta(x) \end{align}<br>$$</p>
<p>For the transition between the first and second layer, weâ€™ll use a $Î˜^{(1)}$ matrix that combines the values for AND and NOR:</p>
<p>$$<br>\Theta^{(1)} =\begin{bmatrix}-30 &amp; 20 &amp; 20 \newline 10 &amp; -20 &amp; -20\end{bmatrix}<br>$$</p>
<p>Letâ€™s write out the values for all our nodes:</p>
<p>$$<br>\begin{align}&amp; a^{(2)} = g(\Theta^{(1)} \cdot x) \newline&amp; a^{(3)} = g(\Theta^{(2)} \cdot a^{(2)}) \newline&amp; h_\Theta(x) = a^{(3)}\end{align}<br>$$</p>
<p>And there we have the XNOR operator using one hidden layers! The following summarizes the above algorithm:</p>
<p><img src="/images/ml/ml-ng-w4-02-08.png" alt=""></p>
<h2 id="4-Multiclass-Classification"><a href="#4-Multiclass-Classification" class="headerlink" title="4. Multiclass Classification"></a>4. Multiclass Classification</h2><p>To classify data into multiple classes, we let our hypothesis function return a vector of values.</p>
<p><img src="/images/ml/ml-ng-w4-02-09.png" alt=""></p>
<p>We can define our set of resulting classes as y:</p>
<p><img src="/images/ml/ml-ng-w4-02-10.png" alt=""></p>
<p>Each $y^{(i)}$ represents a different image corresponding to either a car, pedestrian, truck, or motorcycle. </p>
<p><img src="/images/ml/ml-ng-w4-02-11.png" alt=""></p>
<p>Our resulting hypothesis for one set of inputs may look like:</p>
<p>$$<br>h_\Theta(x) =\begin{bmatrix}0 \newline 0 \newline 1 \newline 0 \newline\end{bmatrix}<br>$$</p>
<p>In which case our resulting class is the third one down, or $h_\Theta(x)_3$, which represents the motorcycle.</p>
<h2 id="Reference-article"><a href="#Reference-article" class="headerlink" title="Reference article"></a>Reference article</h2>]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[tensorflow]]></title>
      <url>http://iequa.com/2017/01/21/ml-tensorflow/</url>
      <content type="html"><![CDATA[<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js"],
    jax: ["input/TeX"],
    tex2jax: {
      inlineMath: [ ['$','$'], ['\\(','\\)'] ],
      displayMath: [ ['$$','$$']],
      processEscapes: true
    }
  });
</script>
<script type="text/javascript" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS_HTML,http://myserver.com/MathJax/config/local/local.js">
</script>


<p><a href="https://www.tensorflow.org/" target="_blank" rel="external">https://www.tensorflow.org/</a></p>
<p><a href="http://www.tensorfly.cn/" target="_blank" rel="external">http://www.tensorfly.cn/</a></p>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[biggest bandit spy]]></title>
      <url>http://iequa.com/2017/01/21/society-China-modern-history/</url>
      <content type="html"><![CDATA[<h2 id="1-biggest-bandit-spy"><a href="#1-biggest-bandit-spy" class="headerlink" title="1. biggest bandit spy"></a>1. biggest bandit spy</h2><p>Guo Rugui</p>
<div class="video-container"><iframe src="//www.youtube.com/embed/O2tc43ceZ-c" frameborder="0" allowfullscreen></iframe></div>
<h2 id="2-Hold-down-Chiang-Kai-shek-pulse"><a href="#2-Hold-down-Chiang-Kai-shek-pulse" class="headerlink" title="2. Hold down Chiang Kai-shek pulse"></a>2. Hold down Chiang Kai-shek pulse</h2><p>Shen Anna</p>
<div class="video-container"><iframe src="//www.youtube.com/embed/dEy8yrB5ZIg" frameborder="0" allowfullscreen></iframe></div>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[Greenplum ods]]></title>
      <url>http://iequa.com/2017/01/20/db-greenplum-mysql-ext-ods/</url>
      <content type="html"><![CDATA[<h2 id="Preface"><a href="#Preface" class="headerlink" title="Preface"></a>Preface</h2><p><a href="https://github.com/blairchan/bigdata/tree/master/greenplum/ext_ods_table" target="_blank" rel="external">code : github ext_ods_table</a></p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">è¿è¡Œæœ¬æ¨¡å—ä¹‹å‰ :</span><br><span class="line"></span><br><span class="line"><span class="built_in">cd</span> ext_ods_table</span><br><span class="line">mkdir <span class="built_in">log</span> flag</span><br><span class="line">mkdir -p <span class="built_in">log</span>/crontab</span><br><span class="line">mkdir data</span><br><span class="line"></span><br><span class="line">æ„é€  datax json fileï¼Œ put it to **data** ç›®å½•</span><br></pre></td></tr></table></figure>
<h2 id="1-Needs"><a href="#1-Needs" class="headerlink" title="1. Needs"></a>1. Needs</h2><p>&nbsp;&nbsp;&nbsp;&nbsp;ç¨‹åºè‡ªåŠ¨åŒ–æ‹‰å–æ•°æ®è¿›å…¥åŸå§‹å±‚ ODS</p>
<h2 id="2-Data-Flow"><a href="#2-Data-Flow" class="headerlink" title="2. Data Flow"></a>2. Data Flow</h2><p><img src="/images/db/greenplum-ods-flow.png" alt="ods flow"></p>
<blockquote>
<p>å…·ä½“è¯·ä»¥å®é™…çº¿ä¸Šä»£ç  ä¸ºå‡†</p>
</blockquote>
<h2 id="3-Involved-technology"><a href="#3-Involved-technology" class="headerlink" title="3. Involved technology"></a>3. Involved technology</h2><ol>
<li><a href="https://zh.wikipedia.org/zh-hans/Unix_shell" target="_blank" rel="external">Shell</a></li>
<li><a href="https://github.com/alibaba/DataX/" target="_blank" rel="external">Datax</a></li>
<li><a href="https://en.wikipedia.org/wiki/PostgreSQL" target="_blank" rel="external">PostgreSQL</a></li>
<li><a href="http://dbaplus.cn/news-21-341-1.html" target="_blank" rel="external">Greenplum</a></li>
<li><a href="http://www.pentaho.com/" target="_blank" rel="external">Pentaho kettle</a></li>
</ol>
<blockquote>
<p><a href="http://www.greenplumdba.com/gpfdist" target="_blank" rel="external">gpfdist protocol</a></p>
</blockquote>
<h2 id="4-Main-Code-Flow"><a href="#4-Main-Code-Flow" class="headerlink" title="4. Main Code Flow"></a>4. Main Code Flow</h2><p>(1). linux crontab</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">*/5 00-19 * * * <span class="built_in">source</span> /etc/bashrc; sh /data0/dm/online/ext_ods_table/crontab_job/crontab_job_ods_shop.sh</span><br></pre></td></tr></table></figure>
<blockquote>
<p>source /etc/bashrc; ç¯å¢ƒè®¾ç½®</p>
</blockquote>
<p>(2). crontab_job_ods_shop.sh</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">...</span><br><span class="line">sh ods_dm_shop.sh <span class="variable">$&#123;d1&#125;</span></span><br><span class="line">...</span><br></pre></td></tr></table></figure>
<p>(3). ods_dm_shop.sh</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment">###############################################################################</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># @date:   2017.01.20</span></span><br><span class="line"><span class="comment"># @desc:   mysql data -&gt; ext shop -&gt; ods shop</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment">###############################################################################</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">cd</span> `dirname <span class="variable">$0</span>`/.. &amp;&amp; wk_dir=`<span class="built_in">pwd</span>` &amp;&amp; <span class="built_in">cd</span> -</span><br><span class="line"><span class="built_in">source</span> <span class="variable">$&#123;wk_dir&#125;</span>/util/env</span><br><span class="line"><span class="built_in">source</span> <span class="variable">$&#123;util_dir&#125;</span>/my_<span class="built_in">functions</span></span><br><span class="line"></span><br><span class="line">begin_time=<span class="string">"2010-01-01"</span></span><br><span class="line">end_time=<span class="variable">$&#123;d1&#125;</span></span><br><span class="line"></span><br><span class="line">import_gpdata_from_rds1 <span class="variable">$&#123;begin_time&#125;</span> <span class="variable">$&#123;end_time&#125;</span> <span class="variable">$&#123;data_dir&#125;</span>/xkeshi_com.ext/mysql2textfile-shop.json</span><br><span class="line">check_success</span><br><span class="line"></span><br><span class="line"><span class="built_in">echo</span>_ex <span class="string">"<span class="variable">$&#123;data_integration&#125;</span>/kitchen.sh -file=<span class="variable">$&#123;ktrs_dir&#125;</span>/ods_shop.kjb"</span></span><br><span class="line"></span><br><span class="line"><span class="variable">$&#123;data_integration&#125;</span>/kitchen.sh -file=<span class="variable">$&#123;ktrs_dir&#125;</span>/ods_shop.kjb</span><br><span class="line">check_success</span><br><span class="line"></span><br><span class="line"><span class="built_in">echo</span>_ex <span class="string">"import shop end"</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">exit</span> 0</span><br></pre></td></tr></table></figure>
<h2 id="5-Code-Deploy"><a href="#5-Code-Deploy" class="headerlink" title="5. Code Deploy"></a>5. Code Deploy</h2><blockquote>
<p>/data0/dm/online/ext_ods_table  </p>
<p>æ³¨æ„ï¼š ç‰ˆæœ¬æ§åˆ¶ä¸­ï¼Œæ¶‰åŠçš„æ•æ„Ÿ åº“åœ°å€ï¼Œç”¨æˆ·åï¼Œå¯†ç  ç­‰ ä¸ä¸Šä¼ ã€‚</p>
</blockquote>
<h2 id="6-Frnd-Link"><a href="#6-Frnd-Link" class="headerlink" title="6. Frnd Link"></a>6. Frnd Link</h2><ol>
<li><a href="https://github.com/blairchan/bigdata/tree/master/greenplum/ext_ods_table/doc" target="_blank" rel="external">pull data detail flow</a></li>
<li><a href="https://github.com/blairchan/bigdata/blob/master/greenplum/ext_ods_table/doc/scheduling-framework.md" target="_blank" rel="external">scheduling-framework</a></li>
</ol>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[Greenplum dev Flow]]></title>
      <url>http://iequa.com/2017/01/12/db-greenplum-manual-dev-steps/</url>
      <content type="html"><![CDATA[<p><img src="/images/db/greenplum-flow.png" alt=""></p>
<h2 id="1-Rds-import-oss"><a href="#1-Rds-import-oss" class="headerlink" title="1. Rds import oss"></a>1. Rds import oss</h2><p>é€šè¿‡ datax ä» mysql å¯¼å‡ºæ•°æ®åˆ° OSS</p>
<p>ç»„è£… : mysql2oss-e_coupon.json</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    "job": &#123;</span><br><span class="line">        "content": [</span><br><span class="line">        &#123;</span><br><span class="line">            "reader": &#123;</span><br><span class="line">                "name": "mysqlreader",</span><br><span class="line">                    "parameter": &#123;</span><br><span class="line">                        "username": "xx",</span><br><span class="line">                        "password": "xx",</span><br><span class="line">                        "connection": [</span><br><span class="line">                        &#123;</span><br><span class="line">                            "jdbcUrl": [</span><br><span class="line">                                "jdbc:mysql://192.168.184.xx:port"</span><br><span class="line">                                ],</span><br><span class="line">                            "table": [</span><br><span class="line">                                "rds-lib-name.e_coupon"</span><br><span class="line">                                ]</span><br><span class="line">                        &#125;</span><br><span class="line">                        ],</span><br><span class="line">                        "column":[</span><br><span class="line">                            "id",</span><br><span class="line">                            "x_card_user_id",</span><br><span class="line">                            "coupon_discount_code",</span><br><span class="line">                            ...</span><br><span class="line">                            "order_merchant_id"</span><br><span class="line">                        ],</span><br><span class="line">                        "where": "created_time BETWEEN '2016-01-01 00:00:00' AND '2017-01-05 23:59:59'"</span><br><span class="line">                    &#125;</span><br><span class="line">            &#125;,</span><br><span class="line">                "writer": &#123;</span><br><span class="line">                    "name": "osswriter",</span><br><span class="line">                    "parameter": &#123;</span><br><span class="line">                        "accessId": "xx",</span><br><span class="line">                        "accessKey": "xx",</span><br><span class="line">                        "bucket": "company-name-data",</span><br><span class="line">                        "encoding": "UTF-8",</span><br><span class="line">                        "endpoint": "http://oss-cn-hangzhou.aliyuncs.com",</span><br><span class="line">                        "fieldDelimiter": "\t",</span><br><span class="line">                        "object": "datax_dev/libin/e_coupon",</span><br><span class="line">                        "writeMode": "truncate"</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        ],</span><br><span class="line">        "setting": &#123;</span><br><span class="line">            "speed": &#123;</span><br><span class="line">                "channel": 1</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>è§¦å‘æ‰§è¡Œ :</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">python datax.py mysql2oss-e_coupon.json</span><br></pre></td></tr></table></figure>
<h2 id="2-ext-table"><a href="#2-ext-table" class="headerlink" title="2. ext table"></a>2. ext table</h2><p>åˆ›å»ºå¤–éƒ¨è¡¨ï¼Œext_dm_e_couponï¼Œå¹¶å°† location æŒ‡å‘ä¸º oss</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">DROP</span> <span class="keyword">EXTERNAL</span> <span class="keyword">TABLE</span> <span class="keyword">PUBLIC</span>.ext_dm_e_coupon;</span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">EXTERNAL</span> <span class="keyword">TABLE</span> <span class="keyword">PUBLIC</span>.ext_dm_e_coupon (</span><br><span class="line">    <span class="keyword">id</span> <span class="built_in">bigint</span>,</span><br><span class="line">    x_card_user_id <span class="built_in">varchar</span>,</span><br><span class="line">    coupon_discount_code <span class="built_in">varchar</span>,</span><br><span class="line">    ...</span><br><span class="line">    order_merchant_id <span class="built_in">bigint</span></span><br><span class="line">) LOCATION(</span><br><span class="line">    <span class="string">'oss://oss-cn-hangzhou.aliyuncs.com</span><br><span class="line">        dir=datax_dev/libin/</span><br><span class="line">        id=xx</span><br><span class="line">        key=xx</span><br><span class="line">        bucket=xkeshi-data'</span></span><br><span class="line">) <span class="keyword">FORMAT</span> <span class="string">'text'</span> (<span class="literal">NULL</span> <span class="keyword">AS</span> <span class="string">'null'</span>);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">-- 45596 id comment å­—æ®µæœ‰å›è½¦ ,So del comment varchar, don't imported.</span></span><br></pre></td></tr></table></figure>
<h2 id="3-ods-table"><a href="#3-ods-table" class="headerlink" title="3. ods table"></a>3. ods table</h2><p>åˆ›å»º ods_dm_e_coupon è¡¨ï¼Œå¹¶å‘å…¶ä¸­å¯¼å…¥æ•°æ®</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">DROP</span> <span class="keyword">TABLE</span> ods_dm_e_coupon;</span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> ods_dm_e_coupon <span class="keyword">AS</span> <span class="keyword">SELECT</span></span><br><span class="line">	*</span><br><span class="line"><span class="keyword">FROM</span></span><br><span class="line">	ext_dm_e_coupon <span class="keyword">distributed</span> <span class="keyword">BY</span> (<span class="keyword">id</span>);</span><br></pre></td></tr></table></figure>
<blockquote>
<p>æ³¨æ„ : è¿™æ ·å»ºè¡¨ ods table idï¼Œä¸æ˜¯ primary key</p>
<p>æ˜¾ç¤ºæŒ‡å®š distributed BY (id)ï¼Œå¯è¯»æ€§æ›´å¥½</p>
</blockquote>
<h2 id="4-mds-table"><a href="#4-mds-table" class="headerlink" title="4. mds table"></a>4. mds table</h2><p>åˆ›å»º mds_dm_e_coupon_profile è¡¨</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">DROP</span> <span class="keyword">TABLE</span> mds_dm_e_coupon_profile;</span><br><span class="line"></span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> mds_dm_e_coupon_profile (</span><br><span class="line">	<span class="keyword">id</span> bigserial,</span><br><span class="line">	coupon_info_code <span class="built_in">VARCHAR</span>,</span><br><span class="line">	shop_id <span class="built_in">BIGINT</span>,</span><br><span class="line">	collected_avg_actual_price <span class="built_in">DECIMAL</span> (<span class="number">12</span>, <span class="number">2</span>),</span><br><span class="line">	collected_sum_actual_price <span class="built_in">DECIMAL</span> (<span class="number">12</span>, <span class="number">2</span>),</span><br><span class="line">	collected_count <span class="built_in">INT</span>,</span><br><span class="line">	verified_count <span class="built_in">INT</span>,</span><br><span class="line">	verified_rate <span class="built_in">DECIMAL</span> (<span class="number">12</span>, <span class="number">2</span>)</span><br><span class="line">) <span class="keyword">WITH</span> (</span><br><span class="line">	appendonly = <span class="literal">TRUE</span>,</span><br><span class="line">	compresslevel = <span class="number">5</span></span><br><span class="line">) <span class="keyword">distributed</span> <span class="keyword">BY</span> (<span class="keyword">id</span>);</span><br></pre></td></tr></table></figure>
<blockquote>
<p>åˆ›å»ºè¡¨çš„æ—¶å€™ï¼Œç»™ä¸€ä¸ªè‡ªå¢ id. æ¯ä¸€ä¸ªè¡¨éƒ½æœ‰ä¸€ä¸ªè‡ªå¢ idï¼Œæ˜¯ä¸€ä¸ªæ¯”è¾ƒå¥½çš„è§„èŒƒ</p>
</blockquote>
<h2 id="5-insert-mds-table"><a href="#5-insert-mds-table" class="headerlink" title="5. insert mds table"></a>5. insert mds table</h2><p>insert data to mds_dm_e_coupon_profile</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> mds_dm_e_coupon_profile (</span><br><span class="line">	coupon_info_code,</span><br><span class="line">	shop_id,</span><br><span class="line">	collected_avg_actual_price,</span><br><span class="line">	collected_sum_actual_price,</span><br><span class="line">	collected_count,</span><br><span class="line">	verified_count,</span><br><span class="line">	verified_rate</span><br><span class="line">) <span class="keyword">SELECT</span></span><br><span class="line">	tt1.coupon_info_code,</span><br><span class="line">	tt1.shop_id,</span><br><span class="line">	tt1.avg_actual_price <span class="keyword">AS</span> collected_avg_actual_price,</span><br><span class="line">	tt1.sum_actual_price <span class="keyword">AS</span> collected_sum_actual_price,</span><br><span class="line">	tt1.collected_count,</span><br><span class="line">	<span class="keyword">COALESCE</span> (tt2.verified_count, <span class="number">0</span>) <span class="keyword">AS</span> verified_count,</span><br><span class="line">	<span class="keyword">round</span>(</span><br><span class="line">		(</span><br><span class="line">			<span class="keyword">COALESCE</span> (tt2.verified_count, <span class="number">0</span>) * <span class="number">1.0</span></span><br><span class="line">		) / (tt1.collected_count * <span class="number">1.0</span>),</span><br><span class="line">		<span class="number">2</span></span><br><span class="line">	) <span class="keyword">AS</span> verified_rate</span><br><span class="line"><span class="keyword">FROM</span></span><br><span class="line">	(</span><br><span class="line">		<span class="keyword">SELECT</span></span><br><span class="line">			t1.coupon_info_code,</span><br><span class="line">			t1.shop_id,</span><br><span class="line">			<span class="keyword">COUNT</span> (t1.<span class="keyword">ID</span>) <span class="keyword">AS</span> collected_count,</span><br><span class="line">			<span class="keyword">round</span>(<span class="keyword">AVG</span>(t1.actual_price), <span class="number">2</span>) <span class="keyword">AS</span> avg_actual_price,</span><br><span class="line">			<span class="keyword">SUM</span> (t1.actual_price) <span class="keyword">AS</span> sum_actual_price</span><br><span class="line">		<span class="keyword">FROM</span></span><br><span class="line">			(</span><br><span class="line">				<span class="keyword">SELECT</span></span><br><span class="line">					*</span><br><span class="line">				<span class="keyword">FROM</span></span><br><span class="line">					ods_dm_e_coupon</span><br><span class="line">				<span class="keyword">WHERE</span></span><br><span class="line">					<span class="keyword">status</span> = <span class="number">1</span></span><br><span class="line">			) t1</span><br><span class="line">		<span class="keyword">GROUP</span> <span class="keyword">BY</span></span><br><span class="line">			(t1.coupon_info_code, t1.shop_id)</span><br><span class="line">		<span class="keyword">ORDER</span> <span class="keyword">BY</span></span><br><span class="line">			t1.shop_id</span><br><span class="line">	) tt1</span><br><span class="line"><span class="keyword">LEFT</span> <span class="keyword">JOIN</span> (</span><br><span class="line">	<span class="keyword">SELECT</span></span><br><span class="line">		t2.coupon_info_code,</span><br><span class="line">		t2.shop_id,</span><br><span class="line">		<span class="keyword">COUNT</span> (t2.<span class="keyword">ID</span>) <span class="keyword">AS</span> verified_count,</span><br><span class="line">		<span class="keyword">round</span>(<span class="keyword">AVG</span>(t2.actual_price), <span class="number">2</span>) <span class="keyword">AS</span> avg_actual_price,</span><br><span class="line">		<span class="keyword">SUM</span> (t2.actual_price) <span class="keyword">AS</span> sum_actual_price</span><br><span class="line">	<span class="keyword">FROM</span></span><br><span class="line">		(</span><br><span class="line">			<span class="keyword">SELECT</span></span><br><span class="line">				*</span><br><span class="line">			<span class="keyword">FROM</span></span><br><span class="line">				ods_dm_e_coupon</span><br><span class="line">			<span class="keyword">WHERE</span></span><br><span class="line">				<span class="keyword">status</span> = <span class="number">1</span></span><br><span class="line">			<span class="keyword">AND</span> <span class="keyword">RESULT</span> = <span class="number">2</span></span><br><span class="line">		) t2</span><br><span class="line">	<span class="keyword">GROUP</span> <span class="keyword">BY</span></span><br><span class="line">		(t2.coupon_info_code, t2.shop_id)</span><br><span class="line">	<span class="keyword">ORDER</span> <span class="keyword">BY</span></span><br><span class="line">		t2.shop_id</span><br><span class="line">) tt2 <span class="keyword">ON</span> tt1.coupon_info_code = tt2.coupon_info_code</span><br><span class="line"><span class="keyword">AND</span> tt1.shop_id = tt2.shop_id</span><br></pre></td></tr></table></figure>
<h2 id="6-validation-results"><a href="#6-validation-results" class="headerlink" title="6. validation results"></a>6. validation results</h2><figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">select</span> * <span class="keyword">from</span> mds_dm_e_coupon_profile <span class="keyword">order</span> <span class="keyword">by</span> <span class="keyword">id</span> <span class="keyword">limit</span> <span class="number">20</span>;</span><br></pre></td></tr></table></figure>
<p><img src="/images/db/greenplum-man-1.png" alt=""></p>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[Greenplum å­¦ä¹ ç¬”è®°]]></title>
      <url>http://iequa.com/2017/01/04/db-greenplum-short-introduce/</url>
      <content type="html"><![CDATA[<style>
img {
        display: block !important;
        width: 500px;
        margin-left: 180px !important;
}
</style>

<p><img src="/images/db/greenplum-1.1.png" alt=""></p>
<table>
<thead>
<tr>
<th>No.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</th>
<th>OLTP</th>
<th>OLAP</th>
</tr>
</thead>
<tbody>
<tr>
<td>1.</td>
<td>æ•°æ®åœ¨ç³»ç»Ÿä¸­äº§ç”Ÿ</td>
<td>æœ¬èº«ä¸äº§ç”Ÿæ•°æ®ï¼ŒåŸºç¡€æ•°æ®æ¥æºäºäº§ç”Ÿç³»ç»Ÿ</td>
</tr>
<tr>
<td>2.</td>
<td>åŸºäºäº¤æ˜“çš„å¤„ç†ç³»ç»Ÿ</td>
<td>åŸºäºæŸ¥è¯¢çš„åˆ†æç³»ç»Ÿ</td>
</tr>
<tr>
<td>3.</td>
<td>ç‰µæ‰¯çš„æ•°æ®é‡å¾ˆå°</td>
<td>ç‰µæ‰¯çš„æ•°æ®é‡åºå¤§ (å¤æ‚æŸ¥è¯¢ç»å¸¸ä½¿ç”¨å…¨è¡¨æ‰«æç­‰)</td>
</tr>
<tr>
<td>4.</td>
<td>å¯¹å“åº”æ—¶é—´è¦æ±‚éå¸¸é«˜</td>
<td>å“åº”æ—¶é—´ä¸å…·ä½“æŸ¥è¯¢æœ‰å¾ˆå¤§å…³ç³»</td>
</tr>
<tr>
<td>5.</td>
<td>ç”¨æˆ·æ•°é‡å¤§ï¼Œä¸ºæ“ä½œç”¨æˆ·</td>
<td>ç”¨æˆ·æ•°é‡å°‘ï¼Œä¸»è¦æœ‰æŠ€æœ¯äººå‘˜ä¸ä¸šåŠ¡äººå‘˜</td>
</tr>
<tr>
<td>6.</td>
<td>å„ç§æ“ä½œä¸»è¦åŸºäºç´¢å¼•è¿›è¡Œ</td>
<td>ä¸šåŠ¡é—®é¢˜ä¸å›ºå®šï¼Œæ•°æ®åº“çš„å„ç§æ“ä½œä¸èƒ½å®Œå…¨åŸºäºç´¢å¼•è¿›è¡Œ</td>
</tr>
</tbody>
</table>
<h2 id="1-Greenplum-ä»‹ç»"><a href="#1-Greenplum-ä»‹ç»" class="headerlink" title="1. Greenplum ä»‹ç»"></a>1. Greenplum ä»‹ç»</h2><p>Greenplum æ˜¯ åŸºäºæ•°æ®åº“çš„åˆ†å¸ƒå¼æ•°æ®å­˜å‚¨å’Œå¹¶è¡Œè®¡ç®— æ¡†æ¶</p>
<blockquote>
<p>Greenplum TBçº§åˆ«è¡¨ç°éå¸¸ä¼˜ç§€ï¼Œå•æœºæ€§èƒ½æ¯”Hadoopå¿«å¥½å‡ å€</p>
</blockquote>
<h3 id="1-1-Greenplum-å†ç¨‹"><a href="#1-1-Greenplum-å†ç¨‹" class="headerlink" title="1.1 Greenplum å†ç¨‹"></a>1.1 Greenplum å†ç¨‹</h3><ul>
<li>2003 å¹´ è¯ç”Ÿ greenplum</li>
<li>2010 å¹´ æ”¶è´­ è¢« EMC æ•´åˆ</li>
<li>2014 å¹´ å‘å¸ƒ 4.3 version</li>
<li>2015 å¹´ é‡å› open source, apache</li>
</ul>
<h3 id="1-2-Greenplum-æ¶æ„"><a href="#1-2-Greenplum-æ¶æ„" class="headerlink" title="1.2 Greenplum æ¶æ„"></a>1.2 Greenplum æ¶æ„</h3><p><img src="/images/db/greenplum-1.2.png" alt=""></p>
<blockquote>
<p>Greenplumå®ç°äº†åŸºäº<code>æ•°æ®åº“çš„åˆ†å¸ƒå¼</code>æ•°æ®å­˜å‚¨å’Œå¹¶è¡Œè®¡ç®—<br>GoogleMapReduceå®ç°çš„æ˜¯åŸºäº<code>æ–‡ä»¶çš„åˆ†å¸ƒå¼</code>æ•°æ®å­˜å‚¨å’Œè®¡ç®—</p>
</blockquote>
<h3 id="1-3-Greenplum-amp-Pg"><a href="#1-3-Greenplum-amp-Pg" class="headerlink" title="1.3 Greenplum &amp; Pg"></a>1.3 Greenplum &amp; Pg</h3><p>PostgreSQL éå¸¸å…ˆè¿›çš„ ORDBMSï¼Œ PostgreSQL å¤©ç”Ÿä¸ºæ‰©å±•è€Œç”Ÿã€‚</p>
<p>Mysql æŸ¥è¯¢ä¼˜åŒ–å™¨å¯¹äºå­æŸ¥è¯¢ã€å¤åˆ¶æŸ¥è¯¢å¦‚å¤šè¡¨å…³è”ã€å¤–å…³è”çš„æ”¯æŒç­‰è¾ƒå¼±ï¼ŒMysql ç›®å‰ä¸æ”¯æŒ<a href="https://en.wikipedia.org/wiki/Hash_join" target="_blank" rel="external">hash join</a>ï¼Œç¼ºå°‘è¿™å…³é”®åŠŸèƒ½éå¸¸è‡´å‘½ï¼Œå°†éš¾äºåœ¨OLAPé¢†åŸŸå……å½“å¤§ä»»ã€‚åŸºäºMYSQLä¸€åˆ°å¤æ‚å¤šè¡¨å…³è”æ€§èƒ½å°±ç«‹é©¬ä¸‹é™ã€‚</p>
<h3 id="1-4-Greenplum-åº”ç”¨"><a href="#1-4-Greenplum-åº”ç”¨" class="headerlink" title="1.4 Greenplum åº”ç”¨"></a>1.4 Greenplum åº”ç”¨</h3><p>Greenplum æ•°æ®å¼•æ“æ˜¯ä¸ºæ–°ä¸€ä»£æ•°æ®ä»“åº“å’Œ<code>å¤§è§„æ¨¡åˆ†æå¤„ç†</code>è€Œå»ºç«‹çš„è½¯ä»¶è§£å†³æ–¹æ¡ˆã€‚ (Alibaba 2008å¹´ä½¿ç”¨Greenplum)</p>
<blockquote>
<p>MPP : Massively Parallel Processing<br>OLTP: On-Line Transaction Processing<br>OLAP: On-Line Analytical Processing </p>
</blockquote>
<h3 id="1-5-MPP-ä¸-Hadoop"><a href="#1-5-MPP-ä¸-Hadoop" class="headerlink" title="1.5 MPP ä¸ Hadoop"></a>1.5 MPP ä¸ Hadoop</h3><table>
<thead>
<tr>
<th>&nbsp;&nbsp;Type &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</th>
<th>Greenplum MPP</th>
<th>Hadoop</th>
</tr>
</thead>
<tbody>
<tr>
<td>å­˜å‚¨æ¨¡å¼</td>
<td>å…³ç³»æ•°æ®åº“è¡Œåˆ—è¡¨å­˜å‚¨æ•°æ®ï¼ˆæœ‰æ¨¡å¼ï¼‰</td>
<td>æ–‡ä»¶åˆ‡ç‰‡åˆ†å¸ƒå¼å­˜å‚¨ï¼ˆæ— æ¨¡å¼ï¼‰</td>
</tr>
<tr>
<td>æ•°æ®è€¦åˆ</td>
<td>Hashåˆ†å¸ƒ, è®¡ç®—èŠ‚ç‚¹å’Œå­˜å‚¨ç´§å¯†è€¦åˆ</td>
<td>hdfsæ–‡ä»¶åˆ‡å—åéšæœºåˆ†é…ï¼ŒèŠ‚ç‚¹æ•°æ®æ— è€¦åˆ</td>
</tr>
<tr>
<td>æ•°æ®ç²’åº¦</td>
<td>è®°å½•çº§çš„æ›´å°ç²’åº¦ï¼ˆä¸€èˆ¬åœ¨1kä»¥ä¸‹ï¼‰</td>
<td>æ–‡ä»¶å—çº§ï¼ˆç¼ºçœ64MBï¼‰</td>
</tr>
<tr>
<td>æŸ¥è¯¢è®¡åˆ’</td>
<td>MPPé‡‡ç”¨SQLå¹¶è¡ŒæŸ¥è¯¢è®¡åˆ’</td>
<td>Hadoopé‡‡ç”¨Mapreduceæ¡†æ¶</td>
</tr>
</tbody>
</table>
<p>ä¸ºä¿è¯æ•°æ®çš„é«˜æ€§èƒ½è®¡ç®—ï¼ŒMPPæ•°æ®åº“èŠ‚ç‚¹å’Œæ•°æ®ä¹‹é—´æ˜¯ç´§è€¦åˆçš„ï¼Œç›¸åï¼ŒHadoopçš„èŠ‚ç‚¹å’Œæ•°æ®æ˜¯æ²¡æœ‰è€¦åˆå…³ç³»çš„. Hadoopçš„æ¶æ„æ›´åŠ çµæ´»-å­˜å‚¨èŠ‚ç‚¹å’Œè®¡ç®—èŠ‚ç‚¹çš„æ— å…³æ€§</p>
<p>Hadoopæ¶æ„ï¼Œéœ€è¦åœ¨åŸç”Ÿçš„Mapreduceå¼€å‘æ¡†æ¶åŸºç¡€ä¸Šçš„å¼€å‘ï¼Œéœ€è¦æŠ€æœ¯äººå‘˜è°™ç†ŸäºJAVAå¼€å‘å’Œå¹¶è¡ŒåŸç†ï¼Œä¸ä»…ä¸šåŠ¡åˆ†æäººå‘˜æ— æ³•ä½¿ç”¨ï¼Œç”šè‡³æŠ€æœ¯äººå‘˜ä¹Ÿéš¾ä»¥å­¦ä¹ å’Œæ“æ§ã€‚ä¸ºäº†è§£å†³æ˜“ç”¨æ€§çš„é—®é¢˜ï¼Œè¿‘å¹´æ¥SQL-0N-HADOOPæŠ€æœ¯å¤§é‡æ¶Œç°å‡ºæ¥ï¼Œå‡ ä¹æˆä¸ºå½“å‰Hadoopå¼€å‘ä½¿ç”¨çš„ä¸€ä¸ªæŠ€æœ¯çƒ­ç‚¹è¶‹åŠ¿ã€‚</p>
<p>è¿™äº›æŠ€æœ¯åŒ…æ‹¬ï¼šHiveã€Pivotal HAWQã€SPARK SQLã€Impalaã€Prestã€Drillã€Tajoç­‰ç­‰å¾ˆå¤šï¼Œè¿™äº›æŠ€æœ¯æœ‰äº›æ˜¯åœ¨Mapreduceä¸Šåšäº†ä¼˜åŒ–ï¼Œä¾‹å¦‚Sparké‡‡ç”¨å†…å­˜ä¸­çš„MapreduceæŠ€æœ¯ï¼Œå·ç§°æ€§èƒ½æ¯”åŸºäºæ–‡ä»¶çš„çš„Mapreduceæé«˜10å€ï¼›è€Œæœ‰äº›åˆ™ç›´æ¥ç»•å¼€äº†Mapreduceå¦èµ·ç‚‰ç¶ï¼Œå¦‚Impalaã€hawqé‡‡ç”¨å€Ÿé‰´MPPè®¡ç®—æ€æƒ³æ¥åšæŸ¥è¯¢ä¼˜åŒ–å’Œå†…å­˜æ•°æ®Pipelineè®¡ç®—ï¼Œä»¥æ­¤æ¥æé«˜æ€§èƒ½ã€‚</p>
<blockquote>
<p>MapReduce ç¼–ç¨‹å›°éš¾, ä¸å¦‚ SQL æ–¹ä¾¿</p>
</blockquote>
<h2 id="2-Quick-Start"><a href="#2-Quick-Start" class="headerlink" title="2. Quick Start"></a>2. Quick Start</h2><p>Master å’Œ Segment éƒ½æ˜¯å•ç‹¬çš„ PostgreSQLæ•°æ®åº“ã€‚</p>
<h3 id="2-1-Greenplum-æ¶æ„"><a href="#2-1-Greenplum-æ¶æ„" class="headerlink" title="2.1 Greenplum æ¶æ„"></a>2.1 Greenplum æ¶æ„</h3><p><img src="/images/db/greenplum-2.1.png" alt=""></p>
<p>Client åªä¸ MasterèŠ‚ç‚¹ äº¤äº’ï¼ŒClientå°†SQLå‘ç»™ Masterï¼Œç„¶å Masterå¯¹SQLåˆ†æåï¼Œåˆ†é…ç»™æ‰€æœ‰çš„ Segment è¿›è¡Œæ“ä½œï¼Œå¹¶å°†æ±‡æ€»ç»“æœè¿”å›ç»™å®¢æˆ·ç«¯ã€‚</p>
<h3 id="2-2-Greenplum-é›†ç¾¤"><a href="#2-2-Greenplum-é›†ç¾¤" class="headerlink" title="2.2 Greenplum é›†ç¾¤"></a>2.2 Greenplum é›†ç¾¤</h3><p><img src="/images/db/greenplum-2.2.png" alt=""></p>
<h3 id="2-3-Greenplum-ç•…æ¸¸"><a href="#2-3-Greenplum-ç•…æ¸¸" class="headerlink" title="2.3 Greenplum ç•…æ¸¸"></a>2.3 Greenplum ç•…æ¸¸</h3><h4 id="2-3-1-è®¿é—®æ–¹å¼"><a href="#2-3-1-è®¿é—®æ–¹å¼" class="headerlink" title="2.3.1 è®¿é—®æ–¹å¼"></a>2.3.1 è®¿é—®æ–¹å¼</h4><ul>
<li>psql cmd</li>
<li>pgAdmin / navicat</li>
</ul>
<h4 id="2-3-2-æ•´ä½“æ¦‚å†µ"><a href="#2-3-2-æ•´ä½“æ¦‚å†µ" class="headerlink" title="2.3.2 æ•´ä½“æ¦‚å†µ"></a>2.3.2 æ•´ä½“æ¦‚å†µ</h4><ul>
<li>Greenplum åŸºäº PostgreSQL 8.2 å¼€å‘</li>
<li>Masterä¸å­˜å‚¨æ•°æ®ï¼ŒSegmentä¸ºæ•°æ®èŠ‚ç‚¹</li>
</ul>
<p>Student Table å­˜å‚¨åœ¨ GP ä¸­</p>
<p><img src="/images/db/greenplum-2.3.png" alt=""></p>
<h4 id="2-3-3-åŸºæœ¬è¯­æ³•"><a href="#2-3-3-åŸºæœ¬è¯­æ³•" class="headerlink" title="2.3.3 åŸºæœ¬è¯­æ³•"></a>2.3.3 åŸºæœ¬è¯­æ³•</h4><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">[hdfs@node196 libin]$ psql -h 192.168.xx.xx -p xx <span class="_">-d</span> testdb -U xx</span><br><span class="line">psql (9.2.15, server 8.2.15)</span><br><span class="line">WARNING: psql version 9.2, server version 8.2.</span><br><span class="line">         Some psql features might not work.</span><br><span class="line">Type <span class="string">"help"</span> <span class="keyword">for</span> help.</span><br></pre></td></tr></table></figure>
<blockquote>
<p>psql -h192.168.181.xx -p2345 -dcom_db -Ucom_gp -c â€œselect * from ods_dm_e_coupon limit 2â€</p>
</blockquote>
<p><strong>1. è¯­æ³•ä»‹ç»</strong></p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line">\h <span class="keyword">create</span></span><br></pre></td></tr></table></figure>
<p><strong>2. CREATE TABLE</strong></p>
<ul>
<li>éœ€è¦æŒ‡å®šè¡¨åˆ†å¸ƒé”®</li>
<li>éœ€è¦ç”¨æŸä¸ªå­—æ®µåˆ†åŒºï¼Œpartition by</li>
<li>like ç±»ä¼¼ create table t1 as select * from t2 limit x</li>
<li>inherits can extend table</li>
</ul>
<p>åˆ†ç±»ç­–ç•¥ </p>
<ol>
<li>Hash åˆ†å¸ƒ (é»˜è®¤ç¬¬ä¸€ä¸ªå­—æ®µï¼Œæ¨èæ˜¾ç¤ºæŒ‡å®š)</li>
<li>éšæœºåˆ†å¸ƒ (distributed randomly æ€§èƒ½è¾ƒå·®ï¼Œ ä¸»é”®åˆ†å¸ƒä¸€èˆ¬)</li>
</ol>
<blockquote>
<p>like åˆ›å»ºçš„è¡¨ï¼Œç»“æ„ä¸åŸè¡¨ä¸€æ ·ï¼Œä¸æŒ‡å®šåˆ†å¸ƒé”®ï¼Œé»˜è®¤ä¸åŸè¡¨ä¸€æ ·ã€‚</p>
<p>appendonlyã€å‹ç¼©ç­‰ç‰¹æ®Šå±æ€§ï¼Œä¸ä¸€å®šä¸€æ ·ã€‚</p>
</blockquote>
<p><strong>3. SELECT</strong></p>
<p><strong>4. CREATE TABLE AS ä¸ SELECT INTO</strong></p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> test2 <span class="keyword">AS</span> <span class="keyword">SELECT</span> * <span class="keyword">FROM</span> test1 <span class="keyword">distributed</span> <span class="keyword">by</span> (<span class="keyword">id</span>)</span><br></pre></td></tr></table></figure>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> * <span class="keyword">INTO</span> test4 <span class="keyword">from</span> test1</span><br></pre></td></tr></table></figure>
<blockquote>
<p>SELECT INTO ä¸èƒ½æŒ‡å®šåˆ†å¸ƒé”®ï¼Œä½¿ç”¨é»˜è®¤</p>
</blockquote>
<p><strong>5. INSERT</strong></p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> test001 <span class="keyword">VALUES</span>(<span class="number">100</span>, <span class="string">'tom'</span>), (<span class="number">101</span>, <span class="string">'jim'</span>); <span class="keyword">INSERT</span> <span class="number">0</span> <span class="number">2</span></span><br></pre></td></tr></table></figure>
<blockquote>
<p>æ³¨æ„ : åˆ†å¸ƒé”® ç»å¯¹ä¸èƒ½ä¸ºç©ºï¼Œå¦åˆ™ä¸º nullã€‚æ•°æ®åˆ†å¸ƒåˆ°ä¸€ä¸ªèŠ‚ç‚¹ã€‚</p>
</blockquote>
<p><strong>6. UPDATE</strong></p>
<p>ä¸èƒ½æ‰¹é‡å¯¹ åˆ†å¸ƒkey æ‰§è¡Œ update æ“ä½œ</p>
<p><strong>7. DELETE</strong></p>
<p>æ¶‰åŠ å­æŸ¥è¯¢ï¼Œå­æŸ¥è¯¢ç»“æœè¿˜æ¶‰åŠæ•°æ®é‡åˆ†å¸ƒï¼Œè¿™æ ·æŠ¥é”™</p>
<h4 id="2-3-4-æ•°æ®ç±»å‹"><a href="#2-3-4-æ•°æ®ç±»å‹" class="headerlink" title="2.3.4 æ•°æ®ç±»å‹"></a>2.3.4 æ•°æ®ç±»å‹</h4><table>
<thead>
<tr>
<th>type</th>
<th>space</th>
<th>description</th>
<th>range</th>
</tr>
</thead>
<tbody>
<tr>
<td>smallint</td>
<td>2</td>
<td></td>
<td>-32768 ~ +32767</td>
</tr>
<tr>
<td>integer</td>
<td>4</td>
<td></td>
<td>-2 147 483 648 ~ +2 147 483 647</td>
</tr>
<tr>
<td>bigint</td>
<td>8</td>
<td></td>
<td>-</td>
</tr>
<tr>
<td>decimal</td>
<td>å˜é•¿</td>
<td></td>
<td>nolimit</td>
</tr>
<tr>
<td>numeric</td>
<td>å˜é•¿</td>
<td></td>
<td>nolimit</td>
</tr>
<tr>
<td>double precision</td>
<td>4</td>
<td></td>
<td>-</td>
</tr>
<tr>
<td>serial</td>
<td>4</td>
<td>è‡ªå¢æ•´æ•°</td>
<td>1 ~ 2 147 483 647</td>
</tr>
<tr>
<td>bigserial</td>
<td>8</td>
<td>å¤§èŒƒå›´è‡ªå¢æ•´æ•°</td>
<td></td>
</tr>
<tr>
<td>varchar(n)</td>
<td>å˜é•¿</td>
<td></td>
<td>limit</td>
</tr>
<tr>
<td>char(n)</td>
<td>å®šé•¿</td>
<td></td>
<td></td>
</tr>
<tr>
<td>text</td>
<td>å˜é•¿</td>
<td></td>
<td>nolimit</td>
</tr>
<tr>
<td>timestamp</td>
<td>8</td>
<td>å¸¦ä¸å¸¦æ—¶åŒºï¼Œè‡ªå·±é€‰æ‹©</td>
<td></td>
</tr>
<tr>
<td>date</td>
<td>4</td>
<td>è¡¨ç¤ºæ—¥æœŸ</td>
<td></td>
</tr>
</tbody>
</table>
<h4 id="2-3-5-å¸¸ç”¨å‡½æ•°"><a href="#2-3-5-å¸¸ç”¨å‡½æ•°" class="headerlink" title="2.3.5 å¸¸ç”¨å‡½æ•°"></a>2.3.5 å¸¸ç”¨å‡½æ•°</h4><p><a href="http://www.postgres.cn/docs/9.3/" target="_blank" rel="external">postgres 9.3 doc</a></p>
<h2 id="Reference"><a href="#Reference" class="headerlink" title="Reference"></a>Reference</h2><ul>
<li><a href="https://cread.jd.com/read/startRead.action?bookId=30189846&amp;readType=1" target="_blank" rel="external">JDé˜…è¯» : Greenplumä¼ä¸šçº§åº”ç”¨å®æˆ˜</a></li>
<li><a href="http://dbaplus.cn/news-21-341-1.html" target="_blank" rel="external">èŠèŠGreenplumçš„é‚£äº›äº‹</a></li>
</ul>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[Going to the doctor's L4 Accidents and injuries]]></title>
      <url>http://iequa.com/2016/12/27/ef-l6u2-Going-to-the-doctor's-l4/</url>
      <content type="html"><![CDATA[<style>
img {
        display: block !important;
        width: 500px;
        margin-left: 200px !important;
}
</style>

<h2 id="1-Vocabulary"><a href="#1-Vocabulary" class="headerlink" title="1. Vocabulary"></a>1. Vocabulary</h2><ul>
<li>unconscious</li>
</ul>
<p><img src="/images/english/ef-l6u2l4.png" alt=""></p>
<table>
<thead>
<tr>
<th>A: JAKE - B: PAM - C: SIMON</th>
</tr>
</thead>
<tbody>
<tr>
<td>I fell down some stairs.</td>
<td></td>
</tr>
<tr>
<td>How did you do that?</td>
<td></td>
</tr>
<tr>
<td>I was walking down some stairs. I wasnâ€™t paying attention.</td>
<td></td>
</tr>
<tr>
<td>You were paying attention. He was paying attention to a woman.</td>
<td></td>
</tr>
<tr>
<td>I think the stairs were wet.</td>
<td></td>
</tr>
<tr>
<td>When did this happen?</td>
<td></td>
</tr>
<tr>
<td>[JAKE] Yeah. I bruised three ribs and, sprained my right wrist.</td>
<td></td>
</tr>
<tr>
<td>[PAM] How are you coping with the crutches?</td>
<td></td>
</tr>
<tr>
<td>[JAKE] No problem at all.</td>
<td></td>
</tr>
</tbody>
</table>
<h2 id="2-because-of-the-pain"><a href="#2-because-of-the-pain" class="headerlink" title="2. because of the pain"></a>2. because of the pain</h2><p>I was walking down the street when I slipped and fell down, and broke my leg. I havenâ€™t been sleeping since it happened because of the pain. It really hurts!</p>
<table>
<thead>
<tr>
<th>because of the pain</th>
</tr>
</thead>
<tbody>
<tr>
<td>I was walking down the street â€¦</td>
<td></td>
</tr>
<tr>
<td>â€¦ when I slipped and fell down â€¦</td>
<td></td>
</tr>
<tr>
<td>â€¦ and broke my leg.</td>
<td></td>
</tr>
<tr>
<td>I havenâ€™t been sleeping â€¦</td>
<td></td>
</tr>
<tr>
<td>â€¦ since it happened.</td>
<td></td>
</tr>
<tr>
<td>It really hurts!</td>
<td></td>
</tr>
</tbody>
</table>
<h2 id="3-Expressions"><a href="#3-Expressions" class="headerlink" title="3. Expressions"></a>3. Expressions</h2><table>
<thead>
<tr>
<th>Ex</th>
</tr>
</thead>
<tbody>
<tr>
<td>I fell off a wall and broke my leg.</td>
<td></td>
</tr>
<tr>
<td>I sprained my wrist.</td>
<td></td>
</tr>
<tr>
<td>I have a bruise on my arm.</td>
<td></td>
</tr>
<tr>
<td>I fell down and bruised my shoulder.</td>
<td></td>
</tr>
<tr>
<td>I broke my arm while playing volleyball.</td>
<td></td>
</tr>
<tr>
<td>I was running for a bus when I sprained my ankle.</td>
<td></td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr>
<th>Possessive adjectives</th>
</tr>
</thead>
<tbody>
<tr>
<td>He called his doctor because he had a fever.</td>
<td></td>
</tr>
<tr>
<td>Iâ€™m a patient of Dr. Brennanâ€™s. == Iâ€™m Dr. Brennanâ€™s patient.</td>
<td></td>
</tr>
</tbody>
</table>
<h2 id="4-Reading"><a href="#4-Reading" class="headerlink" title="4. Reading"></a>4. Reading</h2><p>I guess the strangest accident I have ever had was when I was at school. I was playing a game where you had to lie on the ground, and all the others jumped on top of you. It was fine until the biggest kid in school came and jumped on top, too! I broke my finger, <code>bruised my ribs</code> and <code>sprained</code> my wrist. I spent the night in the hospital, and it took me a couple of months to get better.</p>
<h2 id="5-Writing"><a href="#5-Writing" class="headerlink" title="5. Writing"></a>5. Writing</h2><p>I had an accident last winter when I was arriving at work. I was coming into the building, climbing the steps, when I slipped on the icy floor. I fell down the steps and <code>broke my ankle</code>. I also <code>sprained my left wrist and bruised my back badly</code>. I had to go to the hospital, and I stayed there for three days. I hurt a lot! I had to stay at home for two more weeks before I could go back to work.</p>
<hr>
<div class="video-container"><iframe src="//www.youtube.com/embed/XDm4bNQGwWE" frameborder="0" allowfullscreen></iframe></div>]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[Going to the doctor's L3 Filling a prescription]]></title>
      <url>http://iequa.com/2016/12/16/ef-l6u2-Going-to-the-doctor's-l3/</url>
      <content type="html"><![CDATA[<style>
img {
        display: block !important;
        width: 500px;
        margin-left: 200px !important;
}
</style>

<h2 id="1-Vocabulary"><a href="#1-Vocabulary" class="headerlink" title="1. Vocabulary"></a>1. Vocabulary</h2><ul>
<li>Iâ€™m going to the pharmacy.</li>
<li>He talked to the pharmacist.</li>
<li>teaspoons</li>
</ul>
<table>
<thead>
<tr>
<th>allergic to</th>
<th>medications</th>
<th>dosage </th>
</tr>
</thead>
<tbody>
<tr>
<td>tablets</td>
<td>spicy</td>
<td>capsules</td>
</tr>
</tbody>
</table>
<p><img src="/images/english/ef-l6u2l3.png" alt=""></p>
<table>
<thead>
<tr>
<th>A: PAM - B: PHARMACIST</th>
</tr>
</thead>
<tbody>
<tr>
<td>[A] Hi. Iâ€™d like to fill a prescription. James. My first name is Pam. Does my insurance cover this?</td>
<td></td>
</tr>
<tr>
<td>[B] Yes, it does. Iâ€™ll be right back. Are you allergic to any other medications?</td>
<td></td>
</tr>
<tr>
<td>[A] Uh, no, Iâ€™m not.</td>
<td></td>
</tr>
<tr>
<td>[B] Okay. So this will help stop the diarrhea. The dosage is two tablets every six hours.</td>
<td></td>
</tr>
<tr>
<td>[A] Okay.</td>
<td></td>
</tr>
<tr>
<td>[B] Itâ€™s better if you take it with some plain food, like rice or scrambled eggs. Nothing spicy.</td>
<td></td>
</tr>
<tr>
<td>[A] I understand.</td>
<td></td>
</tr>
<tr>
<td>[B] And this is for the nausea and the vomiting. Take two capsules twice a day for three days.</td>
<td></td>
</tr>
<tr>
<td>[B] I hope you feel better.</td>
<td></td>
</tr>
</tbody>
</table>
<h2 id="2-Expressions"><a href="#2-Expressions" class="headerlink" title="2. Expressions"></a>2. Expressions</h2><table>
<thead>
<tr>
<th>PAM</th>
<th>PHARMACIST</th>
</tr>
</thead>
<tbody>
<tr>
<td>Iâ€™d like to fill a prescription.</td>
<td>Take two capsules twice a day for three days</td>
</tr>
<tr>
<td>Iâ€™m here to pick up my medication</td>
<td>Itâ€™s better if you take it with some plain food.</td>
</tr>
<tr>
<td>Does my insurance cover this?</td>
<td>Yes, it does.</td>
</tr>
<tr>
<td>Iâ€™m not currently taking any medication.</td>
<td>I hope you feel better. </td>
</tr>
</tbody>
</table>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[Going to the doctor's L2 Talking with the doctor]]></title>
      <url>http://iequa.com/2016/12/13/ef-l6u2-Going-to-the-doctor's-l2/</url>
      <content type="html"><![CDATA[<style>
img {
        display: block !important;
        width: 450px;
        margin-left: 200px !important;
}
</style>

<h2 id="1-Vocabulary"><a href="#1-Vocabulary" class="headerlink" title="1. Vocabulary"></a>1. Vocabulary</h2><table>
<thead>
<tr>
<th>blood pressure</th>
<th>symptoms</th>
<th>stomach flu </th>
</tr>
</thead>
<tbody>
<tr>
<td>prescription</td>
<td>medicine</td>
<td>liquids</td>
</tr>
<tr>
<td>appetite</td>
<td>nauseous</td>
<td>fever</td>
</tr>
</tbody>
</table>
<p><img src="/images/english/ef-l6u2l2-1.png" alt=""></p>
<table>
<thead>
<tr>
<th>A: DOCTOR - B: PAM</th>
</tr>
</thead>
<tbody>
<tr>
<td>[DOC] How are you feeling?</td>
<td></td>
</tr>
<tr>
<td>[PAM] Not so great.</td>
<td></td>
</tr>
<tr>
<td>[DOC] Hmm. Iâ€™m sorry to hear that. How long have you been feeling bad?</td>
<td></td>
</tr>
<tr>
<td>[PAM] Um, since yesterday. But I got really sick in the middle of the night.</td>
<td></td>
</tr>
<tr>
<td>[DOC] Well, you do have a slight fever, but thatâ€™s nothing to worry about. And your blood pressure is good. Did you eat anything unusual yesterday?</td>
<td></td>
</tr>
<tr>
<td>[PAM] No, I donâ€™t think so. I had pizza for lunch, and I didnâ€™t eat dinner.</td>
<td></td>
</tr>
<tr>
<td>[DOC] Well, based on the symptoms youâ€™ve described, I think that you have a stomach flu. Itâ€™s been going around.</td>
<td></td>
</tr>
<tr>
<td>[PAM] Yeah, thatâ€™s what I thought.</td>
<td></td>
</tr>
<tr>
<td>[DOC] Iâ€™m going to write you a prescription for medicine to help your stomach and stop the diarrhea.</td>
<td></td>
</tr>
<tr>
<td>[DOC] Stay in bed and, uh, drink plenty of liquids. If you donâ€™t feel better after 24 hours, I want you to call the nurse.</td>
<td></td>
</tr>
<tr>
<td>[DOC] And, uh, when you have an appetite again, take it easy. Iâ€™d recommend plain white rice and maybe some yoghurt.</td>
<td></td>
</tr>
<tr>
<td>[PAM] Okay, doctor, thanks</td>
<td></td>
</tr>
</tbody>
</table>
<h2 id="2-Grammar"><a href="#2-Grammar" class="headerlink" title="2. Grammar"></a>2. Grammar</h2><table>
<thead>
<tr>
<th>forã€have been +ing</th>
<th>since</th>
</tr>
</thead>
<tbody>
<tr>
<td>Frank has been working hard <code>for two days</code>.</td>
<td>Oscar has been working hard <code>since yesterday</code>.</td>
</tr>
<tr>
<td>Iâ€™ve been waiting for the nurse for 20 minutes.</td>
<td>Iâ€™ve been having trouble sleeping since last Friday. </td>
</tr>
<tr>
<td>Since I got home, Iâ€™<code>ve been feeling</code> terrible.</td>
<td></td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr>
<th>had..for</th>
<th>Since</th>
</tr>
</thead>
<tbody>
<tr>
<td>Heâ€™s had the same symptoms for three days.</td>
<td>Iâ€™ve been drinking lots of liquids since I got sick</td>
</tr>
<tr>
<td>Sheâ€™s had the flu for a week.</td>
<td>Since I got sick, Iâ€™ve been drinking lots of liquids.</td>
<td></td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr>
<th>Doctor</th>
<th>Pam</th>
</tr>
</thead>
<tbody>
<tr>
<td>How long have you been feeling like this?</td>
<td>I got really sick in the middle of the night.</td>
</tr>
<tr>
<td>What are your symptoms ?</td>
<td>I have a stomachache and diarrhea.</td>
</tr>
<tr>
<td>I think that you have a stomach flu.</td>
<td>Do I have a favor ?</td>
</tr>
<tr>
<td>Iâ€™ll write you a prescription for some medicine.</td>
<td>What should I do?</td>
</tr>
<tr>
<td>Get rest and drink water.</td>
<td></td>
</tr>
</tbody>
</table>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[Going to the doctor's L1 Making a doctor's appointment]]></title>
      <url>http://iequa.com/2016/12/09/ef-l6u2-Going-to-the-doctor's-l1/</url>
      <content type="html"><![CDATA[<h2 id="1-Vocabulary"><a href="#1-Vocabulary" class="headerlink" title="1. Vocabulary"></a>1. Vocabulary</h2><ul>
<li>I feel terrible.</li>
<li><code>vomiting</code></li>
<li>I have <code>diarrhea</code>. [,daÉªÉ™â€™riÉ™]</li>
<li>patient</li>
<li>make an appointment</li>
<li><strong>dizzy</strong> [â€˜dÉªzÉª]</li>
<li><strong>nauseous</strong> [â€˜nÉ”ËsÉªÉ™s]</li>
<li><strong>sore throat</strong></li>
</ul>
<p><img src="/images/english/ef-l6u2l1.png" width="480" height="400" img=""></p>
<table>
<thead>
<tr>
<th>Making a doctorâ€™s appointment</th>
</tr>
</thead>
<tbody>
<tr>
<td>[SALLY] Pam, are you okay?</td>
<td></td>
</tr>
<tr>
<td>[PAM] No. I feel terrible.</td>
<td></td>
</tr>
<tr>
<td>[SALLY] Whatâ€™s up?</td>
<td></td>
</tr>
<tr>
<td>[PAM] <strong>Iâ€™ve been vomiting all night</strong>.</td>
<td></td>
</tr>
<tr>
<td>[SALLY] Oh, <strong>you poor thing</strong>. You need to call a doctor.</td>
<td></td>
</tr>
<tr>
<td>[PAM] I know.</td>
<td></td>
</tr>
<tr>
<td>[SALLY] Hey. Uh, I have to go, but Iâ€™ll call you later to see how you are.</td>
<td></td>
</tr>
<tr>
<td>[PAM] Hello</td>
<td></td>
</tr>
<tr>
<td>[RECEPTIONIST] Good morning. Doctor Brennanâ€™s office.</td>
<td></td>
</tr>
<tr>
<td>[PAM] Hi. My nameâ€™s Pam James. Iâ€™m a <code>patient</code> of Doctor Brennanâ€™s.</td>
<td></td>
</tr>
<tr>
<td>[RECEPTIONIST] Oh, yes. Ms. James. How can I help you?</td>
<td></td>
</tr>
<tr>
<td>[PAM] Iâ€™m sick. I want to <strong>make an appointment</strong> to see the doctor today.</td>
<td></td>
</tr>
<tr>
<td>[RECEPTIONIST] <strong>What seems to be the problem?</strong></td>
<td></td>
</tr>
<tr>
<td>[PAM] Iâ€™ve been vomiting. And I, uh, have diarrhea.</td>
<td></td>
</tr>
<tr>
<td>[RECEPTIONIST] Iâ€™m very sorry to hear that. <strong>How long has this been going on?</strong></td>
<td></td>
</tr>
<tr>
<td>[PAM] All night. It started about 3 in the morning.</td>
<td></td>
</tr>
<tr>
<td>[RECEPTIONIST] Oh, dear. Will you be able to get to the doctorâ€™s office okay?</td>
<td></td>
</tr>
<tr>
<td>[PAM] Yeah, I think so.</td>
<td></td>
</tr>
<tr>
<td>[RECEPTIONIST] Okay. Let me just have a look here. The doctor has some time at 1 oâ€™clock. <strong>Could you make it then</strong>?</td>
<td></td>
</tr>
<tr>
<td>[PAM] Is there anything earlier?</td>
<td></td>
</tr>
<tr>
<td>[RECEPTIONIST] No, Iâ€™m sorry. The doctorâ€™s really busy today.</td>
<td></td>
</tr>
<tr>
<td>[PAM] Okay. One oâ€™clock is fine.</td>
<td></td>
</tr>
<tr>
<td>[RECEPTIONIST] Great. So, weâ€™ll see you at 1 oâ€™clock. Take care.</td>
<td></td>
</tr>
<tr>
<td>[PAM] Thank you.</td>
<td></td>
</tr>
</tbody>
</table>
<h2 id="2-Expressions"><a href="#2-Expressions" class="headerlink" title="2. Expressions"></a>2. Expressions</h2><table>
<thead>
<tr>
<th>&nbsp;</th>
</tr>
</thead>
<tbody>
<tr>
<td>I have a headache, and Iâ€™m dizzy.</td>
<td></td>
</tr>
<tr>
<td>I have a stomachache, and I feel nauseous.</td>
<td></td>
</tr>
<tr>
<td>I have a bad cough and a sore throat.</td>
<td></td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr>
<th>&nbsp;</th>
</tr>
</thead>
<tbody>
<tr>
<td>I had a fever last night.</td>
<td></td>
</tr>
<tr>
<td>I have diarrhea.</td>
<td></td>
</tr>
<tr>
<td>Iâ€™ve been vomiting.</td>
<td></td>
</tr>
<tr>
<td>How have you been feeling?</td>
<td></td>
</tr>
<tr>
<td>How long has this been <code>going on</code>?</td>
<td></td>
</tr>
<tr>
<td>Iâ€™ve been vomiting all night.</td>
<td></td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr>
<th>&nbsp;</th>
</tr>
</thead>
<tbody>
<tr>
<td>Iâ€™ve been feeling sick for three days.</td>
<td></td>
</tr>
<tr>
<td>Iâ€™ve been having problems sleeping.</td>
<td></td>
</tr>
<tr>
<td>Good morning. Iâ€™m a patient of Doctor Brennanâ€™s.</td>
<td></td>
</tr>
<tr>
<td>I want to make an appointment to see the doctor.</td>
<td></td>
</tr>
<tr>
<td>What seems to be the problem?</td>
<td></td>
</tr>
<tr>
<td>Iâ€™ve been feeling nauseous and tired.</td>
<td></td>
</tr>
<tr>
<td>The doctor has some time at 1 oâ€™clock.</td>
<td></td>
</tr>
<tr>
<td>Is there anything earlier?</td>
<td></td>
</tr>
</tbody>
</table>
<h3 id="2-1-have"><a href="#2-1-have" class="headerlink" title="2.1 have"></a>2.1 have</h3><ul>
<li>I have a fever.</li>
<li>He has diarrhea.</li>
<li>She has a bad cough.</li>
</ul>
<h3 id="2-2-soreã€-ache"><a href="#2-2-soreã€-ache" class="headerlink" title="2.2 soreã€-ache"></a>2.2 soreã€-ache</h3><ul>
<li>I have a <strong>sore</strong> throat.</li>
<li>He has a headache.</li>
<li>I have a stomachache.</li>
</ul>
<h3 id="2-3-beã€feel"><a href="#2-3-beã€feel" class="headerlink" title="2.3 beã€feel"></a>2.3 beã€feel</h3><ul>
<li>Iâ€™m dizzy. I feel dizzy.</li>
<li>Sheâ€™s nauseous. She feels nauseous.  [â€˜nÉ”ËsÉªÉ™s]</li>
</ul>
<p>Iâ€™ve been vomiting for about an hour.</p>
<h2 id="3-Reading"><a href="#3-Reading" class="headerlink" title="3. Reading"></a>3. Reading</h2><p>I feel terrible. I didnâ€™t sleep last night because I had a bad fever  . I was just too hot! I have a bad cough  , too â€“ maybe because I smoke? My colleagues always complain about the noise I make, but I canâ€™t answer them because I have a sore throat  and I canâ€™t speak. I didnâ€™t eat all day because I felt nauseous  and I had a stomachache  , and every time I wanted to stand up, I couldnâ€™t because I was so dizzy.</p>
<ul>
<li>I have been feeling very bad <code>for</code> the last two days.</li>
<li>I have been having problems sleeping.</li>
<li>Have you been experiencing any other problems?</li>
</ul>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[Chinese Society's Common Trick]]></title>
      <url>http://iequa.com/2016/12/04/society-resorting-to-trickery/</url>
      <content type="html"><![CDATA[<blockquote>
<p>å¥èº«é¦†ã€æŠ€èƒ½åŸ¹è®­æœºæ„ã€ç§ç«‹åŒ»é™¢ã€å©šæ‹ä¸­ä»‹ã€æˆ¿å±‹ä¸­ä»‹ã€ç¾å®¹é™¢ç­‰æœºæ„çš„éª—æœ¯</p>
</blockquote>
<h2 id="1-å¥èº«ä¼šé¦†"><a href="#1-å¥èº«ä¼šé¦†" class="headerlink" title="1. å¥èº«ä¼šé¦†"></a>1. å¥èº«ä¼šé¦†</h2><p>è¿™ç±»æœºæ„ï¼Œå¾€å¾€ä¼šé‡‡å–ä½æˆæœ¬æ‹›è˜ä¸€äº›æ‰¾ä¸åˆ°ä»€ä¹ˆæ­£è§„å·¥ä½œçš„äººç­‰æ¥åšå·ç§°å„ç§ä¸“ä¸šçš„é¡¾é—®ï¼Œåœ¨å„ä¸ªäººå‘˜å¯†é›†çš„åœ°æ–¹æ‹‰å®¢ï¼Œæˆ–è€… åœ¨å¤§åœ°é“ç«™é™„è¿‘å‘è¿™ä¼ å•ç­‰æ–¹å¼æ¥å®£ä¼ è‡ªå·±ï¼Œè¿˜æ—¶å€™ä¸€èˆ¬ä¼šæœ‰ç»™ä½ 1~2æ¬¡ä½“éªŒçš„æœºä¼šç­‰ç­‰ï¼Œè®©ä½ ç™»è®°ã€å…è´¹ä½“éªŒã€å…è´¹ä½“æ£€ç­‰ç­‰ã€‚</p>
<h3 id="1-1-å¥—è·¯-ä½“æ£€æŠ¥å‘Š"><a href="#1-1-å¥—è·¯-ä½“æ£€æŠ¥å‘Š" class="headerlink" title="1.1 å¥—è·¯ ä½“æ£€æŠ¥å‘Š"></a>1.1 å¥—è·¯ ä½“æ£€æŠ¥å‘Š</h3><p>èº«ä½“è™šï¼Œç¼ºè›‹ç™½è´¨ï¼Œè„‚è‚ªå¤šã€éª¨éª¼è‚Œä½ ç­‰ç­‰</p>
<blockquote>
<p>è®©æ¶ˆè´¹è€…æ„Ÿåˆ°å¿ƒé‡Œææ…Œ åŠ éœ€è¦å¥èº«çš„æ€¥è¿«æ€§</p>
</blockquote>
<h3 id="1-2-å¥—è·¯-è‡ªå¹è‡ªæ“‚"><a href="#1-2-å¥—è·¯-è‡ªå¹è‡ªæ“‚" class="headerlink" title="1.2 å¥—è·¯ è‡ªå¹è‡ªæ“‚"></a>1.2 å¥—è·¯ è‡ªå¹è‡ªæ“‚</h3><p>è¯´ä»–ä»¬çš„è¯¾ç¨‹å¤šä¸“ä¸šï¼Œè€å¸ˆå¤šä¸“ä¸šï¼Œè¿é”åº—å¤šå¤§ç­‰</p>
<h3 id="1-3-å¥—è·¯-è´¹ç”¨å’¨è¯¢"><a href="#1-3-å¥—è·¯-è´¹ç”¨å’¨è¯¢" class="headerlink" title="1.3 å¥—è·¯ è´¹ç”¨å’¨è¯¢"></a>1.3 å¥—è·¯ è´¹ç”¨å’¨è¯¢</h3><p>å¾€å¾€ç›´æ¥é—®è¿™ä¸ªï¼Œä»–ä»¬ä¸€èˆ¬ä¼šç»™ä½ é—ªçƒå…¶è¯ï¼Œå¥—ä½ çš„å¿ƒé‡Œï¼Œæœ€åé“å‡ºä¸€ä¸ªç‰¹åˆ«è´µçš„å¤©æ–‡æ•°å­—è´¹ç”¨ï¼Œä½ å¦‚æœè¯´è€ƒè™‘è€ƒè™‘ç­‰ï¼Œå°±ç»™ä½ æ¥äº†ä¸ªï¼Œæˆ‘å¯ä»¥å¸®ä½ å‘ä¸Šè¾¹ç”³è¯·ä¼˜æƒ ï¼Œç„¶åå†æ¥ä¸€ä¸ªäººï¼Œå’Œä½ èŠï¼Œå·ç§°ç»™ä½ ä¼˜æƒ äº†å¤šå°‘å¤šå°‘ï¼Œæœ€åä½ å¦‚æœèµ°äº†ï¼Œå°±ç»™ä½ æ¥ä¸€ä¸ªæœ€åé€šç‰’ï¼Œè¯´ä½ 2å¤©å†…ä¸åŠè¿™ä¸ªä¼˜æƒ å°±æ²¡æœ‰äº†ç­‰ç­‰ï¼Œé€ æˆä½ çš„è¿›ä¸€æ­¥ææ…Œã€‚</p>
<blockquote>
<p>ä¸­é—´è¿‡ç¨‹ï¼Œä½ ä¸çˆ½å¿«å®šçš„è¯ï¼Œå¾ˆå¯èƒ½ä¼šä¼´éšç€ä½ çš„å„ç§è¢«é¡¾é—®çš„åé—®ã€è´¨é—®ã€å˜²è®½ç­‰</p>
</blockquote>
<h3 id="1-4-å¥—è·¯-å‚¬ç­¾åˆåŒ"><a href="#1-4-å¥—è·¯-å‚¬ç­¾åˆåŒ" class="headerlink" title="1.4 å¥—è·¯ å‚¬ç­¾åˆåŒ"></a>1.4 å¥—è·¯ å‚¬ç­¾åˆåŒ</h3><p>æ¶ˆè´¹è€…å¾€å¾€è¢«åº—é‡Œäººå¿½æ‚ ï¼Œç­¾åˆåŒå¹¶æ²¡æœ‰ä»”ç»†é˜…è¯»æ¯ä¸€ä¸ªæ¡æ¬¾ï¼Œç­¾å­—ä¹‹åï¼Œäº¤äº†é’±ï¼Œä»¥åå†å‘ç”Ÿä»€ä¹ˆä¸æ„‰å¿«ï¼Œé€€å¡è½¬å¡ä¹‹ç±»çš„ï¼ŒåŸºæœ¬ä¼šè¢«å„ç§ç†ç”±æ‰€é˜»æŒ ï¼Œé’±ç»™äº†äººå®¶ï¼Œäººå®¶å°±æ˜¯å¤§çˆ·äº†ä¸€èˆ¬ã€‚</p>
<blockquote>
<p>åŠå¡è€…è¯·è°¨æ…é€‰æ‹©ï¼Œå»ç½‘ä¸Šçœ‹çœ‹å…¶ä»–äººå¯¹è¿™å®¶çš„è¯„ä»·ç­‰ç­‰ä¸‰æ€è€Œåè¡Œã€‚</p>
<p>å…¸å‹ä¸º : ã€Šå”¯ç‘œä¼½ã€‹ å®³äººä¸æµ… ç­‰</p>
</blockquote>
<h2 id="2-ç§ç«‹åŒ»é™¢"><a href="#2-ç§ç«‹åŒ»é™¢" class="headerlink" title="2. ç§ç«‹åŒ»é™¢"></a>2. ç§ç«‹åŒ»é™¢</h2><p>è¿™ç±»åŒ»é™¢ï¼Œæˆ‘æƒ³å¤§å®¶éƒ½å¬è¯´è¿‡ è†ç”°ç³»-é­åˆ™è¥¿äº‹ä»¶ï¼Œåªæ˜¯è¿™ä¸ªäº‹ä»¶è¢«å…¬ä¼—å…³æ³¨äº†ã€‚å…¶å®å†…åœ°è¿™30å¹´æ¥ï¼Œå¯ä»¥è¯´ç±»ä¼¼æ™®é€šæ°‘ä¼—è¢«å‘çš„äº‹ä»¶æ— å¤„ä¸åœ¨ï¼Œè¿™ç±»åŒ»é™¢å¯¹äººä»¬é€ æˆäº†éå¸¸å¤§çš„ä¼¤å®³ã€‚æ·±åº¦æŒ–æ˜åŒ»é™¢èƒŒæ™¯æ›´æ˜¯æ¶‰åŠæƒé’±äº¤æ˜“ã€å®˜å•†å‹¾ç»“çš„å·¨å¤§é»‘å¹•ã€‚ä¸å¤šè®¨è®ºã€‚</p>
<h3 id="2-1-å¥—è·¯-æ¨å¹¿æ¸ é“"><a href="#2-1-å¥—è·¯-æ¨å¹¿æ¸ é“" class="headerlink" title="2.1 å¥—è·¯ æ¨å¹¿æ¸ é“"></a>2.1 å¥—è·¯ æ¨å¹¿æ¸ é“</h3><p>è¿™ç±»åŒ»é™¢ä¼šåœ¨ç¤¾ä¼šä¸Šå»‰ä»·æ‹›è˜å¾ˆå¤šæ‰¾ä¸åˆ°ä»€ä¹ˆæ­£è§„å·¥ä½œçš„äººï¼Œé€šè¿‡æµè¡Œç¤¾äº¤åª’ä½“æˆ–ç¤¾äº¤è½¯ä»¶ å¦‚ ï¼š å¾®åšã€å¾®ä¿¡ã€ç™¾åº¦æ¨å¹¿ ç­‰è¿›è¡Œå¤§é¢ç§¯æ¨å¹¿ã€‚å’Œå’¨è¯¢çš„ç—…äººè¿›è¡Œéå¸¸çƒ­å¿ƒç¤¼è²Œçš„é—®ç­”ï¼Œå½“ç„¶ç¬¬ä¸€æ­¥ä»–ä»¬ä¼šæƒ³åŠæ³•è·å–ä½ çš„å§“åã€ç”µè¯å·ç­‰ä¸ªäººä¿¡æ¯ã€‚</p>
<h3 id="2-2-å¥—è·¯-ä¼˜æƒ æ£€æŸ¥"><a href="#2-2-å¥—è·¯-ä¼˜æƒ æ£€æŸ¥" class="headerlink" title="2.2 å¥—è·¯ ä¼˜æƒ æ£€æŸ¥"></a>2.2 å¥—è·¯ ä¼˜æƒ æ£€æŸ¥</h3><p>ä¸ºäº†å¸å¼•ç—…äººï¼Œå¯ä»¥å»çœ‹ç—…ï¼Œä¼šç”¨ä¼˜æƒ ï¼Œå…è´¹ç»™ä½ ç”³è¯·çš„ä»€ä¹ˆé¡¹ç›®ç­‰æ¥å¿½æ‚ ä½ å»é‚£çœ‹ç—…ã€‚</p>
<h3 id="2-3-å¥—è·¯-å¤¸å¤§ç—…æƒ…"><a href="#2-3-å¥—è·¯-å¤¸å¤§ç—…æƒ…" class="headerlink" title="2.3 å¥—è·¯ å¤¸å¤§ç—…æƒ…"></a>2.3 å¥—è·¯ å¤¸å¤§ç—…æƒ…</h3><p>å¤¸å¤§ç—…æƒ…ï¼Œä¸€èˆ¬è¿™æ—¶å€™ä½ çš„åŒ»ç”Ÿ(å‡å­¦å†æˆ–è€…æ˜¯å»ä¸äº†æ­£è§„åŒ»é™¢çš„) å¯¹ä½ è¿›è¡Œåœ¨äº‹å®çš„åŸºç¡€ä¸Šå¤¸å¤§ç—…æƒ…ï¼Œç”¨ä¸€äº›æœ¯è¯­å’Œä½ è‡ªå·±é“å‡ºçš„å®é™…æƒ…å†µï¼Œè¿›è¡ŒåŒ…è£…å¼å¿½æ‚ ï¼Œä»¥è®©ç—…äººå¿ƒé‡Œäº§ç”Ÿå·¨å¤§çš„å¿ƒé‡Œææ…Œã€‚ä¼šç”¨éå¸¸å¿«çš„é€Ÿåº¦è®©ä½ å»äº¤é’±ã€å†æ£€æŸ¥ä»€ä¹ˆã€å†åšä»€ä¹ˆæ‰‹æœ¯ç­‰ç­‰ã€‚</p>
<h3 id="2-4-å¥—è·¯-åç»­å¤„ç†"><a href="#2-4-å¥—è·¯-åç»­å¤„ç†" class="headerlink" title="2.4 å¥—è·¯ åç»­å¤„ç†"></a>2.4 å¥—è·¯ åç»­å¤„ç†</h3><p>å¯èƒ½ä¼šè¿½è¸ªä½ çš„åç»­æƒ…å†µï¼Œè®©ä½ æ¥å¤æŸ¥ç­‰ç­‰ï¼Œè¿›è¡Œç¬¬äºŒè½®å¿½æ‚ ã€‚æœ€åä½ å‘ç°èŠ±äº†å¾ˆå¤šé’±ï¼Œä½ å°±ç®—çŸ¥é“è¢«å¿½æ‚ äº†ï¼Œä½†æ˜¯ä¹Ÿæ˜¯ä¸€ç‚¹åŠæ³•æ²¡æœ‰ï¼Œå› ä¸ºæ•´ä½“æµç¨‹æ˜¯æ­£ç¡®çš„ï¼Œä½ ç”¨æ³•å¾‹çš„æ‰‹æ®µä¹Ÿæ˜¯å‘Šä¸äº†ä»–ä»¬çš„ã€‚</p>
<blockquote>
<p>æ¨èäººä»¬åŠ¡å¿…æ“¦äº®åŒçœ¼ï¼Œçœ‹ç—…è¿˜æ˜¯æ¨èå»å›½å®¶å›½æœ‰ä¸‰çº§ç”²ç­‰ã€æˆ–è€…æ˜¯å…¶ä»–å›½æœ‰ç”²ç­‰åŒ»é™¢æ¥çœ‹ç—…æ²»ç–—ï¼Œå¦‚æœå¯¹éå¸¸åœ¨æ„çš„å¤§ç—…ï¼Œæ¨èå»2å®¶ä»¥ä¸Šä¸‰ç”²åŒ»é™¢è¿›ä¸€æ­¥ç¡®è¯Šï¼Œä»¥é˜²æ­¢è¯¯è¯Šçš„ä¸‡æ— ä¸€å¤±ã€‚</p>
<p>åƒä¸‡åˆ«å»å†…åœ°æ¯ä¸€ä¸ªåŸå¸‚éƒ½æœ‰çš„å¾ˆå¤šè†ç”°ç³»åŒ»é™¢ï¼Œåƒä¸‡æŸ¥è¯¢å¥½ä¸‰æ€è€Œè¡Œï¼Œåˆ«å»è†ç”°ç³»ã€‚</p>
</blockquote>
<h2 id="3-å©šæ‹ä¸­ä»‹"><a href="#3-å©šæ‹ä¸­ä»‹" class="headerlink" title="3. å©šæ‹ä¸­ä»‹"></a>3. å©šæ‹ä¸­ä»‹</h2><p>è¿™ç§æœºæ„ä¸€èˆ¬ä¼šé€šè¿‡å„ç§æ¸ é“ï¼Œæ¯”å¦‚å…¬äº¤è½¦ã€ç”µæ¢¯é‡Œã€å…¬äº¤ç«™ã€æŠ¥çº¸ ç­‰æ‰“ç€å·¨å¤§çš„å¹¿å‘Šè¿›è¡Œå®£ä¼ ã€‚</p>
<p>ä½ å»çš„è¯ï¼Œä¸€èˆ¬å·ç§°æ˜¯æƒ…æ„Ÿé¡¾é—®çš„è®©ä½ å¡«å†™ä½ ä¸ªäººçš„è¯¦ç»†ä¿¡æ¯ï¼ŒåŒ…æ‹¬éå¸¸æ•æ„Ÿçš„ä¿¡æ¯å…¨éƒ¨å†™ä¸€éï¼Œç„¶åé’ˆå¯¹ä½ çš„æƒ…å†µè¿›è¡Œå„ç§å¿½æ‚ ï¼Œæœ€åè´¹ç”¨å¿½æ‚ çš„æ–¹å¼å’Œå¥èº«ç‘œä¼½ç­‰ä¼šé¦†çš„å¿½æ‚ æ–¹å¼å¯èƒ½ç±»ä¼¼ï¼Œç»™ä½ ä¸€ä¸ªå·¨å¤§çš„å¤©æ–‡é‡‘é¢ï¼Œç„¶åç»™ä½ ç”³è¯·ä¼˜æƒ ï¼Œä¹Ÿå¯èƒ½æœ€åå¥¹æ²¡è¯´æœä½ ä»Šå¤©é©¬ä¸ŠåŠç†ï¼Œå°±ä¼šå†ç»™ä½ æ¢ä¸€ä¸ªå·ç§°æ›´èµ„æ·±çš„é¡¾é—®æ¥å†å’Œä½ èŠä¸€å¤§å †ï¼Œæƒ³åŠæ³•è®©ä½ é©¬ä¸Šç­¾åˆåŒäº¤é’±ç­‰ã€‚</p>
<blockquote>
<p>å¦‚ ï¼š æˆ‘ä¸»è‰¯ç¼˜ ç­‰æœºæ„ï¼ŒåŸºæœ¬å°±æ˜¯å‘è’™æ‹éª—ï¼Œèƒ½éª—å°±éª—ï¼Œå’Œç¾å®¹é™¢æ¨èä½ åŠç†ä¼šå‘˜ï¼Œä¸€ä¸ªäººå‘˜ä¸€ä¸ªäººå‘˜å’Œä½ èŠï¼Œç›´åˆ°ä½ åŠç†ä¸ºæ­¢ã€‚æ¨èä½ è¿™æ—¶å€™å½“æœºç«‹æ–­ã€‚</p>
</blockquote>
<h2 id="4-æˆ¿å±‹ä¸­ä»‹"><a href="#4-æˆ¿å±‹ä¸­ä»‹" class="headerlink" title="4. æˆ¿å±‹ä¸­ä»‹"></a>4. æˆ¿å±‹ä¸­ä»‹</h2><p>è¿™ç±»ä¸­ä»‹å…¬å¸ï¼Œç‰¹åˆ«å¤šï¼Œç»å¸¸è§å¾ˆå¤šå‹äººè¢« é»‘ä¸­ä»‹å˜´ä¸Šè¯´çš„ç‰¹åˆ«å¥½ï¼Œç»™ä½ å¾ˆå¤šå…è¯ºï¼Œæœ€åå¿½æ‚ è®©ä½ äº¤å®šé‡‘ä»€ä¹ˆçš„ï¼Œäº¤æ¬¾ä¹‹åï¼Œä½ å°±å…¥é“äº†ï¼ŒåŸºæœ¬ä½ ä¸ç§Ÿå®šé‡‘ä¹Ÿä¸ä¼šç»™ä½ é€€äº†ï¼Œä¹‹å‰å’Œä½ æ‰“ä¿è¯çš„ï¼Œä»–å¾ˆæœ‰å¯èƒ½è¯´æ²¡å’Œä½ è¯´è¿‡ã€‚è¿™æ—¶å€™ä½ å°±å®Œå…¨è¢«åŠ¨äº†ï¼Œç­¾åˆåŒçš„è¯ä¸€å®šè¦è®¤çœŸé˜…è¯»æ¯ä¸€ä¸ªæ¡æ¬¾ï¼Œå¦‚æœä½ æœ‰ä»€ä¹ˆè¦æ±‚éƒ½è¦å¢åŠ åˆ°åˆåŒä¸Šï¼Œå¦åˆ™ä¸€åˆ‡é»‘ä¸­ä»‹è¯´çš„è¯ï¼Œå…¨éƒ¨éƒ½æ˜¯å¯ä»¥ä¸è®¤è´¦çš„ã€‚</p>
<blockquote>
<p>åœ¨è¿™é‡Œï¼Œä½ ä¸èƒ½ç›¸ä¿¡ä»»ä½•äººï¼Œä½ åªèƒ½ç›¸ä¿¡ç™½çº¸é»‘å­—å†™ä¸‹æ¥çš„æ‰æ˜¯å¯¹çš„ã€‚</p>
</blockquote>
<h2 id="5-æŠ€èƒ½åŸ¹è®­æœºæ„"><a href="#5-æŠ€èƒ½åŸ¹è®­æœºæ„" class="headerlink" title="5. æŠ€èƒ½åŸ¹è®­æœºæ„"></a>5. æŠ€èƒ½åŸ¹è®­æœºæ„</h2><p>è¿™ç±»æœºæ„ï¼Œæ¯”å¦‚å„ç§ è‹±å­šè‹±è¯­ã€åå°”è¡—è‹±è¯­ã€æ¨±èŠ±æ—¥è¯­ã€è·³èˆç­ã€ä¹¦æ³•ç­ã€ç»˜ç”»ç­ç­‰ç­‰ï¼Œè¿™ç±»æœºæ„å‚å·®ä¸é½ï¼Œä¸èƒ½ä»¥åæ¦‚å…¨ã€‚ä¹Ÿæœ‰ä¸ä¹ä¸€äº›é¡¾é—®å°±åƒå¥èº«ä¸€æ ·çš„æ–¹å¼æ¥å¿½æ‚ ä½ ï¼Œç»™ä½ ä¼˜æƒ ï¼Œ1~2å†…ä¸å†³å®šä¼˜æƒ å°±æ²¡æœ‰äº†ç­‰è¯­è¨€æ¥ä½¿å¾—ä½ æ„Ÿåˆ°ææ…Œæ€§ç›²ä»ï¼Œä¸­é—´å½“ç„¶ä¹Ÿä¸ä¹ä½ å«Œå¼ƒè´µï¼Œé¡¾é—®å°±å«Œå¼ƒä½ å±Œä¸ï¼Œè¯­æ°”ç”»é£éƒ½å˜äº†çš„å¯èƒ½æ€§éå¸¸å¤§ã€‚</p>
<blockquote>
<p>æœ‰éå¸¸å°‘çš„ç±»ä¼¼æœºæ„æ˜¯ä¸é”™çš„ï¼Œå½“ç„¶ä¹Ÿå­˜åœ¨ä¸ªåˆ«çš„é¡¾é—®å¯èƒ½ä¼šå­˜åœ¨åŠ¿åˆ©çœ¼ï¼ŒåŠ¿åŠ›ç¬‘ç­‰ã€‚</p>
</blockquote>
<h2 id="To-summarize"><a href="#To-summarize" class="headerlink" title="To summarize"></a>To summarize</h2><p>ä¸­å›½è¿™ç§å®ä½“åˆ©ç›Šæ¶éœ¸ï¼Œå‘è’™æ‹éª—ã€åŠ¿åŠ›çœ¼ æ¯”æ¯”çš†æ˜¯ï¼Œæˆ‘æƒ³ç”µå­å•†åŠ¡æ·˜å®ã€å¤©çŒ«ç­‰æ­£æ˜¯ç”¨7å¤©æ— ç†ç”±é€€æ¢è´§ä»¥åŠå¹³å°ç›‘ç®¡æ–¹æ¡ˆæ‰ä½¿å¾—æ¶ˆè´¹è€…çš„æƒç›Šå¾—åˆ°ä¿éšœï¼Œç›´æ¥è§£å†³äº†äººä¸äººä¹‹é—´çš„ä¿¡ä»»é—®é¢˜ï¼Œä»ä»·å€¼è§‚çš„è§’åº¦æ¥çœ‹ï¼Œè¿™æ˜¯ä½¿å¾—å„ç±»ç”µå•†å–å¾—å¿«é€Ÿå‘å±•çš„é‡è¦å†³å®šæ€§æ¨åŠ›ã€‚</p>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[Spark Machine Learning p4 - Build Recommendation System]]></title>
      <url>http://iequa.com/2016/11/23/spark-machine-learning-p4-rs/</url>
      <content type="html"><![CDATA[<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js"],
    jax: ["input/TeX"],
    tex2jax: {
      inlineMath: [ ['$','$'], ['\\(','\\)'] ],
      displayMath: [ ['$$','$$']],
      processEscapes: true
    }
  });
</script>
<script type="text/javascript" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS_HTML,http://myserver.com/MathJax/config/local/local.js">
</script>

<blockquote>
<p>æ¨èå¼•æ“è¯•å›¾å¯¹ç”¨æˆ·ä¸æŸç±»ç‰©å“ä¹‹é—´çš„è”ç³»å»ºæ¨¡</p>
</blockquote>
<ul>
<li>æ¨èå¼•æ“çš„ç±»å‹ï¼›</li>
<li>ç”¨ç”¨æˆ·åå¥½æ•°æ®æ¥å»ºç«‹ä¸€ä¸ªæ¨èæ¨¡å‹ï¼›</li>
<li>ä¸ºç”¨æˆ·è¿›è¡Œæ¨èå’Œæ±‚æŒ‡å®šç‰©å“çš„ç±»ä¼¼ç‰©å“ï¼›</li>
<li>è¯„ä¼°è¯¥æ¨¡å‹çš„é¢„æµ‹èƒ½åŠ›ã€‚</li>
</ul>
<h2 id="1-æ¨èæ¨¡å‹åˆ†ç±»"><a href="#1-æ¨èæ¨¡å‹åˆ†ç±»" class="headerlink" title="1. æ¨èæ¨¡å‹åˆ†ç±»"></a>1. æ¨èæ¨¡å‹åˆ†ç±»</h2><ul>
<li>å†…å®¹è¿‡æ»¤</li>
<li>ååŒè¿‡æ»¤</li>
<li>çŸ©é˜µåˆ†è§£</li>
</ul>
<h3 id="1-1-å†…å®¹è¿‡æ»¤-ç±»ä¼¼ç‰©å“"><a href="#1-1-å†…å®¹è¿‡æ»¤-ç±»ä¼¼ç‰©å“" class="headerlink" title="1.1 å†…å®¹è¿‡æ»¤ - (ç±»ä¼¼ç‰©å“)"></a>1.1 å†…å®¹è¿‡æ»¤ - (ç±»ä¼¼ç‰©å“)</h3><p>åˆ©ç”¨ç‰©å“ç›¸ä¼¼åº¦å®šä¹‰ï¼Œæ¥æ±‚å‡ºä¸è¯¥ç‰©å“ç±»ä¼¼çš„ç‰©å“ã€‚</p>
<blockquote>
<p>å¯¹ç”¨æˆ·çš„æ¨èå¯ä»¥æ ¹æ®ç”¨æˆ·çš„å±æ€§æˆ–æè¿°å¾—å‡ºï¼Œä¹‹åå†é€šè¿‡ç›¸åŒçš„ç›¸ä¼¼åº¦å®šä¹‰æ¥ä¸ç‰©å“å±æ€§åšåŒ¹é…ã€‚</p>
</blockquote>
<h3 id="1-2-ååŒè¿‡æ»¤-ä¼°è®¡æœªè§¦"><a href="#1-2-ååŒè¿‡æ»¤-ä¼°è®¡æœªè§¦" class="headerlink" title="1.2 ååŒè¿‡æ»¤ - (ä¼°è®¡æœªè§¦)"></a>1.2 ååŒè¿‡æ»¤ - (ä¼°è®¡æœªè§¦)</h3><p>ååŒè¿‡æ»¤æ˜¯ä¸€ç§åˆ©ç”¨å¤§é‡å·²æœ‰çš„ç”¨æˆ·åå¥½æ¥ä¼°è®¡ç”¨æˆ·å¯¹å…¶<code>æœªæ¥è§¦è¿‡</code>çš„ç‰©å“çš„å–œå¥½ç¨‹åº¦ã€‚å…¶å†…åœ¨æ€æƒ³æ˜¯<strong>ç›¸ä¼¼åº¦çš„å®šä¹‰</strong>ã€‚</p>
<ul>
<li><p>åŸºäºç”¨æˆ·</p>
<blockquote>
<p>å¦‚æœä¸¤ä¸ªç”¨æˆ·è¡¨ç°å‡ºç›¸ä¼¼çš„åå¥½ï¼Œè®¤ä¸ºä»–ä»¬çš„å…´è¶£ç±»ä¼¼ã€‚è¦å¯¹ä»–ä»¬ä¸­çš„ä¸€ä¸ªç”¨æˆ·æ¨èä¸€ä¸ªæœªçŸ¥ç‰©å“ï¼Œä¾¿å¯é€‰å–è‹¥å¹²ä¸å…¶ç±»ä¼¼çš„ç”¨æˆ·å¹¶æ ¹æ®ä»–ä»¬çš„å–œå¥½è®¡ç®—å‡ºå¯¹å„ä¸ªç‰©å“çš„ç»¼åˆå¾—åˆ†ã€‚</p>
</blockquote>
</li>
<li><p>åŸºäºç‰©å“</p>
<blockquote>
<p>æ®ç°æœ‰ç”¨æˆ·å¯¹ç‰©å“çš„åå¥½æˆ–æ˜¯è¯„çº§æƒ…å†µï¼Œæ¥è®¡ç®—ç‰©å“ä¹‹é—´çš„æŸç§ç›¸ä¼¼åº¦ã€‚å·²æœ‰ç‰©å“ç›¸ä¼¼çš„ç‰©å“è¢«ç”¨æ¥ç”Ÿæˆä¸€ä¸ªç»¼åˆå¾—åˆ†ï¼Œè€Œè¯¥å¾—åˆ†ç”¨äºè¯„ä¼°æœªçŸ¥ç‰©å“çš„ç›¸ä¼¼åº¦ã€‚</p>
</blockquote>
</li>
</ul>
<p>åŸºäº<strong>ç”¨æˆ·</strong>æˆ–<strong>ç‰©å“</strong>çš„æ–¹æ³•å¾—åˆ†å–å†³äºè‹¥å¹²ç”¨æˆ·æˆ–æ˜¯ç‰©å“ä¹‹é—´ä¾æ®ç›¸ä¼¼åº¦æ‰€æ„æˆçš„é›†åˆï¼ˆå³é‚»å±…ï¼‰ï¼Œæ•…å®ƒä»¬ä¹Ÿå¸¸è¢«ç§°ä¸ºKNNã€‚</p>
<p>å¯¹â€œç”¨æˆ·-ç‰©å“â€<code>åå¥½å»ºæ¨¡</code></p>
<h3 id="1-3-çŸ©é˜µåˆ†è§£"><a href="#1-3-çŸ©é˜µåˆ†è§£" class="headerlink" title="1.3 çŸ©é˜µåˆ†è§£"></a>1.3 çŸ©é˜µåˆ†è§£</h3><p>Sparkæ¨èæ¨¡å‹åº“ åŒ…å«åŸºäºçŸ©é˜µåˆ†è§£ï¼ˆmatrix factorizationï¼‰çš„å®ç°ï¼Œè¯¥æ¨¡å‹åœ¨ååŒè¿‡æ»¤ä¸­çš„è¡¨ç°ååˆ†å‡ºè‰²ã€‚</p>
<h4 id="1-3-1-æ˜¾å¼çŸ©é˜µåˆ†è§£"><a href="#1-3-1-æ˜¾å¼çŸ©é˜µåˆ†è§£" class="headerlink" title="1.3.1 æ˜¾å¼çŸ©é˜µåˆ†è§£"></a>1.3.1 æ˜¾å¼çŸ©é˜µåˆ†è§£</h4><p>æ˜¾å¼è‡ªèº«åå¥½æ•°æ®</p>
<blockquote>
<p>è¿™ç±»æ•°æ®åŒ…æ‹¬å¦‚ç‰©å“è¯„çº§ã€èµã€å–œæ¬¢ç­‰ç”¨æˆ·å¯¹ç‰©å“çš„è¯„ä»·ã€‚è½¬æ¢ä¸ºä»¥ç”¨æˆ·ä¸ºè¡Œã€ç‰©å“ä¸ºåˆ—çš„äºŒç»´çŸ©é˜µã€‚</p>
<p>å¤§éƒ¨åˆ†æƒ…å†µä¸‹å•ä¸ªç”¨æˆ·åªä¼šå’Œå°‘éƒ¨åˆ†ç‰©å“æ¥è§¦ï¼Œæ‰€ä»¥è¯¥çŸ©é˜µå¾ˆç¨€ç–ã€‚</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">Tom, Star Wars, 5</span><br><span class="line">Jane, Titanic,ã€€4</span><br><span class="line">Bill, Batman,ã€€3</span><br><span class="line">Jane, Star Wars, 2</span><br><span class="line">Bill, Titanic, 3</span><br></pre></td></tr></table></figure>
<p><img src="/images/spark/spark-ml-4.1.png" alt="ä¸€ä¸ªç®€å•çš„ç”µå½±è¯„çº§çŸ©é˜µ"></p>
<p>ç”¨æˆ·-ç‰©å“ çŸ©é˜µçš„ç»´åº¦ä¸º U Ã— I</p>
<p><img src="/images/spark/spark-ml-4.2.jpg" alt="å›¾4-2 ä¸€ä¸ªç¨€ç–çš„è¯„çº§çŸ©é˜µ"> </p>
<p><strong>ä¸ºäº†é™ç»´</strong></p>
<ul>
<li>è¡¨ç¤ºç”¨æˆ·çš„ U Ã— k ç»´çŸ©é˜µ</li>
<li>è¡¨å¾ç‰©å“çš„ I Ã— k ç»´çŸ©é˜µ</li>
</ul>
<blockquote>
<p>è¿™ä¸¤ä¸ªçŸ©é˜µä¹Ÿç§°ä½œå› å­çŸ©é˜µ, ä¹˜ç§¯æ˜¯åŸå§‹è¯„çº§çŸ©é˜µçš„ä¸€ä¸ªè¿‘ä¼¼.</p>
<p>åŸå§‹è¯„çº§çŸ©é˜µé€šå¸¸å¾ˆç¨€ç–ï¼Œä½†å› å­çŸ©é˜µå´æ˜¯ç¨ å¯†çš„</p>
</blockquote>
<p><img src="/images/spark/spark-ml-4.3.jpg" alt="å›¾4-3 ç”¨æˆ·å› å­çŸ©é˜µå’Œç‰©å“å› å­çŸ©é˜µ"></p>
<blockquote>
<p>å› å­å¯èƒ½è¡¨ç¤ºäº†æŸäº›å«ä¹‰ï¼Œæ¯”å¦‚å¯¹ç”µå½±çš„æŸä¸ªå¯¼æ¼”ã€ç§ç±»ã€é£æ ¼æˆ–æŸäº›æ¼”å‘˜çš„åå¥½ã€‚</p>
</blockquote>
<p><code>è¦è®¡ç®—ç»™å®šç”¨æˆ·å¯¹æŸä¸ªç‰©å“çš„é¢„è®¡è¯„çº§</code> = è¡Œï¼ˆç”¨æˆ·å› å­å‘é‡ï¼‰ ä¸ åˆ—ï¼ˆç‰©å“å› å­å‘é‡ï¼‰ï¼Œä¸¤è€…ç‚¹ç§¯</p>
<p><img src="/images/spark/spark-ml-4.4.jpg" alt="å›¾4-4 ç”¨ç”¨æˆ·å› å­çŸ©é˜µå’Œç‰©å“å› å­çŸ©é˜µè®¡ç®—æ¨è"></p>
<blockquote>
<p>ç‰©å“ä¹‹é—´ç›¸ä¼¼åº¦çš„è®¡ç®—ï¼Œè½¬æ¢ä¸ºå¯¹ä¸¤ç‰©å“å› å­å‘é‡ä¹‹é—´ç›¸ä¼¼åº¦çš„è®¡ç®—</p>
</blockquote>
<p><img src="/images/spark/spark-ml-4.5.jpg" alt="å›¾4-5 ç”¨ç‰©å“å› å­çŸ©é˜µè®¡ç®—ç›¸ä¼¼åº¦"></p>
<table>
<thead>
<tr>
<th>ä¼˜ç‚¹</th>
<th>ç¼ºç‚¹</th>
</tr>
</thead>
<tbody>
<tr>
<td>å› å­åˆ†è§£ç±»æ¨¡å‹å»ºç«‹ï¼Œæ±‚è§£å®¹æ˜“</td>
<td>ç‰©å“æˆ–æ˜¯ç”¨æˆ·çš„å› å­å‘é‡å¯èƒ½è¾¾åˆ°æ•°ä»¥ç™¾ä¸‡è®¡ã€‚åœ¨å­˜å‚¨å’Œè®¡ç®—èƒ½åŠ›æœ‰æŒ‘æˆ˜ã€‚</td>
</tr>
</tbody>
</table>
<h4 id="1-3-2-éšå¼çŸ©é˜µåˆ†è§£"><a href="#1-3-2-éšå¼çŸ©é˜µåˆ†è§£" class="headerlink" title="1.3.2. éšå¼çŸ©é˜µåˆ†è§£"></a>1.3.2. éšå¼çŸ©é˜µåˆ†è§£</h4><p>éšå«åœ¨ç”¨æˆ·ä¸ç‰©å“çš„äº¤äº’ä¹‹ä¸­ã€‚äºŒå…ƒæ•°æ®ï¼ˆæ¯”å¦‚ç”¨æˆ·æ˜¯å¦è§‚çœ‹äº†æŸä¸ªç”µå½±æˆ–æ˜¯å¦è´­ä¹°äº†æŸä¸ªå•†å“ï¼‰å’Œè®¡æ•°æ•°æ®ï¼ˆæ¯”å¦‚ç”¨æˆ·è§‚çœ‹æŸç”µå½±çš„æ¬¡æ•°ï¼‰ä¾¿æ˜¯è¿™ç±»æ•°æ®ã€‚</p>
<p>MLlib å¤„ç†éšå¼æ•°æ®ï¼š</p>
<ol>
<li>ä¸€ä¸ªäºŒå…ƒåå¥½çŸ©é˜µ P </li>
<li>ä¸€ä¸ªä¿¡å¿ƒæƒé‡çŸ©é˜µ C</li>
</ol>
<p><img src="/images/spark/spark-ml-4.6.png" alt="å›¾4-6 ç”¨ç‰©å“å› å­çŸ©é˜µè®¡ç®—ç›¸ä¼¼åº¦"></p>
<p>éšå¼æ¨¡å‹ä»ç„¶ä¼šåˆ›å»ºä¸€ä¸ªç”¨æˆ·å› å­çŸ©é˜µå’Œä¸€ä¸ªç‰©å“å› å­çŸ©é˜µã€‚ä½†æ˜¯ï¼Œæ¨¡å‹æ‰€æ±‚è§£çš„æ˜¯åå¥½çŸ©é˜µè€Œéè¯„çº§çŸ©é˜µçš„è¿‘ä¼¼ã€‚</p>
<p><strong>3. æœ€å°äºŒä¹˜æ³•</strong></p>
<p>æœ€å°äºŒä¹˜æ³•ï¼ˆAlternating Least Squaresï¼ŒALSï¼‰æ˜¯ä¸€ç§æ±‚è§£çŸ©é˜µåˆ†è§£é—®é¢˜çš„æœ€ä¼˜åŒ–æ–¹æ³•ã€‚ä¸”ç›¸å¯¹å®¹æ˜“å¹¶è¡ŒåŒ–ã€‚</p>
<blockquote>
<p>ALSçš„å®ç°åŸç†æ˜¯è¿­ä»£å¼æ±‚è§£ä¸€ç³»åˆ—æœ€å°äºŒä¹˜å›å½’é—®é¢˜ã€‚åœ¨æ¯ä¸€æ¬¡è¿­ä»£æ—¶ï¼Œå›ºå®šç”¨æˆ·å› å­çŸ©é˜µæˆ–æ˜¯ç‰©å“å› å­çŸ©é˜µä¸­çš„ä¸€ä¸ªï¼Œç„¶åç”¨å›ºå®šçš„è¿™ä¸ªçŸ©é˜µä»¥åŠè¯„çº§æ•°æ®æ¥æ›´æ–°å¦ä¸€ä¸ªçŸ©é˜µã€‚ä¹‹åï¼Œè¢«æ›´æ–°çš„çŸ©é˜µè¢«å›ºå®šä½ï¼Œå†æ›´æ–°å¦å¤–ä¸€ä¸ªçŸ©é˜µã€‚å¦‚æ­¤è¿­ä»£ï¼Œç›´åˆ°æ¨¡å‹æ”¶æ•›ï¼ˆæˆ–æ˜¯è¿­ä»£äº†é¢„è®¾å¥½çš„æ¬¡æ•°ï¼‰ã€‚</p>
</blockquote>
<h2 id="2-æå–æœ‰æ•ˆç‰¹å¾"><a href="#2-æå–æœ‰æ•ˆç‰¹å¾" class="headerlink" title="2. æå–æœ‰æ•ˆç‰¹å¾"></a>2. æå–æœ‰æ•ˆç‰¹å¾</h2><figure class="highlight scala"><table><tr><td class="code"><pre><span class="line">&gt;./bin/spark-shell â€“-driver-memory <span class="number">2</span>g</span><br><span class="line"><span class="keyword">val</span> rawData = sc.textFile(<span class="string">"/Users/hp/ghome/github/Recommendation/spark-ml/ml-100k/u.data"</span>)</span><br><span class="line">rawData.first()</span><br><span class="line"><span class="keyword">val</span> rawRatings = rawData.map(_.split(<span class="string">"\t"</span>).take(<span class="number">3</span>))</span><br><span class="line"><span class="keyword">import</span> org.apache.spark.mllib.recommendation.<span class="type">ALS</span></span><br><span class="line"></span><br><span class="line"><span class="type">ALS</span>.</span><br><span class="line">asInstanceOf    isInstanceOf   main   toString        train           trainImplicit</span><br><span class="line"><span class="type">ALS</span>.train</span><br></pre></td></tr></table></figure>
<p>ALSæ¨¡å‹éœ€è¦ä¸€ä¸ªç”±Ratingè®°å½•æ„æˆçš„RDDï¼Œè€ŒRatingç±»åˆ™æ˜¯å¯¹ç”¨æˆ·IDã€å½±ç‰‡IDï¼ˆè¿™é‡Œæ˜¯é€šç§°productï¼‰å’Œå®é™…æ˜Ÿçº§è¿™äº›å‚æ•°çš„å°è£…ã€‚<br>æˆ‘ä»¬å¯ä»¥è°ƒç”¨mapæ–¹æ³•å°†åŸæ¥çš„å„IDå’Œæ˜Ÿçº§çš„æ•°ç»„è½¬æ¢ä¸ºå¯¹åº”çš„Ratingå¯¹è±¡ï¼Œä»è€Œåˆ›å»ºæ‰€éœ€çš„è¯„çº§æ•°æ®é›†ã€‚</p>
<figure class="highlight scala"><table><tr><td class="code"><pre><span class="line">scala&gt; <span class="keyword">import</span> org.apache.spark.mllib.recommendation.<span class="type">Rating</span></span><br><span class="line"><span class="keyword">import</span> org.apache.spark.mllib.recommendation.<span class="type">Rating</span></span><br><span class="line"></span><br><span class="line">scala&gt; <span class="keyword">val</span> ratings = rawRatings.map &#123; <span class="keyword">case</span> <span class="type">Array</span>(user, movie, rating) =&gt;</span><br><span class="line">     | <span class="type">Rating</span>(user.toInt, movie.toInt, rating.toDouble) &#125;</span><br><span class="line">ratings: org.apache.spark.rdd.<span class="type">RDD</span>[org.apache.spark.mllib.recommendation.<span class="type">Rating</span>] = <span class="type">MapPartitionsRDD</span>[<span class="number">3</span>] at map at &lt;console&gt;:<span class="number">27</span></span><br><span class="line"></span><br><span class="line">scala&gt; ratings.first()</span><br><span class="line">res3: org.apache.spark.mllib.recommendation.<span class="type">Rating</span> = <span class="type">Rating</span>(<span class="number">196</span>,<span class="number">242</span>,<span class="number">3.0</span>)</span><br><span class="line"></span><br><span class="line">scala&gt; ratings.take(<span class="number">10</span>)</span><br><span class="line">res4: <span class="type">Array</span>[org.apache.spark.mllib.recommendation.<span class="type">Rating</span>] = <span class="type">Array</span>(<span class="type">Rating</span>(<span class="number">196</span>,<span class="number">242</span>,<span class="number">3.0</span>), <span class="type">Rating</span>(<span class="number">186</span>,<span class="number">302</span>,<span class="number">3.0</span>), <span class="type">Rating</span>(<span class="number">22</span>,<span class="number">377</span>,<span class="number">1.0</span>), <span class="type">Rating</span>(<span class="number">244</span>,<span class="number">51</span>,<span class="number">2.0</span>), <span class="type">Rating</span>(<span class="number">166</span>,<span class="number">346</span>,<span class="number">1.0</span>), <span class="type">Rating</span>(<span class="number">298</span>,<span class="number">474</span>,<span class="number">4.0</span>), <span class="type">Rating</span>(<span class="number">115</span>,<span class="number">265</span>,<span class="number">2.0</span>), <span class="type">Rating</span>(<span class="number">253</span>,<span class="number">465</span>,<span class="number">5.0</span>), <span class="type">Rating</span>(<span class="number">305</span>,<span class="number">451</span>,<span class="number">3.0</span>), <span class="type">Rating</span>(<span class="number">6</span>,<span class="number">86</span>,<span class="number">3.0</span>))</span><br></pre></td></tr></table></figure>
<h2 id="3-è®­ç»ƒæ¨èæ¨¡å‹"><a href="#3-è®­ç»ƒæ¨èæ¨¡å‹" class="headerlink" title="3. è®­ç»ƒæ¨èæ¨¡å‹"></a>3. è®­ç»ƒæ¨èæ¨¡å‹</h2><p>ä»åŸå§‹æ•°æ®æå–å‡ºè¿™äº›ç®€å•ç‰¹å¾åï¼Œä¾¿å¯è®­ç»ƒæ¨¡å‹ã€‚MLlibå·²å®ç°æ¨¡å‹è®­ç»ƒçš„ç»†èŠ‚ï¼Œè¿™ä¸éœ€è¦æˆ‘ä»¬æ‹…å¿ƒã€‚æˆ‘ä»¬åªéœ€æä¾›ä¸Šè¿°æŒ‡å®šç±»å‹çš„æ–°RDDä»¥åŠå…¶ä»–æ‰€éœ€å‚æ•°æ¥ä½œä¸ºè®­ç»ƒçš„è¾“å…¥å³å¯ã€‚</p>
<h3 id="3-1-Movie-100k-train-model"><a href="#3-1-Movie-100k-train-model" class="headerlink" title="3.1 Movie-100k train model"></a>3.1 Movie-100k train model</h3><p>ç°åœ¨å¼€å§‹è®­ç»ƒæ¨¡å‹äº†ï¼Œæ‰€éœ€çš„å…¶ä»–å‚æ•°æœ‰ä»¥ä¸‹å‡ ä¸ª</p>
<ul>
<li><code>rank</code>ï¼šå¯¹åº”ALSæ¨¡å‹ä¸­çš„å› å­ä¸ªæ•°ï¼Œä¹Ÿå°±æ˜¯åœ¨ä½é˜¶è¿‘ä¼¼çŸ©é˜µä¸­çš„éšå«ç‰¹å¾ä¸ªæ•°ã€‚å› å­ä¸ªæ•°ä¸€èˆ¬è¶Šå¤šè¶Šå¥½ã€‚ä½†å®ƒä¹Ÿä¼šç›´æ¥å½±å“æ¨¡å‹è®­ç»ƒå’Œä¿å­˜æ—¶æ‰€éœ€çš„å†…å­˜å¼€é”€ï¼Œå°¤å…¶æ˜¯åœ¨ç”¨æˆ·å’Œç‰©å“å¾ˆå¤šçš„æ—¶å€™ã€‚å› æ­¤å®è·µä¸­è¯¥å‚æ•°å¸¸ä½œä¸ºè®­ç»ƒæ•ˆæœä¸ç³»ç»Ÿå¼€é”€ä¹‹é—´çš„è°ƒèŠ‚å‚æ•°ã€‚é€šå¸¸ï¼Œå…¶åˆç†å–å€¼ä¸º10åˆ°200ã€‚</li>
<li><code>iterations</code>ï¼šå¯¹åº”è¿è¡Œæ—¶çš„è¿­ä»£æ¬¡æ•°ã€‚ALSèƒ½ç¡®ä¿æ¯æ¬¡è¿­ä»£éƒ½èƒ½é™ä½è¯„çº§çŸ©é˜µçš„é‡å»ºè¯¯å·®ï¼Œä½†ä¸€èˆ¬ç»å°‘æ•°æ¬¡è¿­ä»£åALSæ¨¡å‹ä¾¿å·²èƒ½æ”¶æ•›ä¸ºä¸€ä¸ªæ¯”è¾ƒåˆç†çš„å¥½æ¨¡å‹ã€‚è¿™æ ·ï¼Œå¤§éƒ¨åˆ†æƒ…å†µä¸‹éƒ½æ²¡å¿…è¦è¿­ä»£å¤ªå¤šæ¬¡ï¼ˆ10æ¬¡å·¦å³ä¸€èˆ¬å°±æŒºå¥½ï¼‰ã€‚</li>
<li><code>lambda</code>ï¼šè¯¥å‚æ•°æ§åˆ¶æ¨¡å‹çš„æ­£åˆ™åŒ–è¿‡ç¨‹ï¼Œä»è€Œæ§åˆ¶æ¨¡å‹çš„è¿‡æ‹Ÿåˆæƒ…å†µã€‚å…¶å€¼è¶Šé«˜ï¼Œæ­£åˆ™åŒ–è¶Šä¸¥å‰ã€‚è¯¥å‚æ•°çš„èµ‹å€¼ä¸å®é™…æ•°æ®çš„å¤§å°ã€ç‰¹å¾å’Œç¨€ç–ç¨‹åº¦æœ‰å…³ã€‚å’Œå…¶ä»–çš„æœºå™¨å­¦ä¹ æ¨¡å‹ä¸€æ ·ï¼Œæ­£åˆ™å‚æ•°åº”è¯¥é€šè¿‡ç”¨éæ ·æœ¬çš„æµ‹è¯•æ•°æ®è¿›è¡Œäº¤å‰éªŒè¯æ¥è°ƒæ•´ã€‚</li>
</ul>
<figure class="highlight scala"><table><tr><td class="code"><pre><span class="line">scala&gt; <span class="keyword">val</span> model = <span class="type">ALS</span>.train(ratings, <span class="number">50</span>, <span class="number">10</span>, <span class="number">0.01</span>)</span><br><span class="line">model: org.apache.spark.mllib.recommendation.<span class="type">MatrixFactorizationModel</span> = org.apache.spark.mllib.recommendation.<span class="type">MatrixFactorizationModel</span>@<span class="number">2e835760</span></span><br><span class="line"></span><br><span class="line">scala&gt; model.userFeatures</span><br><span class="line">res5: org.apache.spark.rdd.<span class="type">RDD</span>[(<span class="type">Int</span>, <span class="type">Array</span>[<span class="type">Double</span>])] = users <span class="type">MapPartitionsRDD</span>[<span class="number">209</span>] at mapValues at <span class="type">ALS</span>.scala:<span class="number">255</span></span><br><span class="line"></span><br><span class="line">scala&gt; model.userFeatures.count</span><br><span class="line">res6: <span class="type">Long</span> = <span class="number">943</span></span><br></pre></td></tr></table></figure>
<blockquote>
<p><code>MatrixFactorizationModel</code> å¯¹è±¡å°† ç”¨æˆ·å› å­å’Œç‰©å“å› å­åˆ†åˆ«ä¿å­˜åœ¨ä¸€ä¸ª <code>(id,factor)</code> å¯¹ç±»å‹çš„RDDä¸­ã€‚<br>å®ƒä»¬åˆ†åˆ«ç§°ä½œ<code>userFeatures</code> å’Œ <code>productFeatures</code>ã€‚</p>
</blockquote>
<h3 id="3-2-éšå¼åé¦ˆæ•°æ®è®­ç»ƒæ¨¡å‹"><a href="#3-2-éšå¼åé¦ˆæ•°æ®è®­ç»ƒæ¨¡å‹" class="headerlink" title="3.2 éšå¼åé¦ˆæ•°æ®è®­ç»ƒæ¨¡å‹"></a>3.2 éšå¼åé¦ˆæ•°æ®è®­ç»ƒæ¨¡å‹</h3><p>MLlibä¸­æ ‡å‡†çš„çŸ©é˜µåˆ†è§£æ¨¡å‹ç”¨äºæ˜¾å¼è¯„çº§æ•°æ®çš„å¤„ç†ã€‚è‹¥è¦å¤„ç†éšå¼æ•°æ®ï¼Œåˆ™å¯ä½¿ç”¨<code>trainImplicit</code>å‡½æ•°ã€‚å…¶è°ƒç”¨æ–¹å¼å’Œæ ‡å‡†çš„<code>train</code>æ¨¡å¼ç±»ä¼¼ï¼Œä½†å¤šäº†ä¸€ä¸ªå¯è®¾ç½®çš„<code>alpha</code>å‚æ•°ï¼ˆä¹Ÿæ˜¯ä¸€ä¸ªæ­£åˆ™åŒ–å‚æ•°ï¼Œ<code>lambda</code>åº”é€šè¿‡æµ‹è¯•å’Œäº¤å‰éªŒè¯æ³•æ¥è®¾ç½®ï¼‰ã€‚</p>
<p>alphaå‚æ•°æŒ‡å®šäº†ä¿¡å¿ƒæƒé‡æ‰€åº”è¾¾åˆ°çš„åŸºå‡†çº¿ã€‚è¯¥å€¼è¶Šé«˜åˆ™æ‰€è®­ç»ƒå‡ºçš„æ¨¡å‹è¶Šè®¤ä¸ºç”¨æˆ·ä¸ä»–æ‰€æ²¡è¯„çº§è¿‡çš„ç”µå½±ä¹‹é—´æ²¡æœ‰ç›¸å…³æ€§ã€‚</p>
<h2 id="4-ä½¿ç”¨æ¨èæ¨¡å‹"><a href="#4-ä½¿ç”¨æ¨èæ¨¡å‹" class="headerlink" title="4. ä½¿ç”¨æ¨èæ¨¡å‹"></a>4. ä½¿ç”¨æ¨èæ¨¡å‹</h2><p>é¢„æµ‹é€šå¸¸æœ‰ä¸¤ç§ï¼šä¸ºæŸä¸ªç”¨æˆ·æ¨èç‰©å“ï¼Œæˆ–æ‰¾å‡ºä¸æŸä¸ªç‰©å“ç›¸å…³æˆ–ç›¸ä¼¼çš„å…¶ä»–ç‰©å“ã€‚</p>
<h3 id="4-1-ç”¨æˆ·æ¨è"><a href="#4-1-ç”¨æˆ·æ¨è" class="headerlink" title="4.1 ç”¨æˆ·æ¨è"></a>4.1 ç”¨æˆ·æ¨è</h3><p>é€šè¿‡æ¨¡å‹æ±‚å‡ºç”¨æˆ·å¯èƒ½å–œå¥½ç¨‹åº¦æœ€é«˜çš„å‰Kä¸ªå•†å“ã€‚</p>
<ol>
<li>åŸºäº<strong>ç”¨æˆ·çš„æ¨¡å‹</strong>ï¼Œåˆ™ä¼šåˆ©ç”¨ç›¸ä¼¼ç”¨æˆ·çš„è¯„çº§æ¥è®¡ç®—å¯¹æŸä¸ªç”¨æˆ·çš„æ¨èã€‚</li>
<li>åŸºäº<strong>ç‰©å“çš„æ¨¡å‹</strong>ï¼Œåˆ™ä¼šä¾é ç”¨æˆ·æ¥è§¦è¿‡çš„ç‰©å“ä¸å€™é€‰ç‰©å“ä¹‹é—´çš„ç›¸ä¼¼åº¦æ¥è·å¾—æ¨èã€‚</li>
</ol>
<p>åˆ©ç”¨çŸ©é˜µåˆ†è§£æ–¹æ³•æ—¶ï¼Œæ˜¯ç›´æ¥å¯¹è¯„çº§æ•°æ®è¿›è¡Œå»ºæ¨¡ï¼Œæ‰€ä»¥é¢„è®¡å¾—åˆ†å¯è§†ä½œç›¸åº”ç”¨æˆ·å› å­å‘é‡å’Œç‰©å“å› å­å‘é‡çš„ç‚¹ç§¯ã€‚</p>
<p><strong>1. ä»MovieLens 100kæ•°æ®é›†ç”Ÿæˆç”µå½±æ¨è</strong></p>
<p>MLlibçš„æ¨èæ¨¡å‹åŸºäºçŸ©é˜µåˆ†è§£ï¼Œå› æ­¤å¯ç”¨æ¨¡å‹æ‰€æ±‚å¾—çš„å› å­çŸ©é˜µæ¥è®¡ç®—ç”¨æˆ·å¯¹ç‰©å“çš„é¢„è®¡è¯„çº§ã€‚ä¸‹é¢åªé’ˆå¯¹åˆ©ç”¨MovieLensä¸­æ˜¾å¼æ•°æ®åšæ¨èçš„æƒ…å½¢ï¼Œä½¿ç”¨éšå¼æ¨¡å‹æ—¶çš„æ–¹æ³•ä¸ä¹‹ç›¸åŒã€‚</p>
<p><code>MatrixFactorizationModel</code>ç±» æä¾›äº†ä¸€ä¸ª<code>predict</code>å‡½æ•°ï¼Œä»¥æ–¹ä¾¿åœ°è®¡ç®—ç»™å®šç”¨æˆ·å¯¹ç»™å®šç‰©å“çš„é¢„æœŸå¾—åˆ†ï¼š</p>
<figure class="highlight scala"><table><tr><td class="code"><pre><span class="line">scala&gt; <span class="keyword">val</span> predictedRating = model.predict(<span class="number">789</span>, <span class="number">123</span>)</span><br><span class="line"><span class="number">16</span>/<span class="number">05</span>/<span class="number">04</span> <span class="number">16</span>:<span class="number">13</span>:<span class="number">08</span> <span class="type">WARN</span> <span class="type">BLAS</span>: <span class="type">Failed</span> to load implementation from: com.github.fommil.netlib.<span class="type">NativeSystemBLAS</span></span><br><span class="line"><span class="number">16</span>/<span class="number">05</span>/<span class="number">04</span> <span class="number">16</span>:<span class="number">13</span>:<span class="number">08</span> <span class="type">WARN</span> <span class="type">BLAS</span>: <span class="type">Failed</span> to load implementation from: com.github.fommil.netlib.<span class="type">NativeRefBLAS</span></span><br><span class="line">predictedRating: <span class="type">Double</span> = <span class="number">1.8390368814083764</span></span><br><span class="line"></span><br><span class="line">scala&gt; <span class="keyword">val</span> predictedRating = model.predict(<span class="number">789</span>, <span class="number">123</span>)</span><br><span class="line">predictedRating: <span class="type">Double</span> = <span class="number">1.8390368814083764</span></span><br><span class="line"></span><br><span class="line">scala&gt; <span class="keyword">val</span> userId = <span class="number">789</span></span><br><span class="line">userId: <span class="type">Int</span> = <span class="number">789</span></span><br><span class="line"></span><br><span class="line">scala&gt; <span class="keyword">val</span> <span class="type">K</span> = <span class="number">10</span></span><br><span class="line"><span class="type">K</span>: <span class="type">Int</span> = <span class="number">10</span></span><br><span class="line"></span><br><span class="line">scala&gt; <span class="keyword">val</span> topKRecs = model.recommendProducts(userId, <span class="type">K</span>)</span><br><span class="line">topKRecs: <span class="type">Array</span>[org.apache.spark.mllib.recommendation.<span class="type">Rating</span>] = <span class="type">Array</span>(<span class="type">Rating</span>(<span class="number">789</span>,<span class="number">180</span>,<span class="number">5.352418839062572</span>), <span class="type">Rating</span>(<span class="number">789</span>,<span class="number">887</span>,<span class="number">5.289455638310055</span>), <span class="type">Rating</span>(<span class="number">789</span>,<span class="number">484</span>,<span class="number">5.0301818688410025</span>), <span class="type">Rating</span>(<span class="number">789</span>,<span class="number">475</span>,<span class="number">5.011219778604191</span>), <span class="type">Rating</span>(<span class="number">789</span>,<span class="number">150</span>,<span class="number">5.003965038415291</span>), <span class="type">Rating</span>(<span class="number">789</span>,<span class="number">663</span>,<span class="number">4.991126084946501</span>), <span class="type">Rating</span>(<span class="number">789</span>,<span class="number">56</span>,<span class="number">4.974685008959871</span>), <span class="type">Rating</span>(<span class="number">789</span>,<span class="number">48</span>,<span class="number">4.965402351329832</span>), <span class="type">Rating</span>(<span class="number">789</span>,<span class="number">9</span>,<span class="number">4.963265626841469</span>), <span class="type">Rating</span>(<span class="number">789</span>,<span class="number">127</span>,<span class="number">4.963069165947614</span>))</span><br><span class="line"></span><br><span class="line">scala&gt; println(topKRecs.mkString(<span class="string">"\n"</span>))</span><br><span class="line"><span class="type">Rating</span>(<span class="number">789</span>,<span class="number">180</span>,<span class="number">5.352418839062572</span>)</span><br><span class="line"><span class="type">Rating</span>(<span class="number">789</span>,<span class="number">887</span>,<span class="number">5.289455638310055</span>)</span><br><span class="line"><span class="type">Rating</span>(<span class="number">789</span>,<span class="number">484</span>,<span class="number">5.0301818688410025</span>)</span><br><span class="line"><span class="type">Rating</span>(<span class="number">789</span>,<span class="number">475</span>,<span class="number">5.011219778604191</span>)</span><br><span class="line"><span class="type">Rating</span>(<span class="number">789</span>,<span class="number">150</span>,<span class="number">5.003965038415291</span>)</span><br><span class="line"><span class="type">Rating</span>(<span class="number">789</span>,<span class="number">663</span>,<span class="number">4.991126084946501</span>)</span><br><span class="line"><span class="type">Rating</span>(<span class="number">789</span>,<span class="number">56</span>,<span class="number">4.974685008959871</span>)</span><br><span class="line"><span class="type">Rating</span>(<span class="number">789</span>,<span class="number">48</span>,<span class="number">4.965402351329832</span>)</span><br><span class="line"><span class="type">Rating</span>(<span class="number">789</span>,<span class="number">9</span>,<span class="number">4.963265626841469</span>)</span><br><span class="line"><span class="type">Rating</span>(<span class="number">789</span>,<span class="number">127</span>,<span class="number">4.963069165947614</span>)</span><br></pre></td></tr></table></figure>
<blockquote>
<p>Reading notes</p>
</blockquote>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[what is recommendation system]]></title>
      <url>http://iequa.com/2016/11/22/rsac-p1/</url>
      <content type="html"><![CDATA[<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js"],
    jax: ["input/TeX"],
    tex2jax: {
      inlineMath: [ ['$','$'], ['\\(','\\)'] ],
      displayMath: [ ['$$','$$']],
      processEscapes: true
    }
  });
</script>
<script type="text/javascript" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS_HTML,http://myserver.com/MathJax/config/local/local.js">
</script>

<h2 id="1-æ¨èç³»ç»Ÿ"><a href="#1-æ¨èç³»ç»Ÿ" class="headerlink" title="1. æ¨èç³»ç»Ÿ ?"></a>1. æ¨èç³»ç»Ÿ ?</h2><blockquote>
<p>ä¸ºè§£å†³ information overload çš„é—®é¢˜ï¼Œè§£å†³æ–¹æ¡ˆæ˜¯åˆ†ç±»ç›®å½•å’Œæœç´¢å¼•æ“ã€‚yahooã€google</p>
</blockquote>
<h3 id="1-1-æœç´¢å¼•æ“"><a href="#1-1-æœç´¢å¼•æ“" class="headerlink" title="1.1 æœç´¢å¼•æ“"></a>1.1 æœç´¢å¼•æ“</h3><table>
<thead>
<tr>
<th>Shop</th>
<th>ç”¨æˆ·ä¹°èŠ±ç”Ÿæµç¨‹</th>
</tr>
</thead>
<tbody>
<tr>
<td>ä¾¿åˆ©åº— &nbsp;</td>
<td>è½¬ä¸€åœˆæ‰¾åˆ°èŠ±ç”Ÿç±³,ç„¶åæ¯”è¾ƒå‡ ä¸ªç‰Œå­çš„å£ç¢‘æˆ–è€…ä»·æ ¼æ‰¾åˆ°è‡ªå·±å–œæ¬¢çš„ç‰Œå­ï¼Œæé’±ä»˜æ¬¾</td>
</tr>
<tr>
<td>æ²ƒå°”ç›</td>
<td>æŒ‰åˆ†ç±»æŒ‡ç¤ºç‰Œåˆ°é£Ÿå“æ¥¼å±‚ï¼ŒæŒ‰æŒ‡ç¤ºç‰Œåˆ°å–å¹²æœçš„è´§æ¶ï¼Œåä»”ç»†å¯»æ‰¾ä½ éœ€è¦çš„èŠ±ç”Ÿç±³ï¼Œæ‰¾åˆ°åä»˜æ¬¾</td>
</tr>
<tr>
<td>æ·˜å®</td>
<td>æœç´¢æ¡†çš„ä¸œè¥¿é‡Œè¾“å…¥èŠ±ç”Ÿç±³3ä¸ªå­—ï¼Œç„¶åä½ ä¼šçœ‹åˆ°ä¸€å †èŠ±ç”Ÿç±³ï¼Œæ‰¾åˆ°å–œæ¬¢çš„ç‰Œå­ï¼Œä»˜è´¹ï¼Œç„¶åç­‰å¾…é€è´§ä¸Šé—¨</td>
</tr>
</tbody>
</table>
<blockquote>
<p>ç”¨æˆ·å…·æœ‰æ˜ç¡®éœ€æ±‚ : æœç´¢å¼•æ“</p>
</blockquote>
<h3 id="1-2-æ¨èç³»ç»Ÿ"><a href="#1-2-æ¨èç³»ç»Ÿ" class="headerlink" title="1.2 æ¨èç³»ç»Ÿ"></a>1.2 æ¨èç³»ç»Ÿ</h3><p>æ¨èç³»ç»Ÿå’Œæœç´¢å¼•æ“ä¸åŒçš„æ˜¯ï¼Œæ¨èç³»ç»Ÿä¸éœ€è¦ç”¨æˆ·æä¾›æ˜ç¡®çš„éœ€æ±‚ï¼Œè€Œæ˜¯é€šè¿‡åˆ†æç”¨æˆ·çš„å†å²è¡Œä¸ºç»™ç”¨æˆ·çš„å…´è¶£å»ºæ¨¡ï¼Œä»è€Œä¸»åŠ¨ç»™ç”¨æˆ·æ¨èèƒ½å¤Ÿæ»¡è¶³ä»–ä»¬å…´è¶£å’Œéœ€æ±‚çš„ä¿¡æ¯ã€‚æ¨èç³»ç»Ÿ çš„åŸºæœ¬ä»»åŠ¡æ˜¯è”ç³»<strong>ç”¨æˆ·</strong>å’Œ<strong>ç‰©å“</strong>ï¼Œè§£å†³ä¿¡æ¯è¿‡è½½çš„é—®é¢˜</p>
<p><img src="/images/ml/rsac-1-1.png" alt="rsac-1"></p>
<blockquote>
<p>ç”¨æˆ·ä¸å…·æ˜ç¡®éœ€æ±‚ : æ¨èç³»ç»Ÿ</p>
</blockquote>
<h3 id="1-3-æ¨èç³»ç»Ÿåˆ†ç±»"><a href="#1-3-æ¨èç³»ç»Ÿåˆ†ç±»" class="headerlink" title="1.3 æ¨èç³»ç»Ÿåˆ†ç±»"></a>1.3 æ¨èç³»ç»Ÿåˆ†ç±»</h3><p>æŒ‰ç…§æ•°æ®åˆ†æˆ ååŒè¿‡æ»¤ã€å†…å®¹è¿‡æ»¤ã€ç¤¾ä¼šåŒ–è¿‡æ»¤</p>
<ol>
<li>social recommendation</li>
<li>content-based filtering</li>
<li>collaborative filtering [kÉ™â€™lÃ¦bÉ™retÉªv]</li>
</ol>
<p><img src="/images/ml/rsac-1-2.png" alt="rsac-2"></p>
<p>æŒ‰ç…§ç®—æ³•åˆ†æˆ åŸºäºé‚»åŸŸçš„ç®—æ³•ã€åŸºäºå›¾çš„ç®—æ³•ã€åŸºäºçŸ©é˜µåˆ†è§£ æˆ–è€… æ¦‚ç‡æ¨¡å‹çš„ç®—æ³•</p>
<h2 id="2-ä¸ªæ€§åŒ–æ¨èç³»ç»Ÿåº”ç”¨"><a href="#2-ä¸ªæ€§åŒ–æ¨èç³»ç»Ÿåº”ç”¨" class="headerlink" title="2. ä¸ªæ€§åŒ–æ¨èç³»ç»Ÿåº”ç”¨"></a>2. ä¸ªæ€§åŒ–æ¨èç³»ç»Ÿåº”ç”¨</h2><table>
<thead>
<tr>
<th>æ¨èç³»ç»Ÿçš„åº”ç”¨</th>
<th>ä»£è¡¨</th>
</tr>
</thead>
<tbody>
<tr>
<td>ç”µå­å•†åŠ¡</td>
<td>Amazonã€Taobao</td>
</tr>
<tr>
<td>ç”µå½±è§†é¢‘</td>
<td>Youtubeã€Netflix</td>
</tr>
<tr>
<td>ä¸ªæ€§åŒ–ç”µå°</td>
<td>Pandoraã€è±†ç“£ç”µå°</td>
</tr>
<tr>
<td>ç§»åŠ¨æ–°é—»</td>
<td>Yahoo newsã€ä»Šæ—¥å¤´æ¡</td>
</tr>
<tr>
<td>ç¤¾äº¤ç½‘ç»œ</td>
<td>Facebookã€Twitter</td>
</tr>
<tr>
<td>åŸºäºä½ç½®çš„æœåŠ¡</td>
<td>Maps nearby</td>
</tr>
<tr>
<td>ä¸ªæ€§åŒ–AD</td>
<td>Facebookã€Sinaã€Adç™¾åº¦è”ç›Ÿ</td>
</tr>
<tr>
<td>â€¦</td>
<td>â€¦</td>
</tr>
</tbody>
</table>
<h2 id="3-æ¨èç³»ç»Ÿè¯„æµ‹"><a href="#3-æ¨èç³»ç»Ÿè¯„æµ‹" class="headerlink" title="3. æ¨èç³»ç»Ÿè¯„æµ‹"></a>3. æ¨èç³»ç»Ÿè¯„æµ‹</h2><p><img src="/images/ml/rsac-1-3.png" alt="rsac-3"></p>
<blockquote>
<p>tripartite win-win</p>
</blockquote>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[Python Pandas - Seriesã€DataFrame]]></title>
      <url>http://iequa.com/2016/11/18/ml-python-pandas/</url>
      <content type="html"><![CDATA[<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js"],
    jax: ["input/TeX"],
    tex2jax: {
      inlineMath: [ ['$','$'], ['\\(','\\)'] ],
      displayMath: [ ['$$','$$'], ['\[','\]'] ],
      processEscapes: true
    }
  });
</script>
<script type="text/javascript" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS_HTML,http://myserver.com/MathJax/config/local/local.js">
</script>

<table>
<thead>
<tr>
<th>Extension lib</th>
<th>introduction</th>
</tr>
</thead>
<tbody>
<tr>
<td>Numpy</td>
<td>æä¾›æ•°ç»„æ”¯æŒï¼Œä»¥åŠç›¸åº”çš„é«˜æ•ˆå¤„ç†å‡½æ•°</td>
</tr>
<tr>
<td>Scipy</td>
<td>æä¾›çŸ©é˜µæ”¯æŒï¼Œä»¥åŠçŸ©é˜µç›¸å…³çš„æ•°å€¼è®¡ç®—æ¨¡å—</td>
</tr>
<tr>
<td>Matplotlib</td>
<td>æ•°æ®å¯è§†åŒ–å·¥å…·ï¼Œä½œå›¾åº“</td>
</tr>
<tr>
<td>Pandas</td>
<td>æ•°æ®åˆ†æå’Œæ¢ç´¢å·¥å…·</td>
</tr>
<tr>
<td>StatsModels</td>
<td>ç»Ÿè®¡å»ºæ¨¡å’Œè®¡é‡ç»æµå­¦ï¼ŒåŒ…æ‹¬æè¿°ç»Ÿè®¡ï¼Œç»Ÿè®¡æ¨¡å‹ä¼°è®¡å’Œæ¨æ–­</td>
</tr>
<tr>
<td>Scikit-Learn</td>
<td>æ”¯æŒå›å½’ï¼Œåˆ†ç±»ï¼Œèšç±» ç­‰å¼ºå¤§çš„æœºå™¨å­¦ä¹ åº“</td>
</tr>
<tr>
<td>Keras</td>
<td>æ·±åº¦å­¦ä¹ åº“ï¼Œç”¨äºå»ºç«‹ç¥ç»ç½‘ç»œä»¥åŠ deep learning model</td>
</tr>
<tr>
<td>Gensim</td>
<td>ç”¨æ¥åš text topic model çš„åº“</td>
</tr>
<tr>
<td>Pillow</td>
<td>æ—§ç‰ˆçš„PIL, å›¾ç‰‡å¤„ç†ç›¸å…³</td>
</tr>
<tr>
<td>OpenCV</td>
<td>video å¤„ç†ç›¸å…³</td>
</tr>
<tr>
<td>GMPY2</td>
<td>é«˜ç²¾åº¦è®¡ç®—ç›¸å…³</td>
</tr>
</tbody>
</table>
<h2 id="1-numpy-lib"><a href="#1-numpy-lib" class="headerlink" title="1. numpy lib"></a>1. numpy lib</h2><figure class="highlight python"><table><tr><td class="code"><pre><span class="line">In [<span class="number">1</span>]: <span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line">In [<span class="number">2</span>]: a = np.array([<span class="number">2</span>, <span class="number">0</span>, <span class="number">1</span>, <span class="number">5</span>])</span><br><span class="line">In [<span class="number">3</span>]: a</span><br><span class="line">Out[<span class="number">3</span>]: array([<span class="number">2</span>, <span class="number">0</span>, <span class="number">1</span>, <span class="number">5</span>])</span><br><span class="line">In [<span class="number">4</span>]:</span><br></pre></td></tr></table></figure>
<h2 id="2-pandas-lib"><a href="#2-pandas-lib" class="headerlink" title="2. pandas lib"></a>2. pandas lib</h2><blockquote>
<p>pandas build on <strong>Numpy</strong></p>
<p>pandas åŸºæœ¬çš„æ•°æ®ç»“æ„æ˜¯ : Series å’Œ DataFrame (å®ƒçš„æ¯ä¸€åˆ—éƒ½æ˜¯ä¸€ä¸ªSeries)ã€‚</p>
<p>æ¯ä¸ª Series éƒ½ä¼šæœ‰ä¸€ä¸ªå¯¹åº”çš„ Indexï¼Œç”¨æ¥æ ‡è®°å…ƒã€‚(Indexç±»ä¼¼äº SQL ä¸»é”®)</p>
</blockquote>
<h3 id="2-1-pandas-install"><a href="#2-1-pandas-install" class="headerlink" title="2.1 pandas install"></a>2.1 pandas install</h3><blockquote>
<p>sudo pip install numpy<br>sudo pip install pandas<br>sudo pip install xlrd<br>sudo pip install xlwt</p>
</blockquote>
<h3 id="2-2-pandas-function"><a href="#2-2-pandas-function" class="headerlink" title="2.2 pandas function"></a>2.2 pandas function</h3><blockquote>
<p>ç±»SQLï¼ŒCRUD<br>æ•°æ®å¤„ç†å‡½æ•°<br>æ—¶é—´åºåˆ—åˆ†æåŠŸèƒ½<br>çµæ´»å¤„ç†ç¼ºå¤±æ•°æ®</p>
</blockquote>
<h2 id="3-pandas-Series"><a href="#3-pandas-Series" class="headerlink" title="3. pandas Series"></a>3. pandas Series</h2><figure class="highlight python"><table><tr><td class="code"><pre><span class="line">In [<span class="number">4</span>]: <span class="keyword">from</span> pandas <span class="keyword">import</span> Series, DataFrame</span><br><span class="line">In [<span class="number">5</span>]: <span class="keyword">import</span> pandas <span class="keyword">as</span> pd</span><br><span class="line"></span><br><span class="line">In [<span class="number">6</span>]: obj = Series([<span class="number">4</span>, <span class="number">7</span>, <span class="number">-5</span>, <span class="number">3</span>])</span><br><span class="line">In [<span class="number">7</span>]: obj</span><br><span class="line">Out[<span class="number">7</span>]:</span><br><span class="line"><span class="number">0</span>    <span class="number">4</span></span><br><span class="line"><span class="number">1</span>    <span class="number">7</span></span><br><span class="line"><span class="number">2</span>   <span class="number">-5</span></span><br><span class="line"><span class="number">3</span>    <span class="number">3</span></span><br><span class="line">dtype: int64</span><br><span class="line"></span><br><span class="line">In [<span class="number">8</span>]: obj.values</span><br><span class="line">Out[<span class="number">8</span>]: array([ <span class="number">4</span>,  <span class="number">7</span>, <span class="number">-5</span>,  <span class="number">3</span>])</span><br><span class="line"></span><br><span class="line">In [<span class="number">9</span>]: obj.index</span><br><span class="line">Out[<span class="number">9</span>]: RangeIndex(start=<span class="number">0</span>, stop=<span class="number">4</span>, step=<span class="number">1</span>)</span><br><span class="line"></span><br><span class="line">In [<span class="number">10</span>]: obj2 = Series([<span class="number">4</span>, <span class="number">7</span>, <span class="number">-5</span>, <span class="number">3</span>], index=[<span class="string">'d'</span>, <span class="string">'b'</span>, <span class="string">'a'</span>, <span class="string">'c'</span>])</span><br></pre></td></tr></table></figure>
<h3 id="3-1-Series-index"><a href="#3-1-Series-index" class="headerlink" title="3.1 Series index"></a>3.1 Series index</h3><figure class="highlight python"><table><tr><td class="code"><pre><span class="line">In [<span class="number">11</span>]: obj2</span><br><span class="line">Out[<span class="number">11</span>]:</span><br><span class="line">d    <span class="number">4</span></span><br><span class="line">b    <span class="number">7</span></span><br><span class="line">a   <span class="number">-5</span></span><br><span class="line">c    <span class="number">3</span></span><br><span class="line">dtype: int64</span><br><span class="line"></span><br><span class="line">In [<span class="number">12</span>]: obj2.index</span><br><span class="line">Out[<span class="number">12</span>]: Index([<span class="string">u'd'</span>, <span class="string">u'b'</span>, <span class="string">u'a'</span>, <span class="string">u'c'</span>], dtype=<span class="string">'object'</span>)</span><br><span class="line"></span><br><span class="line">In [<span class="number">13</span>]: obj2[<span class="string">'a'</span>]</span><br><span class="line">Out[<span class="number">13</span>]: <span class="number">-5</span></span><br><span class="line"></span><br><span class="line">In [<span class="number">14</span>]: obj2[[<span class="string">'c'</span>, <span class="string">'a'</span>]]</span><br><span class="line">Out[<span class="number">14</span>]:</span><br><span class="line">c    <span class="number">3</span></span><br><span class="line">a   <span class="number">-5</span></span><br><span class="line">dtype: int64</span><br></pre></td></tr></table></figure>
<h3 id="3-2-Series-like-dict"><a href="#3-2-Series-like-dict" class="headerlink" title="3.2 Series like dict"></a>3.2 Series like dict</h3><figure class="highlight python"><table><tr><td class="code"><pre><span class="line">In [<span class="number">16</span>]: <span class="string">'b'</span> <span class="keyword">in</span> obj2</span><br><span class="line">Out[<span class="number">16</span>]: <span class="keyword">True</span></span><br><span class="line"></span><br><span class="line">In [<span class="number">17</span>]: <span class="string">'e'</span> <span class="keyword">in</span> obj2</span><br><span class="line">Out[<span class="number">17</span>]: <span class="keyword">False</span></span><br><span class="line"></span><br><span class="line">In [<span class="number">24</span>]: sdata = &#123;<span class="string">'Ohio'</span>: <span class="number">35</span>, <span class="string">'Texas'</span>: <span class="number">71</span>, <span class="string">'Oregon'</span>: <span class="number">16</span>&#125;</span><br><span class="line"></span><br><span class="line">In [<span class="number">25</span>]: obj3 = Series(sdata)</span><br><span class="line"></span><br><span class="line">In [<span class="number">26</span>]: obj3</span><br><span class="line">Out[<span class="number">26</span>]:</span><br><span class="line">Ohio      <span class="number">35</span></span><br><span class="line">Texas     <span class="number">71</span></span><br><span class="line">Oregon    <span class="number">16</span></span><br><span class="line">dtype: int64</span><br><span class="line"></span><br><span class="line">In [<span class="number">30</span>]: states = [<span class="string">'California'</span>, <span class="string">'Ohio'</span>, <span class="string">'Oregon'</span>, <span class="string">'Texas'</span>]</span><br><span class="line"></span><br><span class="line">In [<span class="number">32</span>]: obj4 = Series(sdata, index=states)</span><br><span class="line"></span><br><span class="line">In [<span class="number">33</span>]: obj4</span><br><span class="line">Out[<span class="number">33</span>]: /Library/Python/<span class="number">2.7</span>/site-packages/pandas/formats/format.py:<span class="number">2191</span>: RuntimeWarning: invalid value encountered <span class="keyword">in</span> greater</span><br><span class="line">  has_large_values = (abs_vals &gt; <span class="number">1e6</span>).any()</span><br><span class="line">/Library/Python/<span class="number">2.7</span>/site-packages/pandas/formats/format.py:<span class="number">2192</span>: RuntimeWarning: invalid value encountered <span class="keyword">in</span> less</span><br><span class="line">  has_small_values = ((abs_vals &lt; <span class="number">10</span>**(-self.digits)) &amp;</span><br><span class="line">/Library/Python/<span class="number">2.7</span>/site-packages/pandas/formats/format.py:<span class="number">2193</span>: RuntimeWarning: invalid value encountered <span class="keyword">in</span> greater</span><br><span class="line">  (abs_vals &gt; <span class="number">0</span>)).any()</span><br><span class="line"></span><br><span class="line">California     NaN</span><br><span class="line">Ohio          <span class="number">35.0</span></span><br><span class="line">Oregon        <span class="number">16.0</span></span><br><span class="line">Texas         <span class="number">71.0</span></span><br><span class="line">dtype: float64</span><br></pre></td></tr></table></figure>
<h3 id="3-3-Series-isnull"><a href="#3-3-Series-isnull" class="headerlink" title="3.3 Series isnull"></a>3.3 Series isnull</h3><figure class="highlight python"><table><tr><td class="code"><pre><span class="line">In [<span class="number">48</span>]: obj4.isnull()</span><br><span class="line">Out[<span class="number">48</span>]:</span><br><span class="line">California     <span class="keyword">True</span></span><br><span class="line">Ohio          <span class="keyword">False</span></span><br><span class="line">Oregon        <span class="keyword">False</span></span><br><span class="line">Texas         <span class="keyword">False</span></span><br><span class="line">Name: population, dtype: bool</span><br><span class="line"></span><br><span class="line">In [<span class="number">39</span>]: obj3</span><br><span class="line">Out[<span class="number">39</span>]:</span><br><span class="line">Ohio      <span class="number">35</span></span><br><span class="line">Oregon    <span class="number">16</span></span><br><span class="line">Texas     <span class="number">71</span></span><br><span class="line">dtype: int64</span><br><span class="line"></span><br><span class="line">In [<span class="number">40</span>]: obj4</span><br><span class="line">Out[<span class="number">40</span>]:</span><br><span class="line">California     NaN</span><br><span class="line">Ohio          <span class="number">35.0</span></span><br><span class="line">Oregon        <span class="number">16.0</span></span><br><span class="line">Texas         <span class="number">71.0</span></span><br><span class="line">dtype: float64</span><br><span class="line"></span><br><span class="line">In [<span class="number">41</span>]: obj3 + obj4</span><br><span class="line">Out[<span class="number">41</span>]:</span><br><span class="line">California      NaN</span><br><span class="line">Ohio           <span class="number">70.0</span></span><br><span class="line">Oregon         <span class="number">32.0</span></span><br><span class="line">Texas         <span class="number">142.0</span></span><br><span class="line">dtype: float64</span><br><span class="line"></span><br><span class="line">In [<span class="number">42</span>]: obj4.name</span><br><span class="line"></span><br><span class="line">In [<span class="number">43</span>]: obj4.name = <span class="string">'population'</span></span><br><span class="line"></span><br><span class="line">In [<span class="number">44</span>]: obj4.name</span><br><span class="line">Out[<span class="number">44</span>]: <span class="string">'population'</span></span><br><span class="line"></span><br><span class="line">In [<span class="number">45</span>]: obj4</span><br><span class="line">Out[<span class="number">45</span>]:</span><br><span class="line">California     NaN</span><br><span class="line">Ohio          <span class="number">35.0</span></span><br><span class="line">Oregon        <span class="number">16.0</span></span><br><span class="line">Texas         <span class="number">71.0</span></span><br><span class="line">Name: population, dtype: float64</span><br></pre></td></tr></table></figure>
<h2 id="3-pandas-DateFrame"><a href="#3-pandas-DateFrame" class="headerlink" title="3. pandas DateFrame"></a>3. pandas DateFrame</h2><blockquote>
<p>DateFrame è¡¨æ ¼å‹æ•°æ®ç»“æ„</p>
<p>DataFrame å…·æœ‰ è¡Œç´¢å¼• å’Œ åˆ—ç´¢å¼•ï¼Œç”± Series ç»„æˆçš„ dictã€‚</p>
</blockquote>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[Coursera Week 4 - Neural Networks Preface]]></title>
      <url>http://iequa.com/2016/11/17/ml-coursera-ng-w4-nn-01/</url>
      <content type="html"><![CDATA[<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js"],
    jax: ["input/TeX"],
    tex2jax: {
      inlineMath: [ ['$','$'], ['\\(','\\)'] ],
      displayMath: [ ['$$','$$']],
      processEscapes: true
    }
  });
</script>
<script type="text/javascript" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS_HTML,http://myserver.com/MathJax/config/local/local.js">
</script>


<h2 id="1-Non-linear-Hypotheses"><a href="#1-Non-linear-Hypotheses" class="headerlink" title="1. Non-linear Hypotheses"></a>1. Non-linear Hypotheses</h2><p><img src="/images/ml/ml-ng-w4-01-01.png" alt="Non-linear Hypotheses"></p>
<p>Performing linear regression with a complex set of data with many features is very unwieldy. Say you wanted to create a hypothesis from three features that included all the <code>quadratic [kwÉ‘&#39;drÃ¦tÉªk]</code> terms:</p>
<p>$$<br>\begin{align}&amp; g(\theta_0 + \theta_1x_1^2 + \theta_2x_1x_2 + \theta_3x_1x_3 \newline&amp; + \theta_4x_2^2 + \theta_5x_2x_3 \newline&amp; + \theta_6x_3^2 )\end{align}<br>$$</p>
<h2 id="1-1-Computer-Vision"><a href="#1-1-Computer-Vision" class="headerlink" title="1.1 Computer Vision"></a>1.1 Computer Vision</h2><blockquote>
<p>For many machine learning problems, <code>n will be pretty large</code>. Hereâ€™s an example. </p>
</blockquote>
<p><img src="/images/ml/ml-ng-w4-01-02.png" alt="Computer Vision"></p>
<blockquote>
<p>It turns out that where you and I see a car, the computer sees that. What it sees is this matrix, or this grid</p>
</blockquote>
<h2 id="1-2-Car-detection"><a href="#1-2-Car-detection" class="headerlink" title="1.2 Car detection"></a>1.2 Car detection</h2><p><img src="/images/ml/ml-ng-w4-01-03.png" alt="Computer Vision"></p>
<p><img src="/images/ml/ml-ng-w4-01-04.png" alt="Computer Vision"></p>
<p><img src="/images/ml/ml-ng-w4-01-05.png" alt="Computer Vision"></p>
<h2 id="Reference-article"><a href="#Reference-article" class="headerlink" title="Reference article"></a>Reference article</h2>]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[Clothes and outfits L4 Complimenting people on their outfits]]></title>
      <url>http://iequa.com/2016/11/14/ef-l5u6-Clothes-and-outfits-l4/</url>
      <content type="html"><![CDATA[<h2 id="1-Vocabulary"><a href="#1-Vocabulary" class="headerlink" title="1. Vocabulary"></a>1. Vocabulary</h2><ul>
<li>Fabrics</li>
<li>pants </li>
</ul>
<p><img src="/images/ef-l5u6l4.png" width="460" height="400" img=""></p>
<table>
<thead>
<tr>
<th>Dialog</th>
</tr>
</thead>
<tbody>
<tr>
<td>[NINA] I always try to find the newest, coolest styles for my store.</td>
<td></td>
</tr>
<tr>
<td>[NINA] I read magazines, I go to fashion shows.</td>
<td></td>
</tr>
<tr>
<td>[NINA] Fashion is always changing. I like to keep up with the latest trends.</td>
<td></td>
</tr>
<tr>
<td>[NINA] Those are great shoes!</td>
<td></td>
</tr>
<tr>
<td>[NINA] See, I have a small shop and Iâ€™m always looking for new ideas.</td>
<td></td>
</tr>
<tr>
<td>[NINA] Do you mind if I take a photo?</td>
<td></td>
</tr>
<tr>
<td>[LADY] Not at all. Go ahead.</td>
<td></td>
</tr>
<tr>
<td>[NINA] Thatâ€™s lovely. Thank you.</td>
<td></td>
</tr>
<tr>
<td>[NINA] So, what are some of your favorite brands or designers?</td>
<td></td>
</tr>
<tr>
<td>[WOMAN 1] Merabi, definitely.</td>
<td></td>
</tr>
<tr>
<td>[WOMAN 2] Merabi, yeah, and YRed. I love YRed. My handbag is Yred.</td>
<td></td>
</tr>
<tr>
<td>[NINA] Thatâ€™s lovely. This is leather?</td>
<td></td>
</tr>
<tr>
<td>[NINA] So what kinds of fabrics and colors do you like?</td>
<td></td>
</tr>
<tr>
<td>[WOMAN 3] I like natural fabrics, like silk and cotton.</td>
<td></td>
</tr>
<tr>
<td>[WOMAN 1] Yeah, me, too. Itâ€™s nice in the summer, but in the winter, I wear woolens.</td>
<td></td>
</tr>
<tr>
<td>[WOMAN 3] You really should add more color to your wardrobe.</td>
<td></td>
</tr>
<tr>
<td>[NINA] So, what are some of your favorite pieces of clothing?</td>
<td></td>
</tr>
<tr>
<td>[WOMAN 2] Red. Leather. Mini-skirt.</td>
<td></td>
</tr>
<tr>
<td>[WOMAN 3] What?</td>
<td></td>
</tr>
<tr>
<td>[NINA] Thanks, Hereâ€™s my shop. Pop in any time.</td>
<td></td>
</tr>
</tbody>
</table>
<h2 id="2-Expression"><a href="#2-Expression" class="headerlink" title="2. Expression"></a>2. Expression</h2><p><img src="/images/ef-l5u6l4-1.png" width="460" height="400" img=""></p>
<table>
<thead>
<tr>
<th>Opinion</th>
<th>Size</th>
<th>Age</th>
<th>Color</th>
<th>Origin</th>
<th>Material</th>
</tr>
</thead>
<tbody>
<tr>
<td>fabulous</td>
<td>long</td>
<td>old</td>
<td>navy blue</td>
<td>Chinese</td>
<td>silk</td>
</tr>
</tbody>
</table>
<ul>
<li>Her hot Indian cotton dress.</li>
<li>A weird, long, old tie.</li>
<li>Chloe prefers silk to wool.</li>
</ul>
<p>Expression would rather. Notice that I would is usually contracted to Iâ€™d.</p>
<ul>
<li>I prefer cotton to wool in the summer.</li>
<li>I prefer cotton.</li>
<li>Iâ€™d rather wear light colors in the summer.</li>
<li>Iâ€™d rather wear wool clothes than cotton in the winter.</li>
</ul>
<h2 id="3-Writing"><a href="#3-Writing" class="headerlink" title="3. Writing"></a>3. Writing</h2><p>Most of my clothes are way too expensive. Iâ€™d rather wear cool brands from a small shop than a cheap, polyester thing from a department store. I prefer silk and wool to cotton and leather. I like wearing red, yellow and orange more than dark, boring colors. I just bought a fantastic, new, orange, Spanish, leather handbag. I absolutely love it!</p>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[Clothes and outfits L3 Discussing dress requirements]]></title>
      <url>http://iequa.com/2016/11/09/ef-l5u6-Clothes-and-outfits-l3/</url>
      <content type="html"><![CDATA[<h2 id="1-Vocabulary"><a href="#1-Vocabulary" class="headerlink" title="1. Vocabulary"></a>1. Vocabulary</h2><ul>
<li>hottest</li>
</ul>
<p><img src="/images/ef-l5u6l3.png" width="460" height="400" img=""></p>
<table>
<thead>
<tr>
<th>Dialog</th>
</tr>
</thead>
<tbody>
<tr>
<td>[KATE] You know, I could be a designer.</td>
<td></td>
</tr>
<tr>
<td>[KATE] Every season, itâ€™s something different.</td>
<td></td>
</tr>
<tr>
<td>[KATE] â€˜Hats will be the hottest thing.â€™</td>
<td></td>
</tr>
<tr>
<td>[KATE] â€˜Red could be the color this fall.â€™</td>
<td></td>
</tr>
<tr>
<td>[KATE] â€˜Tight jeans will be so hot!â€™ Who decides these things?</td>
<td></td>
</tr>
<tr>
<td>[KATE] You know, I could be a designer.</td>
<td></td>
</tr>
<tr>
<td>[EMMA] <strong>Well, can you draw?</strong></td>
<td></td>
</tr>
<tr>
<td>[KATE] I know clothes. Iâ€™m good at putting together outfits.</td>
<td></td>
</tr>
<tr>
<td>[KATE] Sometimes I buy things <strong>before theyâ€™re even in style.</strong></td>
<td></td>
</tr>
<tr>
<td>[EMMA] True, but designers go to fashion school.</td>
<td></td>
</tr>
<tr>
<td>[EMMA] They learn how to draw, how to sew â€¦ They work very hard to become designers.</td>
<td></td>
</tr>
<tr>
<td>[KATE] Maybe Iâ€™ll go to fashion school.</td>
<td></td>
</tr>
<tr>
<td>[EMMA] Yeah. You should.</td>
<td></td>
</tr>
</tbody>
</table>
<h2 id="2-Expression"><a href="#2-Expression" class="headerlink" title="2. Expression"></a>2. Expression</h2><p><strong>Want to</strong></p>
<ul>
<li>Want to create your own brand and sell your clothes?</li>
<li>Want to learn how to sew your own clothes?</li>
<li>Want to learn which color shirt to put together with which pants?</li>
</ul>
<ul>
<li>This style is really hot right now.</li>
<li>Sheâ€™s my favorite designer.</li>
<li>I love the design of this suit!</li>
<li>This is my favorite brand of jeans.</li>
</ul>
<p><strong>look</strong> + adj</p>
<ul>
<li>You look fantastic!</li>
<li>That shirt looks great on you.    </li>
<li>That color looks good with your hair.</li>
</ul>
<p><strong>good at</strong> + ing</p>
<ul>
<li>Youâ€™re good at putting together an outfit.</li>
<li>Youâ€™re great at creating new styles.</li>
</ul>
<table>
<thead>
<tr>
<th>not at all</th>
<th>Actually, no </th>
</tr>
</thead>
<tbody>
<tr>
<td>A: Do you think this outfit makes me look ugly?</td>
<td>A: You donâ€™t think this necklace is weird?</td>
</tr>
<tr>
<td>B: Not at all!</td>
<td>B: Actually, no. Donâ€™t worry, you look fabulous. [â€˜fÃ¦bjÊŠlÉ™s]</td>
</tr>
</tbody>
</table>
<h2 id="3-Expression"><a href="#3-Expression" class="headerlink" title="3. Expression"></a>3. Expression</h2><table>
<thead>
<tr>
<th>Seeking and giving reassurances</th>
</tr>
</thead>
<tbody>
<tr>
<td>CHRIS: Lauren, <strong>do you think</strong> this suit makes me look fat?</td>
<td></td>
</tr>
<tr>
<td>LAUREN: Fat? Actually, no. I think it makes you look thinner.</td>
<td></td>
</tr>
<tr>
<td>CHRIS: Really? Itâ€™s so cheap. <strong>You donâ€™t think</strong> I should go buy some fancy brand?</td>
<td></td>
</tr>
<tr>
<td>LAUREN: <code>Not at all</code>! You look fine. Very handsome.</td>
<td></td>
</tr>
<tr>
<td>CHRIS: But <strong>Iâ€™m not sure about</strong> this <strong>tie</strong>. Horrible color. Maybe I should wear this one instead.</td>
<td></td>
</tr>
<tr>
<td>LAUREN: I wouldnâ€™t worry about it. They both look great!</td>
<td></td>
</tr>
<tr>
<td>CHRIS: Hmm. I just donâ€™t know. I never learned how to put together an outfit.</td>
<td></td>
</tr>
<tr>
<td>LAUREN: Donâ€™t worry. Youâ€™ve got a classic style.</td>
<td></td>
</tr>
<tr>
<td>CHRIS: Aw, thanks, Lauren.</td>
<td></td>
</tr>
</tbody>
</table>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[Clothes and outfits L2 Talking about people's outfits]]></title>
      <url>http://iequa.com/2016/11/06/ef-l5u6-Clothes-and-outfits-l2/</url>
      <content type="html"><![CDATA[<h2 id="1-Vocabulary"><a href="#1-Vocabulary" class="headerlink" title="1. Vocabulary"></a>1. Vocabulary</h2><ul>
<li>trends</li>
<li>in style</li>
<li>fun</li>
<li>tight</li>
<li>clothing</li>
<li>pants</li>
</ul>
<p><img src="/images/ef-l5u6l2.png" width="460" height="400" img=""></p>
<table>
<thead>
<tr>
<th>Dialog</th>
</tr>
</thead>
<tbody>
<tr>
<td>[NINA] My business is fashion.</td>
<td></td>
</tr>
<tr>
<td>[NINA] People think that fashion is all about following the seasonâ€™s trends.</td>
<td></td>
</tr>
<tr>
<td>[NINA] But it isnâ€™t just about what the designers say is in style.</td>
<td></td>
</tr>
<tr>
<td>[NINA] Itâ€™s about finding your own style.</td>
<td></td>
</tr>
<tr>
<td>[NINA] Fashion is personal.</td>
<td></td>
</tr>
<tr>
<td>[NINA] Itâ€™s about expressing yourself.</td>
<td></td>
</tr>
<tr>
<td>[NINA] Having fun.</td>
<td></td>
</tr>
<tr>
<td>[NINA] Wearing the clothes that you like.</td>
<td></td>
</tr>
<tr>
<td>[NINA] Is everything OK in there?</td>
<td></td>
</tr>
<tr>
<td>[CUSTOMER] Yeah. The magazines say tight jeans are going to be really in this autumn. What am I going to do?</td>
<td></td>
</tr>
<tr>
<td>[NINA] Tight jeans arenâ€™t for everyone. If it doesnâ€™t look good, donâ€™t wear it.</td>
<td></td>
</tr>
<tr>
<td>[CUSTOMER] My legs donâ€™t look good in pants like these.</td>
<td></td>
</tr>
<tr>
<td>[NINA] You know what? Skirts are also going to be important this season.</td>
<td></td>
</tr>
<tr>
<td>[NINA] This skirt will look great on you.</td>
<td></td>
</tr>
<tr>
<td>[NINA] What size are you? Ten?</td>
<td></td>
</tr>
<tr>
<td>[CUSTOMER] Twelve.</td>
<td></td>
</tr>
<tr>
<td>[NINA] That skirt looks great on you!</td>
<td></td>
</tr>
<tr>
<td>[CUSTOMER] Mmm. It does.</td>
<td></td>
</tr>
</tbody>
</table>
<h2 id="2-Grammar"><a href="#2-Grammar" class="headerlink" title="2. Grammar"></a>2. Grammar</h2><table>
<thead>
<tr>
<th>Fashion adjectives</th>
</tr>
</thead>
<tbody>
<tr>
<td>stylish / in style [â€˜staÉªlÉªÊƒ]</td>
<td>out of style</td>
</tr>
<tr>
<td>-</td>
<td>dreadful</td>
</tr>
<tr>
<td>fashionable</td>
<td>unfashionable</td>
</tr>
<tr>
<td>classic</td>
<td>trendy</td>
</tr>
<tr>
<td>loose</td>
<td>tight</td>
</tr>
<tr>
<td>fake</td>
<td>real</td>
</tr>
<tr>
<td>formal</td>
<td>casual</td>
</tr>
</tbody>
</table>
<ul>
<li>I donâ€™t wear real fur, only fake.</li>
<li>Those jeans are way too trendy.</li>
<li>He doesnâ€™t keep up with fashion trends.</li>
<li>How do you choose your clothes?</li>
</ul>
<h2 id="3-Reading"><a href="#3-Reading" class="headerlink" title="3. Reading"></a>3. Reading</h2><p>HAYLEY: So, I just went shopping, and there were just too many amazing clothes. In the first shop, I found this classic pair of jeans  . They are so cute. I also tried on a skirt, but it was too loose  . Then, at the second place, I tried some interesting jeans, but I decided they were way too baggy  . But I did find a skirt that is pretty, and tight. It looks great. Then, I couldnâ€™t believe it: I also went to a hat store and bought this very stylish hat. Funny, because there were some hats there that were, like, totally out of  style. At the last shop, I tried on two dresses. One is very formal  , and the other one, here â€“ itâ€™s pretty casual. What do you think?</p>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[Clothes and outfits L1 Shopping for an outfit]]></title>
      <url>http://iequa.com/2016/11/04/ef-l5u6-Clothes-and-outfits-l1/</url>
      <content type="html"><![CDATA[<h2 id="1-Vocabulary"><a href="#1-Vocabulary" class="headerlink" title="1. Vocabulary"></a>1. Vocabulary</h2><p><img src="/images/ef-l5u6l1-1.png" width="460" height="400" img=""></p>
<table>
<thead>
<tr>
<th>handbag</th>
<th>baggy jeans</th>
<th>necklace</th>
<th>sandals</th>
<th>suit</th>
</tr>
</thead>
<tbody>
<tr>
<td>makeup</td>
<td>ring</td>
<td>baseball cap</td>
<td>outfit [â€˜aÊŠtfÉªt]</td>
<td>tie</td>
</tr>
</tbody>
</table>
<p><img src="/images/ef-l5u6l1.png" width="460" height="400" img=""></p>
<table>
<thead>
<tr>
<th>Dialog</th>
</tr>
</thead>
<tbody>
<tr>
<td>[EMMA] That hair! Yeah, itâ€™s horrid, itâ€™s pretty terrible.</td>
<td></td>
</tr>
<tr>
<td>[EMMA] So much <code>wax</code> in it.</td>
<td></td>
</tr>
<tr>
<td>[KATE] Sheâ€™s wearing socks with sandals.</td>
<td></td>
</tr>
<tr>
<td>[EMMA] Ooooooh. Itâ€™s quite nasty, actually.</td>
<td></td>
</tr>
<tr>
<td>[KATE] Oh. Look at that guy.</td>
<td></td>
</tr>
<tr>
<td>[KATE] Iâ€™m sorry, but heâ€™s far too old to be wearing those baggy jeans and that baseball cap.</td>
<td></td>
</tr>
<tr>
<td>[EMMA] Come on. He wants to feel young again.</td>
<td></td>
</tr>
<tr>
<td>[KATE] I know, but itâ€™s not a good look for a 40-year-old man.</td>
<td></td>
</tr>
<tr>
<td>[KATE] Ooooh! <code>Too much makeup</code>.</td>
<td></td>
</tr>
<tr>
<td>[KATE] Her shoes are cool.</td>
<td></td>
</tr>
<tr>
<td>[KATE] Handbagâ€™s plastic!</td>
<td></td>
</tr>
<tr>
<td>[KATE] Look - too much sun.</td>
<td></td>
</tr>
<tr>
<td>[EMMA] Oh, yeah. Way too much sun. So disgusting.</td>
<td></td>
</tr>
<tr>
<td>[KATE] And â€¦ not enough sun!</td>
<td></td>
</tr>
<tr>
<td>[EMMA] And not enough sun.</td>
<td></td>
</tr>
<tr>
<td>[KATE] Look at him.</td>
<td></td>
</tr>
<tr>
<td>[KATE] Somebody call the fashion police!</td>
<td></td>
</tr>
<tr>
<td>[EMMA] Kate! He can hear you!</td>
<td></td>
</tr>
<tr>
<td>[KATE] Look at his outfit!</td>
<td></td>
</tr>
<tr>
<td>[KATE] Heâ€™s wearing polyester.</td>
<td></td>
</tr>
<tr>
<td>[KATE] Iâ€™m sorry, but that jacketâ€™s too small for him.</td>
<td></td>
</tr>
<tr>
<td>[EMMA] Well, keep it down.</td>
<td></td>
</tr>
<tr>
<td>[EMMA] Not everybody cares much about fashion as you do.</td>
<td></td>
</tr>
</tbody>
</table>
<h2 id="2-Grammar"><a href="#2-Grammar" class="headerlink" title="2. Grammar"></a>2. Grammar</h2><table>
<thead>
<tr>
<th>Too many / Too much</th>
<th>enough</th>
</tr>
</thead>
<tbody>
<tr>
<td>Thatâ€™s <code>too many</code> hats!</td>
<td>I have enough handbags. I donâ€™t need any more.</td>
</tr>
<tr>
<td>Sheâ€™s wearing <code>too much</code> makeup.</td>
<td>I donâ€™t have enough money to buy that dress.</td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr>
<th>way too</th>
<th>far too</th>
</tr>
</thead>
<tbody>
<tr>
<td>That dress looks <code>way too</code> baggy.</td>
<td>sheâ€™s wearing <code>far too</code> many necklaces.</td>
</tr>
</tbody>
</table>
<ul>
<li>A: This plastic handbag is nasty.</li>
<li>B: Come on. Maybe youâ€™re being too critical.</li>
</ul>
<ul>
<li>A: I look terrible!</li>
<li>B: You look fine. Not everybody cares <code>as much about makeup as</code> you do.    </li>
</ul>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[Movies L4 Writing about a movie]]></title>
      <url>http://iequa.com/2016/11/03/ef-l5u5-Movies-l4/</url>
      <content type="html"><![CDATA[<h2 id="1-Vocabulary"><a href="#1-Vocabulary" class="headerlink" title="1. Vocabulary"></a>1. Vocabulary</h2><ul>
<li>sheriff</li>
</ul>
<p><img src="/images/ef-l5u5l4.png" width="460" height="400" img=""></p>
<table>
<thead>
<tr>
<th>Dialog</th>
</tr>
</thead>
<tbody>
<tr>
<td>[IAN] I donâ€™t agree with Kevin.</td>
<td></td>
</tr>
<tr>
<td>[IAN] He thinks that books are better than movies.</td>
<td></td>
</tr>
<tr>
<td>[IAN] I think movies are more fun.</td>
<td></td>
</tr>
<tr>
<td>[IAN] Some actors are amazing.</td>
<td></td>
</tr>
<tr>
<td>[IAN] They donâ€™t have to be famous.</td>
<td></td>
</tr>
<tr>
<td></td>
<td></td>
</tr>
<tr>
<td>[KEVIN] Ian likes westerns.</td>
<td></td>
</tr>
<tr>
<td>[KEVIN] Some westerns are dreadful.</td>
<td></td>
</tr>
<tr>
<td>[KEVIN] The plot and the setting are always the same.</td>
<td></td>
</tr>
<tr>
<td>[KEVIN] The characters are too simple: a good guy and a bad guy.</td>
<td></td>
</tr>
<tr>
<td>[KEVIN] First, thereâ€™s a town.</td>
<td></td>
</tr>
<tr>
<td>[KEVIN] Everybodyâ€™s happy there.</td>
<td></td>
</tr>
<tr>
<td>[KEVIN] Then, the bad guys arrive, and the people arenâ€™t happy anymore.</td>
<td></td>
</tr>
<tr>
<td>[KEVIN] And next, a new sheriff comes to town to help these poor people.</td>
<td></td>
</tr>
<tr>
<td>[KEVIN] And finally, there is a fight in the middle of the town between the new sheriff and the bad people.</td>
<td></td>
</tr>
<tr>
<td>[KEVIN] Guess who wins?</td>
<td></td>
</tr>
<tr>
<td>[KEVIN] Itâ€™s so simple, you know - a good guy and a bad guy, good against evil, saving a girl, always a happy ending.</td>
<td></td>
</tr>
<tr>
<td>[KEVIN] I mean, thatâ€™s just me.</td>
<td></td>
</tr>
<tr>
<td>[KEVIN] I prefer dark stories.</td>
<td></td>
</tr>
</tbody>
</table>
<h2 id="2-Grammar"><a href="#2-Grammar" class="headerlink" title="2. Grammar"></a>2. Grammar</h2><ul>
<li>The special effects were created by 23 people.</li>
<li>The bank manager was shot by the bad guys.</li>
</ul>
<table>
<thead>
<tr>
<th>Dialog</th>
</tr>
</thead>
<tbody>
<tr>
<td>A: Guess what? The producer was fired.</td>
<td></td>
</tr>
<tr>
<td>B: Why?</td>
<td></td>
</tr>
<tr>
<td>A: The actors werenâ€™t paid.</td>
<td></td>
</tr>
<tr>
<td>B: Oh, no! Was a new producer hired?</td>
<td></td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr>
<th>Dialog</th>
</tr>
</thead>
<tbody>
<tr>
<td>TIM: Wow. Amazing. â€˜Shaun of the Dead.â€™ I canâ€™t believe that movie was made with so little money.</td>
<td></td>
</tr>
<tr>
<td>MEGAN: Oh? How much money did they spend  ?</td>
<td></td>
</tr>
<tr>
<td>TIM: $6.1 million. It seemed like it was created for $50 million.</td>
<td></td>
</tr>
<tr>
<td>MEGAN: But $6.1 million is a lot of money!</td>
<td></td>
</tr>
<tr>
<td>TIM: Not really. Most Hollywood films cost, like, $100 million, or more.</td>
<td></td>
</tr>
<tr>
<td>MEGAN: Huh. How did they do it?</td>
<td></td>
</tr>
<tr>
<td>TIM: Well, it was directed by Edgar Wright. Heâ€™s brilliant.</td>
<td></td>
</tr>
<tr>
<td>MEGAN: Yeah?</td>
<td></td>
</tr>
<tr>
<td>TIM: He said they werenâ€™t given much money, and they were told  to spend it carefully. So he was really careful and worked really hard.</td>
<td></td>
</tr>
</tbody>
</table>
<h2 id="3-Reading-amp-Writing"><a href="#3-Reading-amp-Writing" class="headerlink" title="3. Reading &amp; Writing"></a>3. Reading &amp; Writing</h2><p><strong>Moneyball</strong></p>
<p>I donâ€™t like baseball, but â€˜Moneyballâ€™ was a very interesting movie. The story is a little dark. You learn some dreadful things about sports, but â€˜Moneyballâ€™ has a happy ending. â€˜Moneyballâ€™ is about the Oakland Aâ€™s general manager, the famous Billy Beane. Beane wasnâ€™t given much money. He had to get creative. Billy Beane was played by Brad Pitt, and â€˜Moneyballâ€™ was directed by Bennett Miller. I think that actors always do a good job when they work with Bennett Miller.</p>
<p>I just saw â€˜Rear Windowâ€™. What an amazing movie! â€˜Rear Windowâ€™ was made in 1954 and was directed by the famous Alfred Hitchcock. â€˜Rear Windowâ€™ is a dark story, like most Hitchcock movies. L.B. is played by James Stewart. L.B. is a photographer, but his leg is broken. He has to stay home, so he watches his neighbors through their windows. I felt sorry for his poor neighbors!</p>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[Movies L3 Choosing a movie to see]]></title>
      <url>http://iequa.com/2016/11/01/ef-l5u5-Movies-l3/</url>
      <content type="html"><![CDATA[<h2 id="1-Vocabulary"><a href="#1-Vocabulary" class="headerlink" title="1. Vocabulary"></a>1. Vocabulary</h2><ul>
<li>characters</li>
<li>remake</li>
</ul>
<p><img src="/images/ef-l5u5l3.png" width="460" height="400" img=""></p>
<table>
<thead>
<tr>
<th>Dialog</th>
</tr>
</thead>
<tbody>
<tr>
<td>[KEVIN] Whatâ€™s he doing to her?</td>
<td></td>
</tr>
<tr>
<td>[IAN] I think heâ€™s about to shoot her in the head.</td>
<td></td>
</tr>
<tr>
<td>[KEVIN] I canâ€™t believe he did that.</td>
<td></td>
</tr>
<tr>
<td>[KEVIN] Thatâ€™s pretty bad acting, actually.</td>
<td></td>
</tr>
<tr>
<td>[KEVIN] Well, itâ€™s OK.</td>
<td></td>
</tr>
<tr>
<td>[IAN] Itâ€™s in black and white.</td>
<td></td>
</tr>
<tr>
<td>[KEVIN] Why is it in black and white? What year is this movie?</td>
<td></td>
</tr>
<tr>
<td>[IAN] Itâ€™s like 1932.</td>
<td></td>
</tr>
<tr>
<td>[IAN] The <code>special effects</code> arenâ€™t brilliant.</td>
<td></td>
</tr>
<tr>
<td>[IAN] Itâ€™s an old movie, but itâ€™s a good story.</td>
<td></td>
</tr>
<tr>
<td>[IAN] Why the subtitles?</td>
<td></td>
</tr>
<tr>
<td>[IAN] We all speak English here, right?</td>
<td></td>
</tr>
<tr>
<td>[IAN] Oh! Oooh, I like her.</td>
<td></td>
</tr>
<tr>
<td>[IAN] Good actress.</td>
<td></td>
</tr>
<tr>
<td>[KEVIN] You think so?</td>
<td></td>
</tr>
<tr>
<td>[IAN] Itâ€™s a really good story.</td>
<td></td>
</tr>
<tr>
<td>[KEVIN] Itâ€™s not very original.</td>
<td></td>
</tr>
<tr>
<td>[KEVIN] I already know whatâ€™s going to happen.</td>
<td></td>
</tr>
<tr>
<td>[IAN] How do you know?</td>
<td></td>
</tr>
<tr>
<td>[KEVIN] Westerns are always the same.</td>
<td></td>
</tr>
<tr>
<td>[IAN] You saw the remake.</td>
<td></td>
</tr>
<tr>
<td>[IAN] Thatâ€™s how you know.</td>
<td></td>
</tr>
<tr>
<td>[KEVIN] No, I didnâ€™t see the remake.</td>
<td></td>
</tr>
<tr>
<td>[KEVIN] No, I just know how itâ€™s going to end.</td>
<td></td>
</tr>
</tbody>
</table>
<h2 id="2-Grammar"><a href="#2-Grammar" class="headerlink" title="2. Grammar"></a>2. Grammar</h2><table>
<thead>
<tr>
<th>sentence</th>
</tr>
</thead>
<tbody>
<tr>
<td>Beijing is the capital of China.</td>
<td></td>
</tr>
<tr>
<td><strong>Woody Allen directed the movie â€˜Annie Hall.â€™</strong></td>
<td></td>
</tr>
<tr>
<td></td>
<td></td>
</tr>
<tr>
<td>I think that â€˜Annie Hallâ€™ is an incredible film.</td>
<td></td>
</tr>
<tr>
<td>In my opinion, heâ€™s a terrible actor.</td>
<td></td>
</tr>
<tr>
<td></td>
<td></td>
</tr>
<tr>
<td><strong>Which movie do you want to see?</strong></td>
<td></td>
</tr>
<tr>
<td>What about this Tom Hanks movie?</td>
<td></td>
</tr>
<tr>
<td>Whatâ€™s it called?</td>
<td></td>
</tr>
<tr>
<td>Iâ€™ve never heard of it.</td>
<td></td>
</tr>
<tr>
<td></td>
<td></td>
</tr>
<tr>
<td>The movie <strong>is directed</strong> by George Lucas.</td>
<td></td>
</tr>
<tr>
<td>The costumes <strong>are designed</strong> by Virginia Poole.</td>
<td></td>
</tr>
<tr>
<td>The main character <strong>is played</strong> by Bruce Willis.</td>
<td></td>
</tr>
</tbody>
</table>
<h2 id="3-Reading"><a href="#3-Reading" class="headerlink" title="3. Reading"></a>3. Reading</h2><p>â€˜The Artistâ€™ is just like one of those old films. This romance was made in gorgeous black and white and takes place in the 1920s. And, just like the old films, thereâ€™s no talking. There are only a few subtitles. But itâ€™s certainly not a remake of one of the old films from the 1920s. <strong>Remember how some of those old movies had really bad acting</strong>? Well, the acting in â€˜The Artistâ€™ is brilliant, and actor  Berenice Bejo is incredible. This movie also has an original  plot. â€˜The Artistâ€™ shows us what happens when a famous person has really bad luck. I wonâ€™t tell you how it ends - see â€˜The Artistâ€™ for yourself.</p>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[Movies L2 Describing your favorite movie]]></title>
      <url>http://iequa.com/2016/10/30/ef-l5u5-Movies-l2/</url>
      <content type="html"><![CDATA[<h2 id="1-Vocabulary"><a href="#1-Vocabulary" class="headerlink" title="1. Vocabulary"></a>1. Vocabulary</h2><ul>
<li>characters</li>
<li>soundtrack</li>
<li>actor, actress</li>
<li>ridiculous [rÉªâ€™dÉªkjÊŠlÉ™s]</li>
<li>genius</li>
<li>dramas</li>
<li>dull</li>
</ul>
<p><img src="/images/ef-l5u5l2.png" width="460" height="400" img=""></p>
<table>
<thead>
<tr>
<th>Dialog</th>
</tr>
</thead>
<tbody>
<tr>
<td>[FELTON] I donâ€™t agree. You know?</td>
<td></td>
</tr>
<tr>
<td>[FELTON] I think a soundtrack is very important to a movie.</td>
<td></td>
</tr>
<tr>
<td>[FELTON] Soundtracks arenâ€™t boring.</td>
<td></td>
</tr>
<tr>
<td>[FELTON] OK, I agree that not all soundtracks are great.</td>
<td></td>
</tr>
<tr>
<td>[FELTON] But movies like â€˜Supermanâ€™ and â€˜Indiana Jonesâ€™ have some of the best action movie soundtracks of all time.</td>
<td></td>
</tr>
<tr>
<td>[FELTON] I think it was <strong>genius to use classical music</strong> in the science-fiction movie â€˜2001: A Space Odyssey.â€™</td>
<td></td>
</tr>
<tr>
<td>[FELTON] â€˜Love Storyâ€™ has one of the saddest soundtracks of all dramas.</td>
<td></td>
</tr>
<tr>
<td>[IAN] My favorite movies are westerns.</td>
<td></td>
</tr>
<tr>
<td>[IAN] â€¦ the characters are great, and thereâ€™s just never a dull or boring moment.</td>
<td></td>
</tr>
</tbody>
</table>
<h2 id="2-Grammar"><a href="#2-Grammar" class="headerlink" title="2. Grammar"></a>2. Grammar</h2><ul>
<li>â€˜The Birdsâ€™ has one of the most exciting plots Iâ€™ve ever seen.</li>
<li>â€˜Love Storyâ€™ has one of the worst soundtracks ever.</li>
<li>â€˜Emmaâ€™ has some of the best costumes of all time.</li>
<li>Marilyn Monroe is one of the biggest stars of all time.</li>
</ul>
<table>
<thead>
<tr>
<th>Dialog</th>
</tr>
</thead>
<tbody>
<tr>
<td>A: <strong>How did you like it?</strong></td>
<td></td>
</tr>
<tr>
<td>B: I didnâ€™t like it at all!</td>
<td></td>
</tr>
<tr>
<td>A: <strong>Who directed it?</strong></td>
<td></td>
</tr>
<tr>
<td>B: It was directed by Woody Allen.</td>
<td></td>
</tr>
<tr>
<td>A: <strong>Whoâ€™s in it?</strong></td>
<td></td>
</tr>
<tr>
<td>B: It stars Glenda Smith.</td>
<td></td>
</tr>
<tr>
<td>A: <strong>Howâ€™s the acting?</strong></td>
<td></td>
</tr>
<tr>
<td>B: Itâ€™s really good.</td>
<td></td>
</tr>
<tr>
<td>A: <strong>Where does the film take place?</strong></td>
<td></td>
</tr>
<tr>
<td>B: It takes place in Paris in 1952.</td>
<td></td>
</tr>
<tr>
<td>A: <strong>How does it end?</strong></td>
<td></td>
</tr>
<tr>
<td>B: Sheila and Mark get married.</td>
<td></td>
</tr>
</tbody>
</table>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[ç¬¬äºŒç«  å¯¼æ•°ä¸å¾®åˆ†]]></title>
      <url>http://iequa.com/2016/10/28/math-l1p2/</url>
      <content type="html"><![CDATA[<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js"],
    jax: ["input/TeX"],
    tex2jax: {
      inlineMath: [ ['$','$'], ['\\(','\\)'] ],
      displayMath: [ ['$$','$$'], ['\[','\]'] ],
      processEscapes: true
    }
  });
</script>
<script type="text/javascript" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS_HTML,http://myserver.com/MathJax/config/local/local.js">
</script>

<h2 id="1-å¯¼æ•°æ¦‚å¿µ"><a href="#1-å¯¼æ•°æ¦‚å¿µ" class="headerlink" title="1. å¯¼æ•°æ¦‚å¿µ"></a>1. å¯¼æ•°æ¦‚å¿µ</h2><h3 id="1-1-å¯¼æ•°å¼•ä¾‹"><a href="#1-1-å¯¼æ•°å¼•ä¾‹" class="headerlink" title="1.1 å¯¼æ•°å¼•ä¾‹"></a>1.1 å¯¼æ•°å¼•ä¾‹</h3><blockquote>
<p>ç‰©ç†æ„ä¹‰</p>
</blockquote>
<ul>
<li><ol>
<li>ç¬æ—¶é€Ÿåº¦</li>
</ol>
</li>
<li><ol>
<li>åˆ‡çº¿æ–œç‡ </li>
</ol>
</li>
</ul>
<p><img src="/images/math-l1p2-01.png" width="460" height="350" img=""></p>
<h3 id="1-2-å¯¼æ•°çš„å®šä¹‰"><a href="#1-2-å¯¼æ•°çš„å®šä¹‰" class="headerlink" title="1.2 å¯¼æ•°çš„å®šä¹‰"></a>1.2 å¯¼æ•°çš„å®šä¹‰</h3><p><img src="/images/math-l1p2-02.png" alt="concept"></p>
<h2 id="2-å‡½æ•°çš„æ±‚å¯¼æ³•åˆ™"><a href="#2-å‡½æ•°çš„æ±‚å¯¼æ³•åˆ™" class="headerlink" title="2. å‡½æ•°çš„æ±‚å¯¼æ³•åˆ™"></a>2. å‡½æ•°çš„æ±‚å¯¼æ³•åˆ™</h2><h2 id="3-é«˜é˜¶å¯¼æ•°"><a href="#3-é«˜é˜¶å¯¼æ•°" class="headerlink" title="3. é«˜é˜¶å¯¼æ•°"></a>3. é«˜é˜¶å¯¼æ•°</h2><h2 id="4-éšå‡½æ•°åŠç”±å‚æ•°æ–¹ç¨‹æ‰€ç¡®å®šçš„å‡½æ•°çš„å¯¼æ•°"><a href="#4-éšå‡½æ•°åŠç”±å‚æ•°æ–¹ç¨‹æ‰€ç¡®å®šçš„å‡½æ•°çš„å¯¼æ•°" class="headerlink" title="4. éšå‡½æ•°åŠç”±å‚æ•°æ–¹ç¨‹æ‰€ç¡®å®šçš„å‡½æ•°çš„å¯¼æ•°"></a>4. éšå‡½æ•°åŠç”±å‚æ•°æ–¹ç¨‹æ‰€ç¡®å®šçš„å‡½æ•°çš„å¯¼æ•°</h2><h2 id="5-å‡½æ•°çš„å¾®åˆ†"><a href="#5-å‡½æ•°çš„å¾®åˆ†" class="headerlink" title="5. å‡½æ•°çš„å¾®åˆ†"></a>5. å‡½æ•°çš„å¾®åˆ†</h2>]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[Movies L1 Talking about a movie you recently saw]]></title>
      <url>http://iequa.com/2016/10/28/ef-l5u5-Movies-l1/</url>
      <content type="html"><![CDATA[<h2 id="1-Vocabulary"><a href="#1-Vocabulary" class="headerlink" title="1. Vocabulary"></a>1. Vocabulary</h2><ul>
<li>horror</li>
<li>science fiction</li>
<li>romance</li>
<li>documentary</li>
<li>comedy</li>
<li>thriller</li>
<li>action</li>
<li>bioengineering</li>
<li>soundtrack</li>
</ul>
<p><img src="/images/ef-l5u5l1.png" width="460" height="400" img=""></p>
<table>
<thead>
<tr>
<th>Dialog</th>
</tr>
</thead>
<tbody>
<tr>
<td>[IAN] Let me introduce you to â€¦ Kevin.</td>
<td></td>
</tr>
<tr>
<td>[IAN] Student.</td>
<td></td>
</tr>
<tr>
<td>[IAN] Popular with the ladies.</td>
<td></td>
</tr>
<tr>
<td>[IAN] So, tell our <strong>viewers</strong>, why are you studying <strong>bioengineering</strong>?</td>
<td></td>
</tr>
<tr>
<td>[KEVIN] Well, Iâ€™ve always liked it, so <strong>thatâ€™s why I decided to study bioengineering</strong>.</td>
<td></td>
</tr>
<tr>
<td>[IAN] What are you reading ?</td>
<td></td>
</tr>
<tr>
<td>[IAN] I know the movies â€¦ So tell our viewers â€¦</td>
<td></td>
</tr>
<tr>
<td>[IAN] What did you think about the movies?</td>
<td></td>
</tr>
<tr>
<td>[KEVIN] Well, I hated the last one.</td>
<td></td>
</tr>
<tr>
<td>[KEVIN] The book is good, but the movie is like an action movie. Itâ€™s terrible.</td>
<td></td>
</tr>
<tr>
<td>[KEVIN] The first one is the best.</td>
<td></td>
</tr>
<tr>
<td>[KEVIN] Itâ€™s even <strong>a bit scary</strong>.</td>
<td></td>
</tr>
<tr>
<td>[IAN] So itâ€™s a horror movie.</td>
<td></td>
</tr>
<tr>
<td>[KEVIN] No, I feel itâ€™s not really a horror movie.</td>
<td></td>
</tr>
<tr>
<td>[KEVIN] I think itâ€™s more of a thriller. [â€˜Î¸rÉªlÉ™]</td>
<td></td>
</tr>
<tr>
<td>[IAN] So no happy ending.</td>
<td></td>
</tr>
<tr>
<td>[IAN] And <code>what do we have here?</code></td>
<td></td>
</tr>
<tr>
<td>[IAN] No girls, no life, and heâ€™s an Econ major.</td>
<td></td>
</tr>
<tr>
<td>[FELTON] No hobbies?</td>
<td></td>
</tr>
<tr>
<td>[FELTON] I like music.</td>
<td></td>
</tr>
<tr>
<td>[IAN] Wow, thatâ€™s really interesting, Felton â€¦ the Third.</td>
<td></td>
</tr>
<tr>
<td>[FELTON] I also like movies, especially the soundtrack.</td>
<td></td>
</tr>
<tr>
<td>[IAN] Well, thanks for joining us.</td>
<td></td>
</tr>
</tbody>
</table>
<blockquote>
<p>Iâ€™m in economics major</p>
</blockquote>
<h2 id="2-Expressions"><a href="#2-Expressions" class="headerlink" title="2. Expressions"></a>2. Expressions</h2><table>
<thead>
<tr>
<th>Dialog</th>
</tr>
</thead>
<tbody>
<tr>
<td>JENNY: I just saw another Joseph Fiennes movie.</td>
<td></td>
</tr>
<tr>
<td>LUCAS: Which one  ? Is it an action movie?</td>
<td></td>
</tr>
<tr>
<td>JENNY: Uh, â€˜Shakespeare in Love.â€™ Itâ€™s a romantic comedy. But <strong>I think that thereâ€™s some good history in it</strong>, too. Itâ€™s funny because Shakespeare canâ€™t think of any good ideas. I thought it was quite entertaining.</td>
<td></td>
</tr>
<tr>
<td>LUCAS: Me, too. I donâ€™t usually like romances, but <strong>thatâ€™s one of my favorite movies. Itâ€™s an old one.</strong></td>
<td></td>
</tr>
<tr>
<td>JENNY: Yeah, itâ€™s quite old, but itâ€™s still good.</td>
<td></td>
</tr>
<tr>
<td>LUCAS: Mm-hmm. Did you watch it with your kids?</td>
<td></td>
</tr>
<tr>
<td>JENNY: No, but <strong>I think I could show this one to my kids.</strong></td>
<td></td>
</tr>
</tbody>
</table>
<blockquote>
<p>I thought that they did a fantastic job.</p>
</blockquote>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[Shortest Path]]></title>
      <url>http://iequa.com/2016/10/27/ds-sp/</url>
      <content type="html"><![CDATA[<h2 id="1-dijstra"><a href="#1-dijstra" class="headerlink" title="1. dijstra"></a>1. dijstra</h2><figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="keyword">int</span> data[M][M]; <span class="comment">// init INF</span></span><br><span class="line"><span class="keyword">int</span> lowc[M];</span><br><span class="line"><span class="keyword">int</span> vis[M];</span><br><span class="line"><span class="keyword">int</span> n, m;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">djst</span><span class="params">(<span class="keyword">int</span> p)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">int</span> i, j;</span><br><span class="line">    <span class="keyword">for</span>(i = <span class="number">1</span>; i &lt;= n; i++) &#123;</span><br><span class="line">        vis[i] = <span class="number">0</span>;</span><br><span class="line">        lowc[i] = data[p][i];</span><br><span class="line">    &#125;</span><br><span class="line">    vis[p] = <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">for</span>(i = <span class="number">1</span>; i &lt;= n<span class="number">-1</span>; i++) &#123;</span><br><span class="line">        <span class="keyword">int</span> minc = INF, c = <span class="number">0</span>, lk;</span><br><span class="line">        <span class="keyword">for</span>(j = <span class="number">1</span>; j &lt;= n; j++) &#123;</span><br><span class="line">            <span class="keyword">if</span>(vis[j] == <span class="number">0</span> &amp;&amp; lowc[j] &lt; minc) &#123;</span><br><span class="line">                minc = lowc[j];</span><br><span class="line">                c = j;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span>(c == <span class="number">1</span>) <span class="keyword">break</span>;</span><br><span class="line">        vis[c] = <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">for</span>(j = <span class="number">1</span>; j &lt;= n; j++) &#123;</span><br><span class="line">            <span class="keyword">if</span>(vis[j] == <span class="number">0</span> &amp;&amp; data[c][j] + minc &gt; <span class="number">0</span> &amp;&amp; data[c][j] + minc &lt; lowc[j]) &#123;</span><br><span class="line">                lowc[j] = data[c][j] + minc;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt; lowc[<span class="number">1</span>] &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="2-Bellman"><a href="#2-Bellman" class="headerlink" title="2. Bellman"></a>2. Bellman</h2><figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">define</span> INF ((long long)(1))&lt;&lt;62</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> N 301</span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="keyword">struct</span> edge&#123;</span><br><span class="line">   <span class="keyword">int</span> u;</span><br><span class="line">   <span class="keyword">int</span> v;</span><br><span class="line">   <span class="keyword">long</span> <span class="keyword">long</span> w; <span class="comment">// æ³¨æ„</span></span><br><span class="line">&#125;e[N*N];</span><br><span class="line"><span class="keyword">int</span> m, n;</span><br><span class="line"><span class="keyword">long</span> <span class="keyword">long</span> d[<span class="number">1005</span>];</span><br><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">bellman_ford</span><span class="params">(<span class="keyword">int</span> s, <span class="keyword">int</span> di)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">int</span> i, j;</span><br><span class="line">     <span class="keyword">for</span>(i = <span class="number">1</span>; i &lt; n; i++) &#123;</span><br><span class="line">        d[i] = INF;</span><br><span class="line">     &#125;</span><br><span class="line">     d[s] = <span class="number">0</span>;</span><br><span class="line">     <span class="keyword">for</span>(i = <span class="number">1</span>; i &lt;= n<span class="number">-1</span>; i++) &#123;</span><br><span class="line">        <span class="keyword">for</span>(j = <span class="number">1</span>; j &lt;= m; j++) &#123;</span><br><span class="line">            <span class="keyword">if</span>(d[e[j].u] != INF &amp;&amp; d[e[j].u]+e[j].w &lt; d[e[j].v])    <span class="comment">// å¯¹è¾¹è¿›è¡Œæ“ä½œ ã€æ¾å¼›</span></span><br><span class="line">                d[e[j].v] = d[e[j].u] + e[j].w;</span><br><span class="line">        &#125;</span><br><span class="line">     &#125;</span><br><span class="line">     <span class="keyword">for</span>(j = <span class="number">1</span>; j &lt;= m; j++) &#123;</span><br><span class="line">        <span class="keyword">if</span>(d[e[j].u] != INF &amp;&amp; (d[e[j].v] &gt; d[e[j].u]+e[j].w))    <span class="comment">// å¾ˆç†è§£</span></span><br><span class="line">            d[e[j].v] = -INF;</span><br><span class="line">     &#125;</span><br><span class="line">     <span class="keyword">if</span>(d[di] == INF || d[di] == -INF) <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">     <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="3-Floyd"><a href="#3-Floyd" class="headerlink" title="3. Floyd"></a>3. Floyd</h2><h2 id="4-SPFA"><a href="#4-SPFA" class="headerlink" title="4. SPFA"></a>4. SPFA</h2><figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> INF = <span class="number">0x7fffffff</span>;</span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> N = <span class="number">5501</span>;</span><br><span class="line"><span class="keyword">struct</span> edge &#123;</span><br><span class="line">    <span class="keyword">int</span> to;</span><br><span class="line">    <span class="keyword">int</span> w;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="built_in">vector</span>&lt;edge&gt; p[N]; <span class="comment">// vector å®ç°é‚»æ¥è¡¨</span></span><br><span class="line"><span class="keyword">int</span> d[N];</span><br><span class="line"><span class="keyword">bool</span> inque[N];     <span class="comment">// è®°å½•é¡¶ç‚¹æ˜¯å¦åœ¨é˜Ÿåˆ—ä¸­ï¼ŒSPFAç®—æ³•å¯ä»¥å…¥é˜Ÿåˆ—å¤šæ¬¡</span></span><br><span class="line"><span class="keyword">int</span> cnt[N];        <span class="comment">// è®°å½•é¡¶ç‚¹å…¥é˜Ÿçš„æ¬¡æ•°</span></span><br><span class="line"><span class="keyword">int</span> n, m, q;</span><br><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">SPFA</span><span class="params">(<span class="keyword">int</span> s)</span> </span>&#123;</span><br><span class="line">    <span class="built_in">queue</span>&lt;<span class="keyword">int</span>&gt; Q;</span><br><span class="line">    <span class="keyword">while</span>(!Q.empty()) Q.pop();</span><br><span class="line">    <span class="keyword">int</span> i;</span><br><span class="line">    <span class="keyword">for</span>(i = <span class="number">0</span>; i &lt;= n; i++) &#123;</span><br><span class="line">        d[i] = INF;</span><br><span class="line">    &#125;</span><br><span class="line">    d[s] = <span class="number">0</span>;      <span class="comment">// æºç‚¹çš„è·ç¦»ä¸º 0</span></span><br><span class="line">    <span class="built_in">memset</span>(inque, <span class="number">0</span>, <span class="keyword">sizeof</span>(inque));</span><br><span class="line">    <span class="built_in">memset</span>(cnt, <span class="number">0</span>, <span class="keyword">sizeof</span>(cnt));</span><br><span class="line">    Q.push(s);</span><br><span class="line">    inque[s] = <span class="literal">true</span>;</span><br><span class="line">    cnt[s]++;      <span class="comment">// æºç‚¹å…¥é˜Ÿåˆ—çš„æ¬¡æ•°å¢åŠ </span></span><br><span class="line">    <span class="keyword">while</span>(!Q.empty()) &#123;</span><br><span class="line">        <span class="keyword">int</span> t = Q.front();</span><br><span class="line">        Q.pop();</span><br><span class="line">        inque[t] = <span class="literal">false</span>;</span><br><span class="line">        <span class="keyword">for</span>(i = <span class="number">0</span>; i &lt; p[t].size(); i++) &#123;</span><br><span class="line">            <span class="keyword">int</span> to = p[t][i].to;</span><br><span class="line">            <span class="keyword">if</span>(d[t] &lt; INF &amp;&amp; d[to] &gt; d[t] + p[t][i].w) &#123;</span><br><span class="line">                d[to] = d[t] + p[t][i].w;</span><br><span class="line">                cnt[to]++;</span><br><span class="line">                <span class="keyword">if</span>(cnt[to] &gt;= n) &#123;  <span class="comment">//å½“ä¸€ä¸ªç‚¹å…¥é˜Ÿçš„æ¬¡æ•°&gt;=næ—¶å°±è¯æ˜å‡ºç°äº†è´Ÿç¯</span></span><br><span class="line">                    <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">if</span>(!inque[to]) &#123;</span><br><span class="line">                    Q.push(to);</span><br><span class="line">                    inque[to] = <span class="literal">true</span>;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[Sort algorithms]]></title>
      <url>http://iequa.com/2016/10/27/ds-sort/</url>
      <content type="html"><![CDATA[<blockquote>
<p>input ï¼š 8, 5, 4, 9, 2, 3, 6</p>
</blockquote>
<h2 id="1-heapSort"><a href="#1-heapSort" class="headerlink" title="1. heapSort"></a>1. heapSort</h2><figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">heapify</span><span class="params">(<span class="keyword">int</span> a[], <span class="keyword">int</span> i, <span class="keyword">int</span> size)</span> </span>&#123; <span class="comment">// å †åŒ–çš„ç»´æŒéœ€è¦ç”¨é€’å½’</span></span><br><span class="line">    <span class="keyword">int</span> ls = <span class="number">2</span>*i, rs = <span class="number">2</span>*i + <span class="number">1</span>; </span><br><span class="line">    <span class="keyword">int</span> large = i;</span><br><span class="line">    <span class="keyword">if</span>(ls &lt;= size &amp;&amp; a[ls] &gt; a[i]) &#123;</span><br><span class="line">        large = ls; </span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span>(rs &lt;= size &amp;&amp; a[rs] &gt; a[large]) &#123;</span><br><span class="line">        large = rs; </span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span>(large != i) &#123;</span><br><span class="line">        swap(a[i], a[large]);</span><br><span class="line">        heapify(a, large, size);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">buildHeap</span><span class="params">(<span class="keyword">int</span> a[], <span class="keyword">int</span> size)</span> </span>&#123; </span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i = size/<span class="number">2</span>; i &gt;= <span class="number">1</span>; i--) &#123;</span><br><span class="line">        heapify(a, i, size);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">heapSort</span><span class="params">(<span class="keyword">int</span> a[], <span class="keyword">int</span> size)</span> </span>&#123;</span><br><span class="line">    buildHeap(a, size);</span><br><span class="line">    <span class="keyword">int</span> len = size;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i = len; i &gt;= <span class="number">2</span>; i--) &#123;</span><br><span class="line">        swap(a[i], a[<span class="number">1</span>]);</span><br><span class="line">        len--;</span><br><span class="line">        heapify(a, <span class="number">1</span>, len); </span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="2-quickSort"><a href="#2-quickSort" class="headerlink" title="2. quickSort"></a>2. quickSort</h2><figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">quickSort</span><span class="params">(<span class="keyword">int</span> a[], <span class="keyword">int</span> left, <span class="keyword">int</span> right)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(left &lt; right) &#123; <span class="comment">// exit. good idea!</span></span><br><span class="line">        <span class="keyword">int</span> l = left, r = right, x = a[l];</span><br><span class="line">        <span class="keyword">while</span>(<span class="number">1</span>) &#123;</span><br><span class="line">            <span class="keyword">while</span>(l &lt; r &amp;&amp; a[r] &gt;= x) r--;</span><br><span class="line">            <span class="keyword">while</span>(l &lt; r &amp;&amp; a[l] &lt;= x) l++;</span><br><span class="line">            <span class="keyword">if</span>(l &gt;= r) <span class="keyword">break</span>;</span><br><span class="line">            swap(a[r], a[l]);</span><br><span class="line">        &#125;</span><br><span class="line">        swap(a[left], a[l]);</span><br><span class="line">        quickSort(a, left, l<span class="number">-1</span>);</span><br><span class="line">        quickSort(a, l+<span class="number">1</span>, right);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="3-mergeSort"><a href="#3-mergeSort" class="headerlink" title="3. mergeSort"></a>3. mergeSort</h2><figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">mergeSort</span><span class="params">(<span class="keyword">int</span> a[], <span class="keyword">int</span> l, <span class="keyword">int</span> r)</span> </span>&#123; <span class="comment">//  8, 5, 4, 9, 2, 3, 6</span></span><br><span class="line">    <span class="keyword">if</span>(l &gt;= r) <span class="keyword">return</span>;   <span class="comment">// exit.</span></span><br><span class="line">    <span class="keyword">int</span> mid = (l+r) / <span class="number">2</span>; <span class="comment">// overflow  &lt;-&gt;  l + (r-l)/2</span></span><br><span class="line">    mergeSort(a, l, mid);</span><br><span class="line">    mergeSort(a, mid+<span class="number">1</span>, r);  </span><br><span class="line">    <span class="keyword">int</span> *arr = <span class="keyword">new</span> <span class="keyword">int</span>[r-l+<span class="number">1</span>];  </span><br><span class="line">    <span class="keyword">int</span> k = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">int</span> i = l, j = mid + <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">while</span>(i &lt;= mid &amp;&amp; j &lt;= r) &#123;  </span><br><span class="line">        <span class="keyword">if</span>(a[i] &lt;= a[j]) &#123;</span><br><span class="line">            arr[k++] = a[i++]; </span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span> &#123;</span><br><span class="line">            arr[k++] = a[j++]; <span class="comment">// ans += (mid-i+1);  </span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">while</span>(i &lt;= mid) arr[k++] = a[i++];</span><br><span class="line">    <span class="keyword">while</span>(j &lt;= r) arr[k++] = a[j++];</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i = l; i &lt;= r; i++) &#123;</span><br><span class="line">        a[i] = arr[i-l];</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">delete</span> []arr;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="4-insertSort"><a href="#4-insertSort" class="headerlink" title="4. insertSort"></a>4. insertSort</h2><figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">insertSort</span><span class="params">(<span class="keyword">int</span> a[], <span class="keyword">int</span> len)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">int</span> j;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">1</span>; i &lt; len; i++) &#123;<span class="comment">// æ–°æŠ“çš„æ¯å¼ æ‰‘å…‹ç‰Œ  </span></span><br><span class="line">        <span class="keyword">int</span> temp = a[i];</span><br><span class="line">        <span class="keyword">for</span>(j = i<span class="number">-1</span>; a[j] &gt; temp &amp;&amp; j &gt;= <span class="number">0</span>; j--) &#123;  </span><br><span class="line">            a[j+<span class="number">1</span>] = a[j];</span><br><span class="line">        &#125;</span><br><span class="line">        a[j+<span class="number">1</span>] = temp;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="5-bubbleSort"><a href="#5-bubbleSort" class="headerlink" title="5. bubbleSort"></a>5. bubbleSort</h2><figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">bubbleSort</span><span class="params">(<span class="keyword">int</span> a[], <span class="keyword">int</span> len)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">1</span>; i &lt; len; i++) &#123;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; len-i; j++) &#123;</span><br><span class="line">            <span class="keyword">if</span>(a[j] &gt; a[j+<span class="number">1</span>]) swap(a[j], a[j+<span class="number">1</span>]);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="6-selectSort"><a href="#6-selectSort" class="headerlink" title="6. selectSort"></a>6. selectSort</h2><figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">selectSort</span><span class="params">(<span class="keyword">int</span> a[], <span class="keyword">int</span> len)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">int</span> i, j, k;</span><br><span class="line">    <span class="keyword">for</span>(i = <span class="number">0</span>; i &lt; len<span class="number">-1</span>; i++) &#123;  </span><br><span class="line">        k = i;  </span><br><span class="line">        <span class="keyword">for</span>(j = i+<span class="number">1</span>; j &lt; len; j++) &#123;  </span><br><span class="line">            <span class="keyword">if</span>(a[j] &lt; a[k]) k = j;  </span><br><span class="line">        &#125;  </span><br><span class="line">        swap(a[i], a[k]);  <span class="comment">// å°†ç¬¬iä½å°çš„æ•°æ”¾å…¥iä½ç½®  </span></span><br><span class="line">    &#125;  </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[Minimum Spanning Tree]]></title>
      <url>http://iequa.com/2016/10/27/ds-mst/</url>
      <content type="html"><![CDATA[<h2 id="1-prim"><a href="#1-prim" class="headerlink" title="1. prim"></a>1. prim</h2><blockquote>
<p><a href="http://acm.hdu.edu.cn/showproblem.php?pid=1233" target="_blank" rel="external">http://acm.hdu.edu.cn/showproblem.php?pid=1233</a></p>
</blockquote>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstdio&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstring&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> INF = <span class="number">0x7fffffff</span>; <span class="comment">// max int value</span></span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> N = <span class="number">101</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span> <span class="built_in">map</span>[N][N];</span><br><span class="line"><span class="keyword">int</span> dis[N];</span><br><span class="line"><span class="keyword">bool</span> vis[N];</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">prim</span><span class="params">(<span class="keyword">int</span> n)</span> </span>&#123;</span><br><span class="line">    <span class="built_in">memset</span>(vis, <span class="literal">false</span>, <span class="keyword">sizeof</span>(vis));</span><br><span class="line">    <span class="built_in">memset</span>(dis, <span class="number">0</span>, <span class="keyword">sizeof</span>(dis));</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= n; i++) &#123;</span><br><span class="line">        <span class="keyword">if</span>(<span class="built_in">map</span>[<span class="number">1</span>][i] != <span class="number">-1</span>) &#123;</span><br><span class="line">            dis[i] = <span class="built_in">map</span>[<span class="number">1</span>][i];</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span> dis[i] = INF;</span><br><span class="line">    &#125;</span><br><span class="line">    vis[<span class="number">1</span>] = <span class="literal">true</span>;</span><br><span class="line">    <span class="keyword">int</span> sum = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= n<span class="number">-1</span>; i++) &#123;</span><br><span class="line">        <span class="keyword">int</span> minv = INF, c = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> j = <span class="number">1</span>; j &lt;= n; j++) &#123;</span><br><span class="line">            <span class="keyword">if</span>(!vis[j] &amp;&amp; dis[j] &lt; minv) &#123;</span><br><span class="line">                minv = dis[j];</span><br><span class="line">                c = j;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        vis[c] = <span class="literal">true</span>;</span><br><span class="line">        sum += minv;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> j = <span class="number">1</span>; j &lt;= n; j++) &#123;</span><br><span class="line">            <span class="keyword">if</span>(!vis[j] &amp;&amp; <span class="built_in">map</span>[c][j] != <span class="number">-1</span> &amp;&amp;  <span class="built_in">map</span>[c][j] &lt; dis[j]) &#123;</span><br><span class="line">                dis[j] = <span class="built_in">map</span>[c][j];</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> sum;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">int</span> n, m;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">while</span>(<span class="number">1</span> == <span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;n) &amp;&amp; n != <span class="number">0</span>) &#123;</span><br><span class="line">        <span class="built_in">memset</span>(<span class="built_in">map</span>, <span class="number">255</span>, <span class="keyword">sizeof</span>(<span class="built_in">map</span>));</span><br><span class="line">        <span class="keyword">int</span> a, b, c;</span><br><span class="line">        m = (n * (n<span class="number">-1</span>)) / <span class="number">2</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; m; i++) &#123;</span><br><span class="line">            <span class="built_in">scanf</span>(<span class="string">"%d%d%d"</span>, &amp;a, &amp;b, &amp;c);</span><br><span class="line">            <span class="built_in">map</span>[a][b] = <span class="built_in">map</span>[b][a] = c;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"%d\n"</span>, prim(n));</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="2-kruskal"><a href="#2-kruskal" class="headerlink" title="2. kruskal"></a>2. kruskal</h2><figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="keyword">int</span> pre[N];</span><br><span class="line"><span class="keyword">int</span> n, m;</span><br><span class="line"><span class="keyword">struct</span> Edge &#123;</span><br><span class="line">    <span class="keyword">int</span> u, v;</span><br><span class="line">    <span class="keyword">int</span> w;</span><br><span class="line">&#125;e[N];</span><br><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">cmp</span><span class="params">(<span class="keyword">const</span> Edge a, <span class="keyword">const</span> Edge b)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> a.w &lt; b.w;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">make_set</span><span class="params">(<span class="keyword">int</span> n)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt;= n; i++)</span><br><span class="line">        pre[i] = i;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">find_set</span><span class="params">(<span class="keyword">int</span> a)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(pre[a] == a) <span class="keyword">return</span> a;</span><br><span class="line">    <span class="keyword">return</span> pre[a] = find_set(pre[a]);</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">kruskal</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="keyword">int</span> sum = <span class="number">0</span>;</span><br><span class="line">    sort(e, e + m, cmp);</span><br><span class="line">    make_set(n);</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>, fu, fv, cnt_e; i &lt; m; i++) &#123;</span><br><span class="line">        fu = find_set(e[i].u);</span><br><span class="line">        fv = find_set(e[i].v);</span><br><span class="line">        <span class="keyword">if</span> (fu != fv) &#123;</span><br><span class="line">            sum += e[i].w;</span><br><span class="line">            cnt_e++;</span><br><span class="line">            <span class="keyword">if</span> (cnt_e == n<span class="number">-1</span>) <span class="keyword">break</span>;</span><br><span class="line">            pre[fv] = fu;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt; sum &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[Going to a restaurant L4 Asking for the check and paying the bill]]></title>
      <url>http://iequa.com/2016/10/27/ef-l5u4-going-to-a-restaurant-l4/</url>
      <content type="html"><![CDATA[<h2 id="1-Vocabulary"><a href="#1-Vocabulary" class="headerlink" title="1. Vocabulary"></a>1. Vocabulary</h2><ul>
<li>check</li>
<li>tip</li>
<li>percent</li>
<li>Serene Grill</li>
<li>appetizers</li>
<li>shrimp cocktail</li>
<li>oysters</li>
<li>authentic</li>
<li>strawberries [â€˜strÉ”bÉ›riz]</li>
<li>entrees</li>
</ul>
<p><img src="/images/ef-l5u4l4.png" width="460" height="400" img=""></p>
<table>
<thead>
<tr>
<th>Dialog</th>
</tr>
</thead>
<tbody>
<tr>
<td>[WAITRESS] Would you care for a dessert or coffee?</td>
<td></td>
</tr>
<tr>
<td>[PAM] No, just the check, please. Oh, and <strong>could I take the rest of my steak to go?</strong></td>
<td></td>
</tr>
<tr>
<td>[WAITRESS] Of course. Was everything okay?</td>
<td></td>
</tr>
<tr>
<td>[PAM] Yes. The steak was delicious. It was just too big.</td>
<td></td>
</tr>
<tr>
<td>[WAITRESS] Here you go.</td>
<td></td>
</tr>
<tr>
<td>[PAM] Thanks.</td>
<td></td>
</tr>
<tr>
<td>[PAM] <strong>Tell you what - Iâ€™ll pay for the meal, if you leave the tip.</strong></td>
<td></td>
</tr>
<tr>
<td>[SALLY] Are you sure?</td>
<td></td>
</tr>
<tr>
<td>[PAM] Of course.</td>
<td></td>
</tr>
<tr>
<td>[SALLY] Okay. Thanks!</td>
<td></td>
</tr>
<tr>
<td>[SALLY] <strong>How much should I leave for the tip?</strong></td>
<td></td>
</tr>
<tr>
<td>[PAM] Um, I usually leave between 15 and 20 percent.</td>
<td></td>
</tr>
<tr>
<td>[SALLY] This meal was really good. I think Iâ€™ll leave 20.</td>
<td></td>
</tr>
<tr>
<td>[WAITRESS] Thank you very much.</td>
<td></td>
</tr>
</tbody>
</table>
<hr>
<table>
<thead>
<tr>
<th>Taking food home</th>
</tr>
</thead>
<tbody>
<tr>
<td>Waiter: Would you like to take that home with you?</td>
<td></td>
</tr>
<tr>
<td>Customer: Iâ€™d like the rest of my steak to go.</td>
<td></td>
</tr>
<tr>
<td>Waiter: No problem. Iâ€™ll bring it back in just a minute.</td>
<td></td>
</tr>
</tbody>
</table>
<h2 id="2-Reading"><a href="#2-Reading" class="headerlink" title="2. Reading"></a>2. Reading</h2><p><strong>Restaurant review</strong></p>
<p><code>Serene Grill</code></p>
<p>by Carey Smith</p>
<p>Serene Grill is a great choice for dinner. Their specialty is steak, but they serve many other excellent entrees like roasted chicken and <code>grilled salmon</code>. My favorite is the salmon. There is also a great selection of <code>appetizers</code>. The <code>shrimp cocktail</code> is very popular, and the restaurant is famous for its fresh oysters. The desserts are delicious and authentic. You can choose from apple pie with vanilla ice cream to chocolate cake with fresh strawberries. Prices are reasonable, and the servers are friendly. Outdoor seating is available in the summer, and parking is free before 9 p.m.</p>
<p><strong>Writing</strong></p>
<p>The Great Wall is my favorite restaurant. They serve authentic Chinese food. They have many different appetizer and entrees. the spicy beef entree is delicious.most entrees are between $10 and $15. The restaurant is very busy on the weekends, so make a reservation. The restaurant is noisy, but all the servers are friendly and everybody has fun.Desserts are not their specialty.</p>
<h2 id="3-Expressions"><a href="#3-Expressions" class="headerlink" title="3. Expressions"></a>3. Expressions</h2><p>Could I have the bill, please?<br>Weâ€™re ready for our check.<br>Do you take credit cards?  </p>
<p>A: Did you leave a tip?<br>B: I left 20 percent. Everything was excellent!</p>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[Going to a restaurant L3 Ordering food in a restaurant]]></title>
      <url>http://iequa.com/2016/10/26/ef-l5u4-going-to-a-restaurant-l3/</url>
      <content type="html"><![CDATA[<h2 id="1-Vocabulary"><a href="#1-Vocabulary" class="headerlink" title="1. Vocabulary"></a>1. Vocabulary</h2><ul>
<li>chefâ€™s salad</li>
<li>sour cream on the side</li>
<li>a glass of iced tea</li>
<li>wild salmon</li>
<li>french fries</li>
<li>steak and baked potato</li>
<li>blue cheese dressing</li>
<li>tiramisu                          </li>
<li>chocolate mousse</li>
<li>lemon sorbet  </li>
</ul>
<p><img src="/images/ef-l5u4l3.png" width="460" height="400" img=""></p>
<table>
<thead>
<tr>
<th>Dialog</th>
</tr>
</thead>
<tbody>
<tr>
<td>[PAM] The <strong>sirloin steak</strong> sounds really good.</td>
<td></td>
</tr>
<tr>
<td>[SALLY] Iâ€™m more interested in the salmon.</td>
<td></td>
</tr>
<tr>
<td>[WAITRESS] Are you ready to order?</td>
<td></td>
</tr>
<tr>
<td>[PAM] Umm, yes, I think so. Iâ€™ll have the sirloin steak, please.</td>
<td></td>
</tr>
<tr>
<td>[WAITRESS] Very good. And how would you like your steak?</td>
<td></td>
</tr>
<tr>
<td>[PAM] Medium rare, please.</td>
<td></td>
</tr>
<tr>
<td>[WAITRESS] Okay. And would you like a <strong>baked potato</strong> or french fries with that?</td>
<td></td>
</tr>
<tr>
<td>[PAM] A baked potato, please. And Iâ€™d like a little sour cream on the side.</td>
<td></td>
</tr>
<tr>
<td>[WAITRESS] Sure. And would you like something to drink?</td>
<td></td>
</tr>
<tr>
<td>[PAM] Yes. Iâ€™ll have a glass of iced tea.</td>
<td></td>
</tr>
<tr>
<td>[WAITRESS] Very good.</td>
<td></td>
</tr>
<tr>
<td>[SALLY] Iâ€™ll have the <code>chefâ€™s salad</code> to start. And then Iâ€™ll have the <strong>wild salmon</strong> with <strong>lemon</strong> and <strong>butter</strong>.</td>
<td></td>
</tr>
<tr>
<td>[WAITRESS] Okay. <strong>What kind of dressing</strong> would you like with your salad?</td>
<td></td>
</tr>
<tr>
<td>[SALLY] Blue cheese, please. And could I have that on the side?</td>
<td></td>
</tr>
<tr>
<td>[WAITRESS] Of course. Anything to drink?</td>
<td></td>
</tr>
<tr>
<td>[SALLY] Uh, Iâ€™ll also have a glass of iced tea.</td>
<td></td>
</tr>
<tr>
<td>[WAITRESS] Excellent. <strong>Iâ€™ll be right back with your tea.</strong></td>
<td></td>
</tr>
</tbody>
</table>
<h2 id="2-Grammar"><a href="#2-Grammar" class="headerlink" title="2. Grammar"></a>2. Grammar</h2><ul>
<li>A: Would you like a <strong>starter</strong>?</li>
<li>B: The <strong>cheese appetizer</strong> sounds really good. </li>
</ul>
<ul>
<li>A: Have you decided on your <strong>main course</strong>?</li>
<li>B: Does the <strong>chicken entree</strong> <strong>come with</strong> rice?</li>
</ul>
<ul>
<li>The steak is <strong>served with</strong> mashed potatoes and peas.</li>
<li>The fish <strong>comes with</strong> rice and beans. </li>
</ul>
<ul>
<li>Letâ€™s get some extra side dishes for everybody at the table.</li>
</ul>
<h2 id="3-Sentence"><a href="#3-Sentence" class="headerlink" title="3. Sentence"></a>3. Sentence</h2><table>
<thead>
<tr>
<th>Dialog</th>
</tr>
</thead>
<tbody>
<tr>
<td>For dessert, thereâ€™s tiramisu or lemon sorbet</td>
<td></td>
</tr>
<tr>
<td>The chicken is served with ice and green beans</td>
<td></td>
</tr>
<tr>
<td>The salad has a choice of three dressings</td>
<td></td>
</tr>
<tr>
<td>DO you want an appetizer or just a main course?</td>
<td></td>
</tr>
<tr>
<td>Letâ€™s get some extra side dishes for everyone</td>
<td></td>
</tr>
<tr>
<td>The apple pie comes with vanila ice cream.</td>
<td></td>
</tr>
</tbody>
</table>
<p><strong>You can use a lot of with both countable and uncountable nouns</strong></p>
<ul>
<li>The garden salad has a lot of tomatoes.</li>
<li>Is there a lot of bacon in the soup? </li>
</ul>
<p><strong>Use a few with countable nouns</strong></p>
<ul>
<li>I can only eat a few oysters.</li>
</ul>
<p><strong>Use how many to ask about the amount of a countable noun.</strong></p>
<ul>
<li>How much bread would you like?</li>
</ul>
<p><strong>Use a little with uncountable nouns</strong></p>
<h2 id="4-Expressions"><a href="#4-Expressions" class="headerlink" title="4. Expressions"></a>4. Expressions</h2><table>
<thead>
<tr>
<th>Dialog</th>
</tr>
</thead>
<tbody>
<tr>
<td>WAITER: What can I get you ?</td>
<td></td>
</tr>
<tr>
<td>CUSTOMER: Um, could I have the Caesar salad to start?</td>
<td></td>
</tr>
<tr>
<td>WAITER: Certainly. And for your main course?</td>
<td></td>
</tr>
<tr>
<td>CUSTOMER: Does the chicken come with  any vegetables?</td>
<td></td>
</tr>
<tr>
<td>WAITER: Yes, it does. It comes with peas and carrots.</td>
<td></td>
</tr>
<tr>
<td>CUSTOMER: Great. Iâ€™ll have  the chicken, please.</td>
<td></td>
</tr>
<tr>
<td>WAITER: Would you like french fries or a baked potato with that?</td>
<td></td>
</tr>
<tr>
<td>CUSTOMER: Um, Iâ€™d like  the french fries.</td>
<td></td>
</tr>
<tr>
<td>WAITER: And what would you like to drink  ?</td>
<td></td>
</tr>
<tr>
<td>CUSTOMER: A cup of coffee, please.</td>
<td></td>
</tr>
<tr>
<td>WAITER: And would you like to order dessert now?</td>
<td></td>
</tr>
<tr>
<td>CUSTOMER: No, Iâ€™ll wait, thank you.</td>
<td></td>
</tr>
</tbody>
</table>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[Going to a restaurant L2 Arriving at a restaurant]]></title>
      <url>http://iequa.com/2016/10/25/ef-l5u4-going-to-a-restaurant-l2/</url>
      <content type="html"><![CDATA[<h2 id="1-Vocabulary"><a href="#1-Vocabulary" class="headerlink" title="1. Vocabulary"></a>1. Vocabulary</h2><ul>
<li>mushroom soup</li>
<li>Caesar salad</li>
<li>fresh oysters</li>
<li>shrimp cocktail</li>
<li>roasted chicken with vegetables</li>
<li>steak and baked potato</li>
<li>fresh fish with rice</li>
<li>vanilla [vÉ™â€™nÉªlÉ™]</li>
<li>apple pie</li>
<li>chocolate mousse</li>
<li>lemon sorbet</li>
<li>As a starter</li>
<li>main course</li>
<li>dessert special</li>
</ul>
<p><img src="/images/ef-l5u4l2.png" width="460" height="400" img=""></p>
<table>
<thead>
<tr>
<th>Dialog</th>
</tr>
</thead>
<tbody>
<tr>
<td>[MAITRE Dâ€™] Good evening. Do you have a reservation?</td>
<td></td>
</tr>
<tr>
<td>[SALLY] Yes, we do.</td>
<td></td>
</tr>
<tr>
<td>[MAITRE Dâ€™] What name is it under?</td>
<td></td>
</tr>
<tr>
<td>[SALLY] Sally Phillips.</td>
<td></td>
</tr>
<tr>
<td>[MAITRE Dâ€™] Ah, yes. Ms. Phillips. Thatâ€™s two people, for inside.</td>
<td></td>
</tr>
<tr>
<td>[SALLY] Thatâ€™s right.</td>
<td></td>
</tr>
<tr>
<td>[MAITRE Dâ€™] come this way.</td>
<td></td>
</tr>
<tr>
<td>[WAITRESS] Good evening. My name is Barbara. Iâ€™ll be your waitress tonight. Here are your menus. Can I get you something to drink?</td>
<td></td>
</tr>
<tr>
<td>[PAM] Uh, waterâ€™s fine for now.</td>
<td></td>
</tr>
<tr>
<td>[WAITRESS] Can I tell you about our specials for tonight?</td>
<td></td>
</tr>
<tr>
<td>[SALLY] please.</td>
<td></td>
</tr>
<tr>
<td>[WAITRESS] <strong>As a starter</strong>, we have a <strong>tomato salad with goatâ€™s cheese and olives</strong>.</td>
<td></td>
</tr>
<tr>
<td>[WAITRESS] And we also have a lovely <code>mushroom soup</code>. For a main course, we have <code>wild salmon</code> with <code>lemon</code> and <code>butter</code>. And our dessert special is <code>fresh strawberries</code> with <code>vanilla</code> ice cream.</td>
<td></td>
</tr>
<tr>
<td>[SALLY] Thanks. Could we have some bread, please?</td>
<td></td>
</tr>
<tr>
<td>[WAITRESS] Certainly.</td>
<td></td>
</tr>
</tbody>
</table>
<h2 id="2-Grammar"><a href="#2-Grammar" class="headerlink" title="2. Grammar"></a>2. Grammar</h2><p>You can also use some to make requests and offers.</p>
<ul>
<li>Can I have some water, please?</li>
<li>Would you like some bread? </li>
</ul>
<ul>
<li>Do you have any fresh oysters this evening?</li>
<li>Do you have any lemon sorbet?</li>
</ul>
<ul>
<li>No, we donâ€™t have any salad this evening.</li>
<li>Iâ€™m sorry. We donâ€™t have any shrimp cocktail today.</li>
</ul>
<h2 id="3-Expressions"><a href="#3-Expressions" class="headerlink" title="3. Expressions"></a>3. Expressions</h2><table>
<thead>
<tr>
<th>Dialog</th>
</tr>
</thead>
<tbody>
<tr>
<td>SERVER: Good evening. My name is Carol. Iâ€™ll be your server  tonight. Here are your menus. Can I get you something to drink?</td>
<td></td>
</tr>
<tr>
<td>PENNY: No, thank you. Water is fine for now.</td>
<td></td>
</tr>
<tr>
<td>SERVER: Can I tell you about our specials this evening?</td>
<td></td>
</tr>
<tr>
<td>PENNY: Yes, please.</td>
<td></td>
</tr>
<tr>
<td>SERVER: As a starter, we have fresh oysters. We also have a very nice shrimp cocktail. For the main course  , we have chicken with vegetables, and we also have a sirloin steak with baked potato.</td>
<td></td>
</tr>
<tr>
<td>JOHN: Oh, Iâ€™m getting hungry!</td>
<td></td>
</tr>
<tr>
<td>SERVER: Our dessert special is chocolate mousse with fresh strawberries.</td>
<td></td>
</tr>
<tr>
<td>PENNY: Thank you very much. I think we need a few minutes.</td>
<td></td>
</tr>
</tbody>
</table>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[Coursera Week 3 - Logistic Regression]]></title>
      <url>http://iequa.com/2016/10/24/ml-coursera-ng-w3-LR/</url>
      <content type="html"><![CDATA[<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js"],
    jax: ["input/TeX"],
    tex2jax: {
      inlineMath: [ ['$','$'], ['\\(','\\)'] ],
      displayMath: [ ['$$','$$']],
      processEscapes: true
    }
  });
</script>
<script type="text/javascript" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS_HTML,http://myserver.com/MathJax/config/local/local.js">
</script>


<h2 id="1-Classification"><a href="#1-Classification" class="headerlink" title="1. Classification"></a>1. Classification</h2><p>Email: Spam / Not Spam<br>Online Transactions: Fraudulent (Yes/No)?<br>Tumor: Malignant / Benign ?  </p>
<p>$ y \in {0, 1}$</p>
<blockquote>
<p>[â€˜tju:mÉ™(r)]  [mÉ™â€™lÉªgnÉ™nt] / [bÉªâ€™naÉªn]</p>
</blockquote>
<h2 id="2-Binary-Classification"><a href="#2-Binary-Classification" class="headerlink" title="2. Binary Classification"></a>2. Binary Classification</h2><p>Instead of our output vector y being a continuous range of values, it will only be 0 or 1.</p>
<p>yâˆˆ{0,1}</p>
<blockquote>
<p>Where 0 is usually taken as the â€œnegative classâ€ and 1 as the â€œpositive classâ€, but you are free to assign any representation to it.</p>
</blockquote>
<table>
<thead>
<tr>
<th>Hypothesis Representation</th>
</tr>
</thead>
<tbody>
<tr>
<td>$ 0 \leq h_\theta (x) \leq 1 $</td>
<td></td>
</tr>
<tr>
<td>$ \begin{align} &amp; h_\theta (x) =  g ( \theta^T x ) \newline \newline&amp; z = \theta^T x \newline&amp; g(z) = \dfrac{1}{1 + e^{-z}} \end{align} $</td>
<td></td>
</tr>
</tbody>
</table>
<blockquote>
<p>â€œSigmoid Function,â€ also called the â€œLogistic Functionâ€:</p>
</blockquote>
<p><img src="/images/ml/ml-ng-w3-02.png" alt="Sigmoid Function"></p>
<blockquote>
<p>$h_Î¸$ will give us the probability that our output is 1. For example, $h_Î¸=0.7$ gives us the probability of 70% that our output is 1.</p>
</blockquote>
<p>$<br>\begin{align}<br>&amp; h_\theta(x) = P(y=1 | x ; \theta) = 1 - P(y=0 | x ; \theta) \newline&amp; P(y = 0 | x;\theta) + P(y = 1 | x ; \theta) = 1<br>\end{align}<br>$</p>
<p>Our probability that our prediction is 0 is just the complement of our probability that it is 1 (e.g. if probability that it is 1 is 70%, then the probability that it is 0 is 30%).</p>
<h2 id="3-Decision-Boundary"><a href="#3-Decision-Boundary" class="headerlink" title="3. Decision Boundary"></a>3. Decision Boundary</h2><p>$<br>\begin{align}<br>&amp; h_\theta(x) \geq 0.5 \rightarrow y = 1 \newline&amp; h_\theta(x) &lt; 0.5 \rightarrow y = 0 \newline\end{align}<br>$</p>
<table>
<thead>
<tr>
<th>logistic function</th>
</tr>
</thead>
<tbody>
<tr>
<td>$ \begin{align} &amp; g(z) \geq 0.5 \newline&amp; when \; z \geq 0 \end{align} $</td>
<td></td>
</tr>
<tr>
<td>$ \begin{align} z=0,  e^{0}=1 \Rightarrow  g(z)=1/2\newline z \to \infty, e^{-\infty} \to 0 \Rightarrow g(z)=1 \newline z \to -\infty, e^{\infty}\to \infty \Rightarrow g(z)=0 \end{align} $</td>
<td></td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr>
<th>g is $\theta^T X$, then that means:</th>
</tr>
</thead>
<tbody>
<tr>
<td>$ h_\theta(x) = g(\theta^T x) \geq 0.5 $ $ when \; \theta^T x \geq 0 $</td>
<td></td>
</tr>
<tr>
<td>$ \begin{align} &amp; \theta^T x \geq 0 \Rightarrow y = 1 \newline&amp; \theta^T x &lt; 0 \Rightarrow y = 0 \newline \end{align} $</td>
<td></td>
</tr>
</tbody>
</table>
<p>The decision boundary is the line that separates the area where y = 0 and where y = 1. It is created by our hypothesis function.</p>
<p><strong>Example:</strong></p>
<p>$<br>\begin{align}<br>&amp; \theta = \begin{bmatrix}5 \newline -1 \newline 0\end{bmatrix} \newline &amp; y = 1 \; if \; 5 + (-1) x_1 + 0 x_2 \geq 0 \newline &amp; 5 - x_1 \geq 0 \newline &amp; - x_1 \geq -5 \newline&amp; x_1 \leq 5 \newline \end{align}<br>$</p>
<p>In this case, our decision boundary is a straight vertical line placed on the graph where $x_1=5$, and everything to the left of that denotes $y = 1$, while everything to the right denotes $y = 0$.</p>
<p><strong>linear decision boundaries</strong></p>
<p><img src="/images/ml/ml-ng-w3-01.png" alt="linear decision boundaries"></p>
<p><strong>Non-linear decision boundaries</strong></p>
<p><img src="/images/ml/ml-ng-w3-03.png" alt="Non-linear decision boundaries"></p>
<h2 id="4-Cost-Function"><a href="#4-Cost-Function" class="headerlink" title="4. Cost Function"></a>4. Cost Function</h2><p>We cannot use the same cost function that we use for linear regression because the Logistic Function will cause the output to be wavy, causing many local optima. In other words, it will not be a convex function.</p>
<p><img src="/images/ml/ml-ng-w3-12.png" alt=" $h_\theta(x)$ Complex nonlinear function"></p>
<p><img src="/images/ml/ml-ng-w3-06.png" alt="Cost Function"></p>
<p><code>Instead, our cost function for logistic regression looks like</code>:</p>
<p>$<br>\begin{align}<br>&amp; J(\theta) = \dfrac{1}{m} \sum_{i=1}^m \mathrm{Cost}(h_\theta(x^{(i)}),y^{(i)}) \newline &amp; \mathrm{Cost}(h_\theta(x),y) = -\log(h_\theta(x)) \; &amp; \text{if y = 1} \newline &amp; \mathrm{Cost}(h_\theta(x),y) = -\log(1-h_\theta(x)) \; &amp; \text{if y = 0}<br>\end{align}<br>$</p>
<p><img src="/images/ml/ml-ng-w3-04.png" alt="Cost Function"></p>
<p><img src="/images/ml/ml-ng-w3-05.png" alt="Cost Function"></p>
<p>$<br>\begin{align}<br>&amp; \mathrm{Cost}(h_\theta(x),y) = 0 \text{  if  } h_\theta(x) = y \newline &amp; \mathrm{Cost}(h_\theta(x),y) \rightarrow \infty \text{  if  } y = 0 \; \mathrm{and} \; h_\theta(x) \rightarrow 1 \newline &amp; \mathrm{Cost}(h_\theta(x),y) \rightarrow \infty \text{  if  } y = 1 \; \mathrm{and} \; h_\theta(x) \rightarrow 0 \newline<br>\end{align}<br>$</p>
<p>If our correct answer â€˜yâ€™ is 0, then the cost function will be 0 if our hypothesis function also outputs 0. If our hypothesis approaches 1, then the cost function will approach infinity.</p>
<p>If our correct answer â€˜yâ€™ is 1, then the cost function will be 0 if our hypothesis function outputs 1. If our hypothesis approaches 0, then the cost function will approach infinity.</p>
<h2 id="5-Cost-Function-amp-Gradient-Desc"><a href="#5-Cost-Function-amp-Gradient-Desc" class="headerlink" title="5. Cost Function &amp; Gradient Desc"></a>5. Cost Function &amp; Gradient Desc</h2><p><code>We can compress our cost function&#39;s two conditional cases into one case:</code></p>
<p>$ \mathrm{Cost}(h_\theta(x),y) = - y \cdot \log(h_\theta(x)) - (1 - y) \cdot \log(1 - h_\theta(x))$</p>
<p>We can fully write out our entire cost function as follows:</p>
<p>$<br>J(\theta) = - \frac{1}{m} \displaystyle \sum_{i=1}^m [y^{(i)}\log (h_\theta (x^{(i)})) + (1 - y^{(i)})\log (1 - h_\theta(x^{(i)}))]<br>$</p>
<p>A <code>vectorized</code> implementation is:</p>
<p>$<br>\begin{align}<br>&amp; h = g(X\theta)\newline<br>&amp; J(\theta)  = \frac{1}{m} \cdot \left(-y^{T}\log(h)-(1-y)^{T}\log(1-h)\right)<br>\end{align}<br>$</p>
<h3 id="5-1-Gradient-Descent"><a href="#5-1-Gradient-Descent" class="headerlink" title="5.1 Gradient Descent"></a>5.1 Gradient Descent</h3><p>Remember that the general form of gradient descent is:</p>
<p>$<br>\begin{align}<br>&amp; Repeat \; \lbrace \newline &amp; \; \theta_j := \theta_j - \alpha \dfrac{\partial}{\partial \theta_j}J(\theta) \newline &amp; \rbrace<br>\end{align}<br>$</p>
<p>We can work out the derivative part using calculus to get:</p>
<p>$<br>\begin{align}<br>&amp; Repeat \; \lbrace \newline<br>&amp; \; \theta_j := \theta_j - \frac{\alpha}{m} \sum_{i=1}^m (h_\theta(x^{(i)}) - y^{(i)}) x_j^{(i)} \newline &amp; \rbrace<br>\end{align}<br>$</p>
<blockquote>
<p><code>seen 5.2 detailed</code></p>
</blockquote>
<p><strong>A vectorized implementation is:</strong></p>
<p>$<br>\theta := \theta - \frac{\alpha}{m} X^{T} (g(X \theta ) - \vec{y})<br>$</p>
<h3 id="5-2-Partial-derivative-of-J-Î¸"><a href="#5-2-Partial-derivative-of-J-Î¸" class="headerlink" title="5.2 Partial derivative of J(Î¸)"></a>5.2 Partial derivative of J(Î¸)</h3><blockquote>
<p>partial [â€˜pÉ‘ËÊƒ(É™)l]<br>derivative [dÉªâ€™rÉªvÉ™tÉªv]</p>
</blockquote>
<p>$<br>\begin{align}<br>\sigma(x)â€™&amp;=\left(\frac{1}{1+e^{-x}}\right)â€™=\frac{-(1+e^{-x})â€™}{(1+e^{-x})^2}=\frac{-1â€™-(e^{-x})â€™}{(1+e^{-x})^2}=\frac{0-(-x)â€™(e^{-x})}{(1+e^{-x})^2}=\frac{-(-1)(e^{-x})}{(1+e^{-x})^2}=\frac{e^{-x}}{(1+e^{-x})^2} \newline &amp;=\left(\frac{1}{1+e^{-x}}\right)\left(\frac{e^{-x}}{1+e^{-x}}\right)=\sigma(x)\left(\frac{+1-1 + e^{-x}}{1+e^{-x}}\right)=\sigma(x)\left(\frac{1 + e^{-x}}{1+e^{-x}} - \frac{1}{1+e^{-x}}\right)=\sigma(x)(1 - \sigma(x))<br>\end{align}<br>$</p>
<p>Now we are ready to find out resulting partial derivative:</p>
<p>$<br>\begin{align}<br>\frac{\partial}{\partial \theta_j} J(\theta) &amp;= \frac{\partial}{\partial \theta_j} \frac{-1}{m}\sum_{i=1}^m \left [ y^{(i)} log (h_\theta(x^{(i)})) + (1-y^{(i)}) log (1 - h_\theta(x^{(i)})) \right ] \newline&amp;= - \frac{1}{m}\sum_{i=1}^m \left [     y^{(i)} \frac{\partial}{\partial \theta_j} log (h_\theta(x^{(i)}))   + (1-y^{(i)}) \frac{\partial}{\partial \theta_j} log (1 - h_\theta(x^{(i)}))\right ] \newline&amp;= - \frac{1}{m}\sum_{i=1}^m \left [     \frac{y^{(i)} \frac{\partial}{\partial \theta_j} h_\theta(x^{(i)})}{h_\theta(x^{(i)})}   + \frac{(1-y^{(i)})\frac{\partial}{\partial \theta_j} (1 - h_\theta(x^{(i)}))}{1 - h_\theta(x^{(i)})}\right ] \newline&amp;= - \frac{1}{m}\sum_{i=1}^m \left [     \frac{y^{(i)} \frac{\partial}{\partial \theta_j} \sigma(\theta^T x^{(i)})}{h_\theta(x^{(i)})}   + \frac{(1-y^{(i)})\frac{\partial}{\partial \theta_j} (1 - \sigma(\theta^T x^{(i)}))}{1 - h_\theta(x^{(i)})}\right ] \newline&amp;= - \frac{1}{m}\sum_{i=1}^m \left [     \frac{y^{(i)} \sigma(\theta^T x^{(i)}) (1 - \sigma(\theta^T x^{(i)})) \frac{\partial}{\partial \theta_j} \theta^T x^{(i)}}{h_\theta(x^{(i)})}   + \frac{- (1-y^{(i)}) \sigma(\theta^T x^{(i)}) (1 - \sigma(\theta^T x^{(i)})) \frac{\partial}{\partial \theta_j} \theta^T x^{(i)}}{1 - h_\theta(x^{(i)})}\right ] \newline&amp;= - \frac{1}{m}\sum_{i=1}^m \left [     \frac{y^{(i)} h_\theta(x^{(i)}) (1 - h_\theta(x^{(i)})) \frac{\partial}{\partial \theta_j} \theta^T x^{(i)}}{h_\theta(x^{(i)})}   - \frac{(1-y^{(i)}) h_\theta(x^{(i)}) (1 - h_\theta(x^{(i)})) \frac{\partial}{\partial \theta_j} \theta^T x^{(i)}}{1 - h_\theta(x^{(i)})}\right ] \newline&amp;= - \frac{1}{m}\sum_{i=1}^m \left [     y^{(i)} (1 - h_\theta(x^{(i)})) x^{(i)}_j - (1-y^{(i)}) h_\theta(x^{(i)}) x^{(i)}_j\right ] \newline&amp;= - \frac{1}{m}\sum_{i=1}^m \left [     y^{(i)} (1 - h_\theta(x^{(i)})) - (1-y^{(i)}) h_\theta(x^{(i)}) \right ] x^{(i)}_j \newline&amp;= - \frac{1}{m}\sum_{i=1}^m \left [     y^{(i)} - y^{(i)} h_\theta(x^{(i)}) - h_\theta(x^{(i)}) + y^{(i)} h_\theta(x^{(i)}) \right ] x^{(i)}_j \newline&amp;= - \frac{1}{m}\sum_{i=1}^m \left [ y^{(i)} - h_\theta(x^{(i)}) \right ] x^{(i)}_j  \newline&amp;= \frac{1}{m}\sum_{i=1}^m \left [ h_\theta(x^{(i)}) - y^{(i)} \right ] x^{(i)}_j<br>\end{align}<br>$</p>
<p>The vectorized version;</p>
<p>$<br>\nabla J(\theta) = \frac{1}{m} \cdot  X^T \cdot \left(g\left(X\cdot\theta\right) - \vec{y}\right)<br>$</p>
<h2 id="6-Advanced-Optimization"><a href="#6-Advanced-Optimization" class="headerlink" title="6. Advanced Optimization"></a>6. Advanced Optimization</h2><blockquote>
<p>We can apply regularization to both linear regression and logistic regression. We will approach linear regression first.</p>
</blockquote>
<p><img src="/images/ml/ml-ng-w3-07.png" alt="Advanced Optimization"></p>
<p>We first need to provide a function that evaluates the following two functions for a given input value Î¸:</p>
<p>$<br>\begin{align}<br>&amp; J(\theta) \newline &amp; \dfrac{\partial}{\partial \theta_j}J(\theta)<br>\end{align}<br>$</p>
<p>We can write a single function that returns both of theseâ€¦</p>
<h2 id="7-Multiclass-Classification"><a href="#7-Multiclass-Classification" class="headerlink" title="7. Multiclass Classification"></a>7. Multiclass Classification</h2><p><img src="/images/ml/ml-ng-w3-09.png" alt="Multiclass"></p>
<p>$<br>\begin{align}<br>&amp; y \in \lbrace0, 1 â€¦ n\rbrace \newline&amp; h_\theta^{(0)}(x) = P(y = 0 | x ; \theta) \newline&amp; h_\theta^{(1)}(x) = P(y = 1 | x ; \theta) \newline&amp; \cdots \newline&amp; h_\theta^{(n)}(x) = P(y = n | x ; \theta) \newline&amp; \mathrm{prediction} = \max_i( h_\theta ^{(i)}(x) )\newline<br>\end{align}<br>$</p>
<p>Train a logistic regression classifier $h_\theta ^{(i)}(x)$ for each class $i$ to predict the probability that $y = i$ .</p>
<p>On a new input $x$, to make a prediction, pick the $i$ class that maximizes $\max_i( h_\theta ^{(i)}(x)$</p>
<p>@2017-02-10 review done.</p>
<h2 id="8-Regularization"><a href="#8-Regularization" class="headerlink" title="8. Regularization"></a>8. Regularization</h2><p><strong>The Problem of Overfitting</strong></p>
<p>Regularization is designed to address the problem of overfitting.</p>
<p><strong>High bias</strong> or <strong>underfitting</strong> is when the form of our hypothesis function h maps poorly to the trend of the data. It is usually caused by a function that is too simple or <strong>uses too few features</strong>. </p>
<p>eg. if we take $h_Î¸(x)=Î¸_0+Î¸_1 \cdot x_1+Î¸_2 \cdot x_2$ then we are making an initial assumption that a linear model will fit the training data well and will be able to generalize but that may not be the case.</p>
<p>At the other extreme, overfitting or high variance is caused by a hypothesis function that fits the available data but does not generalize well to predict new data. It is usually caused by a complicated function that creates a lot of unnecessary curves and angles unrelated to the data.</p>
<p><img src="/images/ml/ml-ng-w3-10.png" alt="Regularization"></p>
<p>This terminology is applied to both linear and logistic regression. There are two main options to address the issue of overfitting:</p>
<p>1) Reduce the number of features:</p>
<ul>
<li><p>a) Manually select which features to keep.</p>
</li>
<li><p>b) Use a model selection algorithm .</p>
</li>
</ul>
<p>2) Regularization</p>
<ul>
<li>Keep all the features, but reduce the parameters $Î¸_j$.</li>
</ul>
<p>Regularization works well when we have a lot of slightly useful features.</p>
<blockquote>
<p>to address æå‡ºï¼Œå»è§£å†³</p>
</blockquote>
<h2 id="9-Regularization-Cost-Function"><a href="#9-Regularization-Cost-Function" class="headerlink" title="9. Regularization Cost Function"></a>9. Regularization Cost Function</h2><p>If we have overfitting from our hypothesis function, we can reduce the weight that some of the terms in our function carry by increasing their cost.</p>
<p>Say we wanted to make the following function more quadratic [kwÉ’â€™drÃ¦tÉªk]:</p>
<p>$<br>\theta_0 + \theta_1x + \theta_2x^2 + \theta_3x^3 + \theta_4x^4<br>$</p>
<p>Weâ€™ll want to eliminate the influence of $\theta_3x^3$ and $\theta_4x^4$. Without actually getting rid of these features or changing the form of our hypothesis, we can instead modify our cost function:</p>
<p><strong>$<br>min_\theta\ \dfrac{1}{2m}\sum_{i=1}^m (h_\theta(x^{(i)}) - y^{(i)})^2 + 1000 \cdot \theta_3^2 + 1000\cdot\theta_4^2<br>$</strong></p>
<p>Weâ€™ve added two extra terms at the end to inflate the cost of $\theta_3$ and $\theta_4$. Now, in order for the cost function to get close to zero, we will have to reduce the values of $\theta_3$ and $\theta_4$ to near zero. This will in turn greatly reduce the values of $\theta_3x^3$ and $\theta_4x^4$ in our hypothesis function.</p>
<p>We could also regularize all of our theta parameters in a single summation:</p>
<p>$<br>min_\theta\ \dfrac{1}{2m}\ \left[ \sum_{i=1}^m (h_\theta(x^{(i)}) - y^{(i)})^2 + \lambda\ \sum_{j=1}^n \theta_j^2 \right]<br>$</p>
<p>The Î», or lambda, is the <strong>regularization parameter</strong>. It determines how much the costs of our theta parameters are inflated. </p>
<blockquote>
<p>You can visualize the effect of regularization in this interactive plot : <a href="https://www.desmos.com/calculator/1hexc8ntqp" target="_blank" rel="external">https://www.desmos.com/calculator/1hexc8ntqp</a></p>
</blockquote>
<p>Using the above cost function with the extra summation, we can smooth the output of our hypothesis function to reduce overfitting. If lambda is chosen to be too large, it may smooth out the function too much and cause underfitting.</p>
<blockquote>
<p>æˆ‘ä»¬å¯ä»¥å¹³æ»‘æˆ‘ä»¬çš„å‡è®¾å‡½æ•°çš„è¾“å‡ºï¼Œä»¥å‡å°‘è¿‡åº¦æ‹Ÿåˆ</p>
</blockquote>
<h2 id="10-Regularized-Linear"><a href="#10-Regularized-Linear" class="headerlink" title="10. Regularized Linear"></a>10. Regularized Linear</h2><h3 id="10-1-Gradient-Descent"><a href="#10-1-Gradient-Descent" class="headerlink" title="10.1 Gradient Descent"></a>10.1 Gradient Descent</h3><p>$<br>\begin{align}<br>&amp; \text{Repeat}\ \lbrace \newline<br>&amp; \ \ \ \ \theta_0 := \theta_0 - \alpha\ \frac{1}{m}\ \sum_{i=1}^m (h_\theta(x^{(i)}) - y^{(i)})x_0^{(i)} \newline<br>&amp; \ \ \ \ \theta_j := \theta_j - \alpha\ \left[ \left( \frac{1}{m}\ \sum_{i=1}^m (h_\theta(x^{(i)}) - y^{(i)})x_j^{(i)} \right) + \frac{\lambda}{m}\theta_j \right] &amp;\ \ \ \ \ \ \ \ \ \ j \in \lbrace 1,2â€¦n\rbrace\newline<br>&amp; \rbrace<br>\end{align}<br>$</p>
<p>The term $\frac{\lambda}{m}\theta_j$ performs our regularization.</p>
<p><strong>$<br>\theta_j := \theta_j(1 - \alpha\frac{\lambda}{m}) - \alpha\frac{1}{m}\sum_{i=1}^m(h_\theta(x^{(i)}) - y^{(i)})x_j^{(i)}<br>$</strong></p>
<p>The first term in the above equation, $1 - \alpha\frac{\lambda}{m}$ will always be less than 1. Intuitively you can see it as reducing the value of $\theta_j$ by some amount on every update.</p>
<h3 id="10-2-Normal-Equation"><a href="#10-2-Normal-Equation" class="headerlink" title="10.2 Normal Equation"></a>10.2 Normal Equation</h3><p>Use less, temporarily ignored</p>
<h2 id="11-Regularized-Logistic"><a href="#11-Regularized-Logistic" class="headerlink" title="11. Regularized Logistic"></a>11. Regularized Logistic</h2><p><strong>Cost Function</strong></p>
<p>$<br>J(\theta) = - \frac{1}{m} \sum_{i=1}^m \large[ y^{(i)}\ \log (h_\theta (x^{(i)})) + (1 - y^{(i)})\ \log (1 - h_\theta(x^{(i)})) \large]<br>$</p>
<p>We can regularize this equation by adding a term to the end:</p>
<p>$<br>J(\theta) = - \frac{1}{m} \sum_{i=1}^m \large[ y^{(i)}\ \log (h_\theta (x^{(i)})) + (1 - y^{(i)})\ \log (1 - h_\theta(x^{(i)}))\large] + \frac{\lambda}{2m}\sum_{j=1}^n \theta_j^2<br>$</p>
<p><strong>Gradient Descent</strong></p>
<p>Just like with linear regression, we will want to separately update $\theta_0$ and the rest of the parameters because we do not want to regularize $\theta_0$.</p>
<p>$<br>\begin{align}<br>&amp; \text{Repeat}\ \lbrace \newline&amp; \ \ \ \ \theta_0 := \theta_0 - \alpha\ \frac{1}{m}\ \sum_{i=1}^m (h_\theta(x^{(i)}) - y^{(i)})x_0^{(i)} \newline&amp; \ \ \ \ \theta_j := \theta_j - \alpha\ \left[ \left( \frac{1}{m}\ \sum_{i=1}^m (h_\theta(x^{(i)}) - y^{(i)})x_j^{(i)} \right) + \frac{\lambda}{m}\theta_j \right] &amp;\ \ \ \ \ \ \ \ \ \ j \in \lbrace 1,2â€¦n\rbrace\newline&amp; \rbrace\end{align}<br>$</p>
<h2 id="Reference-article"><a href="#Reference-article" class="headerlink" title="Reference article"></a>Reference article</h2><p><a href="https://www.kaggle.com/c/titanic" target="_blank" rel="external">Kaggle_Titanic</a></p>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[Going to a restaurant L1 Making a restaurant reservation]]></title>
      <url>http://iequa.com/2016/10/24/ef-l5u4-going-to-a-restaurant-l1/</url>
      <content type="html"><![CDATA[<h2 id="1-Vocabulary"><a href="#1-Vocabulary" class="headerlink" title="1. Vocabulary"></a>1. Vocabulary</h2><ul>
<li>specialty</li>
<li>authentic</li>
<li>reputation</li>
<li>reviews</li>
<li>a wide variety of  [vÉ™â€™raÉªÉ™tÉª]</li>
<li>choices</li>
<li>free parking</li>
<li>steak</li>
</ul>
<p><img src="/images/ef-l5u4l1.png" width="460" height="400" img=""></p>
<table>
<thead>
<tr>
<th>Dialog</th>
</tr>
</thead>
<tbody>
<tr>
<td>[PAM] So what <strong>do you feel like eating</strong> tonight?</td>
<td></td>
</tr>
<tr>
<td>[SALLY] I was hoping to try that new place on 10th Street - The Kitchen.</td>
<td></td>
</tr>
<tr>
<td>[PAM] Oh, yeah, Iâ€™ve heard about it. What kind of food do they have?</td>
<td></td>
</tr>
<tr>
<td>[SALLY] Seafoodâ€™s their specialty, I think.</td>
<td></td>
</tr>
<tr>
<td>[PAM] Can I get a <strong>steak</strong>?</td>
<td></td>
</tr>
<tr>
<td>[SALLY] Iâ€™m sure you can. And the <strong>prices are supposed to be very reasonable</strong>.</td>
<td></td>
</tr>
<tr>
<td>[PAM] Okay, letâ€™s go to The Kitchen.</td>
<td></td>
</tr>
<tr>
<td>[SALLY] Iâ€™ll give them a call. Let me just find the number â€¦ Here it is.</td>
<td></td>
</tr>
<tr>
<td>[RECEPTION] The Kitchen. Can I help you?</td>
<td></td>
</tr>
<tr>
<td>[SALLY] Yes. Iâ€™d like to make a reservation.</td>
<td></td>
</tr>
<tr>
<td>[RECEPTION] For toninght?</td>
<td></td>
</tr>
<tr>
<td>[SALLY] Yes. at 7.</td>
<td></td>
</tr>
<tr>
<td>[RECEPTION] Iâ€™m sorry. <strong>Our first opening tonight</strong> is at 8:30. <strong>Is that okay for you?</strong></td>
<td></td>
</tr>
<tr>
<td>[SALLY] Umm, itâ€™s a bit late. <strong>Let me check</strong>. Pam, their first openingâ€™s at 8:30. What do you think?</td>
<td></td>
</tr>
<tr>
<td>[PAM] Yeah, I think thatâ€™s okay.</td>
<td></td>
</tr>
<tr>
<td>[SALLY] Okay. Eight-thirty will work.</td>
<td></td>
</tr>
<tr>
<td>[RECEPTION] And how many people will that be?</td>
<td></td>
</tr>
<tr>
<td>[SALLY] Two people.</td>
<td></td>
</tr>
<tr>
<td>[RECEPTION] And whatâ€™s the name?</td>
<td></td>
</tr>
<tr>
<td>[SALLY] Sally Phillips.</td>
<td></td>
</tr>
<tr>
<td>[RECEPTION] Would you like indoor or outdoor seating?</td>
<td></td>
</tr>
<tr>
<td>[SALLY] Weâ€™d like to sit inside.</td>
<td></td>
</tr>
<tr>
<td>[RECEPTION] Okay. So thatâ€™s two people, inside, at 8:30, for Sally Phillips. Could you just give me your phone number?</td>
<td></td>
</tr>
<tr>
<td>[SALLY] Sure. Itâ€™s 589-3420.</td>
<td></td>
</tr>
<tr>
<td>[RECEPTION] Okay. See you at 8:30.</td>
<td></td>
</tr>
</tbody>
</table>
<h2 id="2-Expressions"><a href="#2-Expressions" class="headerlink" title="2. Expressions"></a>2. Expressions</h2><ul>
<li>Seafood is their specialty.</li>
<li>They serve <code>authentic Italian</code> food.</li>
<li>The menu has <strong>a wide variety of</strong> choices.</li>
<li>Whatâ€™s the <code>specialty</code> of the restaurant?</li>
<li>Do you think the prices are reasonable?</li>
</ul>
<h2 id="3-Reading"><a href="#3-Reading" class="headerlink" title="3. Reading"></a>3. Reading</h2><p>Zen Garden is a great <code>choice</code> for lunch or dinner. Their <strong>specialty  is vegetarian dishes</strong>, but there are also some lovely fish and chicken choices. The restaurant is very popular, and many people come <strong>for the authentic French desserts</strong>. The menu doesnâ€™t have <code>a wide variety of</code> choices, but everything is fresh and the prices are reasonable. Outdoor seating is available from June to August. Zen Garden is located at 1415 Grove Street. Call 760-434-9292 for reservations  .</p>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[Coursera Week 2 - Octave Tutorial By NG]]></title>
      <url>http://iequa.com/2016/10/21/ml-coursera-ng-w2-03/</url>
      <content type="html"><![CDATA[<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js"],
    jax: ["input/TeX"],
    tex2jax: {
      inlineMath: [ ['$','$'], ['\\(','\\)'] ],
      displayMath: [ ['$$','$$']],
      processEscapes: true
    }
  });
</script>
<script type="text/javascript" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS_HTML,http://myserver.com/MathJax/config/local/local.js">
</script>

<p>ML:Octave Tutorial</p>
<h2 id="1-Basic-Operations"><a href="#1-Basic-Operations" class="headerlink" title="1. Basic Operations"></a>1. Basic Operations</h2><figure class="highlight matlab"><table><tr><td class="code"><pre><span class="line"><span class="comment">%% Change Octave prompt  </span></span><br><span class="line">PS1(<span class="string">'&gt;&gt; '</span>);</span><br><span class="line"><span class="comment">%% Change working directory in windows example:</span></span><br><span class="line">cd <span class="string">'c:/path/to/desired/directory name'</span></span><br><span class="line"><span class="comment">%% Note that it uses normal slashes and does not use escape characters for the empty spaces.</span></span><br><span class="line"></span><br><span class="line"><span class="comment">%% elementary operations</span></span><br><span class="line"><span class="number">5</span>+<span class="number">6</span></span><br><span class="line"><span class="number">3</span><span class="number">-2</span></span><br><span class="line"><span class="number">5</span>*<span class="number">8</span></span><br><span class="line"><span class="number">1</span>/<span class="number">2</span></span><br><span class="line"><span class="number">2</span>^<span class="number">6</span></span><br><span class="line"><span class="number">1</span> == <span class="number">2</span> <span class="comment">% false</span></span><br><span class="line"><span class="number">1</span> ~= <span class="number">2</span> <span class="comment">% true.  note, not "!="</span></span><br><span class="line"><span class="number">1</span> &amp;&amp; <span class="number">0</span></span><br><span class="line"><span class="number">1</span> || <span class="number">0</span></span><br><span class="line">xor(<span class="number">1</span>,<span class="number">0</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">%% variable assignment</span></span><br><span class="line">a = <span class="number">3</span>; <span class="comment">% semicolon suppresses output</span></span><br><span class="line">b = <span class="string">'hi'</span>;</span><br><span class="line">c = <span class="number">3</span>&gt;=<span class="number">1</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">% Displaying them:</span></span><br><span class="line">a = <span class="built_in">pi</span></span><br><span class="line"><span class="built_in">disp</span>(a)</span><br><span class="line"><span class="built_in">disp</span>(sprintf(<span class="string">'2 decimals: %0.2f'</span>, a))</span><br><span class="line"><span class="built_in">disp</span>(sprintf(<span class="string">'6 decimals: %0.6f'</span>, a))</span><br><span class="line">format long</span><br><span class="line">a</span><br><span class="line">format short</span><br><span class="line">a</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">%%  vectors and matrices</span></span><br><span class="line">A = [<span class="number">1</span> <span class="number">2</span>; <span class="number">3</span> <span class="number">4</span>; <span class="number">5</span> <span class="number">6</span>]</span><br><span class="line"></span><br><span class="line">v = [<span class="number">1</span> <span class="number">2</span> <span class="number">3</span>]</span><br><span class="line">v = [<span class="number">1</span>; <span class="number">2</span>; <span class="number">3</span>]</span><br><span class="line">v = <span class="number">1</span>:<span class="number">0.1</span>:<span class="number">2</span>   <span class="comment">% from 1 to 2, with stepsize of 0.1. Useful for plot axes</span></span><br><span class="line">v = <span class="number">1</span>:<span class="number">6</span>       <span class="comment">% from 1 to 6, assumes stepsize of 1 (row vector)</span></span><br><span class="line"></span><br><span class="line">C = <span class="number">2</span>*<span class="built_in">ones</span>(<span class="number">2</span>,<span class="number">3</span>) <span class="comment">% same as C = [2 2 2; 2 2 2]</span></span><br><span class="line">w = <span class="built_in">ones</span>(<span class="number">1</span>,<span class="number">3</span>)   <span class="comment">% 1x3 vector of ones</span></span><br><span class="line">w = <span class="built_in">zeros</span>(<span class="number">1</span>,<span class="number">3</span>)</span><br><span class="line">w = <span class="built_in">rand</span>(<span class="number">1</span>,<span class="number">3</span>) <span class="comment">% drawn from a uniform distribution </span></span><br><span class="line">w = <span class="built_in">randn</span>(<span class="number">1</span>,<span class="number">3</span>)<span class="comment">% drawn from a normal distribution (mean=0, var=1)</span></span><br><span class="line">w = <span class="number">-6</span> + <span class="built_in">sqrt</span>(<span class="number">10</span>)*(<span class="built_in">randn</span>(<span class="number">1</span>,<span class="number">10000</span>));  <span class="comment">% (mean = -6, var = 10) - note: add the semicolon</span></span><br><span class="line">hist(w)    <span class="comment">% plot histogram using 10 bins (default)</span></span><br><span class="line">hist(w,<span class="number">50</span>) <span class="comment">% plot histogram using 50 bins</span></span><br><span class="line"><span class="comment">% note: if hist() crashes, try "graphics_toolkit('gnu_plot')" </span></span><br><span class="line"></span><br><span class="line">I = <span class="built_in">eye</span>(<span class="number">4</span>)   <span class="comment">% 4x4 identity matrix</span></span><br><span class="line"></span><br><span class="line"><span class="comment">% help function</span></span><br><span class="line">help <span class="built_in">eye</span></span><br><span class="line">help <span class="built_in">rand</span></span><br><span class="line">help help</span><br></pre></td></tr></table></figure>
<h2 id="2-Moving-Data-Around"><a href="#2-Moving-Data-Around" class="headerlink" title="2. Moving Data Around"></a>2. Moving Data Around</h2><figure class="highlight matlab"><table><tr><td class="code"><pre><span class="line"><span class="comment">%% dimensions</span></span><br><span class="line">sz = <span class="built_in">size</span>(A) <span class="comment">% 1x2 matrix: [(number of rows) (number of columns)]</span></span><br><span class="line"><span class="built_in">size</span>(A,<span class="number">1</span>) <span class="comment">% number of rows</span></span><br><span class="line"><span class="built_in">size</span>(A,<span class="number">2</span>) <span class="comment">% number of cols</span></span><br><span class="line"><span class="built_in">length</span>(v) <span class="comment">% size of longest dimension</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">%% loading data</span></span><br><span class="line">pwd   <span class="comment">% show current directory (current path)</span></span><br><span class="line">cd <span class="string">'C:\Users\ang\Octave files'</span>  <span class="comment">% change directory </span></span><br><span class="line">ls    <span class="comment">% list files in current directory </span></span><br><span class="line">load q1y.dat   <span class="comment">% alternatively, load('q1y.dat')</span></span><br><span class="line">load q1x.dat</span><br><span class="line">who   <span class="comment">% list variables in workspace</span></span><br><span class="line">whos  <span class="comment">% list variables in workspace (detailed view) </span></span><br><span class="line">clear q1y      <span class="comment">% clear command without any args clears all vars</span></span><br><span class="line">v = q1x(<span class="number">1</span>:<span class="number">10</span>); <span class="comment">% first 10 elements of q1x (counts down the columns)</span></span><br><span class="line">save hello.mat v;  <span class="comment">% save variable v into file hello.mat</span></span><br><span class="line">save hello.txt v -ascii; <span class="comment">% save as ascii</span></span><br><span class="line"><span class="comment">% fopen, fread, fprintf, fscanf also work  [[not needed in class]]</span></span><br><span class="line"></span><br><span class="line"><span class="comment">%% indexing</span></span><br><span class="line">A(<span class="number">3</span>,<span class="number">2</span>)  <span class="comment">% indexing is (row,col)</span></span><br><span class="line">A(<span class="number">2</span>,:)  <span class="comment">% get the 2nd row. </span></span><br><span class="line">        <span class="comment">% ":" means every element along that dimension</span></span><br><span class="line">A(:,<span class="number">2</span>)  <span class="comment">% get the 2nd col</span></span><br><span class="line">A([<span class="number">1</span> <span class="number">3</span>],:) <span class="comment">% print all  the elements of rows 1 and 3</span></span><br><span class="line"></span><br><span class="line">A(:,<span class="number">2</span>) = [<span class="number">10</span>; <span class="number">11</span>; <span class="number">12</span>]     <span class="comment">% change second column</span></span><br><span class="line">A = [A, [<span class="number">100</span>; <span class="number">101</span>; <span class="number">102</span>]]; <span class="comment">% append column vec</span></span><br><span class="line">A(:) <span class="comment">% Select all elements as a column vector.</span></span><br><span class="line"></span><br><span class="line"><span class="comment">% Putting data together </span></span><br><span class="line">A = [<span class="number">1</span> <span class="number">2</span>; <span class="number">3</span> <span class="number">4</span>; <span class="number">5</span> <span class="number">6</span>]</span><br><span class="line">B = [<span class="number">11</span> <span class="number">12</span>; <span class="number">13</span> <span class="number">14</span>; <span class="number">15</span> <span class="number">16</span>] <span class="comment">% same dims as A</span></span><br><span class="line">C = [A B]  <span class="comment">% concatenating A and B matrices side by side</span></span><br><span class="line">C = [A, B] <span class="comment">% concatenating A and B matrices side by side</span></span><br><span class="line">C = [A; B] <span class="comment">% Concatenating A and B top and bottom</span></span><br></pre></td></tr></table></figure>
<h2 id="3-Computing-on-Data"><a href="#3-Computing-on-Data" class="headerlink" title="3. Computing on Data"></a>3. Computing on Data</h2><figure class="highlight matlab"><table><tr><td class="code"><pre><span class="line"><span class="comment">%% initialize variables</span></span><br><span class="line">A = [<span class="number">1</span> <span class="number">2</span>;<span class="number">3</span> <span class="number">4</span>;<span class="number">5</span> <span class="number">6</span>]</span><br><span class="line">B = [<span class="number">11</span> <span class="number">12</span>;<span class="number">13</span> <span class="number">14</span>;<span class="number">15</span> <span class="number">16</span>]</span><br><span class="line">C = [<span class="number">1</span> <span class="number">1</span>;<span class="number">2</span> <span class="number">2</span>]</span><br><span class="line">v = [<span class="number">1</span>;<span class="number">2</span>;<span class="number">3</span>]</span><br><span class="line"></span><br><span class="line"><span class="comment">%% matrix operations</span></span><br><span class="line">A * C  <span class="comment">% matrix multiplication</span></span><br><span class="line">A .* B <span class="comment">% element-wise multiplication</span></span><br><span class="line"><span class="comment">% A .* C  or A * B gives error - wrong dimensions</span></span><br><span class="line">A .^ <span class="number">2</span> <span class="comment">% element-wise square of each element in A</span></span><br><span class="line"><span class="number">1.</span>/v   <span class="comment">% element-wise reciprocal</span></span><br><span class="line"><span class="built_in">log</span>(v)  <span class="comment">% functions like this operate element-wise on vecs or matrices </span></span><br><span class="line"><span class="built_in">exp</span>(v)</span><br><span class="line"><span class="built_in">abs</span>(v)</span><br><span class="line"></span><br><span class="line">-v  <span class="comment">% -1*v</span></span><br><span class="line"></span><br><span class="line">v + <span class="built_in">ones</span>(<span class="built_in">length</span>(v), <span class="number">1</span>)  </span><br><span class="line"><span class="comment">% v + 1  % same</span></span><br><span class="line"></span><br><span class="line">A'  <span class="comment">% matrix transpose</span></span><br><span class="line"></span><br><span class="line"><span class="comment">%% misc useful functions</span></span><br><span class="line"></span><br><span class="line"><span class="comment">% max  (or min)</span></span><br><span class="line">a = [<span class="number">1</span> <span class="number">15</span> <span class="number">2</span> <span class="number">0.5</span>]</span><br><span class="line">val = max(a)</span><br><span class="line">[val,ind] = max(a) <span class="comment">% val -  maximum element of the vector a and index - index value where maximum occur</span></span><br><span class="line">val = max(A) <span class="comment">% if A is matrix, returns max from each column</span></span><br><span class="line"></span><br><span class="line"><span class="comment">% compare values in a matrix &amp; find</span></span><br><span class="line">a &lt; <span class="number">3</span> <span class="comment">% checks which values in a are less than 3</span></span><br><span class="line"><span class="built_in">find</span>(a &lt; <span class="number">3</span>) <span class="comment">% gives location of elements less than 3</span></span><br><span class="line">A = <span class="built_in">magic</span>(<span class="number">3</span>) <span class="comment">% generates a magic matrix - not much used in ML algorithms</span></span><br><span class="line">[r,c] = <span class="built_in">find</span>(A&gt;=<span class="number">7</span>)  <span class="comment">% row, column indices for values matching comparison</span></span><br><span class="line"></span><br><span class="line"><span class="comment">% sum, prod</span></span><br><span class="line">sum(a)</span><br><span class="line">prod(a)</span><br><span class="line"><span class="built_in">floor</span>(a) <span class="comment">% or ceil(a)</span></span><br><span class="line">max(<span class="built_in">rand</span>(<span class="number">3</span>),<span class="built_in">rand</span>(<span class="number">3</span>))</span><br><span class="line">max(A,[],<span class="number">1</span>) -  maximum along columns(defaults to columns - max(A,[]))</span><br><span class="line">max(A,[],<span class="number">2</span>) - maximum along rows</span><br><span class="line">A = <span class="built_in">magic</span>(<span class="number">9</span>)</span><br><span class="line">sum(A,<span class="number">1</span>)</span><br><span class="line">sum(A,<span class="number">2</span>)</span><br><span class="line">sum(sum( A .* <span class="built_in">eye</span>(<span class="number">9</span>) ))</span><br><span class="line">sum(sum( A .* <span class="built_in">flipud</span>(<span class="built_in">eye</span>(<span class="number">9</span>)) ))</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">% Matrix inverse (pseudo-inverse)</span></span><br><span class="line">pinv(A)        <span class="comment">% inv(A'*A)*A'</span></span><br></pre></td></tr></table></figure>
<h2 id="4-Plotting-Data"><a href="#4-Plotting-Data" class="headerlink" title="4. Plotting Data"></a>4. Plotting Data</h2><figure class="highlight matlab"><table><tr><td class="code"><pre><span class="line">&gt;&gt; t=[<span class="number">0</span>:<span class="number">0.01</span>:<span class="number">0.98</span>];</span><br><span class="line">&gt;&gt; t</span><br><span class="line">t =</span><br><span class="line"></span><br><span class="line"> Columns <span class="number">1</span> through <span class="number">10</span>:</span><br><span class="line"></span><br><span class="line">   <span class="number">0.00000</span>   <span class="number">0.01000</span>   <span class="number">0.02000</span>   <span class="number">0.03000</span>   <span class="number">0.04000</span>   <span class="number">0.05000</span>   <span class="number">0.06000</span>   <span class="number">0.07000</span>   <span class="number">0.08000</span>   <span class="number">0.09000</span></span><br><span class="line"></span><br><span class="line"> Columns <span class="number">11</span> through <span class="number">20</span>:</span><br><span class="line"></span><br><span class="line">   <span class="number">0.10000</span>   <span class="number">0.11000</span>   <span class="number">0.12000</span>   <span class="number">0.13000</span>   <span class="number">0.14000</span>   <span class="number">0.15000</span>   <span class="number">0.16000</span>   <span class="number">0.17000</span>   <span class="number">0.18000</span>   <span class="number">0.19000</span></span><br><span class="line"></span><br><span class="line"> Columns <span class="number">21</span> through <span class="number">30</span>:</span><br><span class="line"></span><br><span class="line">   <span class="number">0.20000</span>   <span class="number">0.21000</span>   <span class="number">0.22000</span>   <span class="number">0.23000</span>   <span class="number">0.24000</span>   <span class="number">0.25000</span>   <span class="number">0.26000</span>   <span class="number">0.27000</span>   <span class="number">0.28000</span>   <span class="number">0.29000</span></span><br><span class="line"></span><br><span class="line"> Columns <span class="number">31</span> through <span class="number">40</span>:</span><br><span class="line"></span><br><span class="line">   <span class="number">0.30000</span>   <span class="number">0.31000</span>   <span class="number">0.32000</span>   <span class="number">0.33000</span>   <span class="number">0.34000</span>   <span class="number">0.35000</span>   <span class="number">0.36000</span>   <span class="number">0.37000</span>   <span class="number">0.38000</span>   <span class="number">0.39000</span></span><br><span class="line"></span><br><span class="line"> Columns <span class="number">41</span> through <span class="number">50</span>:</span><br><span class="line"></span><br><span class="line">   <span class="number">0.40000</span>   <span class="number">0.41000</span>   <span class="number">0.42000</span>   <span class="number">0.43000</span>   <span class="number">0.44000</span>   <span class="number">0.45000</span>   <span class="number">0.46000</span>   <span class="number">0.47000</span>   <span class="number">0.48000</span>   <span class="number">0.49000</span></span><br><span class="line"></span><br><span class="line"> Columns <span class="number">51</span> through <span class="number">60</span>:</span><br><span class="line"></span><br><span class="line">   <span class="number">0.50000</span>   <span class="number">0.51000</span>   <span class="number">0.52000</span>   <span class="number">0.53000</span>   <span class="number">0.54000</span>   <span class="number">0.55000</span>   <span class="number">0.56000</span>   <span class="number">0.57000</span>   <span class="number">0.58000</span>   <span class="number">0.59000</span></span><br><span class="line"></span><br><span class="line"> Columns <span class="number">61</span> through <span class="number">70</span>:</span><br><span class="line"></span><br><span class="line">   <span class="number">0.60000</span>   <span class="number">0.61000</span>   <span class="number">0.62000</span>   <span class="number">0.63000</span>   <span class="number">0.64000</span>   <span class="number">0.65000</span>   <span class="number">0.66000</span>   <span class="number">0.67000</span>   <span class="number">0.68000</span>   <span class="number">0.69000</span></span><br><span class="line"></span><br><span class="line"> Columns <span class="number">71</span> through <span class="number">80</span>:</span><br><span class="line"></span><br><span class="line">   <span class="number">0.70000</span>   <span class="number">0.71000</span>   <span class="number">0.72000</span>   <span class="number">0.73000</span>   <span class="number">0.74000</span>   <span class="number">0.75000</span>   <span class="number">0.76000</span>   <span class="number">0.77000</span>   <span class="number">0.78000</span>   <span class="number">0.79000</span></span><br><span class="line"></span><br><span class="line"> Columns <span class="number">81</span> through <span class="number">90</span>:</span><br><span class="line"></span><br><span class="line">   <span class="number">0.80000</span>   <span class="number">0.81000</span>   <span class="number">0.82000</span>   <span class="number">0.83000</span>   <span class="number">0.84000</span>   <span class="number">0.85000</span>   <span class="number">0.86000</span>   <span class="number">0.87000</span>   <span class="number">0.88000</span>   <span class="number">0.89000</span></span><br><span class="line"></span><br><span class="line"> Columns <span class="number">91</span> through <span class="number">99</span>:</span><br><span class="line"></span><br><span class="line">   <span class="number">0.90000</span>   <span class="number">0.91000</span>   <span class="number">0.92000</span>   <span class="number">0.93000</span>   <span class="number">0.94000</span>   <span class="number">0.95000</span>   <span class="number">0.96000</span>   <span class="number">0.97000</span>   <span class="number">0.98000</span></span><br><span class="line"></span><br><span class="line">&gt;&gt; y1=<span class="built_in">sin</span>(<span class="number">2</span>*<span class="built_in">pi</span>*<span class="number">4</span>*t);</span><br><span class="line">&gt;&gt; plot(t,y1)</span><br><span class="line">&gt;&gt; y2=<span class="built_in">cos</span>(<span class="number">2</span>*<span class="built_in">pi</span>*<span class="number">4</span>*t);</span><br><span class="line">&gt;&gt; plot(t,y2)</span><br><span class="line">&gt;&gt; hold on</span><br><span class="line">&gt;&gt; plot(t,y1)</span><br><span class="line">&gt;&gt; plot(t,y2,<span class="string">'r'</span>)</span><br><span class="line">&gt;&gt; xlabel(<span class="string">'time'</span>)</span><br><span class="line">&gt;&gt; ylabel(<span class="string">'value'</span>)</span><br><span class="line">&gt;&gt; legend(<span class="string">'sin'</span>,<span class="string">'cos'</span>)</span><br><span class="line">&gt;&gt; title(<span class="string">'my plot'</span>)</span><br><span class="line">&gt;&gt; print -dpng <span class="string">'myPlot.png'</span></span><br><span class="line">warning: print.m: fig2dev binary is not available.</span><br><span class="line">Some output formats are not available.</span><br></pre></td></tr></table></figure>
<figure class="highlight matlab"><table><tr><td class="code"><pre><span class="line">&gt;&gt; figure(<span class="number">2</span>); plot(t, y2)</span><br><span class="line">&gt;&gt; subplot(<span class="number">1</span>,<span class="number">2</span>,<span class="number">1</span>);</span><br><span class="line">&gt;&gt; plot(t,y1)</span><br><span class="line">&gt;&gt; subplot(<span class="number">1</span>,<span class="number">2</span>,<span class="number">2</span>)</span><br><span class="line">&gt;&gt; plot(t,y2)</span><br><span class="line">&gt;&gt; axis([<span class="number">0.5</span> <span class="number">1</span> <span class="number">-1</span> <span class="number">1</span>])</span><br></pre></td></tr></table></figure>
<p><img src="/images/ml/ml-ng-w2-11.png" alt="matric"></p>
<figure class="highlight matlab"><table><tr><td class="code"><pre><span class="line">&gt;&gt; clf;</span><br><span class="line">&gt;&gt; A = <span class="built_in">magic</span>(<span class="number">5</span>)</span><br><span class="line">A =</span><br><span class="line"></span><br><span class="line">   <span class="number">17</span>   <span class="number">24</span>    <span class="number">1</span>    <span class="number">8</span>   <span class="number">15</span></span><br><span class="line">   <span class="number">23</span>    <span class="number">5</span>    <span class="number">7</span>   <span class="number">14</span>   <span class="number">16</span></span><br><span class="line">    <span class="number">4</span>    <span class="number">6</span>   <span class="number">13</span>   <span class="number">20</span>   <span class="number">22</span></span><br><span class="line">   <span class="number">10</span>   <span class="number">12</span>   <span class="number">19</span>   <span class="number">21</span>    <span class="number">3</span></span><br><span class="line">   <span class="number">11</span>   <span class="number">18</span>   <span class="number">25</span>    <span class="number">2</span>    <span class="number">9</span></span><br><span class="line"></span><br><span class="line">&gt;&gt; imagesc(A)</span><br><span class="line">&gt;&gt; imagesc(A), colorbar, colormap gray;</span><br></pre></td></tr></table></figure>
<p><img src="/images/ml/ml-ng-w2-12.png" alt="matric"></p>
<figure class="highlight matlab"><table><tr><td class="code"><pre><span class="line">&gt;&gt; imagesc(<span class="built_in">magic</span>(<span class="number">15</span>)), colorbar, colormap gray;</span><br><span class="line">&gt;&gt; a=<span class="number">1</span>,b=<span class="number">2</span>,c=<span class="number">3</span></span><br><span class="line">a =  <span class="number">1</span></span><br><span class="line">b =  <span class="number">2</span></span><br><span class="line">c =  <span class="number">3</span></span><br></pre></td></tr></table></figure>
<p><img src="/images/ml/ml-ng-w2-13.png" alt="matric"></p>
<h2 id="5-Control-statements-for-while-if"><a href="#5-Control-statements-for-while-if" class="headerlink" title="5. Control statements:for,while,if"></a>5. Control statements:for,while,if</h2><figure class="highlight matlab"><table><tr><td class="code"><pre><span class="line">v = <span class="built_in">zeros</span>(<span class="number">10</span>,<span class="number">1</span>);</span><br><span class="line"><span class="keyword">for</span> <span class="built_in">i</span>=<span class="number">1</span>:<span class="number">10</span>, </span><br><span class="line">    v(<span class="built_in">i</span>) = <span class="number">2</span>^<span class="built_in">i</span>;</span><br><span class="line"><span class="keyword">end</span>;</span><br><span class="line"><span class="comment">% Can also use "break" and "continue" inside for and while loops to control execution.</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">i</span> = <span class="number">1</span>;</span><br><span class="line"><span class="keyword">while</span> <span class="built_in">i</span> &lt;= <span class="number">5</span>,</span><br><span class="line">  v(<span class="built_in">i</span>) = <span class="number">100</span>; </span><br><span class="line">  <span class="built_in">i</span> = <span class="built_in">i</span>+<span class="number">1</span>;</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">i</span> = <span class="number">1</span>;</span><br><span class="line"><span class="keyword">while</span> true, </span><br><span class="line">  v(<span class="built_in">i</span>) = <span class="number">999</span>; </span><br><span class="line">  <span class="built_in">i</span> = <span class="built_in">i</span>+<span class="number">1</span>;</span><br><span class="line">  <span class="keyword">if</span> <span class="built_in">i</span> == <span class="number">6</span>,</span><br><span class="line">    <span class="keyword">break</span>;</span><br><span class="line">  <span class="keyword">end</span>;</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> v(<span class="number">1</span>)==<span class="number">1</span>,</span><br><span class="line">  <span class="built_in">disp</span>(<span class="string">'The value is one!'</span>);</span><br><span class="line"><span class="keyword">elseif</span> v(<span class="number">1</span>)==<span class="number">2</span>,</span><br><span class="line">  <span class="built_in">disp</span>(<span class="string">'The value is two!'</span>);</span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">  <span class="built_in">disp</span>(<span class="string">'The value is not one or two!'</span>);</span><br><span class="line"><span class="keyword">end</span></span><br></pre></td></tr></table></figure>
<p>run example :</p>
<figure class="highlight matlab"><table><tr><td class="code"><pre><span class="line">&gt;&gt; <span class="built_in">i</span> = <span class="number">1</span>;</span><br><span class="line">&gt;&gt; <span class="keyword">while</span> <span class="built_in">i</span> &lt;= <span class="number">5</span>,</span><br><span class="line">     v(<span class="built_in">i</span>) = <span class="number">100</span>;</span><br><span class="line">     <span class="built_in">i</span> = <span class="built_in">i</span>+<span class="number">1</span>;</span><br><span class="line">   <span class="keyword">end</span>;</span><br><span class="line">&gt;&gt; v</span><br><span class="line">v =</span><br><span class="line"></span><br><span class="line">    <span class="number">100</span></span><br><span class="line">    <span class="number">100</span></span><br><span class="line">    <span class="number">100</span></span><br><span class="line">    <span class="number">100</span></span><br><span class="line">    <span class="number">100</span></span><br><span class="line">     <span class="number">64</span></span><br><span class="line">    <span class="number">128</span></span><br><span class="line">    <span class="number">256</span></span><br><span class="line">    <span class="number">512</span></span><br><span class="line">   <span class="number">1024</span></span><br><span class="line"></span><br><span class="line">&gt;&gt; <span class="built_in">i</span> = <span class="number">1</span>;</span><br><span class="line">&gt;&gt; <span class="keyword">while</span> true,</span><br><span class="line">     v(<span class="built_in">i</span>) = <span class="number">999</span>;</span><br><span class="line">     <span class="built_in">i</span> = <span class="built_in">i</span> + <span class="number">1</span>;</span><br><span class="line">     <span class="keyword">if</span> <span class="built_in">i</span> == <span class="number">6</span>,</span><br><span class="line">       <span class="keyword">break</span>;</span><br><span class="line">     <span class="keyword">end</span>;</span><br><span class="line">   <span class="keyword">end</span>;</span><br><span class="line">&gt;&gt; v</span><br><span class="line">v =</span><br><span class="line"></span><br><span class="line">    <span class="number">999</span></span><br><span class="line">    <span class="number">999</span></span><br><span class="line">    <span class="number">999</span></span><br><span class="line">    <span class="number">999</span></span><br><span class="line">    <span class="number">999</span></span><br><span class="line">     <span class="number">64</span></span><br><span class="line">    <span class="number">128</span></span><br><span class="line">    <span class="number">256</span></span><br><span class="line">    <span class="number">512</span></span><br><span class="line">   <span class="number">1024</span></span><br><span class="line">&gt;&gt; v(<span class="number">1</span>)</span><br><span class="line"><span class="built_in">ans</span> =  <span class="number">999</span></span><br><span class="line">&gt;&gt; v(<span class="number">1</span>) = <span class="number">2</span>;</span><br><span class="line">&gt;&gt; <span class="keyword">if</span> v(<span class="number">1</span>) == <span class="number">1</span>,</span><br><span class="line">     <span class="built_in">disp</span>(<span class="string">'The value is one'</span>);</span><br><span class="line">   <span class="keyword">elseif</span> v(<span class="number">1</span>) == <span class="number">2</span>,</span><br><span class="line">     <span class="built_in">disp</span>(<span class="string">'The value is two'</span>);</span><br><span class="line">   <span class="keyword">else</span></span><br><span class="line">     <span class="built_in">disp</span>(<span class="string">'The value is not 1 or 2'</span>);</span><br><span class="line">   <span class="keyword">end</span>;</span><br><span class="line">The value is two</span><br></pre></td></tr></table></figure>
<h2 id="6-Functions"><a href="#6-Functions" class="headerlink" title="6. Functions"></a>6. Functions</h2><p>To call the function in Octave, do either:</p>
<p>1) Navigate to the directory of the functionName.m file and call the function:</p>
<figure class="highlight"><table><tr><td class="code"><pre><span class="line">% Navigate to directory:</span><br><span class="line">  cd /path/to/function</span><br><span class="line"></span><br><span class="line">  % Call the function:</span><br><span class="line">  functionName(args)</span><br></pre></td></tr></table></figure>
<blockquote>
<p>simple compute line regression</p>
</blockquote>
<figure class="highlight matlab"><table><tr><td class="code"><pre><span class="line">&gt;&gt; x = [<span class="number">1</span> <span class="number">1</span>; <span class="number">1</span> <span class="number">2</span>; <span class="number">1</span> <span class="number">3</span>;]</span><br><span class="line">x =</span><br><span class="line"></span><br><span class="line">   <span class="number">1</span>   <span class="number">1</span></span><br><span class="line">   <span class="number">1</span>   <span class="number">2</span></span><br><span class="line">   <span class="number">1</span>   <span class="number">3</span></span><br><span class="line"></span><br><span class="line">&gt;&gt; y = [<span class="number">1</span>; <span class="number">2</span>; <span class="number">3</span>]</span><br><span class="line">y =</span><br><span class="line"></span><br><span class="line">   <span class="number">1</span></span><br><span class="line">   <span class="number">2</span></span><br><span class="line">   <span class="number">3</span></span><br><span class="line"></span><br><span class="line">&gt;&gt; theta = [<span class="number">0</span>;<span class="number">1</span>];</span><br><span class="line">&gt;&gt; <span class="built_in">j</span> = costFunctionJ(x,y,theta)</span><br><span class="line"><span class="built_in">j</span> = <span class="number">0</span></span><br><span class="line">&gt;&gt; theta = [<span class="number">0</span>:<span class="number">0</span>];</span><br><span class="line">&gt;&gt; <span class="built_in">j</span> = costFunctionJ(x, y, theta)</span><br><span class="line">warning: operator -: automatic broadcasting operation applied</span><br><span class="line"><span class="built_in">j</span> =</span><br><span class="line"></span><br><span class="line">   <span class="number">2.3333</span>   <span class="number">2.3333</span></span><br><span class="line">   <span class="number">2.3333</span>   <span class="number">2.3333</span></span><br></pre></td></tr></table></figure>
<blockquote>
<p>åº”è¯¥ä¸ºä¸€ä¸ª 2.3333ï¼Œ è€Œä¸æ˜¯çŸ©é˜µ 2.3333</p>
</blockquote>
<figure class="highlight matlab"><table><tr><td class="code"><pre><span class="line">&gt;&gt; (<span class="number">1</span>^<span class="number">2</span> + <span class="number">2</span>^<span class="number">2</span> + <span class="number">3</span>^<span class="number">2</span>) / (<span class="number">2</span>*<span class="number">3</span>)</span><br><span class="line"><span class="built_in">ans</span> =  <span class="number">2.3333</span></span><br><span class="line">&gt;&gt; [<span class="number">-1</span>,<span class="number">-2</span>,<span class="number">-3</span>]*[<span class="number">-1</span>;<span class="number">-2</span>;<span class="number">-3</span>]</span><br><span class="line"><span class="built_in">ans</span> =  <span class="number">14</span></span><br><span class="line">&gt;&gt; <span class="number">14</span> / <span class="number">6</span></span><br><span class="line"><span class="built_in">ans</span> =  <span class="number">2.3333</span></span><br><span class="line">&gt;&gt;</span><br></pre></td></tr></table></figure>
<h2 id="7-Vectorization"><a href="#7-Vectorization" class="headerlink" title="7. Vectorization"></a>7. Vectorization</h2><p>Vectorization is the process of taking code that relies on loops and converting it into matrix operations. It is more efficient, more elegant, and more concise.</p>
<p>As an example, letâ€™s compute our prediction from a hypothesis. Theta is the vector of fields for the hypothesis and x is a vector of variables.</p>
<p>With loops:</p>
<figure class="highlight matlab"><table><tr><td class="code"><pre><span class="line">prediction = <span class="number">0.0</span>;</span><br><span class="line"><span class="keyword">for</span> <span class="built_in">j</span> = <span class="number">1</span>:n+<span class="number">1</span>,</span><br><span class="line">  prediction += theta(<span class="built_in">j</span>) * x(<span class="built_in">j</span>);</span><br><span class="line"><span class="keyword">end</span>;</span><br></pre></td></tr></table></figure>
<p>With vectorization:</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">prediction = theta&apos; * x;</span><br></pre></td></tr></table></figure>
<h2 id="Reference-article"><a href="#Reference-article" class="headerlink" title="Reference article"></a>Reference article</h2><blockquote>
<ol>
<li>coursera week 2 learning notes</li>
<li><a href="http://blog.chenming.info/blog/2012/07/15/learn-octave/" target="_blank" rel="external">å­¦ä¹ ä¸€ç‚¹</a></li>
</ol>
</blockquote>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[Country And City]]></title>
      <url>http://iequa.com/2016/10/15/en-knowledge-map-l1/</url>
      <content type="html"><![CDATA[<blockquote>
<p>knowledge map - country and city</p>
</blockquote>
<h2 id="Country-And-City"><a href="#Country-And-City" class="headerlink" title="Country And City"></a>Country And City</h2><table>
<thead>
<tr>
<th>country</th>
<th>capital</th>
<th>main city</th>
</tr>
</thead>
<tbody>
<tr>
<td>Britainã€€</td>
<td>London</td>
<td>London</td>
</tr>
<tr>
<td>The United States</td>
<td>Washington</td>
<td>New Yorkã€Bostonã€Los Angelesã€San Franciscoã€Seattleã€Chicagoã€ Miamiã€Hawaii</td>
</tr>
<tr>
<td>Canada</td>
<td>Ottawa</td>
<td>Toronto [tÉ™â€™rÉ’ntÉ™ÊŠ]</td>
</tr>
<tr>
<td>Japan</td>
<td>Tokyo</td>
<td>Osakaã€Fukuokaã€Hokkaidoã€Nagoya</td>
</tr>
<tr>
<td>South Korea</td>
<td>Seoul [sÉ™ÊŠl]</td>
<td>Busan </td>
</tr>
<tr>
<td>Australien</td>
<td>Canberra</td>
<td>Sydneyã€Melbourne</td>
</tr>
<tr>
<td>New Zealand</td>
<td>Wellington</td>
<td>Auckland</td>
</tr>
<tr>
<td>Singapore</td>
<td>Singapore</td>
<td>Singapore</td>
</tr>
<tr>
<td>Malaysia</td>
<td>Kuala Lumpur</td>
<td>Kuala Lumpur [ËˆkwÉ‘:lÉ™ËˆlumpuÉ™]ã€Malacca</td>
</tr>
<tr>
<td>Thailand</td>
<td>Bangkok</td>
<td>chiengmaiã€huahinã€Phuketã€Pattaya</td>
</tr>
<tr>
<td>Philippines</td>
<td>Manila  [mÉ™â€™nilÉ™]</td>
</tr>
<tr>
<td>India</td>
<td>New Delhi [â€˜deli]</td>
<td></td>
</tr>
<tr>
<td>Indonesia</td>
<td>Jakarta</td>
<td></td>
</tr>
<tr>
<td>Spain [spein]</td>
<td>Madrid</td>
<td></td>
</tr>
<tr>
<td>Germany</td>
<td>Berlin</td>
<td>Munich [â€˜mju:nik]</td>
</tr>
<tr>
<td>France</td>
<td>Paris</td>
</tr>
<tr>
<td>Italy</td>
<td>Rome</td>
</tr>
<tr>
<td>Russia</td>
<td>Moscow</td>
</tr>
<tr>
<td>Mexico</td>
<td>Mexico</td>
</tr>
</tbody>
</table>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[Coursera Week 2 - Octave learning]]></title>
      <url>http://iequa.com/2016/10/12/ml-coursera-ng-w2-02/</url>
      <content type="html"><![CDATA[<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js"],
    jax: ["input/TeX"],
    tex2jax: {
      inlineMath: [ ['$','$'], ['\\(','\\)'] ],
      displayMath: [ ['$$','$$']],
      processEscapes: true
    }
  });
</script>
<script type="text/javascript" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS_HTML,http://myserver.com/MathJax/config/local/local.js">
</script>

<p>Octave Tutorial, Octave Learning</p>
<h2 id="1-var"><a href="#1-var" class="headerlink" title="1. var"></a>1. var</h2><blockquote>
<p>ä¸åƒmatlabæœ‰å›¾å½¢ç•Œé¢ï¼Œoctaveåªæä¾›äº†å‘½ä»¤è¡Œæ¥å£ã€‚ è¦å¯åŠ¨octaveï¼Œåªéœ€è¦åœ¨å‘½ä»¤è¡Œè¾“å…¥octaveå³å¯ã€‚</p>
</blockquote>
<figure class="highlight matlab"><table><tr><td class="code"><pre><span class="line">&gt;&gt; <span class="number">2</span> * (<span class="number">3</span> + <span class="number">5</span>)</span><br><span class="line"><span class="built_in">ans</span> =  <span class="number">16</span></span><br><span class="line">&gt;&gt; <span class="number">2</span> ^ (<span class="number">3</span> + <span class="number">5</span>)</span><br><span class="line"><span class="built_in">ans</span> =  <span class="number">256</span></span><br><span class="line">&gt;&gt; x = <span class="number">2</span> * <span class="number">3</span></span><br><span class="line">x =  <span class="number">6</span></span><br><span class="line">&gt;&gt; who</span><br><span class="line">Variables in the current scope:</span><br><span class="line"></span><br><span class="line"><span class="built_in">ans</span>  x</span><br><span class="line"></span><br><span class="line">&gt;&gt; <span class="built_in">disp</span>(x)</span><br><span class="line"> <span class="number">6</span></span><br><span class="line">&gt;&gt;</span><br></pre></td></tr></table></figure>
<h2 id="2-constant"><a href="#2-constant" class="headerlink" title="2. constant"></a>2. constant</h2><figure class="highlight matlab"><table><tr><td class="code"><pre><span class="line">&gt; <span class="built_in">pi</span></span><br><span class="line"><span class="built_in">ans</span> =  <span class="number">3.1416</span></span><br><span class="line">&gt;&gt; e</span><br><span class="line"><span class="built_in">ans</span> =  <span class="number">2.7183</span></span><br><span class="line">&gt;&gt; format long</span><br><span class="line">&gt;&gt; <span class="built_in">pi</span></span><br><span class="line"><span class="built_in">ans</span> =  <span class="number">3.14159265358979</span></span><br><span class="line">&gt;&gt; format short</span><br><span class="line">&gt;&gt; <span class="built_in">pi</span></span><br><span class="line"><span class="built_in">ans</span> =  <span class="number">3.1416</span></span><br><span class="line">&gt;&gt;</span><br></pre></td></tr></table></figure>
<blockquote>
<p>octaveç³»ç»Ÿå®šä¹‰äº†åœ†å‘¨ç‡piå’Œè‡ªç„¶æŒ‡æ•°eè¿™ä¸¤ä¸ªå¸¸é‡, octave å¯ä»¥å®šä¹‰æ˜¾ç¤ºç»“æœ</p>
</blockquote>
<figure class="highlight matlab"><table><tr><td class="code"><pre><span class="line">&gt;&gt; <span class="number">3</span>/<span class="number">0</span></span><br><span class="line">warning: division by zero</span><br><span class="line"><span class="built_in">ans</span> = Inf</span><br><span class="line">&gt;&gt; <span class="number">0</span>/<span class="number">0</span></span><br><span class="line">warning: division by zero</span><br><span class="line"><span class="built_in">ans</span> = NaN</span><br><span class="line">&gt;&gt;</span><br></pre></td></tr></table></figure>
<blockquote>
<p>ç³»ç»Ÿå®šä¹‰äº†Infå’ŒNaNï¼ˆæ³¨æ„è¦åŒºåˆ†å¤§å°å†™ï¼‰ã€‚Inf(Infinity)è¡¨ç¤ºè¢«é›¶é™¤çš„ç»“æœï¼ŒNaN(Not a Number)è¡¨ç¤ºé›¶é™¤é›¶çš„ç»“æœã€‚</p>
</blockquote>
<h2 id="3-workspace"><a href="#3-workspace" class="headerlink" title="3. workspace"></a>3. workspace</h2><p>ä½¿ç”¨saveå‘½ä»¤ä¿å­˜å½“å‰å·¥ä½œåŒºåˆ°æ–‡ä»¶ work1</p>
<figure class="highlight matlab"><table><tr><td class="code"><pre><span class="line">&gt;&gt; save work1</span><br><span class="line">&gt;&gt; load work1</span><br><span class="line">&gt;&gt; <span class="built_in">pi</span></span><br><span class="line"><span class="built_in">ans</span> =  <span class="number">3.1416</span></span><br></pre></td></tr></table></figure>
<h2 id="4-semicolon"><a href="#4-semicolon" class="headerlink" title="4. semicolon"></a>4. semicolon</h2><figure class="highlight matlab"><table><tr><td class="code"><pre><span class="line">octave:<span class="number">32</span>&gt; x = <span class="number">2</span> * <span class="number">3</span></span><br><span class="line">x =  <span class="number">6</span></span><br><span class="line">octave:<span class="number">33</span>&gt; x = <span class="number">2</span> * <span class="number">3</span>;</span><br><span class="line">octave:<span class="number">34</span>&gt; <span class="built_in">disp</span>(x)</span><br><span class="line"> <span class="number">6</span></span><br></pre></td></tr></table></figure>
<h2 id="5-matrix"><a href="#5-matrix" class="headerlink" title="5. matrix"></a>5. matrix</h2><p>çŸ©é˜µä½¿ç”¨æ–¹æ‹¬å·([])æ‹¬èµ·æ¥ï¼Œç»´åº¦ä½¿ç”¨åˆ†å·(;)åˆ†å‰²ã€‚ åŒä¸€ç»´åº¦ä¹‹é—´çš„åˆ†éš”ç¬¦å¯ä»¥æ˜¯ç©ºæ ¼æˆ–é€—å·(,)</p>
<figure class="highlight matlab"><table><tr><td class="code"><pre><span class="line">octave:<span class="number">35</span>&gt; x = [ <span class="number">2</span> <span class="number">3</span> <span class="number">5</span> ]</span><br><span class="line">x =</span><br><span class="line"></span><br><span class="line">   <span class="number">2</span>   <span class="number">3</span>   <span class="number">5</span></span><br><span class="line"></span><br><span class="line">octave:<span class="number">36</span>&gt; y = [ <span class="number">2</span>, <span class="number">3</span>, <span class="number">5</span> ]</span><br><span class="line">y =</span><br><span class="line"></span><br><span class="line">   <span class="number">2</span>   <span class="number">3</span>   <span class="number">5</span></span><br><span class="line"></span><br><span class="line">octave:<span class="number">37</span>&gt; z = [ <span class="number">2</span>; <span class="number">3</span>; <span class="number">5</span> ]</span><br><span class="line">z =</span><br><span class="line"></span><br><span class="line">   <span class="number">2</span></span><br><span class="line">   <span class="number">3</span></span><br><span class="line">   <span class="number">5</span></span><br><span class="line"></span><br><span class="line">octave:<span class="number">39</span>&gt; a = [ <span class="number">1</span> <span class="number">2</span>; <span class="number">1</span>, <span class="number">3</span>; <span class="number">1</span>   <span class="number">5</span> ]</span><br><span class="line">a =</span><br><span class="line"></span><br><span class="line">   <span class="number">1</span>   <span class="number">2</span></span><br><span class="line">   <span class="number">1</span>   <span class="number">3</span></span><br><span class="line">   <span class="number">1</span>   <span class="number">5</span></span><br></pre></td></tr></table></figure>
<p>ä½¿ç”¨å†’å·è¡¨è¾¾å¼å¿«é€Ÿæ„é€ è¿ç»­çš„å‘é‡</p>
<figure class="highlight matlab"><table><tr><td class="code"><pre><span class="line">octave:<span class="number">43</span>&gt; v = <span class="number">2</span>:<span class="number">5</span></span><br><span class="line">v =</span><br><span class="line"></span><br><span class="line">   <span class="number">2</span>   <span class="number">3</span>   <span class="number">4</span>   <span class="number">5</span></span><br><span class="line">   </span><br><span class="line">octave:<span class="number">44</span>&gt; v = <span class="number">2</span>:<span class="number">0.3</span>:<span class="number">3</span></span><br><span class="line">v =</span><br><span class="line"></span><br><span class="line">    <span class="number">2.0000</span>    <span class="number">2.3000</span>    <span class="number">2.6000</span>    <span class="number">2.9000</span></span><br></pre></td></tr></table></figure>
<p>æ„é€ çŸ©é˜µçš„å‡½æ•°</p>
<blockquote>
<p><code>linspace(start, end, N)</code> äº§ç”ŸNä¸ªå‡åŒ€åˆ†å¸ƒäºstartå’Œendä¹‹é—´çš„å‘é‡ã€‚ åœ¨ç»˜å›¾æ—¶ç”¨äºäº§ç”Ÿxåæ ‡ç‰¹åˆ«æœ‰ç”¨ã€‚</p>
<p><code>logspace(start, end, N)</code> äº§ç”ŸNä¸ªæŒ‡æ•°åˆ†å¸ƒäº10^startå’Œ10^endä¹‹é—´çš„å‘é‡ã€‚ åœ¨ç»˜å›¾æ—¶ç”¨äºäº§ç”Ÿxåæ ‡ç‰¹åˆ«æœ‰ç”¨ã€‚</p>
<p>zeros(M, N)</p>
<p>zeros(N) = zeros(N, N)ã€‚</p>
<p>ones(M, N)</p>
<p>ones(N) = ones(N, N)ã€‚</p>
<p>rand(M, N) å€¼ä½äº0~1çš„éšæœºæ•°çš„çŸ©é˜µã€‚</p>
<p>rand(N) = rand(N, N)ã€‚</p>
</blockquote>
<figure class="highlight matlab"><table><tr><td class="code"><pre><span class="line">octave:<span class="number">66</span>&gt; x = <span class="built_in">linspace</span> (<span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>)</span><br><span class="line">x =</span><br><span class="line"></span><br><span class="line"> Columns <span class="number">1</span> through <span class="number">4</span>:</span><br><span class="line"></span><br><span class="line">   <span class="number">3.00000000000000</span>   <span class="number">3.25000000000000</span>   <span class="number">3.50000000000000</span>   <span class="number">3.75000000000000</span></span><br><span class="line"></span><br><span class="line"> Column <span class="number">5</span>:</span><br><span class="line"></span><br><span class="line">   <span class="number">4.00000000000000</span></span><br><span class="line"></span><br><span class="line">octave:<span class="number">67</span>&gt; <span class="built_in">logspace</span> (<span class="number">1</span>, <span class="number">2</span>, <span class="number">6</span>)</span><br><span class="line"><span class="built_in">ans</span> =</span><br><span class="line"></span><br><span class="line"> Columns <span class="number">1</span> through <span class="number">4</span>:</span><br><span class="line"></span><br><span class="line">    <span class="number">10.0000000000000</span>    <span class="number">15.8489319246111</span>    <span class="number">25.1188643150958</span>    <span class="number">39.8107170553497</span></span><br><span class="line"></span><br><span class="line"> Columns <span class="number">5</span> and <span class="number">6</span>:</span><br><span class="line"></span><br><span class="line">    <span class="number">63.0957344480193</span>   <span class="number">100.0000000000000</span></span><br></pre></td></tr></table></figure>
<h2 id="6-matrix-operation"><a href="#6-matrix-operation" class="headerlink" title="6. matrix operation"></a>6. matrix operation</h2><figure class="highlight matlab"><table><tr><td class="code"><pre><span class="line">A + B</span><br><span class="line">A - B</span><br><span class="line">A * B</span><br><span class="line">A \ B</span><br></pre></td></tr></table></figure>
<p>è¯´æ˜ï¼šA\Bä¸ºçŸ©é˜µå·¦é™¤ï¼Œç”¨äºæ±‚è§£çº¿æ€§æ–¹ç¨‹Wx=bï¼Œå…¶ä¸­Wä¸ºä¸€ä¸ªnxnçš„çŸ©é˜µï¼Œbä¸ºä¸€ä¸ªnç»´çš„åˆ—å‘é‡ã€‚ æ±‚è§£çº¿æ€§æ–¹å¼ç¤ºä¾‹ï¼š</p>
<figure class="highlight matlab"><table><tr><td class="code"><pre><span class="line">octave:<span class="number">15</span>&gt; W = [<span class="number">1</span> <span class="number">1</span> <span class="number">1</span> <span class="number">1</span>; <span class="number">1</span> <span class="number">2</span> <span class="number">3</span> <span class="number">4</span>; <span class="number">3</span> <span class="number">4</span> <span class="number">6</span> <span class="number">2</span>; <span class="number">2</span> <span class="number">7</span> <span class="number">10</span> <span class="number">5</span>];</span><br><span class="line">octave:<span class="number">16</span>&gt; b = [<span class="number">3</span>; <span class="number">5</span>; <span class="number">5</span>; <span class="number">8</span>];</span><br><span class="line">octave:<span class="number">17</span>&gt; x = W\b</span><br><span class="line">x =</span><br><span class="line"></span><br><span class="line">   <span class="number">1.0000</span></span><br><span class="line">   <span class="number">3.0000</span></span><br><span class="line">  <span class="number">-2.0000</span></span><br><span class="line">   <span class="number">1.0000</span></span><br></pre></td></tr></table></figure>
<p><strong>6.1 matrix transpose</strong></p>
<figure class="highlight matlab"><table><tr><td class="code"><pre><span class="line">octave:<span class="number">9</span>&gt; x = <span class="built_in">rand</span>(<span class="number">3</span>)</span><br><span class="line">x =</span><br><span class="line"></span><br><span class="line">   <span class="number">0.0052581</span>   <span class="number">0.4446771</span>   <span class="number">0.3970036</span></span><br><span class="line">   <span class="number">0.7844458</span>   <span class="number">0.3317067</span>   <span class="number">0.9633000</span></span><br><span class="line">   <span class="number">0.0577080</span>   <span class="number">0.9015905</span>   <span class="number">0.0344771</span></span><br><span class="line"></span><br><span class="line">octave:<span class="number">10</span>&gt; x'</span><br><span class="line"><span class="built_in">ans</span> =</span><br><span class="line"></span><br><span class="line">   <span class="number">0.0052581</span>   <span class="number">0.7844458</span>   <span class="number">0.0577080</span></span><br><span class="line">   <span class="number">0.4446771</span>   <span class="number">0.3317067</span>   <span class="number">0.9015905</span></span><br><span class="line">   <span class="number">0.3970036</span>   <span class="number">0.9633000</span>   <span class="number">0.034477</span></span><br></pre></td></tr></table></figure>
<h2 id="7-plotting"><a href="#7-plotting" class="headerlink" title="7. plotting"></a>7. plotting</h2><figure class="highlight matlab"><table><tr><td class="code"><pre><span class="line">&gt;&gt; t=[<span class="number">0</span>:<span class="number">0.01</span>:<span class="number">0.98</span>];</span><br><span class="line">&gt;&gt; t</span><br><span class="line">t =</span><br><span class="line"></span><br><span class="line"> Columns <span class="number">1</span> through <span class="number">10</span>:</span><br><span class="line"></span><br><span class="line">   <span class="number">0.00000</span>   <span class="number">0.01000</span>   <span class="number">0.02000</span>   <span class="number">0.03000</span>   <span class="number">0.04000</span>   <span class="number">0.05000</span>   <span class="number">0.06000</span>   <span class="number">0.07000</span>   <span class="number">0.08000</span>   <span class="number">0.09000</span></span><br><span class="line"></span><br><span class="line"> Columns <span class="number">11</span> through <span class="number">20</span>:</span><br><span class="line"></span><br><span class="line">   <span class="number">0.10000</span>   <span class="number">0.11000</span>   <span class="number">0.12000</span>   <span class="number">0.13000</span>   <span class="number">0.14000</span>   <span class="number">0.15000</span>   <span class="number">0.16000</span>   <span class="number">0.17000</span>   <span class="number">0.18000</span>   <span class="number">0.19000</span></span><br><span class="line"></span><br><span class="line"> Columns <span class="number">21</span> through <span class="number">30</span>:</span><br><span class="line"></span><br><span class="line">   <span class="number">0.20000</span>   <span class="number">0.21000</span>   <span class="number">0.22000</span>   <span class="number">0.23000</span>   <span class="number">0.24000</span>   <span class="number">0.25000</span>   <span class="number">0.26000</span>   <span class="number">0.27000</span>   <span class="number">0.28000</span>   <span class="number">0.29000</span></span><br><span class="line"></span><br><span class="line"> Columns <span class="number">31</span> through <span class="number">40</span>:</span><br><span class="line"></span><br><span class="line">   <span class="number">0.30000</span>   <span class="number">0.31000</span>   <span class="number">0.32000</span>   <span class="number">0.33000</span>   <span class="number">0.34000</span>   <span class="number">0.35000</span>   <span class="number">0.36000</span>   <span class="number">0.37000</span>   <span class="number">0.38000</span>   <span class="number">0.39000</span></span><br><span class="line"></span><br><span class="line"> Columns <span class="number">41</span> through <span class="number">50</span>:</span><br><span class="line"></span><br><span class="line">   <span class="number">0.40000</span>   <span class="number">0.41000</span>   <span class="number">0.42000</span>   <span class="number">0.43000</span>   <span class="number">0.44000</span>   <span class="number">0.45000</span>   <span class="number">0.46000</span>   <span class="number">0.47000</span>   <span class="number">0.48000</span>   <span class="number">0.49000</span></span><br><span class="line"></span><br><span class="line"> Columns <span class="number">51</span> through <span class="number">60</span>:</span><br><span class="line"></span><br><span class="line">   <span class="number">0.50000</span>   <span class="number">0.51000</span>   <span class="number">0.52000</span>   <span class="number">0.53000</span>   <span class="number">0.54000</span>   <span class="number">0.55000</span>   <span class="number">0.56000</span>   <span class="number">0.57000</span>   <span class="number">0.58000</span>   <span class="number">0.59000</span></span><br><span class="line"></span><br><span class="line"> Columns <span class="number">61</span> through <span class="number">70</span>:</span><br><span class="line"></span><br><span class="line">   <span class="number">0.60000</span>   <span class="number">0.61000</span>   <span class="number">0.62000</span>   <span class="number">0.63000</span>   <span class="number">0.64000</span>   <span class="number">0.65000</span>   <span class="number">0.66000</span>   <span class="number">0.67000</span>   <span class="number">0.68000</span>   <span class="number">0.69000</span></span><br><span class="line"></span><br><span class="line"> Columns <span class="number">71</span> through <span class="number">80</span>:</span><br><span class="line"></span><br><span class="line">   <span class="number">0.70000</span>   <span class="number">0.71000</span>   <span class="number">0.72000</span>   <span class="number">0.73000</span>   <span class="number">0.74000</span>   <span class="number">0.75000</span>   <span class="number">0.76000</span>   <span class="number">0.77000</span>   <span class="number">0.78000</span>   <span class="number">0.79000</span></span><br><span class="line"></span><br><span class="line"> Columns <span class="number">81</span> through <span class="number">90</span>:</span><br><span class="line"></span><br><span class="line">   <span class="number">0.80000</span>   <span class="number">0.81000</span>   <span class="number">0.82000</span>   <span class="number">0.83000</span>   <span class="number">0.84000</span>   <span class="number">0.85000</span>   <span class="number">0.86000</span>   <span class="number">0.87000</span>   <span class="number">0.88000</span>   <span class="number">0.89000</span></span><br><span class="line"></span><br><span class="line"> Columns <span class="number">91</span> through <span class="number">99</span>:</span><br><span class="line"></span><br><span class="line">   <span class="number">0.90000</span>   <span class="number">0.91000</span>   <span class="number">0.92000</span>   <span class="number">0.93000</span>   <span class="number">0.94000</span>   <span class="number">0.95000</span>   <span class="number">0.96000</span>   <span class="number">0.97000</span>   <span class="number">0.98000</span></span><br><span class="line"></span><br><span class="line">&gt;&gt; y1=<span class="built_in">sin</span>(<span class="number">2</span>*<span class="built_in">pi</span>*<span class="number">4</span>*t);</span><br><span class="line">&gt;&gt; plot(t,y1)</span><br><span class="line">&gt;&gt; y2=<span class="built_in">cos</span>(<span class="number">2</span>*<span class="built_in">pi</span>*<span class="number">4</span>*t);</span><br><span class="line">&gt;&gt; plot(t,y2)</span><br><span class="line">&gt;&gt; hold on</span><br><span class="line">&gt;&gt; plot(t,y1)</span><br><span class="line">&gt;&gt; plot(t,y2,<span class="string">'r'</span>)</span><br><span class="line">&gt;&gt; xlabel(<span class="string">'time'</span>)</span><br><span class="line">&gt;&gt; ylabel(<span class="string">'value'</span>)</span><br><span class="line">&gt;&gt; legend(<span class="string">'sin'</span>,<span class="string">'cos'</span>)</span><br><span class="line">&gt;&gt; title(<span class="string">'my plot'</span>)</span><br><span class="line">&gt;&gt; print -dpng <span class="string">'myPlot.png'</span></span><br><span class="line">warning: print.m: fig2dev binary is not available.</span><br><span class="line">Some output formats are not available.</span><br></pre></td></tr></table></figure>
<figure class="highlight matlab"><table><tr><td class="code"><pre><span class="line">&gt;&gt; figure(<span class="number">2</span>); plot(t, y2)</span><br><span class="line">&gt;&gt; subplot(<span class="number">1</span>,<span class="number">2</span>,<span class="number">1</span>);</span><br><span class="line">&gt;&gt; plot(t,y1)</span><br><span class="line">&gt;&gt; subplot(<span class="number">1</span>,<span class="number">2</span>,<span class="number">2</span>)</span><br><span class="line">&gt;&gt; plot(t,y2)</span><br><span class="line">&gt;&gt; axis([<span class="number">0.5</span> <span class="number">1</span> <span class="number">-1</span> <span class="number">1</span>])</span><br></pre></td></tr></table></figure>
<p><img src="/images/ml/ml-ng-w2-11.png" alt="matric"></p>
<figure class="highlight matlab"><table><tr><td class="code"><pre><span class="line">&gt;&gt; clf;</span><br><span class="line">&gt;&gt; A = <span class="built_in">magic</span>(<span class="number">5</span>)</span><br><span class="line">A =</span><br><span class="line"></span><br><span class="line">   <span class="number">17</span>   <span class="number">24</span>    <span class="number">1</span>    <span class="number">8</span>   <span class="number">15</span></span><br><span class="line">   <span class="number">23</span>    <span class="number">5</span>    <span class="number">7</span>   <span class="number">14</span>   <span class="number">16</span></span><br><span class="line">    <span class="number">4</span>    <span class="number">6</span>   <span class="number">13</span>   <span class="number">20</span>   <span class="number">22</span></span><br><span class="line">   <span class="number">10</span>   <span class="number">12</span>   <span class="number">19</span>   <span class="number">21</span>    <span class="number">3</span></span><br><span class="line">   <span class="number">11</span>   <span class="number">18</span>   <span class="number">25</span>    <span class="number">2</span>    <span class="number">9</span></span><br><span class="line"></span><br><span class="line">&gt;&gt; imagesc(A)</span><br><span class="line">&gt;&gt; imagesc(A), colorbar, colormap gray;</span><br></pre></td></tr></table></figure>
<p><img src="/images/ml/ml-ng-w2-12.png" alt="matric"></p>
<figure class="highlight matlab"><table><tr><td class="code"><pre><span class="line">&gt;&gt; imagesc(<span class="built_in">magic</span>(<span class="number">15</span>)), colorbar, colormap gray;</span><br><span class="line">&gt;&gt; a=<span class="number">1</span>,b=<span class="number">2</span>,c=<span class="number">3</span></span><br><span class="line">a =  <span class="number">1</span></span><br><span class="line">b =  <span class="number">2</span></span><br><span class="line">c =  <span class="number">3</span></span><br></pre></td></tr></table></figure>
<p><img src="/images/ml/ml-ng-w2-13.png" alt="matric"></p>
<h2 id="8-ng"><a href="#8-ng" class="headerlink" title="8. ng"></a>8. ng</h2><figure class="highlight matlab"><table><tr><td class="code"><pre><span class="line">&gt;&gt; A = [<span class="number">1</span> <span class="number">2</span>; <span class="number">3</span> <span class="number">4</span>; <span class="number">5</span> <span class="number">6</span>;]</span><br><span class="line">A =</span><br><span class="line"></span><br><span class="line">   <span class="number">1</span>   <span class="number">2</span></span><br><span class="line">   <span class="number">3</span>   <span class="number">4</span></span><br><span class="line">   <span class="number">5</span>   <span class="number">6</span></span><br><span class="line">&gt;&gt; </span><br><span class="line">save hello.mat v; (å‹ç¼©æ¯”ä¾‹å¾ˆå¤§)</span><br><span class="line">save hello.txt v -ascii <span class="comment">% save as text(ASCII)</span></span><br><span class="line"></span><br><span class="line">&gt;&gt; who</span><br><span class="line">Variables in the current scope:</span><br><span class="line"></span><br><span class="line">A</span><br><span class="line"></span><br><span class="line">&gt;&gt; whos</span><br><span class="line">Variables in the current scope:</span><br><span class="line"></span><br><span class="line">   Attr Name        Size                     Bytes  Class</span><br><span class="line">   ==== ====        ====                     =====  =====</span><br><span class="line">        A           <span class="number">3</span>x2                         <span class="number">48</span>  double</span><br><span class="line"></span><br><span class="line">Total is <span class="number">6</span> elements using <span class="number">48</span> bytes</span><br><span class="line"></span><br><span class="line">&gt;&gt; clear</span><br><span class="line">&gt;&gt; A(<span class="number">3</span>,<span class="number">2</span>)</span><br><span class="line"><span class="built_in">ans</span> =  <span class="number">6</span></span><br><span class="line">&gt;&gt; A(:,<span class="number">2</span>)</span><br><span class="line"><span class="built_in">ans</span> =</span><br><span class="line"></span><br><span class="line">   <span class="number">2</span></span><br><span class="line">   <span class="number">4</span></span><br><span class="line">   <span class="number">6</span></span><br><span class="line"></span><br><span class="line">&gt;&gt; A(<span class="number">2</span>,:)</span><br><span class="line"><span class="built_in">ans</span> =</span><br><span class="line"></span><br><span class="line">   <span class="number">3</span>   <span class="number">4</span></span><br><span class="line"></span><br><span class="line">&gt;&gt; A</span><br><span class="line">A =</span><br><span class="line"></span><br><span class="line">   <span class="number">1</span>   <span class="number">2</span></span><br><span class="line">   <span class="number">3</span>   <span class="number">4</span></span><br><span class="line">   <span class="number">5</span>   <span class="number">6</span></span><br><span class="line"></span><br><span class="line">&gt;&gt; A([<span class="number">1</span> <span class="number">3</span>], :)</span><br><span class="line"><span class="built_in">ans</span> =</span><br><span class="line"></span><br><span class="line">   <span class="number">1</span>   <span class="number">2</span></span><br><span class="line">   <span class="number">5</span>   <span class="number">6</span></span><br><span class="line"></span><br><span class="line">&gt;&gt; A(:,<span class="number">2</span>)</span><br><span class="line"><span class="built_in">ans</span> =</span><br><span class="line"></span><br><span class="line">   <span class="number">2</span></span><br><span class="line">   <span class="number">4</span></span><br><span class="line">   <span class="number">6</span></span><br><span class="line"></span><br><span class="line">&gt;&gt; A(:,<span class="number">2</span>) = [<span class="number">10</span>; <span class="number">11</span>; <span class="number">12</span>]</span><br><span class="line">A =</span><br><span class="line"></span><br><span class="line">    <span class="number">1</span>   <span class="number">10</span></span><br><span class="line">    <span class="number">3</span>   <span class="number">11</span></span><br><span class="line">    <span class="number">5</span>   <span class="number">12</span></span><br><span class="line"></span><br><span class="line">&gt;&gt; A = [A, [<span class="number">100</span>; <span class="number">101</span>; <span class="number">102</span>]];</span><br><span class="line">&gt;&gt; A</span><br><span class="line">A =</span><br><span class="line"></span><br><span class="line">     <span class="number">1</span>    <span class="number">10</span>   <span class="number">100</span></span><br><span class="line">     <span class="number">3</span>    <span class="number">11</span>   <span class="number">101</span></span><br><span class="line">     <span class="number">5</span>    <span class="number">12</span>   <span class="number">102</span></span><br><span class="line"></span><br><span class="line">&gt;&gt; [<span class="number">100</span>;<span class="number">101</span>;<span class="number">102</span>]</span><br><span class="line"><span class="built_in">ans</span> =</span><br><span class="line"></span><br><span class="line">   <span class="number">100</span></span><br><span class="line">   <span class="number">101</span></span><br><span class="line">   <span class="number">102</span></span><br><span class="line"></span><br><span class="line">&gt;&gt; <span class="built_in">size</span>(A)</span><br><span class="line"><span class="built_in">ans</span> =</span><br><span class="line"></span><br><span class="line">   <span class="number">3</span>   <span class="number">3</span></span><br><span class="line"></span><br><span class="line">&gt;&gt; A(:)</span><br><span class="line"><span class="built_in">ans</span> =</span><br><span class="line"></span><br><span class="line">     <span class="number">1</span></span><br><span class="line">     <span class="number">3</span></span><br><span class="line">     <span class="number">5</span></span><br><span class="line">    <span class="number">10</span></span><br><span class="line">    <span class="number">11</span></span><br><span class="line">    <span class="number">12</span></span><br><span class="line">   <span class="number">100</span></span><br><span class="line">   <span class="number">101</span></span><br><span class="line">   <span class="number">102</span></span><br><span class="line"></span><br><span class="line">&gt;&gt; A = [<span class="number">1</span> <span class="number">2</span>; <span class="number">3</span> <span class="number">4</span>; <span class="number">5</span> <span class="number">6</span>;]</span><br><span class="line">A =</span><br><span class="line"></span><br><span class="line">   <span class="number">1</span>   <span class="number">2</span></span><br><span class="line">   <span class="number">3</span>   <span class="number">4</span></span><br><span class="line">   <span class="number">5</span>   <span class="number">6</span></span><br><span class="line"></span><br><span class="line">&gt;&gt; B = [<span class="number">11</span> <span class="number">12</span>; <span class="number">13</span> <span class="number">14</span>; <span class="number">15</span> <span class="number">16</span>]</span><br><span class="line">B =</span><br><span class="line"></span><br><span class="line">   <span class="number">11</span>   <span class="number">12</span></span><br><span class="line">   <span class="number">13</span>   <span class="number">14</span></span><br><span class="line">   <span class="number">15</span>   <span class="number">16</span></span><br><span class="line"></span><br><span class="line">&gt;&gt; C = [A B]</span><br><span class="line">C =</span><br><span class="line"></span><br><span class="line">    <span class="number">1</span>    <span class="number">2</span>   <span class="number">11</span>   <span class="number">12</span></span><br><span class="line">    <span class="number">3</span>    <span class="number">4</span>   <span class="number">13</span>   <span class="number">14</span></span><br><span class="line">    <span class="number">5</span>    <span class="number">6</span>   <span class="number">15</span>   <span class="number">16</span></span><br><span class="line"></span><br><span class="line">&gt;&gt; D = [A;B]</span><br><span class="line">D =</span><br><span class="line"></span><br><span class="line">    <span class="number">1</span>    <span class="number">2</span></span><br><span class="line">    <span class="number">3</span>    <span class="number">4</span></span><br><span class="line">    <span class="number">5</span>    <span class="number">6</span></span><br><span class="line">   <span class="number">11</span>   <span class="number">12</span></span><br><span class="line">   <span class="number">13</span>   <span class="number">14</span></span><br><span class="line">   <span class="number">15</span>   <span class="number">16</span></span><br><span class="line"></span><br><span class="line">&gt;&gt; <span class="built_in">size</span>(D)</span><br><span class="line"><span class="built_in">ans</span> =</span><br><span class="line"></span><br><span class="line">   <span class="number">6</span>   <span class="number">2</span></span><br><span class="line"></span><br><span class="line">&gt;&gt; [A, B]</span><br><span class="line"><span class="built_in">ans</span> =</span><br><span class="line"></span><br><span class="line">    <span class="number">1</span>    <span class="number">2</span>   <span class="number">11</span>   <span class="number">12</span></span><br><span class="line">    <span class="number">3</span>    <span class="number">4</span>   <span class="number">13</span>   <span class="number">14</span></span><br><span class="line">    <span class="number">5</span>    <span class="number">6</span>   <span class="number">15</span>   <span class="number">16</span></span><br><span class="line"></span><br><span class="line">&gt;&gt; [A B]</span><br><span class="line"><span class="built_in">ans</span> =</span><br><span class="line"></span><br><span class="line">    <span class="number">1</span>    <span class="number">2</span>   <span class="number">11</span>   <span class="number">12</span></span><br><span class="line">    <span class="number">3</span>    <span class="number">4</span>   <span class="number">13</span>   <span class="number">14</span></span><br><span class="line">    <span class="number">5</span>    <span class="number">6</span>   <span class="number">15</span>   <span class="number">16</span></span><br><span class="line"></span><br><span class="line">&gt;&gt;</span><br><span class="line">&gt;&gt;</span><br><span class="line">&gt;&gt;&gt;&gt; A .* B</span><br><span class="line"><span class="built_in">ans</span> =</span><br><span class="line"></span><br><span class="line">   <span class="number">11</span>   <span class="number">24</span></span><br><span class="line">   <span class="number">39</span>   <span class="number">56</span></span><br><span class="line">   <span class="number">75</span>   <span class="number">96</span></span><br><span class="line"></span><br><span class="line">&gt;&gt; A .^ <span class="number">2</span></span><br><span class="line"><span class="built_in">ans</span> =</span><br><span class="line"></span><br><span class="line">    <span class="number">1</span>    <span class="number">4</span></span><br><span class="line">    <span class="number">9</span>   <span class="number">16</span></span><br><span class="line">   <span class="number">25</span>   <span class="number">36</span></span><br><span class="line"></span><br><span class="line">&gt;&gt; v = [<span class="number">1</span>; <span class="number">2</span>; <span class="number">3</span>]</span><br><span class="line">v =</span><br><span class="line"></span><br><span class="line">   <span class="number">1</span></span><br><span class="line">   <span class="number">2</span></span><br><span class="line">   <span class="number">3</span></span><br><span class="line"></span><br><span class="line">&gt;&gt; <span class="number">1</span> ./ v</span><br><span class="line"><span class="built_in">ans</span> =</span><br><span class="line"></span><br><span class="line">   <span class="number">1.00000</span></span><br><span class="line">   <span class="number">0.50000</span></span><br><span class="line">   <span class="number">0.33333</span></span><br><span class="line"></span><br><span class="line">&gt;&gt; <span class="number">1</span> ./ A</span><br><span class="line"><span class="built_in">ans</span> =</span><br><span class="line"></span><br><span class="line">   <span class="number">1.00000</span>   <span class="number">0.50000</span></span><br><span class="line">   <span class="number">0.33333</span>   <span class="number">0.25000</span></span><br><span class="line">   <span class="number">0.20000</span>   <span class="number">0.16667</span></span><br><span class="line"></span><br><span class="line">&gt;&gt; <span class="built_in">log</span>(v)</span><br><span class="line"><span class="built_in">ans</span> =</span><br><span class="line"></span><br><span class="line">   <span class="number">0.00000</span></span><br><span class="line">   <span class="number">0.69315</span></span><br><span class="line">   <span class="number">1.09861</span></span><br><span class="line"></span><br><span class="line">&gt;&gt; <span class="built_in">exp</span>(v)</span><br><span class="line"><span class="built_in">ans</span> =</span><br><span class="line"></span><br><span class="line">    <span class="number">2.7183</span></span><br><span class="line">    <span class="number">7.3891</span></span><br><span class="line">   <span class="number">20.0855</span></span><br><span class="line"></span><br><span class="line">&gt;&gt; <span class="built_in">abs</span>(v)</span><br><span class="line"><span class="built_in">ans</span> =</span><br><span class="line"></span><br><span class="line">   <span class="number">1</span></span><br><span class="line">   <span class="number">2</span></span><br><span class="line">   <span class="number">3</span></span><br><span class="line"></span><br><span class="line">&gt;&gt; <span class="built_in">abs</span>([<span class="number">-1</span>; <span class="number">-2</span>; <span class="number">-3</span>])</span><br><span class="line"><span class="built_in">ans</span> =</span><br><span class="line"></span><br><span class="line">   <span class="number">1</span></span><br><span class="line">   <span class="number">2</span></span><br><span class="line">   <span class="number">3</span></span><br><span class="line"></span><br><span class="line">&gt;&gt; V = v</span><br><span class="line">V =</span><br><span class="line"></span><br><span class="line">   <span class="number">1</span></span><br><span class="line">   <span class="number">2</span></span><br><span class="line">   <span class="number">3</span></span><br><span class="line"></span><br><span class="line">&gt;&gt; V</span><br><span class="line">V =</span><br><span class="line"></span><br><span class="line">   <span class="number">1</span></span><br><span class="line">   <span class="number">2</span></span><br><span class="line">   <span class="number">3</span></span><br><span class="line"></span><br><span class="line">&gt;&gt; V</span><br><span class="line">V =</span><br><span class="line"></span><br><span class="line">   <span class="number">1</span></span><br><span class="line">   <span class="number">2</span></span><br><span class="line">   <span class="number">3</span></span><br><span class="line"></span><br><span class="line">&gt;&gt; -V</span><br><span class="line"><span class="built_in">ans</span> =</span><br><span class="line"></span><br><span class="line">  <span class="number">-1</span></span><br><span class="line">  <span class="number">-2</span></span><br><span class="line">  <span class="number">-3</span></span><br><span class="line"></span><br><span class="line">&gt;&gt; V + <span class="built_in">ones</span>(<span class="built_in">length</span>(V))</span><br><span class="line">warning: operator +: automatic broadcasting operation applied</span><br><span class="line"><span class="built_in">ans</span> =</span><br><span class="line"></span><br><span class="line">   <span class="number">2</span>   <span class="number">2</span>   <span class="number">2</span></span><br><span class="line">   <span class="number">3</span>   <span class="number">3</span>   <span class="number">3</span></span><br><span class="line">   <span class="number">4</span>   <span class="number">4</span>   <span class="number">4</span></span><br><span class="line"></span><br><span class="line">&gt;&gt; <span class="built_in">length</span>(V)</span><br><span class="line"><span class="built_in">ans</span> =  <span class="number">3</span></span><br><span class="line">&gt;&gt; <span class="built_in">ones</span>(<span class="number">3</span>,<span class="number">1</span>)</span><br><span class="line"><span class="built_in">ans</span> =</span><br><span class="line"></span><br><span class="line">   <span class="number">1</span></span><br><span class="line">   <span class="number">1</span></span><br><span class="line">   <span class="number">1</span></span><br><span class="line"></span><br><span class="line">&gt;&gt; V + <span class="built_in">ones</span>(<span class="number">3</span>, <span class="number">1</span>)</span><br><span class="line"><span class="built_in">ans</span> =</span><br><span class="line"></span><br><span class="line">   <span class="number">2</span></span><br><span class="line">   <span class="number">3</span></span><br><span class="line">   <span class="number">4</span></span><br><span class="line"></span><br><span class="line">&gt;&gt; V + <span class="number">2</span></span><br><span class="line"><span class="built_in">ans</span> =</span><br><span class="line"></span><br><span class="line">   <span class="number">3</span></span><br><span class="line">   <span class="number">4</span></span><br><span class="line">   <span class="number">5</span></span><br><span class="line"></span><br><span class="line">&gt;&gt; V</span><br><span class="line">V =</span><br><span class="line"></span><br><span class="line">   <span class="number">1</span></span><br><span class="line">   <span class="number">2</span></span><br><span class="line">   <span class="number">3</span></span><br><span class="line"></span><br><span class="line">&gt;&gt; A</span><br><span class="line">A =</span><br><span class="line"></span><br><span class="line">   <span class="number">1</span>   <span class="number">2</span></span><br><span class="line">   <span class="number">3</span>   <span class="number">4</span></span><br><span class="line">   <span class="number">5</span>   <span class="number">6</span></span><br><span class="line"></span><br><span class="line">&gt;&gt; A'</span><br><span class="line"><span class="built_in">ans</span> =</span><br><span class="line"></span><br><span class="line">   <span class="number">1</span>   <span class="number">3</span>   <span class="number">5</span></span><br><span class="line">   <span class="number">2</span>   <span class="number">4</span>   <span class="number">6</span></span><br><span class="line"></span><br><span class="line">&gt;&gt; a  = [<span class="number">1</span> <span class="number">15</span> <span class="number">2</span> <span class="number">0.5</span>]</span><br><span class="line">a =</span><br><span class="line"></span><br><span class="line">    <span class="number">1.00000</span>   <span class="number">15.00000</span>    <span class="number">2.00000</span>    <span class="number">0.50000</span></span><br><span class="line"></span><br><span class="line">&gt;&gt; val = max(a)</span><br><span class="line">val =  <span class="number">15</span></span><br><span class="line">&gt;&gt; [val, ind] = max(a)</span><br><span class="line">val =  <span class="number">15</span></span><br><span class="line">ind =  <span class="number">2</span></span><br><span class="line">&gt;&gt; max(A)</span><br><span class="line"><span class="built_in">ans</span> =</span><br><span class="line"></span><br><span class="line">   <span class="number">5</span>   <span class="number">6</span></span><br><span class="line"></span><br><span class="line">&gt;&gt; A</span><br><span class="line">A =</span><br><span class="line"></span><br><span class="line">   <span class="number">1</span>   <span class="number">2</span></span><br><span class="line">   <span class="number">3</span>   <span class="number">4</span></span><br><span class="line">   <span class="number">5</span>   <span class="number">6</span></span><br><span class="line"></span><br><span class="line">&gt;&gt; a</span><br><span class="line">a =</span><br><span class="line"></span><br><span class="line">    <span class="number">1.00000</span>   <span class="number">15.00000</span>    <span class="number">2.00000</span>    <span class="number">0.50000</span></span><br><span class="line"></span><br><span class="line">&gt;&gt; a &lt; <span class="number">3</span></span><br><span class="line"><span class="built_in">ans</span> =</span><br><span class="line"></span><br><span class="line">   <span class="number">1</span>   <span class="number">0</span>   <span class="number">1</span>   <span class="number">1</span></span><br><span class="line"></span><br><span class="line">&gt;&gt; <span class="built_in">find</span>(a &lt; <span class="number">3</span>)</span><br><span class="line"><span class="built_in">ans</span> =</span><br><span class="line"></span><br><span class="line">   <span class="number">1</span>   <span class="number">3</span>   <span class="number">4</span></span><br><span class="line"></span><br><span class="line">&gt;&gt; A = magix(<span class="number">3</span>)</span><br><span class="line">error: <span class="string">'magix'</span> undefined near line <span class="number">1</span> column <span class="number">5</span></span><br><span class="line">&gt;&gt; A = <span class="built_in">magic</span>(<span class="number">3</span>)</span><br><span class="line">A =</span><br><span class="line"></span><br><span class="line">   <span class="number">8</span>   <span class="number">1</span>   <span class="number">6</span></span><br><span class="line">   <span class="number">3</span>   <span class="number">5</span>   <span class="number">7</span></span><br><span class="line">   <span class="number">4</span>   <span class="number">9</span>   <span class="number">2</span></span><br><span class="line"></span><br><span class="line">&gt;&gt; [r, c] = <span class="built_in">find</span>(A &gt;= <span class="number">7</span>)</span><br><span class="line">r =</span><br><span class="line"></span><br><span class="line">   <span class="number">1</span></span><br><span class="line">   <span class="number">3</span></span><br><span class="line">   <span class="number">2</span></span><br><span class="line"></span><br><span class="line">c =</span><br><span class="line"></span><br><span class="line">   <span class="number">1</span></span><br><span class="line">   <span class="number">2</span></span><br><span class="line">   <span class="number">3</span></span><br><span class="line"></span><br><span class="line">&gt;&gt; A(<span class="number">2</span>,<span class="number">3</span>)</span><br><span class="line"><span class="built_in">ans</span> =  <span class="number">7</span></span><br><span class="line">&gt;&gt; sum(a)</span><br><span class="line"><span class="built_in">ans</span> =  <span class="number">18.500</span></span><br><span class="line">&gt;&gt; prod(a)</span><br><span class="line"><span class="built_in">ans</span> =  <span class="number">15</span></span><br><span class="line">&gt;&gt; <span class="built_in">floor</span>(a)</span><br><span class="line"><span class="built_in">ans</span> =</span><br><span class="line"></span><br><span class="line">    <span class="number">1</span>   <span class="number">15</span>    <span class="number">2</span>    <span class="number">0</span></span><br><span class="line"></span><br><span class="line">&gt;&gt; <span class="built_in">ceil</span>(a)</span><br><span class="line"><span class="built_in">ans</span> =</span><br><span class="line"></span><br><span class="line">    <span class="number">1</span>   <span class="number">15</span>    <span class="number">2</span>    <span class="number">1</span></span><br><span class="line"></span><br><span class="line">&gt;&gt; <span class="built_in">rand</span>(<span class="number">3</span>)</span><br><span class="line"><span class="built_in">ans</span> =</span><br><span class="line"></span><br><span class="line">   <span class="number">0.708800</span>   <span class="number">0.905101</span>   <span class="number">0.837562</span></span><br><span class="line">   <span class="number">0.264139</span>   <span class="number">0.265985</span>   <span class="number">0.671546</span></span><br><span class="line">   <span class="number">0.411435</span>   <span class="number">0.058028</span>   <span class="number">0.454436</span></span><br><span class="line"></span><br><span class="line">&gt;&gt; max(<span class="built_in">rand</span>(<span class="number">3</span>), <span class="built_in">rand</span>(<span class="number">3</span>))</span><br><span class="line"><span class="built_in">ans</span> =</span><br><span class="line"></span><br><span class="line">   <span class="number">0.87641</span>   <span class="number">0.74541</span>   <span class="number">0.92027</span></span><br><span class="line">   <span class="number">0.61292</span>   <span class="number">0.57756</span>   <span class="number">0.95694</span></span><br><span class="line">   <span class="number">0.26555</span>   <span class="number">0.76822</span>   <span class="number">0.63566</span></span><br><span class="line"></span><br><span class="line">&gt;&gt; A</span><br><span class="line">A =</span><br><span class="line"></span><br><span class="line">   <span class="number">8</span>   <span class="number">1</span>   <span class="number">6</span></span><br><span class="line">   <span class="number">3</span>   <span class="number">5</span>   <span class="number">7</span></span><br><span class="line">   <span class="number">4</span>   <span class="number">9</span>   <span class="number">2</span></span><br><span class="line"></span><br><span class="line">&gt;&gt; max(A, [], <span class="number">1</span>)</span><br><span class="line"><span class="built_in">ans</span> =</span><br><span class="line"></span><br><span class="line">   <span class="number">8</span>   <span class="number">9</span>   <span class="number">7</span></span><br><span class="line"></span><br><span class="line">&gt;&gt; max(A, [], <span class="number">2</span>)</span><br><span class="line"><span class="built_in">ans</span> =</span><br><span class="line"></span><br><span class="line">   <span class="number">8</span></span><br><span class="line">   <span class="number">7</span></span><br><span class="line">   <span class="number">9</span></span><br><span class="line"></span><br><span class="line">&gt;&gt; max(A)</span><br><span class="line"><span class="built_in">ans</span> =</span><br><span class="line"></span><br><span class="line">   <span class="number">8</span>   <span class="number">9</span>   <span class="number">7</span></span><br><span class="line"></span><br><span class="line">&gt;&gt; max(max(A))</span><br><span class="line"><span class="built_in">ans</span> =  <span class="number">9</span></span><br><span class="line">&gt;&gt; A(:)</span><br><span class="line"><span class="built_in">ans</span> =</span><br><span class="line"></span><br><span class="line">   <span class="number">8</span></span><br><span class="line">   <span class="number">3</span></span><br><span class="line">   <span class="number">4</span></span><br><span class="line">   <span class="number">1</span></span><br><span class="line">   <span class="number">5</span></span><br><span class="line">   <span class="number">9</span></span><br><span class="line">   <span class="number">6</span></span><br><span class="line">   <span class="number">7</span></span><br><span class="line">   <span class="number">2</span></span><br><span class="line"></span><br><span class="line">&gt;&gt; max(A(:))</span><br><span class="line"><span class="built_in">ans</span> =  <span class="number">9</span></span><br><span class="line">&gt;&gt;</span><br><span class="line">&gt;&gt;</span><br><span class="line">&gt;&gt; A = <span class="built_in">magic</span>(<span class="number">9</span>)</span><br><span class="line">A =</span><br><span class="line"></span><br><span class="line">   <span class="number">47</span>   <span class="number">58</span>   <span class="number">69</span>   <span class="number">80</span>    <span class="number">1</span>   <span class="number">12</span>   <span class="number">23</span>   <span class="number">34</span>   <span class="number">45</span></span><br><span class="line">   <span class="number">57</span>   <span class="number">68</span>   <span class="number">79</span>    <span class="number">9</span>   <span class="number">11</span>   <span class="number">22</span>   <span class="number">33</span>   <span class="number">44</span>   <span class="number">46</span></span><br><span class="line">   <span class="number">67</span>   <span class="number">78</span>    <span class="number">8</span>   <span class="number">10</span>   <span class="number">21</span>   <span class="number">32</span>   <span class="number">43</span>   <span class="number">54</span>   <span class="number">56</span></span><br><span class="line">   <span class="number">77</span>    <span class="number">7</span>   <span class="number">18</span>   <span class="number">20</span>   <span class="number">31</span>   <span class="number">42</span>   <span class="number">53</span>   <span class="number">55</span>   <span class="number">66</span></span><br><span class="line">    <span class="number">6</span>   <span class="number">17</span>   <span class="number">19</span>   <span class="number">30</span>   <span class="number">41</span>   <span class="number">52</span>   <span class="number">63</span>   <span class="number">65</span>   <span class="number">76</span></span><br><span class="line">   <span class="number">16</span>   <span class="number">27</span>   <span class="number">29</span>   <span class="number">40</span>   <span class="number">51</span>   <span class="number">62</span>   <span class="number">64</span>   <span class="number">75</span>    <span class="number">5</span></span><br><span class="line">   <span class="number">26</span>   <span class="number">28</span>   <span class="number">39</span>   <span class="number">50</span>   <span class="number">61</span>   <span class="number">72</span>   <span class="number">74</span>    <span class="number">4</span>   <span class="number">15</span></span><br><span class="line">   <span class="number">36</span>   <span class="number">38</span>   <span class="number">49</span>   <span class="number">60</span>   <span class="number">71</span>   <span class="number">73</span>    <span class="number">3</span>   <span class="number">14</span>   <span class="number">25</span></span><br><span class="line">   <span class="number">37</span>   <span class="number">48</span>   <span class="number">59</span>   <span class="number">70</span>   <span class="number">81</span>    <span class="number">2</span>   <span class="number">13</span>   <span class="number">24</span>   <span class="number">35</span></span><br><span class="line"></span><br><span class="line">&gt;&gt; sum(A,<span class="number">1</span>)</span><br><span class="line"><span class="built_in">ans</span> =</span><br><span class="line"></span><br><span class="line">   <span class="number">369</span>   <span class="number">369</span>   <span class="number">369</span>   <span class="number">369</span>   <span class="number">369</span>   <span class="number">369</span>   <span class="number">369</span>   <span class="number">369</span>   <span class="number">369</span></span><br><span class="line"></span><br><span class="line">&gt;&gt; sum(A,<span class="number">2</span>)</span><br><span class="line"><span class="built_in">ans</span> =</span><br><span class="line"></span><br><span class="line">   <span class="number">369</span></span><br><span class="line">   <span class="number">369</span></span><br><span class="line">   <span class="number">369</span></span><br><span class="line">   <span class="number">369</span></span><br><span class="line">   <span class="number">369</span></span><br><span class="line">   <span class="number">369</span></span><br><span class="line">   <span class="number">369</span></span><br><span class="line">   <span class="number">369</span></span><br><span class="line">   <span class="number">369</span></span><br><span class="line"></span><br><span class="line">&gt;&gt; <span class="built_in">eye</span>(<span class="number">9</span>)</span><br><span class="line"><span class="built_in">ans</span> =</span><br><span class="line"></span><br><span class="line">Diagonal Matrix</span><br><span class="line"></span><br><span class="line">   <span class="number">1</span>   <span class="number">0</span>   <span class="number">0</span>   <span class="number">0</span>   <span class="number">0</span>   <span class="number">0</span>   <span class="number">0</span>   <span class="number">0</span>   <span class="number">0</span></span><br><span class="line">   <span class="number">0</span>   <span class="number">1</span>   <span class="number">0</span>   <span class="number">0</span>   <span class="number">0</span>   <span class="number">0</span>   <span class="number">0</span>   <span class="number">0</span>   <span class="number">0</span></span><br><span class="line">   <span class="number">0</span>   <span class="number">0</span>   <span class="number">1</span>   <span class="number">0</span>   <span class="number">0</span>   <span class="number">0</span>   <span class="number">0</span>   <span class="number">0</span>   <span class="number">0</span></span><br><span class="line">   <span class="number">0</span>   <span class="number">0</span>   <span class="number">0</span>   <span class="number">1</span>   <span class="number">0</span>   <span class="number">0</span>   <span class="number">0</span>   <span class="number">0</span>   <span class="number">0</span></span><br><span class="line">   <span class="number">0</span>   <span class="number">0</span>   <span class="number">0</span>   <span class="number">0</span>   <span class="number">1</span>   <span class="number">0</span>   <span class="number">0</span>   <span class="number">0</span>   <span class="number">0</span></span><br><span class="line">   <span class="number">0</span>   <span class="number">0</span>   <span class="number">0</span>   <span class="number">0</span>   <span class="number">0</span>   <span class="number">1</span>   <span class="number">0</span>   <span class="number">0</span>   <span class="number">0</span></span><br><span class="line">   <span class="number">0</span>   <span class="number">0</span>   <span class="number">0</span>   <span class="number">0</span>   <span class="number">0</span>   <span class="number">0</span>   <span class="number">1</span>   <span class="number">0</span>   <span class="number">0</span></span><br><span class="line">   <span class="number">0</span>   <span class="number">0</span>   <span class="number">0</span>   <span class="number">0</span>   <span class="number">0</span>   <span class="number">0</span>   <span class="number">0</span>   <span class="number">1</span>   <span class="number">0</span></span><br><span class="line">   <span class="number">0</span>   <span class="number">0</span>   <span class="number">0</span>   <span class="number">0</span>   <span class="number">0</span>   <span class="number">0</span>   <span class="number">0</span>   <span class="number">0</span>   <span class="number">1</span></span><br><span class="line"></span><br><span class="line">&gt;&gt; A</span><br><span class="line">A =</span><br><span class="line"></span><br><span class="line">   <span class="number">47</span>   <span class="number">58</span>   <span class="number">69</span>   <span class="number">80</span>    <span class="number">1</span>   <span class="number">12</span>   <span class="number">23</span>   <span class="number">34</span>   <span class="number">45</span></span><br><span class="line">   <span class="number">57</span>   <span class="number">68</span>   <span class="number">79</span>    <span class="number">9</span>   <span class="number">11</span>   <span class="number">22</span>   <span class="number">33</span>   <span class="number">44</span>   <span class="number">46</span></span><br><span class="line">   <span class="number">67</span>   <span class="number">78</span>    <span class="number">8</span>   <span class="number">10</span>   <span class="number">21</span>   <span class="number">32</span>   <span class="number">43</span>   <span class="number">54</span>   <span class="number">56</span></span><br><span class="line">   <span class="number">77</span>    <span class="number">7</span>   <span class="number">18</span>   <span class="number">20</span>   <span class="number">31</span>   <span class="number">42</span>   <span class="number">53</span>   <span class="number">55</span>   <span class="number">66</span></span><br><span class="line">    <span class="number">6</span>   <span class="number">17</span>   <span class="number">19</span>   <span class="number">30</span>   <span class="number">41</span>   <span class="number">52</span>   <span class="number">63</span>   <span class="number">65</span>   <span class="number">76</span></span><br><span class="line">   <span class="number">16</span>   <span class="number">27</span>   <span class="number">29</span>   <span class="number">40</span>   <span class="number">51</span>   <span class="number">62</span>   <span class="number">64</span>   <span class="number">75</span>    <span class="number">5</span></span><br><span class="line">   <span class="number">26</span>   <span class="number">28</span>   <span class="number">39</span>   <span class="number">50</span>   <span class="number">61</span>   <span class="number">72</span>   <span class="number">74</span>    <span class="number">4</span>   <span class="number">15</span></span><br><span class="line">   <span class="number">36</span>   <span class="number">38</span>   <span class="number">49</span>   <span class="number">60</span>   <span class="number">71</span>   <span class="number">73</span>    <span class="number">3</span>   <span class="number">14</span>   <span class="number">25</span></span><br><span class="line">   <span class="number">37</span>   <span class="number">48</span>   <span class="number">59</span>   <span class="number">70</span>   <span class="number">81</span>    <span class="number">2</span>   <span class="number">13</span>   <span class="number">24</span>   <span class="number">35</span></span><br><span class="line"></span><br><span class="line">&gt;&gt; A .* <span class="built_in">eye</span>(<span class="number">9</span>)</span><br><span class="line"><span class="built_in">ans</span> =</span><br><span class="line"></span><br><span class="line">   <span class="number">47</span>    <span class="number">0</span>    <span class="number">0</span>    <span class="number">0</span>    <span class="number">0</span>    <span class="number">0</span>    <span class="number">0</span>    <span class="number">0</span>    <span class="number">0</span></span><br><span class="line">    <span class="number">0</span>   <span class="number">68</span>    <span class="number">0</span>    <span class="number">0</span>    <span class="number">0</span>    <span class="number">0</span>    <span class="number">0</span>    <span class="number">0</span>    <span class="number">0</span></span><br><span class="line">    <span class="number">0</span>    <span class="number">0</span>    <span class="number">8</span>    <span class="number">0</span>    <span class="number">0</span>    <span class="number">0</span>    <span class="number">0</span>    <span class="number">0</span>    <span class="number">0</span></span><br><span class="line">    <span class="number">0</span>    <span class="number">0</span>    <span class="number">0</span>   <span class="number">20</span>    <span class="number">0</span>    <span class="number">0</span>    <span class="number">0</span>    <span class="number">0</span>    <span class="number">0</span></span><br><span class="line">    <span class="number">0</span>    <span class="number">0</span>    <span class="number">0</span>    <span class="number">0</span>   <span class="number">41</span>    <span class="number">0</span>    <span class="number">0</span>    <span class="number">0</span>    <span class="number">0</span></span><br><span class="line">    <span class="number">0</span>    <span class="number">0</span>    <span class="number">0</span>    <span class="number">0</span>    <span class="number">0</span>   <span class="number">62</span>    <span class="number">0</span>    <span class="number">0</span>    <span class="number">0</span></span><br><span class="line">    <span class="number">0</span>    <span class="number">0</span>    <span class="number">0</span>    <span class="number">0</span>    <span class="number">0</span>    <span class="number">0</span>   <span class="number">74</span>    <span class="number">0</span>    <span class="number">0</span></span><br><span class="line">    <span class="number">0</span>    <span class="number">0</span>    <span class="number">0</span>    <span class="number">0</span>    <span class="number">0</span>    <span class="number">0</span>    <span class="number">0</span>   <span class="number">14</span>    <span class="number">0</span></span><br><span class="line">    <span class="number">0</span>    <span class="number">0</span>    <span class="number">0</span>    <span class="number">0</span>    <span class="number">0</span>    <span class="number">0</span>    <span class="number">0</span>    <span class="number">0</span>   <span class="number">35</span></span><br><span class="line"></span><br><span class="line">&gt;&gt; sum(sum(A .* <span class="built_in">eye</span>(<span class="number">9</span>)))</span><br><span class="line"><span class="built_in">ans</span> =  <span class="number">369</span></span><br><span class="line">&gt;&gt; <span class="built_in">flipud</span>(<span class="built_in">eye</span>(<span class="number">9</span>))</span><br><span class="line"><span class="built_in">ans</span> =</span><br><span class="line"></span><br><span class="line">Permutation Matrix</span><br><span class="line"></span><br><span class="line">   <span class="number">0</span>   <span class="number">0</span>   <span class="number">0</span>   <span class="number">0</span>   <span class="number">0</span>   <span class="number">0</span>   <span class="number">0</span>   <span class="number">0</span>   <span class="number">1</span></span><br><span class="line">   <span class="number">0</span>   <span class="number">0</span>   <span class="number">0</span>   <span class="number">0</span>   <span class="number">0</span>   <span class="number">0</span>   <span class="number">0</span>   <span class="number">1</span>   <span class="number">0</span></span><br><span class="line">   <span class="number">0</span>   <span class="number">0</span>   <span class="number">0</span>   <span class="number">0</span>   <span class="number">0</span>   <span class="number">0</span>   <span class="number">1</span>   <span class="number">0</span>   <span class="number">0</span></span><br><span class="line">   <span class="number">0</span>   <span class="number">0</span>   <span class="number">0</span>   <span class="number">0</span>   <span class="number">0</span>   <span class="number">1</span>   <span class="number">0</span>   <span class="number">0</span>   <span class="number">0</span></span><br><span class="line">   <span class="number">0</span>   <span class="number">0</span>   <span class="number">0</span>   <span class="number">0</span>   <span class="number">1</span>   <span class="number">0</span>   <span class="number">0</span>   <span class="number">0</span>   <span class="number">0</span></span><br><span class="line">   <span class="number">0</span>   <span class="number">0</span>   <span class="number">0</span>   <span class="number">1</span>   <span class="number">0</span>   <span class="number">0</span>   <span class="number">0</span>   <span class="number">0</span>   <span class="number">0</span></span><br><span class="line">   <span class="number">0</span>   <span class="number">0</span>   <span class="number">1</span>   <span class="number">0</span>   <span class="number">0</span>   <span class="number">0</span>   <span class="number">0</span>   <span class="number">0</span>   <span class="number">0</span></span><br><span class="line">   <span class="number">0</span>   <span class="number">1</span>   <span class="number">0</span>   <span class="number">0</span>   <span class="number">0</span>   <span class="number">0</span>   <span class="number">0</span>   <span class="number">0</span>   <span class="number">0</span></span><br><span class="line">   <span class="number">1</span>   <span class="number">0</span>   <span class="number">0</span>   <span class="number">0</span>   <span class="number">0</span>   <span class="number">0</span>   <span class="number">0</span>   <span class="number">0</span>   <span class="number">0</span></span><br><span class="line"></span><br><span class="line">&gt;&gt; sum(sum(A.*<span class="built_in">flipud</span>(<span class="built_in">eye</span>(<span class="number">9</span>))))</span><br><span class="line"><span class="built_in">ans</span> =  <span class="number">369</span></span><br><span class="line">&gt;&gt; A</span><br><span class="line">A =</span><br><span class="line"></span><br><span class="line">   <span class="number">47</span>   <span class="number">58</span>   <span class="number">69</span>   <span class="number">80</span>    <span class="number">1</span>   <span class="number">12</span>   <span class="number">23</span>   <span class="number">34</span>   <span class="number">45</span></span><br><span class="line">   <span class="number">57</span>   <span class="number">68</span>   <span class="number">79</span>    <span class="number">9</span>   <span class="number">11</span>   <span class="number">22</span>   <span class="number">33</span>   <span class="number">44</span>   <span class="number">46</span></span><br><span class="line">   <span class="number">67</span>   <span class="number">78</span>    <span class="number">8</span>   <span class="number">10</span>   <span class="number">21</span>   <span class="number">32</span>   <span class="number">43</span>   <span class="number">54</span>   <span class="number">56</span></span><br><span class="line">   <span class="number">77</span>    <span class="number">7</span>   <span class="number">18</span>   <span class="number">20</span>   <span class="number">31</span>   <span class="number">42</span>   <span class="number">53</span>   <span class="number">55</span>   <span class="number">66</span></span><br><span class="line">    <span class="number">6</span>   <span class="number">17</span>   <span class="number">19</span>   <span class="number">30</span>   <span class="number">41</span>   <span class="number">52</span>   <span class="number">63</span>   <span class="number">65</span>   <span class="number">76</span></span><br><span class="line">   <span class="number">16</span>   <span class="number">27</span>   <span class="number">29</span>   <span class="number">40</span>   <span class="number">51</span>   <span class="number">62</span>   <span class="number">64</span>   <span class="number">75</span>    <span class="number">5</span></span><br><span class="line">   <span class="number">26</span>   <span class="number">28</span>   <span class="number">39</span>   <span class="number">50</span>   <span class="number">61</span>   <span class="number">72</span>   <span class="number">74</span>    <span class="number">4</span>   <span class="number">15</span></span><br><span class="line">   <span class="number">36</span>   <span class="number">38</span>   <span class="number">49</span>   <span class="number">60</span>   <span class="number">71</span>   <span class="number">73</span>    <span class="number">3</span>   <span class="number">14</span>   <span class="number">25</span></span><br><span class="line">   <span class="number">37</span>   <span class="number">48</span>   <span class="number">59</span>   <span class="number">70</span>   <span class="number">81</span>    <span class="number">2</span>   <span class="number">13</span>   <span class="number">24</span>   <span class="number">35</span></span><br><span class="line"></span><br><span class="line">&gt;&gt; A = <span class="built_in">magic</span>(<span class="number">3</span>)</span><br><span class="line">A =</span><br><span class="line"></span><br><span class="line">   <span class="number">8</span>   <span class="number">1</span>   <span class="number">6</span></span><br><span class="line">   <span class="number">3</span>   <span class="number">5</span>   <span class="number">7</span></span><br><span class="line">   <span class="number">4</span>   <span class="number">9</span>   <span class="number">2</span></span><br><span class="line"></span><br><span class="line">&gt;&gt; temp = pinv(A)</span><br><span class="line">temp =</span><br><span class="line"></span><br><span class="line">   <span class="number">0.147222</span>  <span class="number">-0.144444</span>   <span class="number">0.063889</span></span><br><span class="line">  <span class="number">-0.061111</span>   <span class="number">0.022222</span>   <span class="number">0.105556</span></span><br><span class="line">  <span class="number">-0.019444</span>   <span class="number">0.188889</span>  <span class="number">-0.102778</span></span><br></pre></td></tr></table></figure>
<h2 id="Reference-article"><a href="#Reference-article" class="headerlink" title="Reference article"></a>Reference article</h2><blockquote>
<ol>
<li>coursera week 2 learning notes</li>
<li><a href="http://blog.chenming.info/blog/2012/07/15/learn-octave/" target="_blank" rel="external">å­¦ä¹ ä¸€ç‚¹</a></li>
</ol>
</blockquote>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[Coursera Week 2 - Linear Regression with Multiple Variables]]></title>
      <url>http://iequa.com/2016/10/08/ml-coursera-ng-w2-01-Linear-Regression/</url>
      <content type="html"><![CDATA[<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js"],
    jax: ["input/TeX"],
    tex2jax: {
      inlineMath: [ ['$','$'], ['\\(','\\)'] ],
      displayMath: [ ['$$','$$']],
      processEscapes: true
    }
  });
</script>
<script type="text/javascript" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS_HTML,http://myserver.com/MathJax/config/local/local.js">
</script>

<h2 id="1-Multiple-Features"><a href="#1-Multiple-Features" class="headerlink" title="1. Multiple Features"></a>1. Multiple Features</h2><p><img src="/images/ml/ml-ng-w2-01.png" alt="Multiple Features"></p>
<p>$<br>\begin{align}x_j^{(i)} &amp;= \text{value of feature } j \text{ in the }i^{th}\text{ training example} \newline<br>x^{(i)}&amp; = \text{the column vector of all the feature inputs of the }i^{th}\text{ training example} \newline<br>m &amp;= \text{the number of training examples} \newline<br>n &amp;= \left| x^{(i)} \right| ; \text{(the number of features)} \end{align}<br>$</p>
<blockquote>
<p>Macdown Version 0.6.4 (786) MathJax the same this web</p>
</blockquote>
<h3 id="1-1-hypothesis-function"><a href="#1-1-hypothesis-function" class="headerlink" title="1.1 hypothesis function"></a>1.1 hypothesis function</h3><p>Now define the multivariable form of the hypothesis function as follows, accommodating these multiple features:</p>
<p>$<br>h_\theta (x) = \theta_0 + \theta_1 x_1 + \theta_2 x_2 + \theta_3 x_3 + \cdots + \theta_n x_n<br>$</p>
<p><strong>multivariable hypothesis function</strong></p>
<p>Using the definition of matrix multiplication, our multivariable hypothesis function can be concisely represented as:</p>
<blockquote>
<p>$<br>\begin{align}<br>h_\theta(x) =\begin{bmatrix}\theta_0 \hspace{2em}  \theta_1 \hspace{2em}  â€¦  \hspace{2em}  \theta_n\end{bmatrix}\begin{bmatrix}x_0 \newline x_1 \newline \vdots \newline x_n\end{bmatrix}= \theta^T x<br>\end{align}<br>$</p>
</blockquote>
<p>The training examples are stored in X row-wise, like such:</p>
<blockquote>
<p>$<br>\begin{align}<br>X =<br>\begin{bmatrix}x^{(1)}_0 &amp; x^{(1)}_1  \newline x^{(2)}_0 &amp; x^{(2)}_1  \newline<br>x^{(3)}_0 &amp; x^{(3)}_1 \end{bmatrix}&amp;,\theta = \begin{bmatrix}\theta_0 \newline<br>\theta_1 \newline<br>\end{bmatrix}<br>\end{align}<br>$</p>
</blockquote>
<p>You can calculate the hypothesis as a column vector of size (m x 1) with:</p>
<blockquote>
<p>$<br>h_\theta(X) = X \theta<br>$</p>
<p>For the rest of these notes,  X will represent a matrix of training examples $x_{(i)}$ </p>
</blockquote>
<h2 id="2-Cost-function"><a href="#2-Cost-function" class="headerlink" title="2. Cost function"></a>2. Cost function</h2><p>For the parameter vector Î¸ (of type $\mathbb{R}^{n+1}$ or in $\mathbb{R}^{(n+1) \times 1}$, the cost function is:</p>
<p>$<br>J(\theta) = \dfrac {1}{2m} \displaystyle \sum_{i=1}^m \left (h_\theta (x^{(i)}) - y^{(i)} \right)^2<br>$</p>
<p><code>The vectorized version is:</code></p>
<p>$<br>J(\theta) = \dfrac {1}{2m} (X\theta - \vec{y})^{T} (X\theta - \vec{y})<br>$</p>
<blockquote>
<p>vectorized version is very good!</p>
</blockquote>
<h2 id="3-Gradient-Desc-Multivariable"><a href="#3-Gradient-Desc-Multivariable" class="headerlink" title="3. Gradient Desc Multivariable"></a>3. Gradient Desc Multivariable</h2><p><code>Matrix Notation</code></p>
<p>The Gradient Descent rule can be expressed as:</p>
<p>$<br>\theta := \theta - \alpha \nabla J(\theta)<br>$</p>
<p>Where $\nabla J(\theta)$ is a column vector of the form:</p>
<p>$<br>\nabla J(\theta)  = \begin{bmatrix}\frac{\partial J(\theta)}{\partial \theta_0}   \newline \frac{\partial J(\theta)}{\partial \theta_1}   \newline \vdots   \newline \frac{\partial J(\theta)}{\partial \theta_n} \end{bmatrix}<br>$</p>
<p>The j-th component of the gradient is the summation of the product of two terms:</p>
<p>$<br>\begin{align}<br>\; &amp;\frac{\partial J(\theta)}{\partial \theta_j} &amp;=&amp;  \frac{1}{m} \sum\limits_{i=1}^{m}  \left(h_\theta(x^{(i)}) - y^{(i)} \right) \cdot x_j^{(i)} \newline<br>\; &amp; &amp;=&amp; \frac{1}{m} \sum\limits_{i=1}^{m}   x_j^{(i)} \cdot \left(h_\theta(x^{(i)}) - y^{(i)}  \right)<br>\end{align}<br>$</p>
<blockquote>
<p>åœ¨æ•°å­¦ä¸­ï¼Œä¸€ä¸ªå¤šå˜é‡çš„å‡½æ•°çš„åå¯¼æ•°æ˜¯å®ƒå…³äºå…¶ä¸­ä¸€ä¸ªå˜é‡çš„å¯¼æ•°ï¼Œè€Œä¿æŒå…¶ä»–å˜é‡æ’å®šã€‚</p>
</blockquote>
<p>Sometimes, the summation of the product of two terms can be expressed as the product of two vectors.</p>
<blockquote>
<p>$<br>\begin{align}\; &amp;\frac{\partial J(\theta)}{\partial \theta_j} = \frac1m  \vec{x_j}^{T} (X\theta - \vec{y}) \newline<br>&amp;\nabla J(\theta)  =  \frac 1m X^{T} (X\theta - \vec{y}) \newline<br>\end{align}<br>$</p>
</blockquote>
<p>Finally, the matrix notation (vectorized) of the Gradient Descent rule is:</p>
<p>$<br>\theta := \theta - \frac{\alpha}{m} X^{T} (X\theta - \vec{y})<br>$</p>
<p>The gradient descent equation itself is generally the same form; we just have to repeat it for our â€˜nâ€™ features:</p>
<p>$<br>\begin{align}<br>&amp; \text{repeat until convergence:} \; \lbrace \newline<br>\; &amp; \theta_0 := \theta_0 - \alpha \frac{1}{m} \sum\limits_{i=1}^{m}  (h_\theta(x^{(i)}) - y^{(i)}) \cdot x_0^{(i)}\newline<br>\; &amp; \theta_1 := \theta_1 - \alpha \frac{1}{m} \sum\limits_{i=1}^{m} (h_\theta(x^{(i)}) - y^{(i)}) \cdot x_1^{(i)} \newline<br>\; &amp; \theta_2 := \theta_2 - \alpha \frac{1}{m} \sum\limits_{i=1}^{m} (h_\theta(x^{(i)}) - y^{(i)}) \cdot x_2^{(i)} \newline<br>&amp; \cdots<br>\newline \rbrace<br>\end{align}<br>$</p>
<p>In other words:</p>
<p>$<br>\begin{align}<br>&amp; \text{repeat until convergence:} \; \lbrace \newline \;<br>&amp; \theta_j := \theta_j - \alpha \frac{1}{m} \sum\limits_{i=1}^{m} (h_\theta(x^{(i)}) - y^{(i)}) \cdot x_j^{(i)} \;  &amp; \text{for j := 0..n}<br>\newline \rbrace<br>\end{align}<br>$</p>
<h3 id="3-1-Feature-Scaling"><a href="#3-1-Feature-Scaling" class="headerlink" title="3.1 Feature Scaling"></a>3.1 Feature Scaling</h3><p>Idea : Make sure features are on a similar scale ç‰¹å¾ç¼©æ”¾</p>
<p><img src="/images/ml/ml-ng-w2-02.png" alt="Multiple Features"></p>
<blockquote>
<p>Get every feature into approximately a $-1 \leq x_i \leq 1$ range.</p>
<p>Replace $x_i$ with $x_i - u_i$ to make features have approximately zero mean (Do not apply to $x_0$ = 1).</p>
<p>å¦‚æœå¤šä¸ªç‰¹å¾å€¼ï¼Œå¤§å¤šå¤„åœ¨ä¸€ä¸ªç›¸è¿‘çš„èŒƒå›´ï¼Œæ¢¯åº¦ä¸‹é™å°±èƒ½æ›´å¿«çš„æ”¶æ•›ã€‚</p>
</blockquote>
<p>å› ä¸º 2000/5 æ¯”è¾ƒå¤§ï¼Œæ‰€ä»¥è½®å»“å›¾ï¼Œä½¿å¾—æ¤­åœ†æ›´åŠ çš„ç˜¦é•¿ï¼Œå¥½æ¯” $J(\theta)$ æ”¶æ•›çš„æ›´æ…¢ã€‚</p>
<h3 id="3-2-learning-rate"><a href="#3-2-learning-rate" class="headerlink" title="3.2 learning rate"></a>3.2 learning rate</h3><p>$<br>\begin{align}<br>\theta_j := \theta_j - \alpha \frac{\partial}{\partial \theta_j} J(\theta)<br>\end{align}<br>$</p>
<ul>
<li>Debugging : How to make sure gradient descent is working correctly</li>
<li>How to choose learning rate $\alpha$</li>
</ul>
<p><img src="/images/ml/ml-ng-w2-03.png" alt="Multiple Features"></p>
<p><strong>Summary</strong></p>
<ul>
<li>if $\alpha$ is too small: slow convergence [kÉ™nâ€™vÉœËdÊ’É™ns] æ”¶æ•›</li>
<li>if $\alpha$ is too large: $J(\theta)$ may not decrease on every iteration; may not converge.</li>
</ul>
<p>To choose $\alpha$, try</p>
<p>â€¦, 0.001, 0.01, 0.1, 1, â€¦</p>
<h2 id="4-Polynomial-Regression"><a href="#4-Polynomial-Regression" class="headerlink" title="4. Polynomial Regression"></a>4. Polynomial Regression</h2><p><img src="/images/ml/ml-ng-w2-04.png" alt="Polynomial"></p>
<h3 id="4-1-Polynomial-Regression"><a href="#4-1-Polynomial-Regression" class="headerlink" title="4.1 Polynomial Regression"></a>4.1 Polynomial Regression</h3><p><img src="/images/ml/ml-ng-w2-05.png" alt="Polynomial [,pÉ’lÉª&#39;nÉ™ÊŠmÉªÉ™l]"></p>
<blockquote>
<p>Feature normalization is very important</p>
</blockquote>
<h3 id="4-2-Choice-of-features"><a href="#4-2-Choice-of-features" class="headerlink" title="4.2 Choice of features"></a>4.2 Choice of features</h3><p><img src="/images/ml/ml-ng-w2-06.png" alt="Choice of features"></p>
<p>@2017-02-10 review done</p>
<h2 id="5-Normal-Equation"><a href="#5-Normal-Equation" class="headerlink" title="5. Normal Equation"></a>5. Normal Equation</h2><p><img src="/images/ml/ml-ng-w2-07.png" alt="Normal Equation"></p>
<blockquote>
<p>$\theta = (X^T X)^{-1}X^T y$</p>
</blockquote>
<h3 id="5-1-num-and-vector"><a href="#5-1-num-and-vector" class="headerlink" title="5.1 num and vector"></a>5.1 num and vector</h3><p><img src="/images/ml/ml-ng-w2-08.png" alt="Normal Equation"></p>
<blockquote>
<p>$<br>J(\theta) = \dfrac {1}{2m} (X\theta - \vec{y})^{T} (X\theta - \vec{y})<br>$</p>
<p>$<br>\begin{align}\; &amp;\frac{\partial J(\theta)}{\partial \theta_j} = \frac1m  \vec{x_j}^{T} (X\theta - \vec{y}) \newline<br>&amp;\nabla J(\theta)  =  \frac 1m X^{T} (X\theta - \vec{y}) \newline<br>\end{align}<br>$</p>
</blockquote>
<h3 id="5-2-house-price-example"><a href="#5-2-house-price-example" class="headerlink" title="5.2 house price example"></a>5.2 house price example</h3><p><img src="/images/ml/ml-ng-w2-09.png" alt="Normal Equation"></p>
<blockquote>
<p>$<br>\begin{align}<br>\nabla J(\theta)  =  \frac 1m X^{T} (X\theta - \vec{y}) \newline<br>\end{align}<br>$</p>
<p>ä»¤ $\nabla J(\theta)  =  0 $</p>
<p>So, $\theta = (X^T X)^{-1}X^T y $</p>
</blockquote>
<h3 id="5-3-m-training-n-features"><a href="#5-3-m-training-n-features" class="headerlink" title="5.3 $m$ training, $n$ features"></a>5.3 $m$ training, $n$ features</h3><table>
<thead>
<tr>
<th>Gradient Descent</th>
<th>Normal Equation</th>
</tr>
</thead>
<tbody>
<tr>
<td>Need to choose $\alpha$</td>
<td>No need to choose $\alpha$ </td>
</tr>
<tr>
<td>Needs many iterations</td>
<td>Donâ€™t need to iterate</td>
</tr>
<tr>
<td>Works well even when $n$ is large</td>
<td>Slow if $n$ is very large</td>
</tr>
</tbody>
</table>
<blockquote>
<p>it is usually around ten thousand that I might start to consider switching over to gradient descents or maybe, some other algorithms that weâ€™ll talk about later in this class</p>
</blockquote>
<h3 id="5-4-X-T-X-is-non-invertible"><a href="#5-4-X-T-X-is-non-invertible" class="headerlink" title="5.4 $X^T X$ is non-invertible"></a>5.4 $X^T X$ is non-invertible</h3><p> $\theta = (X^T X)^{-1}X^T y $</p>
<p>What $X^T X$ is non-invertible? ï¼ˆsingular / degenerateï¼‰</p>
<blockquote>
<p>When $X^T X$ is non-invertible, this is very few.</p>
</blockquote>
<p><strong>What $X^T X$ is non-invertible?</strong></p>
<p><img src="/images/ml/ml-ng-w2-10.png" alt="non-invertible"></p>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[Coursera Week 1 - Linear Algebra Matrices And Vectors]]></title>
      <url>http://iequa.com/2016/09/30/ml-coursera-ng-w1-03-Linear-Algebra/</url>
      <content type="html"><![CDATA[<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js"],
    jax: ["input/TeX"],
    tex2jax: {
      inlineMath: [ ['$','$'], ['\\(','\\)'] ],
      displayMath: [ ['$$','$$']],
      processEscapes: true
    }
  });
</script>
<script type="text/javascript" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS_HTML,http://myserver.com/MathJax/config/local/local.js">
</script>

<h2 id="1-Matrix-Elements"><a href="#1-Matrix-Elements" class="headerlink" title="1. Matrix Elements"></a>1. Matrix Elements</h2><p>$$<br>A =<br>\begin{bmatrix}<br>   1 &amp; 2 \\<br>   4 &amp; 5 \\<br>   7 &amp; 8<br>  \end{bmatrix} \tag{fmt.1  R^{32}}<br>$$</p>
<p>$ A_{ij} = $ â€œ$i, j$ entryâ€  in the $i^{th}$ row, $j^{th}$ column</p>
<p>$ A_{32} = 8 $</p>
<h2 id="2-Vector-A-n-n-1-matrix"><a href="#2-Vector-A-n-n-1-matrix" class="headerlink" title="2. Vector $A_n$ n*1 matrix"></a>2. Vector $A_n$ n*1 matrix</h2><p>$$<br>y =<br>\begin{bmatrix}<br>   460 \\<br>   232 \\<br>   315 \\<br>   178<br>  \end{bmatrix} \tag{fmt.2}<br>$$</p>
<blockquote>
<p>$R^4$ 4 dimensional vector<br>$y_i = i^{th} element$</p>
</blockquote>
<h3 id="2-1-math-1-indexed"><a href="#2-1-math-1-indexed" class="headerlink" title="2.1 math 1-indexed"></a>2.1 math 1-indexed</h3><p>$$<br>y =<br>\begin{bmatrix}<br>   y1 \\<br>   y2 \\<br>   y3 \\<br>   y4<br>  \end{bmatrix} \tag{fmt.3}<br>$$</p>
<h3 id="2-2-machine-learning-0-indexed"><a href="#2-2-machine-learning-0-indexed" class="headerlink" title="2.2 machine-learning 0-indexed"></a>2.2 machine-learning 0-indexed</h3><p>$$<br>y =<br>\begin{bmatrix}<br>   y0 \\<br>   y1 \\<br>   y2 \\<br>   y3<br>  \end{bmatrix} \tag{fmt.4}<br>$$</p>
<h2 id="3-Matrix-Addition"><a href="#3-Matrix-Addition" class="headerlink" title="3. Matrix Addition"></a>3. Matrix Addition</h2><p>$$ \begin{bmatrix} 1 &amp; 0 \\ 2 &amp; 5 \\ 3 &amp; 1 \end{bmatrix} + \begin{bmatrix} 4 &amp; 0.5 \\ 2 &amp; 5 \\ 0 &amp; 1 \end{bmatrix} =<br>\begin{bmatrix}<br>   5 &amp; 0.5 \\<br>   4 &amp; 10 \\<br>   3 &amp; 2<br> \end{bmatrix} $$</p>
<h2 id="4-Scalar-Multiplication"><a href="#4-Scalar-Multiplication" class="headerlink" title="4. Scalar Multiplication"></a>4. Scalar Multiplication</h2><p>$$ 3 \times \begin{bmatrix} 1 &amp; 0 \\ 2 &amp; 5 \\ 3 &amp; 1 \end{bmatrix}<br>= \begin{bmatrix}<br>   3 &amp; 0 \\<br>   6 &amp; 15 \\<br>   9 &amp; 3<br> \end{bmatrix}<br>$$</p>
<h2 id="5-Combination-of-Operands"><a href="#5-Combination-of-Operands" class="headerlink" title="5. Combination of Operands"></a>5. Combination of Operands</h2><p>$$ 3 \times<br>\begin{bmatrix}<br>1 \\<br>4 \\<br>2<br>\end{bmatrix}<br>+<br>\begin{bmatrix}<br>0 \\<br>0 \\<br>5<br>\end{bmatrix} -<br>\begin{bmatrix}<br>   3 \\<br>   0 \\<br>   2<br> \end{bmatrix} / 3 =<br>\begin{bmatrix}<br>2 \\<br>12 \\<br>31/3<br>\end{bmatrix}<br>$$</p>
<h2 id="6-Matrix-Vector-Multiplication"><a href="#6-Matrix-Vector-Multiplication" class="headerlink" title="6. Matrix Vector Multiplication"></a>6. Matrix Vector Multiplication</h2><p>$$<br>\begin{bmatrix}<br>1 &amp; 3 \\<br>4 &amp; 0 \\<br>2 &amp; 1<br>\end{bmatrix}<br>\times<br>\begin{bmatrix}<br>1 \\<br>5<br>\end{bmatrix} =<br>\begin{bmatrix}<br>16 \\<br>4 \\<br>7<br>\end{bmatrix}<br>$$</p>
<p><strong>Matrix Vector Multiplication Fmt :</strong></p>
<p><img src="/images/ml/ml-ng-w1-03-1.png" alt="Matrix Vector"></p>
<h3 id="6-1-House-sizes-example"><a href="#6-1-House-sizes-example" class="headerlink" title="6.1 House sizes example"></a>6.1 House sizes example</h3><p>$$<br>h_{\theta}  (x) = -40 + 0.25 x<br>$$</p>
<table>
<thead>
<tr>
<th>House sizes</th>
<th>Price</th>
</tr>
</thead>
<tbody>
<tr>
<td>2104</td>
<td>?</td>
</tr>
<tr>
<td>1416</td>
<td>?</td>
</tr>
<tr>
<td>1534</td>
<td>?</td>
</tr>
<tr>
<td>852</td>
<td>?</td>
</tr>
</tbody>
</table>
<p>$$ \begin{bmatrix}<br>1 &amp; 2104 \\<br>1 &amp; 1416 \\<br>1 &amp; 1534 \\<br>1 &amp; 852<br>\end{bmatrix} \times<br>\begin{bmatrix}<br>-40 \\<br>0.25<br>\end{bmatrix}<br>=<br>\begin{bmatrix}<br>-40 \times 1 + 0.25 \times 2104 \\<br>â€¦ \\<br>â€¦ \\<br>â€¦<br>\end{bmatrix}<br>$$</p>
<h2 id="7-Practice-Example"><a href="#7-Practice-Example" class="headerlink" title="7. Practice Example"></a>7. Practice Example</h2><p>$$ \begin{bmatrix}<br>1 &amp; 3 &amp; 2 \\<br>4 &amp; 0 &amp; 1<br>\end{bmatrix}<br>\begin{bmatrix}<br>1 &amp; 3 \\<br>0 &amp; 1 \\<br>5 &amp; 2<br>\end{bmatrix} =<br>\begin{bmatrix}<br>   11 &amp; 10 \\<br>   9 &amp; 14<br> \end{bmatrix} $$</p>
<blockquote>
<p>$ A_{2 \times 3} \times A_{3 \times 2} = A_{2 \times 2} $</p>
</blockquote>
<p><img src="/images/ml/ml-ng-w1-03-2.png" alt="Matrix"></p>
<h2 id="8-House-Example"><a href="#8-House-Example" class="headerlink" title="8. House Example"></a>8. House Example</h2><p><img src="/images/ml/ml-ng-w1-03-3.png" alt="Matrix"></p>
<h2 id="9-Matrix-A-times-B-neq-B-times-A"><a href="#9-Matrix-A-times-B-neq-B-times-A" class="headerlink" title="9. Matrix $A \times B \neq B \times A$"></a>9. Matrix $A \times B \neq B \times A$</h2><p>But, ç»“åˆå¾‹ï¼Œå¯ä»¥çš„</p>
<p>$ A \times B \times C = (A \times B) \times C = A \times (B \times C) $</p>
<h2 id="10-Identity-Matrix"><a href="#10-Identity-Matrix" class="headerlink" title="10. Identity Matrix"></a>10. Identity Matrix</h2><p>Denoted I (or I_{n*n}).</p>
<h3 id="10-1-2-times-2"><a href="#10-1-2-times-2" class="headerlink" title="10.1 $2 \times 2$"></a>10.1 $2 \times 2$</h3><p>$$<br>\begin{bmatrix}<br>   1 &amp; 0 \\<br>   0 &amp; 1<br>  \end{bmatrix} \tag{fmt.1  R^{32}}<br>$$</p>
<h3 id="10-2-3-times-3"><a href="#10-2-3-times-3" class="headerlink" title="10.2 $3 \times 3$"></a>10.2 $3 \times 3$</h3><p>$$<br>\begin{bmatrix}<br>   1 &amp; 0 &amp; 0 \\<br>   0 &amp; 1 &amp; 0 \\<br>   0 &amp; 0 &amp; 1<br>  \end{bmatrix} \tag{fmt.1  R^{32}}<br>$$</p>
<blockquote>
<p>$Z \times I = I \times Z = Z$</p>
</blockquote>
<h2 id="11-Matrix-Inverse"><a href="#11-Matrix-Inverse" class="headerlink" title="11. Matrix Inverse"></a>11. Matrix Inverse</h2><p>$3 \times 3^{-1} = 1$</p>
<blockquote>
<p>Not all numbers have an inverse.</p>
</blockquote>
<p>if $A$ is an $m \times m$ matrix, and if it has an inverse</p>
<p>$A \times A^{-1} = A^{-1} \times A = I$</p>
<p>$$<br>A =<br>\begin{bmatrix}<br>   3 &amp; 4 \\<br>   2 &amp; 16 \\<br>  \end{bmatrix}<br>$$</p>
<p>$$<br>A^{-1} =<br>\begin{bmatrix}<br>   0.4 &amp; -0.1 \\<br>   -0.05 &amp; 0.075 \\<br>  \end{bmatrix}<br>$$</p>
<p>$ A \times A^{-1} = I_{2 \times 2} $</p>
<p>$$<br>I_{2 \times 2} =<br>\begin{bmatrix}<br>   1 &amp; 0 \\<br>   0 &amp; 1 \\<br>  \end{bmatrix}<br>$$</p>
<h2 id="12-Matrix-Transpose"><a href="#12-Matrix-Transpose" class="headerlink" title="12. Matrix Transpose"></a>12. Matrix Transpose</h2><p>$$<br>A =<br>\begin{bmatrix}<br>   1 &amp; 2 &amp; 0 \\<br>   3 &amp; 5 &amp; 9 \\<br>  \end{bmatrix}<br>$$</p>
<p>$$<br>A^T =<br>\begin{bmatrix}<br>   1 &amp; 3 \\<br>   2 &amp; 5 \\<br>   0 &amp; 9<br>  \end{bmatrix}<br>$$</p>
<p>Let $A$ be an $m \times n$ matrix, and let $B = A^T$.<br>Then $B$ is an $n \times m$ matrix, and $B_{ij} = A_{ji}$</p>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[Coursera Week 1 - Linear Regression Cost Function & Gradient descent]]></title>
      <url>http://iequa.com/2016/09/28/ml-coursera-ng-w1-02-cost-function-gradient-descent/</url>
      <content type="html"><![CDATA[<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js"],
    jax: ["input/TeX"],
    tex2jax: {
      inlineMath: [ ['$','$'], ['\\(','\\)'] ],
      displayMath: [ ['$$','$$']],
      processEscapes: true
    }
  });
</script>
<script type="text/javascript" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS_HTML,http://myserver.com/MathJax/config/local/local.js">
</script>

<h2 id="1-Linear-Regression"><a href="#1-Linear-Regression" class="headerlink" title="1. Linear Regression"></a>1. Linear Regression</h2><p><img src="/images/ml/ml-ng-w1-02-1.png" alt="How to choose parameters"></p>
<h2 id="2-Cost-Function"><a href="#2-Cost-Function" class="headerlink" title="2. Cost Function"></a>2. Cost Function</h2><blockquote>
<p>Choose $\theta_0ï¼Œ\theta_1$ so that $h_{\theta} (x) $ is close to $y$ for our training examples ${(x, y)}$</p>
</blockquote>
<table>
<thead>
<tr>
<th>ml</th>
<th>fmt</th>
</tr>
</thead>
<tbody>
<tr>
<td>Hypothesis</td>
<td>$h_{\theta}  (x) = \theta_0 + \theta_1 x$</td>
</tr>
<tr>
<td>Parameters</td>
<td>$\theta_0 ã€\theta_1$</td>
</tr>
<tr>
<td>Cost Function</td>
<td>$J(\theta_0ï¼Œ\theta_1) = {\frac {1} {2m}} \sum_{i=1}^m (h_{\theta} (x^{i}) - (y^{i}))^2$</td>
</tr>
<tr>
<td>Goal</td>
<td>$minimize J(\theta_0ï¼Œ\theta_1)$</td>
</tr>
</tbody>
</table>
<h2 id="3-Simplified-Fmt"><a href="#3-Simplified-Fmt" class="headerlink" title="3. Simplified Fmt"></a>3. Simplified Fmt</h2><blockquote>
<p>$\theta_0$ = 0</p>
</blockquote>
<p><strong>hypothesis function $h_{\theta} (x)$  cost function $J(\theta_1)$</strong></p>
<p><img src="/images/ml/ml-ng-w1-02-3.png" alt="cost"></p>
<h2 id="4-Cost-function-visable"><a href="#4-Cost-function-visable" class="headerlink" title="4. Cost function visable"></a>4. Cost function visable</h2><p><img src="/images/ml/ml-ng-w1-02-4.png" alt="cost"></p>
<blockquote>
<p>æŠŠ x, y æƒ³è±¡æˆå‘é‡ï¼Œç¡®å®šçš„å‘é‡ï¼Œå‘é‡å†æƒ³è±¡ä¸ºä¸€ä¸ªç¡®å®šçš„æ•°ï¼Œæ€»ä¹‹å®ƒæ˜¯ä¸€ä¸ªäºŒæ¬¡å‡½æ•°ï¼ŒæŠ½è±¡çš„æƒ³ä¸€ä¸‹ï¼Œä¼šä¸ä¼šç†è§£</p>
</blockquote>
<ul>
<li>contour plots</li>
<li>contour figures</li>
</ul>
<p><img src="/images/ml/ml-ng-w1-02-5.png" alt="cost"></p>
<h2 id="5-Gradient-descent-target"><a href="#5-Gradient-descent-target" class="headerlink" title="5. Gradient descent target"></a>5. Gradient descent target</h2><p><img src="/images/ml/ml-ng-w1-02-6.png" alt="Gradient descent"></p>
<h2 id="6-Gradient-descent-visable"><a href="#6-Gradient-descent-visable" class="headerlink" title="6. Gradient descent visable"></a>6. Gradient descent visable</h2><p><img src="/images/ml/ml-ng-w1-02-7.png" alt="Local optimization"></p>
<p><strong>Convex function</strong></p>
<p><img src="/images/ml/ml-ng-w1-02-8.png" alt="Global optimization"></p>
<h2 id="7-Gradient-descent-algorithm"><a href="#7-Gradient-descent-algorithm" class="headerlink" title="7. Gradient descent algorithm"></a>7. Gradient descent algorithm</h2><blockquote>
<p>$ \alpha $ : learning rate</p>
</blockquote>
<p><img src="/images/ml/ml-ng-w1-02-9.png" alt="Gradient descent"></p>
<h2 id="8-Gradient-descent-only-theta-1"><a href="#8-Gradient-descent-only-theta-1" class="headerlink" title="8. Gradient descent only $ \theta_{1} $"></a>8. Gradient descent only $ \theta_{1} $</h2><p><img src="/images/ml/ml-ng-w1-02-10.png" alt="Gradient descent for one param : $ \theta\_{1} $"></p>
<p><img src="/images/ml/ml-ng-w1-02-11.png" alt="Gradient descent"></p>
<p><img src="/images/ml/ml-ng-w1-02-12.png" alt="Gradient descent"></p>
<p><img src="/images/ml/ml-ng-w1-02-13.png" alt="Gradient descent"></p>
<h2 id="9-Linear-Regression-Model"><a href="#9-Linear-Regression-Model" class="headerlink" title="9. Linear Regression Model"></a>9. Linear Regression Model</h2><p><img src="/images/ml/ml-ng-w1-02-14.png" alt="Gradient descent"></p>
<h3 id="9-1-Batch-Gradient-Descent"><a href="#9-1-Batch-Gradient-Descent" class="headerlink" title="9.1 Batch Gradient Descent"></a>9.1 Batch Gradient Descent</h3><blockquote>
<p>Batch : Each step of gradient descent uses all the training examples</p>
</blockquote>
<p><img src="/images/ml/ml-ng-w1-02-15.png" alt="Gradient descent"></p>
<blockquote>
<p>Coursera Learning Notes</p>
</blockquote>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[Coursera Week 1 - Machine Learning Introduction]]></title>
      <url>http://iequa.com/2016/09/20/ml-coursera-ng-w1-01-introduce/</url>
      <content type="html"><![CDATA[<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js"],
    jax: ["input/TeX"],
    tex2jax: {
      inlineMath: [ ['$','$'], ['\\(','\\)'] ],
      displayMath: [ ['$$','$$']],
      processEscapes: true
    }
  });
</script>
<script type="text/javascript" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS_HTML,http://myserver.com/MathJax/config/local/local.js">
</script>

<h2 id="Machine-Learning"><a href="#Machine-Learning" class="headerlink" title="Machine Learning"></a>Machine Learning</h2><ul>
<li>Grew out of work in Artificial Intelligence</li>
<li>New capability for computers</li>
</ul>
<blockquote>
<p>search engine, recommendation system, image recognition</p>
<p>web click data, medical records , biology, engineering</p>
<p>Natural Language Processing (NLP), Computer Vision</p>
</blockquote>
<p><strong>Machine Learning definition</strong></p>
<p>Field of study that gives computers the ability to learn without being explicitly programmed. by ArthurSamuel(1959)</p>
<h2 id="1-Supervised-learning"><a href="#1-Supervised-learning" class="headerlink" title="1. Supervised learning"></a>1. Supervised learning</h2><p><img src="/images/ml/ml-ng-w1-01-1.png" alt="Supervised"></p>
<h2 id="2-Regression-amp-Classification"><a href="#2-Regression-amp-Classification" class="headerlink" title="2. Regression &amp; Classification"></a>2. Regression &amp; Classification</h2><p><img src="/images/ml/ml-ng-w1-01-2.png" alt="Classification"></p>
<h2 id="3-Unsupervised-learning"><a href="#3-Unsupervised-learning" class="headerlink" title="3. Unsupervised learning"></a>3. Unsupervised learning</h2><p><img src="/images/ml/ml-ng-w1-01-3.png" alt="Unsupervised"></p>
<p><strong>Unsupervised Examples</strong></p>
<p><img src="/images/ml/ml-ng-w1-01-4.png" alt="news.google"></p>
<blockquote>
<p>What Google News does is everyday it goes and looks at tens of thousands or hundreds of thousands of new stories on the web and it groups them into cohesive news stories. </p>
</blockquote>
<h2 id="4-Experience"><a href="#4-Experience" class="headerlink" title="4. Experience"></a>4. Experience</h2><p><strong>Xiaoyang è¯­å½•</strong> :</p>
<p>ã€è§£å†³ä¸€ä¸ªé—®é¢˜çš„æ–¹æ³•å’Œæ€è·¯ä¸æ­¢ä¸€ç§ã€<br>ã€æ²¡æœ‰æ‰€è°“çš„æœºå™¨å­¦ä¹ ç®—æ³•ä¼˜åŠ£ï¼Œä¹Ÿæ²¡æœ‰ç»å¯¹é«˜æ€§èƒ½çš„æœºå™¨å­¦ä¹ ç®—æ³•ï¼Œåªæœ‰åœ¨ç‰¹å®šçš„åœºæ™¯ã€æ•°æ®å’Œç‰¹å¾ä¸‹æ›´åˆé€‚çš„æœºå™¨å­¦ä¹ ç®—æ³•ã€‚ã€</p>
<p><strong>Andrew Ng è¯­å½•</strong></p>
<p>åº”ç”¨æœºå™¨å­¦ä¹ ï¼Œä¸è¦ä¸€ä¸Šæ¥å°±è¯•å›¾åšåˆ°å®Œç¾ï¼Œå…ˆluä¸€ä¸ªbaselineçš„modelå‡ºæ¥ï¼Œå†è¿›è¡Œåç»­çš„åˆ†ææ­¥éª¤ï¼Œä¸€æ­¥æ­¥æé«˜ï¼Œæ‰€è°“åç»­æ­¥éª¤å¯èƒ½åŒ…æ‹¬ã€åˆ†æmodelç°åœ¨çš„çŠ¶æ€(æ¬ /è¿‡æ‹Ÿåˆ)ï¼Œåˆ†ææˆ‘ä»¬ä½¿ç”¨çš„featureçš„ä½œç”¨å¤§å°ï¼Œè¿›è¡Œfeature selectionï¼Œä»¥åŠæˆ‘ä»¬æ¨¡å‹ä¸‹çš„bad caseå’Œäº§ç”Ÿçš„åŸå› ã€ç­‰ç­‰ã€‚</p>
<p><strong>Kaggleå¤§ç¥ä»¬ experience æ€»ç»“</strong> ï¼š</p>
<ol>
<li>ã€å¯¹æ•°æ®çš„è®¤è¯†å¤ªé‡è¦äº†ï¼ã€</li>
<li>ã€æ•°æ®ä¸­çš„ç‰¹æ®Šç‚¹/ç¦»ç¾¤ç‚¹çš„åˆ†æå’Œå¤„ç†å¤ªé‡è¦äº†ï¼ã€</li>
<li>ã€ç‰¹å¾å·¥ç¨‹(feature engineering)å¤ªé‡è¦äº†ï¼åœ¨å¾ˆå¤šKaggleçš„åœºæ™¯ä¸‹ï¼Œç”šè‡³æ¯”modelæœ¬èº«è¿˜è¦é‡è¦ã€</li>
<li>ã€è¦åšæ¨¡å‹èåˆ(model ensemble)å•Šå•Šå•Šï¼ã€</li>
</ol>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[Javaç¨‹åºå‘˜éœ€è¦çŸ¥é“çš„è®¡ç®—æœºåŸç† (not finish)]]></title>
      <url>http://iequa.com/2016/09/13/java-special-arms-p2-computer-principle/</url>
      <content type="html"><![CDATA[<h2 id="1-è®¡ç®—æœºåŸç†"><a href="#1-è®¡ç®—æœºåŸç†" class="headerlink" title="1. è®¡ç®—æœºåŸç†"></a>1. è®¡ç®—æœºåŸç†</h2><p>è®¡ç®—æœºæ€»ä½“ä½“ç³»ç»“æ„çš„å˜åŒ–ï¼Œä¸€ç›´ä¸æ˜¯ç‰¹åˆ«å¤§ï¼ŒåŸºç¡€åŸç†å°†å¼•å¯¼æˆ‘ä»¬ä»æ•´ä½“ä¸Šè®¤è¯†è®¡ç®—æœºæœ¬èº«ã€‚</p>
<h2 id="2-CPU"><a href="#2-CPU" class="headerlink" title="2. CPU"></a>2. CPU</h2><p>æ¯ä¸ªè¿›ç¨‹ or çº¿ç¨‹ å‘å‡ºè¯·æ±‚, æœ€åä¼šç”± CPU æ¥åˆ†é…æ—¶é—´ç‰‡å¤„ç†ï¼Œå¤„ç†æ—¶ æ“ä½œæ•° ä¼ é€’ç»™ CPU, CPU è®¡ç®—å°†å…¶å›å†™åˆ°æœ¬åœ°å˜é‡ã€‚è¿™ä¸ªæœ¬åœ°å˜é‡é€šå¸¸ä¼šå­˜åœ¨ç¨‹åºæ‰€è°“çš„ æ ˆ ä¸­ï¼Œå¤šæ¬¡å¯¹å…¶æ“ä½œï¼Œå®ƒå¯èƒ½ä¼šè¢« Cache åˆ° CPU çš„ç¼“å­˜ä¹‹ä¸­ã€‚CPU æœ‰ å¯„å­˜å™¨ï¼Œä¸€çº§ç¼“å­˜ï¼ŒäºŒçº§ç¼“å­˜ â€¦ , å…¶å®è®¾è®¡è¿™äº›ç»„ä»¶å°±æ˜¯ä¸ºäº†é‚£å››ä¸ªå­— <code>å°±è¿‘åŸåˆ™</code>ã€‚</p>
<h3 id="2-1-Cpu-è”ç³»-Java"><a href="#2-1-Cpu-è”ç³»-Java" class="headerlink" title="2.1 Cpu è”ç³» Java"></a>2.1 Cpu è”ç³» Java</h3><blockquote>
<p>åœ¨ ç¼–è¯‘é˜¶æ®µï¼ŒJava å°±å¯ä»¥å†³å®šæ–¹æ³•çš„ LocalVariable çš„ä¸ªæ•°ï¼Œåœ¨æ–¹æ³•è°ƒç”¨çš„æ—¶å€™ï¼Œå°±å¯ç›´æ¥åˆ†é…ä¸€ä¸ª LocalVariable åŒºåŸŸï¼Œè¿™ä¸ªç©ºé—´æ˜¯åŸºäº slot æ¥åˆ†é…çš„ï¼Œæ¯ä¸ª slot å ç”¨ 32 bitï¼Œboolean å ç”¨ 1 slotï¼Œlong and double å  2 ä¸ª slotã€‚</p>
</blockquote>
<p>LocalVariableTable :</p>
<table>
<thead>
<tr>
<th>Start</th>
<th>Length</th>
<th>Slot</th>
<th>Name</th>
<th>Signature</th>
</tr>
</thead>
<tbody>
<tr>
<td>0</td>
<td>9</td>
<td>0</td>
<td>args</td>
<td>Ljava/lang/String;</td>
</tr>
<tr>
<td>2</td>
<td>7</td>
<td>1</td>
<td>a</td>
<td>I</td>
</tr>
<tr>
<td>..</td>
<td>..</td>
<td>..</td>
<td>..</td>
<td>..</td>
</tr>
</tbody>
</table>
<ul>
<li>Start :  ä»£è¡¨LocalVariableåœ¨è™šæŒ‡ä»¤ä½œç”¨åŸŸçš„èµ·å§‹ä½ç½®</li>
<li>Length : ä»£è¡¨LocalVariableåœ¨è™šæŒ‡ä»¤ä½œç”¨åŸŸçš„é•¿åº¦(å¦‚ç¬¬1ä¸ªæœ¬åœ°å˜é‡argsæ˜¯9æ¡æŒ‡ä»¤çš„ä½œç”¨åŸŸ)</li>
</ul>
<h3 id="2-2-å¤šæ ¸"><a href="#2-2-å¤šæ ¸" class="headerlink" title="2.2 å¤šæ ¸"></a>2.2 å¤šæ ¸</h3><p>ä¸ºäº†å¤šä¸ªè®¡ç®—ä¸­å¿ƒåŒæ—¶åšäº‹æƒ…ï¼Œå¢åŠ æ•ˆç‡ã€‚</p>
<p><strong>è€ƒè™‘éœ€è¦å’Œè§£å†³çš„é—®é¢˜</strong></p>
<p>  ä¸€ä¸ªæŒ‡ä»¤æ¥äº†ï¼Œå“ªä¸ªCpuæ¥å¤„ç†ï¼Ÿ åŒä¸€ä»½æ•°æ®è¢«å¤šä¸ª Cpu å¤„ç†ï¼Œå¦‚ä½•åè°ƒå¹¶è®©å…¶ä»–Cpuéƒ½çŸ¥é“ã€‚<br>  å½“å‘èµ·ä¸€ä¸ªè®¡ç®—è¯·æ±‚ï¼Œä¾‹å¦‚ä¸€ä¸ªä¸­æ–­ï¼Œè¿™ä¹ˆå¤š Cpu ä¼šå¹²ä»€ä¹ˆï¼Ÿ</p>
<blockquote>
<p>ä¸­æ–­ : æŒ‡å½“å‡ºç°éœ€è¦æ—¶ï¼ŒCPUæš‚æ—¶åœæ­¢å½“å‰ç¨‹åºçš„æ‰§è¡Œè½¬è€Œæ‰§è¡Œå¤„ç†æ–°æƒ…å†µçš„ç¨‹åºå’Œæ‰§è¡Œè¿‡ç¨‹ã€‚</p>
</blockquote>
<p>Cpu çš„è®¡ç®—é€Ÿåº¦éå¸¸å¿«ï¼ŒOSä¸å¸Œæœ›å®ƒç­‰å¾…æˆ–è€…åœæ­¢ï¼Œæ‰€ä»¥åœ¨å‡ºç° I/O ç­‰å¾… (ç½‘ç»œI/O å’Œ ç£ç›˜I/O), å®ƒä¸­é€”åŸºæœ¬ä¸å‚ä¸ï¼Œè€Œä»¥äº‹ä»¶æ³¨å†Œçš„æ–¹å¼æ¥å®ç°å›è°ƒï¼Œå¯¹äºæŸäº›æ‰§è¡Œæ—¶é—´é•¿çš„taskï¼ŒCpuä¼šåˆ†é…ä¸€äº›æ—¶é—´ç‰‡æ‰§è¡Œå…¶ä»–çš„task.</p>
<blockquote>
<p>å½“ Cpu ä¸æ–­å»åˆ‡æ¢ task å¤„ç†æ—¶ï¼Œè¿™å°±ä¼šæ¶‰åŠåˆ° <code>ä¸Šä¸‹æ–‡åˆ‡æ¢</code>.</p>
</blockquote>
<h3 id="2-3-Cache-line"><a href="#2-3-Cache-line" class="headerlink" title="2.3 Cache line"></a>2.3 Cache line</h3><p>åŠäº‹å°±è¿‘åŸåˆ™ï¼Œå¯ä»¥ä¸€æ¬¡åŠå¤šä»¶äº‹æƒ… æˆ– ä¸€ä»¶äº‹æƒ…çš„å¤šä¸ªæ­¥éª¤å¯ä»¥ä¸€æ¬¡åŠå®Œã€‚</p>
<blockquote>
<p>Cache line å°±æ˜¯ å°† è¿ç»­çš„ä¸€æ®µå†…å­˜åŒºåŸŸ è¿›è¡Œ Cacheï¼Œä¸æ˜¯æ¯æ¬¡å°± Cache ä¸€ä¸ªå†…å­˜å•å…ƒï¼Œè€Œæ˜¯ä¸€ç³»åˆ—å†…å­˜å•å…ƒã€‚è®¡ç®—æœºä¸­ï¼Œé€šå¸¸ä»¥è¿ç»­ 64bit è¿›è¡ŒCacheã€‚</p>
</blockquote>
<p>æ„Ÿæ‚Ÿ : Cache Line å°±æ˜¯ ä¸€æ¬¡æ‹¿ä¸€æ‰¹ä¿¡æ¯å»å¤„ç†ã€‚ Cache line çš„ç›®çš„æ˜¯ä¸ºäº† å¿«é€Ÿè®¿é—®ã€‚</p>
<h3 id="2-4-ç¼“å­˜ä¸€è‡´æ€§åè®®"><a href="#2-4-ç¼“å­˜ä¸€è‡´æ€§åè®®" class="headerlink" title="2.4 ç¼“å­˜ä¸€è‡´æ€§åè®®"></a>2.4 ç¼“å­˜ä¸€è‡´æ€§åè®®</h3><p>å½“æœ‰ æ¥è‡ªäº å†…å­˜ ä¸­çš„åŒä¸€ä»½æ•°æ® Cache åœ¨å¤šä¸ª CPU ä¸­ï¼Œä¸”è¦æ±‚è¿™äº›æ•°æ®çš„è¯»å†™ä¸€è‡´æ—¶ï¼Œå¤šä¸ª CPU ä¹‹é—´å°±éœ€è¦éµå¾ªç¼“å­˜å…±äº«çš„ä¸€è‡´æ€§åŸåˆ™ã€‚</p>
<blockquote>
<p>ç›¸å½“äºå¤§å®¶éƒ½æ¥ä¿®æ”¹ä¸€ä»½è®¾è®¡æŠ¥å‘Šï¼Œå¤§å®¶éƒ½æ‹·è´äº†ä¸€ä»½ï¼Œå›å®¶ä¿®æ”¹ï¼Œæ¯ä¸ªäººä¿®æ”¹è¦åŠæ—¶è®©å…¶ä»–äººéƒ½çŸ¥é“ã€‚æœ‰ç‚¹åƒç‰ˆæœ¬æ§åˆ¶</p>
</blockquote>
<table>
<thead>
<tr>
<th>å†…å­˜å•å…ƒçš„çŠ¶æ€</th>
</tr>
</thead>
<tbody>
<tr>
<td>Modified</td>
<td>ä¿®æ”¹</td>
</tr>
<tr>
<td>Exclusive</td>
<td>ç‹¬å </td>
</tr>
<tr>
<td>Shared</td>
<td>å…±äº«</td>
</tr>
<tr>
<td>Invalid</td>
<td>å¤±æ•ˆ</td>
</tr>
</tbody>
</table>
<p>å¤šä¸ª CPU é€šè¿‡æ€»çº¿ç›¸äº’è¿æ¥ï¼Œæ¯ä¸ª CPU çš„cacheå¤„ç†å™¨ è¦å“åº”æœ¬èº«æ‰€å¯¹åº”çš„CPUè¯»å†™æ“ä½œå¤–ï¼Œè¿˜éœ€è¦ç›‘å¬æ€»çº¿ä¸Šå…¶ä»–CPUæ“ä½œï¼Œé€šè¿‡ç›‘å¬å¯¹è‡ªå·±çš„Cacheåšå¤„ç†ï¼Œå½¢æˆè™šå…±äº«ï¼Œè¿™ä¸ªåè®®å«åš MESI åè®®ã€‚</p>
<blockquote>
<p>ä¸€ä¸ªæ•°æ®ä¿®æ”¹äº†ï¼Œå®ƒéœ€è¦å‘Šè¯‰å…¶ä»– CPU è¿™ä»½æ•°æ®è¢«ä¿®æ”¹äº†ï¼Œç°åœ¨Intelé€šè¿‡ QPI æ¥å®Œæˆã€‚ä¸åŒCPUä¹‹é—´äº¤äº’éœ€è¦æ—¶é—´ 20~40 ns çº§åˆ«ã€‚</p>
</blockquote>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">VolatileInteger</span> </span>&#123;</span><br><span class="line">  <span class="keyword">volatile</span> <span class="keyword">int</span> number;</span><br><span class="line">&#125;</span><br><span class="line">VolatileInteger[] values = <span class="keyword">new</span> VolatileInteger[<span class="number">10</span>];</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">10</span>; i++) &#123;</span><br><span class="line">  values[i] = <span class="keyword">new</span> VolatileInteger();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>è¿™æ®µä»£ç çš„ä¾‹å­ï¼Œå¾ˆå¯èƒ½ä½¿çš„æ¯ä¸ªCPUå¯èƒ½åªä¿®æ”¹åˆ°æŸä¸ªå…ƒç´ ï¼Œä½†ä¼šæœ‰å¤§é‡ QPI å­˜åœ¨ã€‚</p>
<blockquote>
<p> QPI : Quick Path Interconnect</p>
</blockquote>
<h3 id="2-5-Context-switch"><a href="#2-5-Context-switch" class="headerlink" title="2.5 Context switch"></a>2.5 Context switch</h3><p>çº¿ç¨‹å·²ç»æ‰§è¡Œäº†ä¸€éƒ¨åˆ†å†…å®¹ï¼Œéœ€è¦è®°å½•ä¸‹å®ƒçš„å†…å®¹å’ŒçŠ¶æ€ï¼Œä¸­é€”ç”±äºè°ƒåº¦ç®—æ³•ã€‚</p>
<p>CPU è°ƒåº¦ çš„æœ€åŸºæœ¬å•ä½æ˜¯çº¿ç¨‹ï¼ŒJavaä¹Ÿæ˜¯åŸºäºå¤šçº¿ç¨‹æ¨¡å¼ã€‚ç”±äºå¤šçº¿ç¨‹æ¨¡å‹ä¸­å¤šä¸ªçº¿ç¨‹å…±äº«è¿›ç¨‹çš„èµ„æºï¼Œæ‰€ä»¥Javaç¨‹åºï¼Œå¦‚æŸä¸€ä¸ªçº¿ç¨‹å ç”¨èµ„æºè¿‡å¤§æ—¶ï¼Œå°±å¯èƒ½å¯¼è‡´æ•´ä¸ªJVMè¿›ç¨‹æŒ‚æ‰ã€‚(å½±å“éƒ½æ˜¯ç›¸å¯¹çš„)</p>
<blockquote>
<p>åœ¨å®é™…è¿è¡Œä¸­ä¼šæœ‰ä»£ç æ®µå’Œæ•°æ®æ®µï¼Œå†…å®¹åˆ‡æ¢æ—¶è¦ä¿å­˜è¿™äº›è¿è¡Œä¸­çš„ä¸Šä¸‹æ–‡ä¿¡æ¯ï¼Œå†ä½¿ç”¨çš„æ—¶å€™ï¼Œå†åŠ è½½å›æ¥ã€‚</p>
<p>æ—¥å¿—å†™æ“ä½œ (å¦‚ : log4j) éƒ½é‡‡ç”¨ <code>å¼‚æ­¥</code> æ¨¡å¼ å®ç°ï¼Œè€Œç¨‹åºé€šå¸¸ä¸ç›´æ¥å‚ä¸è¿™ä¸ªè¿‡ç¨‹ã€‚ å®ç°æ–¹å¼ (æ—¥å¿—å†™æ“ä½œåªæ˜¯å°†æ—¥å¿—å†™å…¥ä¸€ä¸ªæ¶ˆæ¯é˜Ÿåˆ—ä¸­ï¼Œç”±å•ç‹¬çš„çº¿ç¨‹æ¥å®Œæˆå†™æ“ä½œ)</p>
</blockquote>
<h3 id="2-6-å¹¶å‘ä¸äº‰ç”¨"><a href="#2-6-å¹¶å‘ä¸äº‰ç”¨" class="headerlink" title="2.6 å¹¶å‘ä¸äº‰ç”¨"></a>2.6 å¹¶å‘ä¸äº‰ç”¨</h3><p>åªè¦æ˜¯æœåŠ¡å™¨ç«¯ç¨‹åºï¼Œè¿Ÿæ—©ä¼šé‡åˆ°å¹¶å‘ã€‚å½“ å¹¶å‘ æ—¶ï¼Œå°±ä¼šå­˜åœ¨å¯¹å„ç§èµ„æºçš„äº‰ç”¨ï¼ŒåŒ…æ‹¬å¯¹å„ä¸ªéƒ¨ä»¶(å¦‚CPU)çš„äº‰ç”¨ã€‚</p>
<blockquote>
<p>Web ç¨‹åºä¹Ÿä¼šç»å¸¸é‡åˆ°å¹¶å‘é—®é¢˜çš„ï¼Œç¼–å†™è€…ï¼Œæ²¡æœ‰é‡åˆ°æ˜¯å› ä¸º Web å®¹å™¨å¸®åŠ©å¤„ç†å¥½äº†çº¿ç¨‹çš„æœ¬åœ°å˜é‡åˆ†é…ï¼Œæˆ‘ä»¬å‡ ä¹ä¸ç”¨å…³æ³¨å¹¶å‘ã€‚</p>
</blockquote>
<h4 id="2-6-1-ä¸´ç•ŒåŒº"><a href="#2-6-1-ä¸´ç•ŒåŒº" class="headerlink" title="2.6.1 ä¸´ç•ŒåŒº"></a>2.6.1 ä¸´ç•ŒåŒº</h4><blockquote>
<p>å½“ç¨‹åºå‡ºç° â€œåŠ é”â€ æ—¶ (å¦‚ Javaçš„ synchronized) è¯´æ˜è¿™ä¸€å—æ˜¯ä¸´ç•ŒåŒºï¼Œåªå…è®¸ä¸€ä¸ªçº¿ç¨‹è®¿é—®ï¼Œå…¶ä»–çº¿ç¨‹æ¥å›è¿›è¡Œç­‰å¾…é˜Ÿåˆ—ã€‚<br>äº‰ç”¨å¸¦æ¥çš„æ˜¯åŒæ­¥çš„å¼€é”€ï¼Œå®ƒä¼šå‘å‡ºè®¸å¤šæŒ‡ä»¤è¦æ±‚æ‰€æœ‰CPUå¤„ç†ä¸­ä¸å…è®¸å…¶ä»–çº¿ç¨‹è¿›å…¥ä¸´ç•ŒåŒºï¼Œä¸”éœ€è¦å°†ç­‰å¾…çº¿ç¨‹æ”¾å…¥é˜Ÿåˆ—é˜»å¡ã€‚<br>äº‰ç”¨ CPU çš„è®¿é—®ä¹Ÿä¸ä»…ä»…ä½“ç°åœ¨é”ä¸Šé¢ï¼ŒCPUæœ¬èº«æ•°é‡ä¹Ÿæœ‰é™ã€‚ å•ä¸ªCPUä¼šå¯¹ä»»åŠ¡è¿›è¡Œ åŸºäº æ—¶é—´ç‰‡ã€ä¼˜å…ˆçº§ã€ä»»åŠ¡å¤§å°åˆ†åˆ«è°ƒåº¦ã€‚</p>
</blockquote>
<h4 id="2-6-2-çº¿ç¨‹æ± æ•°"><a href="#2-6-2-çº¿ç¨‹æ± æ•°" class="headerlink" title="2.6.2 çº¿ç¨‹æ± æ•°"></a>2.6.2 çº¿ç¨‹æ± æ•°</h4><p>åœ¨ç†æƒ³çš„ CPU å¯†é›†å‹ç³»ç»Ÿï¼Œçº¿ç¨‹æ•°æ˜¯ CPUæ•°+1 / CPU-1</p>
<ul>
<li>ç³»ç»ŸCPUå¯†é›†åº¦</li>
</ul>
<p>ä¸€èˆ¬ç³»ç»Ÿåˆ†ä¸º è®¡ç®—å¯†é›†å‹ å’Œ I/O å¯†é›†å‹ã€‚</p>
<blockquote>
<p>ç³»ç»Ÿä¸­å…³é”®ç¨‹åºè®¿é—®æ€»å…±èŠ±è´¹ 120ms, I/Oæ“ä½œ å ç”¨ 100msï¼Œ100msæ—¶é—´å†… CPUæ˜¯å¯ä»¥è¢«å…¶ä»–çº¿ç¨‹è®¿é—®çš„ã€‚æ­¤æ—¶ï¼Œè¿™ä¸ªç¨‹åºåœ¨å•æ ¸ç³»ç»Ÿä¸­çš„çº¿ç¨‹æ•°ç†è®ºä¸Šå¯ä»¥è®¾ç½®ä¸º 6ï¼Œ åœ¨å¤šæ ¸ç³»ç»Ÿå°±æ˜¯ä¹˜ä»¥CPUä¸ªæ•° å·¦å³è¿™ä¸ªæ•°å­—ã€‚</p>
</blockquote>
<p>ä¸€èˆ¬è¿™ä¸ªçº¿ç¨‹æ•°çš„å†³å®šæ˜¯é€šè¿‡æµ‹è¯•çš„ã€‚</p>
<h4 id="2-6-3-é”"><a href="#2-6-3-é”" class="headerlink" title="2.6.3 é”"></a>2.6.3 é”</h4><p><code>é”</code> å°±æ˜¯ä¸´ç•ŒåŒºçš„èŒƒå›´ï¼Œæœ‰ç²’åº¦ã€‚å¦‚æœåœ¨ é”  å†…éƒ¨å‘é€ I/O, å¤§å¾ªç¯ã€é€’å½’ç­‰ï¼Œé‚£ä¹ˆå°±å¿…é¡»ç­‰å¾…è¿™äº›æ“ä½œå¤„ç†å®Œæˆåæ‰èƒ½æœ‰ä¸‹ä¸€ä¸ªçº¿ç¨‹è¿›å…¥å¤„ç†ã€‚å¦‚æœè¿™æ®µç¨‹åºæ˜¯ <code>å…³é”®ç¨‹åº</code>, å½“ç³»ç»ŸçœŸæ­£å¹¶å‘çš„æ—¶å€™ï¼Œå¾ˆå¤šçº¿ç¨‹éƒ½ä¼šé˜»å¡åœ¨è¿™é‡Œã€‚è¿™æ—¶è¦è®¡ç®—çº¿ç¨‹æ•°ï¼Œè¦çœ‹é”å¯¹è±¡ æ˜¯ä¸æ˜¯é™æ€å¯¹è±¡æˆ–Class, (å¦‚æœæ˜¯ï¼Œåˆ™æ˜¯ä¸€ä¸ªJVMå…¨å±€é”)ï¼Œæ— è®ºé…ç½®å¤šå°‘çº¿ç¨‹æ•ˆæœéƒ½ä¸€æ ·ã€‚<code>é”æ˜¯å…¨å±€çš„ï¼Œæ— è®ºå¤šå°‘ä¸ªCPUä¹Ÿæ˜¯æ— æµäºäº‹çš„ã€‚</code></p>
<blockquote>
<p>ç»“è®º : é”å°½é‡ä¸è¦è®¾ç½®ä¸º å…¨å±€é”ï¼Œèƒ½ç”¨ç²’åº¦æ§åˆ¶ï¼Œå°½é‡ç²’åº¦æ§åˆ¶</p>
</blockquote>
<h4 id="2-6-4-JVMè‡ªèº«è°ƒèŠ‚"><a href="#2-6-4-JVMè‡ªèº«è°ƒèŠ‚" class="headerlink" title="2.6.4 JVMè‡ªèº«è°ƒèŠ‚"></a>2.6.4 JVMè‡ªèº«è°ƒèŠ‚</h4><p>ä¸è®º CPU è·‘å¤šå¿«ï¼Œå¦‚ JVM holdä¸ä½èŠ‚å¥ï¼Œä¸æ–­åšGCï¼Œé‚£ä¹ˆå¦‚ä½•é…ç½®çº¿ç¨‹æ± ï¼Œç³»ç»Ÿæ€§èƒ½è¿˜æ˜¯ä¸Šä¸æ¥ã€‚</p>
<p>å¯ä»¥æ ¹æ® JVM è¿è¡Œæ—¥å¿—ä¸­ï¼Œå¹³å‡åš Young GC çš„æ—¶é—´é—´éš” (é€šè¿‡ Young GC ä¸ è¿è¡Œæ—¶é•¿å¯¹æ¯”)ï¼Œä»¥åŠç³»ç»Ÿçš„QPSï¼Œæ¥ä¼°ç®—æ¯ä¸ªè¯·æ±‚å¤§è‡´å ç”¨çš„å†…å­˜å¤§å°ï¼Œæœ‰æ—¶ä¸å‡†ï¼Œä½†å…·æœ‰å‚è€ƒä»·å€¼ã€‚</p>
<p><strong>å¦‚ä½•è®¡ç®—</strong></p>
<blockquote>
<p>Eden ç©ºé—´çš„å¤§å°æˆ‘ä»¬æ˜¯çŸ¥é“çš„ã€‚é€šå¸¸ä¸€ä¸ªè¯·æ±‚åˆ†é…ç©ºé—´éƒ½åœ¨ Eden åŒºåŸŸï¼ŒEdenåŒºåŸŸæ»¡å‘ç”ŸYoung GCã€‚Young GC æ—¶é—´é—´éš”å°±æ˜¯Edenæ»¡çš„æ—¶é—´é—´éš”ï¼Œä¾‹å¦‚ 3sï¼Œ è¿›ä¸€æ­¥é€šè¿‡ QPS*3 å¾—åˆ°å¤šå°‘ä¸ªè¯·æ±‚å¯ä»¥å¡«å……æ»¡ Eden åŒºåŸŸã€‚è¿™å¯åˆæ­¥ä¼°ç®—æ¯ä¸ªè¯·æ±‚å ç”¨çš„å†…å­˜ç©ºé—´ã€‚</p>
</blockquote>
<h2 id="3-å†…å­˜"><a href="#3-å†…å­˜" class="headerlink" title="3. å†…å­˜"></a>3. å†…å­˜</h2><p>åŸºæœ¬æ‰€æœ‰çš„ç¨‹åºçŒ¿ä¸ç¨‹åºåª›éƒ½çŸ¥é“ï¼Œå®ƒæ˜¯è·‘ç¨‹åºçš„åœ°æ–¹ã€‚</p>
<p>ç£ç›˜å­˜å‚¨ ä¸ CPU ä¹‹é—´çš„æ¡¥æ¢ã€‚æ‹¥æœ‰æ¯” CPUç¼“å­˜ å¤§å‡ ç™¾å€ã€ä¸Šåƒå€çš„ç©ºé—´ã€‚CPUä¸‰çº§ç¼“å­˜ä¹Ÿå°± å‡ åMã€‚</p>
<blockquote>
<p>ç£ç›˜ åˆ°è¾¾ CPUéœ€è¦ç»è¿‡ (ä¸»æ¿-å—æ¡¥ã€åŒ—æ¡¥) æ‰èƒ½åˆ°è¾¾CPUã€‚å¾ˆæ…¢ã€‚</p>
</blockquote>
<p>å†…å­˜çš„å®¹é‡éƒ½æ˜¯ GB å•ä½ï¼Œå¤§é‡ç¨‹åºè¿è¡Œéƒ½ä¾èµ–å†…å­˜ï¼Œåˆ OS æ¥ç®¡ç†å’Œè°ƒåº¦ã€‚</p>
<blockquote>
<p>åœ°å€ä½æ•°ã€é€»è¾‘åœ°å€ã€è™šæ‹Ÿåœ°å€ã€ç‰©ç†åœ°å€ã€çº¿æ€§åœ°å€ã€å†…æ ¸åŒºåŸŸç­‰ï¼Œå¾ˆå¤šäººçœ‹åˆ°è¿™ï¼Œç›´æ¥ç–¯äº†ï¼Œä½†æ˜¯ä½ éœ€è¦æ·¡å®šã€‚</p>
</blockquote>
<h3 id="3-1-è™šæ‹Ÿåœ°å€"><a href="#3-1-è™šæ‹Ÿåœ°å€" class="headerlink" title="3.1 è™šæ‹Ÿåœ°å€"></a>3.1 è™šæ‹Ÿåœ°å€</h3><p>æ‰€æœ‰çš„ç¨‹åºä¸­ä½¿ç”¨çš„åœ°å€éƒ½æ˜¯è™šæ‹Ÿåœ°å€ (åœ¨æ®µå¼ç®¡ç†ä¸­ä¹Ÿå«é€»è¾‘åœ°å€)ï¼Œè¿™äº›åœ°å€åœ¨ä¸åŒçš„è¿›ç¨‹ä¹‹é—´æ˜¯å¯ä»¥é‡å¤çš„ã€‚</p>
<blockquote>
<p>ç¨‹åºä¸ºä»€ä¹ˆè¦ä½¿ç”¨ è™šæ‹Ÿåœ°å€?</p>
<p>Cè¯­è¨€æ¥è¯´ï¼Œç¼–è¯‘åçš„æŒ‡ä»¤ä¸­ï¼Œè®¸å¤šè°ƒç”¨çš„åœ°å€åœ¨ç¼–è¯‘é˜¶æ®µå°±å¾—ç¡®å®šä¸‹æ¥ï¼Œè®¸å¤šæ–¹æ³•å…¥å£å’Œå˜é‡ä½ç½®åœ¨ç¼–è¯‘æ—¶ç¡®å®šäº†è™šæ‹Ÿåœ°å€ï¼ŒçœŸæ­£è¿è¡Œæ—¶è¦ç”±OSæ¥åˆ†é…å®é™…çš„åœ°å€ç»™ç¨‹åºã€‚<br>ä½¿ç”¨è™šæ‹Ÿåœ°å€åï¼Œåœ°å€æ˜¯å¯ä»¥è¢«å¤ç”¨çš„ï¼Œç¨‹åºä¸å…³å¿ƒä¸å…¶ä»–è¿›ç¨‹æ˜¯å¦ä¼šä½¿ç”¨åŒä¸€åœ°å€ï¼ŒOSä¼šåˆ†é…ç¡®ä¿ã€‚</p>
</blockquote>
<h3 id="3-2-åˆ†æ®µæœºåˆ¶"><a href="#3-2-åˆ†æ®µæœºåˆ¶" class="headerlink" title="3.2 åˆ†æ®µæœºåˆ¶"></a>3.2 åˆ†æ®µæœºåˆ¶</h3><p>ä¹Ÿå°±æ˜¯ä¸ºè¿›ç¨‹åˆ†é…çš„ä¸€æ®µå†…å­˜åŒº (è¿ç»­çš„åŒºåŸŸ)ï¼Œå®ƒçš„ <code>èµ·å§‹ä½ç½®</code> + <code>é€»è¾‘åœ°å€</code> = çº¿æ€§åœ°å€ (å°±æ˜¯ç‰©ç†åœ°å€)</p>
<blockquote>
<p>æœ¬è¿›ç¨‹è®¿é—®å…¶ä»–è¿›ç¨‹å†…å­˜ï¼Œå†…å­˜ä¸èƒ½read é”™è¯¯ã€‚</p>
</blockquote>
<h3 id="3-3-åˆ†é¡µæœºåˆ¶"><a href="#3-3-åˆ†é¡µæœºåˆ¶" class="headerlink" title="3.3 åˆ†é¡µæœºåˆ¶"></a>3.3 åˆ†é¡µæœºåˆ¶</h3><p>åˆ†é¡µæœºåˆ¶ å¯æ”¯æ’‘è¾ƒå¤§çš„å†…å­˜ï¼Œç‰©ç†ä¸Šå¤§å¤šå°†å…¶åˆ’åˆ†ä¸º 4KB/é¡µ</p>
<h3 id="3-4-Java-Heap"><a href="#3-4-Java-Heap" class="headerlink" title="3.4 Java Heap"></a>3.4 Java Heap</h3><p>Javaè¯­è¨€ï¼Œä¸»è¦çœ‹ Heap åŒºåŸŸï¼Œç³»ç»Ÿå‚æ•°è®¾ç½®ä¸º -Xms, -Xmx æ—¶ï¼ŒJVM é€šå¸¸æ˜¯ç”³è¯·ä¸€ä¸ªè¿ç»­çš„è™šæ‹Ÿåœ°å€ã€‚OSé¢„å…ˆåˆ†é…çš„ç‰©ç†å†…å­˜ç©ºé—´æ˜¯  -Xms çš„å¤§å°ï¼Œ -Xmx è®¸å¤šç©ºé—´çœŸæ­£ä½¿ç”¨çš„æ—¶å€™æ‰ä¼šåˆ†é…ã€‚</p>
<blockquote>
<p>32 bit ç³»ç»Ÿä¸­ï¼Œ1.5GB çš„ Heap åŒºåŸŸæ˜¯æ¯”è¾ƒåˆé€‚çš„ã€‚64bit ç©ºé—´ä¸ä¼šå—åˆ°é™åˆ¶ (JVMä¹Ÿå¿…é¡»æ¢æˆ64bitæ¨¡å¼)</p>
</blockquote>
<h2 id="4-Disk"><a href="#4-Disk" class="headerlink" title="4. Disk"></a>4. Disk</h2><p>disk ä¸€ç›´åœ¨æ‹–ç€è®¡ç®—æœºçš„åè…¿, SSDå¥½ä¸€äº›.</p>
<h2 id="5-Cache"><a href="#5-Cache" class="headerlink" title="5. Cache"></a>5. Cache</h2><p>CPU æœ‰ cacheï¼Œç³»ç»Ÿæ¶æ„æœ‰ cacheï¼Œå­˜å‚¨ä¸Šæœ‰cacheï¼Œåˆ†å¸ƒå¼ä¸Šæœ‰ cacheï¼Œæ•°æ®åº“ä¸Šæœ‰cacheï¼ŒORMæ¡†æ¶ä¸Šæœ‰cache â€¦</p>
<blockquote>
<p>Cache å°±æ˜¯  <code>é è¿‘åŸåˆ™</code></p>
</blockquote>
<h2 id="6-ç½‘ç»œä¸æ•°æ®åº“"><a href="#6-ç½‘ç»œä¸æ•°æ®åº“" class="headerlink" title="6. ç½‘ç»œä¸æ•°æ®åº“"></a>6. ç½‘ç»œä¸æ•°æ®åº“</h2><h3 id="6-1-Java-åŸºæœ¬-IO"><a href="#6-1-Java-åŸºæœ¬-IO" class="headerlink" title="6.1 Java åŸºæœ¬ IO"></a>6.1 Java åŸºæœ¬ IO</h3><p>åªè¦æ˜¯å†…å­˜ç¨‹åºçš„é€šä¿¡ï¼Œéƒ½å¯ä»¥ç†è§£ä¸º <strong>I</strong>nput / <strong>O</strong>utput</p>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[æ•°å­¦ä¹‹ç¾ 03 statistical language model]]></title>
      <url>http://iequa.com/2016/09/13/ml-beauty-of-mathematics-03-statistical-language-model/</url>
      <content type="html"><![CDATA[<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js"],
    jax: ["input/TeX"],
    tex2jax: {
      inlineMath: [ ['$','$'], ['\\(','\\)'] ],
      displayMath: [ ['$$','$$']],
      processEscapes: true
    }
  });
</script>
<script type="text/javascript" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS_HTML,http://myserver.com/MathJax/config/local/local.js">
</script>

<h2 id="1-ç”¨æ•°å­¦çš„æ–¹æ³•æè¿°è¯­è¨€è§„å¾‹"><a href="#1-ç”¨æ•°å­¦çš„æ–¹æ³•æè¿°è¯­è¨€è§„å¾‹" class="headerlink" title="1. ç”¨æ•°å­¦çš„æ–¹æ³•æè¿°è¯­è¨€è§„å¾‹"></a>1. ç”¨æ•°å­¦çš„æ–¹æ³•æè¿°è¯­è¨€è§„å¾‹</h2><blockquote>
<p>æ•°å­¦çš„ç¾å¦™åœ¨äº<code>ç®€å•çš„æ¨¡å‹å¯ä»¥å¹²å¤§äº‹</code></p>
</blockquote>
<h3 id="1-1-S-åœ¨æ–‡æœ¬ä¸­å‡ºç°çš„å¯èƒ½æ€§"><a href="#1-1-S-åœ¨æ–‡æœ¬ä¸­å‡ºç°çš„å¯èƒ½æ€§" class="headerlink" title="1.1 S åœ¨æ–‡æœ¬ä¸­å‡ºç°çš„å¯èƒ½æ€§"></a>1.1 S åœ¨æ–‡æœ¬ä¸­å‡ºç°çš„å¯èƒ½æ€§</h3><p>S è¿™ä¸ªåºåˆ—å‡ºç°çš„æ¦‚ç‡ç­‰äºæ¯ä¸ªè¯å‡ºç°çš„æ¦‚ç‡ç›¸ä¹˜</p>
<p>$$<br>P(w_1, w_2, â€¦, w_n) = P(w_1) \cdot P(w_2|w_1) \cdot P(w_3|w_1, w_2)â€¦P(w_n|w_1, w_2, â€¦, w_{n-1}) \qquad (fml.1.1)<br>$$</p>
<blockquote>
<p>$ P(w_3|w_1, w_2)  $ çš„æ¦‚ç‡å·²ç»éå¸¸éš¾ç®—ï¼Œæ¯ä¸ªå˜é‡çš„å¯èƒ½æ€§éƒ½æ˜¯ä¸€ç§è¯­è¨€å­—å…¸çš„å¤§å°äº†ã€‚$P(w_n|w_1, w_2, â€¦, w_{n-1})$ æ›´æ˜¯å¯èƒ½æ€§å¤ªå¤šï¼Œæ— æ³•ä¼°ç®—ã€‚æ€ä¹ˆåŠ ?</p>
</blockquote>
<h3 id="1-2-é©¬å°”ç§‘å¤«å‡è®¾"><a href="#1-2-é©¬å°”ç§‘å¤«å‡è®¾" class="headerlink" title="1.2 é©¬å°”ç§‘å¤«å‡è®¾"></a>1.2 é©¬å°”ç§‘å¤«å‡è®¾</h3><p>20ä¸–çºªåˆï¼ŒAndrey Markov æå‡ºå·æ‡’ä½†æœ‰æ•ˆçš„æ–¹æ³•,ä»»æ„ä¸€ä¸ªè¯ $w_i$ å‡ºç°çš„æ¦‚ç‡åªåŒå®ƒå‰é¢çš„ $w_{i-1}$ æœ‰å…³ ï¼Œ æ•°å­¦ä¸Šç§°ä¸º <code>é©¬å°”ç§‘å¤«å‡è®¾</code></p>
<p>$$<br>P(w_1, w_2, â€¦, w_n) = P(w_1) \cdot P(w_2|w_1) \cdot P(w_3|w_2)â€¦P(w_n| w_{n-1}) \qquad (fml.1.2)<br>$$</p>
<p>å…¬å¼ $ (fml.1.2) $ å¯¹åº”çš„  Statistical language model æ˜¯ äºŒå…ƒæ¨¡å‹ Bigram Model</p>
<p>å› ä¸º</p>
<p>$$<br>p(w_{i-1}, w_i) \approx \frac {\kappa (w_{i-1}, w_i)} {\kappa}<br>$$</p>
<p>$$<br>p(w_{i-1}) \approx \frac {\kappa (w_{i-1})} {\kappa}<br>$$</p>
<p>æ‰€ä»¥</p>
<p>$$<br>P(w_i|w_{i-1}) = \frac { p(w_{i-1}, w_i)} {p(w_{i-1})}<br>$$</p>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[æ•°å­¦ä¹‹ç¾ 19 æ•°å­¦æ¨¡å‹çš„é‡è¦æ€§ & 20 æœ€å¤§ç†µæ¨¡å‹]]></title>
      <url>http://iequa.com/2016/09/12/ml-beauty-of-mathematics-19&20-entropy/</url>
      <content type="html"><![CDATA[<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js"],
    jax: ["input/TeX"],
    tex2jax: {
      inlineMath: [ ['$','$'], ['\\(','\\)'] ],
      displayMath: [ ['$$','$$']],
      processEscapes: true
    }
  });
</script>
<script type="text/javascript" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS_HTML,http://myserver.com/MathJax/config/local/local.js">
</script>

<p>ã€Šæ•°å­¦ä¹‹ç¾ã€‹ 19 æ•°å­¦æ¨¡å‹çš„é‡è¦æ€§ &amp; 20 æœ€å¤§ç†µæ¨¡å‹ Reading Notes</p>
<h2 id="1-æ•°å­¦æ¨¡å‹çš„é‡è¦æ€§"><a href="#1-æ•°å­¦æ¨¡å‹çš„é‡è¦æ€§" class="headerlink" title="1. æ•°å­¦æ¨¡å‹çš„é‡è¦æ€§"></a>1. æ•°å­¦æ¨¡å‹çš„é‡è¦æ€§</h2><blockquote>
<p>ä¼Ÿå¤§çš„å¤©æ–‡å­¦å®¶æ‰˜å‹’å¯†<br>å“¥ç™½å°¼ã€ä¼½åˆ©ç•¥ã€ç‰›é¡¿</p>
</blockquote>
<p>å´å†›åšå£«çš„æ€»ç»“</p>
<ol>
<li>ä¸€ä¸ªæ­£ç¡®çš„æ•°å­¦æ¨¡å‹åº”å½“åœ¨å½¢å¼ä¸Šæ˜¯ç®€å•çš„</li>
<li>ä¸€ä¸ªæ­£ç¡®çš„æ¨¡å‹ä¸€å¼€å§‹å¯èƒ½è¿˜ä¸å¦‚ä¸€ä¸ªç²¾é›•ç»†ç¢è¿‡çš„é”™è¯¯æ¨¡å‹å‡†ç¡®ï¼Œä½†å¦‚è®¤å®šå¤§æ–¹å‘æ˜¯å¯¹çš„ï¼Œå°±åº”è¯¥åšæŒä¸‹å»</li>
<li>å¤§é‡å‡†ç¡®çš„æ•°æ®å¯¹ç ”å‘å¾ˆé‡è¦</li>
<li>æ­£ç¡®çš„æ¨¡å‹ä¹Ÿå¯èƒ½å— å™ªå£° å¹²æ‰°ï¼Œè€Œæ˜¾å¾—ä¸å‡†ç¡®ï¼›è¿™æ—¶åº”è¯¥æ‰¾åˆ°å™ªå£°çš„æ ¹æºï¼Œè¿™ä¹Ÿè®¸èƒ½é€šå¾€é‡å¤§çš„å‘ç°ã€‚</li>
</ol>
<h2 id="2-ä¸æŠŠæ‰€æœ‰é¸¡è›‹æ”¾åˆ°ä¸€ä¸ªç¯®å­é‡Œ"><a href="#2-ä¸æŠŠæ‰€æœ‰é¸¡è›‹æ”¾åˆ°ä¸€ä¸ªç¯®å­é‡Œ" class="headerlink" title="2. ä¸æŠŠæ‰€æœ‰é¸¡è›‹æ”¾åˆ°ä¸€ä¸ªç¯®å­é‡Œ"></a>2. ä¸æŠŠæ‰€æœ‰é¸¡è›‹æ”¾åˆ°ä¸€ä¸ªç¯®å­é‡Œ</h2><p>äººä»¬å¸¸è¯´ä¸è¦æŠŠæ‰€æœ‰çš„é¸¡è›‹æ”¾åœ¨ä¸€ä¸ªç¯®å­é‡Œï¼Œå¯ä»¥é™ä½é£é™©ã€‚åœ¨ä¿¡æ¯å¤„ç†ä¸­ï¼Œè¿™ä¸ªåŸç†åŒæ ·é€‚ç”¨ã€‚æ•°å­¦ä¸Šè¿™ä¸ªåŸç†ç§°ä¸º - The Maximum Entropy Principle.</p>
<p>Wang XiaoBo æ˜¯ ç‹å°æ³¢ or ç‹æ™“æ³¢ï¼Œ éœ€è¦æ ¹æ® <code>ä¸Šä¸‹æ–‡</code></p>
<p>æ•°å­¦ä¸Šè§£å†³è¯¥é—®é¢˜æœ€æ¼‚äº®çš„æ–¹æ³•å°±æ˜¯ ï¼š Maximum Entropyï¼Œå®ƒç›¸å½“äº è¡Œæ˜Ÿè¿åŠ¨çš„æ¤­åœ†æ¨¡å‹ã€‚</p>
<p>Maximum Entropy çš„åŸç†å¾ˆç®€å•ï¼Œå°±æ˜¯ä¿ç•™ å…¨éƒ¨çš„ä¸ç¡®å®šæ€§ï¼Œå°†é£é™©é™åˆ°æœ€å°ã€‚</p>
<h3 id="2-1-Maximum-Entropy"><a href="#2-1-Maximum-Entropy" class="headerlink" title="2.1 Maximum Entropy"></a>2.1 Maximum Entropy</h3><p> å¯¹ä¸€ä¸ªéšæœºäº‹ä»¶çš„æ¦‚ç‡åˆ†å¸ƒè¿›è¡Œé¢„æµ‹æ—¶ï¼Œæˆ‘ä»¬çš„é¢„æµ‹åº”å½“æ»¡è¶³å…¨éƒ¨å·²çŸ¥çš„æ¡ä»¶ï¼Œè€Œå¯¹æœªçŸ¥çš„æƒ…å†µ<code>ä¸è¦åšä»»ä½•ä¸»è§‚å‡è®¾</code>ã€‚</p>
<p>åŒˆç‰™åˆ©æ•°å­¦å®¶ï¼Œä¿¡æ¯è®ºæœ€é«˜å¥–é¦™å†œå¥–å¾—ä¸» å¸Œè¨ Csiszar è¯æ˜ : å¯¹ä»»ä¸€ç»„ä¸è‡ªç›¸çŸ›ç›¾çš„ä¿¡æ¯ï¼Œè¿™ä¸ªæœ€å¤§ç†µæ¨¡å‹å­˜åœ¨ï¼Œä¸”å”¯ä¸€ã€‚</p>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[æ·±å…¥æµ…å‡º Entropy Based]]></title>
      <url>http://iequa.com/2016/09/12/ml-entropy-base/</url>
      <content type="html"><![CDATA[<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js"],
    jax: ["input/TeX"],
    tex2jax: {
      inlineMath: [ ['$','$'], ['\\(','\\)'] ],
      displayMath: [ ['$$','$$']],
      processEscapes: true
    }
  });
</script>
<script type="text/javascript" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS_HTML,http://myserver.com/MathJax/config/local/local.js">
</script>


<h2 id="1-Entropy-çš„å«ä¹‰ï¼Ÿ"><a href="#1-Entropy-çš„å«ä¹‰ï¼Ÿ" class="headerlink" title="1. Entropy çš„å«ä¹‰ï¼Ÿ"></a>1. Entropy çš„å«ä¹‰ï¼Ÿ</h2><blockquote>
<p>è‡ªç„¶ç•Œçš„äº‹ç‰©ï¼Œå¦‚æœä»»å…¶è‡ªèº«å‘å±•ï¼Œæœ€ç»ˆéƒ½ä¼šè¾¾åˆ°å°½å¯èƒ½çš„å¹³è¡¡æˆ–äº’è¡¥çŠ¶æ€</p>
<p>ä¸€ç›’ç«æŸ´ï¼Œï¼ˆäººä¸ºæˆ–å¤–åŠ›ï¼‰æœ‰åºåœ°å°†å…¶æ‘†æ”¾åœ¨ä¸€ä¸ªå°ç›’å­é‡Œï¼Œå¦‚æœä¸å°å¿ƒç«æŸ´ç›’æ‰“ç¿»äº†ï¼Œç«æŸ´ä¼šâ€œæ•£ä¹±â€åœ°æ´’åœ¨åœ°æ¿ä¸Šã€‚æ­¤æ—¶ç«æŸ´è™½ç„¶å¾ˆä¹±ï¼Œä½†è¿™æ˜¯å®ƒè‡ªèº«å‘å±•çš„ç»“æœã€‚</p>
</blockquote>
<p>ç†µEntropyæ˜¯æè¿°äº‹ç‰©æ— åºæ€§çš„å‚æ•°ï¼Œç†µè¶Šå¤§åˆ™æ— åºæ€§è¶Šå¼ºã€‚</p>
<blockquote>
<p>åœ¨ä¿¡æ¯è®ºä¸­ï¼Œæˆ‘ä»¬ç”¨ç†µè¡¨ç¤ºä¸€ä¸ªéšæœºå˜é‡çš„ä¸ç¡®å®šæ€§ï¼Œé‚£ä¹ˆå¦‚ä½•é‡åŒ–ä¿¡æ¯çš„ä¸ç¡®å®šæ€§å‘¢ï¼Ÿ<br>è®¾ä¸€æ¬¡éšæœºäº‹ä»¶ï¼ˆç”¨éšæœºå˜é‡$X$è¡¨ç¤ºï¼‰å®ƒå¯èƒ½ä¼šæœ‰ $x_1ï¼Œx_2ï¼Œâ‹¯ï¼Œx_m$ å…± m ä¸ªä¸åŒçš„ç»“æœï¼Œæ¯ä¸ªç»“æœå‡ºç°çš„æ¦‚ç‡åˆ†åˆ«ä¸º $p_1ï¼Œp_2ï¼Œâ‹¯ï¼Œp_m$ï¼Œé‚£ä¹ˆ $X$ çš„ä¸ç¡®å®šåº¦ï¼Œå³ä¿¡æ¯Entropyä¸ºï¼š</p>
</blockquote>
<p>$$<br>H(X) =\sum_{i=1}^{m} p_i \cdot \log_{2} \frac{1}{p_i} = - \sum_{i=1}^{m} p_i \cdot \log_{2} p_i<br>$$</p>
<h2 id="2-Entropy"><a href="#2-Entropy" class="headerlink" title="2. Entropy"></a>2. Entropy</h2><p>Information Entropy [â€˜entrÉ™pÉª]</p>
<p>Entropy è¡¨ç¤ºçš„æ˜¯ä¸ç¡®å®šåº¦çš„åº¦é‡ï¼Œå¦‚æœæŸä¸ªæ•°æ®é›†çš„ç±»åˆ«çš„ä¸ç¡®å®šç¨‹åº¦è¶Šé«˜ï¼Œåˆ™å…¶ entropy å°±è¶Šå¤§ã€‚</p>
<p><strong><em>example</em></strong> : </p>
<p>å°†ä¸€ä¸ªç«‹æ–¹ä½“AæŠ›å‘ç©ºä¸­ï¼Œè®°è½åœ°æ—¶ç€åœ°çš„é¢ä¸º $c$, $c$ çš„å–å€¼ä¸º{1,2,3,4,5,6} </p>
<blockquote>
<p>$$<br>info(c) = - (1/6 \cdot log_{2}(1/6)+â€¦+1/6 \cdot log_{2}(1/6)) = -1 \cdot log(1/6) = 2.58ï¼›<br>$$</p>
</blockquote>
<p>å››é¢ä½“æŠ›å…¥ç©ºä¸­ :</p>
<blockquote>
<p>$$<br>info(c) = - (1/4 \cdot log_{2}(1/4)+â€¦+1/4 \cdot log_{2}(1/4)) = -1 \cdot log(1/4) = 2ï¼›<br>$$</p>
</blockquote>
<p>çƒä½“æŠ›å…¥ç©ºä¸­ :</p>
<blockquote>
<p>$$<br>info(c) = -1 \cdot log(1) = 0ï¼›<br>$$<br>æ­¤æ—¶è¡¨ç¤ºä¸ç¡®å®šç¨‹åº¦ä¸º0ï¼Œä¹Ÿå°±æ˜¯ç€åœ°æ—¶å‘ä¸‹çš„é¢æ˜¯ç¡®å®šçš„ã€‚</p>
</blockquote>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[ç§§ç§§æ•™ä½ å‘ç¾éŸ³ ï¼ˆnot finishï¼‰]]></title>
      <url>http://iequa.com/2016/09/11/en-yangyangjiaonifameiyin/</url>
      <content type="html"><![CDATA[<p><strong>world</strong></p>
<h2 id="5"><a href="#5" class="headerlink" title="5."></a>5.</h2><p>what would you like ?</p>
<h2 id="6-i-i"><a href="#6-i-i" class="headerlink" title="6. i: / i"></a>6. i: / i</h2><table>
<thead>
<tr>
<th>word i: / i</th>
<th>sentence</th>
</tr>
</thead>
<tbody>
<tr>
<td>beat, bit</td>
<td>The beat is a bit strong.</td>
</tr>
<tr>
<td>keys, kiss</td>
<td>Give me a kiss for the keys.</td>
</tr>
<tr>
<td>cheek, chick</td>
<td>The chickâ€™s cheek is soft.</td>
</tr>
<tr>
<td>deed, did</td>
<td>He did the deed.</td>
</tr>
<tr>
<td>feet, fit</td>
<td>These shoes fit my feet.</td>
</tr>
<tr>
<td>peel, pill</td>
<td>Donâ€™t peel that pill.</td>
</tr>
<tr>
<td>seek, sick</td>
<td>We were seeking that sick person.</td>
</tr>
<tr>
<td>sheep, ship</td>
<td>There are sheep on the ship.</td>
</tr>
<tr>
<td>these, this</td>
<td>These are better than this one.</td>
</tr>
</tbody>
</table>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[Spark Machine Learning p3 - æ•°æ®çš„è·å–ã€å¤„ç†ä¸å‡†å¤‡]]></title>
      <url>http://iequa.com/2016/09/09/spark-machine-learning-p3/</url>
      <content type="html"><![CDATA[<blockquote>
<p>ã€ŠSpark Machine Learingã€‹ Reading Notes</p>
</blockquote>
<p>MovieStream åŒ…æ‹¬ç½‘ç«™æä¾›çš„ç”µå½±æ•°æ®ã€ç”¨æˆ·çš„æœåŠ¡ä¿¡æ¯æ•°æ®ä»¥åŠè¡Œä¸ºæ•°æ®ã€‚</p>
<p>è¿™äº›æ•°æ®æ¶‰åŠç”µå½±å’Œç›¸å…³å†…å®¹ï¼ˆæ¯”å¦‚æ ‡é¢˜ã€åˆ†ç±»ã€å›¾ç‰‡ã€æ¼”å‘˜å’Œå¯¼æ¼”ï¼‰ã€ç”¨æˆ·ä¿¡æ¯ï¼ˆæ¯”å¦‚ç”¨æˆ·å±æ€§ã€ä½ç½®å’Œå…¶ä»–ä¿¡æ¯ï¼‰ä»¥åŠç”¨æˆ·æ´»åŠ¨æ•°æ®ï¼ˆæ¯”å¦‚æµè§ˆæ•°ã€é¢„è§ˆçš„æ ‡é¢˜å’Œæ¬¡æ•°ã€è¯„çº§ã€è¯„è®ºï¼Œä»¥åŠå¦‚èµã€åˆ†äº«ä¹‹ç±»çš„ç¤¾äº¤æ•°æ®ï¼Œè¿˜æœ‰åŒ…æ‹¬åƒFacebookå’ŒTwitterä¹‹ç±»çš„ç¤¾äº¤ç½‘ç»œå±æ€§ï¼‰ã€‚</p>
<p>å…¶å¤–éƒ¨æ•°æ®æ¥æºåˆ™å¯èƒ½åŒ…æ‹¬å¤©æ°”å’Œåœ°ç†å®šä½ä¿¡æ¯ï¼Œä»¥åŠå¦‚IMDBå’ŒRotten Tomatorsä¹‹ç±»çš„ç¬¬ä¸‰æ–¹ç”µå½±è¯„çº§ä¸è¯„è®ºä¿¡æ¯ç­‰ã€‚</p>
<p>ä¸€ä¸ªé¢„æµ‹ç²¾å‡†çš„å¥½æ¨¡å‹æœ‰ç€æé«˜çš„å•†ä¸šä»·å€¼ï¼ˆNetflix Prize å’Œ <strong>Kaggle</strong> ä¸Šæœºå™¨å­¦ä¹ æ¯”èµ›çš„æˆåŠŸå°±æ˜¯å¾ˆå¥½çš„è§è¯ï¼‰</p>
<p><strong>focus on</strong></p>
<ul>
<li>æ•°æ®çš„å¤„ç†ã€æ¸…ç†ã€æ¢ç´¢å’Œå¯è§†åŒ–æ–¹æ³•ï¼›</li>
<li>åŸå§‹æ•°æ®è½¬æ¢ä¸ºå¯ç”¨äºæœºå™¨å­¦ä¹ ç®—æ³•ç‰¹å¾çš„å„ç§æŠ€æœ¯ï¼›</li>
<li>å­¦ä¹ å¦‚ä½•ä½¿ç”¨å¤–éƒ¨åº“æˆ–Sparkå†…ç½®å‡½æ•°æ¥æ­£åˆ™åŒ–è¾“å…¥ç‰¹å¾.</li>
</ul>
<h2 id="1-è·å–å…¬å¼€æ•°æ®é›†"><a href="#1-è·å–å…¬å¼€æ•°æ®é›†" class="headerlink" title="1. è·å–å…¬å¼€æ•°æ®é›†"></a>1. è·å–å…¬å¼€æ•°æ®é›†</h2><p><strong>UCLæœºå™¨å­¦ä¹ çŸ¥è¯†åº“</strong></p>
<blockquote>
<p>åŒ…æ‹¬è¿‘300ä¸ªä¸åŒå¤§å°å’Œç±»å‹çš„æ•°æ®é›†ï¼Œå¯ç”¨äºåˆ†ç±»ã€å›å½’ã€èšç±»å’Œæ¨èç³»ç»Ÿä»»åŠ¡ã€‚æ•°æ®é›†åˆ—è¡¨ä½äºï¼š<a href="http://archive.ics.uci.edu/ml/ã€‚" target="_blank" rel="external">http://archive.ics.uci.edu/ml/ã€‚</a></p>
</blockquote>
<p><strong>Amazon AWSå…¬å¼€æ•°æ®é›†</strong></p>
<blockquote>
<p>åŒ…å«çš„é€šå¸¸æ˜¯å¤§å‹æ•°æ®é›†ï¼Œå¯é€šè¿‡Amazon S3è®¿é—®ã€‚è¿™äº›æ•°æ®é›†åŒ…æ‹¬äººç±»åŸºå› ç»„é¡¹ç›®ã€Common Crawlç½‘é¡µè¯­æ–™åº“ã€ç»´åŸºç™¾ç§‘æ•°æ®å’ŒGoogle Books Ngramsã€‚<br>ç›¸å…³ä¿¡æ¯å¯å‚è§ï¼š<a href="http://aws.amazon.com/publicdatasets/ã€‚" target="_blank" rel="external">http://aws.amazon.com/publicdatasets/ã€‚</a></p>
</blockquote>
<p><strong>Kaggle</strong></p>
<blockquote>
<p>è¿™é‡Œé›†åˆäº†Kaggleä¸¾è¡Œçš„å„ç§æœºå™¨å­¦ä¹ ç«èµ›æ‰€ç”¨çš„æ•°æ®é›†ã€‚<br>å®ƒä»¬è¦†ç›–åˆ†ç±»ã€å›å½’ã€æ’åã€æ¨èç³»ç»Ÿä»¥åŠå›¾åƒåˆ†æé¢†åŸŸï¼Œå¯ä»CompetitionsåŒºåŸŸä¸‹è½½ï¼š<a href="http://www.kaggle.com/competitionsã€‚" target="_blank" rel="external">http://www.kaggle.com/competitionsã€‚</a></p>
</blockquote>
<p><strong>KDnuggets</strong></p>
<blockquote>
<p>è¿™é‡ŒåŒ…å«ä¸€ä¸ªè¯¦ç»†çš„å…¬å¼€æ•°æ®é›†åˆ—è¡¨ï¼Œå…¶ä¸­ä¸€äº›ä¸Šé¢æåˆ°è¿‡çš„ã€‚<br>è¯¥åˆ—è¡¨ä½äºï¼š<a href="http://www.kdnuggets.com/datasets/index.htmlã€‚" target="_blank" rel="external">http://www.kdnuggets.com/datasets/index.htmlã€‚</a></p>
</blockquote>
<p><strong>MovieLens 100kæ•°æ®é›†</strong></p>
<p>MovieLens 100kæ•°æ®é›†åŒ…å«è¡¨ç¤ºå¤šä¸ªç”¨æˆ·å¯¹å¤šéƒ¨ç”µå½±çš„10ä¸‡æ¬¡è¯„çº§æ•°æ®ï¼Œä¹ŸåŒ…å«ç”µå½±å…ƒæ•°æ®å’Œç”¨æˆ·å±æ€§ä¿¡æ¯</p>
<p><a href="http://files.grouplens.org/datasets/movielens/ml-100k.zip" target="_blank" rel="external">http://files.grouplens.org/datasets/movielens/ml-100k.zip</a></p>
<p>ml-100k/  u.userï¼ˆç”¨æˆ·å±æ€§æ–‡ä»¶ï¼‰ã€u.itemï¼ˆç”µå½±å…ƒæ•°æ®ï¼‰å’Œu.dataï¼ˆç”¨æˆ·å¯¹ç”µå½±çš„è¯„çº§ï¼‰</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&gt;unzip ml-100k.zip</span><br><span class="line">  inflating: ml-100k/allbut.pl</span><br><span class="line">  inflating: ml-100k/mku.sh</span><br><span class="line">  inflating: ml-100k/README</span><br><span class="line">  ...</span><br><span class="line">  inflating: ml-100k/ub.base</span><br><span class="line">  inflating: ml-100k/ub.test</span><br></pre></td></tr></table></figure>
<hr>
<p><strong>u.user</strong></p>
<p>user.idã€ageã€genderã€occupationã€ZIP code</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&gt;head -5 u.user</span><br><span class="line">  1|24|M|technician|85711</span><br><span class="line">  2|53|F|other|94043</span><br><span class="line">  3|23|M|writer|32067</span><br><span class="line">  4|24|M|technician|43537</span><br><span class="line">  5|33|F|other|15213</span><br></pre></td></tr></table></figure>
<p><strong>u.item</strong></p>
<p>movie idã€titleã€release dateä»¥åŠè‹¥å¹²ä¸IMDB linkå’Œç”µå½±åˆ†ç±»ç›¸å…³çš„å±æ€§</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&gt;head -5 u.item</span><br><span class="line">  1|Toy Story (1995)|01-Jan-1995||http://us.imdb.com/M/title-exact?Toy%20 Story%20(1995)|0|0|0|1|1|1|0|0|0|0|0|0|0|0|0|0|0|0|0</span><br><span class="line">  2|GoldenEye (1995)|01-Jan-1995||http://us.imdb.com/M/title- exact?GoldenEye%20(1995)|0|1|1|0|0|0|0|0|0|0|0|0|0|0|0|0|1|0|0</span><br><span class="line">  3|Four Rooms (1995)|01-Jan-1995||http://us.imdb.com/M/title- exact?Four%20Rooms%20(1995)|0|0|0|0|0|0|0|0|0|0|0|0|0|0|0|0|1|0|0</span><br><span class="line">  4|Get Shorty (1995)|01-Jan-1995||http://us.imdb.com/M/title- exact?Get%20Shorty%20(1995)|0|1|0|0|0|1|0|0|1|0|0|0|0|0|0|0|0|0|0</span><br><span class="line">  5|Copycat (1995)|01-Jan-1995||http://us.imdb.com/M/title- exact?Copycat%20(1995)|0|0|0|0|0|0|1|0|1|0|0|0|0|0|0|0|1|0|0</span><br></pre></td></tr></table></figure>
<p><strong>u.data</strong></p>
<p>user idã€movie idã€ratingï¼ˆä»1åˆ°5ï¼‰å’Œtimestampå±æ€§ï¼Œå„å±æ€§é—´ç”¨åˆ¶è¡¨ç¬¦ï¼ˆ\tï¼‰åˆ†éš”</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&gt;head -5 u.data</span><br><span class="line">196    242    3    881250949</span><br><span class="line">186    302    3    891717742</span><br><span class="line">22     377    1    878887116</span><br><span class="line">244    51     2    880606923</span><br><span class="line">166    346    1    886397596</span><br></pre></td></tr></table></figure>
<h2 id="2-æ¢ç´¢ä¸å¯è§†åŒ–æ•°æ®"><a href="#2-æ¢ç´¢ä¸å¯è§†åŒ–æ•°æ®" class="headerlink" title="2. æ¢ç´¢ä¸å¯è§†åŒ–æ•°æ®"></a>2. æ¢ç´¢ä¸å¯è§†åŒ–æ•°æ®</h2><p>IPythonçš„å®‰è£…æ–¹æ³•å¯å‚è€ƒå¦‚ä¸‹æŒ‡å¼•ï¼š<a href="http://ipython.org/install.htmlã€‚" target="_blank" rel="external">http://ipython.org/install.htmlã€‚</a></p>
<p>å¦‚æœè¿™æ˜¯ä½ ç¬¬ä¸€æ¬¡ä½¿ç”¨IPythonï¼Œè¿™é‡Œæœ‰ä¸€ä¸ªæ•™ç¨‹ï¼š<a href="http://ipython.org/ipython-doc/stable/interactive/tutorial.htmlã€‚" target="_blank" rel="external">http://ipython.org/ipython-doc/stable/interactive/tutorial.htmlã€‚</a></p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&gt;IPYTHON=1 IPYTHON_OPTS=&quot;--pylab&quot; ./bin/pyspark</span><br></pre></td></tr></table></figure>
<blockquote>
<p>ç»ˆç«¯é‡Œçš„IPython 2.3.1 â€“ An enhanced Interactive Pythonå’ŒUsing matplotlib backend: MacOSXè¾“å‡ºè¡Œè¡¨ç¤ºIPythonå’Œpylabå‡å·²è¢«PySparkå¯ç”¨ã€‚</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">Welcome to</span><br><span class="line">      ____              __</span><br><span class="line">     / __/__  ___ _____/ /__</span><br><span class="line">    _\ \/ _ \/ _ `/ __/  &apos;_/</span><br><span class="line">   /__ / .__/\_,_/_/ /_/\_\   version 1.5.2</span><br><span class="line">      /_/</span><br><span class="line"></span><br><span class="line">Using Python version 2.7.10 (default, Jul 14 2015 19:46:27)</span><br><span class="line">SparkContext available as sc, HiveContext available as sqlContext.</span><br><span class="line"></span><br><span class="line">In [1]:</span><br></pre></td></tr></table></figure>
<blockquote>
<p>å¯ä»¥å°†æ ·æœ¬ä»£ç è¾“å…¥åˆ°IPythonç»ˆç«¯ï¼Œä¹Ÿå¯é€šè¿‡IPythonæä¾›çš„Notebook åº”ç”¨æ¥å®Œæˆã€‚Notebookæ”¯æŒHTMLæ˜¾ç¤ºï¼Œä¸”åœ¨IPythonç»ˆç«¯çš„åŸºç¡€ä¸Šæä¾›äº†ä¸€äº›å¢å¼ºåŠŸèƒ½ï¼Œå¦‚å³æ—¶ç»˜å›¾ã€HTMLæ ‡è®°ï¼Œä»¥åŠç‹¬ç«‹è¿è¡Œä»£ç ç‰‡æ®µçš„åŠŸèƒ½ã€‚</p>
<p>IPython Notebook ä½¿ç”¨æŒ‡å—ï¼š<a href="http://ipython.org/ipython-doc/stable/interactive/notebook.html" target="_blank" rel="external">http://ipython.org/ipython-doc/stable/interactive/notebook.html</a></p>
</blockquote>
<h3 id="2-1-æ¢ç´¢ç”¨æˆ·æ•°æ®"><a href="#2-1-æ¢ç´¢ç”¨æˆ·æ•°æ®" class="headerlink" title="2.1 æ¢ç´¢ç”¨æˆ·æ•°æ®"></a>2.1 æ¢ç´¢ç”¨æˆ·æ•°æ®</h3><figure class="highlight plain"><figcaption><span>python</span></figcaption><table><tr><td class="code"><pre><span class="line">user_data = sc.textFile(&quot;/Users/hp/ghome/ml/ml-100k/u.user&quot;)</span><br><span class="line">user_data.first()</span><br><span class="line">user_data.take(5)</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><figcaption><span>python</span></figcaption><table><tr><td class="code"><pre><span class="line">user_fields = user_data.map(lambda line: line.split(&quot;|&quot;))</span><br><span class="line">num_users = user_fields.map(lambda fields: fields[0]).count()</span><br><span class="line">num_genders = user_fields.map(lambda fields: fields[2]).distinct().count()</span><br><span class="line">num_occupations = user_fields.map(lambda fields: fields[3]).distinct().count()</span><br><span class="line">num_zipcodes = user_fields.map(lambda fields: fields[4]).distinct().count()</span><br><span class="line">print &quot;Users: %d, genders: %d, occupations: %d, ZIP codes: %d&quot; % (num_users, num_genders, num_occupations, num_zipcodes)</span><br></pre></td></tr></table></figure>
<p>Output</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">Users: 943, genders: 2, occupations: 21, ZIP codes: 795</span><br></pre></td></tr></table></figure>
<p>matplotlibçš„histä¸ªç›´æ–¹å›¾ï¼Œä»¥åˆ†æç”¨æˆ·å¹´é¾„çš„åˆ†å¸ƒæƒ…å†µï¼š</p>
<p><strong>age distribution</strong></p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">ages = user_fields.map(lambda x: int(x[1])).collect()</span><br><span class="line">hist(ages, bins=20, color=&apos;lightblue&apos;, normed=True)</span><br><span class="line">fig = matplotlib.pyplot.gcf()</span><br><span class="line">fig.set_size_inches(16, 10)</span><br></pre></td></tr></table></figure>
<p><img src="/images/spark/spark-ml-3.1.png" alt="screenshow?key=15055650f47cff956148"></p>
<p><strong>occupation distribution</strong></p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">count_by_occupation = user_fields.map(lambda fields: (fields[3], 1)).reduceByKey(lambda x, y: x + y).collect()</span><br><span class="line"></span><br><span class="line">x_axis1 = np.array([c[0] for c in count_by_occupation])</span><br><span class="line"></span><br><span class="line">y_axis1 = np.array([c[1] for c in count_by_occupation])</span><br><span class="line"></span><br><span class="line">print x_axis1</span><br><span class="line">[u&apos;administrator&apos; u&apos;retired&apos; u&apos;lawyer&apos; u&apos;none&apos; u&apos;student&apos; u&apos;technician&apos;</span><br><span class="line"> u&apos;programmer&apos; u&apos;salesman&apos; u&apos;homemaker&apos; u&apos;writer&apos; u&apos;doctor&apos;</span><br><span class="line"> u&apos;entertainment&apos; u&apos;marketing&apos; u&apos;executive&apos; u&apos;scientist&apos; u&apos;educator&apos;</span><br><span class="line"> u&apos;healthcare&apos; u&apos;librarian&apos; u&apos;artist&apos; u&apos;other&apos; u&apos;engineer&apos;]</span><br><span class="line"></span><br><span class="line">print y_axis1</span><br><span class="line">[ 79  14  12   9 196  27  66  12   7  45   7  18  26  32  31  95  16  51</span><br><span class="line">  28 105  67]</span><br></pre></td></tr></table></figure>
<p>plt.xticks(rotation=30)ä¹‹ç±»çš„ä»£ç  æ˜¯ ç¾åŒ–æ¡å½¢å›¾</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">pos = np.arange(len(x_axis))</span><br><span class="line">width = 1.0</span><br><span class="line"></span><br><span class="line">ax = plt.axes()</span><br><span class="line">ax.set_xticks(pos + (width / 2))</span><br><span class="line">ax.set_xticklabels(x_axis)</span><br><span class="line"></span><br><span class="line">plt.bar(pos, y_axis, width, color=&apos;lightblue&apos;)</span><br><span class="line">plt.xticks(rotation=30)</span><br><span class="line">fig = matplotlib.pyplot.gcf()</span><br><span class="line">fig.set_size_inches(16, 10)</span><br></pre></td></tr></table></figure>
<p><img src="/images/spark/spark-ml-3.2.png" alt="screenshow?key=15057f015ac5712d9a83"></p>
<p>Sparkå¯¹RDDæä¾›äº†ä¸€ä¸ªåä¸ºcountByValueçš„ä¾¿æ·å‡½æ•°</p>
<figure class="highlight plain"><figcaption><span>python</span></figcaption><table><tr><td class="code"><pre><span class="line">count_by_occupation2 = user_fields.map(lambda fields: fields[3]).countByValue()</span><br><span class="line">print &quot;Map-reduce approach:&quot;</span><br><span class="line">print dict(count_by_occupation2)</span><br><span class="line">print &quot;&quot;</span><br><span class="line">print &quot;countByValue approach:&quot;</span><br><span class="line">print dict(count_by_occupation)</span><br></pre></td></tr></table></figure>
<h3 id="2-2-æ¢ç´¢ç”µå½±æ•°æ®"><a href="#2-2-æ¢ç´¢ç”µå½±æ•°æ®" class="headerlink" title="2.2 æ¢ç´¢ç”µå½±æ•°æ®"></a>2.2 æ¢ç´¢ç”µå½±æ•°æ®</h3><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">movie_data = sc.textFile(&quot;/PATH/ml-100k/u.item&quot;)</span><br><span class="line">print movie_data.first()</span><br><span class="line">num_movies = movie_data.count()</span><br><span class="line">print &quot;Movies: %d&quot; % num_movies</span><br></pre></td></tr></table></figure>
<p>1|Toy Story (1995)|01-Jan-1995||<a href="http://us.imdb.com/M/title-exact?Toy%20Story%20(1995)|0|0|0|1|1|1|0|0|0|0|0|0|0|0|0|0|0|0|0" target="_blank" rel="external">http://us.imdb.com/M/title-exact?Toy%20Story%20(1995)|0|0|0|1|1|1|0|0|0|0|0|0|0|0|0|0|0|0|0</a><br>Movies: 1682</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">def convert_year(x):</span><br><span class="line">  try:</span><br><span class="line">    return int(x[-4:])</span><br><span class="line">  except:</span><br><span class="line">    return 1900</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">movie_fields = movie_data.map(lambda lines: lines.split(&quot;|&quot;))</span><br><span class="line">years = movie_fields.map(lambda fields: fields[2]).map(lambda x: convert_year(x))</span><br><span class="line"></span><br><span class="line">years_filtered = years.filter(lambda x: x != 1900)</span><br><span class="line"></span><br><span class="line">movie_ages = years_filtered.map(lambda yr: 1998-yr).countByValue()</span><br><span class="line">values = movie_ages.values()</span><br><span class="line">bins = movie_ages.keys()</span><br><span class="line">hist(values, bins=bins, color=&apos;lightblue&apos;, normed=True)</span><br><span class="line">fig = matplotlib.pyplot.gcf()</span><br><span class="line">fig.set_size_inches(16,10)</span><br></pre></td></tr></table></figure>
<p><img src="/images/spark/spark-ml-3.3.png" alt="screenshow?key=150556f33e22a36bb651"></p>
<h3 id="2-3-æ¢ç´¢è¯„çº§æ•°æ®"><a href="#2-3-æ¢ç´¢è¯„çº§æ•°æ®" class="headerlink" title="2.3 æ¢ç´¢è¯„çº§æ•°æ®"></a>2.3 æ¢ç´¢è¯„çº§æ•°æ®</h3><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">rating_data = sc.textFile(&quot;/Users/hp/ghome/ml/ml-100k/u.data&quot;)</span><br><span class="line">print rating_data.first()</span><br><span class="line">num_ratings = rating_data.count()</span><br><span class="line">print &quot;Ratings: %d&quot; % num_ratings</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">rating_data = rating_data.map(lambda line: line.split(&quot;\t&quot;))</span><br><span class="line">ratings = rating_data.map(lambda fields: int(fields[2]))</span><br><span class="line">max_rating = ratings.reduce(lambda x, y: max(x, y))</span><br><span class="line">min_rating = ratings.reduce(lambda x, y: min(x, y))</span><br><span class="line">mean_rating = ratings.reduce(lambda x, y: x + y) / num_ratings</span><br><span class="line">median_rating = np.median(ratings.collect())</span><br><span class="line">ratings_per_user = num_ratings / num_users</span><br><span class="line">ratings_per_movie = num_ratings / num_movies</span><br><span class="line">print &quot;Min rating: %d&quot; % min_rating</span><br><span class="line">print &quot;Max rating: %d&quot; % max_rating</span><br><span class="line">print &quot;Average rating: %2.2f&quot; % mean_rating</span><br><span class="line">print &quot;Median rating: %d&quot; % median_rating</span><br><span class="line">print &quot;Average # of ratings per user: %2.2f&quot; % ratings_per_user</span><br><span class="line">print &quot;Average # of ratings per movie: %2.2f&quot; % ratings_per_movie</span><br></pre></td></tr></table></figure>
<blockquote>
<p>Max rating: 5<br>Average rating: 3.00<br>Median rating: 4<br>Average # of ratings per user: 106.00<br>Average # of ratings per movie: 59.00</p>
</blockquote>
<p>Sparkå¯¹RDDä¹Ÿæä¾›ä¸€ä¸ªåä¸ºstatesçš„å‡½æ•°ã€‚è¯¥å‡½æ•°åŒ…å«ä¸€ä¸ªæ•°å€¼å˜é‡ç”¨äºåšç±»ä¼¼çš„ç»Ÿè®¡ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">ratings.stats()</span><br><span class="line"></span><br><span class="line">å…¶è¾“å‡ºä¸ºï¼š</span><br><span class="line">(count: 100000, mean: 3.52986, stdev: 1.12566797076, max: 5.0, min: 1.0)</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">count_by_rating = ratings.countByValue()</span><br><span class="line">x_axis = np.array(count_by_rating.keys())</span><br><span class="line">y_axis = np.array([float(c) for c in count_by_rating.values()])</span><br><span class="line"># è¿™é‡Œå¯¹yè½´æ­£åˆ™åŒ–ï¼Œä½¿å®ƒè¡¨ç¤ºç™¾åˆ†æ¯”</span><br><span class="line">y_axis_normed = y_axis / y_axis.sum()</span><br><span class="line">pos = np.arange(len(x_axis))</span><br><span class="line">width = 1.0</span><br><span class="line"></span><br><span class="line">ax = plt.axes()</span><br><span class="line">ax.set_xticks(pos + (width / 2))</span><br><span class="line">ax.set_xticklabels(x_axis)</span><br><span class="line"></span><br><span class="line">plt.bar(pos, y_axis_normed, width, color=&apos;lightblue&apos;)</span><br><span class="line">plt.xticks(rotation=30)</span><br><span class="line">fig = matplotlib.pyplot.gcf()</span><br><span class="line">fig.set_size_inches(16, 10)</span><br></pre></td></tr></table></figure>
<p><img src="/images/spark/spark-ml-3.4.png" alt="screenshow?key=1505422e3494afb95855"></p>
<p><strong>å„ä¸ªç”¨æˆ·è¯„çº§æ¬¡æ•°çš„åˆ†å¸ƒæƒ…å†µ</strong></p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">user_ratings_grouped = rating_data.map(lambda fields: (int(fields[0]), int(fields[2]))).groupByKey()</span><br><span class="line"></span><br><span class="line">user_ratings_byuser = user_ratings_grouped.map(lambda (k, v): (k, len(v)))</span><br><span class="line">user_ratings_byuser.take(10)</span><br><span class="line"></span><br><span class="line">Out[91]:</span><br><span class="line">[(2, 62),</span><br><span class="line"> (4, 24),</span><br><span class="line"> (6, 211),</span><br><span class="line"> (8, 59),</span><br><span class="line"> (10, 184),</span><br><span class="line"> (12, 51),</span><br><span class="line"> (14, 98),</span><br><span class="line"> (16, 140),</span><br><span class="line"> (18, 277),</span><br><span class="line"> (20, 48)]</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">user_ratings_byuser_local = user_ratings_byuser.map(lambda (k, v): v).collect()</span><br><span class="line">hist(user_ratings_byuser_local, bins=200, color=&apos;lightblue&apos;, normed=True)</span><br><span class="line">fig = matplotlib.pyplot.gcf()</span><br><span class="line">fig.set_size_inches(16,10)</span><br></pre></td></tr></table></figure>
<p><img src="/images/spark/spark-ml-3.5.png" alt="screenshow?key=15056b5ffb7672cee5d1"></p>
<h2 id="3-å¤„ç†ä¸è½¬æ¢æ•°æ®"><a href="#3-å¤„ç†ä¸è½¬æ¢æ•°æ®" class="headerlink" title="3. å¤„ç†ä¸è½¬æ¢æ•°æ®"></a>3. å¤„ç†ä¸è½¬æ¢æ•°æ®</h2><p><strong>éè§„æ•´æ•°æ®å’Œç¼ºå¤±æ•°æ®çš„å¡«å……</strong></p>
<h2 id="4-ä»æ•°æ®ä¸­æå–æœ‰ç”¨ç‰¹å¾"><a href="#4-ä»æ•°æ®ä¸­æå–æœ‰ç”¨ç‰¹å¾" class="headerlink" title="4. ä»æ•°æ®ä¸­æå–æœ‰ç”¨ç‰¹å¾"></a>4. ä»æ•°æ®ä¸­æå–æœ‰ç”¨ç‰¹å¾</h2><p>åœ¨å®Œæˆå¯¹æ•°æ®çš„åˆæ­¥æ¢ç´¢ã€å¤„ç†å’Œæ¸…ç†åï¼Œä¾¿å¯ä»ä¸­æå–å¯ä¾›æœºå™¨å­¦ä¹ æ¨¡å‹è®­ç»ƒç”¨çš„ç‰¹å¾ã€‚</p>
<p>ç‰¹å¾ï¼ˆ<code>feature</code>ï¼‰æŒ‡é‚£äº›ç”¨äº<strong><em>æ¨¡å‹è®­ç»ƒçš„å˜é‡</em></strong>ã€‚æ¯ä¸€è¡Œæ•°æ®åŒ…å«å¯ä¾›æå–åˆ°è®­ç»ƒæ ·æœ¬ä¸­çš„å„ç§ä¿¡æ¯ã€‚</p>
<p>å‡ ä¹æ‰€æœ‰æœºå™¨å­¦ä¹ æ¨¡å‹éƒ½æ˜¯ä¸ç”¨å‘é‡è¡¨ç¤ºçš„æ•°å€¼ç‰¹å¾æ‰“äº¤é“ï¼›éœ€å°†åŸå§‹æ•°æ®è½¬æ¢ä¸ºæ•°å€¼ã€‚</p>
<p>ç‰¹å¾å¯ä»¥æ¦‚æ‹¬åœ°åˆ†ä¸ºå¦‚ä¸‹å‡ ç§ã€‚</p>
<ul>
<li>æ•°å€¼ç‰¹å¾ï¼ˆnumerical featureï¼‰ï¼šè¿™äº›ç‰¹å¾é€šå¸¸ä¸ºå®æ•°æˆ–æ•´æ•°ï¼Œæ¯”å¦‚ä¹‹å‰ä¾‹å­ä¸­æåˆ°çš„å¹´é¾„ã€‚</li>
<li>ç±»åˆ«ç‰¹å¾ï¼ˆcategorical featureï¼‰ï¼šæˆ‘ä»¬æ•°æ®é›†ä¸­çš„ç”¨æˆ·æ€§åˆ«ã€èŒä¸šæˆ–ç”µå½±ç±»åˆ«ä¾¿æ˜¯è¿™ç±»ã€‚</li>
<li>æ–‡æœ¬ç‰¹å¾ï¼ˆtext featureï¼‰ï¼šå®ƒä»¬æ´¾ç”Ÿè‡ªæ•°æ®ä¸­çš„æ–‡æœ¬å†…å®¹ï¼Œæ¯”å¦‚ç”µå½±åã€æè¿°æˆ–æ˜¯è¯„è®ºã€‚</li>
<li>å…¶ä»–ç‰¹å¾ï¼šâ€¦ åœ°ç†ä½ç½®åˆ™å¯ç”±ç»çº¬åº¦æˆ–åœ°ç†æ•£åˆ—ï¼ˆgeohashï¼‰è¡¨ç¤ºã€‚</li>
</ul>
<h3 id="4-1-æ•°å€¼ç‰¹å¾"><a href="#4-1-æ•°å€¼ç‰¹å¾" class="headerlink" title="4.1 æ•°å€¼ç‰¹å¾"></a>4.1 æ•°å€¼ç‰¹å¾</h3><p>åŸå§‹çš„æ•°å€¼å’Œä¸€ä¸ªæ•°å€¼ç‰¹å¾ä¹‹é—´çš„åŒºåˆ«æ˜¯ä»€ä¹ˆï¼Ÿ</p>
<p>æœºå™¨å­¦ä¹ æ¨¡å‹ä¸­æ‰€å­¦ä¹ çš„æ˜¯å„ä¸ªç‰¹å¾æ‰€å¯¹åº”çš„å‘é‡çš„æƒå€¼ã€‚è¿™äº›æƒå€¼åœ¨<code>ç‰¹å¾å€¼</code>åˆ°è¾“å‡ºæˆ–æ˜¯<code>ç›®æ ‡å˜é‡</code>ï¼ˆæŒ‡åœ¨ç›‘ç£å­¦ä¹ æ¨¡å‹ä¸­ï¼‰is very importantã€‚</p>
<p>å½“æ•°å€¼ç‰¹å¾ä»å¤„äºåŸå§‹å½¢å¼æ—¶ï¼Œå…¶å¯ç”¨æ€§ç›¸å¯¹è¾ƒä½ï¼Œä½†å¯ä»¥è½¬åŒ–ä¸ºæ›´æœ‰ç”¨çš„è¡¨ç¤ºå½¢å¼ã€‚</p>
<p>å¦‚ (ä½ç½®ä¿¡æ¯ : åŸå§‹ä½ç½®ä¿¡æ¯ï¼ˆæ¯”å¦‚ç”¨ç»çº¬åº¦è¡¨ç¤ºçš„ï¼‰ï¼Œä¿¡æ¯å¯ç”¨æ€§å¾ˆä½ã€‚ ç„¶è‹¥å¯¹ä½ç½®è¿›è¡Œèšåˆï¼ˆæ¯”å¦‚èšç„¦ä¸ºä¸€ä¸ªcity or countryï¼‰ï¼Œå’Œç‰¹å®šè¾“å‡º ä¹‹é—´å­˜åœ¨æŸç§å…³è”ã€‚</p>
<h3 id="4-2-ç±»åˆ«ç‰¹å¾"><a href="#4-2-ç±»åˆ«ç‰¹å¾" class="headerlink" title="4.2 ç±»åˆ«ç‰¹å¾"></a>4.2 ç±»åˆ«ç‰¹å¾</h3><p>å°†ç±»åˆ«ç‰¹å¾è¡¨ç¤ºä¸ºæ•°å­—å½¢å¼ï¼Œå¸¸å¯å€ŸåŠ© k ä¹‹1ï¼ˆ1-of-kï¼‰æ–¹æ³•è¿›è¡Œ</p>
<p>æ¯”å¦‚ï¼Œå¯å–<code>occupation</code> æ‰€æœ‰å¯èƒ½å–å€¼ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">all_occupations = user_fields.map(lambda fields: fields[3]). distinct().collect()</span><br><span class="line">all_occupations.sort()</span><br></pre></td></tr></table></figure>
<p>ç„¶å¯ä¾æ¬¡å¯¹å„å¯èƒ½çš„èŒä¸šåˆ†é…åºå·ï¼ˆæ³¨æ„ ä»0å¼€å§‹ç¼–å·ï¼‰ï¼š</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">idx = <span class="number">0</span></span><br><span class="line">all_occupations_dict = &#123;&#125;</span><br><span class="line"><span class="keyword">for</span> o <span class="keyword">in</span> all_occupations:</span><br><span class="line">    all_occupations_dict[o] = idx</span><br><span class="line">    idx +=<span class="number">1</span></span><br><span class="line"><span class="comment"># çœ‹ä¸€ä¸‹â€œkä¹‹1â€ç¼–ç ä¼šå¯¹æ–°çš„ä¾‹å­åˆ†é…ä»€ä¹ˆå€¼</span></span><br><span class="line"><span class="keyword">print</span> <span class="string">"Encoding of 'doctor': %d"</span> % all_occupations_dict[<span class="string">'doctor'</span>]</span><br><span class="line"><span class="keyword">print</span> <span class="string">"Encoding of 'programmer': %d"</span> % all_occupations_dict[<span class="string">'programmer'</span>]</span><br></pre></td></tr></table></figure>
<p>å…¶è¾“å‡ºå¦‚ä¸‹ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">Encoding of &apos;doctor&apos;: 2</span><br><span class="line">Encoding of &apos;programmer&apos;: 14</span><br></pre></td></tr></table></figure>
<h3 id="4-3-æ´¾ç”Ÿç‰¹å¾"><a href="#4-3-æ´¾ç”Ÿç‰¹å¾" class="headerlink" title="4.3 æ´¾ç”Ÿç‰¹å¾"></a>4.3 æ´¾ç”Ÿç‰¹å¾</h3><p>ä»åŸå§‹æ•°æ®æ´¾ç”Ÿç‰¹å¾çš„ä¾‹å­åŒ…æ‹¬è®¡ç®—å¹³å‡å€¼ã€ä¸­ä½å€¼ã€æ–¹å·®ã€å’Œã€å·®ã€æœ€å¤§å€¼æˆ–æœ€å°å€¼ä»¥åŠè®¡æ•°ã€‚ä»ç”µå½±çš„å‘è¡Œå¹´ä»½å’Œå½“å‰å¹´ä»½æ´¾ç”Ÿäº†æ–°çš„movie ageç‰¹å¾çš„ã€‚è¿™ç±»è½¬æ¢èƒŒåçš„æƒ³æ³•å¸¸å¸¸æ˜¯å¯¹æ•°å€¼æ•°æ®è¿›è¡ŒæŸç§æ¦‚æ‹¬ï¼Œå¹¶æœŸæœ›å®ƒèƒ½è®©æ¨¡å‹å­¦ä¹ æ›´å®¹æ˜“ã€‚</p>
<p>æ•°å€¼ç‰¹å¾åˆ°ç±»åˆ«ç‰¹å¾çš„è½¬æ¢ä¹Ÿå¾ˆå¸¸è§ï¼Œæ¯”å¦‚åˆ’åˆ†ä¸ºåŒºé—´ç‰¹å¾ã€‚è¿›è¡Œè¿™ç±»è½¬æ¢çš„å˜é‡å¸¸è§çš„æœ‰å¹´é¾„ã€åœ°ç†ä½ç½®å’Œæ—¶é—´ã€‚</p>
<p><strong>å¦‚ ï¼š å°†æ—¶é—´æˆ³è½¬ä¸ºç±»åˆ«ç‰¹</strong></p>
<p>ç”µå½±è¯„çº§å‘ç”Ÿçš„æ—¶é—´</p>
<p>[â€˜afternoonâ€™, â€˜eveningâ€™, â€˜morningâ€™, â€˜morningâ€™, â€˜morningâ€™]</p>
<h3 id="4-4-æ–‡æœ¬ç‰¹å¾"><a href="#4-4-æ–‡æœ¬ç‰¹å¾" class="headerlink" title="4.4 æ–‡æœ¬ç‰¹å¾"></a>4.4 æ–‡æœ¬ç‰¹å¾</h3><p>æ–‡æœ¬ç‰¹å¾ä¹Ÿæ˜¯ä¸€ç§ç±»åˆ«ç‰¹å¾æˆ–æ´¾ç”Ÿç‰¹å¾</p>
<p>NLP ä¾¿æ˜¯ä¸“æ³¨äºæ–‡æœ¬å†…å®¹çš„å¤„ç†ã€è¡¨ç¤ºå’Œå»ºæ¨¡çš„ä¸€ä¸ªé¢†åŸŸã€‚</p>
<p>ä»‹ç»ä¸€ç§ç®€å•ä¸”æ ‡å‡†åŒ–çš„æ–‡æœ¬ç‰¹å¾æå–æ–¹æ³•ã€‚è¯¥æ–¹æ³•è¢«ç§°ä¸ºè¯è¢‹ï¼ˆbag-of-wordï¼‰è¡¨ç¤ºæ³•ã€‚</p>
<p>è¯è¢‹æ³•å°†ä¸€æ®µæ–‡æœ¬è§†ä¸ºç”±å…¶ä¸­çš„æ–‡æœ¬æˆ–æ•°å­—ç»„æˆçš„é›†åˆï¼Œå…¶å¤„ç†è¿‡ç¨‹å¦‚ä¸‹ã€‚</p>
<p><strong>bag-of-word</strong></p>
<p><strong>(1) åˆ†è¯ï¼ˆtokenizationï¼‰</strong></p>
<p>é¦–å…ˆä¼šåº”ç”¨æŸäº›åˆ†è¯æ–¹æ³•æ¥å°†æ–‡æœ¬åˆ†éš”ä¸ºä¸€ä¸ªç”±è¯ï¼ˆä¸€èˆ¬å¦‚å•è¯ã€æ•°å­—ç­‰ï¼‰ç»„æˆçš„é›†åˆã€‚</p>
<p><strong>(2) åˆ é™¤åœç”¨è¯ï¼ˆstop words removal)</strong></p>
<p>åˆ é™¤å¸¸è§çš„å•è¯ï¼Œæ¯”å¦‚theã€andå’Œbutï¼ˆè¿™äº›è¯è¢«ç§°ä½œåœç”¨è¯ï¼‰ã€‚</p>
<p><strong>(3) æå–è¯å¹²ï¼ˆstemmingï¼‰</strong>ï¼š</p>
<p>æ˜¯æŒ‡å°†å„ä¸ªè¯ç®€åŒ–ä¸ºå…¶åŸºæœ¬çš„å½¢å¼æˆ–è€…å¹²è¯ã€‚å¸¸è§çš„ä¾‹å­å¦‚å¤æ•°å˜ä¸ºå•æ•°ï¼ˆæ¯”å¦‚dogså˜ä¸ºdogç­‰ï¼‰ã€‚æå–çš„æ–¹æ³•æœ‰å¾ˆå¤šç§ï¼Œæ–‡æœ¬å¤„ç†ç®—æ³•åº“ä¸­å¸¸å¸¸ä¼šåŒ…æ‹¬å¤šç§è¯å¹²æå–æ–¹æ³•ã€‚</p>
<p><strong>(4) å‘é‡åŒ–ï¼ˆvectorizationï¼‰</strong> ï¼š</p>
<p>å‘é‡æ¥è¡¨ç¤ºå¤„ç†å¥½çš„è¯ã€‚äºŒå…ƒå‘é‡å¯èƒ½æ˜¯æœ€ä¸ºç®€å•çš„è¡¨ç¤ºæ–¹å¼ã€‚å®ƒç”¨1å’Œ0æ¥åˆ†åˆ«è¡¨ç¤ºæ˜¯å¦å­˜åœ¨æŸä¸ªè¯ã€‚ä»æ ¹æœ¬ä¸Šè¯´ï¼Œè¿™ä¸ä¹‹å‰æåˆ°çš„ k ä¹‹1ç¼–ç ç›¸åŒã€‚ä¸ k ä¹‹1ç›¸åŒï¼Œå®ƒéœ€è¦ä¸€ä¸ªè¯çš„å­—å…¸æ¥å®ç°è¯åˆ°ç´¢å¼•åºå·çš„æ˜ å°„ã€‚éšç€é‡åˆ°çš„è¯å¢å¤šï¼Œå„ç§è¯å¯èƒ½è¾¾æ•°ç™¾ä¸‡ã€‚ç”±æ­¤ï¼Œä½¿ç”¨ç¨€ç–çŸ©é˜µæ¥è¡¨ç¤ºå°±å¾ˆå…³é”®ã€‚è¿™ç§è¡¨ç¤ºåªè®°å½•æŸä¸ªè¯æ˜¯å¦å‡ºç°è¿‡ï¼Œä»è€ŒèŠ‚çœå†…å­˜å’Œç£ç›˜ç©ºé—´ï¼Œä»¥åŠè®¡ç®—æ—¶é—´ã€‚</p>
<p><strong>æå–ç®€å•çš„æ–‡æœ¬ç‰¹å¾</strong></p>
<p>å‚è§ : <a href="http://www.ituring.com.cn/tupubarticle/5567" target="_blank" rel="external">http://www.ituring.com.cn/tupubarticle/5567</a></p>
<p>ç°åœ¨æ¯ä¸€ä¸ªç”µå½±æ ‡é¢˜éƒ½è¢«è½¬æ¢ä¸ºä¸€ä¸ªç¨€ç–å‘é‡ã€‚</p>
<h3 id="4-5-æ­£åˆ™åŒ–ç‰¹å¾"><a href="#4-5-æ­£åˆ™åŒ–ç‰¹å¾" class="headerlink" title="4.5 æ­£åˆ™åŒ–ç‰¹å¾"></a>4.5 æ­£åˆ™åŒ–ç‰¹å¾</h3><p>åœ¨å°†ç‰¹å¾æå–ä¸ºå‘é‡å½¢å¼åï¼Œä¸€ç§å¸¸è§çš„é¢„å¤„ç†æ–¹å¼æ˜¯å°†æ•°å€¼æ•°æ®æ­£åˆ™åŒ–ï¼ˆnormalizationï¼‰ã€‚å…¶èƒŒåçš„æ€æƒ³æ˜¯å°†å„ä¸ªæ•°å€¼ç‰¹å¾è¿›è¡Œè½¬æ¢ï¼Œä»¥å°†å®ƒä»¬çš„å€¼åŸŸè§„èŒƒåˆ°ä¸€ä¸ªæ ‡å‡†åŒºé—´å†…ã€‚æ­£åˆ™åŒ–çš„æ–¹æ³•æœ‰å¦‚ä¸‹å‡ ç§ã€‚</p>
<ul>
<li>æ­£åˆ™åŒ–ç‰¹å¾ï¼šè¿™å®é™…ä¸Šæ˜¯å¯¹æ•°æ®é›†ä¸­çš„å•ä¸ªç‰¹å¾è¿›è¡Œè½¬æ¢ã€‚æ¯”å¦‚å‡å»å¹³å‡å€¼ï¼ˆç‰¹å¾å¯¹é½ï¼‰æˆ–æ˜¯è¿›è¡Œæ ‡å‡†çš„æ­£åˆ™è½¬æ¢ï¼ˆä»¥ä½¿å¾—è¯¥ç‰¹å¾çš„å¹³å‡å€¼å’Œæ ‡å‡†å·®åˆ†åˆ«ä¸º0å’Œ1ï¼‰ã€‚</li>
<li>æ­£åˆ™åŒ–ç‰¹å¾å‘é‡ï¼šè¿™é€šå¸¸æ˜¯å¯¹æ•°æ®ä¸­çš„æŸä¸€è¡Œçš„æ‰€æœ‰ç‰¹å¾è¿›è¡Œè½¬æ¢ï¼Œä»¥è®©è½¬æ¢åçš„ç‰¹å¾å‘é‡çš„é•¿åº¦æ ‡å‡†åŒ–ã€‚ä¹Ÿå°±æ˜¯ç¼©æ”¾å‘é‡ä¸­çš„å„ä¸ªç‰¹å¾ä»¥ä½¿å¾—å‘é‡çš„èŒƒæ•°ä¸º1ï¼ˆå¸¸æŒ‡ä¸€é˜¶æˆ–äºŒé˜¶èŒƒæ•°ï¼‰ã€‚</li>
</ul>
<p>å‘é‡æ­£åˆ™åŒ–å¯é€šè¿‡numpyçš„normå‡½æ•°æ¥å®ç°ã€‚å…·ä½“æ¥è¯´ï¼Œå…ˆè®¡ç®—ä¸€ä¸ªéšæœºå‘é‡çš„äºŒé˜¶èŒƒæ•°ï¼Œç„¶åè®©å‘é‡ä¸­çš„æ¯ä¸€ä¸ªå…ƒç´ éƒ½é™¤è¯¥èŒƒæ•°ï¼Œä»è€Œå¾—åˆ°æ­£åˆ™åŒ–åçš„å‘é‡ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">np.random.seed(42)</span><br><span class="line">x = np.random.randn(10)</span><br><span class="line">norm_x_2 = np.linalg.norm(x)</span><br><span class="line">normalized_x = x / norm_x_2</span><br><span class="line">print &quot;x:\n%s&quot; % x</span><br><span class="line">print &quot;2-Norm of x: %2.4f&quot; % norm_x_2</span><br><span class="line">print &quot;Normalized x:\n%s&quot; % normalized_x</span><br><span class="line">print &quot;2-Norm of normalized_x: %2.4f&quot; % np.linalg.norm(normalized_x)</span><br></pre></td></tr></table></figure>
<p>å…¶è¾“å‡ºåº”è¯¥å¦‚ä¸‹ï¼ˆä¸Šé¢å°†éšæœºç§å­çš„å€¼è®¾ä¸º42ï¼Œä¿è¯æ¯æ¬¡è¿è¡Œçš„ç»“æœç›¸åŒï¼‰ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">x: [ 0.49671415 -0.1382643  0.64768854  1.52302986 -0.23415337 -0.23413696</span><br><span class="line">1.57921282  0.76743473 -0.46947439  0.54256004]</span><br><span class="line">2-Norm of x: 2.5908</span><br><span class="line">Normalized x: [ 0.19172213 -0.05336737  0.24999534  0.58786029 -0.09037871 -0.09037237  0.60954584  0.29621508 -0.1812081  0.20941776]</span><br><span class="line">2-Norm of normalized_x: 1.0000</span><br></pre></td></tr></table></figure>
<p><strong>ç”¨ MLlib æ­£åˆ™åŒ–ç‰¹å¾</strong></p>
<p>Sparkåœ¨å…¶MLlibæœºå™¨å­¦ä¹ åº“ä¸­å†…ç½®äº†ä¸€äº›å‡½æ•°ç”¨äºç‰¹å¾çš„ç¼©æ”¾å’Œæ ‡å‡†åŒ–ã€‚å®ƒä»¬åŒ…æ‹¬ä¾›æ ‡å‡†æ­£æ€å˜æ¢çš„<code>StandardScaler</code>ï¼Œä»¥åŠæä¾›ä¸ä¸Šè¿°ç›¸åŒçš„ç‰¹å¾å‘é‡æ­£åˆ™åŒ–çš„ <code>Normalizer</code>ã€‚</p>
<p>æ¯”è¾ƒä¸€ä¸‹MLlibçš„Normalizerä¸æˆ‘ä»¬è‡ªå·±å‡½æ•°çš„ç»“æœï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">from pyspark.mllib.feature import Normalizer</span><br><span class="line">normalizer = Normalizer()</span><br><span class="line">vector =sc.parallelize([x])</span><br></pre></td></tr></table></figure>
<p>åœ¨å¯¼å…¥æ‰€éœ€çš„ç±»åï¼Œä¼šè¦åˆå§‹åŒ–Normalizerï¼ˆå…¶é»˜è®¤ä½¿ç”¨ä¸ä¹‹å‰ç›¸åŒçš„äºŒé˜¶èŒƒæ•°ï¼‰ã€‚æ³¨æ„ç”¨Sparkæ—¶ï¼Œå¤§éƒ¨åˆ†æƒ…å†µä¸‹Normalizeræ‰€éœ€çš„è¾“å…¥ä¸ºä¸€ä¸ªRDDï¼ˆå®ƒåŒ…å«numpyæ•°å€¼æˆ–MLlibå‘é‡ï¼‰ã€‚ä½œä¸ºä¸¾ä¾‹ï¼Œæˆ‘ä»¬ä¼šä»xå‘é‡åˆ›å»ºä¸€ä¸ªå•å…ƒç´ çš„RDDã€‚</p>
<p>ä¹‹åå°†ä¼šå¯¹æˆ‘ä»¬çš„RDDè°ƒç”¨Normalizerçš„transformå‡½æ•°ã€‚ç”±äºè¯¥RDDåªå«æœ‰ä¸€ä¸ªå‘é‡ï¼Œå¯é€šè¿‡firstå‡½æ•°æ¥è¿”å›å‘é‡åˆ°é©±åŠ¨ç¨‹åºã€‚æ¥ç€è°ƒç”¨toArrayå‡½æ•°æ¥å°†è¯¥å‘é‡è½¬æ¢ä¸ºnumpyæ•°ç»„ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">normalized_x_mllib = normalizer.transform(vector).first().toArray()</span><br><span class="line">#æœ€åæ¥çœ‹ä¸€ä¸‹ä¹‹å‰æ‰“å°è¿‡çš„é‚£äº›å€¼ï¼Œå¹¶åšä¸ªæ¯”è¾ƒï¼š</span><br><span class="line"></span><br><span class="line">print &quot;x:\n%s&quot; % x</span><br><span class="line">print &quot;2-Norm of x: %2.4f&quot; % norm_x_2</span><br><span class="line">print &quot;Normalized x MLlib:\n%s&quot; % normalized_x_mllib</span><br><span class="line">print &quot;2-Norm of normalized_x_mllib: %2.4f&quot; % np.linalg.norm(normalized_x_mllib)</span><br></pre></td></tr></table></figure>
<p>ç›¸æ¯”è‡ªå·±ç¼–å†™çš„å‡½æ•°ï¼Œä½¿ç”¨ MLlibå†…ç½®çš„å‡½æ•° æ›´æ–¹ä¾¿</p>
<h3 id="4-6-ç”¨è½¯ä»¶åŒ…æå–ç‰¹å¾"><a href="#4-6-ç”¨è½¯ä»¶åŒ…æå–ç‰¹å¾" class="headerlink" title="4.6 ç”¨è½¯ä»¶åŒ…æå–ç‰¹å¾"></a>4.6 ç”¨è½¯ä»¶åŒ…æå–ç‰¹å¾</h3><p>ç‰¹å¾æå–å¯å€ŸåŠ©çš„è½¯ä»¶åŒ…æœ‰scikit-learnã€gensimã€scikit-imageã€matplotlibã€Pythonçš„NLTKã€Javaç¼–å†™çš„OpenNLPä»¥åŠç”¨Scalaç¼–å†™çš„Breezeå’ŒChalkã€‚Breezeè‡ªSpark 1.0å¼€å§‹å°±æˆä¸ºSparkçš„ä¸€éƒ¨åˆ†äº†ã€‚Breezeæœ‰çº¿æ€§ä»£æ•°åŠŸèƒ½ã€‚</p>
<h2 id="5-å°ç»“"><a href="#5-å°ç»“" class="headerlink" title="5. å°ç»“"></a>5. å°ç»“</h2><p>äº†è§£ å¦‚ä½•å¯¼å…¥ã€å¤„ç†å’Œæ¸…ç†æ•°æ®ï¼Œå¦‚ä½•å°†åŸå§‹æ•°æ®è½¬ä¸º<strong>ç‰¹å¾å‘é‡</strong>ä»¥ä¾›æ¨¡å‹è®­ç»ƒçš„å¸¸è§æ–¹æ³•</p>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[Spark Machine Learning p2 - è®¾è®¡æœºå™¨å­¦ä¹ ç³»ç»Ÿ]]></title>
      <url>http://iequa.com/2016/09/08/spark-machine-learning-p2-design-ml-sys/</url>
      <content type="html"><![CDATA[<blockquote>
<p>Spark Machine Learing Reading Notes</p>
</blockquote>
<style>
img {
        display: block !important;
        height: 400px;
        width: 500px;
        margin-left: 180px !important;
}
</style>

<h2 id="1-åŸå§‹-MovieStream-ä»‹ç»"><a href="#1-åŸå§‹-MovieStream-ä»‹ç»" class="headerlink" title="1. åŸå§‹ MovieStream ä»‹ç»"></a>1. åŸå§‹ MovieStream ä»‹ç»</h2><p><img src="/images/spark/spark-ml-2.1.jpg" alt="MovieStream"></p>
<h3 id="1-1-ä¸ªæ€§åŒ–"><a href="#1-1-ä¸ªæ€§åŒ–" class="headerlink" title="1.1 ä¸ªæ€§åŒ–"></a>1.1 ä¸ªæ€§åŒ–</h3><p><code>ä¸ªæ€§åŒ–</code> æ˜¯æ ¹æ®å„å› ç´ æ¥æ”¹å˜ç”¨æˆ·ä½“éªŒå’Œ<code>å‘ˆç°ç»™ç”¨æˆ·å†…å®¹</code>ã€‚è¿™äº›å› ç´ å¯èƒ½åŒ…æ‹¬ç”¨æˆ·çš„è¡Œä¸ºæ•°æ®å’Œå¤–éƒ¨å› ç´ ã€‚</p>
<p><code>æ¨è</code>ï¼ˆrecommendationï¼‰, å¸¸æŒ‡å‘ç”¨æˆ·å‘ˆç°ä¸€ä¸ªä»–ä»¬å¯èƒ½æ„Ÿå…´è¶£çš„ç‰©å“åˆ—è¡¨ã€‚</p>
<p>ä¸ªæ€§åŒ–å’Œæ¨èååˆ†ç›¸ä¼¼, æ ¹æ®å› ç´ æ”¹å˜æœç´¢çš„å‘ˆç°ä¸åŒç”¨æˆ·ä¸åŒå†…å®¹ï¼Œè¿™æ˜¯éšå¼ä¸ªæ€§åŒ–</p>
<h3 id="1-2-å®¢æˆ·ç»†åˆ†"><a href="#1-2-å®¢æˆ·ç»†åˆ†" class="headerlink" title="1.2 å®¢æˆ·ç»†åˆ†"></a>1.2 å®¢æˆ·ç»†åˆ†</h3><p>ç›®æ ‡è¥é”€ç”¨ä¸æ¨èç±»ä¼¼çš„æ–¹æ³•ä»ç”¨æˆ·ç¾¤ä¸­æ‰¾å‡ºè¦è¥é”€çš„å¯¹è±¡ã€‚ä¸€èˆ¬æ¥è¯´ï¼Œæ¨èå’Œä¸ªæ€§åŒ–çš„åº”ç”¨åœºæ™¯éƒ½æ˜¯ä¸€å¯¹ä¸€ï¼Œæ ¹æ®ç”¨æˆ·çš„ç‰¹å¾è¿›è¡Œåˆ†ç»„ï¼Œå¹¶å¯èƒ½å‚è€ƒè¡Œä¸ºæ•°æ®ã€‚ä¹Ÿå¯èƒ½ä½¿ç”¨äº†æŸç§æœºå™¨å­¦ä¹ æ¨¡å‹ï¼Œæ¯”å¦‚ <code>èšç±»</code>ã€‚</p>
<h3 id="1-3-é¢„æµ‹å»ºæ¨¡"><a href="#1-3-é¢„æµ‹å»ºæ¨¡" class="headerlink" title="1.3 é¢„æµ‹å»ºæ¨¡"></a>1.3 é¢„æµ‹å»ºæ¨¡</h3><p><code>é¢„æµ‹æ€§åˆ†æ</code> ä»æŸç§æ„ä¹‰ä¸Šè¯´è¿˜è¦†ç›–æ¨èã€ä¸ªæ€§åŒ–å’Œç›®æ ‡è¥é”€ã€‚ç”¨é¢„æµ‹å»ºæ¨¡ï¼ˆpredictive modelingï¼‰æ¥è¡¨ç¤ºå…¶ä»–åšé¢„æµ‹çš„æ¨¡å‹ã€‚å€ŸåŠ©æ´»åŠ¨è®°å½•ã€æ”¶å…¥æ•°æ®ä»¥åŠå†…å®¹å±æ€§ï¼ŒMovieStream å¯ä»¥åˆ›å»ºä¸€ä¸ªå›å½’æ¨¡å‹ï¼ˆregression modelï¼‰æ¥é¢„æµ‹æ–°ç”µå½±çš„å¸‚åœºè¡¨ç°ã€‚</p>
<p>å¦å¤–ï¼Œæˆ‘ä»¬ä¹Ÿå¯ä½¿ç”¨åˆ†ç±»æ¨¡å‹ï¼ˆclassificaiton modelï¼‰æ¥å¯¹åªæœ‰éƒ¨åˆ†æ•°æ®çš„æ–°ç”µå½±è‡ªåŠ¨åˆ†é…æ ‡ç­¾ã€å…³é”®å­—æˆ–åˆ†ç±»ã€‚</p>
<h2 id="2-æœºå™¨å­¦ä¹ æ¨¡å‹çš„ç§ç±»"><a href="#2-æœºå™¨å­¦ä¹ æ¨¡å‹çš„ç§ç±»" class="headerlink" title="2. æœºå™¨å­¦ä¹ æ¨¡å‹çš„ç§ç±»"></a>2. æœºå™¨å­¦ä¹ æ¨¡å‹çš„ç§ç±»</h2><p><code>supervised learning</code>ï¼šè¿™ç§æ–¹æ³•ä½¿ç”¨å·²æ ‡è®°æ•°æ®æ¥å­¦ä¹ ã€‚<code>æ¨èå¼•æ“</code>ã€<code>å›å½’</code>å’Œ<code>åˆ†ç±»</code>ä¾¿æ˜¯ä¾‹å­ã€‚å®ƒä»¬æ‰€ä½¿ç”¨çš„æ ‡è®°æ•°æ®å¯ä»¥æ˜¯ç”¨æˆ·å¯¹ç”µå½±çš„è¯„çº§ï¼ˆå¯¹æ¨èæ¥è¯´ï¼‰ã€ç”µå½±æ ‡ç­¾ï¼ˆå¯¹ä¸Šè¿°åˆ†ç±»ä¾‹å­æ¥è¯´ï¼‰æˆ–æ˜¯æ”¶å…¥æ•°å­—ï¼ˆå¯¹å›å½’é¢„æµ‹æ¥è¯´ï¼‰.</p>
<p><code>unsupervised learning</code>ï¼šä¸€äº›æ¨¡å‹çš„å­¦ä¹ è¿‡ç¨‹ä¸éœ€è¦æ ‡è®°æ•°æ®ï¼Œæˆ‘ä»¬ç§°å…¶ä¸ºæ— ç›‘ç£å­¦ä¹ ã€‚è¿™ç±»æ¨¡å‹è¯•å›¾å­¦ä¹ æˆ–æ˜¯æå–æ•°æ®èƒŒåçš„ç»“æ„æˆ–ä»ä¸­æŠ½å–æœ€ä¸ºé‡è¦çš„ç‰¹å¾ã€‚<code>èšç±»</code>ã€<code>é™ç»´</code>å’Œ<code>æ–‡æœ¬å¤„ç†</code>çš„æŸäº›ç‰¹å¾æå–éƒ½æ˜¯æ— ç›‘ç£å­¦ä¹ .</p>
<h2 id="3-æ•°æ®é©±åŠ¨MLç³»ç»Ÿçš„ç»„æˆ"><a href="#3-æ•°æ®é©±åŠ¨MLç³»ç»Ÿçš„ç»„æˆ" class="headerlink" title="3. æ•°æ®é©±åŠ¨MLç³»ç»Ÿçš„ç»„æˆ"></a>3. æ•°æ®é©±åŠ¨MLç³»ç»Ÿçš„ç»„æˆ</h2><p><img src="/images/spark/spark-ml-2.2.jpg" alt="æœºå™¨å­¦ä¹ æµç¨‹"></p>
<h3 id="3-1-æ•°æ®è·å–ä¸å­˜å‚¨"><a href="#3-1-æ•°æ®è·å–ä¸å­˜å‚¨" class="headerlink" title="3.1 æ•°æ®è·å–ä¸å­˜å‚¨"></a>3.1 æ•°æ®è·å–ä¸å­˜å‚¨</h3><p>MovieStream çš„æ•°æ®é€šå¸¸æ¥è‡ªç”¨æˆ·æ´»åŠ¨.</p>
<p>è¦å­˜å‚¨çš„æ•°æ®åŒ…æ‹¬ï¼šåŸå§‹æ•°æ®ã€å³æ—¶å¤„ç†åçš„æ•°æ®ï¼Œä»¥åŠå¯ç”¨äºç”Ÿäº§ç³»ç»Ÿçš„æœ€ç»ˆå»ºæ¨¡ç»“æœã€‚</p>
<p><strong>æ•°æ®å­˜å‚¨</strong></p>
<ol>
<li><strong>æ–‡ä»¶ç³»ç»Ÿ</strong> : å¦‚ HDFSã€Amazon S3 ç­‰ï¼›</li>
<li><strong>SQLæ•°æ®åº“</strong> : å¦‚ MySQLã€PostgreSQLï¼›</li>
<li><strong>NoSQL</strong> : -å¦‚ HBaseã€Cassandraã€Mongodbï¼›</li>
<li><strong>æœç´¢å¼•æ“</strong> : å¦‚ Solr ã€Elasticsearchï¼›</li>
<li><strong>æµæ•°æ®</strong> : â€“ å¦‚ Kafkaã€Flumeã€Amazon Kinesis</li>
</ol>
<h3 id="3-2-æ•°æ®æ¸…ç†ä¸è½¬æ¢"><a href="#3-2-æ•°æ®æ¸…ç†ä¸è½¬æ¢" class="headerlink" title="3.2 æ•°æ®æ¸…ç†ä¸è½¬æ¢"></a>3.2 æ•°æ®æ¸…ç†ä¸è½¬æ¢</h3><p>å¤§éƒ¨åˆ†æœºå™¨å­¦ä¹ æ¨¡å‹æ‰€å¤„ç†çš„éƒ½æ˜¯ <code>feature</code>ã€‚ç‰¹å¾ é€šå¸¸æ˜¯è¾“å…¥å˜é‡æ‰€å¯¹åº”çš„å¯ç”¨äºæ¨¡å‹çš„æ•°å€¼è¡¨ç¤ºã€‚</p>
<p>åŸå§‹æ•°æ® é¢„å¤„ç† å‡ ç§ æƒ…å†µ</p>
<ol>
<li>æ•°æ®è¿‡æ»¤</li>
<li>åˆå¹¶å¤šä¸ªæ•°æ®æº</li>
<li>æ•°æ®æ±‡æ€»</li>
</ol>
<p>å¯¹è®¸å¤šæ¨¡å‹ç±»å‹æ¥è¯´ï¼Œè¿™ç§è¡¨ç¤ºå°±æ˜¯åŒ…å« <strong>æ•°å€¼æ•°æ®çš„</strong> <code>å‘é‡</code> or <code>çŸ©é˜µ</code>ã€‚</p>
<p>å°†ç±»åˆ«æ•°æ®ï¼ˆæ¯”å¦‚åœ°ç†ä½ç½®æ‰€åœ¨çš„å›½å®¶æˆ–æ˜¯ç”µå½±çš„ç±»åˆ«ï¼‰ç¼–ç ä¸ºå¯¹åº”çš„æ•°å€¼è¡¨ç¤ºã€‚</p>
<ol>
<li>æ–‡æœ¬æ•°æ®æå–æœ‰ç”¨ä¿¡æ¯ã€‚</li>
<li>å¤„ç†å›¾åƒæˆ–æ˜¯éŸ³é¢‘æ•°æ®ã€‚</li>
<li>æ•°å€¼æ•°æ®å¸¸è¢«è½¬æ¢ä¸ºç±»åˆ«æ•°æ®ä»¥å‡å°‘æŸä¸ªå˜é‡çš„å¯èƒ½å€¼çš„æ•°ç›®ã€‚ä¾‹å¦‚å°†å¹´é¾„åˆ†ä¸º 601, 602â€¦</li>
<li>å¯¹ç‰¹å¾è¿›è¡Œæ­£åˆ™åŒ–ã€æ ‡å‡†åŒ–ï¼Œä»¥ä¿è¯åŒä¸€æ¨¡å‹çš„ä¸åŒè¾“å…¥å˜é‡çš„å€¼åŸŸç›¸åŒã€‚</li>
</ol>
<p>è¿™äº›æ•°æ®æ¸…ç†ã€æ¢ç´¢ã€èšåˆå’Œè½¬æ¢æ­¥éª¤ï¼Œéƒ½èƒ½é€šè¿‡Sparkæ ¸å¿ƒAPIã€SparkSQLå¼•æ“å’Œå…¶ä»–å¤–éƒ¨Scalaã€Javaæˆ–PythonåŒ…åšåˆ°ã€‚å€ŸåŠ© Spark çš„ HadoopåŠŸèƒ½ è¿˜èƒ½å®ç°ä¸Šè¿°å¤šç§å­˜å‚¨ç³»ç»Ÿä¸Šçš„è¯»å†™ã€‚</p>
<h3 id="3-3-æ¨¡å‹è®­ç»ƒä¸æµ‹è¯•å›è·¯"><a href="#3-3-æ¨¡å‹è®­ç»ƒä¸æµ‹è¯•å›è·¯" class="headerlink" title="3.3 æ¨¡å‹è®­ç»ƒä¸æµ‹è¯•å›è·¯"></a>3.3 æ¨¡å‹è®­ç»ƒä¸æµ‹è¯•å›è·¯</h3><p>å½“æ•°æ®å·²è½¬æ¢ä¸ºå¯ç”¨äºæ¨¡å‹çš„å½¢å¼ï¼Œä¾¿å¯å¼€å§‹æ¨¡å‹çš„è®­ç»ƒå’Œæµ‹è¯•ã€‚</p>
<p>åœ¨è®­ç»ƒæ•°æ®é›†ä¸Šè¿è¡Œæ¨¡å‹å¹¶åœ¨æµ‹è¯•æ•°æ®é›†ï¼ˆå³ä¸ºè¯„ä¼°æ¨¡å‹è€Œé¢„ç•™çš„æ•°æ®ï¼Œåœ¨è®­ç»ƒé˜¶æ®µæ¨¡å‹æ²¡æ¥è§¦è¿‡è¯¥æ•°æ®ï¼‰ä¸Šæµ‹è¯•å…¶æ•ˆæœï¼Œè¿™ä¸ªè¿‡ç¨‹ä¸€èˆ¬ç›¸å¯¹ç›´æ¥ï¼Œè¢«ç§°ä½œäº¤å‰éªŒè¯ï¼ˆcross-validationï¼‰ã€‚</p>
<p>Spark MLlib æ¥å®ç°å¯¹å„ç§æœºå™¨å­¦ä¹ æ–¹æ³•çš„æ¨¡å‹è®­ç»ƒã€è¯„ä¼°ä»¥åŠäº¤å‰éªŒè¯ã€‚</p>
<h3 id="3-4-æ¨¡å‹éƒ¨ç½²ä¸æ•´åˆ"><a href="#3-4-æ¨¡å‹éƒ¨ç½²ä¸æ•´åˆ" class="headerlink" title="3.4 æ¨¡å‹éƒ¨ç½²ä¸æ•´åˆ"></a>3.4 æ¨¡å‹éƒ¨ç½²ä¸æ•´åˆ</h3><p>é€šè¿‡è®­ç»ƒæµ‹è¯•å¾ªç¯æ‰¾å‡ºæœ€ä½³æ¨¡å‹åï¼Œè¦è®©å®ƒèƒ½å¾—å‡ºå¯ä»˜è¯¸å®è·µçš„é¢„æµ‹ï¼Œè¿˜éœ€å°†å…¶éƒ¨ç½²åˆ°ç”Ÿäº§ç³»ç»Ÿä¸­ã€‚</p>
<p>è¿™ä¸ªè¿‡ç¨‹ä¸€èˆ¬è¦å°†å·²è®­ç»ƒçš„æ¨¡å‹å¯¼å…¥ç‰¹å®šçš„æ•°æ®å­˜å‚¨ä¸­ã€‚</p>
<h3 id="3-5-æ¨¡å‹ç›‘æ§ä¸åé¦ˆ"><a href="#3-5-æ¨¡å‹ç›‘æ§ä¸åé¦ˆ" class="headerlink" title="3.5 æ¨¡å‹ç›‘æ§ä¸åé¦ˆ"></a>3.5 æ¨¡å‹ç›‘æ§ä¸åé¦ˆ</h3><p>ç›‘æ§æœºå™¨å­¦ä¹ ç³»ç»Ÿåœ¨ç”Ÿäº§ç¯å¢ƒä¸‹çš„è¡¨ç°ååˆ†é‡è¦ã€‚</p>
<p>åŒæ ·å€¼å¾—æ³¨æ„çš„æ˜¯ï¼Œæ¨¡å‹å‡†ç¡®åº¦å’Œé¢„æµ‹æ•ˆæœåªæ˜¯ç°å®ä¸­ç³»ç»Ÿè¡¨ç°çš„ä¸€éƒ¨åˆ†ã€‚</p>
<p>æˆ‘ä»¬å¯ä»¥å°½å¯èƒ½åœ¨ç”Ÿäº§ç³»ç»Ÿä¸­éƒ¨ç½²ä¸åŒçš„æ¨¡å‹ï¼Œé€šè¿‡è°ƒæ•´å®ƒä»¬è€Œä¼˜åŒ–ä¸šåŠ¡æŒ‡æ ‡ã€‚å®è·µä¸­ï¼Œè¿™é€šå¸¸é€šè¿‡åœ¨çº¿åˆ†å‰²æµ‹è¯•ï¼ˆ<code>live split test</code>ï¼‰è¿›è¡Œã€‚</p>
<p>æ¨¡å‹åé¦ˆï¼ˆ<code>model feedback</code>ï¼‰ï¼ŒæŒ‡é€šè¿‡ç”¨æˆ·çš„è¡Œä¸ºæ¥å¯¹æ¨¡å‹çš„é¢„æµ‹è¿›è¡Œåé¦ˆçš„è¿‡ç¨‹ã€‚åœ¨ç°å®ç³»ç»Ÿä¸­ï¼Œæ¨¡å‹çš„åº”ç”¨å°†å½±å“ç”¨æˆ·çš„å†³ç­–å’Œæ½œåœ¨è¡Œä¸ºï¼Œä»è€Œåè¿‡æ¥å°†ä»æ ¹æœ¬ä¸Šæ”¹å˜æ¨¡å‹è‡ªå·±å°†æ¥çš„è®­ç»ƒæ•°æ®ã€‚</p>
<h3 id="3-6-æ‰¹å¤„ç†-å®æ—¶æ–¹æ¡ˆé€‰æ‹©"><a href="#3-6-æ‰¹å¤„ç†-å®æ—¶æ–¹æ¡ˆé€‰æ‹©" class="headerlink" title="3.6 æ‰¹å¤„ç†/å®æ—¶æ–¹æ¡ˆé€‰æ‹©"></a>3.6 æ‰¹å¤„ç†/å®æ—¶æ–¹æ¡ˆé€‰æ‹©</h3><p>å¸¸è§çš„æ‰¹å¤„ç†æ–¹æ³•ã€‚æ¨¡å‹ç”¨æ‰€æœ‰æ•°æ®æˆ–ä¸€éƒ¨åˆ†æ•°æ®è¿›è¡Œå‘¨æœŸæ€§çš„é‡æ–°è®­ç»ƒã€‚ç”±äºä¸Šè¿°æµç¨‹ä¼šèŠ±è´¹ä¸€å®šçš„æ—¶é—´ï¼Œè¿™å°±ä½¿å¾—æ‰¹å¤„ç†æ–¹æ³•éš¾ä»¥åœ¨æ–°æ•°æ®åˆ°è¾¾æ—¶ç«‹å³å®Œæˆæ¨¡å‹çš„æ›´æ–°ã€‚</p>
<p>å­˜åœ¨ä¸€ç±»åä¸ºåœ¨çº¿å­¦ä¹ ï¼ˆonline learningï¼‰çš„æœºå™¨å­¦ä¹ æ–¹æ³•ã€‚å®ƒä»¬åœ¨æ–°æ•°æ®åˆ°è¾¾æ—¶ä¾¿èƒ½ç«‹å³æ›´æ–°æ¨¡å‹ï¼Œä»è€Œä½¿å®æ—¶ç³»ç»Ÿæˆä¸ºå¯èƒ½ã€‚å¸¸è§çš„ä¾‹å­æœ‰å¯¹çº¿æ€§æ¨¡å‹çš„åœ¨çº¿ä¼˜åŒ–ç®—æ³•ï¼Œå¦‚<code>éšæœºæ¢¯åº¦ä¸‹é™æ³•</code>ã€‚</p>
<h2 id="4-æœºå™¨å­¦ä¹ ç³»ç»Ÿæ¶æ„"><a href="#4-æœºå™¨å­¦ä¹ ç³»ç»Ÿæ¶æ„" class="headerlink" title="4. æœºå™¨å­¦ä¹ ç³»ç»Ÿæ¶æ„"></a>4. æœºå™¨å­¦ä¹ ç³»ç»Ÿæ¶æ„</h2><p><img src="/images/spark/spark-ml-2.3.jpg" alt="æœºå™¨å­¦ä¹ ç³»ç»Ÿæ¶æ„"></p>
<p>æœºå™¨å­¦ä¹ æµç¨‹ç¤ºæ„å›¾çš„å†…å®¹ï¼š</p>
<ul>
<li>æ”¶é›†ä¸ç”¨æˆ·ã€ç”¨æˆ·è¡Œä¸ºå’Œç”µå½±æ ‡é¢˜æœ‰å…³çš„æ•°æ®ï¼›</li>
<li>å°†è¿™äº›æ•°æ®è½¬ä¸ºç‰¹å¾ï¼›</li>
<li>æ¨¡å‹è®­ç»ƒï¼ŒåŒ…æ‹¬è®­ç»ƒ-æµ‹è¯•å’Œæ¨¡å‹é€‰æ‹©ç¯èŠ‚ï¼›</li>
<li>å°†å·²è®­ç»ƒæ¨¡å‹éƒ¨ç½²åˆ°åœ¨çº¿æœåŠ¡ç³»ç»Ÿï¼Œå¹¶ç”¨äºç¦»çº¿å¤„ç†ï¼›</li>
<li>é€šè¿‡æ¨èå’Œç›®æ ‡é¡µé¢å°†æ¨¡å‹ç»“æœåé¦ˆåˆ°MovieStreamç«™ç‚¹ï¼›</li>
<li>å°†æ¨¡å‹ç»“æœè¿”å›åˆ°MovieStreamçš„ä¸ªæ€§åŒ–è¥é”€æ¸ é“ï¼›</li>
<li>ä½¿ç”¨ç¦»çº¿æ¨¡å‹æ¥ä¸ºMovieSteamçš„å„ä¸ªå›¢é˜Ÿæä¾›å·¥å…·ï¼Œä»¥å¸®åŠ©å…¶ç†è§£ç”¨æˆ·çš„è¡Œä¸ºã€å†…å®¹ç›®å½•çš„ç‰¹ç‚¹å’Œä¸šåŠ¡æ”¶å…¥çš„é©±åŠ¨å› ç´ ã€‚</li>
</ul>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[Thailand æˆ‘è§ (not finish)]]></title>
      <url>http://iequa.com/2016/08/27/society-health-life-thai/</url>
      <content type="html"><![CDATA[<p>æèµ·æ³°ç‹å›½ï¼Œç»™æˆ‘æœ€æ·±çš„å°è±¡å°±æ˜¯å¯ä»¥è®©æˆ‘æ„Ÿå—åˆ°ï¼Œåˆ°åº•ä»€ä¹ˆæ˜¯ <a href="https://zh.wikipedia.org/wiki/ä¸‰å­—ç»" target="_blank" rel="external">äººä¹‹åˆã€æ€§æœ¬å–„</a>ã€‚æˆ‘æƒ³è¿™éš¾ä»¥ç”¨æ–‡å­—å’Œè¯­è¨€æ¥è¡¨è¾¾ï¼ŒçœŸæ˜¯çš„ å¹¸ç¦å›½åº¦ã€å¾®ç¬‘å›½åº¦ï¼Œåä¸è™šä¼ ã€‚åœ¨æˆ‘çœ‹æ¥ï¼Œé‚£é‡Œçš„ç™¾å§“æ˜¯å®‰å±…ä¹ä¸šï¼Œéå¸¸å¹¸ç¦ã€‚è´«å¯Œå·®è·ä¸å¤§ï¼Œèµ„æºåˆ†é…ç›¸å¯¹åˆç†ï¼Œå°åŸå¸‚å’Œ<a href="https://zh.wikipedia.org/wiki/äººå†å›§é€”ä¹‹æ³°å›§" target="_blank" rel="external">å¾å³¥ã€Šæ³°å›§ã€‹</a>æ¸…è¿ˆçš„å¤§åŸå¸‚åŸºç¡€è®¾æ–½ç›¸å·®ä¸å¤§ï¼Œå»è¿‡ä¸€æ¬¡çœŸçš„å¾ˆæƒ³åœ¨ä»¥åæ™šå¹´çš„æ—¶å€™ï¼Œæ¥è¿™é‡Œå…»è€ï¼Œæ„Ÿè§‰çœŸçš„éå¸¸ä¸é”™ã€‚æˆ‘è§‰å¾—å»ä»»ä½•ä¸€ä¸ªåœ°æ–¹ äººæ–‡ç¯å¢ƒï¼Œæ‰æ˜¯æœ€é‡è¦çš„ï¼Œå…¶ä»–çš„æ™¯è‰²ï¼Œæ™¯ç‚¹æ˜¯æ¬¡è¦çš„ï¼Œå› ä¸ºæ™®é€šäººéƒ½éœ€è¦å…¥ä¸–ï¼Œéœ€è¦æ²Ÿé€šä¸äº¤æµã€‚äººæœ€æ€•çš„ä¸æ˜¯è´«ç©·ï¼Œè€Œæ˜¯å­¤ç‹¬ã€‚</p>
<p>15å¹´10æœˆæœ«æˆ‘æ›¾å»è¿‡æ³°å›½ï¼Œåˆ°è¿‡æ›¼è°·ã€å·´èœ€åºœã€åæ¬£ç­‰åœ°ã€‚éå¸¸æ„Ÿè°¢åœ¨é‚£æ®µå¼‚å›½ä»–ä¹¡çš„æ—¶å…‰é‡Œæ›¾ç»™äºˆæˆ‘å¸®åŠ©çš„æœ‹å‹ã€‚</p>
<p><img src="/images/thai01.jpg" width="800" height="550" img=""></p>
<h2 id="æ›¼è°·"><a href="#æ›¼è°·" class="headerlink" title="æ›¼è°·"></a>æ›¼è°·</h2><p>æ›¼è°·ï¼ˆæ³°æ–‡ï¼šà¸à¸£à¸¸à¸‡à¹€à¸—à¸à¸¡à¸«à¸²à¸™à¸„à¸£ï¼›è‹±æ–‡ï¼šBangkokï¼‰ï¼Œæ˜¯æ³°å›½é¦–éƒ½å’Œæœ€å¤§åŸå¸‚ï¼Œä¸œå—äºšç¬¬äºŒå¤§åŸå¸‚ï¼Œä¸ºæ³°å›½æ”¿æ²»ã€ç»æµã€è´¸æ˜“ã€äº¤é€šã€æ–‡åŒ–ã€ç§‘æŠ€ã€æ•™è‚²ã€å®—æ•™ä¸å„æ–¹é¢ä¸­å¿ƒã€‚</p>
<h2 id="èŠ­å ¤é›…"><a href="#èŠ­å ¤é›…" class="headerlink" title="èŠ­å ¤é›…"></a>èŠ­å ¤é›…</h2><p>èŠ­æé›…(Pattaya,åˆå¸¸è¢«è¯‘ä¸ºâ€œèŠ­å ¤é›…â€)ï¼Œæ˜¯ä¸­å—åŠå²›å—ç«¯çš„æ³°å›½ä¸€å¤„è‘—åæµ·æ™¯åº¦å‡èƒœåœ°ã€‚è·ç¦»æ›¼è°·ä¸œå—æ–¹154å…¬é‡Œã€‚</p>
<p>èŠ­æé›…è¿‘å¹´æ¥çƒ­åº¦æé«˜çš„æµ·æ»©åº¦å‡ã€æ—…æ¸¸ã€å…»è€åœ£åœ°ï¼Œäº«æœ‰â€œä¸œæ–¹å¤å¨å¤·â€ä¹‹èª‰ï¼ŒèŠ­æé›…å…·æœ‰æœ€è´Ÿç››åçš„äººå¦–è¡¨æ¼”ï¼Œç¼¤çº·æ— ä¼‘çš„å¤œæ–‡åŒ–ï¼Œå¸å¼•ç€å…¨ä¸–ç•Œçš„æ¸¸å®¢ã€‚</p>
<blockquote>
<p>æ®è¯´ 18å¹´è½»è½¨ä¿®å»ºå®Œæˆï¼Œä»æ›¼è°·åˆ°èŠ­å ¤é›…åªéœ€è¦20å¤šåˆ†é’Ÿã€‚</p>
</blockquote>
<h2 id="åæ¬£"><a href="#åæ¬£" class="headerlink" title="åæ¬£"></a>åæ¬£</h2><p>åæ¬£ï¼ˆè‹±è¯­ï¼šHua Hinï¼Œæ³°è¯­ï¼šà¸«à¸±à¸§à¸«à¸´à¸™ï¼‰ï¼Œæ³°å›½ä¸­éƒ¨æµ·æ»¨å°é•‡ã€‚è·ç¦»æ³°å›½é¦–éƒ½æ›¼è°·200å¤šå…¬é‡Œï¼ˆåŒ—çº¬12Â°34â€²ï¼Œä¸œç»99Â°57â€²ï¼‰ï¼Œéš¶å±äºæ³°å›½å·´èœ€åºœã€‚ä¸èŠ­å ¤é›…éš”å²¸ç›¸æœ›ï¼Œè·ç¦»æ›¼è°·è¥¿å—281å…¬é‡Œï¼Œçº¦3å°æ—¶è¡Œç¨‹ã€‚å®ƒè¢«ç§°ä½œæ˜¯æ³°å›½æœ€ä¼ ç»Ÿçš„æµ·æ»¨èƒœåœ°ï¼Œçš‡å®¤è´µæ—ä»¬æ¯å¹´éƒ½ä¼šåˆ°åæ¬£ä½ä¸€æ®µæ—¶é—´ï¼Œå½“ä»Šæ³°çš‡å°±é•¿æœŸå±…ä½äºæ­¤åœ°çš„è¡Œå®«ã€‚</p>
<h2 id="æ™®å‰å²›"><a href="#æ™®å‰å²›" class="headerlink" title="æ™®å‰å²›"></a>æ™®å‰å²›</h2><p>æµ·æ»©æ—¥å…‰æµ´ äº«æ…µæ‡’æ…¢æ—¶å…‰</p>
<p>æ¸¸æµ·å²› æ½œå…¥å¤§æµ·çš„å¿ƒé‡Œå»</p>
<p>æ³›èˆŸæ³°å›½â€œå°æ¡‚æ—â€æ”€ç‰™æ¹¾ </p>
<p>æµ®æ½œè®¾å¤‡</p>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[CART (not finish)]]></title>
      <url>http://iequa.com/2016/08/24/ml-CART/</url>
      <content type="html"><![CDATA[<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js"],
    jax: ["input/TeX"],
    tex2jax: {
      inlineMath: [ ['$','$'], ['\\(','\\)'] ],
      displayMath: [ ['$$','$$']],
      processEscapes: true
    }
  });
</script>
<script type="text/javascript" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS_HTML,http://myserver.com/MathJax/config/local/local.js">
</script>

<p><strong>Data Mining</strong></p>
<ul>
<li>æŒ–æ˜ç›®æ ‡</li>
<li>æ•°æ®å–æ ·</li>
<li>æ•°æ®æ¢ç´¢</li>
<li>æ•°æ®é¢„å¤„ç†</li>
<li><code>æŒ–æ˜å»ºæ¨¡</code></li>
<li>æ¨¡å‹è¯„ä»·</li>
</ul>
<h2 id="1-CART-Introduce"><a href="#1-CART-Introduce" class="headerlink" title="1. CART Introduce"></a>1. CART Introduce</h2><p>åœ¨æ•°æ®æŒ–æ˜ä¸­ï¼Œå†³ç­–æ ‘ä¸»è¦æœ‰ä¸¤ç§ç±»å‹:</p>
<ul>
<li>åˆ†ç±»æ ‘ çš„è¾“å‡ºæ˜¯æ ·æœ¬çš„ç±»æ ‡ã€‚</li>
<li>å›å½’æ ‘ çš„è¾“å‡ºæ˜¯ä¸€ä¸ªå®æ•° (ä¾‹å¦‚æˆ¿å­çš„ä»·æ ¼ï¼Œç—…äººå‘†åœ¨åŒ»é™¢çš„æ—¶é—´ç­‰)ã€‚</li>
</ul>
<blockquote>
<p>æœ¯è¯­ åˆ†ç±»å›å½’æ ‘(CART,Classification And Regression Tree) <strong>CART</strong> åŒ…å«äº†ä¸Šè¿°ä¸¤ç§å†³ç­–æ ‘, æœ€å…ˆç”± Breiman ç­‰æå‡º.åˆ†ç±»æ ‘å’Œå›å½’æ ‘æœ‰äº›å…±åŒç‚¹å’Œä¸åŒç‚¹ â€” ä¾‹å¦‚å¤„ç†åœ¨ä½•å¤„åˆ†è£‚çš„é—®é¢˜ã€‚</p>
</blockquote>
<p>åˆ†ç±» â€” åˆ’åˆ†ç¦»æ•£å˜é‡<br>å›å½’ â€” åˆ’åˆ†è¿ç»­å˜é‡</p>
<h3 id="1-1-CART-What"><a href="#1-1-CART-What" class="headerlink" title="1.1 CART What?"></a>1.1 CART What?</h3><p><strong><em>CART</em></strong> ä¸€ç§äºŒåˆ†é€’å½’åˆ†å‰²çš„æŠ€æœ¯ï¼Œå°†å½“å‰çš„æ ·æœ¬é›†åˆ†ä¸ºä¸¤ä¸ªå­æ ·æœ¬é›†ï¼Œä½¿å¾—ç”Ÿæˆçš„å†³ç­–æ ‘çš„æ¯ä¸ªéå¶å­èŠ‚ç‚¹éƒ½æœ‰ä¸¤ä¸ªåˆ†æ”¯ï¼Œå·¦åˆ†æ”¯å¯¹åº”å–å€¼ä¸º <code>æ˜¯</code> çš„åˆ†æ”¯ï¼Œå³åˆ†æ”¯å¯¹åº”ä¸º <code>å¦</code> çš„åˆ†æ”¯.</p>
<p><strong><em>CART</em></strong> å­¦ä¹ è¿‡ç¨‹ç­‰ä»·äºé€’å½’åœ°äºŒåˆ†æ¯ä¸ªç‰¹å¾ï¼Œå°†è¾“å…¥ç©ºé—´ï¼ˆåœ¨è¿™é‡Œç­‰ä»·ç‰¹å¾ç©ºé—´ï¼‰åˆ’åˆ†ä¸ºæœ‰é™ä¸ªå­ç©ºé—´ï¼ˆå•å…ƒï¼‰ï¼Œå¹¶åœ¨è¿™äº›å­ç©ºé—´ä¸Šç¡®å®šé¢„æµ‹çš„æ¦‚ç‡åˆ†å¸ƒï¼Œä¹Ÿå°±æ˜¯åœ¨è¾“å…¥ç»™å®šçš„æ¡ä»¶ä¸‹è¾“å‡ºå¯¹åº”çš„æ¡ä»¶æ¦‚ç‡åˆ†å¸ƒã€‚</p>
<h3 id="1-2-CART-çº¯åº¦åº¦é‡"><a href="#1-2-CART-çº¯åº¦åº¦é‡" class="headerlink" title="1.2 CART çº¯åº¦åº¦é‡"></a>1.2 CART çº¯åº¦åº¦é‡</h3><p>CARTä¸­ç”¨äºé€‰æ‹©å˜é‡çš„ä¸çº¯æ€§åº¦é‡æ˜¯ <strong>Gini index</strong>ï¼›å¦‚æœç›®æ ‡å˜é‡æ˜¯æ ‡ç§°çš„ï¼Œå¹¶ä¸”æ˜¯å…·æœ‰ä¸¤ä¸ªä»¥ä¸Šçš„ç±»åˆ«ï¼Œåˆ™CARTå¯èƒ½è€ƒè™‘å°†ç›®æ ‡ç±»åˆ«åˆå¹¶æˆä¸¤ä¸ªè¶…ç±»åˆ«ï¼ˆåŒåŒ–ï¼‰ï¼›å¦‚æœç›®æ ‡å˜é‡æ˜¯è¿ç»­çš„ï¼Œåˆ™ CART ç®—æ³• æ‰¾å‡ºä¸€ç»„åŸºäºæ ‘çš„å›å½’æ–¹ç¨‹æ¥é¢„æµ‹ç›®æ ‡å˜é‡ã€‚</p>
<table>
<thead>
<tr>
<th>Algorithm</th>
<th>Feature Selection</th>
<th>Author</th>
</tr>
</thead>
<tbody>
<tr>
<td>CART</td>
<td>å›å½’æ ‘ï¼š æœ€å°äºŒä¹˜<br>åˆ†ç±»æ ‘ï¼š åŸºå°¼æŒ‡æ•° Gini index</td>
<td>Breiman. 1984<br>(Classification and Regression Tree åˆ†ç±»ä¸å›å½’æ ‘)</td>
</tr>
</tbody>
</table>
<p>ç”±äº<code>åˆ†ç±»æ ‘</code>ä¸<code>å›å½’æ ‘</code>åœ¨é€’å½’åœ°æ„å»ºäºŒå‰å†³ç­–æ ‘çš„è¿‡ç¨‹ä¸­ï¼Œé€‰æ‹©ç‰¹å¾åˆ’åˆ†çš„å‡†åˆ™ä¸åŒã€‚äºŒå‰åˆ†ç±»æ ‘æ„å»ºè¿‡ç¨‹ä¸­é‡‡ç”¨ <strong>Gini Index</strong> ä¸ºç‰¹å¾é€‰æ‹©æ ‡å‡†ï¼›äºŒå‰å›å½’æ ‘é‡‡ç”¨<strong>å¹³æ–¹è¯¯å·®æœ€å°åŒ–</strong> ä½œä¸ºç‰¹å¾é€‰æ‹©æ ‡å‡†ã€‚</p>
<h3 id="1-3-CART-æ­¥éª¤"><a href="#1-3-CART-æ­¥éª¤" class="headerlink" title="1.3 CART æ­¥éª¤"></a>1.3 CART æ­¥éª¤</h3><p><code>build decision tree</code>æ—¶é€šå¸¸é‡‡ç”¨è‡ªä¸Šè€Œä¸‹çš„æ–¹æ³•ï¼Œåœ¨æ¯ä¸€æ­¥é€‰æ‹©ä¸€ä¸ªæœ€å¥½çš„å±æ€§æ¥åˆ†è£‚ã€‚ â€œæœ€å¥½â€ çš„å®šä¹‰æ˜¯ä½¿å¾—å­èŠ‚ç‚¹ä¸­çš„è®­ç»ƒé›†å°½é‡çš„çº¯ã€‚ä¸åŒçš„ç®—æ³•ä½¿ç”¨ä¸åŒçš„æŒ‡æ ‡æ¥å®šä¹‰â€æœ€å¥½â€ã€‚</p>
<p><strong><em>CART</em></strong> æ˜¯åœ¨ç»™å®šè¾“å…¥éšæœºå˜é‡ $X$ æ¡ä»¶ä¸‹æ±‚å¾—è¾“å‡ºéšæœºå˜é‡ $Y$ çš„æ¡ä»¶æ¦‚ç‡åˆ†å¸ƒçš„å­¦ä¹ æ–¹æ³•ã€‚</p>
<blockquote>
<p>å¯ä»¥çœ‹å‡ºCARTç®—æ³•åœ¨å¶èŠ‚ç‚¹è¡¨ç¤ºä¸Šä¸åŒäºID3ã€C4.5æ–¹æ³•ï¼ŒåäºŒè€…å¶èŠ‚ç‚¹å¯¹åº”æ•°æ®å­é›†é€šè¿‡â€œå¤šæ•°è¡¨å†³â€çš„æ–¹å¼æ¥ç¡®å®šä¸€ä¸ªç±»åˆ«ï¼ˆå›ºå®šä¸€ä¸ªå€¼ï¼‰ï¼›è€ŒCARTç®—æ³•çš„å¶èŠ‚ç‚¹å¯¹åº”ç±»åˆ«çš„æ¦‚ç‡åˆ†å¸ƒã€‚</p>
</blockquote>
<p>CARTç®—æ³•ä¹Ÿä¸»è¦ç”±ä¸¤æ­¥ç»„æˆï¼š</p>
<ul>
<li>å†³ç­–æ ‘çš„ç”Ÿæˆï¼šåŸºäºè®­ç»ƒæ•°æ®é›†ç”Ÿæˆä¸€æ£µäºŒåˆ†å†³ç­–æ ‘ï¼›</li>
<li>å†³ç­–æ ‘çš„å‰ªæï¼šç”¨éªŒè¯é›†å¯¹å·²ç”Ÿæˆçš„äºŒå‰å†³ç­–æ ‘è¿›è¡Œå‰ªæï¼Œå‰ªæçš„æ ‡å‡†ä¸ºæŸå¤±å‡½æ•°æœ€å°åŒ–ã€‚</li>
</ul>
<h2 id="2-äºŒå‰åˆ†ç±»æ ‘"><a href="#2-äºŒå‰åˆ†ç±»æ ‘" class="headerlink" title="2. äºŒå‰åˆ†ç±»æ ‘"></a>2. äºŒå‰åˆ†ç±»æ ‘</h2><p>äºŒå‰åˆ†ç±»æ ‘ä¸­ç”¨åŸºå°¼æŒ‡æ•°ï¼ˆGini Indexï¼‰ä½œä¸ºæœ€ä¼˜ç‰¹å¾é€‰æ‹©çš„åº¦é‡æ ‡å‡†ã€‚</p>
<p><strong>GINI Index :</strong></p>
<ol>
<li>æ˜¯ä¸€ç§ä¸ç­‰æ€§åº¦é‡ï¼›</li>
<li>é€šå¸¸ç”¨æ¥åº¦é‡æ”¶å…¥ä¸å¹³è¡¡ï¼Œå¯ä»¥ç”¨æ¥åº¦é‡ä»»ä½•ä¸å‡åŒ€åˆ†å¸ƒï¼›</li>
<li>æ˜¯ä»‹äº0~1ä¹‹é—´çš„æ•°ï¼Œ0-å®Œå…¨ç›¸ç­‰ï¼Œ1-å®Œå…¨ä¸ç›¸ç­‰ï¼›</li>
<li>æ€»ä½“å†…åŒ…å«çš„ç±»åˆ«è¶Šæ‚ä¹±ï¼ŒGINIæŒ‡æ•°å°±è¶Šå¤§ï¼ˆè·Ÿç†µçš„æ¦‚å¿µå¾ˆç›¸ä¼¼ï¼‰</li>
</ol>
<h3 id="2-1-Gini-Index"><a href="#2-1-Gini-Index" class="headerlink" title="2.1 Gini Index"></a>2.1 Gini Index</h3><p>åŒæ ·ä»¥åˆ†ç±»ç³»ç»Ÿä¸ºä¾‹ï¼Œæ•°æ®é›† $D$ ä¸­ç±»åˆ« $C$ å¯èƒ½çš„å–å€¼ä¸º$c_1, c_2, \cdots, c_k$ ï¼ˆ$k$æ˜¯ç±»åˆ«æ•°ï¼‰ï¼Œä¸€ä¸ªæ ·æœ¬å±äºç±»åˆ« $c_i$ çš„æ¦‚ç‡ä¸º$p(i)$ã€‚é‚£ä¹ˆæ¦‚ç‡åˆ†å¸ƒçš„ Gini index å…¬å¼è¡¨ç¤ºä¸ºï¼š</p>
<p>$$<br>Gini(D) = 1 - \sum_{i=1}^{k} {p_i}^2    \qquad(fmt.2.1.1)<br>$$</p>
<blockquote>
<p>å…¶ä¸­$p_i = \frac{ç±»åˆ«å±äºc_içš„æ ·æœ¬æ•°}{æ€»æ ·æœ¬æ•°}$ã€‚å¦‚æœæ‰€æœ‰çš„æ ·æœ¬ Category ç›¸åŒï¼Œåˆ™ $p_1 = 1, p_2 = p_3 = \cdots = p_k = 0$ï¼Œåˆ™æœ‰$p_1 = 1, p_2 = p_3 = \cdots = p_k = 0$ï¼Œæ­¤æ—¶æ•°æ®ä¸çº¯åº¦æœ€ä½ã€‚$Gini(D)$ çš„ç‰©ç†å«ä¹‰æ˜¯è¡¨ç¤ºæ•°æ®é›† $D$ çš„ä¸ç¡®å®šæ€§ã€‚æ•°å€¼è¶Šå¤§ï¼Œè¡¨æ˜å…¶ä¸ç¡®å®šæ€§è¶Šå¤§ï¼ˆè¿™ä¸€ç‚¹ä¸ <a href="/2016/08/18/ml-entropy-base/">Info Entropy</a> ç›¸ä¼¼ï¼‰ã€‚<br>å¦‚æœ $k=2$ï¼ˆäºŒåˆ†ç±»é—®é¢˜ï¼Œç±»åˆ«å‘½åä¸ºæ­£ç±»å’Œè´Ÿç±»ï¼‰ï¼Œè‹¥æ ·æœ¬å±äºæ­£ç±»çš„æ¦‚ç‡æ˜¯ $p$ï¼Œé‚£ä¹ˆå¯¹åº”åŸºå°¼æŒ‡æ•°ä¸ºï¼š</p>
<p>$$<br>\begin{align} Gini(D) &amp; = 1 - [p^2 + {(1-p)}^2] \\ &amp; = \underline {2p (1-p)} \qquad\qquad (fmt.2.1.2)<br>\end{align}<br>$$</p>
</blockquote>
<p>å¦‚æœæ•°æ®é›† $D$ æ ¹æ®ç‰¹å¾ $f$ æ˜¯å¦å–æŸä¸€å¯èƒ½å€¼ $f_âˆ—$ï¼Œå°† $D$ åˆ’åˆ†ä¸º $D_1={(x, y) \in D | f(x) = f_{\ast}}, D_2=D-D_1$ã€‚é‚£ä¹ˆç‰¹å¾ $f$ åœ¨æ•°æ®é›† $D$ ä¸Šçš„ Gini index å®šä¹‰ä¸ºï¼š</p>
<p>$$<br>Gini(D, f=f_{\ast}) = \frac{\vert D_1 \vert}{\vert D \vert} Gini(D_1) + \frac{\vert D_2 \vert}{\vert D \vert} Gini(D_2) \qquad\qquad (fmt.2.1.3)<br>$$</p>
<h3 id="2-2-Gini-Example"><a href="#2-2-Gini-Example" class="headerlink" title="2.2 Gini Example"></a>2.2 Gini Example</h3><p>ä»£è¡¨æ€§çš„ä¾‹å­è¯´æ˜ :</p>
<table>
<thead>
<tr>
<th>ID</th>
<th>é˜´æ™´(F)</th>
<th>æ¸©åº¦(F)</th>
<th>æ¹¿åº¦(F)</th>
<th>åˆ®é£(F)</th>
<th>æ˜¯å¦ç©ï¼ˆCï¼‰</th>
</tr>
</thead>
<tbody>
<tr>
<td>1</td>
<td>sunny</td>
<td>hot</td>
<td>high</td>
<td>false</td>
<td>å¦</td>
</tr>
<tr>
<td>2</td>
<td>sunny</td>
<td>hot</td>
<td>high</td>
<td>true</td>
<td>å¦</td>
</tr>
<tr>
<td>3</td>
<td>overcast</td>
<td>hot</td>
<td>high</td>
<td>false</td>
<td>æ˜¯</td>
</tr>
<tr>
<td>4</td>
<td>rainy</td>
<td>mild</td>
<td>high</td>
<td>false</td>
<td>æ˜¯</td>
</tr>
<tr>
<td>5</td>
<td>rainy</td>
<td>cool</td>
<td>normal</td>
<td>false</td>
<td>æ˜¯</td>
</tr>
<tr>
<td>6</td>
<td>rainy</td>
<td>cool</td>
<td>normal</td>
<td>true</td>
<td>å¦</td>
</tr>
<tr>
<td>7</td>
<td>overcast</td>
<td>cool</td>
<td>normal</td>
<td>true</td>
<td>æ˜¯</td>
</tr>
<tr>
<td>8</td>
<td>sunny</td>
<td>mild</td>
<td>high</td>
<td>false</td>
<td>å¦</td>
</tr>
<tr>
<td>9</td>
<td>sunny</td>
<td>cool</td>
<td>normal</td>
<td>false</td>
<td>æ˜¯</td>
</tr>
<tr>
<td>10</td>
<td>rainy</td>
<td>mild</td>
<td>normal</td>
<td>false</td>
<td>æ˜¯</td>
</tr>
<tr>
<td>11</td>
<td>sunny</td>
<td>mild</td>
<td>normal</td>
<td>true</td>
<td>æ˜¯</td>
</tr>
<tr>
<td>12</td>
<td>overcast</td>
<td>mild</td>
<td>high</td>
<td>true</td>
<td>æ˜¯</td>
</tr>
<tr>
<td>13</td>
<td>overcast</td>
<td>hot</td>
<td>normal</td>
<td>false</td>
<td>æ˜¯</td>
</tr>
<tr>
<td>14</td>
<td>rainy</td>
<td>mild</td>
<td>high</td>
<td>true</td>
<td>å¦</td>
</tr>
</tbody>
</table>
<p>åœ¨å®é™…æ“ä½œä¸­ï¼Œé€šè¿‡éå†æ‰€æœ‰ç‰¹å¾ï¼ˆå¦‚æœæ˜¯è¿ç»­å€¼ï¼Œéœ€åšç¦»æ•£åŒ–ï¼‰åŠå…¶å–å€¼ï¼Œé€‰æ‹© $Min_{gini-index}$ æ‰€å¯¹åº”çš„ç‰¹å¾å’Œç‰¹å¾å€¼ã€‚</p>
<p>è¿™é‡Œä»ç„¶ä»¥å¤©æ°”æ•°æ®ä¸ºä¾‹ï¼Œç»™å‡ºç‰¹å¾<strong>é˜´æ™´</strong>çš„ Gini index è®¡ç®—è¿‡ç¨‹ã€‚</p>
<blockquote>
<p>(1). å½“ç‰¹å¾â€œé˜´æ™´â€å–å€¼ä¸ºâ€sunnyâ€æ—¶ï¼Œ$D_1 = {1,2,8,9,11}, |D_1|=5$ï¼›$D_2={3,4,5,6,7,10,12,13,14}, |D_2|=9$. æ•°æ®è‡ªå·±å¯¹åº”çš„ç±»åˆ«æ•°åˆ†åˆ«ä¸º $(+2,-3)ã€(+7,-2)$ã€‚å› æ­¤ $Gini(D_1) = 2 \cdot \frac{3}{5} \cdot \frac{2}{5} = \frac{12}{25}$ï¼›$Gini(D_2) = 2 \cdot \frac{7}{9} \cdot \frac{2}{9} = \frac{28}{81}$. å¯¹åº”çš„åŸºå°¼æŒ‡æ•°ä¸ºï¼š<br>$$<br>Gini(C, â€œé˜´æ™´â€=â€sunnyâ€) = \frac{5}{14} Gini(D_1) + \frac{9}{14} Gini(D_2) = \frac{5}{14} \frac{12}{25} + \frac{9}{14} \frac{28}{81} = 0.394 \quad(exp.2.2.1)<br>$$<br>(2). å½“ç‰¹å¾â€œé˜´æ™´â€å–å€¼ä¸ºâ€overcastâ€æ—¶ï¼Œ$D_1 = {2,7,12,13}, |D_1|=4$ï¼›$D_2={1,2,4,5,6,8,9,10,11,14}, |D_2|=10$ã€‚$D_1$ã€$D_2$ æ•°æ®è‡ªå·±å¯¹åº”çš„ç±»åˆ«æ•°åˆ†åˆ«ä¸º $(+4,-0)ã€(+5,-5)$ã€‚å› æ­¤ $Gini(D_1) = 2 \cdot 1 \cdot 0 = 0ï¼›Gini(D_2) = 2 \cdot \frac{5}{10} \cdot \frac{5}{10} = \frac{1}{2}$ å¯¹åº”çš„åŸºå°¼æŒ‡æ•°ä¸ºï¼š<br>$$<br>Gini(C, â€œé˜´æ™´â€=â€overcastâ€) = \frac{4}{14} Gini(D_1) + \frac{10}{14} Gini(D_2) = 0 + \frac{10}{14} \cdot \frac{1}{2} = \frac{5}{14} = 0.357 \quad(exp.2.2.2)<br>$$</p>
<p>(3). å½“ç‰¹å¾â€œé˜´æ™´â€å–å€¼ä¸ºâ€rainyâ€æ—¶ï¼Œ$D_1 = {4,5,6,10,14}, |D_1|=5$; $D_2={1,2,3,7,8,9,11,12,13}, |D_2|=9$ã€‚ $D_1$ã€$D_2$ æ•°æ®è‡ªå·±å¯¹åº”çš„ç±»åˆ«æ•°åˆ†åˆ«ä¸º $(+3,âˆ’2)ã€(+6,âˆ’3)$ã€‚å› æ­¤ $Gini(D_1) = 2 \cdot \frac{3}{5} \cdot \frac{2}{5} = \frac{12}{25}$ï¼›$Gini(D_2) = 2 \cdot \frac{6}{9} \cdot \frac{3}{9} = \frac{4}{9}$ã€‚ å¯¹åº”çš„åŸºå°¼æŒ‡æ•°ä¸ºï¼š<br>$$<br>Gini(C, â€œé˜´æ™´â€=â€rainyâ€) = \frac{5}{14} Gini(D_1) + \frac{9}{14} Gini(D_2) = \frac{5}{14} \frac{12}{25} + \frac{9}{14} \frac{4}{9} = \frac{4}{7} = 0.457 \quad(exp.2.2.3)<br>$$</p>
</blockquote>
<p>å¦‚æœç‰¹å¾â€é˜´æ™´â€æ˜¯æœ€ä¼˜ç‰¹å¾çš„è¯ï¼Œé‚£ä¹ˆç‰¹å¾å–å€¼ä¸ºâ€overcastâ€åº”ä½œä¸ºåˆ’åˆ†èŠ‚ç‚¹ã€‚</p>
<h2 id="3-äºŒå‰å›å½’æ ‘-not-finish"><a href="#3-äºŒå‰å›å½’æ ‘-not-finish" class="headerlink" title="3. äºŒå‰å›å½’æ ‘ (not finish)"></a>3. äºŒå‰å›å½’æ ‘ (not finish)</h2><p><strong>äºŒå‰å›å½’æ ‘</strong> é‡‡ç”¨ <code>å¹³æ–¹è¯¯å·®æœ€å°åŒ–ä½œä¸ºç‰¹å¾é€‰æ‹©</code> å’Œ åˆ‡åˆ†ç‚¹é€‰æ‹©çš„ä¾æ®ã€‚ä¸€æ£µå›å½’æ ‘å¯¹åº”ç€ç‰¹å¾ç©ºé—´çš„è‹¥å¹²ä¸ªåˆ’åˆ†åŠå…¶åœ¨åˆ’åˆ†å•å…ƒä¸Šçš„è¾“å‡ºå€¼ã€‚å‡è®¾å°†ç‰¹å¾ç©ºé—´åˆ’åˆ†ä¸º $J$ ä¸ªå•å…ƒï¼ˆå­ç©ºé—´ï¼‰ï¼Œåˆ†åˆ«æ˜¯ ${R_1,R_2,â‹¯,R_J}$ï¼Œåœ¨æ¯ä¸ªå•å…ƒ $R_j$ï¼ˆå¯¹åº”å›å½’æ ‘çš„ä¸€ä¸ªå¶å­èŠ‚ç‚¹ï¼‰ä¸Šæœ‰ä¸€ä¸ªå›ºå®šçš„è¾“å‡ºå€¼ $v_j$ï¼ˆè¿ç»­å˜é‡ï¼‰ã€‚ç»™å®šè®­ç»ƒæ•°æ®é›†$D={(x^{(1)}, y^{(1)}), (x^{(2)}, y^{(2)}), \cdots, (x^{(m)}, y^{(m)})}$ï¼ŒäºŒå‰å›å½’æ ‘æ¨¡å‹å¯è¡¨ç¤ºä¸ºï¼š</p>
<p>$$<br>f(x) = \sum_{j=1}^{J} v_j \cdot I(x \in R_j) \qquad (exp.3.1.1)<br>$$</p>
<h2 id="Reference-article"><a href="#Reference-article" class="headerlink" title="Reference article"></a>Reference article</h2><ul>
<li><a href="http://wenku.baidu.com/link?url=aHNTy791blu36AysYKLXxRLkU4XlzxPNoyOEpZaRtCOM83C8mAUmNKWktm_lKF65WuCAUvyBKZnG_Jw91NzYhD8EfmDCpXEkX-PjwVqSKYC" target="_blank" rel="external">CART-æ–‡åº“PPT</a></li>
<li><a href="http://wenku.baidu.com/link?url=aHNTy791blu36AysYKLXxRLkU4XlzxPNoyOEpZaRtCOM83C8mAUmNKWktm_lKF65WuCAUvyBKZnG_Jw91NzYhD8EfmDCpXEkX-PjwVqSKYC" target="_blank" rel="external">CART-Veyron</a></li>
<li><a href="http://www.52caml.com/" target="_blank" rel="external">52caml</a></li>
</ul>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[JVM è·¨å¹³å°ä¸å­—èŠ‚ç åŸç†åˆæ­¥]]></title>
      <url>http://iequa.com/2016/08/16/java-special-arms-p3-jvm/</url>
      <content type="html"><![CDATA[<p>ç”¨åˆ° JVM çš„åœºæ™¯</p>
<ol>
<li>Out of memory æ—¶ï¼Œå›¢é˜Ÿé«˜æ‰‹ä¸åœ¨</li>
<li>ç³»ç»ŸæœåŠ¡å™¨æ¶æ„ï¼Œè€å¤§é—®ä½  æŠ•å…¥å¤šå°‘æœåŠ¡å™¨æˆæœ¬ï¼ŒVM åˆ†é…å¤šå¤§ï¼Œ å¦‚ä½•åˆ†é…?</li>
</ol>
<h2 id="1-javap-å‘½ä»¤"><a href="#1-javap-å‘½ä»¤" class="headerlink" title="1. javap å‘½ä»¤"></a>1. javap å‘½ä»¤</h2><blockquote>
<p>é€šè¿‡è¿™ç§æ–¹å¼è®¤çŸ¥æ¯” Java æ›´ä½ä¸€ä¸ªæŠ½è±¡å±‚æ¬¡çš„é€»è¾‘ï¼Œè™šæŒ‡ä»¤æœ‰æ—¶å€™æ›´å¥½è§£é‡Šé—®é¢˜ã€‚</p>
</blockquote>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">StringTest</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">test1</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        String a = <span class="string">"a"</span> + <span class="string">"b"</span> + <span class="number">1</span>;</span><br><span class="line">        String b = <span class="string">"ab1"</span>;</span><br><span class="line">        System.out.println(a == b); <span class="comment">// true ç¼–è¯‘æ—¶ä¼˜åŒ–</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">âœ  p3jvm git:(master) âœ— <span class="built_in">pwd</span></span><br><span class="line">/Users/hp/ghome/github/language/java/jsarms/p3jvm</span><br><span class="line">âœ  p3jvm git:(master) âœ— javac</span><br><span class="line">Usage: javac &lt;options&gt; &lt;<span class="built_in">source</span> files&gt;</span><br><span class="line"><span class="built_in">where</span> possible options include:</span><br><span class="line">  -g                         Generate all debugging info</span><br><span class="line">  -g:none                    Generate no debugging info</span><br><span class="line">  -g:&#123;lines,vars,<span class="built_in">source</span>&#125;     Generate only some debugging info</span><br><span class="line">  -nowarn                    Generate no warnings</span><br><span class="line">  -verbose                   Output messages about what the compiler is doing</span><br></pre></td></tr></table></figure>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">âœ  p3jvm git:(master) âœ— javac -g:vars,lines StringTest.java</span><br><span class="line">âœ  p3jvm git:(master) âœ— javap -verbose StringTest</span><br><span class="line">Classfile /Users/hp/ghome/github/language/java/jsarms/p3jvm/StringTest.class</span><br><span class="line">  Last modified Aug 16, 2016; size 559 bytes</span><br><span class="line">  MD5 checksum 772d18512cb982c953e7db8c72522918</span><br><span class="line">public class StringTest</span><br><span class="line">  minor version: 0</span><br><span class="line">  major version: 51</span><br><span class="line">  flags: ACC_PUBLIC, ACC_SUPER</span><br><span class="line">Constant pool:</span><br><span class="line">   <span class="comment">#1 = Methodref          #6.#21         //  java/lang/Object."&lt;init&gt;":()V</span></span><br><span class="line">   <span class="comment">#2 = String             #22            //  ab1</span></span><br><span class="line">   <span class="comment">#3 = Fieldref           #23.#24        //  java/lang/System.out:Ljava/io/PrintStream;</span></span><br><span class="line">   <span class="comment">#4 = Methodref          #25.#26        //  java/io/PrintStream.println:(Z)V</span></span><br><span class="line">   <span class="comment">#5 = Class              #27            //  StringTest</span></span><br><span class="line">   <span class="comment">#6 = Class              #28            //  java/lang/Object</span></span><br><span class="line">   <span class="comment">#7 = Utf8               &lt;init&gt;</span></span><br><span class="line">   <span class="comment">#8 = Utf8               ()V</span></span><br><span class="line">   <span class="comment">#9 = Utf8               Code</span></span><br><span class="line">  <span class="comment">#10 = Utf8               LineNumberTable</span></span><br><span class="line">  <span class="comment">#11 = Utf8               LocalVariableTable</span></span><br><span class="line">  <span class="comment">#12 = Utf8               this</span></span><br><span class="line">  <span class="comment">#13 = Utf8               LStringTest;</span></span><br><span class="line">  <span class="comment">#14 = Utf8               test1</span></span><br><span class="line">  <span class="comment">#15 = Utf8               a</span></span><br><span class="line">  <span class="comment">#16 = Utf8               Ljava/lang/String;</span></span><br><span class="line">  <span class="comment">#17 = Utf8               b</span></span><br><span class="line">  <span class="comment">#18 = Utf8               StackMapTable</span></span><br><span class="line">  <span class="comment">#19 = Class              #29            //  java/lang/String</span></span><br><span class="line">  <span class="comment">#20 = Class              #30            //  java/io/PrintStream</span></span><br><span class="line">  <span class="comment">#21 = NameAndType        #7:#8          //  "&lt;init&gt;":()V</span></span><br><span class="line">  <span class="comment">#22 = Utf8               ab1</span></span><br><span class="line">  <span class="comment">#23 = Class              #31            //  java/lang/System</span></span><br><span class="line">  <span class="comment">#24 = NameAndType        #32:#33        //  out:Ljava/io/PrintStream;</span></span><br><span class="line">  <span class="comment">#25 = Class              #30            //  java/io/PrintStream</span></span><br><span class="line">  <span class="comment">#26 = NameAndType        #34:#35        //  println:(Z)V</span></span><br><span class="line">  <span class="comment">#27 = Utf8               StringTest</span></span><br><span class="line">  <span class="comment">#28 = Utf8               java/lang/Object</span></span><br><span class="line">  <span class="comment">#29 = Utf8               java/lang/String</span></span><br><span class="line">  <span class="comment">#30 = Utf8               java/io/PrintStream</span></span><br><span class="line">  <span class="comment">#31 = Utf8               java/lang/System</span></span><br><span class="line">  <span class="comment">#32 = Utf8               out</span></span><br><span class="line">  <span class="comment">#33 = Utf8               Ljava/io/PrintStream;</span></span><br><span class="line">  <span class="comment">#34 = Utf8               println</span></span><br><span class="line">  <span class="comment">#35 = Utf8               (Z)V</span></span><br><span class="line">// ä»¥ä¸Šæ˜¯ Constant poolï¼Œ ä»…ä»…æ˜¯é™ˆåˆ—æ“ä½œï¼Œå¹¶æ²¡æœ‰å¼€å§‹æ‰§è¡Œä»»åŠ¡ï¼Œçœ‹ä¸‹é¢å¼€å§‹</span><br><span class="line">&#123;</span><br><span class="line">  public StringTest();</span><br><span class="line">    flags: ACC_PUBLIC</span><br><span class="line">    Code:</span><br><span class="line">      stack=1, locals=1, args_size=1 // æ‰€æœ‰æ–¹æ³•éƒ½ä¼šæœ‰ã€‚</span><br><span class="line">      // stack ä¸ºæ ˆé¡¶çš„å•ä½å¤§å° (æ¯ä¸ªå¤§å°ä¸º 1 slotï¼Œ4 byte)</span><br><span class="line">      // locals=1ï¼Œéé™æ€æ–¹æ³•ï¼Œæœ¬åœ°å˜é‡å¢åŠ  this</span><br><span class="line">         0: aload_0</span><br><span class="line">         1: invokespecial <span class="comment">#1                  // Method java/lang/Object."&lt;init&gt;":()V</span></span><br><span class="line">         4: <span class="built_in">return</span></span><br><span class="line">      LineNumberTable:</span><br><span class="line">        line 1: 0</span><br><span class="line">      LocalVariableTable:</span><br><span class="line">        Start  Length  Slot  Name   Signature</span><br><span class="line">               0       5     0  this   LStringTest;</span><br><span class="line"></span><br><span class="line">  public static void <span class="built_in">test</span>1();</span><br><span class="line">    flags: ACC_PUBLIC, ACC_STATIC</span><br><span class="line">    Code:</span><br><span class="line">      stack=3, locals=2, args_size=0 </span><br><span class="line">      // stack=3ï¼Œæœ¬åœ°æ ˆslotä¸ªæ•°ä¸º3ï¼ŒStringéœ€è¦loadï¼ŒString.out å ç”¨ä¸€ä¸ªå†ã€‚å½“å¯¹æ¯”å‘ç”Ÿ boolean æ—¶ï¼Œä¸¤ä¸ªStringå¼•ç”¨æ ˆé¡¶pop</span><br><span class="line">      // locals=2ï¼Œ å› ä¸ºåªæœ‰ä¸¤ä¸ª String</span><br><span class="line">      // args_size=0ï¼Œæ–¹æ³•æ²¡æœ‰å…¥å£å‚æ•°</span><br><span class="line">         0: ldc           <span class="comment">#2                  // String ab1</span></span><br><span class="line">         // å¼•ç”¨å¸¸é‡æ± å†…å®¹</span><br><span class="line">         2: astore_0</span><br><span class="line">         // å°†æ ˆé¡¶å¼•ç”¨å€¼ï¼Œå†™å…¥ç¬¬ 1 ä¸ª slot æ‰€åœ¨çš„æœ¬åœ°å˜é‡</span><br><span class="line">         3: ldc           <span class="comment">#2                  // String ab1</span></span><br><span class="line">         5: astore_1</span><br><span class="line">         6: getstatic     <span class="comment">#3                  // Field java/lang/System.out:Ljava/io/PrintStream;</span></span><br><span class="line">         // è·å–é™æ€åŸŸï¼Œæ”¾å…¥æ ˆé¡¶ï¼Œæ­¤æ—¶é™æ€åŸŸæ˜¯ System.out å¯¹è±¡</span><br><span class="line">         9: aload_0</span><br><span class="line">        10: aload_1</span><br><span class="line">        11: <span class="keyword">if</span>_acmpne     18</span><br><span class="line">        14: iconst_1</span><br><span class="line">        15: goto          19</span><br><span class="line">        18: iconst_0</span><br><span class="line">        19: invokevirtual <span class="comment">#4                  // Method java/io/PrintStream.println:(Z)V</span></span><br><span class="line">        22: <span class="built_in">return</span></span><br><span class="line">      LineNumberTable:</span><br><span class="line">        line 4: 0</span><br><span class="line">        line 5: 3</span><br><span class="line">        line 6: 6</span><br><span class="line">        line 7: 22</span><br><span class="line">      LocalVariableTable:</span><br><span class="line">        Start  Length  Slot  Name   Signature</span><br><span class="line">               3      20     0     a   Ljava/lang/String;</span><br><span class="line">               6      17     1     b   Ljava/lang/String;</span><br><span class="line">      // æœ¬åœ°å˜é‡åˆ—è¡¨ LocalVariableTable. from javac -g:vars</span><br><span class="line">      StackMapTable: number_of_entries = 2</span><br><span class="line">           frame_<span class="built_in">type</span> = 255 /* full_frame */</span><br><span class="line">          offset_delta = 18</span><br><span class="line">          locals = [ class java/lang/String, class java/lang/String ]</span><br><span class="line">          stack = [ class java/io/PrintStream ]</span><br><span class="line">           frame_<span class="built_in">type</span> = 255 /* full_frame */</span><br><span class="line">          offset_delta = 0</span><br><span class="line">          locals = [ class java/lang/String, class java/lang/String ]</span><br><span class="line">          stack = [ class java/io/PrintStream, int ]</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line">âœ  p3jvm git:(master) âœ—</span><br></pre></td></tr></table></figure>
<h2 id="2-Java-å­—èŠ‚ç ç»“æ„"><a href="#2-Java-å­—èŠ‚ç ç»“æ„" class="headerlink" title="2. Java å­—èŠ‚ç ç»“æ„"></a>2. Java å­—èŠ‚ç ç»“æ„</h2><p>javac å‘½ä»¤æœ¬èº«åªæ˜¯ä¸€ä¸ªå¼•å¯¼å™¨ï¼Œå®ƒå¼•å¯¼ç¼–è¯‘å™¨ç¨‹åºçš„è¿è¡Œã€‚ç¼–è¯‘å™¨æœ¬èº«æ˜¯ä¸€ä¸ªjavaç¨‹åº <code>com.sun.tools.javac.main.JavaCompiler</code>, è¯¥ç±»å®Œæˆ java æºæ–‡ä»¶ çš„ Parserã€Annotation processã€æ£€æŸ¥ã€æ³›å‹å¤„ç†ã€è¯­æ³•è½¬æ¢ç­‰ï¼Œæœ€ç»ˆèƒœå‡º Class æ–‡ä»¶ã€‚</p>
<p>Java å­—èŠ‚ç æ–‡ä»¶ä¸»ä½“ç»“æ„: </p>
<table>
<thead>
<tr>
<th><strong>Class æ–‡ä»¶å¤´éƒ¨</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td>Constant pool</td>
<td></td>
</tr>
<tr>
<td>å½“å‰Clasçš„æè¿°ä¿¡æ¯</td>
<td></td>
</tr>
<tr>
<td>å±æ€§åˆ—è¡¨</td>
<td></td>
</tr>
<tr>
<td>æ–¹æ³•åˆ—è¡¨</td>
<td></td>
</tr>
<tr>
<td>â€¦</td>
<td></td>
</tr>
</tbody>
</table>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[Decision Tree Model]]></title>
      <url>http://iequa.com/2016/08/16/ml-decisionTree-model/</url>
      <content type="html"><![CDATA[<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js"],
    jax: ["input/TeX"],
    tex2jax: {
      inlineMath: [ ['$','$'], ['\\(','\\)'] ],
      displayMath: [ ['$$','$$']],
      processEscapes: true
    }
  });
</script>
<script type="text/javascript" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS_HTML,http://myserver.com/MathJax/config/local/local.js">
</script>

<p><strong>Data Mining</strong></p>
<ul>
<li>æŒ–æ˜ç›®æ ‡</li>
<li>æ•°æ®å–æ ·</li>
<li>æ•°æ®æ¢ç´¢</li>
<li>æ•°æ®é¢„å¤„ç†</li>
<li><code>æŒ–æ˜å»ºæ¨¡</code></li>
<li>æ¨¡å‹è¯„ä»·</li>
</ul>
<p>åˆ†ç±»é—®é¢˜ : å†³ç­–æ ‘ç®—æ³•ã€æœ´ç´ è´å¶æ–¯ã€æ”¯æŒå‘é‡æœºã€BPç¥ç»ç½‘ç»œã€æ‡’æƒ°å­¦ä¹ ç®—æ³•ã€éšæœºæ£®æ—ä¸è‡ªé€‚åº”å¢å¼ºç®—æ³•ã€åˆ†ç±»æ¨¡å‹é€‰æ‹©å’Œç»“æœè¯„ä»·</p>
<h2 id="1-Classification-Introduce"><a href="#1-Classification-Introduce" class="headerlink" title="1. Classification Introduce"></a>1. Classification Introduce</h2><blockquote>
<p>åˆ†ç±»æœ‰ç€å¹¿æ³›çš„åº”ç”¨ï¼Œå¦‚åŒ»å­¦ç–¾ç—…åˆ¤åˆ«ã€åƒåœ¾é‚®ä»¶è¿‡æ»¤ã€åƒåœ¾çŸ­ä¿¡æ‹¦æˆªã€å®¢æˆ·åˆ†æç­‰ç­‰ã€‚åˆ†ç±»é—®é¢˜å¯ä»¥åˆ†ä¸ºä¸¤ç±»</p>
</blockquote>
<h3 id="1-1-å½’ç±»-ç¦»æ•£"><a href="#1-1-å½’ç±»-ç¦»æ•£" class="headerlink" title="1.1 å½’ç±» : ç¦»æ•£"></a>1.1 å½’ç±» : ç¦»æ•£</h3><p>å½’ç±» æ˜¯æŒ‡å¯¹<code>ç¦»æ•£æ•°æ®</code>çš„åˆ†ç±»ï¼Œæ¯”å¦‚å¯¹æ ¹æ®ä¸€ä¸ªäººçš„ç¬”è¿¹åˆ¤åˆ«è¿™ä¸ªæ˜¯ç”·è¿˜æ˜¯å¥³ï¼Œè¿™é‡Œçš„ Category åªæœ‰ä¸¤ä¸ªï¼Œç±»åˆ«æ˜¯ç¦»æ•£çš„é›†åˆç©ºé—´{ç”·ï¼Œå¥³}çš„ã€‚</p>
<h3 id="1-2-é¢„æµ‹-è¿ç»­"><a href="#1-2-é¢„æµ‹-è¿ç»­" class="headerlink" title="1.2 é¢„æµ‹ : è¿ç»­"></a>1.2 é¢„æµ‹ : è¿ç»­</h3><p>é¢„æµ‹ æ˜¯æŒ‡å¯¹<code>è¿ç»­æ•°æ®</code>çš„åˆ†ç±»ï¼Œæ¯”å¦‚é¢„æµ‹æ˜å¤©8ç‚¹å¤©æ°”çš„æ¹¿åº¦æƒ…å†µï¼Œå¤©æ°”çš„æ¹¿åº¦åœ¨éšæ—¶å˜åŒ–ï¼Œ8ç‚¹æ—¶çš„å¤©æ°”æ˜¯ä¸€ä¸ªå…·ä½“å€¼ï¼Œå®ƒä¸å±äºæŸä¸ªæœ‰é™é›†åˆç©ºé—´ã€‚é¢„æµ‹ä¹Ÿå«å›å½’åˆ†æï¼Œåœ¨é‡‘èé¢†åŸŸæœ‰ç€å¹¿æ³›åº”ç”¨ã€‚</p>
<blockquote>
<p>è™½ç„¶å¯¹ç¦»æ•£æ•°æ®å’Œè¿ç»­æ•°æ®çš„å¤„ç†æ–¹å¼æœ‰æ‰€ä¸åŒï¼Œä½†å…¶å®ä»–ä»¬ä¹‹é—´ç›¸äº’è½¬åŒ–ï¼Œæ¯”å¦‚æˆ‘ä»¬å¯ä»¥æ ¹æ®æ¯”è¾ƒçš„æŸä¸ªç‰¹å¾å€¼åˆ¤æ–­ï¼Œå¦‚æœå€¼å¤§äº0.5å°±è®¤å®šä¸ºç”·æ€§ï¼Œå°äºç­‰äº0.5å°±è®¤ä¸ºæ˜¯å¥³æ€§ï¼Œè¿™æ ·å°±è½¬åŒ–ä¸ºè¿ç»­å¤„ç†æ–¹å¼ï¼›å°†å¤©æ°”æ¹¿åº¦å€¼åˆ†æ®µå¤„ç†ä¹Ÿå°±è½¬åŒ–ä¸ºç¦»æ•£æ•°æ®ã€‚</p>
</blockquote>
<p><strong>æ•°æ®åˆ†ç±»</strong> åˆ†ä¸¤ä¸ªæ­¥éª¤ï¼š</p>
<ol>
<li>æ„é€ æ¨¡å‹ï¼Œåˆ©ç”¨è®­ç»ƒæ•°æ®é›† è®­ç»ƒ åˆ†ç±»å™¨ï¼›</li>
<li>åˆ©ç”¨å»ºå¥½çš„åˆ†ç±»å™¨æ¨¡å‹å¯¹æµ‹è¯•æ•°æ®è¿›è¡Œåˆ†ç±»ã€‚</li>
</ol>
<blockquote>
<p>å¥½çš„åˆ†ç±»å™¨å…·æœ‰å¾ˆå¥½çš„æ³›åŒ–èƒ½åŠ›ï¼Œå³å®ƒä¸ä»…åœ¨è®­ç»ƒæ•°æ®é›†ä¸Šèƒ½è¾¾åˆ°å¾ˆé«˜çš„æ­£ç¡®ç‡ï¼Œè€Œä¸”èƒ½åœ¨æœªè§è¿‡å¾—æµ‹è¯•æ•°æ®é›†ä¹Ÿèƒ½è¾¾åˆ°è¾ƒé«˜çš„æ­£ç¡®ç‡ã€‚å¦‚æœä¸€ä¸ªåˆ†ç±»å™¨åªæ˜¯åœ¨è®­ç»ƒæ•°æ®ä¸Šè¡¨ç°ä¼˜ç§€ï¼Œä½†åœ¨æµ‹è¯•æ•°æ®ä¸Šè¡¨ç°ç¨€çƒ‚ï¼Œè¿™ä¸ªåˆ†ç±»å™¨å°±å·²ç»è¿‡æ‹Ÿåˆäº†ï¼Œå®ƒåªæ˜¯æŠŠè®­ç»ƒæ•°æ®è®°ä¸‹æ¥äº†ï¼Œå¹¶æ²¡æœ‰æŠ“åˆ°æ•´ä¸ªæ•°æ®ç©ºé—´çš„ç‰¹å¾ã€‚</p>
</blockquote>
<h2 id="2-Decision-Treeâ€™-Classification"><a href="#2-Decision-Treeâ€™-Classification" class="headerlink" title="2. Decision Treeâ€™ Classification"></a>2. Decision Treeâ€™ Classification</h2><p>ä»£è¡¨æ€§çš„ä¾‹å­è¯´æ˜ :</p>
<table>
<thead>
<tr>
<th>ID</th>
<th>é˜´æ™´(F)</th>
<th>æ¸©åº¦(F)</th>
<th>æ¹¿åº¦(F)</th>
<th>åˆ®é£(F)</th>
<th>æ˜¯å¦ç©ï¼ˆCï¼‰</th>
</tr>
</thead>
<tbody>
<tr>
<td>1</td>
<td>sunny</td>
<td>hot</td>
<td>high</td>
<td>false</td>
<td>å¦</td>
</tr>
<tr>
<td>2</td>
<td>sunny</td>
<td>hot</td>
<td>high</td>
<td>true</td>
<td>å¦</td>
</tr>
<tr>
<td>3</td>
<td>overcast</td>
<td>hot</td>
<td>high</td>
<td>false</td>
<td>æ˜¯</td>
</tr>
<tr>
<td>4</td>
<td>rainy</td>
<td>mild</td>
<td>high</td>
<td>false</td>
<td>æ˜¯</td>
</tr>
<tr>
<td>5</td>
<td>rainy</td>
<td>cool</td>
<td>normal</td>
<td>false</td>
<td>æ˜¯</td>
</tr>
<tr>
<td>6</td>
<td>rainy</td>
<td>cool</td>
<td>normal</td>
<td>true</td>
<td>å¦</td>
</tr>
<tr>
<td>7</td>
<td>overcast</td>
<td>cool</td>
<td>normal</td>
<td>true</td>
<td>æ˜¯</td>
</tr>
<tr>
<td>8</td>
<td>sunny</td>
<td>mild</td>
<td>high</td>
<td>false</td>
<td>å¦</td>
</tr>
<tr>
<td>9</td>
<td>sunny</td>
<td>cool</td>
<td>normal</td>
<td>false</td>
<td>æ˜¯</td>
</tr>
<tr>
<td>10</td>
<td>rainy</td>
<td>mild</td>
<td>normal</td>
<td>false</td>
<td>æ˜¯</td>
</tr>
<tr>
<td>11</td>
<td>sunny</td>
<td>mild</td>
<td>normal</td>
<td>true</td>
<td>æ˜¯</td>
</tr>
<tr>
<td>12</td>
<td>overcast</td>
<td>mild</td>
<td>high</td>
<td>true</td>
<td>æ˜¯</td>
</tr>
<tr>
<td>13</td>
<td>overcast</td>
<td>hot</td>
<td>normal</td>
<td>false</td>
<td>æ˜¯</td>
</tr>
<tr>
<td>14</td>
<td>rainy</td>
<td>mild</td>
<td>high</td>
<td>true</td>
<td>å¦</td>
</tr>
</tbody>
</table>
<p>åˆ©ç”¨ID3ç®—æ³•ä¸­çš„ Info Gain Feature Selectionï¼Œé€’å½’çš„å­¦ä¹ ä¸€æ£µå†³ç­–æ ‘ï¼Œå¾—åˆ°æ ‘ç»“æ„å¦‚ä¸‹</p>
<p><img src="/images/model-dt02.png" width="560" height="400" img=""></p>
<blockquote>
<p>å†³ç­–æ ‘ï¼ˆdecision treeï¼‰æ˜¯ä¸€ä¸ªæ ‘ç»“æ„ï¼ˆå¯ä»¥æ˜¯äºŒå‰æ ‘æˆ–éäºŒå‰æ ‘ï¼‰ã€‚å…¶æ¯ä¸ªéå¶èŠ‚ç‚¹è¡¨ç¤ºä¸€ä¸ªFeatureå±æ€§ä¸Šçš„æµ‹è¯•ï¼Œæ¯ä¸ªåˆ†æ”¯ä»£è¡¨è¿™ä¸ªFeatureå±æ€§åœ¨æŸä¸ªå€¼åŸŸä¸Šçš„è¾“å‡ºï¼Œè€Œæ¯ä¸ªå¶èŠ‚ç‚¹å­˜æ”¾ä¸€ä¸ª Category ã€‚ä½¿ç”¨ DT è¿›è¡Œå†³ç­–çš„è¿‡ç¨‹å°±æ˜¯ä» root å¼€å§‹ï¼Œæµ‹è¯•å¾…åˆ†ç±»é¡¹ä¸­ç›¸åº”çš„ Feature å±æ€§ï¼Œå¹¶æŒ‰ç…§å…¶å€¼é€‰æ‹©è¾“å‡ºåˆ†æ”¯ï¼Œç›´åˆ°åˆ°è¾¾å¶å­èŠ‚ç‚¹ï¼Œå°†å¶å­èŠ‚ç‚¹å­˜æ”¾çš„ Category ä½œä¸ºå†³ç­–ç»“æœã€‚</p>
</blockquote>
<p>Feature Selectionï¼Œå¦‚ä½•é‡åŒ–æœ€ä¼˜Feature? <code>-&gt;</code> å¯¼è‡´ DT Algorithm å‡ºç°äº† ID3ã€C4.5ã€C5.0ã€CART ç­‰ã€‚</p>
<h2 id="3-Decision-Treeâ€™-Build"><a href="#3-Decision-Treeâ€™-Build" class="headerlink" title="3. Decision Treeâ€™ Build"></a>3. Decision Treeâ€™ Build</h2><p>æ„é€  Decision Tree çš„å…³é”®æ­¥éª¤æ˜¯åˆ†è£‚å±æ€§ã€‚æ‰€è°“åˆ†è£‚å±æ€§å°±æ˜¯åœ¨æŸä¸ªèŠ‚ç‚¹å¤„æŒ‰ç…§æŸä¸€ç‰¹å¾å±æ€§çš„ä¸åŒåˆ’åˆ†æ„é€ ä¸åŒçš„åˆ†æ”¯ï¼Œå…¶ç›®æ ‡æ˜¯è®©å„ä¸ªåˆ†è£‚å­é›†å°½å¯èƒ½åœ°â€œçº¯â€ã€‚å°½å¯èƒ½â€œçº¯â€å°±æ˜¯å°½é‡è®©ä¸€ä¸ªåˆ†è£‚å­é›†ä¸­å¾…åˆ†ç±»é¡¹å±äºåŒä¸€ç±»åˆ«ã€‚</p>
<blockquote>
<p>æ„é€ å†³ç­–æ ‘çš„è¿‡ç¨‹æœ¬è´¨ä¸Šå°±æ˜¯æ ¹æ® <strong>data-feature</strong> å°† æ•°æ®é›†(D) åˆ†ç±»çš„é€’å½’è¿‡ç¨‹ï¼Œæˆ‘ä»¬éœ€è¦è§£å†³çš„ç¬¬ä¸€ä¸ªé—®é¢˜å°±æ˜¯ï¼Œ<strong>å½“å‰ æ•°æ®é›†(D) ä¸Šå“ªä¸ª Feature åœ¨åˆ’åˆ†æ•°æ®åˆ†ç±»æ—¶èµ·å†³å®šæ€§ä½œç”¨</strong></p>
</blockquote>
<h3 id="3-1-æ„é€ -DT-æµç¨‹"><a href="#3-1-æ„é€ -DT-æµç¨‹" class="headerlink" title="3.1 æ„é€  DT æµç¨‹"></a>3.1 æ„é€  DT æµç¨‹</h3><p>è®­ç»ƒæ•°æ®é›† $D = \{ (x^{(1)}ï¼Œy^{(1)}) ï¼Œ (x^{(2)}ï¼Œy^{(2)})ï¼Œ â‹¯ ï¼Œ (x^{(m)}ï¼Œy^{(m)}) \}$ (Featureç”¨ç¦»æ•£å€¼è¡¨ç¤º)<br>å€™é€‰ç‰¹å¾é›† $F = \{f^1ï¼Œf^2ï¼Œ â‹¯ï¼Œf^n \}$</p>
<p>å¼€å§‹å»ºç«‹ RootèŠ‚ç‚¹ï¼Œå°†æ‰€æœ‰è®­ç»ƒæ•°æ®éƒ½ç½®äºæ ¹èŠ‚ç‚¹ï¼ˆ$m$æ¡æ ·æœ¬ï¼‰ã€‚ä» featureé›†åˆ $F$ ä¸­é€‰æ‹©ä¸€ä¸ªæœ€ä¼˜ç‰¹å¾ $f^âˆ—$ï¼ŒæŒ‰ç…§ $f^âˆ—$ å–å€¼å°† è®­ç»ƒæ•°æ®é›†(D) åˆ‡åˆ†æˆè‹¥å¹²å­é›†ï¼Œä½¿å¾—å„ä¸ªè‡ªå·±æœ‰ä¸€ä¸ªåœ¨å½“å‰æ¡ä»¶ä¸‹æœ€å¥½çš„åˆ†ç±»ã€‚</p>
<p>å¦‚æœå­é›†ä¸­æ ·æœ¬ç±»åˆ«åŸºæœ¬ç›¸åŒï¼Œé‚£ä¹ˆæ„å»ºå¶èŠ‚ç‚¹ï¼Œå¹¶å°†æ•°æ®å­é›†åˆ’åˆ†ç»™å¯¹åº”çš„å¶èŠ‚ç‚¹ï¼›å¦‚æœå­é›†ä¸­æ ·æœ¬ç±»åˆ«å·®å¼‚è¾ƒå¤§ï¼Œä¸èƒ½è¢«åŸºæœ¬æ­£ç¡®åˆ†ç±»ï¼Œéœ€è¦åœ¨å‰©ä¸‹çš„ç‰¹å¾é›†åˆ $ï¼ˆFâˆ’{f^âˆ—}ï¼‰$ ä¸­é€‰æ‹©æ–°çš„æœ€ä¼˜ç‰¹å¾ï¼Œç»§ç»­å¯¹æ•°æ®å­é›†è¿›è¡Œåˆ‡åˆ†ã€‚å¦‚æ­¤é€’å½’åœ°è¿›è¡Œä¸‹å»ï¼Œç›´è‡³æ‰€æœ‰æ•°æ®è‡ªå·±éƒ½èƒ½è¢«åŸºæœ¬æ­£ç¡® Categoryï¼Œæˆ–è€…æ²¡æœ‰åˆé€‚çš„æœ€ä¼˜ç‰¹å¾ä¸ºæ­¢ã€‚</p>
<p>è¿™æ ·æœ€ç»ˆç»“æœæ˜¯æ¯ä¸ªå­é›†éƒ½è¢«åˆ†åˆ°å¶èŠ‚ç‚¹ä¸Šï¼Œå¯¹åº”ç€ä¸€ä¸ªæ˜ç¡®çš„ç±»åˆ«ã€‚é‚£ä¹ˆï¼Œé€’å½’ç”Ÿæˆçš„å±‚çº§ç»“æ„å³ä¸ºä¸€æ£µ DTã€‚</p>
<h3 id="3-2-ä¼ªä»£ç æ„é€ -DT"><a href="#3-2-ä¼ªä»£ç æ„é€ -DT" class="headerlink" title="3.2 ä¼ªä»£ç æ„é€  DT"></a>3.2 ä¼ªä»£ç æ„é€  DT</h3><p>  è¾“å…¥ : è®­ç»ƒæ•°æ®é›† $D = \{ (x^{(1)}ï¼Œy^{(1)}) ï¼Œ (x^{(2)}ï¼Œy^{(2)})ï¼Œ â‹¯ ï¼Œ (x^{(m)}ï¼Œy^{(m)}) \}$(Featureç”¨ç¦»æ•£å€¼è¡¨ç¤º)<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;å€™é€‰ç‰¹å¾é›† $F = \{f^1ï¼Œf^2ï¼Œ â‹¯ï¼Œf^n \}$</p>
<p>  è¾“å‡º : T(D, F)</p>
<p><img src="/images/model-dt-03.png" width="760" height="400" img=""></p>
<p>å†³ç­–æ ‘å­¦ä¹ è¿‡ç¨‹ä¸­é€’å½’çš„æ¯ä¸€æ­¥ï¼Œåœ¨é€‰æ‹©æœ€ä¼˜ç‰¹å¾åï¼Œæ ¹æ®ç‰¹å¾å–å€¼åˆ‡å‰²å½“å‰èŠ‚ç‚¹çš„æ•°æ®é›†ï¼Œå¾—åˆ°è‹¥å¹²æ•°æ®å­é›†ã€‚<br>ç®—æ³•çš„æ—¶é—´å¤æ‚åº¦æ˜¯O(k<em>|D|</em>log(|D|))ï¼Œkä¸ºå±æ€§ä¸ªæ•°ï¼Œ|D|ä¸ºè®°å½•é›†Dçš„è®°å½•æ•°ã€‚</p>
<h2 id="4-Feature-Selection"><a href="#4-Feature-Selection" class="headerlink" title="4. Feature Selection"></a>4. Feature Selection</h2><p>é€’å½’åœ°é€‰æ‹©æœ€ä¼˜featureï¼Œæ ¹æ®featureå–å€¼åˆ‡å‰²æ•°æ®é›†ï¼Œä½¿å¾—å¯¹åº”çš„æ•°æ®å­é›†æœ‰ä¸€ä¸ªè¾ƒå¥½çš„åˆ†ç±»ã€‚ä»ä¼ªä»£ç ä¸­ä¹Ÿå¯ä»¥çœ‹å‡ºï¼Œåœ¨å†³ç­–æ ‘å­¦ä¹ è¿‡ç¨‹ä¸­ï¼Œæœ€é‡è¦çš„æ˜¯ç¬¬07è¡Œï¼Œå³å¦‚ä½•é€‰æ‹©æœ€ä¼˜featureï¼Ÿä¹Ÿå°±æ˜¯æˆ‘ä»¬å¸¸è¯´çš„featureé€‰æ‹©é—®é¢˜ã€‚</p>
<p>åœ¨è¿™é‡Œï¼Œå¸Œæœ›éšç€featureé€‰æ‹©è¿‡ç¨‹åœ°ä¸æ–­è¿›è¡Œï¼Œå†³ç­–æ ‘çš„åˆ†æ”¯èŠ‚ç‚¹æ‰€åŒ…å«çš„æ ·æœ¬å°½å¯èƒ½å±äºåŒä¸€ç±»åˆ«ï¼Œå³å¸Œæœ›èŠ‚ç‚¹çš„â€çº¯åº¦ï¼ˆpurityï¼‰â€è¶Šæ¥è¶Šé«˜ã€‚</p>
<blockquote>
<p>å¦‚å­é›†ä¸­çš„æ ·æœ¬éƒ½å±äºåŒä¸€ä¸ªç±»åˆ«ï¼Œæ˜¯æœ€å¥½çš„ç»“æœï¼›å¦‚æœè¯´å¤§å¤šæ•°çš„æ ·æœ¬ç±»å‹ç›¸åŒï¼Œåªæœ‰å°‘éƒ¨åˆ†æ ·æœ¬ä¸åŒï¼Œä¹Ÿå¯ä»¥æ¥å—ã€‚</p>
</blockquote>
<p>é‚£ä¹ˆå¦‚ä½•æ‰èƒ½åšåˆ°é€‰æ‹©çš„ç‰¹å¾å¯¹åº”çš„æ ·æœ¬å­é›†çº¯åº¦æœ€é«˜å‘¢ï¼Ÿ</p>
<table>
<thead>
<tr>
<th>Algorithm</th>
<th>Feature é€‰æ‹©æ–¹æ³•</th>
<th>Author</th>
</tr>
</thead>
<tbody>
<tr>
<td>ID3</td>
<td>Information gain</td>
<td>Quinlan. 1986</td>
</tr>
<tr>
<td>C4.5</td>
<td>Gain ratio</td>
<td>Quinlan. 1993.</td>
</tr>
<tr>
<td>CART</td>
<td>å›å½’æ ‘ï¼š æœ€å°äºŒä¹˜<br>åˆ†ç±»æ ‘ï¼š åŸºå°¼æŒ‡æ•° Gini index</td>
<td>Breiman. 1984<br>(Classification and Regression Tree åˆ†ç±»ä¸å›å½’æ ‘)</td>
</tr>
</tbody>
</table>
<blockquote>
<p>ID3 (Iterative Dichotomiser)</p>
</blockquote>
<h3 id="4-1-Information-Gain"><a href="#4-1-Information-Gain" class="headerlink" title="4.1 Information Gain"></a>4.1 Information Gain</h3><p>ä¿¡æ¯å¢ç›Šï¼ˆInformation Gainï¼‰è¡¡é‡ Feature çš„é‡è¦æ€§æ˜¯æ ¹æ®å½“å‰ Feature ä¸ºåˆ’åˆ†å¸¦æ¥å¤šå°‘ä¿¡æ¯é‡ï¼Œå¸¦æ¥çš„ä¿¡æ¯è¶Šå¤šï¼Œè¯¥ Feature å°±è¶Šé‡è¦ï¼Œæ­¤æ—¶èŠ‚ç‚¹çš„â€çº¯åº¦â€ä¹Ÿå°±è¶Šé«˜ã€‚</p>
<p><a href="/2016/08/18/ml-entropy-base/">Infomation Entropy</a></p>
<blockquote>
<p>å¯¹ä¸€ä¸ªåˆ†ç±»ç³»ç»Ÿæ¥è¯´ï¼Œå‡è®¾ç±»åˆ« $C$ å¯èƒ½çš„å–å€¼ä¸º $c_1ï¼Œc_2ï¼Œâ‹¯ï¼Œc_k$ï¼ˆ$k$æ˜¯ç±»åˆ«æ€»æ•°ï¼‰ï¼Œæ¯ä¸€ä¸ªç±»åˆ«å‡ºç°çš„æ¦‚ç‡åˆ†åˆ«æ˜¯ $p(c_1)ï¼Œp(c_2)ï¼Œâ‹¯ï¼Œp(c_k)$ã€‚æ­¤æ—¶ï¼Œåˆ†ç±»ç³»ç»Ÿçš„ Entropy å¯ä»¥è¡¨ç¤ºä¸º:</p>
<p>$$<br>info(C) = -  \sum_{i=1}^k p(c_i) \cdot log_2 p(c_i) \qquad (fml.4.1.1)<br>$$</p>
<p>åˆ†ç±»ç³»ç»Ÿçš„ä½œç”¨å°±æ˜¯è¾“å‡ºä¸€ä¸ªç‰¹å¾å‘é‡ï¼ˆæ–‡æœ¬ç‰¹å¾ã€IDç‰¹å¾ ç­‰ï¼‰å±äºå“ªä¸ª Category çš„å€¼ï¼Œè€Œè¿™ä¸ªå€¼å¯èƒ½æ˜¯ $c_1ï¼Œc_2ï¼Œâ‹¯ï¼Œc_k$ ï¼Œå› æ­¤è¿™ä¸ªå€¼æ‰€æºå¸¦çš„ä¿¡æ¯é‡å°±æ˜¯ (fml.4.1.1) å…¬å¼è¿™ä¹ˆå¤š</p>
</blockquote>
<p><strong>Condition Entropy</strong></p>
<p>å‡è®¾ ç¦»æ•£ç‰¹å¾ $f$ çš„å–å€¼æœ‰ $I$ ä¸ªï¼Œ$info(C|f=f_i)$ è¡¨ç¤ºç‰¹å¾ $f$ è¢«å–å€¼ä¸º $f_i$ æ—¶çš„<strong><em>Condition Entropy</em></strong>ï¼› $info(C|f)$ æ˜¯æŒ‡ç‰¹å¾ $f$ è¢«å›ºå®šæ—¶çš„ <strong><em>Condition Entropy</em></strong>ã€‚äºŒè€…ä¹‹é—´çš„å…³ç³»æ˜¯ï¼š</p>
<blockquote>
<p>$$<br>\begin{align}<br>info(C|f) &amp; = p_1 \cdot info(C|f=f_1) + p_2 \cdot info(C|f=f_2) + â€¦ + p_k \cdot info(C|f=f_{k}) \\ &amp; = \sum_{i=1}^{I} p_i \cdot info(C|f=f_i) \end{align}  \quad (fml.4.1.2)<br>$$<br>å‡è®¾æ€»æ ·æœ¬æ•°æœ‰ $m$ æ¡ï¼Œç‰¹å¾ $f=f_i$ æ—¶çš„æ ·æœ¬æ•° $m_iï¼Œp_i=\frac{m_i}{m}$.</p>
</blockquote>
<p><strong>å¦‚ä½•æ±‚ $P(C|f=f_i)$</strong> ?</p>
<blockquote>
<p>äºŒåˆ†ç±»æƒ…å†µ :</p>
<p>ä»¥äºŒåˆ†ç±»ä¸ºä¾‹ï¼ˆæ­£ä¾‹ä¸º1ï¼Œè´Ÿä¾‹ä¸º0ï¼‰ï¼Œæ€»æ ·æœ¬æ•°ä¸º $m$ æ¡ï¼Œç‰¹å¾ $f$ çš„å–å€¼ä¸º $I$ ä¸ªï¼Œå…¶ä¸­ç‰¹å¾ $f=f_i$ å¯¹åº”çš„æ ·æœ¬æ•°ä¸º $m_i$ æ¡ï¼Œå…¶ä¸­æ­£ä¾‹ $m_{i1}$ æ¡ï¼Œè´Ÿä¾‹ $m_{i0}$ æ¡ $m_i = m_{i0} + m_{i1}$ ã€‚é‚£ä¹ˆæœ‰ï¼š</p>
<p>$$<br>\begin{align} info(C|f=f_i) &amp; = - \frac{m_{i1}}{m_i} \cdot log_{2} \frac{m_{i1}}{m_i} - \frac{m_{i0}}{m_i} \cdot log_{2} \frac{m_{i0}}{m_i} \end{align} \qquad (fml.4.1.3)<br>$$<br>å¤šåˆ†ç±»æƒ…å†µ:</p>
<p>$$<br>\begin{align} info(C|f=f_i) = -\sum_{j=0}^{k-1} \frac{m_{ij}}{m_i} \cdot log_{2} \frac{m_{ij}}{m_i} \end{align} \qquad (fml.4.1.4)<br>$$</p>
<p>å…¬å¼$\frac{m_{ij}}{m_i}$ç‰©ç†å«ä¹‰æ˜¯å½“ $f=f_i$ ä¸” $C=c_j$ çš„æ¦‚ç‡ï¼Œå³æ¡ä»¶æ¦‚ç‡ $p(c_j|f_i)$</p>
<p>å› æ­¤ï¼Œ<strong><em>Condition Entropy</em></strong> è®¡ç®—å…¬å¼ä¸ºï¼š</p>
<p>$$<br>\begin{align} info(C|f) &amp; = \sum_{i=1}^{I} p(f_i) \cdot info(C|f=f_i) \\ &amp; = - \sum_{i=1}^{I} p(f_i) \cdot \underline { \sum_{j=0}^{k-1} p(c_j|f_i) \cdot log_2 p(c_j|f_i) } \qquad (fml.4.1.5)<br>\end{align}<br>$$</p>
</blockquote>
<p>ç‰¹å¾ $f$ ç»™ç³»ç»Ÿå¸¦æ¥çš„ info gain ç­‰äºç³»ç»ŸåŸæœ‰çš„ Entropy ä¸å›ºå®šç‰¹å¾ $f$ çš„ <strong><em>Condition Entropy</em></strong> ä¹‹å·®ï¼Œå…¬å¼è¡¨ç¤ºå¦‚ä¸‹:</p>
<blockquote>
<p>$$<br>\begin{align} IG(F) &amp; = E(C) - E(C|F) \\ &amp; = -\sum_{i=1}^{k} p(c_i) \cdot \log_{2} p(c_i) + \sum_{i=1}^{I} p(f_i) \cdot \underline { \sum_{j=0}^{k-1} p(c_j|f_i) \cdot log_2 p(c_j|f_i) } \end{align}  \qquad (fml.4.1.6)<br>$$</p>
<p>$n$ è¡¨ç¤ºç‰¹å¾ $f$ å–å€¼ä¸ªæ•°ï¼Œ$k$ è¡¨ç¤ºç±»åˆ« $C$ ä¸ªæ•°ï¼Œ$\sum_{j=0}^{n-1} \frac{m_{ij}}{m_i} \cdot log_{2} \frac{m_{ij}}{m_i}$ è¡¨ç¤ºæ¯ä¸€ä¸ªç±»åˆ«å¯¹åº”çš„ Entropy ã€‚</p>
</blockquote>
<hr>
<p><strong>ä¸‹é¢ä»¥å¤©æ°”æ•°æ®ä¸ºä¾‹,é€šè¿‡ <code>Info gain</code> é€‰æ‹©æœ€ä¼˜ feature çš„è¿‡ç¨‹ :</strong></p>
<blockquote>
<p>æ ¹æ® é˜´æ™´ã€æ¸©åº¦ã€æ¹¿åº¦ å’Œ åˆ®é£ æ¥å†³å®šæ˜¯å¦å‡ºå»ç©ã€‚æ ·æœ¬ä¸­æ€»å…±æœ‰ 14 æ¡è®°å½•ï¼Œå–å€¼ä¸º <code>æ˜¯</code>(9ä¸ªæ­£æ ·æœ¬)ã€<code>å¦</code>(5ä¸ªè´Ÿæ ·æœ¬)ï¼Œç”¨ $S(9+,5âˆ’)$ è¡¨ç¤º.</p>
<p>(1). åˆ†ç±»ç³»ç»Ÿçš„ Entropy :<br>$$<br>Entropy(S) = info(9,5) = (-\frac{9}{14} _ llog_2 (\frac{9}{14})) + (- \frac{5}{14} _ llog_2 (\frac{5}{14})) = 0.940ä½   \quad (exp.4.1.1)<br>$$<br>(2). å¦‚æœä»¥ç‰¹å¾â€é˜´æ™´â€ä½œä¸ºæ ¹èŠ‚ç‚¹ã€‚â€œé˜´æ™´â€å–å€¼ä¸º{sunny, overcast, rainy}, åˆ†åˆ«å¯¹åº”çš„æ­£è´Ÿæ ·æœ¬æ•°åˆ†åˆ«ä¸º(2+,3-), (4+,0-), (3+,2-)ï¼Œé‚£ä¹ˆåœ¨è¿™ä¸‰ä¸ªèŠ‚ç‚¹ä¸Šçš„ info Entropy åˆ†åˆ«ä¸ºï¼š<br>$$<br>\begin{align} &amp; Entropy(S| â€œé˜´æ™´â€=sunny) = info(2,3) = 0.971ä½  \quad(exp.4.1.1) \\ &amp; Entropy(S| â€œé˜´æ™´â€=overcast) = info(4,0) = 0ä½  \;\;\quad(exp.4.1.2) \\ &amp; Entropy(S| â€œé˜´æ™´â€=rainy) = info(3,2) = 0.971ä½  \;\quad(exp.4.1.3) \end{align}<br>$$</p>
<p>ä»¥ Feature â€œé˜´æ™´â€ ä¸ºæ ¹èŠ‚ç‚¹ï¼Œå¹³å‡ä¿¡æ¯å€¼ï¼ˆå³ <strong>Condition Entropy</strong>ï¼‰ä¸ºï¼š<br>$$<br>Entropy(S|â€œé˜´æ™´â€) = \frac{5}{14} * 0.971 + \frac{4}{14} * 0 + \frac{5}{14} * 0.971 = 0.693ä½ \quad (exp.4.1.4)<br>$$</p>
<p>ä»¥ Feature â€œé˜´æ™´â€ ä¸ºæ¡ä»¶ï¼Œè®¡ç®—å¾—åˆ°çš„ <strong>Condition Entropy</strong> ä»£è¡¨äº†æœŸæœ›çš„ä¿¡æ¯æ€»é‡ï¼Œå³å¯¹äºä¸€ä¸ªæ–°æ ·æœ¬åˆ¤å®šå…¶å±äºå“ªä¸ªç±»åˆ«æ‰€å¿…éœ€çš„ä¿¡æ¯é‡ã€‚</p>
<p>(3). è®¡ç®—ç‰¹å¾â€œé˜´æ™´â€â€œé˜´æ™´â€å¯¹åº”çš„ä¿¡æ¯å¢ç›Š:<br>$$<br>IG( â€œé˜´æ™´â€) = Entropy(S) - Entropy(S| â€œé˜´æ™´â€) = 0.247ä½ \quad\quad(exp.4.1.5)<br>$$</p>
<p>åŒæ ·çš„è®¡ç®—æ–¹æ³•ï¼Œå¯å¾—æ¯ä¸ªç‰¹å¾å¯¹åº”çš„ä¿¡æ¯å¢ç›Šï¼Œå³<br>$$<br>IG(â€œåˆ®é£â€) = Entropy(S) - Entropy(S|â€œåˆ®é£â€) = 0.048ä½ \qquad\qquad(exp.4.1.6) \\ IG(â€œæ¹¿åº¦â€) = Entropy(S) - Entropy(S|â€œæ¹¿åº¦â€) = 0.152ä½ \qquad\qquad(exp.4.1.7) \\ IG(â€œæ¸©åº¦â€) = Entropy(S) - Entropy(S|â€œæ¸©åº¦â€) = 0.029ä½ \qquad\qquad(exp.4.1.8)<br>$$</p>
<p>æ˜¾ç„¶ï¼ŒFeature â€œé˜´æ™´â€ çš„ info gain æœ€å¤§ï¼Œäºæ˜¯æŠŠå®ƒä½œä¸ºåˆ’åˆ†ç‰¹å¾ã€‚åŸºäºâ€œé˜´æ™´â€å¯¹æ ¹èŠ‚ç‚¹è¿›è¡Œåˆ’åˆ†çš„ç»“æœï¼Œå¦‚å›¾4.5æ‰€ç¤ºï¼ˆå†³ç­–æ ‘å­¦ä¹ è¿‡ç¨‹éƒ¨åˆ†ï¼‰ã€‚å†³ç­–æ ‘å­¦ä¹ ç®—æ³•å¯¹å­èŠ‚ç‚¹è¿›ä¸€æ­¥åˆ’åˆ†ï¼Œé‡å¤ä¸Šé¢çš„è®¡ç®—æ­¥éª¤ã€‚</p>
</blockquote>
<p><img src="/images/model-dt02.png" width="560" height="400" img=""></p>
<h3 id="4-2-Gain-ratio"><a href="#4-2-Gain-ratio" class="headerlink" title="4.2 Gain ratio"></a>4.2 Gain ratio</h3><p>ä¸ Info Gain ä¸åŒï¼Œ<code>Gain ratio</code> çš„è®¡ç®—è€ƒè™‘äº† F åˆ†è£‚æ•°æ®é›†åæ‰€äº§ç”Ÿçš„å­èŠ‚ç‚¹çš„æ•°é‡å’Œè§„æ¨¡ï¼Œè€Œ<strong>å¿½ç•¥ä»»ä½•æœ‰å…³ç±»åˆ«çš„ä¿¡æ¯</strong>ã€‚</p>
<blockquote>
<p>ä»¥ info gain ç¤ºä¾‹ä¸ºä¾‹ï¼ŒæŒ‰ç…§ ç‰¹å¾â€œé˜´æ™´â€ å°†æ•°æ®é›†åˆ†è£‚æˆ3ä¸ªå­é›†ï¼Œè§„æ¨¡åˆ†åˆ«ä¸º5ã€4å’Œ5ï¼Œå› æ­¤ä¸è€ƒè™‘å­é›†ä¸­æ‰€åŒ…å«çš„ç±»åˆ«ï¼Œäº§ç”Ÿä¸€ä¸ªåˆ†è£‚ä¿¡æ¯ä¸ºï¼š</p>
<p>$$<br>SplitInfo(â€œé˜´æ™´â€) = info(5,4,5) = 1.577ä½ \qquad (exp.4.2.1)<br>$$<br><strong>Split Information Entropy</strong> å¯ç®€å•åœ°ç†è§£ä¸ºè¡¨ç¤ºä¿¡æ¯åˆ†æ”¯æ‰€éœ€è¦çš„ä¿¡æ¯é‡ã€‚ </p>
<p>é‚£ä¹ˆ Info Gain ratio ï¼š<br>$$<br>IG_{ratio}(F) = \frac {IG(F)} {SplitInfo(F)} \qquad (exp.4.2.2)<br>$$<br>åœ¨è¿™é‡Œï¼Œç‰¹å¾ â€œé˜´æ™´â€çš„ Gain ratio ä¸º $IG_{ratio}( â€œé˜´æ™´â€)=\frac{0.247}{1.577} = 0.157$ã€‚å‡å°‘ä¿¡æ¯å¢ç›Šæ–¹æ³•å¯¹å–å€¼æ•°è¾ƒå¤šçš„ç‰¹å¾çš„å½±å“ã€‚</p>
</blockquote>
<figure class="highlight py"><table><tr><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>-(math.log((<span class="number">5.0</span>/<span class="number">14.0</span>), <span class="number">2</span>) * (<span class="number">5.0</span>/<span class="number">14.0</span>) * <span class="number">2</span> + (<span class="number">4.0</span>/<span class="number">14.0</span>) * (math.log((<span class="number">4.0</span>/<span class="number">14.0</span>), <span class="number">2</span>)))</span><br><span class="line"><span class="number">1.577406282852345</span></span><br><span class="line">&gt;&gt;&gt;</span><br></pre></td></tr></table></figure>
<p>åŸºå°¼æŒ‡æ•°ï¼ˆGini Indexï¼‰æ˜¯ <code>CART</code> ä¸­åˆ†ç±»æ ‘çš„ç‰¹å¾é€‰æ‹©æ–¹æ³•. æ¥ä¸‹æ¥é‡ç‚¹ä»‹ç»</p>
<h2 id="5-CART"><a href="#5-CART" class="headerlink" title="5. CART"></a>5. CART</h2><p>åˆ†ç±»ä¸å›å½’æ ‘ï¼ˆClassification And Regression Tree, ç®€ç§° CARTï¼‰æ¨¡å‹åœ¨Tree-Basedå®¶æ—ä¸­æ˜¯åº”ç”¨æœ€å¹¿æ³›çš„å­¦ä¹ æ–¹æ³•ä¹‹ä¸€.</p>
<p>æ›´å¤šè¯·å‚è§æœ¬åšæ–‡ç«  <a href="/2016/08/24/ml-CART/">CART</a></p>
<h2 id="Reference-article"><a href="#Reference-article" class="headerlink" title="Reference article"></a>Reference article</h2><ul>
<li><a href="http://www.cnblogs.com/fengfenggirl/p/classsify_decision_tree.html" target="_blank" rel="external">é€—æ¯”ç®—æ³•å·¥ç¨‹å¸ˆ</a></li>
<li><a href="http://www.52caml.com/" target="_blank" rel="external">ç®—æ³•æ‚è´§é“º</a></li>
<li><a href="http://www.cnblogs.com/leoo2sk/archive/2010/09/19/decision-tree.html" target="_blank" rel="external">52caml</a></li>
<li>ã€Šæœºå™¨å­¦ä¹ å¯¼è®ºã€‹</li>
<li>ã€Šç»Ÿè®¡å­¦ä¹ æ–¹æ³•ã€‹</li>
<li>ã€Šæ•°æ®æŒ–æ˜ï¼å®ç”¨æœºå™¨å­¦ä¹ æŠ€æœ¯ã€‹</li>
</ul>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[Hotels]]></title>
      <url>http://iequa.com/2016/08/15/ef-l3u3-Hotels/</url>
      <content type="html"><![CDATA[<style>
img {
        display: block !important;
        width: 550px;
        margin-left: 120px !important;
}
</style>

<h2 id="1-Recommending-a-hotel"><a href="#1-Recommending-a-hotel" class="headerlink" title="1. Recommending a hotel"></a>1. Recommending a hotel</h2><ul>
<li>right downtown.</li>
<li>The rates are reasonable.</li>
</ul>
<p><img src="/images/english/ef-l3u3l1.png" alt=""></p>
<table>
<thead>
<tr>
<th><strong>Dialog</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td>[JOAN] I have a meeting there on March 15th. Can you recommend a good hotel?</td>
<td></td>
</tr>
<tr>
<td>[TODD] How about the Hotel Anna? <code>Itâ€™s right downtown</code>. The rates are reasonable.</td>
<td></td>
</tr>
<tr>
<td>[JOAN] Thanks good. How much is it a night?</td>
<td></td>
</tr>
<tr>
<td>[TODD] I think itâ€™s around 200 a night.</td>
<td></td>
</tr>
<tr>
<td>[JOAN] Not bad. <code>Is there a fitness center</code> in the hotel ?</td>
<td></td>
</tr>
<tr>
<td>[TODD] Yes, there is. Oh! And you get free wireless internet in your room. I love that.</td>
<td></td>
</tr>
<tr>
<td>[JOAN] <code>What are the rooms like</code>?</td>
<td></td>
</tr>
<tr>
<td>[TODD] Theyâ€™re nice. The bathrooms are pretty small. But theyâ€™re modern and clean.</td>
<td></td>
</tr>
<tr>
<td>[JOAN] Great! sounds perfect.</td>
<td></td>
</tr>
</tbody>
</table>
<blockquote>
<p>It isnâ€™t near the airport.<br>Itâ€™s close to shopping.<br>Every room has free wireless internet.<br>It doesnâ€™t have a business center.</p>
</blockquote>
<h2 id="2-Making-a-hotel-reservation"><a href="#2-Making-a-hotel-reservation" class="headerlink" title="2. Making a hotel reservation"></a>2. Making a hotel reservation</h2><p><img src="/images/english/ef-l3u3l2.png" alt=""></p>
<table>
<thead>
<tr>
<th>Making a hotel reservation</th>
</tr>
</thead>
<tbody>
<tr>
<td>[CLERK] Hotel Annaï¼ŒHow Can I help you?</td>
<td></td>
</tr>
<tr>
<td>[JOAN] Iâ€™d like to make a reservation please.</td>
<td></td>
</tr>
<tr>
<td>[CLERK] <code>For how many people?</code> / For how many nights?</td>
<td></td>
</tr>
<tr>
<td>[JOAN] Just me.</td>
<td></td>
</tr>
<tr>
<td>[CLERK] OK, When are you <code>checking in</code>?</td>
<td></td>
</tr>
<tr>
<td>[JOAN] Check in March 15th and check out March 19th</td>
<td></td>
</tr>
<tr>
<td>[CLERK] 15th to 19th. So, that. Would you like a single room or a double ?</td>
<td></td>
</tr>
<tr>
<td>[JOAN] A single please. Iâ€™d like to have a nonsmoking room.</td>
<td></td>
</tr>
<tr>
<td>[CLERK] Thatâ€™s no problem. <code>Would you like me to reserve it for you, now?</code></td>
<td></td>
</tr>
<tr>
<td>[JOAN] Whatâ€™s the rate?</td>
<td></td>
</tr>
<tr>
<td>[CLERK] Itâ€™s 210 a night.</td>
<td></td>
</tr>
<tr>
<td>[JOAN] OK, Yes. Please reserve it for me now. My name is Baxter.</td>
<td></td>
</tr>
<tr>
<td>[CLERK] May I have your credit card number?</td>
<td></td>
</tr>
<tr>
<td>[JOAN] Itâ€™s 3788-6672-4038-24.</td>
<td></td>
</tr>
<tr>
<td>[CLERK] Great. Just one moment â€¦ All set. Can I help you with anything else?</td>
<td></td>
</tr>
</tbody>
</table>
<h2 id="3-Checking-in-to-a-hotel"><a href="#3-Checking-in-to-a-hotel" class="headerlink" title="3. Checking in to a hotel"></a>3. Checking in to a hotel</h2><ul>
<li>suitcase</li>
<li>front desk</li>
<li>luggage</li>
<li>lobby</li>
<li>key card</li>
<li>credit card</li>
<li>elevator</li>
<li>hotel clerk</li>
<li>umbrella</li>
</ul>
<p><img src="/images/english/ef-l3u3l3.png" alt=""></p>
<table>
<thead>
<tr>
<th><strong>Dialog</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td>[CLERK] Good afternoonï¼ŒMay I help you?</td>
<td></td>
</tr>
<tr>
<td>[JOAN] Yes, <code>I&#39;m checking in</code>.</td>
<td></td>
</tr>
<tr>
<td>[CLERK] May I see your passport?</td>
<td></td>
</tr>
<tr>
<td>[JOAN] Yes, Here you are.</td>
<td></td>
</tr>
<tr>
<td>[CLERK] OK, Welcome to the hotel Ana. So thatâ€™s two people, for four nights.</td>
<td></td>
</tr>
<tr>
<td>[JOAN] Actually, itâ€™s for one person â€“ just me.</td>
<td></td>
</tr>
<tr>
<td>[CLERK] Oh, sorry about it, Ah, yes - a nonsmoking single.</td>
<td></td>
</tr>
<tr>
<td>[JOAN] Thatâ€™s right.</td>
<td></td>
</tr>
<tr>
<td>[CLERK] And <code>you&#39;re staying with us for four nights</code>, checking out on the 19th.</td>
<td></td>
</tr>
<tr>
<td>[JOAN] Yes.</td>
<td></td>
</tr>
<tr>
<td>[CLERK] OK, May I see your credit card?</td>
<td></td>
</tr>
<tr>
<td>[JOAN] Here you are.</td>
<td></td>
</tr>
<tr>
<td>[CLERK] Wonderful ! <code>You&#39;re all set</code>. Here your credit card and Passport. Hereâ€™s your key card for 1412.</td>
<td></td>
</tr>
<tr>
<td>[CLERK] <code>You can take the elevator behind you</code>. Would you like help with your luggage?</td>
<td></td>
</tr>
<tr>
<td>[JOAN] No, Thank you.</td>
<td></td>
</tr>
<tr>
<td>[CLERK] Ok, <code>Have a pleasant stay</code>. [â€˜plez(É™)nt]</td>
<td></td>
</tr>
</tbody>
</table>
<blockquote>
<p>Weâ€™re checking in on the 3rd and checking out on the 14th.<br>So, thatâ€™s one person for 10 nights.  </p>
</blockquote>
<h2 id="4-Checking-out-to-a-hotel"><a href="#4-Checking-out-to-a-hotel" class="headerlink" title="4. Checking out to a hotel"></a>4. Checking out to a hotel</h2><ul>
<li>plus room service</li>
<li>Itâ€™s not a big deal.</li>
<li>receipt</li>
</ul>
<p><img src="/images/english/ef-l3u3l4.png" alt=""></p>
<table>
<thead>
<tr>
<th><strong>Dialog</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td>[CLERK] Good morningï¼ŒMay I help you?</td>
<td></td>
</tr>
<tr>
<td>[JOAN] Yes, <code>I&#39;d like to check out</code>, please.</td>
<td></td>
</tr>
<tr>
<td>[CLERK] <code>How was your stay?</code></td>
<td></td>
</tr>
<tr>
<td>[JOAN] Pretty good, But <code>The neighborhood&#39;s a little noisy</code>.</td>
<td></td>
</tr>
<tr>
<td>[CLERK] Oh, Iâ€™m sorry to hear that..</td>
<td></td>
</tr>
<tr>
<td>[JOAN] Itâ€™s okay. I love the room. <code>The fitness center&#39;s amazing</code>.</td>
<td></td>
</tr>
<tr>
<td>[CLERK] Great! Would you like pay with your credit card?</td>
<td></td>
</tr>
<tr>
<td>[JOAN] please.</td>
<td></td>
</tr>
<tr>
<td>[CLERK] Thatâ€™s 996.</td>
<td></td>
</tr>
<tr>
<td>[JOAN] Really? That seems high.</td>
<td></td>
</tr>
<tr>
<td>[CLERK] Would you like a receipt ?</td>
<td></td>
</tr>
<tr>
<td>[JOAN] Yes, I need the receipt.</td>
<td></td>
</tr>
</tbody>
</table>
<blockquote>
<p>Your bill comes to 996.<br>The total amount is 996.<br>That doesnâ€™t seem right.<br>Iâ€™d like to review my bill, please.<br>How would you like to pay for that? </p>
</blockquote>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[ä¸­å›½äººèµ·åå­¦é—®]]></title>
      <url>http://iequa.com/2016/08/13/society-chinese-named/</url>
      <content type="html"><![CDATA[<h2 id="1-äº”è¡Œå…«å­—ä»‹ç»"><a href="#1-äº”è¡Œå…«å­—ä»‹ç»" class="headerlink" title="1. äº”è¡Œå…«å­—ä»‹ç»"></a>1. äº”è¡Œå…«å­—ä»‹ç»</h2><h3 id="1-1-äº”è¡Œ"><a href="#1-1-äº”è¡Œ" class="headerlink" title="1.1 äº”è¡Œ"></a>1.1 äº”è¡Œ</h3><p>ã€€äº”è¡Œå°±æ˜¯å‘¨æ˜“ä¸­å¸¸è¯´çš„æœ¨ã€ç«ã€åœŸã€é‡‘ã€æ°´ã€‚æ˜“ç»ä¸­å„ç±»äº‹ç‰©å‡å¯ä»¥äº”è¡Œæ¥åŒºåˆ†ï¼Œå¦‚å¹²æ”¯ã€åœ°æ”¯ã€å­£èŠ‚ã€æ–¹ä½ã€äººä½“ã€é¢œè‰²ã€å‘³é“ç­‰ç­‰ã€‚äº”è¡Œæœ‰ç›¸ç”Ÿä¸ç›¸å…‹çš„ç‰¹è´¨ï¼Œå¾ˆå¤šçš„äº‹ç‰©å¯è—‰ç”±äº”è¡Œçš„è¿ç®—ï¼Œäº†è§£å…ƒç´ ä¹‹å…´è¡°ï¼Œæ¥åˆ¤åˆ«äº‹ç‰©çš„èµ·ä¼å˜åŒ–å’Œä½ ä¸€ç”Ÿçš„å¥½åå‰å‡¶ã€‚</p>
<h3 id="1-2-ä¸‰æ‰"><a href="#1-2-ä¸‰æ‰" class="headerlink" title="1.2 ä¸‰æ‰"></a>1.2 ä¸‰æ‰</h3><p>ã€€ã€€ä¸‰æ‰é…ç½®å³å¤©ã€äººã€åœ°ã€‚ä¸­å›½ä¼ ç»Ÿæ–‡åŒ–ç†è§£äººç«‹è¶³äºå¤§åœ°ä¹‹ä¸Šï¼Œåœ¨å¤©ä¹‹ä¸‹ï¼Œå—åˆ°ä¸Šå¤©ä¹‹çœ·é¡¾ï¼Œå¤§åœ°çš„æ»‹å…»ï¼Œè€Œç”Ÿç”Ÿä¸æ¯ã€‚äº¦æœ‰é¡ºåº”å¤©æ—¶ã€åœ°åˆ©ã€äººå’Œçš„è¡Œäº‹å“²ç†ã€‚ä¸‰æ‰é…ç½®åœ¨å§“åå­¦ä¸­ï¼Œå æœ‰å¾ˆå¤§çš„åˆ†é‡ã€‚</p>
<h3 id="1-3-äº”æ ¼"><a href="#1-3-äº”æ ¼" class="headerlink" title="1.3 äº”æ ¼"></a>1.3 äº”æ ¼</h3><p>ã€€ã€€äº”æ ¼é…ç½®æ˜¯æŒ‡å¤©æ ¼ã€åœ°æ ¼ã€äººæ ¼ã€å¤–æ ¼ã€æ€»æ ¼å…±äº”æ ¼ä¹‹é—´çš„å…³ç³»ã€‚å¤©æ ¼æ˜¯ç”±ç¥–å…ˆæµä¼ è€Œæ¥ï¼Œå•ç‹¬å‡ºç°å¯¹äººç”Ÿæ²¡æœ‰å¤šå¤§å½±å“;äººæ ¼æ˜¯å§“åå‰–è±¡æ•°ç†çš„ä¸­å¿ƒæ‰€åœ¨ï¼Œå¯¹äººç”Ÿçš„å½±å“æœ€å¤§;äººæ ¼ä¸åœ°æ ¼ç»“åˆçš„æ•°ç†åˆ™ä¸ºåŸºç¡€è¿ã€‚åœ°æ ¼ä¸»è¦æ˜¯36å²å‰çš„äººç”Ÿï¼Œä¹Ÿå«å‰è¿åŠ›ï¼Œå¤–æ ¼ä»£è¡¨äººçš„å¤–å›´ï¼Œå‰å‡¶æ— è°“ã€‚æ€»æ ¼æ˜¯36å²ä»¥åçš„äººç”Ÿï¼Œä¹Ÿæ˜¯åè¿åŠ›ã€‚äº”æ ¼é…ç½®åœ¨å§“åå­¦ä¸­å æœ‰ä¸»è¦ä½ç½®ã€‚</p>
<h2 id="2-åˆ¤æ–­äº”è¡Œæ‰€ç¼º"><a href="#2-åˆ¤æ–­äº”è¡Œæ‰€ç¼º" class="headerlink" title="2. åˆ¤æ–­äº”è¡Œæ‰€ç¼º"></a>2. åˆ¤æ–­äº”è¡Œæ‰€ç¼º</h2><blockquote>
<p>èµ·åå­—ï¼Œéœ€è¦æ ¹æ®äº”è¡Œå…«å­—æ‰€ç¼ºå°‘çš„äº”è¡Œæ¥ç”¨ç›¸åº”çš„å±æ€§å­—(æ›´å‡†ç¡®çš„è¯´æ³•æ˜¯ç”¨<code>å–œç”¨ç¥</code>)æ¥å¡«è¡¥ï¼Œæ‰€ä»¥éœ€è¦åˆ¤æ–­äº”è¡Œæ‰€ç¼ºã€‚</p>
</blockquote>
<p><a href="http://www.360doc.com/content/15/0313/16/15585030_454852610.shtml" target="_blank" rel="external">è§£æå››æŸ±å…«å­—çš„ç²¾é«“å–œç”¨ç¥</a><br><a href="http://baike.baidu.com/view/1373942.htm" target="_blank" rel="external">å–œç”¨ç¥ç™¾ç§‘</a><br><a href="http://blog.sina.com.cn/s/blog_6e775646010136qp.html" target="_blank" rel="external">å¦‚ä½•çŸ¥é“è‡ªå·±å…«å­—çš„å–œç¥ï¼Œç”¨ç¥</a></p>
<blockquote>
<p>å…«å­—å°±æ˜¯ä»è¿™ä¸ªå¹³è¡¡ç†è®ºï¼Œå»åˆ†æäººä¸€ç”Ÿçš„èµ·è½</p>
</blockquote>
<p>ã€€ã€€çŸ¥é“äº†äº”è¡Œçš„çŸ¥è¯†ï¼Œæˆ‘ä»¬ä¹ŸçŸ¥é“å¾ˆå¤šäººçš„å…«å­—äº”è¡Œéƒ½ä¸å¤ªé½å…¨ï¼Œæœ‰çš„ä¸åªç¼ºä¸€ä¸ªï¼Œè¿˜ä¼šç¼ºä¸¤ä¸ªç”šè‡³ä¸‰ä¸ªã€‚æ¯”å¦‚æˆ‘ä»¬å¸¸å¬è¯´çš„â€œäº”è¡Œç¼ºé‡‘â€ä¹‹ç±»çš„è¯ï¼Œé‚£ä¹ˆå¦‚ä½•çŸ¥é“èµ·åå­—äº”è¡Œç¼ºä»€ä¹ˆå‘¢?</p>
<h3 id="2-1-åˆ¤æ–­äº”è¡Œå…«å­—åŠå–œç”¨ç¥"><a href="#2-1-åˆ¤æ–­äº”è¡Œå…«å­—åŠå–œç”¨ç¥" class="headerlink" title="2.1 åˆ¤æ–­äº”è¡Œå…«å­—åŠå–œç”¨ç¥"></a>2.1 åˆ¤æ–­äº”è¡Œå…«å­—åŠå–œç”¨ç¥</h3><p>æŸ¥è¯¢äº”è¡Œå…«å­—æ˜¯ä¸ºäº†çœ‹å…«å­—ä¸­ç¼ºå°‘äº”è¡Œä¸­çš„å“ªä¸€è¡Œ(<strong>ä»¥å–œç”¨ç¥ä¸ºå‡†</strong>)ï¼Œç„¶åç”¨åä¸­å­—å°½é‡è¡¥é½ : <code>é‡‘ã€æœ¨ã€æ°´ã€ç«ã€åœŸ</code></p>
<p><strong>ä»¥ 2015å¹´10æœˆ11æ—¥13æ—¶30åˆ† ä¸ºä¾‹æŸ¥è¯¢æ£€éªŒåˆ¤æ–­äº”è¡Œå…«å­—</strong></p>
<p>ä»¥ä¸‹ç½‘å€æŸ¥è¯¢ç»“æœä¸€è‡´ :</p>
<ul>
<li><a href="http://www.sheup.com/shengchenbazi.php" target="_blank" rel="external">ä¸‰è—å…«å­—æŸ¥è¯¢</a></li>
<li><a href="http://www.zhyw.net/myweb/bz/bazi.htm" target="_blank" rel="external">å‘¨æ˜“ç½‘</a>  </li>
<li><a href="http://www.69jk.cn/tools/bazi/" target="_blank" rel="external">ä¸­å›½å¥åº·ç½‘</a></li>
</ul>
<p>ä»¥ä¸‹ç½‘å€æŸ¥è¯¢ç»“æœä¸€è‡´ :</p>
<ul>
<li><a href="http://www.meimingteng.com/Tool/Bazi.aspx" target="_blank" rel="external">ç¾åè…¾</a></li>
<li><a href="http://m.zhouyi.cc/bazi/xys/xiyongsheng.php" target="_blank" rel="external">æ˜“å®‰å±…ç®—å‘½ç½‘</a></li>
<li><a href="http://www.fututa.com/" target="_blank" rel="external">æµ®å›¾å¡”</a></li>
<li><a href="http://bazi.dosame.com/" target="_blank" rel="external">ç”Ÿè¾°å…«å­—å–œç”¨ç¥æŸ¥è¯¢</a></li>
<li><a href="http://sm.wonyoo.com" target="_blank" rel="external">ä¸­åå¿˜å¿§ç½‘</a></li>
</ul>
<blockquote>
<p> è¿™ç±»ç½‘å€å¾ˆå¤šï¼Œå¦‚ : <a href="http://www.meimingteng.com/Tool/Bazi.aspx" target="_blank" rel="external">ç¾åè…¾</a>ã€<a href="http://www.pcbaby.com.cn/tools/scbz/" target="_blank" rel="external">å¤ªå¹³æ´‹äº²å­ç½‘</a>ã€<a href="http://www.zhyw.net/myweb/bz/bazi.htm" target="_blank" rel="external">å‘¨æ˜“ç½‘</a>ã€<a href="http://www.69jk.cn/tools/bazi/" target="_blank" rel="external">ä¸­å›½å¥åº·ç½‘</a>ã€<a href="http://www.sheup.com/shengchenbazi.php" target="_blank" rel="external">ä¸‰è—å…«å­—æŸ¥è¯¢</a> ç­‰ç­‰ã€‚è¯·è‡ªè¡Œåˆ¤æ–­æŸ¥è¯¢ç»“æœå‡†ç¡®æ€§ã€‚</p>
<p>å‘¨æ˜“ç½‘ã€ä¸­å›½å¥åº·ç½‘ã€ä¸‰è—å…«å­—æŸ¥è¯¢ç»“æœ ä¸ è€çˆ·ä¹¦ ä¸€è‡´</p>
</blockquote>
<p><code>å–œç”¨ç¥</code>æŸ¥è¯¢ä½ ä¹Ÿå¯ä»¥å‚è€ƒå¦‚ä¸‹ç½‘å€æŸ¥è¯¢ï¼Œä½†å‡†ç¡®æ€§è¯·è‡ªè¡Œè£æ–­ã€‚</p>
<ul>
<li><a href="http://www.meimingteng.com/Tool/Bazi.aspx" target="_blank" rel="external">ç¾åè…¾</a></li>
<li><a href="http://m.zhouyi.cc/bazi/xys/xiyongsheng.php" target="_blank" rel="external">æ˜“å®‰å±…</a></li>
<li><a href="http://www.fututa.com/" target="_blank" rel="external">æµ®å›¾å¡”</a></li>
<li><a href="http://www.babyqiming.com/zybz/bz.php" target="_blank" rel="external">babyqimingå–œç”¨ç¥</a></li>
<li><a href="http://v.youku.com/v_show/id_XNDAwMTAwNDQ0.html" target="_blank" rel="external">ä¼˜é…·è§†é¢‘: æ€ä¹ˆæ ·ç®—å…«å­— ä»€ä¹ˆæ˜¯å…«å­—å–œç”¨ç¥ å››æŸ±</a></li>
</ul>
<h3 id="2-2-äº”è¡Œä¸ç¼ºçš„æƒ…å†µ"><a href="#2-2-äº”è¡Œä¸ç¼ºçš„æƒ…å†µ" class="headerlink" title="2.2 äº”è¡Œä¸ç¼ºçš„æƒ…å†µ"></a>2.2 äº”è¡Œä¸ç¼ºçš„æƒ…å†µ</h3><p>äº”è¡Œä¸ç¼ºçš„æƒ…å†µï¼Œå‚è§ <a href="http://baike.baidu.com/view/1373942.htm" target="_blank" rel="external">å–œç”¨ç¥</a>ã€‚<br>äº”è¡Œç¼ºå°‘çš„æƒ…å†µï¼Œå‚è§ <a href="http://baike.baidu.com/view/1373942.htm" target="_blank" rel="external">å–œç”¨ç¥</a>ï¼Œä½†åœ¨å¤šæ•°æƒ…å†µä¸‹ï¼Œç¼ºå°‘çš„ä¸€ä¸ªå°±ä¸ºå®ƒçš„å–œç”¨ç¥ï¼Œå…·ä½“å‚è§å–œç”¨ç¥æŸ¥è¯¢ã€‚ </p>
<blockquote>
<p>å–œç”¨ç¥æŸ¥è¯¢ ä¸ å…«å­—äº”è¡Œ æŸ¥è¯¢ï¼Œè¯·ä»”ç»†è¾¨åˆ«æŸ¥è¯¢çš„ç»“æœå¯é æ€§ã€‚</p>
</blockquote>
<h2 id="3-å§“åç¬”ç”»å‰å‡¶"><a href="#3-å§“åç¬”ç”»å‰å‡¶" class="headerlink" title="3. å§“åç¬”ç”»å‰å‡¶"></a>3. å§“åç¬”ç”»å‰å‡¶</h2><blockquote>
<p>æ¨è 31 æˆ–è€… 23ç”»</p>
</blockquote>
<p>äºŒåä¸‰ç”»ã€€ã€€ã€€æ—­æ—¥å‡å¤©ï¼Œåæ˜¾å››æ–¹ï¼Œæ¸æ¬¡è¿›å±•ï¼Œç»ˆæˆå¤§ä¸šã€‚ã€€ã€€ï¼ˆå‰ï¼‰<br>ä¸‰åä¸€ç”»ã€€ã€€ã€€æ­¤æ•°å¤§å‰ï¼Œååˆ©åŒæ”¶ï¼Œæ¸è¿›å‘ä¸Šï¼Œå¤§ä¸šæˆå°±ã€‚ã€€ã€€ï¼ˆå‰ï¼‰</p>
<p><a href="http://blog.sina.com.cn/s/blog_4d4f386c0102vg9r.html" target="_blank" rel="external">è¯¦è§å§“åç¬”ç”»å‰å‡¶å¤§å…¨</a></p>
<blockquote>
<p>èµ·åä¸­ç”¨å­—çš„ç¬”ç”»æ•°å‚è§ <a href="http://tool.httpcn.com/KangXi/" target="_blank" rel="external">åº·å­å­—å…¸</a> (éç®€ä½“å­—æˆ–ç¹ä½“å­—)</p>
</blockquote>
<h2 id="4-å§“åæ‰“åˆ†æµ‹è¯•"><a href="#4-å§“åæ‰“åˆ†æµ‹è¯•" class="headerlink" title="4. å§“åæ‰“åˆ†æµ‹è¯•"></a>4. å§“åæ‰“åˆ†æµ‹è¯•</h2><p>æ‰“åˆ†æµ‹è¯•è¿™ç§ç½‘ç«™æ¯”è¾ƒå¤šï¼Œæ ¹æ®æˆ‘ä¸ªäººçš„ç»éªŒåˆ¤åˆ«æˆ‘æ¨è <a href="http://www.sheup.com/xingming_dafen.php" target="_blank" rel="external">ä¸‰è—ç½‘æ‰“åˆ†æµ‹è¯•</a>ï¼Œæ ¹æ®ä¸‰è—ç½‘æŸ¥è¯¢çš„ç»“æœï¼Œå¯ä»¥çœ‹åˆ° ä¸‰æ‰äº”æ ¼çš„è§£æä»¥åŠåº·ç†™å­—å…¸çš„ç¬”ç”»æ•°ç›®ç­‰ã€‚</p>
<hr>
<p>ä¸¾ä¾‹å¦‚ä¸‹ :</p>
<p><img src="/images/society/life-named-xin.png" alt="example"></p>
<h2 id="5-å°ç»“"><a href="#5-å°ç»“" class="headerlink" title="5. å°ç»“"></a>5. å°ç»“</h2><p>ç»¼ä¸Šæ‰€è¿°: èµ·åå­—åªéœ€è¦åœ¨åå­—ä¸­ï¼Œä½¿ç”¨å–œç”¨ç¥çš„å­— å¹¶ä¸” ä¸‰æ‰äº”æ ¼æ‰“åˆ† éƒ½æ¯”è¾ƒä¸é”™çš„æƒ…å†µä¸‹ï¼Œæ–¹ä¸ºå¥½åå­—ã€‚</p>
<blockquote>
<p>ä¸ªäººæ„è§ : åå­—è¿˜æ˜¯ é¡ºè€³ï¼Œè„±ä¿— çš„åå­—æ˜¯æœ€é‡è¦çš„ã€‚</p>
</blockquote>
<p><strong>èµ·åé€‰æ‹©å­—çš„æ–¹æ³•ä¸€å¦‚å¦‚ä¸‹å›¾ç‰‡æ‰€ç¤ºï¼Œå¯å‚è€ƒç™¾åº¦æœç´¢çš„å§“åå­¦</strong></p>
<p><img src="/images/society/life-named-searchword.png" alt="é€‰æ‹©å­—æ–¹æ³•å‚è§"></p>
<h2 id="6-Reference-article"><a href="#6-Reference-article" class="headerlink" title="6. Reference article"></a>6. Reference article</h2><ul>
<li><a href="http://www.zhyw.net/myweb/bz/bazi.htm" target="_blank" rel="external">å‘¨æ˜“ç½‘</a>  </li>
<li><a href="http://www.69jk.cn/tools/bazi/" target="_blank" rel="external">ä¸­å›½å¥åº·ç½‘</a></li>
<li><a href="http://www.meimingteng.com/Tool/Bazi.aspx" target="_blank" rel="external">ç¾åè…¾</a></li>
<li><a href="http://www.pcbaby.com.cn/tools/scbz/" target="_blank" rel="external">å¤ªå¹³æ´‹äº²å­ç½‘</a></li>
<li><a href="http://www.360doc.com/content/15/0313/16/15585030_454852610.shtml" target="_blank" rel="external">è§£æå››æŸ±å…«å­—çš„ç²¾é«“å–œç”¨ç¥</a>  </li>
<li><a href="http://www.babyqiming.com/zybz/bz.php" target="_blank" rel="external">ä¸ä¸€å®šå‡†ç¡®çš„å–œç”¨ç¥æŸ¥è¯¢</a></li>
<li><a href="http://www.chinesefortunecalendar.com/CAb5.htm" target="_blank" rel="external">å…«å­—äº”è¡Œç®—å‘½å’Œäººç”Ÿèµ·ä¼åœ–</a></li>
<li><a href="http://blog.sina.com.cn/s/blog_4d4f386c0102vg9r.html" target="_blank" rel="external">è¯¦è§å§“åç¬”ç”»å‰å‡¶å¤§å…¨</a></li>
<li><a href="http://tool.httpcn.com/KangXi/" target="_blank" rel="external">åº·å­å­—å…¸</a></li>
<li><a href="http://www.sheup.com/xingming_dafen.php" target="_blank" rel="external">ä¸‰è—ç½‘</a></li>
<li><a href="http://www.7mingzi.com/hanziwuxing-zi-%E9%99%88/" target="_blank" rel="external">èµ·åç½‘</a></li>
<li>â€¦</li>
</ul>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">å…¬å†ï¼š****å¹´**æœˆ**æ—¥(æ˜ŸæœŸå››)11ç‚¹</span><br><span class="line">å†œå†ï¼šä¸™ç”³å¹´å››æœˆåä¸‰æ—¥åˆæ—¶</span><br><span class="line">æ˜¥èŠ‚ï¼š2æœˆ8æ—¥</span><br><span class="line">èŠ‚å‰ï¼šä¹™æœªå¹´</span><br><span class="line">èŠ‚åï¼šä¸™ç”³å¹´</span><br><span class="line">å…«å­—ï¼šä¸™ç”³ã€€ç™¸å·³ã€€è¾›ä¸‘ã€€ç”²åˆ</span><br><span class="line">äº”è¡Œï¼šç«é‡‘ã€€æ°´ç«ã€€é‡‘åœŸã€€æœ¨ç«</span><br><span class="line">æ–¹ä½ï¼šå—è¥¿ã€€åŒ—å—ã€€è¥¿ä¸­ã€€ä¸œå—</span><br><span class="line">ç”Ÿè‚–ï¼šçŒ´</span><br><span class="line">92 ä¸‰æ‰é…ç½® å‰ï¼Œ å¤©åœ°äººå¤–æ€»æ ¼ å¤§å‰  31ç”»</span><br><span class="line">é™ˆä¿Šå¦ƒ</span><br><span class="line">é™ˆä¿Šå¸†</span><br><span class="line">é™ˆæ³Šç¾Š</span><br><span class="line">é™ˆæ³Šäº¦</span><br><span class="line">é™ˆéŸ³ç«¹</span><br><span class="line">...</span><br></pre></td></tr></table></figure>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[Pythonæ•°æ®åˆ†æä¸æŒ–æ˜å®æˆ˜ P5 model - Logistic regression]]></title>
      <url>http://iequa.com/2016/08/12/python-data-mining-p5-model-LR/</url>
      <content type="html"><![CDATA[<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js"],
    jax: ["input/TeX"],
    tex2jax: {
      inlineMath: [ ['$','$'], ['\\(','\\)'] ],
      displayMath: [ ['$$','$$']],
      processEscapes: true
    }
  });
</script>
<script type="text/javascript" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS_HTML,http://myserver.com/MathJax/config/local/local.js">
</script>

<p><strong>data mining steps</strong></p>
<ol>
<li>æŒ–æ˜ç›®æ ‡</li>
<li>æ•°æ®å–æ ·</li>
<li>æ•°æ®æ¢ç´¢</li>
<li>æ•°æ®é¢„å¤„ç†</li>
<li><code>æŒ–æ˜å»ºæ¨¡</code></li>
<li>æ¨¡å‹è¯„ä»·</li>
</ol>
<blockquote>
<p>Logistic å›å½’æ¨¡å‹å±äºæ¦‚ç‡å‹éçº¿æ€§å›å½’ï¼Œåˆ†ä¸º äºŒåˆ†ç±» å’Œ å¤šåˆ†ç±» çš„å›å½’æ¨¡å‹ã€‚</p>
</blockquote>
<h2 id="1-Logistic-Function"><a href="#1-Logistic-Function" class="headerlink" title="1. Logistic Function"></a>1. Logistic Function</h2><p>Logistic model å› å˜é‡ åªæœ‰ 1, 0 ä¸¤ç§å–å€¼</p>
<p>å‡è®¾åœ¨ $p$ ä¸ªç‹¬ç«‹è‡ªå˜é‡ $x_1ï¼Œx_2ï¼Œx_3ï¼Œâ€¦ï¼Œx_p$  ä½œç”¨ä¸‹ : </p>
<ul>
<li>$y$ å– 1 çš„æ¦‚ç‡æ˜¯ $p$, $ p = P(y=1|X) $</li>
<li>$y$ å– 0 çš„æ¦‚ç‡æ˜¯ $1 -p$</li>
</ul>
<p>ä¼˜åŠ¿æ¯”</p>
<p>$$<br>odds = \frac p {p - 1}<br>$$</p>
<p>ä¸¤è¾¹å–è‡ªç„¶å¯¹æ•°å¾— Logistic å˜æ¢  :</p>
<p>$$<br>Logit(p) = ln(\frac {p} {1-p})<br>$$</p>
<p>ä»¤ $Logit(p) = z$</p>
<p>$$<br>Logit(p) = ln(\frac {p} {1-p}) = z<br>$$</p>
<p>=&gt;</p>
<p>$$<br>p = \frac {1} {1 + e^{-z}}<br>$$</p>
<p><img src="/images/model-logistic.jpg" alt="Logistic"></p>
<blockquote>
<p>$p \in (0, 1)$</p>
<p>$odds = {\frac p {p-1}} \in (0, +\infty)$ </p>
<p>$Logit(p) = z = ln(\frac p {p-1}) \in (-\infty, +\infty)$ </p>
</blockquote>
<h2 id="2-Logistic-regression-model"><a href="#2-Logistic-regression-model" class="headerlink" title="2. Logistic regression model"></a>2. Logistic regression model</h2><p>Logistic model å»ºç«‹ $ln(\frac p {p-1})$ ä¸ è‡ªå˜é‡ çš„çº¿æ€§å›å½’æ¨¡å‹ã€‚</p>
<p>Logistic regression model :</p>
<p>$$<br>ln(\frac p {p-1}) = {\beta}_0 + {\beta}_1 x_1 + â€¦ + {\beta}_p x_p + \varepsilon<br>$$</p>
<blockquote>
<p>$ln(\frac {p} {1-p}) \in (-\infty, +\infty) =&gt; è‡ªå˜é‡  x_1ï¼Œx_2ï¼Œâ€¦ï¼Œx_pï¼Œå¯åœ¨ä»»æ„èŒƒå›´å†…å–å€¼$</p>
</blockquote>
<p>è®° $g(x) = {\beta}_0 + {\beta}_1 x_1 + â€¦ + {\beta}_p x_p$ ï¼Œå¾—åˆ° :</p>
<p>$$<br>p = P(y=1|X) = \frac 1 {1+e^{-g(x)}}<br>$$</p>
<p>$$<br>1 - p = P(y=0|X) = \frac 1 {1+e^{g(x)}}<br>$$</p>
<hr>
<p>$$<br>\frac p {1-p} =  e^{\beta_0 + \beta_1 x_1 + â€¦ + \beta_p x_p + \varepsilon }<br>$$</p>
<h2 id="3-Logistic-model-steps"><a href="#3-Logistic-model-steps" class="headerlink" title="3. Logistic model steps"></a>3. Logistic model steps</h2><ul>
<li>æ ¹æ®æŒ–æ˜ç›®çš„setting feature</li>
<li>åˆ—å‡º regression æ–¹ç¨‹</li>
<li>ä¼°è®¡ regression ç³»æ•°</li>
<li>æ¨¡å‹æ£€éªŒ</li>
<li>é¢„æµ‹æ§åˆ¶</li>
</ul>
<p>æ ¹æ®æŒ–æ˜ç›®çš„è®¾ç½® featureï¼Œå¹¶ç­›é€‰ feature $y; x_1ï¼Œx_2ï¼Œâ€¦ ï¼Œx_p $</p>
<p>$<br>ln(\frac p {p-1}) = {\beta}_0 + {\beta}_1 x_1 + â€¦ + {\beta}_p x_p + \varepsilon<br>$</p>
<p>æ¨¡å‹æœ‰æ•ˆæ€§çš„æ£€éªŒæŒ‡æ ‡æœ‰å¾ˆå¤šï¼Œæœ€åŸºæœ¬çš„æœ‰ æ­£ç¡®ç‡ã€‚å…¶æ¬¡ : æ··æ·†çŸ©é˜µã€ROCæ›²çº¿ã€KSå€¼ç­‰ã€‚</p>
<h2 id="4-Feature-ç­›é€‰æ–¹æ³•"><a href="#4-Feature-ç­›é€‰æ–¹æ³•" class="headerlink" title="4. Feature ç­›é€‰æ–¹æ³•"></a>4. Feature ç­›é€‰æ–¹æ³•</h2><ol>
<li>F å€¼å¤§ ï¼Œpå€¼å°</li>
<li>Recursive Feature Elimination, RFE</li>
<li>Stability Selection</li>
</ol>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment">#-*- coding: utf-8 -*-</span></span><br><span class="line"><span class="comment">#é€»è¾‘å›å½’ è‡ªåŠ¨å»ºæ¨¡</span></span><br><span class="line"><span class="keyword">import</span> pandas <span class="keyword">as</span> pd</span><br><span class="line"></span><br><span class="line"><span class="comment">#å‚æ•°åˆå§‹åŒ–</span></span><br><span class="line">filename = <span class="string">'../data/bankloan.xls'</span></span><br><span class="line">data = pd.read_excel(filename)</span><br><span class="line">x = data.iloc[:,:<span class="number">8</span>].as_matrix()</span><br><span class="line">y = data.iloc[:,<span class="number">8</span>].as_matrix()</span><br><span class="line"></span><br><span class="line"><span class="comment"># print("x: ")</span></span><br><span class="line"><span class="comment"># print(x)</span></span><br><span class="line"><span class="comment"># print("y: ")</span></span><br><span class="line"><span class="comment"># print(y)</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">from</span> sklearn.linear_model <span class="keyword">import</span> LogisticRegression <span class="keyword">as</span> LR</span><br><span class="line"><span class="keyword">from</span> sklearn.linear_model <span class="keyword">import</span> RandomizedLogisticRegression <span class="keyword">as</span> RLR</span><br><span class="line">rlr = RLR() <span class="comment">#å»ºç«‹éšæœºé€»è¾‘å›å½’æ¨¡å‹ï¼Œç­›é€‰å˜é‡</span></span><br><span class="line">rlr.fit(x, y) <span class="comment">#è®­ç»ƒæ¨¡å‹</span></span><br><span class="line">rlr.get_support() <span class="comment">#è·å–ç‰¹å¾ç­›é€‰ç»“æœï¼Œä¹Ÿå¯ä»¥é€šè¿‡.scores_æ–¹æ³•è·å–å„ä¸ªç‰¹å¾çš„åˆ†æ•°</span></span><br><span class="line">print(<span class="string">u'é€šè¿‡éšæœºé€»è¾‘å›å½’æ¨¡å‹ç­›é€‰ç‰¹å¾ç»“æŸã€‚'</span>)</span><br><span class="line">print(<span class="string">u'æœ‰æ•ˆç‰¹å¾ä¸ºï¼š%s'</span> % <span class="string">','</span>.join(data.columns[rlr.get_support()]))</span><br><span class="line">x = data[data.columns[rlr.get_support()]].as_matrix() <span class="comment">#ç­›é€‰å¥½ç‰¹å¾</span></span><br><span class="line"></span><br><span class="line">lr = LR() <span class="comment">#å»ºç«‹é€»è¾‘å›å½’æ¨¡å‹</span></span><br><span class="line">lr.fit(x, y) <span class="comment">#ç”¨ç­›é€‰åçš„ç‰¹å¾æ•°æ®æ¥è®­ç»ƒæ¨¡å‹</span></span><br><span class="line">print(<span class="string">u'é€»è¾‘å›å½’æ¨¡å‹è®­ç»ƒç»“æŸã€‚'</span>)</span><br><span class="line">print(<span class="string">u'æ¨¡å‹çš„å¹³å‡æ­£ç¡®ç‡ä¸ºï¼š%s'</span> % lr.score(x, y)) <span class="comment">#ç»™å‡ºæ¨¡å‹çš„å¹³å‡æ­£ç¡®ç‡ï¼Œæœ¬ä¾‹ä¸º81.4%</span></span><br></pre></td></tr></table></figure>
<blockquote>
<p>åœ¨å»ºç«‹éšæœºLRæ—¶ï¼Œä½¿ç”¨äº†é»˜è®¤çš„é˜€å€¼ 0.25ï¼Œä¹Ÿå¯ä»¥ç”¨ RLR (selection_threshold = 0.5) è‡ªè¡Œè®¾ç½®ã€‚éšæœº Lasso<br>è¢«ç­›æ‰çš„å˜é‡å¹¶ä¸ä¸€å®šè·Ÿç»“æœæ²¡å…³ç³»ï¼Œå®ƒä»¬å¯èƒ½æ˜¯éçº¿æ€§å…³ç³»ï¼Œå¯¹åº”éçº¿æ€§å…³ç³»å¯ç”¨ DT å’Œ ç¥ç»ç½‘ç»œã€‚</p>
</blockquote>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[Pythonæ•°æ®åˆ†æä¸æŒ–æ˜å®æˆ˜ P5 model - all]]></title>
      <url>http://iequa.com/2016/08/11/python-data-mining-p5-model-all/</url>
      <content type="html"><![CDATA[<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js"],
    jax: ["input/TeX"],
    tex2jax: {
      inlineMath: [ ['$','$'], ['\\(','\\)'] ],
      displayMath: [ ['$$','$$']],
      processEscapes: true
    }
  });
</script>
<script type="text/javascript" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS_HTML,http://myserver.com/MathJax/config/local/local.js">
</script>

<p><strong>data mining steps</strong></p>
<ol>
<li>æŒ–æ˜ç›®æ ‡</li>
<li>æ•°æ®å–æ ·</li>
<li>æ•°æ®æ¢ç´¢</li>
<li>æ•°æ®é¢„å¤„ç†</li>
<li><code>æŒ–æ˜å»ºæ¨¡</code></li>
<li>æ¨¡å‹è¯„ä»·</li>
</ol>
<h2 id="1-åˆ†ç±»ä¸é¢„æµ‹"><a href="#1-åˆ†ç±»ä¸é¢„æµ‹" class="headerlink" title="1. åˆ†ç±»ä¸é¢„æµ‹"></a>1. åˆ†ç±»ä¸é¢„æµ‹</h2><h3 id="1-1-å®ç°è¿‡ç¨‹"><a href="#1-1-å®ç°è¿‡ç¨‹" class="headerlink" title="1.1 å®ç°è¿‡ç¨‹"></a>1.1 å®ç°è¿‡ç¨‹</h3><h3 id="1-2-å¸¸è§çš„åˆ†ç±»ä¸é¢„æµ‹ç®—æ³•"><a href="#1-2-å¸¸è§çš„åˆ†ç±»ä¸é¢„æµ‹ç®—æ³•" class="headerlink" title="1.2 å¸¸è§çš„åˆ†ç±»ä¸é¢„æµ‹ç®—æ³•"></a>1.2 å¸¸è§çš„åˆ†ç±»ä¸é¢„æµ‹ç®—æ³•</h3><table>
<thead>
<tr>
<th>Algorithm</th>
<th>desc</th>
</tr>
</thead>
<tbody>
<tr>
<td>å›å½’åˆ†æ</td>
<td>&nbsp;å›å½’åˆ†ææ˜¯ç¡®å®šé¢„æµ‹å±æ€§(æ•°å€¼å‹)ä¸å…¶ä»–å˜é‡é—´äº’ç›¸ä¾èµ–çš„å®šé‡å…³ç³»æœ€å¸¸ç”¨çš„ç»Ÿè®¡å­¦æ–¹æ³•ã€‚åŒ…æ‹¬ çº¿æ€§å›å½’ã€éçº¿æ€§å›å½’ã€Logisticå›å½’ã€åæœ€å°äºŒä¹˜å›å½’ç­‰ model</td>
</tr>
<tr>
<td>å†³ç­–æ ‘</td>
<td>&nbsp;å†³ç­–æ ‘é‡‡ç”¨è‡ªé¡¶å‘ä¸‹çš„é€’å½’æ–¹å¼ï¼Œåœ¨å†…éƒ¨èŠ‚ç‚¹è¿›è¡Œå±æ€§å€¼çš„æ¯”è¾ƒï¼Œå¹¶æ ¹æ®ä¸åŒçš„å±æ€§å€¼ä»è¯¥èŠ‚ç‚¹å‘ä¸‹åˆ†æ”¯ï¼Œæœ€ç»ˆå¾—åˆ°çš„å¶èŠ‚ç‚¹æ˜¯å­¦ä¹ åˆ’åˆ†çš„ç±»ã€‚</td>
</tr>
<tr>
<td>bayes-net</td>
<td>&nbsp;ç›®å‰ä¸ç¡®å®šçŸ¥è¯†è¡¨è¾¾å’Œæ¨ç†é¢†åŸŸæœ€æœ‰æ•ˆçš„ç†è®ºæ¨¡å‹ä¹‹ä¸€ã€‚</td>
</tr>
<tr>
<td>SVM</td>
<td>&nbsp;æ”¯æŒå‘é‡æœºæ˜¯ä¸€ç§é€šè¿‡éçº¿æ€§æ˜ å°„ï¼ŒæŠŠä½ç»´çš„éçº¿æ€§å¯åˆ†è½¬åŒ–ä¸ºé«˜ç»´çš„çº¿æ€§å¯åˆ†ï¼Œåœ¨é«˜ç»´ç©ºé—´è¿›è¡Œçº¿æ€§åˆ†æçš„ç®—æ³•ã€‚</td>
</tr>
<tr>
<td>äººå·¥ç¥ç»ç½‘ç»œ</td>
<td>â€¦</td>
</tr>
</tbody>
</table>
<h3 id="1-3-å›å½’åˆ†æ"><a href="#1-3-å›å½’åˆ†æ" class="headerlink" title="1.3 å›å½’åˆ†æ"></a>1.3 å›å½’åˆ†æ</h3><table>
<thead>
<tr>
<th>model</th>
<th>condition</th>
<th>desc</th>
</tr>
</thead>
<tbody>
<tr>
<td>çº¿æ€§å›å½’</td>
<td>å› å˜é‡ä¸è‡ªå˜é‡æ˜¯çº¿æ€§å…³ç³»</td>
<td>å¯¹ä¸€ä¸ªæˆ–å¤šä¸ªè‡ªå˜é‡å’Œå› å˜é‡ä¹‹é—´çš„çº¿æ€§å…³ç³»è¿›è¡Œå»ºæ¨¡ï¼Œå¯ç”¨æœ€å°äºŒä¹˜æ³•æ±‚è§£æ¨¡å‹ç³»æ•°</td>
</tr>
<tr>
<td>éçº¿æ€§å›å½’</td>
<td>å› å˜é‡ä¸è‡ªå˜é‡ä¹‹é—´ä¸éƒ½æ˜¯çº¿æ€§å…³ç³»</td>
<td></td>
</tr>
<tr>
<td>Logistic å›å½’</td>
<td>å› å˜é‡ä¸€èˆ¬æœ‰ 1 å’Œ 0 ä¸¤ç§</td>
<td>å¹¿ä¹‰çº¿æ€§å›å½’modelçš„ç‰¹ä¾‹ï¼Œåˆ©ç”¨Logisticå‡½æ•°å°†å› å˜é‡çš„å–å€¼èŒƒå›´æ§åˆ¶åœ¨0å’Œ1ä¹‹é—´ï¼Œè¡¨ç¤ºå–å€¼ä¸º 1 çš„æ¦‚ç‡</td>
</tr>
<tr>
<td>å²­å›å½’</td>
<td>â€¦</td>
<td>â€¦</td>
</tr>
<tr>
<td>ä¸»æˆåˆ†å›å½’</td>
<td>â€¦</td>
<td>â€¦</td>
</tr>
</tbody>
</table>
<blockquote>
<p>Logistic å›å½’æ¨¡å‹å±äºæ¦‚ç‡å‹éçº¿æ€§å›å½’ï¼Œåˆ†ä¸º äºŒåˆ†ç±» å’Œ å¤šåˆ†ç±» çš„å›å½’æ¨¡å‹ã€‚</p>
</blockquote>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[Locations and directions]]></title>
      <url>http://iequa.com/2016/08/10/ef-l3u2-Locations-and-directions/</url>
      <content type="html"><![CDATA[<style>
img {
        display: block !important;
        width: 550px;
        margin-left: 200px !important;
}
</style>

<h2 id="1-Telling-someone-where-you-live"><a href="#1-Telling-someone-where-you-live" class="headerlink" title="1. Telling someone where you live"></a>1. Telling someone where you live</h2><p>The bank is <code>on the corner of</code> Pine Street and First Street.<br>The bus stop is <code>in front of</code> the supermarket.<br>The post office is between the restaurant and the movie theater.<br>The pizza place is <code>behind</code> the library.<br>The bookstore is <code>across the street</code> from the restaurant.  </p>
<p><img src="/images/english/ef-l3u2l1.png" alt=""></p>
<p><strong>onï¼Œatï¼Œin</strong></p>
<ul>
<li>I live <code>on</code> Maple Road. I live <code>at</code> 1215 Maple Road. </li>
<li>They live <code>in</code> Paris, but theyâ€™re from the US.<br>&nbsp;</li>
<li>The library is <code>on</code> Pine Street.</li>
<li>The library is <code>at</code> 57 Pine Street.</li>
</ul>
<table>
<thead>
<tr>
<th><strong>Main Dialog</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td>B: Are you coming to my party Saturdayï¼Ÿ</td>
<td></td>
</tr>
<tr>
<td>A: Where do you live?</td>
<td></td>
</tr>
<tr>
<td>B: I live at 1215 Maple Road.</td>
<td></td>
</tr>
<tr>
<td>B: The cross street is 4th Avenue.</td>
<td></td>
</tr>
<tr>
<td>B: between the library and the park</td>
<td></td>
</tr>
<tr>
<td>B: Iâ€™m on the 11th floor, number 17.</td>
<td></td>
</tr>
</tbody>
</table>
<ul>
<li>street = St.    è¡—</li>
<li>road = Rd.    è·¯</li>
<li>avenue = Ave.    å¤§è¡—</li>
<li>boulevard = Blvd.    å¤§é“</li>
<li>drive = Dr.    é“</li>
</ul>
<h2 id="2-Giving-directions"><a href="#2-Giving-directions" class="headerlink" title="2. Giving directions"></a>2. Giving directions</h2><p><code>Go straight</code> on Pine Avenue. Then turn right on Central Boulevard.<br><code>Go down</code> Oak Street. Next, <code>turn left</code> on Valley Road.<br><code>Go right</code> on Central Boulevard.<br><code>Make a left</code> on Valley Road.</p>
<h2 id="3-Asking-for-directions-to-a-business"><a href="#3-Asking-for-directions-to-a-business" class="headerlink" title="3. Asking for directions to a business"></a>3. Asking for directions to a business</h2><ul>
<li>take the train</li>
<li>go by ferry  [â€˜ferÉª]</li>
<li>take the subway</li>
<li>ride the streetcar æœ‰è½¨ç”µè½¦</li>
<li>go on foot</li>
<li>ride a bike</li>
</ul>
<p><img src="/images/english/ef-l3u2l3.png" alt=""></p>
<table>
<thead>
<tr>
<th><strong>Dialog</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td>A: ABC Company. How can I help you?</td>
<td></td>
</tr>
<tr>
<td>B: I have a meeting at your company today. Can you tell me <code>how to get to your office</code>, please?</td>
<td></td>
</tr>
<tr>
<td>A: Where are you coming from ?</td>
<td></td>
</tr>
<tr>
<td>B: Iâ€™m in front of the Regency Hotel on Park Drive. Iâ€™m walking.</td>
<td></td>
</tr>
<tr>
<td>A: Oh, OK. First, <code>go north on Park Drive for two blocks</code>, and make a right on Seventh Avenue.</td>
<td></td>
</tr>
<tr>
<td>B: North on Park, turn right on Seventh.</td>
<td></td>
</tr>
<tr>
<td>A: Correct. Next, go one block  on Seventh, and take a left on Chase Street. Our building is on the right   - number 729. Weâ€™re on the third floor  . Our office is number 316.</td>
<td></td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr>
<th><strong>Visit a business</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td>How do I get to your office, please?</td>
<td></td>
</tr>
<tr>
<td>Can you please tell me how to get there?</td>
<td></td>
</tr>
<tr>
<td>How are you coming?</td>
<td></td>
</tr>
<tr>
<td>How long does it take?</td>
<td></td>
</tr>
<tr>
<td>It takes about 20 to 30 minutes.</td>
<td></td>
</tr>
</tbody>
</table>
<h2 id="4-Describing-the-location-of-a-city"><a href="#4-Describing-the-location-of-a-city" class="headerlink" title="4. Describing the location of a city"></a>4. Describing the location of a city</h2><ul>
<li>east coast</li>
<li>kilometers</li>
<li>ocean, desert</li>
<li>forest, hills, valley</li>
</ul>
<p><img src="/images/english/ef-l3u2l4-1.png" alt=""></p>
<blockquote>
<p>California [,kÃ¦lÉªâ€™fÉ”:njÉ™], summertime</p>
</blockquote>
<table>
<thead>
<tr>
<th><strong>Dialog</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td>[CARLOS]  Thatâ€™s my hometown.</td>
<td></td>
</tr>
<tr>
<td>[SALLY] best! on the esat coast. Where is Rio?</td>
<td></td>
</tr>
<tr>
<td>[CARLOS] Itâ€™s in the south. down here.</td>
<td></td>
</tr>
<tr>
<td>[SALLY] How far is it from Salvador to Rio?</td>
<td></td>
</tr>
<tr>
<td>[CARLOS] Itâ€™s about 1200 kilometers</td>
<td></td>
</tr>
<tr>
<td>[SALLY] So you live on the coast.  I love the oceanï¼ŒDo you know Big Sur?</td>
<td></td>
</tr>
<tr>
<td>[CARLOS] No, Whereâ€™s that?</td>
<td></td>
</tr>
<tr>
<td>[SALLY] Itâ€™s in California. Itâ€™s in the mountains, but itâ€™s also on the coast.</td>
<td></td>
</tr>
<tr>
<td>[SALLY] There it is, on the west coast. Itâ€™s so beautiful there. In the summertime, you can go campingâ€¦</td>
<td></td>
</tr>
</tbody>
</table>
<p><img src="/images/english/ef-l3u2l4.png" alt=""></p>
<h2 id="Expressions"><a href="#Expressions" class="headerlink" title="Expressions"></a>Expressions</h2><p>A: Letâ€™s go to the coffee shop.<br>B: How far is it?<br>A: Itâ€™s only two blocks.<br>A: How far is it from your house to the beach?<br>B: Itâ€™s about two kilometers.</p>
<h2 id="Reading"><a href="#Reading" class="headerlink" title="Reading"></a>Reading</h2><p>Rio de Janeiro is a big city in the south of Brazil. Itâ€™s on the east coast of the country. Rio has beautiful beaches on the Atlantic Ocean. Two very famous beaches are Ipanema and Copacabana. Rio also is in the mountains. Sugarloaf is the name of a very famous mountain in Rio.</p>
<h2 id="Writing"><a href="#Writing" class="headerlink" title="Writing"></a>Writing</h2><p>My hometown is China Hangzhou. It sits at the head of Hangzhou Bay, which separates Shanghai and Ningbo.  The city has many beautiful old buildingsã€temple and a lot of parks. The Qian Tang River is the cityâ€™s civilization. The cityâ€™s West Lake is its best-known attraction. and G20 economic conference to be held here. Many people like to visit west lake. </p>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[Pythonæ•°æ®åˆ†æä¸æŒ–æ˜å®æˆ˜ P4 data preprocess]]></title>
      <url>http://iequa.com/2016/08/09/python-data-mining-p4-data-preprocess/</url>
      <content type="html"><![CDATA[<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js"],
    jax: ["input/TeX"],
    tex2jax: {
      inlineMath: [ ['$','$'], ['\\(','\\)'] ],
      displayMath: [ ['$$','$$']],
      processEscapes: true
    }
  });
</script>
<script type="text/javascript" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS_HTML,http://myserver.com/MathJax/config/local/local.js">
</script>

<p><strong>data mining steps</strong></p>
<ol>
<li>æŒ–æ˜ç›®æ ‡</li>
<li>æ•°æ®å–æ ·</li>
<li>æ•°æ®æ¢ç´¢</li>
<li><code>æ•°æ®é¢„å¤„ç†</code> 60%</li>
<li>æŒ–æ˜å»ºæ¨¡</li>
<li>æ¨¡å‹è¯„ä»·</li>
</ol>
<p><strong>data preprocess steps</strong></p>
<ol>
<li>Data Clean</li>
<li>Data Integration  [ÉªntÉªâ€™greÉªÊƒ(É™)n]</li>
<li>Data Transformation</li>
<li>Data è§„çº¦</li>
</ol>
<p><img src="/images/py-datapreprocess.jpg" alt="preprocess steps"></p>
<h2 id="1-Data-Clean"><a href="#1-Data-Clean" class="headerlink" title="1. Data Clean"></a>1. Data Clean</h2><h3 id="1-1-ç¼ºå¤±å€¼å¤„ç†"><a href="#1-1-ç¼ºå¤±å€¼å¤„ç†" class="headerlink" title="1.1 ç¼ºå¤±å€¼å¤„ç†"></a>1.1 ç¼ºå¤±å€¼å¤„ç†</h3><table>
<thead>
<tr>
<th>æ’è¡¥æ–¹æ³•</th>
<th>æ–¹æ³•æè¿°</th>
</tr>
</thead>
<tbody>
<tr>
<td>å‡å€¼ã€ä¸­ä½æ•°ã€ä¼—æ•°æ’è¡¥</td>
<td></td>
</tr>
<tr>
<td>ä½¿ç”¨å›ºå®šå€¼</td>
<td></td>
</tr>
<tr>
<td>æœ€è¿‘ä¸´æ’è¡¥</td>
<td>æ¥è¿‘æ ·æœ¬çš„è¯¥å±æ€§å€¼æ’è¡¥</td>
</tr>
<tr>
<td>å›å½’æ–¹æ³•</td>
<td>æœ‰ç¼ºå¤±å€¼çš„å˜é‡ï¼Œæ ¹æ®å·²æœ‰æ•°æ®å’Œä¸å…¶æœ‰å…³çš„å…¶ä»–å˜é‡çš„æ•°æ®å»ºç«‹æ‹Ÿåˆæ¨¡å‹æ¥é¢„æµ‹ç¼ºå¤±çš„å±æ€§å€¼</td>
</tr>
<tr>
<td>æ’å€¼æ³•</td>
<td>å¦‚ : æ‹‰æ ¼æœ—æ—¥/ç‰›é¡¿ æ’å€¼æ³•ã€‚ $f(x_i)$</td>
</tr>
</tbody>
</table>
<h3 id="1-2-å¼‚å¸¸å€¼å¤„ç†"><a href="#1-2-å¼‚å¸¸å€¼å¤„ç†" class="headerlink" title="1.2 å¼‚å¸¸å€¼å¤„ç†"></a>1.2 å¼‚å¸¸å€¼å¤„ç†</h3><table>
<thead>
<tr>
<th>å¼‚å¸¸å€¼å¤„ç†æ–¹æ³•</th>
<th>æ–¹æ³•æè¿°</th>
</tr>
</thead>
<tbody>
<tr>
<td>åˆ é™¤å«æœ‰å¼‚å¸¸å€¼çš„è®°å½•</td>
<td>-</td>
</tr>
<tr>
<td>è§†ä¸ºç¼ºå¤±å€¼</td>
<td>-</td>
</tr>
<tr>
<td>å¹³å‡å€¼ä¿®æ­£</td>
<td>-</td>
</tr>
<tr>
<td>ä¸å¤„ç†</td>
<td>-</td>
</tr>
</tbody>
</table>
<h2 id="2-Data-Integration"><a href="#2-Data-Integration" class="headerlink" title="2. Data Integration"></a>2. Data Integration</h2><p>æ•°æ®æŒ–æ˜éœ€è¦çš„æ•°æ®å¾€å¾€åˆ†å¸ƒåœ¨ä¸åŒçš„æ•°æ®æºä¸­, æ•°æ®é›†æˆ å°±æ˜¯å¤šä¸ªæ•°æ®æº åˆå¹¶åœ¨ä¸€ä¸ªä¸€è‡´çš„åœ°æ–¹å­˜å‚¨ã€‚</p>
<p>Data-Integrationï¼Œå¤šæ•°æ®æºdataè¡¨è¾¾å½¢å¼å¯èƒ½æœ‰å·®å¼‚ï¼Œæ‰€ä»¥å¯èƒ½éœ€è¦è€ƒè™‘<code>å®ä½“è¯†åˆ«</code>ã€<code>å±æ€§å†—ä½™</code> ç­‰é—®é¢˜ï¼Œå°†æºæ•°æ®åœ¨æœ€åº•å±‚åŠ ä»¥è½¬æ¢ã€æç‚¼ã€é›†æˆã€‚</p>
<h2 id="3-Data-Transformation"><a href="#3-Data-Transformation" class="headerlink" title="3. Data Transformation"></a>3. Data Transformation</h2><p>å¯¹æ•°æ®è¿›è¡Œè§„èŒƒåŒ–å¤„ç†ï¼Œå°†æ•°æ®è½¬æ¢æˆ â€œé€‚å½“çš„â€ å½¢å¼ï¼Œä»¥é€‚ç”¨äºæŒ–æ˜ä»»åŠ¡åŠç®—æ³•çš„éœ€è¦ã€‚</p>
<blockquote>
<p><a href="http://jingyan.baidu.com/article/f54ae2fc2354a31e92b84934.html" target="_blank" rel="external">æ­£æ€åˆ†å¸ƒ</a> ï¼š å¹³å‡æ•°ä¸Šä¸‹1.96ä¸ªæ ‡å‡†å·®çš„å¾—åˆ†å åˆ°95%çš„æ€»ä½“</p>
</blockquote>
<h3 id="3-1-ç®€å•å‡½æ•°å˜æ¢"><a href="#3-1-ç®€å•å‡½æ•°å˜æ¢" class="headerlink" title="3.1 ç®€å•å‡½æ•°å˜æ¢"></a>3.1 ç®€å•å‡½æ•°å˜æ¢</h3><p>å¸¸ç”¨æ¥ å°† ä¸å…·æœ‰æ­£æ€åˆ†å¸ƒçš„æ•°æ®å˜æ¢æˆå…·æœ‰æ­£æ€åˆ†å¸ƒçš„æ•°æ®ã€‚</p>
<h3 id="3-2-è§„èŒƒåŒ–"><a href="#3-2-è§„èŒƒåŒ–" class="headerlink" title="3.2 è§„èŒƒåŒ–"></a>3.2 è§„èŒƒåŒ–</h3><p>æ•°æ®è§„èŒƒåŒ–(å½’ä¸€åŒ–)å¤„ç†æ˜¯ æ•°æ®æŒ–æ˜ çš„ä¸€é¡¹åŸºç¡€å·¥ä½œã€‚</p>
<blockquote>
<p>æ¯”å¦‚å°† å·¥èµ„æ”¶å…¥ å±æ€§å€¼æ˜ å°„åˆ° [-1, 1] æˆ–è€… [0, 1] å†…ã€‚<br>æ•°æ®è§„èŒƒåŒ–å¯¹äºåŸºäº è·ç¦» çš„æŒ–æ˜ç®—æ³•æ¯”è¾ƒé‡è¦ã€‚</p>
</blockquote>
<p>(1). æœ€å° - æœ€å¤§ è§„èŒƒåŒ–<br>(2). é›¶ - å‡å€¼è§„èŒƒåŒ–<br>(3). å°æ•°å®šæ ‡è§„èŒƒåŒ–</p>
<h3 id="3-3-è¿ç»­å±æ€§ç¦»æ•£åŒ–"><a href="#3-3-è¿ç»­å±æ€§ç¦»æ•£åŒ–" class="headerlink" title="3.3 è¿ç»­å±æ€§ç¦»æ•£åŒ–"></a>3.3 è¿ç»­å±æ€§ç¦»æ•£åŒ–</h3><p>å¦‚ åˆ†ç±»ç®—æ³• (ID3ç®—æ³•ã€Aprioriç®—æ³•ç­‰)ï¼Œè¦æ±‚æ•°æ®æ˜¯ åˆ†ç±»å±æ€§å½¢å¼ã€‚éœ€å°†è¿ç»­å±æ€§å˜æ¢æˆ<strong>åˆ†ç±»</strong>å±æ€§ï¼Œå³ <code>è¿ç»­å±æ€§ç¦»æ•£åŒ–</code>.</p>
<p>(1). ç­‰å®½æ³•<br>(2). ç­‰é¢‘æ³•<br>(3). åŸºäºèšç±»åˆ†æçš„æ–¹æ³•</p>
<h3 id="3-4-å±æ€§æ„é€ "><a href="#3-4-å±æ€§æ„é€ " class="headerlink" title="3.4 å±æ€§æ„é€ "></a>3.4 å±æ€§æ„é€ </h3><p>ä¸ºäº†æå–æ›´æœ‰ç”¨çš„ä¿¡æ¯ï¼Œæé«˜æŒ–æ˜ç²¾åº¦ã€‚è‡ªå·±æ ¹æ®åŸæœ‰å±æ€§æ„é€ æ–°çš„æœ‰ä»·å€¼å±æ€§</p>
<blockquote>
<p>å¦‚ : ä¾›å…¥ç”µé‡ã€ä¾›å‡ºç”µé‡ã€‚ æ¨å‡º æ–°å±æ€§  <code>çº¿æŸç‡</code></p>
</blockquote>
<h3 id="3-5-å°æ³¢å˜æ¢"><a href="#3-5-å°æ³¢å˜æ¢" class="headerlink" title="3.5 å°æ³¢å˜æ¢"></a>3.5 å°æ³¢å˜æ¢</h3><p>ä¸€ç§æ–°å‹çš„æ•°æ®åˆ†æå·¥å…·ï¼Œè¿‘å¹´æ¥å…´èµ·çš„ä¿¡å·åˆ†ææ‰‹æ®µã€‚å°æ³¢åˆ†æç†è®ºå’Œæ–¹æ³•åœ¨ä¿¡å·å¤„ç†ã€å›¾åƒå¤„ç†ã€è¯­éŸ³å¤„ç†ã€æ¨¡å¼è¯†åˆ« ç­‰é¢†åŸŸåº”ç”¨å¹¿æ³›ã€‚</p>
<h2 id="4-Data-è§„çº¦"><a href="#4-Data-è§„çº¦" class="headerlink" title="4. Data è§„çº¦"></a>4. Data è§„çº¦</h2><p>å¤§æ•°æ®é›†ä¸Šè¿›è¡Œå¤æ‚çš„æ•°æ®æŒ–æ˜éœ€è¦å¾ˆé•¿æ—¶é—´ï¼Œ<code>æ•°æ®è§„çº¦</code> äº§ç”Ÿæ›´å°ä½†ä¿æŒåŸæ•°æ®å®Œæ•´æ€§çš„æ–°æ•°æ®é›†ã€‚</p>
<p>(1). å±æ€§è§„çº¦<br>(2). æ•°å€¼è§„çº¦</p>
<h2 id="5-Python-ä¸»è¦æ•°æ®é¢„å¤„ç†å‡½æ•°"><a href="#5-Python-ä¸»è¦æ•°æ®é¢„å¤„ç†å‡½æ•°" class="headerlink" title="5. Python ä¸»è¦æ•°æ®é¢„å¤„ç†å‡½æ•°"></a>5. Python ä¸»è¦æ•°æ®é¢„å¤„ç†å‡½æ•°</h2><table>
<thead>
<tr>
<th>name</th>
<th>function</th>
<th>lib</th>
</tr>
</thead>
<tbody>
<tr>
<td>interpolate</td>
<td>ä¸€ç»´ã€é«˜ç»´æ•°æ®æ’å€¼</td>
<td>Scipy</td>
</tr>
<tr>
<td>unique</td>
<td>å¾—åˆ°å•æŒ‡å…ƒç´ List</td>
<td>Pandas / Numpy</td>
</tr>
<tr>
<td>isnull</td>
<td></td>
<td>Pandas</td>
</tr>
<tr>
<td>notnull</td>
<td></td>
<td>Pandas</td>
</tr>
<tr>
<td>PCA</td>
<td>å¯¹æŒ‡æ ‡å˜é‡çŸ©é˜µè¿›è¡Œä¸»æˆåˆ†åˆ†æ</td>
<td>Scikit-Learn</td>
</tr>
<tr>
<td>random</td>
<td>ç”ŸæˆéšæœºçŸ©é˜µ</td>
<td>Numpy</td>
</tr>
</tbody>
</table>
<h2 id="6-Summary"><a href="#6-Summary" class="headerlink" title="6. Summary"></a>6. Summary</h2><ul>
<li>Data Clean</li>
<li>Data Integration</li>
<li>Data Transformation</li>
<li>Data è§„çº¦</li>
</ul>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[Pythonæ•°æ®åˆ†æä¸æŒ–æ˜å®æˆ˜ P3 data exploring]]></title>
      <url>http://iequa.com/2016/08/09/python-data-mining-p3-exploring/</url>
      <content type="html"><![CDATA[<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js"],
    jax: ["input/TeX"],
    tex2jax: {
      inlineMath: [ ['$','$'], ['\\(','\\)'] ],
      displayMath: [ ['$$','$$'], ['\[','\]'] ],
      processEscapes: true
    }
  });
</script>
<script type="text/javascript" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS_HTML,http://myserver.com/MathJax/config/local/local.js">
</script>

<p><strong>data mining steps</strong></p>
<ol>
<li>æŒ–æ˜ç›®æ ‡</li>
<li>æ•°æ®å–æ ·</li>
<li><code>æ•°æ®æ¢ç´¢</code></li>
<li>æ•°æ®é¢„å¤„ç†</li>
<li>æŒ–æ˜å»ºæ¨¡</li>
<li>æ¨¡å‹è¯„ä»·</li>
</ol>
<h2 id="1-Data-Quality-analysis"><a href="#1-Data-Quality-analysis" class="headerlink" title="1. Data Quality analysis"></a>1. Data Quality analysis</h2><h3 id="1-1-è„æ•°æ®"><a href="#1-1-è„æ•°æ®" class="headerlink" title="1.1 è„æ•°æ®"></a>1.1 è„æ•°æ®</h3><ul>
<li>ç¼ºå¤±å€¼</li>
<li>å¼‚å¸¸å€¼</li>
<li>ä¸ä¸€è‡´å€¼</li>
<li>é‡å¤æ•°æ®åŠå«æœ‰ç‰¹æ®Šç¬¦å· (å¦‚: #ã€*) çš„æ•°æ®ã€‚</li>
</ul>
<p><strong>ç¼ºå¤±å€¼</strong></p>
<p>(1). ç¼ºå¤±å€¼çš„å½±å“</p>
<ul>
<li>data mining model å°†ä¸¢å¤±å¤§é‡çš„æœ‰ç”¨ä¿¡æ¯</li>
<li>data mining model ä¸ç¡®å®šæ€§å¢åŠ ï¼Œmodel è•´æ¶µçš„è§„å¾‹æ›´éš¾æŠŠæ¡</li>
<li>åŒ…å« NULL å€¼çš„æ•°æ®ä¼šä½¿ model è¿‡ç¨‹é™·å…¥æ··ä¹±, å¯¼è‡´ä¸å¯é è¾“å‡º</li>
</ul>
<p>(2). ç¼ºå¤±å€¼çš„åˆ†æ</p>
<ul>
<li>å¤„ç†å¯ä»¥é€‰æ‹©å¿½ç•¥ï¼Œæˆ–è€…è¡¥å…¨ç­‰ã€‚</li>
</ul>
<p><strong>å¼‚å¸¸å€¼</strong></p>
<blockquote>
<p>å¼‚å¸¸å€¼ æ˜¯æŒ‡æ ·æœ¬ä¸­çš„ä¸ªåˆ«å€¼, å…¶æ•°å€¼æ˜æ˜¾åç¦»å…¶ä½™çš„è§‚æµ‹å€¼ã€‚ä¹Ÿç§°ä¸º ç¦»ç¾¤ç‚¹ã€‚</p>
</blockquote>
<ul>
<li>ç®€å•ç»Ÿè®¡é‡åˆ†æï¼ˆ0~199 ageï¼‰</li>
<li>3 $\sigma$ åŸåˆ™ ( $p(|x-u| &gt; 3\sigma|) &lt;= 0.003$)</li>
<li>ç®±å‹å›¾åˆ†æ</li>
</ul>
<blockquote>
<p>3 $\sigma$ åŸåˆ™ (æœä»æ­£æ€åˆ†å¸ƒä¸‹ï¼Œå¼‚å¸¸å€¼å®šä¹‰ä¸ºæµ‹å®šå€¼ä¸å‡å€¼è¶…è¿‡3å€æ ‡å‡†å·®çš„å€¼ $p(|x-u| &gt; 3\sigma|) &lt;= 0.003$)</p>
</blockquote>
<h2 id="2-Data-Feature-analysis"><a href="#2-Data-Feature-analysis" class="headerlink" title="2. Data Feature analysis"></a>2. Data Feature analysis</h2><h3 id="2-1-å®šé‡æ•°æ®çš„åˆ†å¸ƒåˆ†æ"><a href="#2-1-å®šé‡æ•°æ®çš„åˆ†å¸ƒåˆ†æ" class="headerlink" title="2.1 å®šé‡æ•°æ®çš„åˆ†å¸ƒåˆ†æ"></a>2.1 å®šé‡æ•°æ®çš„åˆ†å¸ƒåˆ†æ</h3><ol>
<li>æå·®</li>
<li>ç»„è·ã€ç»„æ•°</li>
<li>åˆ†ç‚¹ã€é¢‘ç‡</li>
</ol>
<h3 id="2-2-å¯¹æ¯”åˆ†æ"><a href="#2-2-å¯¹æ¯”åˆ†æ" class="headerlink" title="2.2 å¯¹æ¯”åˆ†æ"></a>2.2 å¯¹æ¯”åˆ†æ</h3><ol>
<li>ç»å¯¹æ•°</li>
<li>ç›¸å¯¹æ•°</li>
</ol>
<h3 id="2-3-ç»Ÿè®¡é‡åˆ†æ"><a href="#2-3-ç»Ÿè®¡é‡åˆ†æ" class="headerlink" title="2.3 ç»Ÿè®¡é‡åˆ†æ"></a>2.3 ç»Ÿè®¡é‡åˆ†æ</h3><p>ç”¨ç»Ÿè®¡æŒ‡æ ‡å¯¹å®šé‡æ•°æ®è¿›è¡Œç»Ÿè®¡æè¿°ï¼Œå¸¸ä»é›†ä¸­è¶‹åŠ¿å’Œç¦»ä¸­è¶‹åŠ¿ä¸¤ä¸ªæ–¹é¢è¿›è¡Œåˆ†æã€‚</p>
<ul>
<li>é›†ä¸­åº¦é‡ : <strong>å‡å€¼</strong> &amp; <strong>ä¸­ä½æ•°</strong>  </li>
<li>ç¦»ä¸­åº¦é‡ : <strong>æ ‡å‡†å·® (æ–¹å·®)ã€å››åˆ†ä½é—´è·</strong>  </li>
</ul>
<p><strong>(1). é›†ä¸­è¶‹åŠ¿åº¦é‡</strong>  </p>
<ol>
<li>å‡å€¼</li>
<li>ä¸­ä½æ•°</li>
<li>ä¼—æ•°</li>
</ol>
<p><strong>(2). ç¦»ä¸­è¶‹åŠ¿åº¦é‡</strong>  </p>
<ol>
<li>æå·®</li>
<li>æ ‡å‡†å·®</li>
<li>å˜å¼‚ç³»æ•°</li>
<li>å››åˆ†ä½æ•°é—´è·</li>
</ol>
<blockquote>
<p>å˜å¼‚ç³»æ•°åº¦é‡ æ ‡å‡†å·® ç›¸å¯¹äº å‡å€¼çš„ç¦»ä¸­è¶‹åŠ¿</p>
</blockquote>
<p>statistics_analyze.py</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment">#-*- coding: utf-8 -*-</span></span><br><span class="line"><span class="comment">#é¤é¥®é”€é‡æ•°æ®ç»Ÿè®¡é‡åˆ†æ</span></span><br><span class="line"><span class="keyword">from</span> __future__ <span class="keyword">import</span> print_function</span><br><span class="line"><span class="keyword">import</span> pandas <span class="keyword">as</span> pd</span><br><span class="line"></span><br><span class="line">catering_sale = <span class="string">'../data/catering_sale.xls'</span> <span class="comment">#é¤é¥®æ•°æ®</span></span><br><span class="line">data = pd.read_excel(catering_sale, index_col = <span class="string">u'æ—¥æœŸ'</span>) <span class="comment">#è¯»å–æ•°æ®ï¼ŒæŒ‡å®šâ€œæ—¥æœŸâ€åˆ—ä¸ºç´¢å¼•åˆ—</span></span><br><span class="line">data = data[(data[<span class="string">u'é”€é‡'</span>] &gt; <span class="number">400</span>)&amp;(data[<span class="string">u'é”€é‡'</span>] &lt; <span class="number">5000</span>)] <span class="comment">#è¿‡æ»¤å¼‚å¸¸æ•°æ®</span></span><br><span class="line">statistics = data.describe() <span class="comment">#ä¿å­˜åŸºæœ¬ç»Ÿè®¡é‡</span></span><br><span class="line"></span><br><span class="line">statistics.loc[<span class="string">'range'</span>] = statistics.loc[<span class="string">'max'</span>]-statistics.loc[<span class="string">'min'</span>] <span class="comment">#æå·®</span></span><br><span class="line">statistics.loc[<span class="string">'var'</span>] = statistics.loc[<span class="string">'std'</span>]/statistics.loc[<span class="string">'mean'</span>] <span class="comment">#å˜å¼‚ç³»æ•°</span></span><br><span class="line">statistics.loc[<span class="string">'dis'</span>] = statistics.loc[<span class="string">'75%'</span>]-statistics.loc[<span class="string">'25%'</span>] <span class="comment">#å››åˆ†ä½æ•°é—´è·</span></span><br><span class="line"></span><br><span class="line">print(statistics)</span><br></pre></td></tr></table></figure>
<p>Output</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">           é”€é‡</span><br><span class="line">count   195.000000</span><br><span class="line">mean   2744.595385</span><br><span class="line">std     424.739407</span><br><span class="line">min     865.000000</span><br><span class="line">25%    2460.600000</span><br><span class="line">50%    2655.900000</span><br><span class="line">75%    3023.200000</span><br><span class="line">max    4065.200000</span><br><span class="line">range  3200.200000</span><br><span class="line">var       0.154755</span><br><span class="line">dis     562.600000</span><br></pre></td></tr></table></figure>
<h3 id="2-4-å‘¨æœŸæ€§åˆ†æ"><a href="#2-4-å‘¨æœŸæ€§åˆ†æ" class="headerlink" title="2.4 å‘¨æœŸæ€§åˆ†æ"></a>2.4 å‘¨æœŸæ€§åˆ†æ</h3><h3 id="2-5-è´¡çŒ®åº¦åˆ†æ"><a href="#2-5-è´¡çŒ®åº¦åˆ†æ" class="headerlink" title="2.5 è´¡çŒ®åº¦åˆ†æ"></a>2.5 è´¡çŒ®åº¦åˆ†æ</h3><blockquote>
<p>è´¡çŒ®åº¦åˆ†æ ç§° å¸•ç´¯æ‰˜åˆ†æã€‚åŸç†æ˜¯ å¸•ç´¯æ‰˜ æ³•åˆ™ã€‚åˆç§° 20/80 å®šå¾‹ã€‚åŒæ ·çš„æŠ•å…¥æ”¾åœ¨ä¸åŒçš„åœ°æ–¹ä¼šäº§ç”Ÿä¸åŒçš„æ•ˆç›Šã€‚å¯¹äº å…¬å¸ æ¥è¯´ï¼Œä¸€èˆ¬æƒ…å†µéƒ½æ˜¯ 80% çš„åˆ©æ¶¦å¸¸å¸¸æ¥è‡ªäº 20% æœ€ç•…é”€çš„äº§å“ã€‚</p>
</blockquote>
<h3 id="2-6-ç›¸å…³æ€§åˆ†æ"><a href="#2-6-ç›¸å…³æ€§åˆ†æ" class="headerlink" title="2.6 ç›¸å…³æ€§åˆ†æ"></a>2.6 ç›¸å…³æ€§åˆ†æ</h3><blockquote>
<p>åˆ†æè¿ç»­å˜é‡ä¹‹é—´çº¿æ€§ç›¸å…³ç¨‹åºçš„å¼ºå¼±ï¼Œå¹¶ç”¨é€‚å½“çš„ç»Ÿè®¡æŒ‡æ ‡è¡¨ç¤ºå‡ºæ¥çš„è¿‡ç¨‹ç§°ä¸ºç›¸å…³åˆ†æã€‚</p>
</blockquote>
<ol>
<li>ç›´æ¥ç»˜åˆ¶æ•£ç‚¹å›¾</li>
<li>ç»˜åˆ¶æ•£ç‚¹å›¾çŸ©é˜µ</li>
<li>è®¡ç®—ç›¸å…³ç³»æ•°</li>
</ol>
<p><strong>è®¡ç®—æœºç›¸å…³ç³»æ•°</strong></p>
<p>(1). Pearson ç›¸å…³ç³»æ•°</p>
<p>ä¸€èˆ¬ç”¨äºåˆ†æä¸¤ä¸ªè¿ç»­æ€§å˜é‡ä¹‹é—´çš„å…³ç³»</p>
<p>(2). Spearman è½¶ç›¸å…³ç³»æ•°</p>
<p>ä¸æœä»æ­£æ€åˆ†å¸ƒçš„å˜é‡, åˆ†ç±»æˆ–ç­‰çº§å˜é‡ä¹‹é—´çš„ç›¸å…³æ€§å¯é‡‡ç”¨ Spearman è½¶ç›¸å…³ç³»æ•°ã€‚</p>
<p>(3). åˆ¤å®šç³»æ•°</p>
<p>åˆ¤å®šç³»æ•° æ˜¯ç›¸å…³ç³»æ•°çš„å¹³æ–¹ï¼Œç”¨ $r^2$ è¡¨ç¤º; ç”¨æ¥è¡¡é‡å›å½’æ–¹å¼å¯¹ $y$ çš„è§£é‡Šç¨‹åº¦ã€‚</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">           ç™¾åˆé…±è’¸å‡¤çˆª    ç¿¡ç¿ è’¸é¦™èŒœé¥º   é‡‘é“¶è’œæ±è’¸æ’éª¨     ä¹è†³çœŸå‘³é¸¡     èœœæ±ç„—é¤åŒ…      ç”Ÿç‚’èœå¿ƒ    é“æ¿é…¸èœè±†è…</span><br><span class="line">ç™¾åˆé…±è’¸å‡¤çˆª   1.000000  0.009206  0.016799  0.455638  0.098085  0.308496  0.204898   </span><br><span class="line">ç¿¡ç¿ è’¸é¦™èŒœé¥º   0.009206  1.000000  0.304434 -0.012279  0.058745 -0.180446 -0.026908   </span><br><span class="line">é‡‘é“¶è’œæ±è’¸æ’éª¨  0.016799  0.304434  1.000000  0.035135  0.096218 -0.184290  0.187272   </span><br><span class="line">ä¹è†³çœŸå‘³é¸¡    0.455638 -0.012279  0.035135  1.000000  0.016006  0.325462  0.297692   </span><br><span class="line">èœœæ±ç„—é¤åŒ…    0.098085  0.058745  0.096218  0.016006  1.000000  0.308454  0.502025   </span><br><span class="line">ç”Ÿç‚’èœå¿ƒ     0.308496 -0.180446 -0.184290  0.325462  0.308454  1.000000  0.369787   </span><br><span class="line">é“æ¿é…¸èœè±†è…   0.204898 -0.026908  0.187272  0.297692  0.502025  0.369787  1.000000</span><br></pre></td></tr></table></figure>
<h2 id="3-Python-data-discovery-function"><a href="#3-Python-data-discovery-function" class="headerlink" title="3. Python data discovery function"></a>3. Python data discovery function</h2><h3 id="3-1-feature-functions"><a href="#3-1-feature-functions" class="headerlink" title="3.1 feature functions"></a>3.1 feature functions</h3><table>
<thead>
<tr>
<th>name</th>
<th>function</th>
<th>lib</th>
</tr>
</thead>
<tbody>
<tr>
<td>D.sum()</td>
<td>data sample æ€»å’Œ (æŒ‰åˆ—è®¡ç®—)</td>
<td>pandas</td>
</tr>
<tr>
<td>mean()</td>
<td>ç®—æœ¯å¹³å‡æ•°</td>
<td>pandas</td>
</tr>
<tr>
<td>var()</td>
<td>æ–¹å·®</td>
<td>pandas</td>
</tr>
<tr>
<td>std()</td>
<td>æ ‡å‡†å·®</td>
<td>pandas</td>
</tr>
<tr>
<td>corr()</td>
<td>Spearman (Pearson)ç›¸å…³ç³»æ•°çŸ©é˜µ</td>
<td>pandas</td>
</tr>
<tr>
<td>cov()</td>
<td>åæ–¹å·®çŸ©é˜µ</td>
<td>pandas</td>
</tr>
<tr>
<td>skew()</td>
<td>æ ·æœ¬å€¼çš„ååº¦(ä¸‰é˜¶çŸ©)</td>
<td>pandas</td>
</tr>
<tr>
<td>kurt()</td>
<td>æ ·æœ¬å€¼çš„å³°åº¦(å››é˜¶çŸ©)</td>
<td>pandas</td>
</tr>
<tr>
<td>describe()</td>
<td>ç»™å‡ºæ ·æœ¬çš„åŸºæœ¬æè¿°(å¦‚ï¼šmean, var ç­‰åŸºæœ¬ç»Ÿè®¡é‡)</td>
<td>pandas</td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr>
<th>name</th>
<th>function</th>
<th>lib</th>
</tr>
</thead>
<tbody>
<tr>
<td>cumsum()</td>
<td>ä¾æ¬¡ç»™å‡ºå‰ 1ã€2ã€3â€¦n ä¸ªæ•°çš„ sum</td>
<td>pandas</td>
</tr>
<tr>
<td>cumprod()</td>
<td>ä¾æ¬¡ç»™å‡ºå‰ 1ã€2ã€3â€¦n ä¸ªæ•°çš„ ç§¯</td>
<td>pandas</td>
</tr>
<tr>
<td>cummax()</td>
<td>ä¾æ¬¡ç»™å‡ºå‰ 1ã€2ã€3â€¦n ä¸ªæ•°çš„ max</td>
<td>pandas</td>
</tr>
<tr>
<td>cummin()</td>
<td>ä¾æ¬¡ç»™å‡ºå‰ 1ã€2ã€3â€¦n ä¸ªæ•°çš„ min</td>
<td>pandas</td>
</tr>
<tr>
<td>rolling_sum()</td>
<td>è®¡ç®—data sampleçš„æ€»å’Œ(æŒ‰åˆ—è®¡ç®—)</td>
<td>pandas</td>
</tr>
<tr>
<td>rolling_mean()</td>
<td>è®¡ç®—data sampleçš„ç®—æœ¯å¹³å‡æ•°</td>
<td>pandas</td>
</tr>
<tr>
<td>rolling_var()</td>
<td>è®¡ç®—data sampleçš„æ–¹å·®</td>
<td>pandas</td>
</tr>
<tr>
<td>â€¦</td>
<td>â€¦</td>
<td>pandas</td>
</tr>
</tbody>
</table>
<h3 id="3-2-make-picture-functions"><a href="#3-2-make-picture-functions" class="headerlink" title="3.2 make-picture functions"></a>3.2 make-picture functions</h3><table>
<thead>
<tr>
<th>name</th>
<th>function</th>
<th>lib</th>
</tr>
</thead>
<tbody>
<tr>
<td>plot()</td>
<td>ç»˜åˆ¶çº¿æ€§äºŒç»´å›¾ã€æŠ˜çº¿å›¾</td>
<td>Matplotlib / Pandas</td>
</tr>
<tr>
<td>pie()</td>
<td>ç»˜åˆ¶çº¿é¥¼å‹å›¾</td>
<td>Matplotlib / Pandas</td>
</tr>
<tr>
<td>hist()</td>
<td>ç»˜åˆ¶çº¿æ€§äºŒç»´æ¡å½¢ç›´æ–¹å›¾ï¼Œå¯æ˜¾ç¤ºæ•°æ®çš„åˆ†é…æƒ…å½¢</td>
<td>Matplotlib / Pandas</td>
</tr>
<tr>
<td>boxplot()</td>
<td>ç»˜åˆ¶æ ·æœ¬æ•°æ®çš„ç®±å‹å›¾</td>
<td>Pandas</td>
</tr>
<tr>
<td>plot(logy=true)</td>
<td>ç»˜åˆ¶ $y$ è½´çš„å¯¹æ•°å›¾å½¢</td>
<td>Pandas</td>
</tr>
<tr>
<td>plot(yerr=error)</td>
<td>ç»˜åˆ¶è¯¯å·®æ¡å½¢å›¾</td>
<td>Pandas</td>
</tr>
</tbody>
</table>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt <span class="comment">#å¯¼å…¥å›¾åƒåº“</span></span><br><span class="line">plt.rcParams[<span class="string">'font.sans-serif'</span>] = [<span class="string">'SimHei'</span>] <span class="comment">#ç”¨æ¥æ­£å¸¸æ˜¾ç¤ºä¸­æ–‡æ ‡ç­¾</span></span><br><span class="line">plt.rcParams[<span class="string">'axes.unicode_minus'</span>] = <span class="keyword">False</span> <span class="comment">#ç”¨æ¥æ­£å¸¸æ˜¾ç¤ºè´Ÿå·</span></span><br><span class="line">plt.figure(figsize = (<span class="number">7</span>, <span class="number">5</span>)) <span class="comment"># åˆ›å»ºå›¾åƒåŒºåŸŸï¼ŒæŒ‡å®šæ¯”ä¾‹</span></span><br><span class="line">...</span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure>
<h2 id="4-Summary"><a href="#4-Summary" class="headerlink" title="4. Summary"></a>4. Summary</h2><ul>
<li>Data Quality analysis</li>
<li>Data Feature analysis</li>
<li>Data discovery function</li>
</ul>
<blockquote>
<p>Data Feature analysis åœ¨æ•°æ®æŒ–æ˜å»ºæ¨¡ä¹‹å‰ï¼Œé€šè¿‡ <code>é¢‘ç‡åˆ†å¸ƒåˆ†æ</code>ã€å¯¹æ¯”åˆ†æã€å‘¨æœŸæ€§åˆ†æã€<code>ç›¸å…³æ€§åˆ†æ</code> ç­‰æ–¹æ³•ï¼Œå¯¹ data sample çš„ feature è§„å¾‹ è¿›è¡Œåˆ†æï¼Œäº†è§£æ•°æ®çš„è§„å¾‹å’Œè¶‹åŠ¿ï¼Œä¸ºæ•°æ®æŒ–æ˜æä¾›æ”¯æŒã€‚</p>
</blockquote>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[Hobbies and interests]]></title>
      <url>http://iequa.com/2016/08/07/ef-l3u1-Hobbies-and-interests/</url>
      <content type="html"><![CDATA[<style>
img {
        display: block !important;
        width: 500px;
        margin-left: 200px !important;
}
</style>

<h2 id="1-Talking-about-your-hobbies-and-interests"><a href="#1-Talking-about-your-hobbies-and-interests" class="headerlink" title="1. Talking about your hobbies and interests"></a>1. Talking about your hobbies and interests</h2><ul>
<li>stamp collectingã€taking photographs</li>
<li>woodworkingã€readingã€running</li>
<li>cookingã€drawingã€sewing [ËˆsÉ™ÊŠÉªÅ‹] </li>
</ul>
<p><img src="/images/english/ef-l3u1l1-2.png" alt=""></p>
<ul>
<li>travelingã€oil paintingã€gardeningã€camping</li>
<li>birdwatchingã€grow vegetables</li>
<li>going to the theater [â€˜Î¸ÉªÉ™tÉ™]</li>
<li>going to an exhibit [Éªgâ€™zÉªbÉªt]</li>
<li>collecting comic books [â€˜kÉ’mÉªk]</li>
</ul>
<p><img src="/images/english/ef-l3u1l2-1.png" alt=""></p>
<h3 id="be-good-at-be-interested-in"><a href="#be-good-at-be-interested-in" class="headerlink" title="be good at = be interested in"></a>be good at = be interested in</h3><p>A: <font color="#c7254e">What are you interested in?</font>  </p>
<p>A: What do you like doing?<br>B: Iâ€™m into doing things at home.  </p>
<p>A: Are you good at (interested in) cooking?<br>B: Sheâ€™s good at drawing.</p>
<p>A: <font color="#c7254e">What do you like to do in your free time?</font><br>B: I enjoy stamp collecting.<br>B: I like getting together with friends.</p>
<h2 id="2-Asking-people-about-their-interests"><a href="#2-Asking-people-about-their-interests" class="headerlink" title="2. Asking people about their interests"></a>2. Asking people about their interests</h2><p>A: <font color="#c7254e">How often</font> do you travel?<br>B: Well, I go to China every summer.</p>
<p>A: <font color="#c7254e">Do you ever</font> go fishing?<br>B: No, I donâ€™t. </p>
<p>A : <font color="#c7254e">What do you usually do?</font><br>B : Well, I watch TV. And I sometimes read comic books.</p>
<p>A: I do fun things near home.<br>B: <font color="#c7254e">Like what?</font><br>A: Like collecting comic books.  </p>
<p>A: <font color="#c7254e">What else do you like to do?</font><br>B: Well, I really like gardening.</p>
<h3 id="frequency"><a href="#frequency" class="headerlink" title="frequency"></a>frequency</h3><p>100% = alwaysã€80% = usuallyã€60% = often<br>40% = sometimesã€20% = rarelyã€0% = never  </p>
<h2 id="3-Talking-about-musical-instruments"><a href="#3-Talking-about-musical-instruments" class="headerlink" title="3. Talking about musical instruments"></a>3. Talking about musical instruments</h2><ul>
<li>cello piano guitar</li>
<li>violin trumpet drums</li>
<li>flute saxophone</li>
</ul>
<p><img src="/images/english/ef-l3u1l3-1.png" alt=""></p>
<p>Three people in my family can play a <code>musical instrument</code>. I play the saxophone. My father and mother play the violin. My sister canâ€™t play an instrument, but she can sing. Sometimes, people ask us to play a song.</p>
<p><strong>My Piano and Me</strong></p>
<p>Iâ€™m really into my piano. Itâ€™s very old and has a beautiful sound. Sometimes my friends come to my house. They enjoy listening to me play. They always ask me to play a new song. I can say beautiful things with piano music.</p>
<h2 id="4-Making-plans-for-a-visitor"><a href="#4-Making-plans-for-a-visitor" class="headerlink" title="4. Making plans for a visitor"></a>4. Making plans for a visitor</h2><p><img src="/images/english/ef-l3u1l4.png" alt=""></p>
<table>
<thead>
<tr>
<th><strong>Main Dialog</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td>[JOAN] Hi. Listen, Carlos, <code>do you have any plans</code> this weekend?</td>
<td></td>
</tr>
<tr>
<td>[Carlos] No , Why?</td>
<td></td>
</tr>
<tr>
<td>[JOAN] Gonzales is visiting. Heâ€™s the manager of the Mexico City office. And Iâ€™m <code>out of town</code> all weekend.</td>
<td></td>
</tr>
<tr>
<td>[Carlos] Right?</td>
<td></td>
</tr>
<tr>
<td>[JOAN] Can you show him around? Carlos  Itâ€™s really important.</td>
<td></td>
</tr>
<tr>
<td>[Carlos] Of courseï¼Œshow him aroundã€‚ <code>What&#39;s He interested in</code>?</td>
<td></td>
</tr>
<tr>
<td>[JOAN] I know he enjoys eating out.</td>
<td></td>
</tr>
<tr>
<td>[CARLOS] Well, I know a lot of good restaurants.</td>
<td></td>
</tr>
<tr>
<td>[JOAN] Oh, and heâ€™s really into art.</td>
<td></td>
</tr>
<tr>
<td>[CARLOS] Thereâ€™s probably a good exhibition at the art museum.</td>
<td></td>
</tr>
<tr>
<td>[JOAN] Great. Thank you. Look - you can have two extra daysâ€™ vacation for this.</td>
<td></td>
</tr>
<tr>
<td>[CARLOS] really? Thanks.</td>
<td></td>
</tr>
</tbody>
</table>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[æ™šä¸Šè€æ˜¯åšæ¢¦æ€ä¹ˆåŠ]]></title>
      <url>http://iequa.com/2016/08/07/society-health-sleep/</url>
      <content type="html"><![CDATA[<h2 id="1-ç¡è§‰å‰å°½é‡ä¸è¦å¤šæƒ³"><a href="#1-ç¡è§‰å‰å°½é‡ä¸è¦å¤šæƒ³" class="headerlink" title="1. ç¡è§‰å‰å°½é‡ä¸è¦å¤šæƒ³"></a>1. ç¡è§‰å‰å°½é‡ä¸è¦å¤šæƒ³</h2><p>æˆ‘æœ‰æ—¶å€™ä¹Ÿç»å¸¸è¿™æ ·ï¼Œèººåˆ°åºŠä¸Šä¸æ˜¯å°½å¿«çš„å…¥ç¡è€Œæ˜¯èƒ¡æ€ä¹±æƒ³ï¼Œæƒ³æƒ³ä»Šå¤©å¹²äº†äº›ä»€ä¹ˆå•¦ï¼Œæœ‰äº›ä»€ä¹ˆæ–°é²œäº‹äº†ï¼Œæ˜å¤©åˆæœ‰ä»€ä¹ˆäº‹æƒ…è¦åšã€‚è¿™æ ·çš„ç»“æœå¯¼è‡´äº†ç¡è§‰ç¡ä¸å¥½ï¼Œè€æ˜¯åŠå¤œè¢«æ¢¦æƒŠé†’ï¼ˆå™©æ¢¦ï¼‰ã€‚å› æ­¤æˆ‘ä»¬ç¡è§‰å‰æœ€å¥½ä¸è¦å¤šæƒ³ï¼Œè®©è‡ªå·±å¹³é™ä¸€äº›ï¼Œå°½å¿«çš„è¿›å…¥æ¢¦ä¹¡ï¼Œå³ä½¿æ˜¯åšæ¢¦ä¹Ÿåšä¸ªå¥½æ¢¦ã€‚</p>
<p><img src="/images/sleep01.jpg" width="460" height="300" img=""></p>
<h2 id="2-ç¡å‰å¯ä»¥å¬ä¸€äº›è½»éŸ³ä¹"><a href="#2-ç¡å‰å¯ä»¥å¬ä¸€äº›è½»éŸ³ä¹" class="headerlink" title="2. ç¡å‰å¯ä»¥å¬ä¸€äº›è½»éŸ³ä¹"></a>2. ç¡å‰å¯ä»¥å¬ä¸€äº›è½»éŸ³ä¹</h2><p>å¬ä¸€äº›éŸ³ä¹å¯ä»¥ç¼“è§£æˆ‘ä»¬çš„å¿ƒæƒ…ï¼Œå°¤å…¶æ˜¯è½»éŸ³ä¹ï¼Œå¯ä»¥ä½¿æˆ‘ä»¬çš„å¤§è„‘å¾—åˆ°æ”¾æ¾ï¼Œä¸è‡³äºæœ‰å¤ªå¤§çš„å‹åŠ›ã€‚æˆ‘ä»¬è¿˜å¯ä»¥å°½å¿«çš„å…¥ç¡ï¼Œæˆ‘ç¡è§‰å‰å°±æ¯”è¾ƒå–œæ¬¢å¬ä¸€äº›æ­Œï¼Œæˆ´ä¸Šè€³æœºï¼Œæ”¾ä½éŸ³é‡ï¼Œä½¿è‡ªå·±å°½å¿«çš„å…¥ç¡ã€‚ç›¸ä¿¡è¿™æ ·æˆ‘ä»¬å¯ä»¥ä¸€è§‰ç¡åˆ°å¤©äº®ï¼Œå°±ä¸ä¼šå†åšæ¶æ¢¦äº†ã€‚</p>
<p><img src="/images/sleep02.jpg" width="460" height="300" img=""></p>
<h2 id="3-ç¡è§‰å‰ä¸è¦å†åšè¿‡å¤šçš„äº‹æƒ…"><a href="#3-ç¡è§‰å‰ä¸è¦å†åšè¿‡å¤šçš„äº‹æƒ…" class="headerlink" title="3. ç¡è§‰å‰ä¸è¦å†åšè¿‡å¤šçš„äº‹æƒ…"></a>3. ç¡è§‰å‰ä¸è¦å†åšè¿‡å¤šçš„äº‹æƒ…</h2><p>ç»™è‡ªå·±ä¸€ä¸ªç¼“å†²çš„æ—¶é—´ã€‚å¿™äº†ä¸€å¤©çš„å·¥ä½œï¼Œå›åˆ°å®¶å°±è¦æ­‡ä¸€æ­‡äº†ã€‚ç¡è§‰ä¹‹å‰å°±æ›´ä¸è¦å†åšäº‹æƒ…å¿™å·¥ä½œäº†ï¼Œç»™è‡ªå·±ä¸€ä¸ªä¼‘æ¯çš„æ—¶é—´ï¼Œç¡è§‰å‰ä¹Ÿå¯ä»¥å¾—åˆ°æ”¾æ¾ã€‚æœ‰äº†è¿™æ ·ä¸€ä¸ªç¼“å†²çš„æ—¶é—´ï¼Œæ™šä¸Šä¹Ÿå°±ä¸ä¼šå†æ¢¦åˆ°å·¥ä½œï¼Œç”µè„‘ï¼Œå¿™ç¢Œäº†ã€‚</p>
<p><img src="/images/life-sleep-03.jpg" alt="sleep3"></p>
<h2 id="4-æ—©ä¸€ç‚¹å…¥ç¡"><a href="#4-æ—©ä¸€ç‚¹å…¥ç¡" class="headerlink" title="4. æ—©ä¸€ç‚¹å…¥ç¡"></a>4. æ—©ä¸€ç‚¹å…¥ç¡</h2><p>è°ƒæ•´å¥½è‡ªå·±çš„ä½œæ¯ã€‚å¾ˆå¤šäººä¼šè¯´ç¡çš„è¿Ÿä¸€ç‚¹ï¼Œå…¥ç¡å¾ˆå¿«ã€‚ä½†æ˜¯æœ‰æ—¶å€™æˆ‘ä»¬ç¡å¾—è¶Šæ˜¯è¿Ÿï¼Œåè€Œè¶Šç¡ä¸ç€ï¼Œè„‘è¢‹ä¹Ÿæ€»æ˜¯æµ®ç°å¾ˆå¤šçš„ç”»é¢ï¼Œæ™šä¸Šåˆæ˜¯åšæ¢¦ã€‚æ‰€ä»¥è®°å¾—è¦æ—©ç¡æ—©èµ·ï¼Œå®‰æ’å¥½è‡ªå·±çš„ä½œæ¯æ—¶é—´è¡¨ï¼Œè‰¯å¥½çš„ä¹ æƒ¯å¯ä»¥ä¿è¯æˆ‘ä»¬çš„ç¡çœ è´¨é‡ã€‚</p>
<p><img src="/images/life-sleep-04.jpg" alt="sleep4"></p>
<h2 id="5-å¦‚æ²¡æœ‰æ”¹å–„ï¼Œåˆ™å»çœ‹åŒ»ç”Ÿã€‚"><a href="#5-å¦‚æ²¡æœ‰æ”¹å–„ï¼Œåˆ™å»çœ‹åŒ»ç”Ÿã€‚" class="headerlink" title="5. å¦‚æ²¡æœ‰æ”¹å–„ï¼Œåˆ™å»çœ‹åŒ»ç”Ÿã€‚"></a>5. å¦‚æ²¡æœ‰æ”¹å–„ï¼Œåˆ™å»çœ‹åŒ»ç”Ÿã€‚</h2><p><a href="http://jingyan.baidu.com/album/92255446e82440851648f409.html?picindex=1" target="_blank" rel="external">è½¬è‡ªç™¾åº¦ç»éªŒ</a></p>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[MAC OSX Update Python Version]]></title>
      <url>http://iequa.com/2016/08/04/ops-macosx-update-python-version/</url>
      <content type="html"><![CDATA[<blockquote>
<p>by update Python 3.5.2 as example</p>
</blockquote>
<h2 id="1-Download"><a href="#1-Download" class="headerlink" title="1. Download"></a>1. Download</h2><ul>
<li><a href="https://www.python.org/downloads/mac-osx/" target="_blank" rel="external">https://www.python.org/downloads/mac-osx/</a></li>
<li>Latest Python 3 Release - Python 3.5.2</li>
</ul>
<h2 id="2-Install"><a href="#2-Install" class="headerlink" title="2. Install"></a>2. Install</h2><ul>
<li>python-3.5.2-macosx10.6.pkg</li>
</ul>
<h2 id="3-Update"><a href="#3-Update" class="headerlink" title="3. Update"></a>3. Update</h2><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="meta">#!/bin/bash</span></span><br><span class="line"><span class="comment">#pythonç‰ˆå·éœ€è¦ä¿®æ”¹ä¸¤ä¸ªåœ°æ–¹</span></span><br><span class="line"><span class="comment">#1. new_version</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#sudo -i #å¾—åˆ°è¶…çº§æƒé™</span></span><br><span class="line">new_version=<span class="string">"3.5"</span></span><br><span class="line"></span><br><span class="line">PYPATH=/System/Library/Frameworks/Python.framework/Versions/<span class="string">"<span class="variable">$new_version</span>"</span></span><br><span class="line"><span class="comment">#ç¬¬1æ­¥ ç§»åŠ¨æ–°ç‰ˆpythonåˆ°macé»˜è®¤ç›®å½•ä¸‹</span></span><br><span class="line"><span class="built_in">echo</span> <span class="string">"move.."</span></span><br><span class="line">mv /Library/Frameworks/Python.framework/Versions/<span class="string">"<span class="variable">$new_version</span>"</span> /System/Library/Frameworks/Python.framework/Versions/</span><br><span class="line"><span class="comment">#ç¬¬2æ­¥ æ”¹å˜ç”¨æˆ·ç›®å½•çš„ç”¨æˆ·ç»„</span></span><br><span class="line"><span class="built_in">echo</span> <span class="string">"chown.."</span></span><br><span class="line">chown -R root:wheel <span class="variable">$&#123;PYPATH&#125;</span></span><br><span class="line"><span class="comment">#ç¬¬3æ­¥ åˆ é™¤åŸæ¥2.7çš„é“¾æ¥æ–‡ä»¶</span></span><br><span class="line"><span class="built_in">echo</span> <span class="string">"del.."</span></span><br><span class="line">rm /System/Library/Frameworks/Python.framework/Versions/Current</span><br><span class="line"><span class="comment">#ç¬¬4æ­¥ é‡æ–°é“¾æ¥åˆ°æœ€æ–°ç‰ˆæœ¬çš„python</span></span><br><span class="line"><span class="built_in">echo</span> <span class="string">"ln.."</span></span><br><span class="line">ln <span class="_">-s</span> <span class="variable">$&#123;PYPATH&#125;</span> /System/Library/Frameworks/Python.framework/Versions/Current</span><br><span class="line"><span class="comment">#ç¬¬5æ­¥ åˆ é™¤æ—§çš„å‘½ä»¤ç¬¦å·é“¾æ¥</span></span><br><span class="line"><span class="built_in">echo</span> <span class="string">"rm.."</span></span><br><span class="line">rm /usr/bin/&#123;pydoc,python,pythonw,python-config&#125;</span><br><span class="line"><span class="built_in">echo</span> <span class="string">"ln bin.."</span></span><br><span class="line"><span class="comment">#ç¬¬6æ­¥ é‡æ–°å»ºç«‹æ–°çš„å‘½ä»¤ç¬¦å·é“¾æ¥</span></span><br><span class="line">ln <span class="_">-s</span> <span class="variable">$&#123;PYPATH&#125;</span>/bin/pydoc<span class="string">"<span class="variable">$new_version</span>"</span> /usr/bin/pydoc</span><br><span class="line">ln <span class="_">-s</span> <span class="variable">$&#123;PYPATH&#125;</span>/bin/python<span class="string">"<span class="variable">$new_version</span>"</span> /usr/bin/python</span><br><span class="line">ln <span class="_">-s</span> <span class="variable">$&#123;PYPATH&#125;</span>/bin/pythonw<span class="string">"<span class="variable">$new_version</span>"</span> /usr/bin/pythonw</span><br><span class="line">ln <span class="_">-s</span> <span class="variable">$&#123;PYPATH&#125;</span>/bin/python<span class="string">"<span class="variable">$new_version</span>"</span>m-config /usr/bin/python-config</span><br><span class="line"></span><br><span class="line">python_param_list=`<span class="built_in">cd</span> /usr/<span class="built_in">local</span>/bin &amp;&amp; ls -al |grep <span class="string">"Python"</span>|awk <span class="string">'ORS=" " &#123;print $9&#125;'</span>`</span><br><span class="line"><span class="comment">#ç¬¬7æ­¥ ä¿®å¤å…¶ä»–é“¾æ¥</span></span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> <span class="variable">$python_param_list</span>; <span class="keyword">do</span></span><br><span class="line">    <span class="built_in">echo</span> <span class="string">"info: <span class="variable">$i</span>"</span></span><br><span class="line">    rm <span class="_">-f</span> /usr/<span class="built_in">local</span>/bin/<span class="variable">$&#123;i&#125;</span></span><br><span class="line">    ln -sv /System/Library/Frameworks/Python.framework/Versions/<span class="string">"<span class="variable">$new_version</span>"</span>/bin/<span class="variable">$&#123;i&#125;</span> /usr/<span class="built_in">local</span>/bin/<span class="variable">$&#123;i&#125;</span></span><br><span class="line"><span class="keyword">done</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#ç¬¬8æ­¥ ç¯å¢ƒå˜é‡è¦ä¿®æ”¹ä¸ºæœ€æ–°çš„ç‰ˆæœ¬å·</span></span><br><span class="line"><span class="built_in">echo</span> <span class="string">'export PATH=/System/Library/Frameworks/Python.framework/Versions/3.5/bin:$&#123;PATH&#125;'</span> &gt;&gt; ~/.bashrc</span><br><span class="line"><span class="built_in">echo</span> <span class="string">'export PATH=/System/Library/Frameworks/Python.framework/Versions/3.5/bin:$&#123;PATH&#125;'</span> &gt;&gt; ~/.zshrc</span><br><span class="line"></span><br><span class="line"><span class="built_in">exit</span> <span class="comment">#é€€å‡ºè¶…çº§æƒé™</span></span><br></pre></td></tr></table></figure>
<h2 id="4-Verifiy"><a href="#4-Verifiy" class="headerlink" title="4. Verifiy"></a>4. Verifiy</h2><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">âœ  ~ Python -V</span><br><span class="line">Python 3.5.2</span><br><span class="line">âœ  ~</span><br></pre></td></tr></table></figure>
<h2 id="5-Refence-article"><a href="#5-Refence-article" class="headerlink" title="5. Refence article"></a>5. Refence article</h2><ul>
<li><a href="http://blog.csdn.net/wirelessqa/article/details/23261723" target="_blank" rel="external">è€æ¯•ç å†œ</a></li>
<li><a href="http://www.jianshu.com/p/1a002847265e" target="_blank" rel="external">mac pycharm åˆ‡æ¢PYTHONç‰ˆæœ¬</a></li>
</ul>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[Python æ•°æ®åˆ†æä¸æŒ–æ˜å®æˆ˜ ç¯å¢ƒæ­å»º]]></title>
      <url>http://iequa.com/2016/08/02/ml-python-env/</url>
      <content type="html"><![CDATA[<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js"],
    jax: ["input/TeX"],
    tex2jax: {
      inlineMath: [ ['$','$'], ['\\(','\\)'] ],
      displayMath: [ ['$$','$$'], ['\[','\]'] ],
      processEscapes: true
    }
  });
</script>
<script type="text/javascript" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS_HTML,http://myserver.com/MathJax/config/local/local.js">
</script>

<p><strong>data mining model steps</strong></p>
<ol>
<li>æŒ–æ˜ç›®æ ‡</li>
<li>æ•°æ®å–æ ·</li>
<li>æ•°æ®æ¢ç´¢</li>
<li>æ•°æ®é¢„å¤„ç†</li>
<li>æŒ–æ˜å»ºæ¨¡</li>
<li>æ¨¡å‹è¯„ä»·</li>
</ol>
<h2 id="1-Python-data-analysis-intro"><a href="#1-Python-data-analysis-intro" class="headerlink" title="1. Python data analysis intro"></a>1. Python data analysis intro</h2><p><a href="http://www.python.org" target="_blank" rel="external">Python</a></p>
<ul>
<li>ä¼˜é›…çš„è¯­æ³•å’ŒåŠ¨æ€ç±»å‹</li>
<li>æ‹¥æœ‰é«˜çº§æ•°æ®ç»“æ„</li>
<li>OO</li>
<li>Functional Programming</li>
<li>è§£é‡Šæ€§</li>
<li>èƒ¶æ°´è¯­è¨€ï¼Œå¼€å‘æ•ˆç‡é«˜</li>
<li>åº“ä¸°å¯Œ, NumPy, SciPy, Matplotlib, Pandas</li>
<li>é€‚åˆäº Scientific Computingã€Mathematical Modelingã€data mining ç­‰</li>
</ul>
<p><strong>Pythonæ·»åŠ ç¬¬ä¸‰æ–¹åº“</strong> <a href="http://pandas.pydata.org/" target="_blank" rel="external">Pandas</a></p>
<ul>
<li>libâ€™s import and add</li>
<li>import future feature</li>
<li>add third lib</li>
</ul>
<p><strong><em>libâ€™s import and add</em></strong></p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> math <span class="keyword">as</span> m</span><br><span class="line">m.sin(<span class="number">1</span>)</span><br></pre></td></tr></table></figure>
<p><strong><em>import <code>future</code> feature</em></strong></p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">from __futrue__ import print_function</span><br><span class="line">from __futrue__ import division</span><br></pre></td></tr></table></figure>
<p><strong><em>add third lib</em></strong></p>
<blockquote>
<p>ä¸‰ç§æ–¹å¼  </p>
<ol>
<li>ä¸‹è½½æºä»£ç è‡ªè¡Œå®‰è£… : å®‰è£…çµæ´»ï¼Œ ä½†éœ€è¦è‡ªè¡Œè§£å†³ä¸Šçº§ä¾èµ–é—®é¢˜ã€‚  </li>
<li>ç”¨ pip å®‰è£… : æ¯”è¾ƒæ–¹ä¾¿ï¼Œè‡ªåŠ¨è§£å†³ä¸Šçº§ä¾èµ–é—®é¢˜  </li>
<li>ç³»ç»Ÿè‡ªå¸¦çš„å®‰è£…æ–¹å¼ : apt-get or brew ..</li>
</ol>
</blockquote>
<h3 id="1-1-Install-pip"><a href="#1-1-Install-pip" class="headerlink" title="1.1 Install pip"></a>1.1 Install pip</h3><blockquote>
<p>pip æ˜¯å®‰è£…pythonåŒ…çš„å·¥å…·ï¼Œæä¾›äº†å®‰è£…åŒ…ï¼Œåˆ—å‡ºå·²ç»å®‰è£…çš„åŒ…ï¼Œå‡çº§åŒ…ä»¥åŠå¸è½½åŒ…çš„åŠŸèƒ½ã€‚<br>pip æ˜¯å¯¹easy_installçš„å–ä»£ï¼Œæä¾›äº†å’Œeasy_installç›¸åŒçš„æŸ¥æ‰¾åŒ…çš„åŠŸèƒ½</p>
</blockquote>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="built_in">which</span> python</span><br><span class="line">wget https://bootstrap.pypa.io/get-pip.py</span><br><span class="line">sudo python get-pip.py</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">ä¿®æ”¹pipæº ï¼ˆå¯é€‰ï¼‰</span><br><span class="line">ç”±äºå¤©æœåŸå› ,ä½¿ç”¨pipå®‰è£…ä¸€äº›æ¨¡å—ä¼šç‰¹åˆ«æ…¢ç”šè‡³æ— æ³•ä¸‹è½½,å› æ­¤æˆ‘ä»¬éœ€è¦ä¿®æ”¹pipçš„æºåˆ°å›½å†…çš„ä¸€äº›é•œåƒåœ°å€.</span><br><span class="line">cd ~</span><br><span class="line">mkdir .pip</span><br><span class="line">vim pip.conf</span><br><span class="line">æ·»åŠ ä»¥ä¸‹ä¸¤è¡Œ</span><br><span class="line">[global]</span><br><span class="line">index-url = http://pypi.v2ex.com/simple</span><br><span class="line">æŠŠindex-urlçš„å€¼è®¾ç½®ä¸ºè‡ªå·±å®é™…æºçš„åœ°å€.</span><br><span class="line">è‡³æ­¤pipæºä¿®æ”¹æˆåŠŸ,ä»¥åä½¿ç”¨pipå®‰è£…æ¨¡å—æ—¶éƒ½ä¼šä»è¿™ä¸ªæºå»ä¸‹è½½å®‰è£….</span><br></pre></td></tr></table></figure>
<p>or</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">âœ  tar.gz ll</span><br><span class="line">-rw-r--r-- 1 hp staff   1138794 Mar 11 16:09 pip-8.1.0.tar.gz</span><br><span class="line">-rw-r--r-- 1 hp staff    630700 Mar 11 13:38 setuptools-18.1.tar.gz</span><br><span class="line">tar -xvf setuptools-18.1.tar.gz</span><br><span class="line">tar -xvf pip-8.1.0.tar.gz</span><br><span class="line"><span class="built_in">cd</span> setuptools-18.1</span><br><span class="line">python setup.py build</span><br><span class="line">python setup.py install</span><br><span class="line"><span class="built_in">cd</span> pip-9.0.1/</span><br><span class="line">python setup.py build</span><br><span class="line">python setup.py install</span><br></pre></td></tr></table></figure>
<blockquote>
<p>9.0.1 è§ <a href="https://pypi.python.org/pypi/pip" target="_blank" rel="external">https://pypi.python.org/pypi/pip</a></p>
</blockquote>
<p><strong>ipython</strong></p>
<blockquote>
<p>sudo pip install â€“upgrade ipython â€“ignore-installed six<br>sudo pip install notebook</p>
</blockquote>
<p>startup ipython notebook</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">ipython notebook</span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">PYSPARK_DRIVER_PYTHON=ipython PYSPARK_DRIVER_PYTHON_OPTS=<span class="string">"notebook --ip=192.168.140.159"</span> $SPARK_HOME/bin/pyspark</span><br></pre></td></tr></table></figure>
<h2 id="2-Python-Tools-for-data-analysis"><a href="#2-Python-Tools-for-data-analysis" class="headerlink" title="2. Python Tools for data analysis"></a>2. Python Tools for data analysis</h2><table>
<thead>
<tr>
<th>Extension lib</th>
<th>introduction</th>
</tr>
</thead>
<tbody>
<tr>
<td>Numpy</td>
<td>æä¾›æ•°ç»„æ”¯æŒï¼Œä»¥åŠç›¸åº”çš„é«˜æ•ˆå¤„ç†å‡½æ•°</td>
</tr>
<tr>
<td>Scipy</td>
<td>æä¾›çŸ©é˜µæ”¯æŒï¼Œä»¥åŠçŸ©é˜µç›¸å…³çš„æ•°å€¼è®¡ç®—æ¨¡å—</td>
</tr>
<tr>
<td>Matplotlib</td>
<td>æ•°æ®å¯è§†åŒ–å·¥å…·ï¼Œä½œå›¾åº“</td>
</tr>
<tr>
<td>Pandas</td>
<td>æ•°æ®åˆ†æå’Œæ¢ç´¢å·¥å…·</td>
</tr>
<tr>
<td>StatsModels</td>
<td>ç»Ÿè®¡å»ºæ¨¡å’Œè®¡é‡ç»æµå­¦ï¼ŒåŒ…æ‹¬æè¿°ç»Ÿè®¡ï¼Œç»Ÿè®¡æ¨¡å‹ä¼°è®¡å’Œæ¨æ–­</td>
</tr>
<tr>
<td>Scikit-Learn</td>
<td>æ”¯æŒå›å½’ï¼Œåˆ†ç±»ï¼Œèšç±» ç­‰å¼ºå¤§çš„æœºå™¨å­¦ä¹ åº“</td>
</tr>
<tr>
<td>Keras</td>
<td>æ·±åº¦å­¦ä¹ åº“ï¼Œç”¨äºå»ºç«‹ç¥ç»ç½‘ç»œä»¥åŠ deep learning model</td>
</tr>
<tr>
<td>Gensim</td>
<td>ç”¨æ¥åš text topic model çš„åº“</td>
</tr>
<tr>
<td>Pillow</td>
<td>æ—§ç‰ˆçš„PIL, å›¾ç‰‡å¤„ç†ç›¸å…³</td>
</tr>
<tr>
<td>OpenCV</td>
<td>video å¤„ç†ç›¸å…³</td>
</tr>
<tr>
<td>GMPY2</td>
<td>é«˜ç²¾åº¦è®¡ç®—ç›¸å…³</td>
</tr>
</tbody>
</table>
<hr>
<h3 id="2-1-Numpy"><a href="#2-1-Numpy" class="headerlink" title="2.1 Numpy"></a>2.1 Numpy</h3><p><a href="www.numpy.prg">Numpy</a> æä¾›äº†æ•°æ®åŠŸèƒ½, åç»­ Scipyã€Matplotlibã€Pandas ç­‰éƒ½ä¾èµ–äºå®ƒã€‚    </p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment"># -*- coding: utf-8 -*-</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># sudo pip install numpy</span></span><br><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line">a = np.array([<span class="number">2</span>, <span class="number">0</span>, <span class="number">1</span>, <span class="number">5</span>])</span><br><span class="line"></span><br><span class="line">print(a)</span><br><span class="line">print(<span class="string">"hello world 3.0 !"</span>)</span><br></pre></td></tr></table></figure>
<h3 id="2-2-Scipy"><a href="#2-2-Scipy" class="headerlink" title="2.2 Scipy"></a>2.2 Scipy</h3><blockquote>
<p>Numpy æä¾›äº†å¤šç»´æ•°æ®åŠŸèƒ½ï¼Œä½†å®ƒåªæ˜¯æ•°ç»„ï¼Œå¹¶ä¸æ˜¯çŸ©é˜µã€‚Scipy æä¾›äº†çœŸæ­£çš„çŸ©é˜µï¼Œä»¥åŠå¤§é‡çŸ©é˜µè¿ç®—çš„å¯¹è±¡å’Œå‡½æ•°ã€‚<br>Scipy ä¾èµ–äº Numpy</p>
</blockquote>
<h3 id="2-3-Matplotlib"><a href="#2-3-Matplotlib" class="headerlink" title="2.3 Matplotlib"></a>2.3 Matplotlib</h3><blockquote>
<p>è‘—åçš„ç»˜å›¾åº“ï¼Œä¸»è¦ç”¨äºäºŒç»´ç»˜å›¾ï¼Œå½“ç„¶ä¹Ÿå¯ä»¥è¿›è¡Œä¸‰ç»´ç»˜å›¾ã€‚<br>sudo pip install matplotlib </p>
</blockquote>
<h3 id="2-4-Pandas"><a href="#2-4-Pandas" class="headerlink" title="2.4 Pandas"></a>2.4 Pandas</h3><p>Pandas æ˜¯ Python ä¸‹æœ€å¼ºå¤§çš„æ•°æ®åˆ†æ Toolï¼Œæ²¡æœ‰ä¹‹ä¸€ã€‚Pandas æ„å»ºåœ¨ Numpy ä¹‹ä¸Šã€‚  </p>
<p>&nbsp;<br><strong>Pandas Function</strong></p>
<ol>
<li>ç±»SQLï¼ŒCRUD</li>
<li>æ•°æ®å¤„ç†å‡½æ•°</li>
<li>æ—¶é—´åºåˆ—åˆ†æåŠŸèƒ½</li>
<li>çµæ´»å¤„ç†ç¼ºå¤±æ•°æ®</li>
</ol>
<blockquote>
<p>sudo pip install pandas<br>sudo pip install xlrd<br>sudo pip install xlwt<br>ã€Šåˆ©ç”¨pythonè¿›è¡Œæ•°æ®åˆ†æã€‹è®²è§£è¯¦ç»†ï¼Œé’ˆå¯¹ Pandasã€‚  </p>
</blockquote>
<p>Pandas åŸºæœ¬çš„æ•°æ®ç»“æ„æ˜¯ : Series å’Œ DataFrame (å®ƒçš„æ¯ä¸€åˆ—éƒ½æ˜¯ä¸€ä¸ªSeries)ã€‚æ¯ä¸ª Series éƒ½ä¼šæœ‰ä¸€ä¸ªå¯¹åº”çš„ Indexï¼Œç”¨æ¥æ ‡è®°å…ƒã€‚(Indexç±»ä¼¼äº SQL ä¸»é”®)</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment"># -*- coding: utf-8 -*-</span></span><br><span class="line"><span class="keyword">import</span> pandas <span class="keyword">as</span> pd</span><br><span class="line"></span><br><span class="line">s = pd.Series([<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>], index=[<span class="string">'a'</span>, <span class="string">'b'</span>, <span class="string">'c'</span>]) <span class="comment"># åˆ›å»ºä¸€ä¸ªåºåˆ— s</span></span><br><span class="line">d2 = pd.DataFrame(s)</span><br><span class="line"></span><br><span class="line">d = pd.DataFrame([[<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>], [<span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>]], columns=[<span class="string">'a'</span>, <span class="string">'b'</span>, <span class="string">'c'</span>]) <span class="comment"># åˆ›å»ºä¸€ä¸ª table</span></span><br><span class="line"></span><br><span class="line">d.head() <span class="comment"># é»˜è®¤é¢„è§ˆå‰ 5 è¡Œ</span></span><br><span class="line"></span><br><span class="line">d.describe() <span class="comment"># æ•°æ®åŸºæœ¬ç»Ÿè®¡é‡</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># è¯»å–æ–‡ä»¶</span></span><br><span class="line">pd.read_excel(<span class="string">'data.xls'</span>) <span class="comment"># è¯»å– Excel æ–‡ä»¶, åˆ›å»º DataFrame.</span></span><br><span class="line"><span class="comment"># pd.read_csv('data.csv', encoding='utf-8') # è¯»å–æ–‡æœ¬, ä¸€èˆ¬æŒ‡å®š encoding</span></span><br></pre></td></tr></table></figure>
<h3 id="2-5-StatsModels"><a href="#2-5-StatsModels" class="headerlink" title="2.5 StatsModels"></a>2.5 StatsModels</h3><blockquote>
<p>StatsModels ä¸»è¦æ˜¯å¯¹ï¼Œæ•°æ®çš„è¯»å–ã€å¤„ç†ã€æ¢ç´¢ï¼Œæ›´åŠ æ³¨é‡æ•°æ®çš„ç»Ÿè®¡å»ºæ¨¡åˆ†æï¼Œæœ‰ R è¯­è¨€å‘³é“ã€‚<br>StatsModels ä¸ Pandas ç»“åˆ, æˆä¸º Python ä¸‹å¼ºå¤§çš„æ•°æ®æŒ–æ˜ç»„åˆã€‚<br>sudo pip install StatsModels</p>
</blockquote>
<h3 id="2-6-Scikit-Learn"><a href="#2-6-Scikit-Learn" class="headerlink" title="2.6 Scikit-Learn"></a>2.6 Scikit-Learn</h3><blockquote>
<p>Scikit-Learn å¼ºå¤§çš„ ML å·¥å…·åŒ…ã€‚åŒ…æ‹¬ æ•°æ®é¢„å¤„ç†ã€åˆ†ç±»ã€å›å½’ã€èšç±»ã€é¢„æµ‹ å’Œ æ¨¡å‹åˆ†æç­‰ã€‚<br>Scikit-Learn ä¾èµ–äº Numpyã€Scipyã€Matplotlibã€‚</p>
</blockquote>
<p><strong>install</strong></p>
<p>pip install scikit-learn ç”¨ pip å®‰è£…è¿™ä¸ªåŒ…ä¹‹åï¼Œåœ¨ä½¿ç”¨çš„æ—¶å€™ä¼šå‡ºç° ValueError: numpy.dtype has the wrong ç­‰é”™è¯¯ã€‚</p>
<p><strong>solution fun</strong></p>
<p>sudo pip install cython<br>git clone <a href="https://github.com/scikit-learn/scikit-learn" target="_blank" rel="external">https://github.com/scikit-learn/scikit-learn</a><br>sudo make<br>sudo python setup.py install</p>
<blockquote>
<p>ä¸å®‰è£… cython ï¼Œå®‰è£… scikit-learn ä¼šæŠ¥é”™ã€‚<br>è¿™ç§æ–¹å¼ å®‰è£… scikit-learn è¿‡ç¨‹ä¸­çš„ä¸€äº›é”™è¯¯æˆ–è­¦å‘Šä¸éœ€è¦ç®¡ã€‚å®‰è£…å®Œæˆæµ‹è¯•ä½¿ç”¨æ­£å¸¸<br>pip list<br>scikit-learn (0.18.dev0)<br>scipy (0.13.0b1)</p>
</blockquote>
<h3 id="2-7-Keras"><a href="#2-7-Keras" class="headerlink" title="2.7 Keras"></a>2.7 Keras</h3><blockquote>
<p>ç¥ç»ç½‘ç»œmodel</p>
</blockquote>
<h3 id="2-8-Gensim"><a href="#2-8-Gensim" class="headerlink" title="2.8 Gensim"></a>2.8 Gensim</h3><blockquote>
<p>topic modelling for humansï¼NLP</p>
</blockquote>
<h2 id="3-brief-summary"><a href="#3-brief-summary" class="headerlink" title="3. brief summary"></a>3. brief summary</h2><p>ä¸»è¦å¯¹ Python è¿›è¡Œä»‹ç»ã€‚ç”±äº Python åŒ…å«å¤šä¸ªé¢†åŸŸçš„æ‰©å±•åº“ï¼Œè€Œä¸”æ‰©å±•åº“çš„åŠŸèƒ½ä¹Ÿç›¸å½“ä¸°å¯Œï¼Œæœ¬ç« åªä»‹ç»å’Œæ•°æ®åˆ†æåŠæ•°æ®æŒ–æ˜ç›¸å…³çš„ä¸€å°éƒ¨åˆ†ï¼ŒåŒ…æ‹¬ é«˜ç»´æ•°ç»„ï¼Œæ•°å€¼è®¡ç®—ï¼Œå¯è§†åŒ–ï¼Œæœºå™¨å­¦ä¹ ï¼Œç¥ç»ç½‘ç»œ å’Œ è¯­è¨€æ¨¡å‹ç­‰ã€‚</p>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[Bayes Model]]></title>
      <url>http://iequa.com/2016/06/22/ml-bayes-model/</url>
      <content type="html"><![CDATA[<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js"],
    jax: ["input/TeX"],
    tex2jax: {
      inlineMath: [ ['$','$'], ['\\(','\\)'] ],
      displayMath: [ ['$$','$$'], ['\[','\]'] ],
      processEscapes: true
    }
  });
</script>
<script type="text/javascript" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS_HTML,http://myserver.com/MathJax/config/local/local.js">
</script>

<p><strong>Content List</strong></p>
<ul>
<li>Bayesâ€™ method</li>
<li>Bayesâ€™ theorem</li>
<li>Application example</li>
<li>Naive Bayes Learning and classification</li>
<li>Parameter estimation of Naive Bayes Method</li>
</ul>
<table>
<thead>
<tr>
<th>symbol</th>
<th>meaning</th>
</tr>
</thead>
<tbody>
<tr>
<td>\( x_j \)</td>
<td>ç¬¬ $j$ ç»´ç‰¹å¾</td>
</tr>
<tr>
<td>$ x $</td>
<td>ä¸€æ¡æ ·æœ¬çš„ç‰¹å¾å‘é‡, $ x = (x_1, x_2, â€¦, x_n) $</td>
</tr>
<tr>
<td>$ x^{(i)} $</td>
<td>ç¬¬ $i$ æ¡æ ·æœ¬</td>
</tr>
<tr>
<td>$ x^{(i)}_j $</td>
<td>ç¬¬ $i$ æ¡æ ·æœ¬çš„ç¬¬$j$ ç»´ç‰¹å¾</td>
</tr>
<tr>
<td>$ y^{(i)} $</td>
<td>ç¬¬ $i$ æ¡æ ·æœ¬çš„ç»“æœ (label)</td>
</tr>
<tr>
<td>\( X \)</td>
<td>æ‰€æœ‰æ ·æœ¬çš„ç‰¹å¾å…¨é›†, å³ $X = (x^{(1)}, x^{(2)}, â€¦, x^{(m)})^T$</td>
</tr>
<tr>
<td>\( Y \)</td>
<td>æ‰€æœ‰æ ·æœ¬çš„labelå…¨é›†, å³ $Y = (y^{(1)}, y^{(2)}, â€¦ , y^{(m)})^T$</td>
</tr>
<tr>
<td>\( w \)</td>
<td>ç¬¬ $j$ ç»´ç‰¹å¾</td>
</tr>
<tr>
<td>\( w_j \)</td>
<td>å‚æ•°å‘é‡ï¼Œ å³ $ w = (w_0, w_1, â€¦, w_n) $</td>
</tr>
</tbody>
</table>
<p>è¿™æ˜¯ä¸€ä¸ª æ°‘é—´å­¦æœ¯â€œå±Œä¸â€ åœ¨æ­»åæ‰ <strong>é€†è¢­</strong> çš„æ•…äº‹</p>
<p><img src="/images/ml-bayes-01.png" alt="bayes01.png"></p>
<p>Thomas Bayesï¼ˆ1702-1763ï¼‰ã€ŠAn essay towards solving a problem in the doctrine of chancesã€‹</p>
<blockquote>
<p>å¯¹å¶é—®é¢˜ </p>
<p>  :  åœ¨è§£å†³å…·ä½“æŸä¸ªé—®é¢˜ P  çš„æ—¶å€™ï¼Œå¾€å¾€ç”±äºå‚æ•°ã€å®šä¹‰åŸŸç­‰é—®é¢˜ï¼Œä¸å¥½ç›´æ¥å¤„ç†ã€‚ä½†å¯ä»¥æŠŠé—®é¢˜ P è½¬æ¢æˆä¸ä¹‹ç­‰ä»·çš„é—®é¢˜ Qã€‚é€šè¿‡è§£å†³ Qé—®é¢˜ï¼Œæ¥å¾—åˆ° Pé—®é¢˜ çš„è§£ã€‚è¿™æ—¶ï¼ŒQé—®é¢˜å°±å«åšPé—®é¢˜çš„â€œå¯¹å¶é—®é¢˜â€</p>
</blockquote>
<h2 id="1-Naive-Bayes-method"><a href="#1-Naive-Bayes-method" class="headerlink" title="1. Naive Bayes method"></a>1. Naive Bayes method</h2><blockquote>
<p>æ¯”å¦‚ï¼Œä¸€ä¸ªæœ‹å‹åˆ›ä¸šï¼Œä½ æ˜æ˜çŸ¥é“åˆ›ä¸šçš„ç»“æœå°±ä¸¤ç§ï¼Œå³è¦ä¹ˆæˆåŠŸè¦ä¹ˆå¤±è´¥ï¼Œä½†ä½ ä¾ç„¶ä¼šå¿ä¸ä½å»ä¼°è®¡ä»–åˆ›ä¸šæˆåŠŸçš„å‡ ç‡æœ‰å¤šå¤§ï¼Ÿä½ å¦‚æœå¯¹ä»–ä¸ºäººæ¯”è¾ƒäº†è§£ï¼Œè€Œä¸”æœ‰æ–¹æ³•ã€æ€è·¯æ¸…æ™°ã€æœ‰æ¯…åŠ›ã€ä¸”èƒ½å›¢ç»“å‘¨å›´çš„äººï¼Œä½ ä¼šä¸ç”±è‡ªä¸»çš„ä¼°è®¡ä»–åˆ›ä¸šæˆåŠŸçš„å‡ ç‡å¯èƒ½åœ¨80%ä»¥ä¸Šã€‚è¿™ç§ä¸åŒäº â€œéé»‘å³ç™½ã€é0å³1â€çš„æ€è€ƒæ–¹å¼ï¼Œä¾¿æ˜¯<strong>è´å¶æ–¯å¼çš„æ€è€ƒæ–¹å¼</strong>ã€‚</p>
</blockquote>
<h3 id="preface"><a href="#preface" class="headerlink" title="preface"></a>preface</h3><p>è´å¶æ–¯æ´¾ è®¤ä¸ºå‚æ•° $ \theta $ æ˜¯éšæœºå˜é‡ï¼Œè€Œæ ·æœ¬ $ \chi $ æ˜¯å›ºå®šçš„ï¼Œç”±äºæ ·æœ¬ $ \chi $ æ˜¯å›ºå®šçš„ï¼Œæ‰€ä»¥ä»–ä»¬é‡ç‚¹ç ”ç©¶çš„æ˜¯å‚æ•° $ \theta $ çš„åˆ†å¸ƒã€‚</p>
<p>è´å¶æ–¯æ´¾ æ—¢ç„¶æŠŠ å‚æ•° $ \theta $ çœ‹åšæ˜¯ä¸€ä¸ªéšæœºå˜é‡ï¼Œæ‰€ä»¥è¦è®¡ç®—çš„åˆ†å¸ƒï¼Œä¾¿å¾—äº‹å…ˆçŸ¥é“çš„æ— æ¡ä»¶åˆ†å¸ƒï¼Œå³åœ¨æœ‰æ ·æœ¬ä¹‹å‰ï¼ˆæˆ–è§‚å¯Ÿåˆ°Xä¹‹å‰ï¼‰ï¼Œæœ‰ç€æ€æ ·çš„åˆ†å¸ƒå‘¢ï¼Ÿ</p>
<p>æ¯”å¦‚å¾€å°çƒæ¡Œä¸Šæ‰”ä¸€ä¸ªçƒï¼Œè¿™ä¸ªçƒè½ä¼šè½åœ¨ä½•å¤„å‘¢ï¼Ÿå¦‚æœæ˜¯ä¸åä¸å€šçš„æŠŠçƒæŠ›å‡ºå»ï¼Œé‚£ä¹ˆæ­¤çƒè½åœ¨å°çƒæ¡Œä¸Šçš„ä»»ä¸€ä½ç½®éƒ½æœ‰ç€ç›¸åŒçš„æœºä¼šï¼Œå³çƒè½åœ¨å°çƒæ¡Œä¸ŠæŸä¸€ä½ç½®çš„æ¦‚ç‡æœä»å‡åŒ€åˆ†å¸ƒã€‚è¿™ç§åœ¨å®éªŒä¹‹å‰å®šä¸‹çš„å±äºåŸºæœ¬å‰ææ€§è´¨çš„åˆ†å¸ƒç§°ä¸ºå…ˆéªŒåˆ†å¸ƒï¼Œæˆ–çš„æ— æ¡ä»¶åˆ†å¸ƒã€‚</p>
<p>è‡³æ­¤ï¼Œè´å¶æ–¯æ´¾æå‡ºäº†ä¸€ä¸ªæ€è€ƒé—®é¢˜çš„å›ºå®šæ¨¡å¼ :  </p>
<p><strong><code>å…ˆéªŒåˆ†å¸ƒ == æ— æ¡ä»¶åˆ†å¸ƒ</code></strong></p>
<p><strong>å…ˆéªŒåˆ†å¸ƒ $ \pi(\theta) $ + æ ·æœ¬ä¿¡æ¯ $ \chi $ =&gt; åéªŒåˆ†å¸ƒ  $ \pi(\theta | \chi ) $</strong></p>
<h3 id="å…ˆéªŒä¿¡æ¯"><a href="#å…ˆéªŒä¿¡æ¯" class="headerlink" title="å…ˆéªŒä¿¡æ¯"></a>å…ˆéªŒä¿¡æ¯</h3><p>å…ˆéªŒä¿¡æ¯ä¸€èˆ¬æ¥æºäºç»éªŒè·Ÿå†å²èµ„æ–™ã€‚æ¯”å¦‚ : æ—ä¸¹è·ŸæŸé€‰æ‰‹å¯¹å†³ï¼Œè§£è¯´ä¸€èˆ¬ä¼šæ ¹æ®æ—ä¸¹å†æ¬¡æ¯”èµ›çš„æˆç»©å¯¹æ­¤æ¬¡æ¯”èµ›çš„èƒœè´Ÿåšä¸ªå¤§è‡´çš„åˆ¤æ–­ã€‚</p>
<h3 id="åéªŒåˆ†å¸ƒ"><a href="#åéªŒåˆ†å¸ƒ" class="headerlink" title="åéªŒåˆ†å¸ƒ"></a>åéªŒåˆ†å¸ƒ</h3><p>  è€ŒåéªŒåˆ†å¸ƒ  $ \pi(\theta | \chi ) $ ä¸€èˆ¬ä¹Ÿè®¤ä¸ºæ˜¯åœ¨ç»™å®šæ ·æœ¬ $ \chi $ çš„æƒ…å†µä¸‹çš„ $ \theta $ æ¡ä»¶åˆ†å¸ƒï¼Œè€Œä½¿  $ \pi(\theta | \chi ) $ è¾¾åˆ°æœ€å¤§çš„å€¼ $ \theta_{MD} $ ç§°ä¸ºæœ€å¤§åéªŒä¼°è®¡ï¼Œç±»ä¼¼äºç»å…¸ç»Ÿè®¡å­¦ä¸­çš„æå¤§ä¼¼ç„¶ä¼°è®¡ã€‚</p>
<blockquote>
<p> ç»¼åˆèµ·æ¥çœ‹ï¼Œåˆ™å¥½æ¯”æ˜¯äººç±»åˆšå¼€å§‹æ—¶å¯¹å¤§è‡ªç„¶åªæœ‰å°‘å¾—å¯æ€œçš„å…ˆéªŒçŸ¥è¯†ï¼Œä½†éšç€ä¸æ–­è§‚å¯Ÿã€å®éªŒè·å¾—æ›´å¤šçš„æ ·æœ¬ã€ç»“æœï¼Œä½¿å¾—äººä»¬å¯¹è‡ªç„¶ç•Œçš„è§„å¾‹æ‘¸å¾—è¶Šæ¥è¶Šé€å½»ã€‚æ‰€ä»¥ï¼Œè´å¶æ–¯æ–¹æ³•æ—¢ç¬¦åˆäººä»¬æ—¥å¸¸ç”Ÿæ´»çš„æ€è€ƒæ–¹å¼ï¼Œä¹Ÿç¬¦åˆäººä»¬è®¤è¯†è‡ªç„¶çš„è§„å¾‹ï¼Œç»è¿‡ä¸æ–­çš„å‘å±•ï¼Œæœ€ç»ˆå æ®ç»Ÿè®¡å­¦é¢†åŸŸçš„åŠå£æ±Ÿå±±ã€‚</p>
</blockquote>
<h2 id="2-Naive-Bayes-theorem"><a href="#2-Naive-Bayes-theorem" class="headerlink" title="2. Naive Bayes theorem"></a>2. Naive Bayes theorem</h2><p><strong>æ¡ä»¶æ¦‚ç‡</strong>ï¼ˆåˆç§°åéªŒæ¦‚ç‡ï¼‰å°±æ˜¯äº‹ä»¶ $A$ åœ¨å¦å¤–ä¸€ä¸ªäº‹ä»¶ $B$ å·²ç»å‘ç”Ÿæ¡ä»¶ä¸‹çš„å‘ç”Ÿæ¦‚ç‡ã€‚æ¡ä»¶æ¦‚ç‡è¡¨ç¤ºä¸º $P(A|B)$</p>
<p>$$<br>P(A|B) = \frac{P(A \bigcap B)}{P(B)}<br>$$</p>
<blockquote>
<p>è”åˆæ¦‚ç‡ ${P(A \bigcap B)}$ , ${P(A, B)}$</p>
<p>äº‹ä»¶ $B$ å‘ç”Ÿä¹‹å‰ï¼Œæˆ‘ä»¬å¯¹äº‹ä»¶ $A$ çš„å‘ç”Ÿæœ‰ä¸€ä¸ªåŸºæœ¬çš„æ¦‚ç‡åˆ¤æ–­ï¼Œç§°ä¸º $A$ çš„å…ˆéªŒæ¦‚ç‡ï¼Œç”¨ $P(A)$ è¡¨ç¤ºï¼›</p>
<p>äº‹ä»¶ $B$ å‘ç”Ÿä¹‹åï¼Œæˆ‘ä»¬å¯¹äº‹ä»¶ $A$ çš„å‘ç”Ÿæ¦‚ç‡é‡æ–°è¯„ä¼°ï¼Œç§°ä¸º $A$ çš„åéªŒæ¦‚ç‡ï¼Œç”¨ $P(A|B)$ è¡¨ç¤ºï¼›</p>
</blockquote>
<h2 id="3-Application-examples"><a href="#3-Application-examples" class="headerlink" title="3. Application examples"></a>3. Application examples</h2><p><strong>Googleçš„æ‹¼å†™æ£€æŸ¥</strong></p>
<p><img src="/images/ml-speling.png" alt="speling"></p>
<p>ç”¨æˆ·è¾“å…¥ä¸€ä¸ªå•è¯æ—¶ï¼Œå¯èƒ½æ‹¼å†™æ­£ç¡®ï¼Œä¹Ÿå¯èƒ½æ‹¼å†™é”™è¯¯ã€‚</p>
<p>å¦‚æœæŠŠæ‹¼å†™æ­£ç¡®çš„æƒ…å†µè®°åš $c$ ï¼ˆä»£è¡¨correctï¼‰ï¼Œæ‹¼å†™é”™è¯¯çš„æƒ…å†µè®°åš $w$ï¼ˆä»£è¡¨wrongï¼‰ï¼Œé‚£ä¹ˆâ€æ‹¼å†™æ£€æŸ¥â€è¦åšçš„äº‹æƒ…å°±æ˜¯ï¼šåœ¨å‘ç”Ÿ $w$ çš„æƒ…å†µä¸‹ï¼Œè¯•å›¾æ¨æ–­å‡º $c$ ã€‚</p>
<p>æ¢è¨€ä¹‹ï¼šå·²çŸ¥wï¼Œç„¶ååœ¨è‹¥å¹²ä¸ªå¤‡é€‰æ–¹æ¡ˆä¸­ï¼Œæ‰¾å‡ºå¯èƒ½æ€§æœ€å¤§çš„é‚£ä¸ª $c$ï¼Œä¹Ÿå°±æ˜¯æ±‚çš„ $P(c|w)$ æœ€å¤§å€¼ã€‚</p>
<p>è€Œæ ¹æ®è´å¶æ–¯å®šç†ï¼Œæœ‰ï¼š</p>
<p>$$<br>P(c|w) = \frac{P(w | c) * P(c)}{p(w)}<br>$$</p>
<blockquote>
<p>$P(c)$ è¡¨ç¤ºæŸä¸ªæ­£ç¡®çš„è¯çš„å‡ºç°â€æ¦‚ç‡â€ï¼Œå®ƒå¯ä»¥ç”¨â€é¢‘ç‡â€ä»£æ›¿ã€‚å¦‚æœæˆ‘ä»¬æœ‰ä¸€ä¸ªè¶³å¤Ÿå¤§çš„æ–‡æœ¬åº“ï¼Œé‚£ä¹ˆè¿™ä¸ªæ–‡æœ¬åº“ä¸­æ¯ä¸ªå•è¯çš„å‡ºç°é¢‘ç‡ï¼Œå°±ç›¸å½“äºå®ƒçš„å‘ç”Ÿæ¦‚ç‡ã€‚</p>
<p>$P(w|c)$ è¡¨ç¤ºåœ¨è¯•å›¾æ‹¼å†™ $c$ çš„æƒ…å†µä¸‹ï¼Œå‡ºç°æ‹¼å†™é”™è¯¯ $w$ çš„æ¦‚ç‡ã€‚ ç®€åŒ–ä¸º â€œç¼–è¾‘è·ç¦»â€</p>
</blockquote>
<p><a href="http://norvig.com/spell-correct.html" target="_blank" rel="external">google_spell-correct</a></p>
<h2 id="4-Naive-Bayes-Learning-and-classification"><a href="#4-Naive-Bayes-Learning-and-classification" class="headerlink" title="4. Naive Bayes Learning and classification"></a>4. Naive Bayes Learning and classification</h2><h2 id="5-Parameter-estimation-of-Naive-Bayes-Method"><a href="#5-Parameter-estimation-of-Naive-Bayes-Method" class="headerlink" title="5. Parameter estimation of Naive Bayes Method"></a>5. Parameter estimation of Naive Bayes Method</h2>]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[Elasticsearch * Reference1.7 Introduce]]></title>
      <url>http://iequa.com/2016/06/04/elasticsearch-1.7-Introduce/</url>
      <content type="html"><![CDATA[<h2 id="Getting-Started"><a href="#Getting-Started" class="headerlink" title="Getting Started"></a>Getting Started</h2><h3 id="Restful-API"><a href="#Restful-API" class="headerlink" title="Restful API"></a>Restful API</h3><p><strong>Cluster health</strong></p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">curl &apos;localhost:9200/_cat/health?v&apos;</span><br><span class="line">curl &apos;localhost:9200/_cat/nodes?v&apos;</span><br></pre></td></tr></table></figure>
<p><strong>List ALL Indices</strong></p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">curl &apos;localhost:9200/_cat/indices?v&apos;</span><br></pre></td></tr></table></figure>
<p><strong>Create an Index</strong></p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">curl -XPUT &apos;localhost:9200/customer?pretty&apos;</span><br></pre></td></tr></table></figure>
<p><strong>Put data to Index</strong></p>
<p>Our JSON document: { â€œnameâ€: â€œJohn Doeâ€ }</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">curl -XPUT &apos;localhost:9200/customer/external/1?pretty&apos; -d &apos;</span><br><span class="line">&#123;</span><br><span class="line">  &quot;name&quot;: &quot;John Doe&quot;</span><br><span class="line">&#125;&apos;</span><br></pre></td></tr></table></figure>
<p>And the response:</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">curl -XPUT &apos;localhost:9200/customer/external/1?pretty&apos; -d &apos;</span><br><span class="line">&#123;</span><br><span class="line">  &quot;name&quot;: &quot;John Doe&quot;</span><br><span class="line">&#125;&apos;</span><br><span class="line">&#123;</span><br><span class="line">  &quot;_index&quot; : &quot;customer&quot;,</span><br><span class="line">  &quot;_type&quot; : &quot;external&quot;,</span><br><span class="line">  &quot;_id&quot; : &quot;1&quot;,</span><br><span class="line">  &quot;_version&quot; : 1,</span><br><span class="line">  &quot;created&quot; : true</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><strong>Get Data from Index</strong></p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">curl -XGET &apos;localhost:9200/customer/external/1?pretty&apos;</span><br></pre></td></tr></table></figure>
<p><strong>Detele an Index</strong></p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">curl -XDELETE &apos;localhost:9200/customer&apos;</span><br></pre></td></tr></table></figure>
<p>Restful Cmd @elasticsearch</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">curl -X&lt;REST Verb&gt; &lt;Node&gt;:&lt;Port&gt;/&lt;Index&gt;/&lt;Type&gt;/&lt;ID&gt;</span><br></pre></td></tr></table></figure>
<p><a href="https://www.elastic.co/guide/en/elasticsearch/reference/1.7/api-conventions.html" target="_blank" rel="external">more_detail_info_for_elasticsearch</a></p>
<h3 id="Java-API"><a href="#Java-API" class="headerlink" title="Java API"></a>Java API</h3><p><a href="https://www.elastic.co/guide/en/elasticsearch/client/java-api/1.7/client.html" target="_blank" rel="external">more_info</a></p>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[Perceptron Model]]></title>
      <url>http://iequa.com/2016/05/20/ml-perceptron-model/</url>
      <content type="html"><![CDATA[<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js"],
    jax: ["input/TeX"],
    tex2jax: {
      inlineMath: [ ['$','$']],
      displayMath: [ ['$$','$$']],
      processEscapes: true
    }
  });
</script>
<script type="text/javascript" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS_HTML,http://myserver.com/MathJax/config/local/local.js">
</script>

<p>perceptron model learning</p>
<a id="more"></a>
<p><strong>Written Before</strong></p>
<ul>
<li>è±†ç“£é“¾æ¥ : <a href="https://book.douban.com/subject/10590856/" target="_blank" rel="external">ã€Šç»Ÿè®¡å­¦ä¹ æ–¹æ³•ã€‹</a></li>
<li>æèˆªå¾®åš : <a href="http://weibo.com/u/2060750830" target="_blank" rel="external">@æèˆªåšå£«</a></li>
<li>ç»´åŸºç™¾ç§‘ : <a href="https://en.wikipedia.org/wiki/Perceptron" target="_blank" rel="external">perceptron</a></li>
</ul>
<p><strong>Content List</strong></p>
<ul>
<li>1.æ„ŸçŸ¥æœºæ¨¡å‹</li>
<li>2.æ„ŸçŸ¥æœºå­¦ä¹ ç­–ç•¥</li>
<li>3.æ„ŸçŸ¥æœºå­¦ä¹ ç®—æ³•<ul>
<li>3.1. åŸå§‹å½¢å¼  </li>
<li>3.2. ç®—æ³•æ”¶æ•›æ€§</li>
<li>3.3. å¯¹å¶å½¢å¼</li>
</ul>
</li>
</ul>
<h2 id="1-Perceptron-model"><a href="#1-Perceptron-model" class="headerlink" title="1. Perceptron model"></a>1. Perceptron model</h2><p><strong>model applicable premise</strong></p>
<p>perceptron èƒ½å¤Ÿè§£å†³çš„é—®é¢˜é¦–å…ˆè¦æ±‚ <code>feature_space</code> çº¿æ€§å¯åˆ†ï¼Œå†è€…æ˜¯äºŒç±»åˆ†ç±»ï¼Œå³å°† sample åˆ†ä¸º {+1, -1} ä¸¤ç±»</p>
<p>ç”±<code>input_space</code> to <code>output_space</code> çš„å‡½æ•°ï¼š</p>
<p>$$<br>f(x) = sign (w \bullet x + b)<br>$$</p>
<p>$w$ å’Œ $b$ ä¸º model å‚æ•°ï¼Œ$w$ ä¸ºæƒå€¼ï¼ˆweightï¼‰ï¼Œ$b$ ä¸ºåç½®ï¼ˆbiasï¼‰</p>
<p>$$<br>    sign(x) = \begin{Bmatrix}<br>        +1, &amp;\mbox{$w \bullet x + b &gt; 0;$} \\<br>        -1, &amp;\mbox{$w \bullet x + b &lt; 0;$}<br>    \end{Bmatrix}<br>$$</p>
<p>æ„ŸçŸ¥æœºæ¨¡å‹çš„ <font color="#DC143C" face="STCAIYUN">hypothesis_space</font> æ˜¯å®šä¹‰åœ¨<code>feature_space</code>ä¸­çš„æ‰€æœ‰çº¿æ€§åˆ†ç±»æ¨¡å‹ï¼Œå³å‡½æ•°é›†åˆ $$ {f|f(x) = wÂ·x + b} $$</p>
<p>æ„ŸçŸ¥æœºçš„å®šä¹‰ä¸­ï¼Œçº¿æ€§æ–¹ç¨‹ $wÂ·x + b = 0$ å¯¹åº”äºé—®é¢˜ç©ºé—´ä¸­çš„ä¸€ä¸ªè¶…å¹³é¢Sï¼Œä½äºè¿™ä¸ªè¶…å¹³é¢ä¸¤ä¾§çš„æ ·æœ¬åˆ†åˆ«è¢«å½’ä¸ºä¸¤ç±»ï¼Œä¾‹å¦‚ä¸‹å›¾ï¼Œçº¢è‰²ä½œä¸ºä¸€ç±»ï¼Œè“è‰²ä½œä¸ºå¦ä¸€ç±»ï¼Œå®ƒä»¬çš„ feature å¾ˆç®€å•ï¼Œå°±æ˜¯å®ƒä»¬çš„åæ ‡</p>
<p></p><p align="center"><img src="http://images.cnitblog.com/blog/414721/201304/11142837-31e4844d63c2478e8f978af1ebd59512.png" alt="å›¾1"></p>
<p>As a method of supervised learningï¼ŒPerceptron learning from the training set to obtain the perceptron modelï¼Œå³æ±‚å¾—æ¨¡å‹å‚æ•° $wï¼Œb$ï¼Œè¿™é‡Œ $x$ å’Œ $y$ åˆ†åˆ«æ˜¯ feature_vector å’Œ ç±»åˆ«ï¼ˆä¹Ÿç§°ä¸ºç›®æ ‡ï¼‰ã€‚åŸºäºæ­¤ï¼ŒPerceptron model å¯ä»¥å¯¹æ–°çš„ inputæ ·æœ¬ è¿›è¡Œåˆ†ç±»ã€‚</p>
<h2 id="2-Perceptron-learning-strategy"><a href="#2-Perceptron-learning-strategy" class="headerlink" title="2. Perceptron learning strategy"></a>2. Perceptron learning strategy</h2><p>perceptron model is a linear classification model for two kinds of classificationã€‚ Linear classification model is required that our sample is linearly separable. But, What kind of sample is linearly separableï¼Ÿ</p>
<p>ä¸¾ä¾‹æ¥è¯´ï¼Œåœ¨äºŒç»´å¹³é¢ä¸­ï¼Œå¯ä»¥ç”¨ä¸€æ¡ç›´çº¿å°† +1ç±» å’Œ -1ç±» å®Œç¾åˆ†å¼€ï¼Œé‚£ä¹ˆè¿™ä¸ªæ ·æœ¬ç©ºé—´å°±æ˜¯çº¿æ€§å¯åˆ†çš„ã€‚å¦‚å›¾1å°±æ˜¯çº¿æ€§å¯åˆ†çš„ï¼Œå›¾2ä¸­çš„æ ·æœ¬å°±æ˜¯çº¿æ€§ä¸å¯åˆ†çš„ï¼Œæ„ŸçŸ¥æœºå°±ä¸èƒ½å¤„ç†è¿™ç§æƒ…å†µã€‚å› æ­¤ï¼Œåœ¨æœ¬ç« ä¸­çš„æ‰€æœ‰é—®é¢˜éƒ½åŸºäºä¸€ä¸ªå‰æï¼Œå°±æ˜¯é—®é¢˜ ç©ºé—´çº¿æ€§å¯åˆ†ã€‚</p>
<p></p><p align="center"><img src="http://images.cnitblog.com/blog/414721/201304/11153222-be953a21074145b880ace08984b4f788.png" alt="å›¾2"><2></2></p>
<p>ä¸ºè¯´æ˜é—®é¢˜ï¼Œå‡è®¾æ•°æ®é›† </p>
<p>$$<br>T = { (x_1, y_1), (x_2, y_2), â€¦ , (x_N, y_N) }<br>$$ </p>
<p>å¯¹æ‰€æœ‰ </p>
<p>$y_i = +1$ çš„å®ä¾‹ $i$ æœ‰ $w \bullet x + b &gt; 0$ ,<br>$y_i = -1$ çš„å®ä¾‹ $i$ æœ‰ $w \bullet x + b &lt; 0$</p>
<p>è¿™é‡Œå…ˆç»™å‡º <code>input_space</code>  $R^n$ ä¸­ä»»ä¸€ç‚¹ $x_0$ åˆ°è¶…å¹³é¢ $S$ çš„è·ç¦»ï¼š</p>
<p>$$<br>\frac{1}{||w||}  |w \bullet x_0 + b|<br>$$</p>
<blockquote>
<p>è¿™é‡Œ $||w||$ æ˜¯ $w$ çš„ $L_2$ èŒƒæ•°</p>
<p><a href="https://segmentfault.com/a/1190000005138706" target="_blank" rel="external">more<em>info</em>ç‚¹åˆ°å¹³é¢çš„è·ç¦»</a></p>
</blockquote>
<p>å¯¹äºè¯¯åˆ†ç±»çš„æ•°æ®  $(x_i, y_i)$ ï¼Œæ ¹æ®æˆ‘ä»¬ä¹‹å‰çš„å‡è®¾ï¼Œæœ‰</p>
<p>$$<br>-y_i (w \bullet x_i + b) &gt; 0<br>$$</p>
<p>å› æ­¤è¯¯åˆ†ç±»ç‚¹åˆ°è¶…å¹³é¢ $S$ çš„è·ç¦»å¯ä»¥å†™ä½œ :</p>
<p>$$<br>-\frac{1}{||w||} y_i (w \bullet x_i + b)<br>$$</p>
<p>å‡è®¾è¶…å¹³é¢ $S$ çš„è¯¯åˆ†ç±»ç‚¹é›†åˆä¸º $M$ï¼Œé‚£ä¹ˆæ‰€æœ‰è¯¯åˆ†ç±»ç‚¹åˆ°è¶…å¹³é¢Sçš„æ€»è·ç¦»ä¸º :</p>
<p>$$<br>-\frac{1}{||w||}\sum_{x_i \in M } y_i (w \bullet x_i + b)<br>$$</p>
<blockquote>
<p>$\frac{1}{||w||}$ å€¼æ˜¯å›ºå®šçš„ã€‚&lt;?&gt;</p>
</blockquote>
<p>è¿™æ ·å°±å¾—åˆ°äº†æ„ŸçŸ¥æœºå­¦ä¹ çš„ <strong><code>loss_function</code></strong>ã€‚æ ¹æ®æˆ‘ä»¬çš„å®šä¹‰ï¼Œloss_functionè‡ªç„¶æ˜¯è¶Šå°è¶Šå¥½ï¼Œå› ä¸ºè¿™æ ·å°±ä»£è¡¨ç€ è¯¯åˆ†ç±»ç‚¹ è¶Šå°‘ã€è¯¯åˆ†ç±»ç‚¹ è·ç¦»è¶…å¹³é¢ $S$ çš„è·ç¦»è¶Šè¿‘ï¼Œå³æˆ‘ä»¬çš„åˆ†ç±»è¶Šæ­£ç¡®ã€‚æ˜¾ç„¶ï¼Œè¿™ä¸ª <strong><code>loss_function</code></strong> æ˜¯éè´Ÿçš„ï¼Œè‹¥æ‰€æœ‰çš„æ ·æœ¬éƒ½åˆ†ç±»æ­£ç¡®ï¼Œé‚£ä¹ˆæˆ‘ä»¬çš„<strong><code>loss_function</code></strong> å€¼ä¸º0ã€‚ä¸€ä¸ªç‰¹å®šçš„æ ·æœ¬é›† $T$ çš„æŸå¤±å‡½æ•°ï¼šåœ¨è¯¯åˆ†ç±»æ—¶æ˜¯å‚æ•°  $w$ ã€ $b$ çš„çº¿æ€§å‡½æ•°ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œä¸ºæ±‚å¾—æ­£ç¡®çš„å‚æ•° $wï¼Œb$ï¼Œæˆ‘ä»¬çš„ç›®æ ‡å‡½æ•°ä¸º</p>
<p>$$<br>\min \limits<em>{w, b} L(w, b) = -\sum</em>{x_i \in M } y_i (w \bullet x_i + b)<br>$$</p>
<p><code>loss_function</code> $L(w, b)$ æ˜¯  $w, b$ çš„è¿ç»­å¯å¯¼å‡½æ•°. </p>
<blockquote>
<p>?</p>
</blockquote>
<p>The learning strategy of the perceptron model is to select the model parameters $w, b$ for minimize loss function in the hypothesis space.</p>
<h2 id="3-Perceptron-learning-algorithm"><a href="#3-Perceptron-learning-algorithm" class="headerlink" title="3. Perceptron learning algorithm"></a>3. Perceptron learning algorithm</h2><p>æ ¹æ®æ„ŸçŸ¥æœºå­¦ä¹ çš„ç­–ç•¥ï¼Œæˆ‘ä»¬å°†å¯»æ‰¾è¶…å¹³é¢ $S$ çš„é—®é¢˜è½¬åŒ–ä¸ºæ±‚è§£  </p>
<p>$$<br>\min \limits<em>{w, b} L(w, b) = -\sum</em>{x_i \in M } y_i (w \bullet x_i + b)<br>$$</p>
<p>çš„æœ€ä¼˜åŒ–é—®é¢˜ï¼Œæœ€ä¼˜åŒ–çš„æ–¹æ³•æ˜¯éšæœºæ¢¯åº¦ä¸‹é™æ³•.</p>
<p><strong>éšæœºæ¢¯åº¦ä¸‹é™æ³•ä¸¤ç§å½¢å¼ :</strong></p>
<ul>
<li>åŸå§‹å½¢å¼</li>
<li>å¯¹å¶å½¢å¼</li>
</ul>
<p>å¹¶è¯æ˜äº†åœ¨ train_sets çº¿æ€§å¯åˆ†æ—¶ ç®—æ³•çš„æ”¶æ•›æ€§ã€‚</p>
<h3 id="3-1-åŸå§‹å½¢å¼"><a href="#3-1-åŸå§‹å½¢å¼" class="headerlink" title="3.1 åŸå§‹å½¢å¼"></a>3.1 åŸå§‹å½¢å¼</h3><p>æ‰€è°“åŸå§‹å½¢å¼ï¼Œå°±æ˜¯æˆ‘ä»¬ç”¨æ¢¯åº¦ä¸‹é™çš„æ–¹æ³•ï¼Œå¯¹ $w$ å’Œ $b$ è¿›è¡Œä¸æ–­çš„è¿­ä»£æ›´æ–°ã€‚å…·ä½“æ¥è¯´ï¼Œå°±æ˜¯å…ˆä»»æ„é€‰å–ä¸€ä¸ªè¶…å¹³é¢ $S_0$ ï¼Œå¯¹åº”çš„å‚æ•°åˆ†åˆ«ä¸º $w_0$ å’Œ $x_0$ ï¼Œå½“ç„¶ç°åœ¨æ˜¯å¯ä»¥ä»»æ„èµ‹å€¼çš„ï¼Œæ¯”å¦‚è¯´é€‰å– $w_0$ ä¸ºå…¨ä¸º 0 çš„å‘é‡ï¼Œ $b$ çš„å€¼ä¸º0,  ç„¶åç”¨æ¢¯åº¦ä¸‹é™ä¸æ–­åœ°æå°åŒ– æŸå¤±å‡½æ•°ã€‚ç”±äºéšæœºæ¢¯åº¦ä¸‹é™ï¼ˆstochastic[stÉ™â€™kÃ¦stÉªk] gradient descentï¼‰çš„æ•ˆç‡è¦é«˜äºæ‰¹é‡æ¢¯åº¦ä¸‹é™ï¼ˆbatch gradient descentï¼‰ï¼ˆ <a href="http://cs229.stanford.edu/notes/cs229-notes1.pdf" target="_blank" rel="external">Andrew Ngï¼Œåœ¨Part 1çš„LMS algorithméƒ¨åˆ†è®²ä¹‰</a>ï¼‰ï¼Œæ‰€ä»¥è¿™é‡Œé‡‡ç”¨éšæœºæ¢¯åº¦ä¸‹é™çš„æ–¹æ³•ï¼Œæ¯æ¬¡éšæœºé€‰å–ä¸€ä¸ªè¯¯åˆ†ç±»ç‚¹å¯¹ $w$ å’Œ $b$ è¿›è¡Œæ›´æ–°ã€‚</p>
<p>è®¾è¯¯åˆ†ç±»ç‚¹é›†åˆ  $M$ æ˜¯å›ºå®šçš„ï¼Œä¸ºæ±‚ <em>loss_function</em> çš„æœ€å°å€¼ï¼Œæˆ‘ä»¬éœ€è¦çŸ¥é“å¾€å“ªä¸ªæ–¹å‘ä¸‹é™é€Ÿç‡æœ€å¿«ï¼Œè¿™æ˜¯å¯ç”±å¯¹æŸå¤±å‡½æ•° $L(w, b)$ æ±‚æ¢¯åº¦å¾—åˆ°ï¼Œ$L(w, b)$ çš„æ¢¯åº¦ä¸º</p>
<p>$$<br>\nabla<em>w L(w, b) = -\sum</em>{x_i \in M } y_i x_i<br>$$</p>
<p>$$<br>\nabla<em>b L(w, b) = -\sum</em>{x_i \in M } y_i<br>$$</p>
<blockquote>
<p>?</p>
</blockquote>
<p>æ¥ä¸‹æ¥éšæœºé€‰å–ä¸€ä¸ª è¯¯åˆ†ç±»ç‚¹ $(x_i, y_i)$ å¯¹ $w$ , $b$ è¿›è¡Œæ›´æ–° :</p>
<p>$$<br>w \leftarrow w + \eta y_i x_i<br>$$</p>
<p>$$<br>b \leftarrow b + \eta y_i<br>$$</p>
<p>å…¶ä¸­ $\eta (0 \lt \eta \le 1)$  ä¸ºæ­¥é•¿ï¼Œä¹Ÿç§°ä¸ºå­¦ä¹ é€Ÿç‡ï¼ˆlearning rateï¼‰ï¼Œä¸€èˆ¬åœ¨0åˆ°1ä¹‹é—´å–å€¼ï¼Œæ­¥é•¿è¶Šå¤§ï¼Œæˆ‘ä»¬æ¢¯åº¦ä¸‹é™çš„é€Ÿåº¦è¶Šå¿«ï¼Œä¹Ÿå°±èƒ½æ›´å¿«æ¥è¿‘æå°ç‚¹ã€‚å¦‚æœæ­¥é•¿è¿‡å¤§ï¼Œå°±æœ‰ç›´æ¥è·¨è¿‡æå°ç‚¹å¯¼è‡´å‡½æ•°å‘æ•£çš„é—®é¢˜ï¼›å¦‚æœæ­¥é•¿è¿‡å°ï¼Œå¯èƒ½ä¼šè€—è´¹æ¯”è¾ƒé•¿çš„æ—¶é—´æ‰èƒ½è¾¾åˆ°æå°ç‚¹ã€‚é€šè¿‡è¿™æ ·çš„è¿­ä»£ï¼Œæˆ‘ä»¬çš„æŸå¤±å‡½æ•°å°±ä¸æ–­å‡å°ï¼Œç›´åˆ°ä¸º0ã€‚ç»¼ä¸Šæ‰€è¿°ï¼Œå¾—åˆ°å¦‚ä¸‹ç®—æ³•ï¼š</p>
<p><strong>ç®—æ³•1 (æ„ŸçŸ¥æœºå­¦ä¹ ç®—æ³•çš„åŸå§‹å½¢å¼)</strong></p>
<p>è¾“å…¥ : è®­ç»ƒæ•°æ®é›† </p>
<p>$$<br>T = { (x_1, y_1), (x_2, y_2), â€¦ , (x_N, y_N) }<br>$$ </p>
<p>è¾“å‡º : $wï¼Œb$ ; æ„ŸçŸ¥æœºæ¨¡å‹ $<br>f(x) = sign (w \bullet x + b)<br>$</p>
<p>ï¼ˆ1ï¼‰é€‰å–åˆå§‹å€¼ï¼Œ$w_0, b_0$</p>
<p>ï¼ˆ2ï¼‰åœ¨è®­ç»ƒé›†ä¸­é€‰å–æ•°æ® $(x_i, y_i)$</p>
<p>ï¼ˆ3ï¼‰å¦‚æœ $y_i(w \bullet x_i + b) \le 0$</p>
<p>$$<br>w \leftarrow w + \eta y_i x_i<br>$$</p>
<p>$$<br>b \leftarrow b + \eta y_i<br>$$</p>
<p>ï¼ˆ4ï¼‰è½¬è‡³ï¼ˆ2ï¼‰ï¼Œç›´è‡³è®­ç»ƒé›†ä¸­æ²¡æœ‰è¯¯åˆ†ç±»ç‚¹</p>
<p>è¿™ç§å­¦ä¹ ç®—æ³•ç›´è§‚ä¸Šæœ‰å¦‚ä¸‹è§£é‡Šï¼šå½“ä¸€ä¸ªæ ·æœ¬è¢«è¯¯åˆ†ç±»æ—¶ï¼Œå°±è°ƒæ•´ $w$ å’Œ $b$ çš„å€¼ï¼Œä½¿è¶…å¹³é¢ $S$ å‘è¯¯åˆ†ç±»ç‚¹çš„ä¸€ä¾§ç§»åŠ¨ï¼Œä»¥å‡å°‘è¯¥è¯¯åˆ†ç±»ç‚¹åˆ°è¶…å¹³é¢çš„è·ç¦»ï¼Œç›´è‡³è¶…å¹³é¢è¶Šè¿‡è¯¥ç‚¹ä½¿ä¹‹è¢«æ­£ç¡®åˆ†ç±»ã€‚</p>
<blockquote>
<p>å‡¡æ˜¯åªè®²ç†è®ºä¸ç»™ä¾‹å­çš„è¡Œä¸ºéƒ½æ˜¯è€æµæ°“ï¼</p>
</blockquote>
<p>ä¾‹1 : å¦‚å›¾3æ‰€ç¤ºçš„è®­ç»ƒæ•°æ®é›†ï¼Œå…¶æ­£å®ä¾‹ç‚¹æ˜¯ $x_1 = (3, 3)^T$, $x_2 = (4, 3)^T$, è´Ÿå®ä¾‹ç‚¹æ˜¯ $x_3 = (1, 1)^T$, è¯•ç”¨ Perceptron learning algorithm çš„åŸå§‹å½¢å¼ æ±‚ Perceptron modelï¼Œå³æ±‚å‡º $w$ å’Œ $b$ã€‚è¿™é‡Œï¼Œ</p>
<p></p><p align="center"><img src="http://images.cnitblog.com/blog/414721/201304/12175006-26817264c38a47f5b93d2f56aee2f9d1.png" alt="å›¾3"></p>
<h3 id="3-2-ç®—æ³•æ”¶æ•›æ€§"><a href="#3-2-ç®—æ³•æ”¶æ•›æ€§" class="headerlink" title="3.2 ç®—æ³•æ”¶æ•›æ€§"></a>3.2 ç®—æ³•æ”¶æ•›æ€§</h3><p>çº¯æ•°å­¦çš„ä¸œè¥¿ï¼ŒNovikoffäº1962å¹´è¯æ˜äº†æ„ŸçŸ¥æœºç®—æ³•çš„æ”¶æ•›æ€§ï¼Œå…·ä½“è¯·å‚è§ å“¥ä¼¦æ¯”äºšå¤§å­¦æœ‰è¿™æ ·çš„ä¸€ç¯‡å« <a href="http://www.cs.columbia.edu/~mcollins/courses/6998-2012/notes/perc.converge.pdf" target="_blank" rel="external">ã€ŠConvergence Proof for the Perceptron Algorithmã€‹</a> è®²è§£äº†è¿™ä¸ªå®šç†çš„è¯æ˜è¿‡ç¨‹</p>
<h3 id="3-3-å¯¹å¶å½¢å¼"><a href="#3-3-å¯¹å¶å½¢å¼" class="headerlink" title="3.3 å¯¹å¶å½¢å¼"></a>3.3 å¯¹å¶å½¢å¼</h3><p>å¯¹å¶å½¢å¼çš„åŸºæœ¬æƒ³æ³•æ˜¯ï¼Œå°† $w$ å’Œ $b$ è¡¨ç¤ºä¸ºå®ä¾‹å’Œçš„ çº¿æ€§ç»„åˆå½¢å¼ï¼Œé€šè¿‡æ±‚è§£å…¶ç³»æ•°è€Œæ±‚å¾— $w$ å’Œ $b$.</p>
<blockquote>
<p>2016-06-22 ç¬¬ 18 å‘¨, æˆ‘æ¬ ä¸‹çš„å€ºâ€¦</p>
</blockquote>
<p><a href="https://book.douban.com/subject/10590856/" target="_blank" rel="external">æ›´å¤šå‚è§.</a></p>
<h2 id="4-å°ç»“"><a href="#4-å°ç»“" class="headerlink" title="4. å°ç»“"></a>4. å°ç»“</h2><p>è™½ç„¶å¤§éƒ¨åˆ†æ˜¯æŠ„ä¹¦ï¼Œä½†æ˜¯è‡ªå·±æ•´ç†å‡ºæ¥ï¼Œå¯¹ä»¥åå¤ä¹  æœ‰è«å¤§çš„å¥½å¤„ã€‚</p>
<p>æœ¬ç« ä»‹ç»äº†ç»Ÿè®¡å­¦ä¹ ä¸­æœ€ç®€å•çš„ä¸€ç§ç®—æ³•â€”â€”æ„ŸçŸ¥æœºï¼Œä½†æ˜¯ å®ƒæ˜¯å¾ˆå¤šç°åœ¨æµè¡Œç®—æ³•çš„åŸºç¡€ï¼Œæ¯”å¦‚ Neural networkã€ SVMã€etc..</p>
<p><a href="http://wenku.baidu.com/view/27b97e69b84ae45c3b358cb0" target="_blank" rel="external">æ„ŸçŸ¥æœºå’Œå¤šåˆ†ç±»</a></p>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[Elasticsearch installation plugins]]></title>
      <url>http://iequa.com/2016/05/17/elasticsearch-install-plugins/</url>
      <content type="html"><![CDATA[<blockquote>
<p>Elasticsearch æ‰©å±•æ€§éå¸¸å¥½ï¼Œæœ‰å¾ˆå¤šå®˜æ–¹å’Œç¬¬ä¸‰æ–¹å¼€å‘çš„æ’ä»¶</p>
</blockquote>
<h2 id="1-Elasticsearch-Install"><a href="#1-Elasticsearch-Install" class="headerlink" title="1. Elasticsearch-Install"></a>1. Elasticsearch-Install</h2><p>å®˜ç½‘ : <a href="https://www.elastic.co/" target="_blank" rel="external">https://www.elastic.co/</a></p>
<p><strong>Install es</strong></p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">download elasticsearch-1.7.5.tar.gz</span><br><span class="line">cd usr/local/mySoft/deploy</span><br><span class="line">tar -xvf elasticsearch-1.7.5.tar.gz</span><br><span class="line">ln -s /usr/local/mySoft/deploy/elasticsearch-1.7.5/ elasticsearch</span><br><span class="line"></span><br><span class="line">------</span><br><span class="line"></span><br><span class="line">vim ~/.zshrc</span><br><span class="line">export ES_HOME=/usr/local/xSoft/elasticsearch</span><br></pre></td></tr></table></figure>
<p><strong>Config es</strong></p>
<p>$ES_HOME/config/elasticsearch.yml</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">cluster.name: elasticsearch_x</span><br><span class="line">node.name=test-node1</span><br></pre></td></tr></table></figure>
<p><strong>Startup</strong></p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">./bin/elasticsearch</span><br><span class="line"></span><br><span class="line">./bin/elasticsearch -d -Xms512m -Xmx512m</span><br></pre></td></tr></table></figure>
<blockquote>
<p>è¿è¡Œä¹‹åï¼Œä¼šäº§ç”Ÿ data å’Œ logs ç›®å½•</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">âœ  elasticsearch ll</span><br><span class="line">total 28</span><br><span class="line">-rw-r--r--  1 hp staff 11358 Feb  2 17:24 LICENSE.txt</span><br><span class="line">-rw-r--r--  1 hp staff   150 Feb  2 17:24 NOTICE.txt</span><br><span class="line">-rw-r--r--  1 hp staff  8700 Feb  2 17:24 README.textile</span><br><span class="line">drwxr-xr-x 14 hp staff   476 May 26 15:42 bin/</span><br><span class="line">drwxr-xr-x  4 hp staff   136 May 27 11:03 config/</span><br><span class="line">drwxr-xr-x  3 hp staff   102 May 26 11:01 data/</span><br><span class="line">drwxr-xr-x 26 hp staff   884 May 26 09:58 lib/</span><br><span class="line">drwxr-xr-x  7 hp staff   238 May 27 09:58 logs/</span><br><span class="line">drwxr-xr-x  7 hp staff   238 May 27 10:48 plugins/</span><br><span class="line">âœ  elasticsearch</span><br></pre></td></tr></table></figure>
<p><strong>Verify</strong></p>
<p>open <a href="http://ip:9200/" target="_blank" rel="external">http://ip:9200/</a></p>
<figure class="highlight json"><table><tr><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="attr">"status"</span> : <span class="number">200</span>,</span><br><span class="line">  <span class="attr">"name"</span> : <span class="string">"node01"</span>,</span><br><span class="line">  <span class="attr">"cluster_name"</span> : <span class="string">"elasticsearch_x"</span>,</span><br><span class="line">  <span class="attr">"version"</span> : &#123;</span><br><span class="line">    <span class="attr">"number"</span> : <span class="string">"1.7.5"</span>,</span><br><span class="line">    <span class="attr">"build_hash"</span> : <span class="string">"00f95f4ffca6de89d68b7ccaf80d148f1f70e4d4"</span>,</span><br><span class="line">    <span class="attr">"build_timestamp"</span> : <span class="string">"2016-02-02T09:55:30Z"</span>,</span><br><span class="line">    <span class="attr">"build_snapshot"</span> : <span class="literal">false</span>,</span><br><span class="line">    <span class="attr">"lucene_version"</span> : <span class="string">"4.10.4"</span></span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="attr">"tagline"</span> : <span class="string">"You Know, for Search"</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="2-Elasticsearch-Head"><a href="#2-Elasticsearch-Head" class="headerlink" title="2. Elasticsearch-Head"></a>2. Elasticsearch-Head</h2><p>ElasticSearch-Head æ˜¯ä¸€ä¸ªä¸Elasticé›†ç¾¤ï¼ˆClusterï¼‰ç›¸äº¤äº’çš„ Web å‰å°ã€‚</p>
<p><img src="/images/elastic/es-header.png" alt="header.png"></p>
<p>ES-Headçš„ä¸»è¦ä½œç”¨</p>
<ul>
<li>å®ƒå±•ç°ESé›†ç¾¤çš„æ‹“æ‰‘ç»“æ„ï¼Œå¹¶ä¸”å¯ä»¥é€šè¿‡å®ƒæ¥è¿›è¡Œç´¢å¼•ï¼ˆIndexï¼‰å’ŒèŠ‚ç‚¹ï¼ˆNodeï¼‰çº§åˆ«çš„æ“ä½œ</li>
<li>å®ƒæä¾›ä¸€ç»„é’ˆå¯¹é›†ç¾¤çš„æŸ¥è¯¢APIï¼Œå¹¶å°†ç»“æœä»¥jsonå’Œè¡¨æ ¼å½¢å¼è¿”å›</li>
<li>å®ƒæä¾›ä¸€äº›å¿«æ·èœå•ï¼Œç”¨ä»¥å±•ç°é›†ç¾¤çš„å„ç§çŠ¶æ€</li>
</ul>
<p><strong>Install-Verify</strong></p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">elasticsearch/bin/plugin install mobz/elasticsearch-head</span><br><span class="line">open ip:9200/_plugin/head/</span><br><span class="line">open ip:9200/_cluster/health?pretty</span><br></pre></td></tr></table></figure>
<h2 id="3-Elasticsearch-Kopf"><a href="#3-Elasticsearch-Kopf" class="headerlink" title="3. Elasticsearch-Kopf"></a>3. Elasticsearch-Kopf</h2><p>Kopfæ˜¯ä¸€ä¸ªElasticSearchçš„ç®¡ç†å·¥å…·ï¼Œå®ƒä¹Ÿæä¾›äº†å¯¹ESé›†ç¾¤æ“ä½œçš„APIã€‚</p>
<p><img src="/images/elastic/es-kopf.png" alt="613455-20160224102628443-1084839027.png"></p>
<p><strong>Install-Verify</strong></p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">./elasticsearch/bin/plugin install lmenezes/elasticsearch-kopf/&#123;branch|version&#125;</span><br><span class="line">open http://localhost:9200/_plugin/kopf</span><br></pre></td></tr></table></figure>
<hr>
<h2 id="4-Elasticsearch-bigdesk"><a href="#4-Elasticsearch-bigdesk" class="headerlink" title="4. Elasticsearch-bigdesk"></a>4. Elasticsearch-bigdesk</h2><p>Bigdeskä¸ºElasticé›†ç¾¤æä¾›åŠ¨æ€çš„å›¾è¡¨ä¸ç»Ÿè®¡æ•°æ®ã€‚</p>
<p><img src="/images/elastic/es-bigdesk.jpeg" alt="613455-20160224102646365-1432943551.jpg"></p>
<p><strong>Install-Verify</strong></p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">bin/plugin -install lukas-vlcek/bigdesk</span><br><span class="line">åˆ é™¤bin/plugin --remove bigdesk</span><br><span class="line">open ip:9200/_plugin/bigdesk</span><br><span class="line">open ip:9200/_cluster/state?pretty</span><br></pre></td></tr></table></figure>
<h2 id="5-Elasticsearch-service"><a href="#5-Elasticsearch-service" class="headerlink" title="5. Elasticsearch-service"></a>5. Elasticsearch-service</h2><p>elasticsearch ä½œä¸ºä¸€ä¸ªç³»ç»Ÿserviceåº”ç”¨ ï¼Œå¯ä»¥å®‰è£…elasticsearch-servicewrapperæ’ä»¶</p>
<p><a href="https://github.com/elastic/elasticsearch-servicewrapper" target="_blank" rel="external">github-es-service</a></p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">git clone https://github.com/elasticsearch/elasticsearch-servicewrapper</span><br><span class="line"></span><br><span class="line">ä¸‹è½½è¯¥æ’ä»¶åï¼Œè§£å‹ç¼©ã€‚å°†serviceç›®å½•æ‹·è´åˆ°elasticsearchå®‰è£…ç›®å½•çš„binç›®å½•ä¸‹ã€‚</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">âœ  service ll</span><br><span class="line">total 76</span><br><span class="line">-rwxr-xr-x  1 hp staff 55710 May 26 15:42 elasticsearch*</span><br><span class="line">-rw-r--r--  1 hp staff  2610 May 26 15:42 elasticsearch.bat</span><br><span class="line">-rw-r--r--  1 hp staff  4754 May 26 15:42 elasticsearch.conf</span><br><span class="line">-rwxr-xr-x  1 hp staff    64 May 26 15:42 elasticsearch32*</span><br><span class="line">-rwxr-xr-x  1 hp staff    64 May 26 15:42 elasticsearch64*</span><br><span class="line">drwxr-xr-x 16 hp staff   544 May 26 15:42 exec/</span><br><span class="line">drwxr-xr-x 17 hp staff   578 May 26 15:42 lib/</span><br><span class="line">âœ  service</span><br></pre></td></tr></table></figure>
<p>è¿è¡Œè¿™ä¸ªæ’ä»¶çš„å¥½å¤„æ˜¯ï¼šelasticsearch éœ€è¦çš„jvmå‚æ•°å’Œå…¶å®ƒé…ç½®éƒ½å·²ç»é…ç½®å¥½äº†ï¼Œéå¸¸æ–¹ä¾¿ã€‚</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">sh elasticsearch start;</span><br><span class="line">sh elasticsearch restart;</span><br><span class="line">sh elasticsearch stop;</span><br></pre></td></tr></table></figure>
<p>åœ¨å®é™…ç”Ÿäº§ç¯å¢ƒä¸­ï¼Œè¯¥æ’ä»¶åŸºæœ¬æŠŠå‚æ•°éƒ½é…ç½®å¥½äº†ã€‚æˆ‘ä»¬åªéœ€è¦ä¿®æ”¹ä¸€ä¸‹jvmåˆ†é…çš„å†…å­˜ç©ºé—´å°±å¥½äº†ï¼Œå¦‚ :</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">set.default.ES_HEAP_SIZE=16384</span><br><span class="line">set.default.ES_MIN_MEM=16384</span><br><span class="line">set.default.ES_MAX_MEM=19660</span><br></pre></td></tr></table></figure>
<blockquote>
<p>ç¬¬ä¸€æ¬¡è¿è¡Œ elaticsearch ä¼šäº§ç”Ÿ data-dir ä¸ log-dir</p>
<p>service log åœ¨ logs/service.log ä¸­ã€‚</p>
<p><a href="https://github.com/elastic/elasticsearch-servicewrapper" target="_blank" rel="external">more_info-service</a></p>
<p>Mac OS X Mountain Lion missing 32-bit Java<br>apple 6 maybe could</p>
</blockquote>
<hr>
<h2 id="6-Http-basic-server-plugin"><a href="#6-Http-basic-server-plugin" class="headerlink" title="6. Http-basic-server-plugin"></a>6. Http-basic-server-plugin</h2><p>ä¸è¦è£¸å¥”ï¼Œç©¿ä¸€å¥—æ¯”åŸºå°¼å§ã€‚</p>
<p>åšä¸€ä¸ªç®€å•çš„HTTPè®¤è¯ï¼Œelasticsearch-http-basic æä¾›äº†é’ˆå¯¹ ES HTTP è¿æ¥ çš„ IPç™½åå•ã€å¯†ç æƒé™ å’Œ  ä¿¡ä»»ä»£ç†åŠŸèƒ½ã€‚</p>
<p>github :<br><a href="https://github.com/Asquera/elasticsearch-http-basic" target="_blank" rel="external">Asquera_http_basic</a></p>
<p><strong>Install-Verify</strong></p>
<p>elasticsearch-http-basicè¿˜ä¸æ”¯æŒESæ ‡å‡†çš„bin/plugin install [github-name]/[repo-name]çš„å®‰è£…æ–¹å¼, æ‰€ä»¥æŒ‰ç…§å¦‚ä¸‹æ–¹å¼å®‰è£…</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">mkdir -p plugins/http-basic; </span><br><span class="line">mv elasticsearch-http-basic-1.5.1.jar plugins/http-basic</span><br></pre></td></tr></table></figure>
<p><strong>Config http-basic param</strong></p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">http.basic.enabled: true</span><br><span class="line">http.basic.user: &quot;admin&quot;</span><br><span class="line">http.basic.password: &quot;admin&quot;</span><br><span class="line">http.basic.ipwhitelist: [&quot;localhost&quot;, &quot;127.0.0.1&quot;]</span><br><span class="line">http.basic.trusted_proxy_chains: []</span><br><span class="line">http.basic.log: true</span><br><span class="line">...</span><br></pre></td></tr></table></figure>
<h2 id="7-Elasticsearch-sql"><a href="#7-Elasticsearch-sql" class="headerlink" title="7. Elasticsearch-sql"></a>7. Elasticsearch-sql</h2><p><img src="/images/elastic/es-sql.jpeg" alt="å›¾ç‰‡æè¿°"></p>
<p><strong>install</strong></p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">./plugin -u https://github.com/NLPchina/elasticsearch-sql/releases/download/1.4.5/elasticsearch-sql-1.4.5.zip --install sql</span><br></pre></td></tr></table></figure>
<p><strong>Verify</strong></p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">open http://node01:9200/_plugin/sql/</span><br></pre></td></tr></table></figure>
<p><strong>./bin/plugin â€“list</strong></p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">âœ  elasticsearch ./bin/plugin --list</span><br><span class="line">Installed plugins:</span><br><span class="line">    - bigdesk</span><br><span class="line">    - head</span><br><span class="line">    - http-basic</span><br><span class="line">    - jdbc</span><br><span class="line">    - kopf</span><br><span class="line">    - license</span><br><span class="line">    - shield</span><br><span class="line">    - sql</span><br></pre></td></tr></table></figure>
<h2 id="8-Elasticsearch-jdbc"><a href="#8-Elasticsearch-jdbc" class="headerlink" title="8. Elasticsearch-jdbc"></a>8. Elasticsearch-jdbc</h2><p>å…³ç³»å‹æ•°æ®åº“çš„åŒæ­¥æ’ä»¶</p>
<p><strong>install</strong></p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">./plugin --install jdbc --url http://xbib.org/repository/org/xbib/elasticsearch/plugin/elasticsearch-river-jdbc/1.5.0.5/elasticsearch-river-jdbc-1.5.0.5-plugin.zip</span><br></pre></td></tr></table></figure>
<p>download and add mysql-driver</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">curl -o mysql-connector-java-5.1.33.zip -L &apos;http://dev.mysql.com/get/Downloads/Connector-J/mysql-connector-java-5.1.33.zip/from/http://cdn.mysql.com/&apos;</span><br><span class="line"></span><br><span class="line">cp mysql-connector-java-5.1.33-bin.jar $ES_HOME/plugins/jdbc/</span><br><span class="line"></span><br><span class="line">chmod 644 $ES_HOME/plugins/jdbc/*</span><br></pre></td></tr></table></figure>
<p>åœæ­¢river</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">curl -XDELETE &apos;localhost:9200/_river/my_jdbc_river/&apos;</span><br></pre></td></tr></table></figure>
<p><strong>Verify</strong></p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">open http://node01:9200/_nodes/node01/plugins?pretty=true</span><br></pre></td></tr></table></figure>
<h2 id="9-Basic-operation"><a href="#9-Basic-operation" class="headerlink" title="9. Basic operation"></a>9. Basic operation</h2><p><strong>æŸ¥çœ‹è¯¥èŠ‚ç‚¹å®‰è£…çš„æ‰€æœ‰æ’ä»¶åˆ—è¡¨</strong></p>
<p><strong><em><a href="http://node01:9200/_nodes/node01/plugins?pretty=true" target="_blank" rel="external">http://node01:9200/_nodes/node01/plugins?pretty=true</a></em></strong></p>
<figure class="highlight json"><table><tr><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="attr">"cluster_name"</span> : <span class="string">"elasticsearch_x"</span>,</span><br><span class="line">  <span class="attr">"nodes"</span> : &#123;</span><br><span class="line">    <span class="attr">"nSitXzd8QvSxQRz3mni3BA"</span> : &#123;</span><br><span class="line">      <span class="attr">"name"</span> : <span class="string">"node01"</span>,</span><br><span class="line">      <span class="attr">"transport_address"</span> : <span class="string">"inet[/192.168.181.35:9300]"</span>,</span><br><span class="line">      <span class="attr">"host"</span> : <span class="string">"unix.local"</span>,</span><br><span class="line">      <span class="attr">"ip"</span> : <span class="string">"192.168.181.35"</span>,</span><br><span class="line">      <span class="attr">"version"</span> : <span class="string">"1.7.5"</span>,</span><br><span class="line">      <span class="attr">"build"</span> : <span class="string">"00f95f4"</span>,</span><br><span class="line">      <span class="attr">"http_address"</span> : <span class="string">"inet[/192.168.181.35:9200]"</span>,</span><br><span class="line">      <span class="attr">"plugins"</span> : [ &#123;</span><br><span class="line">        <span class="attr">"name"</span> : <span class="string">"sql"</span>,</span><br><span class="line">        <span class="attr">"version"</span> : <span class="string">"1.4.5"</span>,</span><br><span class="line">        <span class="attr">"description"</span> : <span class="string">"Use sql to query elasticsearch."</span>,</span><br><span class="line">        <span class="attr">"url"</span> : <span class="string">"/_plugin/sql/"</span>,</span><br><span class="line">        <span class="attr">"jvm"</span> : <span class="literal">true</span>,</span><br><span class="line">        <span class="attr">"site"</span> : <span class="literal">true</span></span><br><span class="line">      &#125;, &#123;</span><br><span class="line">        <span class="attr">"name"</span> : <span class="string">"http-basic-server-plugin"</span>,</span><br><span class="line">        <span class="attr">"version"</span> : <span class="string">"NA"</span>,</span><br><span class="line">        <span class="attr">"description"</span> : <span class="string">"HTTP Basic Server Plugin"</span>,</span><br><span class="line">        <span class="attr">"jvm"</span> : <span class="literal">true</span>,</span><br><span class="line">        <span class="attr">"site"</span> : <span class="literal">false</span></span><br><span class="line">      &#125;, &#123;</span><br><span class="line">        <span class="attr">"name"</span> : <span class="string">"bigdesk"</span>,</span><br><span class="line">        <span class="attr">"version"</span> : <span class="string">"NA"</span>,</span><br><span class="line">        <span class="attr">"description"</span> : <span class="string">"No description found."</span>,</span><br><span class="line">        <span class="attr">"url"</span> : <span class="string">"/_plugin/bigdesk/"</span>,</span><br><span class="line">        <span class="attr">"jvm"</span> : <span class="literal">false</span>,</span><br><span class="line">        <span class="attr">"site"</span> : <span class="literal">true</span></span><br><span class="line">      &#125;, &#123;</span><br><span class="line">        <span class="attr">"name"</span> : <span class="string">"head"</span>,</span><br><span class="line">        <span class="attr">"version"</span> : <span class="string">"NA"</span>,</span><br><span class="line">        <span class="attr">"description"</span> : <span class="string">"No description found."</span>,</span><br><span class="line">        <span class="attr">"url"</span> : <span class="string">"/_plugin/head/"</span>,</span><br><span class="line">        <span class="attr">"jvm"</span> : <span class="literal">false</span>,</span><br><span class="line">        <span class="attr">"site"</span> : <span class="literal">true</span></span><br><span class="line">      &#125;, &#123;</span><br><span class="line">        <span class="attr">"name"</span> : <span class="string">"kopf"</span>,</span><br><span class="line">        <span class="attr">"version"</span> : <span class="string">"1.5.7-SNAPSHOT"</span>,</span><br><span class="line">        <span class="attr">"description"</span> : <span class="string">"kopf - simple web administration tool for ElasticSearch"</span>,</span><br><span class="line">        <span class="attr">"url"</span> : <span class="string">"/_plugin/kopf/"</span>,</span><br><span class="line">        <span class="attr">"jvm"</span> : <span class="literal">false</span>,</span><br><span class="line">        <span class="attr">"site"</span> : <span class="literal">true</span></span><br><span class="line">      &#125; ]</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><strong>XPUT data</strong></p>
<figure class="highlight"><table><tr><td class="code"><pre><span class="line">curl -u admin:admin -XPUT http://node01:9200/megacorp/employee/1 -d '</span><br><span class="line"> &#123;</span><br><span class="line">     "first_name" : "John",</span><br><span class="line">     "last_name" :  "Smith",</span><br><span class="line">     "age" :        25,</span><br><span class="line">     "about" :      "I love to go rock climbing",</span><br><span class="line">     "interests": [ "sports", "music" ]</span><br><span class="line"> &#125;'</span><br></pre></td></tr></table></figure>
<p><strong>XGET data</strong></p>
<figure class="highlight"><table><tr><td class="code"><pre><span class="line">curl -XGET 'localhost:9200/_count?pretty' -d '</span><br><span class="line"> &#123;</span><br><span class="line">     "query": &#123;</span><br><span class="line">         "match_all": &#123;&#125;</span><br><span class="line">     &#125;</span><br><span class="line"> &#125;'</span><br></pre></td></tr></table></figure>
<p>output</p>
<figure class="highlight json"><table><tr><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="attr">"count"</span> : <span class="number">1</span>,</span><br><span class="line">  <span class="attr">"_shards"</span> : &#123;</span><br><span class="line">    <span class="attr">"total"</span> : <span class="number">5</span>,</span><br><span class="line">    <span class="attr">"successful"</span> : <span class="number">5</span>,</span><br><span class="line">    <span class="attr">"failed"</span> : <span class="number">0</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="10-Reference-article"><a href="#10-Reference-article" class="headerlink" title="10. Reference article"></a>10. Reference article</h2><ol>
<li><a href="http://www.cnblogs.com/richaaaard/p/5212044.html" target="_blank" rel="external">csdn-004-Elasticsearchæ’ä»¶çš„ä»‹ç»</a></li>
<li><a href="http://blog.csdn.net/shenfuli/article/details/49094935" target="_blank" rel="external">æ’ä»¶å®‰è£…Headã€Kopfä¸Bigdesk</a></li>
<li><a href="http://www.chepoo.com/elasticsearch-service-install.html" target="_blank" rel="external">chepoo.com/elasticsearch-service</a></li>
<li><a href="https://www.elastic.co/guide/en/elasticsearch/reference/current/setup-service.html" target="_blank" rel="external">elastic.co/guide/</a></li>
<li><a href="https://github.com/NLPchina/elasticsearch-sql" target="_blank" rel="external">NLPchina/elasticsearch-sql</a></li>
<li><a href="https://github.com/elasticfence/elasticsearch-http-user-auth" target="_blank" rel="external">elasticsearch-http-user-auth</a> (è¿™ä¸ªæˆ‘æ²¡æœ‰ä½¿ç”¨)</li>
<li><a href="http://guoze.me/2015/05/28/elasticsearch-http-basic-authentication/" target="_blank" rel="external">å»ºé€ è€…è¯´</a></li>
</ol>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[Elasticsearch * å…¥é—¨]]></title>
      <url>http://iequa.com/2016/05/17/elasticsearch1-indoor/</url>
      <content type="html"><![CDATA[<h2 id="1-Elasticsearch-å‰è¨€"><a href="#1-Elasticsearch-å‰è¨€" class="headerlink" title="1. Elasticsearch å‰è¨€"></a>1. Elasticsearch å‰è¨€</h2><p>Elasticsearch æ˜¯ä¸€ä¸ªåŸºäºApache Lucene(TM)çš„å¼€æºæœç´¢å¼•æ“ã€<code>å®æ—¶åˆ†å¸ƒå¼æœç´¢</code>å’Œ<code>åˆ†æå¼•æ“</code>ã€‚</p>
<blockquote>
<p>Lucene æ˜¯ æˆç†Ÿçš„<code>å…¨æ–‡ç´¢å¼•ä¸ä¿¡æ¯æ£€ç´¢(IR)åº“</code>ï¼Œé‡‡ç”¨Javaå®ç°ã€‚ä¿¡æ¯æ£€ç´¢å¼æŒ‡æ–‡æ¡£æœç´¢ã€æ–‡æ¡£å†…ä¿¡æ¯æœç´¢æˆ–è€…æ–‡æ¡£ç›¸å…³çš„å…ƒæ•°æ®æœç´¢ç­‰æ“ä½œã€‚ã€‚</p>
<p>Solræ˜¯ä¸€ä¸ªåŸºäºLucene <code>javaåº“çš„ä¼ä¸šçº§æœç´¢æœåŠ¡å™¨</code>ï¼ŒåŒ…å«XML/HTTPï¼ŒJSON APIï¼Œé«˜äº®æŸ¥è¯¢ç»“æœï¼Œç¼“å­˜ï¼Œå¤åˆ¶ï¼Œè¿˜æœ‰ä¸€ä¸ªWEBç®¡ç†ç•Œé¢ã€‚Solrè¿è¡Œåœ¨Servletå®¹å™¨ä¸­</p>
<p>2010 å¹´ Elasticsearch å‡ºç°å…¬å¼€ç‰ˆæœ¬</p>
</blockquote>
<p><strong>Elasticsearch æ¶‰åŠçš„æŠ€æœ¯</strong></p>
<ul>
<li>å…¨æ–‡æœç´¢</li>
<li>åˆ†æç³»ç»Ÿ</li>
<li>åˆ†å¸ƒå¼æ•°æ®åº“</li>
</ul>
<p><strong>è°åœ¨ä½¿ç”¨ Elasticsearch?</strong></p>
<ul>
<li><a href="https://zh.wikipedia.org/wiki/Wikipedia:%E9%A6%96%E9%A1%B5" target="_blank" rel="external">ç»´åŸºç™¾ç§‘</a></li>
<li><a href="http://stackoverflow.com/" target="_blank" rel="external">StackOverflow</a></li>
<li><a href="https://github.com/libean" target="_blank" rel="external">Github</a><br>â€¦</li>
</ul>
<h2 id="2-æ¦‚å¿µ"><a href="#2-æ¦‚å¿µ" class="headerlink" title="2. æ¦‚å¿µ"></a>2. æ¦‚å¿µ</h2><p>Elasticsearch æ˜¯ å¼€æºæœç´¢å¼•æ“.</p>
<p><strong>Elasticsearch ä¸ä»…æ˜¯å…¨æ–‡æœç´¢ï¼Œè¿˜æ˜¯ï¼š</strong></p>
<ul>
<li>åˆ†å¸ƒå¼ å®æ—¶æ–‡ä»¶å­˜å‚¨ï¼Œæ¯ä¸ªå­—æ®µéƒ½è¢«ç´¢å¼•å¹¶å¯è¢«æœç´¢</li>
<li>åˆ†å¸ƒå¼ å®æ—¶åˆ†ææœç´¢å¼•æ“</li>
<li>å¯æ‰©å±•æœåŠ¡å™¨ï¼Œå¤„ç†<strong>PB</strong>çº§ç»“æ„åŒ–æˆ–éç»“æ„åŒ–æ•°æ®</li>
</ul>
<p>è¿™äº›åŠŸèƒ½è¢«é›†æˆåˆ°ä¸€ä¸ªæœåŠ¡é‡Œé¢ï¼Œåº”ç”¨å¯é€šè¿‡ <code>RESTful API</code>ã€å„ç§è¯­è¨€çš„<code>å®¢æˆ·ç«¯</code>ã€<code>å‘½ä»¤è¡Œ</code> ä¸ä¹‹äº¤äº’ã€‚</p>
<p>Elasticsearchä¹Ÿä½¿ç”¨Javaå¼€å‘å¹¶ä½¿ç”¨Luceneä½œä¸ºå…¶æ ¸å¿ƒæ¥å®ç°æ‰€æœ‰ç´¢å¼•å’Œæœç´¢çš„åŠŸèƒ½ï¼Œä½†æ˜¯å®ƒçš„ç›®çš„æ˜¯é€šè¿‡ç®€å•çš„<code>RESTful API</code>æ¥éšè—Luceneçš„å¤æ‚æ€§ï¼Œä»è€Œè®©å…¨æ–‡æœç´¢å˜å¾—ç®€å•ã€‚</p>
<p><a href="http://es.xiaoleilu.com/010_Intro/10_Installing_ES.html" target="_blank" rel="external">more_info_install_elaticsearch</a></p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">[deploy@node196 config]$ ll</span><br><span class="line">total 20</span><br><span class="line">-rw-rw-r--  1 deploy deploy 13915 May 10 10:02 elasticsearch.yml</span><br><span class="line">-rw-rw-r--. 1 deploy deploy  2054 Jul 16  2015 logging.yml</span><br><span class="line">[deploy@node196 config]$ pwd</span><br><span class="line">/home/deploy/elasticsearch-1.7.1/config</span><br></pre></td></tr></table></figure>
<p><strong>ç¼–è¾‘ elasticsearch.yml</strong> </p>
<p>æ›¿ä»£cluster.nameçš„é»˜è®¤å€¼ï¼Œè¿™æ ·å¯ä»¥é˜²æ­¢ä¸€ä¸ªæ–°å¯åŠ¨çš„èŠ‚ç‚¹åŠ å…¥åˆ°ç›¸åŒç½‘ç»œä¸­çš„å¦ä¸€ä¸ªåŒåçš„é›†ç¾¤ä¸­ã€‚</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">cluster.name: elasticsearch_your-company-name</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">#################################### Node #####################################</span><br><span class="line"></span><br><span class="line"># Node names are generated dynamically on startup, so you&apos;re relieved</span><br><span class="line"># from configuring them manually. You can tie this node to a specific name:</span><br><span class="line">#</span><br><span class="line">node.name: &quot;node196&quot;</span><br></pre></td></tr></table></figure>
<h2 id="3-API"><a href="#3-API" class="headerlink" title="3. API"></a>3. API</h2><h3 id="3-1-Java-API"><a href="#3-1-Java-API" class="headerlink" title="3.1 Java API"></a>3.1 Java API</h3><p><strong>èŠ‚ç‚¹å®¢æˆ·ç«¯(node client)</strong></p>
<p>èŠ‚ç‚¹å®¢æˆ·ç«¯ä»¥æ— æ•°æ®èŠ‚ç‚¹(none data node)èº«ä»½åŠ å…¥é›†ç¾¤ï¼Œæ¢è¨€ä¹‹ï¼Œå®ƒè‡ªå·±ä¸å­˜å‚¨ä»»ä½•æ•°æ®ï¼Œä½†æ˜¯å®ƒçŸ¥é“æ•°æ®åœ¨é›†ç¾¤ä¸­çš„å…·ä½“ä½ç½®ï¼Œå¹¶ä¸”èƒ½ç›´æ¥è½¬å‘è¯·æ±‚åˆ°å¯¹åº”çš„èŠ‚ç‚¹ä¸Šã€‚</p>
<p><strong>ä¼ è¾“å®¢æˆ·ç«¯(Transport client)</strong></p>
<p>æ›´è½»é‡çš„ä¼ è¾“å®¢æˆ·ç«¯ èƒ½å‘é€è¯·æ±‚åˆ°è¿œç¨‹é›†ç¾¤ã€‚å®ƒè‡ªå·±ä¸åŠ å…¥é›†ç¾¤ï¼Œåªæ˜¯ç®€å•è½¬å‘è¯·æ±‚ç»™é›†ç¾¤ä¸­çš„èŠ‚ç‚¹ã€‚</p>
<blockquote>
<p>ä¸¤ä¸ªJavaå®¢æˆ·ç«¯éƒ½é€šè¿‡ 9300ç«¯å£ ä¸ é›†ç¾¤äº¤äº’ï¼Œä½¿ç”¨ Elasticsearchä¼ è¾“åè®®(<code>Elasticsearch Transport Protocol</code>)ã€‚é›†ç¾¤ä¸­çš„èŠ‚ç‚¹ä¹‹é—´ä¹Ÿé€šè¿‡ 9300 port è¿›è¡Œé€šä¿¡ã€‚</p>
</blockquote>
<p><a href="https://www.elastic.co/guide/index.html" target="_blank" rel="external">more_info_Java-API</a></p>
<h3 id="3-2-RESTful-API"><a href="#3-2-RESTful-API" class="headerlink" title="3.2 RESTful API"></a>3.2 RESTful API</h3><ul>
<li>åŸºäº HTTP åè®®ï¼Œä»¥ JSON ä¸ºæ•°æ®äº¤äº’æ ¼å¼çš„ RESTful API</li>
</ul>
<blockquote>
<p>å‘ Elasticsearch å‘å‡ºçš„è¯·æ±‚çš„ç»„æˆéƒ¨åˆ†ä¸å…¶å®ƒæ™®é€šçš„HTTPè¯·æ±‚æ˜¯ä¸€æ ·çš„ï¼š<br>curl -X<verb> â€˜<protocol>://<host>:<port>/<path></path>?<query_string>â€˜ -d â€˜<body>â€˜</body></query_string></port></host></protocol></verb></p>
<p>VERB HTTPæ–¹æ³•ï¼šGET, POST, PUT, HEAD, DELETE<br>â€¦</p>
</blockquote>
<p>example : æŸ¥è¯¢é›†ç¾¤ä¸­ æ–‡æ¡£æ•°é‡</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">[deploy@node196 config]$ curl -u username:passwd -XGET &apos;localhost:9200/_count?pretty&apos; -d &apos;</span><br><span class="line">&gt; &#123;</span><br><span class="line">&gt;     &quot;query&quot;: &#123;</span><br><span class="line">&gt;         &quot;match_all&quot;: &#123;&#125;</span><br><span class="line">&gt;     &#125;</span><br><span class="line">&gt; &#125;&apos;</span><br><span class="line">&#123;</span><br><span class="line">  &quot;count&quot; : 100001234,</span><br><span class="line">  &quot;_shards&quot; : &#123;</span><br><span class="line">    &quot;total&quot; : 376,</span><br><span class="line">    &quot;successful&quot; : 376,</span><br><span class="line">    &quot;failed&quot; : 0</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">curl -u name:pass -X DELETE http://ip:9200/your_index</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">GET /coupon_seeker/coupon_seeker/_search?q=source:dianping</span><br><span class="line"></span><br><span class="line">curl -u name:pass -XGET &apos;http://192.168.181.xxx:9200/coupon_seeker/coupon_seeker/_search?q=source:dianping</span><br></pre></td></tr></table></figure>
<p>æœ‰æ¡ä»¶çš„ç²¾ç¡®åŒ¹é…åˆ é™¤å‘½ä»¤</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">curl -u name:pass -XDELETE &apos;http://192.168.181.xxx:9200/coupon_seeker/coupon_seeker/_query?pretty=true&apos; -d &apos;&#123;&quot;query&quot;:&#123;&quot;match&quot;:&#123;source:&quot;dianping&quot;&#125;&#125;&#125;&apos;</span><br></pre></td></tr></table></figure>
<h2 id="4-æ–‡æ¡£"><a href="#4-æ–‡æ¡£" class="headerlink" title="4. æ–‡æ¡£"></a>4. æ–‡æ¡£</h2><p><strong>é¢å‘æ–‡æ¡£</strong></p>
<p>Elasticsearch is document orientedï¼Œè¿™æ„å‘³ç€å®ƒå¯ä»¥å­˜å‚¨æ•´ä¸ª <code>object</code> æˆ– <code>document</code>ã€‚</p>
<p>Elasticsearch è¿˜å¯ä»¥ ç´¢å¼•(index) æ¯ä¸ªæ–‡æ¡£çš„å†…å®¹ä½¿ä¹‹å¯ä»¥è¢« <strong>æœç´¢</strong>ã€‚</p>
<p>å¯å¯¹ <code>document</code> ï¼ˆè€Œéæˆè¡Œæˆåˆ—çš„æ•°æ®ï¼‰è¿›è¡Œ <code>index</code>ã€<code>æœç´¢</code>ã€<code>æ’åº</code>ã€<code>è¿‡æ»¤</code>ã€‚</p>
<p>è¿™ç§ç†è§£æ•°æ®çš„æ–¹å¼ä¸ä»¥å¾€å®Œå…¨ä¸åŒï¼Œè¿™ä¹Ÿæ˜¯ Elasticsearch èƒ½å¤Ÿæ‰§è¡Œå¤æ‚çš„å…¨æ–‡æœç´¢çš„åŸå› ä¹‹ä¸€ã€‚</p>
<p><strong>JSON</strong> (JavaScript Object Notation)ï¼Œæ–‡æ¡£åºåˆ—åŒ–æ ¼å¼</p>
<figure class="highlight json"><table><tr><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    <span class="attr">"email"</span>:      <span class="string">"john@smith.com"</span>,</span><br><span class="line">    <span class="attr">"first_name"</span>: <span class="string">"John"</span>,</span><br><span class="line">    <span class="attr">"last_name"</span>:  <span class="string">"Smith"</span>,</span><br><span class="line">    <span class="attr">"info"</span>: &#123;</span><br><span class="line">        <span class="attr">"bio"</span>:         <span class="string">"Eco-warrior and defender of the weak"</span>,</span><br><span class="line">        <span class="attr">"age"</span>:         <span class="number">25</span>,</span><br><span class="line">        <span class="attr">"interests"</span>: [ <span class="string">"dolphins"</span>, <span class="string">"whales"</span> ]</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="attr">"join_date"</span>: <span class="string">"2014/05/01"</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>å¦‚ä¸‹ userå¯¹è±¡å¾ˆå¤æ‚ï¼Œä½†å®ƒçš„ç»“æ„å’Œå¯¹è±¡çš„å«ä¹‰å·²ç»è¢«å®Œæ•´çš„ä½“ç°åœ¨JSONä¸­äº†ï¼Œåœ¨Elasticsearchä¸­å°†å¯¹è±¡è½¬åŒ–ä¸º JSON å¹¶åš indexç´¢å¼• è¦æ¯”åœ¨è¡¨ç»“æ„ä¸­åšç›¸åŒçš„äº‹æƒ…ç®€å•çš„å¤šã€‚</p>
<h2 id="5-ç´¢å¼•"><a href="#5-ç´¢å¼•" class="headerlink" title="5. ç´¢å¼•"></a>5. ç´¢å¼•</h2><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">[hdfs@node196 data_analysis]$ curl -u username:passwd -XPUT http://node190:9200/megacorp/employee/1 -d &apos;</span><br><span class="line">&gt; &#123;</span><br><span class="line">&gt;     &quot;first_name&quot; : &quot;John&quot;,</span><br><span class="line">&gt;     &quot;last_name&quot; :  &quot;Smith&quot;,</span><br><span class="line">&gt;     &quot;age&quot; :        25,</span><br><span class="line">&gt;     &quot;about&quot; :      &quot;I love to go rock climbing&quot;,</span><br><span class="line">&gt;     &quot;interests&quot;: [ &quot;sports&quot;, &quot;music&quot; ]</span><br><span class="line">&gt; &#125;&apos;</span><br><span class="line">&#123;&quot;_index&quot;:&quot;megacorp&quot;,&quot;_type&quot;:&quot;employee&quot;,&quot;_id&quot;:&quot;1&quot;,&quot;_version&quot;:1,&quot;created&quot;:true&#125;[hdfs@node196 data_analysis]$</span><br></pre></td></tr></table></figure>
<ul>
<li>indexing</li>
<li>search</li>
<li>aggregations  /ËŒÃ¦É¡rÉªËˆÉ¡eÉªÊƒÉ™n/</li>
</ul>
<p><strong>Elasticsearchèƒ½åšçš„äº‹</strong></p>
<p>åœºæ™¯: å‡è®¾æˆ‘ä»¬åˆšå¥½åœ¨Megacorpå·¥ä½œï¼Œè¿™æ—¶äººåŠ›èµ„æºéƒ¨é—¨å‡ºäºæŸç§ç›®çš„éœ€è¦è®©æˆ‘ä»¬åˆ›å»ºä¸€ä¸ªå‘˜å·¥ç›®å½•ï¼Œè¿™ä¸ªç›®å½•ç”¨äºä¿ƒè¿›äººæ–‡å…³æ€€å’Œç”¨äºå®æ—¶ååŒå·¥ä½œï¼Œæ‰€ä»¥å®ƒæœ‰ä»¥ä¸‹ä¸åŒçš„éœ€æ±‚ï¼š</p>
<ul>
<li>æ•°æ®èƒ½å¤ŸåŒ…å«å¤šä¸ªå€¼çš„æ ‡ç­¾ã€æ•°å­—å’Œçº¯æ–‡æœ¬ã€‚</li>
<li>æ£€ç´¢ä»»ä½•å‘˜å·¥çš„æ‰€æœ‰ä¿¡æ¯ã€‚</li>
<li>æ”¯æŒç»“æ„åŒ–æœç´¢ï¼Œä¾‹å¦‚æŸ¥æ‰¾30å²ä»¥ä¸Šçš„å‘˜å·¥ã€‚</li>
<li>æ”¯æŒç®€å•çš„å…¨æ–‡æœç´¢å’Œæ›´å¤æ‚çš„çŸ­è¯­(phrase)æœç´¢</li>
<li>é«˜äº®æœç´¢ç»“æœä¸­çš„å…³é”®å­—</li>
<li>èƒ½å¤Ÿåˆ©ç”¨å›¾è¡¨ç®¡ç†åˆ†æè¿™äº›æ•°æ®</li>
</ul>
<p><strong>ç´¢å¼•å‘˜å·¥æ–‡æ¡£</strong></p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">Relational DB -&gt; Databases -&gt; Tables -&gt; Rows -&gt; Columns</span><br><span class="line">Elasticsearch -&gt; Indices   -&gt; Types  -&gt; Documents -&gt; Fields</span><br></pre></td></tr></table></figure>
<p>Elasticsearch | Relational DB<br>: â€”â€”- | : â€”â€”-<br>Indices | Databases<br>Types | Tables<br>Documents | Rows<br>Fields | Columns</p>
<p><strong>Elasticsearch</strong></p>
<blockquote>
<p>ç´¢å¼•ã€å«ä¹‰çš„åŒºåˆ†</p>
<p>  <strong>index_num.</strong> : index (æ•°æ®åº“)ï¼Œå®ƒæ˜¯ç›¸å…³æ–‡æ¡£å­˜å‚¨çš„åœ°æ–¹ï¼Œ</p>
<p>  <strong>index_verb.</strong> ã€Œç´¢å¼•ä¸€ä¸ªæ–‡æ¡£ã€è¡¨ç¤ºæŠŠä¸€ä¸ªæ–‡æ¡£å­˜å‚¨åˆ°ç´¢å¼•ï¼ˆåè¯ï¼‰é‡Œï¼Œä»¥ä¾¿å®ƒå¯ä»¥è¢«æ£€ç´¢æˆ–è€…æŸ¥è¯¢ã€‚è¿™å¾ˆåƒSQL ä¸­çš„ INSERTå…³é”®å­—ï¼Œå·®åˆ«æ˜¯ï¼Œå¦‚æœæ–‡æ¡£å·²ç»å­˜åœ¨ï¼Œæ–°çš„æ–‡æ¡£å°†è¦†ç›–æ—§çš„æ–‡æ¡£ã€‚</p>
<p><strong>å€’æ’ç´¢å¼•</strong> : ä¼ ç»Ÿæ•°æ®åº“ä¸ºç‰¹å®šåˆ—å¢åŠ ä¸€ä¸ªç´¢å¼•ï¼Œä¾‹å¦‚ B-Treeç´¢å¼• æ¥åŠ é€Ÿæ£€ç´¢ã€‚Elasticsearchå’ŒLuceneä½¿ç”¨å€’æ’ç´¢å¼•(inverted index)çš„æ•°æ®ç»“æ„æ¥è¾¾åˆ°ç›¸åŒç›®çš„ã€‚</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">PUT /megacorp/employee/1</span><br><span class="line">&#123;</span><br><span class="line">    &quot;first_name&quot; : &quot;John&quot;,</span><br><span class="line">    &quot;last_name&quot; :  &quot;Smith&quot;,</span><br><span class="line">    &quot;age&quot; :        25,</span><br><span class="line">    &quot;about&quot; :      &quot;I love to go rock climbing&quot;,</span><br><span class="line">    &quot;interests&quot;: [ &quot;sports&quot;, &quot;music&quot; ]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><img src="https://segmentfault.com/img/bVvQp0" alt="å›¾ç‰‡æè¿°"></p>
<h3 id="5-1-æ£€ç´¢æ–‡æ¡£"><a href="#5-1-æ£€ç´¢æ–‡æ¡£" class="headerlink" title="5.1 æ£€ç´¢æ–‡æ¡£"></a>5.1 æ£€ç´¢æ–‡æ¡£</h3><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">GET /megacorp/employee/1</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  &quot;_index&quot; :   &quot;megacorp&quot;,</span><br><span class="line">  &quot;_type&quot; :    &quot;employee&quot;,</span><br><span class="line">  &quot;_id&quot; :      &quot;1&quot;,</span><br><span class="line">  &quot;_version&quot; : 1,</span><br><span class="line">  &quot;found&quot; :    true,</span><br><span class="line">  &quot;_source&quot; :  &#123;</span><br><span class="line">      &quot;first_name&quot; :  &quot;John&quot;,</span><br><span class="line">      &quot;last_name&quot; :   &quot;Smith&quot;,</span><br><span class="line">      &quot;age&quot; :         25,</span><br><span class="line">      &quot;about&quot; :       &quot;I love to go rock climbing&quot;,</span><br><span class="line">      &quot;interests&quot;:  [ &quot;sports&quot;, &quot;music&quot; ]</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="5-2-ç®€å•æœç´¢"><a href="#5-2-ç®€å•æœç´¢" class="headerlink" title="5.2 ç®€å•æœç´¢"></a>5.2 ç®€å•æœç´¢</h3><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">GET /megacorp/employee/_search</span><br></pre></td></tr></table></figure>
<p>æŸ¥è¯¢ last_name ä¸º Smith çš„è®°å½•</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">GET /megacorp/employee/_search?q=last_name:Smith</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&#123;</span><br><span class="line">   ...</span><br><span class="line">   &quot;hits&quot;: &#123;</span><br><span class="line">      &quot;total&quot;:      2,</span><br><span class="line">      &quot;max_score&quot;:  0.30685282,</span><br><span class="line">      &quot;hits&quot;: [</span><br><span class="line">         &#123;</span><br><span class="line">            ...</span><br><span class="line">            &quot;_source&quot;: &#123;</span><br><span class="line">               &quot;first_name&quot;:  &quot;John&quot;,</span><br><span class="line">               &quot;last_name&quot;:   &quot;Smith&quot;,</span><br><span class="line">               &quot;age&quot;:         25,</span><br><span class="line">               &quot;about&quot;:       &quot;I love to go rock climbing&quot;,</span><br><span class="line">               &quot;interests&quot;: [ &quot;sports&quot;, &quot;music&quot; ]</span><br><span class="line">            &#125;</span><br><span class="line">         &#125;,</span><br><span class="line">         &#123;</span><br><span class="line">            ...</span><br><span class="line">            &quot;_source&quot;: &#123;</span><br><span class="line">               &quot;first_name&quot;:  &quot;Jane&quot;,</span><br><span class="line">               &quot;last_name&quot;:   &quot;Smith&quot;,</span><br><span class="line">               &quot;age&quot;:         32,</span><br><span class="line">               &quot;about&quot;:       &quot;I like to collect rock albums&quot;,</span><br><span class="line">               &quot;interests&quot;: [ &quot;music&quot; ]</span><br><span class="line">            &#125;</span><br><span class="line">         &#125;</span><br><span class="line">      ]</span><br><span class="line">   &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="5-3-ä½¿ç”¨DSLè¯­å¥æŸ¥è¯¢"><a href="#5-3-ä½¿ç”¨DSLè¯­å¥æŸ¥è¯¢" class="headerlink" title="5.3 ä½¿ç”¨DSLè¯­å¥æŸ¥è¯¢"></a>5.3 ä½¿ç”¨DSLè¯­å¥æŸ¥è¯¢</h3><p> DSL(Domain Specific Languageç‰¹å®šé¢†åŸŸè¯­è¨€) </p>
<p><strong>æŸ¥è¯¢å­—ç¬¦ä¸²ç­‰ä»·äº</strong>  q=last_name:Smith <strong>DSLæŸ¥è¯¢ : </strong></p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">GET /megacorp/employee/_search</span><br><span class="line">&#123;</span><br><span class="line">    &quot;query&quot; : &#123;</span><br><span class="line">        &quot;match&quot; : &#123;</span><br><span class="line">            &quot;last_name&quot; : &quot;Smith&quot;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="5-4-æ›´å¤æ‚çš„æœç´¢"><a href="#5-4-æ›´å¤æ‚çš„æœç´¢" class="headerlink" title="5.4 æ›´å¤æ‚çš„æœç´¢"></a>5.4 æ›´å¤æ‚çš„æœç´¢</h3><p><strong>filter range</strong></p>
<p>GET /megacorp/employee/_search<br>{<br>    â€œqueryâ€ : {<br>        â€œfilteredâ€ : {<br>            â€œfilterâ€ : {<br>                â€œrangeâ€ : {<br>                    â€œageâ€ : { â€œgtâ€ : 30 } <1><br>                }<br>            },<br>            â€œqueryâ€ : {<br>                â€œmatchâ€ : {<br>                    â€œlast_nameâ€ : â€œsmithâ€ <2><br>                }<br>            }<br>        }<br>    }<br>}</2></1></p>
<h3 id="5-5-å…¨æ–‡æœç´¢"><a href="#5-5-å…¨æ–‡æœç´¢" class="headerlink" title="5.5 å…¨æ–‡æœç´¢"></a>5.5 å…¨æ–‡æœç´¢</h3><p>ä¸€ç§ä¼ ç»Ÿæ•°æ®åº“éš¾ä»¥å®ç°çš„åŠŸèƒ½</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">GET /megacorp/employee/_search</span><br><span class="line">&#123;</span><br><span class="line">    &quot;query&quot; : &#123;</span><br><span class="line">        &quot;match&quot; : &#123;</span><br><span class="line">            &quot;about&quot; : &quot;rock climbing&quot;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>Result :</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&#123;</span><br><span class="line">   ...</span><br><span class="line">   &quot;hits&quot;: &#123;</span><br><span class="line">      &quot;total&quot;:      2,</span><br><span class="line">      &quot;max_score&quot;:  0.16273327,</span><br><span class="line">      &quot;hits&quot;: [</span><br><span class="line">         &#123;</span><br><span class="line">            ...</span><br><span class="line">            &quot;_score&quot;:         0.16273327, &lt;1&gt;</span><br><span class="line">            &quot;_source&quot;: &#123;</span><br><span class="line">               &quot;first_name&quot;:  &quot;John&quot;,</span><br><span class="line">               &quot;last_name&quot;:   &quot;Smith&quot;,</span><br><span class="line">               &quot;age&quot;:         25,</span><br><span class="line">               &quot;about&quot;:       &quot;I love to go rock climbing&quot;,</span><br><span class="line">               &quot;interests&quot;: [ &quot;sports&quot;, &quot;music&quot; ]</span><br><span class="line">            &#125;</span><br><span class="line">         &#125;,</span><br><span class="line">         &#123;</span><br><span class="line">            ...</span><br><span class="line">            &quot;_score&quot;:         0.016878016, &lt;2&gt;</span><br><span class="line">            &quot;_source&quot;: &#123;</span><br><span class="line">               &quot;first_name&quot;:  &quot;Jane&quot;,</span><br><span class="line">               &quot;last_name&quot;:   &quot;Smith&quot;,</span><br><span class="line">               &quot;age&quot;:         32,</span><br><span class="line">               &quot;about&quot;:       &quot;I like to collect rock albums&quot;,</span><br><span class="line">               &quot;interests&quot;: [ &quot;music&quot; ]</span><br><span class="line">             &#125;</span><br><span class="line">         &#125;</span><br><span class="line">      ]</span><br><span class="line">   &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="5-6-çŸ­è¯­æœç´¢-â€“-phrases"><a href="#5-6-çŸ­è¯­æœç´¢-â€“-phrases" class="headerlink" title="5.6 çŸ­è¯­æœç´¢ â€“ phrases"></a>5.6 çŸ­è¯­æœç´¢ â€“ phrases</h3><p>æƒ³è¦ç¡®åˆ‡çš„åŒ¹é…è‹¥å¹²ä¸ªå•è¯æˆ–è€…çŸ­è¯­(phrases), ä¾‹å¦‚  æˆ‘ä»¬æƒ³è¦æŸ¥è¯¢åŒæ—¶åŒ…å«â€rockâ€å’Œâ€climbingâ€ï¼ˆå¹¶ä¸”æ˜¯ç›¸é‚»çš„ï¼‰çš„å‘˜å·¥è®°å½•ã€‚</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">GET /megacorp/employee/_search</span><br><span class="line">&#123;</span><br><span class="line">    &quot;query&quot; : &#123;</span><br><span class="line">        &quot;match_phrase&quot; : &#123;</span><br><span class="line">            &quot;about&quot; : &quot;rock climbing&quot;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><strong><em>å¢åŠ é«˜äº®</em></strong></p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">GET /megacorp/employee/_search</span><br><span class="line">&#123;</span><br><span class="line">    &quot;query&quot; : &#123;</span><br><span class="line">        &quot;match_phrase&quot; : &#123;</span><br><span class="line">            &quot;about&quot; : &quot;rock climbing&quot;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    &quot;highlight&quot;: &#123;</span><br><span class="line">        &quot;fields&quot; : &#123;</span><br><span class="line">            &quot;about&quot; : &#123;&#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="6-aggregations"><a href="#6-aggregations" class="headerlink" title="6. aggregations"></a>6. aggregations</h2><p>èšåˆç›¸å½“äº group by</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">GET /megacorp/employee/_search</span><br><span class="line">&#123;</span><br><span class="line">  &quot;query&quot;: &#123;</span><br><span class="line">    &quot;match&quot;: &#123;</span><br><span class="line">      &quot;last_name&quot;: &quot;smith&quot;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  &quot;aggs&quot;: &#123;</span><br><span class="line">    &quot;all_interests&quot;: &#123;</span><br><span class="line">      &quot;terms&quot;: &#123;</span><br><span class="line">        &quot;field&quot;: &quot;interests&quot;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">...</span><br><span class="line">&quot;all_interests&quot;: &#123;</span><br><span class="line">   &quot;buckets&quot;: [</span><br><span class="line">      &#123;</span><br><span class="line">         &quot;key&quot;: &quot;music&quot;,</span><br><span class="line">         &quot;doc_count&quot;: 2</span><br><span class="line">      &#125;,</span><br><span class="line">      &#123;</span><br><span class="line">         &quot;key&quot;: &quot;sports&quot;,</span><br><span class="line">         &quot;doc_count&quot;: 1</span><br><span class="line">      &#125;</span><br><span class="line">   ]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>èšåˆä¹Ÿå…è®¸åˆ†çº§æ±‡æ€»ã€‚ä¾‹å¦‚ï¼Œè®©æˆ‘ä»¬ç»Ÿè®¡æ¯ç§å…´è¶£ä¸‹èŒå‘˜çš„å¹³å‡å¹´é¾„</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">GET /megacorp/employee/_search</span><br><span class="line">&#123;</span><br><span class="line">    &quot;aggs&quot; : &#123;</span><br><span class="line">        &quot;all_interests&quot; : &#123;</span><br><span class="line">            &quot;terms&quot; : &#123; &quot;field&quot; : &quot;interests&quot; &#125;,</span><br><span class="line">            &quot;aggs&quot; : &#123;</span><br><span class="line">                &quot;avg_age&quot; : &#123;</span><br><span class="line">                    &quot;avg&quot; : &#123; &quot;field&quot; : &quot;age&quot; &#125;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><strong>æ•™ç¨‹å°ç»“</strong></p>
<p> ä¸ºäº†ä¿æŒç®€çŸ­ï¼Œè¿˜æœ‰å¾ˆå¤šçš„ç‰¹æ€§æœªæåŠâ€”â€”åƒ æ¨èã€å®šä½ã€æ¸—é€ã€æ¨¡ç³Š ä»¥åŠ éƒ¨åˆ†åŒ¹é…ç­‰ã€‚ä½†è¿™ä¹Ÿçªå‡ºäº†æ„å»ºé«˜çº§æœç´¢åŠŸèƒ½æ˜¯å¤šä¹ˆçš„å®¹æ˜“ã€‚æ— éœ€é…ç½®ï¼Œåªéœ€è¦æ·»åŠ æ•°æ®ç„¶åå¼€å§‹æœç´¢ï¼</p>
<h2 id="7-åˆ†å¸ƒå¼çš„ç‰¹æ€§"><a href="#7-åˆ†å¸ƒå¼çš„ç‰¹æ€§" class="headerlink" title="7. åˆ†å¸ƒå¼çš„ç‰¹æ€§"></a>7. åˆ†å¸ƒå¼çš„ç‰¹æ€§</h2><p>Elasticsearch ä½ ä¸éœ€è¦çŸ¥é“ä»»ä½•å…³äºåˆ†å¸ƒå¼ç³»ç»Ÿã€åˆ†ç‰‡ã€é›†ç¾¤å‘ç°æˆ–è€…å…¶ä»–å¤§é‡çš„åˆ†å¸ƒå¼æ¦‚å¿µã€‚æ‰€æœ‰çš„æ•™ç¨‹ä½ å³å¯ä»¥è¿è¡Œåœ¨ä½ çš„ç¬”è®°æœ¬ä¸Šï¼Œä¹Ÿå¯ä»¥è¿è¡Œåœ¨æ‹¥æœ‰100ä¸ªèŠ‚ç‚¹çš„é›†ç¾¤ä¸Šï¼Œå…¶å·¥ä½œæ–¹å¼æ˜¯ä¸€æ ·çš„ã€‚</p>
<p>Elasticsearch è‡´åŠ›äºéšè—åˆ†å¸ƒå¼ç³»ç»Ÿçš„å¤æ‚æ€§ã€‚ä»¥ä¸‹è¿™äº›æ“ä½œéƒ½æ˜¯åœ¨åº•å±‚è‡ªåŠ¨å®Œæˆçš„ï¼š</p>
<ul>
<li>å°†ä½ çš„æ–‡æ¡£åˆ†åŒºåˆ°ä¸åŒçš„å®¹å™¨æˆ–è€…åˆ†ç‰‡(shards)ä¸­ï¼Œå®ƒä»¬å¯å­˜äºä¸€æˆ–å¤šä¸ªèŠ‚ç‚¹ä¸­ã€‚</li>
<li>å°†åˆ†ç‰‡å‡åŒ€çš„åˆ†é…åˆ°å„ä¸ªèŠ‚ç‚¹ï¼Œå¯¹ç´¢å¼•å’Œæœç´¢åšè´Ÿè½½å‡è¡¡ã€‚</li>
<li>å†—ä½™æ¯ä¸€ä¸ªåˆ†ç‰‡ï¼Œé˜²æ­¢ç¡¬ä»¶æ•…éšœé€ æˆçš„æ•°æ®ä¸¢å¤±ã€‚</li>
<li>å°†é›†ç¾¤ä¸­ä»»æ„ä¸€ä¸ªèŠ‚ç‚¹ä¸Šçš„è¯·æ±‚è·¯ç”±åˆ°ç›¸åº”æ•°æ®æ‰€åœ¨çš„èŠ‚ç‚¹ã€‚</li>
<li>æ— è®ºæ˜¯å¢åŠ èŠ‚ç‚¹ï¼Œè¿˜æ˜¯ç§»é™¤èŠ‚ç‚¹ï¼Œåˆ†ç‰‡éƒ½å¯ä»¥åšåˆ°æ— ç¼çš„æ‰©å±•å’Œè¿ç§»ã€‚</li>
</ul>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[Distance formula of point to plane]]></title>
      <url>http://iequa.com/2016/05/17/math-distance-formula-of-point-to-plain/</url>
      <content type="html"><![CDATA[<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js"],
    jax: ["input/TeX"],
    tex2jax: {
      inlineMath: [ ['$','$'], ['\\(','\\)'] ],
      displayMath: [ ['$$','$$'], ['\[','\]'] ],
      processEscapes: true
    }
  });
</script>
<script type="text/javascript" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS_HTML,http://myserver.com/MathJax/config/local/local.js">
</script>

<p><a href="https://zh.wikipedia.org/wiki/%E5%90%91%E9%87%8F" target="_blank" rel="external">ç»´åŸºç™¾ç§‘_Vector</a></p>
<ul>
<li>å¹³é¢çš„ä¸€èˆ¬å¼æ–¹ç¨‹</li>
<li>å‘é‡çš„æ¨¡ï¼ˆé•¿åº¦ï¼‰</li>
<li>å‘é‡çš„æ•°é‡ç§¯</li>
</ul>
<h2 id="1-å¹³é¢çš„ä¸€èˆ¬å¼æ–¹ç¨‹"><a href="#1-å¹³é¢çš„ä¸€èˆ¬å¼æ–¹ç¨‹" class="headerlink" title="1. å¹³é¢çš„ä¸€èˆ¬å¼æ–¹ç¨‹"></a>1. å¹³é¢çš„ä¸€èˆ¬å¼æ–¹ç¨‹</h2><p>Ax +By +Cz + D = 0</p>
<p>å…¶ä¸­n = (A, B, C)æ˜¯å¹³é¢çš„æ³•å‘é‡ï¼ŒDæ˜¯å°†å¹³é¢å¹³ç§»åˆ°åæ ‡åŸç‚¹æ‰€éœ€è·ç¦»ï¼ˆæ‰€ä»¥D=0æ—¶ï¼Œå¹³é¢è¿‡åŸç‚¹ï¼‰</p>
<h2 id="2-å‘é‡çš„æ¨¡ï¼ˆé•¿åº¦ï¼‰"><a href="#2-å‘é‡çš„æ¨¡ï¼ˆé•¿åº¦ï¼‰" class="headerlink" title="2. å‘é‡çš„æ¨¡ï¼ˆé•¿åº¦ï¼‰"></a>2. å‘é‡çš„æ¨¡ï¼ˆé•¿åº¦ï¼‰</h2><p>ç»™å®šä¸€ä¸ªå‘é‡Vï¼ˆx, y, z),åˆ™|V| = sqrt(x <em> x + y </em> y + z * z)</p>
<blockquote>
<p>åœ¨æ•°å­¦ä¸­ï¼ŒçŸ¢é‡å¸¸é‡‡ç”¨æ›´ä¸ºæŠ½è±¡çš„çŸ¢é‡ç©ºé—´ï¼ˆä¹Ÿç§°ä¸ºçº¿æ€§ç©ºé—´ï¼‰æ¥å®šä¹‰ï¼Œè€Œå®šä¹‰å…·æœ‰ç‰©ç†æ„ä¹‰ä¸Šçš„å¤§å°å’Œæ–¹å‘çš„çŸ¢é‡æ¦‚å¿µåˆ™éœ€è¦å¼•è¿›äº†èŒƒæ•°å’Œå†…ç§¯çš„æ¬§å‡ é‡Œå¾—ç©ºé—´ã€‚<br>èŒƒæ•°ï¼Œ æ¨¡é•¿</p>
</blockquote>
<h2 id="3-å‘é‡çš„æ•°é‡ç§¯-ç‚¹ç§¯-å†…ç§¯"><a href="#3-å‘é‡çš„æ•°é‡ç§¯-ç‚¹ç§¯-å†…ç§¯" class="headerlink" title="3. å‘é‡çš„æ•°é‡ç§¯/ç‚¹ç§¯/å†…ç§¯"></a>3. å‘é‡çš„æ•°é‡ç§¯/ç‚¹ç§¯/å†…ç§¯</h2><p>ç»™å®šä¸¤ä¸ªå‘é‡V1(x1, y1, z1)å’ŒV2(x2, y2, z2)åˆ™ä»–ä»¬çš„å†…ç§¯æ˜¯ V1V2 = x1x2 + y1y2 + z1z2</p>
<blockquote>
<p>æ•°é‡ç§¯è¢«å¹¿æ³›åº”ç”¨äºç‰©ç†ä¸­ï¼Œå¦‚åšåŠŸå°±æ˜¯ç”¨åŠ›çš„çŸ¢é‡ä¹˜ä½ç§»çš„çŸ¢é‡ï¼Œå³<img src="/images/math-pointdis.png" alt=""></p>
</blockquote>
<h2 id="4-ç‚¹åˆ°å¹³é¢çš„è·ç¦»-Yes"><a href="#4-ç‚¹åˆ°å¹³é¢çš„è·ç¦»-Yes" class="headerlink" title="4. ç‚¹åˆ°å¹³é¢çš„è·ç¦»(Yes)"></a>4. ç‚¹åˆ°å¹³é¢çš„è·ç¦»(Yes)</h2><p>æ±‚ç‚¹åˆ°ç›´çº¿çš„è·ç¦»ä¸å†æ˜¯éš¾äº‹ï¼Œæœ‰å›¾æœ‰çœŸç›¸</p>
<p><img src="/images/math-pointToPlane.jpeg" alt="Distance formula of point to plane"></p>
<blockquote>
<p>å¦‚æœæ³•å‘é‡æ˜¯å•ä½å‘é‡çš„è¯ï¼Œé‚£ä¹ˆåˆ†æ¯ä¸º1</p>
</blockquote>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[Spark Machine Learning p1 - Sparkç¼–ç¨‹å…¥é—¨]]></title>
      <url>http://iequa.com/2016/04/25/spark-machine-learning-p1/</url>
      <content type="html"><![CDATA[<p><strong>Apache Spark</strong></p>
<p>Spark çš„è®¾è®¡ç›®æ ‡ å³: <code>è¿­ä»£å¼+ä½å»¶è¿Ÿ</code> é€‚åˆ Machine Learning ç®—æ³•çš„ç‰¹æ€§<br>Spark åˆ†å¸ƒå¼è®¡ç®—æ¡†æ¶, å°†ä¸­é—´æ•°æ®å’Œç»“æœä¿å­˜åœ¨å†…å­˜ä¸­<br>Spark æä¾›å‡½æ•°å¼API, å¹¶å…¼å®¹ Hadoop ç”Ÿæ€<br>Spark æ¡†æ¶å¯¹ èµ„æºè°ƒåº¦ã€ä»»åŠ¡æäº¤ã€æ‰§è¡Œã€è·Ÿè¸ªï¼Œ èŠ‚ç‚¹é—´é€šä¿¡ä»¥åŠæ•°æ®å¹¶è¡Œå¤„ç†çš„å†…åœ¨åº•å±‚æ“ä½œéƒ½è¿›è¡Œäº†æŠ½è±¡</p>
<blockquote>
<p>ç®€åŒ–äº†æµ·é‡æ•°æ®çš„å­˜å‚¨(HDFS) å’Œ è®¡ç®—(MR) æµç¨‹ã€‚MapReduce ç¼ºç‚¹, å¦‚: å¯åŠ¨ä»»åŠ¡æ—¶çš„é«˜å¼€é”€ã€å¯¹ä¸­é—´æ•°æ® å’Œ è®¡ç®—ç»“æœ å†™å…¥ç£ç›˜çš„ä¾èµ–ã€‚è¿™ä½¿å¾— Hadoop ä¸é€‚åˆ è¿­ä»£å¼ æˆ– ä½å»¶è¿Ÿ çš„ä»»åŠ¡ã€‚</p>
</blockquote>
<p><strong>Spark çš„å››ç§è¿è¡Œæ¨¡å¼</strong></p>
<ol>
<li>æœ¬åœ°å•æœºæ¨¡å¼ â€“ Spark è¿›ç¨‹ all run in one JVM</li>
<li>é›†ç¾¤å•æœºæ¨¡å¼ â€“ ä½¿ç”¨ Spark è‡ªå·±å†…ç½®çš„ ä»»åŠ¡è°ƒåº¦æ¡†æ¶</li>
<li>åŸºäº Mesos ä¸€ä¸ªå¼€æºé›†ç¾¤è®¡ç®—æ¡†æ¶</li>
<li>åŸºäº YARN ä¸ Hadoop2 å…³è”å½¢æˆé›†ç¾¤è®¡ç®—å’Œèµ„æºè°ƒåº¦æ¡†æ¶</li>
</ol>
<h2 id="1-Sparkè¿è¡Œ"><a href="#1-Sparkè¿è¡Œ" class="headerlink" title="1. Sparkè¿è¡Œ"></a>1. Sparkè¿è¡Œ</h2><p>è¿è¡Œç¤ºä¾‹ç¨‹åºæ¥æµ‹è¯•æ˜¯å¦ä¸€åˆ‡æ­£å¸¸ï¼š</p>
<blockquote>
<p>./bin/run-example org.apache.spark.examples.SparkPi</p>
</blockquote>
<p>è¯¥å‘½ä»¤å°†åœ¨æœ¬åœ°å•æœºæ¨¡å¼ä¸‹æ‰§è¡ŒSparkPiè¿™ä¸ªç¤ºä¾‹ã€‚åœ¨è¯¥æ¨¡å¼ä¸‹ï¼Œæ‰€æœ‰çš„Sparkè¿›ç¨‹å‡è¿è¡ŒäºåŒä¸€ä¸ªJVMä¸­ï¼Œè€Œå¹¶è¡Œå¤„ç†åˆ™é€šè¿‡å¤šçº¿ç¨‹æ¥å®ç°ã€‚é»˜è®¤æƒ…å†µä¸‹ï¼Œè¯¥ç¤ºä¾‹ä¼šå¯ç”¨ä¸æœ¬åœ°ç³»ç»Ÿçš„CPUæ ¸å¿ƒæ•°ç›®ç›¸åŒçš„çº¿ç¨‹ã€‚</p>
<p>è¦åœ¨æœ¬åœ°æ¨¡å¼ä¸‹è®¾ç½®å¹¶è¡Œçš„çº§åˆ«ï¼Œä»¥local[N]çš„æ ¼å¼æ¥æŒ‡å®šä¸€ä¸ªmasterå˜é‡å³å¯ã€‚æ¯”å¦‚åªä½¿ç”¨ä¸¤ä¸ªçº¿ç¨‹æ—¶ï¼Œå¯è¾“å…¥å¦‚ä¸‹å‘½ä»¤ï¼š</p>
<blockquote>
<p>MASTER=local[2] ./bin/run-example org.apache.spark.examples.SparkPi</p>
</blockquote>
<h2 id="2-Sparké›†ç¾¤"><a href="#2-Sparké›†ç¾¤" class="headerlink" title="2. Sparké›†ç¾¤"></a>2. Sparké›†ç¾¤</h2><p>Sparké›†ç¾¤ç”±ä¸¤ç±»ç¨‹åºæ„æˆ: </p>
<ol>
<li>ä¸€ä¸ªé©±åŠ¨ç¨‹åº</li>
<li>å¤šä¸ªæ‰§è¡Œç¨‹åº</li>
</ol>
<blockquote>
<p>æœ¬åœ°æ¨¡å¼ä¸‹æ‰€æœ‰çš„å¤„ç†éƒ½è¿è¡Œåœ¨åŒä¸€ä¸ªJVMå†…ï¼Œè€Œåœ¨é›†ç¾¤æ¨¡å¼æ—¶å®ƒä»¬é€šå¸¸è¿è¡Œåœ¨ä¸åŒçš„èŠ‚ç‚¹ä¸Šã€‚</p>
</blockquote>
<p>ä¸€ä¸ªé‡‡ç”¨å•æœºæ¨¡å¼çš„Sparké›†ç¾¤åŒ…æ‹¬ï¼š</p>
<ol>
<li>ä¸€ä¸ªè¿è¡ŒSparkå•æœºä¸»è¿›ç¨‹å’Œé©±åŠ¨ç¨‹åºçš„ Masterï¼›</li>
<li>å„è‡ªè¿è¡Œä¸€ä¸ªæ‰§è¡Œç¨‹åºè¿›ç¨‹çš„å¤šä¸ª Workerã€‚</li>
</ol>
<p>æ¯”å¦‚åœ¨ä¸€ä¸ªSparkå•æœºé›†ç¾¤ä¸Šè¿è¡Œï¼Œåªéœ€ä¼ å…¥ä¸»èŠ‚ç‚¹çš„URLå³å¯ï¼š</p>
<blockquote>
<p>MASTER=spark://IP:PORT ./bin/run-example org.apache.spark.examples.SparkPi<br>å…¶ä¸­çš„IPå’ŒPORTåˆ†åˆ«æ˜¯ä¸»èŠ‚ç‚¹IPåœ°å€å’Œç«¯å£å·ã€‚è¿™æ˜¯å‘Šè¯‰Sparkè®©ç¤ºä¾‹ç¨‹åºè¿è¡Œåœ¨ä¸»èŠ‚ç‚¹æ‰€å¯¹åº”çš„é›†ç¾¤ä¸Š</p>
</blockquote>
<h2 id="3-Sparkç¼–ç¨‹æ¨¡å‹"><a href="#3-Sparkç¼–ç¨‹æ¨¡å‹" class="headerlink" title="3. Sparkç¼–ç¨‹æ¨¡å‹"></a>3. Sparkç¼–ç¨‹æ¨¡å‹</h2><h3 id="3-1-SparkContextç±»"><a href="#3-1-SparkContextç±»" class="headerlink" title="3.1 SparkContextç±»"></a>3.1 SparkContextç±»</h3><p><strong>SparkContextç±»ä¸SparkConfç±»</strong></p>
<p>ä»»ä½•Sparkç¨‹åºçš„ç¼–å†™éƒ½æ˜¯ä»SparkContextå¼€å§‹çš„ã€‚SparkContextçš„åˆå§‹åŒ–éœ€è¦ä¸€ä¸ªSparkConfå¯¹è±¡ï¼Œåè€…åŒ…å«äº†Sparké›†ç¾¤é…ç½®çš„å„ç§å‚æ•°ï¼ˆæ¯”å¦‚ä¸»èŠ‚ç‚¹çš„URLï¼‰ã€‚</p>
<p>åˆå§‹åŒ–åï¼Œæˆ‘ä»¬ä¾¿å¯ç”¨SparkContextå¯¹è±¡æ‰€åŒ…å«çš„å„ç§æ–¹æ³•æ¥åˆ›å»ºå’Œæ“ä½œRDDã€‚Spark shellï¼ˆåœ¨Scalaå’ŒPythonä¸‹å¯ä»¥ï¼Œä½†ä¸æ”¯æŒJavaï¼‰èƒ½è‡ªåŠ¨å®Œæˆä¸Šè¿°åˆå§‹åŒ–ã€‚è‹¥è¦ç”¨Scalaä»£ç æ¥å®ç°çš„è¯ï¼Œå¯å‚ç…§ä¸‹é¢çš„ä»£ç ï¼š</p>
<figure class="highlight scala"><table><tr><td class="code"><pre><span class="line"><span class="keyword">val</span> conf = <span class="keyword">new</span> <span class="type">SparkConf</span>().setAppName(<span class="string">"Test Spark App"</span>).setMaster(<span class="string">"local[4]"</span>)</span><br><span class="line"><span class="keyword">val</span> sc = <span class="keyword">new</span> <span class="type">SparkContext</span>(conf)</span><br></pre></td></tr></table></figure>
<p>è¿™æ®µä»£ç ä¼šåˆ›å»ºä¸€ä¸ª4çº¿ç¨‹çš„SparkContextå¯¹è±¡ï¼Œå¹¶å°†å…¶ç›¸åº”çš„ä»»åŠ¡å‘½åä¸ºTest Spark APPã€‚æˆ‘ä»¬ä¹Ÿå¯é€šè¿‡å¦‚ä¸‹æ–¹å¼è°ƒç”¨SparkContextçš„ç®€å•æ„é€ å‡½æ•°</p>
<figure class="highlight scala"><table><tr><td class="code"><pre><span class="line"><span class="keyword">val</span> sc = <span class="keyword">new</span> <span class="type">SparkContext</span>(<span class="string">"local[4]"</span>, <span class="string">"Test Spark App"</span>)</span><br></pre></td></tr></table></figure>
<h3 id="3-2-Spark-shell"><a href="#3-2-Spark-shell" class="headerlink" title="3.2 Spark shell"></a>3.2 Spark shell</h3><p>Sparkæ”¯æŒ ç”¨ Scala or Python REPLï¼ˆRead-Eval-Print-Loopï¼Œå³äº¤äº’å¼shellï¼‰æ¥è¿›è¡Œäº¤äº’å¼çš„ç¨‹åºç¼–å†™ã€‚</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">./bin/spark-shell</span><br></pre></td></tr></table></figure>
<p>ä¼šå¯åŠ¨Scala shell å¹¶åˆå§‹åŒ–ä¸€ä¸ªSparkContextå¯¹è±¡ã€‚æˆ‘ä»¬å¯ä»¥é€šè¿‡ scè¿™ä¸ªScalaå€¼æ¥è°ƒç”¨è¿™ä¸ªå¯¹è±¡</p>
<h3 id="3-3-RDD"><a href="#3-3-RDD" class="headerlink" title="3.3 RDD"></a>3.3 RDD</h3><p>ä¸€ä¸ª RDD ä»£è¡¨ä¸€ç³»åˆ—çš„â€œè®°å½•â€ï¼ˆä¸¥æ ¼æ¥è¯´ï¼ŒæŸç§ç±»å‹çš„å¯¹è±¡ï¼‰ã€‚<br>è¿™äº›è®°å½•è¢«åˆ†é…æˆ–åˆ†åŒºåˆ°ä¸€ä¸ªé›†ç¾¤çš„å¤šä¸ªèŠ‚ç‚¹ä¸Šï¼ˆåœ¨æœ¬åœ°æ¨¡å¼ä¸‹ï¼Œå¯ä»¥ç±»ä¼¼åœ°ç†è§£ä¸ºå•ä¸ªè¿›ç¨‹é‡Œçš„å¤šä¸ªçº¿ç¨‹ä¸Šï¼‰ã€‚</p>
<p>Sparkä¸­çš„RDDå…·å¤‡å®¹é”™æ€§ï¼Œå³å½“æŸä¸ªèŠ‚ç‚¹æˆ–ä»»åŠ¡å¤±è´¥æ—¶ï¼ˆå› éç”¨æˆ·ä»£ç åŸå› è€Œå¼•èµ·ï¼Œå¦‚ç¡¬ä»¶æ•…éšœã€ç½‘ç»œä¸é€šç­‰ï¼‰ï¼ŒRDDä¼šåœ¨ä½™ä¸‹çš„èŠ‚ç‚¹ä¸Šè‡ªåŠ¨é‡å»ºï¼Œä»¥ä¾¿ä»»åŠ¡èƒ½æœ€ç»ˆå®Œæˆã€‚</p>
<p><strong>1. åˆ›å»ºRDD</strong></p>
<p>RDDå¯ä»ç°æœ‰çš„é›†åˆåˆ›å»º ï¼š</p>
<figure class="highlight scala"><table><tr><td class="code"><pre><span class="line"><span class="keyword">val</span> collection = <span class="type">List</span>(<span class="string">"a"</span>, <span class="string">"b"</span>, <span class="string">"c"</span>, <span class="string">"d"</span>, <span class="string">"e"</span>)</span><br><span class="line"><span class="keyword">val</span> rddFromCollection = sc.parallelize(collection)</span><br></pre></td></tr></table></figure>
<p>RDDä¹Ÿå¯ä»¥åŸºäºHadoopçš„è¾“å…¥æºåˆ›å»ºï¼Œæ¯”å¦‚æœ¬åœ°æ–‡ä»¶ç³»ç»Ÿã€HDFSã€‚åŸºäºHadoopçš„RDDå¯ä»¥ä½¿ç”¨ä»»ä½•å®ç°äº†Hadoop InputFormatæ¥å£çš„è¾“å…¥æ ¼å¼ï¼ŒåŒ…æ‹¬æ–‡æœ¬æ–‡ä»¶ã€å…¶ä»–Hadoopæ ‡å‡†æ ¼å¼ã€HBaseç­‰ã€‚ä»¥ä¸‹ä¸¾ä¾‹è¯´æ˜å¦‚ä½•ç”¨ä¸€ä¸ªæœ¬åœ°æ–‡ä»¶ç³»ç»Ÿé‡Œçš„æ–‡ä»¶åˆ›å»ºRDDï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">val rddFromTextFile = sc.textFile(&quot;LICENSE&quot;)</span><br></pre></td></tr></table></figure>
<p>ä¸Šè¿°ä»£ç ä¸­çš„textFileå‡½æ•°ï¼ˆæ–¹æ³•ï¼‰ä¼šè¿”å›ä¸€ä¸ªRDDå¯¹è±¡ã€‚è¯¥å¯¹è±¡çš„æ¯ä¸€æ¡è®°å½•éƒ½æ˜¯ä¸€ä¸ªè¡¨ç¤ºæ–‡æœ¬æ–‡ä»¶ä¸­æŸä¸€è¡Œæ–‡å­—çš„Stringï¼ˆå­—ç¬¦ä¸²ï¼‰å¯¹è±¡ã€‚</p>
<p><strong>2. Sparkæ“ä½œ</strong></p>
<p>åœ¨Sparkç¼–ç¨‹æ¨¡å¼ä¸‹ï¼Œæ‰€æœ‰çš„æ“ä½œè¢«åˆ†ä¸º <code>transformation</code> å’Œ <code>action</code> ä¸¤ç§ã€‚</p>
<p><strong>transformation</strong> æ“ä½œæ˜¯å¯¹ä¸€ä¸ªæ•°æ®é›†é‡Œçš„æ‰€æœ‰è®°å½•æ‰§è¡ŒæŸç§å‡½æ•°ï¼Œä»è€Œä½¿è®°å½•å‘ç”Ÿæ”¹å˜ï¼›</p>
<p><strong>action</strong> é€šå¸¸æ˜¯è¿è¡ŒæŸäº›è®¡ç®—æˆ–èšåˆæ“ä½œï¼Œå¹¶å°†ç»“æœè¿”å›è¿è¡Œ SparkContext çš„é‚£ä¸ªé©±åŠ¨ç¨‹åºã€‚</p>
<p>Spark çš„æ“ä½œé€šå¸¸é‡‡ç”¨<code>å‡½æ•°å¼</code>é£æ ¼ã€‚</p>
<p>Sparkç¨‹åºä¸­æœ€å¸¸ç”¨çš„è½¬æ¢æ“ä½œä¾¿æ˜¯mapæ“ä½œã€‚è¯¥æ“ä½œå¯¹ä¸€ä¸ªRDDé‡Œçš„æ¯ä¸€æ¡è®°å½•éƒ½æ‰§è¡ŒæŸä¸ªå‡½æ•°ï¼Œä»è€Œå°†è¾“å…¥æ˜ å°„æˆä¸ºæ–°çš„è¾“å‡ºã€‚</p>
<p>æ¯”å¦‚ï¼Œä¸‹é¢è¿™æ®µä»£ç ä¾¿å¯¹ä¸€ä¸ªä»æœ¬åœ°æ–‡æœ¬æ–‡ä»¶åˆ›å»ºçš„RDDè¿›è¡Œæ“ä½œã€‚å®ƒå¯¹è¯¥RDDä¸­çš„æ¯ä¸€æ¡è®°å½•éƒ½æ‰§è¡Œsizeå‡½æ•°ã€‚<br>åˆ›å»ºä¸€ä¸ªè¿™æ ·çš„ç”±è‹¥å¹²Stringæ„æˆçš„RDDå¯¹è±¡ã€‚é€šè¿‡mapå‡½æ•°ï¼Œæˆ‘ä»¬å°†æ¯ä¸€ä¸ªå­—ç¬¦ä¸²éƒ½è½¬æ¢ä¸ºä¸€ä¸ªæ•´æ•°ï¼Œä»è€Œè¿”å›ä¸€ä¸ªç”±è‹¥å¹²Intæ„æˆçš„RDDå¯¹è±¡ã€‚</p>
<figure class="highlight scala"><table><tr><td class="code"><pre><span class="line">scala&gt; rddFromTextFile.count</span><br><span class="line">res2: <span class="type">Long</span> = <span class="number">294</span></span><br><span class="line"></span><br><span class="line">scala&gt; <span class="keyword">val</span> intsFromStringsRDD = rddFromTextFile.map(line =&gt; line.size)</span><br><span class="line">intsFromStringsRDD: org.apache.spark.rdd.<span class="type">RDD</span>[<span class="type">Int</span>] = <span class="type">MapPartitionsRDD</span>[<span class="number">3</span>] at map at &lt;console&gt;:<span class="number">23</span></span><br><span class="line"></span><br><span class="line">scala&gt; intsFromStringsRDD.count</span><br><span class="line">res3: <span class="type">Long</span> = <span class="number">294</span></span><br><span class="line"></span><br><span class="line">scala&gt; <span class="keyword">val</span> sumOfRecords = intsFromStringsRDD.sum</span><br><span class="line">sumOfRecords: <span class="type">Double</span> = <span class="number">17062.0</span></span><br><span class="line"></span><br><span class="line">scala&gt; <span class="keyword">val</span> numRecords = intsFromStringsRDD.count</span><br><span class="line">numRecords: <span class="type">Long</span> = <span class="number">294</span></span><br><span class="line"></span><br><span class="line">scala&gt; <span class="keyword">val</span> aveLengthOfRecord = sumOfRecords / numRecords</span><br><span class="line">aveLengthOfRecord: <span class="type">Double</span> = <span class="number">58.034013605442176</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// ç­‰ä»·äº</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">val</span> aveLengthOfRecordChained = rddFromTextFile.map(line =&gt; line.size).sum / rddFromTextFile.count</span><br></pre></td></tr></table></figure>
<blockquote>
<p>ç¤ºä¾‹ä¸­ <strong>=&gt;</strong> æ˜¯Scalaä¸‹è¡¨ç¤ºåŒ¿åå‡½æ•°çš„è¯­æ³•ã€‚è¯­æ³• <strong>line =&gt; line.size</strong> è¡¨ç¤ºä»¥ <strong>=&gt;</strong> æ“ä½œç¬¦å·¦è¾¹çš„éƒ¨åˆ†ä½œä¸ºè¾“å…¥ï¼Œå¯¹å…¶æ‰§è¡Œä¸€ä¸ªå‡½æ•°ï¼Œå¹¶ä»¥ <strong>=&gt;</strong> æ“ä½œç¬¦å³è¾¹ä»£ç çš„æ‰§è¡Œç»“æœä¸ºè¾“å‡ºã€‚åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œè¾“å…¥ä¸ºlineï¼Œè¾“å‡ºåˆ™æ˜¯ <strong>line.size</strong> å‡½æ•°çš„æ‰§è¡Œç»“æœã€‚åœ¨Scalaè¯­è¨€ä¸­ï¼Œè¿™ç§å°†ä¸€ä¸ªStringå¯¹è±¡æ˜ å°„ä¸ºä¸€ä¸ªIntçš„å‡½æ•°è¢«è¡¨ç¤ºä¸ºString =&gt; Intã€‚</p>
</blockquote>
<p>Sparkçš„å¤§å¤šæ•°æ“ä½œéƒ½ä¼šè¿”å›ä¸€ä¸ªæ–°RDDï¼Œä½†å¤šæ•°çš„Actionæ“ä½œåˆ™æ˜¯è¿”å›è®¡ç®—çš„ç»“æœ</p>
<blockquote>
<p>æ³¨ : Spark ä¸­çš„è½¬æ¢æ“ä½œæ˜¯å»¶åçš„ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œåœ¨RDDä¸Šè°ƒç”¨ä¸€ä¸ªè½¬æ¢æ“ä½œå¹¶ä¸ä¼šç«‹å³è§¦å‘ç›¸åº”çš„è®¡ç®—ã€‚ åªæœ‰å¿…è¦æ—¶æ‰è®¡ç®—ç»“æœå¹¶å°†å…¶è¿”å›ç»™é©±åŠ¨ç¨‹åºï¼Œä»è€Œæé«˜äº†Sparkçš„æ•ˆç‡ã€‚</p>
</blockquote>
<figure class="highlight scala"><table><tr><td class="code"><pre><span class="line">scala&gt; <span class="keyword">val</span> transformedRDD = rddFromTextFile.map(line =&gt; line.size).</span><br><span class="line">     | filter(size =&gt; size &gt; <span class="number">10</span>).map(size =&gt; size * <span class="number">2</span>)</span><br><span class="line">transformedRDD: org.apache.spark.rdd.<span class="type">RDD</span>[<span class="type">Int</span>] = <span class="type">MapPartitionsRDD</span>[<span class="number">7</span>] at map at &lt;console&gt;:<span class="number">24</span></span><br><span class="line"></span><br><span class="line">scala&gt;</span><br></pre></td></tr></table></figure>
<p>æ²¡æœ‰è§¦å‘ä»»ä½•è®¡ç®—ï¼Œä¹Ÿæ²¡æœ‰ç»“æœè¢«è¿”å›ã€‚<br>å¦‚æœæˆ‘ä»¬ç°åœ¨åœ¨æ–°çš„RDDä¸Šè°ƒç”¨ä¸€ä¸ªæ‰§è¡Œæ“ä½œï¼Œæ¯”å¦‚sumï¼Œè¯¥è®¡ç®—å°†ä¼šè¢«è§¦å‘ï¼š</p>
<p><strong><em>è§¦å‘è®¡ç®—</em></strong></p>
<figure class="highlight scala"><table><tr><td class="code"><pre><span class="line">scala&gt; <span class="keyword">val</span> computation = transformedRDD.sum</span><br><span class="line">computation: <span class="type">Double</span> = <span class="number">34106.0</span></span><br></pre></td></tr></table></figure>
<p><strong>3. RDDç¼“å­˜ç­–ç•¥</strong></p>
<p>Sparkæœ€ä¸ºå¼ºå¤§çš„åŠŸèƒ½ä¹‹ä¸€ä¾¿æ˜¯èƒ½å¤ŸæŠŠæ•°æ®ç¼“å­˜åœ¨é›†ç¾¤çš„å†…å­˜é‡Œã€‚è¿™é€šè¿‡è°ƒç”¨RDDçš„cacheå‡½æ•°æ¥å®ç°ï¼š</p>
<figure class="highlight scala"><table><tr><td class="code"><pre><span class="line">scala&gt; rddFromTextFile.cache</span><br><span class="line">res4: rddFromTextFile.<span class="keyword">type</span> = <span class="type">MapPartitionsRDD</span>[<span class="number">2</span>] at textFile at &lt;console&gt;:<span class="number">21</span></span><br><span class="line"></span><br><span class="line">scala&gt; <span class="keyword">val</span> aveLengthOfRecordChainedFromCached = rddFromTextFile.map(line =&gt; line.size).sum / rddFromTextFile.count</span><br><span class="line">aveLengthOfRecordChainedFromCached: <span class="type">Double</span> = <span class="number">58.034013605442176</span></span><br></pre></td></tr></table></figure>
<p>åœ¨RDDé¦–æ¬¡è°ƒç”¨ä¸€ä¸ªæ‰§è¡Œæ“ä½œæ—¶ï¼Œè¿™ä¸ªæ“ä½œå¯¹åº”çš„è®¡ç®—ä¼šç«‹å³æ‰§è¡Œï¼Œæ•°æ®ä¼šä»æ•°æ®æºé‡Œè¯»å‡ºå¹¶ä¿å­˜åˆ°å†…å­˜ã€‚å› æ­¤ï¼Œé¦–æ¬¡è°ƒç”¨cacheå‡½æ•°æ‰€éœ€è¦çš„æ—¶é—´ä¼šéƒ¨åˆ†å–å†³äºSparkä»è¾“å…¥æºè¯»å–æ•°æ®æ‰€éœ€è¦çš„æ—¶é—´ã€‚ä½†æ˜¯ï¼Œå½“ä¸‹ä¸€æ¬¡è®¿é—®è¯¥æ•°æ®é›†çš„æ—¶å€™ï¼Œæ•°æ®å¯ä»¥ç›´æ¥ä»å†…å­˜ä¸­è¯»å‡ºä»è€Œå‡å°‘ä½æ•ˆçš„I/Oæ“ä½œï¼ŒåŠ å¿«è®¡ç®—ã€‚å¤šæ•°æƒ…å†µä¸‹ï¼Œè¿™ä¼šå–å¾—æ•°å€çš„é€Ÿåº¦æå‡ã€‚</p>
<blockquote>
<p>Sparkæ”¯æŒæ›´ä¸ºç»†åŒ–çš„ç¼“å­˜ç­–ç•¥ã€‚é€šè¿‡persistå‡½æ•°å¯ä»¥æŒ‡å®šSparkçš„æ•°æ®ç¼“å­˜ç­–ç•¥ã€‚å…³äºRDDç¼“å­˜çš„æ›´å¤šä¿¡æ¯å¯å‚è§ï¼š<a href="http://spark.apache.org/docs/latest/programming-guide.html#rdd-persistenceã€‚" target="_blank" rel="external">http://spark.apache.org/docs/latest/programming-guide.html#rdd-persistenceã€‚</a></p>
</blockquote>
<h3 id="3-4-å¹¿æ’­å˜é‡å’Œç´¯åŠ å™¨"><a href="#3-4-å¹¿æ’­å˜é‡å’Œç´¯åŠ å™¨" class="headerlink" title="3.4 å¹¿æ’­å˜é‡å’Œç´¯åŠ å™¨"></a>3.4 å¹¿æ’­å˜é‡å’Œç´¯åŠ å™¨</h3><p>Sparkçš„å¦ä¸€ä¸ªæ ¸å¿ƒåŠŸèƒ½æ˜¯èƒ½åˆ›å»ºä¸¤ç§ç‰¹æ®Šç±»å‹çš„å˜é‡ï¼š<strong>å¹¿æ’­å˜é‡</strong> å’Œ ç´¯åŠ å™¨ã€‚</p>
<p>å¹¿æ’­å˜é‡ï¼ˆbroadcast variableï¼‰ä¸ºåªè¯»å˜é‡ï¼Œå®ƒç”±è¿è¡ŒSparkContextçš„é©±åŠ¨ç¨‹åºåˆ›å»ºåå‘é€ç»™ä¼šå‚ä¸è®¡ç®—çš„èŠ‚ç‚¹ã€‚å¯¹é‚£äº›éœ€è¦è®©å„å·¥ä½œèŠ‚ç‚¹é«˜æ•ˆåœ°è®¿é—®ç›¸åŒæ•°æ®çš„åº”ç”¨åœºæ™¯ï¼Œæ¯”å¦‚æœºå™¨å­¦ä¹ ï¼Œè¿™éå¸¸æœ‰ç”¨ã€‚</p>
<p>Sparkä¸‹åˆ›å»ºå¹¿æ’­å˜é‡åªéœ€åœ¨SparkContextä¸Šè°ƒç”¨ä¸€ä¸ªæ–¹æ³•å³å¯ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">scala&gt; val broadcastAList = sc.broadcast(List(&quot;a&quot;, &quot;b&quot;, &quot;c&quot;, &quot;d&quot;, &quot;e&quot;))</span><br><span class="line">broadcastAList: org.apache.spark.broadcast.Broadcast[List[String]] = Broadcast(11)</span><br><span class="line"></span><br><span class="line">scala&gt;</span><br></pre></td></tr></table></figure>
<p><strong>å¹¿æ’­å˜é‡</strong> ä¹Ÿå¯ä»¥è¢«éé©±åŠ¨ç¨‹åºæ‰€åœ¨çš„èŠ‚ç‚¹ï¼ˆå³å·¥ä½œèŠ‚ç‚¹ï¼‰è®¿é—®ï¼Œè®¿é—®çš„æ–¹æ³•æ˜¯è°ƒç”¨è¯¥å˜é‡çš„<code>value</code>æ–¹æ³•ï¼š</p>
<figure class="highlight scala"><table><tr><td class="code"><pre><span class="line">scala&gt; <span class="keyword">val</span> broadcastAList = sc.broadcast(<span class="type">List</span>(<span class="string">"a"</span>, <span class="string">"b"</span>, <span class="string">"c"</span>, <span class="string">"d"</span>, <span class="string">"e"</span>))</span><br><span class="line">broadcastAList: org.apache.spark.broadcast.<span class="type">Broadcast</span>[<span class="type">List</span>[<span class="type">String</span>]] = <span class="type">Broadcast</span>(<span class="number">11</span>)</span><br><span class="line"></span><br><span class="line">scala&gt; sc.parallelize(<span class="type">List</span>(<span class="string">"1"</span>, <span class="string">"2"</span>, <span class="string">"3"</span>)).map(x =&gt; broadcastAList.value ++ x).collect</span><br><span class="line">res5: <span class="type">Array</span>[<span class="type">List</span>[<span class="type">Any</span>]] = <span class="type">Array</span>(<span class="type">List</span>(a, b, c, d, e, <span class="number">1</span>), <span class="type">List</span>(a, b, c, d, e, <span class="number">2</span>), <span class="type">List</span>(a, b, c, d, e, <span class="number">3</span>))</span><br></pre></td></tr></table></figure>
<blockquote>
<p>æ³¨æ„ï¼Œcollect å‡½æ•°ä¸€èˆ¬ä»…åœ¨çš„ç¡®éœ€è¦å°†æ•´ä¸ªç»“æœé›†è¿”å›é©±åŠ¨ç¨‹åºå¹¶è¿›è¡Œåç»­å¤„ç†æ—¶æ‰æœ‰å¿…è¦è°ƒç”¨ã€‚å¦‚æœåœ¨ä¸€ä¸ªéå¸¸å¤§çš„æ•°æ®é›†ä¸Šè°ƒç”¨è¯¥å‡½æ•°ï¼Œå¯èƒ½è€—å°½é©±åŠ¨ç¨‹åºçš„å¯ç”¨å†…å­˜ï¼Œè¿›è€Œå¯¼è‡´ç¨‹åºå´©æºƒã€‚</p>
</blockquote>
<p>é«˜è´Ÿè·çš„å¤„ç†åº”å°½å¯èƒ½åœ°åœ¨æ•´ä¸ªé›†ç¾¤ä¸Šè¿›è¡Œï¼Œä»è€Œé¿å…é©±åŠ¨ç¨‹åºæˆä¸ºç³»ç»Ÿç“¶é¢ˆã€‚ç„¶è€Œåœ¨ä¸å°‘æƒ…å†µä¸‹ï¼Œå°†ç»“æœæ”¶é›†åˆ°é©±åŠ¨ç¨‹åºçš„ç¡®æ˜¯æœ‰å¿…è¦çš„ã€‚å¾ˆå¤šæœºå™¨å­¦ä¹ ç®—æ³•çš„è¿­ä»£è¿‡ç¨‹ä¾¿å±äºè¿™ç±»æƒ…å†µã€‚</p>
<p><strong>ç´¯åŠ å™¨</strong>ï¼ˆaccumulatorï¼‰ä¹Ÿæ˜¯ä¸€ç§è¢«å¹¿æ’­åˆ°å·¥ä½œèŠ‚ç‚¹çš„å˜é‡ã€‚ç´¯åŠ å™¨ä¸å¹¿æ’­å˜é‡çš„å…³é”®ä¸åŒï¼Œæ˜¯åè€…åªèƒ½è¯»å–è€Œå‰è€…å´å¯ç´¯åŠ ã€‚</p>
<blockquote>
<p>å…³äºç´¯åŠ å™¨çš„æ›´å¤šä¿¡æ¯ï¼Œå¯å‚è§ã€ŠSparkç¼–ç¨‹æŒ‡å—ã€‹ï¼š<a href="http://spark.apache.org/docs/latest/programming-guide.html#shared-variablesã€‚" target="_blank" rel="external">http://spark.apache.org/docs/latest/programming-guide.html#shared-variablesã€‚</a></p>
</blockquote>
<h2 id="4-Spark-Scala-ç¼–ç¨‹å…¥é—¨"><a href="#4-Spark-Scala-ç¼–ç¨‹å…¥é—¨" class="headerlink" title="4. Spark Scala ç¼–ç¨‹å…¥é—¨"></a>4. Spark Scala ç¼–ç¨‹å…¥é—¨</h2><p><a href="https://github.com/blair1/spark/tree/master/Spark-Machine-Learning_8519OSCode/Chapter%2001/scala-spark-app" target="_blank" rel="external">scala-spark-app</a></p>
<figure class="highlight scala"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> org.apache.spark.<span class="type">SparkContext</span></span><br><span class="line"><span class="keyword">import</span> org.apache.spark.<span class="type">SparkContext</span>._</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span><br><span class="line"> * A simple Spark app in Scala</span><br><span class="line"> */</span></span><br><span class="line"><span class="class"><span class="keyword">object</span> <span class="title">ScalaApp</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">main</span></span>(args: <span class="type">Array</span>[<span class="type">String</span>]) &#123;</span><br><span class="line">    <span class="keyword">val</span> sc = <span class="keyword">new</span> <span class="type">SparkContext</span>(<span class="string">"local[2]"</span>, <span class="string">"First Spark App"</span>)</span><br><span class="line"></span><br><span class="line">    <span class="comment">// we take the raw data in CSV format and convert it into a set of records of the form (user, product, price)</span></span><br><span class="line">    <span class="keyword">val</span> data = sc.textFile(<span class="string">"data/UserPurchaseHistory.csv"</span>)</span><br><span class="line">      .map(line =&gt; line.split(<span class="string">","</span>))</span><br><span class="line">      .map(purchaseRecord =&gt; (purchaseRecord(<span class="number">0</span>), purchaseRecord(<span class="number">1</span>), purchaseRecord(<span class="number">2</span>)))</span><br><span class="line"></span><br><span class="line">    <span class="comment">// let's count the number of purchases</span></span><br><span class="line">    <span class="keyword">val</span> numPurchases = data.count()</span><br><span class="line"></span><br><span class="line">    <span class="comment">// let's count how many unique users made purchases</span></span><br><span class="line">    <span class="keyword">val</span> uniqueUsers = data.map &#123; <span class="keyword">case</span> (user, product, price) =&gt; user &#125;.distinct().count()</span><br><span class="line"></span><br><span class="line">    <span class="comment">// let's sum up our total revenue</span></span><br><span class="line">    <span class="keyword">val</span> totalRevenue = data.map &#123; <span class="keyword">case</span> (user, product, price) =&gt; price.toDouble &#125;.sum()</span><br><span class="line"></span><br><span class="line">    <span class="comment">// let's find our most popular product</span></span><br><span class="line">    <span class="keyword">val</span> productsByPopularity = data</span><br><span class="line">      .map &#123; <span class="keyword">case</span> (user, product, price) =&gt; (product, <span class="number">1</span>) &#125;</span><br><span class="line">      .reduceByKey(_ + _)</span><br><span class="line">      .collect()</span><br><span class="line">      .sortBy(-_._2)</span><br><span class="line">    <span class="keyword">val</span> mostPopular = productsByPopularity(<span class="number">0</span>)</span><br><span class="line"></span><br><span class="line">    <span class="comment">// finally, print everything out</span></span><br><span class="line">    println(<span class="string">"Total purchases: "</span> + numPurchases)</span><br><span class="line">    println(<span class="string">"Unique users: "</span> + uniqueUsers)</span><br><span class="line">    println(<span class="string">"Total revenue: "</span> + totalRevenue)</span><br><span class="line">    println(<span class="string">"Most popular product: %s with %d purchases"</span>.format(mostPopular._1, mostPopular._2))</span><br><span class="line"></span><br><span class="line">    sc.stop()</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="5-Spark-Java-ç¼–ç¨‹å…¥é—¨"><a href="#5-Spark-Java-ç¼–ç¨‹å…¥é—¨" class="headerlink" title="5. Spark Java ç¼–ç¨‹å…¥é—¨"></a>5. Spark Java ç¼–ç¨‹å…¥é—¨</h2><p>Java APIä¸Scala APIæœ¬è´¨ä¸Šå¾ˆç›¸ä¼¼ã€‚Scalaä»£ç å¯ä»¥å¾ˆæ–¹ä¾¿åœ°è°ƒç”¨Javaä»£ç ï¼Œä½†æŸäº›Scalaä»£ç å´æ— æ³•åœ¨Javaé‡Œè°ƒç”¨ï¼Œç‰¹åˆ«æ˜¯é‚£äº›ä½¿ç”¨äº†éšå¼ç±»å‹è½¬æ¢ã€é»˜è®¤å‚æ•°å’Œé‡‡ç”¨äº†æŸäº›Scalaåå°„æœºåˆ¶çš„ä»£ç ã€‚</p>
<p>SparkContextæœ‰äº†å¯¹åº”çš„Javaç‰ˆæœ¬JavaSparkContextï¼Œè€ŒRDDåˆ™å¯¹åº”JavaRDDã€‚<br>Sparkæä¾›å¯¹Java 8åŒ¿åå‡½æ•°ï¼ˆlambdaï¼‰è¯­æ³•çš„æ”¯æŒã€‚</p>
<p>ç”¨Scalaç¼–å†™æ—¶ï¼Œé”®/å€¼å¯¹è®°å½•çš„RDDèƒ½æ”¯æŒä¸€äº›ç‰¹åˆ«çš„æ“ä½œï¼ˆæ¯”å¦‚reduceByKeyå’ŒsaveAsSequenceFileï¼‰ã€‚è¿™äº›æ“ä½œå¯ä»¥é€šè¿‡éšå¼ç±»å‹è½¬æ¢è€Œè‡ªåŠ¨è¢«è°ƒç”¨ã€‚ç”¨Javaç¼–å†™æ—¶ï¼Œåˆ™éœ€è¦ç‰¹åˆ«ç±»å‹çš„JavaRDDæ¥æ”¯æŒè¿™äº›æ“ä½œã€‚å®ƒä»¬åŒ…æ‹¬ç”¨äºé”®/å€¼å¯¹çš„JavaPairRDDï¼Œä»¥åŠç”¨äºæ•°å€¼è®°å½•çš„JavaDoubleRDDã€‚</p>
<p>Java 8 RDDä»¥åŠJava 8 lambdaè¡¨è¾¾å¼æ›´å¤šä¿¡æ¯å¯å‚è§ã€ŠSparkç¼–ç¨‹æŒ‡å—ã€‹ï¼š<a href="http://spark.apache.org/docs/latest/programming-guide.html#rdd-operationsã€‚" target="_blank" rel="external">http://spark.apache.org/docs/latest/programming-guide.html#rdd-operationsã€‚</a></p>
<h2 id="6-Spark-Python-ç¼–ç¨‹å…¥é—¨"><a href="#6-Spark-Python-ç¼–ç¨‹å…¥é—¨" class="headerlink" title="6. Spark Python ç¼–ç¨‹å…¥é—¨"></a>6. Spark Python ç¼–ç¨‹å…¥é—¨</h2><figure class="highlight py"><table><tr><td class="code"><pre><span class="line"><span class="string">"""ç”¨Pythonç¼–å†™çš„ä¸€ä¸ªç®€å•Sparkåº”ç”¨"""</span></span><br><span class="line"><span class="keyword">from</span> pyspark <span class="keyword">import</span> SparkContext</span><br><span class="line"></span><br><span class="line">sc = SparkContext(<span class="string">"local[2]"</span>, <span class="string">"First Spark App"</span>)</span><br><span class="line"><span class="comment"># å°†CSVæ ¼å¼çš„åŸå§‹æ•°æ®è½¬åŒ–ä¸º(user,product,price)æ ¼å¼çš„è®°å½•é›†</span></span><br><span class="line">data = sc.textFile(<span class="string">"data/UserPurchaseHistory.csv"</span>).map(<span class="keyword">lambda</span> line:</span><br><span class="line">line.split(<span class="string">","</span>)).map(<span class="keyword">lambda</span> record: (record[<span class="number">0</span>], record[<span class="number">1</span>], record[<span class="number">2</span>]))</span><br><span class="line"><span class="comment"># æ±‚æ€»è´­ä¹°æ¬¡æ•°</span></span><br><span class="line">numPurchases = data.count()</span><br><span class="line"><span class="comment"># æ±‚æœ‰å¤šå°‘ä¸åŒå®¢æˆ·è´­ä¹°è¿‡å•†å“</span></span><br><span class="line">uniqueUsers = data.map(<span class="keyword">lambda</span> record: record[<span class="number">0</span>]).distinct().count()</span><br><span class="line"><span class="comment"># æ±‚å’Œå¾—å‡ºæ€»æ”¶å…¥</span></span><br><span class="line">totalRevenue = data.map(<span class="keyword">lambda</span> record: float(record[<span class="number">2</span>])).sum()</span><br><span class="line"><span class="comment"># æ±‚æœ€ç•…é”€çš„äº§å“æ˜¯ä»€ä¹ˆ</span></span><br><span class="line">products = data.map(<span class="keyword">lambda</span> record: (record[<span class="number">1</span>], <span class="number">1.0</span>)).</span><br><span class="line">reduceByKey(<span class="keyword">lambda</span> a, b: a + b).collect()</span><br><span class="line">mostPopular = sorted(products, key=<span class="keyword">lambda</span> x: x[<span class="number">1</span>], reverse=<span class="keyword">True</span>)[<span class="number">0</span>]</span><br><span class="line"></span><br><span class="line"><span class="keyword">print</span> <span class="string">"Total purchases: %d"</span> % numPurchases</span><br><span class="line"><span class="keyword">print</span> <span class="string">"Unique users: %d"</span> % uniqueUsers</span><br><span class="line"><span class="keyword">print</span> <span class="string">"Total revenue: %2.2f"</span> % totalRevenue</span><br><span class="line"><span class="keyword">print</span> <span class="string">"Most popular product: %s with %d purchases"</span> % (mostPopular[<span class="number">0</span>], mostPopular[<span class="number">1</span>])</span><br></pre></td></tr></table></figure>
<p>åŒ¿åå‡½æ•°åœ¨Pythonè¯­è¨€ä¸­äº¦ç§°lambdaå‡½æ•°ï¼Œlambdaä¹Ÿæ˜¯è¯­æ³•è¡¨è¾¾ä¸Šçš„å…³é”®å­—ã€‚</p>
<p>ç”¨Scalaç¼–å†™æ—¶ï¼Œä¸€ä¸ªå°†è¾“å…¥xæ˜ å°„ä¸ºè¾“å‡ºyçš„åŒ¿åå‡½æ•°è¡¨ç¤ºä¸ºx =&gt; yï¼Œè€Œåœ¨Pythonä¸­åˆ™æ˜¯lambda x : yã€‚</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">âœ  python-spark-app git:(master) âœ— <span class="built_in">pwd</span></span><br><span class="line">/Users/hp/ghome/hadoop-spark/spark/Spark-Machine-Learning_8519OSCode/Chapter01/python-spark-app</span><br><span class="line">âœ  python-spark-app git:(master) âœ— <span class="variable">$SPARK_HOME</span>/bin/spark-submit pythonapp.py</span><br><span class="line">Using Spark<span class="string">'s default log4j profile: org/apache/spark/log4j-defaults.properties</span><br><span class="line">16/08/26 15:56:02 INFO SparkContext: Running Spark version 1.5.2</span><br><span class="line">...</span><br><span class="line">Total purchases: 5</span><br><span class="line">Unique users: 4</span><br><span class="line">Total revenue: 39.91</span><br><span class="line">Most popular product: iPhone Cover with 2 purchases</span><br><span class="line">16/08/26 15:56:07 INFO SparkUI: Stopped Spark web UI at http://192.168.143.84:4040</span><br><span class="line">...</span></span><br></pre></td></tr></table></figure>
<blockquote>
<p>Sparkçš„Python APIå‡ ä¹è¦†ç›–äº†æ‰€æœ‰Scala APIæ‰€èƒ½æä¾›çš„åŠŸèƒ½. ä½†çš„ç¡®æœ‰äº›ç‰¹æ€§ï¼Œæ¯”å¦‚Spark Streamingå’Œä¸ªåˆ«çš„APIæ–¹æ³•ï¼Œæš‚ä¸æ”¯æŒã€‚<br><a href="http://spark.apache.org/docs/latest/programming-guide.html" target="_blank" rel="external">å…·ä½“å‚è§ã€ŠSparkç¼–ç¨‹æŒ‡å—ã€‹çš„Pythonéƒ¨åˆ†</a></p>
</blockquote>
<h2 id="7-å°ç»“"><a href="#7-å°ç»“" class="headerlink" title="7. å°ç»“"></a>7. å°ç»“</h2><p>ä½“ä¼šäº† å‡½æ•°å¼ ç¼–ç¨‹çš„å¨åŠ›ï¼Œ scalaã€python éƒ½å¯ä»¥ã€‚java ä¸é€‚åˆå†™ spark ç¨‹åº</p>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[CentOS and RedHat Linux]]></title>
      <url>http://iequa.com/2016/04/19/ops-centos-and-redhat/</url>
      <content type="html"><![CDATA[<blockquote>
<p>CentOS æ˜¯ Community ENTerprise Operating System çš„ç®€ç§°ï¼Œæˆ‘ä»¬æœ‰å¾ˆå¤šäººå«å®ƒç¤¾åŒºä¼ä¸šæ“ä½œç³»ç»Ÿï¼Œä¸ç®¡ä½ æ€ä¹ˆå«å®ƒï¼Œå®ƒéƒ½æ˜¯ Linuxæ“ä½œç³»ç»Ÿçš„ä¸€ä¸ªå‘è¡Œç‰ˆæœ¬ã€‚CentOS ä¸ RHEL æœ‰ä»€ä¹ˆåŒºåˆ«å‘¢ã€‚</p>
</blockquote>
<h2 id="1-CentOS-ç®€ä»‹"><a href="#1-CentOS-ç®€ä»‹" class="headerlink" title="1. CentOS ç®€ä»‹"></a>1. CentOS ç®€ä»‹</h2><p>CentOSæ˜¯Community ENTerprise Operating Systemçš„ç®€ç§°ï¼Œæˆ‘ä»¬æœ‰å¾ˆå¤šäººå«å®ƒç¤¾åŒºä¼ä¸šæ“ä½œç³»ç»Ÿï¼Œä¸ç®¡ä½ æ€ä¹ˆå«å®ƒï¼Œå®ƒéƒ½æ˜¯Linuxæ“ä½œç³»ç»Ÿçš„ä¸€ä¸ªå‘è¡Œç‰ˆæœ¬ã€‚</p>
<p>CentOSå¹¶ä¸æ˜¯å…¨æ–°çš„Linuxå‘è¡Œç‰ˆã€‚åœ¨Red Hatå®¶æ—ä¸­æœ‰ä¼ä¸šç‰ˆçš„äº§å“ï¼Œå®ƒæ˜¯Red Hat Enterprise Linuxï¼ˆä»¥ä¸‹ç§°ä¹‹ä¸ºRHELï¼‰ï¼ŒCentOSæ­£æ˜¯è¿™ä¸ªRHELçš„å…‹éš†ç‰ˆæœ¬ã€‚</p>
<p>RHELæ˜¯å¾ˆå¤šä¼ä¸šé‡‡ç”¨çš„Linuxå‘è¡Œç‰ˆæœ¬ï¼Œéœ€è¦å‘Red Hatä»˜è´¹æ‰å¯ä»¥ä½¿ç”¨ï¼Œå¹¶èƒ½å¾—åˆ°ä»˜è¿‡è´¹ç”¨çš„æœåŠ¡å’ŒæŠ€æœ¯æ”¯æŒå’Œç‰ˆæœ¬å‡çº§ã€‚</p>
<p>CentOSå¯ä»¥åƒRHELä¸€æ ·çš„æ„ç­‘Linuxç³»ç»Ÿç¯å¢ƒï¼Œä½†ä¸éœ€è¦å‘Red Hatä»˜ä»»ä½•çš„äº§å“å’ŒæœåŠ¡è´¹ç”¨ï¼ŒåŒæ—¶ä¹Ÿå¾—ä¸åˆ°ä»»ä½•æœ‰å¿æŠ€æœ¯æ”¯æŒå’Œå‡çº§æœåŠ¡ã€‚</p>
<p>åœ¨æ„æˆRHELçš„å¤§å¤šæ•°è½¯ä»¶åŒ…ä¸­ï¼Œéƒ½æ˜¯åŸºäºGPLåè®®å‘å¸ƒçš„ï¼Œä¹Ÿå°±æ˜¯æˆ‘ä»¬å¸¸è¯´çš„å¼€æºè½¯ä»¶ã€‚æ­£å› ä¸ºæ˜¯è¿™æ ·ï¼ŒRed Hatå…¬å¸ä¹Ÿéµå¾ªè¿™ä¸ªåè®®ï¼Œå°†æ„æˆRHELçš„è½¯ä»¶åŒ…å…¬å¼€å‘å¸ƒï¼Œåªè¦æ˜¯éµå¾ªGPLåè®®ï¼Œä»»ä½•äººéƒ½å¯ä»¥åœ¨åŸæœ‰çš„è½¯ä»¶æ„æˆçš„åŸºç¡€ä¸Šå†å¼€å‘å’Œå‘å¸ƒã€‚<strong>CentOS</strong> å°±æ˜¯è¿™æ ·åœ¨ RHEL å‘å¸ƒçš„åŸºç¡€ä¸Šå°†RHELçš„æ„æˆå…‹éš†å†ç°çš„ä¸€ä¸ªLinuxå‘è¡Œç‰ˆæœ¬ã€‚</p>
<p>è™½ç„¶è¯´æ˜¯RHELçš„å…‹éš†ï¼Œä½†å¹¶ä¸æ˜¯ä¸€æ¨¡ä¸€æ ·ï¼Œæ‰€è¯´çš„å…‹éš†æ˜¯å…·æœ‰100%çš„äº’æ¢æ€§ï¼ˆçœŸçš„ä¹ˆï¼Ÿï¼‰ã€‚ä½†å¹¶ä¸ä¿éšœå¯¹åº”RHELçš„è½¯ä»¶åœ¨CentOSä¸Šé¢ä¹Ÿèƒ½å¤Ÿ100%çš„æ­£å¸¸å·¥ä½œã€‚å¹¶ä¸”å®‰å…¨æ¼æ´çš„ä¿®æ­£å’Œè½¯ä»¶åŒ…çš„å‡çº§å¯¹åº”RHELçš„æœ‰å¿æœåŠ¡å’ŒæŠ€æœ¯æ”¯æŒæ¥è¯´ï¼Œæ•°æ—¥æ•°æ˜ŸæœŸæ•°ä¸ªæœˆçš„å»¶è¿Ÿæƒ…å†µä¹Ÿæœ‰ï¼ˆå…¶å®ä¹Ÿæ²¡çœ‹å‡ºæ¥å¤šæ…¢ï¼‰ã€‚</p>
<h2 id="2-CentOS-ç‰¹ç‚¹"><a href="#2-CentOS-ç‰¹ç‚¹" class="headerlink" title="2. CentOS ç‰¹ç‚¹"></a>2. CentOS ç‰¹ç‚¹</h2><p>åœ¨CentOSçš„å…¨ç§°é‡Œé¢æˆ‘ä»¬å¯ä»¥çœ‹åˆ°Enterprise OSï¼Œä¹Ÿå°±æ˜¯è¯´ä¼ä¸šç³»ç»Ÿï¼Œè¿™ä¸ªä¼ä¸šç³»ç»Ÿå¹¶ä¸æ˜¯ä¼ä¸šçº§åˆ«çš„ç³»ç»Ÿï¼Œè€Œæ˜¯å®ƒå¯ä»¥æä¾›ä¼ä¸šçº§åº”ç”¨æ‰€éœ€è¦çš„è¦ç´ ã€‚<br>ä¾‹å¦‚ï¼š</p>
<ol>
<li>ç¨³å®šçš„ç¯å¢ƒ</li>
<li>é•¿æœŸçš„å‡çº§æ›´æ–°æ”¯æŒ</li>
<li>ä¿å®ˆæ€§å¼º</li>
<li>å¤§è§„æ¨¡çš„ç³»ç»Ÿä¹Ÿèƒ½å¤Ÿå‘æŒ¥å¾ˆå¥½çš„æ€§èƒ½</li>
</ol>
<h2 id="3-CentOS-ä¸-RHEL-çš„åŒºåˆ«"><a href="#3-CentOS-ä¸-RHEL-çš„åŒºåˆ«" class="headerlink" title="3. CentOS ä¸ RHEL çš„åŒºåˆ«"></a>3. CentOS ä¸ RHEL çš„åŒºåˆ«</h2><p>å…¶å®ä¸ºä»€ä¹ˆæœ‰ CentOSï¼Ÿ CentOS ä¸ RHEL æœ‰ä»€ä¹ˆå…³ç³»ï¼Ÿ</p>
<p>RHEL åœ¨å‘è¡Œçš„æ—¶å€™ï¼Œæœ‰ä¸¤ç§æ–¹å¼ã€‚ä¸€ç§æ˜¯äºŒè¿›åˆ¶çš„å‘è¡Œæ–¹å¼ï¼Œå¦å¤–ä¸€ç§æ˜¯æºä»£ç çš„å‘è¡Œæ–¹å¼ã€‚</p>
<p>æ— è®ºæ˜¯å“ªä¸€ç§å‘è¡Œæ–¹å¼ï¼Œä½ éƒ½å¯ä»¥å…è´¹è·å¾—ï¼ˆä¾‹å¦‚ä»ç½‘ä¸Šä¸‹è½½ï¼‰ï¼Œå¹¶å†æ¬¡å‘å¸ƒã€‚ä½†å¦‚æœä½ ä½¿ç”¨äº†ä»–ä»¬çš„åœ¨çº¿å‡çº§ï¼ˆåŒ…æ‹¬è¡¥ä¸ï¼‰æˆ–å’¨è¯¢æœåŠ¡ï¼Œå°±å¿…é¡»è¦ä»˜è´¹ã€‚</p>
<p>RHEL ä¸€ç›´éƒ½æä¾›æºä»£ç çš„å‘è¡Œæ–¹å¼ï¼ŒCentOS å°±æ˜¯å°† RHEL å‘è¡Œçš„æºä»£ç ä»æ–°ç¼–è¯‘ä¸€æ¬¡ï¼Œå½¢æˆä¸€ä¸ªå¯ä½¿ç”¨çš„äºŒè¿›åˆ¶ç‰ˆæœ¬ã€‚ç”±äº LINUX çš„æºä»£ç æ˜¯ GNUï¼Œæ‰€ä»¥ä»è·å¾— RHEL çš„æºä»£ç åˆ°ç¼–è¯‘æˆæ–°çš„äºŒè¿›åˆ¶ï¼Œéƒ½æ˜¯åˆæ³•ã€‚åªæ˜¯ REDHAT æ˜¯å•†æ ‡ï¼Œæ‰€ä»¥å¿…é¡»åœ¨æ–°çš„å‘è¡Œç‰ˆé‡Œå°† REDHAT çš„å•†æ ‡å»æ‰ã€‚</p>
<p>REDHAT å¯¹è¿™ç§å‘è¡Œç‰ˆçš„æ€åº¦æ˜¯ï¼šâ€œæˆ‘ä»¬å…¶å®å¹¶ä¸åå¯¹è¿™ç§å‘è¡Œç‰ˆï¼ŒçœŸæ­£å‘æˆ‘ä»¬ä»˜è´¹çš„ç”¨æˆ·ï¼Œä»–ä»¬é‡è§†çš„å¹¶ä¸æ˜¯ç³»ç»Ÿæœ¬èº«ï¼Œè€Œæ˜¯æˆ‘ä»¬æ‰€æä¾›çš„å•†ä¸šæœåŠ¡ã€‚â€</p>
<p>ä¸€å¥è¯ï¼Œé€‰ç”¨ CentOS è¿˜æ˜¯ RHELï¼Œå–å†³äºä½ æ‰€åœ¨å…¬å¸æ˜¯å¦æ‹¥æœ‰ç›¸åº”çš„æŠ€æœ¯åŠ›é‡ã€‚</p>
<h2 id="4-Refence-article"><a href="#4-Refence-article" class="headerlink" title="4. Refence article"></a>4. Refence article</h2><p>æœ¬æ–‡æ•´ç†è‡ªç½‘ç»œæ–‡ç« </p>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[CentOS 7.1 install Common software]]></title>
      <url>http://iequa.com/2016/04/19/ops-centos7-install-common-software/</url>
      <content type="html"><![CDATA[<h2 id="1-install-ifconfig"><a href="#1-install-ifconfig" class="headerlink" title="1. install ifconfig"></a>1. install ifconfig</h2> <figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">yum search ifconfig</span><br><span class="line">yum install net-tools.x86_64</span><br></pre></td></tr></table></figure>
<h2 id="2-install-vim"><a href="#2-install-vim" class="headerlink" title="2. install vim"></a>2. install vim</h2> <figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">yum search vim</span><br><span class="line">yum install vim-enhanced</span><br></pre></td></tr></table></figure>
<h2 id="3-install-wget"><a href="#3-install-wget" class="headerlink" title="3. install wget"></a>3. install wget</h2> <figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"> [libin@centos-linux-1 x]$ yum search wget</span><br><span class="line">Loaded plugins: fastestmirror</span><br><span class="line">Loading mirror speeds from cached hostfile</span><br><span class="line"> * base: mirrors.skyshe.cn</span><br><span class="line"> * extras: mirrors.163.com</span><br><span class="line"> * updates: mirrors.163.com</span><br><span class="line">============================================================================================ N/S matched: wget =============================================================================================</span><br><span class="line">wget.x86_64 : A utility <span class="keyword">for</span> retrieving files using the HTTP or FTP protocols</span><br><span class="line"></span><br><span class="line">  Name and summary matches only, use <span class="string">"search all"</span> <span class="keyword">for</span> everything.</span><br><span class="line"> </span><br><span class="line"> [libin@centos-linux-1 x]$ yum install wget.x86_64</span><br></pre></td></tr></table></figure>
<h2 id="4-install-git"><a href="#4-install-git" class="headerlink" title="4. install git"></a>4. install git</h2><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">yum search git</span><br><span class="line">yum install git.x86_64</span><br></pre></td></tr></table></figure>
<p>defaultï¼Œgit havnâ€™t color, you can use under cmd give git add color</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ git config --global color.status auto </span><br><span class="line">$ git config --global color.diff auto </span><br><span class="line">$ git config --global color.branch auto </span><br><span class="line">$ git config --global color.interactive auto</span><br></pre></td></tr></table></figure>
<h2 id="5-install-netcat"><a href="#5-install-netcat" class="headerlink" title="5. install netcat"></a>5. install netcat</h2><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">yum search netcat</span><br><span class="line">yum install nmap-ncat.x86_64</span><br></pre></td></tr></table></figure>]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[SBT Hello]]></title>
      <url>http://iequa.com/2016/03/16/scala-sbt-hello/</url>
      <content type="html"><![CDATA[<p><strong>focus on :</strong></p>
<ol>
<li>ä»€ä¹ˆæ˜¯ SBT ?</li>
<li>SBT é¡¹ç›®å·¥ç¨‹ç›®å½•</li>
<li>SBT ç¼–è¯‘æ‰“åŒ… Scala HelloWorld</li>
</ol>
<h2 id="1-SBT-What"><a href="#1-SBT-What" class="headerlink" title="1. SBT, What?"></a>1. SBT, What?</h2><p>SBT æ˜¯ Simple Build Tool çš„ç®€ç§°. SBT å¯ä»¥è®¤ä¸ºæ˜¯ Scala ä¸–ç•Œçš„ mavenã€‚</p>
<p>SBTçš„ç€è¿·ç‰¹æ€§ï¼Œæ¯”å¦‚ï¼š</p>
<ol>
<li>DSL buildæ„å»º, å¹¶å¯æ··åˆæ„å»º Java å’Œ Scala é¡¹ç›®ï¼›</li>
<li>é€šè¿‡è§¦å‘æ‰§è¡Œ (trigger execution) ç‰¹æ€§æ”¯æŒæŒç»­çš„ç¼–è¯‘ä¸æµ‹è¯•ï¼›</li>
<li>å¯ä»¥é‡ç”¨ Maven æˆ–è€… ivyçš„repository è¿›è¡Œä¾èµ–ç®¡ç†ï¼›</li>
<li>å¢é‡ç¼–è¯‘ã€å¹¶è¡Œä»»åŠ¡ç­‰ç­‰â€¦</li>
</ol>
<h2 id="2-Hello-SBT"><a href="#2-Hello-SBT" class="headerlink" title="2. Hello, SBT"></a>2. Hello, SBT</h2><p>ä¸€ä¸ªæè‡´ç®€å•çš„ Scalaé¡¹ç›® ï¼ˆhello simple projectï¼‰</p>
<p>hello/HelloWorld.scala</p>
<figure class="highlight scala"><table><tr><td class="code"><pre><span class="line"><span class="class"><span class="keyword">object</span> <span class="title">HelloWorld</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">main</span></span>(args: <span class="type">Array</span>[<span class="type">String</span>]) &#123;</span><br><span class="line">        println(<span class="string">"Hello, SBT"</span>)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>sbt run</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">âœ  hello git:(master) âœ— sbt</span><br><span class="line">[info] Set current project to hello (in build file:/Users/hp/ghome/Spark-Scala/hello/)</span><br><span class="line">&gt; run</span><br><span class="line">[info] Updating &#123;file:/Users/hp/ghome/Spark-Scala/hello/&#125;hello...</span><br><span class="line">[info] Resolving org.fusesource.jansi#jansi;1.4 ...</span><br><span class="line">[info] Done updating.</span><br><span class="line">[info] Compiling 1 Scala source to /Users/hp/ghome/Spark-Scala/hello/target/scala-2.10/classes...</span><br><span class="line">[info] Running HelloWorld</span><br><span class="line">Hello, SBT</span><br><span class="line">[success] Total time: 3 s, completed 2016-3-17 9:38:44</span><br><span class="line">&gt;</span><br></pre></td></tr></table></figure>
<h2 id="3-SBT-é¡¹ç›®å·¥ç¨‹ç»“æ„è¯¦è§£"><a href="#3-SBT-é¡¹ç›®å·¥ç¨‹ç»“æ„è¯¦è§£" class="headerlink" title="3. SBT é¡¹ç›®å·¥ç¨‹ç»“æ„è¯¦è§£"></a>3. SBT é¡¹ç›®å·¥ç¨‹ç»“æ„è¯¦è§£</h2><p>ä¸€ä¸ªå…¸å‹çš„SBTé¡¹ç›®å·¥ç¨‹ç»“æ„å¦‚ä¸‹å›¾æ‰€ç¤ºï¼š</p>
<p><img src="https://segmentfault.com/img/bVtyRb" alt="å›¾ç‰‡æè¿°"></p>
<p><strong> build.sbt è¯¦è§£ </strong></p>
<p>build.sbt ç›¸å½“äº maven-pom.xmlï¼Œå®ƒæ˜¯buildå®šä¹‰æ–‡ä»¶ã€‚ </p>
<p>SBT è¿è¡Œ ä½¿ç”¨ 2 ç§å½¢å¼ çš„ build å®šä¹‰æ–‡ä»¶ï¼Œ</p>
<ol>
<li>one, put your projectâ€™s base directoryï¼Œâ€“ build.sbtï¼Œ a simple build definitionï¼› </li>
<li>other one, put project directoryï¼Œcan Use Scala language, more expressiveã€‚</li>
</ol>
<p>ä¸€ä¸ªç®€å•çš„build.sbtæ–‡ä»¶å†…å®¹å¦‚ä¸‹ï¼š</p>
<figure class="highlight scala"><table><tr><td class="code"><pre><span class="line">name := <span class="string">"hello"</span>      <span class="comment">// é¡¹ç›®åç§°</span></span><br><span class="line"></span><br><span class="line">organization := <span class="string">"xxx.xxx.xxx"</span>  <span class="comment">// ç»„ç»‡åç§°</span></span><br><span class="line"></span><br><span class="line">version := <span class="string">"0.0.1-SNAPSHOT"</span>  <span class="comment">// ç‰ˆæœ¬å·</span></span><br><span class="line"></span><br><span class="line">scalaVersion := <span class="string">"2.9.2"</span>   <span class="comment">// ä½¿ç”¨çš„Scalaç‰ˆæœ¬å·</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">// å…¶å®ƒbuildå®šä¹‰</span></span><br></pre></td></tr></table></figure>
<p> name å’Œ versionçš„å®šä¹‰æ˜¯å¿…é¡»çš„ï¼Œå› ä¸ºå¦‚æœæƒ³ç”ŸæˆjaråŒ…çš„è¯ï¼Œè¿™ä¸¤ä¸ªå±æ€§çš„å€¼å°†ä½œä¸ºjaråŒ…åç§°çš„ä¸€éƒ¨åˆ†, å„è¡Œä¹‹é—´ä»¥ç©ºè¡Œåˆ†éš”ã€‚<br>é™¤äº†å®šä¹‰ä»¥ä¸Šé¡¹ç›®ç›¸å…³ä¿¡æ¯ï¼Œæˆ‘ä»¬è¿˜å¯ä»¥åœ¨build.sbtä¸­æ·»åŠ é¡¹ç›®ä¾èµ–ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">// æ·»åŠ æºä»£ç ç¼–è¯‘æˆ–è€…è¿è¡ŒæœŸé—´ä½¿ç”¨çš„ä¾èµ–</span><br><span class="line">libraryDependencies += &quot;ch.qos.logback&quot; % &quot;logback-core&quot; % &quot;1.0.0&quot;</span><br><span class="line"></span><br><span class="line">libraryDependencies += &quot;ch.qos.logback&quot; % &quot;logback-classic&quot; % &quot;1.0.0&quot;</span><br><span class="line"></span><br><span class="line">// æˆ–è€…</span><br><span class="line"></span><br><span class="line">libraryDependencies ++= Seq(</span><br><span class="line">                            &quot;ch.qos.logback&quot; % &quot;logback-core&quot; % &quot;1.0.0&quot;,</span><br><span class="line">                            &quot;ch.qos.logback&quot; % &quot;logback-classic&quot; % &quot;1.0.0&quot;,</span><br><span class="line">                            ...</span><br><span class="line">                            )</span><br><span class="line"></span><br><span class="line">// æ·»åŠ æµ‹è¯•ä»£ç ç¼–è¯‘æˆ–è€…è¿è¡ŒæœŸé—´ä½¿ç”¨çš„ä¾èµ–</span><br><span class="line">libraryDependencies ++= Seq(&quot;org.scalatest&quot; %% &quot;scalatest&quot; % &quot;1.8&quot; % &quot;test&quot;)</span><br></pre></td></tr></table></figure>
<p>å½“ç„¶ï¼Œ build.sbtæ–‡ä»¶ä¸­è¿˜å¯ä»¥å®šä¹‰å¾ˆå¤šä¸œè¥¿ï¼Œæ¯”å¦‚æ·»åŠ æ’ä»¶ï¼Œå£°æ˜é¢å¤–çš„repositoryï¼Œå£°æ˜å„ç§ç¼–è¯‘å‚æ•°ç­‰ç­‰</p>
<p><strong> projectç›®å½•å³ç›¸å…³æ–‡ä»¶ä»‹ç» </strong></p>
<p>projectç›®å½•ä¸‹çš„å‡ ä¸ªæ–‡ä»¶å¯ä»¥æ ¹æ®æƒ…å†µæ·»åŠ ã€‚</p>
<p>build.properties æ–‡ä»¶å£°æ˜ä½¿ç”¨çš„è¦ä½¿ç”¨å“ªä¸ªç‰ˆæœ¬çš„SBTæ¥ç¼–è¯‘å½“å‰é¡¹ç›®ï¼Œ æœ€æ–°çš„sbt boot launcherå¯ä»¥èƒ½å¤Ÿå…¼å®¹ç¼–è¯‘æ‰€æœ‰0.10.xç‰ˆæœ¬çš„SBTæ„å»ºé¡¹ç›®ï¼Œæ¯”å¦‚å¦‚æœæˆ‘ä½¿ç”¨çš„æ˜¯0.12ç‰ˆæœ¬çš„sbtï¼Œä½†å´æƒ³ç”¨0.11.3ç‰ˆæœ¬çš„sbtæ¥ç¼–è¯‘å½“å‰é¡¹ç›®ï¼Œåˆ™å¯ä»¥åœ¨build.propertiesæ–‡ä»¶ä¸­æ·»åŠ sbt.version=0.11.3æ¥æŒ‡å®šã€‚</p>
<p>plugins.sbt æ–‡ä»¶ç”¨æ¥å£°æ˜å½“å‰é¡¹ç›®å¸Œæœ›ä½¿ç”¨å“ªäº›æ’ä»¶æ¥å¢å¼ºå½“å‰é¡¹ç›®ä½¿ç”¨çš„sbtçš„åŠŸèƒ½ï¼Œæ¯”å¦‚åƒassemblyåŠŸèƒ½ï¼Œæ¸…ç†ivy local cacheåŠŸèƒ½ï¼Œéƒ½æœ‰ç›¸åº”çš„sbtæ’ä»¶ä¾›ä½¿ç”¨ï¼Œ è¦ä½¿ç”¨è¿™äº›æ’ä»¶åªéœ€è¦åœ¨ plugins.sbt ä¸­å£°æ˜å³å¯.</p>
<p>ä¸ºäº†èƒ½å¤ŸæˆåŠŸåŠ è½½è¿™äº›sbtæ’ä»¶ï¼Œæˆ‘ä»¬å°†ä»–ä»¬çš„æŸ¥æ‰¾ä½ç½®æ·»åŠ åˆ°resoloverså½“ä¸­.</p>
<p><strong> å…¶ä»– </strong></p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">$ touch build.sbt</span><br><span class="line">$ mkdir src</span><br><span class="line">$ mkdir src/main</span><br><span class="line">$ mkdir src/main/java</span><br><span class="line">$ mkdir src/main/resources</span><br><span class="line">$ mkdir src/main/scala</span><br><span class="line">$ mkdir src/test</span><br><span class="line">$ mkdir src/test/java</span><br><span class="line">$ mkdir src/test/resources</span><br><span class="line">$ mkdir src/test/scala</span><br><span class="line">$ mkdir project</span><br><span class="line">$ ...</span><br></pre></td></tr></table></figure>
<p>å¯ä»¥ä½¿ç”¨giter8æ¥è‡ªåŠ¨åŒ–ä»¥ä¸Šæ­¥éª¤.<br>giter8çš„æ›´å¤šä¿¡æ¯å¯å‚è€ƒ<a href="https://github.com//giter8" target="_blank" rel="external">https://github.com//giter8</a>.</p>
<h2 id="4-SBT-Cmd"><a href="#4-SBT-Cmd" class="headerlink" title="4. SBT Cmd"></a>4. SBT Cmd</h2><ol>
<li>actions â€“ æ˜¾ç¤ºå¯¹å½“å‰å·¥ç¨‹å¯ç”¨çš„å‘½ä»¤</li>
<li>update â€“ ä¸‹è½½ä¾èµ–</li>
<li>compile â€“ ç¼–è¯‘ä»£ç </li>
<li>test â€“ è¿è¡Œæµ‹è¯•ä»£ç </li>
<li>package â€“ åˆ›å»ºä¸€ä¸ªå¯å‘å¸ƒçš„jaråŒ…</li>
<li>publish-local â€“ æŠŠæ„å»ºå‡ºæ¥çš„jaråŒ…å®‰è£…åˆ°æœ¬åœ°çš„ivyç¼“å­˜</li>
<li>publish â€“ æŠŠjaråŒ…å‘å¸ƒåˆ°è¿œç¨‹ä»“åº“ï¼ˆå¦‚æœé…ç½®äº†çš„è¯)</li>
</ol>
<p>more cmd</p>
<ol>
<li>test-failed â€“ è¿è¡Œå¤±è´¥çš„spec</li>
<li>test-quick â€“ è¿è¡Œæ‰€æœ‰å¤±è´¥çš„ä»¥åŠ/æˆ–è€…æ˜¯ç”±ä¾èµ–æ›´æ–°çš„spec</li>
<li>clean-cache â€“ æ¸…é™¤æ‰€æœ‰çš„sbtç¼“å­˜ã€‚ç±»ä¼¼äºsbtçš„cleanå‘½ä»¤</li>
<li>clean-lib â€“ åˆ é™¤lib_managedä¸‹çš„æ‰€æœ‰å†…å®¹</li>
</ol>
<h2 id="5-Scala-HelloWorld"><a href="#5-Scala-HelloWorld" class="headerlink" title="5. Scala HelloWorld"></a>5. Scala HelloWorld</h2><p>SBT Scala HelloWorld å…·ä½“è¯·çœ‹ : <a href="https://github.com/blair1/language/tree/master/scala/ScalaWorld" target="_blank" rel="external">Scala-Projects/HelloWorld</a></p>
<p>âœ  HelloWorld&gt; sbt package</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">[info] Loading project definition from /Users/hp/spark/HelloWorld/project</span><br><span class="line">[info] Set current project to HelloWorld (in build file:/Users/hp/spark/HelloWorld/)</span><br><span class="line">[info] Packaging /Users/hp/spark/HelloWorld/target/scala-2.11/helloworld_2.11-0.0.1-SNAPSHOT.jar ...</span><br><span class="line">[info] Done packaging.</span><br><span class="line">[success] Total time: 1 s, completed 2016-3-17 9:05:44</span><br></pre></td></tr></table></figure>
<p>âœ  HelloWorld&gt; sbt run</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">[info] Loading project definition from /Users/hp/spark/HelloWorld/project</span><br><span class="line">[info] Set current project to HelloWorld (in build file:/Users/hp/spark/HelloWorld/)</span><br><span class="line">[info] Running Hi</span><br><span class="line">Hi!</span><br><span class="line">[success] Total time: 1 s, completed 2016-3-17 9:07:43</span><br></pre></td></tr></table></figure>
<h2 id="6-Spark-HelloWorld"><a href="#6-Spark-HelloWorld" class="headerlink" title="6. Spark HelloWorld"></a>6. Spark HelloWorld</h2><p>Spark HelloWorld å…·ä½“è¯·çœ‹ : <a href="https://github.com/blair1/hadoop-spark/tree/master/spark/HelloWorld" target="_blank" rel="external">Spark-Projects/HelloWorld</a></p>
<p>âœ  HelloWorld&gt; sbt compile<br>âœ  HelloWorld&gt; sbt package</p>
<pre><code class="shell">$SPARK_HOME/bin/spark-submit \
  --class &quot;HelloWorld&quot; \
    target/scala-2.11/helloworld_2.11-1.0.jar
</code></pre>
<h2 id="7-Referenced-article"><a href="#7-Referenced-article" class="headerlink" title="7. Referenced article"></a>7. Referenced article</h2><p>å‚è€ƒ : <a href="http://www.scala-sbt.org/0.13/docs/zh-cn/Getting-Started.html" target="_blank" rel="external">scala-sbt.org/0.13/docs/zh-cn/Getting-Started.html</a><br>å‚è€ƒ : <a href="https://github.com/CSUG/real_world_scala/blob/master/02_sbt.markdown" target="_blank" rel="external">CSUG/real_world_scala/blob/master/02_sbt.markdown</a><br>å‚è€ƒ : <a href="http://www.scala-sbt.org/0.13.1/docs/Getting-Started/Hello.html" target="_blank" rel="external">scala-sbt.org/0.13.1/docs/Getting-Started</a><br>å‚è€ƒ : <a href="http://article.yeeyan.org/view/442873/404261" target="_blank" rel="external">è¯‘è¨€ç½‘</a></p>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[å¤§æ•°æ®å¹³å°CDHé›†ç¾¤åœ¨çº¿å®‰è£…]]></title>
      <url>http://iequa.com/2016/03/14/hadoop-cdh-install-online/</url>
      <content type="html"><![CDATA[<p>æ ‡ç­¾ï¼š Cloudera-Manager CDH Hadoop éƒ¨ç½² é›†ç¾¤</p>
<blockquote>
<p>æ‘˜è¦ï¼šç®¡ç†ã€éƒ¨ç½²Hadoopé›†ç¾¤éœ€è¦å·¥å…·ï¼ŒCloudera Managerä¾¿æ˜¯å…¶ä¸€ã€‚æœ¬æ–‡è¯¦ç»†è®°å½•äº†ä»¥åœ¨çº¿æ–¹å¼éƒ¨ç½²CDHé›†ç¾¤&gt;çš„æ­¥éª¤ã€‚</p>
</blockquote>
<p>ä»¥Apache Hadoopä¸ºä¸»å¯¼çš„å¤§æ•°æ®æŠ€æœ¯çš„å‡ºç°ï¼Œä½¿å¾—ä¸­å°å‹å…¬å¸å¯¹äºå¤§æ•°æ®çš„å­˜å‚¨ä¸å¤„ç†ä¹Ÿæ‹¥æœ‰äº†æ­¦å™¨ã€‚</p>
<p>ç›®å‰Hadoopæ¯”è¾ƒæµè¡Œçš„ä¸»è¦æœ‰2ä¸ªç‰ˆæœ¬ï¼ŒApacheå’ŒClouderaç‰ˆæœ¬ã€‚</p>
<p>Apache Hadoopï¼šç»´æŠ¤äººå‘˜æ¯”è¾ƒå¤šï¼Œæ›´æ–°é¢‘ç‡æ¯”è¾ƒå¿«ï¼Œä½†æ˜¯ç¨³å®šæ€§æ¯”è¾ƒå·®ã€‚<br>Cloudera Hadoopï¼ˆCDHï¼‰ï¼šCDHï¼šClouderaå…¬å¸çš„å‘è¡Œç‰ˆæœ¬ï¼ŒåŸºäºApache Hadoopçš„äºŒæ¬¡å¼€å‘ï¼Œä¼˜åŒ–äº†ç»„ä»¶å…¼å®¹å’Œäº¤äº’æ¥å£ã€ç®€åŒ–å®‰è£…é…ç½®ã€å¢åŠ Clouderaå…¼å®¹ç‰¹æ€§ã€‚</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">å¤§æ•°æ®å¹³å°CDHé›†ç¾¤ cdh-5.70-rpm_install è¯¦ç»†è¿‡ç¨‹</span><br></pre></td></tr></table></figure>
<h1 id="Part-1-install-cdh-server"><a href="#Part-1-install-cdh-server" class="headerlink" title="Part 1 install cdh server"></a>Part 1 install cdh server</h1><h2 id="1-1-Ready-install-resources"><a href="#1-1-Ready-install-resources" class="headerlink" title="1.1 Ready install resources"></a>1.1 Ready install resources</h2><ol>
<li>CentOS Linux release 7.1.1503 (Core) cm-5.7.0 </li>
<li>cloudera-manager-installer.bin</li>
<li>adduser deploy</li>
</ol>
<p>centos7.1 åœ¨å®‰è£…è¿‡ç¨‹æ—¶ï¼Œç½‘ç»œé…ç½®ï¼Œè®¾ç½®é™æ€IP</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">vim /etc/sysconfig/network-scripts/ifcfg-eth0</span><br></pre></td></tr></table></figure>
<p>è®¾ç½®é™æ€ipï¼Œä»¥åŠæŒ‡å®šipåœ°å€</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">DEVICE=&quot;eth0&quot;</span><br><span class="line">BOOTPROTO=&quot;static&quot;</span><br><span class="line">IPADDR=192.168.1.110</span><br><span class="line">NM_CONTROLLED=&quot;yes&quot;</span><br><span class="line">ONBOOT=&quot;yes&quot;</span><br><span class="line">TYPE=&quot;Ethernet&quot;</span><br><span class="line">DNS1=8.8.8.8</span><br><span class="line">DNS2=8.8.4.4</span><br><span class="line">GATEWAY=192.168.1.1</span><br></pre></td></tr></table></figure>
<h2 id="1-2-ç½‘ç»œé…ç½®ï¼ˆæ‰€æœ‰èŠ‚ç‚¹ï¼‰"><a href="#1-2-ç½‘ç»œé…ç½®ï¼ˆæ‰€æœ‰èŠ‚ç‚¹ï¼‰" class="headerlink" title="1.2 ç½‘ç»œé…ç½®ï¼ˆæ‰€æœ‰èŠ‚ç‚¹ï¼‰"></a>1.2 ç½‘ç»œé…ç½®ï¼ˆæ‰€æœ‰èŠ‚ç‚¹ï¼‰</h2><p><strong>ä¿®æ”¹hostnameä¸º cdh-server7</strong></p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">ã€€ã€€RedHat çš„ hostnameï¼Œå°±ä¿®æ”¹ /etc/sysconfig/networkæ–‡ä»¶ï¼Œå°†é‡Œé¢çš„ HOSTNAME è¿™ä¸€è¡Œä¿®æ”¹æˆ HOSTNAME=NEWNAMEï¼Œå…¶ä¸­ NEWNAME å°±æ˜¯ä½ è¦è®¾ç½®çš„ hostnameã€‚</span><br><span class="line"></span><br><span class="line">ã€€ã€€Debianå‘è¡Œç‰ˆçš„ hostname çš„é…ç½®æ–‡ä»¶æ˜¯ /etc/hostname</span><br></pre></td></tr></table></figure>
<p><strong>ä¿®æ”¹ipä¸ä¸»æœºåçš„å¯¹åº”å…³ç³»</strong></p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">[root@cdh-server7 ~]# vi /etc/hosts #ä¿®æ”¹ipä¸ä¸»æœºåçš„å¯¹åº”å…³ç³»:</span><br><span class="line">192.168.181.190 node190</span><br><span class="line">192.168.181.198 node198</span><br><span class="line">192.168.181.196 node196</span><br></pre></td></tr></table></figure>
<p><strong>é‡å¯ç½‘ç»œæœåŠ¡ç”Ÿæ•ˆ</strong></p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">[root@cdh-server7 ~]# service network restart</span><br></pre></td></tr></table></figure>
<p><strong>å…³é—­SELINUX</strong></p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">æŸ¥çœ‹SELINUXçŠ¶æ€</span><br><span class="line"></span><br><span class="line">[root@cdh-server7 ~]#getenforce</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">è‹¥ SELINUX æ²¡æœ‰å…³é—­ï¼ŒæŒ‰ç…§ä¸‹è¿°æ–¹å¼å…³é—­</span><br><span class="line"></span><br><span class="line">vi /etc/selinux/config</span><br><span class="line">ä¿®æ”¹SELinux=disabledã€‚é‡å¯ç”Ÿæ•ˆï¼Œå¯ä»¥ç­‰åé¢éƒ½è®¾ç½®å®Œäº†é‡å¯ä¸»æœº</span><br><span class="line"># This file controls the state of SELinux on the system.</span><br><span class="line"># SELINUX= can take one of these three values:</span><br><span class="line">#       enforcing - SELinux security policy is enforced.</span><br><span class="line">#       permissive - SELinux prints warnings instead of enforcing.</span><br><span class="line">#       disabled - SELinux is fully disabled.</span><br><span class="line">SELINUX=disabled</span><br><span class="line"># SELINUXTYPE= type of policy in use. Possible values are:</span><br><span class="line">#       targeted - Only targeted network daemons are protected.</span><br><span class="line">#       strict - Full SELinux protection.</span><br><span class="line">SELINUXTYPE=targeted</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">[root@cdh-server7 ~]# ping www.baidu.com</span><br></pre></td></tr></table></figure>
<p>ä»¥ä¸Šæ­¥éª¤æ‰§è¡Œå®Œæ¯•åï¼Œé‡å¯ä¸»æœº</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">reboot</span><br></pre></td></tr></table></figure>
<p>é‡å¯åå†æ¬¡æ£€æŸ¥ä¸‹ä»¥ä¸Šå‡ ç‚¹ï¼Œç¡®ä¿ç¯å¢ƒé…ç½®æ­£ç¡®ã€‚</p>
<h2 id="1-3-å¸è½½-openjdk-æ‰€æœ‰èŠ‚ç‚¹"><a href="#1-3-å¸è½½-openjdk-æ‰€æœ‰èŠ‚ç‚¹" class="headerlink" title="1.3 å¸è½½ openjdk (æ‰€æœ‰èŠ‚ç‚¹)"></a>1.3 å¸è½½ openjdk (æ‰€æœ‰èŠ‚ç‚¹)</h2><blockquote>
<p>æ³¨æ„ : å¦‚æœæ²¡æœ‰openjdk, åˆ™ä¸éœ€è¦å¸è½½ï¼Œé»˜è®¤ centos7 æ²¡æœ‰</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">[root@cdh-server7 deploy]# rpm -qa | grep java</span><br><span class="line">[root@cdh-server7 deploy]# rpm -qa | grep jdk</span><br><span class="line"></span><br><span class="line"># if exist java or jdk, uninstall, erase it.  example under this...</span><br><span class="line">[root@cdh-server7 deploy]# rpm -e --nodeps java-1.5.0-gcj-1.5.0.0-29.1.el6.x86_64</span><br><span class="line">[root@cdh-server7 deploy]# rpm -e --nodeps java-1.6.0-openjdk-1.6.0.0-1.66.1.13.0.el6.x86_64</span><br><span class="line">[root@cdh-server7 deploy]# rpm -e --nodeps java-1.7.0-openjdk-1.7.0.45-2.4.3.3.el6.x86_64</span><br></pre></td></tr></table></figure>
<h2 id="1-4-å¸è½½-centOS7-é»˜è®¤mysql"><a href="#1-4-å¸è½½-centOS7-é»˜è®¤mysql" class="headerlink" title="1.4 å¸è½½ centOS7 é»˜è®¤mysql"></a>1.4 å¸è½½ centOS7 é»˜è®¤mysql</h2><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">[root@cdh-server7 deploy]# rpm -qa | grep mariadb</span><br><span class="line">[root@cdh-server7 deploy]# rpm -e --nodeps mariadb-libs-5.5.41-2.el7_0.x86_64</span><br></pre></td></tr></table></figure>
<h2 id="1-5-Cloudera-Managerå®‰è£…"><a href="#1-5-Cloudera-Managerå®‰è£…" class="headerlink" title="1.5 Cloudera Managerå®‰è£…"></a>1.5 Cloudera Managerå®‰è£…</h2><p>ä¸‹è½½èµ„æºæ–‡ä»¶<a href="https://archive.cloudera.com/cm5/redhat/7/x86_64/cm/cloudera-manager.repo" target="_blank" rel="external">https://archive.cloudera.com/cm5/redhat/7/x86_64/cm/cloudera-manager.repo</a></p>
<p>å°†cloudera-manager.repoæ–‡ä»¶æ‹·è´åˆ°æ‰€æœ‰èŠ‚ç‚¹çš„/etc/yum.repos.d/æ–‡ä»¶å¤¹ä¸‹</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">[root@node196 ]# cd /home/deploy/cdh</span><br><span class="line">[root@node196 cdh]# wget https://archive.cloudera.com/cm5/redhat/7/x86_64/cm/cloudera-manager.repo</span><br><span class="line">[root@cdh-server7 cdh]# mv cloudera-manager.repo /etc/yum.repos.d/</span><br></pre></td></tr></table></figure>
<p>éªŒè¯repoæ–‡ä»¶æ˜¯å¦èµ·æ•ˆ</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">yum list|grep cloudera</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">[root@cdh-server7 cdh]# yum list | grep cloudera</span><br><span class="line">cloudera-manager-agent.x86_64           5.7.0-1.cm560.p0.54.el7        cloudera-manager</span><br><span class="line">cloudera-manager-daemons.x86_64         5.7.0-1.cm560.p0.54.el7        cloudera-manager</span><br><span class="line">cloudera-manager-server.x86_64          5.7.0-1.cm560.p0.54.el7        cloudera-manager</span><br><span class="line">cloudera-manager-server-db-2.x86_64     5.7.0-1.cm560.p0.54.el7        cloudera-manager</span><br><span class="line">enterprise-debuginfo.x86_64             5.7.0-1.cm560.p0.54.el7        cloudera-manager</span><br><span class="line">oracle-j2sdk1.7.x86_64                  1.7.0+update67-1               cloudera-manager</span><br></pre></td></tr></table></figure>
<p>å¦‚æœåˆ—å‡ºçš„ä¸æ˜¯ä½ å®‰è£…çš„ç‰ˆæœ¬ï¼Œæ‰§è¡Œä¸‹é¢å‘½ä»¤é‡è¯•</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">yum clean all </span><br><span class="line">yum list | grep cloudera</span><br></pre></td></tr></table></figure>
<p>ä¸Šä¼ ä¸‹åˆ— <strong>rpm åŒ…</strong> åˆ° [root@cdh-server7] çš„ /home/deploy/cdh/cloudera-rpms (ä»»æ„ç›®å½•)</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">cd /home/deploy/cdh/cloudera-rpms</span><br><span class="line">cloudera-manager-agent-5.7.0-1.cm560.p0.54.el7.x86_64.rpm</span><br><span class="line">cloudera-manager-daemons-5.7.0-1.cm560.p0.54.el7.x86_64.rpm</span><br><span class="line">cloudera-manager-server-5.7.0-1.cm560.p0.54.el7.x86_64.rpm   ## agent not use</span><br><span class="line">cloudera-manager-server-db-2-5.7.0-1.cm560.p0.54.el7.x86_64.rpm  ## agent not use</span><br><span class="line">enterprise-debuginfo-5.7.0-1.cm560.p0.54.el7.x86_64.rpm</span><br><span class="line">oracle-j2sdk1.7-1.7.0+update67-1.x86_64.rpm</span><br></pre></td></tr></table></figure>
<blockquote>
<p>è¯´æ˜ : å¯ä»<a href="https://archive.cloudera.com/cm5/redhat/7/x86_64/cm/5/RPMS/x86_64/" target="_blank" rel="external">https://archive.cloudera.com/cm5/redhat/7/x86_64/cm/5/RPMS/x86_64/</a> ä¸‹è½½ç›¸å…³rpmåŒ…</p>
</blockquote>
<p>åˆ‡æ¢åˆ°rpmsç›®å½•ä¸‹ï¼Œæ‰§è¡Œ</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">[root@cdh-server7 cdh]# cd /home/deploy/cdh/cloudera-rpms/</span><br><span class="line">[root@cdh-server7 cloudera-rpms]# yum -y install *.rpm</span><br></pre></td></tr></table></figure>
<h2 id="1-6-æ‹·è´èµ„æºåŒ…åˆ°ç›®æ ‡ç›®å½•"><a href="#1-6-æ‹·è´èµ„æºåŒ…åˆ°ç›®æ ‡ç›®å½•" class="headerlink" title="1.6 æ‹·è´èµ„æºåŒ…åˆ°ç›®æ ‡ç›®å½•"></a>1.6 æ‹·è´èµ„æºåŒ…åˆ°ç›®æ ‡ç›®å½•</h2><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">ä» http://archive.cloudera.com/cdh5/parcels/5.7.0/ ä¸‹è½½èµ„æºåŒ…</span><br></pre></td></tr></table></figure>
<p>å°†ä¹‹å‰ä¸‹è½½çš„Parcelé‚£3ä¸ªæ–‡ä»¶æ‹·è´åˆ°/opt/cloudera/parcel-repoç›®å½•ä¸‹ï¼ˆå¦‚æœæ²¡æœ‰è¯¥ç›®å½•ï¼Œè¯·è‡ªè¡Œåˆ›å»ºï¼‰</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">[root@cdh-server7 cdh]# cp CDH-5.7.0-1.cdh5.7.0.p0.45-el7.parcel /opt/cloudera/parcel-repo/CDH-5.7.0-1.cdh5.7.0.p0.45-el7.parcel</span><br><span class="line">[root@cdh-server7 cdh]# cp CDH-5.7.0-1.cdh5.7.0.p0.45-el7.parcel.sha1 /opt/cloudera/parcel-repo/CDH-5.7.0-1.cdh5.7.0.p0.45-el7.parcel.sha</span><br><span class="line">[root@cdh-server7 cdh]# cp manifest.json /opt/cloudera/parcel-repo/manifest.json</span><br></pre></td></tr></table></figure>
<h2 id="1-7-é…ç½®-java-ç¯å¢ƒå˜é‡"><a href="#1-7-é…ç½®-java-ç¯å¢ƒå˜é‡" class="headerlink" title="1.7 é…ç½® java ç¯å¢ƒå˜é‡"></a>1.7 é…ç½® java ç¯å¢ƒå˜é‡</h2><p>è®¾ç½®JAVA_HOME</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">[root@cdh-server7 cdh]#vi /etc/profile</span><br><span class="line">export JAVA_HOME=/usr/java/jdk1.7.0_67-cloudera/</span><br><span class="line">export PATH=$JAVA_HOME/bin:$PATH</span><br><span class="line">[root@cdh-server7 cdh]#source /etc/profile</span><br></pre></td></tr></table></figure>
<p>å…³é—­é˜²ç«å¢™</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">[root@cdh-server7 deploy]#systemctl stop firewalld.service  #centos7,å…³é—­é˜²ç«å¢™</span><br></pre></td></tr></table></figure>
<p>ä»¥ä¸Šæ­¥éª¤æ‰§è¡Œå®Œæ¯•åï¼Œé‡å¯ä¸»æœº</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">reboot</span><br></pre></td></tr></table></figure>
<h2 id="1-8-å®‰è£…CM-åªåœ¨ä¸»èŠ‚ç‚¹"><a href="#1-8-å®‰è£…CM-åªåœ¨ä¸»èŠ‚ç‚¹" class="headerlink" title="1.8 å®‰è£…CM (åªåœ¨ä¸»èŠ‚ç‚¹)"></a>1.8 å®‰è£…CM (åªåœ¨ä¸»èŠ‚ç‚¹)</h2><p><strong>ä»¥ä¸‹ä¸¤æ­¥éª¤è¯·åªåœ¨ä¸»èŠ‚ç‚¹ä¸Šæ‰§è¡Œ :</strong></p>
<ul>
<li><p>è¿›å…¥è¯¥ç›®å½•ï¼Œç»™binæ–‡ä»¶èµ‹äºˆå¯æ‰§è¡Œæƒé™</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">[root@cdh-server7 cdh]# chmod a+x ./cloudera-manager-installer.bin</span><br></pre></td></tr></table></figure>
</li>
<li><p>å®‰è£…CM (è¯¥æ­¥éª¤, å¯èƒ½æ˜¯ä¸éœ€è¦çš„)</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">[root@cdh-server7 cdh]# ./cloudera-manager-installer.bin</span><br></pre></td></tr></table></figure>
</li>
</ul>
<p><strong>å¼€å§‹å¯åŠ¨serverç«¯</strong></p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">[root@cdh-server7 cdh]# cd /etc/init.d/</span><br><span class="line">[root@cdh-server7 init.d]# ./cloudera-scm-server-db start</span><br><span class="line"></span><br><span class="line">[root@cdh-server7 init.d]# ./cloudera-scm-server start</span><br><span class="line">Starting cloudera-scm-server:                              [  OK  ]</span><br><span class="line">[root@cdh-server7 init.d]# tail -f /var/log/cloudera-scm-server/cloudera-scm-server.log</span><br></pre></td></tr></table></figure>
<blockquote>
<p>æ³¨æ„ :<br> æœºå™¨é‡å¯ä¹‹åï¼Œé»˜è®¤å¯åŠ¨ä¼šå¯¼è‡´å¼‚å¸¸<br> éœ€è¦æŒ‰ç…§è¯¥å…ˆå¯åŠ¨cloudera-scm-server-dbï¼Œå†å¯åŠ¨cloudera-scm-serverçš„é¡ºåºæ‰§è¡Œ</p>
</blockquote>
<h2 id="1-9-æµè§ˆå™¨è®¿é—®éªŒè¯-ä¸»èŠ‚ç‚¹"><a href="#1-9-æµè§ˆå™¨è®¿é—®éªŒè¯-ä¸»èŠ‚ç‚¹" class="headerlink" title="1.9 æµè§ˆå™¨è®¿é—®éªŒè¯(ä¸»èŠ‚ç‚¹)"></a>1.9 æµè§ˆå™¨è®¿é—®éªŒè¯(ä¸»èŠ‚ç‚¹)</h2><p>CMå®‰è£…æˆåŠŸåæµè§ˆå™¨è¾“å…¥<a href="http://ip:7180" target="_blank" rel="external">http://ip:7180</a>, ç”¨æˆ·åå’Œå¯†ç éƒ½è¾“å…¥adminï¼Œè¿›å…¥webç®¡ç†ç•Œé¢ã€‚</p>
<p>é€šè¿‡æµè§ˆå™¨è®¿é—®éªŒè¯</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">http://192.168.181.190:7180/</span><br></pre></td></tr></table></figure>
<p>å¦‚æœæ‰“ä¸å¼€æ”¹ç½‘é¡µï¼Œç­‰å¾…2åˆ†é’Ÿåã€‚è¿™ä¸ªæœåŠ¡å¯åŠ¨æ˜¯éœ€è¦ä¸€å®šæ—¶é—´çš„ã€‚</p>
<p>é€‰æ‹©éƒ¨ç½²çš„ç‰ˆæœ¬ï¼Œè¿™é‡Œæˆ‘ä»¬é€‰æ‹©å…è´¹ç‰ˆçš„å°±å¯ä»¥äº†ã€‚</p>
<blockquote>
<p>å¦‚æœä¸ä¼šè®¾ç½®ï¼Œé‚£ä¹ˆè¯·å‚è€ƒ æœ€é è°±çš„å®‰è£…æŒ‡å— <a href="http://www.jianshu.com/p/57179e03795f" target="_blank" rel="external">http://www.jianshu.com/p/57179e03795f</a></p>
</blockquote>
<p>å®‰è£…æœåŠ¡æ—¶ï¼Œæ•°æ®åº“é€‰æ‹©é»˜è®¤çš„åµŒå…¥å¼æ•°æ®åº“</p>
<h1 id="Part-2-å®‰è£…-agent"><a href="#Part-2-å®‰è£…-agent" class="headerlink" title="Part 2 å®‰è£… agent"></a>Part 2 å®‰è£… agent</h1><blockquote>
<p>this step is similarï¼Œ but I canâ€™t be sure, exactly right. </p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">å®‰è£… agent ï¼Œå¯ä»¥åœ¨å•ç‹¬çš„æœºå™¨ï¼Œä¸»èŠ‚ç‚¹ï¼Œå¯ä»¥åªå½“åšä¸»ï¼Œéšæ„ä½ </span><br></pre></td></tr></table></figure>
<blockquote>
<p>ä¸ºagentåšé…ç½®,å¯åŠ¨agent (æ‰€æœ‰èŠ‚ç‚¹)<br>agent ä¸éœ€è¦è£…serverï¼Œå…¶ä»–ç»å¤§éƒ¨åˆ†æ­¥éª¤å’Œ å®‰è£… server ç›¸åŒã€‚</p>
</blockquote>
<h2 id="2-1-ç½‘ç»œé…ç½®"><a href="#2-1-ç½‘ç»œé…ç½®" class="headerlink" title="2.1 ç½‘ç»œé…ç½®"></a>2.1 ç½‘ç»œé…ç½®</h2><p><strong>ä¿®æ”¹ipä¸ä¸»æœºåçš„å¯¹åº”å…³ç³»</strong></p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">[root@cdh-agent1 ~]# vi /etc/hosts #ä¿®æ”¹ipä¸ä¸»æœºåçš„å¯¹åº”å…³ç³»:</span><br><span class="line">192.168.181.190 cdh-server7(node190)</span><br><span class="line">192.168.181.198 cdh-agent1(node198)</span><br><span class="line">192.168.181.196 cdh-agent2(node196)</span><br></pre></td></tr></table></figure>
<p><strong>é‡å¯ç½‘ç»œæœåŠ¡ç”Ÿæ•ˆ</strong></p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">[root@cdh-server7 ~]# service network restart</span><br></pre></td></tr></table></figure>
<p><strong>å…³é—­SELINUX</strong></p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">æŸ¥çœ‹SELINUXçŠ¶æ€</span><br><span class="line"></span><br><span class="line">[root@cdh-server7 ~]#getenforce</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">è‹¥ SELINUX æ²¡æœ‰å…³é—­ï¼ŒæŒ‰ç…§ä¸‹è¿°æ–¹å¼å…³é—­</span><br><span class="line"></span><br><span class="line">vi /etc/selinux/config</span><br><span class="line">ä¿®æ”¹SELinux=disabledã€‚é‡å¯ç”Ÿæ•ˆï¼Œå¯ä»¥ç­‰åé¢éƒ½è®¾ç½®å®Œäº†é‡å¯ä¸»æœº</span><br><span class="line"># This file controls the state of SELinux on the system.</span><br><span class="line"># SELINUX= can take one of these three values:</span><br><span class="line">#       enforcing - SELinux security policy is enforced.</span><br><span class="line">#       permissive - SELinux prints warnings instead of enforcing.</span><br><span class="line">#       disabled - SELinux is fully disabled.</span><br><span class="line">SELINUX=disabled</span><br><span class="line"># SELINUXTYPE= type of policy in use. Possible values are:</span><br><span class="line">#       targeted - Only targeted network daemons are protected.</span><br><span class="line">#       strict - Full SELinux protection.</span><br><span class="line">SELINUXTYPE=targeted</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">[root@cdh-server7 ~]# ping www.baidu.com</span><br></pre></td></tr></table></figure>
<h2 id="2-2-å¸è½½-openjdk-æ‰€æœ‰èŠ‚ç‚¹"><a href="#2-2-å¸è½½-openjdk-æ‰€æœ‰èŠ‚ç‚¹" class="headerlink" title="2.2 å¸è½½ openjdk (æ‰€æœ‰èŠ‚ç‚¹)"></a>2.2 å¸è½½ openjdk (æ‰€æœ‰èŠ‚ç‚¹)</h2><blockquote>
<p>æ³¨æ„ : å¦‚æœæ²¡æœ‰openjdk, åˆ™ä¸éœ€è¦å¸è½½ï¼Œé»˜è®¤ centos7 æ²¡æœ‰</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">[root@cdh-server7 deploy]# rpm -qa | grep java</span><br><span class="line">[root@cdh-server7 deploy]# rpm -qa | grep jdk</span><br><span class="line"></span><br><span class="line"># if exist java or jdk, uninstall, erase it.  example under this...</span><br><span class="line">[root@cdh-server7 deploy]# rpm -e --nodeps java-1.5.0-gcj-1.5.0.0-29.1.el6.x86_64</span><br><span class="line">[root@cdh-server7 deploy]# rpm -e --nodeps java-1.6.0-openjdk-1.6.0.0-1.66.1.13.0.el6.x86_64</span><br><span class="line">[root@cdh-server7 deploy]# rpm -e --nodeps java-1.7.0-openjdk-1.7.0.45-2.4.3.3.el6.x86_64</span><br></pre></td></tr></table></figure>
<h2 id="2-3-å¸è½½centOS7é»˜è®¤mysql"><a href="#2-3-å¸è½½centOS7é»˜è®¤mysql" class="headerlink" title="2.3 å¸è½½centOS7é»˜è®¤mysql"></a>2.3 å¸è½½centOS7é»˜è®¤mysql</h2><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">[root@cdh-server7 deploy]# rpm -qa | grep mariadb</span><br><span class="line">[root@cdh-server7 deploy]# rpm -e --nodeps mariadb-libs-5.5.41-2.el7_0.x86_64</span><br></pre></td></tr></table></figure>
<h2 id="2-4-cloudera-manager-repo"><a href="#2-4-cloudera-manager-repo" class="headerlink" title="2.4 cloudera-manager.repo"></a>2.4 cloudera-manager.repo</h2><blockquote>
<p>ä¸Šä¼ cloudera-manager.repo åˆ° cdh-agent1</p>
</blockquote>
<p>[root@cdh-agent1 cdh]# cp cloudera-manager.repo /etc/yum.repos.d/</p>
<p><strong>transparent_hugepage</strong></p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">echo never &gt; /sys/kernel/mm/transparent_hugepage/enabled</span><br><span class="line">echo never &gt; /sys/kernel/mm/transparent_hugepage/defrag</span><br></pre></td></tr></table></figure>
<p><strong>vi /etc/rc.local åœ¨æ–‡ä»¶å°¾æ”¾å…¥ å¦‚ä¸‹ä¸¤æ¡è¯­å¥</strong></p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">echo never &gt; /sys/kernel/mm/transparent_hugepage/enabled</span><br><span class="line">echo never &gt; /sys/kernel/mm/transparent_hugepage/defrag</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">chmod +x /etc/rc.local</span><br></pre></td></tr></table></figure>
<p><strong>è°ƒæ•´swappiness</strong></p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">echo 10 &gt; /proc/sys/vm/swappiness</span><br><span class="line"># vi /etc/sysctl.conf</span><br><span class="line">vm.swappiness = 10</span><br></pre></td></tr></table></figure>
<h2 id="2-5-cdh-cloudera-rpms"><a href="#2-5-cdh-cloudera-rpms" class="headerlink" title="2.5 ~/cdh/cloudera-rpms"></a>2.5 ~/cdh/cloudera-rpms</h2><blockquote>
<p>ä¸Šä¼ ä¸‹åˆ—rpmåŒ…åˆ°cdh-agent1çš„/home/deploy/cdh/cloudera-rpms</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">cloudera-manager-agent-5.7.0-1.cm560.p0.54.el7.x86_64.rpm</span><br><span class="line">cloudera-manager-daemons-5.7.0-1.cm560.p0.54.el7.x86_64.rpm</span><br><span class="line">enterprise-debuginfo-5.7.0-1.cm560.p0.54.el7.x86_64.rpm</span><br><span class="line">oracle-j2sdk1.7-1.7.0+update67-1.x86_64.rpm</span><br><span class="line"></span><br><span class="line">[root@cdh-agent1 init.d]# cd /home/deploy/cdh/cloudera-rpms/</span><br><span class="line">[root@cdh-agent1 init.d]# yum -y install *.rpm</span><br></pre></td></tr></table></figure>
<p><strong>è®¾ç½®JAVA_HOME</strong></p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">[root@cdh-server7 cdh]#vi /etc/profile</span><br><span class="line">export JAVA_HOME=/usr/java/jdk1.7.0_67-cloudera/</span><br><span class="line">export PATH=$JAVA_HOME/bin:$PATH</span><br><span class="line">[root@cdh-server7 cdh]#source /etc/profile</span><br></pre></td></tr></table></figure>
<p>å…³é—­é˜²ç«å¢™</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">[root@cdh-server7 deploy]#systemctl stop firewalld.service  #centos7,å…³é—­é˜²ç«å¢™</span><br></pre></td></tr></table></figure>
<p>ä»¥ä¸Šæ­¥éª¤æ‰§è¡Œå®Œæ¯•åï¼Œé‡å¯ä¸»æœº</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">reboot</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">[root@cdh-agent1 init.d]# vi /etc/cloudera-scm-agent/config.ini</span><br><span class="line"></span><br><span class="line">+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++</span><br><span class="line"># Hostname of the CM server.</span><br><span class="line">#server_host=localhost</span><br><span class="line">server_host=cdh-server7(node190)</span><br><span class="line">+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">[root@cdh-server7 cdh]# cd /etc/init.d/</span><br><span class="line">[root@cdh-server7 init.d]# ./cloudera-scm-agent start</span><br><span class="line">Starting cloudera-scm-agent:                               [  OK  ]</span><br><span class="line">[root@cdh-server deploy]# tail -f /var/log//cloudera-scm-agent/cloudera-scm-agent.log</span><br></pre></td></tr></table></figure>
<hr>
<p>æ³¨æ„ : </p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">å®‰è£…YARN NodeManagerå¤±è´¥æ—¶ï¼Œéœ€è¦åˆ é™¤ /yarn /var/lib/hadoop-yarn ç›®å½•å†é‡æ–°æ·»åŠ </span><br></pre></td></tr></table></figure>
<hr>
<p>CDHæœ€é è°±çš„å®‰è£…æŒ‡å— : <a href="http://www.jianshu.com/p/57179e03795f" target="_blank" rel="external">http://www.jianshu.com/p/57179e03795f</a></p>
<h1 id="Part-3-æ¢å¤å¯åŠ¨-Our-é›†ç¾¤"><a href="#Part-3-æ¢å¤å¯åŠ¨-Our-é›†ç¾¤" class="headerlink" title="Part 3 æ¢å¤å¯åŠ¨ Our é›†ç¾¤"></a>Part 3 æ¢å¤å¯åŠ¨ Our é›†ç¾¤</h1><h2 id="3-1-ç¡®å®š-firewalld-close"><a href="#3-1-ç¡®å®š-firewalld-close" class="headerlink" title="3.1 ç¡®å®š firewalld close"></a>3.1 ç¡®å®š firewalld close</h2><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">systemctl start firewalld.service#å¯åŠ¨firewall</span><br><span class="line">systemctl stop firewalld.service#åœæ­¢firewall</span><br><span class="line">systemctl disable firewalld.service#ç¦æ­¢firewallå¼€æœºå¯åŠ¨</span><br></pre></td></tr></table></figure>
<blockquote>
<p>æ³¨æ„ : æ“ä½œä¹‹å‰ç¡®å®š firewalld æ˜¯å…³é—­çš„</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">[root@node19x flag]$ vim /etc/rc.local (/etc/rc.local å¯¹åº”è²Œä¼¼ç›¸å¯¹dir /ect/init.d)</span><br><span class="line"></span><br><span class="line">  1 #!/bin/bash</span><br><span class="line">  2 # THIS FILE IS ADDED FOR COMPATIBILITY PURPOSES</span><br><span class="line">  3 #</span><br><span class="line">  4 # It is highly advisable to create own systemd services or udev rules</span><br><span class="line">  5 # to run scripts during boot instead of using this file.</span><br><span class="line">  6 #</span><br><span class="line">  7 # In contrast to previous versions due to parallel execution during boot</span><br><span class="line">  8 # this script will NOT be run after all other services.</span><br><span class="line">  9 #</span><br><span class="line"> 10 # Please note that you must run &apos;chmod +x /etc/rc.d/rc.local&apos; to ensure</span><br><span class="line"> 11 # that this script will be executed during boot.</span><br><span class="line"> 12</span><br><span class="line"> 13 touch /var/lock/subsys/local</span><br><span class="line"> 14 echo never &gt; /sys/kernel/mm/transparent_hugepage/enabled</span><br><span class="line"> 15 echo never &gt; /sys/kernel/mm/transparent_hugepage/defrag</span><br><span class="line"> 16 service ntpd start</span><br><span class="line"> 17 service elasticsearch start</span><br></pre></td></tr></table></figure>
<h2 id="3-2-å¯åŠ¨serverç«¯ã€cm"><a href="#3-2-å¯åŠ¨serverç«¯ã€cm" class="headerlink" title="3.2 å¯åŠ¨serverç«¯ã€cm"></a>3.2 å¯åŠ¨serverç«¯ã€cm</h2><p>only at server node</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">[root@cdh-server7 cdh]# cd /etc/init.d/</span><br><span class="line">[root@cdh-server7 init.d]# ./cloudera-scm-server-db start</span><br><span class="line"></span><br><span class="line">[root@cdh-server7 init.d]# ./cloudera-scm-server start</span><br><span class="line">Starting cloudera-scm-server:                              [  OK  ]</span><br><span class="line">[root@cdh-server7 init.d]# tail -f /var/log/cloudera-scm-server/cloudera-scm-server.log</span><br><span class="line"></span><br><span class="line">// ç­‰å¾…æ—¥å¿— 7180 å¯åŠ¨æˆåŠŸï¼Œ è®¿é—® : http://node190:7180/cmf/home</span><br></pre></td></tr></table></figure>
<blockquote>
<p>æ³¨æ„ :<br>æœºå™¨é‡å¯ä¹‹åï¼Œé»˜è®¤å¯åŠ¨ä¼šå¯¼è‡´å¼‚å¸¸<br>éœ€è¦æŒ‰ç…§è¯¥å…ˆå¯åŠ¨cloudera-scm-server-dbï¼Œå†å¯åŠ¨cloudera-scm-serverçš„é¡ºåºæ‰§è¡Œ</p>
</blockquote>
<p>ä¸€èˆ¬ä»¥ä¸‹ agent æ˜¯è‡ªåŠ¨å¯åŠ¨çš„</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">[root@node190 init.d]# ./cloudera-scm-agent start</span><br><span class="line">cloudera-scm-agent is already running</span><br><span class="line">node190:./cloudera-scm-agent start</span><br><span class="line">node19x:./cloudera-scm-agent start</span><br><span class="line">node19x:./cloudera-scm-agent start</span><br><span class="line">...</span><br></pre></td></tr></table></figure>
<h2 id="3-3-CMé¡µé¢ä¸Šå¯åŠ¨å„æœåŠ¡"><a href="#3-3-CMé¡µé¢ä¸Šå¯åŠ¨å„æœåŠ¡" class="headerlink" title="3.3 CMé¡µé¢ä¸Šå¯åŠ¨å„æœåŠ¡"></a>3.3 CMé¡µé¢ä¸Šå¯åŠ¨å„æœåŠ¡</h2><ol>
<li>CM é¡µé¢ä¸Šé‡å¯ service monitor</li>
<li>CM é¡µé¢ä¸Šé‡å¯ host monitor</li>
<li>CM é¡µé¢ä¸Šå¯åŠ¨å„é¡¹æœåŠ¡ (å¦‚ : ZK, Flume, YARN, HDFS, Hive, Sqoop, Spark etc..)</li>
</ol>
<hr>
<h2 id="3-4-å„ä¸ªèŠ‚ç‚¹å¯åŠ¨-ES"><a href="#3-4-å„ä¸ªèŠ‚ç‚¹å¯åŠ¨-ES" class="headerlink" title="3.4 å„ä¸ªèŠ‚ç‚¹å¯åŠ¨ ES"></a>3.4 å„ä¸ªèŠ‚ç‚¹å¯åŠ¨ ES</h2><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">[deploy@node190 init.d]# ll</span><br><span class="line">total 44</span><br><span class="line">-rwxr-xr-x  1 root root  8671 Apr  2 04:52 cloudera-scm-agent</span><br><span class="line">lrwxrwxrwx. 1 root root    58 Apr 18 16:55 elasticsearch -&gt; /home/deploy/elasticsearch-1.7.1/bin/service/elasticsearch</span><br><span class="line">-rw-r--r--. 1 root root 13948 Sep 16  2015 functions</span><br><span class="line">-rwxr-xr-x. 1 root root  2989 Sep 16  2015 netconsole</span><br><span class="line">-rwxr-xr-x. 1 root root  6630 Sep 16  2015 network</span><br><span class="line">-rw-r--r--. 1 root root  1160 Apr  1 00:45 README</span><br></pre></td></tr></table></figure>
<p><strong>deploy</strong></p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="built_in">cd</span> /home/deploy/elasticsearch-1.7.1/bin/service</span><br><span class="line">[deploy@node190 init.d]<span class="comment"># ./elasticsearch start</span></span><br><span class="line">[deploy@node19x init.d]<span class="comment"># ./elasticsearch start</span></span><br><span class="line">[deploy@node19x init.d]<span class="comment"># ./elasticsearch start</span></span><br><span class="line">...</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">http://node190:9200/_plugin/bigdesk/#cluster</span><br></pre></td></tr></table></figure>
<blockquote>
<p>ç­‰å¾…åŒæ­¥æ•°æ®å®Œæˆï¼Œä¸€èˆ¬ä¼šå¾ˆå¿«ï¼Œç­‰å¾… Status ä» RED å˜ä¸º green çŠ¶æ€</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">http://node190:9200/_plugin/head/</span><br></pre></td></tr></table></figure>
<h2 id="3-5-å¯åŠ¨-kibana"><a href="#3-5-å¯åŠ¨-kibana" class="headerlink" title="3.5 å¯åŠ¨ kibana"></a>3.5 å¯åŠ¨ kibana</h2><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">[deploy@node196 ~]#</span><br><span class="line">cd /home/deploy/kibana-4.1.1-linux-x64</span><br><span class="line">    ./bin/kibana &gt; kibana.log 2&gt;&amp;1 &amp;              --@deploy</span><br></pre></td></tr></table></figure>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[CentOS 7 install spark ipython nodebook]]></title>
      <url>http://iequa.com/2016/03/11/ops-centos7-ipython-nodebook-install/</url>
      <content type="html"><![CDATA[<ol>
<li>IPython notebook ç›®å‰å·²ç»æˆä¸ºç”¨ Python åšæ•™å­¦ã€è®¡ç®—ã€ç§‘ç ”çš„ä¸€ä¸ªé‡è¦å·¥å…·ã€‚</li>
<li>IPython Notebook ä½¿ç”¨æµè§ˆå™¨ä½œä¸ºç•Œé¢ï¼Œå‘åå°çš„ IPython æœåŠ¡å™¨å‘é€è¯·æ±‚ï¼Œå¹¶æ˜¾ç¤ºç»“æœã€‚</li>
<li>åœ¨æµè§ˆå™¨çš„ç•Œé¢ä¸­ä½¿ç”¨å•å…ƒ(Cell)ä¿å­˜å„ç§ä¿¡æ¯ã€‚Cell æœ‰å¤šç§ç±»å‹ï¼Œç»å¸¸ä½¿ç”¨çš„æœ‰è¡¨ç¤ºæ ¼å¼åŒ–æ–‡æœ¬çš„ Markdownå•å…ƒï¼Œå’Œè¡¨ç¤ºä»£ç çš„ Codeå•å…ƒã€‚</li>
</ol>
<hr>
<p>æœ¬æ–‡ä¸»è¦ä»‹ç»åœ¨ centos7 minimal ä¸Šå®‰è£… ipython-nodebook æµç¨‹</p>
<h2 id="1-install-ifconfig"><a href="#1-install-ifconfig" class="headerlink" title="1. install ifconfig"></a>1. install ifconfig</h2> <figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">yum search ifconfig</span><br><span class="line">yum install net-tools.x86_64</span><br></pre></td></tr></table></figure>
<h2 id="2-install-vim"><a href="#2-install-vim" class="headerlink" title="2. install vim"></a>2. install vim</h2> <figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">yum search vim</span><br><span class="line">yum install vim-enhanced</span><br></pre></td></tr></table></figure>
<h2 id="3-install-wget"><a href="#3-install-wget" class="headerlink" title="3. install wget"></a>3. install wget</h2> <figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"> [libin@centos-linux-1 x]$ yum search wget</span><br><span class="line">Loaded plugins: fastestmirror</span><br><span class="line">Loading mirror speeds from cached hostfile</span><br><span class="line"> * base: mirrors.skyshe.cn</span><br><span class="line"> * extras: mirrors.163.com</span><br><span class="line"> * updates: mirrors.163.com</span><br><span class="line">============================================================================================ N/S matched: wget =============================================================================================</span><br><span class="line">wget.x86_64 : A utility <span class="keyword">for</span> retrieving files using the HTTP or FTP protocols</span><br><span class="line"></span><br><span class="line">  Name and summary matches only, use <span class="string">"search all"</span> <span class="keyword">for</span> everything.</span><br><span class="line"> </span><br><span class="line"> [libin@centos-linux-1 x]$ yum install wget.x86_64</span><br></pre></td></tr></table></figure>
<h2 id="4-install-Jdk"><a href="#4-install-Jdk" class="headerlink" title="4. install Jdk"></a>4. install Jdk</h2><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># green install jdk-7u80-linux-x64.gz</span></span><br><span class="line"><span class="comment"># edit /etc/profile add</span></span><br><span class="line"><span class="comment">## libin add ##</span></span><br><span class="line"></span><br><span class="line"><span class="comment">### JAVA ###</span></span><br><span class="line">JAVA_HOME=/home/x/jdk</span><br><span class="line">JAVA_BIN=<span class="variable">$JAVA_HOME</span>/bin</span><br><span class="line">PATH=<span class="variable">$JAVA_HOME</span>/bin:<span class="variable">$PATH</span></span><br><span class="line">CLASSPATH=.:<span class="variable">$JAVA_HOME</span>/jre/lib/rt.jar:<span class="variable">$JAVA_HOME</span>/jre/lib/dt.jar:<span class="variable">$JAVA_HOME</span>/jre/lib/tools.jar</span><br><span class="line"><span class="built_in">export</span> JAVA_HOME JAVA_BIN PATH CLASSPATH</span><br><span class="line"><span class="string">"/etc/profile"</span> 86L, 2035C</span><br><span class="line"></span><br><span class="line"><span class="comment"># /etc/profileï¼šè¯¥æ–‡ä»¶æ˜¯ç”¨æˆ·ç™»å½•æ—¶ï¼Œæ“ä½œç³»ç»Ÿå®šåˆ¶ç”¨æˆ·ç¯å¢ƒæ—¶ä½¿ç”¨çš„ç¬¬ä¸€ä¸ªæ–‡ä»¶ï¼Œåº”ç”¨äºç™»å½•åˆ°ç³»ç»Ÿçš„æ¯ä¸€ä¸ªç”¨æˆ·ã€‚ å¯¹æ‰€æœ‰ç”¨æˆ·æœ‰æ•ˆ ##</span></span><br></pre></td></tr></table></figure>
<h2 id="5-install-Scala"><a href="#5-install-Scala" class="headerlink" title="5. install Scala"></a>5. install Scala</h2><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># green install scala-2.10.4.tgz</span></span><br><span class="line"><span class="comment"># edit /etc/profile add</span></span><br><span class="line"></span><br><span class="line"><span class="comment">### Scala ###</span></span><br><span class="line"><span class="comment">#export SCALA_HOME=/usr/local/xSoft/scala</span></span><br><span class="line"><span class="built_in">export</span> SCALA_HOME=/home/x/scala</span><br><span class="line"><span class="built_in">export</span> PATH=<span class="variable">$&#123;SCALA_HOME&#125;</span>/bin:<span class="variable">$PATH</span></span><br></pre></td></tr></table></figure>
<h2 id="6-install-Spark-Standalone"><a href="#6-install-Spark-Standalone" class="headerlink" title="6. install Spark (Standalone)"></a>6. install Spark (Standalone)</h2><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">green install spark-1.5.2-bin-hadoop2.6.tgz</span><br><span class="line">cp conf/spark-env.sh.template conf/spark-env.sh</span><br></pre></td></tr></table></figure>
<p>edit conf/spark-env.sh add</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="built_in">export</span> JAVA_HOME=/home/x/jdk</span><br><span class="line"><span class="built_in">export</span> SCALA_HOME=/home/x/scala</span><br><span class="line"><span class="built_in">export</span> SPARK_HOME=/home/x/spark</span><br><span class="line"><span class="built_in">export</span> SPARK_MASTER_IP=192.168.181.113</span><br><span class="line"><span class="built_in">export</span> MASTER=spark://192.168.181.113:7077</span><br><span class="line"></span><br><span class="line"><span class="built_in">export</span> SPARK_EXECUTOR_INSTANCES=2</span><br><span class="line"><span class="built_in">export</span> SPARK_EXECUTOR_CORES=1</span><br><span class="line"></span><br><span class="line"><span class="built_in">export</span> SPARK_WORKER_MEMORY=1000m</span><br><span class="line"><span class="built_in">export</span> SPARK_EXECUTOR_MEMORY=300m</span><br><span class="line"></span><br><span class="line"><span class="built_in">export</span> SPARK_LIBRARY_PATH=<span class="variable">$&#123;SPARK_HOME&#125;</span>/lib</span><br><span class="line"></span><br><span class="line"><span class="comment">#export SPARK_LAUNCH_WITH_SCALA=0</span></span><br><span class="line"><span class="comment">#export SCALA_LIBRARY_PATH=$&#123;SPARK_HOME&#125;/lib</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">#export SPARK_LIBRARY_PATH=/home/deploy/spark/spark-1.5.2-bin-hadoop2.6/lib</span></span><br></pre></td></tr></table></figure>
<h2 id="7-install-ipython-nodebook"><a href="#7-install-ipython-nodebook" class="headerlink" title="7. install ipython-nodebook"></a>7. install ipython-nodebook</h2><p>opensshã€zlib<br><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">yum -y install openssh-clients</span><br><span class="line">yum install zlib</span><br></pre></td></tr></table></figure></p>
<p>setuptoolsã€pip</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">tar xvf setuptools-18.1.tar.gz</span><br><span class="line"><span class="built_in">cd</span> setuptools-18.1</span><br><span class="line">sudo python setup.py build</span><br><span class="line">sudo python setup.py install</span><br><span class="line"></span><br><span class="line">tar xvf pip-8.1.0.tar.gz</span><br><span class="line"><span class="built_in">cd</span> pip-8.1.0</span><br><span class="line">sudo python setup.py build</span><br><span class="line">sudo python setup.py install</span><br></pre></td></tr></table></figure>
<p>ipythonã€matplotlib</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">sudo pip install ipython</span><br><span class="line">sudo pip install matplotlib</span><br></pre></td></tr></table></figure>
<blockquote>
<p>mymac : sudo pip install â€“upgrade ipython â€“ignore-installed six</p>
</blockquote>
<p>python-devã€g++</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">sudo yum install python-devel ï¼ˆå¦‚æœæ²¡æœ‰å®‰è£… python æºä»£ç ï¼Œä¼šæŠ¥æ‰¾ä¸åˆ° Python.h çš„å¤´æ–‡ä»¶é”™è¯¯ï¼‰</span><br><span class="line">sudo yum install gcc-c++</span><br></pre></td></tr></table></figure>
<p><strong>install python-notebook</strong></p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># å‰é¢installçš„å„ç§pyç›¸å…³, ä¸ºä¸ªè¿™ä¸€æ­¥</span></span><br><span class="line"></span><br><span class="line">sudo pip install notebook</span><br></pre></td></tr></table></figure>
<h2 id="8-start-up-notebook"><a href="#8-start-up-notebook" class="headerlink" title="8. start-up notebook"></a>8. start-up notebook</h2><p><strong>startup ipython notebook</strong></p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="built_in">cd</span> your_dir</span><br><span class="line">ipython notebook</span><br></pre></td></tr></table></figure>
<p><strong>startup ipython spark notebook</strong></p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">PYSPARK_DRIVER_PYTHON=ipython PYSPARK_DRIVER_PYTHON_OPTS=<span class="string">"notebook --ip=192.168.181.113"</span> /home/x/spark/bin/pyspark</span><br></pre></td></tr></table></figure>
<p>æµè§ˆå™¨è®¿é—® <a href="http://192.168.181.113:8888/notebooks" target="_blank" rel="external">http://192.168.181.113:8888/notebooks</a></p>
<p><img src="/images/ops/ops-ipython-01.png" alt="ipython"></p>
<h2 id="9-spark-notebook-example1"><a href="#9-spark-notebook-example1" class="headerlink" title="9. spark-notebook example1"></a>9. spark-notebook example1</h2><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">%pylab inline</span><br><span class="line">%matplotlib inline</span><br><span class="line">import numpy as np</span><br><span class="line">import matplotlib.pyplot as plt</span><br><span class="line"></span><br><span class="line">data =[33,25,20,12,10]</span><br><span class="line">plt.figure(num=1, figsize=(6,6))</span><br><span class="line">plt.axes(aspect=1)</span><br><span class="line">plt.title(<span class="string">'Plot 3'</span>, size=14)</span><br><span class="line">plt.pie(data, labels=(<span class="string">'Group 1'</span>,<span class="string">'Group 2'</span>,<span class="string">'Group 3'</span>,<span class="string">'Group 4'</span>,<span class="string">'Group 5'</span>))</span><br><span class="line">plt.savefig(<span class="string">'/home/x/spark/test_libin/plot3.png'</span>, format=<span class="string">'png'</span>)</span><br></pre></td></tr></table></figure>
<p><img src="/images/ops/ops-ipython-02.png" alt="ipython"></p>
<h2 id="maybe-attention-point"><a href="#maybe-attention-point" class="headerlink" title="maybe attention point"></a>maybe attention point</h2><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">python -V</span><br><span class="line"></span><br><span class="line"><span class="comment">#è‹¥ç³»ç»Ÿé»˜è®¤æ˜¯python2.6ï¼Œéœ€è¦å‡çº§åˆ°2.7</span></span><br><span class="line">tar xvf Python-2.7.tgz</span><br><span class="line">./configure --with-zlib=/usr/include --prefix=/usr/<span class="built_in">local</span>/python27 --prefix=/usr/<span class="built_in">local</span>/python27</span><br><span class="line"></span><br><span class="line">make</span><br><span class="line">make install</span><br><span class="line">mv /usr/bin/python /usr/bin/python_old</span><br><span class="line">ln <span class="_">-s</span> /usr/<span class="built_in">local</span>/python27/bin/python /usr/bin/</span><br><span class="line">python</span><br><span class="line">æ­¤å¤„å·²ç»å¯ä»¥æ­£å¸¸ä½¿ç”¨python2.7äº†</span><br><span class="line">ä½†æ˜¯å› ä¸ºyumæ˜¯ä½¿ç”¨çš„2.6çš„ç‰ˆæœ¬æ¥ç”¨çš„ï¼Œæ‰€ä»¥ è¿˜éœ€è¦ä¿®æ”¹ä¸€ä¸‹</span><br><span class="line">[root@wangyuelou Python-2.7.2]<span class="comment"># vim /usr/bin/yum</span></span><br><span class="line"><span class="comment">#!/usr/bin/python   #ä¿®æ”¹æ­¤å¤„ä¸º2.6çš„ä½ç½®</span></span><br></pre></td></tr></table></figure>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[Sqoop introduce]]></title>
      <url>http://iequa.com/2016/02/16/hadoop-sqoop-learn-use01/</url>
      <content type="html"><![CDATA[<h2 id="1-Sqoop-what"><a href="#1-Sqoop-what" class="headerlink" title="1. Sqoop what ?"></a>1. Sqoop what ?</h2><p>sqoop å³ SQL to Hadoop ï¼Œæ˜¯ä¸€æ¬¾æ–¹ä¾¿çš„åœ¨ä¼ ç»Ÿå…³ç³»æ•°æ®åº“ä¸ Hadoop ä¹‹é—´è¿›è¡Œæ•°æ®è¿ç§»çš„å·¥å…·ï¼Œå……åˆ†åˆ©ç”¨ MapReduce å¹¶è¡Œç‰¹ç‚¹ä»¥æ‰¹å¤„ç†çš„æ–¹å¼åŠ å¿«æ•°æ®ä¼ è¾“ï¼Œå‘å±•è‡³ä»Šä¸»è¦æ¼”åŒ–äº†äºŒå¤§ç‰ˆæœ¬ï¼Œsqoop1å’Œsqoop2ã€‚ </p>
<p>sqoop : clouder å…¬å¸å¼€å‘</p>
<p><strong>ç”Ÿäº§èƒŒæ™¯</strong></p>
<ol>
<li>mysql  å¯¼å…¥ Hadoop </li>
<li>Hadoop å¯¼å…¥ mysql</li>
</ol>
<p>æ³¨ : ä»¥ä¸Š Hadoop æŒ‡ Hiveã€HBaseã€HDFS ç­‰</p>
<h2 id="2-Sqoop-ç‰¹ç‚¹"><a href="#2-Sqoop-ç‰¹ç‚¹" class="headerlink" title="2. Sqoop ç‰¹ç‚¹"></a>2. Sqoop ç‰¹ç‚¹</h2><p>sqoopæ¶æ„éå¸¸ç®€å•ï¼Œå…¶æ•´åˆäº†Hiveã€Hbaseå’ŒOozieï¼Œé€šè¿‡map-reduceä»»åŠ¡æ¥ä¼ è¾“æ•°æ®ï¼Œä»è€Œæä¾›å¹¶å‘ç‰¹æ€§å’Œå®¹é”™ã€‚</p>
<p>   Sqoop ç”±ä¸¤éƒ¨åˆ†ç»„æˆï¼šå®¢æˆ·ç«¯(client)å’ŒæœåŠ¡ç«¯(server)ã€‚éœ€è¦åœ¨é›†ç¾¤çš„å…¶ä¸­æŸä¸ªèŠ‚ç‚¹ä¸Šå®‰è£…serverï¼Œè¯¥èŠ‚ç‚¹çš„æœåŠ¡ç«¯å¯ä»¥ä½œä¸ºå…¶ä»– Sqoop å®¢æˆ·ç«¯çš„å…¥å£ç‚¹ã€‚</p>
<p>   åœ¨ server ç«¯çš„èŠ‚ç‚¹ä¸Šå¿…é¡»å®‰è£…æœ‰ Hadoopã€‚client å¯ä»¥å®‰è£…åœ¨ä»»æ„æ•°é‡çš„æœºå­ä¸Šã€‚åœ¨è£…æœ‰å®¢æˆ·ç«¯çš„æœºå­ä¸Šä¸éœ€è¦å®‰è£… Hadoopã€‚</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">sqoop å®˜ç½‘ : https://sqoop.apache.org</span><br><span class="line"></span><br><span class="line">1.4.5å®˜æ–¹æ–‡æ¡£ : https://sqoop.apache.org/docs/1.4.5/</span><br><span class="line"></span><br><span class="line">sqoop2ä¸æ¨èçš„åŸå›  : http://blog.csdn.net/robbyo/article/details/50737356</span><br></pre></td></tr></table></figure>
<h2 id="3-Sqoop-ä¼˜ç¼ºç‚¹"><a href="#3-Sqoop-ä¼˜ç¼ºç‚¹" class="headerlink" title="3. Sqoop ä¼˜ç¼ºç‚¹"></a>3. Sqoop ä¼˜ç¼ºç‚¹</h2><p><strong>ä¼˜ç‚¹</strong></p>
<ol>
<li>é«˜æ•ˆå¯æ§çš„åˆ©ç”¨èµ„æºï¼Œä»»åŠ¡å¹¶è¡Œåº¦ï¼Œè¶…æ—¶æ—¶é—´ã€‚</li>
<li>æ•°æ®ç±»å‹æ˜ å°„ä¸è½¬åŒ–ï¼Œå¯è‡ªåŠ¨è¿›è¡Œï¼Œç”¨æˆ·ä¹Ÿå¯è‡ªå®šä¹‰ .</li>
<li>æ”¯æŒå¤šç§ä¸»æµæ•°æ®åº“ï¼ŒMySQL,Oracleï¼ŒSQL Serverï¼ŒDB2ç­‰ç­‰ ã€‚</li>
</ol>
<p><strong>ç¼ºç‚¹</strong></p>
<ol>
<li>åŸºäºå‘½ä»¤è¡Œçš„æ“ä½œæ–¹å¼ï¼Œæ˜“å‡ºé”™ï¼Œä¸”ä¸å®‰å…¨ã€‚</li>
<li>æ•°æ®ä¼ è¾“å’Œæ•°æ®æ ¼å¼æ˜¯ç´§è€¦åˆçš„ï¼Œè¿™ä½¿å¾—connectoræ— æ³•æ”¯æŒæ‰€æœ‰çš„æ•°æ®æ ¼å¼</li>
<li>ç”¨æˆ·åå’Œå¯†ç æš´æ¼å‡ºæ¥</li>
</ol>
<h2 id="4-Sqoop-åŸç†"><a href="#4-Sqoop-åŸç†" class="headerlink" title="4. Sqoop åŸç†"></a>4. Sqoop åŸç†</h2><h3 id="4-1-Sqoopçš„importåŸç†"><a href="#4-1-Sqoopçš„importåŸç†" class="headerlink" title="4.1 Sqoopçš„importåŸç†"></a>4.1 Sqoopçš„importåŸç†</h3><p>Sqoop åœ¨ import æ—¶ï¼Œéœ€è¦åˆ¶å®š split-by å‚æ•°ã€‚</p>
<p>Sqoop æ ¹æ®ä¸åŒçš„ split-byå‚æ•°å€¼ æ¥è¿›è¡Œåˆ‡åˆ†, ç„¶åå°†åˆ‡åˆ†å‡ºæ¥çš„åŒºåŸŸåˆ†é…åˆ°ä¸åŒ map ä¸­ã€‚æ¯ä¸ªmapä¸­å†å¤„ç†æ•°æ®åº“ä¸­è·å–çš„ä¸€è¡Œä¸€è¡Œçš„å€¼ï¼Œå†™å…¥åˆ° HDFS ä¸­ã€‚åŒæ—¶split-by æ ¹æ®ä¸åŒçš„å‚æ•°ç±»å‹æœ‰ä¸åŒçš„åˆ‡åˆ†æ–¹æ³•ï¼Œå¦‚æ¯”è¾ƒç®€å•çš„intå‹ï¼ŒSqoopä¼šå–æœ€å¤§å’Œæœ€å°split-byå­—æ®µå€¼ï¼Œç„¶åæ ¹æ®ä¼ å…¥çš„ num-mappersæ¥ç¡®å®šåˆ’åˆ†å‡ ä¸ªåŒºåŸŸã€‚ </p>
<p>æ¯”å¦‚ select max(split_by),min(split-by) from å¾—åˆ°çš„ max(split-by)å’Œ min(split-by) åˆ†åˆ«ä¸º 1000 å’Œ 1, è€Œ num-mappers ä¸º 2 çš„è¯ï¼Œåˆ™ä¼šåˆ†æˆä¸¤ä¸ªåŒºåŸŸ (1,500) å’Œ (501-100), åŒæ—¶ä¹Ÿä¼šåˆ†æˆ 2ä¸ªsql ç»™ 2ä¸ªmap å»è¿›è¡Œå¯¼å…¥æ“ä½œï¼Œåˆ†åˆ«ä¸º select XXX from table where split-by&gt;=1 and split-by<500 å’Œ="" select="" xxx="" from="" table="" where="" split-by="">=501 and split-by&lt;=1000ã€‚æœ€åæ¯ä¸ªmapå„è‡ªè·å–å„è‡ªSQLä¸­çš„æ•°æ®è¿›è¡Œå¯¼å…¥å·¥ä½œã€‚</500></p>
<h3 id="4-2-Sqoopçš„exportåŸç†"><a href="#4-2-Sqoopçš„exportåŸç†" class="headerlink" title="4.2. Sqoopçš„exportåŸç†"></a>4.2. Sqoopçš„exportåŸç†</h3><p>æ ¹æ® mysql è¡¨åç§°ï¼Œç”Ÿæˆä¸€ä¸ªä»¥è¡¨åç§°å‘½åçš„ Javaç±»ï¼Œè¯¥ç±»ç»§æ‰¿äº† sqoopRecordçš„ï¼Œæ˜¯ä¸€ä¸ªåªæœ‰ Map çš„ MRï¼Œä¸”è‡ªå®šä¹‰äº†è¾“å‡ºå­—æ®µã€‚</p>
<p>sqoop export â€“connect jdbc:mysql://$url:3306/$3?characterEncoding=utf8 â€“username $username â€“password $password â€“table $1 â€“export-dir $2 â€“input-fields-terminated-by â€˜|â€™ â€“null-non-string â€˜0â€™ â€“null-string â€˜0â€™;</p>
<h2 id="5-Sqoop-ä½¿ç”¨å®ä¾‹"><a href="#5-Sqoop-ä½¿ç”¨å®ä¾‹" class="headerlink" title="5. Sqoop ä½¿ç”¨å®ä¾‹"></a>5. Sqoop ä½¿ç”¨å®ä¾‹</h2><p><strong>ç¯å¢ƒ</strong></p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">sqoop: sqoop-1.4.5+cdh5.3.6+78</span><br><span class="line">hive : hive-0.13.1+cdh5.3.6+397</span><br><span class="line">hbase: hbase-0.98.6+cdh5.3.6+115</span><br></pre></td></tr></table></figure>
<h3 id="5-1-Mysql-to-Hadoop"><a href="#5-1-Mysql-to-Hadoop" class="headerlink" title="5.1. Mysql to Hadoop"></a>5.1. Mysql to Hadoop</h3><ul>
<li>Mysql to Hdfs</li>
</ul>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">sqoop import \</span><br><span class="line">  --connect $&#123;jdbc_url&#125; --username $&#123;jdbc_username&#125; --password  $&#123;jdbc_passwd&#125; \</span><br><span class="line">  --query &quot;$&#123;exec_sql&#125;&quot; \</span><br><span class="line">  --split-by $&#123;id&#125; -m 10 \</span><br><span class="line">  --target-dir $&#123;target_dir&#125; \</span><br><span class="line">  --fields-terminated-by &quot;\001&quot; --lines-terminated-by &quot;\n&quot; \</span><br><span class="line">  --hive-drop-import-delims \</span><br><span class="line">  --null-string &apos;\\N&apos; --null-non-string &apos;\\N&apos;</span><br></pre></td></tr></table></figure>
<ul>
<li>Mysql To Hive</li>
</ul>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">sqoop import \</span><br><span class="line">  --connect $&#123;jdbc_url&#125; \</span><br><span class="line">  --username $&#123;jdbc_username&#125; --password  $&#123;jdbc_passwd&#125; \</span><br><span class="line">  --table $&#123;jdbc_table&#125; --fields-terminated-by &quot;\001&quot; --lines-terminated-by &quot;\n&quot; \</span><br><span class="line">  --hive-import --hive-overwrite --hive-table $&#123;hive_table&#125; \</span><br><span class="line">  --null-string &apos;\\N&apos; --null-non-string &apos;\\N&apos;</span><br></pre></td></tr></table></figure>
<ul>
<li>Mysql To HBase</li>
</ul>
<h3 id="5-2-Hadoop-to-Mysql"><a href="#5-2-Hadoop-to-Mysql" class="headerlink" title="5.2 Hadoop to Mysql"></a>5.2 Hadoop to Mysql</h3><ul>
<li>Hdfs To Mysql</li>
</ul>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">sqoop <span class="built_in">export</span> -D sqoop.export.records.per.statement=10 \</span><br><span class="line">--connect jdbc:mysql://192.168.***.**:3306/***?autoReconnect=<span class="literal">true</span> </span><br><span class="line">--username *** </span><br><span class="line">--password *** </span><br><span class="line">--table mds_dm_rs_shop_result \</span><br><span class="line">--fields-terminated-by <span class="string">'\t'</span> </span><br><span class="line">--export-dir <span class="string">"/dc_ext/xbd/dm/mds/mds_dm_rs_shop_result/dt=20170410"</span> </span><br><span class="line">--null-string <span class="string">'\\N'</span> </span><br><span class="line">--null-non-string <span class="string">'\\N'</span>;</span><br></pre></td></tr></table></figure>
<p><strong>refence article</strong></p>
<p><a href="http://www.zihou.me/html/2014/01/28/9114.html" target="_blank" rel="external">Sqoopä¸­æ–‡æ–‡æ¡£</a><br><a href="http://www.aboutyun.com/thread-12684-1-1.html" target="_blank" rel="external">Hive to Mysql å¸¸é‡ä¹å¤§é—®é¢˜æ€»ç»“</a> </p>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[Hive Introduce 1]]></title>
      <url>http://iequa.com/2016/02/15/hadoop-hive-brief/</url>
      <content type="html"><![CDATA[<p><strong>focus on :</strong></p>
<ol>
<li>åˆæ­¥äº†è§£ Hadoop ç”Ÿæ€åœˆ</li>
<li>åˆæ­¥äº†è§£ Hive æ¶æ„å›¾</li>
</ol>
<h2 id="1-Hive-Introduce"><a href="#1-Hive-Introduce" class="headerlink" title="1. Hive Introduce"></a>1. Hive Introduce</h2><h3 id="1-1-Hive-Preface"><a href="#1-1-Hive-Preface" class="headerlink" title="1.1 Hive Preface"></a>1.1 Hive Preface</h3><p><strong>Hadoop</strong></p>
<ol>
<li>Hadoop ç”Ÿæ€ç³»ç»Ÿ æ˜¯ å¤„ç†å¤§æ•°æ®é›†è€Œäº§ç”Ÿçš„è§£å†³æ–¹æ¡ˆã€‚</li>
<li>Hadoop å®ç°è®¡ç®—æ¨¡å‹ MapReduce, å¯å°†è®¡ç®—ä»»åŠ¡åˆ†å‰²æˆå¤šä¸ªå¤„ç†å•å…ƒï¼Œè¿™ä¸ªè®¡ç®—æ¨¡å‹ä¸‹é¢æ˜¯ä¸€ä¸ª HDFSã€‚</li>
</ol>
<p><strong>Hive</strong></p>
<ol>
<li>Hive æä¾›äº†ä¸€ä¸ª HiveæŸ¥è¯¢è¯­è¨€ HiveQL, æŸ¥è¯¢è½¬æ¢ä¸º MapReduce job</li>
<li>Hive é€‚åˆåšæ•°æ®ä»“åº“ï¼Œå¯ç¦»çº¿ç»´æŠ¤æµ·é‡æ•°æ®ï¼Œå¯å¯¹æ•°æ®è¿›è¡ŒæŒ–æ˜, å½¢æˆæŠ¥å‘Šç­‰</li>
<li>Hadoopã€HDFS è®¾è®¡æœ¬èº«é™åˆ¶äº† Hive æ‰€èƒ½èƒœä»»çš„å·¥ä½œ, Hive ä¸æ”¯æŒè®°å½•çº§åˆ«çš„æ›´æ–°ã€æ’å…¥ æˆ–è€… åˆ é™¤ æ“ä½œã€‚</li>
</ol>
<p><strong>Hive è¿è¡Œæ¶æ„</strong></p>
<ol>
<li>ä½¿ç”¨ HQL ä½œä¸ºæŸ¥è¯¢æ¥å£ï¼›</li>
<li>ä½¿ç”¨ MapReduce ä½œä¸ºæ‰§è¡Œå±‚ï¼›</li>
<li>ä½¿ç”¨ HDFS ä½œä¸ºå­˜å‚¨å±‚ï¼›</li>
</ol>
<h3 id="1-2-Hadoop-Mapreduce"><a href="#1-2-Hadoop-Mapreduce" class="headerlink" title="1.2 Hadoop / Mapreduce"></a>1.2 Hadoop / Mapreduce</h3><p><code>Input -&gt; Mappers -&gt; Sort,Shuffle -&gt; Reducers -&gt; Output</code></p>
<h3 id="1-3-Hive-ç³»ç»Ÿæ¶æ„"><a href="#1-3-Hive-ç³»ç»Ÿæ¶æ„" class="headerlink" title="1.3 Hive ç³»ç»Ÿæ¶æ„"></a>1.3 Hive ç³»ç»Ÿæ¶æ„</h3><p><img src="/images/hadoop/hive-02.png" alt="Hive ç³»ç»Ÿæ¶æ„"></p>
<h2 id="2-Hive-æ¶æ„ç»„ä»¶åˆ†æ"><a href="#2-Hive-æ¶æ„ç»„ä»¶åˆ†æ" class="headerlink" title="2. Hive æ¶æ„ç»„ä»¶åˆ†æ"></a>2. Hive æ¶æ„ç»„ä»¶åˆ†æ</h2><p><strong>æœ¬ç« é‡ç‚¹ :</strong></p>
<ol>
<li>åˆæ­¥äº†è§£ Hive çš„å·¥ä½œæµ</li>
<li>åˆæ­¥äº†è§£ hive çš„å·¥ä½œç»„ä»¶</li>
</ol>
<h3 id="2-1-å…ƒæ•°æ®å­˜å‚¨Metastore"><a href="#2-1-å…ƒæ•°æ®å­˜å‚¨Metastore" class="headerlink" title="2.1 å…ƒæ•°æ®å­˜å‚¨Metastore"></a>2.1 å…ƒæ•°æ®å­˜å‚¨Metastore</h3><ul>
<li><p>Hiveçš„æ•°æ®ç”±ä¸¤éƒ¨åˆ†ç»„æˆï¼šæ•°æ®æ–‡ä»¶ å’Œ å…ƒæ•°æ®</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">å…ƒæ•°æ®å­˜å‚¨ï¼ŒDerbyåªèƒ½ç”¨äºä¸€ä¸ªHiveè¿æ¥ï¼Œä¸€èˆ¬å­˜å‚¨åœ¨MySQLã€‚</span><br><span class="line"></span><br><span class="line">å…ƒæ•°æ®åŒ…æ‹¬è¡¨çš„åå­—ï¼Œè¡¨çš„åˆ—å’Œåˆ†åŒºåŠå…¶å±æ€§ï¼Œè¡¨çš„å±æ€§ï¼ˆæ˜¯å¦ä¸ºå¤–éƒ¨è¡¨ç­‰ï¼‰ï¼Œè¡¨çš„æ•°æ®æ‰€åœ¨ç›®å½•ç­‰ã€‚</span><br></pre></td></tr></table></figure>
</li>
</ul>
<h3 id="2-2-é©±åŠ¨-Driver"><a href="#2-2-é©±åŠ¨-Driver" class="headerlink" title="2.2 é©±åŠ¨ (Driver)"></a>2.2 é©±åŠ¨ (Driver)</h3><ul>
<li>ç¼–è¯‘å™¨</li>
<li>ä¼˜åŒ–å™¨</li>
<li>æ‰§è¡Œå™¨</li>
</ul>
<p>ç”¨æˆ·é€šè¿‡ä¸‹é¢çš„æ¥å£æäº¤Hiveç»™Driverï¼Œç”±Driverè¿›è¡ŒHQLè¯­å¥è§£æï¼Œæ­¤æ—¶ä»Metastoreä¸­è·å–è¡¨çš„ä¿¡æ¯ï¼Œå…ˆç”Ÿæˆé€»è¾‘è®¡åˆ’ï¼Œå†ç”Ÿæˆç‰©ç†è®¡åˆ’ï¼Œå†ç”±Executorç”ŸæˆJobäº¤ç»™Hadoopè¿è¡Œï¼Œç„¶åç”±Driverå°†ç»“æœè¿”å›ç»™ç”¨æˆ·ã€‚</p>
<p>ç¼–è¯‘å™¨ï¼ˆHiveçš„æ ¸å¿ƒï¼‰ï¼š1ï¼Œè¯­ä¹‰è§£æå™¨ï¼ˆParseDriverï¼‰ï¼Œå°†æŸ¥è¯¢å­—ç¬¦ä¸²è½¬æ¢æˆè§£ææ ‘è¡¨è¾¾å¼ï¼›2ï¼Œè¯­æ³•è§£æå™¨ï¼ˆSemanticAnalyzerï¼‰ï¼Œå°†è§£ææ ‘è½¬æ¢æˆåŸºäºè¯­å¥å—çš„å†…éƒ¨æŸ¥è¯¢è¡¨è¾¾å¼ï¼›3ï¼Œé€»è¾‘è®¡åˆ’ç”Ÿæˆå™¨ï¼ˆLogical Plan Generatorï¼‰ï¼Œå°†å†…éƒ¨æŸ¥è¯¢è¡¨è¾¾å¼è½¬æ¢ä¸ºé€»è¾‘è®¡åˆ’ï¼Œè¿™äº›è®¡åˆ’ç”±é€»è¾‘æ“ä½œæ ‘ç»„æˆï¼Œæ“ä½œç¬¦æ˜¯Hiveçš„æœ€å°å¤„ç†å•å…ƒï¼Œæ¯ä¸ªæ“ä½œç¬¦å¤„ç†ä»£è¡¨ä¸€é“HDFSæ“ä½œæˆ–è€…æ˜¯MRä½œä¸šï¼›4ï¼ŒæŸ¥è¯¢è®¡åˆ’ç”Ÿæˆå™¨ï¼ˆQueryPlan Generatorï¼‰ï¼Œå°†é€»è¾‘è®¡åˆ’è½¬åŒ–æˆç‰©ç†è®¡åˆ’ï¼ˆMR Jobï¼‰ã€‚</p>
<p>ä¼˜åŒ–å™¨ï¼šä¼˜åŒ–å™¨æ˜¯ä¸€ä¸ªæ¼”åŒ–ç»„ä»¶ï¼Œå½“å‰å®ƒçš„è§„åˆ™æ˜¯ï¼šåˆ—ä¿®å‰ªï¼Œè°“è¯ä¸‹å‹ã€‚</p>
<p>æ‰§è¡Œå™¨ï¼šç¼–è¯‘å™¨å°†æ“ä½œæ ‘åˆ‡åˆ†æˆä¸€ä¸ªJobé“¾ï¼ˆDAGï¼‰ï¼Œæ‰§è¡Œå™¨ä¼šé¡ºåºæ‰§è¡Œå…¶ä¸­æ‰€æœ‰çš„Jobï¼›å¦‚æœTaské“¾ä¸å­˜åœ¨ä¾èµ–å…³ç³»ï¼Œå¯ä»¥é‡‡ç”¨å¹¶å‘æ‰§è¡Œçš„æ–¹å¼è¿›è¡ŒJobçš„æ‰§è¡Œã€‚</p>
<h3 id="2-3-æ¥å£"><a href="#2-3-æ¥å£" class="headerlink" title="2.3 æ¥å£"></a>2.3 æ¥å£</h3><p><strong>CLIã€HWIã€ThriftServer</strong></p>
<ol>
<li><p>CLIï¼šä¸ºå‘½ä»¤è¡Œå·¥å…·ï¼Œé»˜è®¤æœåŠ¡ã€‚bin/hiveæˆ–bin/hiveâ€“service cliï¼›</p>
</li>
<li><p>HWIï¼šä¸ºWebæ¥å£ï¼Œå¯ä»¥ç”¨è¿‡æµè§ˆå™¨è®¿é—®Hiveï¼Œé»˜è®¤ç«¯å£9999ï¼Œå¯åŠ¨æ–¹å¼ä¸ºbin/hive â€“service hwi;</p>
</li>
<li><p>ThriftServerï¼šé€šè¿‡Thriftå¯¹å¤–æä¾›æœåŠ¡ï¼Œé»˜è®¤ç«¯å£æ˜¯10000ï¼Œå¯åŠ¨æ–¹å¼ä¸ºbin/hive â€“service hiveserver;</p>
</li>
</ol>
<p><strong> è¿æ¥hive-metastore(å¦‚mysql)çš„ä¸‰ç§æ–¹å¼ </strong></p>
<ol>
<li>å•ç”¨æˆ·æ¨¡å¼ã€‚æ­¤æ¨¡å¼è¿åˆ°æ•°æ®åº“Derbyï¼Œä¸€èˆ¬ç”¨äºUnit Testã€‚<br><img src="/images/hadoop/hive-longdis-model.jpeg" alt="å•ç”¨æˆ·æ¨¡å¼"></li>
<li>å¤šç”¨æˆ·æ¨¡å¼ã€‚é€šè¿‡ç½‘ç»œè¿æ¥åˆ°ä¸€ä¸ªæ•°æ®åº“ä¸­ï¼Œæ˜¯æœ€ç»å¸¸ä½¿ç”¨åˆ°çš„æ¨¡å¼ã€‚<br><img src="/images/hadoop/hive-more-user-model.jpeg" alt="å¤šç”¨æˆ·æ¨¡å¼"></li>
<li>è¿œç¨‹æœåŠ¡å™¨æ¨¡å¼ã€‚ç”¨äºéJavaå®¢æˆ·ç«¯è®¿é—®å…ƒæ•°æ®åº“ï¼Œåœ¨æœåŠ¡å™¨ç«¯å¯åŠ¨MetaStoreServerï¼Œå®¢æˆ·ç«¯åˆ©ç”¨Thriftåè®®é€šè¿‡MetaStoreServerè®¿é—®å…ƒæ•°æ®åº“ã€‚<br><img src="/images/hadoop/hive-longdis-model.jpeg" alt="è¿œç¨‹æœåŠ¡å™¨æ¨¡å¼"></li>
</ol>
<h3 id="2-4-å…¶ä»–æœåŠ¡"><a href="#2-4-å…¶ä»–æœåŠ¡" class="headerlink" title="2.4 å…¶ä»–æœåŠ¡"></a>2.4 å…¶ä»–æœåŠ¡</h3><p><strong>bin/hive â€“service -help</strong></p>
<ol>
<li><p>metastore   (bin/hive â€“service metastore)</p>
</li>
<li><p>hiveserver2ï¼ˆbin/hive â€“service hiveserver2ï¼‰</p>
</li>
</ol>
<p><strong>HiveServer2</strong></p>
<ol>
<li><p>HiveServer2æ˜¯HieServeræ”¹è¿›ç‰ˆæœ¬ï¼Œå®ƒæä¾›ç»™æ–°çš„ThriftAPIæ¥å¤„ç†JDBCæˆ–è€…ODBCå®¢æˆ·ç«¯ï¼Œè¿›è¡ŒKerberosèº«ä»½éªŒè¯ï¼Œå¤šä¸ªå®¢æˆ·ç«¯å¹¶å‘</p>
</li>
<li><p>HS2è¿˜æä¾›äº†æ–°çš„CLIï¼šBeeLineï¼Œæ˜¯Hive 0.11å¼•å…¥çš„æ–°çš„äº¤äº’å¼CLIï¼ŒåŸºäºSQLLineï¼Œå¯ä»¥ä½œä¸ºHive JDBC Client ç«¯è®¿é—®HievServer2ï¼Œå¯åŠ¨ä¸€ä¸ªbeelineå°±æ˜¯ç»´æŠ¤äº†ä¸€ä¸ªsession.</p>
</li>
</ol>
<p><strong>Hiveä¸‹è½½åœ°å€</strong></p>
<ol>
<li><p>cdh-hive : <a href="https://repository.cloudera.com/artifactory/cloudera-repos/org/apache/hive/hive-exec/0.13.1-cdh5.3.6/" target="_blank" rel="external">hive0.13.1-cdh5.3.6 jar åŒ…</a> (æ²¡ç”¨)</p>
</li>
<li><p>apache-hive : <a href="http://archive.apache.org/dist/hive/" target="_blank" rel="external">Apache-Hive</a></p>
</li>
</ol>
<p><strong>Hive-Beeline è¯•éªŒæˆåŠŸ</strong></p>
<figure class="highlight"><table><tr><td class="code"><pre><span class="line">ä¸‹è½½ apache-hive-0.13.1-bin, apache-hadoop2.5ï¼Œé…ç½® HADOOP_HOME, å¯åŠ¨ </span><br><span class="line"></span><br><span class="line">âœ  ./apache-hive-0.13.1-bin/bin/beeline</span><br><span class="line">Beeline version 0.13.1 by Apache Hive</span><br><span class="line">beeline&gt; !connect jdbc:hive2://node190:10000 hdfs 1</span><br><span class="line">scan complete in 3ms</span><br><span class="line">Connecting to jdbc:hive2://node190:10000</span><br><span class="line">Connected to: Apache Hive (version 0.13.1-cdh5.3.6)</span><br><span class="line">Driver: Hive JDBC (version 0.13.1)</span><br><span class="line">Transaction isolation: TRANSACTION_REPEATABLE_READ</span><br><span class="line">0: jdbc:hive2://node190:10000&gt; select count(*) from ods_dm_shop_tmp;</span><br><span class="line">+-------+</span><br><span class="line">|  _c0  |</span><br><span class="line">+-------+</span><br><span class="line">| 1091  |</span><br><span class="line">+-------+</span><br><span class="line">1 row selected (24.815 seconds)</span><br><span class="line">0: jdbc:hive2://node190:10000&gt;</span><br><span class="line"></span><br><span class="line">è¯´æ˜ : beeline å¯ä»¥æˆåŠŸï¼Œç”¨ä»£ç  jdbc å°±å¯ä»¥æˆåŠŸ</span><br><span class="line"></span><br><span class="line">å®‰è£… hadoop å‚è€ƒäº† ã€ŠSparkå¤§æ•°æ®å¤„ç†ã€‹é«˜å½¦æ°@è‘—, ä¸ç”¨é…ç½®ç›´æ¥ç»¿è‰²ç®€å•ç‰ˆ</span><br></pre></td></tr></table></figure>
<p><strong>Hive table</strong></p>
<p>  table ä¸­çš„ä¸€ä¸ª Partition å¯¹åº”è¡¨ä¸‹çš„ä¸€ä¸ªå­ç›®å½•<br>  æ¯ä¸€ä¸ª Bucket å¯¹åº”ä¸€ä¸ªæ–‡ä»¶ï¼›<br>  Hiveçš„é»˜è®¤æ•°æ®ä»“åº“ç›®å½•æ˜¯/user/hive/warehouse<br>  åœ¨hive-site.xmlä¸­ç”±hive.metastore.warehouse.diré¡¹å®šä¹‰ï¼›</p>
<h2 id="reference-article"><a href="#reference-article" class="headerlink" title="reference article"></a>reference article</h2><p>å‚è€ƒ : <a href="http://blog.csdn.net/lalaguozhe/article/details/11776055" target="_blank" rel="external">CSDN - Hive Server 2 è°ƒç ”ï¼Œå®‰è£…å’Œéƒ¨ç½²</a><br>å‚è€ƒ : <a href="http://www.geedoo.info/beeline-abnormal-connection-hiveserver2.html" target="_blank" rel="external">æè±†æŠ€æœ¯åšå®¢ - Beelineè¿æ¥hiveserver2å¼‚å¸¸</a><br>å‚è€ƒ : <a href="http://blog.csdn.net/skywalker_only/article/details/38366347" target="_blank" rel="external">Hiveå­¦ä¹ ä¹‹HiveServer2 JDBCå®¢æˆ·ç«¯</a><br>å‚è€ƒ : <a href="https://cwiki.apache.org/confluence/display/Hive/HiveServer2+Clients#HiveServer2Clients-Beeline" target="_blank" rel="external">HiveServer2 Clients beeline</a><br>å‚è€ƒ : <a href="http://www.aboutyun.com/blog-6-1855.html" target="_blank" rel="external">Beelineè¿æ¥hiveserver2å¼‚å¸¸</a><br>å‚è€ƒ : <a href="http://blog.csdn.net/skywalker_only/article/details/38335235" target="_blank" rel="external">Hiveå­¦ä¹ ä¹‹HiveServer2æœåŠ¡ç«¯é…ç½®ä¸å¯åŠ¨</a></p>
<p><strong>other tmp</strong></p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">## Chap 7 HiveQL è§†å›¾ ##</span><br><span class="line">## Chap 8 HiveQL ç´¢å¼• ##</span><br><span class="line">## Chap 9 æ¨¡å¼è®¾è®¡ ##</span><br><span class="line">## Chap 10 è°ƒä¼˜ ##</span><br><span class="line">## Chap 11 å…¶ä»–æ–‡ä»¶æ ¼å¼å’Œå‹ç¼©æ–¹æ³• ##</span><br><span class="line">## Chap 12 å¼€å‘ ##</span><br><span class="line">## Chap 13 å‡½æ•° ##</span><br><span class="line">## Chap 14 Streaming ##</span><br><span class="line">## Chap 15 è‡ªå®šä¹‰Hiveæ–‡ä»¶å’Œè®°å½•æ ¼å¼ ##</span><br><span class="line">## Chap 16 Hive çš„ Thrift æœåŠ¡ ##</span><br><span class="line">## Chap 11 å…¶ä»–æ–‡ä»¶æ ¼å¼å’Œå‹ç¼©æ–¹æ³• ##</span><br></pre></td></tr></table></figure>
<hr>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[Spark Introduce and Install]]></title>
      <url>http://iequa.com/2016/02/01/spark-introduce-and-install/</url>
      <content type="html"><![CDATA[<p>Spark å‘æºäº ç¾å›½åŠ å·å¤§å­¦ä¼¯å…‹åˆ©åˆ†æ ¡ AMPLap å¤§æ•°æ®åˆ†æå¹³å°<br>Spark ç«‹è¶³äºå†…å­˜è®¡ç®—ã€ä»å¤šè¿­ä»£æ‰¹é‡å¤„ç†å‡ºå‘<br>Spark å…¼é¡¾æ•°æ®ä»“åº“ã€æµå¤„ç†ã€å›¾è®¡ç®— ç­‰å¤šç§è®¡ç®—èŒƒå¼ï¼Œå¤§æ•°æ®ç³»ç»Ÿé¢†åŸŸå…¨æ ˆè®¡ç®—å¹³å°  </p>
<p><a href="http://spark.apache.org" target="_blank" rel="external">spark.apache.org</a> </p>
<blockquote>
<p>University of California, Berkeley </p>
</blockquote>
<h2 id="1-Spark-çš„å†å²ä¸å‘å±•"><a href="#1-Spark-çš„å†å²ä¸å‘å±•" class="headerlink" title="1. Spark çš„å†å²ä¸å‘å±•"></a>1. Spark çš„å†å²ä¸å‘å±•</h2><ul>
<li>2009 å¹´ : Spark è¯ç”Ÿäº AMPLab  </li>
<li>2014-02 : Apache é¡¶çº§é¡¹ç›®  </li>
<li>2014-05 : Spark 1.0.0 å‘å¸ƒ</li>
</ul>
<h2 id="2-Spark-ä¹‹äº-Hadoop"><a href="#2-Spark-ä¹‹äº-Hadoop" class="headerlink" title="2. Spark ä¹‹äº Hadoop"></a>2. Spark ä¹‹äº Hadoop</h2><p> Spark æ˜¯ MapReduce çš„æ›¿ä»£æ–¹æ¡ˆ, ä¸”å…¼å®¹ HDFSã€Hive ç­‰åˆ†å¸ƒå¼å­˜å‚¨å±‚ã€‚</p>
<p> Spark ç›¸æ¯” Hadoop MapReduce çš„ä¼˜åŠ¿å¦‚ä¸‹ :</p>
<ol>
<li>ä¸­é—´ç»“æœè¾“å‡º</li>
<li>æ•°æ®æ ¼å¼å’Œå†…å­˜å¸ƒå±€</li>
<li>æ‰§è¡Œç­–ç•¥  </li>
<li>ä»»åŠ¡è°ƒåº¦çš„å¼€é”€</li>
</ol>
<blockquote>
<p>Sparkç”¨äº‹ä»¶é©±åŠ¨ç±»åº“AKKAæ¥å¯åŠ¨ä»»åŠ¡, é€šè¿‡çº¿ç¨‹æ± å¤ç”¨çº¿ç¨‹é¿å…è¿›çº¿ç¨‹å¯åŠ¨åˆ‡æ¢å¼€é”€</p>
</blockquote>
<h2 id="3-Spark-èƒ½å¸¦æ¥ä»€ä¹ˆ"><a href="#3-Spark-èƒ½å¸¦æ¥ä»€ä¹ˆ" class="headerlink" title="3. Spark èƒ½å¸¦æ¥ä»€ä¹ˆ ?"></a>3. Spark èƒ½å¸¦æ¥ä»€ä¹ˆ ?</h2><ol>
<li>æ‰“é€ å…¨æ ˆå¤šè®¡ç®—èŒƒå¼çš„é«˜æ•ˆæ•°æ®æµæ°´çº¿</li>
<li>è½»é‡çº§å¿«é€Ÿå¤„ç†, å¹¶æ”¯æŒ Scalaã€Pythonã€Java</li>
<li>ä¸ HDFS ç­‰ å­˜å‚¨å±‚ å…¼å®¹</li>
</ol>
<h2 id="4-Spark-å®‰è£…ä¸éƒ¨ç½²"><a href="#4-Spark-å®‰è£…ä¸éƒ¨ç½²" class="headerlink" title="4. Spark å®‰è£…ä¸éƒ¨ç½²"></a>4. Spark å®‰è£…ä¸éƒ¨ç½²</h2><p>Spark ä¸»è¦ä½¿ç”¨ HDFS å……å½“æŒä¹…åŒ–å±‚ï¼Œæ‰€ä»¥å®Œæ•´çš„å®‰è£… Spark éœ€è¦å…ˆå®‰è£… Hadoop.<br>Spark æ˜¯è®¡ç®—æ¡†æ¶, å®ƒä¸»è¦ä½¿ç”¨ HDFS å……å½“æŒä¹…åŒ–å±‚ã€‚</p>
<p><strong>Linux é›†ç¾¤å®‰è£… Spark</strong></p>
<ol>
<li>å®‰è£… JDK</li>
<li>å®‰è£… Scala</li>
<li>é…ç½® SSH å…å¯†ç ç™»é™† (å¯é€‰)</li>
<li>å®‰è£… Hadoop</li>
<li>å®‰è£… Spark</li>
<li>å¯åŠ¨ Spark é›†ç¾¤</li>
</ol>
<p><a href="http://spark.apache.org/downloads.html" target="_blank" rel="external">Sparkå®˜ç½‘ä¸‹è½½</a></p>
<h3 id="4-1-å®‰è£…-Spark"><a href="#4-1-å®‰è£…-Spark" class="headerlink" title="4.1 å®‰è£… Spark"></a>4.1 å®‰è£… Spark</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">(1). download  spark-1.5.2-bin-hadoop2.6.tgz</span><br><span class="line"></span><br><span class="line">(2). tar -xzvf spark-1.5.2-bin-hadoop2.6.tgz</span><br><span class="line"></span><br><span class="line">(3). é…ç½® conf/spark-env.sh</span><br><span class="line">    1) è¯¦ç»†å¤æ‚å‚æ•°é…ç½®å‚è§ å®˜ç½‘ Configuration</span><br><span class="line">    2) vim conf/spark-env.sh</span><br><span class="line">    </span><br><span class="line">    <span class="built_in">export</span> JAVA_HOME=/Library/Java/JavaVirtualMachines/jdk1.7.0_79.jdk/Contents/Home</span><br><span class="line">    <span class="built_in">export</span> SCALA_HOME=/usr/<span class="built_in">local</span>/Cellar/scala/2.11.5</span><br><span class="line">    <span class="built_in">export</span> SPARK_HOME=/usr/<span class="built_in">local</span>/xSoft/spark</span><br><span class="line">    </span><br><span class="line">    <span class="built_in">export</span> SPARK_MASTER_IP=ip</span><br><span class="line">    <span class="built_in">export</span> MASTER=spark://ip:7077</span><br><span class="line"></span><br><span class="line">    <span class="built_in">export</span> SPARK_EXECUTOR_INSTANCES=2</span><br><span class="line">    <span class="built_in">export</span> SPARK_EXECUTOR_CORES=1</span><br><span class="line"></span><br><span class="line">    <span class="built_in">export</span> SPARK_WORKER_MEMORY=1000m</span><br><span class="line">    <span class="built_in">export</span> SPARK_EXECUTOR_MEMORY=300m</span><br><span class="line"></span><br><span class="line">    <span class="built_in">export</span> SPARK_LIBRARY_PATH=<span class="variable">$&#123;SPARK_HOME&#125;</span>/lib</span><br><span class="line"></span><br><span class="line">(4). é…ç½® conf/slaves (æµ‹è¯•å¯é€‰)</span><br><span class="line">(5). ä¸€èˆ¬éœ€è¦ startup ssh server.</span><br></pre></td></tr></table></figure>
<h3 id="4-2-å¯åŠ¨-Spark-é›†ç¾¤"><a href="#4-2-å¯åŠ¨-Spark-é›†ç¾¤" class="headerlink" title="4.2 å¯åŠ¨ Spark é›†ç¾¤"></a>4.2 å¯åŠ¨ Spark é›†ç¾¤</h3><p>åœ¨ Spark æ ¹ç›®å½•å¯åŠ¨ Spark</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">./sbin/start-all.sh</span><br><span class="line">./sbin/stop-all.sh</span><br></pre></td></tr></table></figure>
<p>å¯åŠ¨å jps æŸ¥çœ‹ ä¼šæœ‰ Master è¿›ç¨‹å­˜åœ¨</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">âœ  spark-1.5.2-bin-hadoop2.6  jps</span><br><span class="line">11262 Jps</span><br><span class="line">11101 Master</span><br><span class="line">11221 Worker</span><br></pre></td></tr></table></figure>
<h3 id="4-3-Spark-é›†ç¾¤åˆè¯•"><a href="#4-3-Spark-é›†ç¾¤åˆè¯•" class="headerlink" title="4.3 Spark é›†ç¾¤åˆè¯•"></a>4.3 Spark é›†ç¾¤åˆè¯•</h3><p>å¯ä»¥é€šè¿‡ä¸¤ç§æ–¹å¼è¿è¡Œ Spark æ ·ä¾‹ :</p>
<ul>
<li>ä»¥ ./run-example çš„æ–¹å¼æ‰§è¡Œ</li>
</ul>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">âœ  <span class="built_in">cd</span> /usr/<span class="built_in">local</span>/xSoft/spark</span><br><span class="line">âœ  spark ./sbin/start-all.sh</span><br><span class="line">âœ  spark ./bin/run-example org.apache.spark.examples.SparkPi</span><br></pre></td></tr></table></figure>
<ul>
<li>ä»¥ ./Spark Shell æ–¹å¼æ‰§è¡Œ</li>
</ul>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">scala&gt; import org.apache.spark._</span><br><span class="line">import org.apache.spark._</span><br><span class="line"></span><br><span class="line">scala&gt; object SparkPi &#123;</span><br><span class="line">     |</span><br><span class="line">     |   def main(args: Array[String]) &#123;</span><br><span class="line">     |</span><br><span class="line">     |     val slices = 2</span><br><span class="line">     |     val n = 100000 * slices</span><br><span class="line">     |</span><br><span class="line">     |     val count = sc.parallelize(1 to n, slices).map &#123; i =&gt;</span><br><span class="line">     |</span><br><span class="line">     |       val x = math.random * 2 - 1</span><br><span class="line">     |       val y = math.random * 2 - 1</span><br><span class="line">     |</span><br><span class="line">     |       if (x * x + y * y &lt; 1) 1 else 0</span><br><span class="line">     |</span><br><span class="line">     |     &#125;.reduce(_ + _)</span><br><span class="line">     |</span><br><span class="line">     |     println(&quot;Pi is rounghly &quot; + 4.0 * count / n)</span><br><span class="line">     |</span><br><span class="line">     |   &#125;</span><br><span class="line">     | &#125;</span><br><span class="line">defined module SparkPi</span><br><span class="line">scala&gt;</span><br><span class="line"></span><br><span class="line">// Spark Shell å·²é»˜è®¤å°† SparkContext ç±»åˆå§‹åŒ–ä¸ºå¯¹è±¡ sc, ç”¨æˆ·ä»£ç å¯ç›´æ¥ä½¿ç”¨ã€‚</span><br><span class="line">// Spark è‡ªå¸¦çš„äº¤äº’å¼çš„ Shell ç¨‹åºï¼Œæ–¹ä¾¿è¿›è¡Œäº¤äº’å¼ç¼–ç¨‹ã€‚</span><br></pre></td></tr></table></figure>
<ul>
<li><p>é€šè¿‡ Web UI æŸ¥çœ‹é›†ç¾¤çŠ¶æ€</p>
<pre><code>httpï¼š//masterIp:8080
</code></pre></li>
</ul>
<p><img src="/images/spark/spark-introduce-05.png" width="740" height="400" img=""></p>
<h3 id="4-4-Spark-quick-start"><a href="#4-4-Spark-quick-start" class="headerlink" title="4.4 Spark quick start"></a>4.4 Spark quick start</h3><p>quick-start : <a href="https://spark.apache.org/docs/latest/quick-start.html" target="_blank" rel="external">https://spark.apache.org/docs/latest/quick-start.html</a></p>
<p>./bin/spark-shell</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">scala&gt; val textFile = sc.textFile(&quot;README.md&quot;)</span><br><span class="line">textFile: spark.RDD[String] = spark.MappedRDD@2ee9b6e3</span><br><span class="line">RDDs have actions, which return values, and transformations, which return pointers to new RDDs. Letâ€™s start with a few actions:</span><br><span class="line"></span><br><span class="line">scala&gt; textFile.count() // Number of items in this RDD</span><br><span class="line">res0: Long = 126</span><br><span class="line"></span><br><span class="line">scala&gt; textFile.first() // First item in this RDD</span><br><span class="line">res1: String = # Apache Spark</span><br></pre></td></tr></table></figure>
<h2 id="5-Spark-ç”Ÿæ€-BDAS"><a href="#5-Spark-ç”Ÿæ€-BDAS" class="headerlink" title="5. Spark ç”Ÿæ€ BDAS"></a>5. Spark ç”Ÿæ€ BDAS</h2><ul>
<li>Spark æ¡†æ¶ã€æ¶æ„ã€è®¡ç®—æ¨¡å‹ã€æ•°æ®ç®¡ç†ç­–ç•¥</li>
<li>Spark BDAS é¡¹ç›®åŠå…¶å­é¡¹ç›®è¿›è¡Œäº†ç®€è¦ä»‹ç»</li>
<li>Spark ç”Ÿæ€ç³»ç»ŸåŒ…å«çš„å¤šä¸ªå­é¡¹ç›® : SparkSqlã€Spark Streamingã€GraphXã€MLlib</li>
</ul>
<p><img src="/images/spark/spark-introduce-01.png" alt="Spark EcoSystem = BDAS = ä¼¯å…‹åˆ©æ•°æ®åˆ†ææ ˆ"></p>
<ul>
<li>Spark æ˜¯ BDAS æ ¸å¿ƒ, æ˜¯ä¸€ å¤§æ•°æ®åˆ†å¸ƒå¼ç¼–ç¨‹æ¡†æ¶</li>
</ul>
<h2 id="6-Spark-æ¶æ„"><a href="#6-Spark-æ¶æ„" class="headerlink" title="6. Spark æ¶æ„"></a>6. Spark æ¶æ„</h2><ul>
<li>Spark çš„ä»£ç ç»“æ„</li>
<li>Spark çš„æ¶æ„</li>
<li>Spark è¿è¡Œé€»è¾‘</li>
</ul>
<h3 id="6-1-Spark-çš„ä»£ç ç»“æ„"><a href="#6-1-Spark-çš„ä»£ç ç»“æ„" class="headerlink" title="6.1 Spark çš„ä»£ç ç»“æ„"></a>6.1 Spark çš„ä»£ç ç»“æ„</h3><p><img src="/images/spark/spark-introduce-02.jpeg" alt="spark code"></p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">schedulerï¼šæ–‡ä»¶å¤¹ä¸­å«æœ‰è´Ÿè´£æ•´ä½“çš„Sparkåº”ç”¨ã€ä»»åŠ¡è°ƒåº¦çš„ä»£ç ã€‚</span><br><span class="line">broadcastï¼šå«æœ‰Broadcastï¼ˆå¹¿æ’­å˜é‡ï¼‰çš„å®ç°ä»£ç ï¼ŒAPIä¸­æ˜¯Javaå’ŒPython APIçš„å®ç°ã€‚</span><br><span class="line"></span><br><span class="line">deployï¼šå«æœ‰Sparkéƒ¨ç½²ä¸å¯åŠ¨è¿è¡Œçš„ä»£ç ã€‚</span><br><span class="line">commonï¼šä¸æ˜¯ä¸€ä¸ªæ–‡ä»¶å¤¹ï¼Œè€Œæ˜¯ä»£è¡¨Sparké€šç”¨çš„ç±»å’Œé€»è¾‘å®ç°ï¼Œæœ‰5000è¡Œä»£ç ã€‚</span><br><span class="line"></span><br><span class="line">metricsï¼šæ˜¯è¿è¡Œæ—¶çŠ¶æ€ç›‘æ§é€»è¾‘ä»£ç ï¼ŒExecutorä¸­å«æœ‰WorkerèŠ‚ç‚¹è´Ÿè´£è®¡ç®—çš„é€»è¾‘ä»£ç ã€‚</span><br><span class="line">partialï¼šå«æœ‰è¿‘ä¼¼è¯„ä¼°ä»£ç ã€‚</span><br></pre></td></tr></table></figure>
<h3 id="6-2-Spark-çš„æ¶æ„"><a href="#6-2-Spark-çš„æ¶æ„" class="headerlink" title="6.2 Spark çš„æ¶æ„"></a>6.2 Spark çš„æ¶æ„</h3><p>Sparkæ¶æ„é‡‡ç”¨äº†åˆ†å¸ƒå¼è®¡ç®—ä¸­çš„Master-Slaveæ¨¡å‹ã€‚</p>
<table>
<thead>
<tr>
<th>Role</th>
<th>description</th>
</tr>
</thead>
<tbody>
<tr>
<td>Master</td>
<td>å¯¹åº”é›†ç¾¤ä¸­çš„å«æœ‰Masterè¿›ç¨‹çš„èŠ‚ç‚¹, é›†ç¾¤çš„æ§åˆ¶å™¨</td>
</tr>
<tr>
<td>Slave</td>
<td>é›†ç¾¤ä¸­å«æœ‰Workerè¿›ç¨‹çš„èŠ‚ç‚¹</td>
</tr>
<tr>
<td></td>
<td></td>
</tr>
<tr>
<td>Client</td>
<td>ä½œä¸ºç”¨æˆ·çš„å®¢æˆ·ç«¯è´Ÿè´£æäº¤åº”ç”¨</td>
</tr>
<tr>
<td>Driver</td>
<td>è¿è¡ŒApplicationçš„main()å‡½æ•°å¹¶åˆ›å»ºSparkContextã€‚è´Ÿè´£ä½œä¸šçš„è°ƒåº¦ï¼Œå³Taskä»»åŠ¡çš„åˆ†å‘</td>
</tr>
<tr>
<td>Worker</td>
<td>ç®¡ç†è®¡ç®—èŠ‚ç‚¹å’Œåˆ›å»ºExecutorï¼Œå¯åŠ¨Executor æˆ– Driver. æ¥æ”¶ä¸»èŠ‚ç‚¹å‘½ä»¤ä¸è¿›è¡ŒçŠ¶æ€æ±‡æŠ¥</td>
</tr>
<tr>
<td>Executor</td>
<td>Worker nodeæ‰§è¡Œä»»åŠ¡çš„ç»„ä»¶,è´Ÿè´£ Task çš„æ‰§è¡Œ,ç”¨äºå¯åŠ¨çº¿ç¨‹æ± è¿è¡Œä»»åŠ¡</td>
</tr>
<tr>
<td></td>
<td></td>
</tr>
<tr>
<td>ClusterManager</td>
<td>Standalone æ¨¡å¼ä¸­ä¸º Master, æ§åˆ¶æ•´ä¸ªé›†ç¾¤, ç›‘æ§Worker</td>
</tr>
<tr>
<td>SparkContext</td>
<td>æ•´ä¸ªåº”ç”¨çš„ä¸Šä¸‹æ–‡, æ§åˆ¶Appçš„ç”Ÿå‘½å‘¨æœŸ</td>
</tr>
<tr>
<td>RDD</td>
<td>Sparkçš„åŸºæœ¬è®¡ç®—å•å…ƒï¼Œä¸€ç»„RDDå¯å½¢æˆæ‰§è¡Œçš„ DAG</td>
</tr>
</tbody>
</table>
<p><img src="/images/spark/spark-introduce-03.jpeg" alt="spark"></p>
<table>
<thead>
<tr>
<th>Spark App æµç¨‹</th>
</tr>
</thead>
<tbody>
<tr>
<td>1. Client æäº¤åº”ç”¨</td>
<td></td>
</tr>
<tr>
<td>2. Master æ‰¾åˆ°ä¸€ä¸ª Worker å¯åŠ¨ Driver</td>
<td></td>
</tr>
<tr>
<td>3. Driver å‘ Master æˆ–è€… èµ„æºç®¡ç†å™¨ç”³è¯·èµ„æºï¼Œä¹‹åå°†åº”ç”¨è½¬åŒ–ä¸º RDD Graph</td>
<td></td>
</tr>
<tr>
<td>4. DAGScheduler å°† RDD Graph è½¬åŒ–ä¸º Stageçš„æœ‰å‘æ— ç¯å›¾ æäº¤ç»™ TaskScheduler</td>
<td></td>
</tr>
<tr>
<td>5. TaskScheduler æäº¤ task ç»™Executoræ‰§è¡Œ</td>
<td></td>
</tr>
<tr>
<td>6. åœ¨ä»»åŠ¡æ‰§è¡Œçš„è¿‡ç¨‹ä¸­ï¼Œå…¶ä»–ç»„ä»¶ååŒå·¥ä½œï¼Œç¡®ä¿æ•´ä¸ªåº”ç”¨é¡ºåˆ©æ‰§è¡Œ</td>
<td></td>
</tr>
</tbody>
</table>
<blockquote>
<p>åœ¨æ‰§è¡Œé˜¶æ®µï¼ŒDriver ä¼šå°† Task å’Œ Taskæ‰€ä¾èµ–çš„file å’Œ jar åºåˆ—åŒ–åä¼ é€’ç»™å¯¹åº”çš„ Workeræœºå™¨ï¼ŒåŒæ—¶ Executorå¯¹ç›¸åº”æ•°æ®åˆ†åŒºçš„ä»»åŠ¡è¿›è¡Œå¤„ç†ã€‚</p>
</blockquote>
<h2 id="7-å°ç»“"><a href="#7-å°ç»“" class="headerlink" title="7. å°ç»“"></a>7. å°ç»“</h2><p>ç”±äº Spark ä¸»è¦ä½¿ç”¨ HDFS å……å½“æŒä¹…åŒ–å±‚ï¼Œæ‰€ä»¥å®Œæ•´çš„ä½¿ç”¨ Spark éœ€è¦é¢„å…ˆå®‰è£… Hadoop.</p>
<p>Spark å°†åˆ†å¸ƒå¼çš„å†…å­˜æ•°æ®æŠ½è±¡ä¸ºå¼¹æ€§åˆ†å¸ƒå¼æ•°æ®é›† (RDD), å¹¶åœ¨å…¶ä¸Šå®ç°äº†ä¸°å¯Œçš„ç®—å­ï¼Œä»è€Œå¯¹ RDD è¿›è¡Œè®¡ç®—ï¼Œæœ€åå°† ç®—å­åºåˆ— è½¬åŒ–ä¸º DAG è¿›è¡Œæ‰§è¡Œå’Œè°ƒåº¦ã€‚</p>
<blockquote>
<p>Sparkçš„Python APIå‡ ä¹è¦†ç›–äº†æ‰€æœ‰Scala APIæ‰€èƒ½æä¾›çš„åŠŸèƒ½. ä½†çš„ç¡®æœ‰äº›ç‰¹æ€§ï¼Œæ¯”å¦‚Spark Streamingå’Œä¸ªåˆ«çš„APIæ–¹æ³•ï¼Œæš‚ä¸æ”¯æŒã€‚<br><a href="http://spark.apache.org/docs/latest/programming-guide.html" target="_blank" rel="external">å…·ä½“å‚è§ã€ŠSparkç¼–ç¨‹æŒ‡å—ã€‹çš„Pythonéƒ¨åˆ†</a></p>
</blockquote>
<p>ä½“ä¼šäº† å‡½æ•°å¼ ç¼–ç¨‹. ä¸ªäººè®¤ä¸º scalaã€python æ¯”è¾ƒé€‚åˆå†™ spark ç¨‹åº.</p>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[Kettle ETL]]></title>
      <url>http://iequa.com/2016/01/22/db-etl-kettle/</url>
      <content type="html"><![CDATA[<p><strong>ETL ç®€ä»‹</strong></p>
<ol>
<li>ETL æ˜¯æ•°æ®æŠ½å–ï¼ˆExtractï¼‰ã€æ¸…æ´—ï¼ˆCleaningï¼‰ã€è½¬æ¢ï¼ˆTransformï¼‰ã€è£…è½½ï¼ˆLoadï¼‰çš„è¿‡ç¨‹ã€‚</li>
<li>ETL æ˜¯æ„å»º <strong>DW</strong> çš„é‡è¦ä¸€ç¯ï¼Œç”¨æˆ·ä»æ•°æ®æºæŠ½å–å‡ºæ•°æ®ï¼Œç» æ•°æ®æ¸…æ´—,æŒ‰ç…§é¢„å®šä¹‰å¥½çš„ DWæ¨¡å‹ï¼Œå°†æ•°æ®åŠ è½½åˆ° DW ä¸­å»ã€‚</li>
<li>ETL æ˜¯å°†ä¸šåŠ¡ç³»ç»Ÿçš„æ•°æ®ç»è¿‡æŠ½å–ã€æ¸…æ´—è½¬æ¢ä¹‹ååŠ è½½åˆ° DW çš„è¿‡ç¨‹ï¼Œç›®çš„æ˜¯å°†ä¼ä¸šä¸­çš„åˆ†æ•£é›¶ä¹±ã€æ ‡å‡†ä¸ç»Ÿä¸€çš„æ•°æ®åˆ°ä¸€èµ·ï¼Œä¸ºä¼ä¸šçš„å†³ç­–æä¾›åˆ†æä¾æ®ã€‚</li>
<li>ETL æ˜¯ <strong>BI</strong> é¡¹ç›®ä¸­ä¸€ä¸ªé‡è¦ç¯èŠ‚ã€‚</li>
</ol>
<p><strong>ETLçš„è®¾è®¡åˆ†ä¸‰ä¸ªéƒ¨åˆ†ï¼š</strong></p>
<ol>
<li>æ•°æ®æŠ½å–</li>
<li>æ•°æ®çš„æ¸…æ´—è½¬æ¢</li>
<li>æ•°æ®çš„åŠ è½½</li>
</ol>
<h2 id="1-Kettle-å¼€æºçš„-ETL-å·¥å…·"><a href="#1-Kettle-å¼€æºçš„-ETL-å·¥å…·" class="headerlink" title="1. Kettle å¼€æºçš„ ETL å·¥å…·"></a>1. Kettle å¼€æºçš„ ETL å·¥å…·</h2><h3 id="1-1-Kettle-çš„ä»‹ç»"><a href="#1-1-Kettle-çš„ä»‹ç»" class="headerlink" title="1-1. Kettle çš„ä»‹ç»"></a>1-1. Kettle çš„ä»‹ç»</h3><p>  ETLï¼ˆExtract-Transform-Loadçš„ç¼©å†™ï¼Œå³æ•°æ®æŠ½å–ã€è½¬æ¢ã€è£…è½½çš„è¿‡ç¨‹ï¼Œ æˆ‘ä»¬ç»å¸¸ä¼šé‡åˆ°å„ç§æ•°æ®çš„å¤„ç†ï¼Œè½¬æ¢ï¼Œè¿ç§»ï¼Œæ‰€ä»¥æŒæ¡ä¸€ç§ ETL å·¥å…·çš„ä½¿ç”¨å¿…ä¸å¯å°‘ã€‚</p>
<p>  Kettle æ”¯æŒå›¾å½¢åŒ–çš„GUIè®¾è®¡ç•Œé¢ï¼Œç„¶åå¯ä»¥ä»¥å·¥ä½œæµçš„å½¢å¼æµè½¬ï¼Œç†Ÿç»ƒå®ƒå¯ä»¥å‡å°‘éå¸¸å¤šçš„ç ”å‘å·¥ä½œé‡ï¼Œæé«˜å·¥ä½œæ•ˆç‡ã€‚</p>
<p>  Kettle å…è®¸ä½ ç®¡ç†æ¥è‡ªä¸åŒæ•°æ®åº“çš„æ•°æ®ï¼Œé€šè¿‡æä¾›ä¸€ä¸ªå›¾å½¢åŒ–çš„ç”¨æˆ·ç¯å¢ƒæ¥æè¿°ä½ æƒ³åšä»€ä¹ˆã€‚</p>
<p>  Kettle ä¸­æœ‰ä¸¤ç§è„šæœ¬æ–‡ä»¶ï¼Œtransformation å’Œ job.</p>
<ul>
<li>transformation å®Œæˆé’ˆå¯¹æ•°æ®çš„åŸºç¡€è½¬æ¢.</li>
<li>job åˆ™å®Œæˆæ•´ä¸ªå·¥ä½œæµçš„æ§åˆ¶ã€‚</li>
</ul>
<h3 id="1-2-Kettle-å®¶æ—äº§å“"><a href="#1-2-Kettle-å®¶æ—äº§å“" class="headerlink" title="1-2. Kettle å®¶æ—äº§å“"></a>1-2. Kettle å®¶æ—äº§å“</h3><p> <strong> Kettleå®¶æ—ç›®å‰åŒ…æ‹¬ 4 ä¸ªäº§å“ï¼šSpoonã€Panã€CHEFã€Kitchenã€‚</strong></p>
<p> Spoon å…è®¸ä½ é€šè¿‡å›¾å½¢ç•Œé¢æ¥è®¾è®¡ ETL è½¬æ¢è¿‡ç¨‹ï¼ˆTransformationï¼‰ã€‚</p>
<p> Pan   å…è®¸ä½ æ‰¹é‡è¿è¡Œç”± Spoon è®¾è®¡çš„ ETL è½¬æ¢ (ä¾‹å¦‚ä½¿ç”¨ä¸€ä¸ªæ—¶é—´è°ƒåº¦å™¨)ã€‚Pan æ˜¯ä¸€åå°æ‰§è¡Œçš„ç¨‹åºï¼Œæ²¡å›¾ç•Œé¢ã€‚</p>
<p> Chef  å…è®¸ä½ åˆ›å»ºä»»åŠ¡ï¼ˆJobï¼‰ã€‚ ä»»åŠ¡é€šè¿‡å…è®¸æ¯ä¸ªè½¬æ¢ï¼Œä»»åŠ¡ï¼Œè„šæœ¬ç­‰ç­‰ï¼Œæ›´æœ‰åˆ©äºè‡ªåŠ¨åŒ–æ›´æ–°æ•°æ®ä»“åº“çš„å¤æ‚å·¥ä½œã€‚ä»»åŠ¡é€šè¿‡å…è®¸æ¯ä¸ªè½¬æ¢ï¼Œä»»åŠ¡ï¼Œè„šæœ¬ç­‰ç­‰ã€‚ä»»åŠ¡å°†ä¼šè¢«æ£€æŸ¥ï¼Œçœ‹çœ‹æ˜¯å¦æ­£ç¡®åœ°è¿è¡Œäº†ã€‚</p>
<p> Kitchen å…è®¸ä½ æ‰¹é‡ä½¿ç”¨ç”± Chef è®¾è®¡çš„ä»»åŠ¡ (ä¾‹å¦‚ä½¿ç”¨ä¸€ä¸ªæ—¶é—´è°ƒåº¦å™¨)ã€‚Kitchen ä¹Ÿæ˜¯åå°è¿è¡Œçš„ç¨‹åºã€‚</p>
<h2 id="2-ä¸‹è½½å’Œéƒ¨ç½²å®‰è£…"><a href="#2-ä¸‹è½½å’Œéƒ¨ç½²å®‰è£…" class="headerlink" title="2. ä¸‹è½½å’Œéƒ¨ç½²å®‰è£…"></a>2. ä¸‹è½½å’Œéƒ¨ç½²å®‰è£…</h2><p>ÂKettleå¯ä»¥åœ¨<a href="http://kettle.pentaho.org/" target="_blank" rel="external">http://kettle.pentaho.org/</a> ç½‘ç«™ä¸‹è½½<br>Â<br>Âä¸‹è½½ kettle å‹ç¼©åŒ…ï¼Œå›  kettle ä¸ºç»¿è‰²è½¯ä»¶ï¼Œè§£å‹ç¼©åˆ°ä»»æ„æœ¬åœ°è·¯å¾„å³å¯</p>
<p>å®‰è£…éœ€è¦ : JDKã€JAVA_HOMEã€CLASSPATHã€PENTAHO_JAVA_HOME ç­‰ç¯å¢ƒå˜é‡ã€‚</p>
<blockquote>
<p>å¦‚éœ€è¿æ¥mysqlï¼Œåˆ™éœ€å°† mysql-connector-java-5.1.38.jar æ”¾å…¥åˆ° lib ä¸­ã€‚</p>
</blockquote>
<h3 id="2-1-kettle-windows-å®‰è£…"><a href="#2-1-kettle-windows-å®‰è£…" class="headerlink" title="2-1 kettle windows å®‰è£…"></a>2-1 kettle windows å®‰è£…</h3><ul>
<li>å»ºè®®åœ¨ windows ä¸‹ä½¿ç”¨æ“ä½œç»ƒä¹  kettle<br> windows å¯¹å›¾å½¢åŒ– æ”¯æŒå¥½ </li>
<li>ç›´æ¥å¯åŠ¨ Spoon.bat å³å¯</li>
</ul>
<h3 id="2-2-kettle-Linux-å®‰è£…"><a href="#2-2-kettle-Linux-å®‰è£…" class="headerlink" title="2-2 kettle Linux å®‰è£…"></a>2-2 kettle Linux å®‰è£…</h3><p> linux å›¾å½¢åŒ–ä¸å¼ºï¼Œå¦‚éœ€è¦åœ¨ linux ä¸­æŸ¥çœ‹ä¸€ä¸‹ kettle èµ„æºåº“æ˜¯å¦è¿æ¥æ­£å¸¸ï¼Œä»¥åŠåœ¨ linux ä¸Šè°ƒåº¦ kettle çš„ jobï¼Œå°±éœ€è¦åœ¨ Linuxä¸Š é…ç½® kettle ç¯å¢ƒäº†ã€‚</p>
<p>éªŒè¯ kettle éƒ¨ç½²æˆåŠŸ</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">cd data-integration</span><br><span class="line">è¾“å…¥å‘½ä»¤./kitchen.shã€‚å¦‚æœå‡ºç°å¸®åŠ©ä¿¡æ¯è¯´æ˜éƒ¨ç½²æˆåŠŸ</span><br></pre></td></tr></table></figure>
<blockquote>
<p>å¦‚å‡ºç°é”™è¯¯ï¼Œè¯· chmod +x *.shï¼Œå†è¯•ã€‚</p>
</blockquote>
<h3 id="2-3-kettle-osx-å®‰è£…"><a href="#2-3-kettle-osx-å®‰è£…" class="headerlink" title="2-3 kettle osx å®‰è£…"></a>2-3 kettle osx å®‰è£…</h3><p> æš‚æ—¶æ—  mac ç‰ˆæœ¬ã€‚</p>
<h2 id="3-åº”ç”¨åœºæ™¯"><a href="#3-åº”ç”¨åœºæ™¯" class="headerlink" title="3. åº”ç”¨åœºæ™¯"></a>3. åº”ç”¨åœºæ™¯</h2><p>è¿™é‡Œç®€å•æ¦‚æ‹¬ä¸€ä¸‹å‡ ç§å…·ä½“çš„åº”ç”¨åœºæ™¯ï¼ŒæŒ‰ç½‘ç»œç¯å¢ƒåˆ’åˆ†ä¸»è¦åŒ…æ‹¬ï¼š</p>
<h3 id="3-1-è¡¨è§†å›¾æ¨¡å¼ï¼š"><a href="#3-1-è¡¨è§†å›¾æ¨¡å¼ï¼š" class="headerlink" title="3-1 è¡¨è§†å›¾æ¨¡å¼ï¼š"></a>3-1 è¡¨è§†å›¾æ¨¡å¼ï¼š</h3><p>  è¿™ç§æƒ…å†µæˆ‘ä»¬ç»å¸¸é‡åˆ°ï¼Œå°±æ˜¯åœ¨åŒä¸€ç½‘ç»œç¯å¢ƒä¸‹ï¼Œæˆ‘ä»¬å¯¹å„ç§æ•°æ®æºçš„è¡¨æ•°æ®è¿›è¡ŒæŠ½å–ã€è¿‡æ»¤ã€æ¸…æ´—ç­‰ï¼Œä¾‹å¦‚å†å²æ•°æ®åŒæ­¥ã€å¼‚æ„ç³»ç»Ÿæ•°æ®äº¤äº’ã€æ•°æ®å¯¹ç§°å‘å¸ƒæˆ–å¤‡ä»½ç­‰éƒ½å½’å±äºè¿™ä¸ªæ¨¡å¼ï¼›ä¼ ç»Ÿçš„å®ç°æ–¹å¼ä¸€èˆ¬éƒ½è¦è¿›è¡Œç ”å‘ï¼ˆä¸€å°éƒ¨åˆ†ä¾‹å¦‚ä¸¤ä¸ªç›¸åŒè¡¨ç»“æ„çš„è¡¨ä¹‹é—´çš„æ•°æ®åŒæ­¥ï¼Œå¦‚æœsqlserveræ•°æ®åº“å¯ä»¥é€šè¿‡å‘å¸ƒ/è®¢é˜…å®ç°ï¼‰ï¼Œæ¶‰åŠåˆ°ä¸€äº›å¤æ‚çš„ä¸€äº›ä¸šåŠ¡é€»è¾‘å¦‚æœæˆ‘ä»¬ç ”å‘å‡ºæ¥è¿˜å®¹æ˜“å‡ºå„ç§bugï¼›</p>
<h3 id="3-2-å‰ç½®æœºæ¨¡å¼"><a href="#3-2-å‰ç½®æœºæ¨¡å¼" class="headerlink" title="3-2 å‰ç½®æœºæ¨¡å¼"></a>3-2 å‰ç½®æœºæ¨¡å¼</h3><p>  æ•°æ®äº¤æ¢çš„åŒæ–¹ A å’Œ B ç½‘ç»œä¸é€šï¼Œä½†æ˜¯ A å’Œ B éƒ½å¯ä»¥å’Œå‰ç½®æœº C è¿æ¥..</p>
<h3 id="3-3-æ–‡ä»¶æ¨¡å¼"><a href="#3-3-æ–‡ä»¶æ¨¡å¼" class="headerlink" title="3-3 æ–‡ä»¶æ¨¡å¼"></a>3-3 æ–‡ä»¶æ¨¡å¼</h3><p>  æ•°æ®äº¤äº’çš„åŒæ–¹ A å’Œ B æ˜¯å®Œå…¨çš„ç‰©ç†éš”ç¦»ï¼Œè¿™æ ·å°±åªèƒ½é€šè¿‡ä»¥æ–‡ä»¶çš„æ–¹å¼æ¥è¿›è¡Œæ•°æ®äº¤äº’äº†ï¼Œä¾‹å¦‚ XML æ ¼å¼.</p>
<h2 id="4-DEMOå®æˆ˜"><a href="#4-DEMOå®æˆ˜" class="headerlink" title="4. DEMOå®æˆ˜"></a>4. DEMOå®æˆ˜</h2><h3 id="4-1-ç®€å•è¡¨åŒæ­¥"><a href="#4-1-ç®€å•è¡¨åŒæ­¥" class="headerlink" title="4-1 ç®€å•è¡¨åŒæ­¥"></a>4-1 ç®€å•è¡¨åŒæ­¥</h3><p>åŠŸèƒ½æè¿° : æ•°æ®åº“ TestDB01 ä¸­çš„ UsersAè¡¨ åˆ° æ•°æ®åº“TestDB02 çš„UsersBè¡¨ï¼›<br>å®ç°æµç¨‹ : å»ºç«‹ä¸€ä¸ªè½¬æ¢å’Œä¸€ä¸ªä½œä¸šJobï¼›</p>
<p><strong>ä¸€ã€å»ºç«‹è½¬æ¢</strong></p>
<ol>
<li><p>è¿›å…¥ä¸»ç•Œé¢ï¼Œæ–°å»ºä¸€ä¸ªè½¬æ¢ï¼Œè½¬æ¢çš„åç¼€åä¸º ktr.<br>  åˆ›å»º DBè¿æ¥ï¼Œé€‰æ‹©æ–°å»º DBè¿æ¥, TestæŒ‰é’®æµ‹è¯•æ˜¯å¦é…ç½®æ­£ç¡®ï¼</p>
<p>  æˆ‘ä»¬éœ€è¦å»ºç«‹ä¸¤ä¸ª DBè¿æ¥ï¼Œåˆ†åˆ«ä¸º TestDB01 å’Œ TestDB02ï¼›</p>
<p>  (å¦‚æŠ¥é”™å¯ä»¥ : ä¸‹è½½ mysql-connect jar æ”¾å…¥ lib ç›®å½•ä¸‹)</p>
</li>
<li><p>å»ºç«‹æ­¥éª¤å’Œæ­¥éª¤å…³ç³» <strong>:</strong> [è¾“å…¥] -&gt; [è¡¨è¾“å…¥]<br>  ç‚¹å‡»æ ¸å¿ƒå¯¹è±¡ï¼Œæˆ‘ä»¬ä»æ­¥éª¤æ ‘ä¸­é€‰æ‹©ã€è¡¨è¾“å…¥ã€‘, è¿™æ ·æ‹–æ‹½ä¸€ä¸ª è¡¨è¾“å…¥<br>  ä¹‹åï¼Œæˆ‘ä»¬åŒå‡»è¡¨è¾“å…¥ä¹‹åï¼Œæˆ‘ä»¬è‡ªå·±å¯ä»¥éšæ„å†™ä¸€ä¸ª sql è¯­å¥ï¼Œè¿™ä¸ªè¯­å¥è¡¨ç¤º<br>  å¯ä»¥åœ¨è¿™ä¸ªåº“ä¸­éšæ„ç»„åˆï¼Œåªè¦ sql è¯­å¥æ²¡æœ‰é”™è¯¯å³å¯ï¼Œæˆ‘è¿™é‡Œåªæ˜¯æœ€ç®€å•çš„æŠŠ<br>  TestA ä¸­çš„æ‰€æœ‰æ•°æ®æŸ¥å‡ºæ¥ï¼Œè¯­å¥ä¸º select * from usersAã€‚</p>
</li>
<li><p>å»ºç«‹æ­¥éª¤å’Œæ­¥éª¤å…³ç³» <strong>:</strong> [è¾“å‡º] -&gt; [æ’å…¥/æ›´æ–°]<br>  åŒä¸Šç±»ä¼¼</p>
</li>
<li><p>å»ºç«‹ è¿æ¥ å…³ç³»<br>  ç„¶ååœ¨ã€è¡¨è¾“å…¥ã€‘ä¸ŠåŒæ—¶æŒ‰ä½ shift é”®å’Œé¼ æ ‡å·¦é”®æ»‘å‘ã€æ’å…¥/æ›´æ–°ã€‘ï¼Œè¿™æ ·å»ºç«‹ä¸¤ä¸ªæ­¥éª¤ä¹‹é—´çš„è¿æ¥</p>
</li>
<li><p>è¿è¡Œ<br>  å»ºç«‹å¥½è½¬æ¢ä¹‹åï¼Œæˆ‘ä»¬å¯ä»¥ç›´æ¥è¿è¡Œ(ç‚¹å‡»ä¸Šé¢çš„å°ä¸‰è§’å½¢)è¿™ä¸ªè½¬æ¢ï¼Œæ£€æŸ¥ä¸€ä¸‹æ˜¯å¦æœ‰é”™ï¼Œå¦‚å›¾ï¼Œæœ‰é”™è¯¯éƒ½ä¼šåœ¨ä¸‹é¢çš„æ§åˆ¶å°ä¸Šè¾“å‡ºã€‚</p>
</li>
</ol>
<p><strong>äºŒã€å»ºç«‹ä½œä¸š :</strong></p>
<p>å¦‚æœæˆ‘ä»¬éœ€è¦è®©è¿™ä¸ªè½¬æ¢å®šæ—¶æ‰§è¡Œæ€ä¹ˆåŠå‘¢ï¼Œé‚£ä¹ˆæˆ‘ä»¬éœ€è¦å»ºç«‹ä¸€ä¸ªä½œä¸šjob</p>
<ol>
<li><p>æ–°å»º Job</p>
<p> æ–‡ä»¶-&gt;æ–°å»º-&gt;Job</p>
</li>
<li><p>åœ¨ Job ä¸­ æ·»åŠ  è½¬æ¢</p>
<p> åœ¨æ–°å»ºçš„ä½œä¸šä¸­, æ‰“å¼€åˆšæ‰æ–°å»ºçš„ [ç®€å•è¡¨åŒæ­¥] çš„ transformation</p>
</li>
<li><p>æ·»åŠ  START</p>
<p> é€šç”¨ -&gt; START</p>
<p> ä½¿ START å…³è” -&gt;  [ç®€å•è¡¨åŒæ­¥] Transformation</p>
</li>
<li><p>è¿™æ ·æˆ‘ä»¬åœ¨ã€Startã€‘æ­¥éª¤ä¸Šé¢åŒå‡»</p>
<p> è®¾ç½®æ—¶é—´é—´éš”ã€å®šæ—¶æ‰§è¡Œ ç­‰éœ€è¦çš„å‚æ•°</p>
<p>è¿™æ ·è¿™ä¸ªä½œä¸šå°±åˆ¶å®šå¥½äº†ï¼Œç‚¹å‡»ä¿å­˜ä¹‹åï¼Œå°±å¯ä»¥åœ¨å›¾å½¢åŒ–ç•Œé¢ä¸Šç‚¹å‡»å¼€å§‹æ‰§è¡Œäº†ã€‚</p>
</li>
</ol>
<h2 id="5-win-linux-åå°è¿è¡Œ"><a href="#5-win-linux-åå°è¿è¡Œ" class="headerlink" title="5. win/linux åå°è¿è¡Œ"></a>5. win/linux åå°è¿è¡Œ</h2><h3 id="5-1-win-åå°è¿è¡Œ"><a href="#5-1-win-åå°è¿è¡Œ" class="headerlink" title="5-1 win åå°è¿è¡Œ"></a>5-1 win åå°è¿è¡Œ</h3><p>simpleTableSync.bat</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">@echo off </span><br><span class="line"></span><br><span class="line">if &quot;%1&quot; == &quot;h&quot; goto begin </span><br><span class="line"></span><br><span class="line">mshta vbscript:createobject(&quot;wscript.shell&quot;).run(&quot;%~nx0 h&quot;,0)(window.close)&amp;&amp;exit </span><br><span class="line"></span><br><span class="line">:begin</span><br><span class="line">C:</span><br><span class="line">cd C:\WorkSoft\data-integration</span><br><span class="line">kitchen /file:C:\WorkJob\ETL\tSyncTestJob.kjb /level:Basic&gt;&gt;C:\WorkJob\ETL\MyTest.log /level:Basic&gt;&gt;C:\WorkJob\ETL\MyTest.log</span><br></pre></td></tr></table></figure>
<h3 id="5-2-linux-åå°è¿è¡Œ"><a href="#5-2-linux-åå°è¿è¡Œ" class="headerlink" title="5-2 linux åå°è¿è¡Œ"></a>5-2 linux åå°è¿è¡Œ</h3><p>simpleTableSync.sh</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">#!/bin/bash</span><br><span class="line">#################################################################</span><br><span class="line">#</span><br><span class="line"># @date:   2016.01.28</span><br><span class="line"># @desc:   simpleTableSync @kettle</span><br><span class="line">#</span><br><span class="line">#################################################################</span><br><span class="line"></span><br><span class="line">cd `dirname $0`/.. &amp;&amp; wk_dir=`pwd` &amp;&amp; cd -</span><br><span class="line">source $&#123;wk_dir&#125;/util/env</span><br><span class="line"></span><br><span class="line">echo_ex &quot;$&#123;data_integration&#125;/kitchen.sh -file=$&#123;data_dir&#125;/tSyncTestJob.kjb&quot;</span><br><span class="line">$&#123;data_integration&#125;/kitchen.sh -file=$&#123;data_dir&#125;/tSyncTestJob.kjb</span><br><span class="line">check_success</span><br><span class="line"></span><br><span class="line">exit 0</span><br></pre></td></tr></table></figure>
<p>æ³¨æ„ : kjb ä¸ ktr æœ€å¥½æ”¾åœ¨ä¸€ä¸ªç›®å½•ä¸‹ã€‚</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">[hdfs@node196 simpleTableSync]$ cd data/</span><br><span class="line">[hdfs@node196 data]$ ll</span><br><span class="line">total 24</span><br><span class="line">-rw-rw-r--. 1 hdfs hdfs  6944 Jan 29 18:22 tSyncTestJob.kjb</span><br><span class="line">-rw-rw-r--. 1 hdfs hdfs 13450 Jan 29 18:22 tSyncTestTrans.ktr</span><br></pre></td></tr></table></figure>
<blockquote>
<p>ä» win æ‹·è´è¿‡æ¥çš„æ–‡ä»¶ï¼Œfileformat å¯èƒ½æ˜¯ dos æ ¼å¼ï¼Œå¯ä»¥ :set ff=unix.</p>
</blockquote>
<h2 id="Reference-article"><a href="#Reference-article" class="headerlink" title="Reference article"></a>Reference article</h2><p><a href="http://www.cnblogs.com/limengqiang/archive/2013/01/16/KettleApply2.html#sz" target="_blank" rel="external">kettleç³»åˆ—</a></p>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[Logback å…¥é—¨åˆæ­¥]]></title>
      <url>http://iequa.com/2015/12/27/java-logback-indoor/</url>
      <content type="html"><![CDATA[<p>Logback ä¸€ä¸ªå¼€æºæ—¥å¿—ç»„ä»¶ã€‚<br>Logback å½“å‰åˆ†æˆä¸‰ä¸ªæ¨¡å—ï¼šlogback-core  logback- classic  å’Œ  logback-accessã€‚</p>
<h2 id="1-logback-ç®€ä»‹"><a href="#1-logback-ç®€ä»‹" class="headerlink" title="1. logback ç®€ä»‹"></a>1. logback ç®€ä»‹</h2><p>Cekiåœ¨Javaæ—¥å¿—é¢†åŸŸä¸–ç•ŒçŸ¥åã€‚ä»–åˆ›é€ äº†Log4J ï¼Œè¿™ä¸ªæœ€æ—©çš„Javaæ—¥å¿—æ¡†æ¶å³ä¾¿åœ¨JREå†…ç½®æ—¥å¿—åŠŸèƒ½çš„ç«äº‰ä¸‹ä»ç„¶éå¸¸æµè¡Œã€‚éšåä»–åˆç€æ‰‹å®ç°SLF4J è¿™ä¸ªâ€œç®€å•çš„æ—¥å¿—å‰ç«¯æ¥å£ï¼ˆFaÃ§adeï¼‰â€æ¥æ›¿ä»£Jakarta Commons-Logging ã€‚</p>
<p>Logbackï¼Œä¸€ä¸ªâ€œå¯é ã€é€šç”¨ã€å¿«é€Ÿè€Œåˆçµæ´»çš„Javaæ—¥å¿—æ¡†æ¶â€ã€‚</p>
<p><strong>å®˜ç½‘ç½‘å€ :</strong> <a href="http://logback.qos.ch/" target="_blank" rel="external">http://logback.qos.ch/</a></p>
<h2 id="2-å·¥ç¨‹ä½¿ç”¨éœ€è¦çš„-jar"><a href="#2-å·¥ç¨‹ä½¿ç”¨éœ€è¦çš„-jar" class="headerlink" title="2. å·¥ç¨‹ä½¿ç”¨éœ€è¦çš„ jar"></a>2. å·¥ç¨‹ä½¿ç”¨éœ€è¦çš„ jar</h2><p>è¦åœ¨å·¥ç¨‹é‡Œé¢ä½¿ç”¨ logback , åªéœ€è¦ä»¥ä¸‹jaræ–‡ä»¶ï¼š</p>
<pre><code>(1). slf4j-api.jar       
(2). logback-access.jar
(3). logback-classic.jar
(4). logback-core.jar

logback-core    æ˜¯å…¶å®ƒä¸¤ä¸ªæ¨¡å—çš„åŸºç¡€æ¨¡å—ã€‚   
logback-classic æ˜¯ log4j çš„ä¸€ä¸ª æ”¹è‰¯ç‰ˆæœ¬ã€‚   
logback-access  ä¸Servletå®¹å™¨é›†æˆæä¾›é€šè¿‡Httpæ¥è®¿é—®æ—¥å¿—åŠŸèƒ½
</code></pre><p>logback-classic å®Œæ•´å®ç° SLF4J API ä½¿ä½ å¯ä»¥å¾ˆæ–¹ä¾¿åœ°æ›´æ¢æˆå…¶å®ƒæ—¥å¿—ç³»ç»Ÿå¦‚ log4j æˆ– JDK Loggingã€‚</p>
<h2 id="3-logback-å¸¸ç”¨é…ç½®è¯¦è§£"><a href="#3-logback-å¸¸ç”¨é…ç½®è¯¦è§£" class="headerlink" title="3. logback å¸¸ç”¨é…ç½®è¯¦è§£"></a>3. logback å¸¸ç”¨é…ç½®è¯¦è§£</h2><h3 id="3-1-æ ¹èŠ‚ç‚¹-lt-configuration-gt"><a href="#3-1-æ ¹èŠ‚ç‚¹-lt-configuration-gt" class="headerlink" title="3.1 æ ¹èŠ‚ç‚¹&lt; configuration &gt;"></a>3.1 æ ¹èŠ‚ç‚¹&lt; configuration &gt;</h3><table>
<thead>
<tr>
<th>configuration</th>
<th>è¯´æ˜</th>
</tr>
</thead>
<tbody>
<tr>
<td>scan</td>
<td>å½“æ­¤å±æ€§è®¾ç½®ä¸ºtrueæ—¶ï¼Œé…ç½®æ–‡ä»¶å¦‚æœå‘ç”Ÿæ”¹å˜ï¼Œå°†ä¼šè¢«é‡æ–°åŠ è½½ï¼Œé»˜è®¤å€¼ä¸ºtrueã€‚</td>
</tr>
<tr>
<td>scanPeriod</td>
<td>è®¾ç½®ç›‘æµ‹é…ç½®æ–‡ä»¶æ˜¯å¦æœ‰ä¿®æ”¹çš„æ—¶é—´é—´éš”ï¼Œå¦‚æœæ²¡æœ‰ç»™å‡ºæ—¶é—´å•ä½ï¼Œé»˜è®¤å•ä½æ˜¯æ¯«ç§’ã€‚å½“scanä¸ºtrueæ—¶ï¼Œæ­¤å±æ€§ç”Ÿæ•ˆã€‚é»˜è®¤çš„æ—¶é—´é—´éš”ä¸º1åˆ†é’Ÿã€‚</td>
</tr>
<tr>
<td>debug</td>
<td>å½“æ­¤å±æ€§è®¾ç½®ä¸ºtrueæ—¶ï¼Œå°†æ‰“å°å‡º logback å†…éƒ¨æ—¥å¿—ä¿¡æ¯ï¼Œå®æ—¶æŸ¥çœ‹logbackè¿è¡ŒçŠ¶æ€ã€‚é»˜è®¤å€¼ä¸ºfalseã€‚</td>
</tr>
</tbody>
</table>
<h2 id="4-logback-é…ç½®ç¤ºä¾‹"><a href="#4-logback-é…ç½®ç¤ºä¾‹" class="headerlink" title="4. logback é…ç½®ç¤ºä¾‹"></a>4. logback é…ç½®ç¤ºä¾‹</h2><h3 id="4-1-Myself-resources-logback-xml-example"><a href="#4-1-Myself-resources-logback-xml-example" class="headerlink" title="4.1 Myself resources/logback.xml example"></a>4.1 Myself resources/logback.xml example</h3><figure class="highlight xml"><table><tr><td class="code"><pre><span class="line">&lt;?xml version="1.0" encoding="UTF-8"?&gt;</span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!--å½“æ­¤å±æ€§è®¾ç½®ä¸ºtrueæ—¶ï¼Œå°†æ‰“å°å‡ºlogbackå†…éƒ¨æ—¥å¿—ä¿¡æ¯ï¼Œå®æ—¶æŸ¥çœ‹logbackè¿è¡ŒçŠ¶æ€ã€‚é»˜è®¤å€¼ä¸ºfalseã€‚--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">configuration</span> <span class="attr">scan</span>=<span class="string">"true"</span> <span class="attr">scanPeriod</span>=<span class="string">"3600 seconds"</span> <span class="attr">debug</span>=<span class="string">"false"</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"AppName"</span> <span class="attr">value</span>=<span class="string">"your_app_name"</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"LogParentDir"</span> <span class="attr">value</span>=<span class="string">"/home/www/logs/"</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">contextName</span>&gt;</span>$&#123;AppName&#125;<span class="tag">&lt;/<span class="name">contextName</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">appender</span> <span class="attr">name</span>=<span class="string">"infoAppender"</span> <span class="attr">class</span>=<span class="string">"ch.qos.logback.core.rolling.RollingFileAppender"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">filter</span> <span class="attr">class</span>=<span class="string">"ch.qos.logback.classic.filter.LevelFilter"</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">level</span>&gt;</span>INFO<span class="tag">&lt;/<span class="name">level</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">onMatch</span>&gt;</span>ACCEPT<span class="tag">&lt;/<span class="name">onMatch</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">onMismatch</span>&gt;</span>DENY<span class="tag">&lt;/<span class="name">onMismatch</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">filter</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">rollingPolicy</span> <span class="attr">class</span>=<span class="string">"ch.qos.logback.core.rolling.TimeBasedRollingPolicy"</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">fileNamePattern</span>&gt;</span>$&#123;LogParentDir&#125;/$&#123;AppName&#125;/infoLogFile.%d&#123;yyyy-MM-dd&#125;.log<span class="tag">&lt;/<span class="name">fileNamePattern</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">maxHistory</span>&gt;</span>30<span class="tag">&lt;/<span class="name">maxHistory</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">rollingPolicy</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">encoder</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">pattern</span>&gt;</span>%d&#123;yyyy-MM-dd HH:mm:ss.SSS&#125; [%thread] %-5level %logger&#123;36&#125; - %msg%n<span class="tag">&lt;/<span class="name">pattern</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">encoder</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">appender</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">appender</span> <span class="attr">name</span>=<span class="string">"errorAppender"</span> <span class="attr">class</span>=<span class="string">"ch.qos.logback.core.rolling.RollingFileAppender"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">filter</span> <span class="attr">class</span>=<span class="string">"ch.qos.logback.classic.filter.LevelFilter"</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">level</span>&gt;</span>ERROR<span class="tag">&lt;/<span class="name">level</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">onMatch</span>&gt;</span>ACCEPT<span class="tag">&lt;/<span class="name">onMatch</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">onMismatch</span>&gt;</span>DENY<span class="tag">&lt;/<span class="name">onMismatch</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">filter</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">rollingPolicy</span> <span class="attr">class</span>=<span class="string">"ch.qos.logback.core.rolling.TimeBasedRollingPolicy"</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">fileNamePattern</span>&gt;</span>$&#123;LogParentDir&#125;/$&#123;AppName&#125;/errorLogFile.%d&#123;yyyy-MM-dd&#125;.log<span class="tag">&lt;/<span class="name">fileNamePattern</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">maxHistory</span>&gt;</span>30<span class="tag">&lt;/<span class="name">maxHistory</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">rollingPolicy</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">encoder</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">pattern</span>&gt;</span>%d&#123;yyyy-MM-dd HH:mm:ss.SSS&#125; [%thread] %-5level %logger&#123;36&#125; - %msg%n<span class="tag">&lt;/<span class="name">pattern</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">encoder</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">appender</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">&lt;!--å…¶ä¸­appenderçš„é…ç½®è¡¨ç¤ºæ‰“å°åˆ°æ§åˆ¶å°--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">appender</span> <span class="attr">name</span>=<span class="string">"STDOUT"</span> <span class="attr">class</span>=<span class="string">"ch.qos.logback.core.ConsoleAppender"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">encoder</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">pattern</span>&gt;</span>%d&#123;yyyy-MM-dd HH:mm:ss.SSS&#125; [%thread] %-5level %logger&#123;36&#125; - %msg%n<span class="tag">&lt;/<span class="name">pattern</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">encoder</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">appender</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">logger</span> <span class="attr">name</span>=<span class="string">"com.x.dmt"</span> <span class="attr">level</span>=<span class="string">"ERROR"</span> <span class="attr">additivity</span>=<span class="string">"false"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">appender-ref</span> <span class="attr">ref</span>=<span class="string">"errorAppender"</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">logger</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">&lt;!--è®¾ç½®addtivityä¸ºfalseï¼Œå°†æ­¤logerçš„æ‰“å°ä¿¡æ¯ä¸å‘ä¸Šçº§ä¼ é€’ï¼›--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">logger</span> <span class="attr">name</span>=<span class="string">"com.x.dmt.service"</span> <span class="attr">level</span>=<span class="string">"INFO"</span> <span class="attr">additivity</span>=<span class="string">"fasle"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">appender-ref</span> <span class="attr">ref</span>=<span class="string">"infoAppender"</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">logger</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">&lt;!-- æ³¨æ„: logger åŒåæƒ…å†µ, çº§åˆ«ä½çš„,éœ€è¦æ”¾åœ¨ä¸‹é¢,å¦åˆ™çº§åˆ«é«˜çš„ä¼šè¦†ç›–çº§åˆ«ä½çš„æƒé™,æ—©æ™¨çº§åˆ«ä½çš„æ‰“å°ä¸å‡ºæ¥æ—¥å¿— --&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">configuration</span>&gt;</span></span><br></pre></td></tr></table></figure>
<hr>
<p><a href="http://aub.iteye.com/blog/1101260" target="_blank" rel="external">æ›´å¤šå‚è§ iteye1101260</a></p>
<p><a href="http://logback.qos.ch/" target="_blank" rel="external">å®˜æ–¹ç½‘å€</a></p>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[linux etc/profile and zshrc ç­‰ç¯å¢ƒé…ç½®ç®€ä»‹]]></title>
      <url>http://iequa.com/2014/05/18/ops-linux-bashrc-profile/</url>
      <content type="html"><![CDATA[<table>
<thead>
<tr>
<th>config file</th>
<th>desc</th>
</tr>
</thead>
<tbody>
<tr>
<td>/etc/profileï¼Œ/etc/bashrc</td>
<td>ç³»ç»Ÿå…¨å±€ç¯å¢ƒå˜é‡è®¾å®š</td>
</tr>
<tr>
<td>~/.profileï¼Œ~/.bashrc</td>
<td>ç”¨æˆ·å®¶ç›®å½•ä¸‹çš„ç§æœ‰ç¯å¢ƒå˜é‡è®¾å®š </td>
</tr>
</tbody>
</table>
<h2 id="1-login-env-steps"><a href="#1-login-env-steps" class="headerlink" title="1. login env steps"></a>1. login env steps</h2><blockquote>
<p>ä»¥ä¸‹æ˜¯ ç™»å…¥ç³»ç»Ÿ,ç¯å¢ƒè®¾å®šæ¡£ æµç¨‹</p>
</blockquote>
<table>
<thead>
<tr>
<th>Read step</th>
<th>desc</th>
</tr>
</thead>
<tbody>
<tr>
<td>/etc/profile</td>
<td>/etc/profile.d å’Œ /etc/inputrc ã€‚ ä»/etc/profile.dç›®å½•çš„é…ç½®æ–‡ä»¶æœé›†shellçš„è®¾ç½®</td>
</tr>
<tr>
<td>~/.bash_profile</td>
<td>~/.bash_profileï¼Œå¦‚æ— åˆ™è¯»å– ~/.bash_loginï¼Œå¦‚æ— åˆ™è¯»å– ~/.profile</td>
</tr>
<tr>
<td>~/.bashrc</td>
<td>~/.bashrc (äº¤äº’å¼ non-login æ–¹å¼è¿›å…¥ bash è¿è¡Œçš„)</td>
</tr>
</tbody>
</table>
<h2 id="2-profile-and-bashrc"><a href="#2-profile-and-bashrc" class="headerlink" title="2. ~/.profile and ~/.bashrc"></a>2. ~/.profile and ~/.bashrc</h2><table>
<thead>
<tr>
<th>~/.profile ã€ ~/.bashrc ç›¸åŒç‚¹</th>
</tr>
</thead>
<tbody>
<tr>
<td>éƒ½å…·æœ‰ä¸ªæ€§åŒ–å®šåˆ¶åŠŸèƒ½</td>
<td></td>
</tr>
<tr>
<td>~/.profile å¯ä»¥è®¾å®šæœ¬ç”¨æˆ·ä¸“æœ‰çš„è·¯å¾„ï¼Œç¯å¢ƒå˜é‡ï¼Œç­‰ï¼Œå®ƒåªèƒ½ç™»å…¥çš„æ—¶å€™æ‰§è¡Œä¸€æ¬¡</td>
<td></td>
</tr>
<tr>
<td>~/.bashrc ä¹Ÿæ˜¯æŸç”¨æˆ·ä¸“æœ‰è®¾å®šæ–‡æ¡£ï¼Œå¯ä»¥è®¾å®šè·¯å¾„ï¼Œå‘½ä»¤åˆ«åï¼Œæ¯æ¬¡shell scriptçš„æ‰§è¡Œéƒ½ä¼šä½¿ç”¨å®ƒä¸€æ¬¡</td>
<td></td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr>
<th>bashrc å’Œ profile çš„åŒºåˆ«</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>äº¤äº’å¼æ¨¡å¼</code> : shellç­‰å¾…ä½ çš„è¾“å…¥ï¼Œå¹¶ä¸”æ‰§è¡Œä½ æäº¤çš„å‘½ä»¤ã€‚ shellä¸ç”¨æˆ·è¿›è¡Œäº¤äº’ ç™»å½•ã€æ‰§è¡Œå‘½ä»¤ã€ç­¾é€€ã€shellç»ˆæ­¢</td>
<td></td>
</tr>
<tr>
<td><code>éäº¤äº’å¼æ¨¡å¼</code> : shellä¸ä¸ä½ è¿›è¡Œäº¤äº’ï¼Œæ˜¯è¯»å–å­˜åœ¨æ–‡ä»¶ä¸­çš„å‘½ä»¤,å¹¶ä¸”æ‰§è¡Œå®ƒä»¬ã€‚å½“å®ƒè¯»åˆ°æ–‡ä»¶çš„ç»“å°¾ï¼Œshellç»ˆæ­¢</td>
<td></td>
</tr>
</tbody>
</table>
<blockquote>
<p>~/.bash_profile æ˜¯äº¤äº’å¼ã€login æ–¹å¼è¿›å…¥ bash è¿è¡Œçš„<br>~/.bashrc æ˜¯äº¤äº’å¼ non-login æ–¹å¼è¿›å…¥ bash è¿è¡Œçš„ </p>
</blockquote>
<h2 id="3-mac-osx-zsh"><a href="#3-mac-osx-zsh" class="headerlink" title="3. mac osx zsh"></a>3. mac osx zsh</h2><p>Mac OSX, ä½¿ç”¨ zsh, å‘ç° /etc/profile ä¸ä¼šè¢«æ‰§è¡Œã€‚</p>
<p>~/.zshrc ä¸ /etc/zshenv è¿™ä¸¤ä¸ªæ–‡ä»¶ï¼Œéƒ½æ˜¯æ¯æ¬¡å¯åŠ¨æ–°çš„ terminal éƒ½ä¼šè¢«æ‰§è¡Œ</p>
<h2 id="4-quote-article"><a href="#4-quote-article" class="headerlink" title="4. quote article"></a>4. quote article</h2><blockquote>
<p>æ•´ç†è‡ªç½‘ç»œæ–‡ç« æ±‡æ€»ã€‚ å¦‚ ï¼š <a href="http://blog.chinaunix.net/uid-26435987-id-3400127.html" target="_blank" rel="external">http://blog.chinaunix.net/uid-26435987-id-3400127.html</a></p>
</blockquote>
<h2 id="5-my-zshrc"><a href="#5-my-zshrc" class="headerlink" title="5. my zshrc"></a>5. my zshrc</h2><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># Path to your oh-my-zsh installation.</span></span><br><span class="line"><span class="built_in">export</span> ZSH=/Users/hp/.oh-my-zsh</span><br><span class="line"></span><br><span class="line"><span class="comment"># Set name of the theme to load.</span></span><br><span class="line"><span class="comment"># Look in ~/.oh-my-zsh/themes/</span></span><br><span class="line"><span class="comment"># Optionally, if you set this to "random", it'll load a random theme each</span></span><br><span class="line"><span class="comment"># time that oh-my-zsh is loaded.</span></span><br><span class="line">ZSH_THEME=<span class="string">"robbyrussell"</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Uncomment the following line to use case-sensitive completion.</span></span><br><span class="line"><span class="comment"># CASE_SENSITIVE="true"</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Uncomment the following line to disable bi-weekly auto-update checks.</span></span><br><span class="line"><span class="comment"># DISABLE_AUTO_UPDATE="true"</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Uncomment the following line to change how often to auto-update (in days).</span></span><br><span class="line"><span class="comment"># export UPDATE_ZSH_DAYS=13</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Uncomment the following line to disable colors in ls.</span></span><br><span class="line"><span class="comment"># DISABLE_LS_COLORS="true"</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Uncomment the following line to disable auto-setting terminal title.</span></span><br><span class="line"><span class="comment"># DISABLE_AUTO_TITLE="true"</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Uncomment the following line to enable command auto-correction.</span></span><br><span class="line"><span class="comment"># ENABLE_CORRECTION="true"</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Uncomment the following line to display red dots whilst waiting for completion.</span></span><br><span class="line"><span class="comment"># COMPLETION_WAITING_DOTS="true"</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Uncomment the following line if you want to disable marking untracked files</span></span><br><span class="line"><span class="comment"># under VCS as dirty. This makes repository status check for large repositories</span></span><br><span class="line"><span class="comment"># much, much faster.</span></span><br><span class="line"><span class="comment"># DISABLE_UNTRACKED_FILES_DIRTY="true"</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Uncomment the following line if you want to change the command execution time</span></span><br><span class="line"><span class="comment"># stamp shown in the history command output.</span></span><br><span class="line"><span class="comment"># The optional three formats: "mm/dd/yyyy"|"dd.mm.yyyy"|"yyyy-mm-dd"</span></span><br><span class="line"><span class="comment"># HIST_STAMPS="mm/dd/yyyy"</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Would you like to use another custom folder than $ZSH/custom?</span></span><br><span class="line"><span class="comment"># ZSH_CUSTOM=/path/to/new-custom-folder</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Which plugins would you like to load? (plugins can be found in ~/.oh-my-zsh/plugins/*)</span></span><br><span class="line"><span class="comment"># Custom plugins may be added to ~/.oh-my-zsh/custom/plugins/</span></span><br><span class="line"><span class="comment"># Example format: plugins=(rails git textmate ruby lighthouse)</span></span><br><span class="line"><span class="comment"># Add wisely, as too many plugins slow down shell startup.</span></span><br><span class="line">plugins=(git)</span><br><span class="line"></span><br><span class="line"><span class="comment"># User configuration</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># export PATH="/usr/share/java/apache-maven/bin:/Library/Java/JavaVirtualMachines/jdk1.8.0_25.jdk/Contents/Home/bin:/usr/local/opt/coreutils/libexec/gnubin:/usr/bin:/bin:/usr/sbin:/sbin:/usr/local/bin:/Users/hp/bin"</span></span><br><span class="line"><span class="comment"># export PATH="/usr/share/java/apache-maven/bin:/usr/local/opt/coreutils/libexec/gnubin:/usr/bin:/bin:/usr/sbin:/sbin:/usr/local/bin:/Users/hp/bin"</span></span><br><span class="line"><span class="comment"># export MANPATH="/usr/local/man:$MANPATH"</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">source</span> <span class="variable">$ZSH</span>/oh-my-zsh.sh</span><br><span class="line"></span><br><span class="line"><span class="comment"># You may need to manually set your language environment</span></span><br><span class="line"><span class="comment"># export LANG=en_US.UTF-8</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Preferred editor for local and remote sessions</span></span><br><span class="line"><span class="comment"># if [[ -n $SSH_CONNECTION ]]; then</span></span><br><span class="line"><span class="comment">#   export EDITOR='vim'</span></span><br><span class="line"><span class="comment"># else</span></span><br><span class="line"><span class="comment">#   export EDITOR='mvim'</span></span><br><span class="line"><span class="comment"># fi</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Compilation flags</span></span><br><span class="line"><span class="comment"># export ARCHFLAGS="-arch x86_64"</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># ssh</span></span><br><span class="line"><span class="comment"># export SSH_KEY_PATH="~/.ssh/dsa_id"</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Set personal aliases, overriding those provided by oh-my-zsh libs,</span></span><br><span class="line"><span class="comment"># plugins, and themes. Aliases can be placed here, though oh-my-zsh</span></span><br><span class="line"><span class="comment"># users are encouraged to define aliases within the ZSH_CUSTOM folder.</span></span><br><span class="line"><span class="comment"># For a full list of active aliases, run `alias`.</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># Example aliases</span></span><br><span class="line"><span class="comment"># alias zshconfig="mate ~/.zshrc"</span></span><br><span class="line"><span class="comment"># alias ohmyzsh="mate ~/.oh-my-zsh"</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#### bash_profile at robby_chan ####</span></span><br><span class="line"><span class="comment">###################################################</span></span><br><span class="line"><span class="keyword">if</span> brew list | grep coreutils &gt; /dev/null ; <span class="keyword">then</span></span><br><span class="line">  PATH=<span class="string">"<span class="variable">$(brew --prefix coreutils)</span>/libexec/gnubin:<span class="variable">$PATH</span>"</span></span><br><span class="line">  <span class="built_in">alias</span> ls=<span class="string">'ls -F --show-control-chars --color=auto'</span></span><br><span class="line">  <span class="built_in">eval</span> `gdircolors -b <span class="variable">$HOME</span>/.dir_colors`</span><br><span class="line"><span class="keyword">fi</span></span><br><span class="line"><span class="built_in">alias</span> grep=<span class="string">'grep --color'</span></span><br><span class="line"><span class="built_in">alias</span> egrep=<span class="string">'egrep --color'</span></span><br><span class="line"><span class="built_in">alias</span> fgrep=<span class="string">'fgrep --color'</span></span><br><span class="line"></span><br><span class="line"><span class="comment">###################################################</span></span><br><span class="line"><span class="built_in">alias</span> x=<span class="string">'sh $xe'</span></span><br><span class="line"><span class="built_in">alias</span> x0=<span class="string">'sh $xe0'</span></span><br><span class="line"><span class="built_in">alias</span> x8=<span class="string">'sh $xe8'</span></span><br><span class="line"><span class="comment">#alias ct='sh $centos01_libin'</span></span><br><span class="line"><span class="comment">#alias cth='sh $centos01_hp'</span></span><br><span class="line"><span class="comment">#alias ll='ls -l'</span></span><br><span class="line">xe=/usr/<span class="built_in">local</span>/xSoft/comany_soft_tool/libin196.sh</span><br><span class="line">xe0=/usr/<span class="built_in">local</span>/xSoft/comany_soft_tool/libin190.sh</span><br><span class="line">xe8=/usr/<span class="built_in">local</span>/xSoft/comany_soft_tool/libin198.sh</span><br><span class="line">centos01_libin=/usr/<span class="built_in">local</span>/xSoft/comany_soft_tool/centos01_libin.sh</span><br><span class="line">centos01_hp=/usr/<span class="built_in">local</span>/xSoft/comany_soft_tool/centos01_hp.sh</span><br><span class="line"><span class="comment">#.bash_profile</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">#Get the aliases and functions</span></span><br><span class="line"><span class="keyword">if</span> [ <span class="_">-f</span> ~/.bashrc ]; <span class="keyword">then</span></span><br><span class="line">    <span class="built_in">source</span> ~/.bashrc</span><br><span class="line"><span class="keyword">fi</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#PS1="[\u@\h \W]\$ "</span></span><br><span class="line"><span class="comment">#export JAVA_HOME=`/usr/libexec/java_home`</span></span><br><span class="line"><span class="comment">#JAVA_HOME=/System/Library/Java/JavaVirtualMachines/1.6.0.jdk/Contents/Home</span></span><br><span class="line"><span class="comment">#JAVA_HOME=/System/Library/Java/JavaVirtualMachines/jdk1.7.0_79.jdk/Contents/Home</span></span><br><span class="line"></span><br><span class="line">MS=/usr/<span class="built_in">local</span>/xSoft</span><br><span class="line"></span><br><span class="line"><span class="comment">### JAVA ###</span></span><br><span class="line">JAVA_HOME=/Library/Java/JavaVirtualMachines/jdk1.7.0_79.jdk/Contents/Home</span><br><span class="line">JAVA_BIN=<span class="variable">$JAVA_HOME</span>/bin</span><br><span class="line">PATH=<span class="variable">$JAVA_HOME</span>/bin:<span class="variable">$PATH</span>    </span><br><span class="line">CLASSPATH=.:<span class="variable">$JAVA_HOME</span>/jre/lib/rt.jar:<span class="variable">$JAVA_HOME</span>/jre/lib/dt.jar:<span class="variable">$JAVA_HOME</span>/jre/lib/tools.jar</span><br><span class="line"><span class="built_in">export</span> JAVA_HOME JAVA_BIN PATH CLASSPATH</span><br><span class="line"></span><br><span class="line"><span class="comment">### Maven ###</span></span><br><span class="line">M2_HOME=/usr/<span class="built_in">local</span>/xSoft/apache-maven</span><br><span class="line">MAVEN_HOME=<span class="variable">$M2_HOME</span></span><br><span class="line">M3_HOME=<span class="variable">$M2_HOME</span></span><br><span class="line">PATH=<span class="variable">$M3_HOME</span>/bin:<span class="variable">$PATH</span>    </span><br><span class="line"><span class="built_in">export</span> MAVEN_HOME M2_HOME PATH</span><br><span class="line"><span class="comment">#MAVEN_OPTS=-Xms128m -Xmx512m</span></span><br><span class="line"></span><br><span class="line"><span class="comment">### Scala ###</span></span><br><span class="line"><span class="comment">#export SCALA_HOME=/usr/local/xSoft/scala</span></span><br><span class="line"><span class="built_in">export</span> SCALA_HOME=/usr/<span class="built_in">local</span>/Cellar/scala/2.11.5</span><br><span class="line"><span class="built_in">export</span> PATH=<span class="variable">$&#123;SCALA_HOME&#125;</span>/bin:<span class="variable">$PATH</span></span><br><span class="line"></span><br><span class="line"><span class="comment">### Spark ###</span></span><br><span class="line"><span class="built_in">export</span> SPARK_HOME=/usr/<span class="built_in">local</span>/xSoft/spark</span><br><span class="line"></span><br><span class="line"><span class="comment">### Tomcat ###</span></span><br><span class="line">CATALINA_HOME=/usr/<span class="built_in">local</span>/xSoft/apache-tomcat</span><br><span class="line">PATH=<span class="variable">$CATALINA_HOME</span>/bin:<span class="variable">$PATH</span></span><br><span class="line"><span class="built_in">export</span> CATALINA_HOME PATH</span><br><span class="line"></span><br><span class="line"><span class="comment">## Jetty ##</span></span><br><span class="line">JETTY_HOME=/usr/<span class="built_in">local</span>/xSoft/jetty8</span><br><span class="line"></span><br><span class="line"><span class="comment">### ElasticSearch ###</span></span><br><span class="line"><span class="built_in">export</span> ES_HOME=/usr/<span class="built_in">local</span>/xSoft/elasticsearch</span><br><span class="line"></span><br><span class="line"><span class="comment">### HADOOP ###</span></span><br><span class="line"><span class="built_in">export</span> HADOOP_INSTALL=/usr/<span class="built_in">local</span>/hadoop</span><br><span class="line"><span class="built_in">export</span> PATH=<span class="variable">$PATH</span>:<span class="variable">$HADOOP_INSTALL</span>/bin</span><br><span class="line"><span class="built_in">export</span> PATH=<span class="variable">$PATH</span>:<span class="variable">$HADOOP_INSTALL</span>/sbin</span><br><span class="line"><span class="built_in">export</span> HADOOP_MAPRED_HOME=<span class="variable">$HADOOP_INSTALL</span></span><br><span class="line"><span class="built_in">export</span> HADOOP_COMMON_HOME=<span class="variable">$HADOOP_INSTALL</span></span><br><span class="line"><span class="built_in">export</span> HADOOP_HDFS_HOME=<span class="variable">$HADOOP_INSTALL</span></span><br><span class="line"><span class="built_in">export</span> YARN_HOME=<span class="variable">$HADOOP_INSTALL</span></span><br><span class="line"></span><br><span class="line"><span class="comment">### Python</span></span><br><span class="line"><span class="comment">#export PATH=/System/Library/Frameworks/Python.framework/Versions/3.5/bin:$&#123;PATH&#125;</span></span><br><span class="line"><span class="built_in">export</span> PATH=/System/Library/Frameworks/Python.framework/Versions/2.7/bin:<span class="variable">$&#123;PATH&#125;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">#################################################</span></span><br><span class="line"><span class="comment"># User specific environment and startup programs</span></span><br><span class="line">PATH=<span class="variable">$PATH</span>:<span class="variable">$HOME</span>/bin</span><br><span class="line"><span class="built_in">export</span> PATH=<span class="string">"/usr/local/bin:/usr/local/sbib:<span class="variable">$PATH</span>"</span></span><br><span class="line"><span class="built_in">export</span> PATH</span><br><span class="line"></span><br><span class="line"><span class="built_in">export</span> LC_ALL=en_US.UTF-8</span><br><span class="line"></span><br><span class="line"><span class="built_in">export</span> NVM_DIR=<span class="string">"/Users/hp/.nvm"</span></span><br><span class="line">[ <span class="_">-s</span> <span class="string">"<span class="variable">$NVM_DIR</span>/nvm.sh"</span> ] &amp;&amp; . <span class="string">"<span class="variable">$NVM_DIR</span>/nvm.sh"</span>  <span class="comment"># This loads nvm</span></span><br></pre></td></tr></table></figure>]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[Qunar Trainee Summary]]></title>
      <url>http://iequa.com/2014/05/07/society-trainee/</url>
      <content type="html"><![CDATA[<p>  æ—¶é—´è¿‡å¾—çœŸå¿«ï¼Œè½¬çœ¼é—´ï¼Œæˆ‘åœ¨å»å“ªå„¿ç½‘å®ä¹ çš„è¿™æ®µæ—¶é—´é©¬ä¸Šå°±è¦è¿‡å»äº†ï¼Œåœ¨è¿™æ®µå®ä¹ çš„æ—¥å­çœŸçš„å­¦ä¼šäº†å¾ˆå¤šï¼Œç»è¿‡è¿™æ¬¡åŸ¹è®­ï¼Œæˆ‘å­¦ä¼šäº†javaï¼Œäº†è§£äº†guavaï¼Œå­¦ä¹ äº†SVNï¼Œ gitç‰ˆæœ¬ç®¡ç†å·¥å…·ï¼Œ Mavené¡¹ç›®ç®¡ç†åŠè‡ªåŠ¨æ„å»ºå·¥å…·ï¼Œ SpringMVCçš„å¼€å‘ï¼Œmybatis çš„ä½¿ç”¨ï¼ŒServletï¼Œ jspï¼Œ htmlï¼Œ http çš„åˆæ­¥äº†è§£ï¼ŒåŠ¨æ€ä»£ç†ä¸AOPï¼Œ å•å…ƒæµ‹è¯•ä¸è‡ªåŠ¨åŒ–æµ‹è¯•ï¼Œæ•°æ®åº“å»ºè¡¨è§„èŒƒï¼Œ Linuxç³»ç»Ÿçš„ä½¿ç”¨ç­‰ç­‰ç­‰ç­‰ï¼Œç†Ÿæ‚‰äº†å…¬å¸å†…éƒ¨çš„å¼€å‘æ¡†æ¶ï¼Œäº†è§£å…¬å¸å¼€å‘è§„èŒƒï¼Œé€‚åº”å…¬å¸æ–‡åŒ–ï¼Œç¯å¢ƒã€‚</p>
<p>  åœ¨è¿™äº›å¤©å®ä¹ çš„æ—¥å­ï¼Œæœ€åˆæœ¬æƒ³ä¸èµ° java è·¯çº¿çš„ï¼Œè§‰å¾—å°è£…å¥½ä¸¥é‡ï¼Œä½ æ ¹æœ¬ä¸çŸ¥é“é‚£ä¸ªåŒ…æ˜¯æ€ä¹ˆå›äº‹ï¼Œå°±å¯ä»¥æ‹¿è¿‡æ¥ä¸€ç”¨ï¼Œå°±å‡ºæ¥äº†ä¸€ä¸ªçœ‹èµ·æ¥æ¯”è¾ƒé«˜å¤§ä¸Šçš„ä½œå“ï¼Œå­¦å¾ˆçŸ­çš„æ—¶é—´å°±å¯ä»¥æå‡ºä¸ªä¸œè¥¿æ¥ï¼Œè§‰å¾—æ²¡æœ‰Cã€C++æˆ–è€…æ˜¯ç®—æ³•ï¼Œæ¥å¾—é‚£ä¹ˆçˆ½ã€‚ä½†æ˜¯ç»è¿‡åŸ¹è®­åï¼Œæˆ‘æ‰å‘ç°äº†javaçš„å¯çˆ±ä¹‹å¤„ä¸å¼ºå¤§ï¼Œä»¥å‰å¯¹javaæœ‰è¯¯è§£ï¼Œå®Œå…¨æ˜¯è‡ªå·±çš„æ— çŸ¥ä¸ä¸æ‡‚ï¼Œé‡åˆ°äº†é…’åº—äº‹ä¸šéƒ¨çš„ æ€é›¨å¤§ç¥ï¼Œæ›´æ˜¯æ„Ÿå—åˆ°äº†å­¦ä¹ javaè¿™æ–¹é¢çš„çŸ¥è¯†ï¼Œå¯ä»¥å¾ˆç‰›å¾ˆç‰›ï¼Œå­¦ä»»ä½•ä¸€é—¨æŠ€æœ¯éƒ½å…·æœ‰æ›´ä¸ºå¹¿é˜”çš„ç©ºé—´ï¼Œå®ä¹ åˆæœŸï¼Œç”±äºæˆ‘å¯¹javaçŸ¥è¯†ä¹‹å‰æ˜¯æ²¡æœ‰ä»»ä½•ç»éªŒçš„ï¼Œæ‰€ä»¥é¢å¯¹ä¸¥æ ¼å¿«é€Ÿæ­£è§„çš„åŸ¹è®­ï¼ŒçœŸçš„æ„Ÿåˆ°å‹åŠ›å¾ˆå¤§ï¼Œå¹¸å¥½å°ç»„çš„åˆ†äº«è¿˜æœ‰åšä½œä¸šé‡åˆ°é—®é¢˜ï¼Œç»„å†…å¤–åŒå­¦çš„å¸®åŠ©ï¼Œæ‰å¯ä»¥è·Ÿä¸‹æ¥ï¼Œç”±äºåˆå­¦ï¼ŒèŠ‚å¥å¾ˆå¿«ï¼Œé‚£ä¹ˆå¤šçŸ¥è¯†ï¼Œåœ¨ä¸åˆ°2ä¸ªæœˆçš„æ—¶é—´å†…å…¨éƒ¨å­¦ç†Ÿæ˜¯å¾ˆéš¾åšåˆ°çš„ï¼Œæˆ‘ç°åœ¨å¯¹ SpringMVC è¿˜æœ‰ä¸€äº› Guavaï¼Œwebçš„çŸ¥è¯†ï¼Œè¿˜ä¸æ˜¯å¾ˆç†Ÿç»ƒï¼Œä»¥åä¸€å®šè¦æ‰¾æ—¶é—´åœ¨è‡ªå·±è¡¥ä¹ ä¸‹è¿™æ–¹é¢çš„çŸ¥è¯†ã€‚å¹¶æŠŠè‡ªå·±åœ¨å…¬å¸å­¦åˆ°çš„ä¸€äº›çŸ¥è¯†ï¼Œä»‹ç»ç»™å­¦æ ¡çš„ä¸€äº›è¿˜åœ¨è¿·èŒ«æ‡µæ‡‚çš„å­¦å¦¹ï¼Œå­¦å¼Ÿä»¬ã€‚åœ¨å…¬å¸ä¸¤ä¸ªå¤šæœˆçš„å®ä¹ ç”Ÿæ´»ï¼Œå¯¹æˆ‘æ¥è¯´ä¸ä»…ä»…æ˜¯æŠ€æœ¯å’Œèƒ½åŠ›ä¸Šçš„æå‡ï¼Œæ›´å¤šçš„è¿˜æœ‰æ€æƒ³å’Œæ€åº¦çš„è½¬å˜ã€‚</p>
<p>  æœ€åï¼Œé¦–å…ˆï¼Œè¦æ„Ÿè°¢å…¬å¸ç»™æˆ‘ä»¬åº”å±Šç”Ÿæä¾›çš„è¿™ä¸ªåŸ¹è®­å¹³å°ï¼Œå¯ä»¥è®©æˆ‘å­¦åˆ°è¿™ä¹ˆå¤šçš„ä¸“ä¸šçŸ¥è¯†ï¼Œè®¤è¯†åˆ°æ›´å¤šçš„å¿—åŒé“åˆçš„æœ‹å‹ï¼›æ„Ÿè°¢ä¸«ä¸«å§ï¼Œè¾›è‹¦æ“åŠ³çš„å°½å¯èƒ½ç»™æˆ‘ä»¬æä¾›æ¬¢æ„‰çš„å­¦ä¹ ç¯å¢ƒï¼Œä»¥åŠé‚€è¯·å¾ˆå¤šçš„ä¼˜ç§€è®²å¸ˆï¼›æ„Ÿè°¢å…¨ä½“ç»™æˆ‘ä»¬è®²è¯¾çš„è®²å¸ˆä»¬ï¼Œæ„Ÿè°¢æˆ‘çš„å›¢é˜Ÿä»¥åŠå‘¨è¾¹çš„åŒäº‹ï¼Œåœ¨å·¥ä½œå­¦ä¹ çš„ç¹å¿™ä¹‹ä½™ï¼Œè¿˜å¯ä»¥å¸¦æ¥å„ç§å„æ ·çš„æ¬¢å£°ç¬‘è¯­ï¼Œæ„Ÿè°¢è€ä½•ä¸davidï¼Œè®©æˆ‘å­¦åˆ°äº†ä¸¥è°¨ï¼Œè´Ÿè´£ï¼Œè®¤çœŸçš„å·¥ä½œæ€åº¦ä¸ç”Ÿæ´»æ€åº¦ã€‚</p>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[Java SE Basic Introduce]]></title>
      <url>http://iequa.com/2013/02/02/java-se-introduce/</url>
      <content type="html"><![CDATA[<ul>
<li>Java data type</li>
<li>OO</li>
<li>Exception</li>
<li>Java Array  </li>
<li>Java å¸¸ç”¨ç±» </li>
<li>Java å®¹å™¨ç±»</li>
<li>Collection / Generic</li>
<li>Java I/O Stream</li>
<li>Java Thread</li>
<li>Java TCP/UDP, socket</li>
</ul>
<h2 id="1-Java-æ¦‚è¿°"><a href="#1-Java-æ¦‚è¿°" class="headerlink" title="1. Java æ¦‚è¿°"></a>1. Java æ¦‚è¿°</h2><ul>
<li>Java è¿è¡Œæœºåˆ¶</li>
<li>JDK &amp; JRE</li>
<li>Java env install</li>
<li>Java Basic Content</li>
</ul>
<blockquote>
<p>conclude : è®¡ç®—æœºè¯­è¨€æœç€äººç±»æ˜“äºç†è§£çš„æ–¹å‘å‘å±•  </p>
</blockquote>
<h2 id="2-Java-ç‰¹ç‚¹"><a href="#2-Java-ç‰¹ç‚¹" class="headerlink" title="2. Java ç‰¹ç‚¹"></a>2. Java ç‰¹ç‚¹</h2><ul>
<li>ä¸€ç§ OO è¯­è¨€  </li>
<li>ä¸€ç§å¹³å°æ— å…³çš„è¯­è¨€, æä¾›ç¨‹åºè¿è¡Œçš„è§£é‡Šç¯å¢ƒ  </li>
<li>ä¸€ç§å¥å£®çš„è¯­è¨€, å¸æ”¶äº†C/C++è¯­è¨€çš„ä¼˜ç‚¹ï¼Œ ä½†å»æ‰äº†å…¶å½±å“ç¨‹åºå¥å£®æ€§çš„éƒ¨åˆ†(å¦‚: æŒ‡é’ˆï¼Œ å†…å­˜çš„ç”³è¯·ä¸é‡Šæ”¾ç­‰)ã€‚  </li>
</ul>
<h2 id="3-Javaç¨‹åºè¿è¡Œæœºåˆ¶"><a href="#3-Javaç¨‹åºè¿è¡Œæœºåˆ¶" class="headerlink" title="3. Javaç¨‹åºè¿è¡Œæœºåˆ¶"></a>3. Javaç¨‹åºè¿è¡Œæœºåˆ¶</h2><p><strong>Java 2ç§æ ¸å¿ƒæœºåˆ¶</strong></p>
<ul>
<li>Java Virtual Machine</li>
<li>Garbage collection</li>
</ul>
<blockquote>
<p>JVM å¯ç†è§£æˆä¸€ä¸ªä»¥å­—èŠ‚ç ä¸ºæœºå™¨æŒ‡ä»¤çš„CPU<br>JVM æœºåˆ¶å±è”½äº†åº•å±‚è¿è¡Œå¹³å°çš„å·®åˆ«, å®ç°äº†â€ä¸€æ¬¡ç¼–è¯‘, éšå¤„è¿è¡Œâ€ã€‚</p>
<p>x.java â€“ç¼–è¯‘â€“&gt; x.class â€“æ‰§è¡Œâ€“&gt; JVM</p>
<p>Javaè¯­è¨€æ¶ˆé™¤äº†ç¨‹åºå‘˜å›æ”¶æ— ç”¨å†…å­˜ç©ºé—´çš„è´£ä»»;<br>å®ƒæä¾›ä¸€ç§ç³»ç»Ÿçº§çº¿ç¨‹è·Ÿè¸ªå­˜å‚¨ç©ºé—´çš„åˆ†é…æƒ…å†µï¼Œå¹¶åœ¨JVMçš„ç©ºé—²æ—¶, æ£€æŸ¥å¹¶é‡Šæ”¾é‚£äº›å¯è¢«é‡Šæ”¾çš„å­˜å‚¨å™¨ç©ºé—´ã€‚  </p>
</blockquote>
<h2 id="4-JDK-amp-JRE-amp-env-install"><a href="#4-JDK-amp-JRE-amp-env-install" class="headerlink" title="4. JDK &amp; JRE &amp; env install"></a>4. JDK &amp; JRE &amp; env install</h2><ul>
<li>Software Development Kit (è½¯ä»¶å¼€å‘åŒ…)  å¼€å‘éœ€è¦ JDK  </li>
<li>Java Runtime Environment  ç”¨æˆ·åªéœ€ JRE  </li>
</ul>
<p><code>/etc/profile</code> or  <code>.zshrc</code></p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">### JAVA ###</span><br><span class="line">JAVA_HOME=/Library/Java/JavaVirtualMachines/jdk1.7.0_79.jdk/Contents/Home</span><br><span class="line">JAVA_BIN=$JAVA_HOME/bin</span><br><span class="line">PATH=$JAVA_HOME/bin:$PATH</span><br><span class="line">CLASSPATH=.:$JAVA_HOME/jre/lib/rt.jar:$JAVA_HOME/jre/lib/dt.jar:$JAVA_HOME/jre/lib/tools.jar</span><br><span class="line">export JAVA_HOME JAVA_BIN PATH CLASSPATH</span><br></pre></td></tr></table></figure>
<blockquote>
<p>classpath : javaåœ¨ç¼–è¯‘å’Œè¿è¡Œæ—¶è¦æ‰¾çš„classæ‰€åœ¨çš„è·¯å¾„<br>å»ºè®®ä½ çš„ JDK è£…åœ¨ä¸å¸¦ç©ºæ ¼çš„ç›®å½•é‡Œé¢</p>
</blockquote>
<h2 id="5-å‘½åè§„åˆ™"><a href="#5-å‘½åè§„åˆ™" class="headerlink" title="5. å‘½åè§„åˆ™"></a>5. å‘½åè§„åˆ™</h2><ol>
<li>ç±»åé¦–å­—æ¯å¤§å†™  </li>
<li>å˜é‡åå’Œæ–¹æ³•åçš„é¦–å­—æ¯å°å†™  </li>
<li>è¿ç”¨é©¼å³°æ ‡è¯†   </li>
</ol>
<p>HelloWorld.java</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">public class HelloWorld &#123;</span><br><span class="line">  public static void main(String[] args) &#123;</span><br><span class="line">    System.out.println(&quot;Hello Java.&quot;);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">/**</span><br><span class="line">  * è¿™é‡Œæ˜¯æ³¨é‡Š</span><br><span class="line">  */</span><br></pre></td></tr></table></figure>
<blockquote>
<p>ä¸€ä¸ªæºæ–‡ä»¶ä¸­æœ€å¤šåªèƒ½æœ‰ä¸€ä¸ªpublicç±». å…¶å®ƒç±»çš„ä¸ªæ•°ä¸é™ï¼Œå¦‚æœæºæ–‡ä»¶ æ–‡ä»¶åŒ…å«ä¸€ä¸ªpublic class å®ƒå¿…éœ€æŒ‰è¯¥ class-name å‘½å  </p>
</blockquote>
<h2 id="6-Java-ç¨‹åºè®¾è®¡"><a href="#6-Java-ç¨‹åºè®¾è®¡" class="headerlink" title="6. Java ç¨‹åºè®¾è®¡"></a>6. Java ç¨‹åºè®¾è®¡</h2><p><strong>data type</strong></p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">                                      -- æ•´æ•°ç±»å‹ (byte, short, int, long)  </span><br><span class="line">                          -- æ•°å€¼å‹ --     </span><br><span class="line">                         |            -- æµ®ç‚¹ç±»å‹ (float, double)  </span><br><span class="line">           --åŸºæœ¬æ•°æ®ç±»å‹  -- å­—ç¬¦å‹ (char)  </span><br><span class="line">          |              |  </span><br><span class="line">          |               -- å¸ƒå°”å‹ (boolean)  </span><br><span class="line">æ•°æ®ç±»å‹ --                           </span><br><span class="line">          |               -- ç±» (class)  </span><br><span class="line">          |              |  </span><br><span class="line">           --å¼•ç”¨æ•°æ®ç±»å‹  -- æ¥å£ (interface)  </span><br><span class="line">                         |  </span><br><span class="line">                          -- æ•°ç»„ (array)</span><br></pre></td></tr></table></figure>
<hr>
<blockquote>
<p>java ä¸­å®šä¹‰äº† <strong>4ç±» 8ç§</strong> åŸºæœ¬æ•°æ®ç±»å‹<br>boolean ç±»å‹åªå…è®¸å–å€¼ true / false , ä¸å¯ä»¥ç”¨ 0 æˆ– é0 æ›¿ä»£ã€‚<br>char é‡‡ç”¨ Unicode ç¼–ç  (å…¨çƒè¯­è¨€ç»Ÿä¸€ç¼–ç ), æ¯ä¸ªå­—ç¬¦å ä¸¤ä¸ªå­—èŠ‚  </p>
</blockquote>
<h2 id="7-Array-amp-Method"><a href="#7-Array-amp-Method" class="headerlink" title="7. Array &amp; Method"></a>7. Array &amp; Method</h2><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">public class Test &#123;  </span><br><span class="line">    public static void main(String[] args) &#123;  </span><br><span class="line">        Date[] days;  </span><br><span class="line">        days = new Date[3];  </span><br><span class="line">        for (int i = 0; i &lt; 3; i++) &#123;  </span><br><span class="line">            days[i] = new Date(2004, 4, i+1);  </span><br><span class="line">        &#125;</span><br><span class="line">        // </span><br><span class="line">        int[] a = &#123;1, 2, 3, 4, 5, 6, 7&#125;;  </span><br><span class="line">        for (int i = 0; i &lt; a.length; i++) &#123;  </span><br><span class="line">            System.out.print(a[i] + &quot; &quot;);  </span><br><span class="line">        &#125;  </span><br><span class="line">    &#125;  </span><br><span class="line">&#125;  </span><br><span class="line">class Date &#123;  </span><br><span class="line">    int year;  </span><br><span class="line">    int month;  </span><br><span class="line">    int day;  </span><br><span class="line">    Date(int y, int m, int d) &#123;  </span><br><span class="line">        year = y;  </span><br><span class="line">        month = m;  </span><br><span class="line">        day = d;  </span><br><span class="line">    &#125;  </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><a href="http://blog.csdn.net/robbyo/article/details/16942921" target="_blank" rel="external">é¢å‘è¿‡ç¨‹-çº¦ç‘Ÿå¤«ç¯</a></p>
<p><a href="http://blog.csdn.net/robbyo/article/details/16967715" target="_blank" rel="external">é¢å‘å¯¹è±¡-çº¦ç‘Ÿå¤«ç¯</a></p>
]]></content>
    </entry>
    
  
  
</search>
